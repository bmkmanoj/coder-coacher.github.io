<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ggplot2 tutorial: Density Plots | Coder Coacher - Coaching Coders</title><meta content="ggplot2 tutorial: Density Plots - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DataCamp/">DataCamp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ggplot2 tutorial: Density Plots</b></h2><h5 class="post__date">2016-11-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/R6_LR-f6Tt4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">density plots are an excellent way of
visualizing the distribution of
univariate data sense there are less
competent histograms and somewhat poorly
understood but actually they're quite
intuitive if you've ever looked at a
statistics book you've already seen
plenty of density plots in the form of
probability density functions so-called
PDFs things like the normal the T the
chi-squared and F distributions among
many others are simply theoretical PDFs
here we're going to make an empirical
PDF so instead of making a density plot
based on a formula is going to be based
on our data but the purpose is basically
the same to do this we need to use a
kernel density estimator the so-called
KDE Everett and hot horn gave a
definition which explains this pretty
well they describe the KDE as a sum of
bumps placed at the observations the
kernel function determines the shape of
the bumps while the window width H
determines their width to understand
this we'll focus on a simple data set
that ever danhart horn used as an
example the data set consists of 8
values which are shown here as green
vertical lines this was done using the
rug genome which produces a strip chart
in the margins of two-dimensional plots
the KDE calculates a normal distribution
for each value these are the bumps
placed at each observation that ever in
Hawthorne referred to to obtain the true
density curve we simply add up all the Y
values for each bump along our x-axis
many overlapping lines will result in a
higher value ergo a higher density the
plot shows us exactly what it describes
regions of high and low density
thus the empirical probability density
function it does exactly the same thing
that a theoretical PDF does for example
we called it in a normal distribution
the area under the curve equals 1 and
intervals represent the probability of
finding values in that specific range so
here we can also get an idea of where
data cluster on the scale this is an
aside this is how we determine the mode
of a continuous variable or indeed how
many modes we have so that's what we
mean by the shape of the bumps but what
about the bandwidth H there are several
ways of choosing the bandwidth and a
good general rule of thumb is simply use
default we won't get into the math since
there are actually many variations on
this and we'll get back to it into the
exercises for the most part you won't
need to change the bandwidth but if you
want to see more subtle features in your
density plot you can decrease it
for example this plot has a default
bandwidth of zero point six nine if we
reduce this to zero point four we get a
density function with more features the
reason is that the individual bumps are
narrower and so they have less overlap
and our curve is not as smooth as a
consequence the peaks are higher which
we can understand as operating just like
a normal curve with a small Sigma it's
not to say that one version is correct
and the other is false
remember there are many ways to
calculate the bandwidth and not only
that but the normal KD is just one of
many kernels density plots are just
representations of the underlying
distribution so it's valuable to know
how the bandwidth was chosen if it was
manually set and what it is
so far we've drawn density plots with
the underlying intermediate steps
notice that this means that the red
density curve extended beyond the limits
of our data that's completely expected
given the underlying mathematics but
it's also somewhat off-putting and
confusing especially if you imagine the
density plot extending beyond the
natural limits of the variable under
consideration when we only use the geum
deung d function in ggplot2 our plot
will look slightly different
the jhoom density function cuts off the
curve at the minimum and the maximum
values of our data set marked here with
new lines the shape of the distribution
is the same but because the limits have
changed the area under the curve is no
longer 1 this is true for any bandwidth
that you set and although it avoids
confusion about the range of the density
plot the area under the curve is no
longer 1 all right let's head over to
the exercises and see all of this in
action</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>