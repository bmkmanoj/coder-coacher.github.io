<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ggplot2 tutorial: Statistics outside Geoms | Coder Coacher - Coaching Coders</title><meta content="ggplot2 tutorial: Statistics outside Geoms - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DataCamp/">DataCamp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ggplot2 tutorial: Statistics outside Geoms</b></h2><h5 class="post__date">2016-11-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lEADvlHg7Zs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now that we've seen how some statistics
are called from within specific giome
thus take a look at the variety of
statistics that we will call directly in
the first set of examples we'll consider
the following plot here sepal length is
described by the three species of the
iris data set previously we asked how
many observations we had in each species
but here we are dealing with a
distribution of a continuous variable
what can we do with this data a typical
way to summarize this data would be to
take the mean and the standard deviation
or the 95% confident able to calculate
these values we can use base package
functions and make a new data frame but
a more convenient way is to call some
functions in the H miss package directly
in ggplot let's see how the output looks
with some random numbers the function
for returning the mean plus minus one
standard deviation is s mean dot s DL
the H misc function returns a named
vector with the mean lower and upper
bound by default it returns two standard
deviations as the lower and upper bound
so we have to set the moult argument to
one to use this information in ggplot
there is a special function which simply
converts this vector to a data frame and
renames the variables to match the
aesthetic naming convention of ggplot
the ggplot function is called mean
underscore SDL to use this we'll call it
as the fun dot data argument within the
stat summary function which will
automatically feed the results and a
giome to our plot by default the stat
summary function uses jump point range
which requires why why men and why max
exactly what is returned by mean
underscore SDL so everything works very
well together
if we wanted a more typical error bar
style plant we can independently plot
the mean and use the point argument for
the giome and again call mean underscore
SDL but this time use the error bar
giome here we can also set the width of
the error bars this gives us a typical
plot in a scientific publication but
notice that we could have also made a
typical bar part with error bars by
simply calling the bar genome this is
not recommended we'll learn why when we
get to the database
practices chapter later on the 90
percent CI is also straightforward the H
miss function s means CL normal returns
the mean and the upper and lower bounds
of the 95% CI which is calculated using
the t-distribution and can likewise be
called from within the GG part two
musing mean CL normal it should be
obvious that we can use whatever
function we want in stat summary as long
as the output matches the format
expected by the giome that is called two
other useful stat layer functions are
stat function and stat QQ these are
particularly useful if we want to ask
about the distribution of our data this
is a very common question in statistics
since many statistical tests make
assumptions about the distribution of
the data or we just like to describe the
distribution in visually
statisticians typically use visual cues
to get an idea of the distribution of
their data instead of relying on only
numbers in the first case we can specify
any function and produce the result in
line plot to see this in action let's
return to the first example we used in
the first course the mammalian body and
brain weights stored in the mammals data
frame we mentioned that our linear model
fitted the log tensions from data
reasonably well what we mean is that the
log transform data seems to be normally
distributed so let's take a look at that
in detail here we simply call a normal
distribution and plaudit passing along
arguments using a list so that it is
centered on our distribution thus
allowing us to compare how well our data
is normally distributed as you can see
the log came a million body weight is
described by a log normal curve pretty
well notice that we have another genome
here giome rug which adds those little
black tick marks on the bottom of the
plot this is a handy way of seeing the
actual values in combination with a
summary distribution here we're showing
a frequency histogram which we saw in
the first course a density plot would be
a more typical making this comparison
but we'll get into the details of that
in the next course another typical way
to determine how well our sample matches
the normal distribution is to use a QQ
plot in this case we plot our sample
against a theoretical distribution and
draw a line intersecting the scatter
at the first and third quartiles the
so-called QQ line unfortunately there is
no function for drawing the QQ line in
ggplot so we have to make our own
calculations The Closer that our data
aligns to the QQ line the more closely
it matches a theoretical distribution
this confirms with what we noticed in
the previous stat function plot that our
log values match normal distribution
very well with the functions we've
covered in this chapter we have moved
into the arena of graphical data
analysis whereby we are truly using
visuals as part of our statistical
repertoire going far beyond just making
pretty plots there are more stat
functions which are available for you to
explore during the exercises so let's
take a look</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>