<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>R Tutorial: Object-Oriented Programming in R: S3 &amp; R6 (part 5) | Coder Coacher - Coaching Coders</title><meta content="R Tutorial: Object-Oriented Programming in R: S3 &amp; R6 (part 5) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DataCamp/">DataCamp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>R Tutorial: Object-Oriented Programming in R: S3 &amp; R6 (part 5)</b></h2><h5 class="post__date">2017-03-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/avuTzzpinZ0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">back in chapter 1 you learned that there
are two types of variable that commute
to store other variables one of them
with the list type and you've seen lots
of examples of working with lists so far
in the course the second type of
variable that can store other variables
is called an environment and that's the
focus of this video to create a new
environment you call the new dot n
function unlike lists where it's come to
fill them with elements when you create
them environments are always created
empty and you add the contents
afterwards the syntax for adding
variables to environment is the same as
for a list for example you can use the
dollar operator or the double square
brackets operator let's check that the
contents of the list and the environment
to the same the print method for
environment isn't very informative so
it's best to use LS drah which gives the
structure of each element there's one
way that environments behave differently
from lists that becomes important when
working with our six classes take a copy
of the list then change one of the
elements here you can change the x
element from pi to the power of 1 2 5 2
e to the power of 1 to 5 now look at the
corresponding x element in the second
list the changes of course haven't been
passed along to the copy so the lists
are no longer identical let's do the
same thing with environments take a copy
of the environment change the x element
in the first environment and see what
happens to the corresponding element in
the second environment recall that in
the case of lists the change wasn't
transferred to the second list
however with environments the change has
been transferred over both X elements
remain identical most our variables use
a copying strategy known as copied by
value that is when you copy a variable
each version of the variable has its own
copies of the values
by contrast environments use copy by
reference this means that when you copy
them each version refers to the same
copy of the values our six classes can
take advantage of copying by reference
to share data between all instances of a
class there's one simple trick to this
which involves defining a private
element by convention then shared the
shared element takes several lines of
code to define so it needs braces
first you define a new environment this
can be named anything then you assign
any variables that you like inside the
environment in this case the code
assigns the number one two three to a
variable named a shared field finally
you return the environment to access the
shared fields you use active bindings
just as you saw in the previous chapter
the syntax is the same except that this
time the fields are accessed using a
private dollar shared dollar prefix to
see how shared fields work let's create
a couple of thing objects for both of
these things
the shared field defaults to the value
one two three so far this is just the
same behavior as any other field but now
look what happens when you change the
shared fields in one of the objects
since the field is shared the copy by
reference behavior means that the values
changed in the second thing object as
well in summary environments are created
using the new dot n function you can
assign variables to them and access them
again using the same syntax as with a
list
the most important difference between
lists and environments is that
environments use copy by reference
behavior which means that all instances
of an environment share the same
variables our six classes can use this
feature to provide variables that are
shared across all objects they do this
by defining a private field that is an
environment
this field by convention is named shared
now let's try some examples</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>