<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>An Introduction to The data.table Package | Coder Coacher - Coaching Coders</title><meta content="An Introduction to The data.table Package - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DataCamp/">DataCamp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>An Introduction to The data.table Package</b></h2><h5 class="post__date">2015-12-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pc1ARG6kbAM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's get started what is a data
table think data frame is just a set of
columns in memory every column is the
same length but different type the first
and primary goal of data table is to
reduce programming time via easier
syntax and more natural syntax and the
second goal really is to reduce compute
time and it's always been that way
around since the beginning in 2008 when
I release the package currently it's in
memory so 64 bit and 100 gigabytes of
RAM are quite routine and these days you
can get a quarter of a terabyte of RAM
on Amazon ec2 for less than a few
dollars per hour and the other main
feature in my mind is ordered joins so
this is useful in finance and time
series which is my background but other
fields such as genomics also have large
data which is ordered but not
necessarily by time let's have a look at
a full example and all three parts of
the data table query there's three parts
to it in blue green and orange and the
way I would read this is as follows so
we're selecting from the MT cars data
table all the rows where the MGP column
is greater than 20 and for those rows
were selecting the average horsepower
and the minimum weight and doing that
grouping the root grows by cylinder and
whether the cars have five gears or not
and those three parts of the query map
to SQL so the first part in blue is
called I in R but that's analogous to
where in SQL the second part in green
maps to select in SQL and the third part
in orange is the group by clause and
notice we can lay it out nicely like
this and we can put little comments
alongside each of the
oceans with a hash mark before it so the
general form of data table query is I J
by and the way we read that out loud is
take DT sub set rows using I and then
calculate J grouped by by so here's
creating a data table four columns and
six rows just like a data frame so here
we notice that there's recycling in the
B column the ABC is repeated once and
recycling in D as well so the single
logical value is repeated six times and
there's three main things to remember
about types in our the first point is
that you need to add L after a single
one to make it type integer one by
itself is type numeric the second is
that na is by default logical in R and
you need to add underscore integer
underscore afterwards to make it integer
and the final point is that character
vectors in R are quite efficient and we
like them a lot in data table so if you
have the same long character string
repeated many times in the vector R
won't actually store those letters over
and over again in memory it will cache
the unique string values globally and
just have pointers in the vector to that
global cache and we like character
vectors in data table a lot so here
we're going to give some examples of
using integers in AI to subset the data
table
so we've passed three to five into the I
argument before the comma and we get
those rows row numbers 3 4 &amp;amp; 5 but if we
forget that comma and it doesn't matter
we just get the same data back contrast
that to data frame where we passed 3 to
5 into I again and the comma that's the
same as data table but if we forget that
comma and data frame
as an arrow so it's data table
compatible with data frame well the
first thing is that data table is a data
frame - so it's accepted by all besar
packages but if a base our package then
calls data frame syntax on the data
table then how does it work well data
table switches at the top of its method
the square bracket and it looks to see
where it was called from and if it's
being called from a package which
doesn't know about data table then it'll
switch to the base our data frame method
for square bracket and that package will
still work so now it's time for you to
do some exercises</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>