<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Setting Notification Badges within Ionic 3 | Coder Coacher - Coaching Coders</title><meta content="Setting Notification Badges within Ionic 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Setting Notification Badges within Ionic 3</b></h2><h5 class="post__date">2017-04-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HeAD6DaKbns" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey Paul holiday for learn ionic 2 today
we're going to talk about adding badges
to our ionic 2 applications now you've
most likely seen badges before on your
home screen this is essentially where
your app icon has a little number
usually to the top right of the icon you
would use these badges to potentially
display unread messages to the user you
can see this as an example with the
Facebook application when there's unread
notifications the awesome thing about
the badges plug-in is that support on a
variety of different devices for example
iOS Android Amazon fire OS Windows Phone
Windows Phone 8 and more so to get
started let's install the Cordova plugin
run ionic plug-in add Cordova
- plugin - badge we can also add the
ionic native module for the badge so npm
install' - - save I'll make native slash
badge I'll also be adding the Android
platform so ionic platform add androids
and I'll be creating a library Lord
server so ionic run Android - L let's
open this up in a vs codes so the first
thing to do is head over to source app
at module dot TS and import to the badge
plugin so import from ionic native slash
badge we want the badge provider and we
can add this to the list of providers so
badge then we can close up module OTS
and then going to go into TS config JSON
and change my target to es6 and within
home we can import badge once again so
imports from ionic native slash badge we
can import badge and then injector
inside of all constructor so private
badge badge and the first thing that
I'll be doing
is creating you some buttons inside of
our view so the title will be home page
badges and inside of the content we're
going to have a few buttons so the first
button it's going to have a click event
of set badge the second button is going
to have a click event of get badges and
the third button is going to have the
click event of request permission so we
can set the badges we can get the badges
and we'll also be able to get the
permission so request permission is
going to go on the text field get badges
and set badges set budges is also going
to take your badge number and we're
going to have an input up top here so i
on item and inside the item will have a
label it's level with floor thing and
i'll say a badge number then we'll have
an input and we'll make the iron inputs
type being number so we can only import
numbers and we'll attach an NG model for
this named badge number so if we take a
look at our device we see that we have a
badge number inputs and three buttons
let's firstly fill out the request
permission button so let's make this
function we want an async function named
request permission and we can first make
it try-catch so we can catch any errors
we will log out the R to the console if
there is one but it does not will simply
say let's permission so the result of
the promise is equal to this badge dot
Register permission if the permission
worked we're going to log out what the
answer was in the console so if we click
it request permission we get true
because we now have permission to use
the badges we could make this function a
little bit more powerful and we could
say let house permission and give that
the result of this badge
has permission and if has permission is
not true
ie we don't have formation we can then
they get permission we can log our both
has permission and permission but as we
already have permission we will never
get into this chord block here so when
we click the request permission we get
true again but that's because we have
permission already so let's make a
function where we set the amount of
budges so I think it the set badges and
if you remember it requires a badge
number like so so let's make it badge
number
a type number and we can pass it in to
our set by just function this just makes
it a little bit more testable we could
put the badge number just inside here
and don't pass anything in at all but
it's a little bit more testable if we do
it like this so large number is supposed
to be in number so we can add a
try-catch block and inside of our time
we can use let budgets so this will be
the badge number after we set the budget
is equal to the resolve to promise using
a width if this badge does set and then
the badge number so badge number we can
then log that out to the console if
there is an error we can use console dot
error e we also need to add an S on the
end of that badges so if we save this we
should now be able to set badges to a
particular amount let me set by just to
1 and as you see in the console we get
one thank you from the result of our
badges promise if I set this to 10
you'll see we get 10 bug so setting the
badges does not add the badges but
instead set it to a particular a month
let's make the function to get early
badges so is saying get badges we can
try catch again we can say let badge
amount is equal to the resolved promise
of this badge get then we can simply log
out the badges in the console soul of
our badge amount you can see that we've
already got this function here inside of
the button
so click it get badges and you see that
we have 10 as we've already dealt with
the requesting permission I'm going to
comment this out for now and I'm going
to make a new button underneath set
badges and it's going to say increase
badges let's also add the amount so
increase badges by badge number and on
here we can do set badges - badge number
and inside of our increase badges by we
can make the function increase badges
and pass through your badge number so is
sync increase by just and let's specify
the type of a number we can add a
try-catch here so now we can use let
badge is equal to the resolves promise
of this badge dot increase and then as
you can see it requires in number so we
can put badge number but when we put
badge number something funny is going to
happen it's also log any potential
errors and then let's run at this chord
so make sure what's safer and we're
already seen if we set budget battle set
badge to a particular amount so let's
set the badges to 20 and you can see
that we have 20 but let's now increase
the badges by 20 and you see we get 20
20 which is not what we expected because
we want to increase it by 20 to make it
40 but instead it turned into 20 20
now this is because the badge number
that is passed in here
in increased badges is actually is
string when it's part of the input so
that's effectively just concatenate in
that string to give us 20 20 instead of
actually doing the arithmetic to
increase the badge number so instead
let's pass through the badge number as a
string and let's simply cancel out to a
number so we can set the budges to 20
and as you see we get 20 bike
and now we can increase the vajjis by 20
and you see we get 40 and that's because
we've put our budget number in as a
string and this is what it is when it's
on the input then we cast our budget
number for string to a number and that
allows us to appropriately increase it
by a number and not simply concatenate a
string so let's do a similar thing but
now let's do decrease badges so decrease
badges and we can basically copy paste
the function but instead of increase we
use decrease and let's copy paste D
button and decrease badges like so and
if we save this it should subtract the
amount of budges from our current budget
so if we get the badges you can see that
we have 40 but if we decrease the budget
by 20 we get 20 as expected
the final thing to do is to clear the
badges one will finish with them so we
can use async clear badges and this can
be a try-catch book again and we'll say
let budge is equal to the resolved
promise of this badge clear and we can
do anything we want after this we'll
console but log the badges but I imagine
it's simply going to see it zero and we
can quickly make a button on our front
end that simply says clear badges so one
last time let's get the badges we're at
20 we'll set the badges to 10
we'll increase the budget by 10 giving
us 20 again will decrease the budget by
10 giving us our 10 again and finally we
can clear the badges which gives us zero
so if this tutorial has helped you and
you can now implement badges within your
ionic application then hit that
subscribe button unless we know you like
the content and you want to see more and
of course check out learn ionic to comm
for more ionic to information my name is
Paul Halliday and I'll see you in the
next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>