<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ionic 3 &amp; Firebase CRUD - Edit Shopping Item and Observable Subscriptions (15) | Coder Coacher - Coaching Coders</title><meta content="Ionic 3 &amp; Firebase CRUD - Edit Shopping Item and Observable Subscriptions (15) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ionic 3 &amp; Firebase CRUD - Edit Shopping Item and Observable Subscriptions (15)</b></h2><h5 class="post__date">2017-08-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pQSn3iNZuTQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's display our template inside of our
edit shopping item page let's take our
template and add a color to the navbar
by saying color primary and then if we
take the template of our ad shopping
page
and we add this to our ion content and
at the moment we can remove the click
events for our button we'll come back to
that later
that we are a normal item to the NS item
inside Hall editor shopping item then we
can unwrap our observable and we can
create ourselves a shopping item to be a
new JavaScript item as is shopping item
so similar to what we did before but
this time we're going to take that
reference and instead of assigning that
reference the async pipe what we're
going to do this time is actually unwrap
our observable and we're going to see
that by seeing this dot shopping item
reference dot to subscribe and we're
going to take that shopping item and
we're going to pass that into this dot
shopping item is equal to the shopping
item that we get back from our reference
so if we can add a comment here we can
say
set the score of our firebase object
equal to our nav params or our selected
item we can then subscribe to the object
and assign the result to this shopping
item and by doing that we then get
access to is the object inside of this
shopping item and by the shopping item I
do mean this boat shopping item so as a
result we can create ourselves a
function which updates the referenced
item over a firebase by saying edit a
shopping item and we'll pass in the
shopping item of type shopping item so
we'll add a comment here and we can say
updates our firebase node with new item
data and in this circumstance it's super
simple because all we actually need to
do is pass in the reference and similar
to before how we would just say remove
this time we want to say update and pass
in that shopping item that we've changed
so in order to change the item
we need to pass in a click event
the click events can be passed to the
function edit shopping item
the shopping item as air parameter now
if you remember the shopping item is
simply attached to the scope of this ng
model for both the item name and item
number so let's take a look at this
cheesecake if we select it and then hit
edit we get the Edit shopping item page
with this cheesecake and the number of 5
if we change this to instead be
spaghetti and click Edit item and this
time if we go back you'll see that our
item name is now spaghetti so we can
take this edit shopping item function
update the firebase node with the new
item data and then as before we can tell
our enough controller to pop backwards
and send the user back to the shopping
list page at this stage in the process I
will also update the title of this page
to be equal to the shopping item to item
them like so
now if we select our pizza and hit edits
you can see though we're editing the
pizza if we change something so that
this is ice cream and we hit add item
the item then becomes ice cream on our
shopping list page as always we can go
through and remove the item by hitting
delete and the item is removed from our
database as well as our application and
the final thing to do is we need to
unsubscribe from our object observable
when we leave the page I can be done in
a few different ways we can either
import take it from rxjs or we can
simply assign this as a subscription in
this circumstance I'm going to assign
this as a subscription and to do that I
will import from rxjs
slash a subscription and we'll import
subscription and we can say shopping
item subscription is a type subscription
and where we're subscribing to our
observable here all you need to do is
state that our subscription is equal to
that observable and this just gives us
the power to unsubscribe from the
observable when we leave the page and
that can be done inside of the ion view
will leave function this is a lifecycle
hug that fires each time the view will
leave and all we need to do I said this
dot shopping item subscription dot
unsubscribe so we can say unsubscribe
from the observable
when leaving the page this just frees up
any memory resources and ensures that we
don't have any unnecessary subscriptions
benefits of using this async pipe inside
of our shopping list page is that the
subscription and unsubscription is
handled automatically by angular so we
have a much cleaner application and we
don't have to worry about manually
subscribing or unsubscribing from the
observables so in the last couple of
lectures we've looked at adding the edit
functionality of our shopping list we
can now go through and edit our
application we can change things like
the number so we want to ice creams
instead and all of this is committed to
our firebase database</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>