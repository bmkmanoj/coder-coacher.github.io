<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Microsoft Azure Cognitive Services - Face API and Angular | Coder Coacher - Coaching Coders</title><meta content="Microsoft Azure Cognitive Services - Face API and Angular - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Microsoft Azure Cognitive Services - Face API and Angular</b></h2><h5 class="post__date">2017-05-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/779BSFoiJXA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">it's called that I'm going to like get
adding facial recognition or rather
their age recognition into our
application this is going to be a small
fun application that guesses your age
depending on it picture it's going to
use the as you official recognition API
and let's create a new angular art by
seeing ng new edge recognition this will
also serve as a HTTP POST tutorial too
but it's not necessarily supposed to be
in over exhausting view and what we
actually use with HTTP POST but
nonetheless we will be using that now
that has finished we can see D into edge
recognition and then of course we can
open this up inside a visual studio cord
or the editor of your choice
and finally we can run ng serve - all to
open this inside of the browser as
expected we do have our application
saying app works so we'll head back over
to our editor and from within the editor
we can go to the app components and from
within app components I change the title
to you age recognition and then we can
generate ourselves a new service so ng
gs4 ng generates service and as this
will be a data service and I'll call it
data we can move this into its own
folder named services like so and
because we'll be accessing HTTP you will
need to ensure that we've got the HTTP
module imported so and we do by default
inside of our app module so then inside
of our service we'll have to inject HTTP
so except private HTTP of type HTTP we
can import that from angular / HTTP will
also need headers and request options
and then of course that we can write
ourselves if function so this function
will be called get person age it will
take a parameter of image URL because we
will be sending across ER l can use
other content types here too but for now
we're going to send the URL
we'll make some new headers by saying
headers is equal to new headers and will
have to pass in a content type of
application slash JSON and then we'll
also need to pass across our as you are
API key another point where we need to
admit an azure account so let's head
over to if you are I'm going to make the
assumption that you've already made and
as your accounts from within as you are
we can of course search for some
cognitive services and we can click this
face API and get the API key from that
there's a variety of other cognitive
services that you can use within your
applications but we're going to be using
the fierce API for this simply set up a
new face API get the API key and then we
can add this to our application we then
need to pass in this header for this
subscription key and I'm going to use
the API key that I've created for word
app services API key and this is equal
to the API key that I have over at as
you are we can then make some options
equal to request options and as we might
have other things that we pass along
with our request but like I said we
could add other things at this point too
we can then return this for HTTP POST
and when we're posting we need a URL so
we can either add the URL on top here or
inside of that function we might use the
URL again so I'm going to say private
URL and that could be a string equal to
the following link this includes the
phasor abuse age and gender so then we
can pass end of this URL and we could
pass the options as part of our request
options but as it's relatively fake with
this warn use guess we'll pass this then
that we can pass the body which is the
image URL so the URL equal to the image
URL because that's what as you I expect
and then any request options being these
options or pass along that as always we
can call map and then the data that we
get back we can simply return the JSON
response of that data to use money to
import rx Jess and operator map and if
we want to simply log this out what do
the same but adds operator do and we can
log the results of that I'm going to
call this results because we're logging
out the results at this point not the
data a little technically is the same
thing but we now have this a service
which gets a person of age depending on
an image URL and if we've done
everything correctly let's have a like
we should be able to import this into
our constructor say by saying private
data data service adding that import and
then we can have a button inside of our
up components and that button when
clicked can call get person edge the
input will be of type text and we can
have an NG model of image URL we can
pass by image URL into our function so
we can sit an image URL type string can
initialize Lexi being empty but we may
want to do something whether we could
add a default image euro or a variety of
other things and then if we call the get
person edge with the image URL we can
say this dot data do get person aged
pass in the image URL subscribe to the
results and see plus an edge which could
be a stirring as far as more
this the person age is equal to dead Oh
dots and I'm not sure what that will be
yet so we'll simply make four equal to
debe and we'll add the person age and
we'll just simply pipe it out to a JSON
a response at this point let's take a
lot because we've done a lot of cordon
let's see whether it actually works
I have an image of Kanye West or Ino
we're going to copy this image address
we are going to take this to our edge
recognition project and we need to
actually add our data service to the
list of providers before we do anything
and add some text on this button gets
person edge if we put the image URL in
and we can't get personal age we should
hopefully get a response back and we do
we can see that's our CF ID if we just
make this a bit bigger would be decía
so this represents this person's face
the attributes of this person so at the
time this person could have been around
thirty four point four it's recognized
that this person is mil as well as the
rectangle of the face so if we wanted to
draw a boundary box over this inside of
our image we certainly could do that so
this is simply an example of one person
it's recognized age 34 and of course the
gender male let's have look where we
have an image with two people inside of
that so this one won't be quite
interesting there's an image here with
quite a few people in the picture let's
put it through the API and see what it
can recognize so that's quite
interesting they can find six people or
with varying different ages and genders
the if you API is we're more powerful
than simply guessing somebody's age or
gender though we can also do things like
have a person at face Bank so if that
person is seen again it can go yet that
person is equal to this particular ID
and then of course that we can identify
the person in future requests so this is
really good in high security incidences
for example if somebody was born from a
location we'd be able to determine
whether than that person entered that
location again perhaps we'd have a
subscription where automatically
that person will be flagged on the
system and would be able to take
appropriate reactions so this is just
some examples obviously we're looking at
somebody's age at this point too and
gender of the svr face api let me know
what you get up to with these air P eyes
and of course if you'd like to see more
as your content and let me know in the
comments section below is where more as
far as I can go don't forget what a
patreon if you want to support that
I've got Ilona and three from scratch
course of the interested in ionic and of
course hit that subscribe button to stay
updated with more videos and until next
time my name is Paul and I'll see you
very soon in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>