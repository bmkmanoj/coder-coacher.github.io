<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fuse: Native WebView | Coder Coacher - Coaching Coders</title><meta content="Fuse: Native WebView - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fuse: Native WebView</b></h2><h5 class="post__date">2017-09-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Z3tvLh-2eeY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this lecture we're going to like how
to use a webview inside of fuse so what
is a webview it allows us to display
some web content natively on the device
so this means things like a web page we
can embed it inside of the app and then
this displays natively on either an
Android or iOS device so let's start off
by making it don't panel inside of the
doc panel I want to make it status bar
background and we can dock that at the
top and what this does is it allows us
to keep our status bar at the top and it
means our webview doesn't overlap at the
status bar I guess on next I want to
make a button the button is going to
have a clicked event and when we click
the button I want to do something called
Lord hitch tml so this is quite an
interesting one what actually we're
doing here is were loading HTML into a
webview we're not even looking at a web
page at this point or we won't be raba
instead we'll be loading our own HTML
and displaying HTML inside of the
webview so in order for that to work we
need what's known as a target note and a
target nodes will be our webview itself
with a UX name of simply webview that
allows us to determine it target nodes
for our Lord HTML so we'll pass in that
webview and then we have a HTML tag and
inside of our HTML tag we need to
essentially tell fuse that what's coming
next is some XML data so we need to use
the character dinner and inside of our
card today we can put anything we want
so inside of this array here we can put
our HTML content so perhaps we'd have
something like a h1 which says hello
world
maybe h2
welcome to my fuse application and so on
let's give this button it text events of
Lords HTML and for now will also dock
our button at the top will ensure that
we dock fill on our web view and I
should fill the rest of the screen I
need to move the square bracket back to
the seed data and then once we save our
file you should see that we now get the
Lord hedge team our button on screen if
we select Lord HTML this currently
doesn't work because what we need to do
is move this back up to be on the same
line so when we save our file we should
now see that we have Lord hedge tml but
when we click this nothing happens and
that's because our webview is part of an
it of view host and what a need of view
host is is essentially anytime we're
dealing with native device api's we need
to wrap it inside of a need of view host
so if we select Lord he HTML we should
now see hello world and welcome to my
fuse application but perhaps what's even
more important is we can do things like
saying style equals color red font size
maybe 50 pixels and if we said this and
then we select our Lord HTML once again
we now see that we have a much bigger
hello world and it's also red so for
whatever reason if you did want to
interact with the web view and he wanted
to push HTML to that web view you
certainly cut using this method but what
if you simply just want to open up a
particular page well that is also
possible so I'm going to comment out the
button for now and it will start
navigating over to our web view tag and
our web view tag actually has the
ability to pass through a URL so if we
said HTTP Paul holiday oh and we hit the
Save button our application should
refresh but this time it should be
giving us a different URL
as you can see we now have the Paul
holiday to Iowa site and inside of here
we can do things that we usually work we
could scroll up and down and be user I
can interact with the webpage so far so
good but perhaps what's even better is
that we can actually interact with the
JavaScript on this page so let's I can
see what's known as the page loaded
event when the page is loaded we can
actually hook into this and we can
evaluate some JavaScript so let's push
and evaluate GS and we must return
something so whenever we're using
evaluate Jess we need a return call to
be the final statement inside of the
evaluate GS tag so for example we could
capture things like the protocol and the
current URL so for example if we had a
response we capture the URL as an object
by saying somewhat like document dot
location dot H rough and you remember
that's because we actually do have a
document inside of the webview so the
document it does exist here we also have
things like a protocol if we wanted to
see which protocol we were over so you
could use the document.location.protocol
and we do need to return at the response
at this point and then inside of our
JavaScript we kids have what's known as
a module that exports and of course
allows us to turn this into a common J's
module and here we can use on page
loaded get that response and simply log
out to the console using the GS on pass
our response dot JSON and for example if
you wanted to look at the protocol we
certainly cut
the final thing to do is then hook up
this evaluate yes with the handler
function that we just created here on
page loaded like so and you can see
inside of our console now we now have
the current protocol which is HTTP you
could look at other things like for
example the ERL and that would give us
the current URL as you can see here on
screen so being able to have access to
that document is quite important
actually because we can do fun things
for example we could have a document
right and I wouldn't advise you do this
but we could just say hello world and
this then replaces our content with
hello world so as you can see there's a
variety of things that we can do here
and we can really take advantage of that
webview if we really need to get down
and dirty with evaluating JavaScript so
in this video we've looked at using the
law HTML to Lorde specific pieces of
HTML into our webview and that was done
by a button clink but we've also looked
at things like setting a URL on our web
view we've looked at the page loaded
events and honking into this on page
loaded evaluating specific things like
for example the current document
location the current protocol even
writing to the document and a variety of
other things so this is effectively how
we use the webview inside of our fuse
applications</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>