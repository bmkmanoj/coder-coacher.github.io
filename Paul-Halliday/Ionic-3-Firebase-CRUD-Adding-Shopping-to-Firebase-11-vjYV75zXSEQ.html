<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ionic 3 &amp; Firebase CRUD - Adding Shopping to Firebase (11) | Coder Coacher - Coaching Coders</title><meta content="Ionic 3 &amp; Firebase CRUD - Adding Shopping to Firebase (11) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ionic 3 &amp; Firebase CRUD - Adding Shopping to Firebase (11)</b></h2><h5 class="post__date">2017-08-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vjYV75zXSEQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we've done the majority of the hard work
already in order to push this to the
database what we need to do is inject
the unzila fire database
but before going any further we need to
head back to our app module PS and also
import the angular fire database module
to use database interactions so we can't
go any further unless we import the
database module
so that can be done by heading back up
to our imports list and from our imports
list we can import from angularfire to
slash database the angularfire
database module and like I said this
allows us to use database functionality
throughout our application
so once we've imported that we can head
to our imports inside of our roots
engine module and add this to the list
that means we can go back to our add
shopping page and inside of here we can
import from angularfire to slash
database and this time it's a quite
similar import but it's not the same
this time it's the angular fire database
so be sure not to import Lee module
again it's actually just the angular
fire database at this time after that we
can never get back to our constructor
and inject this here into the ad
shopping page so we can do that by
saying private database and we can say
that as of type angular fire database
also
now access the database and side of our
page so let's make a reference to our
database then let's call this the
shopping item ref and I'm going to add a
dollar to the end of this because this
is technically going to be an observable
and the ref stands for reference this
will be a reference to our shopping item
list inside of flavors and that will be
of type firebase list observable so we
need to import fibers list observable
once again
and poor Matt from onion or fire to
slash database
script it's a firebase list observable
of something we're essentially defining
what type of list it is and of course
that's going to be in list of shopping
items so we can say a shopping item and
we can pass through to say that the
shopping item a rare
awesomo we're nearly there so what that
means is inside of all constructor
we can define our shopping item a
reference to be equal to this database
dot list and B list will be shopping -
list
one time this might not make sense if
you've never used 5s before but what
we're essentially saying is if you think
of the shopping list to be a table even
though it's definitely not a table it's
sort of more ear apposite or E or Nord
where all of our data goes
something like this we have a shopping
list and then inside we have a variety
of different pieces of information
so now we could have key 0 which
particular key value pairs
for example item of pizza and item
number over 1 and then if we continue to
potentially key 1 which has similar
information this time it would be
something like cheesecake
now do we have an item number of maybe
five so a shopping list in this
circumstance points at the Nord inside
of firebase so what we can now do is
inside of our add a shopping item
instead of logging their results out to
the console we can now remove that what
we can see instead is this dot shopping
item reference dot push and in here we
can push a particular value so we could
simply pass in this don't shopping item
and that would contain the current
shopping item but what I want to do is
convert that number to a number instead
of s string so an easy way to do that is
for us to just define the item ourselves
so we consider the item name can be
equal to the shopping item dot item them
and the item number can be equal to
number and we'll pass through the number
of this does shopping item dot item
number
this actually returns in number so we
can add ourselves a comment in my
comments is create a new object and we
can say this is an anonymous object and
convert item number two in number after
that we want to push this to our
firebase database under the shopping -
list node
so now that we've done that we are super
close to having our item inside of the
database
notice how little code that actually is
to possess this on the server it's
simply one line and the only thing that
stops us is now our firebase database
rules so I want you to head back over to
the firebase dashboard and in the
firebase dashboard if we select database
and we should have then a rules button
click the rules and you can see that the
default security rules require users to
be authenticated now we're going to lock
it authentication that later on so for
now we'll simply allow anybody to read
and write from the database this is
obviously very bad in production so
please do not punch something into
production with these rules it's really
important that you realize that that at
the moment this is simply for testing
and demonstration purposes or me
in order to allow anybody to read or
write simply say read is equal to true
and write is equal to true hits publish
and as you can see that our security
rules and now defined as public anyone
can read or write to the dead Bess but
we should now be able to head back over
to our shopping list and add an item
name such as pizza and the number of one
let's hit add item you'll notice that we
have this shopping list appeared inside
of the data tab of our 5s if we select
it here is now the king the key content
that will item name in our item number
as you can see the number has been
converted to a number likely requested
and also you'll notice that this here is
a randomly generated key so it models
exactly what we looked at before so
essentially we have a shopping list node
and inside we have a variety of
different key value pairs but we're here
we have 0 &amp;amp; 1 inside a 5s we have a
randomly generated key so this is
fulfilled the creation process inside of
our application we can now add items to
our shopping list and also commit them
to 5s before going any further let's
also reset our shopping item and that
can be done by redefining our shopping
item to simply be an empty object and we
can pass it once again as a shopping
item and be final thing to do is
navigate the user back to the shopping
list page
and that can be done by saying this
knife control pop
what pop does is take the user buck worn
in the navigation stack
so at the moment if we take a look at
what our navigation stack looks like you
can see that we started off with the
shopping list page we navigated to the
ad shopping page and if we pop at the ad
shopping page from the nav stack or left
to were simply the shopping list page
once again
essentially what pop does with the nav
controller
so in this lecture we've locked adding
is shopping item to our firebase
database we've also unlocked at
resetting our item as well as popping
the user back to the shopping list page
let's take a look at this in action so
here we have our shopping list if I
select the plus button when I add
Cheesecake within number of five and I
hit add item
the item has been added to our shopping
list
as you can see the item name of
cheesecake and the number of fights the
user was navigated back to the home page
and if we select the plus button you can
see that the form has been reset and we
don't have that previous step in the
next lecture let's take a look at
viewing this shopping list inside of our
shopping list page</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>