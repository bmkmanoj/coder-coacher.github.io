<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Use Socket.io for Real Time Client/Server Communication | Coder Coacher - Coaching Coders</title><meta content="Use Socket.io for Real Time Client/Server Communication - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Use Socket.io for Real Time Client/Server Communication</b></h2><h5 class="post__date">2017-08-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ndRMTdZRA4I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey there in this video we're gonna take
a like using Nord
Express and angular as well as socket IO
this will allow us to have real-time
communication between our Nord server
and our angular client it's gonna be a
very simple example we're only going to
display one JSON object from the server
being pushed down to the client but if
people find this interesting we could
certainly make a series on this and/or
make a course out of this it's entirely
up to you guys let me know what you
think inside of the comment section
below and let's get started so the first
thing that I'm going to do is make a new
folder named socket nodes we can see the
inter socket node and after that I'm
going to run NPM in it - why what this
does is create a new package store JSON
with all the default values after that
we'll make a new file named server GS
I'll then open this up inside the visual
studio code but you can use whatever
editor that you want the first thing to
do inside of our server is to initialize
a node we don't need to use Express for
this but I'm simply going to add err if
we decide to make this a more complex
app so let's install Express by running
NPM install Express and we'll also need
socket IO socket dial will allow us to
have the real-time communication by
emitting events from the server to our
client one allots installing we can
simply make a new Express my first
requiring Express and then making a
reference to our app by indicating the
express function we should also get a
reference to HTTP as well as a socket IO
to check that our application works
let's simply use app get and pass in the
root so that whenever somebody goes to
localhost and whatever the port that is
that we use will simply get the text
hello world on screen so to do that
let's pass through a request and a
response and our response will simply be
hello world next we have to create a
HTTP server and usually would use up
listen and would use Express for this
but when we're using socket IO we'll
need to pass an instance of a HTTP
server that means we need to create a
new server equal to HTTP server and pass
through our app instance we can then use
server don't listen and I'm gonna select
the port 3000
let's run Nord server yes that will
start our server and we'll be able to
navigate to localhost 3000 and you'll
see that when we do not forget to that
address we get hello world here on the
screen
that's nothing exactly revolutionary but
it does tell us that we've done
everything right so far the next thing
that we need to do is capture an
instance of our socket IO so let's make
a new constant named I or equal to
socket IO and pass through our server at
this point in time the next thing to do
is capture whenever somebody connects to
the server so we know that by saying I
or don't on and using the connection
event from here we get access to the
socket and we can use the socket to emit
events downstream to our client so let's
say soccer to MIT and will emit an event
named hello this event will have the
following payload simply the text or
even greeting of hello Paul that way
when we restart our server and use the
socket I or client here on our angular
application which will create in a
second if we look at the hello event we
will get the following object which says
greeting and obviously
value hello Paul so let's restart our
server by running Norda server.js once
again and from here we can head back to
our terminal and sure you've got the
angular CLI installed and run ng new and
I'm going to simply call a project ng
socket this creds us a new angular
project with the CLI and installs the
packages that we need via NPM once none
has been successfully created we can CD
into ng socket and the next thing we
need to do is install socket die or here
on our client so let's run NPM install
socket il and while as installing once
again we can open this up inside of our
editor so inside of our client project
we first need to head over to our
component TS and inside of here we can
run imports asterisk as socket IO from
socket dot io - a client this allows us
to listen for the socket IO events here
on our client and we can run and
implements on Annette which means we can
import on Annette from angular core and
then we can create a new ng on Annette
function this function is run as soon as
our angular application starts and as a
good starting point for us to start
listening for those events from our
server so let's make a new constant
named socket and we can make that equal
to socket IO and pass through our HTTP
colon slash slash localhost 30,000 and
if you remember that's the port of our
Nord server and now we need to specify
the event that we want to listen for so
let's say socket don't on and if you
remember the event was hello and then we
can access that data let's log out be
data to the
so for now and once we save this file
and open up our project and in order to
open up the project we need to run an NG
serve from within our client project and
we can then navigate to local horse to
call on 4200 that essentially allows us
to access our client application which
then from our app component goes ahead
and connects to socket IO then you can
see that we have this object here in the
console if we open up the object we get
the greeting of hello Paul and if we
take a look inside of our app component
yes that comes from our socket dot on
because it's essentially listening for
that hello event on the server and when
the server emits that event our client
says hey we've found this event named
hello and this is our data which we then
log out into the console so this has
been an introduction to socket IO and
using it inside of your Nord
applications and then accessing those
events here inside of our client angular
applications I hope you found this
useful if you have let me know in the
comment section below if you'd like to
see more soccer I or if you'd like to
support the content and don't forget to
check out my patreon link and of course
check out Paul Halliday dot IO for more
courses and offers if you do on half of
my learn ionic 3 course don't forget to
use the coupon code half
I'll give you 50% off giving you about 8
9 hours of content for around a pound I
always update the courses so you'll find
that my content continues to grow and
remains evergreen as much as possible
thanks a lot for watching I'll see you
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>