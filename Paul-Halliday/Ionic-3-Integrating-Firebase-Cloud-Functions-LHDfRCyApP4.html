<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ionic 3 - Integrating Firebase Cloud Functions | Coder Coacher - Coaching Coders</title><meta content="Ionic 3 - Integrating Firebase Cloud Functions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ionic 3 - Integrating Firebase Cloud Functions</b></h2><h5 class="post__date">2017-06-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/LHDfRCyApP4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we'll want to take a look
at using firebase cloud functions inside
of our ionic annular applications so I
have a very basic up here which is
called messages and we can send it title
and body across two fibers for example
if I send the title of a message to be
hey and the body to be how you and we
click send message
can see that we get this messages and
inside of all messages we have our data
let's investigate how that's set up and
then we'll take a look at cloud
functions
so inside of our up module PS we are
importing the angularfire database
module and the angularfire module we're
then passing the initialized art
function with the config and then of
course importing our database module
outside of that it's fairly simple
inside of our home page we are sending
our angularfire database reference to be
messages and then of course we are
pushing in new entity into those
messages this is a fairly standard
firebase setup so now let's look at
integrating cloud functions so the first
thing to do is ensure that you do have
the 5s tools install them that can be
done by using NPM install 5s tools - G
after that you may wish to run firebase
login to login and authenticate with the
CLI and then you should be able to say
firebase and net functions you may be
asked to associate this with a
particular 5s project simply associated
with the project that you want to deploy
the functions in I will then ask you
whether you want to install dependencies
with NPM select yes
and after that is complete we should now
have 5s initialization complete and then
we'll be able to write our functions
inside of indexed or GS
functions folder let's move over to
indexed or GS and you'll see that we
have a very basic boilerplate let's
start off by making a new function by
saying exports and what I want to do is
basically turn the text law case and
other case so we'll write two functions
based on that message ID so we'll call
this one exports lowercase is equal to
functions database dot ref and functions
here comes from the require for firebase
functions
we can pass in a reference so this is
similar to our client side
so we'd have messages slash and then
what I'll do is I'll put this
placeholder form message ID now this can
be anything but what it essentially says
is that we want to go inside of the
messages Nord and then any other key
after that and then we have access to an
on write method so we can say on write
and then we get passed through the event
now if we wish we can get access to the
message key by saying Const message key
is equal to event dinner key let's do
the same for the value we can say
constant message value is equal to event
data dot bulk
and at this moment in time we won't
actually need access to the key but
there may be occasions where you do need
that
to make a values in law case body is
equal to the message value dot body to
law case
this will do is set the body to be law
kiss inside of that message / message-id
we can then write that because at the
moment we just have a reference to a law
kiss message value we need to now write
this back to the database and that can
be done by saying return event data dot
reference so that's essentially this
reference we are making the child
therefore named law kiss and the value
with set of that law kiss value so what
essentially happened is now we would
have a messages / message ID
and inside of that we will have a title
such as hey a body such as how you and
now will also have a law kiss which will
be entirely how are you with no
capitalization we can do the same now to
make an other case function inside of
that same message ID so I'll copy this
entirely
move these comments and instead of
saying law kiss body and law case let's
call this other kiss let's instead make
the function to upper case and to the
constable to other case body
also keep a consistent capitalization
with our case or so we'll do that and we
can set the child equal to upper case
with the value of Advocates body you'll
have to obviously ensure that we set the
locus body and the initial locus
function too so it should look like this
so Adam
simple implementation we can deploy this
to firebase by saying firebase deploy
and I'm going to use the - - only
parameter here and this will only deploy
the functions if you select 5s deploy
and you don't specify what you want to
deploy then of course it will deploy it
to the web if you have that accessible
you can also only deploy a particular
function so you don't have to deploy
each one of them and if you'd like to
know more about cloud functions and
using this inside of a project don't
forget I do of course have learned ionic
3 from scratch and you can find that
inside over the description so now that
we've deployed that if we take a look at
our 5s and we go over to functions we
can now see that we have this law case
and upper case function without changing
anything inside of our application and
this is the beauty of the functions we
can now say the title is equal to hey
with the body of how are you and now if
we select to send message we can take a
look at our functions and our database
because we'll have the law case version
and the uppercase version of that
message body if we select the logs for
our function we can see that our
function execution took nine
milliseconds and it finished with the
status of all care so this is an example
of how you can use firebase cloud
functions inside of your mobile
applications you can send more logic
away to your cloud functions and off the
client app and this will obviously allow
for a much leaner application don't
forget to check out Paul holiday dot IO
for more courses and of course blog Paul
holiday dot IO for my blog I do blog
quite often on topics such as ionic
native script fibers and much more until
next time I'll see you very soon in the
next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>