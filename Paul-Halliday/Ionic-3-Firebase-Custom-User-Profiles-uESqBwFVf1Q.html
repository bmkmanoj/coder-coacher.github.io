<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ionic 3 - Firebase Custom User Profiles | Coder Coacher - Coaching Coders</title><meta content="Ionic 3 - Firebase Custom User Profiles - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ionic 3 - Firebase Custom User Profiles</b></h2><h5 class="post__date">2017-07-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uESqBwFVf1Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we're going to continue
looking at our anodic theory and
firebase integration but this time we're
going to worry about adding if profile
so we're going to login with our user
and then we're going to fill out some
user data in this scenario you might
have things like a username if you're
making a chat application also you might
want to add things like profile pictures
maybe can't just not like date of birth
and so on
so if we have a quick review we do of
course have an app modular initializes
our angularfire
and of course import to the angularfire
or module outside of that we have a
login and a register page each one
simply signing in the user and of course
allowing the user to register
so let's hit the register button and
we'll register with the email address of
Paul at test comm and the password or
passwords if we hit register we should
then be able to navigate back to our
login page and of course log in with
those details if we do select that login
we are navigated to that home page so
what I want to do instead is to make a
profile page before that home page and
when the user logs in for the first time
and in this scenario we're not going to
check to see whether it is the first
time but we are going to send that user
to the edit profile page so what I'm
going to do is generate a new page with
the CLI by saying ionic generates page
and the page is going to be called
profile
Jinxy was generated a page named profile
and when the user logs in instead of
setting the root to the home page we can
set the root to the profile page and
then inside it the profile page here we
can start off by injecting our angular
fire author once again so we're pulling
them out in here from angularfire 2
slash off and we can make it very simple
user interface now at the moment I'm
going to capture one or two things so we
can have an eye on item with a level the
first one maybe will capture something
like a username and that will simply be
in inputs with the ng model over user
nem will make the level floating and
we'll copy this twice because the next
time we'll capture something different
like a first name and a last name and
seven better we can make ourself a new
model and I'll call it model the profile
dot TS and we can export an interface
named profile that profile will have a
user name of type string if first mam of
type string and the last man of type
string therefore we can say profile
inside of the profile page is equal to a
new object as profile so we have to
import that from our models slash
profile the TS
we can then say the profile but username
the profile the first man and the last
man if we have a button at the end of
all of this which will have the iron
button attribute the clear andyblog with
a click event of creates profile
then they also have a function and
create profile
inside of our credit profile we can
capture the auth states by seeing this F
or F dot ODS feds and this here is now
an observable in which we can subscribe
to so we can get the value here so we
can set off and then now that we know
this auth ID we can see privates F
database and that comes from angularfire
database let's import that from
angularfire 2 slash database
to use the angularfire database we'll
have to import the module by importing
the under fire database module inside of
our root app module TS like so and now
we can access the F database inside of
our profile TS now in a production
application I would put this inside of a
provider it just makes things much
easier to work with inside of a larger
app but now that we have this off we can
capture that author ID and we can set
our AF database dot list and can set
that to the following
something like the profile slash and
then we can say off UID so what this
essentially does is it allows us to
access the profile node inside a
firebase slash that person's or UID as a
result we can push the desktop profile
after which we can say dot then and
after that is complete we can navigate
our user to the home page in order to
enter we only take one value from our
old sphere we can import our x GS add
operator take and we can add it here to
our observable we can say that we only
want to take one and then subscribe to
that let's add some text to our button
such as create profile
so let's log in once again at Paul at
Tesco comm with the password or
passwords and if we hit login we now get
the option to create a profile let's
make a user name of Paul with the first
name of Paul and last name of Halliday
let's click create profile you'll notice
that we do get navigated to the home
page but perhaps more importantly we do
now get that user as we can expect the
user to only have one profile for
example you want to have multiple
profiles we can change this from a list
to an object so let's remove that and
instead of a list here we can say object
instead of pushing this object we need
to set the object and this means we only
have one version of the data let's log
in and create a profile again and if I
hit Korea profile this time we can now
see that instead of having that extra
node we simply have the node for the
user ID and then of course the profile
information so this is one of many ways
to generate our profile data but now if
we simply knew that persons use ID we
could query for their profile data so
what we can do is then head back to our
home page now instead of pushing this
onto the nav stack I want to use a set
root this will make it so we don't have
a back button when we get navigate to
that home page
and inside of the homepage at the moment
we are saying to the user welcome to the
application what I also want to do is
inject our database once again
and that comes from the ungulate
database like before so if you import
that not only can we display a message
to the user but we can say that the
profile data is a type firebase object
observable of type profile let's import
the object observable from angularfire
to slash database and old profile from
our models now that we have that we can
set the profile data equal to this AF
database dot object and then of course
pass in the profile slash data UID and
then this scenario data is simply off
from our previous page
so it's the same thing but in this
scenario we called that off and on
homepage we called the data so that's
all we need to do for our profile data
now if we head over to our home to HTML
I'm going to make some paragraph tags
and inside of the paragraph tags we have
want to see a profile data and will
ensure the pipe this is air sink well
add the Elvis operator because it might
not exist by the time we come to this
data and then we'll say username let's
say use member for that and we will then
copy this a couple of times the first
time for the first man
then the last mem and change our
variable men's
color to our navbar as well and the
final thing that I want to do because
we've already created a profile for this
user instead of navigating them to the
profile page once again I'm simply going
to navigate them to the home page you
could do your own checks at this point
to determine whether the user has
already made a profile but this should
now suffice if we log in once again so
if we log in at Paulet us comp and then
hit login we can see that our user data
is filled in with the appropriate user
name first name and last name let's
change that so the first name becomes
John the last man becomes door and the
user mem John Doerr if we head back to
our application you can see that it's
updated and we don't need to refresh the
page this is the beauty of fibers and
WebSockets and now you should have been
able to create a very basic profile
creation the winner I've done this has
used the auth ID for a key so we can
query for a particular user and of
course we're setting this here as an
object as we don't expect to be making
more than one profile in very select
cases you might want to make this a list
but I can't really think of many for a
profile so that's why we're using an
object here instead of doing this all on
the client we could also use cloud
functions for this idea of a video for
cloud functions on the channel so check
that out you could generate a profile
entirely on the server but for now at a
very basic level that should wrap up how
we can make a profile inside of our
ionic and firebase allocations</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>