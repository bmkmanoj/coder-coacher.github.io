<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mocking an Ionic 2 Camera Application with Ionic Native 3.x+ | Coder Coacher - Coaching Coders</title><meta content="Mocking an Ionic 2 Camera Application with Ionic Native 3.x+ - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mocking an Ionic 2 Camera Application with Ionic Native 3.x+</b></h2><h5 class="post__date">2017-03-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/F8iO1p83Djw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we're going to make an ionic to
camera up to there and it's going to be
using ionic made of three point eggs to
get started simply borrow an ionic start
camera blank b2 when you've done that
you can install the Cordova plugin by
running Cordova plugin adds Cordova
plugins camera awesome we'll have to
include the ionic native plugin for the
camera do that by typing npm install
apps ionic native camera and we can save
that to the project I'm not going to run
ionic serve so we can see in the browser
and then I'm going to simply open up in
vs chord okay to start with let's build
out our with view so let's navigate to
the source directory then pages then
home to rename our title to ionic to
camera let's then change our navbar
color so you've primary to make it blue
then we're essentially going to have an
image element right here and the source
of which is going to be equal to our
image and then that we're going to have
a button down here and that's simply
going to say it's a picture the button
is going to have a click event and it's
basically going to say it a picture in
our home TS we need to first off make
the image element it's going to be a
string and let's just quickly mock out
our function could be a sink it's going
to be called a picture and it's going to
return a promise like so
to use an ethic function we'll have to
go SES config and make the target es6
awesome now we can go over to app module
and import camera from ionic may of
camera we then need to add this to our
providers like so and then we can use
the camera within our app so if we go
back to home we can start filling out
this function we're simply going to say
distal image is equal to the resolved
from us using me aware keywords of this
dot camera sort of gap picture and
that's going to have an option variable
with it tube going to quickly comment
the filament to know but that's
essentially what we're going to be doing
we can import camera at the top here
from IMO narratives like so and then we
can instantiate within our constructor
so private camera camera like that so
you can see our function at now nearly
works it just needs an options to get
options we can get it out of the ionic
native camera libraries like this camera
options and we can make a new options
within our class cool there we go
now right now we would have to also add
a try-catch block to this and then we
could simply log out any exception now
right now this would work on the form if
we simply click take picture have a
quick look at any errors that we might
be getting in the contour and we get me
the europe cordova not available which
is completely fine because like i said
we're on a desktop but what happens if
we want to debug this on a desktop well
with ionic native 3.0 we can navigate
back to UART module and we can create
our warm that sort of mocked camera I'm
simply going to make a new file called
camera stop Mach 30s
so within camera monk we can import
camera from ionic native camera and then
we can make our own mocked class so we
can simply say export class camera mock
and it's going to expend the camera
and what this essentially means is that
we can make our own get picture function
which will return a base64 image and act
like it would on the device so I'm
simply going to make a get picture
function and as you can see this simply
returns a new promise which resolves a
image an image as base64 all we need to
do now is go over to our module and
simply choose a different provider for
our camera so we're going to import
camera mock from camera box and we're
still going to provide camera but we're
going to use the class camera mark and
while in development that should allow
us to get an idea of whole works without
having to run on the device every time
we can see when we click take picture
all for naught appears as if it was
taken via the camera to simply use this
on a device without mocking the
functionality we can remove camera mock
and put bike our simple camera provider
if we were to press take picture on the
device it would come up with the camera
after that you would be simply showing
it right here I hope this has helped and
allows you to add a camera to your ionic
2 app if it has I would love you to
click that subscribe button and check
out lunatic to calm for more information</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>