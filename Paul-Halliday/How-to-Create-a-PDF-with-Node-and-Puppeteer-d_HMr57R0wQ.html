<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Create a PDF with Node and Puppeteer | Coder Coacher - Coaching Coders</title><meta content="How to Create a PDF with Node and Puppeteer - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Create a PDF with Node and Puppeteer</b></h2><h5 class="post__date">2018-04-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/d_HMr57R0wQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so this is the second video in our
puppeteer series if you haven't seen the
first or we learn how to take a
screenshot go ahead and watch that now
but next up we'll be looking at how we
can make it PDF from a particular page
you may have seen that when you go to
print a particular page inside of Google
Chrome but you can actually save this as
a PDF I do this quite often when I don't
have access to a printer but I do
actually want to save the file to
printer later on so we save as a PDF to
be printed when I have access in this
video we're gonna do exactly that
puppeteering allows us to have a
headless version of Chrome as we already
discussed and we're gonna make a new
function called create PDF and this is
going to be using a sink and a wit if
you haven't seen it sinking a word
before
check out my air sink &amp;amp; Away videos when
we look at that in more detail so once
again that we are going to create a
browser and this is going to be
something we do quite often with
puppeteer because that's the whole point
we are simply making a new browser
instance which then gives us access to
Chrome we will then be making a new page
so we'll await on a browser don't need
page this page here has a variety of
different accesses so we can do
everything from bring the front
cookies so we can use things like go
back go forward but we want to use go-to
we want to go to a particular URL so the
URL will be any URL of your choice and
my instance of Annie's my website and
because this is a promise we are gonna
use await we're gonna firstly pass no
options to go to but if we look here we
have this partial and this allows us to
give either a timeout or wait until so
if we want to make it PDF we potentially
don't want to make a PDF the second that
we navigate to this site because there
may be elements that haven't loaded at
this point so instead we want to use
wait until to select a particular event
if we look at the Lord event we have
access to either Lord and that's the
default so that's when the law
event is fired alternatively we can use
the Dom content loaded
this is won't be Dom content loaded
event is fired once again or we can use
network ID or 0 or network idle - what
this means is that the navigation is
considered to be finished when they are
normal then either zero or two network
connections and that's considered to be
within at least 500 milliseconds so
we'll be using network idle - so let's
pass a new object which uses words until
and will use the network idle - so next
up we need to make a PDF of the page and
that can be done by using a web page dot
PDF so quite simple and at this point we
want to provide air path so we need to
look at what these PDF options are so
let's dive in and as you can see we have
an interface here which is the PDF
options we have access to things like
air path which is the path to save the
PDF - of course once again if we don't
provide a path that it won't be saved to
disk at all so we do need to provide a
path here even though it is optional if
that's something that we want to do next
that we have things like the skill of
the web page do we want to keep this at
one I think so at this point same goes
for the header and front that we want to
display these inside of our PDF we can
also add a header template if we want
same goes for a front a template and we
continue to like it various other
options such as printing the background
graphics the paper orientation and much
more I think we'll keep things mostly to
the defaults at this point but we do
need to provide air paths or making new
options objects you can pass it directly
into the mat that if you want and we'll
set the path equal to PDF slash web dot
PDF this would be the website PDF so it
will go to a PDF directory another thing
you might want to do which we didn't
investigate just then is give this a
former as you can see for a PDF format
we can select everything from a letter
to ledgers to particular is zero
to air-five standards and I think it
will set ours to f4 so let's set the
format to be f4 and we'll pass in the
options to the PDF of function well now
at this point close the browser and
remove it from memory because we no
longer need this browser
we've created our PDF and we should be
happy to see inside of that directory
let's call our function I get a pretend
that you maybe have this as part of a
library that you're creating on Yuen's
and if we run nodes and at this point
we've run Nord ogs because that's the
name of our file it should go ahead
navigate to that page it should then
take a PDF of that page and in air for
formats it should save that in the path
of PDF with the file name of web dot PDF
and finally close out the browser if we
now run node up door GS
it should firstly create a new browser
instance navigate to that page then it
will create a PDF with the options that
we set so the path of PDF slash web dot
PDF that's the file name here and of
course then we have the format of air
for do make sure you have created that
PDF directory before going ahead and
running this as it likely will not work
so if we clear this and we CD into PDF
and we look at the files we have web PDF
which we can then open so that's how we
create a PDF inside of Puppets Nia don't
forget to hit that subscribe button
stared with more content let me know
what you think inside of the comment
section below and until next time I'll
see you soon</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>