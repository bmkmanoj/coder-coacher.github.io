<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using the DomSanitizer to Embed YouTube Videos in Ionic 2 / Angular Applications | Coder Coacher - Coaching Coders</title><meta content="Using the DomSanitizer to Embed YouTube Videos in Ionic 2 / Angular Applications - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using the DomSanitizer to Embed YouTube Videos in Ionic 2 / Angular Applications</b></h2><h5 class="post__date">2017-03-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/2JeKfQ2r2r8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">everyone Paul Halliday and today we're
going to look at embedding YouTube
videos within our angular 2 and ionic 2
applications so simply start a new ionic
projects by running ionic start YouTube
- embeds blank and using - - v3 tenchu
about an iron of 2 project then when
you've done that open up vs chords or
your preferred and a ton and then we'll
go to home to HTML and start filling in
a little template so ionic title will
then become YouTube embeds the navbar
will of course become primary and then
we can go into a home TS and we can make
in a red now this array is going to be
simply an array of videos so it's gonna
have a title and then it's going to have
an embed link so this one makes sense in
a second so there we are
we have an array of videos of array ne
and there simply has a title a video and
it's eye television so this embed code
here when we run it in our ng 4 will be
responsible for hooking into the iframe
source and it's simply injecting the
video url there this will make sense in
a moment for now we'll make an eye on
cards and inside the card will have an
eye on card header and that's going to
be where our title goes and then we'll
have the eye on cards content be
responsible for what the video so then
we can do an NG for let's video all the
videos and we can simply put video title
and then we can embed the video within
an iframe inside the content so we can
take a standard iframe that we get from
YouTube and replace the source to be of
the video video and that is simply going
to be this right here now that's it
that's all you need to do but you'll
realize that this doesn't work so when
you save and you open up your app you're
going to get error caused by an unsafe
value in a resource URL now essentially
this is to stop cross-site scripting so
we need to overcome that by what you
call sanitizer at the ER
well before we display to do this we're
going to make a custom pipe know if
you've never seen a pipe in angular2
before don't worry I'm going to explain
it as we go along so head over to your
terminal and run ionic G pipe and we're
going to call the pipe it YouTube you
can then see your pipe in B pipes
directory and a u-tube TS we need to add
the pipe to our project so go to app
module TS and important so we want to
import from pipes YouTube and then we
want to add it in our declarations so
what a plague does is it takes anything
in its transform function and the value
of which we can then do something with
so for example in the standard pipe
example it takes me value and returns up
to lowercase so it makes everything a
little kiss and it spits out in you
value so what we're going to do is
simply input our URL is the value here
we're going to sanitize vrl and then
we're going to return the sanitized URL
so to do this we need to simply import
domeless sanitizer from angular slash
platform browser and then that we can
inject it in air constructor so let's
make a constructor here private dahm
dahm sanitizer and before we do anything
with the Dom sanitizer I just want to go
through the pipe again so let's console
dot log B value if we transform and
inside of our home dot HTML we can then
parts video or video and to use a pipe
we simply put the pipe operator and then
the name of the pipe sort YouTube and
that's the member of the selector so
that can be different than the pipe
itself so we could call this if we
wanted to sanitize them but we'd have to
go back in our HTML here and instead put
sanitizer it's often a good idea the
public pipes the same name is your class
so we're going to simply put it back to
you
so when we are be pipes for the video
you can see that we no longer get the
error but now it says cannot get null
because inside of our pipe we're
returning nothing we're simply just
logging out the value so this means in
our console we can actually see the
results of the transform function here
on every single one of the URLs as our
iterates through our array with ng4 so
we have the first embed here and be
second embeds there and this is locked
inside the transform so what we need to
do is instead of logging out we need to
return a sanitized version of that so
return this vom dach bypasses security
trust and resource URL and then the
value this will return at the sanitized
URL for every single one of the URLs in
the array and we should find that our
embeds works and we can make this a
little prettier if we go back here and
instead of width B and 560 we make it
100% and babe always fits now inside the
cards we can press play and we can see
the cards that plays the YouTube video
within the app the final thing you'll
have to do if you're building for iOS
you'll have to go into your config dot
XML and you'll have to add allow
navigation each ref HTTP call on slash
slash star youtube.com slash star this
fixes a lot of the problems when I'm
betting on an iOS device but aside from
that you should be done if this video
will help to you and you can now use an
embedded YouTube video within your app
then hit that subscribe button and for
all other tutorials check out learn
ionic to calm for more info</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>