<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>A Gentle Introduction to NativeScript Plugin Development | Coder Coacher - Coaching Coders</title><meta content="A Gentle Introduction to NativeScript Plugin Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>A Gentle Introduction to NativeScript Plugin Development</b></h2><h5 class="post__date">2017-05-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bfDQUPSo5t0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey it's Paul today I'm going to look at
creating our first native script plugin
for Android we'll take a look at the iOS
one in a future video but for now we'll
just get a simple up and running demo
for an android project sometimes I find
myself taken for granted just how many
plugins to are inside of the community
if you want to do anything in your
application you can just pull in as
third-party plug-in oftentimes you might
find that it just feels so complex to
make these plugins yourself and with
native scripts it's actually really
really easy in this video we're going to
be interfacing with Android to get the
version number of an application not
exactly the most complex plug-in in the
world but it should be a gentle
introduction to plug-in development with
native script one of the things that can
help us when developing the native
script plugins is to use a seed a seed
is just a starter project that contains
everything we need to get started on
focusing on writing the plug-in itself
rather than setting up the files folders
and dependencies nests and walker's
created in near the script plugin seed
that we'll be using with in this project
so we can now corner the plugins seed
i'm going to clone this into a folder
named herb version and when we've done
that we can change our directory and to
art version and from within here we need
to run at the post cloned script we can
do that by running npm run post corn and
this essentially runs an NPM install and
then starts our plugin seed
configuration I'm going to add my github
username and then we need to set a name
for our plugin I'm going to set up -
version and I do want to initialize a
fresh local git project so I'm going to
answer yes to this and can now run NPM a
run setup this male takes our plug-in
and installs or into a newly created
demo project this means we can test our
plugin super-easy by simply running the
demo let's open up the project inside a
visual studio code and get an idea of
how it looks inside of our app version
folder we now have things like a demo
folder and the demo folder simply
contains our native script up
occasion we have our node modules which
is our dependencies but the most
important files were then here are the
app version iOS 30s the app version
comment ES and the app version dot
Android PS files like the app version
dot iOS and Android our platform with
specific plugins and the app version
common is for functionality between them
both for example right now no matter
whether we're on an Android or an iOS
device we do get an initial dialog box
the box appears answers your plug-in is
working on and depending on whether
you're running Android or iOS will
obviously tailor that message for now
let's take a look at how we could get
the app version within Android so our
journey starts at the Android
documentation we've done a lot of
begging and we find out but we need this
package manager in order to get
information about the package on of the
device so it says you can find this
class through get package manager and
that's how we do it on the Android
device from within at the Android SDK we
can interface with the Android SDK by
importing from application and from
within application we can import Android
and if we take a look at the description
we see that and encapsulates the methods
and properties specific to the Android
platform as a result we can access
things like that get package manager so
let's add a constructor and we'll call
super because this expands common so
because it expands common we'll have
that dialog box the next thing we'll do
is grab an instance of that package
manager so let's say Const package
manager is equal to Android doc context
don't get package manager and now that
we have this package manager class we
can do things like get the package info
this is the overall information about
the contents of a package and as you can
see this corresponds to all the
information collected from the Android
manifest don't XML
so inside of our demo application under
up up resources androids we have the
androidmanifest.xml so we want to get
this version name which is 1.0 we could
change this and we get different version
name when we actually retrieve it using
our plugin but for now what we want to
be looking for is that warnet dot 0 from
within AV package manager we can now
access the get package inform method we
need to pass in a package name and any
flags that we want to pass along with
that if we set const package info is
equal to our package manager as this is
the instance of our package manager dots
get package info and in order to get the
information about this particular
package we have to get the context for
this current package by seeing android
context they'll get package name and
we're not interested in any other Flags
source their flags of 0 so now we have
access to the package info let's take a
look about inside of the docks we have
the package info and if we scroll down
we see something called version and name
this is the version name of this package
and we could also get any of the other
features such as the package name
version code and so on but for now we're
going to look at the version at NIMH as
a remember that's what's reflected in
this version name here so we can say
Const version NIMH is equal to our
package info dot version name and the
final thing that we might want to do is
instead put the message equal to that
version name as we expend in common we
have access to this message string which
appears on screen so let's set our this
message equal to the version number for
this package is and we'll pass in that
version and name if we've done
everything correctly we should now be
able to run our project and see the
results of this on screen so that
there's no magic I'm going to show you
how this works inside of our script
within packaged or JSON we have this
demo android and demoed iOS
I'm going to run this on Android because
we've made an android plug-in at this
point and I'm also going to run this on
the real device rather than an emulator
so I'm going to remove this emulator
flag but you can keep it there if you
want to run this on an emulator I'm
going to save the package to a JSON if
we then run NPM run demo dot Android
they should install it on the Unruh
device and we should be able to see the
results of our plug-in inside of the
application the first thing that we get
is the fact that our plugin is working
on Android this is because of the common
dialog and the next thing that we get is
the version number for this package is
Warner dot zero let's make some changes
to the Android manifest to instead cut
the version name to be one dot one and
save our file this will rebuild the
project on the device and after running
it once again we do indeed get the
version number for this package is 1.1
so in this video we had a look at
creating our first native script plug-in
for Android we looked at the Android
documentation to get an idea of how we
can implement the functionality that we
want to implement we then implemented
that inside of our app version for
Android we deployed it onto the device
and of course we tested it on the device
to see whether the functionality
actually worked so now you've got an
idea of how you can access the native
device api's within your native script
up I hope you create some interesting
plugins and I'd love to see what you
make inside of the comment section below
until next time my name is Paul Halliday
and I'll see you very soon in the next
video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>