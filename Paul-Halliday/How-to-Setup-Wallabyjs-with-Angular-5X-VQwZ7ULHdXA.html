<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Setup Wallaby.js with Angular 5.X | Coder Coacher - Coaching Coders</title><meta content="How to Setup Wallaby.js with Angular 5.X - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Setup Wallaby.js with Angular 5.X</b></h2><h5 class="post__date">2017-11-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VQwZ7ULHdXA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi there in this video we're gonna lucky
getting up and running with wallaby dot
Jess before we dig too deep in
understanding what wallaby is I want to
bring your attention to quokka now I've
already made a video on quokka before it
essentially allows us to see the results
of our javascript live inside of the NS
a-- leave an example of this if we had a
variable called X was equal to one two
three if we merely put X on screen we
can see the returned value which would
be one two three we could do the same if
we had a function called add two and I
would have an air to be and it would
return a plus B we could therefore log
out the results of add two with one and
two at this point we expect again three
and of course we do see that three on
screen you'll notice that if we don't
use our two it does go Orange because
the function is being declared but not
exactly being used now at the same time
I want you to think about this but
instead of this we have our four unit
tests so this allows us to see not only
the results of our unit tests but live
inside of our editor I do a nasara'
before we get started air wallaby
license does cost and they've kindly
donated me a license to give it a shot
so I want to show you how you can get
the wallaby experience inside of an
angular application so what I want to do
is run ng nu and this will be called
wallaby and essentially it will start a
new angular project named wannabe you
will of course have to install the
angular CLI
Stanworth npm install at angular / co i
- g if you haven't already but after
you've done that you can run ng new
wallaby to setup the project we can now
change directory to wallaby and at this
point we can also install some
dependencies
to install wallaby webpack an angular 2
template lauder now if you want to use
the electron test runner at this point
you can also install electron but I'll
be using Chrome inside of my example so
let's just save these to the Denver
dependencies and continue with our
project after that we can run code space
dot or open the sub simply in the editor
of your choice so set up our project the
next thing I want to bring your
attention to is something called the ng
CLI web pack sample and this is a
repository under wallaby GS and this has
everything that we need to get up and
running with angular so we're going to
be following these steps
we're firstly going to add the wallaby
don't GS config file to the project so
inside of this repo here I want to take
this wallaby dot J's here
I want to click that and hit raw at the
top we can then command air and command
C or simply add control if you're on
Windows and of course copy everything
inside of this file and add it to our
project so on the root of our project we
can make in new file and that will be
called wallaby don't jazz and we can
paste in everything from that file let's
firstly start off by having a quick look
at what this file is doing so as you can
see we have this web pack post processor
we're starting off with the wallaby test
dot J's file and that is essentially the
bootstrapping file that we'll be
creating after this after that we're
ensuring - like at any test files inside
of the source directory
so for example if we had the app
component dot spec don TS
he don't spec dot TS is what we're
referring to here when we see a test
file
after that we simply have some module
orders some more configuration for parts
but more poorly we're looking at things
like the test framework for example if
you weren't using Jasmine you may want
to change this and of course the
environment object this has a kind which
is currently equal to electron and
remember one we were installing our
dependencies I said if you wanted to use
electron you could go ahead and install
that but instead I'll be using Chrome so
I'm going to replace that for Chrome and
hit save the next thing we want to do is
add the Wallaby GS test bootstrap file
to the project
if we hit source we can navigate to this
wallaby test a dot t-- s and open up
role once again let's copy that and add
that to our project so inside of source
let's make a new file called wallaby
test dot t-- s and let's paste in the
bootstrapping cord for our project
so this justa sets up our test
environment and the final thing we need
to do is head over to our TS config dot
JSON and underneath the compiler options
at another key called exclude and we
want to exclude the wallaby test don TS
file
so now I want you to install the Wallaby
dot GS plugin or extension for visual
studio court you simply just search the
store for wallaby dot G s you should be
able to find it and add it to your
editor at this point we can head over to
our app component dot spec TS and hit
command shift equals
we can then select the configuration
file and from the drop-down list I want
to select the Wallaby dot JS file at
this point we can hit start if we open
up the drop down box once again and
after a moment or two we shouldn't see
the results of our tests on screen so
you can see that we have one of the
tests here it should have a title called
app and we can expect the app title to
equal up
let's say perhaps who have changed under
equals something different such as hello
and you can instantly see that we have
this problem we have these red boxes
with the error message appearing right
next to our cords there's an expected up
to equal hello and if we mouse over this
you can see the side-by-side difference
so it did expect hello in the red but of
course it received a p-- if we were to
put this back to up and fix this you can
see that not only does our error message
disappear we should notice just how fast
it disappeared as far as I'm aware it
only runs the one test so now all of the
tests have run when anything changes so
we do see that we have these 71
milliseconds or even 28 milliseconds for
each test so you should now have a much
faster workflow with wallaby I'll be
using it a lot myself on a big fan of
the project since I found it and I hope
you have as much fun as I do so that's
how we get set up with wallaby inside of
our angular applications
Oh</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>