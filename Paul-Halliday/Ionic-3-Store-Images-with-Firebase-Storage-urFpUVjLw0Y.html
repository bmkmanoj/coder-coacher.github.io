<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ionic 3 - Store Images with Firebase Storage | Coder Coacher - Coaching Coders</title><meta content="Ionic 3 - Store Images with Firebase Storage - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ionic 3 - Store Images with Firebase Storage</b></h2><h5 class="post__date">2017-08-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/urFpUVjLw0Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi there my name is Paul Halliday and in
this video we'll be taking a look at
firebase storage the context of which it
will be inside of an ionic angular
application so let's get started and
make a new ionic app by running ionic
start firebase storage ionic and we'll
base this on the blank template I will
use kiss we'll be taking a picture from
our camera and then of course uploading
this to firebase and then displaying
this on screen the awesome thing about
this is we'll be using the JavaScript
firebase SDK and this is not angularfire
- so usually when we interface with
firebase and our angular apps we're
using both e-5 SSD gear and angularfire
2 but this tutorial will simply be
looking at the firebase JavaScript SDK
this means it's the same for just about
every platform you're using and nothing
here is angular specific awesome we can
now see the end a5s storage ionic and
inside of here we need to install our
project dependencies so let's think
about what those project dependencies
are I imagine we will need 5 s and it
will also need the types for ionic
native slash camera so let's add these
to the project and then afterwards we'll
add the Cordova plugin for the camera
and that can be done with ionic Cordova
plug-in adds Cordova plug-in camera once
we've done all of this let's run ionic
lab just for now and then we'll run this
on a device or emulator in a moment
as well as that we can open this up
inside of our and a cell with cord dot
so far we should be greeted with a blunt
ionic application which is standard for
everything that we do when we create a
new project based on that blank template
the next thing to do is integrate
firebase and if you haven't already
create a firebase account so head over
to the firebase dashboard by navigating
to firebase google.com and when you've
logged in you shall be given the welcome
to firebase screen either select to your
project if you're coming back to
firebase or if you're coming for the
first time select add project I'm gonna
select the country equal to United
Kingdom and I'm also gonna call this
firebase storage ionic hits create
project to continue and after that we're
going to navigate to storage so hit
storage here on the left and then select
get started as you can see if we head
over to the rules tab fiber storage
allows us to read and write to the
database if we are logged in at this
moment in time I'm not going to look at
authentication but I've already made
some videos on that so if you are
interested in authentication check out
those first and right now we are simply
going to delete if request auth is not
equal to true so let's allow read and
write on all paths hit publish and this
will save our rules and you should get
your security rules a set to public
anyone can read or write to your storage
bucket that's exactly what we want for
now and the next thing to do is capture
our API key and add it to our ionic
project so if we go back over to
overview we can see welcome to firebase
get started here select add fibers to
your web app you'll then get a pop-up
which allows us to see our API and other
information about the project
simply copy the object itself so
everything from this breast to this
brace and we can then navigate to our
application and add this inside of our
project so here we are inside of the
firebase storage project that we created
earlier with the CLI and there are
numerous amounts of ways to get started
with adding firebase in your project and
what I'm going to do is simply make a
new file named firebase config TS
and then here we will export a constant
named 5s config and what we can do here
is paste in your API information so this
will contain your API key your author
demand database URL and so on
obviously the values here on-screen are
simply dummy information but for you you
should have the correct info from the
firebase dashboard
once we've done that we can initialize
firebears inside of our components and
what I want to do is head over to home
OTS this is our home page and as we're
not using angularfire we're simply going
to initialize firebase inside of this
component only so to start off let's
import fibers let's import storage from
a firebase and that will allow us to use
the storage API we'll also need the
initialize app function and that allows
us to initialize the fibers SDK with our
information so inside of the constructor
or ng on a net we can say initialize up
and pass in the firebase config if you
remember the fibers convict comes from
up slash a firebase config let's now
take a look at using the camera which
will allow the user to take a photo and
then of course upload desta fiber
storage so if we hand over to app module
TS
and inside of all providers we can
import camera that comes from ionic
native / camera and then back inside of
our homepage we can inject camera into
this component so let's inject a private
camera of type camera we'll need to
import the camera once again from ionic
native and now we can make ourselves a
function which allows us to take a photo
so let's make a kink photo function and
we first off start by defining camera
options so the camera options have an
interface here called camera options
let's import that and add that to a
ionic native / camera and we can make
this equal to a new object which
contains some information I'm not
interested in having a large file size
so let's make the quality something like
50
I want quite a small image so we'll call
s 600 by 600 the destination type will
be this dock camera
don't destination type don't data URL
this gives us our camera image back as a
base64 image and there are a variety of
different ways in which we can capture
this in a broader over two 5s will
encode our image by saying disco camera
dot encoding type equal to jpg and
finally will ensure to sculpt this to
only luck at pictures
so that is our camera options we can now
use the camera to get the picture pass
in our options and I will make this
function an async function so wrap this
inside of a try/catch and we'll say a
weight this camera don't get picture so
we can capture the result of that into
the result variable
we can then capture in new storage
reference so let's say Const pictures is
equal to storage dot ref and the
reference will be pictures and then we
can set pictures dot plot strength pass
through the result and before doing so
I'm going to make a new constant image
which will be the data image slash JPEG
because it's a JPEG image and as this is
bear 64 we will combine that and the
result therefore we can put string for
the image and tell firebase that this is
actually it data URL let's head over to
our home to HTML and inside of here I'm
going to change the title to firebase
storage can give the navbar color of
primary and will also make a button that
simply says take photo this will require
the I on button arrow beads and the
click event of take photo
we can then run this on our Android
device and if we've done everything
correctly we should build a take a photo
and upload this to firebase storage
let's check that out to run this on
Android I'll be running ionic cordova
run android - l this will start a
library lord server on our Android
device
and if we go ahead now and select take
photo you won't be able to see this here
on the screen at the moment but if we
then take this photo of the current
computer screen and we hit or care this
will take us back to the home page where
we get our take photo button once again
but now if we navigate back to firebase
we should see our photo here we are back
over at the firebase dashboard and if we
select this picture here named pictures
we can see that here is the photo that
we just took a couple of quick
improvements to this would be to make
its own folder pictures slash and then
perhaps call the image a random ID or a
specific thing for example if we had the
pictures slash my photo and if we save
the file
and we're following any further I'm also
going to delete this pictures here on
the 5's dashboard and if we elect to
take a photo once again I'm simply gonna
take a photo now of the cord you can see
that our storage now has a pictures
folder and inside is that my photo that
does contain obviously the photo of the
cords at the moment you can see that
also the wrong way around that can be
fixed inside of our camera options if we
select correct orientation and make that
equal to true that will flip the photo
around so it's displayed correctly so
that's how we can get started with
firebase storage inside of our
JavaScript applications this is a very
simplistic example and honestly you can
do way better than this but I just want
to get you into a firebase storage and
starting to user to store your photos
and other information
I think that you may want to keep in
mind here is when we use destination
type of deadly RL this is very very
memory intensive so you will run out of
problems if you're using this and
production I would not recommend that
I'll look at other things like file your
eye and so on but this should get you up
and running with five air storage at
least</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>