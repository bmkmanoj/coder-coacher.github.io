<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Introduction to Express and Pug | Coder Coacher - Coaching Coders</title><meta content="Introduction to Express and Pug - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Paul-Halliday/">Paul Halliday</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Introduction to Express and Pug</b></h2><h5 class="post__date">2017-08-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/cddghkeGAdU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi my name is Paul Halliday and in this
video we'll be looking at Express it
should be a gentle introduction to
Express and it's not certainly going to
be like everything but we will be
looking at things like view engines and
also setting up our first server and
passing properties to different pages so
let's start by making in new directory
and that directory will be called my
first Express app we can add CD into my
first express up and inside of this
folder we'll need to run NPM in its -
why this will start us a new in old
project and create a basic package tour
JSON with everything at the defaults we
can then install Express by using NPM
install Express and this will add this
to our package JSON and we'll also be
able to user inside of our project after
that I'm going to open the project up
inside the Visual Studio code let's run
code dot inside of the folder I'm going
to create a new file called app don't GS
and FG s as well we'll keep all of our
code at this moment in time so we can
start off by requiring an instance of
Express so let's say Const Express is
equal to require Express so this Express
variable gives us access to the Express
API we can now again the instance of
Express by saying Const app is equal to
Express and we'll make that a function
declaration and that means we can use
all of the different functions on
Express such as making a new API making
any server and so on we'll start off by
using app don't listen an app dot listen
starts us a new server on a specific
port will add the port number of 3,000
and we can also add a callback at this
point so if we edit a call back that
said console don't log listening on port
3000 we'd get a log inside
the console when the application starts
that were listening on port 3000 this
just tells our user or us that we can
navigate to localhost at 30,000 to
access our Express application I'm then
gonna head over the package to a JSON
and our main entry point inside of the
standard package JSON isn't indexed nor
GS file let's change that to be up don't
yes we can then head back to our
terminal and inside of our terminal we
can run node up don't GS as you can see
we are listening on port 3000 if we head
over to port 3000 you can see that it
says cannot get a slash and what this
means is that it can't make a get
request for the root URL although it may
look like a scary error message that's
exactly what we want at this point in
time because we haven't defined any sort
of functionality for that root slash so
let's use up don't get and pass end
slash here and that will be for any
connection that comes to our routes
localhost 3000 and this gives us access
to something known as a request and a
response as you can imagine the request
is the request coming in and the
response is what we're pushing back to
the client
for now let's render some text inside of
a h1 tag which simply says hello Express
let's save the file and you'll notice
that even when we refresh our page it
still says cannot get a slash and this
is because when we start a node
application using Nord app dot GS it may
listen to the port 3000 but none of the
changes that we make instantly updated
we'd have to restart our server by
saying Nord app yes and the canceller
server
it's ctrl C and when we restart and
refresh our page you'll notice that we
get this reference error it tells us
that res is not defined
and this is one of the awesome things by
Express anytime we have any sentence or
like that it appears on the page so we
can effectively debug you can see that
it's on line six and if we take a look
at line six you can see that we are
using Reds instead of response
let's see use response and go back to
our node application you can also see
the aura inside of the console but let's
turn off our project and use clear or
CLS inside of windows and instead of
running Nord RGS again to restart our
server let's install a Nordmann so we
can use npm install Nordmann - g
and what Nordmann does is anytime we
change our Express application it'll
automatically compile the changes so we
won't have to restart the server every
time it will simply be available when
we've refresh our page awesome now that
that's installed we can run Nordmann
inside of the console you'll notice that
it started on opto GS and we're
listening on port 3000 a new to lesson
on app dot J's because of the main
inside of packaged or JSON as we changed
esta up GS and need to lock for that and
then executed the Express Court when you
refresh our page looks like we've made a
syntax error we'll be coming back to
render in the future but now let's use
response dot send when we refresh our
page you can see hello Express but our
previous error message said we need a
view engine so a view engine allows us
to take advantage of things like data
binding if-else and so on
the view engine that we're going to use
here is pug you may have heard of Punk
in the past they was previously called
Jade so to install Park we can run npm
install bug and one less installing will
like it's setting up our view engine so
in order to use pug inside of our
express applications
we need to tell express by saying up
don't set and then set the view engine
equal to pug this then allows us to use
the punk files inside of our application
now Express Lux for any view engine
files inside of a views folder let's
make that views folder inside of our
root file I'll then make a new file
called index topic we can think of this
as the index for our application similar
to an indexed or HTML and we can start
off by defining the doctype equal to
HTML Polke works by using indentation so
we're in a standard HTML file we miss a
h1 my name h1 and pug it would lock by
saying h1 my name an example of the
indentation may be something like when
we add our HTML tag we'd also state that
our language should be English then
inside of that we'd have a head tag
which would have a title of my
application a body tag which maybe would
have a h1 of hello express and maybe
some other information such as a P tag
that says I'm new to Express
if you've never used Punk before you may
find this a little complex but as time
goes by you'll start to love the
features that pug gives us now that we
have a very basic pug file we can head
back over to opto GS and instead of
sending hello Xpress we can instead
render a particular pug file the file
that we're going to render is inside of
views and it's named index so let's
render index when we refresh our page we
can see that we have Hello Express and
the paragraph tag of I'm new to Express
you'll find that writing views worth
pugs is a lot of time but there are
other templating engines out there such
as handlebars and more let's take a look
at making another route so if we had app
don't get and we placed in another route
for example slash account
would have another request and response
and this time we'd want to render a
different pug file let's make another
pug file such as a count dump pug and we
can copy everything from our index top
pug and place it here inside of a
counter poke now we can change the title
to account and change the h1 to perhaps
our name and now we can add a button
with the text of logout
if we head back over to our app dot GS
we can use response don't render and
render the account hug as you can see
now we have a Paul Halliday h1 and a
button that says log out if this was an
account page we would have made a
separate route now slash account and we
also have the routes route of simply
localhost at 3,000
so already you can see the power of
making these two routes and allowing the
user to navigate our application you may
be thinking though at this moment in
time we have these two views and both of
these views are taking up the same
chords everything above the body here is
practically identical apart from the
title let's pretend we had an
application wide title and the title was
called Express application we then want
to take all of this content here and
place it in its own file let's make a
new file called layout bug we can copy
all of this information into layout bug
and we can make our other Pug files
extend from this file and the way that
we do that is by allowing the other
files to inject their content in a
specific location so inside of our
little pug let's make a block and that
block will be called app content this
means any time that we want to inject
content into the body here we can inject
it into this app content let's head over
to our index table bug let's remove all
of the above content and instead we can
specify that this here should go inside
of our App content block we also want to
extend using the extends keywords the
layout don't poke so it may not seem
immediately obvious but if we check I
would develop a console we can see that
we have everything inside of that layout
bug we have our HTML with the language
of English we have our heads we have our
title and we have our body if we wanted
to include another file for example if
we had some specific folder information
or header information we could make a
folder known as includes inside of this
folder we could make a header dot Pug
and the thing about includes is that we
don't put it in a specific Blanc it
allows us to just inject it wherever we
want to inside of our application so if
we wanted to place a huge one and that
would be the name of our application so
perhaps Express application and we
wanted to add that header throughout our
app we could save that and then instead
of saying h1 here we could head back
over to our layout book and above the
block for app content we could use the
include keywords and let xpress know
that our header resides in the includes
folder slash header dot poke
if we save the file you'll notice that
we now have Express application as a
hitch one inside of our index pike
let's match up our account dog pug to be
similar to our index let's extend from
the layout let's inject the inside of
the block app content and we can put our
previous content such as the h1 and our
button if we've done everything
correctly our account should still have
this Express application h1 and when we
refresh our page it certainly does
and that's because we're including the
same bug file throughout different views
inside of our application hopefully you
can see the power of this inside of your
apps
and feel free to include as many pug
files as you want and try and make them
as modular as possible the next thing
I'd like to look at is rendering items
on screen from our fgs inside of our pug
files so when we render this account
page I also want to pass through an
object and if we now pretend that our
application is a banking application and
we'd be rendering a particular amount of
money on screen so let's use money and
we'll simply render 100-pound what this
essentially does is it passes the money
variable to our Pug templates so that we
can then render ourselves it doesn't do
anything with this variable but it
allows us to render inside of Pyke so
let's do that head back over to our
account dull pug and make a h2 we can
then say you have and using the hashtag
and then the template binding syntax we
can then bind to money that's because
the money variable is being passed down
to this view so that we can then use it
inside of the view and bind it inside of
our pug file if we refresh you can see
the name Paul Holliday and you have 100
pound perhaps you want to show some
recent transactions let's pretend the
inside of our fgs if there was a recent
transaction we'd have a variable called
a recent transaction and we can make
that either true or false let's make
that false for now inside for our
countdown pug we consider if there was
no recent transaction we can simply
display a paragraph tag which states no
recent transactions if we refresh our
file we can see no recent transactions
let's change this so that if there was a
recent transaction it displays some
transaction on-screen let's use the else
keywords and it's
we can render a different paragraph
let's just render the word recent
transaction if we head back to apt or GS
we can make our recent transaction equal
to true when we refresh the file you can
then see our recent transaction now
appears on screen so hopefully you can
see the power of Express hopefully you
can see the power of using Pug as air
view engine and in this video we've
looked at rendering different Park files
we've laughed at rendering those
variables out on screen with lunk to
creating different express routes and
creating an express application on port
3000 we've locked including different
views from our pug files and much more
I'd love to know II think of this video
if you'd like to see more Express
content let me know inside of the
comment section below
don't forget to check out Paul holiday
don't I offer more courses and other
content
and of course you can check out my
patreon inside of the description below
if you'd like to support the content and
of course suggest content of your own
until next time my name is Paul thank
you very much for watching and I'll see
you very soon in that next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>