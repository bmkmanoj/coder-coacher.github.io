<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MOAR populating components with data - #10 React JS prototyping | Coder Coacher - Coaching Coders</title><meta content="MOAR populating components with data - #10 React JS prototyping - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DevTips/">DevTips</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MOAR populating components with data - #10 React JS prototyping</b></h2><h5 class="post__date">2018-01-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZpObY7VlU4o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this episode we're gonna keep on
populating the playlist components with
data click click this is dev tips with
guest hosts David and MP Jay what did we
do yesterday we populated the playlists
tight the David the name title and this
aggregate components we divided them
into a playlist counter and a an hour's
count and what we'll do now is that we
want to take this mock data that we just
printed out and attach the actual fake
server data to these playlist components
yeah exactly because these here they are
not using the the actual fake data that
we made up only this is using that this
is actually hard-coded value so we just
copy paste it into the HTML any we would
like react to actually render data I
would like to now have these playlists
components generated from the data yes
from the server data how would you go
about doing that
okay so let's remind ourselves how the
server data looks we have this fake
server data object it contains a user
object and in turn that user object has
a playlist property which is an array of
these playlists and each playlist has
any name property and it has a source
property let's leave these properties at
the wayside for now and just the first
thing that we want to do is iterate over
the playlist and create a playlist for
each each item yeah sure what we're
gonna do is that we are going to do
curly brackets to tell react that this
is now a space for JavaScript and on
HTML and we are going to grab the server
data from the state yeah and because we
did the check previously we know that we
have if we have a user we have the data
oh you mean this check up here right yes
exactly
this means that we are sure that we have
server data and we are sure that we have
a user we can rely on that but there
could be that you have a user that
doesn't use please that is true that is
we should actually check I know this
might be too soon but I think you should
check for playlists sure but that's
speculative if I check now we're not
sure that our code is working okay don't
write code that you're not testing this
state server data user dot playlists yep
and oh that's it
we're we are gonna do we're gonna
introduce a new concept here that we
haven't talked about before called map
map is that like for each but special
sorta uh like jQuery dot H no that's
that's probably it's it's it's a way of
transforming an array to another array
okay so what map does is that it will
walk through the playlist array and it
will take every playlist and run it
through a transformation function that
we specify and create a new object for
every array so transforms an array to
another another array of the same line
and it will return that array so we want
to this tries to create a new array here
based off of the playlists array yeah so
we're gonna do this is that for each
playlist yeah we are going to I think
we're just going to return a playlist
for now so we delete this and see how
that looks so if this works we will have
four playlists which will you look just
the same
exactly yeah yes
so we're that far sorry just to quickly
say here like we are doing an arrow
function here previously we talked about
arrow functions they are
these nice bit shorter functions and
previously we had both curly brackets in
there and we had a had parents around
the arguments and we also had a return
statement this thing so I'm gonna save
to show you that this is equivalent this
still works but here this is just one
line and that means that we can omit the
return statement and we can omit the
curly brackets and since this is only
one argument to the function we can also
emit omit the params so this is just a
shorter way of writing it that's neat
yeah it's clean it looks very very good
and now should we like add something to
the play list component like each
playlist yeah like we do that we should
probably like like we could return on it
yeah exactly let's try it with the name
so what right now there's no way for us
to pass in the name to the playlist what
we want to do is pass in something like
this playlist dot name but this will not
do anything because while playlist is
getting the name now from our map here
it's not actually making use of that
because we have hard-coded hard-coded
this thing here so let's find that I'm
just gonna start for it in the app there
we go in order to make this make use of
the property that we passed in we are
going to write this dart props for the
properties object and write name oh yeah
this is what we did in the previous
episode where we because now we added it
as some arguments down below in the like
HTML name attribute that is true yeah
and it's exactly the same thing so yeah
now we have the names so my favorite
disc of weekly and I'll playlist the
best tennis yeah but here in the player
component now we don't we only have this
name property we don't have anything
else about the playlist right no because
that's the only thing we sent into the
component that is true we only sent in
the name perhaps we should send in the
entire playlist I think so that would
mix because we would like to have some
account some of the top songs there
let's run and eventually on image so
let's do that let's change this so that
it actually passes in the play list
equals the playlist and now this will
break yeah likely because it doesn't
find the name now because we're looking
for the name property so we're gonna
change this and it's now going to say
props dot playlists don't name and now
why are we using map for this why aren't
we just using a for loop for each ah
well you could use a portable it lets
actually redo this using the for loop
the nice thing about map is that we
don't require any intermediate
processing because we can we can do it
in place that is why we use map if let's
say that we want to create this playlist
this dot state dot server data dot user
dot play play lists and we use a for let
i equals 0 and this i keep forgetting
how this works well i is less than the
playlist night and i plus plus
there and then we create a new playlist
play this elements
perhaps exactly and then why a private
playlist we push a new playlist to the
array I'm gonna copy this here you can
do that ah yeah maybe let's see yes I
should be able to yes and now we for
every oh yeah I need to actually grab
this as well plainness be the ice
element in the array oh yeah yeah let's
not forget I yes I always forget that I
have gotten something what what is
breaking this I cannot read properly
play lists of undefined oh yeah because
we have to now check actually what I
meant was that you could instead of map
use a dot for each yeah exile but this
is the same Princeton okay I'm gonna
change it to for each well because I
don't think that everybody knows for it
alright this is the most basic example
other but we're going to do with for
each as well but still we need to check
that we actually have some playlist
there so let's see here I think Jeff is
check
for the user only oh yeah that's true
there we go there and now we are we have
can do the little we can put the
playlist element in place here I think
okay yeah but but it has to also exist
move that outside okay so now it works
and I could remove our map operation so
now we have the equivalent thing in a
for loop so as you see here like the map
has the also has a we can do this in
place here which is very nice we could I
guess we could like to do some extremely
fancy like inline function evaluation to
stuff this in place but it would be hard
to read and a lot of people don't
understand yeah the thing that is V's so
this is short and you can do it in place
okay
I could if I do this with for each like
you mentioned before we can do it a bit
shorter but it will still be the same
problem that we we couldn't do it in
place but can't you do it in place no if
you do it forage there just on the map
no you can't okay like I'm going to show
you why like there hang on let's just do
it here playlist oh sorry we're gonna do
this user dot playlist and we both reach
it
and for each playlist we we are gonna do
this and let's
remove this we no longer than that think
we're gonna get the same effect now cool
so it's shorter with a for each no but
this thing we what we are doing here is
I we're constructing this playlist
element sing aha because you can't
return stuff from the 4-h that way we're
not using the for each down flow here
because this line looks very similar to
this yeah it's a it's extremely similar
so if I use for each here what exactly
am I gonna return return yeah so that
disappeared exactly because it all it
does is yeah okay cool so that is why we
need to create this with with for each
for each doesn't do as much as map what
map does is basically a for each that
also does this thing for us
automatically like this is very common
common pattern where you do just or you
create a new empty array and then you
for each over an array and you push all
new elements in it this is exactly what
map does for you it's just built into
the line I'm convinced let's use map
remove that for each shift all right
cool no but it's good that you asked map
it because it the benefits are not
obvious so let's pull out the songs and
render the actual songs in each playlist
component yep blue loop let's go up to
the components so we have now you can do
a map inside of here great did you do so
we know that if we remind ourselves how
the data looks it has the playlist each
playlist here has a songs yeah right
and we do this dot props dot lay list
placed well s dot songs and then we're
gonna map over that and for every song
we're going to render an ally and list
item and that is gonna have the
song I think it's just it's your strings
right know the name oh it's a it's
objects that has a name property and a
duration so let's go back song dot name
exactly so here we're switching between
HTML and JavaScript we need new curly
brackets no hit sort of name and I think
this is gonna break for because reasons
I don't know why is that expected
corresponding JSX closing the close that
you have the unlisted Oh
so it's sort of checking validating your
HTML for you it does it does but that's
another thing with create react up just
for it yeah oh this nice first and then
because we just copy paste the data
that's why it looks like this we can
just put something something hallelujah
and some other song like a Swedish song
it is unfortunately so here we have it's
attached to the data that looks great
and if we were to have an image here we
would put that image stuff into the
component as well yep if I can find it
like here yeah exactly we would do that
in the the styling segment coming up
yeah we're gonna commit this to the to
get but before I do this little thing
that this is duplicated yes I think
that's unnecessary so I'm just gonna put
that into a variable called playlist
there and now I can just call these
playlists and what you see here is that
mattias doesn't use semicolons and I do
from time to time
you don't need semicolons in JavaScript
I just do it because I'm used to the
semicolons yeah like it's it's not good
practice to do what we do here and which
is to do to mix the styles that is that
is definitely frowned upon we don't care
because this is just to show the
stakeholder or idea the concept we will
still rebuild this into a proper app if
we get the correct feedback exactly
we're not trying to do the super
engineer account of stuff here we're
trying to make a high fidelity prototype
that works and demonstrates accounts a
concept so commit yes let's have a look
at we're switching to github desktop and
we have some sample data here that it's
changed and we also implemented the
properties in the playlist and here is a
line that we just added clan just know
and then there is we replaced the the
fake hard-coded playlist here with the
the act with with a map yeah all right
cool what do we call this commits in
dynamic dynamic listing of ladies from
server data this thing all fake server
data playlists
play lists data great
Connie twister push it push push push
push push push push push push push push
push push push push
there we go now if we go to github.com /
m pj / better playlists we will find
that this commit is now in the
repository and viewable great in the
next video we'll create a filter for the
playlists with auto completion can click
here to view down episode you should do
that do that perhaps tick break first
Rick Rick Rick should click it
cook it down later maybe now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>