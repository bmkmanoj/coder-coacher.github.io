<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP OOP Game Framework (Part 1) | Coder Coacher - Coaching Coders</title><meta content="PHP OOP Game Framework (Part 1) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP OOP Game Framework (Part 1)</b></h2><h5 class="post__date">2011-01-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YzmTcqAjh-U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey hey YouTube friends in this PHP
object-oriented design tutorial we're
going to use NetBeans you can use
Eclipse if you if you like
I prefer NetBeans so let's start and
create a new project if you're not in
the mood for coding
I'd suggest probably just coming back to
this later because what I want you to do
is type this with me so that you can
learn as we go and it'll make a lot more
sense and you're really not going to
learn anything unless you practice okay
and I'm going to just call this one game
I'll use five point three and go to your
folder where you have your PHP working
minds and workspace and I'll create a
new folder and call this game whoops
well I'll try it again I'll just click
this button oops
how embarrassing there we go game okay
open there we go and I'll just click
finish and we need to create a new
client area which will be the index.php
file and I'll just call this index echo
1 and let's open our browser and make
sure it works just don't want to forget
the colon there and refresh ok I'll
shrink this down because we're not going
to need a lot of space so here's the
index file and what I'm going to do is
create a series of classes the first one
is going to be called gain so include
game dot PHP include player dot PHP
include bot PHP let's end at the very
top I'm going to include abstract
character and I will go over all of this
and what we're doing so first we have to
create these four files this I'm doing
it this way because it'll be easier for
you to follow I think so I'll create a
new file and I'll call this abstract
character
new file I'll call this bot new file
I'll call this player and new file and
this one was a game okay
and to make sure everything's working
I'll just refresh and I forgot the dot
php' here okay there we go
and we have all these classes I'm going
to close abstract character and bot for
now and I'm going to mostly focus on
game to start with so we're going to
make a game right
that creates characters if this was
going to be a real game so we'll start
with class game and what I want is I
want everything to run through the game
in the client area everything's going to
run through the game almost like a page
Handler kind of like the main frame of
everything that goes on so I'll just do
a public function construct and I'll say
echo game started okay and let's make
sure that this works in the client area
also gain equals new game all right
refresh this is nothing terribly complex
at the moment and what we want to do is
run a player through the game so that we
can create a player so you might do
something like public function create
player and I will say this player equals
new player okay
I'm going to purposely make mistakes and
I want you to make them with me if
you're willing because I think it'll be
good learning so with the player class
let's do class player and we'll do a
public function construct and I'll say
um player was created okay and let's try
to run create player so say game and you
see this pops up for us that's why it's
really nice to use an IDE and let's see
what happens
refresh player was created good and what
we're going to want to do is force the
player to be in the game object and you
might be thinking well isn't this
coupling things up yes but it doesn't
matter in this case because this game is
purely used for a game object you know
for this game so what I'm going to say
is player create player and this has to
be constructed from the game as G and
let's have a name variable so that will
create the player they have a name and
I'll say public name
echo player this name was created and
we'll say this name equals name okay and
to construct the player will say this so
that we're passing in this game we've
done over this a few times so it passes
in this here and let's give them a name
will make that dynamic name okay
so create player and let's call them Ted
and that should create a player and what
I want to do is be able to print out
what the players details are so I'm
going to do a public function to string
and I will return name will be this name
HP will be this HP and I'll make one for
damage damage this dmg okay and up here
I'll just create those variables public
HP public
TMG okay and why do we have this to
string because we want to see the
character we created and in the game
let's create a function say public
function show player and I'll say echo
this player nothing too terribly complex
and I'll say game show player and up
here let's refresh
Ted was created named Ted HP damage he
has none of that stuff I'm going to put
a br right over here and right here so
if we wanted to make some setters to set
the player data you might think how
about public function set player HP and
we'll say this player HP equals int of
int so we pass an integer through here
we typecast it for safety and this will
set the HP here and you say well this is
public so can't you just set it through
the client error and yes you could so
let's do this as private HP
let's set all these is private and when
you do private make sure you do your
little underscore so that they're
noticeable so this name name isn't that
nice so now it's obvious these are
either private or protected all right
and this is attempting to set H P and we
can't do that because it's private so
you'd have to create an actual setter
and getter inside of here and we'll go
ahead and create that and say public
functions set name or sorry where do you
have the name being created set HP and
we'll say this HP equals HP and I'll say
int and we'll do one for damage set dmg
okay nothing very impressive and if we
want to change the player HP we could
say set HP equals int and we could
duplicate this with set player damage
and I'm sorry this takes a little while
to get started but if you know how the
whole thing works I think it'll be good
we probably want to typecast these by
the way so let's do game and we can do
set player HP 500 game set player damage
and we'll say 20 let's refresh this make
sure we have no errors so we create a
player Ted 500 HP any damages for 20 and
in this game you can see we have a lot
of duplication basically we've made a
setter for a setter of an actual
variable so that's kind of like a double
setter and that's code duplication
that's bad because we're wasting space
additionally remember we created this
bot over here what if we want to create
a bot let's go ahead and duplicate this
here and let's do create bot and we'll
say new bot new bot and go ahead and
open up bot dot PHP from the player file
I'm just going to copy all this and
paste it in there rename this to bot
and I'll rename that to bot was created
and I'll change this to bot name okay
kind of the same thing and you can see
here there's some serious duplication
right there but this is what we're all
going to go over so let's create a new
bot great bot and we'll call him we'll
just call them bot and you see we'd have
to create another set of these called
set by HP let me do a show bot game show
bot I've got to make sure we create a
function
I mean
you gotta learn some way and you'll
usually learn by making a lot of
mistakes but here what I have is the bot
created call to undefined hooks show bot
okay so how can we make this more usable
it might be kind of obvious but here's
some suggestions I would do first of all
I wouldn't have everything run through
this base class I'd actually make you
climb into the player or the bot class
and to solve some of the problem of all
this mumbo-jumbo is abstract character
so let's go ahead and create this class
I'll say class or abstract class will be
abstract character
and basically this is going to take the
functions from here so set HP damage and
show so I'm going to take these set HP
the damage the player cut that out
actually the show bot also paste these
in here
okay and the abstract character is going
to go on to the player and the bot so
what I'm going to do is extends abstract
character for both of these oops that's
not a copied that okay now these extend
that beautiful we still got some work to
do and we can first take these variables
because they're shared among the bots
and the character and we'll put them in
here and these are going to want to be
protected so that they can be inherited
and rather than set player HP set by HP
we're just going to have one called set
HP and set dmg and show we're just going
to show
and what we're doing is making this a
flexible class these things so instead
of this player it will be this HP equals
int
and this dmg pulled the int and we'll
show we're just going to show this
because it's inherited it's going to
show the object here and now we can get
rid of this stuff
and this stuff we can also get rid of
the two string actually cut it out
okay and put this in the abstract class
so we have a common thing that both the
bot and the player share HP damage we
want to be able to show them and when we
echo it out we want the two strengths to
show and we can create a bot and player
here's our index thing and let me
refresh make sure we have no errors
access level to bot name must be
protected sorry I forgot to delete these
okay and refresh okay that looks good
now just look at this how much room we
cleaned up we can even clean up more you
see how we're creating player here's an
even better way to do it let's do the
public function create and we'll call
this type and name and we could do a
switch on it will say switch on type
and case will be player and we can pop
this in here break now we can do case
will be a bot and we will cut this into
here break and let's also do a default
and echo you are trying to create
something that isn't allowed put a
little BR here
cool okay so and we're probably going to
want to string to lower type just for
security reasons in case they did a
capital P in the client area so I do
type equal strength to lower of type and
refresh call to undefined method and
instead of this will say create player
let's call them Ted game create bot
Barney and game create fish piggy
so refresh see what we get so player Ted
was created bot Barney was created and
then you're trying to create something
that wasn't allowed and after we create
these what we have is the availability
to climb into the player and bot class
because the player is actually inside
the game class so you could do public
player and public bot and with these we
can look at the abstract things and set
HP and all this stuff so let's try that
game player what was it called set HP
and we'll say 200 game player show let's
see what happens here
okay that's at the HP let's also set the
damage I wish this little tight thing
would pop up it's not popping up for me
for some reason set damage okay
and we can do the same thing for a bot
so we'll say bah big boss set HP just
make sure this works and this is very
clean-looking it's beautiful
furthermore we could improve this by
making more options for the player and
the bot oops this has to be the boss are
embarrassing okay so there's the bot and
this all works beautifully but what if
we want more than just one player and
one character and that'd be probably
pretty important what you want to do is
make player in array and bot an array so
that the game can hold many players and
many bots and how are we going to do
this you could either make player a
integer enumerated array or a
associative and I want mine associative
so I'm going to call this player name
and the bot name okay and what what this
does is it's going to get the name here
player Ted
and but you can't have spaces in this so
what you would have to do before
creating the names is probably on a
little way to secure that so say boss
and this will allow us to have a bunch
of individuals with different kind of
names that are associated with what you
would want to do is make sure that name
is unique so something like um if player
or this player name how about if it is
set will say echo this player name is
taken a lot of these to be double quotes
and return false
make sure I didn't make a typo there
we're also probably gonna want to string
to lower the name okay so you'd also
want to find a way make sure there's no
spaces in the name if you wanted to use
a regular expression or something like
that
let's try to let's try to create another
guy create a bot of boss again oops
string to lower refresh boss was created
boss was created hmm that's odd looks
like I have a problem with this player
name if is array let's see what that
does refresh undefined index Ted index
boss okay so I don't have this down to a
perfect science right here but I was put
a note here make sure you don't
duplicate the name and replace a player
or bot okay and basically what we've
done here is learn to intelligently
organize things and it's important to
think about what you're doing while
you're doing it because you always want
your classes to be more flexible than
they can be then they might be okay and
I think this is a good tutorial I'll
upload this on a dream and thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>