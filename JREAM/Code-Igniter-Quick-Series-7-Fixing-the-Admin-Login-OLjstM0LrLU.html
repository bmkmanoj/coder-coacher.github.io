<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Code Igniter Quick Series 7 - Fixing the Admin Login | Coder Coacher - Coaching Coders</title><meta content="Code Igniter Quick Series 7 - Fixing the Admin Login - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Code Igniter Quick Series 7 - Fixing the Admin Login</b></h2><h5 class="post__date">2013-01-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OLjstM0LrLU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey youtubers in this video we're going
to do some adjustments so if i go to my
admin panel and then login is admin and
admin calm with the password admin and
hit enter we get our log and data here
so let's polish this up one problem we
have I notice when I was reviewing my
code is I'm not setting the session so
I'll go to my admin controller and I'll
go to logon and down here if the result
is true where is there's a user that
exists we were setting log and user data
but I forgot to put the word set in
front of here okay so that sets the user
ID and then once we login we want to
redirect them so i'll say redirect and
the URL is going to be dashboard and to
be safe insane i don't know if this is
how you're supposed to do it but i'll
just do site URL admin / dashboard okay
and i can get rid of this and let's put
an else statement if they fail the login
I'll copy the redirect and we want to
redirect them to just the login area so
let's try that out I'll go back and
there I am i'm logged in we're also
going to need a logout function so right
below here i'll just copy this bad boy
and when they go to logout we're just
going to destroy the session this
session session destroy and then we'll
just redirect to the login page again
okay and we need to put this into view
so I'll go to my admin admin page and
let's take a look back up at that
there's my log out link at the top so it
looks like that's in the header file of
the include so I'll just say a href
equals site URL admin log out okay and
go ahead and refresh that and it looks
like I messed up my anchor tag sorry I
forgot to put that there try it again
log out and now we're here one thing is
is that this is confusing looking right
here so let's go ahead and bust open our
admin page once again and for this I'm
going to put just an h1 tag that says
create new user because that's throwing
me off and then in the logon i'll do a
h1 for the logon now we can try that
again refresh I know it's not pretty who
cares admin admin let's put in a fake
password okay it doesn't work and with a
good password and we'll go create new
user I'm going to put this format the
now leave it there ok so we're logged in
let's see what else we can do let's go
to the dashboard actually one guy
brought up something that was actually
pretty good that I wanted to check out
from one of the comments Zach attack one
said for checking if an email exists you
can use C is bill
forum validator class using the is
unique rule I think you talked about
this and your other coat of nail your
tutorials just letting others know I
actually never talked about this and I
just found out about it so thanks Zack
attack one and let's try it out what
this is going to do is for creating a
user with our admin so I'm going to open
up my models and the user model and
create right here where we're checking
for duplicates what we can do is use the
form validator so I'd say this form
validator set rules now before i do
anything i need to first make sure i
have foreign validator loaded so in my
config autoload i'll go down to my
libraries and all of the form i either
former form validator i'll just tried
typing the whole thing out i think
that's it okay so we're going to set
rules for the email field now this field
here has to match up with whatever
you're posting let me close a few files
out so this input where we create the
user the email that's what i'm referring
to the second parameter is if you're
going to display the error just put it
in however you want and then the rules
so i'll say is unique in the name of the
database table remembers user i'll pull
it up over here our database table is
called user and we have a field called
email so let's do a user email and we'll
say if this form validator form
validator its form validation form
validation sorry
Ron is false okay we're just going to
see if that works let me make sure my
auto loads right so I'll copy form
validation not validator and let's try
to create a user with the name admin ok
double email look how easy that is so
thanks a lot Zach attack so I'll just
close that out without our form
validation going so I can get rid of
this stuff get rid of this and all this
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>