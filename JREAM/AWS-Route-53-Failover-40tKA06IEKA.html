<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>AWS Route 53 Failover | Coder Coacher - Coaching Coders</title><meta content="AWS Route 53 Failover - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>AWS Route 53 Failover</b></h2><h5 class="post__date">2014-04-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/40tKA06IEKA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys I'm going to show you how to
use Amazon route 53 to health check your
DNS and on a fail it will point to a
secondary server the first thing I'll do
is create a health check and create
health check and your IP address rather
than your domain name is what you'll use
and I'm going to use a fake one and
pretend this is my primary web server IP
address and the hostname is optional I'm
just going to put junior bug okay and
it's going to be running on that guy
yeah yeah yeah so you create a hosted
zone I'll create a new one great hosted
zone I'll call it junior bug comm and
create and this delegation set are the
new name servers that you're going to
use so let's say you're using a web host
I don't want to name any web hosts but
let's say you're not using an ec2
instance and you're using another
company you would put these in your name
server fields okay and you'd be able to
get rid of your other records and stuff
this is just for your domain name so
once we have our domain name I'll go to
record sets and it has just these two by
default and the first thing we want to
do is create an a record which is our IP
and the name just leave a blank and I'll
do boom the IP address the routing
policy will be a failover and this will
be the primary and it says route 53
response occurs using primary record
sets if any are healthy or using
secondary otherwise so as long as your
primaries are healthy it's going to
default to this and we want to associate
this with a health check and we'll use
the one that we just created for junior
bug in this case now it's going to say
if I hover over this the time to live
should be 60 seconds or less so I'll
change this to one minute okay and our
health check was every 30 seconds so
I'll just change that to 30 and create
okay and what we're going to do is
create a secondary so just leave this
empty and if our secondary server was
like on an IP it'd be a lot different
but it feels like I'm nine eight we do
it this way I'll change this to 30
seconds
the routing policy will be a failover
secondary and I'll associate with a
health check here and create okay so we
have this guy's the main one and it'll
go here once it fails and you create
your normal records in here like your C
names and stuff like WWC name and you
want it to go to your guy here
you know just your basic stuff and you
could even put your MX records in here
if you're using like Google services you
could do all your MX records and this is
oh all that Google stuff here I'll set
that to one hour and the running policy
simple create and you can manage all
your DNS in here so it's pretty neat to
have that system up and the reason I
recorded this was because I've been
trying to figure out
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>