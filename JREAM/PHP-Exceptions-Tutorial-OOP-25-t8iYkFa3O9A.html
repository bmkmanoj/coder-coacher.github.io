<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Exceptions Tutorial OOP | 25 | Coder Coacher - Coaching Coders</title><meta content="PHP Exceptions Tutorial OOP | 25 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Exceptions Tutorial OOP | 25</b></h2><h5 class="post__date">2010-11-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/t8iYkFa3O9A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">everyone this is Jesse and in this
tutorial we'll be briefly explaining PHP
exceptions I think it'll be easier if I
have this little diagram here so we'll
type out the code as it goes first of
all this PHP here this could be thought
of as maybe your lowest level page so
let's just consider that as index dot
PHP alright so first we have a user
class and we'll just type that out and
say class user and it has a add user
function so we'll just say function add
user okay so we have the user and then
we have add user and for add user we're
gonna say DB equals new DB okay and this
would be your database object I'm just
doing a quick example and we'd say DB
insert and we'll just say you okay and
down here let's just create it and say
user equals new user and user add user
Jesse okay now this has nothing to do
with exceptions yet but I'm just trying
to get you familiar with how it's
working right now the database would
obviously be its own object and to do an
exception what we're going to do is if
the insert fails we're going to throw a
new exception
okay so we'd say class DB and we'd say
function insert
and we just do a insert command mysqli
query our insert data and let's say
query equals this and if the query is
failing we will throw new exception the
query failed okay and what you're going
to notice is that if the query fails
from this point it's going to throw an
exception all the way down the stack all
the way down until it hits the lowest
level and if it's not caught it will
kill your script and you'll get a blank
page with the exception so with the
exception thrown here it's basically you
have to think of it like something being
thrown it'll go from here to here to
here down to here and if there's nothing
to catch it it's going to go even lower
and lower all the way down to here and
PHP is going to be like you're supposed
to do something with that but since you
didn't we have to kill the script and
this is pretty cool
here's why what we do here is we'd say
with our new database object we do try
and we're going to try the DB insert and
if it fails we're going to catch
exception as E
and we're going to output the message
echo II get message okay so if the class
user right here is where we are going to
catch the exception I'll make that read
so that we know what we're doing okay
this is the catcher and up here if
there's a problem I'll just make this
brown if there's a problem we're going
to throw it and it's going to go down
the call stack until it gets to this
point once it gets to this point instead
of killing the script we're going to get
the message that was thrown and it would
throw the query failed you say well why
is that good I recently asked a question
on site point and they actually helped
me out quite a bit because if you had
something like let's erase this for a
second and if you had something like
this DB insert you you could say if DB
get error equals true then echo it
worked and you can do an else echo it
didn't work and this doesn't look too
bad if first but what if you had to
validate data you'd have a post data and
if you had to validate that you'd also
have to say if post get error or however
you're going to validate equals true and
we'd have to repeat this down here and
it's just going to be a mess of nesting
if statements in here so if you have an
exception you can handle all this stuff
with a try-catch statement by doing this
popping the post in here
and let's get rid of this now I get rid
of this also and you could even have a
posts a post equals new post and you'd
kind of do the same thing in the user
class we'd have a add user and then we'd
have let's say a post object and let me
erase this call this class post and
let's copy this and call this post or
just data and stretch this line over
here okay and with the close the post
class we kind of do the same thing we
just say class post function data item
and you know you'd have something here
where you know data equals one and if
data was false we throw a new exception
say the data fail so this will catch all
kinds of exceptions and if this fails
what's going to happen is it's going to
stop before it gets to the database and
it's going to go all the way down and
it's going to stop since the post comes
before at the database if it passes then
it's going to go to the database and
this is going to throw an exception if
there's a problem and it'll catch it if
there is one otherwise it'll just finish
this and you could put your final data
down here and just say echo it was all
good now it'll end the process when it
fails that's what's cool about an
exception so I hope this helped you I
tried to explain it with a visual
picture and thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>