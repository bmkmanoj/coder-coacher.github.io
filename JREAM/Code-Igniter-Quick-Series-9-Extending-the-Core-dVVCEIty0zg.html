<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Code Igniter Quick Series 9 - Extending the Core | Coder Coacher - Coaching Coders</title><meta content="Code Igniter Quick Series 9 - Extending the Core - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Code Igniter Quick Series 9 - Extending the Core</b></h2><h5 class="post__date">2013-01-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dVVCEIty0zg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up youtubers in this coated
night or video I'm gonna talk about
extending the core classes and I'm gonna
show you why so I'll open up NetBeans
the best IDE known to man in my opinion
and I'll just head over to my admin
controller so here's what I want to do I
want to have a variable called data so
I'll just say public data equals array
and I want to populate this with stuff
and then put it into a view so I learned
this from a guy at work
his name's Tim I can say this data
header equals that I can take the view
here and I have to pass two parameters
one is null the other is true and this
will return this file parsed is an HTML
string and I would want to do the same
for the footer so I could get rid of
that too and for data that I have to
pass in here manually I would just say
this data users equals the model get
this data so then I would pass in this
data okay inside of my views I'll go to
my admin home now since there echoed all
the strings out actually do
header/footer
okay do you see what we're doing data is
just an array and it just cleans things
up the reason I want to parse these is
hTML is so they don't start outputting
stuff when I call them saw a refresh and
it seems to be working just fine my
problem is I'm gonna have to do this in
every single method for something that
I'm reusing over and over so a solution
is to extend the CI controller class and
to do that we'll go to our config in the
config folder the config file and I
scroll down around the line 100 or 10 or
so you'll see a subclass prefix and it
says my underscore and we can extend the
core classes so in my core folder I'll
create a new PHP class and I'll call it
my underscore remember that was the
prefix I'll just call it controller
and for this this is actually going to
behave like our other controller so I'm
going to extend CI controller and I need
a public function construct and a parent
construct okay and what we're going to
do is all of our controllers are not
going to extend my controller so it's a
simple hierarchy without having to
rewrite the core of coated nighter so
what I have is I have an admin
controller which is going to be a child
of my controller which is a child of the
CI controller I don't like to build hair
R keys like this often but colder than
others pretty good about it so it's not
a big deal oops I can get rid of that so
I'll go to my admin and I'll make this
extend my controller you could change
your prefix if you want it so inside my
controller I want to put my public data
array like this before I get too crazy a
good thing to do when you're refactoring
is to stop what you're doing and make
sure everything still works so I'll
refresh the page and it seems to be
working fine to make sure I'm a hundred
percent certain that this is being
constructed I'll just echo out a wanting
to retry the page and it looks like I'm
at the wrong page there we go there's a
one there so that's working I have my
public data variable defined
and inside this constructor I want to
pass in the data to render and since I'm
going to be using my header and footer
so often I'm just gonna cut this and
paste it in here so by default a header
and a footer are always gonna be
available in here now my header and
footer file shouldn't be much overhead I
won't do this if you are doing this with
a whole bunch of files because it will
run every time so you'll notice that
this is only rendering the admin header
and footer what about if I go to my
dashboard if I were to pass in this data
and get rid of these then I still get
the admin header and footer so what we
would do is we most likely include the
thing that we're gonna use the most in
the controller which would be the
regular ones the admin would be used a
lot less otherwise you could even make
an admin controller in fact that might
not be a bad idea but I'll not do that
for right now so I'll go ahead and head
over to my dashboard and what I'll do is
I'll search for this load view so
everywhere I'm loading a view I want to
pass in this data because it's going to
render the header and footer for me and
I made an error I need to put dashboard
Inc
okay
and it makes our cold a lot less
top-heavy
looks like home has a different one -
which is strange because I don't usually
design something with so many with three
different headers and footers so let me
see here's my home includes looks like
it just has a login well let's just see
what happens and these all all of these
that are going to pass in this data need
to extend my controller so all this
changes to my my and the admin I believe
it already does that
let me just replace a couple of them
looks good
so I'm gonna go to the homepage and
refresh and see what include file was
there it looks like it didn't get the
header file so I forgot to echo those
out in the views so I'll just say header
I have to do this with each one of these
unfortunately I also have to do one for
the footer in my opinion it's easier
just to do these one at a time and then
go back and do footer
now one four footer
okay so now i refresh the page and we
have a user dashboard title what I'm
gonna do is change this for the
dashboard I think we can just use one
header so in my ink of the dashboard the
header here I could actually cut all
this out and just put it in the regular
include file in the footer it's probably
the same thing so I'll go ahead and
delete my dashboard include files next I
need to change my controller to not
include those okay so now I'll include
these and all we're gonna do is tell us
someone's logged in and to double check
what the login parameter is I'll go to I
guess admin user data so if any user
data is set we just won't show this so
we could do something like this
if this session user data about if empty
we'll try to get it all
so we'll have a conditional statement
here so if it's empty we're just gonna
say welcome home and it looks like we
have a typo somewhere there we go
so let me go ahead and refresh the page
looks like it doesn't want me to get
that in the right value so let me just
put in user ID and still being stubborn
whoops I'll do it equals false it's a
user ID is false so welcome home and
from here we'll obviously want a login
we do not need all those include files
not one bit
the login I forget what page it was the
dashboard logon yep so back here I'll
refresh and go to my login and I
actually forgot my login it was test at
test common the password was admin okay
so now I'm at the dashboard home I'm
just gonna go to my home page and you
see I have my header here because I'm
logged in and that's exactly what we
wanted the only thing to do next
is fix the administrative panel so I'll
go to slash admin and it says welcome
home and this will be an easy fix so
I'll go to the admin controller rather
let me close out close all other ones
I'll open my controller and copy this
stuff what we're going to do is
run this right after we construct it so
that we get the admin headers now I'm
not saying this is something you'll have
to be doing you could even put a
conditional statement inside of the my
controller class or started the header
class if it's an admin or not it
actually is probably the best idea to go
instead of overriding it that way you're
not doing a whole bunch of files at once
so in order to do that just go to the
header file once again and I have to
remember the type and we have typed
there so we need to else if statement so
else if
the type equals admin and then inside of
here
I'll just take my header copy out those
tags paste it in there I think it'll be
easier to read if this is tabbed over
like this I'm sure somebody has some
better suggestions on how you could do
this but hey I think it'll work for now
heck you could even include files inside
of here if you wanted to separate them
like admin header I don't want this
video to get too long though so when all
is said and done we're gonna try to
login to our admin now and let's see our
login was admin admin admin and now we
have the admin dashboard and if I go
home it says user dashboard yet I'm
logged in as admin so what I need to
check is if when I log in to my admin
panel oh I see I'm doing is admin not
sure why I did that
I think I'll throw in the type here
well this Lea four is admin refresh and
there's the admin panel and if I go home
it says admin panel so that works and
that's just a general summary of how you
could extend the controller class and
use less code thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>