<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Code Igniter Quick Series 5 - Logging in Our First User | Coder Coacher - Coaching Coders</title><meta content="Code Igniter Quick Series 5 - Logging in Our First User - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Code Igniter Quick Series 5 - Logging in Our First User</b></h2><h5 class="post__date">2012-12-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ug66OWE0WG8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay we're gonna start where we left off
with these little delete guys so what
we're gonna do is this is a link so
let's do a site URL and I'll say admin /
delete and I want to delete the user ID
for now since it's a link I can't do a
post request I have to do a get request
so I'm gonna pass in the user ID right
here and for fun I'll put my double
parentheses around there and I want this
value user ID okay I'm gonna need those
squiggly brackets there we go I'll go
ahead and refresh and if you look down
at the bottom down here see it has the
user ID to delete and what we'll do is
in the delete user model instead of
posting we'll just do user ID okay and
that will go to the delete method inside
of here deletes the user ID returns the
result and I guess let's just echo this
out to see what happens so delete and
tutorial admin delete three just double
check to make sure
oops it's called delete user I apologize
so back to the admin view delete user
let's try again
delete and it said one and he there it
is he's gone
delete to go back kind of strange that I
have to refresh like that but oh well so
when we create a user one thing we're
going to want to do is make sure the
email is not taken in order to do that
we're gonna have to do a query
so this DB get
from user table where email equals email
I'll put a note here make sure that
email is not taken okay the only problem
is this isn't one would want to use in
this case we'd use get where but another
a better way to do this would be the
different way so I'll say this DB where
it's kind of strange how you do these
queries you're kind of doing backwards
let me just add something I'm in the
wrong file I'm in the admin file so let
me cut these out use our model and here
we go inside create so get DB where
email
is email and this DV count all results
from user
okay I'm gonna echo that out and die and
see if we get a match so let's try and
we have one does there is test in there
what if I put it to there zero cool so
that'll make sure that there are no
duplicates so I'll call this duplicate
so say if duplicate is greater than zero
because it's for some reason it could be
more than one rat match I'll return
false okay so we can erase that create
the record okay
so there's some protection against
duplicates now we want to create a login
form so let's go over to hmmm looks like
my home page lost some of its beauty
let me grab my admin view I'll just copy
this whole thing my home view you might
not have to do this but we'll see I
think it still leave some of this I'll
call this logon and remember it's in
home slash logon okay and to make things
easier sometimes I just like to close
all my files shrink all my folders and
reset my mind so I'll go to controllers
home and login all login does is display
a view and it looks like I have a login
page there so for the home page how this
call a home
and
make a link to the login page I'll go
ahead and duplicate this and do admin
we'll do that a little bit later though
so for the logon let's create this email
and password and submit okay and the
difference here is we're just gonna put
another parameter here called submit so
in the home log and we'll put submit
equals null and if submit equals null
meaning we want to display the view
we'll do this otherwise we will let me
do a return true here so that we can
exit out otherwise we're going to do
this input post email and we'll do the
same for password okay and we're gonna
have to call a model so we'll say this
load model user this user model login I
forgot
the model here I'll say email password
okay so in the user model here and here
I'm gonna create a function called login
public function login and this is just
an email and the password and we're
gonna do kind of the same thing I'm just
gonna copy this chunk here and paste it
up but we're not going to insert we're
gonna do a get where and we'll hash the
password here and we need to do a set
this as a query query and I'll say query
you you know we could get all results
but we're gonna want to get data back
from the database so that we can put
this stuff in a session so I'll say a
query equals or sorry a query result
print R of result okay and let's die
there so let's see what happens
refresh and I'll go to my login and I'll
try test okay an empty array and what if
we have test at tests calm and I
actually don't remember the password I
made so let's cook let me go to the
admin so I'll do JJ calm with a password
of J okay and just to make sure he was
created there is and let's go back JJ
Tom oMG okay
so in order to tell if they have logged
in we'll just check if the result is
empty so if empty result
turn false actually we could just return
there is salt because they'll be because
the result will be a false or an array
anyway so I will just return the result
okay and we will clean this up so it's
more readable and nice and everything
don't worry I know it looks a little
scared right now so in the logon sorry
the home controller will get the result
so if result I always like to put equals
true it's just easier to read we do
login data here okay so let's go back
log in without a password nothing
happens on then with J for the password
we do the login data here and we're on
our way</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>