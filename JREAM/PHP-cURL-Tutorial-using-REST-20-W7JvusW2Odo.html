<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP cURL Tutorial using REST | 20 | Coder Coacher - Coaching Coders</title><meta content="PHP cURL Tutorial using REST | 20 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP cURL Tutorial using REST | 20</b></h2><h5 class="post__date">2011-07-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/W7JvusW2Odo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up youtubers I got a request
to do a curl tutorial in PHP and
basically what curl does is it connects
to other websites and gets information
so the first thing you have to do is
make sure you have curl enabled and you
would do that in your PHP ini file and
I'm just going to search for curl and
you just have to make sure that your
extension is not commented so that it
runs and you'll probably have to restart
Apache so for the example I just made a
folder called curl and index dot PHP so
we have something to play with and what
I also have open is the PHP curl manual
or C URL hover you say it and also a
Yahoo page that we'll get to so let's
just do a curl request and start out
what we first do is we do curl in it
okay and to make sure yours is running
just do that
save it refresh and if you get no error
then it's good and I'll call this handle
equals curl in it okay
and when we do a curl thing we have to
set options and this is where all the
stuff comes in so we can do curl set opt
that's one more so if we're going to set
an option I'll go to the manual now and
that would be right here
curl set option okay and when you use
this you put in your resource first the
option and the value so for example
let's these are all the constants which
I'll show you let's see what they did
because I honestly don't remember curl
stuff off the top of my head
okay the handle they did it they did a
constant here the reason I was confused
is because this option says int but I
don't know if I miss something just
doesn't look right so anyways so I will
set my handle and I'll say curl opt URL
you're always going to use this okay in
the location okay I just have another
options we could say set opt handle and
curl post true and we're basically just
setting all the options no big deal you
might be wondering what are all these
things these are the constants in curl a
lot of these you know there's really a
lot of these constants so you could go
over these one by one if you want but
what we're going to do is an actual rest
query so that you can get a feel for it
and rather than doing curl set opt
there's a curl set up array so that it's
a lot less code duplication so I'll say
curl
set up alright okay and we pass in the
handle and then we Pat's enough array
and in here we just kind of do the same
thing my pinky's tired curl opt URL curl
opt oops
post and these are associative arrays
and this will be the URL and with this
I'm just going to say false now if you
don't have this in here it'll be false
but I'll leave it in there so that you
don't forget it
so what we're going to do is get a hold
of Yahoo and I just have a page here for
developer yahoo.com and I can't remember
how I got here let me go back yeah I
just typed in Yahoo curl service so what
I shall do is go down this page I'm just
going to copy this first thing on text
I'll copy this open a new tab paste and
here's some data from Yahoo right let me
change this
okay so this is a way to use Yahoo to
search so what we can do is we have the
URL here and it looks like query is the
string that's passed so I'm just going
to copy this URL up to the question mark
there this will be the URL and we are
going to post okay
Yahoo demo results dadada
so we're going to turn this to true and
what we got to do is get this to post
and since this query part changes I'm
going to do this kind of a getaway but
you can make it nicer if you'd like so
the next parameter we'll do a curl hop
post fields and this will be this right
here okay
like that and what we're going to do is
we need to return the results which is
return transfer curl off or turn
transfer and I'll say true meaning we
want stuff back okay and let me refresh
just make sure I didn't make any errors
okay
and the last thing we have to do is
execute the thing so I'll say I'll call
this response equals curl exec for
execute and I'll say handle and then we
always want to curl closed handle okay
and I'm going to do a echo 3 because
it's going to give us back the data that
was on this page okay so we're going to
do xml data back and then i'm going to
do print R of response let's see if we
get anything the following errors were
detected invalid value app ID empty or
missing
it looks like this question mark
probably shouldn't be there let's try it
again refresh and we get all this stuff
now looks a little different so if I
view the source it's all a simple XML
and what you could do is have like let's
say you obviously don't want to use this
for your actual app ID probly yahoo demo
for your query you could have this a
change in value so if you had something
like value
let's call this URL value and I'll say
URL value equals URL encode hey mom so
this should search for hey mom okay and
you see we have stuff about moms and all
that and the way you make it pretty is
with really that's going to be up to you
but you could do something like a simple
XML into XML equals new simple XML
element of response and we could I guess
we'll do a print R of XML so then we can
work with the data very easily you see
now we have this to work with and we can
do a loop I'll try to make this fairly
quick so what I'll do is I'll say for
each XML of result as X I'll say echo X
of
title it's kind of weird how these are
capitalized usually they don't do that
okay and we have all this stuff let me
do a dot blind break refresh and now we
have the search results from Yahoo we
could also change the results here to
through our results and if I wanted 25
results and let's say I want to search
for dogs I'll refresh I get 25 results
here's all the titles and whatever you
do with this is really up to you so
that's a basic usage of curl there is
sometimes in a rare occasion people
using HTTP off HTTP ah that's when you
go to a website in that pop up box pops
up I'm not I probably I'll just quickly
cover that if that were the case I'm
just going to copy paste from something
on my website it looks something kind of
like whoops this
where you have a user and a password and
you authenticate against the basic realm
you most likely won't have to do this
unless you're dealing with something
maybe a little old-school by the way
when you look at what you're getting
this is obviously XML you're usually
going to get XML or JSON back I prefer
JSON if you did Twitter let me load up
Twitter API real quick and Twitter our
API test
okay here's the Twitter API testing okay
and you see how at the end of Twitter I
could get of XML oh that's a bad one
let's do a friends and followers get and
this would be what you'd get back where
is it right here
this is JSON code okay these are people
following my twitter account as you can
see it's a ton of people I don't even
use Twitter or what's nice is you can do
xml and i exceeded my write limit i only
used it once oh well but you guys get
the idea I hope you're either going to
get XML or JSON back
unless you're like not doing a rest
query you can actually get websites in
the actual code from websites and cypher
through that and do stuff with it the
problem with that is that websites
change a lot and if someone moves around
like their tags and images it could
break what you do with curl so it's
better to use an API you know not just
Yahoo there's just thousands of api's
from tons of big sites you can use
because those are made to be kind of
unchanging I hope that's a decent
introduction and thanks for watching hit
me up with a thumbs up if you found it
useful guys peace</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>