<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Setup PHP 7 Development Box (Vagrant + VirtualBox) | Coder Coacher - Coaching Coders</title><meta content="Setup PHP 7 Development Box (Vagrant + VirtualBox) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Setup PHP 7 Development Box (Vagrant + VirtualBox)</b></h2><h5 class="post__date">2016-01-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AWFdic29XHs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys this will be a longer video
about getting PHP seven set up in
vagrant in a virtual machine so you can
test it on your operating system and
play with it before it you know it's
just not time to upgrade yet like for a
production environment i don't think yet
so you would need vagrant which is
vagrant up calm and they have the
installer for every system they make it
for every system because they're awesome
and also VirtualBox which is also free
I'm using I believe 4.2 but I think
you'll get away fine with version 5 as
well
my vagrant version is 172 but it looks
like they have 181 here but once you get
those installed you should be able to
type vagrant in a terminal and it has
commands type version I have 172 I'm not
going to update at this moment so to get
started if you already have this
installed that's great
I'm just gonna make a new folder I'll
just make there and call it vagrant -
PHP 7 okay and then I'll CD into there
okay so the first thing is what box so I
want to use well it you really want to
match something that you use with your
server for the most part I'll just use a
bun - or something and I'm gonna check
if I have any boxes lingering around so
I'll just do an LS of my home folder dot
vagrant dot d boxes okay so it looks
like I do have a few I want to use this
one trusty 64 and the way this is
written is move on to slash trusty 64
okay so that vagrant slash is just
really a slash not sure what some of
these other guys are so in this
directory I'm just gonna say beggar in
it
Ubuntu slash trusty 64 and we now have a
vagrant file okay and I'm just gonna vim
the vagrant file maybe if it's easier
for you could sublime vagrant file and
open this guy up okay and that's kind of
funny I thought I deleted this but well
this was the IP I was gonna use yours
will be probably commented out like this
I just did that and you want to copy
this IP this is an internal IP that
you're gonna use to connect to your
vagrant box and then I just shared the
dot folder which is the current folder
which had to be uncommon it here said
something like vagrant data here I'll
just I guess I'll leave it at vagrant
data to me it doesn't matter
and then the config I don't care about
the gooey stuff and the memory I just
set to 512 so if you turn this on make
sure you have this end tag here looks
like they're doing two spaces for all
this this is Ruby and I'm not gonna use
the provisioner just because there's
probably a box somewhere out in the
ether or there will be but this also be
good practice to use vagrant alright so
if you don't have the box or any box you
would just it would download once you
type vagrant up okay
mine's already on my system so it
doesn't need to download anything and
also you can do
box update if you want okay so with that
IP address we want to sudo vim et Cie
host and whoops yep same IP and I just
didn't mind a PHP seven so it's this
line here so that I can go to HTTP slash
slash PHP seven and then what it'll
lists off my files
this is gonna be broken right now
because vagrant and there's no Apache
service running but you would save that
guy out and we wait for this beast to
boot
it only has 512 memory
and at the moment the easiest way to
install PHP is alright so we're in this
folder okay on dredge PPA this guy's
great
whoops we don't want 5.5
leave us I thought it was just PHP Andre
PPA okay
that's the one PPA on dredge slash PHP
so we'll go touch read Meade MD then
we'll just BIM readme MD and
installation notes
sudo apt add repository PPA what was it
that guy
okay so this is the command we're gonna
run inside a vagrant
okay and we'll just do a VIN installed
SH and we'll do shebang bin slash bash
that's a hash sign I wish I could zoom
in so it's easier to see but uh
basically it's bin slash bash but it has
a pound sign next to it okay and we're
gonna do this and then apt-get install
PHP seven PHP seven dev yes apt-get
install
Pete well I don't know what other
libraries I know we're gonna want Apache
to Apache to utils I think as one okay
then we'll chmod plus x the install file
this would be a way so you don't have to
remember all your command so let's just
vagrant SSH all right let's see where we
are with PWD so CD / vagrant data and
this where all our files are so we would
do sudo installed Sh
hopefully the PPA works in the file yeah
there we go so this is just saying hey
you can add all your stuff here and
press ENTER I did forget to run an
update let me cancel that shoot alright
them install so we'll do apt-get update
apt-get upgrade and I want to move this
guy here whoops there we go alright so
we'll do sudo install
enter
so it's getting all the updates and all
that stuff and it will also update the
PPA so that we can install PHP seven
all right so sudo apt-get install PHP
hmm
oh it's 7.0 sorry alright so let's go
down this list a little bit
so with this guy here make a new
terminal and I'll see thee in the
vagrant PHP 7 and then the install file
so we want PHP 7.0 and it's there 7.0
dev yes ok and we can install some
modules 7.0 m crypt is one you usually
want
let's just put though a - why here and
do new lines
- ql not sure what you'll do in here but
until there should be int L somewhere
that's a good one and is there a Redis
probably if you choose to use Redis I'm
just pressing enter
usually PHP CLI is always installed by
default just so you know it'd be really
weird if it wasn't usually you do that
kind of all these extra packages with
PHP fpm but all right oops
and then sudo apt-get install apache2
and I'll hit tab and dadada
Apache - - utils so we could do a patch
e2 and then Apache - - utils let's
delete that line and over here I'll just
add PHP 7.0 PHP 7.0 - dev I can delete
this and you don't want a trailing slash
on the last line that would cause a
problem the dev includes the source in
case you had to compile something I
think that'll be ok for now I need to
check if Lib Apache
gosh it's a lot sudo apt-get install
live Apache to mod and let's see if they
have a PHP 7 looks like we'll probably
need this guy ok
I'm put in a space after these by the
way in case it flattens down to one line
we don't need to worry about like app
armor or evasive or any security things
because this is just for development and
playing around
ok but now remember you want to run this
inside of your vagrant box you could
even do something in your bash script
like who am i if I'm not the user
vagrant and don't want me to do it so
I'll do sudo install now it's probably
going to ask for the key again even
though it's there for the PPA which it
could do a check but we're kind of at
Hawking this to get it going and just so
that you remember the commands you typed
oh shoot we did an update oh well it's
good to do even though probably not what
it's going to change in 30 seconds ok
so it's getting all the goods let's hope
it works
looks like it's getting a lot of
packages and dependencies and once we
get everything running we just have to
create a virtual host
looks like we forgot to do my SQL Server
as well so I'll just within this file
and I'll just say my SQL - server okay
so PHP if it let me type PHP - version
and we have version 7.0 - on here sudo
apt-get install Lib Apache - - mod let's
see if there's a mice why would my
sequel F - talked to Apache sorry I
don't know what I'm thinking so let's
just make sure we su f get install MySQL
server you could do Maria DB also if you
wanted to and this one's kind of
annoying because it's gonna pop us up
this I'm not you leave my password empty
because then I never forget it
okay so this isn't gonna be like the
best system I mean the best automated
system something better would be ansible
but for now we're just getting it put
together so let's go to EDC Apache to CD
sites available and we could just vim oo
default let's do sudo ok then I'm going
to set our document root to /v grunt
data or wherever you put your stuff at
okay so sudo service Apache to reload
and now that is running locally so this
should work technically okay so that's
good let's go down a folder oh I don't
have CD dot dot I'm used to having my
dot files so them Apache to.com and I'm
just gonna see where
directory slash read-only file chute
click sudo vim Apache two are the
permissions
acquired all granted indexes don't know
why user shares their we're just kind of
putting this in a common folder I
actually don't know if this will work so
let's just go ahead and do a direct puts
directory vagrant data directory options
indexes follow symlinks allow override
all that's for HT access and require all
granted now I could have probably
copy/paste
most of that VAR w w stuff actually just
for the heck of it I do want to allow HT
access files just in case sudo service
Apache to restart refresh okay so we
have these files listed here great now I
want to go to e TC PHP c d mods
available sudo PHP
and Maude looks like they took away the
number on that Jason is qli that's kind
of weird it seems like those would be
yeah says mods available it seems like
there'd be a mods enabled folder so
let's go to 7.0 ok so CD Apache - and
then we'll vim PHP dot ini and look for
error
alright so short open tags
I like those on or just I forgot to sudo
again error
okay so we'll page down a little bit
short open tags will be on page down
P cntl on disabled functions you don't
really need to worry about that's
process control unless you're doing
something a little more advanced expose
PHP I don't care I'll just put it on
memory limit here we go we want to eat
all to display every error and display
errors to on so we don't have to set it
in our ini start up errors on okay and
I'll just write and quit and oh that's
where all they all of them go so they
were already enabled it's income dot D
now instead of calling on this like mods
enabled or something we also have a CLI
and if you were to sudo vim this also
it's the same thing if I look for error
page down it doesn't have like the short
open tags but I'd pretty much do the
same stuff I did in the other thing
expose PHP I want all these errors on
Arizona that's if you just run it from
the CLI good enough alright so sudo
service Apache now PHP is not running as
a service that's Beach PF p.m. and we'll
restart it make sure this still works
okay so what we can do is now exit this
okay and I'm just going to them let's
say test dot PHP okay so let's look for
AP oops
PHP seven features
make sure that we can do stuff oh okay
some of intz I like to type stuff out so
this is a it's like Python multiple
arguments without having to define it so
we'll say function some will cast it to
it and actually that's a PHP method a
one of those guys and int with three
periods and array some of int I just
typed it a little different and I'll do
a some that's interesting how it cuz it
passes in the three dots is an array so
I'll say to 35.5 result print sorry echo
a result okay and I'll write that file
back here we should have our test PHP
and I did not return return and right
and we have 10 so PHP is now working and
you'd be able to add anything you want
in here so if I went back I could do a
make der of scripts and move tests to
scripts refresh and then just go under
scripts and should have the same result
so that's how we can get PHP running I
mean all you would have to do like if I
did Vagner an alt that would stop the
vagrant box
maybe it's not the best way to install
it I don't think it is I'd use ansible
but this is just for like playing around
and all that stuff
learning the new good stuff I think
that'll cover it if you guys have any
questions just ask in the comments and
thanks for watching I know it's been a
long video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>