<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Database Object with INI Parsing | Coder Coacher - Coaching Coders</title><meta content="PHP Database Object with INI Parsing - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Database Object with INI Parsing</b></h2><h5 class="post__date">2010-05-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9q-OuMrWCX4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">see from dream.com this is a quick
tutorial on making a database class so
we'll have an index file right here okay
I'm going to create a new folder just
call it libs and a new text document
this will be database dot PHP and whoops
and this will be database properties and
open those two just create an object
here and we're going to make these
protected variables then we're going to
construct it okay we're not going to do
anything there yet and then in the
database we're gonna make this extend
the database properties then we'll
create a couple variables just looking
at when I did a while ago mm-hmm so
we'll construct it and we want to
construct database properties when we
create a database basically we're going
to do this DB equals new database and
when that happens it's constructed and
then we want the parent to construct
which will get all the database settings
in here
hmm um actually we need a function we
need a and then your basic MySQL connect
okay so since we're getting the
properties out of here
we can use these variables because
they're going to be in here and they're
gonna be the this DB host this DB user
and this deep and then we're gonna
select the database okay
let's actually do if we can't select
this DB name die so we got that all good
and then back in the construct we're
going to make sure that there's no link
that's currently active so if one
doesn't exist we're going to run the
connect function otherwise return the
current link okay and now back to
database properties we're going to
create a new ini file okay let me look
here here's how you write a comment in
ini file okay you don't need to have
this but now I'm going to that so let's
use our variable names DB host equals
localhost DB name equals test DB user
equals root and DB pass I'm just going
to leave blank okay here's an eye
file you could really put any other
settings in here you want it I'll just
call it config dot ini back to the
database properties we're going to parse
ini file config dot ini and then we're
going to assign the ini or a host equal
well I got to give this variable bit and
it makes an associative array so it
would be ini DB host so if we look at
this here's how it works you connect to
the database or you create the new
object it loads up this which extends
database properties which basically
means it inherits whatever's in there
when it's constructed it first
constructs the parent which is database
properties database properties
constructed it parses the ini file it
puts the assigns the values to these by
parsing this file and then back to this
it checks that there's a link which is
the connection to the server and if it's
empty
it'll attempt to connect and it'll give
you an error if there is a problem
otherwise it returns the link and from
there we can use this object first we
need to create a way to query the
database this should do one underscore
for connect for private things you don't
want to underscores mmm unless it's a
magic map that I believe can't remember
off the top of my head so we'll create a
function called public on
in query and we'll use a string this SQL
equals strength this SQL okay then we
can do that now we can query the
database like so you know you could
insert into food where ID equals one and
you know this whole database object can
be improved quite a bit this I'm just
trying to do this pretty quick to show
an example oh and fetching you could do
something like a public function get
let's see we want to take the results
so while query equals that this result
nice can effectuate this result items
equals
so we'll just do a while loop to let's
see a while query equals and then we'll
return items let's do this so it doesn't
look too confusing okay there's a while
loop so you could basically do something
like this
DB query select from item tour true and
you could just do DB get and you could
just print our test okay I mean there's
a lot you could do like a database
abstract class so that it would work
with other databases
it's just a lot to go through in one
short video I hope that helps aw thanks
for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>