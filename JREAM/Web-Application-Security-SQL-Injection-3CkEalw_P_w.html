<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Web Application Security - SQL Injection | Coder Coacher - Coaching Coders</title><meta content="Web Application Security - SQL Injection - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Web Application Security - SQL Injection</b></h2><h5 class="post__date">2012-12-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3CkEalw_P_w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up guys we're going to talk
about SQL injection for our web
application security and basically SQL
has to do with structured query language
which is for databases you're probably
already using one and this is pretty
common one of the biggest problems and a
lot of applications and the easiest way
around it is just to use prepared
statements i'm going to show you what an
SQL injection is and how it happens so
that you can have an idea so I guess the
one thing I'd like you to get out of
this is always use prepared statements
it's probably the best thing you can do
and I guess the second thing is which
you'll hear a lot never trust user data
so i have a database here it's just a
test database all i have is just a user
ID a name and a type now what I'm
demonstrating here is just a very simple
example you know it's safe to assume the
hacker probably won't know your table
names and the things that are there just
like very easily however you always want
to take precaution so I have this guy
here it's just a simple little form with
a name submit and it gives us the query
where we insert so if i'll just say Kim
and I'll check here in my database that
it went in I don't know why it's not
appearing there we go Kim and just
inserts a user Kim so the problem we
have is if you actually look at my code
it's just very simple i'm using my SQL I
for this example because I can just
simply do the easy queries what we did
was if the request parameter save is
passed if question saves in the URL I'm
going to post the name from the form and
then my query string which a matter of
fact I could just
save myself some trouble pop it in here
and it does the query insert into users
set name equals name now what if
somebody wanted to modify this string
here wouldn't be very hard because they
can pass in foreign characters so one
thing you're always going to want to do
is validate user data validate
okay and let's look at an SQL injection
I wrote one down right here and I'll
copy this guy so basically you see where
it says name let me zoom in a little bit
how about like that basically what we
could do for this variable name we would
actually be able to do something like
this so it has two quotes on each side
if you if I just paste this in you see
how what I pace it in was tied with the
quote so it ends the quote to this one
so name equals Todd and then I'm adding
an extra parameter comma type equals
admin this one doesn't have an ending
quote because one is provided for us and
if I actually run this we got some SQL
injection in on our hands so I'll paste
it in Todd type admin to understand this
you just have to see how the string is
formatted and what's creating in the end
so just notice there's no quote at the
start and no quote at the end submit and
you see it created this beautiful string
for us and all we wanted to do was
insert a name now it's doing things we
don't want it to do if i refresh that
now I have some guy Todd that's an
administrator and again this is assuming
the worst most likely the hacker won't
know your database structure unless you
have a lot of bugs or it's a common
system like wordpress or some form
software then it's a serious problem and
the way to alleviate this is to use
prepared statements now I was using
MySQL I for the fun of it normally I'll
use P do i prefer PDO and i think most
people do so i'll go ahead and comment
that guy out I pay someone I had here so
a statement is I'm just doing a prepared
statement insert into users set name
equals question and then what we do is
out of the statement variable we create
an object which is a prepared statement
object
we bind the parameter S stands for
string and the name so this guy right
here does all the matches to clean it up
and prevent that from happening and one
thing just for fun if you're confused
and using MySQL line you had two
parameters and you get something like
this age is age then you do something
like SD if age was a digit s as string D
is digit or if you wanted gender it's a
letter so you'll just do s it's kind of
weird just for each parameter P do is
easier to use but regardless let's get
back to the web security at hand so I'll
try to do that again bratz let me copy
it and submit sorry I have a little typo
oopsie daisies
namie goes question I don't want to I
don't want to echo the south okay so we
ran that and I was just echoing out some
junk let's see what actually happened in
the database refresh and you see it went
in the correct fields the only thing is
we want to sanitize this data so for
example if it's a user name maybe this
isn't by the way this isn't exactly how
I suggest doing it you can like if
c-type el num name
basically that's a see language kind of
construct function in here and if it's
not alphanumeric will say hey you have
to be alphanumeric submit must be
alphanumeric we put in all this junk and
okay so that worked it was all for
numeric basically you want to validate
your user input and sanitize it that was
validating sanitizing would be like
removing funny characters or something
but that's that's generally it what an
SQL injection can do so the things to do
our use prepared statements I suggest
using PDO and getting good with it or
use an active record or an RM that uses
video validate and sanitizers or data
and there's a bunch of frameworks that
will help you do this easier like
codeigniter has a lot of this built in
so i hope that helps you and this is
something to always remember because
it's a pretty big deal thanks for
watching guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>