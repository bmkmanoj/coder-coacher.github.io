<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Zend Framework Tutorial: Database (4) | Coder Coacher - Coaching Coders</title><meta content="Zend Framework Tutorial: Database (4) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Zend Framework Tutorial: Database (4)</b></h2><h5 class="post__date">2011-10-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_L9JxYf80Kk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey youtubers today I'm going to do a
quick introduction for Zend framework
database and how to set that up what I
have already is a database called J
sample I'll provide a link in the
description if you want the SQL code to
just drop this into a database and to
get started we're going to start with
PowerShell okay and the first thing
you'll need to do is go to your Zend
project folder so mine would be
workspace ND and always make sure you
have your little XML file there and I'm
going to type Z F to see a list of
commands so what I'm going to do is the
DB adapter command and it's not too bad
to set up I'll say DB or sorry ZF
configure DB adapter and the DSN inside
of here we type in the type we want the
type of database our username password
and all that stuff so the adapter equals
PDO mysql you'll need to have PDO
enabled in your PHP ini file if you plan
to use that and furthermore you type in
stuff like username equals root password
equals nothing all that stuff now I have
a problem on Windows with these parsing
correctly so if anyone knows why please
let me know I'll go ahead and do it this
way
and I want to pop this in production
before I hit enter let me show you what
this is actually doing if you go to your
application config folder
you see how we typed in production here
it places it under this block if you did
staging and place it under there and
I'll go ahead and hit enter well run
Enter key their username it's not
recognized so if anyone knows how to get
this little part of the string to work
in Windows
could you post it in the comments linux
won't have a problem though so for now
I'm just manually doing it this way and
if I go here you see it inserted this
line so what we have to do is manually
insert our parameter so resources DB
params and the DB name is J sample and
I'll just duplicate these lines and
she'll change this first one to host
username password
and whatever your my sequel settings are
put those in might happen to be
localhost and that's all good now one
thing you'll know if you'll notice if
you're working under the production it
doesn't display errors and rather than
me going to my V host file or htaccess
to set up a environment variable to
change the mode that it's being
developed in I'm just going to be lazy
today and copy paste this in here now
you shouldn't permanently do this but
I'm just doing it to save time on this
video okay and let me open this up and
refresh okay
no problem so far and what we're going
to do is create a model because models
are what business logic goes into so let
me just LS
sorry that's a habit I type ls'
ZF and model I'm going to say ZF great
model user okay and in our models folder
we have a user model and you can use the
database object in a variety of ways I'm
going to show you two ways and this way
I'm not sure about in my opinion I won't
do it
so what we can do is extend the database
DB what's it called
Zend DB table extract and if we created
a DB table object here will also be
extending the same thing so rather than
having a model extended database object
I personally think we should stick to
the DB table model pattern of doing
things so what I'm going to do is create
a DB table so I'll say ZF create DB
table the name will be user and the
actual table name is user okay and
you'll see in the models we get a DB
table thing right here and I'll open
this up and it's called user and you'll
notice the class name is different than
this one so what I could do is reuse DB
tables within different models so for
example I have a user model here but
let's create another model real quick
looks ZF create model register so if we
had another registration model and we
wanted logic from the user table we
could just share this in any of these
actual models that we use because when
someone registers we might need to
insert a user record or something so
right now I'll just leave it I'm going
to actually do it in the red
store models are so it's less confusing
and slide this over here so what is this
right here this is the name of the table
okay which is user if you look in my SQL
I have a table called user so it default
is using this table we can select it we
can set the primary key to protect it
primary equals ID and as you know this
is my primary key ID right here and
there's a lot of built-in stuff when you
extend this so what we're going to do is
actually use this to insert a user and
what I'm going to do is double click
this go into register and I'm going to
create a public function and create user
and I'll say BB table user equals our DB
table object and DB table user insert
and you're like maybe thinking where
does insert coming from insert actually
comes from the Zen DB table abstract if
you are to go into your Zen framework
library files apps Sun framework
libraries and
c DB table abstract he or she is big
file I don't have my function list on
the side but you'll see it has a lot of
stuff we can set here we're setting the
table name right here the primary key
and I'll keep going down and let's look
for insert so we can insert data within
an array let's see if they got an update
we can do an update with a where clause
so it has kind of like crud
functionality all built in and select is
a little different select oh I guess
they let me check that again so what I'm
looking for a function select there we
go you see they instantiate the table
select so I guess just for your
information it's a little different like
it's not built right into it so we
already have those available to us so
what I can do is in here if I do insert
it's going to insert it into the user
table that knows that ID is the primary
key like suppose we were selecting and
what I'm going to do is from my
controller of index my index action so
this is going to happen when i refresh
the page i'm going to instantiate the
model of register so i'll say register
equals that and register
has a create user method okay
and inside of create user um I want to
pass an array of details and for those
details I want to say a name age gender
and I'll just do name age and gender for
now so we pass an associative write name
will be Becky age will be 25 gender will
be female oops okay now it's not going
to work just yet because we need to pass
the array in here so all right all right
okay and what I will do is go ahead here
and refresh and undefined function
application model register on line 13
was that under the index controller
register
create user
oops I forgot to put the word new here
sorry
that is embarrassing refresh still the
same problem DV table user oh I'm still
not my index controller I forgot to put
new here also sorry about that I'm
trying to get through this too fast
refresh and it looks like nothing
happened but let's go here browse and we
have Becky 25 female we could do a a
update function public function update
user pass in an array again and what I
actually might do is just on a construct
public function construct we'll just
have this instantiated all the time so
I'll say um private e be table and we
will change this to DB table and we'll
change our calls to this DB table insert
alright and then we could have this DB
table update array and this would be our
where statement I believe it's a string
I think we just do ID equals ID let's
try that
ID equals ID this has to be double
quoted boom so obviously it wouldn't be
like this cut and dry plain and simple
or else what's the point of even having
this thing here you'd probably put in
like some real smart logic that actually
does something important we're just
trying to get used to using the database
so in our index controller I'm going to
do comment this out let me make a copy
and I'll change this to update user and
name equals loopy age equals genders
female and in our update user method in
the register class we had an ID right
here and if I wanted to update by ideal
just say seven in my index controller so
comma seven and I'm not certain if that
will work but we'll try it
refresh and if I go here browse it
changed to boopie so not too bad I hope
that was a decent start and I hope you
followed I think I'm going to have to
make another tutorial on databases and
stuff because it's kind of a lot to go
through and also if you'd like you can
go to gym comm slash forum sign up here
and it asked questions and chit chat
with people if you'd like so thanks for
watching guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>