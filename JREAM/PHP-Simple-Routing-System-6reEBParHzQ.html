<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Simple Routing System | Coder Coacher - Coaching Coders</title><meta content="PHP Simple Routing System - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Simple Routing System</b></h2><h5 class="post__date">2012-07-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6reEBParHzQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up youtubers going to show
you how to make a mini routing system in
PHP mainly because it was fun to play
around with and you don't always need a
model view controller type of big
framework if you just want to make
something simple with some routes and I
just made our project in NetBeans and
what I have is a htaccess file it's
empty I'll just close it out my index
file where I include my route dot PHP
file and the route dot PHP file is just
a class called route so to get started
what this is going to do is we're going
to have a route to things so we could
say route slash home slash page and it
will go to something or user and we'll
go to something and I'm actually going
to go to the real thing I have a route
thing on my github that I'll put a link
in so you can see an actual example also
but we're probably going to finish this
out so let me go to workspace and my
route I guess that's what I told it and
make sure
okay and hmm so how do we want this to
work I guess the first thing I'll do is
instantiate the class where out equals
new row and I need to add a route so
I'll say we're out add and adding a
route would be something like this will
be the home page this would be the about
page and this would be the contact page
okay and what I need is a method inside
route to get that going so I'll say
public function add in the URI and
inside of the route class I'm going to
have a private array so I'll say private
uri equals array and i'm on that being
7.1 so this array appears as an error so
I'll just type of array in PHP 5.4 you
can use just square brackets so for this
we're going to build a collection of
internal URLs builds a collection of
internal URLs to look for okay
so I'll say this underscore URI and just
and just the next one equals URI okay
so that looks all good fine and dandy so
I'm going to go ahead and print our
route also echo a3 so that didn't make
sure that these are being added refresh
and now we have a little thing to look
for routing in order to make this run
based on the URL we need a submit method
something like that I'll just call it
submit prompt the submit and then inside
the Rob class this is where all the
magic happens
public function submit and this is where
it gets a little bit harder but it's not
too bad so the first thing I'm going to
do is a request URI okay and request URI
is going to come from the htaccess file
so make sure you have mod rewrite on
I'll say rewrite engine on rewrite base
re-write I hope I spelled that word
rewrite base will be what's our folder
in my case it's slash my route so I'm
going to change the name of this to my
route so it's not as confusing to
my route okay so my room okay and we do
our rewrite condition you see the stuff
everywhere basically don't rewrite a
file name request file name so if the
file request is a file or directory
we're not going to rewrite and rewrite
rule is very simple it's just means
start with this means end with and dot
period is just a bunch of anything in
between and then we want to rewrite is
the index.php page and here's what our
request parameters going to come in so
we're checking for this request URI um
it's doing a get we could even change
this to get so it makes more sense
because a request will also get a post
if it's there so let's change that to
get so I'll say URI equals dollar 1 and
query string append
okay so their will and okay so get URI
so I'll say URI equals get URI and I
want to do when it's that kind of type
of thing so I'll say if it is set okay
URI else we'll go to the home page
okay because this is gonna be our home
page what I want to do is look through
the you are eyes in our list here
remember we gathered those up and so if
I were to type in about I wanted to
match this about okay
so I'll say
you do a little loop for each this URI
as URI key-value you can name these
whatever you please
I better put a comment in here makes the
thing wrong okay so while we're moving
through here what we're going to look
for is a preg match so say if
preg match
of something inside Aarthi
URI
so if the gap parameter here is going to
match one of these guys in here and
we're going to do something
and in order to do that I need to do a
regular expression as the URI value so
it's going to loop through all those
values I just showed you on the page and
it's going to see if the gap parameter
is equal to that I could just write this
out as this might actually make it
Morrison URI get parameter and it's not
as confusing okay and I think I'll just
change these two key values so it's less
confusing okay
and change this kind of value there we
go so we're looking for the value to
start with and end with the value and
since these slashes can cause problems
since we're looking for these slashes
I'm going to use the pound sign instead
of the slashes
like that looks a little crazy and we're
going to do say echo match okay whoops
so I'll go ahead and refresh and look we
have a match my row
what we do about no match so let's
tackle the sky
and then we're going to echo out the
value even though we know these I'm also
that I had bought a line break so we can
see what we're working with okay refresh
so about there's a slash there's okay so
this does not have a slash on it that's
why it's not matching let me do another
BR here so you can read it refresh so
here's what we're trying to find right
there and it's looking for that that now
we could take the slashes off of the
index here but the reason I believe in
mind is because for your homepage you
know it just looks kind of weird empty
it feels like a URL when you know these
slashes so what we're going to do is
when we add a URL we're going to first
trim off the slashes so I'll say trim
URI I'm going to trim these slashes and
then I'm also going to append us do I
want to
I think I
no we're just gonna remove them I
believe yeah okay so let me refresh and
there we go about about match
how about contact contact match and
nothing just a slash so this is empty
um so I'm going to force it on just
because it'll make more sense so the URL
I should all have slashes okay so
they're there there's a match with just
the homepage I know it looks a little
weird to read so let's do this now that
we have a matching mechanism we can
actually do something and this is where
you get to have some fun it's going to
be totally up to you so within these we
can do really anything we want we could
make a class so if I were to say class
dog or how about class about
this isn't how I would do it because I
put this in its own file okay so this is
an example let me just do an example
this is if you had some kind of super
feature-rich thing I was close SRC since
I've been doing that at work and I'll
call this about okay
so class about and public function
construct this is the home page
this time I'm just gonna load up some
protected method
okay so that's really about all there is
to that case so we have the separate
class just chilling here let me close
the htaccess to minimize what we're
doing so it looks easy
so just duplicate that line load up SRC
about make sure that's in there and
inside here the second argument we could
do a new about so what we have to do is
add another argument to that add so I'll
say method equals null
you should pretty much always have a
method in my opinion but I'll say if
method is not equal no this method
equals method and will also do this
against or our methods to line up with
the URI so here's our method
looks legit
so when we find a match we have to
consider this these are key value key
value blah blah blah so just their phone
also I knew about know about for that
okay
so when I submit I'm going to print our
of this method I'm going to print our of
this URI and go free so we can see what
we're working with and I can explain to
you once again oh I have a print or
we're out there so I guess we don't need
that
how silly refresh
undefined property about other in the
about class I did something wrong this
other needs to the parentheses okay and
refresh and this is getting instantiated
so what we could do is instead
instantiate move passing the string and
say I'll replace this with about
okay and okay that's the method so let
me refresh so here are our routes here
are our methods okay and you see the key
zero will load zero one would load one
two would load - obviously I would
probably change that to home contact
like that so if there's a natural one
we're going to load up the key of the
method so in route
let me just echo the key if we get a
match we should know the key and we get
zero so we're all say is this method key
I also use method equals method key okay
so basically since we're at zero right
here on this one it's going to use this
one just matches up with that real
nicely and I will say new use method
okay
and I'll quickly just whip together a
couple of these I'll say a home and
contact just make sure you name your
classes up and I'll refresh and home not
found I need to include that in my index
so home and contact books refresher and
this is the home page I have the same
text and all of them but then here's the
about about should have loaded the about
page and
some about class about and about so
let's see what this is
echoing echo use method a little bit of
debugging I wrote nothing on the find
variable use method oh I call that
afterwards
refresh this is the home page okay and
about
that is strange new use method index dot
PHP home is our match let's make sure
there's a match okay
there is no match anymore I think it's
because of a little the Tom Dick and
Harry I did so you are I / am is about
and the get you are I does not have a
slash so I guess I'll have to append
that on there so that it's always before
it okay in there will know so let me
clean that up one of the confusions you
might run into is with these little
slashes might be easier to do it without
them but it's your call it's your call
man so refresh and undefined variables
use method whoops deleted one too many
things there okay
so if there's a match um we'll do some
good refresh and about and contact
okay and again you do not have to use
classes if I were to comment this out I
could do a call user func array of
why am i calling a phone call user func
okay and the function will be this
method key okay so if I were to have a
anonymous function in here let's say
function
and go hey this is home okay
and that should load the anonymous
function
hey this is home it works and now we
will not have working things so I could
use a detector if this method key equals
how about is string like this and you
could throw in your little validators to
make sure like the file exists and all
that stuff
else
boom boom so it should load the class or
the function let's see if it works
homeworks let's try about and about
works and there you have it a very
simple router I'll throw this up on a
little github so you can download it if
you want to thanks for watching guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>