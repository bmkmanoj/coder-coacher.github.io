<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Caching / Cache Tutorial (16) | Coder Coacher - Coaching Coders</title><meta content="PHP Caching / Cache Tutorial (16) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Caching / Cache Tutorial (16)</b></h2><h5 class="post__date">2010-09-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fdpnT2iPYS0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up this is Jesse with
dream.com and this tutorial will do some
simple caching and this is just a real
plain example to give an idea of how it
works and caching will speed up your
site tons if you have some expensive
things going on so an expensive thing is
iteration and recursive listing of
things so let's do that we'll say a
handle equals opened er uploads and I've
created an upload directory right here
and I just put a bunch of text files
just copy and paste so that we can list
those and then let's do a while loop and
let's say file equals reader handle and
when that is not false
we'll keep listing and let's set this up
in a variable okay and then I'll output
equals null this is just a loop to lissa
directory it will close the directory
okay and echo output so we refresh that
and get a parse error on line 10 and
that's because we forgot a parenthesis
there and refresh okay we'll get all
this um I'll just leave the two dots
here for now who cares now if you
refresh every time you refresh you know
it's slow I didn't put a timer on here
but you could check your parsing time so
every time you're refreshing it's doing
this iteration to read an entire
directory so if 200 people came to your
site it's going to be re reading this
directory 200 times and that's going to
be expensive so what you'd want to do is
create a cache
and to do so we'll say um let's give it
a name so like how about I'll put it up
here if a file exists cash okay and then
we'll say else and then just move all
this up like that so the file exists of
cash
we'll say um include cash now we've got
to define cash so let's just called cash
equals armed sample that cash PHP I
don't know if the extension matters or
not because we're just including it so
if it exists we'll include it if it
doesn't we're going to scan the
directory kay since it doesn't exist
we're just continually looping I'm going
to actually put this in a cache
directory so whoops I'll create a new
directory called cache I usually call it
cachet but my brother is always
correcting me on how I talk so here we
have this looks good and now we have to
write a file after we loop it we're
going to write the file so let's say
scroll down a little bit file handle
equals F open of cache and we're going
to write plus so if it doesn't exist we
create it err writing file so if we
can't write the file we're just going to
kill the script and let's F right um to
the file handle and let's put an output
and then let's F close the file handle
and
think that'll be good as long as it's
defined up here okay
so that'll refresh it still did the
listing but it created a file now so now
if file exists I'm not sure if it's
caching let's see echo one okay and then
if you go to your cache you have this
which is actually being included and now
your server won't waste a ton of
resources on running that all the time
it'll be a lot faster now there's a
there's probably a lot of these pre-made
that are a lot better than this but this
gives you a general idea of how to do it
and I wouldn't really do something like
this officially but if you understand
how it works I think it will help also
um you could say if file exists cache um
and the file date I actually don't know
what the actual function is off top my
head let's just say a file day is less
than five days then include it so every
five days it would recreate the cache
file you could do something like that I
think that's it for now thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>