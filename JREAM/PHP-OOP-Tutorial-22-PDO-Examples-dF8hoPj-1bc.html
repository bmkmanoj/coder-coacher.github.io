<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP OOP Tutorial 22 | PDO Examples | Coder Coacher - Coaching Coders</title><meta content="PHP OOP Tutorial 22 | PDO Examples - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP OOP Tutorial 22 | PDO Examples</b></h2><h5 class="post__date">2010-10-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dF8hoPj-1bc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys this is Jessie and it's
tutorial we'll do some PDL examples now
there's a lot to pee do uh it means PHP
database object but I'll go through the
basics so you can get started with it
and the first thing we want to do is
connect and since most people use MySQL
I'm just going to do MySQL : host equals
localhost semicolon DB name equals test
that's the database I'll be working with
and two more parameters is the username
and the password
mine just blank okay and usually want to
pop this in a try statement so we can
get the exception we don't want our
script to go on if we can't get a
database connection and we want to find
out what's wrong so we're gonna try to
catch the PDO exception and that will be
grabbed with e4 error and I'll say echo
II um get message okay and let me put in
a bad value there so I can show you and
could not find driver okay because I put
in MySQL I first of all supposed to be
MySQL and refresh and it's taking long
and we get the problem so I'll just put
that in right so if you have it right
you should have no error looks good the
first thing we'll do is work with the
PDO class the other one we'll work with
is the PDO statement class so PDO class
uh there's one thing you'll use maybe
time to time it's called the exact and
you just run it with DBH and exact which
is short for execute now you can't do
select statements and execute or exec it
just is insert update delete so let's
say we do insert into page title content
values um hey
this one new okay and you can count it
and echo out the count so I just assign
this the variable C and I'm going to see
how many times it's affected once okay
and if I browse this I'll see this is
the new one
cool let's see the another thing you can
do is set attributes for your handling
and you do DBH set at tribute and now
this works with PDL constants and you'll
have to look these up but I'll just do
two of them so one of them would be P do
attribute error mode and we set that to
P do just say error mode warning you can
look these up if you want I'll do one
more dvh set attribute p do attribute
case and we want the case to be lower
from the row column names so that's good
let me refresh make sure I don't have an
error okay all right let's move on to
the statement class you know there's not
a lot I use with the exact statement
this is where the magic happens in the
statement class first you create a query
and that's DBH query and say select star
from page and we'll give this a variable
of s th because right now it's just the
PDO class here but we're going to
transform this into a P do statement by
using the s th with let's say fetch and
I'll just do print R for that and I'll
refresh and I get an array I'm going to
go pre up at the top so that we can see
how it looks okay and you would use the
video attributes you could do it in a
fetch statement to just get an
associative array or enumerated array so
let's work with some prepared statements
because this is kind of one of the main
reasons you want to use it let's do um
statement equals DBH prepare and let's
say um insert into page title content
and then values will put um title
with that little semicolon there and
content and then we'd say sth execute
and this is has to be an array so an
array here I'll type it above it so it's
a little easier to see what we're doing
I'll call it pass and array for the
first parameter it's going to be title
and we're going to give that a value of
my book and for the second one we're
going to do content and for that value
we'll say this is a bad book okay let me
space this down okay so we have a little
rate and then we pass this into here
just to execute pass and I'll let's echo
that out see what happens and we get one
so that means it's good browse and
here's my book is a bad book so
basically what this does a prepared
statement automatically cleans up all
your strings and does all the dirty work
for you with whatever database you're
using in this case we're using MySQL and
you know you wonder well why is this
good well here's why let's say we want
to pop this in here
let's do we could just go like this my
book one three two okay and then I'll
refresh this and then I'll browse and
check that out
inserts all those rows really quick for
us there's also a question mark way of
doing this
oops I have this a lower case where you
can put in a question mark and a
question mark and then you have to pass
them in the correct order or else you
know it doesn't automatically line up so
I'll do for the title I'll change this
array and you don't need the associative
array you would say the first value
let's say um John Smith and for the
content let's say using question marks
okay and refresh and browse and there it
is
so really the difference is I guess
preference next I'll show you how to use
bind parameters so that we don't have to
write out all this erase stuff we'd say
sth or statement then would say bind /
am and since we're using the question
values I'd say for the first one which
would be this one I want the value of
title to go in there and sth bind / am
for the second question mark right here
I would do content and inside the
execute statement we can get rid of pass
and I could say well we could go like
this title equals on let's just say ABC
arm content equals d EF and we could
execute it this way and we could just
keep doing this
one one one two two two and I'll refresh
and go back here and there it is there
if you had the positioned ones like
title and content these do not have to
be the same name as these by the way
it's just easier to tell what you're
doing
you'd say title and content oops
and let me refresh and go back browse
and here we have another copy of the
tube looks good alright well I still
have alright well I still have time let
me um do a fetch since I don't think we
brought that up let's just do a DBH
query um select star from page and I'll
do sth equals DBH or sorry the st h
equals database Handler and s th fetch
and this will be called a result and
I'll just do print our result and
refresh this and we get this possible I
did show you this already you can do
fetch all refresh we'll get all of them
and this has a lot of cool parameters
one of them that I like is P do fetch
Hodge and it will fetch the results into
whatever variable you get it so let's
say results and I could say results and
was the name of it title at Cora's alt
title now I need to do peach fetch
so I'll refresh and I get test there
because I'm only fetching a single one
but if I fetch all I'm going to have to
specify this a little bit differently so
I'll go to refresh and there's an on
object error that's because if we look
at it the do print our result comment
that out a second it's an object so if
we want to get the title we have to grab
array which is the result variable 0 and
then
or one and so you can walk through that
way so we'd say echo results zero title
and then how about echo result three
whoops content and I'll refresh that
boom so that's a basic overview of PDO
and if you get used to these parameters
it's really good you don't have to use
MySQL I actually use it for PDO our
sorry sqlite3 and with SQLite you don't
actually use these parameters and it's
more like a file it's kind of like
SQLite file named SQLite anyways thanks
for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>