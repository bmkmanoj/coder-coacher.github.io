<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learn Node By Example - Part 7 - Prepare Forms for Users | Coder Coacher - Coaching Coders</title><meta content="Learn Node By Example - Part 7 - Prepare Forms for Users - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Learn Node By Example - Part 7 - Prepare Forms for Users</b></h2><h5 class="post__date">2017-02-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uOl21s9rxVM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we're going to do some
forms to prepare for our login now I
would like dashboard to be completely
locked down the whole route itself so
what I want to do is just make a new
folder and I'll just I could call it off
or users that might be easier make more
sense and in here well let's copy some
code okay and we'll make a new file and
we're going to have a login here so i'll
just leave the title like that so this
will be you login dot HBS this will be
registered HBS this will be forgot
password that HBS I'm not sure if I
should do an underscore here why not
easier to read so log in register forgot
password okay and what we need are just
some forms so I'm going to go to google
and just bootstrap forms so we're using
bootstrap 3 and you know you can change
front end if you want if it comes if
you're using for alpha I'm just going to
try to grab something down here
horizontal forms this looks nice I'm
just going to copy all this it's
horizontal form
okay and this is bootstrap 3 we don't
need to panic what it looks like so
login I'll just paste this here and then
let me just see register okay we can
just put the same form here for register
so let's make some routes and routes
user so we'll say router get register
function request response next ok and I
believe its response tender just wanna
make sure and we want to register users
/ register title will be register okay
router get login I'll change this one to
log in log in there and then I guess the
last one will be forgot password
or got password okay now what I also
want to do in the partials is we have a
Heather but I want to create a new one
called nav nav HBS and in here I want to
have linked so probably a UL list hrf to
know where and this will be log in right
let's register forgot password and we'll
have a separate list here and this will
just lead the dashboard okay say that is
nav and where we want to put this as
probably in the header and the way we
included that was pretty much the same
way so i would say include nav
and sometimes there's too much
separation I think we might be able to
you know you there's a lot of things you
could do here you could have a nav not
logged in and then a nav logged in which
will include well I think that's kind of
overkill and I think I'll just keep this
file separate like this because we don't
know what our header will have it could
have a lot of code so if I just go down
to the bootstrap guys and let's see
seems they usually had some free one you
seemed and all they started a theme
store they have a starter theme that I i
do like may go back and I think it's on
there getting started what's included
there's some basic template so how about
this guy Jumbotron okay so I'll just
view the page source and we're just
going to copy this whole nav here and
you can see this is the URL or jumbotron
and for the nav I'll go like this and it
looks like it didnt tab out perfectly
looks like there's in two spaces so the
nav what's this doing here
as a login and tasks were there I don't
want it there I want my pretty little
drop downs let me go back I want it like
this let me view the page source here
just make sure I do it right so they
just have a UL of pull right and then
sat alright so you could look at
Jumbotron narrow in front end is really
your call so I'm not going to tell you
hey do this right so we can get rid of
this form here in fact actually it
doesn't look like this is collapsible
entire nav is just this which is
interesting
it suppose I'll just copy the clear
thick and we'll put it like this and
project name how about just node
okay and instead of that you l will cut
this and I'm not going to worry about
the role but it does look like it has a
class equals active so we'll have a home
link there then we'll be able to
determine which page were on at some
point and then here we'll have our
dashboard and I suppose our home as well
okay and let's try just the if statement
looks like this UL we actually combined
the ul's and we're going to put an if
statement in here okay and for
handlebars will do a if user just for
now let's do this it's User else
then close the if tag I don't know if it
matters if I put that it's there maybe
just is better because it's in the same
color so we have our nav and include nav
something looks wrong about that
actually where's my layout yeah it was
like this so header will be instead
we'll have nav okay I was thinking of
one of the other template ejs I think
okay so will attempt to just run end mtm
start and cross our fingers okay whoops
users try this let's see what happened
unexpected token on / login so users
login looks like we had an extra one
there and looks like we did that for all
of them sorry try that again refresh
okay so we have these links now if we go
to dashboard it should still good so
there is no user defined so it knows hey
don't display this menu but what we will
protect this dashboard once way I've
user authentication and for the form we
can go back to that so we have forgot
password actually we didn't even look at
the login form how that looks oh it's a
user / logon is that right let's check
users and then our appt KS is users not
users not use its plural okay so there's
that now we'll probably want to add a
container just like they had let's close
this guy the jumbotron narrow so inside
of let's see the container looks like it
wrapped all the way to from top to
bottom so we can put that in the main
layout so container and then /div and I
was just flash container so i need my
little
and they also had a little jumbotron
right here and we want to pop that mmm
probably in the header just for now now
how about not at all let's see what this
actually looks like again whoops okay so
I'll just cancel and reload and check
the login page okay so their container
is a little different this paragraph is
pretty much useless and you know to be
styled there's the pills okay so we'll
go ahead and add a few lengths let's to
the nav and this should go to user login
user register user forgot password I
haven't looked into named routes but
those are usually convenient um it just
goes to slash slash and it says
dashboard make sure that works so
refresh and let's see register oh its
users I keep messing that up users users
users okay reload and refresh so
register login or got password home okay
that's good and then the last thing we
want to do is add to our users routes
and we want to do a post router dot post
login
function requests result like that we
can actually get rid of next this isn't
like middle layer stuff so we'll have a
post for login a post for register
console dot log requests and I should
get our post data now let's copy this
here this will be registered post and
then the forgot password so what we're
going to do is just make sure our forms
are good register form method equals
post action equals users register and go
ahead and copy this login users login
and I'm going to get rid of this form
group of remember me I'll just change
this to login we haven't decided how
they're going to log in yet but that's
okay and then forgot password I guess we
can copy this form here and this will be
users forgot password and we'll just
stick with probably their email submit
and the forgot password will have more
than one step so once they succeed at
this they'll be able to we could you
know make a pass like success or to just
render another template so what I'll do
is I'll copy the login form and make a
new one and say this as reset password
HDS and it'll come from a unique URL it
will post to reset password and we're
going to want to confirm their password
okay confirm password confirm password
submit okay and I'm actually don't
change the name of this to password
reset and rename this file to password
forgot so instead of this will have
password forgot instead of this flap
password reset that way these two are
right next to each other so password
reset and password forgot and then we
have to change the route so this will be
password for that
that's works forgot and then we'll have
the password reset reset password and
this will come in with some special
credentials so that only they can verify
it from their email which isn't ready
yet so when they submit register we need
a completion form or a completion page
and I guess we'll just go the long way
about it which would be register success
if it fails it's just going to go back
to the register page and show the errors
register success whether or not we want
them to validate their email I think
that's a big deal
look
so we could make this register pending
pending and if they post to how about if
they pose to register let's make a note
of this will do it to do if the user
confirms their email we get we handled
this differently so step one post the
forum attempt to create a user set to
the email links to this and all shoot
it's going to be a get request so we'll
just do a confirm email my bad I just
for pending and register
confirm we'll just change this
registration confirmed and then what we
want to do is just give that stupid
paragraph tag which does nothing okay
and I just want to copy the title new
file this will be register confirm dot
HBS i'll just put to do checks if the
email was confirmed with the correct
code and then a new one say this as
register pending HBS
look sends user and email they get a
link which they can confirm it with
because if we get fake emails then we're
not going to be in good shape okay so
user register Post good email password
on here we want to confirm password for
this boy I got each four spaces I'm not
going to worry about all the dudes names
and names right now like this has no
name on it which is funny okay and then
there's no reason for remember me okay
and this will be a register forum users
register password reset password forgot
okay so with our routes we're going to
attempt to make sure these all work
refresh so log in we got rid of that
dumb paragraph tag email and a password
register email password confirm you
could even do like a captcha thing here
possibly forgot password users its
password forgot so we have to change the
nav route password forgot and rerun
and forgot password is your email
address okay and now we're just going to
check on register pending okay that page
is up register confirm okay and this
will show an error code if they do good
or not alright so now we have some use a
route login password register register
and I believe that might be all we need
and this video is getting pretty long
obviously this isn't the most
attractive-looking thing yet and we'll
leave it at that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>