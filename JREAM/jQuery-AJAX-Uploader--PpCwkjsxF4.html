<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery AJAX Uploader | Coder Coacher - Coaching Coders</title><meta content="jQuery AJAX Uploader - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery AJAX Uploader</b></h2><h5 class="post__date">2012-04-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-PpCwkjsxF4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up youtubers today we're
gonna do an AJAX file upload through a
JavaScript I'm gonna be using valance
and rouvaun's
Ajax upload and that's the URL at the
top just because it's really easy to use
and it's probably my favorite because it
comes with the least amount of
complications so basically you click the
button upload a file and we're gonna do
some customizing and you can go ahead
and download this bad boy or you could
go to the github repo because a lot of
people have made Forks of it which are
pretty much different variations so if i
refresh this page I have on my hard
drive I'm just setting up an example and
I'll be uploading to the PHP inside of
my little folder directory here I have
upload PHP that is going to be the file
to process the code SAVE original is his
little QQ upload for the server-side
example he made I'm gonna clean that up
and make it less complicated in a very
short amount of time the upload folder
is just where I'm going to drop stuff if
you're on Linux you're going to need to
make this writable and the J axis folder
I threw in the file uploader that comes
with this package and in the CSS folder
I have his file uploader CSS and I also
placed an image of his loading in there
so I might have to change a path to fit
these in I also have an upload button
that I made so it's not as boring
so it's pretty straightforward to use
this he's not using jQuery or anything
which is kind of cool so you can use
this with any library but I will be
using jQuery so I got my jQuery included
here I have his file uploaded and
included after and I have the file
upload CSS and if I go down I have a div
ID equals upload if we go to his site he
give us a decent example and scroll down
and it's this stuff here and I'll just
type it out so I'll say new cute new QQ
dot file uploader boom boom and we
select the element and with the jQuery
selector I will select upload and for
some reason it seems to be fetching in
an array not certain why but even with
an ID we got to put the 0 there so right
you're there upload I'll go ahead and
refresh that and here's my little upload
button now it's not gonna work yet
that's what we're gonna work out so to
begin there's two things you can do you
can use the file uploader or you can do
a file upload our basic where if you go
into its JavaScript file and I look for
file uploader basic we can create all
this stuff and manually extend it
however I found it easier to do just use
the regular file uploader and overwrite
stuff with our options so we'll give
this an action
and the action I want for this guy is to
run upload dot PHP like that and okay
I'll save that so in here I'm going to
open up Firebug and go to my console
make sure I refresh that and it looks
like we have a problem
so
oh I just used to ready to fire off food
sorry about that
so I'll upload a file and I'll hit up
Mario and we can see our posts here is
upload dot PHP QQ file equals Mario 1 so
we have an idea of what we're gonna have
to do there so if we go to his original
class here I just called it safe
original all I really want to do is just
a really easy save so on this QQ
uploaded file exit charm it's gonna grab
this chunk of stuff inside the safe
function you could just save the whole
save function close that out open up
upload and paste that in there and I'm
gonna get rid of the function and the
return and a couple of things we need to
change one is the path right down here
we open a file called path so I want to
put this in upload and we have to f open
a file name you can't file open our
directory and you remember the argument
that was passed it was QQ file so I'll
just do a gap on that so I'll say get QQ
file
cut that out and
put that guy right there next we have
this contact so we're not in the object
so I'm just gonna get rid of this and
looks like that might be legitimate so
I'm gonna try that upload again since we
only change the server-side file I'll
run it it says failed and let's see if
it actually uploaded oops I though to
upload it did upload so the way this
works is you have to output JSON
encoding so we'll just do echo and Jason
and code I'll make a result equals
alright and we'll just do an associative
array of success of true okay
I'll try that once more Mario and you
see now we see no failed thing because
it has a success of true and what you
could do is you could check a bunch of
stuff in here and you could be like if
something that you could change the
result to success is false but we're not
going to get into all of that so how's
that working there's quite a few options
we can throw in here and one is called
um complete and this is a function so in
the function has three arguments ID
filename and the jason and i can just do
a console about log oops
ID name jason go ahead and refresh that
upload boom and the ID is just the cue
item here's the file named mario and our
object are jason code and what we can do
is manipulate stuff from there but let's
go through a couple of options one we
can limit file extensions which is
pretty easy so i'll say aloud extensions
is gonna be an array of jpg JPEG PNG and
gif if you want an image uploader okay
so if I were to upload something other
format like this it won't let me upload
that cool now if I want to say change
the button I can go into the CSS file
okay and it's called QQ upload button
I'm just going to drop this line of text
I'm gonna make a URL and I have this an
image of PNG some of my options changed
a little bit I'll just say width:250px
type of 50 pixels okay so let's see how
that does refresh and we have that guy
that hover is really ugly let me get rid
of that and also we have texts on top of
it it's telling where's that coming from
so for the hover I don't want to do
anything so if I go to the actual
JavaScript file and I look for upload a
file we have a template here in the file
uploader called upload a file
and I can manually delete this from here
but that's a bad idea too unlucky with
the original file because you might use
it in a different instance so what we're
gonna do is overwrite those options up
here which is really easy so let's get
the template here I'll paste that right
there
don't forget your commas if anything
breaks just make sure to check your
commas I always put a comma at the end
of the line I started the beginning of
the line because it's easiest for me to
see so I'll go ahead and delete this
text here refresh and there it's gone so
we just overall some options it also has
an option for drag and drop so if I were
to take something here you could
customize that if you wanted for this
example just to make it simple I'm gonna
get rid of that so they can't do that
anymore so now we over wrote the
template you can do the same thing with
the file template here if you want
otherwise it will just use the default
and then you can change all your class
names if you - if you want to so I could
really just go in here and go boom
there's boom boom like that annulus QQ
uploading all this stuff it might look a
little busy we could change these if we
want I'm not gonna mess bloom though but
you get the idea so what we're gonna do
is actually upload something make it
work and then disable the button so
let's do this I'll close this and I want
a disable button so I'm just gonna make
one call QQ upload caught and disabled
it's basically gonna be all this code
well it could just come throw that CSS
on there and then for this one I'll say
background position is 50 pixels and
this is just a custom little picture I
mean
so back to the index file so I'm
complete
so I'll say if Jason dots s equals
okay so I'll refresh that and boom and
as I swap the button and that's where
we're gonna swap the button and get rid
of that guy and to do so let's inspect
this guy right here and what I'm looking
for is the div class of QQ upload button
I actually want to remove this from my
page so what I'm going to do is grab the
idea of upload and look for this guy in
here so see we're inside to upload like
if we were to have multiple uploaders on
one page I just want to get the wand
that we're working in so I'll grab
buffaloed
so I'm complete I'll grab upload dot
fine
QQ upload button and that is Chimel is
what we're going to change and I'm gonna
throw in a div class equals or
enthralling that CSS we just made right
here boom okay and I'll go ahead and
refresh let's try that again
Mario and it replaced it because you see
we can't click anything here what I have
wrong is my background position so let
me try zero negative 50 refresh upload
Mario and now it's a disabled button
pretty sweet and that's all going up
into our upload folder and you could put
options in here like overwrite so what
you could do is if file exists
result equals
false I'm having a little cold
implication just because I'm being lazy
right now so I'll refresh this guy and
though and it failed because it's a
duplicate so you could include something
like that then duplicates I'm just gonna
get rid of that because I commented
alpha so it's in the github okay okay
and lastly you might run into the
scenario where you want to re-upload
re-enable this button after you've
upload this in something for example if
we had successfully uploaded something
that we change our mind we want to
delete it we can re-enable this and to
do so what I would do is probably make a
function so I'll say function
and that uploader okay I'll grab this
guy
I'll put them in here I like my cabs to
be correct okay and I don't believe he
needs even being a document.ready thingy
okay and let's just make sure it works
with in it uploader refresh okay it's
still working so basically we're gonna
make an event that after let's make a
little text down here that we can click
so I'll stay out
so can we set our guy I'll say ID equals
reset so this will reset our upload
button and I'll say reset dot click
function ok that'll reinstate this guy
right here
refresh let's try without Mario reset
reset
let me prevent the default from
happening eat prevent default and let me
just throw this guy a variable should I
yeah so I'll just call this bar upload
let's try that again
reset let me see what's going on a
second
okay well my problem is this is a
function and we thrown on a lark here to
make sure we said is working correctly
see that guy he's not behaving let me
get rid of that reset having trouble
getting an alert out of here false let's
change this to a class is on the little
confused refresh reset you don't say
okay that's time for chrome developer
tools so I'll open that guy up console
refresh unlocked and error element not
found that's because we got rid of the
drag-and-drop thing
I don't think that's going to be a big
deal
but if we want I guess we might need to
throw back in it really shouldn't be a
big deal
so reset click I'm not getting any
errors from my reset I'm not sure why
it's not saying anything I know I'm
missing something really simple and dumb
let me put this guy up here
boom boom okay
I guess that error is causing the
problem so sorry about that I'll go
ahead and open the file upload or j/s
and I look for a template and I'll just
include this back here for now
okay refresh okay so we don't have a
problem I'll get rid of these alert one
let me let me try this again Mario to
reset to reset sweet it looks like I
have the wrong loading image so in the
CSS file let's see where is that loader
loading and this guy's own image slash
loading there so you probably won't see
the loading image because it goes so
fast on your own computer and that's
pretty much the gist of it you can
customize this change all your classes a
bunch of stuff here to delete a file you
can pretty much do a post request to be
quite easy have nothing to do with the
uploader and I hope this tutorial is
helpful you can download on github
thanks for watching guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>