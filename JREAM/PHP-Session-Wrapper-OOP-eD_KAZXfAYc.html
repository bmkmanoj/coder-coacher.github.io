<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Session Wrapper (OOP) | Coder Coacher - Coaching Coders</title><meta content="PHP Session Wrapper (OOP) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JREAM/">JREAM</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Session Wrapper (OOP)</b></h2><h5 class="post__date">2011-09-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eD_KAZXfAYc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey youtubers today I'm going to do a
little tutorial on a PHP session wrapper
and why you might want to use one and
we're going to build one so what I have
is just a directory called test with a
index.php file that is open right there
and what I'm going to do is create a new
file and I'm going to call this session
dot PHP however you organize your files
that will be up to you so what we're
first going to do is create clash
session and let's start out in this file
here the index file and work with a
regular session so I could say session
name equals Jesse and we have to do our
session start
so I'll refresh and that's such a
session in our temporary directory let
me comment that out and do echo session
name and refresh and I get Jesse and
that's to store data across the session
you probably already know all this so
what we want to do is make it more
usable and automatically check our
problems like let's say if I did test
and I refresh you know we get that
annoying error
and my suggestion is to make static
methods so with a session we have two
things we have a get in a set for
setting values and we're getting values
so I would probably go like this public
static function set and inside a set
we're going to set a key and a value and
what this relates to is the session key
equals value basically we're setting it
the same way I just showed you and I'll
say session key equals value and for I
get will do public static function get
and the key name and in here we're going
to do a little bit of error checking so
if is set session key
returned session key okay
and I'll do it else return false now
you'll notice I'm not using the squiggly
brackets sometimes I don't use those the
French braces like that when I'm only
doing just one simple thing so a static
class as you know cannot be instantiated
well I guess it could but static methods
are just called without instantiation
actually I don't know that so what I'll
do is say session set name of Jesse the
problem we'll have here is we have to
include our session file also so I'll do
require session not PHP and refresh and
let me session get name
okay so I've already set the name here
and the value so this is the key the
value as you can see the key the value
it's just doing that what I'm going to
do is get it ech without and we have it
there nice and easy
what if I do dog we don't have that set
we get nothing so that prevents us one
step from error-checking sessions and
why is that good because if you were
using a lot of sessions you'd save a
line of code throughout a large project
another useful thing we could do is a
display sometimes I want to do this and
say print our session echo free and see
what we have in here I want to see the
session I'm working with and what we
could do is pop this into a static
method so I could say public static
function display and this will display
our entire web session so we can just
use this anyplace we want without typing
three lines of code we just type session
display tries to say session display
and refresh and we have the same thing
here we are also going to possibly want
to instantiate this session at some
point you could either do sessions start
like this or you could have a method
that says I guess start
so we could say public static function
start will say session start and we want
to error check this and say if the
session is not started will say if empty
session session start and I need to call
that instead of this I'll say session
start refresh okay
and what happens if I have that calling
and I'm going to do it twice so say
session start
and it says it's already been started so
what we want to do is set a flag if the
session is started and this is almost
like a singleton for the Starck method
itself so I'm going to make a let's say
private static variable on say session
started equals false and when this is
called I'll say self session started
no equals true and what we have to do is
only start a session if it has not been
started so I'll say if self oops
session started equals false only at
that point do we want to start a session
okay so I'll refresh and it has that
internal flag so that it doesn't restart
the session if you were to accidentally
place two of these there
you could also silence that out but
that's not unnecessary at this point
okay so let's take it a bit further what
if we wanted our session to have a
multi-dimensional array we would
actually do that by setting the session
like this we're going to use sessions
that I'm going to get rid of a couple of
these and inside of here what I can do
is pass an array and it's going to be an
associative array and I'll say name of
Jesse number of nine one one that's not
my real number and please don't call it
so refresh and now I have a nice pretty
associative array and you might say well
how do I get that because if I do
session get name
refresh oops I got to echo that out
refresh I get an array which is really
giving me this value because there's a
name inside a name and to do that we
have to adjust our get a little bit and
I am going to go down to right here and
I'm going to pass in a second key okay
and this would basically say we can get
a key here with just the regular key
that would match up with anything in
this column and the second key would be
a child of that column to make this make
more sense let me create one more okay
so now we have two columns and this will
be the first key and we can optionally
select the second key and what we're
first going to check is if the second
key is set so if second key is true
else okay so the second key is true
we're going to get that key otherwise
we're only going to get a flat key
because let me just put dog in there and
we'll say pig in there if i refresh we
might have an array we might have a just
a regular value so if the second key is
true we're going to first check if is
set session key second key return we're
going to return all this good stuff here
else we're going to pop the regular
first key into here otherwise we return
false
okay so I think that looks legitimate
and what I'm gonna do is try this out so
I'm going to echo a get Pig good and we
get dog there and if I want to get let's
say the number inside of name I could
say name comma number and refresh and we
get 911 which is exactly what we wanted
you should probably comment this out so
you know what you're doing I'm just
trying to fit it in the scope of this
tutorial and basically what this does is
it prevents you from having to check
things over and over it's extremely
simple and I think it's very handy and
you'll enjoy it
that probably covers it for now and we
might want to make a destroy actually
because I don't know sometimes you might
want that so say public static function
destroy
and you could always say session unset
session destroy' that one might need
work I can't remember if you pass a
parameter in there and also as you can
see this has the flag checker remember
how we're checking if it a session is
started what we want to do is also check
if it is true so if the session is true
then we can destroy it so down here
we're kind of do the opposite so if the
session is true then I'll destroy it
so refresh whoops I have to call the
destroying method let me do the session
destroy refresh and that clears it out
for us
cool thanks for watching guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>