<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Laravel 5.2 PHP - Build a Shopping Cart - #9 Cart Views | Coder Coacher - Coaching Coders</title><meta content="Laravel 5.2 PHP - Build a Shopping Cart - #9 Cart Views - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Laravel 5.2 PHP - Build a Shopping Cart - #9 Cart Views</b></h2><h5 class="post__date">2016-06-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/L_5BZKe0Ab4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">to actually show our card in our app and
not only see it by dumping I need to do
some extra steps of course the first
step very easy one is to go to my header
and here where I have my shopping cart
list item my shopping cart link I want
to display a badge with the number of
items in the shopping cart so that in
our app here if I go back we're able to
see a number next to the shopping cart
link to see how many items we do have in
a shopping cart
so I'll just reformat that it's a bit
easier to type so I'll have my shopping
cart here and then I'll use the
bootstrap batch class on a span here to
actually display the number of items for
that I'll use played here play
expression my session for save and here
I'll check if we do have this card in
the session if so then I want you get
the card and of course then I want to
get the total quantity otherwise I'll
display nothing course a different way
would have been to use an if statement
to conditionally add header or detach
dispatch but whatever works for you
so if dad if I reload we don't see
anything but I click add here we see one
if I Claire click add here we see two so
this seems to work that's great
but still if we click on it we're not
taken to the shopping cart and we don't
see anything here so let's work on that
next I'll add the link immediately so
that I don't forget it again so I want
to link to a route named product
shopping cart now in my routes file I
need to create this route so I'm copying
this at your shopping cart route course
change the path to be shopping cart and
I don't need a parameter here the name
should be product shopping cart
and here I will just access the get card
action which doesn't exist yet so let's
welcome that I'll add a new function
public function get card and here I want
to be able to fetch my card so what I'll
do here is I'll first check if my
session has this card object so if we do
have a card stored in the session and if
this is not the case that's what I'm
actually checking if this is not the
case then I want to return a view I will
return the shopping cart view show the
view in my shop shopping cart folder
which I haven't created yet I'll do so
in a second so what turn this view and I
will return products a variable which I
will set to null so basically I will
return the view but in this view all I
want to check if we actually are able to
display some products if some products
are in a shopping cart and in this case
I would return null so that in the view
I can appropriately display something
like please add items or anything like
that
otherwise I will if we do have a card
I'll fetch it here so fetch it through
session get card and I'll create a new
card as before as I said I'll always do
that I'll pass the old card just to
recalculate everything and yes you
should be able to use the old cars here
directly
that's just more of a good step here if
you were to add certain functionalities
to your card model which need to run
each time you recreate it for example if
you had a total price and quantity which
needs this old card to be correct or
anything like that
so back the product controller I'm
creating my card and then I return view
shop
shopping card again I still have to
create this view I'll add or I'll return
my products and of course I can fetch
them not cookie thank you card items and
I'll return the total price which I can
also fetch from my card where I do have
this till price property so the last
step therefore is to create this view in
the shop folder in the views folder so a
shopping cart blades dot php' of course
and then here what I'll do is I'll first
copy the beginning of the other file
here so it's don't need that but so that
I already got all these sections and so
on and then in the content here what I
want to do is I will check if I actually
do have my card
and also have a else statement and that
close this block do you know if I want
to simply display a message like your
card is empty or the actual items and
therefore I can actually change this to
not pass any products here now that I
think about it so in the case that we
don't have a card I may just return the
view since I'm checking this anyways in
my view here let's start with the case
that we do have a card so we have items
in the card I'll use bootstrap to create
a row and then some columns here and yes
not a thing of it I could have left out
the MD part I had a different style
before anyways I'm going to leave it
here that's not really a bootstrap of
course here right so I'll add an ordered
list in here or an unreleased with the
bootstrap class list group and in there
I want to loop through all my products
so products as product and products of
course is the item groups in my shopping
cart don't forget that I don't have one
item multiple times but I do have
multiple items as aggregated groups kind
of so oops that is what I'll loop
through and inside here I will have a
list group just we'll get the class list
group item and in this list item I will
have several things I want to have a
badge where I display the quantity let's
say two and of course this batch here is
a which class and it doesn't matter
where you place this element it will
always float on the right that's how it
is configured by bootstrap I'll then
have my title my product title and I'll
soon or I can replace it right now why
not so I can access this with my within
blade template expression boy
accessing my product and then the
quantity remember we're on the on the
item group level here so this will refer
to the quantity of each product groups
of Harry Potter for example that we have
three times the same Harry Potter book
in our shopping cart then the Tyler so
product then I have to access the
individual item here and then the title
of that item then I'll also add a span
here with the CSS classes success nope t
classes label and ylabel success again
bootstrap classes of course this label
should display me the overall price for
this group so I'll also enter expression
here product and then this is just the
price field again on the group level and
with that I get all the information set
up now I also want to add a button this
button should be a drop-down button
where I can for example remove one item
or remove all of that group and so on so
I'll use boots began to create a button
group here to create a drop-down button
basically so this will be a button which
gets the classes button button primary
button exit button excess and drop-down
toggle so a lot of bootstrap related
stuff to have a working drop down
looking like button and then still
effort yes that's a great feature and
then still a forgot DD here drop-down
toggle so now this should be alright
I'll make this off type button and I'll
also add the data toggle attribute here
to tell bootstrap that this button will
toggle a drop-down so that's all needed
for bootstrap to work right
then I'll give it a label of action and
I'll add this span with the carrot or
carry don't know class here you have
this little error pointing to the bottom
so that we see that this is a drop down
so just a little image or I can hear
that's the button but also I need to add
the drop down itself so I can do this by
adding drop down menu an unrealistic
represents the menu shown when I click
this button and here I'll have a list
item with link I'll hook those links up
later and I want to be able to either
just remove one item off that so if we
have three times the reporter remove one
book or remove all of them and of course
you'll see this working template soon so
that were always there but there are
still some things missing
I'll grab all of that code including the
opening tag here even because I am in
good mood today and I will get rid of
the unordered list I will keep the rest
usually row in two columns to add a
strong tag where I in will output the
total price of my shopping cart and I
can access this with the total price
variable which I'm passing the product
controller if you remember this total
price here so the total price of my
shopping cart I'll copy that one more
time and I'll insert a horizontal line
between that price and the next part and
here I want to have a checkout button
which will later hook on so here I'll
add a button of type button that doesn't
work type button and I'll give it some
classes of button button success to make
it green because everyone wants to click
the green button yay and give it a
caption of checkout now in the else
block here I'll also copy this
row and column thing but all I want to
have here is h2 tag saying no items in
cart so that's been a lot of work and
yeah let's see if all that does work
indeed so we have two items on a
shopping cart if I click here wow works
right away of course I was expecting
that so here we see Harry Potter Lord
rings if I go back that doesn't work at
least something so if I hook up my brand
here so that I have an easy way of going
back to my root page the product index
page here so now if I reload that then
even that will work astonishing so now
if I add this one here we see with free
items that looks great there's dropdowns
work the overall price seems to be
correct - if I add Lord of the Rings two
times we have it now three times the
price still seems to be alright great so
with that we got a working shopping card
you saw have to store it in session how
do you configure it dynamically how to
add new items see to it how to output it
of course and if that were well prepared
to use it in the next steps of this
series I can't wait to start there and
see you there bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>