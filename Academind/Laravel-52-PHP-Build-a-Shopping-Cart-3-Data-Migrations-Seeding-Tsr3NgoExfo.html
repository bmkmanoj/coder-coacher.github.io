<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Laravel 5.2 PHP - Build a Shopping Cart - #3 Data Migrations &amp; Seeding | Coder Coacher - Coaching Coders</title><meta content="Laravel 5.2 PHP - Build a Shopping Cart - #3 Data Migrations &amp; Seeding - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Laravel 5.2 PHP - Build a Shopping Cart - #3 Data Migrations &amp; Seeding</b></h2><h5 class="post__date">2016-05-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Tsr3NgoExfo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back welcome to a new part in
this level shopping cart video series so
we left when we had this dummy data here
not too bad not too nice I went to
actually seed some dummy data to the
database so that we're at least working
with real data from the database and
then output that database data here on
that view so of course in order to seed
that data
I am only to set up my database and I
will do this using laterals migrations
to create the tables configure the
tables define which fields I want to
have in my tables and also then to seed
the data so in order to do this I'm
navigated into my project folder and I
will run PHP artisan make model to
create a new model I'll just make a
little bit wider so that it fits into
one line and I'll give too small a name
and I will name it product since it will
be well a product model the products we
see on the page and I add the EM flag
here to also create a migration file so
now if I save this and go to my project
in the database folder you see the first
you see this new product here in the app
folder let's add it to get and in the
database folder in the migrations folder
you see this new migrations file you
also see the user and password migration
files I will get rid of those I don't
need them here right now and next step
is I want you to configure this schema
for my database table it already has an
ID and the timestamps and that is fine
but I will need a couple of our fields
for one I want to store the path to my
image so this will be a string because I
will store all a part of a string not
the image itself I will name this field
image path I will duplicate this to also
provide a title and duplicate it again
to also provide a description however
for this I will use the text method to
allow for more text and chest with a
string which will effectively create a
bar chart which will be limited to a
certain amount of characters 255 it
by default so with text I allow more
characters and of course the description
should have the chance to be longer and
finally I also need a price this will be
either of it could either be a float I
will stick to integers here but you
could make it a float so then I will
have my price and that is the schema of
my table so all my products will have
these fields in the database and that
sounds about right to me because these
are the fields we have here an image a
title the description and the price in
dollars now I won't manage currencies
here I won't add currency field
everything will be in dollars in this
application to just keep that minimum
simplicity here so if that the scheme is
set up next I want to create a seeder
for that I can go back to the terminal
and run PHP artisan make seed and then I
will name this product table cedar now
back in the project folder you will see
a new file in this seeds folder and in
this file I can now create the wild DD
initial products I want to have I do
this by creating a new product your new
product and then defining all the
different fields now I could define this
like this product title and then a title
or I can mass assign it however for this
to work I will go into the product model
and I will add a field here the
protected fillable property which is a
takes an array or should be an array and
in this array I define all the fields
which I want to be able to assign upon
creation of such and Praja product
object an instance of that class here so
I want to be able to provide the image
path I want to be able loops to set the
title the same is true for the
description and of course for the price
these are the fields I want to be able
to set when creating a new product now I
can just pass an array to this
constructor here and in this array I can
set up the image path which should be
some path the title which will be a
title so Harry Potter for example here
and I will quickly grab the image path
here - oops that's the path also insert
this here and the description supercool
at least as a child haven't read it a
couple of years so I don't know if I
would still like it and the price an
integer so let's say this costs $10
whatever so this is what created when
product however I want to have multiple
products of course and by the way I it
would create it because I need to call
save now it would create it however I
want to have multiple products now there
are couple of ways to achieve this I
will simply copy that copy that here and
just read this process let's say five
times to have five different books now I
won't bore you with filling this out so
I'll be back once I entered all the data
here so I'm done I created all the seed
data in this file next step is in this
database cedar file I will specify that
I want to call this product table cedar
this will then executors once I run the
seed command in the artisan command-line
tool and I will do this now so in order
to do this I will first migrate my
migration to create this database table
so run the migrate command and then I
will run PHP artisan DB seed to see the
data I hope that I should have the data
in my database and in fact I can have a
look at the database in my sequel pro
arm
program here which is connected to my
home state database and here you can see
the product so that looks good
so products are in the database models
is model is created our next step is to
actually output them in the view</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>