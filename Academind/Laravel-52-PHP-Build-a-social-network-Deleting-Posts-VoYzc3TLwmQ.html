<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Laravel 5.2 PHP Build  a social network - Deleting Posts | Coder Coacher - Coaching Coders</title><meta content="Laravel 5.2 PHP Build  a social network - Deleting Posts - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Laravel 5.2 PHP Build  a social network - Deleting Posts</b></h2><h5 class="post__date">2016-02-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VoYzc3TLwmQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi welcome back in the last video we
managed to output our posts and this
video will make sure that we can get rid
of them by deleting them let's start so
the place to start here is in the post
controller and here I will create a new
function at the bottom which we'll call
public function get delete post now this
function will take a parameter we'll
take an argument which I will call post
ID because we need to know the ID of the
post which you want to delete right now
to do this or to actually delete a post
that was very easy to do too
first I will fetch the post and here we
will see another version or another
method of getting posts from our
database in our dashboard function here
we got all the posts now we're going to
get a single post we do this by writing
post and then we're accessing the where
method where we then specify the field
in which you want to search in this case
D ID field and well then the criteria
which is in this case post ID then we
have to call call first queue I'll get
the first element in the resulting array
which will only hold one element but if
we were to call get which is the
alternative we would still get an array
and not a single element which we
couldn't process then and the way we
want to process therefore I'm calling
first as it is only one element anyway
now be sure to know that alternatively
to using where which is the generic way
of creating a wear conditioner or a kind
of SQL statement we could when we're
just looking for a de ID also use find
and unjust post ID and this will
automatically translate into aware
d equals and then whatever we're passing
here method or statement but I like to
use the default way which we have to use
anyway when we're searching for our
criteria now be aware here we're
automatically looking for equality if we
would have a search criteria where we
want to let's say get all posts which
have ID greater than 10 then we would
have a third parameter here in the
middle so the second parameter in this
method call and here we would then
specify as a string well the type of
comparison so greater smaller equal
whatever but equal as to default and
here we're looking for the equal ID cell
we can't just use the two argument
called
dysfunction so this is the way we get
our single post with respective ID and
now if you want to delete it what we
just call post delete and it will be
gone thereafter I want to return around
a redirect to a route and this route
shall be the dashboard route and here
again I also want to provide a message
so I'm just using the width method here
at the end and I will send a message
which says successfully deleted
now remember message here is the
variable which were then using in this
info box at the top of our dashboard
view so let me save this and well let me
reload this page and let's try this hmm
nothing's happening well that's no
wonder we get our logic here but we
haven't hooked it up to the view so we
have to go to our dashboard here and
here where we are outputting all our
posts what I want to do is hook up this
delete route with this delete link here
where to do so I'm going to replace this
hash sign and half of this link
the template expression and if you I
will call a route which I will call post
dot delete now this route doesn't exist
as of now but I will create it in a
second first I want to make sure that I
pass an argument to this route because
remember we're expecting one in our post
controller we're expecting a post ID
therefore I will have to pass this ID I
do this by specifying a second parameter
here in my route method and this will be
an array with well all the arguments all
the variables we want to pass through
this route to this controller action so
I'm going to have only one variable
which will be post ID and again make
sure this name here has to match this
name of the variable you're expecting in
this function and the controller so I'm
passing a post ID and I have to map an
actual value which I pass and this will
just be well ID of the post be currently
at in our loop and I can access this as
a property of our post object by just
writing post and then arrow arrow ID
okay so that's how I'm passing the post
ID now I have to create the route I do
the snow routes file obviously I will do
it here below the create post route and
this will be a get route because we're
accessing it through through a link
through an anchor tag and here we only
can send get requests at least without
JavaScript and to do this here well I
want to call around which will be called
post delete or this will be the URL
we'll see and here I want to use my my
post controller post controller add post
delete post they call this get me post
obviously because I just said it's
supposed get route not a post route and
it should have a name of post delete
that's the name I'm also using in the
dashboard where
looking up my road and this should be a
comma good so this is this and we can
also protect this route with middleware
because this should also only be
accessible when we're locked in and the
same goes for this post creation route
we don't want anyone to be able to let
save through a terminal
create a post which would be possible if
we're not protecting this route now
here's one thing missing we're passing
this idea of the post you want to delete
now that's a get route therefore we have
to specify the ID in our URL right
that's where we are fetching it in our
controller so I'm going to add an
argument and let me rename this I think
it's easier to read if I call this
delete post and then slash and here I
want to specify the post to delete now
to tell arrabal that this will not be
just a normal word in our URL but
instead should be replaced with the
value of the variable we'll use single
curly braces and inside this braces
we're giving it the name of this
parameter post ID and this name
obviously has to be the same like this
one here in our controller so let me
save this and reload this page and now
if I click delete here you see well
successfully deleted and it's gone here
and if I reload in my database
you see we only get three posts now we
get a problem I created one post as
another user our test user here now I'm
able to delete this post too I don't
think that should be possible I think
you should only be able to delete your
own posts we're going to cover how to
protect against this as well as to how
to log out users because that's
something we can't do as of now in the
next video see you there bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>