<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CROSS COMPONENT COMMUNICATION - Angular 2.0 Final - Getting Started | Coder Coacher - Coaching Coders</title><meta content="CROSS COMPONENT COMMUNICATION - Angular 2.0 Final - Getting Started - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CROSS COMPONENT COMMUNICATION - Angular 2.0 Final - Getting Started</b></h2><h5 class="post__date">2016-10-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fPtacabLEJc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I left you when we set up this
service thing when we injected it and
when we were able to render our data
which is stored in the service now I
want to go a step further and be able to
actually add them to the collection and
build up a collection this part here
isn't working at all right now
so let's make it work I'll start in the
collectable service again here I'll add
another private property which I'll name
collection this will also be of type
collectable array but initially it is
empty because this should be a
collection of the user which is empty at
the beginning let's say therefore I also
want to have a new get method here get
collection which should return me this
collection because of course I want to
get access to this private property so
here I will return this collection just
like I return this collectibles forward
the available collectibles I also need
to other methods I want to have a add to
collection method which allows me to add
a item from the market to the collection
and I want to have a remove from
collection method too well do the
opposite or do you basically just remove
it well when we add something to the
collection we will certainly need to
pass the item we want to add and this
will be of type collectable do you see
the advantage of creating a custom type
we can be much more explicit in this
method here what I want to do is I want
to check if my collection here already
contains this item I can do this with
index off and see what the index of this
item is and if it is anything else than
minus one which we would get if it is
not part of the application collection
then I want to return so I don't want to
add it a bit already is registered in
the collection only if we do get minus
one which means the item is not part of
the collection yet only in this case do
I want to run this collection push item
which now adds this item to the
collection this is adding an item
removing it is also pretty
here I want to take my collection and
well first I need to pass the item of
course sodas will also be a collectible
and in my collection I want to use the
splice method which allows me to
basically change this array and here I
want to use it to remove item or an item
from the array therefore I need to know
where to start splicing I do this by
using this collection index off again
but here of course to find the position
of the item of which I know it is part
of this collection because I will later
on simply well be able to call the
remove from collection method here from
my collection component which only
contains items in the collection but but
you'll see what I mean
so here this is the part where I want to
start and then I add one as a second
argument to tell typescript JavaScript
here only remove this item so start at
the index off this item and then remove
one item which of course is this one
item I want to remove so with this I got
methods to add and remove items to it
from the collection and now it's finally
time to hook up the event lessness
and this collection component to use all
these methods let's start with the
market component here in the on add to
collection method I don't want to use an
alert anymore instead here I want to use
my collectable service and call the add
to collection method to then pass an
item now the problem is I don't have
that item yet it would be great if I
could get the item as an argument in
this method the item of course should be
of type collectible so let's add this
type and this import appear how do I get
this item into door into this method as
an argument I can go to my template of
the market component and here any click
listener I can simply pass an argument I
do have two item here since a loop
through all the items so I can simply
pass item keep in mind this item will be
a collectible because I'm looping
through my collectibles array which as
we know only holds collectibles they
for I can pass it here and we can also
be more explicit about this and add the
collectible array type here in the
market component when we declare it so
with this I'm now passing the item and
I'm adding it because I set this up in
the service but of course we can't see
this because in the collection component
we're not looping we're not really
having dynamic code so let's work on
this next in my collection component in
the typescript class I'll add a property
collected items for example which will
be of the collectable array type we use
before so make sure to add this import
here initially this should also be an
empty array but we will of course also
inject our service here so as before
I'll name it collectable service and
inject it in the constructor here by
assigning the type also make sure to add
collectable service as an import here
and with that I can initialize it here
in the ng on init method where I want to
set this collected items so it is
property here equal to collectable
service GATT collection this will fetch
all my items in the collection where
this will fetch this array and assign it
here note as arrays like objects are
reference types in JavaScript the array
we use here will be one and the same we
only use one array throughout the whole
application the one created here in the
service when as I assign it here I'm
actually assigning a pointer to the same
array this is how reference type work in
in JavaScript basically so if that's
totally new to you definitely have a
look at reference types in JavaScript to
understand what's happening here it is
important to understand because it is
the answer for the question why if I add
a new item to the collection it will
later on automatically update because it
is one and the same array not two
different arrays one array so it doesn't
see array from the service I'm assigning
to this array here in my component
again the same array and with the set up
I can now loop through it here in my
collection component HTML file again
I'll use the ng for loop here to loop
through them with lead item of collected
items so pretty similar to the market
component and then here in the badge I
want to use string interpolation to
output the item type here anything I
want to output the item description like
this but I also want to do something
else if I save this and we have a look
at the application once it reloads you
don't see anything from the collection
because I haven't added anything
once I click here you see it up here
which is great so the collections
working you also see if I click an item
multiple times
it isn't added because I had this check
if it was already part of the collection
now since this is working it would also
be great if upon initially loading this
we would see some info text something
like please add something to the
collection in order to do this I'll add
another structural directive I'll place
it on the unordered list here and the
one I want to uses ng-if which means
well check this condition on whether you
should attach this element and all
nested elements to the Dom or not so
this part here the condition I wanna
check is if collected items actually is
well longer than 0 so if it does have
any items if this is the case this
unordered list will be rendered
otherwise I want to show this age free
tag where I say start adding items to
your collection on the market something
like this and of course here I need to
add the opposite condition so I want to
display this only if the length is equal
to null or to zero so only in this case
do I want to display that
if I save this and let it reload you
should now see this text here below the
market but as soon as I add something
the text is gone well the final step of
course is to make this remove button
your work we already set up the remove
method in the service so hooking it up
to the component is really easy in my
HTML code I'll add a click listener here
and here I want to call the on remove
from collection method of course you may
choose a number name I'm going to copy
this method name and in my typescript
code I'll add it just like this of
course here I should also get the item
passed to this method so let's pass item
in our template again we do have type we
do have item available since we loop
through it here and then in this on
remove from collection I can call my
collectable service and then simply
remove from collection and pass the item
just like that this is how easy this is
with that we set up this template and if
I now reload the application of final
time what you will see is if I add
something here and then I click remove
it's now gone again and also notice if
all items are removed we start seeing
this text again with that we made a huge
step and now we get a almost fully
working application the missing part of
course is routing let's have a look at
this in the next lecture or in the next
video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>