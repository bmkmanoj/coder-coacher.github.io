<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Laravel 5.2 PHP - Build a Shopping Cart - #5 User Sign Up | Coder Coacher - Coaching Coders</title><meta content="Laravel 5.2 PHP - Build a Shopping Cart - #5 User Sign Up - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Laravel 5.2 PHP - Build a Shopping Cart - #5 User Sign Up</b></h2><h5 class="post__date">2016-06-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ufIK3PzwYf4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back to the next video in my
series on building a shopping cart with
little world I left when we had our data
base in place and when we see that all
this product product data here so with
all these books here now before we can
actually work with the shopping cart or
before I implement those features or
start implementing them I want to
implement the the user so that the user
is able to sign up sign in and yet that
we have the user in place which we will
need later anyways so the first step is
to create a start up or the sign up page
and band process so let's do that in my
little project I will start by creating
the user itself so the user model first
and I will do this in the terminal
window here navigate into my project
folder and I run PHP artisan make and
now I'm only going to make a migration
file because well I deleted that earlier
in my database migrations folder the
model still exists from the default
setup level ships with so I will use
that model and yet just create a
migration file by the running make
migration and I will name this file
create user table of course you may
choose whichever name you want
now this placed a new file in my
database migrations folder this one here
and in this file I can set up the logic
I want to set up to well create a new
user I will just copy this schema block
here from my products table so that I
don't have to rewrite all of that I will
use the time stamps and the increments
and here in the down function I will
implement schema drop and then detail
name the table name of course will be
user so I'm going to change this up here
too and now what should the user have
besides my increments and time stamps
well I want my user
not this tape table to have an email
address which should be well a string of
our chart in the database then and also
a password which will also be a string
now here's an important thing the email
address should be unique so I'm going to
add this unique method here which will
just set up the database in a way that
or this table in a way that we can't
enter two identical email addresses
however I will check for that when
validating user input later too
and with that I think I have a
nice-looking user model with the basics
I need right now so in the user model
file I'll take the default file which is
fine by me
but I will get rid of this name field
here and the fillable field here because
well my user doesn't have name simple
email and password and of course this
will be extended later on when we need
something like a shipping address or
little something like that but for now
let's stick to this um simple sign up
here and extend us step by step and yeah
that that looks good now what does the
fillable field here do and the same
questions of course true for the hidden
field well that our little well helpers
bilateral which basically mean if you
create a new user you may pass the field
specified in this fillable field in this
area here in the constructor of the user
so this is a quicker way of creating a
user basically and the hidden field is
important when retrieving a user from
the database password and D remember
token won't be well output or won't be
retrieved so if you then output the user
for example you make sure that you're
not accidentally passing your password
or something like that so with that the
user is set up and time to create D D
use for that so I will already have my
user folder here and in this folder I
will create a new file sign up dot blade
dot PHP and this of course will be my
signup page
we'll also create two other files
already the sign in Plato PHP and the
profile to ablate it or PHP file now
let's start with a sign up file here I
will create a row this is just a
bootstrap class of course and just some
columns here to position this nicely of
course you may choose whichever styling
you prefer for your application here if
I could type typing and talking not
always that easy so with that my my rows
here are set up on my columns so this
will be D is signup page and on this
page I'll of course have a form where I
later will navigate your route I have
yet to create this will be method post I
want to submit this forward with the
post method and in this form I'll create
a div form group just to give the same
bootstrap styling I'll have my label for
the email field so this will be this
field here email name should also be
email of course and I'm just copying
that to also provide a password field
and yes you could of course also
implement some kind of confirm password
field but I'll keep that simple here so
the password and also password here and
here too and finally a button to submit
that form
so that's my basic signup form here and
I also want to add a block at the top
where I can output validation error
messages if I get any so here I will
have my alert div followed danger class
and I want to output the individual
error messages here as paragraphs in
order to do that though I will first
wrap this in the if statement to make
sure I only attach the stiff if errors
are available the code for that is to
count if my errors variable has any
errors and close the if block here of
course and then inside of this div I
want to loop through all the error
messages so I'll have a for each loop
here where I access my errors variable
which will be provided by level all
errors and loop through them as
individual errors of course and for each
here and output the errors here in the
paragraph error so with that I'm
displaying errors if I have any and as a
next step I want to implement a sign-up
logic so to first show me that view and
also to submit it if I want to do that
so I'll go to the routes PHP file and
well currently I don't have that many
routes so I want to change this and this
will give me the signup route here this
should use the user controller with
which I still have to create get signup
and I'll give this a name off user dot
signup
and I'll also create the post route
already which will be hit once the user
submits the form so this will also be
living in the user controller at post
sign up and will have a name of users
sign up as well which doesn't interfere
with the get route since we have
different methods here so I will create
that controller and out I'm going to do
this with the artisan command again so
PHP artisan make controller user
controller so let's open this newly
created controller here and I need two
actions for now so public function get
signup is first one which should display
the signup page so I will return a view
here and you viewer want to show of
course leaves in the user folder and a
standard signup play dot PHP file this
is why I returned this do you here and
the post function or the post action
here to handle the form submission will
receive the request object and it's
important to have this illuminate HTTP
request import here at top to allow
level to do this injection here and then
I will want to sign the user up with
those credentials therefore I will first
validate the submitted request so let me
set up some rules here and I want the
email address of course to be an email
address um it should also be provided in
the first place so required and I want
to make sure that it is unique so it
doesn't exist in the database now I set
the database table up in a way that I
can't submit the email address or that I
can't write the email address to the
database if it already exists but that
would throw an ugly sequel error and I
don't want to display that the user
therefore I will use a number validation
here which is named unique and then the
the name of the table where it should be
unique to witches users and with that
latter will we'll check if the email
field in that table already contains
well the past value in this email field
here so that's the validation for the
email address for the password I simply
want this to be required and let's say I
want to have a minimum length of four
and of course again adjust as to your
needs now as you are probably aware this
validation will automatically return
back to the page the user comes from and
centi appropriate error messages with
the response so that will automatically
rerender the signup page and show the
validation error so we don't have to do
anything here so we can continue here in
the case the validation is successful
and then of course I want to create a
new user so I will do this new user and
make sure to add this import to app back
slash user at the top now since I set up
this fillable field here I can quickly
create a new user by passing an array to
this constructor which well describes
this user or which contains all the
fields with which I want to crude they
create this user so for example the
email field which will be of course to
request and then the email field
retrieved and using request input it's
just another way of using for example
request input like this so just another
way and the password of course which
should also be request input password
however I don't want to store the
unencrypted password therefore I will
use the bcrypt helper method which level
provides to well make sure that the
password is encrypted are not stored in
raw form next I can run user save to
save the user to the database and then I
want to return a redirect to the well
let's say homepage for now so I'll
navigate to another route
to the product index route to be precise
which is just the route you set up here
in the routes file the get route to the
starting page and with that the signup
page should work we should be able to
get to this signup page here however a
thrist need to run my migrations so run
migrate to create this user table and
with that I want to try this out so I'm
targeting targeting this signup route
and I see one thing I forgot I of course
have to extend the D layout without that
will I get this ugly layout you just saw
so I'm going to extend my master layout
here and of course insert this in a
Content section all this kill here so
that should make this look nicer very
real Otis much better of course and also
since I'm here anyways I'll give this
button nicer styling so final reload
looks better though I also need to give
my imports deform control bootstrap
classes I forget that quite a lot to be
honest form control so now it should
look nice much better so now I'll try to
sign up with my test attest come email
address and test password here yeah that
happens if you were coding in another
language before you forget basic stuff
like submitting this CSRF token
anyways great way to show how you can
quickly implement this token before I
was always creating this hidden input
field and that's important to know what
happens behind the scenes but if you
want to quickly insert this you might
just use CSRF field and this helper
method will create this basically does
hidden input field here hidden within
the value of session token and
named Hogan and so on so with field you
saw in other videos on this channel of
course one thing missing here is that I
have to implement the route I want to
navigate use a user signup and I'll also
update the header to show user
management here instead of user account
I'll change user account here to sign up
and duplicate this to also have sign in
and all editors later again once I have
decided logic in place so now I'll hook
up the sign up route here route user
sign up and with that there these first
steps should be possible to take so I'll
go to my project reload this starting
page here and click on sign up this
takes me to this page great so now if I
create a new user I'm taken back to the
index page and if I have a look in my
database I can show you this real quick
you see that my user wasn't it created
so with that the user sign up is in
place its next time to also implement a
sign in logic NS well the log out logic
see you there</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>