<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Tutorial (2016) - Dependency Injection (2/2) | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Tutorial (2016) - Dependency Injection (2/2) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Tutorial (2016) - Dependency Injection (2/2)</b></h2><h5 class="post__date">2016-02-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HPvMD0lck70" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">everyone from theory to practice in this
video will apply some dependency
injection to our angular 2 application
now to best be able to demonstrate the
concept of dependency injection I'm
going to quickly create two components
and one service see you in a second
okay what I did here is I created two
components component one and component 2
both are siblings to each other in my
app component which is the root
component to both of those components
and you can see them here through
styling so the dirt clearly separated
each of those components got a field
which you can click to get some random
data well at the moment nothing's
happening here but we will change that
soon and we got a field where we can add
new data now what is the stator for that
I created my data service here I have
just a private property which stores the
data now obviously in a real application
you probably would not store your data
in a property of your service you would
get it from another source of course but
this is about injection and therefore
let's find this way data is just an
array of strings here if we call the get
random data function or method which is
one of the methods of the service we
will well get one random item off this
array which I'm fetching with this
expression here where I access the array
and then I get a random number between 0
and 1 multiply this with the length of
the array so now I would get 1 between 0
and 3 because the length is free now
free as obviously not correct we would
not be able to access and index free
because we only have to eat he says 0 1
2 therefore I use and by the way we
would get decimal numbers if we just hit
this expression here now therefore I use
the math floor function to round all
there is down so that I only get values
between 0 and 2 and those values will be
integers which I can use to access my
area items so this is how I return
random data and then I have another
method where I insert random data and
here I just push this data on to this
array so pretty straightforward here now
let's hook this up here I want to use
the service in both components too well
all this with a little bit of life here
so it started my componentOne and in my
on add item or let's start off to get
data I just need to add it here I just
saw so on get data will be the method
and let's add this here on get data now
here I somehow need to access the server
service now as I said we do this by
injecting it injection works this way we
use the constructor constructor of this
class and in the parenthesis as an
argument we specify all the dependencies
we want to have where we need in this
class where we are well using this
constructor so therefore I'm just
binding it automatically to a private
property that's a little of typescript
some tactical sugar which we call data
service and I will and this will be of
type data service now this is very
important this code here tells angular
to this class meets a data service
object for an instance of the data
service object if we were to leave out
this type here well how would anger know
that it is of type data service well it
doesn't read it like we humans do so no
chance so it's very important to specify
this type which will say okay I need an
instance of this object please inject it
now as I said this is some typescript
syntax here where we automatically
create and initialize a private property
so could also write data service of type
data service and then chest and do it
like this here and then any constructor
access our private property and set it
equal to this so that would be the exact
same way of using the shorter version I
had there before and to which it will
revert now
so this inject data service but right
now you see our wrap is not loading
correctly angle to does not know
to create such a data service it sees
that we want it but it doesn't know how
to handle that therefore we have to add
another metadata to our component here
move through the providers configuration
this takes an array and here we define
all yeah basically all the things we
want to provide to this component or the
class all the objects you want to
provide now here we want to provide our
data service and we only have to yes
specified at the name of our class here
and now if I save this we see it's now
working again so let's try this out by
getting some data and therefore I want
to use my data property here which I'm
outputting through string interpolation
here and we'll set it equal to the
random data we get from our service I
access my service through this private
property we're setting here sufu
underscore data service and there I call
the get random data method now let me
save this and let's hit this button as
you can see while we're getting random
items from our list we hit their cool
now let's also add something into this
list therefore I will hook this app and
we'll also call this data service insert
item or insert data and I will pass data
which I'm passing into my method here
and I'm just referring to the value of
this input field which I'm accessing
from my local variable input I set here
okay so let me save this and now just
the works now let's add some milkshakes
I had one all right there we got it
already yeah so it's now in the list now
let's add a couple more so we should now
get a lot of mode shakes yeah and as you
can see we rarely get anything else cool
so now let me just copy that code here
every component and well I need to
constructor or it's easy I guess where
they just copy everything here up to the
template so like this
now very important add your import here
to data service you you have to add it
here to I forgot to mention it very
important that you add this import so
now we got our data service here now let
me rename this to component two and if I
save this what we see it works here and
it works here now if we enter a lot of
Milkshakes here we get we get a lot of
new chicks here but down here we don't
get any because that is what I explained
in the theory video we have two sibling
components and in each component we
specify this providers metadata which
tells angular to to create a new
instance of this service so to say or of
whatever we're injecting here so we're
creating a new instance in this
component and a new instance and this
component therefore this data property
which we change in our component 1 is
not the same in component 2 and
therefore we don't get the mode chicks
in your oldest it should say component 2
year ok so that's that now let's change
this let me remove the providers here
save this and save it here - so no
providers left here now obviously the
app is pro right now now let me inject
it in my app component and I do this in
my bootstrap method here
well there's router in HD Pro HTTP
providers are not important right now
but I'll leave them there and here I
will add my data service now so now this
is basically the same as using those
providers metadata so to say so we're
setting up our app or root component
with those providers here now we're
telling our root
how to create a status service and as
you can see our app is no longer broken
so it seems like angular2 is able to now
inject it here and here in our second
component even though we're not telling
it how to do how to create such an
object in the decorator in a component
decorator let's try if it really works
yeah it seems to work cool
now what happens if we add mud shakes
and you probably already know it if I
add a lot of mud sex while we obviously
get them here but we also get them here
because now we have one single instance
in the route component which is used by
all shared components beneath this would
command component and this is how you
can play with injection Anglet you and
how you can yeah think about how many
instances you need or want and how they
should be able to interact with each
other so really really powerful feature
here very flexible with these moves
possibility of choosing if you want one
instance or multiple instance and
something you will use a lot in your
applications I hope these videos were a
bit helpful when it comes to dependency
injection and I will see you in the next
videos bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>