<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MUTATIONS | VueJS 2 &amp; Vuex | Learning the Basics | Coder Coacher - Coaching Coders</title><meta content="MUTATIONS | VueJS 2 &amp; Vuex | Learning the Basics - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MUTATIONS | VueJS 2 &amp; Vuex | Learning the Basics</b></h2><h5 class="post__date">2016-12-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dkFWOsKrPAI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to another video on view chess
specifically on view X it's a state
management package so in the last videos
of this series we took a basic project
which didn't have great state management
added view X directly manipulated and
got the state improved that by adding
gathers to get the state and now we want
to improve it even more to also use
mutations a tool which allows us to edit
the state in a better way than we're
doing it right now so does the project
we created thus far or we edited thus
far getting the state works great now I
want to go to these methods where we
actually manipulate the state how can we
improve this well let's start with the
registration here when we'd register a
user what are we doing we're changing
your registration state on the user
itself and we're pushing a new
registration with the date of that
registration to our registrations array
what be great if we don't do that here
but instead also in some other place so
in the store I'm going to cut the code
here and go to my store we edit the
state through something called a
mutation because it mutates it changes
the state we add mutations just like we
add getters by adding the mutations
property to our store and with that
added here I can now set up a mutation
for example the register mutation now
like the gathers this receives the
current state and it needs that because
it will change it here what I want to do
is I will copy in my code and now we
will replace it step by step so we're
fetching the date this is fine now here
where I register or where I changed the
user state
I want to access state users and now the
issue is issues which user we somehow
need to get that information because
here in the mutation I don't know on
which user did
method should be run on or should be
executed on therefore I will go back to
the component and the cool thing or the
useful thing about mutations us we can
pass the user or any payload so here I
want to pass the user and I won't do
this when I show how to call a mutation
right now let's simply assume we get the
user so as a second argument I will get
any payload I pass this can be an object
or just the value whatever here I know
it will be the user so in my state where
I have my users I want to find the user
where the user ID equals the ID of the
user I'm passing and since this is the
same name I will simply assume that I
get the user ID as an argument here so
now I can check if or I can find which
user in my array of users has this ID
this is what I'm doing here and I will
store that user in a new constant and in
a next step I will set registered to
true for this user I just got here so I
slightly changed the code with that were
adjusting the user now let's add a
registration for that I will first
create a registration just letting an
episode that it's a bit easier to read I
will great new registration and also
simply a JavaScript object where I want
to store the user ID of the user who
registered while I'm passing that anyway
so that is easy then the name of the
user
this can be fetched from the user which
I retrieved here and finally the date
well in here I can simply copy the code
I already was using and that I can get
rid of this direct assignment accessing
my store what I need to do though is of
course I need to access state
registrations and push this new
registration on it there's a sign
mutation now making sure that I added
the state
in a different way I will do the same
for the methods here in the registration
study view file it were the method it's
one method is the unregister method so
let me cut the code here too and add a
new mutation and register this mutation
here of course also gets the state and
it gets the ID or DD registration but
here I simply want to get the user ID
again let's say so we'll need to change
that code in the component and then I
will basically first copy the code so
that we have there but the first thing
I'll do is I'll search for the user I'm
going to copy that code I do get the
user ID so I can replace this search
algorithm here now I can now set this
registration status to false and now I
also need to find the right registration
so I will get it here registration by
simply not this by simply accessing this
or two state registrations find and here
I want to find the registration where
the registration user ID equals my user
ID and I need to return this and I just
saw there is a syntax error here of
course I need to return here too or not
a syntax error it's an error logical
error and also set this to two equal
signs the same is true up here I want to
find the user where this condition is
true so I was using the function wrongly
sorry about that so make sure that in
all the find methods you're returning
this check basically where we said user
ID equals user ID with two equal signs
because it's a logical check a
comparison so with this I'm now also
fetching my registration down here
finding it by the user ID and that now
allows me to access my state my
registrations array there and now use
the splice method to splice the
right registration I can simply fetch it
or find it by again using index often
passing the registration I just
identified up there and of course only
one item should be spliced so with that
I also get my unregister mutation in
place now it's time to call them now the
important thing about calling is we
don't call the mutation directly so here
in the method which gets fired when I
click on the register button I will
access this store and now I run commit
so I don't access mutations and execute
the method I run the commit method
instead and commit can be called in two
ways here I'll show the first way the
first argument then is the name of GU
mutation as a string so here it's the
register mutation I want to call so
register and the second argument is the
payload here this is simply the user ID
though that could also be an object or
an array anything so now that this the
second argument here this is one way of
calling it any registration of view file
I'll show the other way I'll also access
the store execute commit and now I
simply pass an object and now this has
to be an object where I have a type
property this property named type has to
be specified which now is the name of
the mutation and register this mutation
here and then the second property is the
payload so here it's user ID
registration user ID and here I could
have multiple other payloads too but
when passing it like this I can't access
it directly ask the payload like this
user ID because this will now be an
object and set here I would need to have
a payload or any name you want to choose
and access it on this payload user ID so
that is the alternative now with that
let's save it and reload and let's see
if this works registering looks good
and unregistering also looks very good
so now this works but now using
mutations to have a better way and a
preferred way of accessing and
manipulating the store or the state in
the store I should say with that we
improve the project even more now our
logic is mainly in the store and in the
components look a little code we now got
there they get really really much
slimmer and that is the good thing about
using view X having your logic in one
central place and if you now want to
make changes or use the same mutation
make the same edit from multiple places
in your app it's now super easy because
all you have to do is call commit or if
you want to get a value call that gather
and it's super easy to manage your
project we're not done yet there is a
one big limitation to mutations about
which we will learn in the next video
and there will also learn how to solve
it a sync see you there bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>