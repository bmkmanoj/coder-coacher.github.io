<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Tutorial (2016) - Services | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Tutorial (2016) - Services - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Tutorial (2016) - Services</b></h2><h5 class="post__date">2016-01-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SEM6-TkuOgo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to the next part of this angular
2 series well so far we had a look at
single components two components some
data binding two-way data binding and
all that fun stuff now what we actually
did though was we the data we fetch was
just a variable within one of our
components now that's not very realistic
and especially if you're fetching data
from let's say a server or something
like this you want to have your extra
class your extra file or part of your
app which tests that so that it is also
possible to share this data across
several components now for this purpose
and for all purposes where you want to
share some functionality over many
different components or parts of your
app angular 2 has a concept called
services and we're going to have a look
at those services in this video so let's
get right to it this is the state of the
app where we last left get our list here
where I can select items and edit them
with two-way binding and data is all
packed into this property of the contact
list component now we will create a
service for this end I will actually
create some new files for for this video
first of all let's define a contact
class or an interface because we don't
even need a class we just want you
create a contract which defines a
contact so to say so let's create a
contact let's create a contact dot ts
file and all this file has is an
interface name contact which describes
our yeah what a contact is how a contact
object and should look like should have
a first name which is a string
last name which is also a string of a
phone number which is a string and an
email which is also a string so it is
the strength of typescript here that we
can just define all our properties and
which type they should have now as a
side note this file won't get compiled
JavaScript because in JavaScript we got
no typing and therefore there is nothing
to compile here because what we do is
declare some properties so this is
purely for our typescript checking and
for writing semantically and
syntactically correct typescript code
and we'll make our coding life here
really easier to have this contact you
find here additionally I will create a
mock contact ES file you create just an
example list of contexts just like we
had here in a real application we would
obviously probably go to a server to
fetch the data so in this case this mock
contact es is our datasource and I will
just export a constant here which I
named contacts of type contact plus a
flicky specifically an array of contacts
and I will just create some contacts
here really quick right back
so with the mock data finished we should
get to our actual service I will create
a contact service
oops contact dot service dot TS so this
is kind of the convention here in
angular 2 that we have the name of our
object of our class then we have the
scription if it is a component a service
or whatever and then obviously the
typescript file ending what if you do in
our service class here is first we have
to provide a decorator injectable which
will tell angular 2 that this class here
is well injectable in our classes for
example our components so that they can
yet get an instance of this object and I
will export this class too and it will
appear or a contact service and all this
service has is a real simple method get'
contacts where we'll use a promise to
get the contacts and please note that
all my imports are automatically done by
phpstorm so make sure that if you're
following along you're not missing those
contacts here add those imports here
importance of the contact good so that's
all we have in our service you this
method which will return as this promise
which we will instantly resolve and get
our contacts now if you're not sure how
promises work you should looked it up
I'm not going to go into detail in this
video here but it's a real handy thing
especially for things like fetching data
in the service here for example so
myself it is back in our contact list
here is where we will have to somehow
access the service queue to fill our
contacts property here so first of all I
made the service injectable so we have
to
checked it here now as we specified
directives used by this component we can
also specify services or generally to be
injected objects used by this component
we do this by adding another
configuration the providers
configuration which also takes an array
and in here we basically pass all
objects which should be injected into
this component so we have our contacts
service here and import was
automatically added now where do we
inject it in the constructor but we can
only inject it in the constructor when
we provided here as a provider so in the
constructor we will define a private
variable contact service of type contact
service that's important so that angular
2 will really do the injection and know
which type of object we're expecting
here and then we have to do nothing else
in this instructor a constructor now if
you are not familiar with this syntax
here what this does by placing a private
here at the beginning it will
automatically assign this object this
instance it's it gets from the injection
to a private property of this class so
it's the same as if you were to write
for a private contact service
and then just do this contact service
equals contact service that's exactly
the same it's just a shorter way so now
we got our contact service here and we
somehow then need to set our contacts
here to the context we're getting
through the service so first of all I'm
going to get rid of this static content
here and instead just declare this
property it will be of type contact an
array of contacts to be precise and then
I will add a method here get contacts
which will then exit our exes our
contact service get the contacts there
which as you may remember it turns a
promise so we can then use them for
function to handle whatever the promised
returns us and there we will use this
fat arrow function where we will get
contacts contact array and this we will
store in our contacts property
now this method is currently never
executed that's why we're not seeing
anything here on the right now list at
all at least so how do we execute this
we could execute it in the constructor
but we don't really want to do something
like this in a constructor because
imagine we're actually querying a server
in this case doing something like this
such a data heavy process in the
constructor could have some bad
consequences so instead we're going to
use an angular 2 lifecycle hook so
angular 2 has several yeah life cycle
events so to save for several things and
especially for the creation or the
handling of components so when we define
a component here and when it gets loaded
in the application it will run through
different stages of its life cycle one
of it being the initiation and that is
where we will get our data now to do
this we will implement the on init
protocol which again was added as an
import here in the top and now we have
to actually implement the ng on init
method and here we will just call this
get oops this get contacts method save
this and now you see we gather a list of
contacts here you can click on them and
we can again edit them with two-way
binding and that's how easily services
are to be implemented and they are very
useful as I already stated we can use
the service we just created not only in
this component but in any component we
want and that makes us really really
flexible and enables us to write dynamic
cool apps see you in the next video bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>