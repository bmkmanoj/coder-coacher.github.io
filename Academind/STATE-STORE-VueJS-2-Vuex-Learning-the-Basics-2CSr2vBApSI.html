<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>STATE &amp; STORE | VueJS 2 &amp; Vuex | Learning the Basics | Coder Coacher - Coaching Coders</title><meta content="STATE &amp; STORE | VueJS 2 &amp; Vuex | Learning the Basics - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>STATE &amp; STORE | VueJS 2 &amp; Vuex | Learning the Basics</b></h2><h5 class="post__date">2016-12-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/2CSr2vBApSI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to this video welcome to another
video about the view chairs in this
video I'll introduce you to view X a
nice add-on to view chairs which makes
state management a whole lot easier now
why do we need to make it easier though
well I prepared a little example
application to which you'll find a link
in the video description which will show
you why you might quickly reach the
point where you need kind of a better
estate management than doing it like
here so let's take a look I open this
project which again you can find in the
video description and there I need to
run NPM run dev this was set up with the
view CLI about which I also have a video
on this channel and if we have a look at
the running application we see we got
two sections here basically two
components and one we can register and
in the other one we can then unregister
as you can see if I click here the
counter goes up and we see the date here
and everything is great well it's kind
of great let's have a look at the code
it's a very simple application as you
can tell I got only two components and
my app component here and in the app
component I'm basically managing my
whole state with state I mean I manage
my registrations here and my users the
total number of users or all the users I
have and then I manage the state by for
example if I click any registration dot
view father I can sign up if I click on
this register button here I've fired you
register user method this one here and
distant emits an event use registered
and passes the user it also sets the
registered state on the user to true and
the user gets into this component in the
first place because the user is part of
this users array which again is passed
into the registration component here as
a prop so back to the signup we're
letting this user registered event and
I'm listening to this here in my app to
view file and when it's fired I'm
triggering the user registered method
here and there and basically setting a
date and I'm pushing a new registration
on my registrations array and I'm
basically doing these same just in
the opposite direction when a user and
registers then I'm firing the user
unregistered method and so on so this is
basically my state management taking
place in the app dot view file and I
pass props to the other components and I
listen to their events now don't get me
wrong there's nothing wrong with that
and for a very tiny application like
this one that's perfectly fine but
imagine the same in a bigger application
where you have even more components
interacting with your users interacting
with your registrations and also with
other parts of your application state so
state basically refers to the variables
or the values of certain properties if
you want to call like this you want to
keep around because multiple components
use them and the user the user
interacting with your app changes them
for example I change the state by
clicking on register here or unregister
now if you imagine that in a bigger
application it quickly becomes very
difficult to manage you have a lot of
props and events to which you're
listening and also you got a lot of
different parts in your application
omitting these events changing values it
could quickly become difficult to see
what changes things where and so on
therefore we have a better pattern
actually a whole add-on which handles
this and this is view X now in this
video I want to show you how to get
started with UX how to set it up and how
to use it in it's very very basic and
not yet final form and in the next
videos will enhance this application and
use more and more features of UX to
finally get to a point where we can say
yes now we're using view X as should be
used and our state management is much
clearer now so let's get started and
let's set up UX for that I will go to
the console to the terminal and run npm
install - - save and then it's simply
view X that's the name of the package so
this will pull it down add it to my
package to chase and install the 2.0
version which is the version which
you'll need and with that I now need to
set it up now I could do that in my main
dot J's
while but a better convention is to do
this in a store dot J's file so let's
add a store dot J's file why store
because view X is all about having a
central store which holds your state and
which allows you then to manage this
state in the end therefore I call the
file store Duchess and I will create a
store there now if you create it I will
first import view from view and I will
also import mu X from view X this newly
added package I just installed the first
thing I got to do is I have to add 3x as
a plug-in wire the view use method here
this will unlock some additional
properties and methods I can use and
then I need to set up my store I will
export it because I want to use it
outside of this J's file and on name it
or store it a constant name store the
store is then created with the new
keyword or operator here and then view X
dot store so this view X package we're
importing up here has this store object
or a constructor we can instantiate here
now to the store I need to pass a
JavaScript object configuring that store
now how do I configure such a store the
key thing every store has to have is the
state so this state property this is a
reserved word kind of view chess or view
X to be precise will recognize so this
is my state and this is now also a
JavaScript object and here I could have
my users and my registrations so let me
quickly grab them from my app W file
I'll cut them store and add them here
and now I'm setting them up here with
initial values so the M key array for T
registrations and the array of user
objects for the users and with that I'm
already using a store though of course
the app is now broken but we'll fix it
first I need to go to the main dot J's
file and of course
year I need to import my store so here I
will import store from the store dot J's
file and then I need to add that store
to my root view instance I do this by
simply adding store : store or since
we're using es6 i can also take the
shortcut and just add store and it will
automatically assign store to that since
it's the same name with that the store
is set up in your store dot JS file we
register the initial state or each state
in general off that store and now we of
course edit the store to the main root
view instance here this new view
instance here which manages my whole app
and with the store being registered
there we can now access it from inside
the application so let's do this q x--
is it i will start with the registration
part so here rec where i can sign up in
your registration dot view file right
now and you register user method i'm
simply omitting an event and I'm getting
my user as props here well we don't
really need to follow this pattern
anymore because the app dot view file
which is right now passing users via
props and listening to the event doesn't
need to do that since our users and our
registrations are in the central store
anyways we can just access this store
directly to do so I'll start with my
users I'll remove the props in my
registration dot view file and instead
add a computed property in the computed
property of my view instance of this
component and you can give it any name
I'll stick to users since this is the
name which I'm using up here in this V
for loop users again as a computed
property and all I do here is I return
this and now here is a special property
can access dollar signs stored this is
added because I am registering view X
here with view use so dollar signs store
gives me access to the store then I
access the State
here my users because state users is
what I'm setting up here so I'm now
accessing this array of users in my
registration view file
now with that accessed I can go to my
app W file and get rid of this prop
binding here where I'm passing the props
the users props I can also already get
rid of the event because I will also
change the way I handle this here what I
want to do is in the methods I don't
need to admit this event anymore I
simply want to I can still set user
register to chew right now but what I
wanted to hear is I want to also access
the store the state and here
registrations so this empty array at the
beginning and there I can simply copy
the logic from my app that view file
where I also have my user registered
method I'm copying that code from that
method into my registration W file paste
it in here and now I don't want to call
this registrations push instead I want
to push it on the registration in this
state in my store now I will say one
thing right away manipulating the store
and the state in a store like this is
not a good practice and not how you want
to do it in bigger applications I will
of course in the next videos show a more
elegant way but for now this will do
with that I'm changing the registration
state I can now get rid of user
registers here a registered here in
methods in my app dot view file and I
can now also go to the registrations dot
view file and implement some code here
so instead of getting props also add my
computed property here and here are also
when I get my registrations in this case
and registrations is also fetched from
the store state and their D
registrations array just like that I
need to return it though so this gets D
registrations phone from Mike Lobel
store now when I unread
gesture I can go back to the app dot
view file and copy my user unregistered
code like this I'm going to your
registrations that view file and i'll
simply paste it in here now I need to
make some adjustments though for one
here where I find the user which was
changed I need to access this store
state users and find the user by its
user ID which is saved in the
registration I can then switch use
register to false again and here this
registrations splice where I remove a
registration well here I need to access
this store State registrations and the
same is true here this source state
registrations now I also need to change
the computed total property here I need
to go to my store State registrations
and fetch its length with that all the
logic is in d2 SAP components and I can
get rid of the methods here I can rid of
my competitive a computed property here
and also get rid of data which I didn't
use and I can also get rid of the prop
passing ant event listening in my app
registrations component now let's see if
this works as it should
I'd probably won't because seems like I
got the import in the main dot J's file
wrong and indeed I'm exporting a
constant name stored here I'm importing
something like if I had to define it as
default export which I could do but
since I created a named constant I need
to wrap this in curly braces this is
just es6 import syntax with that if I
save this let's see this looks good
application seems to run let's click on
register well it goes up here but we
don't really see the registrations here
any registrations component and we also
get an error an error that property or
method registrations is not defined and
this happens because here I got two
computed properties setup that of course
won't work
so let's merge them into one dad was
mistake on my say-so
let's save it now we should see a
working up
vacation indeed I can register users I
can unreduced them the missing piece
though is you see they don't really
disappear here on the left they somehow
don't seem to get marked as unregistered
or as registered excuse me and the
reason for this behavior is not a bug
the reasons here in my computer users
property which defines through which
users are looping I'm always returning
all users instead of course I need to
add a filter here and filter if the user
actually is registered or to be precise
if it's not registered only if user is
not registered shall it be returned in
the users array in the end which will be
free which I'll loop so now finally
we'll have an application which works as
it should
now with view X and the central store
and state now what what did get better
compared to the start of this video we
stripped out all the code from the app
to view fall which makes this file more
leaner because the code shouldn't be in
there to be honest we basically put the
code into our to our components but the
important thing is our state the
registrations array and the users array
is kept in one central state our store
here which we access from both the
components and we don't have to omit
events and pass props and so on so this
is an enhancement though of course as I
mentioned the beginning of the video for
small applications the setup might
actually take longer than simply using
the props event pattern which we did at
the beginning but especially in bigger
applications you will see the advantages
of this approach now in the next videos
we will refine this approach and add
some best practices because the way
we're doing it right now isn't really
the best practice but I'll come back to
this in the next videos</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>