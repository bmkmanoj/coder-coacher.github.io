<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ReactJS / Redux Tutorial - #7 Connect ReactJS and Redux | Coder Coacher - Coaching Coders</title><meta content="ReactJS / Redux Tutorial - #7 Connect ReactJS and Redux - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ReactJS / Redux Tutorial - #7 Connect ReactJS and Redux</b></h2><h5 class="post__date">2016-09-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tfuZ7uZmVyg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we learned all about this redox flow
here and that's all nice but it has
nothing to do with react right I always
said that you could use it with plain
JavaScript with angularjs what was with
whatever you want but here we want used
with react je s and in order to do so I
need to add another import or another
package to my application I need to
install react Redux add T save flag so
why do I need react reacts
we already got react and we already get
Redux right yeah and react reacts is the
bridge read access standalone doesn't
need react and react as standalone
doesn't need read acts but react read
acts the package I just installed is the
bridge between both so react reacts
allows me to take my old application
here and hook it up so how do i hook it
up then well let me create a new
component here which I'll name app
Chasse and I'll use all my old code here
the one I commented out besides the
render function I don't need this in my
app component commented in remove the
render import as I said I don't need
that adjust these imports because now
app is the same folder as the other
components here and I will remove this
state related thing here because state
will now be handled by Redux and you'll
soon learn how so here I'll just pass
Max and again I will change this later
on so now I get my app component but
still it's not hooked up right well
let's go back to the index dot J's file
remove everything but the imports here
do you react imports and the render
function down here
and comment that in but I'll also take
my render function your leave to import
at the top and I'll set it here at the
end of the file doesn't really matter to
be honest I'll remove all my dispatches
here because we will soon do this from
the react app and now I got my render
method here I want to render app now in
order to do this I need to import that
from components and an app so here I can
import app only if I export it in this
app dot chess file here though so I'm
importing app and now I'm rendering app
here so with this oops I also need to
shouldn't have removed that I also need
to add my react import here at the top
again so if that if I reload this will
go back to the application
you see it's now running of course this
button is not working now we got it
running again but we don't he we don't
have it connected yet we have our
application but it's not connected to
redux at all in order to connect it I
have to do two steps I want to connect
my reaction with the Redux stored so
that the state is passed from the store
to my react app and then I want to be
able to dispatch actions so these blue
both or these two directions are needed
well let's first connect the store with
the react app I do this by adding
another import here at the top I need to
import something from react read X and
this something here is called provider
because it provides us to store this
provider is then use here in the render
method I'm just splitting this to make
it a bit easier to read like so this
providers then use here and wraps our
app
like this I'll explain this in a second
so our app component is wrapped by this
provider component which is provided by
the react Redux package now as you
already see this wants to give me a
store in my ID kind of auto-completed
that wrongly but it wants to pass a
store as a prop kind of and this should
refer to my store here to this constant
so I'm passing my react store to the
store property of this provider
component and then I'm wrapping my whole
app and that's important my whole app my
root component in this provider area
here or a provider of every provider
component here so that is how we connect
the store to our redux app however this
doesn't change our application here it
still looks fine we don't have an error
that's only some hot reloading stuff
here but it's also not really using the
store in order to use the store I need
to do something in my app dot J's file
here I hooked up my state my store tree
whole application but now I need to hook
up or to define which properties of my
state I need in which component and
which actions I want to dispatch there
so these are the two things I need to
tell read acts which properties to I'd
want to use in my component and which
actions so this is done through two
methods the first one I'll define it as
a constant here is called map state to
props now of course you could change the
name here but that's the default name
you you use and you seen the
documentation and which is pretty
explicit about what it does map state to
props means which properties of my
global
application state do I want to use in
this component and then to which local
properties in this component do I want
to map them therefore this is a Fed
arrow function which gets the state
passed from redux and here in the
function body all I do is I return a
JavaScript object where I create key
value pairs where the key is the
property name as I can use it in my
component so let's say here I one to
access all the user related stuff well
then I can access user state and here
reducer and math would be state math
reducer and if you don't want to use the
reducer names here you can also go to
your in extra chase file here when we
combine the reducers you can of course
also assign different names to the keys
so math and user for example and then
you could use just user and math so here
I'm using all the properties of my
global State from both reducers and this
allows me to use them like this I can
simply output or pass the user name as
we do it here as a prop to my user
component and how do I access my user
name simply by accessing this props and
Redux will now automatically populate my
props does is still the react.js props
property that one you learn and you
react us basics course Redux all
automatically creates them for me or
populates them for me and here i access
user this one here this key is set up
here where a map my state two props so
this is the one automatically created by
redux well and user has this name
property because now we're here
we're in the user reducer and here the
state has a name and an age so here I
can access name if I save this well we
get a problem here because right now
this is not happening just because I
create my constant here doesn't execute
this function right I just created a map
state two props method here but I'm not
executing it
therefore when trying to access this it
of course doesn't find it because right
now rejects is not giving me this I
haven't executed this map stay to props
function so in order to execute it I
will have to call another function
Connect connect connects react.js riff
redux we already did this with the
provider here keep this in mind but here
we only provide the store we then also
have to connect each component which
needs access to the store so connect
here expects a map state two props
function without parentheses it will get
executed automatically but it also
expects another function here and my IDE
is already telling me this map this
patch two props that's the second part
where we then setup which actions
actions we want to use in this component
so I'm copying my constant here map
state to props and name it to map
dispatch to props now map dispatch to
props takes an argument which I'll name
this patch here and this also returns a
JavaScript object where I also set up
key value pairs where the key is the
prop name created by redux for me but
the value is a action a method which
gets executed so for example we could
have a set name method here set names
the props name then use a fed arrow
function where I then have name as an
argument and we're here simply
call my dispatch method them and the
dispatch method expects to get what well
of course the same definition as we used
in previous videos so the type of the
action which should be set name and the
payload so let's set this to name the
argument I'm passing here of course all
these argument names here are totally up
to you you could name them to whatever
you want name them so with that I can
pass map
dispatch to props here although without
parentheses and then this connect method
here will actually return me another
function this function then takes my app
here therefore I remove the export
keyword here from this class this is now
passed as an argument to the function
this connect function returns me and
instead I whoops did not want to do this
instead I export this as a default I did
a lot here and we're not quite finished
but here's a good point to stop and make
sure that everything is clear until now
because it's key to understand and I
know that this have been some
complicated steps so what's happening
here I'm calling the connect function in
my app to chase file the file where I
create my react.js component
I'm calling the connect function because
I want to tell react Redux that I want
to connect this component here to my
Redux store yes I'm already providing
the store for my whole application but
it does not mean that it automatically
connects all my components and that's a
good thing
because this way I can choose which
properties of the global state and store
my component needs I do tell react
reacts which properties and actions I
want to use with these two methods here
dual functions the map state
perhaps function and the map dispatch to
profs function the first one tells
reactors which properties of the global
state do I want to use in this component
and to which local properties accessible
through the props keyword do I want to
map them in my component the map
dispatch to props action or function
here that's the same but now not for the
properties of the global state but
instead for the actions I can execute
and well send to my reducers in the map
dispatch - props function here I also
map key value pairs set name for example
which will also be accessible through
this dot props but the thing I mapped
the value is not the value of any state
property instead it's a function which
dispatches an action and inactions just
a JavaScript object with the type and
the payload this function year happens
to have an argument name you might also
have some actions or functions which
don't have an argument but here I want
to set a name and I want to be able to
pass this name dynamically which is why
I passed us an alternative would be to
hard-code a name here but I don't want
to do this
so this connect functions then executes
it tells me what to wire up and this
connect function then returns another
function that's done by react Redux it
returns me a number function which then
expects to get the component which I
want to hook up until this point here
the blue lis marked one we haven't told
it yet so which allows me to temp tell
it which component do it when I hook up
the app component in this case the one
here and this whole thing here the
second function call here then gives me
back a hooked up component kind of which
I then export from this file and in
order to use this
I then have to go to my index.js file
and here we're an import app I have to
remove the parentheses to call it braces
because now I use a default export and
an es6 you don't use curly braces if you
have a default export in the file you're
importing you may choose any name you
want to do choose here here I use app so
that I can leave this killed as it is
but now I'm importing oops I'm importing
the wired-up
component which is created by the
connect method connect function here
with all this setup there's one thing
left to do connect of course is a
function which isn't known yet so I have
to add the import at the top and import
connect from react Redux
so add this import here with this if I
reload my application you see it's
running fine the button is still not
working but the user name max is
displayed correctly and keep in mind
this user name is already using react
reacts because I'm passing the user name
here as a property to my user component
this user component is not wired up to
read X it gets us data passed from the
parent classic reaction so we're here
but my app component which passes the
data to the child this year this props
user dot name uses my Redux state
because this props user refers to this
user property I wire up here and that's
important to understand as a side note
there's nothing wrong with still passing
props to subcomponents indeed that's not
just not wrong that's a good pattern to
use you don't want to hook up every
component in your application to read
acts only once which need to be hooked
up but it's totally fine to still pass
data down you just want to avoid these
complex constructs where you have to
handle state in all kinds of components
and really gets out of hand where to
handle what with this it's now also time
to change the way we change this
username I'm no longer using this change
username bind anything like this I can
get rid of this I'll also get rid of the
constructor instead here what I want to
do is I want to use this props whoops
one dot is enough props and then here
I'm mapping set name so set name now
since I want to pass an argument here
I'll make it easy by using a fat arrow
function here which allows me to execute
set name without executing it
immediately so set name and here I'll
hard code and I introduce though of
course you could also fetch the value
from an input or whatever you wanted you
so with this if I reload the application
and click this button now it's changed
to an ax and you also see that our
middleware
is getting active here and is executed
whenever I click on this so even though
the text doesn't change anymore you
still see I'm dispatching actions as I
click on this button and this is how I
hook this up again keep in mind only the
app component is hook up of course you
may hook up any component you need to
connect to read X but here only the app
component is connected and then average
components receive their data through
props being passed down to them but if
you wanted to avoid passing this change
user name action as well a callback here
to my main component you could also hook
up the main component directly to Redux
and therefore get rid of this part here
for example that would work too and
would be a nice challenge to implement
wouldn't it so definitely go ahead and
try this</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>