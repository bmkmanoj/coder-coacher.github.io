<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Node.js + Express - Tutorial - Express Project Structure &amp; First little App | Coder Coacher - Coaching Coders</title><meta content="Node.js + Express - Tutorial - Express Project Structure &amp; First little App - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Node.js + Express - Tutorial - Express Project Structure &amp; First little App</b></h2><h5 class="post__date">2016-03-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bf8L9tQi_MQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi welcome back in the last video we
created our Express project with Express
generator I already changed the port
number here but it didn't talk much
about this well the server file here
basically I will do this now and then
also talk about the app dot she has file
and the other folders because it's very
important to understand so that you're
able to well actually work with the
structure and create cool applications
with it so in our server file we're
beginning by well having some imports
here and that's basically our app file
we'll have a look at this in a second
which sets up our Express application we
import the HTTP module which we did in
all the other lectures or videos before
when you were you working pure nodejs so
this no it's HTTP module then here we're
creating a port variable and we're
initializing it with this normalized
port method here let's have a look at
this method we can find it here
basically what this method does is it
parses a string value into a number into
an integer that is natural what it does
because here we're passing it like this
like a string and then we're
transferring it into a number why are we
doing it this way because it also tries
to get our port from our environment
variables so basically here we're just
setting the port and then with app set
we're setting it inside the Express app
which again will handle all well
everything for us all the communication
with node 0 to say will be handled by
Express and therefore the setup which
poured to creation of the server and so
on everything is handled by Express and
therefore we have to set the port in our
Express app then here we're creating the
server
well basically straightforward within
normal HTTP module by now
and we're passing our Express app as a
handler for all the well tasks coming
from the server so to say then we're
setting the server to listen to port and
there's nothing else than what we had
here in our server chest find the last
project HTTP create server then what
should handle the requests in the case
in our current video express in the last
video we did it manually with this
handle request function and then that we
listened to this port while we're doing
the same your split up over several
fonts we're creating the server tell
that Express will be responsible for
handling all requests and then we're
calling the listen method on the server
and set it to the port which is just an
integer we parsed out of this then we
got you well our function here which
listened to certain events an error
event and a listening event the error
event put call this on error method here
and we'll just well take care about
whatever error may appear during
listening for example that a port is
already in use so just our server file
now let's have a look at our app file
which is our actual Express application
in here well we get a bunch of imports
at the top and well basically what kind
of utilities we need to get our work app
working nicely we're requiring two
routes here these are default routes
that ship with this as an example so to
say because routes are stored in a
separate folder we'll have a look at
this a second and then well first we're
creating our app by running Express as a
function this is our module were
importing here this creates the Express
application then we're configuring it
first we can figure out we set up our
few engine because with Express we use a
templating engine to be able to
dynamically output variables in our HTML
files for example you might know
something like this from
languages like PHP for example where we
also got templating engines here we're
setting up which engine we want to use
shade in this case and we will have a
look at different templating engines in
future videos and where we store our
fuse so in this fuse folder now by der
named fuse we're basically chest saying
welder name always refers to this root
folder sub judice 0 5 Express first app
folder and then we tell it's in the fuse
folder there this is basically what
we're saying so that our fuse can be
found in this fuse folder where we have
our JS files here now dot Jade is
basically something which will be
compiled into HTML in yet but as well as
a set of a look at this templating stuff
in the next videos then we continue and
well we got a bunch of middleware we're
using your service a bunch of actions
were using on each request which we get
where we basically parse the body and
possible cookies and well so on we also
declare where our public finds are to be
found in this public folder this is
important because these files are well
style sheets or JavaScript files and
this we're basically just setting up
that these heart should be accessed
accessible statically so the dis dis
files should be loaded like example and
import link in our HTML code and so on
so this sets up our public folder where
our assets will live then we're setting
up to routes and we're always using this
use method which just says used current
request apply some action on this
request to some middleware something the
request is routed through so to say so
with this here we're saying well this is
the path we're accessing
the root folder or users so in the URL
ever just a slash at the end war slash
users and then which well route should
be executed so to say now that routes
and users are variables we're setting up
at the top here and which point you
average javascript files so all we're
saying here is that if we access this
route every having this as a path in our
URL then we want you well use this
routes file here this index file this
file here to handle this request and if
we have users we want this users file to
handle this request so which is
filtering the pop and then determining
which file which method should take care
about this request job is clears however
having a bunch of filters here doing all
kind of stuff with our poor request and
one of these were important actions is
that we're filtering and saying well
which of our files where our functions
should actually handle this request and
will render something back and so on so
in a way this is comparable to our last
video where we were saying that well
everything should be handled by handle
request and here we were also getting
the path and then saying okay we want to
render this or this HTML file and here
it's a similar thing we're getting the
path and then saying who should take
care about this next thing is we well as
the description says caching seven 404
arrows so again this is some middleware
and the same middleware is used in
Express so you already saw we get
several arguments we can pass through
this use functions can pass a path and
then well a function which should take
care about it well we can pass our
functions and we
also pass anonymous functions which take
a request a response and the next object
but in the end all these functions here
resolve to a function that well takes
this request response an X because this
how we will funnel through our
middleware we're calling next at the end
to say okay now the next step should be
executed so that we're dropping through
all these use cases and not stopping in
one and we also say what do we want to
do with the request or the response so
here we're just handing 404 errors down
here well we get some other arrow
handless basically just making sure that
if errors happen they are handled in a
certain way let's have a look at our
routes so when we're accessing slash
like like here we're on this index page
or we're using this index route this
routes index file here let's have a look
at this index dot J's file as you see it
while it uses the Express router which
is well just another helper object so
what you say which in the end just takes
this middleware function your as I said
with request response next and here
again well it just gets this dot slash
route so kind of a duplication here but
here again we're just saying for slash
we want to get this dis route here and
while we're doing this is something I
will show you in a second
then here we're rendering out this
index.html file and we're passing a
JavaScript object into this file and
this just sets up some variables a title
variable which you can use inside our
template to output content dynamically
there now templating is a topic I want
to talk about in a separate video but
for now just know here we're rendering
the file and we're passing some
information into that file which you can
then display there
now our a users chess file is pretty
similar and well here we also have this
slab
ha strange right because in this app
Dutchess file we're using users as a
path to use users and then in here we
get slash and not users because that yet
method here describes our route in the
app touch AS VAL we're just saying
whenever we encounter this path this
file or this file should take care about
it inside this file we have the actual
routing going on and here we have a get
road as we do in this index dot JS file
you might also have a post route here
and we will of course see this in later
videos now the path specified here is to
be seen relative from the path we're
using here so we're kind of resetting
this back to zero once we're inside this
file
therefore users slash is still URL slash
users but here we get a route for the
case that were just accessing the slash
users let me add a number around here
but just copying that and then I call
this let's say user detail or just
detail slash detail and then I want to
say detail here's what we see it
actually changed so now we would expect
that if we navigate to let's say
localhost 8,000 years that we see this
route because we just got this slash
here at the end but if we navigate
choose users detail we'll see this when
we access this route let's try it out so
let me save this now let me rerun my
server p.m. start and now I navigate to
slash users respond very source is
exactly the text we see here it's number
targeting this road now let me attach
slash detail at the end now you can see
we're seeing detail which is what we
entered here so these are kind of sub
rouse starting at the
we're specifying here slash users and
then we can give ad sub routes to bed
now if you handle it this way or you
just have let's say not this users
folder but justice slash path you're
leading to delete this to my routes file
or into this index dot GS file to be
precise and then in here I could also
add these routes so let's say like like
this and then get rid of users Ches and
then just have to make sure I add users
here and here users detail if I now
reload this it still works
now get all my routes in a single file
because in my app which is fine I'm just
saying all routing starting at the root
folder so to say at the root level of
our URL should be handled by my routes
variable which is just this index file
here and then this file I'm setting up
all my routes so this is another
possibility have it split up over
multiple files have it at one file this
is how our basic skeleton looks like and
how it works and in the next video we'll
play around with it a little bit more
and add some more fuse and yeah well
create start creating our own
application
see you there bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>