<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>FINISHING THE ANGULAR 2 FRONTEND | Laravel + Angular 2 / Vue.js 2 | Coder Coacher - Coaching Coders</title><meta content="FINISHING THE ANGULAR 2 FRONTEND | Laravel + Angular 2 / Vue.js 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>FINISHING THE ANGULAR 2 FRONTEND | Laravel + Angular 2 / Vue.js 2</b></h2><h5 class="post__date">2017-01-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yDH4JBwrlZM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back to the series on connecting
level with angular 2 we already built
the backend we build a part of the front
and very importantly in the last video
we learned how we can solve this problem
with having two different domains
talking to each other now when I'm going
to finish the angular 2 front-end so in
my quotes component I'm looping through
all the quotes and I pass them to the
single quote here and there what I want
to do is I actually want to add some
edit and delete buttons so here in the
panel well nut body this should be the
panel footer here I want to add a couple
of links I'll have an added link I'll
have a delete link and well if I click
Edit I actually want to open an input
here of type text and then I also want
to add a new link or show another link
where I say save or cancel so I'll group
them together in some divs the input
save and cancel should only be shown if
I'm in the edit mode otherwise I'll be
able to either click Edit to enter this
edit mode or click delete well for this
I will add a new property 2d quote
component I'll name it editing and set
it to false initially to show well we're
not editing I'll also add the added
value property and set it to an empty
string and then I will use those both
methods to use the editing property to
conditionally show this input field only
if we are editing to be precise and on
the other hand the operative is only
shown if we are not editing well and
then I want to bind the input here with
two-way binding so therefore with
ng-model
to the added value property an empty
string at the beginning and then it's
time to hook up all those links so here
when we click I will call on update and
if I click on cancel I will call on
cancel and if I click on edit
I will call on edit and guess what I
will execute if I click on delete I will
execute on delete awesome so these are
ready four methods I will execute
depending on where I click so let's add
them I have the on edit method and there
I want to set editing to true to enter
this editing mode and show the input and
I want to set the added value to the
value of quotes whips of quote content
and I'm not binding directly to quote
content because I'm using two-way
binding and I don't want to add it the
quote before I actually click Save
therefore I use a separate property to
store that value now if I click on save
I will execute on update and here I will
then actually reset the Edit value to an
empty string and set editing to false
but we also need to reach out to the
back end so I'll go to the quote service
and add a new method here update quote
and it will get the ID as an argument
and the new content so let's name it new
content for example which will be a
string and then in there I will return
and observable sending a put request
since I since I set up a put method or a
put route on the back end if you
remember this in an earlier video when
we created the level back end and here
of course I'm reaching out to the very
same URL but not to slash quotes just
slash quote and then slash and the ID
remember this is how we configured that
route on the back end in an earlier
video the second argument will be my
body so the data I'm sending and here I
will store this in a new constant json
stringify will turn it into valid json
and I want a stringify an object here
where I actually have my content and
assign this new content value so this is
the body on send
and if you're in doubt which format you
need have a look at the lateral
application inequal controller you will
see that put quote will actually try to
extract the content feel here on the
data it gets so therefore you need to
pass this content feel here as a data
well and i will also set up some headers
and this is actually important
you saw this when we tested our API in
postman there i also was very specific
about the fact that we're passing json
data so here i'll actually create new
headers headers is imported from at
angular HTTP and in the constructor of
this object i can pass an object where I
setup my headers and i only want to set
the content type to application jason
and this is very important we need to
pass these headers as a third argument
in our put request here we have an
object where I assign headers to headers
and headers here as a key name is just a
key angular two will recognize and I
need to do this to tell our back at hey
you're getting some JSON data so with
this I'm sending a put request and then
the quote component on in on update I
can therefore reach out to the service
after injecting it
so let's inject it quote service of five
quote service make sure to also add the
import and then here I can simply say
this quote service update update quote
and I need to pass the ID well I can
extract this from my quote I'm having
here and I also need to set this new
content and this of course is added
value before we reset it and I of course
also need to subscribe here and in the
callback where I get back the updated
quote I will simply say this quote
equals quote so
justic quote I'm getting back from my
back end after I successfully updated it
the issue though is right now I'm not
really getting a quote instead if we
have a look at the service
I'm not mapping it I'm not transforming
my response so let's do this let's add
map here and I get back a response of
type response right now so let's simply
map this to call response Jason since
again if we have a back it will look at
our back end we see that we actually
need put quote method return an object
where we have a quote property and this
object will be turned or this array will
be turned into Jason keep this in mind
where we will have a property named
quote which holds the quote therefore I
can simply get the body this will be
this object then and if I then try to
access a quote property on it this will
work because this is chest what this
object has so with this I am updating
now I also want to be able to delete of
course so on the lead and I also need to
be able to cancel the editing so on
cancel well if I cancel I simply want to
set editing or edit value' to an empty
string again and editing should be set
to false and maybe I should reset the
added value empty string here author I
got back a value in the opt update
method here to just reset it after we
got the new value and with that I can
move on to deleting it here again I need
to create a new method in the quote
service so let's add the lead quote here
I'll also get the idea of the
coefficient delete as an argument and
then as you know it I can simply return
this HTTP delete because I want to send
a read elite request copy that URL
including the ID because I need to send
the idea to have a look at the routes we
set up in the literal application and
this is all I don't need to pass anybody
or headers here because I'm not sending
any day
with the request so no D to set the
headers and obviously also no need to
set the body then and with that I can go
back to the boat component and call this
quote service the lead quote pass this
quote ID so the idea of the quote I want
to delete and then subscribe to it to
actually fire that request and maybe
only output something to the console
once we did delete it or throw an alert
do whatever you want to do so if this we
should be able to add a delete and so on
of course we also want to be able to
create a new quote so in a new quote
component here I will actually create a
form remove action though and this form
will have a div with the class form a
form group there's a Simbu trip class
here in there I want to have a label for
the content of the quote and I want to
have an input of type text with id
content and a name of content and
ng-model because I will use the template
driven approach of accessing this form
so I will let angular to automatically
manage and detect this form for me I
will use this trick of getting access to
the form by binding this local reference
here to ng form and you should be aware
of this I also covered this in earlier
videos with this you're getting access
to the form angular 2 inverse for you
and then I can pass this form in the ng
submit directive which listens for the
submission of the form which should
execute the on Zipit method I will need
to create this and pass this form here
this form Anglet who listened or created
so I also need a button this button will
receive some classes button and button
primary will be of type submit and will
have a caption of submit so with that
I'm able to submit that form in my new
quote component I therefore need to have
my on submit method I know I will get
the form of type ng form which I'll
import from
angular forms and I also need to inject
the quote service so private quote
service of type quote service of course
and there we need a new method again we
need a method for adding a quote I'll
place this at the top so ad quote and
here all I need is the content so let's
name it content of type string of course
and here I will also return an
observable sending a post request to
that URL you already know to slash quote
at the end only though and we need to
have a body here this body will
stringify an object where I do set up
the content which will hold the content
and passing here as an argument and I
will set up some headers here so new
headers pass and JavaScript object to
the constructor and set the content type
to application Jason since you're
sending some data with that request
so here I'll pass the body as the second
argument and then an object where I
configure this request and specifically
where I set my headers now so with that
I got this post or this add quote method
added in your new quote component I can
now reach out to my quote service and
call add quote and simply pass the form
value content property content because I
gave this input here a name of content
and again I will be able to access it
because English you automatically infers
this form and I added ng model to this
input to let angular to know hey please
watch this input and with this we're
creating a new quote I can then call
form reset to reset the form and I want
to do something else I want to subscribe
to this um to this add quote method of
course because it returns an observable
and simply throw an alert quote created
once I'm done so once this new
well quote has been created the missing
piece now is to add router links so that
I'm able to switch between pages so in
the app component I'll actually add my
router link here to the quotes umm link
where I say go to an empty path or just
slash so to always go back to the root
route and on the add-on you quote link I
want to load the new quote path this is
the second path I set up here now with
this let's have a look at the running
application and of course you could
improve the look of that navigation up
there it doesn't work though oh I want
to add a new class here to my input
though the form control bootstrap class
to make it look nicer so now it looks
like this is a very long field but
doesn't matter so new quote let's see if
it works if I hit submit well it opened
on a different window here but I got
this quote created alert and if I click
on the quotes tab here and click get
quotes you now see I get these some
quote the old quote and then you quote
and now let's also edit it new quote -
maybe let's click Save well seems like
this day to work out it's gone so let's
say reload and fetch the quotes again
well it kind of worked it did edit it
but we seem to have a problem on our
front and ears here so let's look into
this in a second let's try deleting it
first though if I reload now and get my
quotes again it's gone so the two
missing pieces is to better update the
front and once we click on delete or
once we save it so let's have a look at
our quote component so on updates or the
save and delete button these are the
issues now when saving here the issue we
have is that I assign the quote I have
here to the new quote I get returned now
I can simply update the content of the
existing quote instead because that
what I change so I can set this to this
edit value' before I then reset edit
value' so this should make sure that I
correctly reflect the new content and on
the leading well I'm not seeing this
because I'm not taking any action here
right
I'm only logging quote deleted but I'm
not taking action on my front end
instead maybe I should do more than just
lock this would be nice to omit some
kind of event to my quotes component
which holds the list of all quotes so
that this component can then delete the
quote I delete it so I'll add a output
here and event basically make sure to
import output from at angular core I'll
name it quote delete it and this will
course be a new event a better as we
always set up our own events like this
import event emitter from at angular
core and this event emitter will simply
hold the quote were deleting so there I
will simply then execute quote deleted
emit a new event and I will omit this
quote or past this quote as a value well
an inny quotes component therefore here
in the template of that component I can
now go to my single quote and instead or
not instead but besides passing some
data into this I will now also listen to
the quote deleted event and execute the
on deleted method once this event occurs
and then execute you on the leap method
in quotes component and will see or
simply access my quotes not the service
all quotes and splice to remove a quote
I need to know the position of the quote
I want to remove though so I can find
this by accessing like quotes and then
we find index method which allows me to
search for a specific quote and here I
will simply search for the quote element
which of course is of type quote which
actually satisfies this condition quote
element ID is equal to well I will get
the quote which was deleted as an
argument I know that because I pass it
through the event emitter so which sac
will equal to quote ID off the well the
idea of the quote I delete it so this is
just how find index works it executes a
closure which has the quote so each
quote of this quotes array but quote by
quote as an argument and then here I
even return true or false to indicate
hey it's just a quote I was looking for
or not and if it is Fault well it is not
to write one and this will only be true
if the IDS equal so this gives me the
position of the quote I want to delete
and then I can simply splice position
and only one element of course because I
only want to delete that specific quote
and this should clean up my quotes array
and remove the quote once it was deleted
the important thing in the quotes
template therefore is to also pass on
this data so with dollar sign event I'm
passing the data I'm omitting to D on
deleted method and keep in mind I am the
leading or excuse me I am omitting the
quote I was the leading so with those
two changes in place we should be able
to reload this app click on get quotes
edit this cancel this of course edit it
again click on save now we see the text
reflected here and we see that if we
reload and get the quotes again this is
persistent
if I delete this it disappears after a
couple of seconds or milliseconds and if
I click on get quotes again it doesn't
come back because it really was deleted
on the server and we shouldn't see any
errors in the console when we do all
those things when we add a new quote
again got the alert on yuvan no but it
was created get quotes added
do all that works just fine as you can
clearly see and this is how we can
connect our angular to fro
an application to our beauteous package
to do chest or level back and view
chasers what I will have a look at next
in the next videos of this series I hope
you learned a lot here course these are
only the basics about this connection
but these basics are extremely important
and this is how you generally connect
your angular 2 application to any
back-end or in this example here of
course to level see you in the other
videos bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>