<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SIGNING IN WITH VUE.JS | Laravel + Angular 2 / Vue.js 2 | Coder Coacher - Coaching Coders</title><meta content="SIGNING IN WITH VUE.JS | Laravel + Angular 2 / Vue.js 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>SIGNING IN WITH VUE.JS | Laravel + Angular 2 / Vue.js 2</b></h2><h5 class="post__date">2017-03-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/cxqs7gPy_3E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back to this series where we're
connecting letter well on the back end
with view chairs or angular on the front
end
throughout serious we already achieved a
lot we set up our back-end and we added
authentication to it and we also
finished our angular front-end allowing
a user to sign up and then sign in and
use that sign-in token the back-end
issues to authenticate with subsequent
requests hence being able to fetch
quotes and create new quotes now we
still have to do the same thing for view
chairs and in the last video of this
series we added the signup functionality
now it's time to allow the user to also
sign in otherwise a signup functionality
isn't that much use is it and then we
want to store the token the back and
issues to be able to send it with future
requests and get access to the protected
features of our backend therefore in
this video let's start with implementing
these sign and functionality now for
this I'm already back in my view chairs
project and I already got it running
here in the browser as mentioned we
already are able to sign up and we did
so in the last video so I already do
have a user on the backend and with that
I now want to add a new component to
this project sign-in components so a
sign-in dot view file now in this file I
want to add a sign-in form and therefore
I will go to the signup page do you sign
up view component and I will copy the
code from there though of course you
will adjust this now on the form
I don't need to username anymore for
just signing in I only want to have a
mail and password field I will leave it
like this though I will leave the
v-model binding and so on because I
still need to get this information this
data now with that in place I will go
down to my script file to go to my
script code down there I already import
access we will need this to Santa sign
and request and I will change the method
name here to sign in because that is
what we do this of course means that in
my template code in my
HTML code here on the click list sir I
will also target this sign-in method and
I will remove or rename this button to
say sign in instead of sign up now with
that in place let's go to our back-end
we created and let's have a look at our
routes and see what's route we need to
target it's down here this users sign in
route at the bottom here this is to
route allowing us to sign a user in
there for this to route you should
target with our view code so here I'm
right now targeting just slash user so
this should be slash user slash sign in
because again this is the route we were
targeting here now with this in place I
still need to send almost the same data
though there is no need for the name
anymore we don't need to name since in
the backend if we have a look at our app
HTTP controllers folder and then user
controller we see that for signing in we
only validate email and password of
course because we don't care about the
user name at this point now with this in
place I'm sending all the data we need
important make sure you are sending this
header here because you want to send
information that this is sent through an
ajax request and then well I can catch
both response and error
and see what happens so I'll save this
and go back to my page and I would be
nice to be able to go to the sign in
page so for this we need to register
near out and I will do it as new main
dot JS file where all the other routes
are registered and this new route should
have a path of slash sign and let's say
and of course I want to load my sign in
component which I therefore need to
import so I'll add this import at the
top pointing to the sign in dot view
file now with this route setup I can go
to my app dot view file where I do have
all my route links and I will add a pipe
symbol after the latest loud route and
add a new router link pointing to slash
sign in soju this newly created route we
just added and give it a caption off
sign in since well this is where this
will lead us now with this in place we
can
go to the sign in page and let's open up
the console to see if everything works
as it should and I will use the
credentials I created in the last video
of this series choose sign in' and this
looks pretty good
i get back an object with status text
okay and code 200 and then they either
field here I get my token so with this
we do have to token now we need to store
it to be able to send it with future
requests and let's also have a look into
this token now do you have such a look
into token I already explained logic we
can use in the angular video you can
basically either install a JavaScript
package decrypting or güell and
packaging this token for you since it's
base64 encoded or you write the code on
your own so I will do the latter
approach here and you sign in dot view
file here in D then lock where I handle
this response here I want to retrieve
the token so the first step is to get
the token here and I can simply get it
from my response and there from the data
object and there it's in the token field
remember this is where where we can find
it here object data token so this will
be the encrypted token now I want you
decrypted or kind of split it up so
let's create a helper variable base64
URL which is this token and then I will
split it by the dots because the token
continued contains free parts separated
with dots in this string so I will split
it up like this and I'm interested in
the second one therefore with the index
one this is which this is the part which
contains the payload of the token now
with that the last step is to get the
base64 value or get it decoded value you
could say so here I want to use my
base64 URL I retrieved here in the
second part and replace all my minuses
with plus signs
and replace all my underscores with
slashes now with this this is formatted
in a way that it is a base64 values and
now we can finally well decrypt it or
turn it into a normal string I could say
so to do this I can simply call the
window a top method that's a built-in
method javascript offers and here we
pass a base64 value and we will get back
a normal string so let's log to the
console to see if this works as it
should so I will clean this up and sign
up again and here we get our string
token decoded so this looks alright of
course it is Jason so let's parse the
tips not here though let's parse what we
get here to get a JavaScript object to
work with so this is the last step with
this in place let's quickly reoffending
kate and here's our javascript object
with the token information nice so with
that we got a decoded but that was
really just an exercise of practice here
to see what's inside it and to well
understand that you can decode it in the
browser we can't verify it here though
this can only be done on the server
because this is where we keep our secret
which was used for encoding the token
but if we want to have a look inside of
the token and use some information from
there this is how we would do it now
with this in place I want you stored the
token in the local storage so whilst it
is nice to have a look inside of the
token and I will still print it here the
more important part is to access the
local storage
javascript object we can use here and
set a new item set the token because you
want to store the token to send it with
future requests so here I will store it
as the second argument to this method
which is the value of that key were
creating here in the local storage and
this will simply be my token
the unencrypted not the unpackaged token
but instead the Aurora token we get back
from the server this one here so this
now gets stored in the local storage and
with that we can access it in the future
to send it to the backend whenever we
need to get access to them protect the
data there we will do this in the next
with you off this serious see you there
bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>