<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>switchMap() | RxJS TUTORIAL | Coder Coacher - Coaching Coders</title><meta content="switchMap() | RxJS TUTORIAL - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>switchMap() | RxJS TUTORIAL</b></h2><h5 class="post__date">2017-06-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6lKoLwGlglE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to this video in this video I
want to have a look at the rxjs switch
map operator I already had a look at
merge map now we're going to see what
switch map can do for us it basically is
an operator which allows us to trigger
some value emissions whenever another
observable emits a value not 100% clear
let's have a look we'll start with this
example and as always you can find a
link to that source code in the video
description so what we have here is a
button which says click me and
observable which reacts to click events
though we don't subscribe to it so right
now obviously if I click the button
nothing happens now what I want to do is
I want to start an interval so an
observable which emits a new value every
X seconds let's say every second
whenever I click the button but I want
that emitting observable that interval
to start over when I click the button
again so the old emission the old
interval should be canceled
automatically now why is that useful it
might not be that useful if we talk
about intervals but it certainly is
useful if we think about HTTP requests
if you have let's say some Auto
completion functionality and you reach
out to your server whenever the user
type something you don't want these old
requests to continue whenever the user
changes his opinion you're sending a new
request and you want to cancel the old
ones you want to cancel the old
observables so that you don't have to
handle the data which you will
eventually come back rxjs will handle
that for you and switch map specifically
is what helps us with that so let's
quickly create a new observable
observable - which will do this interval
emission which I'm which is that cell
every one second this will emit an
ascending number and now the easiest way
of connecting the two observables is of
course to subscribe to the first
observable which is emitted on each
click
and in the first function where we
received the value in this case we know
it's going to be the click event we
could simply reach out to the second
observable and subscribe to it too
and in the SUBSCRIBE function of this
second observable we could now use that
value we're getting that ascending
number and simply log it to the console
if you now open up the developer tools
hit control enter
clear them and click here we see that
the omission of values starts but if I
click again you see a second omission
started and if I click multiple times
our console here goes nuts because we
have a lot of observables running
emitting values because the old ones
aren't canceled now as explained so
which map can help us with that so let
me quickly hit control enter to stop
this nonsense and clear the console and
I'm going to get rid of this
subscription here instead I'll use the
switch map operator which allows me to
connect to observables in the way I
wanted to connect here so to switch map
I basically have to return a function
where I still pass the value of the
outer observable so of observable one
year that's going to be the event still
but inside of that body of that function
now I'll mark it with curly braces
inside of that function body I now have
to return the second observable which I
want to connect with the first one so
here I can return observable two and
that basically is all what switch map
will now do is it will react to values
being emitted on that outer observable
observable one year and it will then
trigger the inner observable and
basically switch the values you could
say we won't receive the click events we
will receive the values of the inner
observable hence the name it switches
the values the key thing is that it
cancels all all subscriptions
automatically if we click this button
again so if the outer observable
triggered again so if I now hit control
enter here and well before that
subscribe to that switched observable so
after switch map here if I now subscribe
here and react to the value by printing
it to the console again and now I hit
control enter you will see that if we
click we still get that interval but if
I click again it starts over and the old
one is canceled which is why I can click
this as often as I want that doesn't
change it we don't get this crowded
console instead we only have one
interval running at a time and as a
switch map we switch to values or to
observables kind of and we cancel any
old ones I hope this was helpful see you
in our videos hopefully bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>