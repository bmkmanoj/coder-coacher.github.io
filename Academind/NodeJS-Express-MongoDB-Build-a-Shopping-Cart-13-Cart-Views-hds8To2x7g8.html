<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>NodeJS / Express / MongoDB - Build a Shopping Cart - #13 Cart Views | Coder Coacher - Coaching Coders</title><meta content="NodeJS / Express / MongoDB - Build a Shopping Cart - #13 Cart Views - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>NodeJS / Express / MongoDB - Build a Shopping Cart - #13 Cart Views</b></h2><h5 class="post__date">2016-07-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/hds8To2x7g8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in order to see our card on a page
anywhere well I need to work on some
views of course I want to display it in
my header where I have my shopping cart
link this one here I want to have a
badge next to it where I see how many
items are in the shopping cart or if it
is empty and of course only the new view
- well see my overall shopping cart so
I'll do both I'll start with the batch
in my header I'll bring down my console
for that so that we have more space here
and of course all first reformat us a
bit so that we can see this a bit
clearer
so offer the shopping cart text I want
to have my batch and I can use the
bootstrap batch class for this and I can
access my session if you remember this I
was exposing it in the app chess here
I'm setting session to be available in
all my views so I can access my overall
session I can of course therefore access
my cart
and in this cart I have to total
quantity and that's all and now if I
reload my page
you already see we have three items if I
add a new one we get four so that
already works great but of course I also
want to make this link work that we're
taking to the shopping cart and see
something there so back in my editor
I'll add a new view in my shop file here
a folder and I'll name it shopping cart
HBS now in this shopping cart I'll first
grab my bootstrap rows here or my
bootstrap classes all to close them of
course some help from my IDE here and
I'll make this a bit bigger here let's
make this like that and also provide
some offsetting to have it nicely
centered and that's all styling here are
some basic bootstrap styling now in here
I want to have my product so I want to
have
a list group this again is a bootstrap
class and each list item should get the
list group item bootstrap class to give
it some nice styling and then each item
in my list should have a badge so this
will always appear on the right here
even if you specified somewhere else or
even if you specify it no matter where
you specified that's all I'm trying to
say here next I'll not only have my
badge but I also will have an average
span where with the title of why item
and I'll just give this some inline
style or I'll just make it strong let's
make it bold here and it should be the
shopping cart item title this should be
the number like two for example just in
dummy text here then I'll have a span
where the class label and then label
success as well just said this is a nice
little green label these are all
bootstrap items here so here what you
have the price in dollar like 12 for
example and then I'll have a button
group here so that's again bootstrap and
this button group allows me to create a
button which will act as a drop-down now
this button here should get the class
button button primary and button access
as well as the class drop-down chaga and
I'm using a mat which is a plugin which
allows me to quickly create all my
elements like this just by typing them
with the like you saw and that hitting
tab to create a readily configured
element and well this will be my
drop-down button just give it a label of
action make it of type button and this
looks good and I also want to have
another bootstrap thing your I want to
have this little down pointing arrow
which I get with this spammed class
carrot here curry I don't know how it's
pronounced so
this will just be the error pointing to
the bottoms to indicate that this is a
drop-down button so that's all bootstrap
and you can copy that right from the
bootstrap page by the way so that's my
button here and of course I also need to
define what should be the drop-down so
drop down menu here and here I'll then
have list item with a link and I'll add
those links later in the series
and basically I want to be able to
either reduce the quantity by one or
remove all so that are just some quick
links in my shopping cart
to quickly change the amount of a
certain item or get rid of it entirely
so that's that the next part is now just
copy all of that but then strip out
everything the whole unordered list just
have the row in the columns so the next
thing is I want to have a total price
again with a strong tag this should be
give me my total price then copy that I
have another line where I want to let's
first say we have a horizontal line here
with the HR tag and then I want to have
a line with a checkout button so this
will be a button off type button and
with a class of button button success
check out and that didn't work the way
it should no not a problem so I'll add
it by hand type button and lastly I'll
have another part on this view here
where I want to be able to say no items
in cart because you might click on
shopping cart when it is empty and of
course I'll wrap this with some if
conditions later on to only show the
right portion good so that is the view
and with that I can create a new route
in my index.js file so I'll create it
here route forget and I'll just name it
shopping cart
half the well-known function here and
I'll first check if I do have a card or
to be precise a check if it is not set
in a session because in this case I want
to render the shop shopping cart view
yes but I'll pass products to be null
so that will later be that what I
checked with my if condition to know if
I actually do have products in my cart
or not if we pass this check so we seem
to have a cart then I'll create a new
cart off the card stored in my session
and of course the card should be
existing here since I checked if it is
set and then I'll also render this shop
shopping cart view here but I'll pass
some things as arguments I'll have my
products which should be using my
generate array method so I'll get a list
an array of my product in the cart of
the product groups to be precise and
I'll pass my total price as cart total
price of course and that is all I need
in my cart
so with that the route is set up and I
can try this out if I restart my stirrup
and I head over there reload my page and
I click on shopping cart this one worked
because maybe I should also go to my
header and wire this up so here I'll add
the link and I was naming this shopping
cart right so let's save this reload
everything click on it and we see the
shopping cart though of course only with
our dummy text not the real shopping
cart so I'll take care about this next
to add items to our shopping cart and
now
only display those dummy well text and
and items here and so on
I need to do some extra steps so I'm
already retrieving all my data and I'm
passing it to this view but I'm not
displaying it here of course that
shouldn't be the hardest part right so
I'll go back to my shopping cart view
but the first thing I'll do is I'll
check if I have products because just a
second remember that in my routes fall I
was passing products be null if we don't
have a shopping cart so if we have
products here then I know we seem to
have a shopping cart it's not null
otherwise and that's why I'll have an
else statement here well I'll do
something else so the part if we do have
a shopping cart is of course this code
so I'll insert it here and I'll only
display this part here if we don't have
products in our shopping cart so that's
great and now also need to loop here in
my unordered list I'll do this with a
each loop of course products so loop
through all my products and I will trade
a list item so it lists entry for each
product then I can access the quantity
of each product and remember product
always means a group of that product so
the quantity will be the quantity of
that single product and so on I can also
access my title so this title or this
item title to be precise because
remember in my card here we have our
items that is what we're looping through
but each item or if this items thing
there again then has the quantity the
price and given the individual item
itself so that's important to keep in
mind so I'll have to access the item to
get the title
the price is available on my top level
on this items array itself so this price
I move that I'm filling out only product
specific or entry per specific data the
next part is of course down here where I
have my total price I want output that
as well and I can output total price
since I'm passing that here so since I
haven't changed any server-side code if
I now reload my shopping cart that looks
pretty good we see call of duty with a
price of 120 free items off it and if we
checked is 3 times 40 is 120 sounds
right if I add a new one and go back we
have 164 items all of warcraft 1 times
and so on so that is our working
shopping cart and if I now remove my
session again like that reload my page
if I go to shopping cart we see no items
in cart because now it's empty and if I
start to add items again we again see
them here and oh in order to get this
drop down to work here I'll still not be
to add something here forgot that
so back in your shopping cart view one
important thing I need to add to this
button here is the data
toggle attribute which will basically
tell bootstrap to well use the
appropriate JavaScript to make this
clickable and display it as a drop-down
so now if I reload here yes now this
works so that's the working shopping
cart with the working shopping cart view
and of course checkout is not included
we're not able to manage if you can't
click they were slayings but that'll all
things that do in the next step but the
first step here was very important we're
able to build a shopping cart to fill it
and you know the logic how this was done
and this of course is something you
should be able to apply to whatever
project you need something comparable so
I'll see you
the next videos and will show good day
bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>