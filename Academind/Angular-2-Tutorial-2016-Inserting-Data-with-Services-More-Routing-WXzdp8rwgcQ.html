<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Tutorial (2016) - Inserting Data with Services + More Routing | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Tutorial (2016) - Inserting Data with Services + More Routing - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Tutorial (2016) - Inserting Data with Services + More Routing</b></h2><h5 class="post__date">2016-01-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WXzdp8rwgcQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey back I am in the last vision we left
with our possibility of seeing our list
here editing our list items here and
navigating to our new contact page but
we're not able to insert a new contact
as if no we're going to change this in
this video a good place to start is by
setting up our form here I will
therefore copy all of the code here
because this is how we edit our contact
and creating new one is pretty similar
copying this here and I won't need tag
inputs here I also won't need the
two-way binding because we're creating a
new contact we're not binding to an
existing one and that's the basic form
but we'll also need a button cue
submitted create contact and if I now
reload we see this form but obviously
nothing is happening when I click this
button because it doesn't wire it up to
anything now when I click this button I
obviously want this contact to be
inserted and I also want to be navigated
back to this contacts list so that we
can instantly see that it was inserted
now let's take care about the insertion
first we will use our service again at
the moment we've got a method to get our
contacts now we'll add a new one to
insert a contact now obviously this will
take an argument of type contact so we
will pass a complete compact
contact there into this function and I
will use again my promise to resolve my
data source in this case the contacts
variable we set up here now as I
mentioned in the video when we talked
about services first obviously in a real
app you would probably somehow query a
server create a connection to a server
but in this case well our contacts
variable is the data source and we will
come to setting up a data connection to
a server using a restful server as a
data source in a later video
now here we're resolving our contacts
variable and once it is resolved we can
access it with that then function and
here we will our have our fat arrow
function which will pass an argument of
the contacts area we just got and then
we will use this contacts area and push
our contact on it so we will add our new
contact to the area that's that now
won't work still because it isn't viral
up at all back in our new contact I will
set up a click event on this button here
where I will execute it on add contact
method and I won't pass any arguments as
of now now set up this method down here
on add contact and here I want you
access my service and insert a new
contact now remember if we want to
access our service we have to inject it
in this component now to do this I'll
set up my constructor here and I will
pass my contact service which I will
then automatically bind to a private
property so private contact service of
type contact service again automatically
imported for me here and then I can here
access this contact service and insert a
contact which I still have to create for
testing purposes I'll create a dummy
contact here which is basically just a
contact object which has a first name of
dummy a last name of contact and I won't
pass a phone number or email as of now
so pass the STEMI contact here and now
this won't work because if I click this
mmm the app is somehow broken
why could it be broken because we're
injecting the contact service here in
our constructor but our component
doesn't know anything about this service
so we have to set up our providers
metadata data here and array and here we
specify that we want to use the contact
service saved us reload and if we now
click create contact go back to our
contact list we can see our dummy
contact here now obviously we don't want
to inject them in contact we want to be
able to create a contact ourselves
because at the moment if we enter
anything here and create it it always
chance create systemic contact obviously
because this is the only thing we're
passing here now get let me get rid of
this dummy contact here and instead I'll
create a real contact last contact of
type contact and this will then be
obviously an object where I have a first
name of anything a last name anything
phone and email and then I can pass this
here now this data should be passed to
this method here so I have my first name
my last name my phone and by email and
then I can replace this quotation marks
here with the respective arguments or
parameters we're getting in this
function phone and email now to add or
to pass these arguments I'll have to do
something here in my template because at
the moment I don't know in which input
element which argument is passed or
embedded so to do this I'll give each of
these input views here a local variable
recall that we do this by adding a
hashtag in front of the very variable
name the first name last name e phone
and email
and then I can pass the data to my
method now if a word you pay pass the
full variable like first name then this
would not work because first name is not
only what we enter inside this input
element but it is the whole input
element so everything all configuration
or styling attached to this element so
in order to just pass the value I will
access the value property so first name
value last name value phone value and
email value now this method
hopefully looks a bit complicated to you
because well we have to pass all these
variables here and we have to have a
method which takes all these variables
here and here is a comma missing I see
and if we add a new input field we would
have to add it here and we would have to
change our method here and every change
would be very very complicated and if we
add validation it would be difficult and
who not really the kind of thing that
makes a lot of fun angular to has a
powerful form package so to say built-in
where we have a lot of methods and
functionalities to use in conjunction
with forms so this is the most difficult
way we could do it but as this is this
video focuses on how we can create a new
contact with the service and how we can
route back to our contact list I will
have an extensive forms videos coming up
obviously as this course will cover all
the basics of angular 2 I will talk
about forms in future videos but as of
now let's do it this way and then we
will find unit in future elections so
now that I pass this I save this and now
let's let's edit let's add a test
contact here let's call her Monica
Monica Arafah I give her a some random
phone number and Monica at gmail.com
create this contact and well that looks
pretty good to me let's create another
one like June Ober number number here
and June add yeah create her ok well
that seems to work great now the last
fingers I don't want to have to click up
here I want to be taken back
automatically when I click create
contact so to do this I will somehow
need a possibility to trigger this
routing out of this on add contact
function here and I can do this by
injecting the router into this new
contact component and then I can call a
method on the router object which is
called navigate which allows me to to
trigger a routing action so to say which
allows me to redirect the user to
another page even though he didn't click
any link to do this island check the
router here into my constructor private
router automatically bind it to the
router property here router again very
important make sure that you got this
import here and now I can call this
router navigate and now this navigate
method takes an array as an argument and
this area can contain different
configurations or some Artem ya
configuration to this routing action so
to say in this case we only need to name
of the route we want to navigate you
which if you can look it up here in our
app component has name contacts that's
the contact list so I will just enter a
string here contacts save this and let's
try it again add Monica here or buries
Monica at gmail.com again I got no
validation going
on here remember that we'll fix this in
a future with you create contact and
we're taking back now if you're a
careful watch sure there might be
something you feel a little bit strange
everybody why does this work I inject
the router here but I'm not setting it
up here the contact service wouldn't
work if I were to delete this why does
the router work the router works the
router can be injected because we're
setting it up here in our boot strap
method in our booty ass file we're
providing the information about our
router providers which are then injected
here the first time or used the first
time in our app component so the router
is something where inject more we're
setting up here on the top level in our
app component if we would not have this
here besides the fact that our whole app
wouldn't work we could not use it here
or two because angular 2 has a
dependency injection hierarchy which
basically means if a top component knows
how to inject something a component
nests inside it so a child component is
also available to use this injection
that's very important that you are aware
of this injection hierarchy so the
contact service has to be provided here
and in our contact list because these
two components are siblings they are not
in a child parent relation and that is a
very important thing to know that we get
this injection hierarchy thing going on
and angular at you and that's why this
doesn't work with the router here even
though we're not setting it up here in
our providers metadata so that's
everything I want to cover in this video
and next with you we'll have again a
look at routing and we will have a look
at
passing an argument with around so for
example if you were to have IDs on our
contacts and we would want to look up a
specific contact with a specific ID then
we could use a route where we pass this
ID and we'll create some kind of thing
like this in the next video see you
there bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>