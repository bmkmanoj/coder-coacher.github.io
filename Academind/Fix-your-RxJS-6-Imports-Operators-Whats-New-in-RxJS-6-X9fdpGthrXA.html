<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fix your RxJS 6 Imports &amp; Operators - What's New in RxJS 6? | Coder Coacher - Coaching Coders</title><meta content="Fix your RxJS 6 Imports &amp; Operators - What's New in RxJS 6? - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fix your RxJS 6 Imports &amp; Operators - What's New in RxJS 6?</b></h2><h5 class="post__date">2018-05-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/X9fdpGthrXA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">our XJS version six is out and whilst
Israeli is worth an entire video since
angular six uses it by default this will
actually affect quite a lot of projects
our XJ x6 introduces a lot of breaking
changes though most of the time you only
need to change two things to make it
work again and if you really want to
save time
you only need to execute one command to
make all your old code work how this
works let's have a look in this video
so before we dive into any of the
breaking changes rxjs 6 introduces due
to a change project structure and so on
the quick fix you can run in any project
which you're updating to rxjs version 6
so for example in an angular project
which you're updating to angular 6 which
needs rxjs the quick fix you can run is
npm install' - - save rxjs comp at this
extra library makes your old code work
so with that your old imports your old
usage of operators this all should
continue to work fine you don't need to
change anything in your code and it
doesn't even add a lot to your bundle
size so you're not even bloating your
code a lot this ensures backward
compatibility and all old code shouldn't
require any changes so this is a great
first step you can do so that you can
then smoothly update step by step and
you don't suddenly break your entire
project but why does it break at all so
what did really change our XJS 6
introduces two very important changes in
the end the first one is a changed
package structure internally they
reorganized things to make the bundles
smaller and also to make imports easier
therefore we basically have to update
all our import statements and how we use
operators because they also embrace
another new concept pipe pipe herbal
operators this allows us to use the
operators a little bit different than
before also to improve usability and
bundle size and this also led to some
operators being renamed why well you'll
see that in a second so these are the
two important changes an internal change
in the project structures are to say in
the package structure and then the
exports and therefore in the way we have
to import it and these pipeable
operators now let's have a look at how
this actually affects our existing code
and how we can easily update without
that command I showed you because that
of course is the quickest way let's
start with the changed imports in
general in the past you had imports
like this import observable from rxjs
observable or import subject from rxjs
slash subject in the future you'll just
have import observable subject and so on
from rxjs no slash something for
operators you typically used import rxjs
slash add slash operator slash map or
rxjs /rx if you wanted to import
everything now in the future you import
operators separately with import map for
example from our extras slash operators
so this is very similar to the first
update where you import observable from
rxjs you get a second import destination
slash operators and you get your
operators from there now if you have
observable creation methods like from
promised in the past you used import
rxjs add observable from promise to
patch this function into the observable
um object so to say in the future you'll
import from promise from rxjs
so from the same path where you import
the observable and then you execute it
just as a function you don't edit your
don't chain it to the observable object
but we'll see all this in a second
so the general important thing to take
away is you got two new import
destinations from our extras and from
rxjs
slash operators speaking of operators we
get pipeable operators now which simply
means that this will become this so not
only do the import statements change
here as I just explained on our
observable some observable in the past
we chained all these operators map
trottle and then we finally subscribed
in the future with rxjs six and higher
we use that special pipe method on the
observable and that method takes an
infinite amount of arguments where each
argument is simply an operator function
so here we add map fraud land so on as
arguments and these operators continue
to work as they did we just add them
like this we don't chain them to the
observer
in the end we still subscribe now due to
these type of operators some operators
needed to be renamed because they
clashed with reserved words and
JavaScript because we're not calling
them as methods anymore they're now
normal functions so they must not be
named like JavaScript keywords therefore
du becomes tap because do is a reserved
keyword and JavaScript catch becomes
catch error for the same reason well all
these operators were renamed for this
reason in the end switch becomes switch
all finally becomes finalized and not an
operator but a method which allows us to
create observables throw which we could
also change to the observable object in
the past becomes a standalone method
like all observable creation methods and
it's now throw error because fro alt is
a keyword with that let's see how this
works in code how can we actually update
an existing project to rxjs X here's an
angular project but of course this
effects any project using rxjs 6 but in
this angular project in my app component
I have some valid rxjs operator and
observable usage that would have worked
in the past we're doing HTTP request
with the angular HTTP client we get back
an observable therefore and we first of
all map to extract our data and well
change its structure then I use catch
and finally I subscribe instead of map
you could have also used merge map I
just added this year so that I can show
how this is renamed so this is the old
way of using observables and operators
and here are the old imports now as you
can see my package star Jason fall I'm
using angular 6 and I'm using rxjs
version 6 release candidate here but
still version 6 therefore if I run ng
surf and I try to bring up my
development server I get DC live warning
but we can't ignore this more
importantly is that when it tries to
build my project it will fail and it
does fail with cannot find module error
rxjs compatible now this
is thrown because I'm using the old
import styles here and by default the
rxjs package tries to find that compact
package so that you don't have to do
anything but install that package to
make that old syntax work so what we can
do is can stop that server and run npm
install - - save rxjs - compact and this
will install this compatibility package
once we had entered this we'll well
download and install it and once this is
done we can run ng surf and now it will
compile an our entire project and bring
up that development server and it will
start without errors
now once did start we can load our app
and indeed it works ass before these are
the blog posts loaded wire D angular
HTTP client and handled through
observables so this is the quickest way
of getting our old code to work now we
get an error here for fro because this
was actually renamed but as a chained
operator this still works so we can
ignore this error but let's now update
to rxjs 6 without using that compact
package though I will note that using it
is absolutely fine doesn't add a lot of
size to your bundle and makes your code
work so definitely a great in-between
step and a great step in case you got
some code you just can't get to work
otherwise but let's now get rid of it so
I'll quit my server here and I'll run
NPM uninstall safe rxjs comput simply
just to remove it both from my package
to JSON file and from the node modules
folder and therefore if I run ng serve
we'll be back to getting an error of
course
now let's update our code NQ work again
do not have this error anymore and for
this we first of all need to change our
import observable for example is
imported from just rxjs without slash
observable now this is also not needed
anymore
this way of importing operators now this
previously imported all operators so
this was an option to dis syntax anyways
but this although is not needed anymore
and will directly import the operators
but we have to
the different syntax for this so now we
simply import the operators from rxjs
operators and from there we import map
in our case because that's really only
the operator we're using we also get
throwin off but these are simply ways of
creating a new observable so we import
them from rxjs
off and fro error is the new name
actually so this is also a renamed one
because fro just like Kachins on is a
reserved keyword now we can get rid of
these imports too and now this is our
updated import syntax now we need to
change the way we use that map operator
we use pipe instead and there we just
pass this map function without the dot
because we're now not calling this as a
method it's now a function we passed
this map function as an argument and if
we had more than one operator we would
simply chain it thereafter so if we were
also using the tap operator we would put
our tap code here as a second argument
and the pipe method we of course would
have to import tap too now catch
actually is an average which we need to
import so that was missing so let's
import catch and this was renamed to
catch error as I said so import catch
error from rxjs operators and with that
we also do change this here after map we
have catch error and we got our error
here now observable throw is not correct
anymore
it's just throw error like this and with
that we can now safely subscribe here
merge map if you used it would be smoosh
map add it to the pipe chain here with
all that now we can save that and rerun
our development server and now it should
work because now we updated the import
paths and we're using the new pipeable
operators and this does indeed look good
if we reload it works as before and a
very open the console we also don't see
any errors there so now we updated this
project to rxjs 6 with the quick way the
rxjs compact package or by changing the
imports and by using pipe flow operators
as you
so this wasn't too difficult either was
just some extra work but in the end the
upgrade path is really smooth not too
problematic and I hope this is helpful
and helps you upgrade your next angular
or whatever project to rxjs six</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>