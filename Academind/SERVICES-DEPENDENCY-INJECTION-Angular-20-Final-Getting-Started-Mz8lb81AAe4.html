<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SERVICES &amp; DEPENDENCY INJECTION - Angular 2.0 Final - Getting Started | Coder Coacher - Coaching Coders</title><meta content="SERVICES &amp; DEPENDENCY INJECTION - Angular 2.0 Final - Getting Started - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>SERVICES &amp; DEPENDENCY INJECTION - Angular 2.0 Final - Getting Started</b></h2><h5 class="post__date">2016-10-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Mz8lb81AAe4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so until now we already built a lot our
application now looks like this which of
course is not how it looks in the
beginning or what we want to reach at
the end and also we can't really add
something to the collection all we get
is this alert and this red button
doesn't do anything we also don't have
routing it might look like a lot is
missing but actually we're on the final
steps to finish this application now I
want to focus on being able to actually
add something to the collection for this
I'll add a new concept which we haven't
seen yet as service a service is
basically a class which can be used by
multiple components we can use a service
for multiple purposes for example to
outsource some code which you want to
use in multiple components or as you
will do here to manage our data in one
global place where then multiple pieces
or spots in our application have access
to you so this is how we can use such a
service and I will create a new shared
folder since it will be shared by both
my collection component and the market
component so whereas normally you try to
structure your application by feature
sometimes you have to put something in a
shared folder because it really is
shared so how do you create a new
service we could use two CI for this but
as creating a service is really really
really easy I will create the file on my
own any shared folder
I'll give the file a name of collectible
dot service dot TS to follow this naming
convention that we have the name of the
thing we have in the file first then a
description of what we have here a
service and then of course the file
extension so this will create a new type
script file for me and in this service I
will export a typescript class to make
it available outside of this file -
named collectable service so this
already is a service a normal typescript
class it doesn't need any deck
by default this is what we can use as a
service I will show you how to use it
soon as already said I want to use this
service as my global data repository
therefore I will take my collectibles I
have here in the market component and I
will now store them in this service so
here I'll treat a new private property
collectibles which will be well this
array has just copied out of my market
component of course I'll soon create a
way to now get these collectibles from
the service into my market component but
before doing this let's consider
improving our application here a little
bit this would work it worked before but
since each collectible here has the same
structure a description and a type it
would make sense to kind of create a
blueprint for this kind of our own type
which we can use and type script here to
make sure that whenever we use such a
collectible we know that we have these
two fields available that we get an
error if we try to introduce a third
field or forget one of these fields for
that I am going to create a model and
that is something you'll see a lot in
applications here I'll name it
collectible model dot TS and in here I
will basically define how such a
collectible should look like so here I
will export this class collectible
uppercase beginning with the uppercase C
at least and in here I simply want to
define how it should look like I do this
by adding two public properties the
first one is named description and
should be of type string the second one
is named type and should also be of type
string and then I'll add a constructor
where I am able to initialize them so
here I'll get my description as as a
parameter which is of type string and my
type which is of type string and here in
the constructor body I assembly a hook
my properties up with these parameters
like this so what it did here is
basically create a typescript class with
two properties and a constructor where I
initialize these properties if that is
all new to you I recommend having a look
at some basic types of resources this is
as you also use classes with a lot of
other languages though so if this
collectable class created I can now be
more explicit about this private
collectibles property here I can assign
a type to it and I can say that this
should be of type collectable array now
for ders you need to add the import to
your collectable model here from
collectable model but with this I now
make sure that I know for sure that this
array will always hold an array of
collectibles
I can't mix in any other object this
will give me this will give me better
IDE support regarding order completion
and it will also prevent me from
introducing some nasty bugs so with this
setup it's now time to also work on a
way to get the data in this service back
into the market component right now I
have my collectables array here but
let's remove it now well now all of a
sudden if we save this our application
will work but once this reloads we'll
see that our market is empty certainly
not what we want instead we want to get
this data from the service and to be
able to do so I'll add a method I'll
name this method get collectibles and
all this method should do is return my
collectibles array here now with this
setup I can go to my market component
and now I'm going to use the ng on init
method here this method is executed when
angler Q creates this component it is
executed once all properties are
initialized so here it is safe to assign
values to my properties therefore I'm
choosing this place to use my service to
get the data but in order to use my
service I also need to have a
stupid now getting access does not work
by instantiating here you could think
that I would simply run new collectable
service this is how you instantiate
classes interpret in the end well we
could do this but Anglet who has its own
dependency injector now this is kind of
a framework in the framework for
handling the creation of instances of
classes we need in our application we
already use it since we are using
components which are automatically
created by angular 2 but we can also
tell Anglet you hey when you create this
component here I also need to get access
to this service and here we kind of use
the Engla to magic we can do this by
simply adding a property in the
constructor here so I will write private
collectable service and this is just a
shortcut to automatically create a
property and initialize it with that
value here so if I add private it will
do this for me create this property
automatically and assigned a value so
here this and now the important part
comes I set the type to collectable
service which I also need to import at
the top of this file therefore with this
setup angular 2 will recognize that once
it creates this component hey the
constructor needs an additional argument
it has a look at this argument and it
sees collectable service so now it tries
to create an instance for us and give us
this instance which is a good practice
to do in this way as it keeps your code
cleaner and easier to understand
it also offers our advantages I'll come
back to this so it tries to create this
collectable service but it of course
encounters an issue as before with the
selectors of components for ejection
it also doesn't scan all files in our
project
that would again be a real bad
performance hit therefore we have to
tell about you which parts of our
application should you be able to create
when we want them in the constructor
like this we do telling that you either
directly here in the component by adding
the providers array and adding
collectable service here or in this case
we would get an instance exclusive for
this component and all its nested
components or we go to app module and
added here collectable service this will
also result in english' being able to
create this service for us but now it
will use what at the same instance for
our whole application whereas before if
I added it here we won't only have an
instance for this component and its
child components this is another
advantage of the injector we can choose
if you want one instance for the whole
application or only well the instance
for this component and child components
what's the advantage especially here
where we manage our collectables and
later on our collection in one service
we definitely want to have to save
instance all over the application
otherwise if we would have two instances
we would have two different collection
objects and our application would not
work as intended
so a lot of talking but this is
important to understand
dependency injection really is important
and I got our videos on this channel if
you want to learn more about it with
that setup we can now finally go to ng
on in it and here we can set this
collectibles so this property in this
component equal to this collectable
service get collectibles now with this
in place if I save this and let this
application recompile one's reloads you
see the components already collectibles
are back
I can still click on the buttons but now
we're managing managing the data in a
sir
which is a common pattern you will see
and which we will need when we as a next
step also add a way to pass them to our
collection and create a collection
finally</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>