<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ReactJS Basics - #15 React Router - Route Setup | Coder Coacher - Coaching Coders</title><meta content="ReactJS Basics - #15 React Router - Route Setup - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ReactJS Basics - #15 React Router - Route Setup</b></h2><h5 class="post__date">2016-09-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eofpZPRUnP8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to a new video we learned a lot
about
react.js in the last couple of videos at
least I hope so
and there is one thing where we haven't
really dived into deeper I'm not talking
about Redux that will be the next series
i have upcoming on this channel but I'm
talking about routing if we want to
build a single page application with
react chairs we need a router right
because then we want to have all the
page changes all URLs entered by the
user or created by clicking a link we
want to handle all these paths all these
routes with reaction yes and not with
our server right therefore we need a
router to be able to load pages
depending on the URL and reactions
actually has a router or there is a
router package available for reactions
it's called react router so in this
video the goal is to add this router and
to implement basic navigation with you
react router so let's start in my
workspace here I will install the
reactor out room and I do this by
running NPM install - - safe and then
the react router just like that that
will download do you react router and
install it as a production dependency
therefore a new package JSON file we
should see the react react router here
with that installed you see well I get a
couple of files already in this project
and of course you can find the finished
source code available in the video
description and yes you would need to
strip out all the router related code to
be me well same position as I am here
right now but basically all these files
here are very very simple and
if we have a look at the index touch as
file you see that I'm loading some route
component and that I pass an average
component as a child to the route
component so let's have a look at the
route component first the route
component is basically chest component
which uses seven bootstrap classes or D
bootstrap grid and implements a header
and then whatever I pass as a children
or as child excuse me so in this case
and passing the home component as a
child
therefore the home component will be
rendered in this place now what is the
home component what that is a component
which only says hope wrapped in a div
and the hatter component which you can
also see the route component all the
header component is a very basic
bootstrap or very basic navigation bar
using bootstrap classes so it has this
nav element with sub-woofer classes and
then it has two links which you won't
work as of now and then finally the user
dot Kaos file the user component here
that's a common component we're
currently not using but we will use it
in with route later on well that only
says the user page and then I want to be
able to output some parameters here a
parameter passed with the router so
that's just some basic setup for our
basic routing video here so let's start
the first step is to set up the router
in the index.js file so in the route
component of our whole application in
the app component in this case here in
order to use the react router here I
need to import it I need to import some
packages from it let me just change this
to be
double quotation marks to stay
consistent so here I want to import
react router and then the question is
what do I want to import from the
reactor outer here right well I want to
import the router and I will also need
some routes and I will need a couple of
other import to which I'll come back
soon with these two imports added what I
can do is I can delete this code here
for now and instead I want to return the
router and the cool thing about the
reactions router is you can set it up
just like these this just like well HTML
elements are just like components you
could also set it up in a config file
and write it in a kind of array way but
that I think is the most visual and well
easy way to create the routing so I set
up the router here and then between the
opening and closing tag of the overall
router we define our routes just like
that now that would be a route now the
questions which route should this
application half and we could say that
we want a user out at a home route and
actually I can use a self closing tag
here so let's create such a route and we
do this by adding the path attribute to
a route that says which URL do you want
to handle with this route at the URL I
do want to handle and we use single
calling braces for that is d let's say
user that would be slash user at the end
of your URL and then I duplicate this to
also Hamel slash home let's say and yes
you could leave out the single calling
braces here since we have a string but I
like to stay well consistent here and
always use them so with that we have two
routes one would be localhost 8080 slash
user
would be a little gloss 8080 slash home
now we have to pop but we also need to
tell the router
what do you want to do whatever we reach
just route so what component should get
loaded and I want to load the user
component in the case of the slash user
out here and there of course I also need
to import user from components user here
and I want to load the home component
here when navigating to the slash home
path so that's our basic setup with d2
routes and I will change this soon but
for now that is well how it should look
like however there is one other thing I
want to add the way the URL should look
like I just said that I want to have
localhost 8080 and then slash user or
slash home that would be the URL style
you know and you expect which looks
beautiful and so on and that is the
style we use nowadays but a couple of
years ago and that sounds much longer
than it actually is you still see it
today a lot you just use this hashtag
style which means you had a route like
let's say a local loss for example calm
and then you had hash tag and then you
had user for example and the hash tag
here was important for front-end
applications or for single page
applications because it told the server
that the server should only handle this
part of the URL and then the single page
application so your JavaScript code
would handle everything
after the hash tag now why is that
important the reason why that is
important is that what happens whenever
you enter a route in your URL well the
server handles it first right because
the server zone always gets the request
first that's just how the internet works
so if you had a route like that
example the cop / user and your server
doesn't have the drought because most of
the time it wouldn't as your front and
application should handle it it would
give you a 404 error which means doesn't
work don't find route now in recent days
today we have the html5 pushstate which
enables the browser to work with urls
like this and not send requests to the
server if you're already in an
application but if you want to access
such a route from outside of the
application so which means you hard
enter it into the URL bar and wizard it
then you would still send the request to
the server which means your server needs
to be configured in a way that it sends
back the index dot HTML file in a 404
error case because that would then allow
the front and application to pick up on
this route again and handle it so why am
i flatting you with all these strange
explanations about URLs the reason is
because we have to decide which URL
style we want to use on this router we
could use the hash tag style to well be
able to use deep links or hard entered
links in the URL with the hash tag and
don't have to worry about sending you
write error document or we could use the
more beautiful style which we want to
see and which is supported nowadays by
browsers but where we need to make sure
that our server sends the index.html in
a 404 error case I will get with the
latter approach in order to tell the
reactions router that our URLs will look
like this with just a slash and no hash
tag I need to import browse history
browser history year and then on my
router I set history equal to browser
history now this name might sound
strange but keep in mind this is
important for the browser
basically tells browser or business
chest a feature supported with html5 and
by modern browsers that be well then
when were inside of the app which means
you click a link link in our app the
browser handles this correctly and stays
in our app and doesn't reach out to the
server so therefore we tell the browser
how to manage history if you the history
of routes or of URLs if you want to see
it like this so long story short we add
this to get the beautiful localhost /
something URLs and if I save this the
question is what would we expect to see
I got my web pack server running already
and if I go to my application we see
nothing now if I load it we see that the
location slash did not match any routes
so we have to enter slash users for
example right because that is or slash
user excuse me what we set up but then
we get the strange cannot get slash user
here now the reason for that is we get
an 404 error as you can see that our
browser our server excuse me the web
pack def server is not configured to
handle this style it gives us a 404 F
404 error and doesn't send us back to
index dot HTML in such a case remember
that's what I was just talking about the
server has to request first and it needs
to give us back our index.html to let
our front end application handle this
route so we have to tell web pack that
we wanted to behave like this or we have
to tell the web pack server that we
wanted to behave like that we can tell
it by going to the packaged up jason and
here where we in the bold step here
where we launch our server
I'm adding yet another configuration to
it it's called history API fallback and
this sounds strange but it tells the web
pack dev server that we want to use this
browser history
well API remember history that's also
what we saw here browser history
so with the added why then relaunch my
server with NPM start and reload this
page we now see the user page so that is
exactly the component I have here and if
we enter slash home well then we see the
home page so notice that the header is
gone and I will come back to this in a
second but routing works though only if
we entered URLs ourselves at the moment
and I'll just set the header disappears
so let's have a look at both issues or
how we might fix that I want to start
with the disappearing header and the
reason for it is clearly yes well if we
have a look at our a next chance we have
two routes user and home and that just
means load this component but our header
is included in the root component which
is never loaded since no route leads to
the root component we have only routes
to the home component and the user
component so what we need to do instead
is we somehow need to load our root
component and then have sub routes on
that root component where we decide what
should get entered here as children
right so we need to adjust our routing
therefore and keep in mind that is just
one example here you can also have
applications where you have some
like let's say a slash route and then
some other routes but here what I will
do is I will change this to slash indeed
load the root component if we save this
and have a look and go to localhost we
see now we have the header again but
we're nothing loading we're loading
nothing down here because what we only
load the root component so I need to
create some sub routes which defines
what should get loaded inside of this
root component in this children place
and of course you can only have sub
routes so nested routes if you have such
a hook here where you can then render
the sub routes or the components loaded
free sup routes so in this case to
create sub routes you simply change this
from being a self closing tag to have an
opening and a closing tag and then you
nest the routes you want to nest inside
here so when route I want to have is
let's say the user out here cell you
could just say user and that can be a
self closing tag again and then here a
one to load the user component I'm
duplicating this because I also want to
load the home component which would be
home and all these paths here by the way
are appended to this path so in this
case the path is only slash so we will
still only have slash user but if we had
slash route here well then the path to
this route here would be / route slash
user and you could also leave out the
leading slash here but I only want to
have the well root URL just the slash
after localhost and then these two
nested routes here now if I say if this
go back to my application and I enter
slash user not users just user well then
we see we get the head
and we get the user page now load it in
the place of this props children here so
if I even add horizontal lines makes
clearer you see that this gets loaded in
this place where we load the children
and that is what you react router does
automatically for us it finds this hook
and loads the component off to SAP Road
suppress up route in this place notice I
still get home you which would indeed
lead to some problems because if I enter
home here we load home in this place so
we never reach this route here which
would also have the same path of slash
home the reason for this is that we
handle slash home here and the ordering
does matter so here if I had a route
like home single to indicate that this
will not use the route component well
then that would still work but now the
header is of course gone again so with
that you got all the routes set up here
but there are two things I need to
change I want to make these links
working and what happens if we just
navigate to slash well then knows SAP
route is loaded I want to load a default
component in this case some default
route let's say if I navigate to
localhost like this I want to load the
home component just like if I were to
navigate to slash home I'll take care
about this problem first in order to
load such a default route I add a new
route to my slash route here and I need
to import this actually it's called
index route which means this is like an
index page on our server where we always
always load the index of HTML if we
navigate to just slash or just the
public folder well there's a sea route
which will always get loaded if we have
no specific path after the slash in this
case here or whatever
our path of the root component here is
so I will create the index route here
self-closing tag I don't need the path
because again the path will be this path
it's the default route but I will need a
component of course and I want to load
your home component as a default with
that in place if I go back to just
localhost you see we now also get the
home component as we do if I go to slash
home and if I go to slash user well then
we load to user page so that's all where
I can find the missing thing of course
is that it would be nice if these links
your work and thereafter I also want to
have a look at passing and using
parameters so that's what I'll have a
look at next</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>