<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Storyblok Live Preview! | Nuxt.js &amp; Storyblok - Building a Complete Blog | Coder Coacher - Coaching Coders</title><meta content="Storyblok Live Preview! | Nuxt.js &amp; Storyblok - Building a Complete Blog - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Storyblok Live Preview! | Nuxt.js &amp; Storyblok - Building a Complete Blog</b></h2><h5 class="post__date">2018-03-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Yq6Ddu_QAiY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back to this video now in the
last video we connected our next front
end to our story block back end
story block is a content management
system in this video I now want to
ensure that we can actually edit our
page right from within story block that
we can click on our blog post and even
click inside of them to open up this
editing interface and even safe there
and get a life update in there so that
we can do all the content editing from
inside story block this is a huge
feature they offer and it's especially
useful if you're working with other
contributors who are not developers but
who still should add content so this is
really great let's dive into all of that
in this video
to get started with editing our blog our
page in a nicer way we go back into our
code so this is the project as we left
it and let's now start with making a
single blog post editable now for that
all first of all console log response
data in a Singh data there so that we
can again have a peek at what we're
actually getting back from the server if
I now open a single post here's my
console lock and if I expand this a bit
here's all the content we get back from
story blog we got our content with our
post content and now there is something
interesting
do you notice this editable field here
this is not something we added but it's
a crucial part when it comes to making
this edible in this review mode story
blog seems to offer to us now how do we
use it actually it's super simple let's
add a new directive to our entire post
it's a directive story block next gives
us so you remember it's this module we
installed this automatically gives us a
nice directive which makes this easy now
if you're not using next or you don't
want to use that package you can also go
to the official story blog page click on
tutorials there and actually right now
it's on the second page search for that
tutorial which uses view chairs and
there you find an alternative way which
won't work with just you chests and
actually they got a lot of tutorials a
lot of documentation on all kinds of
technology so that you learn how to do
this with vanilla JavaScript with view
and so on so here we use next so we can
use a feature this directive provided by
story blog next so back in our post page
we can add the ve editable directive to
the div which spans our entire post and
now between the quotation marks we need
to pass a reference to our content now
here we're getting the response and
we're extracting all the content
properties so here we could store it as
an extra property maybe name block to
tell her name is totally up to you
where I just store response data story
content like this now we can assign this
new block property to be editable if we
now go back to our page and reload our
single blog blog post we don't really
see a difference but now we can actually
go back to story block here and go into
a blog post in this case I'm in a second
blog post and now here I can ignore
these instructions which would work with
annelid JavaScript here you by the way
also find instructions for different
languages but we can ignore that we
already got everything set up here we
can now enter localhost 3000 and click
go and now this will load our local page
in there now this won't work because the
URL is incorrect we access the second
post adjust on localhost 3000 the second
post
there's no slash blog in between but
thankfully we can go to advanced here
and enter a real path which is just a
second post it's safe now you see it
updated here and now we see our post
here now that's nice but we're not
entirely there yet instead we should now
go back to our single post page and add
the normal mounted hook that's a hook
life cycle hook provided by view chess
mounted because this has to run on the
client it must not run on the server
they're created hook is actually also
executed by next on the server therefore
we use mounted and in there we now
access our view instance with this and
then story block not story API because
we're not making an API request but
story block is another object which is
injected by the next story block plug-in
or module and here we just call init now
this will initialize our project to be
live edited so to say now if we reload
our story blog page here we can actually
see some thin lines click on compose we
see now that post is wrapped
if I click on post we now actually see
that here on the right we can edit this
so I just clicked in there can even go
to edit and click in there and it will
automatically load this in compose mode
and if we had nested components there we
could even click these nested components
in there and start editing them now
that's nice already now we can add more
we can go to mount it again and besides
initializing this we can now also call
this dollar sign story block and then on
change this sets up a listener to
whenever we change data on the backend
and here we then execute an arrow
function where we simply say location
using a default JavaScript API reload to
reload the page and set true here to
force the reload with that if we now
reload that page here it sometimes
breaks you to write life reloading
you'll see something interesting if I
change the content it's really super
awesome and I hit save you see a life
updates here it updates the continent
here and that is of course pretty huge
because this now means that we can edit
things here save and immediately see a
preview and that of course makes working
with our posts much more convenient
because we see the result as it will
look on our final page and well we can
we even get life updating so that's
another very cool feature we can get
here when using the story block SDK in
this case the one already adjusted for
next but it works with any SDK no matter
if you use the vanilla JavaScript
solution and follow these steps outlined
there or if you use that solution here
now this works for the post page for a
single post page we probably also want
to edit the about page and we do with
exactly the same approach we first of
all also should get our block and I'm
just naming it like this because it same
story block it thinks in blocks of
stories so we get our block here we just
extract rest data
story content and store this in the
block property then we bind our entire
section here in case you're wondering
wondering by the way why I'm binding the
section and not h1 well I'm binding the
HTML element which wraps the entire
content I'm in the end outputting you
can theoretically add V edible to any
HTML element but only this element is
then clickable to bring you into your
editing mode so of course I want to wrap
the entire page here and I'm binding
this to block 2 and don't forget the
second step add mounted here and called
this story block in it first of all and
then this story block on change execute
this arrow function where we simply call
Riggle a location reload and force this
reload now with that we can save this
too and now if we reload here we got a
little error there's some missing
closing parentheses curly brace let's do
that now if I click on about here now
notice I'm still in the compose mode of
the post of a second post if I click on
about I'm still there but now if I click
into that page need to reload once
now if I click into that page here now
I'm actually in the editing mode off
that about page and here we can of
course also edit this all of us hit save
and get the life update this is pretty
cool this makes rick it with story block
really a lot of fun and really easy
although for for other people
contributing to your page now important
of course this in this case is running
on localhost theoretically you could
also host your development environment
your draft version your staging version
so to say on a real server entered the
real URL here and then your
collaborators from all over the world
world could see this right now only
people running development server see
this so with this we can edit this a
huge step forward we take advantage of
the editing capabilities now if you
don't want that visual mode you can
always go to the edit tab here for a
given element and switch from visual to
form only and then you got more space
for your forms because the visual
preview is now disabled this of course
can also be what you want maybe you
don't want to connect your front end to
your back end like this you don't want
that preview it's not an option for your
environment whatever the reasons may be
you can go back to form only mode but of
course you can take advantage of the
visual mode too if you want I hope this
is helpful
definitely play around with that our
block of course isn't finished though we
still need to do some cleanup work and
ultimately we of course want you also
switch out our draft version for the
published version and ship our published
version to your real server these are
all things we'll do in the next and last
part of this serious</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>