<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Tutorial (2016) - Forms using Angular 2 Formbuilder | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Tutorial (2016) - Forms using Angular 2 Formbuilder - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Tutorial (2016) - Forms using Angular 2 Formbuilder</b></h2><h5 class="post__date">2016-01-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/LyRgKQjsGa4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back everyone in the last video
we changed our form to actually use some
of the tools angular 2 provides us with
and to be able to easily validate it and
pass it to our contact list now in this
video we'll have a look at a different
approach of creating such a form using
the form builder let's dive into this so
what we did in the last video is we just
created a form in our template and
Anglet you automatically detected that
form and made it a form in the in the
background so to say so created a
control group out of it and attached the
ng form directed to this form invisibly
so to say that is why we were able to
reference it even though we never added
it explicitly then we added controls to
the form to tell angular well this input
here should be something which is part
of this form as is this by using the ng
Control directive and binding it to to a
name here we then used two way data
binding to automatically write all our
changes into this model or in this in
this object here which would then be
inserted as a new contact once we click
Submit that was the approach in the last
video and the key takeaway is the form
we created was all created here the
template and was automatically detected
and we're only specifying which controls
are part of this form but we didn't
create it programmatically now with form
builder we will create programmatically
now why would we want to do this well
this gives us a little bit more
configuration possibilities for one
thing we could create totally hidden
inputs we're wearing not even have a
hidden input future because we can add
any control to our form programmatically
we want even though we have no visual
representation remember here we're
controls with energy control therefore
we can only add what we have in our Dom
when it comes to validation with the
form polar we can quickly add different
validation logic so to say to our
controls and that is a bit easier and
more flexible than using this template
driven approach here so how do we create
a form with form builder first is the
form will be and a property of our
component so I create this property here
and I just call this my form which will
be of type control group remember that
the form the energy form is an object of
type control group so I of our form will
create here will obviously be one of
control group two now please make sure
you're always importing all the things
you need I know I don't mention
everything every single class I'm
importing here and this has a single
reason that my my IDE is automatically
doing that for me and oftentimes I don't
even think about mentioning it but you
should make sure you do this and when it
comes to this form related stuff you'll
find everything you need in the angular
2 slash comment package here or module
opposed to the slash core or the slash
router packages we were using before so
now we created our or we set up our my
form property we haven't created
anything actually the next thing we will
need is our form builder which is the
service people and checked into our
class and we do so by well just adding a
number private property here the form
builder which is of type form builder
this again is added to my imports here
and angular 2 is automatically able to
to resolve this injection without me
adding adding new providers here that is
important to know this as in the last
video we don't have to add any
directives or providers here this is
automatically possible by angular 2
to say just like we can use ng if and ng
for without having to add any directives
you know even though they are directives
if you think about it so that is the way
we add our form builder now for actually
building our form I'll go down here to
the ng on init function and I'll get rid
of the cavity currently half there and
then I want you take my form and set it
you well the form we build with the form
builder we do this with the group
function and this method takes a
javascript object where we describe the
yeah well the object we're binding or
form to so to say so the the input
fields it will have what controls in
general it will have and the structure
of our forms of our form now in this
case we will have exactly the structure
here we're binding to this model because
well we have these four inputs here
therefore I'll have the first property
or the first control which I create with
quotation marks and then the name and
the name should in this case equal the
one of our contact so it should be first
name camel case because this will make
it easier for us to actually create a
contact out of this form so the first
name will have a value of an array and I
will come back to this area in a second
now next I will create this last name
oops
name also with an array and then I'll
have my phone array and my my email also
an array inside this array the first
element will be the default value of
this input so for my first name it will
be empty but I could set any value that
I want and as I said this is only
created programmatically here so
that now that I'm in let me get rid of
this and all of that stuff here
and I get rid of that here at that and
that so now we have no visual
representation of our form because well
I'm I have no way of were angular2 has
no way of telling which of my properties
here should relate to which input here
we will do something about this in a
second but as of now be aware all of
these would be invisible so to say
because we have no representation in the
Dom so we could set a default value here
and pass it as an invisible value so to
say if we never add a representation
I'll let this empty and in a second
argument I can specify some some
validators and I will or I can generally
specify additional configuration that
will add validation here by using the
validators class here and then just
taking the required field again this was
automatically added here and now I'll
just copy all of that into each of these
arrays except for the last name where I
will set the default value because we
can get it from our out and this will be
route params get last name and if no
last name is passed this will
automatically be empty so now the whole
form is set and what I want to do is get
rid of this because at the moment this
won't work and what I can then do save
this and now we submit our form still of
unsubmitted here but what we now do is
we no longer longer need a new contact
we can simply insert this my form value
because the value of of this my form
object here of the control group will be
just a JavaScript object as we define it
here with these fields and
that is why it's good that this is
exactly the same as our contact because
now we can't just take this object and
insert it into our context because it
has exactly the same structure it's
exactly the same so let me save this now
create a new contact and as you can see
you don't see any last name because as I
said angular way has angular 2 has no
way of telling which input should relate
to which control here but if I click
create contact you see that it was added
here the same with black so it somehow
seems to work even though we don't see
it and that is because the form exists
we created it here the submit does work
we can submit this form value because we
got a default value here the rest is
empty it's required yes but we never
check if that should stop something so
this for now works but we can edit it
which is not the coolest way for forms
so let's add a way to to edit this form
as I said we create this form
programmatically therefore if on submit
is executed we can pass it though this
template here has almost nothing to do
with it the only thing that works here
at the moment is this this button here
and this ng submit and then well this
function happens to just take this my
form here and it works now but we want
to follow those forms up a little bit of
life here now as I said in the last
video it was the ng form was
automatically attached to the form was
automatically created and we created
controls by adding energy control here
in this case we already created
everything so we don't want angular to
to attach anything to this form and we
don't want to create anything in our
template here we just want to bind this
template to our programmatically created
form we do so by using the ng form model
directive with square brackets which
always signalizes us something is
flowing into this template into this
element data is flowing into it because
we're binding it to something
and we're binding attitude with my form
property here now this form is actually
this form and we can show this by adding
an argument to unsubmitted of my forum
dot value and now if I take this
argument here and then just pass value
here save it
we still don't see anything here because
still angular 2 has no way of knowing
which input should relate to which
control here but we still add this
context even though we're now not
directly accessing our my form but we're
getting the value from our form where we
are again just taking the value of this
property here and now this form here is
bound to this property so that's just
another way but now let's add these
inputs to our controls just as we found
the form to this my form property we now
bind our controls you no longer create
them you rebind our inputs to the ng
form control directive with this
directive you bind them to their
respective controls in our form object
here do this by just accessing my form
controls which is then an array of all
control controls in this form where we
then access the control we want to by
the two by its name so the name
specified here now let me just copy this
ng form control here oops and add it
here now here we'll have half the last
name you really have to phone and the
email save this and now if we click here
create new contact now you can see that
the data we were passing all the time is
now actually visible here and this is
red because now we know it's not well it
because now it is bound to a control
which has a validator now if you want
for example again disable this button
when the form is not valid
would do this by still adding the
disabled directive here binding it to
simply my form not valid or not well it
to be precise save this and now you can
see this is grayed out not working if we
want to add this not valid text right
after our invalid input field and again
add just a span not valid now I could
ever do ng F equals then just copy this
here valid and again exclamation mark
because it should be not valid this
would work as you can see another way
shorter probably would be to again add a
load variable first name and bind it to
again ng form because we still have a ng
form object here which just created it
ourselves that's the difference now we
can access this first name local
variable here as you can see it still
works so we're still able to set the
reference to our controls our control
groups and that hasn't changed what has
changed is that we now completely create
our form here and then we're just
binding things in our template to that
form and that is the key the key part to
take away here that in the last video we
had created for us or we created it in
our template by adding ng control
without square brackets which always
were square brackets always in this case
signal as that we're just biding it to
something we're not creating anything
here and in this video well we're
creating it programmatically and only
binding our template to us as I said
this gives us a little bit of additional
configuration possibilities and I really
like it a bit more but obviously it's up
to you which method to choose it will
depend on what you're using it for the
other words just
fine and this chest one as a set of the
tools angular 2 offers you and it's up
to you which two to use obviously so
that's the basic stuff about forms we
also have things like custom validators
like maybe subscribing to change events
and our reforms and so on we also
haven't talked about what happens if I
enter parts of this form and then hit
the back button maybe there should be
some kind of warning do I really want to
go back or do we want to stay on this
page so that are things we will have a
look at in the next videos too because
obviously they are also key of great
applications but mainly this is about
the basics and now we cover really well
the basics of forums with these two
methods we have here and we will have a
look at different other basic things in
the next video so see you there bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>