<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Laravel 5.2 PHP Build  a social network - Middleware &amp; Route Protection | Coder Coacher - Coaching Coders</title><meta content="Laravel 5.2 PHP Build  a social network - Middleware &amp; Route Protection - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Laravel 5.2 PHP Build  a social network - Middleware &amp; Route Protection</b></h2><h5 class="post__date">2016-02-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4ECNmNWFEBA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">everyone welcome back in this video
we're going to have a look at how we can
protect our dashboard or routes in
general from unwanted access because at
the moment no one is hindering us from
just accessing our dashboard directly
through the URL now we don't want that
to work how do we prevent this it's very
easy to do that angular2 has a concept
called middleware now middleware is as
lame say is something which is executed
in the middle of an request so when we
send a request to the server before we
are handling it in our route so in our
controller for example Anglet you will
pass it through all the middleware which
is specified for this specific route and
this middleware acts like a filter so
anglich you ships with a lot of
middleware in our routes file we got
this middleware web thing here now the
web milah where is just a bundle of
Milla wares for example which checks if
the CSRF token is set and so on so we
got a lot of default filtering going on
now we want to apply a specific
furthering to our dashboard route we
want to apply a filter which only allows
Lockean users to access this just does
few or this route now we could write our
own middleware this as possible and
laravel and this is quite powerful food
feature but we don't have to because
protecting routes through for
authenticated users only is a common
thing in web development that's
something you need a lot so Anglet you
say again laravel ships with those this
middleware by default and it lives here
in this middle aware folder under app
HTTP middleware we got the authenticate
PHP file
now this middleware here does exactly
what you want it cause our helper method
in the off the side or through the off
the safe to check if the person sending
this Rick
test is authorized or if it's is if he
is locked in if the user is not locked
in we ever get just a message text
message if we're doing an HX request or
if it's like a normal at request
we're redirected now I want to overwrite
this here I want to redirect to a route
namely the Welcome route so call like
that yeah no I will give this route a
name here my wall camera out and I will
name name it welcome or let's just call
it him Co this home route here will be
drought I will redirect you when we have
well if we're trying to access it and
when we're not allowed to so now there
is nothing else we have to change here
the only thing we have to do is hook
this route up in or this middleware up
at this middle where in our route file
now we do this by adding an error key
here another configuration to our
dashboard route which is called
middleware and then here we specify an
array of middlewares which should be
applied to this route just like level is
doing here in the grouping now we want
to use the off mullah where the strange
thing is why am I writing off here when
the file is called authenticate and the
class is called authenticate well
because in our kernel PHP file where all
of these Milla wares are managed
basically you see the web middleware
package and so on we got our route
little wares at the bottom of the file
and here all those middlewares receive
like keys we use in our out file so we
see that our authenticate will aware
which is the one we just edited is
assigned to a key called off that is why
I'm just using off in routes file I'm
accessing this middleware by doing so so
disco
and this little change here should
protect our dashboard route
let's check this and we'll again I will
reload it here try to access my
dashboard route and as you can see I'm
redirected back I'm not getting to my
dashboard route now let me try to login
I hope I remember my password let's set
up here yep and wait and now I'm logged
in and now I can access the set - we're
out because well I'm affected and
therefore this middleware lets me pass
that's how we protect routes level I
hope this video was helpful and I'll see
you in the next videos bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>