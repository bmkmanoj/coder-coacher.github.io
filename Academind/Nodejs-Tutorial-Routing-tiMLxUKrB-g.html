<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Node.js - Tutorial - Routing | Coder Coacher - Coaching Coders</title><meta content="Node.js - Tutorial - Routing - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Node.js - Tutorial - Routing</b></h2><h5 class="post__date">2016-03-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tiMLxUKrB-g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everyone welcome back to the next
part or nodejs series in the last video
we finished our second app so to say
where we actually rendered some HTML to
the screen now that is certainly closer
to a real website but still a little bit
away in this video we'll see how we can
target different routes so different
URLs on our page the user might wizard
let's check this out so I created a new
project here and I only created two HTML
files which will basically be the pages
to user can route you in next file which
just says well it works analog in a file
which says the login page now I also get
my server touch s but currently I only
got the very basics there it's not even
having the requests what I want to do in
this app here is I want to create a
separate JavaScript files where I will
handle the requests where I will do the
routing so I will create this file now
not just call it a purchase now in this
file here I will export a function which
should be usable in the server GS
because I want to pass the request from
a server javascript file from this
create server function here I want here
the function we're executing here upon
each request I want to define here my
app touch es file I can use module
exports to well export the function I
want to use and I will define a
javascript object which should be
exported and I here I will have a
function which I call handle request and
just will be a function which takes it
takes a request and a response so far
this is the same function we had in our
server JavaScript file before now just
in another file in this function I first
want to set my header with right head
which should will be okay and should
then define the
type content type to be text HTML that
will be the default if we are well
targeting a valid route so this is the
first step next I want you somewhat
check which URL the user entered so
which route I should take and which HTML
file should be rendered I want to have
two routes the index route which will
just be a slash at the end of our URL so
the root directory and the login route
when the user type slash login so in
order to get that path so we're only
interested in the pot nor URL not the
local most part of the port not any
parameters just path I can't use another
core module of Noches
called URL and I require it by well
requiring URL and this will give us some
helper functions to work with a URL what
I can do here now is I can store the
path in you very loop off and then I
will call the parse function on my url
module adjusting imported here at the
top and let me zoom in a bit here and I
will have to pass a string into this
parse URL or a dispersed method here and
this should be well the the URL I get
from the request I can access the URL
property on my request object here and
pass it past us into my URL parse method
here thereafter i get back an object
with several information blocks or with
some info on this URL and I'm interested
in the path name which will just be well
even just / or / login or whatever you
use reentered as a route then I can
create a switch segment here whereas a
switch the path and then we get the case
that it is well it's just a slash to the
root directory in this case I want to
show the index dot HTML file now I can
do this by a
in reading it in with my file system
module and then outputting it in
response and so on and I won't do this
this way but I will also do it the same
way when we're having you log in route
and I'm rendering the log in HTML file
therefore I will create a new function
to do this which you which is called
rendering HTML which should take a path
and a response as arguments inside this
function here I'm just going to copy the
code from the last section
this here my file system and paste it in
here of course I have to require my file
system here and then I will just replace
this index.html string here with the
path and the rest is fine the rest is
absolutely fine it's exactly working the
way we need it to work
so back here in my switch statement I
can then say okay if we're accessing the
root directory I want to render HTML and
here I want you well show the index.html
file so I'm specifying path to this with
the dot slash at the beginning I also
have to pass the response of course then
I break and the next case will be that I
have slash login and under this
circumstances I want to also render an
HTML file but it will be well the login
dot HTML file set response and break and
then I will have a default case if the
user enters anything else then I want to
show well page not found so then I will
change my head to say 404 404 page the
found and then I will output a response
where it's just say route not defined
and here we have to end the response
because when we're rendering HTML we're
doing it in the render HTML function but
here we're not doing it any
therefore have to do it here so let me
save this and now it would almost wear
it but there is one thing we have
diplomatic yet and that is I have my
function here they handle request
function but in my server not JavaScript
and it's not using that so first I have
to import my module here so I can do
this by requiring dot slash and again
zooming in so everyone is able to read
this app without the file extension and
then here I can't just call app handle
request without parentheses this is how
we create us and now let's test it
we start my server here and navigate
here it works this is the index.html
because this is our route route your
chest with a slash at the end so let's
check this it works okay that's correct
now let's try slash login that's also
working let's try anything else like any
route not defined great so this is how
we can implement routing in OTS and I
want to say straight away at this point
I'm doing it with pure notes yes
so that you get the basics that you
understand how Nate noches works we will
very soon use Express which is a
framework which will make a lot of these
things we're doing your by hand a lot
easier like for example writing all this
routing code here is not really color
convenient right and if we want to
change something that's it's just not
convenient that we got much better ways
to do this when using an actual
framework on top of node.js but I find
it very important to understand basics -
so that's it done routing see you next
videos bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>