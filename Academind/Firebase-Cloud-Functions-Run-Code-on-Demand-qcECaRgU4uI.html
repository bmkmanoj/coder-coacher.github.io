<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Firebase Cloud Functions - Run Code on Demand | Coder Coacher - Coaching Coders</title><meta content="Firebase Cloud Functions - Run Code on Demand - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Academind/">Academind</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Firebase Cloud Functions - Run Code on Demand</b></h2><h5 class="post__date">2018-01-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qcECaRgU4uI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to this video great to have you
on board in this video we'll dive into
firebase cloud functions I'll explain
what that actually is what what these
are and of course we'll also see a
practical example so let's dive right
into it
so what our cloud functions firebase
cloud functions firebase cloud functions
are all about server less event-driven
code well that's a nice phrase but what
does it actually mean it means that you
can put some code in your firebase
project firebase as you probably know is
a provider as a service where you can
host your own back-end or where you can
build your own back-end without writing
too much server-side code so cloud
functions actually are a part of
firebase where you can write your own
server-side code and where you can
specify when this code should get
executed so let's have a closer look
what does serve a less mean well
firebase overall is all about being
server less it means that you don't have
to manage any servers of course
there still are servers and wolff
because it's code running somewhere in
the cloud but you don't have to
provision manage configure these servers
instead you got all the environment
working out the box and you don't have
to worry about updating your software on
your servers installing security patches
or in general securing your servers you
still will have to worry about writing a
secure application and any code you
write obviously should be secure but
when it comes to setting up these
servers and configuring the network that
is all taken care of another advantage
of this server less approach which just
to make this really clear is not just a
cloud function thing but the idea behind
firebase in general so another advantage
is the infinite scalability of course
since you focus on your business logic
and you don't have to manage any server
resources you don't have to make sure
that you provision enough servers for it
as next like Friday sell your hosting on
your website instead the server
resources which are provisioned behind
the scenes will automatically scale up
and down and you only pay for what you
need which of course is a great
advantage and very cost efficient and
finally with cloud functions now
specifically we have clear separation of
concerns we
don't have to write all the logic we
typically have to write on a server on
our own the router the database access
module all these things which do utility
tasks for us we don't have to do that we
focus on our business logic and we can't
really separate the different parts of
the business logic and build a micro
service like back and where we really
have individual parts doing their thing
without having to clue them together now
that's the server last part what does
the event-driven thing mean here it
means and that now is typical or Dennis
a thing cloud functions really is based
on that your code runs upon certain
events so you decide when code should
get executed now that of course has a
couple of advantages
we got predictable executions for
example we decide when our code runs so
we always know when it's going to run
typical events would be like someone
uploaded a file or maybe even someone
sent the HTTP requests to a certain
endpoint defined by you and we'll see
all possible triggers in a second now
another advantage of this event driven
approach of courses we don't have any
idle time we don't pay for our code to
run and wait for incoming requests if
there are non instead cloud functions
only run when they need to and we only
pay for when they run behind the scenes
what happens is that firebase will
provision the environment the cloud
function requires on the Mond so that
you don't have to pay for any resources
you don't need and that is the third
point here that the code environment
only exists when needed and you don't
have to manage that now the last thing
of course to code well you only write
what you need you focus on your business
logic I touched on this when I talked
about the separation of concerns so we
focus on a business business logic we
can use for party libraries we can
absolutely do that you don't have to
write everything on your own you can't
build a normal JavaScript project
because that's the third point for
firebase cloud functions at least at the
point of time recording this only note
JSO server-side javascript is supported
as a language but that shouldn't be a
big issue because chances are if you're
working with firebase you might be
coming from a note Reyes background
anyways or you already use JavaScript in
a browser environment so then at least
some of the things are already familiar
so these are cloud functions now let's
talk about these events that trigger
your functions what are possible event
sources well I'll get a couple of
possible sources one is fire store which
is firebase relatively new storage they
always had this real time database and a
couple of weeks ago or months I guess
now they actually launched a new
database you can use for essentially
bigger amounts of data if your
application scales up it offers
advantages over the real time database
now the core thing is fire store is a no
sequel database and you can listen to
you on create update delete or in
general write events on write simply
means either create update or delete so
whenever new data is written for example
your function can execute and you can do
something typical example would be that
you validate or transform incoming data
let's say a user enters the username and
in the cloud function you then want to
check if it matches one of your
blacklisted words and if that would be
the case you could delete the entry
after it had been added so you can add
some extra logic that runs after that it
has been written to the database for the
first time it's the same for the real
time database it's also supported you
got the same hooks there and of course
the same example so really the the same
functionality for either database you
chose now you're not limited to database
triggers though as you know or as you
might know firebase also offers an
authentication module where you can let
firebase manage the whole off flow and
all the complexity that is involved with
authenticating users so here for
authentication we can also listen to you
the creation or deletion of users and
execute code when it happens an example
here would be that a user signs up so on
create
is triggered and then we send a welcome
mail now in the past without cloud
functions that was pretty much
impossible to achieve now you can simply
listen to the user was created event and
then run some code where you use a
provider like let's say MailChimp or
something like that that sends out the
email we also have some google analytics
related triggers now here I have to say
I'm talking about Google Analytics for
firebase which is an integrated product
that builds up on Google Analytics and
there you have so-called analytic events
which you can define on your own which
can in trigger in the browser so in the
client-side code send to your server and
store some information and now with
cloud functions you can also listen to
such an event or not just store it in
the analytics database where it will end
up anyways but also run some code for
example write some extra information to
your own database if you wanted that
send the notification to yourself like
hey and our user bought my product
something like that we also get
crashlytics an average service offered
by firebase this is a service that is
mostly relevant to mobile apps so
Android iOS apps and you can then embed
the firebase SDK and basically report
issues or crashes through the internet
to your back-end so that you have a live
update of crashes and you don't have to
wait for customers to write reviews
there you also can listen to crashes or
issues which were detected and then run
some code here you could also write some
extra data to the database or send a
notification to yourself maybe saying
yeah and now there has been another
crash of this type I want to get an
email something like that
cloud storage is another very useful
event source cloud storage AST firebase
product where you can store files you
could easily upload them to cloud
storage through the firebase SDK but you
can also upload them differently and
actually that is one example I'll dive
into in the next video I guess so here
you can listen to on change events which
occur whenever an object is added for
example now whenever such an object is
added this would run
and then you could execute some code
taking that object into account for
example a typical example would be image
optimization let's say a user uploads an
image and you want you create three
different versions in three different
sizes now you can easily do that with
the cloud storage trigger which
basically tells you when a file is added
then you check if that file is an image
and if it is you simply resize it into
the three formats you want to have pops
up as another service offered by
firebase it's basically a service which
allows you to send a message to which
you then can listen from from opera
services in your firebase environment
and whenever you publish such a message
the unpublished trigger gets triggered
and you can use that to to then do
something additional maybe write some
extra information to the database again
now one super useful and versatile event
source is HTTP HTTP obviously is no
firebase service I'm talking about the
normal well web here firebase cloud
functions have one cool feature you can
listen to an HTTP request that means you
can essentially build your own endpoints
API endpoints with firebase in the past
before we had cloud functions this was
not possible if you wanted to send rest
so normal HTTP requests to firebase you
had to send them to the endpoints made
available by the real time database and
that allowed you to do one thing post
data to the firebase database or read it
and so on but always you had to run code
or essentially work on the database now
you can create any API endpoint you want
that runs any code you want and that is
also an example I will show you so this
is a cool feature that allows you to
create API endpoints or restful
endpoints without having to write all
the rest like a router or anything like
that so you can build a server less
restful api these are the event sources
that is what firebase is all about now
in the next videos I want to have a look
at using cloud storage events
fire database events and HTTP events so
let's have a look at all of that over
the next videos</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>