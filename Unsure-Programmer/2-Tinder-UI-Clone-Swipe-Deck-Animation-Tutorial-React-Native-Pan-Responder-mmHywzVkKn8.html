<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#2 Tinder UI Clone Swipe Deck Animation Tutorial | React Native | Pan Responder | Coder Coacher - Coaching Coders</title><meta content="#2 Tinder UI Clone Swipe Deck Animation Tutorial | React Native | Pan Responder - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Unsure-Programmer/">Unsure Programmer</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#2 Tinder UI Clone Swipe Deck Animation Tutorial | React Native | Pan Responder</b></h2><h5 class="post__date">2018-05-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mmHywzVkKn8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so the last video we'd added up and
responded to our image but if we pan on
the image we notice that all the images
move we only want the top image to be
moving so for that if you remember at
the top here we had set up a state in
which we had set current index equal to
zero we're gonna use this to only apply
the pan responder to the topmost image
so coming here now render users method
what we'll do is we'll say if AI is less
than this dot state dot current index
this will be updated once we swipe the
images but let's assume once the image
has been swiped we don't want to see it
again so we'll return null the next
scenario would be if I is equal equal to
this dot state dot current index that is
it is the image which is right on top
that time you want to return this
particular view else it's a card which
is not the top card so we want to just
return an animated view which does not
have the pan responder so let's just
copy that here and remove the pan
responder we'll also remove this
position because we don't want to try
animate now if we test this out we can
see that only the top card will move and
the other cards do not move now let's
start animating our top card so here
come to our constructor and create a new
animated value so we'll say this dot
rotate and we interpolate on the
position value to get our rotation so
we'll say this dot position dot X dot
interpolate interpolate takes an input
range and an output range
so for our input range what we'll take
is we'll take half the screen width to
the left and half the screen width to
the right so we'll say negative screen
width divided by 2 zero and then to the
right we'll go screen width divided by 2
so when the user swipes towards the left
half of the screen width we want the
rotation to be negative of 10 degrees
when it's at the center we wanted to be
zero and when it's towards the right we
want it to be a positive of 10 degrees
also we don't want the animation to
extrapolate automatically we wanted to
clamp at 10 degrees so we'll say
extrapolate of clamp and here they
should not be 0 but there should be zero
degrees now we need to add this rotate
property to our image so let's create a
new property called this dot rotate and
translate we'll put in our transform
here which will be an array first one
property it will take is rotate and we
pass in this dot rotate through it for
translate x and y we'll just spread the
this dot position inside this so it's a
three dots this dot position dot get
translate transform like we had done
earlier this will automatically convert
it to the X and y axis let's save that
and here let's remove this transform and
instead let us put in this dot rotate
and translate save and refresh now if
you drag to the left it rotates nicely
to the left if you drag to the right it
rotates nicely to the right since we're
working on the rotate let's add the two
texts that come here at the bottom which
is like an nope so inside our animated
view in our current index will say
animated dot view let's put a text
inside that that'll be the like text
let's style the text border width of one
border color of green color of green as
well let's give it a font size of 32
font weight of 800 so that becomes bold
and a padding of 10 to distances from
the borders so they were getting a like
button and obviously it's not positioned
correctly so to our parent animated view
let's say style is equal to give it a
position of absolute a top of 50 and a
left or about 40 and make sure that it
has a Z index which is high enough to
keep it on top of everything else so you
give it a z-index of 1000 so there we
see we're getting the like button where
we want but by default we want the like
button to be tilted slightly so here
we'll put in a transform property which
is an array and inside that will take
rotate and by default we give it a minus
30 degrees there we see our like button
is become diagonal and we just copy this
and create the nope button copy and
paste it change the color from green to
red change the text to nope and let's
also change the rotation to a positive
of 30 degrees and this will also become
position to the right instead of left
there we have our two texts we need to
make sure that they are not visible
let's do that by adding the opacity with
the animated or view so here let's put
an opacity and we create two properties
the first one is this door like opacity
for the like view and for this opacity
this top dislike opacity
let's create these two here so below
rotate and translate let's say this door
like opacity is equal to this door
position dot X dot interpolate I'm just
going to copy this in here so we only
want the like to show up when we drag to
the right so it's gonna be zero when
it's dragged to the left and zero when
it's at the center and it's gonna move
towards one when it's right to the right
let's duplicate that call this dislike
opacity and this will be the opposite of
that so it'll be 1 0 0 now you can see
both the texts are missing and if we
swipe we see nope comes up and we swipe
to the right we see light comes up now
before we handle the on pan respond or
release method will create two more
properties here which will define the
card that is next to the card that is
being swiped so you want to decrease
this slightly in size and we also want
to reduce the opacity of this for then
let's create this dot next card opacity
this will also be this dot position dot
X dot interpolate I'll copy in the same
ranges when we fully swipe to the left
we wanted to show so opacity of one when
we're at the center we want to show zero
and when we're fully to the right we
want to show one as well so let's just
duplicate this now the next is next card
scale so when it's completely to the
left we want it to be one when it's at
the center we want it to be supposed
point it slightly smaller and when it's
at the right we want it to be one now
let's apply this next card opacity in
scale so come down here in our else
statement over here let's put in an
opacity which is this dot next car
opacity and for the scale we'll put a
transform which will be an array inside
which it'll have an object which will be
scale this dot next card scale let's
save that now if we test this we see
that the image at the back nicely zooms
in and the opacity changes instead of
just directly coming out
not that our animation values are set up
the last thing we need to do is handle
the band respond or release method here
coming in here will say if gesture state
dot d X is greater than say 120 so the
user has swiped a considerable distance
to the right will say animated dot
spring this dot position to value and
we'll just throw it off the screen so we
need screen width and we'll just add an
arbitrary value of 100 ahead of that and
the y-value will go to chester state dot
just a state dot dy and we'll start that
once the card is off the screen what we
want to do is you want to update the
current index so we'll say this dot set
state current index is equal to this dot
state dot current index plus 1 and when
that is complete in the callback of the
set state we will update the animated
value back to its default value by
saying this dot position dot set value X
of 0 and Y of 0 so let's try the right
swipe there is why pride if it's enough
distance it goes out and the next image
comes it gets the pan responder this Y
pride again enough distance and it goes
away
the next case would be if it swipes to
the left of 120 so let's just copy this
let's put in an else here and paste it
in we'll say if it's less than minus 120
then move it to a negative of screen
width minus 100 and justice a dot DUI
can remain where it is again when that
is complete we'll update the current
index and the last else case is if the
user has not swiped enough so we'll just
say animated got spring this dot
position will say please put the image
back to its original position by saying
X of 0 Y of 0 and putting a friction of
safe for make sure that we start all
these animations
the first two are started this one we
need to just add start and let's refresh
that so now if we
to the right firstly we get the like
text on top the image from the back is
zooming in we let it go and it animates
out we swipe to the left the nope text
comes it's against ooming in we let it
go
it's wipes out suppose we do not swipe
enough and we leave it there it comes
back to its original position so that
completes our animation for this swipe
deck obviously it can always be improved
and made better but this is the basic
understanding of how it works I really
hope you guys like this and try this out
please like and subscribe</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>