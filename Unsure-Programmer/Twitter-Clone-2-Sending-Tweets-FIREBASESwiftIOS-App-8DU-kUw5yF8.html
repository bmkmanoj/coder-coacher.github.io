<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Twitter Clone - 2  - Sending Tweets -  FIREBASE+Swift(IOS) App | Coder Coacher - Coaching Coders</title><meta content="Twitter Clone - 2  - Sending Tweets -  FIREBASE+Swift(IOS) App - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Unsure-Programmer/">Unsure Programmer</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Twitter Clone - 2  - Sending Tweets -  FIREBASE+Swift(IOS) App</b></h2><h5 class="post__date">2016-08-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8DU-kUw5yF8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in the first part of the Twitter
clone video series we had created the
email authentication system using
firebase and Swift in the second part we
will build on the interface of the
application by adding the required tamps
and add to the functionality of the app
so let's begin first let's go to the
assets folder as you can see I've got
some assets added already in my folder
you didn't get a link to these in my
github link in the description coming
back to the main storyboard let's first
select the home view controller and
embed it into a tab bar controller once
that is done select the item set its
name to home and the image to home as
well
now I'm just going to set up the other
controllers that we require we'll have
four times I'll put them up and I'll
quickly fast forward this so that you
can you don't have to see it happening
now you can see we have a photo app set
up we'll start with the home view
controller coming to the home view let's
delete this let's first add a navigation
bar to the top change the background
color to white and change the title to
home and let's add the constraints as
also just add the buttons that we need
there
from the assets folders you can get the
images for these buttons let's call this
new tweet and I have a new tweet icon
already there and so this let's call
this add user and I have a add user icon
there as well now let's add a table view
into the view we're in the center and
set this up
select Asian had a prototype cell
and would make a custom prototype so I
just first prank this and make this a
little larger it's like an imageview try
get here set-aside with 240 and place it
here
setup is constraints top spacing leading
spacing and heightened wit there just
quickly rag to labels this one will be
for the name let's just put in my name
drag another label which will be for the
handle let's call this not Farrell
let's set up two constraints for this
mix in horizontal spacing and top same
thing let's set the size of the handle
slightly smaller 13 looks good
and let's fix misalignments let's now
drag a text view which will display a
tweet basically what some of you
controller is going to do is going to
show feed of all the tweets that are
coming to us and I'm made by us and this
is a demo tweet ok let's set up the
constraints the vertical spacing leading
and trailing space and let's also set up
the height but we can also do is we'll
just set this image up as a Twitter icon
as default let's also add the reply
retweet and like icons at the bottom so
let's select a stack view we need a
horizontal stack view select button from
here put the button in and we put in
three buttons will select the stack view
set its width the same as the text field
set the distribution to fill equally and
let's set up the icons basically this
one's going to be called reply it won't
have any text this one's gonna be called
retweet no text and this one is gonna be
also no text and images I think of a
heart set the constraints for the stack
view said this as vertical spacing and
will also set up the height so there we
have icons all set up now let's get the
two files that we need for this view
those are the home view controller and
we'll create a view controller for the
prototype cell so let's do that file new
file cocoa touch class let's call that
home view controller
and we need our uitableviewcell let's
call that home view table view cell come
to the main storyboard let's set these
classes up home view controller and for
the prototype style home view table view
cell those two I set up let's open the
predator
let's first import five is database and
firebase Earth you'll also set up the
delegates which are you you a tableview
datasource and UI tableview delegate for
the table view now let's create the
methods that we need for the UI
tableview let's come here methods that
we need are self forward index path
number of sections in table view and
number of rows in section so for number
of rows in section let's put in one for
now and number of row for number of
sections that point one and number of
rows in section also let's put in one
let's configure the cell let's sell of
type home view table view cell equal to
table view dot DQ useable cell with
identifier the identifier we haven't set
that up right now but let's call that
home view table view cell as well and
for index path index path and false
downcast rate as home view table view
cell and then return the cell right now
just gonna return the cell that we've
created here without any data from a
database let's click on this cell and
let's give it a to use identifier of
home view table view cell let's run this
and see let's login and there we have it
we have the demo to it coming up now
let's go ahead and create the
functionality required for the user to
be able to send a new tweet come into
the main storyboard let's create a new
view drag that into the center control
drag from the new tweet button that you
have in a navigation bar and present
modely yet again let's quickly add a
navigation bar to the top
also had a button to the top this will
allow the user to cancel this model next
let's add a text view to the view this
is where a user will type its tweet and
quickly set up the constraints and let's
add a button to the top here which
allows the user to tweet now let's
create the class required for this
controller file new file Coco - class
let's call this let's call this new
tweet viewcontroller come to the main
storyboard again set this up
as always let's import the things we
need report 5 is database and 5 azoth
will also implement the textfield
delegates for the textview let's hide
this out once we have those set let's
also set the delegate over here control
drag from the textview set up the
delegate let's start by first clearing a
reference to a database and also let's
create a variable called logged in user
of type any object let's control tracked
in the textview and call this new tweet
text field and let's first get the
logged in user in the viewdidload fi
auth towards not current user will get
us that lets us have an insert for the
text view and let's add a default
placeholder
also as a textview does not allow us to
set a placeholder we'll just set this
color to gray to make it look like one
let's control click and drag from the
stop button and set up the cancel method
we do is just dismiss the view next I'll
set up the text field should return
method which hides the keyboard once we
create click enter let's also set up the
functionality of the tweet button that's
called the method did tap tweet and the
user taps tweet first we check if the
users actually entered anything before
we try and send it so the users entered
anything we should operate it in another
database
so let's first get a key from the
firebase database we're going to be
storing the tweet under a node called
widths let's create a variable called
child updates this is the code that's
going to update the tweet into the
database under the tweets node
under the logged in user ID under the
auto-generated key will create a node
called
text and will store the new tweet there
similarly will also store the timestamp
of the tweet which would be under a node
called timestamp and for that we use and
its depth time interval since 1970 now
we will update the tweet into the
database using the method update child
values and pass it the child updates
variable after the user sent the tweet
will also dismiss the model and before
we try this out we'll also add another
method which will change the color of
the text from grey to black and also
remove the what's happening line written
when the user starts writing something
for that we'll use function textview did
begin editing now if the text of the
tweet is grey in color then set the text
to blank
and set the color equal to black now
that we have everything set up let's
test this out I'm going to quickly log
in click on our new tweet we see what's
happening moment we tap it you see
what's happening goes away and the text
color becomes black like we did it under
this code and we click onto it as you
can see the model dismissed as well
we have no update here right now but we
can go into a database and check if it's
got updated as you can see we have a
tweets node over here under that we have
the users UID under that we have an
auto-generated key which is the key that
we generated we have the text of the
tweet and we have the timestamp stored
over here so in this tutorial we've seen
how to create a new tweet and store it
into a database in the next tutorial
I'll show you how to display the suite
on the home page over here and also keep
the user logged in always so that we
don't have to keep logging in again and
again I'd like you guys to try this out
and I hope you like it and thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>