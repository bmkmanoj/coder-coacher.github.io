<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#1 Apple Music UI Pan Animation | React Native | Coder Coacher - Coaching Coders</title><meta content="#1 Apple Music UI Pan Animation | React Native - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Unsure-Programmer/">Unsure Programmer</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#1 Apple Music UI Pan Animation | React Native</b></h2><h5 class="post__date">2018-03-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yQK2oaIN0yA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so today we'll be working with the pan
responder of react native to create this
simple but effective UI of the Apple
music app so if you use the app you see
this now playing toolbar at the bottom
when the song is minimized and when you
just pan on this you see that the icon
increases in size and you get these
other details at the bottom you can also
continue scrolling here and you get the
other songs that are available when you
scroll back down and you pull down you
see that the icon decreases in size and
we bring it back to the bottom like it
was this should be fun to build so let's
begin as always I have an empty react
native project I've created with Expo
let's start by important certain things
that we lean the first is gonna be
dimensions look at the dimensions the
screen then animated pan responder
scroll view an image and the slider here
on top let's first get the screen height
in width the way we'll do that is we've
created two constants when a screen
height and screen width dimensions not
get windowed or height to get the screen
height and similarly dot weight to get
the width that's coming out under method
here get rid of this view and start by
creating an animated view the animated
dot view this will be the main view that
covers the complete screen so we'll say
style is equal to a flex of 1 and a
background color of white this
background color is something that we'll
animate later inside this will have an
absolutely position animated view on
which will add the pan responder so
adding styles to this animated view will
say style is equal to a position of
absolute a left of zero right of zero
will give it a z-index of say 10 so that
it stays above everything else a
background color of white and a height
which is equal to the screen height in
fact we'll give this a background color
of say orange so that it's more visible
to us now you see it's covering the
whole screen what we need to understand
is that we're gonna try and stop the
screen from the bottom here so we
basically move this down till we only
have this top
part of the screen visible for that we
have to set the top position of the
screen we'll do that by creating an
animated value so here in our component
will mount we'll create this drawn
animation is equal to new animated dot
value XY start by giving an exposition
of 0 and a Y position of screen height
minus 80 so that we have only the top 80
pixels here at the bottom next what we
do is in our render method here we'll
create a constant called animated height
and we set that to transform and we
transform this store animation using the
get translate transform method so as of
now this method is doing nothing we're
just creating the screen height minus 80
which is a static value and we'll be
applying it here but later when we using
a pan responder the pan responder gives
us negative and positive values which
this gate translate transform
automatically translates on to our Y and
x axis as required so that saves us the
headache from setting them values
manually we'll speak about this more
later in this video so we just put this
into an array I will say animated height
and you'll see that this height will
move down at the bottom so the screen is
starting from screen height minus 80 now
instead of starting from the top so
inside this animated view now let's add
our image our text and our plane pause
buttons so we put them into another
animated view which will be the height
of the header so it's animated dot view
lets style that with this style is equal
to a height of say 80 so it takes up
exactly this much height you give it a
border top width of one a border color
for a top color for a nice gray
Affleck's direction of row an aligned
items of center to vertically align the
items so inside this view we'll have two
more views one will have the image and
the text with it that'll be one view and
then the one view which will have the
icons on this side so we combine the
image and text into a view which has a
flex of four so that takes up a lot more
space you give it a flex direction of
Rho again and to vertically align the
item
it's a line-item Center so inside this
first view let's put an animated view
which will have the image so that we can
animate the image you give the animated
view a height of 32 a width of 32 and a
margin left of 10 these three values
will be animated but for now we just
hard code them we'll put the image
inside it with a style of flex equal to
1 a width of null height of null so that
takes up all the available space and we
pass in the source which will require an
image for my assets folder you can put
in any image that you like and I save
that out so as you can see we've got
that image on the left next along with
this animated view we want the text to
be displayed
so we'll say animated dot text song will
be Hotel California live version now
we'll get some properties to the text so
we'll style it by saying opacity of 1
which we'll animate later font size of
18 and a padding left of 10 as we can
see we've got the name there let's just
change this background color back to
white for now and lastly let's add the
play and pause buttons so that would be
another view here so you put in another
animated dot view because you wanna
animate the opacity inside this let's
put in some icons so for that let's
import the icons on top these are
already provided to us by exposed so
it's a import ionic on from at Expo Ford
/ vector icons so inside this animated
view we'll put in the ionic ons name the
icon is MD pause size is equal to 32 I'm
just gonna duplicate this the other one
would be MD play and the size will
remain 32 obviously that doesn't look
right
so in this animated view we're just
gonna add some styles again opacity of 1
which we'll animate later flex a 1 flex
direction of row and justify content of
space round so as you can see we've got
the icon where we need them this
particular view is taking up flex of
four which we mentioned over here and
this particular view is taking up a flex
of one so now we've got our basic UI
setup in the next video we'll start
animating this</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>