<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Inshorts App UI Clone #3 | Swipe to Previous Article | React Native Animations | Coder Coacher - Coaching Coders</title><meta content="Inshorts App UI Clone #3 | Swipe to Previous Article | React Native Animations - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Unsure-Programmer/">Unsure Programmer</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Inshorts App UI Clone #3 | Swipe to Previous Article | React Native Animations</b></h2><h5 class="post__date">2018-03-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/S3CPNCJ-YOU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in the previous video we learned how
to set up the swipe up animation to
swipe the cards out of the screen and go
into the next article however as we know
making something disappear isn't enough
we have to bring it back so in this
video I'll show you how to create the
swiped our animation which brings the
previous card interview they'll complete
the series for us so let's begin so it's
not from where we left off we hit create
one position object which is for the
current card on the screen let's create
another position object called this
stored swiped card position which will
be the position of the card that has
been swiped off the screen so it's in
new animated dot value XY X will be 0
again and Y will be minus of the screen
height so currently this card has a Y of
0 and the height of the card is the
screen height if we want to move this
card completely off the screen we can
move the Y position to the negative of
this height so that the bottom of the
card will coincide with the top of the
screen now let's come to the render
articles method here so here what we're
doing is if the card was ass wiped out
card
we were not displaying it in which is
returning null if the card was the
current card we were attaching the pan
responder to it and is playing that card
and for all the other cards we were just
returning a view without the pan
responder but now what we want to do is
if I is equal equal to this dot state
dot current index minus 1 that is it is
the card which is previous to this card
then we don't want to return null but we
want to return an animated view so let's
copy this animated view
which has a position of swipe card
position which we had created so the
card is there but it will not be on the
screen it will be minus of the screen
height so it will be above here and want
to make sure we return this so let's put
a return here and then we change this if
to an else--if so only if it's the
previous card show a card with a swipe
dot position otherwise just return null
because we're not bother about the other
cards so now when you swipe the card out
that first card is still there on the
screen when we need to add the animation
to bring it back when we swipe down so
let's do that now so come to the on pan
respond a move method here so what we
were doing is we were just using this
dot position dot set value and we were
just setting the state to the position
variable but now what we want to do is
we'll detect if the user was swiping
down so we will say if gesture state dot
dy is greater than zero and end this dot
state dot current index is also greater
than zero that means we have a previous
card then we'll say this dot swiped card
position dot set value we always want
the X to be zero and we want the Y
position to be added to its current
position so the current position is
screen height negative of the screen
height plus the distance that the user
scroll so its gesture state dot dy and
we put this other part in an else that
is if the user swipes vertically then
just set the position on the active card
and I just missed a bracket here so
let's close that save that out and test
this out so for the first card when you
swipe down it moves the active card we
swipe this active card out now if we
swipe down instead of moving the active
card it's moving the previous card onto
the screen now just like we did with the
vertical scrolling once we stop
scrolling down we want this car to
either go back up if we haven't scrolled
enough
oh if you scroll enough he wanted to
come down and replace the card that's
there so let's do that
so now come down to the on pan responder
release method here above this let's add
another if statement which first checks
if they start state dot current index is
greater than zero that means there is a
previous card and an gesture state dot
dy is greater than fifty that is the
user scrawled down vertically more than
fifty and and again we use this same
time duration that we had used earlier
so it's a gesture state dot V Y is
greater than 0.7 then we want the car to
come down completely in a nice animated
way so let's see animated dot timing
let's animate the swipe position so
swipe card position inside that we want
the two value x0 and y should become
zero as well so that it comes on top of
the current card and the duration that
we want is for honey also just like here
when we have scrolled up we set the
state of the current index to the next
card but now since we're swiping down to
a previous card we want to set the state
to a previous value so we'll say let's
copy this from here and instead of
updating the current index to plus one
we'll say current index minus one and
here would reset the swipe card position
back to the original position which was
- of screen height so now we have an if
which checks if the user has swiped down
and there is a previous card we'll make
this and elsif and the last one is in
else
so now let's test this out if we scroll
up we take into the next screen if we
scroll down we bring the previous card
back and then we can scroll the card
back up again so as we can see we're
getting our previous card like we did
imagined but that's one use case which
we haven't taken care of that is if the
user does not swipe fast enough or to a
considerable distance this card should
go back so here we had set the two value
back to as X of zero and Y of zero let's
also add another animation here
all the scrolling downward scenario
sweet what we'll do is we'll run these
animations in parallel by saying
animated dot parallel inside this let's
move this animation there get rid of the
start for now put in a comma here let us
copy this animation again and here
instead of this dot position we'll say
this dot swipe card position and the
y-value should be the original position
which is minus screen height and outside
here let's start this animation by
putting in stock now if we refresh this
and try this out it should work so if
you swipe up it works if we swipe down
the card comes but if we don't swipe
enough we see the card goes out of the
screen again so now we're complete with
this series with our animation I hope
you guys like this please try this out</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>