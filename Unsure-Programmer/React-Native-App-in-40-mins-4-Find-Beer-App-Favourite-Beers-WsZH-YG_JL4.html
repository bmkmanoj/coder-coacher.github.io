<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React Native App in 40 mins - #4 ( Find Beer App ) - Favourite Beers | Coder Coacher - Coaching Coders</title><meta content="React Native App in 40 mins - #4 ( Find Beer App ) - Favourite Beers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Unsure-Programmer/">Unsure Programmer</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React Native App in 40 mins - #4 ( Find Beer App ) - Favourite Beers</b></h2><h5 class="post__date">2018-01-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WsZH-YG_JL4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so the last part of this video we'd
learn how to create the favorite stamp
for that we need to install firebase
into our application and create a
firebase app so I've already done that
in this application right now for those
of you that are unaware of how to do
that they can refer to my other tutorial
which is adding firebase to your react
native app the link for which is in the
description once firebase is added we
can get started first we have to a
firebase console here enter the app that
you've just created and in the app will
go into authentication set up signing
method and enable email and password
save that out go back to users I will
just add a user here because we need to
have a user to save the favorites of the
user
I'm just gonna save that out so that I
users added come back to the app here
what we'll do is we'll change the
initial route name firstly back to home
screen open up home screen
you bought firebase next create a
component did mount here when the app
first opens up that is logged the user
in so it's a firebase dot off not
sign-in with email and password pass in
the email and the password obviously in
a real app you'd like the user to be
logged in using a login form just to
save time I block the user in myself
into the console for those of you that
like to learn how to create an email and
log in system with firebase I've made
another short video which you can refer
to the link for which is also in the
description
oh brother search for you dodge is here
the search beers let's search for a beer
first as you can see we had created a
favorites button here and along with
that we'd also linked a function to it
and we pass in the name of the beer or
yet to create this function so we create
this function now before that lets
import firebase
also it is create a variable called
current user which would be available in
the app and here let's create add the
favorites will you make it an
asynchronous function passes it their
name as a parameter first thing you need
to get the current user so it's a
current user is equal to wait 5 based on
auth dot current user next get a unique
key say database rep is equal to again
await firebase store database dot
reference is where we want to store the
favorites of the user so it is a current
user dot UID under that we want to put
it in a child node called favorites and
get a unique key at that particular node
next let's update the beer name at the
unique key so it's a database ref dot
set and you will pass in the name of the
beer so get the current user then get a
key for the node where we want to update
the user and update the name of the bill
so let's test this out click on search
beers search for out there enough we
click on add favorites it should get
updated in a firebase database and there
you can see under the favorites we have
the beer and the name called Corona Lite
now what we need to do is we need to
display this beer in our favorites tab
so let's open up the favorites tab here
on top let's start by importing things
we need I've already imported 5 is I'm
just going to import the content in the
container from native base
next let's create a variable called data
making an empty array and we'll create a
variable called current user next let us
write a constructor pass in the props
nor is called super props first then
we'll set up the datasource this 30 s is
equal to new ListView this reminds me
that we must import a list view as well
so that's important list we at the top
from the AK native new ListView dot data
source next let's set the state so it's
a ListView data is equal to data which
is the array we created here let's
create a method here called get
favorites is going to be asynchronous
method here we'll say current user is
equal to oh wait firebase dot auth dot
current user then we'll set a variable
called that equal to this so that we can
access it inside the firebase method
it's a firebase tour database dot ref
current user dot UID nor child favorites
going to a node dot on we listen for a
child added and then say function get
the return data they will say variable
new data is equal to spread the data
already existing into the array this dot
state toward ListView data and then add
the data to this array new data dot push
and we will just add the receive data
here next we'll say that dot set state
and update the ListView
passing the new data now time to display
the list come here to the render method
get rid of the view put in a container
here inside that will put in the content
we'll just add some styles make it flex
one and background color of white next
inside here we'll say the ListView
enable empty sections data source is
equal to this dot d s start alone with
rolls pass in this dot state or list
view data next let's add render row data
it's a list item pass in a text will say
data dot Val dot the name close out the
text and also import list item here from
native this let's just fix some typos
now this current user over here should
have a small s also this should be that
dot state not ListView data because this
is not accessible inside firebase and
now let's call the get favorites method
so we want to call it inside the
component in mount that is when the page
first opens up will say this dot cat
favorites
here we go into our favorites now we see
that our favorites is showing up one
last thing we want to be able to do is
to be able to click this here and be
able to search this beer in the Search
tab so let's do that so in a list item
we'll say one press is equal to this dot
prop start navigation dot navigate
search tab navigator and pass the beer
name as a prop cdata dot val dot name
let's save this out
what were using is we're using react
navigations method of navigate so now if
we click here and we go to favorites
click on our beer it takes us to the
Search tab but nothing happens so come
to the Search tab here create a
component in mount method and what we do
is we'll check if this dot drops toward
navigation dot state dot params is not
equal equal to undefined that means some
parameter was passed we want to update
the state by saying this dot set state
set search beer which is our search term
to this dot prop stored navigation top
state dot params dot the parameter that
we passed which is beer name and once
that said we call a function which is
the this dot beer search so let's save
that out now if you go into a favorites
tab click on our beer it takes us to the
Search tab and the beer is searched for
us so finally we're done with the fine
beer app completely I hope you guys
liked this please like and subscribe and
thank you for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>