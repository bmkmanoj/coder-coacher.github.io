<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React Native + Firebase #5 Swipeable Todo List Part 2 of 2 | Coder Coacher - Coaching Coders</title><meta content="React Native + Firebase #5 Swipeable Todo List Part 2 of 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Unsure-Programmer/">Unsure Programmer</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React Native + Firebase #5 Swipeable Todo List Part 2 of 2</b></h2><h5 class="post__date">2017-12-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BWIN4JBm0-k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's add the functionality of these
parts first we'll create three methods
first one will be a draw delete row and
show information let's set these methods
up in their particular buttons so a draw
will go here on the input free button so
in say on press is equal to test on a
draw and we'll pass in the new contact
State to it so as you may remember we
created this new contact State early
over here however this state is not
getting updated anywhere it should get
updated every time the user types in the
input field so for that let's do
unchanged X is equal to passing the data
entered by the user and update it this
dot set state new contact next let's add
the add row button so there you go here
let's say on press is equal to this dot
add row let's pass in the data we'll
also put in the data here and delete row
will go on the dream button which is on
press is it will do they start delete
row
however the delete row needs certain
other values which is section ID row ID
row map and data the first three values
are required as a part of native base
props to delete the row from the list
and this data that we're passing is so
that we can delete the row in our
fire-based it out I will to make sure we
pass these three values from here
so that's to come into a bracket and
that's we SEC ID row ID and row map so
now when the user add something here and
clicks on the Add button we wanted to
get added to a firebase database so
let's go ahead and do that here in the
add row method we can get a key of a 5s
database node which is we save our key
is equal to firebase or database dot ref
and we try and store all our contacts
another contacts node let's say dot push
not this gets us basically a new ID for
that particular node next with a
firebase your database not ref contacts
go inside that child and put in the key
that we just created here and then we
set the value of the particular contact
there so it's a set name of the contact
and we pass in the data that we're
getting here so now any click on add it
should go into a firebase database let's
open up a firebase console let's add a
name I don't click on the plus button we
see that the contact is added here so
even though the contact is getting added
to our database it's not getting updated
in the list here so let's add the code
for that now come here to the top and
create a method called component did
mount and inside that we'll add a
listener called child added for firebase
to listen for any changes to the
contacts node since you won't have
access to this inside the firebase
method we have to save that into another
variable which we just called that for
convenience so say firebase database dot
ref go into the contacts node dot on add
the child added method function data
next let's draw the current list view
data into a variable
so using the spread operator will pass
all the data into a new data variable
and then we'll push in the data that we
received from the server and update the
state of the ListView data so we added a
listener child added to our node
contacts we stored the data that already
exists from the destroyed data into a
variable new data the data that we
received once a element is added to our
contacts node that data we added to the
new data array that we created and then
we just updated the state for ListView
data with this new data before we test
this out let's get rid of this
hard-coded data here also coming at the
bottom add a prop to the list called
enable empty sections so that when the
list is empty it can be displayed
otherwise it'll give an error lastly
what we need to do is who you're only
displaying data but now since we will be
getting an object from our database
let's display the value shall be data
dot Val dot name and save that out and
then we can see data from a database is
showing up let's try and add another
name as you see when I press the plus
part it immediately shows up over here
and cross check it in our firebase
database it gets updated here as well
the last thing we will do is we need to
add the delete row method so coming here
we use the async and await methods of
es6 so let's make delete row an async
method passing the properties that it
needs so we need section ID row ID row
map and data as you may see we provide
these properties here already to the
particular button coming here we run oh
wait firebase database dot ref on the
contacts node
plus the data dot T and set that to null
what we're doing is we're finding this
particular key and deleting it by
setting it to null what a wave does is
it waits in this particular asynchronous
request is complete and only then runs
the rest of the code so what we need to
do is we deleted our data in our
firebase database by running this
command but we need to also delete it
here in our list so to do that we lose
row map pass in the section ID and the
row ID make sure that in backticks and
then we'll call dot drops not close all
this a method provided to us by native
base it helps us delete the particular
row by providing the section ID in
Hawaii
next we create a variable called new
data like we did in add row and store
the current list items then we what
we'll do is we'll use dot splice to
delete the particular row data by
providing it the row ID and a value of 1
which means to leave that particular ID
and then we'll set the state of the
ListView data let's save that all this
make sure this contacts has a forward
slash to it so that it is going inside
the contacts node and finding the
particular key now let's try and test
this out let's delete bar 1 and see
there you can see that VAR own is got
deleted not only is it deleted from here
it's deleted from our particular
database as well so that's about it we
managed to create a simple app using
list views when you're checking the add
users we can delete users and the last
thing that we can do is also display
some information about them
I'd like you guys to try that out
yourself it's very easy you can display
whatever information you want how do you
guys like this video and please like and
subscribe</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>