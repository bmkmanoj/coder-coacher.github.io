<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#3 UBER App UI Clone | Keyboard Animation | React Native Animations | Coder Coacher - Coaching Coders</title><meta content="#3 UBER App UI Clone | Keyboard Animation | React Native Animations - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Unsure-Programmer/">Unsure Programmer</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#3 UBER App UI Clone | Keyboard Animation | React Native Animations</b></h2><h5 class="post__date">2018-03-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XV7SlrHAa9s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now let's create the forward arrow that
should be showing here when the keyboard
moves up for that we'll create a similar
animated view like this with the
position of absolute so it's an animated
dot view give the view some styles so
firstly position absolute height of 60
width of 60 and a right of 10 because we
wanted to be on the right side for the
bottom right now we'll give it a value
of 10 but this would be animated and an
opacity of 1 which would also be
animated next we set the Z index to 100
just to make sure that it stays above
the rest of the view now let's bring the
icon here this a icon name is equal to
we'll use MD arrow forward give it a
color of white and obviously we can't
see it right now because this is a color
of white so that's give it a background
color it's a nice blackish color that
will give it so they were getting the
arrow it obviously does not look like
the way we wanted to so let's just add a
few properties let's say a line items of
center justify content of center and
let's give it a border radius of 30
which is half the width so there we see
we're getting the arrow just the way you
want it to look right now if we click
the text input we see that the height
increases but once the animation is
complete we want the keyboard to show up
so we can do that programmatically let's
go to our text input and here we can add
something known as a ref and call this
text input mobile let's make the T small
now we can come here to our animation
which increases the height of the view
and when the animation is complete we
can call a callback function inside the
start method and you can say this dot
ref's dot text input mobile the ref they
tweet given dot focus to focus on the
text field now if we refresh this and we
this here will see once the animation is
complete the keyboard moves up however
when we click the back arrow the
keyboard does not move back down so for
that we'll use keyboard which is
available to us from the AG native so
let's import keyboard here and firstly
inside the decrease height of login let
us called keyboard or dismiss now if we
click here it opens up and then the
keyboard shows when we click the back
arrow the keyboard hides and it goes
away now to move up this arrow with the
keyboard we need to write some listener
methods for that we'll come here to the
component will mount and we write the
method so the method you wanna create is
let's call it keyboard will show he'll
use the keyboard dot and listener and
the listener that we're looking for is
keyboard will show and we'll bind that
to the keyboard will show next we want
this dot keyboard will hide is equal to
keyboard dot add listener keyboard will
hide now will bind it to this dot
keyboard will hide so basically what
will happen is when the keyboard shows
the keyboard will show method will fire
when the keyboard hides the keyboard
will hide method will fire however for
Android keyboard will show and keyboard
will hide are not available what we need
to use this keyboard did show and
keyboard did hide so I'm just going to
copy this and then change this over so
we change keyboard will show the
keyboard did show here the list now
we're looking for is keyboard did show
however points to keyboard will show
only so that we want to duplicate the
methods and here we'll make this
keyboard did hide which will look for
keyboard did hide but they will again
point to the same method which is
keyboard will hide so let's create the
keyboard will show and keyboard will
hide methods here so it gets an event
parameter which we can use to get the
height of the keyboard and we need to
animate three things inside this one is
the opacity of this arrow one is the
bottom position of this arrow and one is
the bottom border here so for that let's
create three more properties we do that
in the component will mount
so let's call the one for the bottom
position they start keyboard height is
equal a new animated dot value of zero
to start with so we say this dot forward
arrow opacity should again be a new dot
animated value of opacity is zero to
start with and let's also put a border
bottom here so border bottom width is
equal to new animated dot value of zero
let's animate these values now so we
want them to animate in parallel so we
will say animated dot parallel inside
that we can use an array and the first
one will be animated dot timing put in
this dot keyboard height the duration we
want to use is the event dot duration
which is the time taken for the keyboard
to move up plus a delay of 100 and then
we want to move the value to event dot
end coordinates dot height plus 10 so
that it's slightly above the keyboard
and it lags the keyboard a little
because we put in a delay of 100
milliseconds this is going to go in
place of the bottom position of this
arrow the next thing that we want is
animated dot timing what we're looking
for is this dot forward arrow opacity
the duration is again going to be event
or curation in this case we're not going
to add a delay that's not required and
to value is going to be 1 I'm just gonna
duplicate this and we'll change this to
border bottom widths and again it will
be animating from 0 to 1 now we need to
set these values up in place of the
hard-coded values so come to a forward
arrow here and let's change the bottom
to the keyboard height so we'll say this
dot keyboard height that change the
opacity to this dot forward arrow
opacity and in the text input let's
change the parent view from a view to an
animated view
and here let's add a border bottom width
of this stock border bottom width when
we save that and refresh this we see
that the arrow is not here anymore but
when we click this text input here we
get an error and I see that error is a
very basic mistake that I made over here
so when we name these subscribers of
ours we can't name them the same as the
method so all we need to do is we need
to just add suppose listener at the end
of it
and there we go that resolved IRA let's
refresh this now if we click on this it
should be working
and it seems like I've forgotten
something else as well here we did not
start the animation so animated not
parallel and just put in a start here
now let's try this and hope this works
and then we see it nicely moves up at
the top if you put this back we're just
getting an error because we haven't
written the keyboard will hide method so
let's put that in here so we'll say
keyboard will hide again we'll get the
event henna this will just copy these
methods here so that we've got the same
methods all we're gonna do here is we're
gonna change this to zero I'm gonna
change that opacity to zero and we're
gonna also change the border width to
zero there's one thing to note over here
Android does not have this event method
since it can only detect keyboard did
hide so the event method is already
completed for that what we do is we'll
import something known as platform from
react native to detect if it the device
was an Android device and here in the
dead hide method what we say is if
platform door OS is equal equal to
Android then set the duration equal to
100 else set the duration equal to event
dot duration because iOS devices do have
access to the event method and here
we'll just replace event dot duration
with duration this will make sure that
this works fine word also I notice if
you move this into the keyboard will
show method the duration tends to work
better for Android otherwise it will
just fade away and change this event dot
duration to just eurasian now let's save
this and test this out if you click this
we see that that moves up obviously this
animation will be much smoother on a
real device and we move that down it
goes away now let's just finish up the
last few animations we want this to
change to a number when this is clicked
on so that will utilize the state
so let's write a constructor for that
quickly
inside this we'll say this dot state is
equal to placeholder text it'll be enter
your mobile number let's replace the
placeholder with this and when the
height increases we change the state
so let's come to increase height and
here at the top we'll just say this dot
set state placeholder text and change
that to zero nine two one two three four
five six seven eight nine
let us refresh this and then we see
we're getting into your mobile number if
we click on it it changes to the number
that we have just created also we want
to enter your mobile number to move here
to the top for that we'll just create
another text view which we'll put inside
our touchable opacity here where we have
increased height of login will change
this parent view to an animated view
here where we use the margin top for
this particular field let's change that
to the margin top variable that we had
created as we see it's moved down nicely
to a bottom position inside this we'll
put it in another animated dot text
let's style it so we will say font size
of 24 color of gray position will be
absolute bottom position will be we
create this variable let's call it title
text bottom left position will be title
text left and the opacity will be title
text opacity so the text will be enter
your mobile number now let's create
these three variables so come here to
the top and we add our constants let us
copy this constant I've copied it three
times the first one is going to be title
text left the next one is going to be
title text bottom and the last one is
going to be title text opacity
the title takes left should have a
starting value of from 100 and it should
move up to a left value of 25 so that it
feels like it's moving left words
secondly the bottom position should be 0
and it should move up to a position of
100 however till the time the screen has
reached a height of 400 we wanted to
remain at 0 and only once this height
increases past 400 do we wanted to
change 200 so for that we'll just put in
another 0 here
title text opacity will just be 0 to 1
let's save this out let's refresh this
and as you can see it smoothly just
moved up to the top with this arrow
coming up one last thing that's left is
we want this keyboard to just be a
numeric keyboard so all you need to do
is come to the text input and change the
keyboard type by saying keyboard type
and make it numerical click here and as
you can see we're getting a numeric
keyboard with all the animations that we
had thought of one last thing that you
guys might be thinking is this screen at
the back the image tends to load after
everything else has loaded that's
because we need to pre cache this image
that's a process that's a slightly long
maybe I'll cover it some other time
but for now this animation works just
like we thought I hope you guys like
this and try this out</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>