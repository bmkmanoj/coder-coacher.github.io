<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Swift 3 + Firebase Authentication - Google Sign In | Coder Coacher - Coaching Coders</title><meta content="Swift 3 + Firebase Authentication - Google Sign In - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Unsure-Programmer/">Unsure Programmer</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Swift 3 + Firebase Authentication - Google Sign In</b></h2><h5 class="post__date">2016-10-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/83EXULT480Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we will learn how to
implement Google sign-in in five is 3.6
using Swift three and Xcode it it'll be
a simple login using the Google sign-in
button in front of us it will log the
user in into the firebase authentication
system and also store the users details
in the firebase database so let's begin
we start by coming to a firebase console
click on create new project and name the
project iOS Google sign-in once the
project is created we click on add
firebase to your iOS app and put in the
bundle ID of iOS application for that
let's open up Xcode create a new Xcode
project single View application and call
it is Google sign-in and I'll just order
in my downloads from here you can see
that a bundle identifier that we need is
available here copy that come back to
the firebase console and paste that in
here and add app this will download a
Google service info rutila's file drag
that file into your firebase application
and copy items if needed and we just
close this out next open up the terminal
and CD into your project folder inside
the project folder type pod in it to
create the pod file Nano into the pod
file here we will install five days five
days off
five is database and google signing then
we'll type in pod install this will
install all the dependencies that we
require for the application once in
store close out this project and open up
the Xcode workspace project which is
created by the pod first thing we do is
we go into the project one of the
capabilities and enable keychain sharing
without this the simulator will not have
access to the keychain and will not be
able to perform the login using the
Google sign in next go into the info tab
here go to the URL types click on add
over here open up your Google service
info dot plist from here the reverse
client ID is what we need copy that
come back here and paste it in here the
Google sign in basically requires this
URL scheme now come to your app delegate
in your app delegate let's import
firebase and also we need to create what
is known as a bridging header file to be
able to import the Google sign-in
methods from Objective C to Swift so
let's see I will do that we will click
on file create a new file click on
Objective C file and this call this test
and just create it at Alaska's would you
like to configure an objective-c
bridging header so we say create
bridging header once this bridging
header is created we can delete this
file that we had created - draw dem and
move to trash coming to the bridging
header if we have a look at the
documentation the documentation asks us
to put this line of code inside the
bridging header file so let's copy this
line of code and pasted in here now this
will ensure that all our methods from
Objective C are available in Swift
come back to the app delegate the
documentation advises us to then
implement the gid sign-in delegate and
then add these three lines of code
inside the did finish launch
with options method so let's copy these
three lines of code implement the gid
sign-in delegate and paste these three
lines of code inside the did finish with
launching options next it tells us to
copy this function here into our
application if you if you see this
function is written in Swift too so what
we'll do is we'll just copy the inside
return statement and we'll come and
implement this function on our own so we
see the function is if you just type
application open it's the first method
that comes and we can paste the
statement that it said inside over here
this statement is also in Swift too but
it will help us automatically convert it
to Swift three if we just rectify the
fix it errors so handle URL becomes
handle and URL goes inside and these two
values also get changed
updated to Swift three next what we need
is this is only if your app is running
on iOS 8 and older but you're not
concerned with right now we need to
implement these two methods which are
the did sign in for user and did this
connect with user methods again these
aren't Swift too so we'll implement them
ourselves
we'll say sign a and it automatically
shows us they'll sign in for user and
disconnect automatically gives us the
method coming back here in the view
controller implement the G ID sign in UI
delegate protocol and also inside the
view controller we need to put this line
of code to set the UI delegate of the G
ID sign-in object so let's copy this
line of code here and over here we say
GID UI which is G ID sign in UI delegate
and paste that line of code here next we
need to create the sign-in button the
sign-in button can be created either by
putting the view into our view
controller and then setting its class as
the GID sign-in button class which is
what we use or in your view controller
you can declare the sign-in button as
property and then programmatically
create the button by adding it editing
the properties of the gid sign-in button
come with me in storyboard let's add a
UI view first go to the center and let
you set it horizontally and vertically
centered in the container that's not
worry about the constraints for now and
let's add its class to G IDs sign-in
button next inside the sign-in method
we'll get the Google ID token and the
Google access token from the GRE
authentication object and exchange them
for fiberous credentials so what we need
to do is we just copy this code here
come back to our app delegate in the did
sign in method let's paste that in and
finally we can authenticate with
firebase so just copy this line of code
here come back here and paste it in here
so once the user signs in he also signs
in to the firebase authentication system
so for now what we'll do is with this
print user signed into firebase and here
we'll print
user signed into Google and let's check
if these two are printed before we try
this hard we must do one thing let's go
into our firebase console here if we go
into the authentication system we have
to set up a sign-in method go to Google
and enable it and click on save once
this is done we can try this out so
there we have a sign-in button in front
of us let's tap it it's opening up the
account let's login
it's as as Google Simon would like to
view your email address and view your
basic profile info so click allow and as
we come back it does nothing because we
haven't done anything after that but if
you have a look in our console user
signed into firebase and user signed
into Google both are available we can
confirm that the user signed in by going
into our firebase console and checking
so let's go to firebase console here we
can see under the auth section that the
users email ID is showing now but if you
want to a database as of now there's
nothing stored in our database though we
can extract certain informational the
users you ID from the auth system it'll
be nice to have our database under like
a user's profile tab to have the user's
data stored so let's do that so let's
start by creating a reference to our
database let's call this database ref of
type F our database reference inside our
fire rock let's say self dot database
ref is equal to f our database dot
database table reference and then what
we'll do is we'll check if the user has
his details stored in the database or
not so we'll assume that it's under the
users profile node and under that we'll
store each user under a unique ID which
is obtained from the user dot u ID and
will observe single event of type value
the data returned we can call it
snapshot and here we say let's snapshot
equal to snapshot dot value and downcast
that as an NS dictionary and then we
check if snapshot is equal equal to nil
that means the user login for the first
time
so we'll say self dot database reference
dot child under that would go under the
user profiles known under that would go
user dot UID under that would save the
user's name and we can get the name from
the
user that is returned after the user
signs into the fr database and then will
also save the users email address under
that will say email there is a set value
and inside that will say user email else
what we'll do is else that means that
the user has already signed in earlier
we'll send the user over to another
screen so it's a lets main story about
equal to UI storyboard and it's a UI
storyboard get the reference the main
storyboard say bundle is going to be nil
and it's a self-taught window dot root
view controller not perform segue with
identifier let us call this home view
segue we have to create this and Santa
will be nil just come to the main
storyboard create a new view controller
over here from this view controller
let's drag to this one and say present
model e let's name the segue what we
named it over there which is home view
segue and also let's just put in a nice
label here which tells us that we've
signed in so let us say welcome and
center like that and actually instead of
putting this code under an else we can
just remove the else so that every user
after the sign-in is taken to the
welcome screen so now we can try this
out that sign in and as you can see
we're taken to the welcome screen let's
confirm the sign in here you can see in
our database the user profiles node is
created the user's UID is created and
the email and name are saved and under
the earth we have the users email saved
so that was covering the Google sign-in
and hope you guys like this and I hope
you guys try this out thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>