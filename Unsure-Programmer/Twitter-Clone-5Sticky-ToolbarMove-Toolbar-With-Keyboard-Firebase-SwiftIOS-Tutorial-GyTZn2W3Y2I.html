<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Twitter Clone 5-Sticky Toolbar-Move Toolbar With Keyboard- Firebase + Swift(IOS) Tutorial | Coder Coacher - Coaching Coders</title><meta content="Twitter Clone 5-Sticky Toolbar-Move Toolbar With Keyboard- Firebase + Swift(IOS) Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Unsure-Programmer/">Unsure Programmer</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Twitter Clone 5-Sticky Toolbar-Move Toolbar With Keyboard- Firebase + Swift(IOS) Tutorial</b></h2><h5 class="post__date">2016-09-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GyTZn2W3Y2I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">a few videos ago we had learned how to
send a tweet but we could only send
texts in that weight in the next few
tutorials will learn how to add photos
to our tweets in this particular
tutorial we hear a nice tool bar that
shows when the keyboard is displayed and
hides when the keyboard is headed let me
show you this is our look and when we
send a tweet this is my first street
press the tweet button will see that the
toolbar hides along with the keyboard
and we're taking back to the home view
controller and there we can see our feet
in front of us so let's begin so come to
the main story board here we have a new
tweet view controller storyboard here
let's control drag a UI toolbar and add
it to the bottom we set the toolbar here
we'll add another button to the toolbar
and we'll add a flexible spacing between
the two buttons this will spread the
buttons out to the two ends of the
toolbar and select the toolbar and add
its constraints left right and bottom
and also set the height select the item
and let's select camera from here and
for some reason we've got a nested
button yours will have to get rid of
this button once and again have another
button in there we've got a bar button
item drag it to the bottom and let's
rename this to tweet and what we do is
we get rid of this tweet button here
select the tweet button here and control
drag it into the dtap tweet function now
let's quickly discuss this out that this
tweet button is still working
so there we have the home view in front
of us if you click the new tweet button
here we see that the toolbar is showing
over here we'll make sure that it's
hidden and only shows when you click on
the text field so when you click on the
text field it's not coming up right now
so we can test this out so let's fix
that and then test it out so I am
basically is to make this toolbar stick
to the keyboard when the keyboard comes
up and it should hide when the keyboard
is hidden so let's first open up the new
to it view controller select the toolbar
control drag and create an outlet for it
let's call it new tweet toolbar and also
what we need is we need to have the
outlet for the bottom constraint of the
toolbar so let's get that come into the
constraints over here we here we have
the bottom layout guide for the new
tweet toolbar so let's control drag from
that let us call this toolbar bottom
constraint so we have type NS layout
constraint what will also do is we'll
create a variable called toolbar bottom
constrain initial value this is
basically going to store the initial
value of the bottom constraint and it's
going to be of type cg float next we'll
come to the view did load and the first
thing we want to do is we want to hide
the toolbar so let's say self dot new
tweet toolbar not hidden equal to true
this will ensure that when the tool when
the new tweet view opens up first that
the toolbar is he did now what we have
to do is we'll have to pick up the
notification of the keyboard opening and
closing and call functions for those
notifications so let's create a function
here called
enabled keyboard hide on tap what we do
inside this function is we'll set up two
observers which will check when the
keyboard is shown and when the keyboard
is hidden we are going to use NS
Notification Center door default Center
don't add observer so the first value is
going to be self the selector is going
to be the function that is called when
this particular notification is sent so
let's say selector and the function will
be of the new tweet view controller and
we create this function later it's going
to be called keyboard will show
and the name that we are looking for is
you I keyboard will show notification
and the object return will be nil
similarly we need another notification
which is NS notification center dot
default center or add observer again
self the selector this time will be
called of type new tweet view controller
dot keyboard will hide and the name is
going to be you I keyboard will hide
notification
and again object is going to be nil what
we're also going to do is we're going to
add a tap gesture recognizer to the view
so let us say let tap you I type just
recognizing is equal to you I type just
recognizer target is going to be self
and the action is going to be again we
put in a selector and put in the
function of type new tweet view
controller and it will be hide keyboard
you also have to create this function so
let's go ahead and create these
functions now so let's say function
keyboard will show the value we need is
we need a notification of type NS
notification so here what we will do is
we will say let info equal to
notification dot user info and then we
will sail at keyboard frame of types EG
right equal to from the info we will get
the UI keyboard frame end user info key
as nns value and we'll convert that and
with a CG direct value convert that was
EG duck value will also get the duration
but the keyboard takes to show so is a
LED duration equal to notification dot
user info inside that will go you I
keyboard animation duration user info
key and will convert that force down
cast it to a double next we just have to
basically animated so it is a uiview dot
animate when duration the time interval
will basically be the duration that we
got
and the animation that we need to do is
we need to move the toolbar up so it is
a self-taught toolbar bottom constrained
dot constant is equal to the keyboard
frame dot size dot height and also we
need to make sure that the toolbar is
not hidden anymore so it's a hit in
equal to false and will also call
another method or the frame layout which
is called layout if needed so if it
needs it'll expand or contract the
layout to make sure that the toolbar is
displayed next function we need is
keyboard will hide and again we need a
notification inside that of type and s
notification in this will just get the
duration of the keyboard hiding so
insular duration is equal to
notification or user info like last time
go inside get the UI keyboard duration
info key and again falls down casted as
a double and now we just need to again
call the UI animate with mutation the
duration is going to be the duration
that we just got and the animation will
be self dot toolbar bottom constraint
dot constant is equal to self dot
toolbar bottom constrain initial value
we wanted to go back to its initial
value and again we wanted to get hidden
so is a self-taught new to eat toolbar
dot hidden equal to true and we want to
say self tour view dot layout if needed
now the last one function that's left is
the hide keyboard function so let us
create that as well function hide
keyboard all it's going to do is it's
going to call the end editing method of
the view to ensure that
all text fields have stopped been
stopped editing now we've created these
observers here in the keyboard enable
keyboard hide on tap but we need to make
sure that we add these observers to the
view so what we'll do is we'll add it
inside the view did appear method and
this over here should be keyboard will
hide with a capital W coming back to the
view it appeared so here we will say
enable keyboard hide on tap what we'd
also do is that the initial value
variable that we created we give it the
value of the toolbar bottom constrain
when the view appears so we will say
self dot toolbar constrained initial
value is equal to toolbar bottom
constraint dot constant so that it has
an initial value ok so now everything is
set up except for one last thing which I
forgot earlier we created this tap
gesture recognizer we've got to add this
to the view so we will say self dot view
dot add gesture recognizer and pass it
the value of tap so now we're good to go
let's try this out so let's click on new
tweet there we can see that the UI
toolbar is not available right now let's
click on the text field the toolbar
comes up let's type in a new tweet and
let's press the tweet button now you see
the new to it comes up the toolbar is
hidden and so is the keyboard also if we
tap outside we see that the keyboard
gets hidden along with the toolbar so in
the next video we'll build on this and
allow the user to add photos to that wit</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>