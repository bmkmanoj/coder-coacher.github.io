<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#2 Twitter Scrollable Header Animation | React Native Animations | Coder Coacher - Coaching Coders</title><meta content="#2 Twitter Scrollable Header Animation | React Native Animations - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Unsure-Programmer/">Unsure Programmer</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#2 Twitter Scrollable Header Animation | React Native Animations</b></h2><h5 class="post__date">2018-02-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/APIkuRqrJpk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in a last video we created a layout in
this video let's animate it for that
let's first import animated from the AK
native and which have a view if you need
to animate we need to change that view
into our animated view so let's change
our header view to an animated view so
let's add animated dot view here and for
whatever reasons the outside one is also
changing let's change that back to our
view now we need to change the height of
the header depending on the distance
that the user has crawled so once the
user Scrolls up we want the height of
the header to reduce for that we monitor
the on scroll prop of the scroll view
and that will attach an animated dot
event method so in our scroll view it's
right on scroll is equal to inside that
we use animated dot event to detect the
vertical scroll event and inside that
what we'll do is it's a native event
what we're looking for is content offset
on the y-axis and here we'll set in a
value let's call that this dot state dot
scroll Y and let's create that value
here at the top will say constructor
props inside that we'll call super props
and we'll set the state here so we'll
say this dot state is equal to scroll Y
which is a new animated dot value which
has a value of zero just to walk you
through it again we're basically using
the default react native syntax over
here we're getting the event which is
the scroll event on the y axis and we're
setting a custom animated value over
here depending on what value this is
when the user Scrolls will animate the
header so that initial value starts with
zero now we'll set up the height of the
header dynamically so here inside the
render
let's create a constant called header
height which will be equal to this dot
state dot scroll Y and will interpolate
the value that the user has swiped to or
scroll to I should say and that will get
an input range will have an output range
so the input range requires a starting
point which is zero and the distance to
which the user is allowed to scroll so
the distance we want to allow the user
to scroll is from the maximum height
till the minimum height so you want a
difference of the header maximum height
minus the header minimum height during
this distance we will reduce the height
of the header so the output range
accordingly will be when the user is not
scrawled on the y-axis the height will
be the maximum height and when the user
starts crawling it will go towards the
minimum height it will never go below
this minimum height that we mentioned
here let's implement this and then
you'll understand this better so in a
style on header let's change this height
to the header height constant that we
created let's save this out if you test
this out now you'll notice that you're
not getting the performance that you are
expecting that's because scroll view has
this property called scroll event
throttle which is by default set to the
lowest possible value of one but we
should set this to 16 the highest value
makes sure that the performance is
better whereas the lowest value enables
more accuracy once we save this out we
will see that we're getting that
experience when we move up we see that
the header height is reducing and we
leave it it comes back to the height
again that's because we don't have any
data here and the scroll view is limited
but there's one more problem if we
continue scrolling it seems to overshoot
the minimum height for that we can put
in another property in the header height
here called extrapolate and set that a
clamp by default he'll try and
extrapolate your animation outside this
particular input range that you've given
but we don't want that so let's save
this a try it out we'll see there it
stops at the minimum height and we
scroll
back down it increases again obviously
we don't want the header to be bouncing
back to its position so that lets us add
an empty view over here inside the
scroll view which acts like it's taking
up all the space so that we can scroll
better so it's a style and just give it
a height of 1,000 you'll see if we go to
the top the header stays where it is
and we come back down the header comes
back down we obviously still need to
work in the animation of the profile
picture</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>