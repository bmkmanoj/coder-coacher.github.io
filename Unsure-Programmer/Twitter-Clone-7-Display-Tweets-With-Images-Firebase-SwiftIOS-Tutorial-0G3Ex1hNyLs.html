<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Twitter Clone 7 - Display Tweets With Images - Firebase + Swift(IOS) Tutorial | Coder Coacher - Coaching Coders</title><meta content="Twitter Clone 7 - Display Tweets With Images - Firebase + Swift(IOS) Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Unsure-Programmer/">Unsure Programmer</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Twitter Clone 7 - Display Tweets With Images - Firebase + Swift(IOS) Tutorial</b></h2><h5 class="post__date">2016-09-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0G3Ex1hNyLs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in the last tutorial we learnt how to
attach images with our tweets in this
tutorial will display those images along
without weights as you can see in front
of us we have the images along with the
tweet if we click on an image it
enlarges the image if you click on it
again and dismisses the image so let's
begin as always for people who have not
been able to follow along in this video
series the starter project files for
this particular video and the completed
project files of this particular video
not available on github the link for the
same is given below the video in the
description so coming to the main story
board I aim is to insert an image view
between this sweet view and the stack V
so select the tableview cell and let us
increase its size 2 190 select the stack
view and bring it down let us update the
constraints now let's insert an image
view between this
control drag from the image view to the
to eat will apply vertical spacing
control drag apply leading trailing and
add the constraints so that the width of
the image view is equal to the tweet
will also control drag from the image
view to the stack view to add vertical
spacing towards the bottom what will
also do is we set the height of the
imagery to be fixed at 77 so we add the
constraint and one more thing we need to
do is we need to add the bottom
constrain for the stack view so let us
select the stack view in control drag to
the container view and set bottom space
to contain imagine let's give this a
default image of the suits wallpaper and
aspect fill and also we enable user
interaction and we clip sub views so
that the image does not overflow out of
the box now coming to the tweet view
let's select that we do and deselect
scrolling enabled from its attributes
this will ensure that the tweet view
expands as a text inside rate increases
also coming to its constraints delete
the constraint that limits inside to 48
since we have a top constrained and a
bottom constraint to the stack view the
size will automatically increase now
let's run this and see if I layout is
working as you can see the image is not
displaying exactly as it should and
everything else is getting compressed or
cut out let's fix this come to the view
did load method you basically need to
add two lines of code softer home table
view dot row height is equal to UI
tableview automatic dimension and
self-taught
home tableview not estimated row height
is equal to let us say approximately 140
may silly when you set a row height as
your table view automatic dimension the
table view is told to you see auto
layout constraints and contents of
itself to determine each cell site by
giving it an estimated row height we
reduce the workload of the app because
it does not have to calculate an
arbitrary value itself knows that it is
approximately going to be around 140 and
it improves the performance of a table
view so now let's run this and see it
should be fixed as you can see now the
image is displaying nicely if we come
down we have this street which is a
random to it but it is very long but
that is also getting displayed perfectly
now that we have I image view displaying
perfectly let's get the image that the
users uploaded along with the tweet and
display that I start by going to the
home view tableview cell let us trade an
outlet for the image let's call it tweet
image also create an outlet for the
height of the image so let us call this
image view hide constraint I'll tell you
why we need this later coming back to
the home view controller we need to
start by checking if the tweet has an
image so for that let us copy this line
of code here we will say if which chef
thought we'd start count to get the last
one first dot value will go for picture
this time and we will check if this is
not equal equal to nail then we will say
let picture equal to same line of code
picture and we will force down casted as
a string
she'll let you are equal to nsurl string
and we'll put in the picture then we'll
just give it a nice border radius
you
so you basically gave it a corner radius
of 10 we give it a border width of 3 and
then we give it a border color of white
color now remember we had created that
outlets of the height constraint so here
in the else block we will say if there
is no image will say self dot tweet
image dot hidden equal to true this will
hide the image view but it still
occupies space in early out so what we
have to do is a self dot image view
height constraint dot constant equal to
0 but since there will cells are being
reused we have to make sure that when
the image does exist the cell dot we'd
image view is visible that is hidden is
equal to false and sell dot imageview
height constrained not constant is equal
to we have to create a default value for
the height constraint so coming to the
top over here we'll create a variable
called default image view height
constraint of types cg float and we give
it a value equal to the height of the
image which is 77 come down here and say
that if the image exists set set aside
to default image view height constraint
now you may have noticed that we still
haven't set the image for the tweet
image view that is because we want to
download the image asynchronously and
for that we'll use a library called SD
web image I'll put the link of this
library in the description below this is
amazing it helps us not only download
images asynchronously but also caches
the image for us and improves the
performance of our table view which
otherwise would be quite buggy if we try
to do it ourselves
basically to install this we can come
down to the installation section we can
use cocoa pods as we have been doing
let's copy this line of code over here
we'll come into the project folder in
the terminal open up the pod file at the
bottom with at that line of code exit
out and the same pod install before we
use it we just need to build our
projects or that project in detect the
library press command be to build the
project once the build is exceeded we
can import SD web image and now we can
display image with just one line of code
say self dot tweet image force unwrap
that dot SD underscore set image set
image with URL and we will use this one
which has the NS URL which will call you
error as you already converted it here
and for the placeholder image we just
say uiimage named and we just give it a
default cut icon let's run this and see
now as we can see we are seeing the
image come up as we expected but the
cells without the image are not
collapsing let's go fix this
so come here click on the stack view
come to the constraints you'll notice
that the stack view has a constraint
which says top space to tweet equals 81
if you remember when we had moved to
stack view down we had updated the
constraints which caused this constraint
to be created basically how this
constraint is doing is it's always
trying to maintain a distance of 81 from
the tweet view which is not what we want
when the image collapses so let's delete
this out let's try this out huh as you
can see now the the tweets that have an
image are showing the image and the ones
that do not have an image are nicely
collapsed one last thing is we need to
do is allow the user to tap on the image
in the tweet and view a larger version
of that image will do that by adding it
adapt gesture recognizer to the image so
let's do that let's create the
recognizer called let image tap equal to
UI tap gesture recognizer target will be
self action will be this is selector
when method that will create is when we
called it tap media in to it and all I
just create this method before we get
that method let's add this to a tweet
image which tap and now let's create
this method coming out of the bottom
this method is good tap media in tweet
like we mentioned sender is going to be
a UI tap gesture recognizer and inside
this the code we need is the same code
that we put in in the me view controller
here we are allowed the user to view a
bigger profile picture so that just copy
this it's inside the view picture action
that we created in the dip tap profile
picture method so let's copy this
come back to the home view controller
and paste this in here so we create the
image view we set the new image view
equal to the image view dot image set
the frame equal to the self set a
background color content mode enable
user interaction and also add another
gesture to the larger image to dismiss
that image when the user taps on it
again for that let us create the method
here is going to be called dismiss full
screen image and again sender will be of
you I tap gesture recognizer and all
this will do is it says send out or view
to remove from super v all that has gone
now and we can try this out here we have
the tweets with the image let's tap it
as you can see that the images become
bigger tapping it again dismisses the
image I hope you guys liked this
tutorial and try this out we'll build
the rest of the app in the next tutorial
please like and subscribe thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>