<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React Native Tutorial and Walk-through in One Video | Coder Coacher - Coaching Coders</title><meta content="React Native Tutorial and Walk-through in One Video - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Dylan-Israel/">Dylan Israel</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React Native Tutorial and Walk-through in One Video</b></h2><h5 class="post__date">2017-02-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rW4kqqQwPFs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">code everything hi my name is Thomas and
I'm a full stack web developer in the
following video I'm going to show you
react native react native allows you to
easily create iOS and Android apps very
easily all sharing a similar codebase
it's done entirely in JavaScript
although you can build custom components
with native code like Swift or Java but
for the purpose of this video I'm only
gonna be covering the JavaScript portion
and you don't necessarily need to know
react to follow along with this video
but it will help and I won't be covering
any iOS stuff simply because I don't own
a iPhone or a Mac now let's get started
with Android development for react
native so in order to run react native
you're going to need three things and
there's an optional for that I'm gonna
be showing you later so let's open up
our browser and head over to node J S
org we're going to be downloading the
long-term release version of node and I
already have this downloaded over here
in my tutorial folder and we're gonna
have install that later and next we're
going to be installing Python so head
over to python.org downloads
and click Python 2.7 point 13
next up we're going to be heading over
to oracle.com slash java here we're
going to click java for developers we're
going to scroll down click Java SE come
down here and select java SE 8u
one-to-one or whatever you get here now
we're going to scroll down here
and download
a DK for your version of Windows X up
we're going to need Android studio
so head over to developer.android.com
slash studio and just click the big
download Android studio button now this
last one is optional but I highly
recommend it simply because it's much
faster than using the emulator that
ships with Android studio and that's
because on Windows if you have a hyper-v
enabled PC the emulator will be able to
use hyper-v which is running on Windows
api's and make the most of the resources
available to it so basically the
emulator will be running at nearly
identical speeds to an actual device
so just click download the emulator here
on Visual Studio comm /v s slash MSFT
- Android - emulator
so now that we have everything
downloaded let's start with installing
nodejs
just make sure to click through all the
prompts is not really much you have to
do here
okay now that that's finished installing
let's move over to Python now make sure
you've downloaded Python 2.7 not the 3.0
or anything higher than 3 because that
does not work with react native
again just click through all the prompts
not much configuration to be done
now that that's finished installing
let's move over and install the JDK
again we're just going to click through
all the props not much to do here
and now that that's finished installing
let's go ahead and install Android
studio
you
again just click through all the prompts
you
now that Android studio has finished
installing
we're going to start Android studio
we're going to go to configure
we're going to go to the SDK manager
we're going to make sure we have
installed android 6.0 api level 23 so i
already have this installed but if
you're doing a fresh install on your PC
you're not going to have this installed
so make sure to click that and apply
now we can close out of Android studio
and open up our command line or
PowerShell I'm going to go with
PowerShell okay so from PowerShell first
let's make sure no js' is installed and
there we go
and should return you the version now
we're going to type NPM install - G now
this means global so it's going to
install it globally so you'll be able to
execute this from any command prompt and
we're going to type react native CLI now
we're just going to wait for that to
install and there we go and let's
minimize this for now
so now I'm going to go over the optional
install of the vs emulator setup
and install okay now that's that's
finished installing let's open it up
we're going to install a device with the
marshmallow API 23 I'm going to go up
the one that's similar to the Samsung
Galaxy s6 here now here you may be
prompted that you don't have hyper-v
enabled so you're going to have to
enable that and in order to do that you
may have to enable virtualization in
your BIOS but that goes out of the scope
of this tutorial so you're going to have
to figure out how to do that on your own
I will provide a link here at the bottom
of the screen that will show you how to
enable hyper-v now you may also be
prompted to sign out of your PC to allow
the permissions to take effect so you're
going to have to sign out and then log
back in and then do exactly as we just
did okay now that the device is
installed we're just going to click the
play button here
you
and there we go our emulator is running
let's just make sure that it's running
properly now if you try to do this on a
virtual machine as I did and had many
headaches over when you access any menu
where you're able to scroll the screen
may go black and you're just unable to
fix it you just can't really do
emulation of an Android device on a
virtual machine unless you're using the
arm API which is ludicrously slow and I
highly don't recommend doing it because
it is just insanely slow but here our
device runs at near-native levels so
it's actually very very smooth how it
might actually run better than my own
phone so now we're going to open up
PowerShell again and we're going to
check if our environment variables have
been updated
here you can see a DB does not work
also check if the Android command works
and that also doesn't work so in order
to get these working we're going to have
to go into our environment variables
we can minimum we can actually close out
of this here because we're gonna have to
restart it anyways for the environment
variables to take effect so come here
click environment variables we're going
to come down here we're gonna create a
new environment so here we're gonna call
this android under store home and the
variable value is going to be our
install directory for the android sdk
now as long as you didn't change any of
the settings while we were going through
the install the android sdk is going to
be located under your local disk see
users your user app data local
Android
and right here we have the SDK folder so
let's get a visualization of that string
so here we are see users your username
app data local Android SDK so we're
going to click OK
before we do anything here we're going
to open up PowerShell again and we're
going to run Android and if it still
doesn't work you're going to have to add
something here we're gonna scroll down
to our path we're going to click Edit
we're going to click new and we're going
to add two entries here so we're going
to add % Android underscore home %
backslash tools
we're gonna click new again and we're
going to add % Android underscore home %
backslash platform - tools
now we're going to click okay I'm going
just okay out of all these prompts we're
going to run PowerShell again
and now when we run Android is going to
work and it's going to show us the
Android SDK manager
now to get the Microsoft emulator
working we're also going to have to add
a key to our registry so open up run and
we're going to run reg edit and now that
reg edits opened we're going to go to H
key local machine
we're going to go to software
we're going to scroll down
while six four three two node I'm going
to open up the folder and we're going to
create and we already have one here for
me so for you you're going to
right-click here new e and you're going
to call it Android SDK tools exact
casing so Android capital SDK all caps
tools capital T and since I already have
that I'm just going to remove this key
you're going to come here
and we need to add a new string value
called path with a capital P we're going
to create that right click modify and
the value data is going to point to our
Android SDK so C users your username app
data local Android SDK now we're going
to click OK
and that's all we have to do so we're
just going to file exit and move on to
the next step
okay now let's install the API is needed
run react native so type Android SDK
and here we are so make sure to select
these three here you don't have to
select these but this prevents many
potential errors now also scroll down
here the Android 6.0 now if you're not
going to be using a hyper-v enabled
emulator then select one of these here
I'm going to select Intel x86 atom
system image and also make sure to
select SDK platform and just click
install
except a license and install away
okay when that finishes installing we
can close out of the enjoyed SDK so if
you've opted to not use the Visual
Studio emulator I'm just going to
quickly show you how to start the other
emulator in order to do that you just
write Android ABD which means Android
virtual device that's going to open up a
little java application with all of
these virtual devices for you to create
and you hit create
this is where you create your device so
let's just give it a random name and the
device you choose whatever you don't
ever device you want argot you're gonna
have to choose Android 6.0 and the CPU
until Adam x86 this is what you've
downloaded in the SDK previously and you
give it a skin
then you would click ok and it's going
to create the device
and once it's been created you just
click on the device and hit start but I
have hyper-v enabled so this isn't
actually going to start or at least I
don't think it should
so as you can see it just closed out and
nothing happened because I have hyper-v
turned on so just completely failed
but once you have this enabled all your
going to do is with the emulator up once
it's started you're just going to type
react
you're just going to type react native
run Android in the folder where the
application is so you would go to
tutorial
wherever the folder is so in this case
tutorial app and you would just run it
in there
without running the command I'm going to
show you which is - - device ID you
don't need to do that
now let's move on to initializing our
application in order to do so I've
navigated to my desktop and into the
tutorial folder and I'm going to run
react - native in it tutorial
app this is going to create the react
application installing all the
dependencies and setting up all the
boilerplate code
that's finished installing we're going
to open up our emulator
and we're going to start one of the
emulators we have installed with the API
level of 23 marshmallow six point zero
point zero
once the emulator is started we're going
to run a DB Devices and this is going to
print out our device's IP and port
number we're going to copy that and
we're going to run react - native run -
Android - - device ID and we're going to
paste in our IP import information now
make sure that you've navigated to your
project folder in this case it was
tutorial app which is created when you
initialize the react native project
so now we're going to execute this and
it's going to deploy the application to
our device
then you have to restart your Android
device or emulator
and re-execute the run Android command
pointing to the correct device the react
package manager is bundling our
application and here it is our first
react native application
now the cool thing about react native is
that we're actually going to be able to
edit this here without recompiling our
application
so we're just going to go into our
folder here and we're going to open up
index Android Jas
okay now that we've opened up the file
we're just going to change some of the
text here
but let's start with right here to get
started edit index dot Android J s so
let's just change this to hello and
whatever your name is save that go over
to your emulator tap R twice
and your text is going to be visible
here your changes have been made
now before we get into building our
example application I'm just going to go
over what a few of these things are so
as you can see here we have our import
tags so we're importing
all of the necessary dependencies and
components that we need in order to
create our react native application so
here is our application here this is
literally all it is this is all the code
to actually create our application we
don't need anything else with this in
the import tags and right down here the
app little registry
so let's go into what this stuff is so
this is using es6 classes
and here we have the export tag to
export our class and it's extending a
component here which is imported from
react right here
and it has a render method and our class
has a render method which returns our
view so if you're familiar with react
this is exactly how it's done in HTML
except we're swapping out the tags here
so if you're not familiar what you need
to do is when you do a return so you
need to sue if you're going to return
something that's more than a single line
you have to surround it with parentheses
and then you just return whatever
elements are inside so in this case
we're now keep in mind you can only
return a single item and everything else
in has to be nested inside of that item
so here we have a view component which
is imported here which is essentially a
div and here you have your text which is
basically I mean your text element it
functions similar to like a P tag in
HTML and then here you see they each
have their own style attribute so style
is essentially you're assigning the
class so if you were doing this in HTML
this would be class and it's a little
bit different because we're passing an
object to it and in this case the object
is here this is the styles object styles
container here's the container this is
the CSS it functions just like CSS would
in most cases except instead of having
any dashes because this is JavaScript
you have to use camel casing and this is
obviously a string and in order to
create a stylesheet that's going to be
performing now you can just use an
object but this allows performance
benefits so you want to do stylesheet
dot create here and then pass it an
object
and then here we have the app registry
which is what's going to register our
app so we just pass in the name of our
application and then we pass in the
starting component so we could import
another component here like we could
create our own component import and have
it start with that one instead of this
but it's not much point in doing that
other than for organization purposes
and here I'm going to show you now you
may be wondering how do I add multiple
classes to a component now you may think
you can just add a comma here and write
whatever the classes like styles dot
James or something I don't know you
can't do that though because this ignore
this this just means that you're going
to be using a JavaScript expression so
when you add these curly braces each
everything inside here is treated as an
expression and if you add something like
a data like if you add data of course
you know how JavaScript natively works
if you pass a parameter it's just going
to return the parameter
so in order to actually add multiple
classes to a component you have to put
it in an array so here we have an array
and we could do styles dot whatever and
then another Styles dot I don't know
pick Col and that would blow it all the
Styles into this text element we don't
need a via Slee these don't exist but if
you want multiple styles on an element
this is how you would do that that's
that's the rough basics of what's going
on here in this index file
and now we're going to move on to
actually creating our application
so to get a better understanding let's
actually just delete all of this and
rewrite it ourselves in order to get
into the flow of writing a react native
application so first we're going to need
to import react as well as component
rum react up here and then we're going
to need to import so now we're going to
need to import let's just import the
necessities first so we can start with
app registry and next let's just import
a text element I'm gonna import that
from react and native now let's get on
to actually creating a class so export
default this is gonna export this as the
default so if we import this somewhere
else it's going to export this class as
the main thing so class and this is
going to be a contacts book application
so let's just call this a contacts app
and then we need to extend from
component so this is going to take all
the functionality from component it's if
you're familiar with programming 101
basically object oriented programming
principles
this is inheritance now let's create our
render method so render let's return a
view so return and in this case we don't
actually need parentheses because it's
just going to be a single line so text I
guess we can start with hello world make
sure that everything is working
so now let's register our component so
app registry dot register component and
this is a method so we're going to do
that
the name of our application on tax app
and then we're going to pass it the
component so in this case we're just
going to use a lambda function here and
pass contacts app
now that our emulator has started we're
just going to open up PowerShell
and let's quickly navigate to our folder
where the application is being hosted so
now that we've navigated to the folder
that's hosting our application was just
drawn adb devices
copy our port and IP information now we
run react - native run - Android - -
device ID paste in our device ID right
here so the IP and the port just click
enter
now we just wait for the application to
be built and sent to our device ah so
you might get this error here so we're
just going to press any key to continue
as it says and you can see that this
didn't work per se cuz it didn't build
our application as we ran this
previously it just reopened what we
already had so just press that and if we
run this again it should work okay so we
don't have the error here now so this is
hosting and serving our files so if we
press R twice it should load our new
index file in this case it's
transforming so it's actually bundling
and building it now so it appears that
we have an error so let's see a precious
tree that Register component okay so
made a little iffy error here now you
have to keep this right here this has to
be the same name as the folder as the
application so we're just going to call
this tutorial up we can keep this to be
hosting any component that we want and
this needs to be a capital R so just
save double tap R and there we go hello
world and the smallest lettering
possible so now let's just quickly add
an inline style object so you can get
this a bit bigger cuz this is really
tiny so in order to add an inline style
object you're going to do the curly
braces now remember this is not an
object in itself this just indicates to
react that we are putting an expression
into our code so we're going to add our
object here so right here you see the
curly braces now this is our object
we're going to call font size
camel casing and her font size we can
actually just use raw numerical values
so let's put this at 48
save
fresh and there we go we've got
everything working and running and we
have our very very bare-bones
application so from here we're going to
be able to build our contacts app so
let's move on to actually doing so
let's start off with just putting this
in parentheses so we can expand let's
add the title of our application at the
top so in this case we're just going to
add a text element and let's call our
application contact guru why why not why
not
close that tag
make sure it's working contactor ooh
there we go now let's actually create a
style sheet so we're gonna come up here
and add to our react native imports
style sheet let's called Const and let's
create a variable so Const Styles equals
style sheet dot create out our object in
here and let's call our first style
title so in here we're just going to
have another object and we're going to
add font size let's go with 48 that
seemed like a pretty reasonably large
enough size and let's add our style to
our text element so style equals Styles
dot title save and let's make sure this
is working and there we go let's just
align our title towards the center so
text-align:center save and let's make
sure that worked there we go it's
centered
now I'm going to show you why we can't
actually add multiple elements like this
to a simple return statement it works
just like vanilla JavaScript you can't
return multiple objects ultimately you
can't have a return statement that
returns multiple things and each one of
these components here each one of these
tags is its own object so we can't
actually return double text or because
if we do that we're going to get an
error so we're actually going to need to
put this in a view element so let's just
import view create our view tag so
refresh and there you have it nothing
has changed
now we're going to add our contact list
so in order to do so we're going to
import a list view going to save
we're going to put our ListView right
here so list view and a ListView is
actually a self closing element so we're
just going to close it off like so save
let's make sure there's no errors and
there is so basically what we're going
to need to do is we're going to have to
actually add a constructor here in our
class create a constructor
constructor is what initializes all the
variables in our class if you're
familiar with Java or C sharp you these
should be quite familiar to you
and up here we're actually going to need
to create a data source so we're gonna
call this const data source so DS we're
going to abbreviate and new ListView dot
data source and in here we're going to
pass in an object so this is our options
this is how you're going to configure
our data source all we need to add here
is a row has changed
and in here it's going to be a function
so we're going to use a lambda and r1
which is Row 1 and Row 2 and this is
going to detect if a row has changed by
checking if the previous Row is
different from our our current row
so all you need to do is row 1 does not
equal Row 2
now this is direct from the react native
documentation and should be suitable for
most applications and most datasets and
if you want to go into more detail
definitely check out the react native
documentation it's wonderful stuff very
well written and will go into a lot
deeper detail than what I'm going to go
into here now we're going to go into a
new subject which is state so each
object holds its own state and state can
be thought of as data that's going to
change in your component so if it's
going to be changing over time we're
going to use state and it's going to
hold all of the pretty much variables in
our application that we're going to be
needing to use throughout the component
and passing to child components so in
order to create a state in our
constructor we're going to do this dot
state equals and we're going to give it
an object so inside of our state object
we're going to pass data source and our
data source is going to be D s dot blown
with rose so this is going to use our
data source and add rose to it
everything that happens in react native
is immutable
at least should be immutable which means
that if you create an array you can't
push pop in to set array
guess that's against how react works
it's not going to be able to detect the
changes properly so everything is
immutable so in this case clone with
Rose is actually going to use our data
source and create a new data source from
the old data source so inside our clone
with Rose we're not going to do curly
braces are actually just going to pass
in an array and in our array is all of
the entries that we're going to have
display in our ListView
so in this case let's just add some
sample entries like James and Susie now
let's get back on to working with a
ListView
so in our ListView we're going to add a
data source
in this case data source equals and
let's add our react expression here so
this dot state this is referring to here
dot data source
so now we're going to add a render row
attribute and then make sure it's an
expression and here we're going to use
the lambda and the lambda is going to
receive the person's name as the
parameter so we're going to just call
this person name and it's going to
return text element
and here more curly braces to indicate
an expression so this is going to be our
raw JavaScript interpretation in this
case person name
now we're gonna close off that tag and
now if we refresh our application it's
still not going to work why because we
haven't added super to our constructor
and if you're familiar with Java super
is exactly what it is
so what super basically is is it's going
to initialize our component with all the
parameters sent to it so in this case if
we had props being sent to our thing we
would have to do super props if we
wanted to use our props here in the
constructor then it will initialize and
allow us to work with the props so now
if we just double tap our our
application is going to render our
ListView down here in very tiny letters
so let's create another style element in
this case let's just call it contact I
have an object font size let's go with
something like 20 for save let's add the
style to our text element here so style
equals curly braces Styles dot contact
save it's reload there we go
now rather than return a text element
for each row let's actually create our
own component so let's go over to our
folders here and add a new folder called
app an in app we're going to add a new
folder called called Android
and in here we're going to
create a new file and this is going to
be our list item component so list item
J s and in here we're going to import
react as well as component from react
we're also going to import three things
here so view so view text and a new item
called touchable highlight from react
native and now we're going to create a
class so export default class list item
extends component
now we have it and we're going to give
it a render function and we're going to
return our new item here so let's put it
inside of you and inside our view we're
going to add our touchable highlight
let's close that off inside of our
touchable highlight we're going to put
in our text element in here we're going
to add curly braces this dot props now
we haven't covered props so props is
what's passed to a component from
another component it's immutable so you
should never edit props directly you
should setup functions and handlers in
order to edit the state that is being
manipulated when which that state is
passed as a prop to its child component
and this dot props dot
and this hasn't been created yet we
haven't passed the prop yet but in this
case we're just going to call it name so
this is gonna pass down the name from
the previous blast right here as you can
see the person named and this is going
to come in here so let's just write that
real quick in order to get a better
understanding of how the props work so
in this case we're going to have to
import right here at the top import list
item from and in this case we have to
actually navigate to our folder so dot
slash which is going to be relative to
where this item here is this indexed
Android so dot slash app / Android slash
list item and we don't have to add dot J
s here because JavaScript knows that if
you're not adding that it's go probably
going to be a JavaScript item it just
assumes that it will be a JavaScript
item then you hit save
and in here we're going to actually add
our components so in order to add a
component it's going to look just like
all these components all these
components view and text and list view
whose its own tag but we're going to
make it self closing so list item and
here's where we add our props so prop
searches attributes added to a component
so name equals curly braces person name
we're gonna close off our tag and there
you have it so let's just finish this
component real quick I'm going to do
that all we have to actually do is close
off our text tag here and hit save
now we just come over to our app over
here DoubleTap our
there you go we have our touchable
highlight although it doesn't look any
different than it did before
but now as you can see we are passing
props
from our index component here
to our own custom component
and that's the basics of how a react
application is going to work you're
going to be creating your components and
they're going to be nested inside other
components and then the states going to
be passed down from the major first
component so there's actually a concept
of smart and dumb components where one
is smart so it contains all the Staton
and functions and handlers that you're
going to need in order to actually
manipulate the data and then you're
going to have dumb components like these
let's simply just return a view
so let's quickly just copy our
stylesheet from over here into here I'm
going to remove contact from here paste
it in remove title from this one
just import stylesheet
save at our style over here to our text
element
you
and refresh
and there we have it back to what it
looked like
so the reason we included a touchable
highlight is because on the touchable
highlight we can add an on crest method
here of course you can add this to your
views into your text but with a
touchable highlight let's just quickly
add in a blank lambda expression save
and refresh when you click as you can
see grace this highlight when you're
clicking or pressing the element
we can change that color but for now
we're just going to leave it as is and
implement some actual functionality so
we're going to head back over to our
index Android
Jas
and we're going to create a new
method here and we're going to call it
view contact
so in view contact what we're going to
do is we're actually going to add a new
entry to our state here and here we're
gonna call it idle mode al however it's
pronounced visible and we're gonna start
it off with false and in view contact
what it's going to do is it's going to
flip the switch for mod al visible so
this dot set state and here we're
setting our state so in here when you
set state this is how you change state
and react this is going to essentially
if you're familiar with object sign it's
essentially doing that with the state
it's going you just you don't have to
give it all the values you just have to
give it which value want to change and
it will just change that one or whatever
ones you want it to change
so it basically merges two objects
together the new object and the old
object which in this case is the new
state in the old state
so we would write model visible and in
this case we're just going to use a
ternary operator to quickly swap it so
we'll do this dot state dot model
visible which is going to get the
current state of model visible and if
it's true we're going to return false
and if it's false we're going to return
true a simple easy peasy switch
now we're actually going to have to make
a new component well we don't have to
make a new component but for
organization reasons and making sure our
files aren't massive we're going to
create a new component under Android and
we're gonna call it intact details dot J
s and in here we can just copy our
imports from over here paste them here
and we can just remove the touchable
highlight we're going to create a new
class so export default class contact
details extends component
when to render and in our render
function we actually don't have the
component that we're going to render yet
so we're going to import it up here so
my dowel so mo da L this is our new
component
and we're going to place this model
right here
let's close off that tag
so in model we're actually going to add
this real quick to our index over here
we're going to add it right at the top
here
model is going to pop up over our
elements so it's not going to actually
like push anything down or alter the
layout or anything it's just going to
appear as an overlay so we're going to
first okay actually need to import it so
and a copy paste this and replace the
items so con act details and then in
here contact details over case see we're
going to add that right here so contact
details save we're going to pass it to
props so the first prop is going to be
visible equals this dot state dot model
of easy bail and also we're going to
pass it the view contact so toggle view
equals this dot u contact and now we're
actually sending this function here to
our contact details so let's just
quickly make sure that everything's
working so in our model we're going to
add a couple attributes here first one
being
visible equals this dot props dot
visible save and the next one being
transparent
so we're going to actually just disable
this for now we're gonna make it not
transparent and that's intended behavior
for the future as well and inside here
we're just going to shove in a view
inside the view let's just add a text
element and in text element let's just
add click me on the text element let's
add an on press equals in this case this
dot crops dot
ah --gel view now we just come over here
to our contact thing that will tap R and
as you can see we have an error and
that's because I didn't put this in a
return tag so silly me quickly at that
and fix the indentation okay now when we
double tap here we are and here we have
a little warning here so failed prop
type the prop on request close is marked
as required in model but its view is
undefined so unrequested going to have
to add that so on request clothes equals
let's just use a lambda here and for
this lambda let's add say go with an
alert contact blows now let's double tap
there we have it our model is working
but we have no way of triggering it so
in order to actually trigger it we're
going to pass the toggle view here this
dot view dot contact over to our row now
this is so when we tap this it's going
to open up our model so over here in our
list item jeaious under touchable
highlight under on press we're going to
have it toggle to view so this dot crops
dot ogle view going to add parentheses
there to execute it
DoubleTap our clique
here we have an error so telling me
undefined is not an object so the
problem is that we have to bind this
we have to bind this to to the function
so binding this means it's binding this
current component this as in the
JavaScript this if you don't know what
that is
you should probably google it it's very
useful and we're going to have to bind
that as well over here on the row
save and now when we DoubleTap it works
so we have click me and you can see
click me and it back contact close the
alert works as well but as you can see
it doesn't toggle the view so on request
close we're actually going to have to
toggle
so we're just going to do this stop
props dot toggle view double tap again
er it's open so if we hit back now going
to make it go away we open it again or
click me it's gonna make it go away
so now in order to get the contact
information onto our model so on to here
we're going to need to change our data
source like change how it functions how
what's being stored inside of it we're
going to keep the names but we're going
to turn them into objects so we're gonna
start off with turning this mr. James
horn lurker to an object so there's one
object the name here we are
and let's just include an address here
address 1 2 3 candy Street phone to save
now we're going to earn Susy into her
own little object here so name paste
Suzy address go with a 41:13 Willowbrook
Willowbrook why not you know that
justice don't need to be realistic I
just need to be let's just bring this
down here for sake of reading it now
down here we're going to have to change
our render row so instead of person
named now it's just person and then here
a name we're going to change this to
person I'm gonna pass it the person and
now we're going to head over into our
list item and we're going to pass it
this dot props dot person dot name now
we're also going to change the toggle
view here so instead of this you contact
dot - we're actually also going to bind
the person here so this comma person so
this is going to add person as a
parameter the first parameter actually
to our view contact in up here and view
contact on the set the person so it's
gonna take a person parameter and we're
going to go into our state and add a new
entry person and in the beginning it's
just going to be nothing so name I'm
gonna make that empty and address will
also be empty
save and in here we're going to change
the active person to person here save so
what this is going to do is when you
click on this is going to pass the
person to view contact person and then
the person is going to be saved into the
state and then in the state we're going
to pass that to the model in order to
view the person's details but we're also
going to need to add a safe hand because
we need to make it so if person doesn't
exist if person is not here we're just
going to return nothing the blank
person's state here so in order to do
that we're going to use the ternary
operator we're going to do person and if
person does not exist this is going to
return false so person and if person's
true return person else we're going to
return this right here our name and
address the blank one and now we need to
head over to our contact details because
right now we're not currently printing
anything it's just going to say click me
we have to replace this we can keep the
text element here got to remove the on
press here we're just going to write
name and add in our little expression
here so this dot props dot person dot
name copy this and change this to
address and here address and now we'll
just double tap R and we're receiving
this dot props that person dot name is
not an object and that's because we
haven't passed person to contact details
yet so in contact details person equals
this dot state dot person and now if we
just double tap R again and we click one
of our entries
to get the name in the address of course
it buried tiny characters let's fix that
real quick I'm going to add a style
object in this case I'm just going to
quickly copy the styles from the list
item and we'll just rename this to field
and we'll keep the font size at 24 and
we'll add the style tag to both but what
we can actually do here is we can change
this view element into a text element
add the style of styles dot field save
that will tap R and now when we click
this as you can see the text element
accepts inner text elements which act
more like spans they don't act as block
level elements anymore so as you can see
that they're running together like so in
order to break that we can actually add
an expression here /n you got to turn
that into a string double tap and there
you go if you're familiar with
JavaScript you're gonna know about /n
for Strings so as you can see the style
element is applied to all children of
the parent text element so any text
components inside this text component
are going to inherit said styles
so now we're going to implement the
ability to edit our contacts so let's
get started first thing to do going to
move this array here from our clone with
rose into its own variable up here so
var and let's call this contacts equals
it's the array and in our state we're
now going to add the contacts to our
state so contacts contacts and in here
with datasource the DES scone with Rose
we're gonna put our contacts in that and
now that that's set up let's just
refresh to make sure it's working and
it's not so we have to add a comma right
here okay
there we go just tiny syntax errors now
let's add our edit contact function or
method if that's what you want to call
it going to passing an index now we
scroll down here and because we're going
to be passing index to edit contact
we're going to have to get the index of
the contact when we edit it so in this
case we render row we're going to have
to render row actually passes three
things
it passes one the data ooh
a section ID which we don't need and
then three a row ID so we're going to
bind the row ID back here at the end at
auto v' you so this table view contact
up bind want to pass it the row ID
now when people go to view the contact
we're going to add or view contact
method index in this case we add the
index here asset the index and now if
it's missing an index we're going to
change this so index we're going to use
a ternary operator so if the index
parameter exists it will change the
index to index or else it will change it
to negative one now we can move on to
our edit contact method so under edit
contact we're going to do bar new array
equals this dot state contacts not slice
because we need a new version of
contacts we don't want to reference the
array then we're going to do new array
index equals in this case we would
typically what we want is a new person
so the edited person here but in this
case we're actually going to just for
the sake of showing that this works
we're going to create our own person so
I'm actually just going to copy this up
here paste it and let's just add some
names and now we have to or set the
state so this dot set state we're going
to change contacts to the new array and
we're going to go into our datasource
we're going to dry this dot state
datasource dot clone with rose new array
I'm gonna save so now under contact
details we're going to have to add an
edit attribute it's going to point to
our edit contact methods so this dot
edit contact we're going to go to
contact details and under text here
we're going to give it an on press
attribute which is going to execute this
dot crops dot edit
now when we refresh
undefined is not an object so we're
going in error oh yes we need to bind
this to our edit function and we also
need to fix our on press over here so
we're just going to take this and we
have to put it in a lambda and add
parentheses
now in our index Android Jas we're going
to fix right here the new array index
we're just going to refer to this dot
state dot index instead since we removed
it from here so we don't have to pass an
additional attribute to our contact
details when we save and we refresh
click on a person we head back we're
gonna see Bobby so in order for that
change to carry over to the model when
we make the change we're just going to
have to add person here to our state and
in this case we're going to refer to new
person which is going to be the new
person that's added when we edit the
person so it's basically replacing but
it's going to use the previous
information but in this case we're just
going to copy this because we haven't
set up the new person yet so we just
save refresh click and when we click it
you can see that the name and the
address changed to Bobby
now we're gonna add the new person part
of our edit contact method so if we head
over to contact details
we're actually gonna give this component
the state so we're going to go and
create a constructor in this case we
would need to initialize the props so
super crops and now we're gonna set up
our state so this dot state equals we're
gonna set the name so the state's gonna
represent our person so the initial
value for name is going to be this dot
crops dot name and the initial value for
address guessed it it's gonna be this
dot props dot address it's not it it's
this dot props dot person address this
dot prop stop person dot name now we're
also gonna add edit to our state so edit
and right now and it's going to be false
now we're going to have to create its
another switch so in this case toggle
edit this dot set state that's in the
object edit this dot state dot edit and
if it returns true then we return false
and if it returns false then we return
true save so now we're going to add user
input to our component here so in order
to do so we're going to add a text input
component so we're going to give this
component two modes in edit mode in a
regular mode and in order to do so it's
actually fairly simple we're just going
to separate this name here his name
label from our text from our person name
here and to move this over here as well
save that if you run this right now
we're gonna get an error you should
that's not crazy oh that's because this
stuff right here is actually an attack
text tag so we're not going to get an
error and we're actually going to change
this outer text tag into a view and
we're going to add the style attribute
to our labels and instead of calling
this field we're actually going to make
our own new label style and the label
style going to also have a font size of
24 but we're also going to give it color
of black and you're actually allowed to
use HTML colors here so we can do that
and then under our label here we're
going to change this label and over here
with our props
name want to delete the newline tag is
now this is a view so we don't need it
because these are going to be block
level text elements and we're actually
going to have to put each one of these
fields into their own views so view
close that off copy that paste each one
in here so now your return method should
look like this with the outer view
component looking like so we're going to
add our own expression here now so this
dot props dot person dot name what we're
going to do is add a ternary operator so
we're gonna check this dot state dot
edit and if edit is true we're going to
return a text input and for now we'll
just return a raw text input and if it's
not true we're going to return this dot
prop stop person dot name but in a text
tag close that off
we're also going to need to put our
curly braces around this again
and now as long as we fix this
indentation here we need to move the
curly braces onto their own lines like
so underneath the text element and when
we double tap our we're going to get it
working so we have our name and our
address and now in order to toggle the
edit mode we're going to create a button
down here
so inside of our containing view we're
going to create
and in this case we're going to import
button from react native we're going to
add the button with an on press equals
and then this dot our go edit we're
gonna close the button and a button
requires a title attribute and in this
case is going to vary based on what the
state of edit is so this dot state duck
at it and if edit is true it's going to
display save and if that it is false
it's going to display edit we're going
to save a DoubleTap our here and here we
are here's our button when we tap Edit
we're going to get an error and that's
because in our on press handler here we
haven't bound this to it slowly refresh
it we're going to get our text inputs so
you have to bind this pretty much most
on press things even if it's in the same
component now I'm not sure why that is
so but that's just how react seems to
work now if we hit save goes back to
this so now in order to display the
names here in the text inputs and bind
their input to our state all we have to
do is go into our text input and set the
value equal to this dot state dot name
for the first one paste that in here at
the bottom one to change this to address
and we also have to change the on change
text attribute here so we're going to
put in an expression and this returns
the new text now we're going to set our
state so this dot set state and we're
going to change in this case name to the
new text save I'm going to copy this
paste it down here as well and in this
case we're going to change this to
address
to save that now when we double tap our
come over here
edit
we don't get the names so
and the reason we don't get the name is
because up here in our state we actually
referred to this as this dot props but
in this case we only have to refer to it
as props top person name now when we
double tap our and edit still not going
to work
and for the reasoning for this not
working is because this is a single
element that is not being recreated
every time we click on a new person this
is being reused and replaced so this
constructor is only being executed once
in order to fix this and have it so each
time the name has changed instead of
this like whatever we write here
remaining we're going to have to add a
new thing we're going to have to add a
lifecycle method so lifecycle method is
essentially our react deals with
receiving new state new props and how it
sends it to components and how
everything works how it is able to tell
the difference between a component
that's change in a component that hasn't
it's also very useful for
manipulation of the UI and how
everything is working so in this case
we're going to add a new method called
a new method called component will
receive crops and in here this is the
new crops so we're going to get our new
props and every time new props are
assigned
we're going to call this dot set state
so now new props person dot name and
address new props person dot address
we're also going to set edit back to
false save
now double tap are open this up and hit
edit we have our names and the inputs we
can change them and do whatever we want
with them and if we hit back while we're
in the edit menu like something else as
you can see we're now out of the save
menu so we're not in the edit mode but
if we click on this click Edit head back
and click on the same one again
we're not going to be in the edit mode
well this actually works in our favor
because if a user wants to cancel any
changes he's made he could just hit back
and in order to save our changes we're
going to head over to our toggle edit
method here we're going to check this
dot
this dot state dot edit
and if it's true
we're not going to do anything but if
it's false we're actually going to call
our edit function so this right here the
Edit contact
and under edit contact we don't actually
need even the person here we just need
the new person and here we can actually
not implement new person
get rid of this and also add new person
head back over here to our contacts and
under toggle edit or the false value of
this dot dot state dot edit we're just
going to call this dot props dot edit
we're going to pass it our new person
and in this case our new person is going
to be an object with a name of this dot
state dot name
in an address
of this dot state dot address
now in production I wouldn't recommend
writing your code this way this isn't
how you should do it you should
definitely have prop types which I'm not
going to explain in this video just
because it's the video is already quite
long
but you should not write code like this
in production but for the sake of this
tutorial I'm just going to keep it like
so
now when we DoubleTap our and we go over
here and edit
awesome we've run into a problem because
I implemented edit this way we're not
going to be actually we're not going to
actually be able to do it the way I
initially hope to be able to do it we're
going to have to create our own save
method here so save person and in save
person we're going to just copy this and
paste it here and we're going to come
down to our button
and our button is going to execute
different logic based on the edit mode
so this dot state dot edit
and if it's true then when we press this
button we're going to execute this dot
save person dot find this and if it's
false we're just going to execute toggle
edit
and in safe person here we're also going
to call toggle edit at the end here so
this dot toggle edit we're gonna save
that we can actually get rid of this
conditional here now and we can just
have it call this dot props dot edit
save and now when we reload open this up
edit let's call this guy now change his
first name to Brian
let's save that now his name is Brian
horn lurker and if we head back your
address book Brian horn lurker so now
we've implemented the Edit functionality
now we're going to implement the remove
functionality so if we want to remove a
contact this is going to be fairly
straightforward so all we're going to
have to do
is in our index android dot Deus we're
going to come over to our ListView
and for our list item
and over here are actually going to go
to our list item
and with touchable highlight I'm going
to add a new property so on long-press
so this is like if you were to hold it
early braces
lambda and this is going to trigger this
dot props dot remove
we're going to save that after having
parentheses
we're going to head back into our index
android/ios we're going to create this
new remove method so remove contact
index
and to remove the contact we're just
going to go and basically copy this code
here so we can actually just straight up
copy this and we can remove the person
here so we're just going to have our
contacts new array datasource this dot
state data source Stockholm with rose
now let's get to creating the new array
so the new array
so far new array equals this dot state
dot contacts not slice because we don't
want a reference
arrey
you
and now we just make an array that
doesn't include the index of our
selection
so in this case new array dot splice
index one we're just going to save that
we're also going to Oh obviously we need
to assign that to new array so new array
equals new array dot splice in this case
we could actually just shorten this
so slice dot splice because if we were
to do splice it can actually
now onto creating the new array so in
this case bar new array equals this dot
state dot
on tax dot slice now we're going to
splice
by index and one now we're gonna save
that now splice I believe is a mutator
that's why I'm not going to use that and
that's why I'm using slice before it
because slice is immutable it returns a
new array
save
and we need to pass that now
to our list item so over here at the end
remove equals this dot
remove contact save that we also have to
bind this
now in our contact and now now in our
list item again we're actually going to
need to come over here to we also need
to add the row ID so in after bind this
we just add row ID and save now refresh
and we just hold down something it'll
automatically remove it
now there is one problem if we remove
everything from the data set
or we're actually not able to because if
we remove everything there's going to be
an error
so we're actually going to have to do
this so in our ListView going to have to
make it variable based on
a little special something we really
have to make it response
gonna have to make it only render the
list view when our list has more than
zero items in it so in this case it's
fairly simple this dot state dot
contacts is greater than one or contacts
dot links greater than well greater than
0 or greater than equal to 1 and if it
is greater than that we just paste in
our list view here so in this case I'm
going to do this that way it's a little
more clean
then if it's not
we're just going to render a text
element uh says you have
you have no contacts
but in text here and save now when we
double tap
remove everyone
seems were not able to remove this last
guy and I'm wondering why
so the way I solved that tiny little
problem here see now you can see if
displays you have no contacts I don't
know why it wasn't removing the final
index but probably some stupid problem
that just decided to fly by my brain and
I'm just being really dumb right now
please let me know
read at me at spaceman Thomas
cuz I honestly have no idea why I wasn't
working
but the way I fixed it was new array and
then I use a ternary so new array dot
length is greater than one and if it is
then I splice it with index minus one
one else I return an empty array
I made it work so now if you hold them
down
both of them get removed and there you
go
so the last thing we're going to do is
adding a contact and that is going to be
very easy in fact we're not even going
to create a new component or anything
for that we're just going to create a
new method called add contact
and what ad contacts going to do is
going to take
what add contact is going to do is we're
actually going to reuse the contact
details so what we're going to do is
this dot set state
you
and we're going to set the index
- this dot state dot
contacts
dot length
and we're going to set contacts
you
this dot state dot contacts dot concat
going to add in our new person so in
this case name and then it's just going
to be blank an address which is also
going to be blank we're actually going
to need to copy this
and remove it from here put it in a
variable so we're just gonna follow the
newarray paradigm we've been setting up
for ourselves
save that set it up to new array set our
data source
to this dot state dot DS clone with Rose
you are a often new here
and that's basically it
all we have to do is come here
under our title come tack Daru add a
button
or so we need to import the button but
for now we're just going to do that up
here now import the button
so import button from react native
come back down to the button set the
title to add contact
and set the on press to this this dot
add contact dot find this
save now only DoubleTap and add contact
we also have to toggle
Eve you contact here so
this dot view contact
you
and view contact takes a person and an
index
so instead of actually setting the index
here in our state we're just going to do
this
ask this and our person here is just
going to be this blank one here
I'm going to save that course delete
that save now when we double tap add
contact it's going to set us up here and
we'll click Edit
they George address some random numbers
goofy ball save ed back to our menu and
there's George
so that's pretty much it for this
tutorial um I do recommend that know you
when you must you must check out the
react native documentation this should
have hopefully given you a head start
this is definitely a monstrosity of an
application but it does showcase all the
details you need to create your own
applications
so this has been Thomas I hope you
enjoyed watching and I'll see you next
time
hey guys thanks for watching the video
if you're interested in coding bootcamp
check out dev Mountain comm where
housing is included in your price of
tuition and don't forget to Like comment
subscribe and share and support me on
patreon I'll see you guys in the next
video thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>