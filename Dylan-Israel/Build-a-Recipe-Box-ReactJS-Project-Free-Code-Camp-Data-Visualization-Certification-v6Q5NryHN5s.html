<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a Recipe Box ReactJS Project | Free Code Camp | Data Visualization Certification | Coder Coacher - Coaching Coders</title><meta content="Build a Recipe Box ReactJS Project | Free Code Camp | Data Visualization Certification - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Dylan-Israel/">Dylan Israel</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a Recipe Box ReactJS Project | Free Code Camp | Data Visualization Certification</b></h2><h5 class="post__date">2017-09-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/v6Q5NryHN5s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright ladies and gentlemen we are back
in freaking camping today we are
building a react project specifically
the recipe box now what is our objective
well we want to be able to create a
recipe that has a name we want to be
able to create and ingredients and then
see an index view where name all those
are visible click in those recipes to
view it edit those recipes delete those
recipes and also we want to we want to
do it in the local storage it's going to
look something like this for our project
we should always kind of understand what
it is we're trying to build especially
if they give it to us so we want an
accordion we want to be able to edit
what's in here we'll just go ahead and
put my name when we edit that recipe it
then adds it we also want the ability to
delete it entirely and will delete this
bottom one and then when we refresh the
page here you'll see that it's actually
in the local storage using the html5 API
little Surak and not just hard coded or
pulling from a database or anything like
that so that's what we're going to do
you're going to see this is mine I made
it pretty basic we'll call this recipe
two and then we'll put just one two
three and I don't know my last name
we'll then save the recipe so we'll have
the ability to edit recipes delete
recipes all that sort of stuff and it's
all in the local storage as well so that
is what we're going to do we're going to
be doing this on our local machine and
if you guys want to export it out to
code pin you're welcome to will be using
react bootstrap and that's basically it
so let's go ahead and get started all
right guys let's go ahead and get a new
project started we'll be using the my
create or create react app rather which
is Facebook has kindly provided us a
nice working development environment
going if you don't have it installed I
suggest you install it globally I use it
all the time I use it for pretty much
every single project I make it just gets
us going so create create react app and
then the project look name in this case
I'm just going called FCC desc
that's going to go ahead and install a
couple things it's going to basically
just install everything that we want
that's what this is just so that we can
have a nice working environment now
we're going to when it's done install
one more dependency which is going to be
react bootstrap the cool thing about
react bootstrap is it allows us to have
a bunch of components that are based off
of the popular CSS and JavaScript
library bootstrap and we can use this so
definitely check out the documentation
if you're not familiar with it and once
this is some installing we'll go ahead
and do that as well and then and when we
start we'll go ahead and stand shape all
of our standard stuff all right all
right all right any second now now this
is one of the more fun projects in my
opinion the markdown previewer which
comes first and then the camper
leaderboard which comes second in order
of the projects those are pretty basic
those are you just go and you get some
data to click this one we're adding or
deleting or editing we're basically
doing a full restful you know all the
full the adding deleting editing
updating all that sort of stuff and
getting so we're doing the four calls
right and that's what makes it really
interesting you're essentially creating
a a mock back-end by using local storage
and state which I kind of like this is
my first time using local storage I
thought it's going to be much more
complex but it's actually pretty
straightforward I don't know that I'll
use it in any applications moving
forward unless then unless it makes
sense but for the most part I'll
probably just have a back-end for
applications but if I don't want to spin
up a node server or a Express app and a
database a MongoDB Mongoose I just want
something that can maybe not be the
safest or maybe deleted I'll consider it
down the road alright now that we have
the reactance I'll go ahead and NPM
install react - bootstrap - I'll say
again this is going to give us the
components one thing to keep in mind is
I've so I've been using AK bootstrap
quite a bit for the last two projects
they don't actually include the
stylesheet which is kind of funny
because it doesn't really depend too
much on stylesheet you're really
downloading it for the components so
take a minute to go ahead and get the oh
excuse me we need to CD into the FCC -
YouTube and then install and now that we
did that go ahead and solve react for
sure but we need to actually go and
retrieve as the the the stylesheet from
the internet you can get the latest
version that's what I'm going to do and
we'll get started by throwing that CSS
stylesheet in there before we forget and
then our just computers so once this go
ahead and launches this will take just a
minute the next to of react projects
that we'll be working on is the game of
life and then there's also or is it
there's also the game of life and and a
roguelike dungeon crawler game so I feel
like the first two we're okay like in
terms of skill set they taught you the
bit absolute basics the recipe box was
definitely a so if you go easy easy the
recipe box would fall into the medium in
terms of difficulty scale and then the
game of life and the roguelike dungeon
crawler game I feel like those skips
hard and goes extremely hard for a lot
of people who aren't familiar with it
especially in terms of time commitment
but again these projects at this point
they're expecting to put 40 hours into
these I don't put anywhere near that
amount I don't have the time to be
honest alright so let's go to install
our dependencies now that we've
installed bootstrap
going to install all of our dependencies
then we'll launch the application with
the yarn start and we should be ready to
go a little bit of practical going in
these projects but sometimes people cut
this out when they do their videos other
people right and if you're really a
novice you might get lost over the steps
and at the very least if you're watching
this and you're like do that we all know
how to install the penances and what
dependencies to install just by you
saying it well skip up a few minutes
like this so I try to I try to make it
so that somebody who is intermediate or
literally has no background at all can
kind of jump into this sort of stuff so
again we're using git bash as our
command here so let's go ahead and
launch our application using yarn start
and what this is going to do is just
going to basically get us up and running
and why that is going we're going to
open up a a tab here we're go ahead and
open up that directory and you'll see
all of our wonderful files that have
been installed it's going to open folder
and now we have FCC recipe and you'll
notice that if you installed everything
this is what you should be getting right
here it's just going to be a little page
saying you know thank you for launching
a react app react is much better than
angular all that's variants are talking
 so it's actually that be so
gangster if face butcher said you
angular people it's the react F but
unfortunately Mark Zuckerberg runs
Facebook and not myself or I'm going to
launch the wrong application and that's
also going to be issue so you'll see
here that I went into SEC YouTube oh
let's go ahead and launch the right
application this time which is a FCC
recipe I don't even know how that
happened I guess weren't if said nope I
said SEC YouTube looks like I don't know
tell em
so now launch in just a second okay so
the way that we're going to start this
entire application off is first we're
going to import all our files the style
sheets the modules the components we're
going to import all that and then we're
going to set everything up to work with
State and then from there we're going to
go ahead and just add local storage as
an aftereffect that's really how I like
to do this is do do it piece by piece
that's going to be our game plan here so
this is if you install everything
correctly is what you get so let's go
ahead and get started it's wasted enough
time on this introduction first let's
jump into public as I mentioned we are
going to add the bootstrap CSS file
which is over here and then while we're
at it we'll go ahead and change this
title and so say something like recipe
box cool and bam bam bam
so now that we've added that that will
do the last time we ever need to come to
that page pretty cool
and let's go ahead and jump into a PS
this is where all our logic is going to
be we're going to clean everything out
of here except this div app and then
we're also going to go ahead and get rid
of this logo we don't care about that
either and now that we've done that
let's start thinking about what it is
that we need to get going here well if
you remember correctly in our example we
had an accordion so we're going to go
ahead and import the accordion file
remember the accordion is drop-down now
in our accordion we're also going to
have a panel those are essentially the
headers and the container that's all
that is we're going to use that as well
and then we're going to use the button
which is going to allow us to style a
button with some basic CSS to go with it
and then the button toolbar which is
going to allow our buttons to kind of
line up nicely and look nice
and we're going to use a modal that will
be our pop out that you guys saw earlier
when I was doing the demo and then we're
also going to be using the foreign group
which is going to group our stuff
together our inputs rather let's use
words and not things and stuffs and
items right we're going to it's going to
group our inputs and then we're going to
have the labels for our inputs which is
the control label here and then we're
going to have the form control it's just
another class to make everything look
nice right for our input that is for
input label for input group the input
our modal which is our pop up the button
toolbar which groups are buttons our
button the panel which is contained
within the accordion and of course the
accordion functionality a lot of stuff
there it's all going to make sense when
we go in there so just know that that's
all we're really doing in terms of
imports we're done and of course I want
to make this second here BAM
alright so we have our imports done if
you're a little confused like this
whatever going to go piece by piece now
we know that we need recipes so how
would we want to define our recipes our
recipes being plural that's going to be
an array right so let's go ahead and
define our state here in the get-go or
state is equal to recipes now I'm going
to initialize recipes to have one recipe
in it now what would a recipe have in it
well it's going to have and these are
objects right we're going to have two
things in it it's going to be an object
it's kind of a recipe name and for a sec
argument we'll call this I don't know
call this chilling and then for the
ingredients what makes up doing you know
what I think I spell ingredients wrong
all throughout my other media and so if
I spell it wrong again right now spelt
it with an A or when I record when I did
it
and someone in livestream chat and I
forgot to check how to spell ingredients
I'm the coding god I'm not smelling at
all right so let's just drink so what
makes up Dylan well
clearly he is sexy also spelling champ
and on top of that mega smart right so
that's what makes it fun hi uh just
having fun here guys so I'm not really
full of myself I sure you so that is
that is our object it has a recipe name
what makes up me and then that's me and
then it has what makes me up right and
so again spaghetti meat bread crumbs and
cheese whatever you want right so how
are we going to output that well let's
worry about the HTML before we worry
about the logic we're going to get into
it right here we're going to want to
render out our recipe and remember we
imported our accordion now if you want
if you're wondering alright well how do
you know how to use the accordion the in
the react to track documentation just
control us till you get accordion and
it'll all make sense right now in here
we want to output a panel of each one of
the accordions so let's go ahead and map
out a panel for each one of the recipes
and because we have a couple different
we want to just it's an array let's
throw one or two more copies of this and
we'll just throw it Dylan 1 Dylan -
Dylan 3 cuz like I tell my girlfriend
you wish there was more than one of me
damn I even say that right alright so
the book is going to continue on that
sounded much cooler in my head alright
so here we are failing in our own video
we want to output our recipe right so
our array that we took so it sort of
saying this stuff state dot recipe I
don't want to have to repeat myself a
bunch right let's go ahead and create
this constable and we're going to
deconstruct it and instead we're going
to pass in recipe here which just set
equal to this dot state what's going to
allow us to
a little shorthand here we're going to
say the recipes inside an S on there so
recipes dot and map this is going to
create a new version of our it's going
to output using JavaScript functions the
recipe the current index rather so now
we want to go ahead and get that index
value for later well we'll talk about
why we're going to want that in a second
now in here you just want to go ahead
and create this arrow function and then
output some stuff within the important
now I told you we're going to use a
panel so let's go ahead and use that
flashbang now our panel takes in a few
items what does it take in well it takes
in a header so what do we want what do
we want our bar to be right if we have
our header here we wanted to be the name
of our recipe we want to click it we
want to see the recipe we want so we
click it and then we get the ingredients
so that's going to be the recipe
dot recipe name seconds this is a header
the next thing that we want to add is
the event key this allows the accordion
to know which one to drop down in which
one to open up and so the event key I
ended up I told you we're going to use
the index here and that's what I use for
for the event key now the other thing we
need is we need a key now the reason for
this is when mapping out our when
iterating through an array you have to
assign a key to your JSX so that it can
keep track of everything basically if
something moves something is added
deleted it needs a key to reference
you're essentially a primary key if you
want to think in database terms so now
that we have that we have our panel I
believe we should have had something
work so what is failing here
I am failing what a my family nan
Oh
yeah parallel live a header maybe we
need something in here which the h1 plus
h2 long test nope I am failing somewhere
so we have recipes map and then we have
recipe we have index oh I see I have one
too many right here there we go so a
little little logic area no big deal and
then I needed this one right here okay
everything's taken care of now alright
so now we should be able to see our
panels it's compiling it with just one
second
and you'll see we have our there's
nothing in it so they're not going to
open but you can see we have our three
headings now this looks kind of like
 I never liked it going to the edge
so let's go ahead and just use some
regular bootstrap and on our app here
just add container and that's going to
bring everything in that's just a basic
bootstrap CSS and you'll see that it's
going to take it from the edge and bring
it all in so now we look like
professional UI UX people with legit all
right so let's actually put some stuff
out now in mine I just go ahead and list
out the ingredients as an li you can
style it however you want I found this
to be the way that made the most sense
to me now here we have our Oh L and then
we want to map out our allies because we
have ingredients again it's an array so
we're going to map it out so let's take
our recipe Dodge ingredients and then
we're going to map that out and in here
we're going to just take in I just call
it item ingredient might have been a
better way of doing it I typically try
to name it the singular version so that
it makes sense directly what I'm talking
about right item is close enough in this
case to ingredient but the recipe of
recipes item of ingredients should be
ingredient
that's just something that I do I don't
think there's a convention to it one way
or the other
but I've noticed a lot of other
developers that I respect do it as well
so here we have our li so we want to
output an Li and again because we're
iterating through a well let's go ahead
and set a key and in this case I'm just
going to pass an item all the
ingredients should be unique and then we
want to just output it item and just so
that we can see that it's not it
everything seeing how put it is
different let's going to save that and
you'll see it opened the other ones
bootstraps components are taking care of
this wonderful wonderful what I'm
looking for wonderful accordion stuff
the closing and the opening then we have
sexy three sexy two sexy one so much
sexy now cool so what do we want to do
next well let's actually just build out
the rest of it and we'll worry about
sort of the functionality after or about
building the function building things
out so within our panel remember we want
to be able to delete things we want to
be able to update things and we want to
be able to actually that's all we want
to do in the panel so remember that
button toolbar we have that so let's go
ahead and use our button toolbar oops
let's fix that as well so we're going to
add two buttons in our button toolbar
the first button is going to be for
deleting and the way that you assign
classes to the button is with the B
style problems and this is danger button
and then on here or in here we're going
to say something like delete recipe and
then go ahead and copy that and then in
here we are going to have edit recipe
and that actually needs to be default so
I'm sick thing and if you're like me
every piece of your code you check after
adding a couple more lines so let's make
sure that we are all on the same page
here and that the rack app and I are so
that should be read so we have a problem
which we need to solve
be so OBS style so it's BS style but
other than that everything looks like
it's in place we haven't delete and we
haven't had it button we'll come back to
the functions that we're going to write
as we move forward so cool all right now
that we did that let's jump back in now
we're out of our accordion we want to
add a add button that is outside of the
accordion right because this is when if
there's no recipes then there's no
accordion to output so or no panels to
output so we don't want to end the panel
rather and we don't want it to be part
of accordion so it's going to be right
outside here and we're going to have a
little button this one's just going to
have the BS style equal to primary and
on here it's going to close that slash
button and now that we did that we're
going to go ahead and say add SP save it
and
so we get a nice little add recipe cool
now we have a couple models we need to
create but we're going to worry about
that after we do an ad in a dilly
alright delete so delete we know that we
need to reset the state of recipe
because here we are we have these states
with these default values that we're
loading in there and we want to actually
delete a recipe how do we do that well
let's go ahead and define a function in
this case it's going to be delete recipe
will be the name of it and again I know
we just a reminder we're going to take
care of the local storage at the end
once we get it working with state and
working on on our JavaScript it's very
easy to get the local but we're just
going to worry about that later so in
this case we have this delete recipe so
how do we call functions well we want
when you delete this on click to go
ahead and call this callback function
and on here we want to pass in a couple
things the first thing is by default it
passes in an event we're not actually
going to do anything with that but we
might as well pass it in this one say
this dot delete recipe very nice now in
delete recipe we are going to you'll see
here what is how do we know which recipe
to delete well we can actually just pass
the index in wherever we have the index
here that we're setting the event key
and the key when you pass the index in
and we can actually splice that value
out of a duplicate of our state and
because you're not supposed to mutate
the state directly in react so we're
going to go instead to delete the copied
version that just reset the state like
that so that's what we're going to do so
here you'll see we'll pass and we'll
just make name that index so that
everybody's on the same page
we'll say let recipes equal so we create
a local version here this dot stay
dot recipes dot slice so this will
create a copy of the recipe state
without mutating it and then we want to
take recipes dot splice because we want
to cut it out of our duplicate here the
index and then one right now that we've
done that and make sure you still splice
correctly now that we've done that we
are then going to set the state this dot
set state and because we named it the
same thing of recipes we only need to
pass that in because it will assume that
the we're setting the state recipes
equal to the variable recipes so now
that we're good there let's go ahead and
test it make sure everything's gravy
gravy everything's gravy I'm so hip so
when we will delete the middle one and
bam so now we have Dillon one and three
now again we're just doing this on the
local so when we refresh it it's not
going to be they're not a big deal
we're going to come back to that alright
so we've deleted that little note here
at least recipe you can probably tell
that by the name but we're going to have
about six let's see seven or eight
functions by the end of this so I like
to put names on here so we deleted the
recipe very nice let's go ahead and add
a recipe now to add a recipe we need to
have a modal modal again is just a
simple pop-up the way the modal works in
here and create a mobile we have this
show which means do you want to actually
show the modal right now and this is
going to be equal to this dot state dot
show ad now show add is a state state
variable that we have in our state
parameter we haven't set yet and then on
hide is what you want to set the value
of the function so sexually which is a
function we have yet to write so we're
going to do all that right now
so this scishow ad is something that I
wrote and let's go up to here to our
state and then we have this thing called
show at and by default we always want it
to be false right we don't want it to
just open up say add a recipe now you
could write some logic where if your
local storage has the only case that
makes sense is if your local storage has
zero recipes in it why not just launch
it right away I didn't do that but
that's just a thought if you guys want
to go the extra mile so we're going to
go ahead and add our state show false
there very nice and we also want to to
go ahead and create that closed function
remember we have this close being passed
in there that's going to actually close
it and all we have to do here is we're
in line get this close call back here so
it close is equal to a function please
call back function and in here we're
going to say if this dot this dot state
dot show add so if that's true go ahead
and set the state to false
that's all so that's going to go from
hiding it for showing it to hiding it
basically so set safe person here object
in this case we called that show as and
we're going to set that equal to false
so if it's your said false cool so
that's going to hide it so how do we
show it and what do we shall we well
we'll get to that right
so in our add button before we do
anything else we have our this show add
recipe all we want to do is there is not
code here create this this function
we're going to call this function here
and in our function we're going to pass
in a simple key that's going to say show
at because we have two models one for
show I don't work for show edit and in
this case I just created a function
since we're doing it already I set this
on click so when you click arch add
recipe we just want to go ahead and pass
it around and then this dot open and in
here the string show at now let's go
ahead and define our open function up so
up here so open here we are
open is going to equal to a function and
in there we're going to have our state
we're going to go ahead and call that
out and create a trial function cool so
this let's put a note here close is a
modal and here this is going to open a
modal very nice how do we do well you
just say this dot set state and River
States really nothing but an object so
in here we can go ahead and just pass in
that state and we'll find the key so if
it's show add or which like this right
so this is show add it's going to go
find that show add or later on when we
do show edit we'll find that as well now
what do we want to do here we actually
want to set that to true because we want
it to open in this case just the exact
opposite and of course this needs to be
an object so that you need to pass in an
object very nice so we've now opened our
modal and set that to true and we are
good to go on our ad now let's go ahead
and see I think we actually might have
to have some more stuff in our mobile
but let's see if that's working
so you'll see BAM there's nothing in it
but you can see some things change so
let's go ahead and fix it to let their
stuff in so back to our mobile right
here we want to in our modal we want to
add some stuff we want to add a modal
dot header and that's going to have a
prop called close button essentially
that's going to be our closed
X button that's going to allow us to
click an X to get out and then in here
we're going to have modal dots
title so we're creating our header of
the Moller right now right and we want
that to be address P very nice and
finally we are going to have modal body
and will officially have set up
basically the basics of our modal all
right so modal body now what do we want
it in the body well we want two things
one we want to rest a way of putting in
a recipe so we want to put in a recipe
which means we need a recipe name and
ingredients let's start with the recipe
name remember we had that form group so
let's go ahead and create our form
groups
very nice and now that we have our forum
group let's go ahead and create our
control label this is going just be the
label for our stuff not cash and this is
going to be this is going to do that so
now we have our label and the next thing
that we need is our input for recipe
need in this case it is going to be form
control and we're going to have to add
some properties students in just a
second here as well as a function to set
the state of our newest recipe so in
here let's go ahead and set it give
ourself low space so the type of the
type of input is going to be a text
input then we are also going to have a
value now the value is what is going to
be the name of the state that we're
connecting it to we haven't actually
defined this yet so let's go ahead and
do that in our state application here so
this won't be in local storage because
we don't really care if they remember if
the modal pulls up it'd actually be bad
because it doesn't the local storage
doesn't need to keep the last added
value we're going to we want that to
clear out after page resets it makes
more sense that way so we were going to
create this newest recipe and because
this is supposed to be added to this we
want it to follow the same format that's
going to be an object in there we're
going to have a recipe name you go ahead
and set that equal to null and then you
can go ahead and set ingredients to an
empty array as well now one thing to
note is I didn't put any logic in to
make sure that there's at least one
ingredient or at least one character in
the newest recipe if this was a
production environment and not just kind
of a fun side project that's definitely
something that you'd want to do so if
you take your
project super seriously and more so than
I do in this case that's one thing that
you can add so newest recipe dot recipe
name so that's going to be the value of
it and then we are going to have a place
holder and place holder will say
something like enter your name and then
finally we are going to have to have a
non change function that's going to then
set the state of that value to on change
your set this equal to a callback
function that takes an event an event is
going to call this function that we call
this dot update update new recipe and
we're also going to take at this point
actually this is a ticket update new
recipe and that's going to take in the
event target dot value that's going to
give us whatever is in our input box
event target value very nice so let's go
ahead and write this update new recipe
it's going to look pretty similar to
this one that we wrote the delete recipe
except we're going to update the new
recipe so here we will say go ahead and
take what's here and add update newest
recipe dot recipe name that's basically
what we're doing there and we're going
to go ahead and set a create a function
called
ok
it's got newest recipe recipe name and
in here we're going to take in the high
score value taking the value and do
let's say this dot state now one thing
and mind you I've only been doing react
for about three weeks is that I there
may be a better way of doing some of the
things that I am doing so I encourage
you to comment below if if there is so
one thing to keep in mind so here we
pass in not only the value but we're
actually going to need to pass in the
ingredients and the reason for that is I
could I didn't understand a way to reset
the state entirely without having the
value of the ingredients as well so I
didn't want to lose that value and now
that I'm thinking about it I just
realized a better way of doing it one of
the great things about doing this is
always learning what I'm doing wrong so
we're going to say let let newest recipe
equal this dot state dot newest recipe
dot you can't slice it
alright guys I was going to edit my code
as I do this but this seems like a worse
and worse idea of just breaking my code
so in the I'll do the original way that
I followed so here we go we have the
newest recipe recipe name and then we
won't also pass in ingredients now what
we're going to do here we're just that
recipe this stuff's eight newest recipe
equal to an object and then in here
we're going to have recipe name value
and we should actually follow the same
way that we are dealing with making this
recipe name in here passing recipe and
name and then of course we want to pass
ingredients as well
we're just set that equal to ingredients
and then we have to go edit down here
what we're doing so not only do we want
to update by passing in the value
actually want to go ahead and take this
and say this says set of newest state we
haven't let's go ahead and deconstruct
this so we're going to fasten newest
state here now very nice recipe rather
and we're gonna pass in newest recipe
dot ingredients this is shortened up a
little bit so newest recipe dot
ingredients it's going to save that and
at this point what should happen is I
have milk with compiled successfully
what should happen is when we add a
recipe we should be able to enter some
stuff here cool so because it's updating
update new recipe this updating recipe
is
so I didn't name that did I and named it
differently so we'll just go ahead and
change that and follow the same naming
convention that we did before update new
recipe set newest recipe recipe name
update new recipe was a much better name
I don't know what I was thinking when I
did newest recipe recipe name that
should work just fine let's go and test
it real quick make sure there's no
issues address opee just go ahead and
type them Dylan everything is working
cool so let's go ahead and now we will
add in the ingredients the ingredients
are going to be a little bit different
because we have to split the values and
the reason for that is the way that
we're inputting our ingredients is in
the textarea that adds a new value every
comma so we're not doing a new input for
each one but that would also probably be
an OK way of going about it
so let's go ahead and copy this just let
me save ourselves some some time writing
things Oh in in our form group they
actually assigned this control ID just
came with it I actually should probably
look this up control ID but my
understanding is just an ID we call this
form basic text like this and then here
we're going to copy that
and in our form group here we're going
to give this a control ID Oh
equal to form controls text area and
again this is all in the documentation
of react bootstrap so instead of a text
what we want is a text area right as I
had mentioned and instead of the value
being the
instead of the value being short I'm
looking for so the value being the Z the
ingredients are the recipe name is going
to be ingredients so before instead of
on change here let's go ahead and change
our on change in this case I it still
update new recipe because we're passing
it in all the same except instead of
passing in the event target value we're
going to pass in here in newest recipe
dot recipe name so we're just resetting
the value of that passing that in and in
here we want to set event target value
set that except we want to split it on
every comma now let's make sure that is
working when we're missing
oh yeah what's that a placeholder and
then a value so we'll add our
placeholder enter ingredients separate
rules
together sea and air in your code and
wondering why it works so let's let's
just play this out and hopefully why is
that working
young man don't look a gift horse in the
mouth we're just going to continue so in
here what we have is value we're going
to set that equal to newest recipe dot
ingredients all right who a lot of stuff
going on here so far now let's make sure
it's all working that's a big deal so
every time we just want to go ahead and
console.log it's going to re-render
every time on console that log and in
here we just wanted to output newest
recipe so basically every keystroke
should be newest recipe can you put put
out when we call our add function here
so let's go ahead and turn inspect
so so you can see that it's updating
right here SP name and then we'll put
and put a space repeat it and then we'll
do and what we should get is Israel
Israel Dylan
so we have our lineup so point of these
so you can see that everything's working
sweet everything is working that's
always good
you're that desperate sense of oh my god
I hope it's all working so I have to
pause the video again so now what what
we want to do is we want to save the
newest recipe to our recipe list not too
bad let's go ahead and add that stay
functionality here now after the mobile
body comes the modal footer alright
post a little doll foot now that we have
that we're just going to have a button
button that
on click
those stuff is going to create our
clothes our button here alright so on
click passing I call that function here
that fires off an event and this is
going to call this dot save new recipe
just let's go ahead and define this this
thought seg new recipe just going to
change that and here what we want is
saved on your recipe to recipes and we
have a function and save new recipe that
says
so the first thing we want to do is to
find our function same recipe and in
here again we're going to take our
recipes array and we're going to slice
it so this dot state dot just a few
thoughts like they're copying that very
nice after that what we want to do is we
want to push to the recipes or anti
groceries stop push and you know what
originally I didn't pass anything into
here so I'm going to continue that but
the better way of doing it would be to
pass in newest recipe you know what now
we'll just do that this is something
that should work and we're going to pass
in this recipe and then down here let's
go ahead and save this dot right here
we're going to pass in newest recipe
here as well so that's going to pass in
this top state button newest recipe
we're going to push that item that
object rather onto our new recipes and
then we're going to set the state of the
new recipe of recipes right so say this
this spot set state and in here we'll
say recipes so that's going to set
recipes and after that we want to go
ahead and reset our value of the newest
recipe back to the defaults which we had
before because if we just added a recipe
when they go back to the modal we don't
want to have the old values in so we
want to set that state as well so this
set state that's the object newest
recipe : and then we have an object and
we have recipe name and recipe name is
an empty string then we have ingredients
which is a empty array alright but we're
also not done yet we also want to close
the Save button we added a button
we want it to close after we click it so
you know this dot close that's going to
now close that modal if everything works
accordingly we should have a new piece
to the pie if you will oh so Dylan loves
pizza and I forgot that say breads
people that should work so it looks like
we have a mistake cannot read map a bun
to find what is that recipe ingredients
dot map all right let's see where is
that crashing scratching there but why
is it crash in there
so it's going to throw a debugger here
and actually see if this is getting hit
or if there's another issue
it's the recipes that map oh I did run
into this issue where sometimes it
thought there were no recipes so we have
to do this anyhow I think this will
solve it where say you start with zero
recipes if you don't have logic in there
for if there's no recipes you'll
actually crash the way that we can solve
it it's pretty simple
and we'll do that right now to see if
that will help with this issue is we
just go through a simple if statement in
here or take our recipes array and we
say look if the length is greater than 0
go ahead and output this code now what's
the code it's everything that's in this
accordion right now so everything that's
in the accordion we want to output where
is our according man and let's see if
that solves our issue because that's
going to be an issue that I came across
later on I was going to wait to showcase
that but that's also we're trying to do
here dope so say this recipes will say
Dylan loves pizza and saving it wait so
it's hitting it recipes has four items
in it now you can see there because
we're pushing to it or slicing it save
it run it we're still having that issue
recipe ingredients dot map
so the next issue we're having is that
all of our recipes are failing right
here how do we solve that
all right guys so here is my air you'll
see here I console.log doubt our recipes
array and it's actually outputting
newest recipe in there just a simple
little logic mistake that we made by
doing what I said I shouldn't have done
which changed my goddamn coat so don't
make my mistakes so instead we will pass
in here we'll just pass in instead of
pushing two recipes in your recipe here
let's go ahead and take that I'll do the
same way I did it before and jump back
up so save me recipe we can take all
this out now and recipes we want to push
recipe name and that's going to be this
dot state dot newest recipe RSP name and
ingredients instead of this state dot
newest recipe dot recipe new exigent
ingredients all right let's save that
and hope for the best but I think we
should be good here stop write debugger
there and add a new recipe and Dillon
will get his pizza save it
BAM and then Dylan love pizza cool so
we've added at we've added a breast feed
elite recipe and again there's no local
storage we'll fix that a second let's go
to fix that button that we forgot to add
some text to and
this will be saved new recipe if you'll
notice that when we hit it everything's
cleared here as well all right so we
basically have two things left to do we
have to edit a recipe and we have to
then convert everything to work with
local storage which is a little bit
harder than expected so we'll do that
alright so lets you edit a little bit
harder than expected because i was still
trying to maintain the state now i don't
know that you need to but in this case i
did so we are going to define the edit
is it a zit recipe when I call this
nonsense we have to we're going to find
another modal because remember this is
slightly different and each modal is
going to take in a different value it's
we're going to have a unique modal for
each output the reason for that is I
want to pass in the index value this is
kind of the easiest way of doing it
again
maybe not the best but that's neither
here nor there right now so within our
within our accordion within our mapping
of recipes right here we are going to
create a new model and it in the
interest of time because we already went
through this I'm like copy-pasta some of
this over
so we're going to paste in our modal and
in here we're going to have this show
edit now remember when we have our show
which is show ad we're going to go ahead
and add a show edit button the show edit
stays here and we're going to set that
to false by default we're also going to
need to go and to our open function is
it open now this saw closed and we're
going to do another elseis here so else
if this dot state dot show edit we can
go ahead this dot set state show at it
is false right now as I look at this we
could probably have done a ternary and
eliminated one of these this could
probably actually even just be an else
but we're not going to worry too much
about that right now all right so let's
go piece by piece here so we've already
set the label we have our closed button
we have our on hide edit recipe we have
our input which is a recipe name and
then here you'll see I have this thing
called current index now the reason for
this is a little bit of local storage as
well as we actually only want to change
the value of the current index that we
are iterating through in recipes to set
the state rather so here we have current
index now by default I created a state
that I just initialized to zero
it doesn't really matter we're going to
reset that value every single time and
what we're going to do here is current
index is going to be set let's actually
go into our render here need to get rid
of this console log current index so
that is the state in open remember we
add our open function
we're going to have on edit here let's
say on click we want to set this equal
to a function and this is going to take
in that I'm going to do anything with it
over there this dot open and in here
this case is show edit that's going to
be the state that we're going to be
editing and we're going to pass in index
this is where we're going to set current
index so we go to open we're going to
set that's true we're also going to save
this dot and up and here we want to
change that to index let me say this dot
I should change that to current index
this got set state of the object or an
index lam BAM and that's our edit button
that's going to open up the correct
modal as well
so here we go we got a looks to me we'd
actually throw down the panel I didn't
mean to throw that in there I forgot I
change this so that it didn't repeat as
I wanted it to in our modal it's going
to cut that out and we actually output
it outside of the accordion nice cool so
that's why I had currentindex outside of
there so I didn't have to do that it
just makes more sense
we actually format this document real
quick keep on getting this air so I may
actually piece by pieces in here oh quit
guys
oh I know what the air is from so you'll
see that I don't have a container around
this right here this div is going around
the whole thing but I actually need a
div around this you see this
we need a div wrapping around the
accordion otherwise it's not going to
work for our JSX so let's go ahead and
wrap that around the Quarian and the
modal here / good there you they'll fix
that and now we're all good okay so we
have we fix this we fix clothes we edit
the recipe we fix open we have recipe
name is targeting the current index that
we're on by of the recipe name we're
calling this update recipe name function
that takes in the value and the current
index let's go ahead and set that update
recipe name and we'll go and say this
updates that's your name and we'll say
update recipe name
and update recipe name takes in where
you the recipe name as well as the
current index
cool alright and what we want to do
again we want to not mutate directly the
states or I say let recipes equal this
dot recipes dot slice this off state SP
saw slice and from here what we want to
do is we then want to say look recipes
and then target with our current index
is equal to an object and in that object
we have recipe name I'm going to set
that equal to our value we're passing in
here and then we are going to say
ingredients is equal to this dot
actually say recipes time index dot
ingredients so now we've set the state
and we've essentially reset the
ingredient value here and finally we
actually want to excuse me we now are
setting the state for recipes back to
itself this is going to allow us to
update the recipe name we're almost
there guys like I said a lot of
functions on this one and I think I
wrote one too many functions where we
can actually probably if I thought about
it combined about three of these we're
resetting the recipe name I just didn't
think about it at the time so definitely
some room for refactoring which is
equally important when you write your
code right so a lot of times you write
it and you're like oh this makes sense
then you go back especially when you do
a video for the public and you're like a
dam and
maybe every factor this or you did it
but we're worried about that later
alright so now that we did that what we
want to do and let's make sure you know
I've been compiling there's no duplicate
props allowed one-line 139
right
I don't know about this right now but
doesn't seem to be breaking anything so
we're going to worry about that later
all right so the last piece that we have
here is this on change so we have our
ingredients it's a text area and we're
going to write this updating greens
function now you'll see it's taking in
the value it's splitting it and then it
has the current index and then the value
here again we're targeting with the
current index and the ingredients same
sort of idea except we're updating
instead of adding so let's go ahead and
write our update ingredients right this
week on it
just put up baby ingredients again I
spell ingredients wrong alright so we
are taking in and updated greens we are
taking in ingredients and we are also
taking the current index use and finally
we are going to then slice the array
create a copy we are then going to
target that and we say recipes turn
index is equal to the object recipe the
rest your name and this is going to be
recipes turning index
dot recipe name sorry guys I'm gonna
tired man listen there's a long video I
apologize I did nothing like gazing off
as I'm trying to look at the picture
ingredients and in here we're just going
to go ahead and pass it ingredients
okay so we've updated locally our
recipes we are then going to set the
state of recipes re update the state
rather this sets this dot set state who
we're almost there boys
we're almost there if you've stuck with
me this long thank you thank you and
good for you again I've only been
working with this stuff for about three
weeks so I apologize if I don't have the
best practices but we'll figure it out
together
all right so notice how we have an issue
right here somehow this isn't coming
through so we have to go and fix that so
let's go see why it's not connecting did
we not set the value properly ah here it
is remember I told you I spell
ingredients wrong everywhere that might
be it that might that might be it one
more time there we go so we want to say
we want to change this one to say bring
sexy back one change that to Dylan
twelve so something's not working and
this worked but this didn't work so I'm
going to say that it's probably the same
issue where when I went to here on
change and read current value values
this recipe that Korean index lot recipe
name
so update recipe name let's take a look
we have let recipes equal that and right
there
so got them and pass in that object and
that should solve that one more time
this is good good debugging a lot of
letting guys tell me to leave my bugs in
here don't worry there's plenty for us
to learn from all right so here and make
that done twelve smart three add one
more and we're just a gun I don't know
and then we'll close it and bam so
you'll see not only did we edit it we
also added one deletes works add why is
it not working
I do wrong so ad doesn't work so this
dot close
scary this else I got else should be
let's see if that does it show edit show
ad it failed we're going to try this one
more time
so we edited some stuff Co close we add
some stuff okay so it's clearly an air
is failing online 105 right here
can I read property recipe name of
undefined recipes current index not
recipe male that is line 105 alright
guys I'm pretty sure I found the error
here so I forgot that I changed this
show open air excuse me open and right
here we need to pass in current index
because we have an optional parameter
all right we have a required parameter
we didn't have it that's why our ad was
breaking there now let's go ahead and
make sure our ad is working again it is
thank the baby Jesus
all right save our rescue everything's
good okay so we have all our
functionality working now we can delete
we can edit we can add the only thing
that we have left to do is make sure
that we can get local storage to work
now if you're not familiar with how to
tell let's go into see here's and
sources network performance memory where
is it it's in here somewhere application
here we go local storage so you see
right here this is from previous things
I think if I clear the cache it may
delete it so this is from a previous
local storage example see if we can
delete this
delete alright so there we delete our
local storage delete the recipes as well
so this is from a previous example why
the local storage is there now we want
to actually create some new local
storage how do we do that
it's it's not too bad it's not too it's
not too shabby rather and we're just
going to go through our functions and
set the local storage we're going to get
the local storage so we're gonna use
component did mount now if you're not
familiar Conan did component didn't
mount it basically means things got
outputted our our our component loads
now let's run this code
that's what component did mount does and
so that's where we're going to get or
set our recipes array and we're going to
get our local items so at this point in
time we want to actually go and delete
all of this now if you didn't throw that
if statement that I did you're going to
have an issue so make sure you throw
that if statement into your accordion in
our component did mount here we are here
we want to set our local storage so
we're going to create we're going to
create a temporary variable here called
recipes light recipes we set that equal
to because it stores it as a JSON as a
switch is just a string it serves as a
string in JSON form we need to parse
that string so that we can get we can
turn that string into an object we're
going to json dot parse local storage
get item so this is going to get the
item recipes now I don't think I check
to see what would happen if we don't
have the item but if it doesn't have the
item we're just going to go ahead and
set it to equal to an empty array so by
default to an empty array and then from
here we say this dot set state is equal
to and empty works is mate two recipes
closest alaria recipes very nice now
let's see what's going on here
cool so right now you'll see that our
recipes are empty as they should be next
thing that we need to do is simply set
the state of recipes pretty much
everywhere where we update our state and
we have to do it before so because set
state if you do it after the fact say we
were actually to in this case I'll show
you exactly what's going to happen say
local storage dot set item this is how
we're going to update our local storage
and in here we're going to pass in what
is it that in our local storage
retargeting we're targeting wrist
recipes and because we converted our
object because we converted our string
into an object so that we could use it
in our JavaScript to send it back to the
local storage we need to then make it a
string again so we're going to call json
stringify and we're going to pass in
this where do i say this this $8 recipes
so we're just going to set it equal to
recipes here so the reason that we can't
set it after is this is actually an
asynchronous call that is running and
what we're going what's going to happen
is that when we set it here actually I
think I said I think I fixed this
because originally I was trying to set
it directly to the state I didn't want
to do that but if you try to set it to
the state that cell furiously this top
state dot recipes in there it's bail
it's running that it will then update
your local storage which will be the
previous value I'll never actually
updated I don't think we have anything
to worry about for this but always to do
here is update put this one line is very
have our values here basically
everywhere where we update the state
might be better to write a function to
do this I think about that at the time
just so that you call the function but
it's one line of code for the time being
and all everywhere we update recipes we
want to throw
so CFD RSP named update ingredients and
then here we want to save new recipe
pass that in there as well and then we
want to update new recipe paste that in
there we want to delete recipe we want
to pass that in there and I think that's
everything let's go ahead and close this
and make sure recipes is not defined
line 32 okay
what did we do 32 oh that's uh that's
update new recipe - we don't care about
that
save that it's going to reflect on this
alright cool so we're going to add a
recipe here we say Dillon makes code
projects I don't save the new recipe and
wham-bam you'll see right here it's our
values right there so when we refresh
this page it's actually going to pull
that from the local storage and bam
there we go we're good to go and same
thing when we delete it you'll see that
it got deleted as well so that's it
that's the project congratulations you
stuck through I hope you guys learned a
little bit about react again I've only
been working with it for three weeks
we've already discussed some of the ways
that we can improve upon this project
but we have accomplished our original
goal here that was for the react project
some ways that we can improve it we
talked about adding validation with the
input so that you always have to have a
recipe name and you always have to have
at least one ingredient we've talked
about maybe refactoring some of the set
functions two into one or two and we've
talked about rewriting a function for
the set item the set item of local
storage these are all things that we
could do and I believe we can actually
maybe even delete the
from state because this is initializing
it and we don't need that anymore now
there you go guys I hope you enjoyed
this project thank you so much for
watching the source code for all of this
along with all my other projects is on
my github a lot of you have been asking
me for about a year and a half to start
pushing my code and I have not all of it
yet but the new stuff is pushed I'm
going to get the old stuff out so it
doesn't look like a much umph thank you
so much for watching if you want to
support me you can at patreon.com and
join our Facebook group code tech and
caffeine discord channel all that great
stuff links are in the description I
appreciate you guys watching math hey
guys thanks for watching the video
especially thanks to our sponsors dev
Mountain if you're look for a coding
bootcamp or tuition and housing is
included definitely check them out
appreciate it and I'll see you guys in
the next video
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>