<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>File Metadata Microservice Part 1: Free Code Camp API and Microservice Backend Development | Coder Coacher - Coaching Coders</title><meta content="File Metadata Microservice Part 1: Free Code Camp API and Microservice Backend Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Dylan-Israel/">Dylan Israel</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>File Metadata Microservice Part 1: Free Code Camp API and Microservice Backend Development</b></h2><h5 class="post__date">2017-03-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/noXmippmuzQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">code everything alright guys today we're
going to be doing the file meta data
micro service that is used to basically
get the file size we're going to pass in
a file and then we're going to be able
to get the file size of it in their
example they use in alert box
I actually just send back a JSON
response you can do whatever you want
now we're gonna go ahead and get started
we're gonna be using a multi dependency
they recommend most of what's gonna be
new if you're not familiar too much with
if you're familiar with node and Express
is just this documentation and this
middleware everything else should be
kind of familiar it was my first time
working with a having a view work with
our back-end but let's go ahead and get
started we're gonna start by creating a
folder just go open folder we'll do file
size YouTube next what we're gonna do is
we're basically just gonna do the same
setup that we always do where we create
we jump into the terminal rather and
from here what we do is we want to
initialize NPM so get that going
just taking a second cool so what we
want name this will name it file size oh
I've always forget that you can do caps
file underscore size version description
entry point is gonna be app dot J s a
lot of people use server J s it's really
just a matter of what you prefer let's
go ahead and create our new file here
which will be F KS that'll be where we
put all our server information for node
and then we are also going to have a
file for index dot HTML
this will be our view right this will be
where we'll have our HTML this is you'll
see this is where this is basically our
HTML layer and let's jump back in and
that's obviously done that's my done
version not the huge version we're at
right now so next what we need to do is
we need to install for dependencies we
need to install Moltar we need to stall
Express we need to install scores and we
need to install body parts so those are
the four the the first the three - multi
always install and then multi for this
this project so it's gonna be NPM
install - I save Moltar get that going
let's go to use can see just fine so
that's gonna go it's gonna install a
bunch of stuff then we're gonna do NPM
install - our save and that's going to
be cores and then we're gonna do Express
as well it doesn't matter what order you
install these in let's just make sure
you install all of them and then we're
gonna do NPM install better save body -
parser that's gonna go and that's what
three and I believe we have Express left
and then we can get started if you have
installed
that's our saved expressed
and here we go so how I normally start
and have you probably should too is just
by going piece by piece right so first
you kind of set up your directory
it's next what you do is you you in
stanchion stall all your dependencies
all your modules and from there what we
have to do is we actually have to
require them in our app cache so this
should look pretty familiar of our
Express is equal to require and in here
we passed an Express this basically
creates an instance of our imports so
we're gonna do something for let's get
rid of index today's show let's zoom in
a little bit now that we're not in the
there we go okay get all right up in it
alright so right here we're doing
Express reader same thing for cores and
body parser I'm just gonna copy it over
real quick save us some time in this
video so we're gonna require those files
and so this is normally how all my
videos get going and we're gonna do the
same thing for Moltar where we need to
require multi as well just because we've
downloaded it doesn't mean that we're
using it is kind of the way of thinking
about it Walter now before we move
forward let's go ahead and create an
instance of our app so the way that we
do that just create a variable of our
App equal to module that exports which
is equal to Express now that's our
instance next we just have to say look
we want our app to use body parser and
body parser JSON this is gonna allow us
to output our JSON much easier and then
we're also going to use app dot use
we're gonna use cores so that we don't
ever come across any cross regional
heirs we're just gonna make avoiding
issues right here
making this easier right here so now
that we've instantiate at that let's
make sure everything is set up properly
the way that we can do that is just like
saying app dot listen and where do we
want listen we want to listen on our
localhost 3000 that's our port number
you're gonna have just a function a
callback function basically what's gonna
happen is when we hit that localhost
3000 we want it to console dot log
something just to know that our server
is working so class and working go ahead
and save and I use node montt I highly
encourage you to get it as well but if
you don't want to do it you can always
use just called node and then
instantiate your device so node Mon
allows you when you save to auto update
your server so give it a second here all
right so where did we make up throwing
an air alright guys so it seems like I
had something else running on port 3000
so that's my my bat what I need to do is
just simply change this port number over
we did and we can continue on now we can
actually go ahead and rain stand shave
this Moltar learned a little bit about
what's going on there it looks like I
didn't close the last thing that I was
using on there but everything's good now
let's continue on so what we were doing
was we're basically just doing the setup
let's jump into our index.html right now
and I'm gonna copy over a couple things
now I'm gonna assume most people are
somewhat familiar with HTML if not hey
man good look good job making it this
far but we got it we got it we gotta get
you familiar so we're gonna have our
body we're gonna have our our head all
this sort of generic stuff that goes in
there now what we need to do is we need
to create our form input to do that we
have to create a form so let's have a
form our form tag not dorm tag
and it's gonna bring that in one more
time
so in our form tag here what we need are
a couple things we need an action we
need a method we need an encryption type
we also need two inputs and Nate a name
for one of them
so to start off our form is going to
have an action and this is going to be
equal to two slash upload this little
link to our posts that we're going to
create in just a second so in our post
we're gonna have app dot post and we're
gonna have a couple things that go in
here the first thing is going to be
through that that URL like so let me
comment this out field time beat will
continue on with that in a second so
that's the first thing that we need the
next thing that we need is the method
what type of method is this for supposed
to do is it a git is it a put is it a
delete is it a post what's it supposed
to do so that's our method in our in our
example as I just said it's a post now
the next thing we need is an encryption
type this is for Moltar in order for
this to work you have to put in this tag
multi-part forb data this is just part
of the documentation this is what you
need so we'll go ahead and create a
label we're about to move on to our
inputs right so let's create a label and
make it look nice we'll just say this is
four and I just happen to name it file
so this is for our file please that's
nice please select a file so that's our
label let's go ahead and create our file
input so we have our input and the type
of this is going to be equal to file and
then the ID is equal to file we don't
actually need an ID for anything but
it's good convention typically you want
your inputs always have IDs cuz they're
gonna be unique and that but this is
what really matters right here it's the
name the name is equal to file because
this name links up with this label and
then also links up with our post too in
order for us to get
the next step of this next input we have
this middleware that's going to
basically take in a variable that we're
going to find right now called upload so
we'll call a var upload and this is
going to be equal to Moltar and then
we're gonna pass an object and test this
this is all in the documentation is as
well and we'll just do guest uploads
slash now what's going on here is we're
basically just instantiating an instance
of Moltar and in order for us to upload
a single file and get what's in that
file we're gonna get back the file size
we're going to file type and a whole
bunch of other stuff the way that we do
that with our posts according the
documentation is we take that object and
we say look we're going to upload a
single file and then you pass in that
name parameter remember I said this is
gonna be important so this is how it
gets this and then we pass in our
traditional function where we have the
the rec the rest and the next and this
is our basically our post call so this
is our Moltar and we're saying look at a
single file the file is connected to the
name right here and do I leave anything
else
oh yes and we also need a submit button
so we need a way to say we're ready to
actually do this post we can do that
with the input set the type equal to
submit save that and let's go to why
we're well check that out in a second so
this is all we need to do in our HTML
pretty straightforward now we're gonna
run into an issue where it doesn't
detect this because we're working on the
logo so we need to and there's no like
linking of files together really so the
way that you fix this in a bootleg way
I'm gonna show you the bootleg way if
you will and then I'm gonna show you the
actual way that you should do it so the
way that we can get it so that it
detects our HTML page is we're gonna
pass in a get call that's gonna take
function I'm just gonna have wreck
breasts and next and then we are going
to basically says rez I'm gonna copy
this over red sauce send file all that
this is gonna do right here is basically
send this file to with this directors
name now this only works for single
files that's why I call it the bootleg
way but it will work for what we're
trying to do so if we try to go to
localhost index dot HTML it will work
now let's go to local posts and this is
now for 4000 slash let's try that little
close 4000 so now everything works this
wasn't gonna work beforehand and I
believe if we take this out don't make
me a liar I'm doing a video
it shouldn't detective see we get this
cannot get it doesn't know what to get
so let's go ahead and put this back in
here so why do so how do we do it if we
don't want to do it this way right kind
of the the much better way using Express
is to create a folder for what I've been
told kind of the standard way of doing
is creating this public folder and what
you do is you put everything in there
that that's gonna need to be created and
then we are going to use this statement
right here go ahead and put it right
below here app don't use Express static
Dirk name slash public so what this is
gonna do it's gonna work similar to this
except basically everything that's in
this public directory everything that's
in this folder is now accessible so
instead of having to do 10,000 app dot
gets we just do this one statement and
go from there so let's go to save this
make sure everything is working do a
refresh here so everything's good to go
cool so how do we actually we we've
we're basically there all we have to do
now is return our upload so how do we do
that well
you just do return and res Jason that
our response and this is basically a
sauna fie if she still defies the word I
believe the request not file so what
we're passing in and the file
information so now it's going to refresh
this we're gonna choose a file
oh what a bunch is will choose my logo
here and submit it and you'll see we get
all this file information here we get
the field name what we called it right
it's file the original name logo square
J effect encoding the mime type the
destination the file name the path and
finally our size which was the whole
point of this well the whole point is
really get you comfortable with
connecting your HTML I think with your
dear server but this is the this is the
file metadata Microsoft was pretty cool
get you introduced to Moltar I imagine
that this is one of the more common
modules that use for easy uploading and
things like that and how to work with
files but as always guys thank you for
watching the video if you want to join
our Facebook group I highly suggest you
do it's code tech and caffeine the link
is in the description below look to our
weekly interviews with developers and
those tech professionals I love to
interview on Fridays and if you want to
support me you can at you at youtube.com
slash Co tutorials through six is good
places as well but at patreon.com slash
coding tutorials 360 I appreciate it and
I'll see you guys in the next video hey
guys thanks for watching the video if
you're interested in coding bootcamp
check out dev Mountain comm where
housing is included in your price of
tuition and don't forget to Like comment
subscribe and share and support me on
patreon I'll see you guys in the next
video thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>