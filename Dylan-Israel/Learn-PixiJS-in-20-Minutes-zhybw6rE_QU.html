<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learn PixiJS in 20 Minutes | Coder Coacher - Coaching Coders</title><meta content="Learn PixiJS in 20 Minutes - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Dylan-Israel/">Dylan Israel</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Learn PixiJS in 20 Minutes</b></h2><h5 class="post__date">2017-02-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zhybw6rE_QU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">coded everything hi my name is Thomas
and I'm a full stack web developer in
the following video I'm going to be
showing you pic CJ s 6 CJ s is a render
engine for WebGL in the canvas
available in html5 and I'll be quickly
showing you first how to get a nice
little hamster spinning like this so
wants just hop right into it
in order to get this working all you're
going to need is an index file so here
we have our index and it's just a
incredibly simple index file so we've
got our head with our stuff it points to
our script which is the pixie Jas link
is going to be below to download that
and we have here a div ID display and
this is going to be our canvas element
it's going to replace this and if you
have browser that supports WebGL
we're going to have it so it uses WebGL
instead and we also have our script tag
pointing to our script and here's our
script here this is the application this
is what's causing the hamster to spin
only 37 lines of code probably could be
consolidated to even smaller than that
I'm going to show you how to write all
this so you don't have to pay attention
to this right now
and then we've got our style sheet so
just copy this pause the video and copy
this if you want to put your envis in
the center of the screen like so and
with a dash border l so you can just
keep it without a border and up in the
top left corner now I'm also going to
have to go over some discrepancies
between browsers I'm using the Mozilla
Firefox developer edition here you can
also use regular Mozilla Firefox but if
you're going to use Chrome from blocks
local files by default like it doesn't
allow file access in the browser so let
me just show you what this means let me
just open up my file in Chrome bring
that over here and as you can see in
chrome we're not going to be able to
access our images like so
so in order to get this working on
Chrome you're actually going to have to
host your files from a server and
there's also a setting in chrome that
you can enable that will allow like
local file hosting but I'm not going to
get into that I'm just going to show you
how to host it off of a server real
quick so I'm going to be using node J s
in order to host my files you can use
Python you can use whatever you want but
with node all you got to do is npm
install - g HTTP - server this is going
to install a lightweight server that
will i will host your static files when
you just run HTTP server in the
directory of your project you just copy
one of these urls
paste it up here at the top and now this
is going to be working in Chrome
so let's get started with making the
hamster spin so let me just refresh this
and there we go we've got nothing here
now you can use any image you want for
this as long as it's a PNG if you want
transparency it doesn't even have to be
a PNG so just do whatever you want I'm
going to be using my rat in order to
first make sure that our pixie install
is working and you have your index file
set up properly just head over to your
app J s or index IJ s whatever you want
to call it and type Pixy dot util dot
say hello
the function so in parentheses and save
now if this is working
if pixie is set up properly we can head
over to our console here in our browser
when we refresh here we are
we see that pixie is running
get our view on the screen all we're
going to have to do is VAR or render
equals this is going to be equal to pick
C dot auto-detect make sure it's camel
casing renderer this is a function we're
going to be passing three arguments to
it the first two are the height and
width so 512 by 512 and the third one is
an optional options object and inside
I'm just going to turn transparency on
so transparent true set the resolution
the one and we actually need to append
the view that this render is going to
produce you are Dom I'm going to do so
we're just going to type document dot
get element by ID and we're going to
assets the display
we're going to select our display div
which is right here we're going to
append child
renderer dot view to save that now when
we refresh
going to get our box here and if we
inspect that we can see that this box
here is a canvas element
to get anything on to this canvas
element we're going to have to set up a
stage and the stage is a lot like it's
exactly what it sounds like it's a stage
so if you think about it in gaming terms
it's going to be like different levels
it's different stages for you to present
content so you can actually have
multiple stages you don't just have one
so you can quickly change the elements
hosted on the canvas element just by
changing the stage so we're just going
to create a variable called stage set
that equal to new X each container in
order to render the stage all we have to
do is render render stage save that and
if we refresh nothing's going to change
because we have nothing in our stage in
order to put something in our stage it's
actually pretty simple now we're
actually going to load in our sprites so
our sprites are just images so you would
do pixee dot loader and here we're going
to add and I'm going to point to my
directory images and rat dot PNG now I'm
going to write dot load
I'm going to load a setup function and
the function hasn't been created yet but
let's do that now so this function is
going to be called set up and inside
this function where this is where we're
going to set up our sprites and stuff
but up here we're actually going to
declare our rat first so rat or whatever
object that you guys decided to go with
and in here rat set your variables to
new pixi dot sprite
and now we set the sprite to our image
and in order to do so we do pick C dot
loader dot resources here we pass it the
rename of our resource now we can also
rename our resources here I'll get into
that just a second but images /r @ so
this is the name of our resource dot
texture
we just have to add the rat to the stage
so in order to do so age add child add
the rat or whatever object you decided
to go with Wow so I had a couple typos
so down here at the bottom I had render
I'm going to change this to renderer and
up here container needs to be a capital
if we save now and refresh nothing's
going to happen because we actually need
to move this into our setup function
and here we have our object
as I mentioned previously in order to
add a custom name to your images sprites
resources or whatever all you have to do
is pass it in as your first argument
here under add so say I have my rack
here I want to call it rat named it rat
into this - rat save that
Refresh it'll still work
this needs to be a unique name a unique
identifier other than that that's how
you would do it the first things first
let's actually scale our rat down
because he's quite large right now so in
order to do so we're just going to write
rat dot scale and we have three options
here so we could do dot X to set the
scale up the x axis or dot y to set the
scale to Y or we can do dot set and pass
it both so I'm just going to do the 0.5
and 0.5 save that fresh there we go our
rats significantly smaller now if we
want to change our rats position say I
want to Center them in the screen we can
do rat dot X set that equal to if I want
to put it in the middle of the screen I
can do renderer dot width divide that by
2 we can copy that and change the width
to height set this to Y Save and now
when we refresh
our rat isn't going to be in the center
because the rat let's look at the rat
image for a second
as you can see here we've got all this
transparency but up here up at this
corner right here this is the point this
is the anchor point for our image this
is where a D Center is being placed
though right here is the center of the
canvas and that is where the uppermost
top left portion of our image is so in
order to fix that say we want to have it
anchored to the center of our image all
we have to do is rat dot anchor dot set
we can also do that X&amp;amp;Y
right this is percentage values so 0.5
is going to be the center of the x-axis
and 0.5 is the center of the y-axis now
we save and refresh and our Rack is
going to be in the center now our rat
isn't exactly a symmetrical image so it
doesn't appear to be perfectly centered
but that's me on this it is perfectly
centered in order to prove so let me
just fold up my orange element here save
that and refresh
and as you can see is perfectly
thundered
able to just set the raw wits and height
to some pixel values so in this case I
could just do rat dot height equals I
don't know something like 20 rat dot
which equals I don't know let's go with
40 to show you the skewing effect and as
you can see this is skewed horribly
that's why I prefer to use the scale
because the scale is percentage-wise
but if you need exact measurements
always use the Titan with AB tributes
to actually get our image moving which
is going to quickly remove these
heightened width attributes we're going
to create another function going to
college animation loop and inside the
animation loop we're going to move our
attributes here are anything that has
anything to do with manipulating the
object remove that in here we're also
going to move our render render stage in
here
and in our setup we're just going to
call that function animation loop we're
just going to execute that here
and in our animation loop we're going to
set up request animation frame and give
it the animation loop this is going to
have our
animations be played out smoothly at 60
frames per second if we were not to use
this everything would appear quite
choppy now if we refresh nothing is
going to change but if we want to have
our image start rotating in order to do
so all we're going to have to do is
increment the rotation attribute on our
object so I'm just going to do rat dot
rotation plus equals 0.01 we can save
that and now when we refresh is going to
be rotating
as sprites also have a pivot point so we
can also do rat dot pivot dot set or dot
X or Y in this case let's do something
like 2002 see what it looks like fresh
and it appears twenty is too low so
let's go with 200 refresh as you can see
now it's going to pivot around a certain
point
okay now say we want to add some
interactivity to our application in
order to do so all you need to do is
come up here to your stage and we'll
actually do this over here in the setup
and we'll set stage dot interactive
equal to true we refresh notice we don't
get any errors that have to do with this
quote here so no problems there and next
up all we have to do is set our rat to
become an interactive element and you
guessed it it's exactly as you would
expect he will set rat interactive
equals true
and now when we refresh nothing is going
to change but we still have no errors so
thank God and finally let's say every
time we click it we want to change the
scale so first we're going to move the
scale here because every time this
animation new place is going to set the
scale so anything that has to do with
hard set values we're going to move up
into our setup here and that really only
includes the scale anchor and pivot
point
now that we've added these up here let's
make our rat do something when we click
it so I'm going to make it shrink every
time I click so it's very simple rat dot
click we set it to a function and in
this function all we're going to do is
set the rat dot scale dot X minus equals
0.1 and we'll copy that over here and do
that to the Y as well save now when we
refresh
no errors and when we click the orange
it's going to shrink Wow
go over creating sprites and animating
sprite sheets now I'm not going to go
over the already vastly covered way of
animating sprites via a texture atlas
I'm going to be just showing you how to
change the frame of the sprite without
using a texture Atlas which I was
actually struggling to find out how to
do then through all the Google searches
that I did looking through all the
tutorials I couldn't find anything that
was saying how to actually do it so I'm
just going to show you how to do that
so first let's get rid of our orange rat
object whatever you guys have just get
rid of all that delete that to get rid
of the image as well save that and
refresh there we go okay so now that
we're on a blank canvas let's add our
sprite sheet so for me I have a sprite
sheet from open game art org so open
game art org
and you can really just choose any
spritesheet you want from here
and the one I chose is this little
skeleton guy
so I'm going to animate this all we're
going to do is require it so first give
it a name of sprite sheet and then pass
it in so images slash write sheet dot
PNG let's create our variable for our
sprite sheet so far we're just going to
have it called sprite is this is going
to be our sprite
now in our setup
going to have to do two things here
going to have to create a rectangle this
is going to be like a frame well it is
going to be called a frame to our image
to Italy capture that part of it so in
this case bar rec equals new pic C dot
rectangle and here we specify the
dimensions or where it's going to be
looking on the picture so for me it's
going to start at the top left corner so
up here
going to have a height of 64 and a width
of 64 so let's start at 0 X 0 Y and the
size of the image is going to be 64 by
64
now we actually get our texture here
serve our texture equals exceed loader
dot resources this is where we cast in
our spreadsheet here and dot texture
actually have to frame our texture and
it's quite simple so all you have to do
texture dot frame equals correct then we
just create a sprite
right
equals new
XE dot sprite
from the texture
now we just add our sprite to the stage
the stage bad child fright
now when we refresh
the typo okay rectangle starts with an
arc
Capital are we refresh and there's a
fright
in order to animate our sprite first
let's scale above the video is a little
tiny so we'll just come down here and
write dot scale set to 2
there we go a little blurry but whatever
to actually animate our sprite is fairly
simple so we're going to use an interval
so down here we're just going to do far
idle I'm just choosing idle because I'm
going to be using the idle animation
here set interval after the function and
in our function first things first we
need to make sure that we don't go past
the the amount of sprites on the sheets
of this forum here so if
recked dot X is greater than or equal to
ten since there's four and it starts at
zero we're going to be doing sixty-four
times three
and if it is then we set rect dot X
equal to 0 so it loops
now all we do is rekt X plus equals 64
and sprite dot texture up frame equals
rekt
a millisecond so I'm going to do 500 if
that
since I probably wanted to start at the
proper position so I'm going to move
this down here
then refresh
and there you go are sprites animated
and I do believe there's a problem
set this to four actually now that I've
swapped these two here
yes that is the cave okay so there we go
our animation is now playing out and
voila we've animated us right
okay so this last thing I'm going to be
showing you is adding movement to your
canvas which is how you would add
movement to any canvas element in HTML
so this isn't your pic see anything this
is what you would do to add movement in
general
also going to show you the velocity
properties so let me just show you that
real quick I guess so we're down here at
the bottom we're just going to add a
window dot add event listener
and we're going to go with key down
function here's our event and here we're
just going to prevent default
oh yeah we've got a prepend ascent to
that so we vent duck prevent default and
we're also going to need to move our
little skeleton persons so in order to
do so we're going to add a velocity
factor to our sprites so velocity is
basically how many pixels your character
is going to move per frame and instead
of just like modifying X or Y you're
going to modify the velocity and then
add that to X or Y so let's just let me
just show you what I mean so up here in
a function setup we're just going to set
up our bright bright dot DX to velocity
X and then set that to what we want it
to move what let's say three pixels
we'll save that
and then down here all we do is sprite
dot X plus equals sprite dot DX and this
way you can let me refresh and show you
that it moves now but this way you can
modify how fast something is moving
based on what they are either on or wind
resistance if you want them to slow down
over time and stuff like that that's
what the velocity thing brings into play
here
if you create
you enjoyed the video please comment
like and subscribe see you guys later
hey guys thanks for watching the video
if you're interested in coding bootcamp
check out dev Mountain comm where
housing is included in your price of
tuition and don't forget to Like comment
subscribe and share and support me on
patreon I'll see you guys in the next
video thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>