<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 84   Compare attribute in asp net mvc | Coder Coacher - Coaching Coders</title><meta content="Part 84   Compare attribute in asp net mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 84   Compare attribute in asp net mvc</b></h2><h5 class="post__date">2013-08-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/A79Aj2xDyc8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this part 84 of asp.net MVC tutorial in
this video we'll discuss compare
attribute we'll be working with the
example that we worked with in part 83
so please watch part 83 before
proceeding with this video compare
attribute is used to compare two
properties of a model comparing email
addresses and passwords is the common
use case of compare attribute let's
understand using compare attribute with
an example to ensure that the user has
typed the correct email let's include a
confirm email field on the edit view as
you can see here now the user will have
to type his email in both of these
fields email and confirm email if the
match then we allow the form to be
submitted and the data will be saved to
the database table if they don't match
then we return a validation error
message stating email and confirm email
doesn't match let's see how to achieve
this obviously the first step here is to
introduce this property to employee
class because employee class is the
model for this view so let's flip to
visual studio so here we have the
employee class let's go ahead and
introduce confirm email property at this
moment you may be wondering why are we
adding it to the employee class why
can't we add it to employee metadata
class that's because this employee
metadata class is used only to associate
metadata for the properties of the
employee class so these properties name
age hire date these are existing
properties of the employee class but you
may be wondering okay within this
employee class I don't see those
properties so where are they coming from
they are coming from the auto-generated
employee class so this is just you know
a piece of the employee class but there
is another piece so within the sample
data model which is nothing but an ad
ODOT identity data model that we
generated in part 80 of this video
series so here we have the sample data
model designer dot CS so within this
file we have another employee class so
that's also a partial class so this is
an auto-generated class so
this class is auto-generated based on
the stable TBL employee so for each
column in this table we have a property
within this employee class okay so here
we should have all those properties
employee ID name and then the rest of
them email age etc so this employee
metadata class is only used to associate
metadata for the existing properties of
the employee class this confirm email
property doesn't already exist within
the employee class that's a property
that you need to add to this employee
model class ok now at this point you may
be thinking why can't we add this to the
other partial class that's because this
partial class is an auto-generated file
so tomorrow if our database schema
changes and if we were to auto-generate
this class again we would lose our
changes and that's the reason why we are
adding it to this partial class because
this will not be auto-generated this is
the file that we have created so we
won't lose our customizations that's why
it's a good practice to add them to this
file and not to the auto-generated file
all right and then another thing to keep
in mind is that the value of this
property will not be saved to the
database table in the first place
we don't have a confirm email column
okay we only have email column and this
column is going to get its value from
the email or property of the employee
class this confirm email property is
only used for validation comparing the
value of this property with the value of
email property if both of them match
then we allow the form to be submitted
and the data will be saved to the
database otherwise we return a
validation error message stating email
and confirm email doesn't match all
right so at this point actually let's
try to put this with an employee
metadata class and see what's going to
happen do we get any compilation error
let's build a solution look at that bill
succeeded we don't get compilation error
but then when we try to
access the application we get a runtime
exception look at that it says the
associated metadata type for employee
contains the following unknown
properties confirm email is an unknown
property so we are trying to associate
metadata to a property that doesn't
exist in the employee class and that's
why we have this exception okay and not
only that look at this so obviously if
we want to display this confirm email
field then we need to modify the edit
view so let's go to edit view and if you
look at this edit view the model for
this view is employee class okay
so just below the email we need to
confirm email so let's copy this HTML
and then look at this when I press dot
you know I don't get confirm email
property why is that that's because our
confirm email property is not present
within the employee class that's present
with an employee metadata okay
so you know the property needs to exist
within your within our employee class
this employee metadata class is only
used to associate metadata for the
properties that are already existing
within the employee class so let's move
that property to the employee class okay
let's build our solution and let's go
back to our edit view and look at that
we get intelligence right now so let's
take the property and paste it right
here all right
so let's build a solution and let's
refresh this edit view so at this point
we should get a feel for confirm email
as well okay so we have confirmed email
now look at this when I save it the data
gets saved without any validation error
message so if email and confirm email
doesn't match then we want to return a
valid
narrow message back to the user so how
do we achieve that
we can use compare attribute as you can
see here so we want to compare you know
the value of confirm email property with
the value of email property if the match
then the form will be allowed to be
submitted otherwise a validation message
will be returned so all we need to do is
we need to decorate the confirm email
property with compare attribute and by
the way this compare attribute is
present in system dot web dot NBC
namespace most of the other validation
attributes like string length regular
expression etc these are present in
system that component models or data
annotations but compare attribute is
present in system dot web dot MVC so
let's bring the pen all right so now
let's decorate okay so if you look at
this attribute you know it expects one
parameter so what is the other property
that you want to compare with so confirm
email property I want to compare this
with email property and our employee
class contains email property so let's
build the solution
let's refresh this view and then let me
click Save look at that
confirm email and email don't match so
we get the validation and once we match
both of them and then when I save it
look at that now the form is allowed to
be submitted and look at this when I
click Edit
you know when the view loads confirm
email doesn't load that value if you
want that to be loaded you know when the
view loads all you need to do is within
the home controller there will be two
edit actions one edit action is for the
get so this one is for the get request
so all we need to do here is so we have
the employee object so we want to set
the confirm email to email that's it
so when we load this obviously that
value will be loaded here okay so if you
are editing so if I say change my email
with an email field then if I don't
change it here and then try to save it
look at that we get a validation message
confirm email an email don't matter and
this is because of a different
validation attribute that we have okay
all right that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>