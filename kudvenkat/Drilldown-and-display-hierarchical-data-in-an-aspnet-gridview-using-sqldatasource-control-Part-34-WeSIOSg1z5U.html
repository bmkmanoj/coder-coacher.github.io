<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Drilldown and display hierarchical data in an asp.net gridview using sqldatasource control - Part 34 | Coder Coacher - Coaching Coders</title><meta content="Drilldown and display hierarchical data in an asp.net gridview using sqldatasource control - Part 34 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Drilldown and display hierarchical data in an asp.net gridview using sqldatasource control - Part 34</b></h2><h5 class="post__date">2013-03-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WeSIOSg1z5U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so welcome to presume technologies I am
venket this part 34 of asp.net grid-view
tutorial in this video we'll discuss
about drilling down and displaying
hierarchical data in an asp.net grid
view using sequel data source control
let me explain what I mean by this in my
sequel server database I've got three
tables the first a table is TBL
continent's table which has got
continent ID and continent name columns
the second table is TBL countries table
which has got country ID country name
and continent ID columns continent ID
column is the foreign key in this table
which can be used to look up all the
countries that belong to a specific
continent and the third table is TBL
cities table which has got city ID city
name and country ID columns country ID
is the foreign key in this table which
can be used to look up all the cities
belonging to a specific country now I
want to display the data that is present
in these three tables with in grid view
controls in an asp.net web application
now when the webform first loads we only
want to display the continents once I
select a continent then the countries
belonging to that continent should then
be displayed within the second grid view
control once I select a country then the
cities belonging to that country should
be displayed you know in the third grid
view control let's see how to achieve
this obviously we need three grid view
controls you know for this so let's flip
to visual studio let's drag and drop
three grid view controls onto this
platform so that's grid view one grid
view two and creepy o3 let's set the
auto format for all the three grid view
controls
let's choose brown-sugar scheme for all
of them
all right so to retrieve data for each
grid we control let me drag and drop
three sequel data source controls as
well so sequel data source one two and
three so obviously within the first grid
view control we want to display
continence information so let's
configure sequel data source one control
select the connection strings from web
config file click Next
the table is TBL continent's table we
want to retrieve all the rows and
columns so select star from TBL
continent's click Next test your query
finish now let's associate sequel
datasource one control with our grid
view one control at this point we have
continents in a continent ID and
continent name displayed within the grid
we control but look at this we also want
the select button and to do that all you
need to do is you know check this box
enable selection this should display the
select button next to every row okay so
we are done now let's configure the
second sequel data source control to
retrieve the countries now look at here
when I select a specific continent then
I want to load the countries belonging
to that continent only within the second
grid we control we don't want all the
countries okay let's see how to
configure the second sequel data source
control to do that
okay so let's configure this configure
data source
let's connect you know select the
connection string select our table which
is TBL countries now we don't want all
the rows from TBL countries we want to
include a where clause we want to filter
some of the rows so click on the where
button now how do we want to filter that
so in the first grid view control the
user will select you know arrow from
that grid view control we will pass
continent ID okay so based on the
continent ID we need to filter the rows
so the column on which I am going to
filter is continent ID which should be
equal to you know a value that is going
to come from a control okay from which
control is going is it going to come
from from grid view one control so I
select control here and then specify the
ID of the control which is Crede v1 okay
now I'm using the selected value
property of grid v1 okay which will be
assigned to this parameter at continent
ID so click this Add button and then
click OK
okay click Next now you have the
opportunity to test your query so
obviously this is going to be a
parametrized query so we need to supply
a value for this parameter for example
now if I pass two here and click OK I
should get all the continents that are
in Europe beta United Kingdom France
Germany
all right click finish now let's
associate sequel data source to control
with grid view to control and obviously
even in grid view to control we want to
enable selection because once I select a
country we want to show cities within
the third grid view control so I'm going
to check this box here enable selection
ok look at that it will display can
create a continuum content ID and I have
select buttons and the final step is to
basically configure sequel datasource 3
control ok to retrieve cities
information so configure data source
select your connection string from web
config file click Next it's going to be
TBL city again we don't want to retrieve
all the rows we want to include a filter
because once I select a country I want
load only the cities that belong to that
country so let's use the where clause
and then the column on which I'm going
to filter them is country ID that should
be equal to you know a controls value
which control grid-view to control
because give you two is what this is
displaying countries so select that so
grid view to dot selected value click on
the Add button click OK click Next you
can test your query so let's say if I
pass one as the country ID click OK I
should get all the you know basically
cities which belong to you know that
country in this case India click finish
now let's associate sequel datasource
three control with grid view three
control that's it we are done now let's
go ahead and run this and see the output
so when the webform renders it should
only display a continents first and then
look at this I don't have anything
selected when I click select on Asia I
get all the countries that are in Asia
India Japan Malaysia now once I select
the country I should now load all the
cities that belong to that country
similarly when I select Japan I should
see the cities there ok I can also
change the continent look at this when I
select the continent Europe you know the
country France is selected and the
cities within France are displayed ok
the important thing to notice here is if
you look at the source of this web form
notice data key names property here for
the first grid view control the data key
names properties continent ID now what
happens if I remove this data key names
property okay let me remove that save it
and let's run this project now look at
this we are going to get you know a
runtime exception what is it saying data
Keys must be specified on grid view grid
view one before the selected data Keys
can be retrieved now what actually
happens is when you select a row by
clicking on the select button
you know the selected value property
will use that data key okay which in
this case is continent ID so if you
don't set that
that value you cannot use that property
that's the reason why it's very
important we set data key names property
so data key names is equal to continent
ID so once we put this back it should
work you know as normal so let me run
this and everything should be back to
normal
alright on this slide you can find
resources for asp.net c-sharp and
sequence of interview questions that's
it for today thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>