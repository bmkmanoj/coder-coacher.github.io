<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular form reset | Coder Coacher - Coaching Coders</title><meta content="Angular form reset - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular form reset</b></h2><h5 class="post__date">2018-04-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gfSwvsqUv84" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">they say spot 45 of anglich Rada
tutorial in this video we will discuss
why and how to reset a forum in angular
sometimes we must reset the forum before
we can redirect the user to another
route let me explain this with an
example let's navigate to the create
route and fill this form at this point
we have the form filled but we have not
saved our data yet so when I try to
click on this list link right here and
navigate to the list rod we get a
confirmation are you sure you want to
discard your changes and this makes
sense in this case because we have not
saved our changes and when I click OK
it's going to discard the changes and
navigate the list route but when we
click cancel the navigation is canceled
and we stay on the current route so we
don't lose our data but look at this
when I click the Save button even then
we are getting the same confirmation are
you sure you want to discard your
changes when I click the Save button the
expectation is to save these changes and
then redirect the user to the list route
so we can see that newly added employee
now let's take a look at what's
happening when the Save button is
clicked within our create employee
component here is the save employee
method which is called when that button
is clicked notice we are first saving
the employee data by calling our
employee service and then we are
attempting to redirect the user to the
list route and this is the line which is
triggering that confirmation now if you
recollect in our previous videos in this
series we already discussed that the
individual form controls that we have on
this create employee form has got
several flags like dirty pristine Valley
touched etc not just at the individual
form control level even at the forum
level we have those same set of
properties since the forum is touched
and we
and the data in view of the form
controls the form is marked dirty and
since the form is marked dirty this line
of code which is attempting to redirect
the user to the list route is triggering
of a candy activate card if you
recollect in part thirty nine of this
video series we implemented the candy
activate card on our create route so to
prevent the candy activate card from
being triggered
we must reset the treat employee form
before attempting to redirect the user
to the lest route resetting the form is
easy we can do that in the HTML
declaratively or programmatically in
code first let's take a look at how to
do it in the HTML here is our create
employee component HTML file notice here
we have a template reference variable
for our create employee form we are
creating it by exporting the ng form
directive and thus any forms of active
exposes reset method which we can call
to reset the create employee form after
saving data it's not only going to clear
all the form fields it is also going to
reset those flags that is 30 pristine
Valley etc notice when the form is
submitted we are calling the save
employee method in addition to saving
the employee data we also want to call
the reset method and the baby do that is
by using the template reference variable
employee form and on that we call the
reset method let's navigate to the
create route and fill our create
employee form notice now we did not get
that confirmation but there is a major
problem here notice this newly added
employee at the bottom we don't see any
of his details that's because of the way
we have implemented the save employee
method in our next video we will discuss
what is causing this and how to fix it
for now let's see how to reset the form
in code instead of the HTML there are
two ways to reset the form in code first
let's under the change we have done in
the HTML we don't want to reset the form
in
HTML so let's remove this code and we
have our template reference variable
here so let's pass this to our save
employee method so within our component
class we know the save employment that
is receiving the great employee form as
a parameter let's call it EMP form and
we know this is of type ng form they get
our template reference variable right
here we are creating it by exporting the
angular and deform directive in the HTML
we use lowercase n but within the
component class we use capital letter n
and then after we save the employee
details by calling our employee service
save method we want to reset the form so
we use the parameter EMP form and on
that we have this free set method which
we can call to reset the form which is
going to set that dirty flag to false
let's well create employee form again
notice even now we did not get our candy
activate card confirmation now let's
look at another way to reset this
employee form in code first let's not
pass this template reference variable
anymore to the same employee method this
means within the component class we need
to delete this parameter as well and
that means this line is going to error
out and if we scroll all the way up
notice here they using view tail the
decorator and the string that is passed
as the selector to this attribute a
decorator is the template reference
variable so if we take a look at the
HTML that employee form string is
nothing but our template reference
variable so basically this add view
chill decorator is providing us access
to that template reference variable in
the component class and we are accessing
and get using this property so notice
this property is of type and reform and
we know this angular ng form directive
has caught that reset method which we
can call to reset our employee for
so we can use this property and call the
reset method let's do that right here
after we save the employee details so
this dot create employee form dot notice
on that we have got reset method let's
fill create employee form again notice
even now we did not get that
confirmation but we still have the same
problem we don't see any of the newly
added employee details we'll discuss
what's causing it and how to fix it in
our next video there is one more very
useful thing that we can do using this
reset method by default this reset
method resets the form flags like
pristine dirty valid etc in addition it
also clears out the form fields so on
our create employee form it's going to
clear all the form fields that's the
default behavior but in our case let's
say when we reset the form we want to
set some default values for name and
contact preference for example let's set
contact preference to default to phone
the way we do this is by passing an
object to this reset method and we know
this create employee form is binding to
this employee property so this is
nothing but an employee object and if we
look at the view template the form
controls that we have here for example
here we have the name form control and
it is binding to the name property
similarly it's here
it's binding to the email property the
email form control so those properties
we have on this employee object so what
we want to do is pass an object here to
the reset method and this object should
have the same set of properties that
these form controls are binding to for
example in our case we want to set a
default value for the name form control
and we know that name form control is
binding to the name property so I'm
going to set this to let's say
test name and similarly we want to bind
it to contact preference and let's
default this to phone now if we test
this as it is we won't be able to see
these default values on the form because
after we are resetting the form we are
immediately redirecting to the list
route so let's comment this line of code
let's fill create employee form one more
time notice as soon as we click the Save
button the form is reset but look at the
contact preference radio buttons phone
is selected and look at the name test
field it's set to test name because
those are the default values we have
specified when we call that reset method
in our case we do not want to set any
default values when we reset the form so
let's delete this object and we want to
navigate the user to the list route so
here is the code to reset the form in
HTML if you want to do it in code you
can use any of these two approaches to
the reset method we can also pass an
object containing default values for the
form controls that's it in this video
thank you for watching and have a great
day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>