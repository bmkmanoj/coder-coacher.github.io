<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Adding using user controls on a webform   Part 105 | Coder Coacher - Coaching Coders</title><meta content="Adding using user controls on a webform   Part 105 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Adding using user controls on a webform   Part 105</b></h2><h5 class="post__date">2012-12-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BVp24Rgs5vs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to regime technologies I
am venket this is part 105 of asp.net
video series in this session we'll
discuss about adding and using user
controls on a webform adding properties
to the user control in part 1 or 4 of
this video series we have discussed
about creating user controls if you
haven't watched that I would strongly
encourage you to do so before continuing
with the session in fact if you remember
in the previous session we have created
this calendar user control now
let's say I want to use this user
control on this web form to dot aspx now
let's say we want to capture the date of
birth of a person so I'm going to have
the static text date of birth and now
using a user control on a web form is
simple and straightforward all we have
to do is simply drag the user control
from the solution Explorer and drop it
on the web page and that's exactly what
I'm going to do right now so I am in the
source more of this waveform and then
I'm going to drag and drop this user
control onto this waveform now look at
this it has actually added a link to the
user control now this is not what we
have expected okay so let me get rid of
this hyperlink from there let me flip
the webform to the design mode and then
let me drag and drop this user control
all right now it's working as expected
so when you drag and drop the user
control from the solution Explorer on to
the web form then make sure you are on
the design mode otherwise it may not
work as expected all right so when we
added this user control to the web form
what actually happened behind the scenes
two things first it has added this
register directive second it has added
this control declaration on the web form
for the user control before we examine
the register directive and the control
declaration let me go ahead and add the
standard asp.net button control to this
waveform from the toolbox so we just
added the button control and if you
examine the declaration for the button
control pay attention to these two
things you know ASP this is called as
the tag prefix and button is the tag
name okay since a button is a standard
asp.net server control the tag prefix is
ASP okay
just like how the standard asp.net
controls have a tag prefix and a tag
name user controls also have a tag
prefix and tag name in their declaration
so where are these tag prefix and tag
name coming from these are actually
coming from the register directive and
what is this register directive
basically this register directive
registers this user control the calendar
user control with this webform okay and
this register directive is having three
important attributes here okay
source specifies the source for the user
control since the user control is
present in the root directory of this
web application project you know we just
have the name of the control there and
then the tag name the tag name is
calendar user control and that's what we
have specified here and the tag prefix
is you see one and that's what we are
specifying here now if this tag prefix
doesn't make sense to you if you want to
change it to your choice you can do so
for example let me change this to play
Jean so if I change the tag prefix in
the register directive then in the
control declaration I have to change it
accordingly okay so with this change let
me go ahead and run the application by
pressing control f5 now we should be
able to use that user control the
calendar user control on this waveform
so I can click on the calendar user
control select a date that gets
populated and this working is expected
all right now let's say if I want to use
this calendar user control on multiple
web forms then on each and every
waveform where I want to use this
calendar user control do I have to have
this register directive yes you have to
but if V regester this user control in
web config file of the project then we
don't have to have this register
directive on each and every waveform
let's see how to register a user control
within web config file of that project
to do that we use the pages and controls
element within system dot web let's do
that quickly so I'm going to get rid of
this register directive from there and
then within web block config file I'm
going to add pages and then within pages
we're going to
at controls and then the ad element okay
and we need to specify three attributes
here source tag name and tag prefix so
source okay so where is this calendar
user control present it's present within
the root directory of this web
application project so I'm going to
specify the root directory using the
tilde symbol for slash calendar user
control dot asex and similarly we need
to specify the tag name that's going to
be calendar user control and tag prefix
that's going to be prime okay so we have
done the declaration within web config
file now let's go to webform to dot aspx
okay so since now I have the control
declaration within web config file I
think this should be fine at this point
of time so let me save that and let me
run this now by pressing control f5 now
we will get an error okay we will get a
runtime error look at this when I build
it this I didn't get a build error but I
get a runtime error and look at the
error message here the page web form to
door aspx cannot use the user control
calendar user control dot asex because
it is registered in web config file and
lives in the same directory as the page
so the user control and the page baby
are using this one that's on waveform
too so both of these are actually
present in the same directory and it
cannot happen when this user control is
being registered in web config file okay
don't worry that's not a code problem
it's by design this is due to an
internal design consideration for
performance reasons okay and how do we
solve this problem
to solve this problem simply move this
calendar user control to a different
folder in real-time projects what we
actually do is use the controls will
reside in their own folders for example
we'll give them a meaningful name like
user controls so that's what I'm going
to do right now so to this project I am
going to add a new folder I'm going to
call that user controls so all my user
controls are going to stay within this
folder so I'm going to move this user
control into that folder so this user
this calendar user control now is in
user controls folder so this waveform is
in a different folder and this user
control is in a different folder but
then we need to update that within web
dev
config file so the path has changed so
I'm going to stay the calendar user
control is actually within user controls
folder okay so with that change let me
build the solution and let's run this
waveform too now we should not get that
error anymore
okay so we should be able to you know
click on the image selected eight and
everything works fine okay now if you
remember in the previous session you
know we didn't use the user control
instead we use that image button
calendar and button control everything
on this waveform one dot aspx and when I
run this waveform one dot aspx and when
I select a date from the calendar
control look at this and I select a date
and then when I click this button
control we retrieve that and print it on
the waveform but how are we doing that
since I have this text box image button
and calendar everything within the
webform it's very easy for me to
retrieve the selected date from the text
box using the text property of the text
box control but now when I'm using the
calendar user control look at this this
calendar user control has actually
encapsulated the text box image button
calendar control all of these inside
that user control and that user control
is now actually used on this platform to
dot aspx okay now look at this on the
design I have this problem that's
because this calendar user control is
not properly cased so that works fine
there all right
so so all that text box button control
and you know the image button they are
encapsulated within this calendar user
control and that calendar user control
is used on this platform now when I you
know I have a button control here as
well so when I click that button I want
to retrieve you know they select a date
from this control so this entire thing
now is one control so how do I get the
date from that control there is no way
for me at the moment okay so to do that
we have to actually expose that date as
a property from the control so I'm going
to go to this calendar control there and
I'm going to expose a property now where
is this date the selected date present
the
like that date is going to be present in
this text date text box so what I'm
going to do here is I'm going to provide
a public property here okay just like
how web forms can have properties and
methods you know a control a a user
control also can have properties and
methods so I'm going to specify a
property I'm going to call the selected
date property and the type is going to
be string I'm going to make this a get
and set property so the get property
will return the date from the text box
so txt date dot text okay and then if
somebody wants to set the value I know
set the date they can use the set
property so I'm going to say
txt date dot text is equal to value
whatever value they said you know we are
using that value to assign the text
property of this textbox control that's
the only change that I have to do so let
me go ahead and build this so build
succeeded now let's go to the webform to
dot aspx way we have used this calendar
control now what I basically can do is
so if I say if you look at the ID of
that calendar control on webform -
what's the ID it is calendar user
control one so I'm going to copy that we
don't have to have this so calendar user
control one dot look at that there
should be a property called selected
date and look at the return type of that
it's a string property so I simply can
say response dot write whatever date we
have selected okay so with that if we go
ahead and run now we should be able to
select the date and then once I click on
the button that property is going to
return the selected date from that
calendar user control so I get that data
is expected
now we are we are retrieving that
dynamically but then look at this when I
go to webform to dot aspx I flip this to
design mode and then I right-click on
that go to the properties window and
look at this I can also have the
selected date property here for some
reason it's not refreshed here
but let me go to the source mode here
and then type
select a date okay for some reason it's
not updated let me clean the solution
and rebuild this so I'm going to clean
solution I'm going to rebuild the
solution again okay let's flip to the
design mode let's right-click go to the
properties we should see selected date
there look at this for some reason it's
not showing up but we are able to use
that here selected date is the property
so let me copy that this could be an
issue with visual studio itself and let
me set select the date is equal to maybe
0 1 4 / 0 1 4 / 2013 and let me run this
now when we load the waveform that date
should actually be selected within that
calendar user control so I'm just
waiting for that look at that it's
selected for some reason it's not
showing up let me close visual studio
and reopen that once again so I'm going
to right-click on that plan as
administrator
because many a times if visual studio is
behaving you know in an unexpected way
just close it and reopen it it should
solve most of the problems okay so let
me now actually flip to the design mode
and then go to the properties window
look at that it shows the selected rate
right now there okay so that's that was
an issue with Visual Studio why it
wasn't showing the first time but then
there is another issue here with user
controls look at this we have said the
text I mean the selected date property
in the HTML source or using the designer
you know the properties window here but
then is it setting that date within the
textbox control no it's not again that's
a limitation because if you look at this
if I have in or text for example the
button control if I change the text
there to click immediately the button
control changes its text okay similarly
I am setting the property of selected
date to this 1 1 1 2013 but is that
shown in the text box there it's not
okay
again that's a design that's by design
and there are two ways to solve that
shoo okay we can create a custom control
instead of user control if you want that
behavior or we can compile the user
control into a DLL now when I compile
this project user control is this user
control calendar user control is not
compile it into its own DLL instead it
will be compiled into the project's
assembly okay but if we compile this
user control into it's only ll okay then
we should be able to have this value you
know whatever you change in the property
you know in the HTML or using the
properties window should be reflected
there in the control we'll see how to do
that in a later video session okay in
the next video session we'll actually
discuss about adding events tour
calendar user control on this slide you
can find resources for a speed or in
c-sharp and sequel server interview
questions that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>