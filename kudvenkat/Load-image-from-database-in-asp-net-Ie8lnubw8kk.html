<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Load image from database in asp net | Coder Coacher - Coaching Coders</title><meta content="Load image from database in asp net - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Load image from database in asp net</b></h2><h5 class="post__date">2015-08-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Ie8lnubw8kk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 170 of asp.net tutorial in
this video we'll discuss how to load
images from the database using asp.net
and C sharp this is continuation to part
169 in part 169 we discussed how to
upload images to the database so here is
what we want to achieve at the moment
when we click on this link a view
uploaded image we are redirected to
waveform to tour aspx and in the query
string we are passing the ID of the
image that we have just uploaded so what
we want to do now is read the image ID
from the query string and then load that
respect to image from the database using
its ID and then display it on the web
page so let's see how to achieve this
the first step here is to create a
stored procedure which is going to
retrieve the image by its ID so here we
have a stored procedure SP get image by
ID it has one input parameter @ ID and
look at the implementation select image
data from TBL images where ID equals @
ID so for example if we pass 1 as the ID
parameter value we will get the
respective image data so now we want to
display this image on the web page so
within visual studio in web form 2 dot
aspx let's go ahead and import some ad
or net namespaces so we need system
configuration system data system door
data dot sequel client so let's copy
those three namespaces here and let's
also copy the ad or dotnet code here
because we still need to read the
connection string we need to clear the
command object and connection object all
that stuff so instead of retyping that I
am going to copy and paste it right here
within the page load event alright so we
are reading the connection string from
web config file creating the sequel
connection object using that connection
string and we want to execute a stored
procedure and the name of the stored
procedure is sp get image by ID so
that's the stored procedure that we want
to call and it's a stored procedure so
we have
tell that to the command object and the
stored procedure has got a parameter so
sequel parameter let's call it Graham ID
equals new sequel parameter and let's
specify the parameter name so parameter
name equals @id and the value where is
the value going to come from it's going
to come from the URL so request dot
query string of the name of the query
string parameter is ID so that is the
value for ID parameter and we need to
associate this parameter object with the
command object so command block
parameters dot add / am ID connection
dot open and command now if you look at
the stored procedure the stored
procedure is actually returning a single
value so let's use execute scalar
function to retrieve that single value
returned by disturb sija and we know
that we are going to get a byte array
back so I'm going to typecast the result
to byte array and store that in a
variable of type byte array so byte
array equals let's call this bytes
equals whatever we get from the database
and finally close the connection we
don't have to explicitly close the
connection so I'm just going to leave
that now what we want to do is on a web
form let's go ahead and include an image
element and I'm going to set height
equals 500 pixels width equals 500
pixels and within our code behind file
so the idea of that image element is
image one image one dot mhm URL equals
so at the moment if you look at what we
have we have the byte array of that
image right so I'm going to specify the
image URL as so the data is going to be
image four slash PNG semicolon and we
are going to actually convert this byte
array into a base64 string so I'm going
to create a variable here and let's call
that STR base 64 equals convert dot to
base64 string and to this function I'm
going to pass this bytes array so what
is this function going to do it's going
to convert those bytes into a string and
here we are going to pass a base64
string to that all we need to do is
append that base64 string so image URL
is this string okay so this should you
now display that image within that image
element so let's see all our changes
rebuild those solution and let's go to
over form one dot aspx at the moment I
think in our database we have got two
images let's go ahead and upload an
image
when we click upload it should upload
the image successfully and then it
should display that link view uploaded
image and when we click on this we
should be redirected to webform to dot
aspx and look at that we get the image
you know that we have just uploaded if
you want another image simply include
the image ID in the URL for example I
want the first image so we get the first
image and the second image is jellyfish
so if we pass image IDs - we should see
jellyfish
so pretty straightforward example on
this page here you can see at the HTML
code and the silverside code
thank you for listening and have a great
day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>