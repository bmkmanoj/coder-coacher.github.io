<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 49   Html encoding in asp net mvc | Coder Coacher - Coaching Coders</title><meta content="Part 49   Html encoding in asp net mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 49   Html encoding in asp net mvc</b></h2><h5 class="post__date">2013-07-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IiAfCLWpgII" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 49 of asp.net MVC tutorial
in this video we'll discuss what's HTML
encoding why would you HTML encode and
how to avoid HTML encoding in aspx and
rays of views
please watch but 48 before proceeding
we'll be working the same example that
we worked with in part 48 so what's HTML
and coding HTML encoding is the process
of replacing ASCII characters with their
HTML entity equivalence for example
replacing this less than symbol which is
an ASCII character with its HTML nth
entity equivalent ampersand LT semicolon
similarly greater than with ampersand GT
semicolon etc so the next question is
why would somebody want to HTML encode
this is to avoid a security threat
called cross-site scripting attack so
what's cross-site scripting attack well
discus call site scripting attack in
detail in a later video session but so
now understand that to avoid cross-site
scripting attacks all output is
automatically HTML encoded in an MVC
application but sometimes it's necessary
that we want to disable or avoid this
automatic HTML n coding and there are
three ways to do that ok these are the
three techniques that are listed in a
boat for razor and aspx views the first
technique is that strings of type I HTML
string are excluded from this automatic
HTML n coding ok
let's actually understand that with an
example in part 48 we have implemented
image custom HTML helper and if you
remember this image custom HTML helper
returns look at that at the moment it's
returning a string and this is of type
system dot string and these strings are
not excluded from HTML and coding and
where are we using this image HTML
helper we're using that within this
details view to render the photo of the
employee but because strings of type
system dot string are not excluded from
HTML encoding and this method is
returning HTML string you know a string
which contains HTML
when we navigate to the details view
notice that instead of rendering the
employees photo it simply displays you
know that encoded HTML for us so if I
right click on that and view the page
source then if we navigate all the way
down notice that we have this HTML and
coded that less than symbol with
ampersand LT semicolon greater than
symbol with ampersand GT semicolon and
then this double coat with ampersand Q
ot semicolon and then this is the
closing double quote which is again
encoded to ampersand Q ot semicolon okay
so here the HTML is encoded but we don't
want you know the automatic HTML
encoding to happen and one way to avoid
that from happening is to change the
return type of that image a custom HTML
helper method from string 2 is DML
string so let's flip to visual studio
and within our custom HTML helper we can
change this to a HTML string that's an
interface and and there are several
classes which implements that interface
for example MVC HTML string class
implements that interface so we need to
wrap this inside that object and then
return that so let's return a new MVC
HTML string and then to that let's pass
the string let's build a solution and
keep in mind strings of type I HTML
string are excluded from automatic HTML
encoding so when we refresh this we
should have the employees photo instead
of displaying that encoded HTML notice
that we have the employees photo there
okay so strings of type I HTML string
are excluded from automatic HTML
encoding and the second way is to
actually use this HTML dot raw function
let's say you know of a function here
within this custom this image a custom
HTML helper let's say this is still
returning string
and let's return string instead of MVC
HTML string that's pill solution and
let's refresh this view and as you might
expect it should display the encoded
HTML instead of rendering the image okay
notice that we have the encoded HTML
there now the other way to avoid this
automatic HTML encoding is basically to
use raw HTML function so at HTML dot raw
and look at this again this raw function
what is it returning back it's returning
I HTML string that's why it will not be
HTML encoded it's as simple as that
so let's build this and let's refresh
this view and obviously this will render
the employee's photo ok so both in razor
and aspx views you know these techniques
are supported and one of the technique
which is specific to aspx views is you
can use this angle bracket percentage
equal to syntax
okay now let's actually delete this aspx
or rename this you know razor view to
something like 1.1 details and then
let's go to a home controller and add an
asp x view so right click on the action
method add view the view name is going
to be details we're going to make use of
aspx view engine and we want to create a
strongly typed view against our employee
model class and let's select this
careful template as details and let's
add that so this has generated the
details view for us and notice that you
know the syntax that we have at the
moment is let's actually get rid of
these action links from there and notice
the syntax to you know for this code to
generate this code you know this code is
wrapped inside the syntax angle brackets
percent age :
okay now this syntax will automatically
HTML encode at the moment um you know
our custom image HTML helper
so returning strings of type system that
string so now let's actually get rid of
this div and then here we are using
display four but we want to use our
custom image HTML helper so let's go
ahead and import the namespace let's
import the namespace and the namespace
within which our custom HTML helper is
living in is MVC demo dot custom HTML
helpers okay so let's use our helper
method which is at HTML dot image and we
need to specify the source which is
model dot photo and the alternate text
is going to come from model dot
alternate text okay let's build this and
let's refresh these details so now this
should make use of that aspx view
instead of degrees of view okay notice
that you know we have the encoded HTML
again
that's because by default you know this
syntax angle bracket percentage colon is
going to HTML encode the output okay if
you don't want that encoding to happen
obviously there are several ways you can
use HTML Doctoroff function here you
know just pass the output of this one to
HTML dot raw which is going to return I
HTML string and that will be excluded
from HTML encoding so let's build this
and let's refresh this view now the
employees photo should be rendered
that's expected or what you can do is
use the same thing you know whatever
this function is returning this is
returning a string but instead of using
this index I can simply use angle
bracket percentage equals again this
will not HTML end code so now if we go
ahead and refresh this you know you'll
have the same output look at that the
photo is still rendered
okay so there are several techniques to
avoid this HTML encoding all right on
this slide you can find resources for is
p.net c-sharp and sequence of interview
questions that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>