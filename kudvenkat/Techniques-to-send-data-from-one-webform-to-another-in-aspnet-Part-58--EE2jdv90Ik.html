<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Techniques to send data from one webform to another in asp.net   Part 58 | Coder Coacher - Coaching Coders</title><meta content="Techniques to send data from one webform to another in asp.net   Part 58 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Techniques to send data from one webform to another in asp.net   Part 58</b></h2><h5 class="post__date">2012-11-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-EE2jdv90Ik" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to prism technologies I am
venket this is part 58 of asp.net video
series in this session we'll discuss
about the techniques to send data from
one web form to another before
continuing with the session I strongly
recommend to watch parts 55 56 and 57 of
this video series in fact this is a very
common interview question as well there
are several techniques that are
available in asp.net to move data from
one waveform to another we can make use
of cross page postback which we
discussed about in part 55 and part 56
we can also use context or handler
object we will talk about that in this
video session and we also can use query
strings cookies session state and
application state which will be
discussed in the subsequent video
sessions now in general the members of
one webform are unavailable from a
subsequently displayed waveform however
when we navigate between waveforms using
the server door transfer or server dot
execute method then data can be
retrieved from the previous waveform
using a context or handler object let's
look at an example let's flip to visual
studio I have an asp.net web application
here with two web forms on web form one
I have two text box controls where the
user can enter their name and email and
once they click this button go to web
form two we want to navigate the user to
web form two and we want to move the
user from web form one to wave form two
using server door transfer technique so
server door transfer web form to dot
aspx now once the user lands on web form
two we want to retrieve the values that
he has entered in these text boxes on
webform 1 and display them in the label
controls on web form 2 and to do that we
are going to use the context dot handler
object so context dot and law and if you
look at the handler property here it's
going to return an eye HTTP handler and
you know obviously the page class if you
look at the page class 4 right-click on
that and when I say go to definition the
page class implements I HTTP handler so
here since the return type of handler is
I HTTP handler you know whatever it is
going to return that can be typecast
to be of type page so I'm going to
typecast that to be of type page and
then I'm going to use a variable called
last page of type page okay now all we
have to do is we can make use of the
find control method so this context dot
handler when we come from webform one to
webform to the context dot handler is
going to give us a reference to webform
1 so this last page will now be pointing
to webform one and on webform one we
know we have two controls with IDs txt
name and txt email so all we have to do
right now is use define the control
method to find a textbox with ID txt
name in to which the user has entered
their name and then if you look at this
fine control it returns a control back
but we know that it's a textbox so I'm
going to typecast that to be of type
text box and then retrieve the text
property which is going to return the
value that the user has entered and then
display that in label name that's it and
along the same lines we are going to
retrieve the value from txt email text
box and then assign that to label email
done so that's the only code that's
required so let's run this project now
and then enter the name of the user and
then the email and once we click the go
to transfer I mean go to waveform -
button we should be able to retrieve the
name and email so I'm going to click go
to webform to look at that
I get name and email so simple but then
this code can fail in a variety of
different scenarios so let's explore
them now okay so points to remember when
using context or handler object context
dot handler returns webform 1 as the
previous page only the first time when
you land on webform - from webform 1 if
there is a button on webform
and if you click the button the page
will post back and context dot handler
will return waveform - instead of
waveform 1 so now let's say for example
on waveform 1 I mean on waveform - let
me insert another row let's drag and
drop your button control onto this
waveform now this button is not going to
do anything it's it's just going to post
a page back
so let's rerun this page now so that the
point here to remember is if there is a
button on waveform 2 and if you click
the button the page will post back and
context dot handler will return webform
- as the last page instead of webform 1
okay and because of that we'll have
issues so I'm on waveform 1 so I type in
play game and test as the email I click
on go to waveform - so we're on waveform
2 now I click this button look at what's
going to happen object reference not set
to an instance of an object and this
makes sense because on post back context
what handler is going to return waveform
- ok and that reference is stored in
this last page object and you are seeing
last page dot find control txt name is
there a control with txt name on
waveform - no we don't and then what are
we trying to do here we are trying to
retrieve the text property out of it so
obviously retrieving a text property on
a null object will throw and non
reference exception object reference not
set to an instance of an object so how
do we solve this the simple way to solve
this is to put a condition here so f
naught is post back it's as simple as
that
ok now again this fine control method is
a dangerous method we have spoken about
this in the previous sessions but let me
repeat that once again by mistake if I
enter the control name as txt name 1
instead of txt name you know a simple
typo there and then let's run this page
now obviously again we'll get a null
reference exception so let's run this up
now and then when the page loads when we
you know the webform one loads fine but
then once we navigate to waveform two
after typing in and I let me type test
and test I click on go to waveform 2 so
obviously on waveform 1 we don't have a
control with txt name 1 so again we get
a null reference exception and that's
because we are using fine control method
we don't get any compile time exceptions
because that control is checked only at
runtime look at that when I build the
solution will succeeded but when we
actually run this we get those runtime
exceptions which are dangerous so how do
we solve this we can solve this using
public properties so on webform 1 I can
expose the name and email that are typed
into the text boxes using public
properties so let's create those public
properties so since name and email are
strings I'm going to say public string
name and I'm going to just have the get
accessor because we only want to read
the value so return where is the name
present its present in txt name textbox
so we are going to return that and along
the same lines I'm going to make the
email the public property so public
string email and that's going to be in
txt email text box that's it so what
changes do we have to make to waveform 2
and one waveform 2 we know that context
what handler returns a page but we know
it's going to return a waveform 2 but
the best way to check that actually
let's do that so context that handler is
going to return you know since we are
coming from waveform one to waveform two
it's going to return for us web form one
ok now I can simply get rid of this code
and then use on waveform one we have
properties sorry that's the last page we
have properties name and email
so we can directly use those properties
and these are going to solve our null
reference exceptions at runtime because
if you you know misspell the property
here instead of name I have name W look
at that there's a red squiggly
indicating a compile-time error so the
chances of runtime null reference
exceptions are almost gone here okay but
the behavior is absolutely going to be
the same okay so when we run the page we
can type in the name and email and when
we click go to waveform to you know the
page is going to work the exact same way
so prism is the name test is the email I
click go to waveform 2 we see the values
but then the chances of runtime
exceptions due to misspelled control IDs
are gone now okay but then there is one
more reason why this this code might
fail that's because look at that if I
directly now let me run this when
somebody directly navigate to waveform 2
in the URL look at that somebody can go
to the URL and change waveform 1 instead
of waveform 2 now if I press ENTER look
at that unable to cast object of type
waveform 2 dot aspx to waveform 1 why
are we getting that error because if you
look at the code in web page load event
so if not is postback so obviously when
you type in the URL directly it's not a
postback so it's going to come inside
this F block and then look at that
context dot handler returns waveform 2
now because you are directly landing on
this page the handler returns waveform 2
can be typecast waveform to waveform 1
now we cannot do that we are kind of you
know trying to typecast maybe a car to a
bus which is not possible okay there is
no inheritance relationship between
waveform 1 and waveform 2 so we cannot
really typecast them okay so that's why
we get this exception so how do we solve
this and again it's very simple to solve
instead of directly typecasting it as
you know webform one I'm going to say
page I'm going to say this as page as
well and then I'm going to wrap this
inside a property if page is
webform 1 so if the page object sorry if
the last page objects sorry if the last
page is webform 1 then typecast s to be
of type platform 1 and then retrieve the
name property do the same here and
everything should work now okay so now
let's run this so we are conditionally I
mean we are checking there if the last
page is webform 1 then only then try to
retrieve you know try to typecast the
last page to webform 1 and then try to
retrieve the name and email properties
out of it so I'm going to type in the
name as Praveen and email as test I
click go to the form 2 and it works as
expected and even if you directly land
on the form 2 you know it doesn't crash
it doesn't show anything here because it
doesn't come into this block you in fact
we can put a breakpoint and see you know
what is last page when you try to
directly land on waveform 2 and you will
notice that last page is actually
waveform 2 and not webform 1 so in this
session we have seen how to use this
context or handler object to move data
from one web form to another platform in
the subsequent sessions we will talk
about query strings cookies session
state and application state so for the
context or handler to return the form 1
as the previous page you should have
landed on webform to using servitor
transfer also execute method from
webform 1 if you land using any other
technique then you know context at
handler would not work the control
values from the previous page can be
accessed using fine control method or
using public properties the problem with
fine control method is that if you
misspell the control ID we could get a
runtime null reference exception using
proper public properties instead of fine
control method can eliminate these
random null reference exceptions and we
have seen that as well on this slide you
can find resources for asp.net c-sharp
and sequence of interview questions
that's it for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>