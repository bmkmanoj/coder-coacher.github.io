<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 9   Overriding stored procedure defaults with entity framework code first approach | Coder Coacher - Coaching Coders</title><meta content="Part 9   Overriding stored procedure defaults with entity framework code first approach - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 9   Overriding stored procedure defaults with entity framework code first approach</b></h2><h5 class="post__date">2014-05-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sp38Cm0tD2E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 9 of entity framework
tutorial in this video we'll discuss
overriding stored procedure defaults
with entity framework code first
approach this is continuation to part 8
so please watch part 8 before proceeding
we will be modifying the example that we
worked with in part 8 so if you
recollect from the previous video
session this line of code right here has
generated these 3 stored procedures
employee delete employee insert an
employee update notice the names of the
stored procedures the naming convention
that's used by entity framework by
default is entity name underscore
whatever action the stored procedure is
going to do here this stored procedure
is actually deleting an employee so
employee underscore Delhi for insert it
as employees go insert and for update
employee underscore update now these are
the default names that are automatically
generated by the entity framework now
let's say I want to change the name of
this stored procedure for example
employee underscore delete to be
something like delete employee is that
possible absolutely and the way we do
that is by using this map to stored
procedures method and notice that here
we are using the lambda expression and
we are invoking the insert method and
then here we are specifying the name
that we want okay so we want the stored
procedure to be insert employee and
that's what we have specified here and
then we are calling map to store
procedures method again and then using
another lambda expression here and then
working the update method and specifying
the name of the update stored procedure
the same thing for delete ok so if you
notice here we are calling map to stored
procedures method 3 times so this code
will generate you know the stored
procedures as you can see here now this
same code can also be rewritten like
this so this code right here is more
concise ok so here notice what we are
doing we are actually chaining insert
update and delete methods okay and we
are calling map to store procedures
method just once
ok so eight of this code or this code is
going to produce the same thing you know
the 3 stored procedures with the custom
it's that we have specified another
thing that you notice if you look at
these stored procedures you know all of
them has got parameters and look at the
names of the parameters you know these
are the default parameter names that
entity framework is is using by default
the naming convention for the parameters
is you know it takes out the property of
the entity and then simply prefix an @
symbol before that so employee entity
has got an ID property and if we want to
delete an employee entity we just need
the ID parameter so it's just using one
parameter here seen by simply prefixing
the @ symbol if you look at update
stored procedure so update saw procedure
has got all the properties I mean all
the parameters notice that employee
entity if you recollect from the
previous video session it has got ID
name gender and salary properties and
the parameters are simply prefixed with
an @ symbol so these are the default
names that entity framework uses for you
know the stored procedure parameters now
is there a way to change them absolutely
and the way we do that is by using the
dot parameter function so here look at
this this line right here is going to
change the name of the insert stored
procedure to insert employee and then
dot parameter so we are calling the
parameter function and here we are
saying OK to name property of the
employee entity use this as the name of
these two procedure parameter employee
name similarly for gender employee
gender and for salary employee salary
and these three parameters right here
are four insert employees for procedure
and these are for update employee and
disturb parameters for delete employee
stored procedure so this piece of code
right here is going to change both the
names of the stored procedures as well
as the names of their respect to
parameters okay and to speed things up I
have already typed this code in the
notepad so let's copy that and paste it
within this own model creating so
instead of this line right here let's
paste this piece of code and let's
Methos so we are in working map to
stored procedures method and then you
know using a lambda expression we are
invoking the insert method and this
chain the dot parameter method calls are
going to change the you know parameter
names of the stored procedure and this
will change the name of the stored
procedure itself the same logic applies
for update employee and delete employee
so let's go ahead and run our project
but before we do that let's actually
drop the sample database that we already
have and then let's go ahead and run our
waveform so this should generate the
sample database create the employees
table and also the three stored
procedures with the names that we have
specified and the parameter names should
also be whatever we have specified okay
so obviously at the moment it has you
know generated a brand new sample
database so let's go ahead and refresh
that we have the sample database there
how the employees table and if we expand
programmability and then store
procedures look at the names of the
stored procedures now insert employee
update employee and delete employee and
if you look at for example update
employee and then parameters look at
that they are now employee ID employee
named employee gender and employees held
with the names that you have given it
okay and if you look at this the form it
is not displaying any data that's
basically because the table is empty so
let's actually go ahead and execute this
insert script so we have sample data
there so let's reload this page so
notice that we get the data and let's
quickly test this to make sure it still
works the same way as before so the
update is working and let's enter a test
employee
and insert is working and let's try to
delete you know the same employee and
the delete is working as well so the
application is working the same way as
before and you have just seen how to
customize the names of the short
procedures and you know the names of the
respective parameters that's it for
today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>