<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 21   Group Join in LINQ | Coder Coacher - Coaching Coders</title><meta content="Part 21   Group Join in LINQ - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 21   Group Join in LINQ</b></h2><h5 class="post__date">2014-07-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Da3akpqjaR4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 21 of link tutorial in this
video we'll discuss group join and link
these are the different types of joints
in length in this video we'll discuss
group join and in our upcoming videos
we'll discuss the rest of the joints
group join produces hierarchical data
structures each element from the first
collection is paid with a set of
correlated elements from the second
collection will understand this in just
a bit with an example when we perform
group join with extension methods and
drags we use the group join extension
method when we perform group join with
sequel likes and the axe then we use
join operator along with the into
keyword let's now look at an example
let's flip to visual studio so here I
have a new console application all I
have done so far is created this
department and employee classes within
the department class we have got ID and
name properties in addition we also have
this static method get all departments
which returns list of department objects
at the moment this method returns three
departments ID HR and payroll within the
employee class we have called three
properties ID name and Department ID
properties so this is the join key now
if we have to know to which department
an employee belong to then we take this
property value and then look it up
within the ID property of the department
class ok so between these two classes ID
from Department and department ID from
employee or the join keys so in addition
to these three properties within the
employee class we also have the static
method get all employees which returns
list of employee objects at the moment
this method returns these ten employees
and out of these ten employees six of
them belong to department ID one and
four of them belong to department ID two
which means six of them belong to HR
department
sorry IT department and four of them
belong to HR department within payroll
department at the moment we don't have
any employees now what do we want to do
with these lists of departments and list
of employees we want to group join them
and retrieve employees by department and
then print the department name and the
name of the employees belonging to that
department on the console as you can see
here so let's see how to achieve this so
within the main method first let's
create a variable to hold the results
let's call this employees by department
equals first let's get the department's
so get all departments is going to give
us list of department objects now we
want to group join the list of
departments with the list of employees
so we are going to make use of group
join extension method and notice this
method has got four parameters and the
first parameter name look at that it's
called in our and look at the type of
the parameter its I enumerable of T in
our okay so I enumerable of some type so
in our case we want to group join
employees with departments we already
have lists of departments here now we
want to specify the other sequence that
we want to join these departments with
in this case it's going to be a list of
employees so employee dot get all
employees another thing to notice here
the name of the parameter it's called
inner so which means this is the inner
sequence and list of departments here in
this example is an outer sequence so
this outer sequence is being group
joined with this inner sequence okay and
look at the second parameter it's called
the outer key selector now we are saying
we want to group join departments with
employees ok but then that's not enough
for this function to perform the group
join because without knowing the key
property that is the join key between
these two entities you know group join
cannot do its job so we have to tell to
this function what is the key property
within the you know outer sequence this
outer key selector okay so for the outer
sequence that is list of departments
what is the key property that is the
join key property the join key for
department is department ID so that we
have to specify as the second parameter
so d such that DDOT ID and notice from
the intelligence this ID property is
coming from Department class okay and
look at this if I hover the mouse over
you know this D is of type Department
okay now the next parameter is inner key
selector so within the inner sequence
what is the joint key so within our
employee class the key is I mean the
joint key is department ID and the final
property
I mean parameter is the result of
selector so what do you want out of this
group joint we want the list of all
departments as well as all the employees
belonging to each department so we are
going to get back a department and then
all the employees belonging to a given
department
so now what we want to do is project a
new type and within the new anonymous
type I am going to call one of the
properties as department and that is
going to store the department and let's
call the other property as employees and
that's going to store the list of
employees belonging to that department
okay so here within this variable now we
have employees by department all that is
left is to use a for each loop print of
the department and respect to employee
names belonging to that department so
for each where let's call this
department in employees by department
console dot write line so this
department object so we are going to
have you know an ienumerable of
departments here and within you know
this variable will have this property
and this property right so department
dot department dot name so that should
print the department name
and then now each department okay is
going to have lists of employees
belonging to that department so we have
to use another for each loop here so for
each where that's called the variable
employee in department variable dot
employees property so that's going to
give us I enumerable of employee objects
belonging to that department so now what
we want to do is print the employee
names belonging to that department but
within the output we want you know some
space there so console dot readline
let's print a space and then the
employee name so employee dot name okay
so let's go ahead and run this and
enough to each department let's print an
empty line okay so let's run this
notice that we have ID and then the
employees belong to that part made HR
and the employees belong to that
department within payroll we don't have
any employees but still group join
produces that so you know every record
from the outer sequence is produced
irrespective of whether it has a
matching record within you know the
inner sequencer or not okay so this is
group join to produce hierarchical data
and here we have used extension method
syntax okay now let's see how to rewrite
this using sequel like syntax so instead
of using this extension method syntax
let's use sequel like syntax with sequel
likes index the first thing we type is
from let's call D n Department dot get
all employee get all departments and we
want to join that so when we do a group
join with sequel like syntax we don't
use group join keyword instead we use
the join keyword so join e in employee
dot get all employees now we have to
specify the join condition so on d dot
ID
now look at this again from the
intellisense di D means that ID is
coming from the department entity so d
dot ID now you can't use double equals
here and then say e dot department ID so
look at that it doesn't allow us to
actually type that so instead of double
equals you actually have to use equals
keywords so equals e dot department ID
okay and we want to project this into a
new group so let's call this e group
okay so to perform a group join using
sequel like syntax we use the join
keyword along with into keyword and then
what we want to do is select a new
anonymous type and here we specify what
we want within the result so we want
department is one of the property and
department is going to be D and the
other property is going to be the
employees belonging to that department
and that's going to be e group that's it
so that's sequel like syntax in my
opinion this is more easy to write than
using you know extension method syntax
so let's run this and see if we get the
identical output so exactly the same
output here we are using the sequel like
syntax that's it for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>