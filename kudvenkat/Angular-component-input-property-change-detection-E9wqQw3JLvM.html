<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular component input property change detection | Coder Coacher - Coaching Coders</title><meta content="Angular component input property change detection - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular component input property change detection</b></h2><h5 class="post__date">2018-03-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/E9wqQw3JLvM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 34 of anglich Rada tutorial
in this video we will discuss how to
detect and react when component input
property value changes this is
continuation to part 33 so please watch
part 33 before proceeding in a previous
video we discussed component input
properties we typically use input
properties to pass data from the parent
component to a child component and to
create an input property all we do is
simply decorate that corresponding
property with at input decorator in this
video we will discuss how to detect and
react when a component input property
value chilliest there are two common
ways to do this we can either use a
property setter or ng on genius
lifecycle hook if you're new to
lifecycle hooks we discuss them in
detail in part 24 of angular 2 tutorial
I will include the link for this course
in the description of this video if you
want to check them out now to better
understand property setter and ng own
changes lifecycle hook I'm going to
modify this list employees page now what
I'm going to do is instead of displaying
all these three employees we will
display one employee at a time and then
at the top right here well display a
button view next employee now when we
click that button we're going to cycle
through the list of all available
employees displaying one employee at a
time this is our parent component which
is list employees component at the
moment we are in the view template and
notice here we're looping over this
employee's property and this property is
in the component class which is an array
of employees so in the view template of
our parent component we are looping over
that array and passing each employee to
the child component using its input
property and the child component is
responsible for displaying employee and
that's how we see the list of all
employees that we have now what we want
to do is instead of displaying all the
employees we just want to display one
employee so I'm going to keep
HTML commented for now because we are
going to need it later now what we want
to do is display the first employee that
we have in this employees array so for
that let's use the child component
selector that we have right here so
let's make a copy of this one and then
we want to bind to the input property
but we want to display the first
employee that we have in this array so
let's copy the name of the property
which is employees and we want the first
element within that array notice now on
the list page we have just one employee
displayed now just about this employee
we want to include a button view next
employee so just above this child
component directive let's include a
button let's buy into its click event
handler when we click the button we want
to call this method next employee we
don't have this method yet we'll create
that in just a bit let's also use two of
the bootstrap button classes to style
this button I'm going to use BTN and BT
and - primary and the text on the button
is going to say view next employee and
between the button and the child
component directive let's include to
HTML break elements for some spacing now
let's create this method next employee
within the component class this method
is not going to return anything so the
return type is void now I'm going to
create another property I'm going to
name this employee to display the type
of this is going to be employee and in
ng on an ad I'm going to initialize this
new property employee to display with
the first element that we have in our
employees array and then we are going to
bind to this property within our view
template so instead of binding directly
to the first element with
the employees are a I'm going to use
that property which we have just created
employee to display now if we take a
look at our employee service which is
providing the list of employees at the
moment within the service we have got
our three employees so within the
employees property in our component
class we have a maximum of three
employees and on the page we are already
displaying the employee at index
position zero now what I'm going to do
is to keep track of which employee we
are displaying I'm also going to create
a private field here and let's name this
array index and I'm going to initialize
this to one and then within our next
employee method we are going to check
the value of this array index so if the
array index is less than or equal to two
then we are going to change the employee
that we have in the property employee to
display remember this is the property to
which overview template is binding to
now at the moment we are already
displaying the employee at an x position
zero and notice we have initialized this
private field to one when we click view
next employee button this method is
called and since we are already
displaying employee it in X position
zero we need to move to display the
employee at index position one and
that's what this line of code is doing
and then we need to increment the value
that we have in the array index private
field now if the array index is not less
than or equal to two that means we have
reached the end of the array so we
should start again displaying employee
at in X position zero so the store
employee to display equals the store
employees of zero so retrieve the
employee at Alex position zero and
assign that as the value for this
property employee to display and then
set the array index to one let's save
all our changes
take a quick look at the browser notice
now when we click this view next
employee button the employee that has
displayed changes now keep in mind it is
the child component that actually
displays the employee details the parent
component passes the employee to display
to the child component using its input
property so if we take a look at this
list employee component view template
which is a parent component within this
component we have the child component
selector used as a directive and the
parent component is passing the employee
to display to this child component using
this employee input property so every
time we click this button that input
property value is changing so when the
input property value changes we want to
detect that change in react let's say
for example every time the employee that
is displayed changes what we want to do
is log to the browser console the name
of the previous employee and the name of
the current employee so every time we
click this view next employee button we
want to display the name of the previous
employee and the name of the current
employee here let's see how to achieve
this as discussed at the beginning of
this video there are two ways to do this
we can either use a property setter or
ng on changes lifecycle hook first let's
take a look at this ng on genius
lifecycle hook so let's open our child
component type script file and that file
is right here display employee dot
component dot
TS we need to import on changes
lifecycle hook interface from angular
core and let's also make this class
implement that interface
now we need to provide implementation
for this interface method and that
method is ng on changes so this method
is called every time an input property
of this component changes and the
changes to the input property are passed
into this method as a parameter now
let's name that parameter changes you
can give it any name you want
it changes and there is a type as well
for this parameter and that type is
simple changes and it's available in
angular core so let's go ahead and
import that and specify that as the type
for our parameter now let's simply log
this simple changes object to the
console and see what we get notice now
in the browser console we have our input
property value changes logged notice the
name of the property's employee and its
type is simple change and when we expand
this notice we have these properties
previous value and current value and
this is the first change so this
property is set a true now to start with
we don't have anything within this input
property so the previous value is
undefined
whereas current value is an object and
when we expand that notice we have an
employee object here and at the moment
we are looking at employee mark notice
the name right here mark that's our
current value previous value is
undefined now when we click this view
next employee button the input property
value is going to change from mark to
some other employee so when I click that
notice it changed from mark to Mary so
now if we take a look at the input
property right here I notice the
previous value is an object and if we
expand that previous value is Mark and
the current value is Mary
so every time we click this button we
get the change logged to the browser
console now instead of logging the
entire simple changes object to the
browser console we want to log the
previous employee name and current
employee name and here is the code that
can do that
now this code is pretty straightforward
all we are doing here is using the
properties provided by the simple
changes object we know on the simple
changes object we have got this key
employee because remember our input
property name is employee and on that we
have these two properties previous value
and current value which gives us access
to the previous employee and current
employee so in both these properties the
object that we have is of type employee
so we are typecasting the value to
employee type and storing in these two
constants now remember the previous
employee can be now the first time so we
are checking if it is now if it is null
then we are logging now to the console
otherwise we are login the name of the
employee
whereas our current employee cannot be
null so we are not checking for now and
we are logging the name of the current
employee so let's save our changes and
then take one final look at the browser
notice now we have just the previous
employee name and current employee name
since this the first time the input
property value has changed the previous
value is now and the current employee
name is smart when we click this button
the values change accordingly so we have
just seen how to use the ng own genius
lifecycle hook to detect and react to
input property value changes in our next
video we'll discuss how to do exactly
the same thing but using a property
setter thank you for watching and have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>