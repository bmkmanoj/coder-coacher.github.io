<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Editing and updating data in gridview using sqldatasource control - Part 17 | Coder Coacher - Coaching Coders</title><meta content="Editing and updating data in gridview using sqldatasource control - Part 17 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Editing and updating data in gridview using sqldatasource control - Part 17</b></h2><h5 class="post__date">2013-03-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0F7C26YoEg4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so welcome to regime technologies I am
Frank it this is part 17 of asp.net
grid-view tutorial in this video we'll
discuss about editing and updating data
in preview using signal data source
control let us understand this with an
example we'll be using this employee's
table for this demo we want to retrieve
this employees data and then display it
within a grid view control with an edit
button next to every employee data row
when I click this edit button we want
that through to be in edit mode look at
name gender and City columns they render
using text boxes now users can change
the values they wish to and then once
they click this update button we want to
make these changes in the underlying
data base table on the other hand if I
click cancel no changes should be made
to the underlying data base table and
the rule should return to its previous
state and notice the edit button
you know when the row is in non editable
mode we have the edit button once we
click that edit button and when the row
is in edit mode instead of that edit
button we now have update and cancel
buttons and another important thing to
notice here is that employee ID column
is the primary key column in TBL
employees table and it's unusual to
change primary key column values so when
I click Edit you know edit button you
know where and when the row is in edit
mode we want you know that employee ID
column value to be displayed in a label
control so that users will not be able
to change the value and that's what is
happening here let's see how to achieve
this using sequel data source control
let's flip to visual studio let's drag
and drop grid view control onto the
waveform let's auto format that choose
brown sugar scheme click OK now let's
drag and drop sequel data source control
let's configure this select your
connection string from web config file
click next select the TBL employee table
and we want to retrieve all the column
so select star from TBL employee that's
our select query now click on the
advanced button and select this option
generate insert update and delete
statements now this wizard is
intelligent enough to automatically
generate the respect to insert update
and delete sequel statements for us
based on the select statement so click
OK
click Next test your query click finish
now let's associate the sequel data
source control with this grid view
control and look at this the moment I
associate that I get this option enable
editing and once I select that option
immediately I get an edit button next to
every employee data row now let's flip
this waveform to the source mode since
we have selected that option generate
insert update and delete statements look
at you know the sequel data source
control here it has automatically
generated the respective commands for us
now since we want to enable this grid
view control only for editing purposes
let's go ahead and get rid of these
delete command and insert command and
their respective parameters as well all
right with these changes let's go ahead
and run this and when the webform
renders you know the grid view renders
employee's data with an edit button next
to every employee data row ok look at
this when I click the edit button look
at what happened to name gender and City
when this row is in edit mode
they are rendered using text boxes okay
now let's change this Mike to mark maybe
and then let's update that and let's
check if the data is committed to the
database table look at that Mike is
changed to mark and another important
thing to notice employee ID it's
rendered using a label control so now
I'm not able to change that value so how
is this possible that's because if we
look at the HTML that's auto-generated
for us look at this first of all the
important thing to understand here is
how many columns we have one two three
four and this edit button column so we
have five columns in this grid view
control so if I flip this platform to
the design mode look at this this grid
view control you know we have all the
columns here one two three four five the
first column is the command field column
and look at this command field show edit
button is equal to true meaning we are
showing the edit button here okay and
then the rest four columns are bound
fields
okay so all these columns are bound
fields now what are these bound fields
basically bound fields they display data
and they leave
control you know when it's in non
editable mode when I put the ruin edit
mode by default bound columns generate a
text box control as the editing
interface okay and look at this and this
bound called field has a property called
read-only so if you set that property to
true which is the case for employee-id
bound field then when you put the ruin
edit mode then it won't render a text
box control so users can edit that so
that's why this employee ID column is
rendered using a label control because
you have said that read-only to true so
even in edit mode you know it is
rendered using a label control so users
are not able to change that all right
now another important thing to
understand is there's something called
convert empty string to null property
which is very important and useful to
understand now
if you look at this one you know let's
edit this row and then let's delete the
name completely and then let me update
that look at this at the moment I don't
have name at all and then let me click
this update button okay so name is empty
within the grid view control but let's
go back to the sequel server table and
then select data from that table look at
that now I made this name to an empty
string and then when I click update you
know I expected an empty strings to be
stored in the name column for that
record but here it's storing null why is
that that's because this grid view
control has got a property convert so
this grid view control has got I mean
the bound field of the grid we control
has got a property call convert empty
strings to now okay and by default
that's true meaning if there is any
empty string convert that to null when
it's being saved to the database okay
now if I said that to false then instead
of an empty instead of storing null in
the database table it will actually
store an empty string so let's run this
once again and let's change you know
it's an empty string now so
let's update that let's come back and
select the data look at that it's still
not let's set it another row and see
what happens so John let me remove that
update that so we want that empty string
to be stored as an empty string and not
as a now and let's see what happens now
it's still storing as now why is that if
you look at the property we have
actually said that property to false
convert empty string to now and that too
for the name you know bound fear why is
this not happening that's because we
have to set this property at two places
not only in the grid view control but
also in the underlying sequel data
source control so for that parameter in
this case it's going to be named so I
want to set it here as well convert
empty string to now set that to false so
now let's run this let's edit this row
get rid of Mary the name and click
update now here it's an empty string
let's go back to the database table and
look at that instead of null an empty
string is stored so use convert empty
string to null property if you don't
want nulls to be stored in the database
table set read-only is equal to true if
you don't want a column to be editable
on this slide you can find resources for
asp.net c-sharp and sequence of
interview questions that's it for today
thank you for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>