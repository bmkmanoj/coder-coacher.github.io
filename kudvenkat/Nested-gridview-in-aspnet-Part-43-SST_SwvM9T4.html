<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Nested gridview in asp.net - Part 43 | Coder Coacher - Coaching Coders</title><meta content="Nested gridview in asp.net - Part 43 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Nested gridview in asp.net - Part 43</b></h2><h5 class="post__date">2013-04-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SST_SwvM9T4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to precision technologies
I am Venkat this is part 43 of asp.net
grid-view tutorial
in this video we'll discuss about
nesting grid view controls in part 32 of
the asp.net grid View tutorial we
discussed about displaying a grid view
control inside another grid we control
so here the outer grid view is
departments could be control and then we
have lists of employees belonging to
that department being displayed in
another grid view control so effectively
here we have employees grid view control
nested inside departments grid view
control after watching this video a lot
of my YouTube subscribers has asked me
this question how to nest three or more
grid view controls here we are just
nesting to grid view controls but if I
have to nest three or more grid view
controls then how do I do that obviously
I have an example here so let's say I
want to nest in a countries within
continents and then cities within
countries could be control so if you
look at the example that we have here
you know the outer grid view control is
the continents grid view control at the
moment we can see Asia our continent and
then all the countries belonging to that
continent are displayed in another grid
view control as you can see here ok and
then the cities belonging to each
country are displayed in its own grid
view control so effectively cities could
be control is nested inside countries
and countries are nested inside the
continents grid we control obviously the
data for these 3 click view controls is
coming from these 3 different tables TBL
continents countries and cities if you
need the sequel script to create and
populate these tables it's available on
my blog so if you look at part 34 of the
asp.net review tutorial you have this
equals script here so create table
script and then insert statements okay
now if you need the blog URL it's there
on the slide so once you visit this URL
you know on the right hand side you have
a link here a free asp.net preview
tutorial so once you click on that link
you can see all the text version of the
videos and then you'll have the scripts
and code samples you know related to
every video here okay
so copy the script from
part 34 of the a speed or complete view
tutorial so obviously to retrieve that
data from the database you know I have
created respective data access layer
class files so to retrieve continents
information I have continent data access
layer again this you know data access
layer code is copied from another video
that we have discussed before part 35 of
the asp.net view tutorial ok so here on
this part you can see the continent data
access layer country data access layer
etc okay I'm not going to go into the
details of implementing these data
access layers we already spoke and
spoken about them in part 35 but you
know if you look at that they're pretty
straightforward you know I have the
continent class itself and then within
continent data access layer we have get
all continents method which is basically
returning a list of continent objects
similarly I have countries data access
layer so here we have the country class
and then the country data access layer
which has caught this method get
countries by continent ID you give it
the continent ID this method is going to
return all the countries belonging to
that continent
similarly cities data access layer has
got get cities by country ID you give it
the country ID it's going to return all
the cities belonging to that country all
right so if you look at what we need you
know within the continents grid we
control
I need continent ID and continent name
and along with that I need the list of
countries as well belonging to that
continent but at the moment if you look
at the continent data access layer it
has just got continent ID and continent
name we needed countries property as
well so let's go ahead and create
countries property so public and what is
this property going to return it has to
return me the list of countries
belonging to that specific continent so
this is going to be a list of country
objects and then I'm going to call this
property as countries and then for this
property I'm just going to have the get
accessor
okay so for the given continent ID I
want the list of countries so how am I
going to get the list of countries in
countries data access layer we have got
this method get countries by continent
ID I'm going to make use of this method
all you need to do is give it the
continent ID and you're going to get the
countries belonging to that continent so
which is present inside country data
access layer so let's use that country
data access layer dot get countries by
continent and to this method we need to
pass the continent ID which continent ID
you know whatever is the continent ID of
the object that I'm going to create so
here I'm just going to say this dot
continent ID that's it so this is our
first change that we need to do so
obviously we have to use the return
keyword because that's what we want to
return back all right so that's
continent data access layer and another
thing is if you look at the countries
you know grid view control we display
country ID country name and a continent
ID and in addition to that we should be
displaying cities as well okay but if
you look at the country data access
layer here we only have country ID
country name and continent ID but we
need all the cities belonging to this
specific country okay so let's go ahead
and add cities property here so this is
going to return a list of City of
objects and I'm going to call that
cities and again this property is going
to have just get accessor and I can make
use of CT data access layer CD data
access layer dot get cities by country
ID and to this pass you know the country
ID that's it so these are the simple
modifications that we have to do for our
data access layer class files and once
we are done with that let's build a
solution okay now let's turn our
attention to our web form so this is
again important we need to configure our
grid view controls so basically here we
need
the outer grid we control is going to
display continent information continent
ID continent name and the list of
countries belonging to that continent so
let me drag and drop a grid view control
onto this web form and let's auto format
that okay so if you look at this grid
view control we want Content ID
continent name and the countries in a
continent ID continent name can be bound
columns but countries I'm going to make
use of a template field so that I can
drag and drop a grid view control into
the item template of the template field
so effectively for the outermost grid
view control we need three bound fields
so I'm going to click on the screen view
tasks button click on edit columns and
then the first thing is uncheck auto
generate fields we don't want the
columns to be auto generated within the
grid we control so I want to bound
fields and one template fear okay so the
first bound field is going to display
continent ID the second one continent
name data fields are also going to be
the same things so continent that's
going to be the header text and data
field is also going to be continent ID
the second bound field is going to be
continent name that's the header text
and data field is also going to be
continent name the third one is going to
display country so I'm just going to
give it a header text of countries since
this is a template field it will not
have data field we need to define an
item template for the template view so
at at this point I'm going to click OK
so our grid view control has three
columns the first two are the bounds
here's the third one is the template
view now we need to edit templates and
then within the item template I'm going
to use a grid view control and I'm going
to auto format this as well and then set
the scheme to brown sugar so that the
headings will appear in brown color all
right with that now look at this this
grid we control you know that we have in
the template here this should bind to
the countries property of the continent
object so if you remember in continent
data access layer
we have defined country's property so
the gridview control here you know
should this should bind to the country's
property okay so I'm going to specify
that data binding on our web form so
here the first thing that I'm going to
do is click on edit data bindings and
I'm going to bind look at this I'm going
to set this datasource property to bind
to country's property okay click ok so
we are done with data bindings but then
another important thing here in the
countries grid we control I want country
ID continue name continent ID you know
these three can be the bound fields but
the fourth column should display the
list of cities belonging to that country
so obviously the fourth field has to be
another template field so in total I
need four you know columns within this
grid we control three of them bound
fields and the fourth one add template
fear so let's do that let's click on
this could be control edit columns the
first thing uncheck Auto generate fields
and then I'm going to add one two three
bound fields and one template fear so
the first field is going to display
country ID that's the header text and
data field is going to be country ID and
the second one is going to display
country name and the header text is
going to be I mean data field is going
to be country name the third column is
going to display continent ID the data
field is also going to be continent ID
and the template field header text is
going to be cities so let's just specify
the header text here okay so that's the
template field within the second grid we
control that is the country's crib you
control that is nested inside continents
click view control so let's click OK now
so this is the second nested grid we
control so you can see the ID here grid
view too now I need to define the
template you know item template for the
city's template column so to do that
click on edit templates and then I'm
going to drag and drop another grid view
control so this is the third grid we
control I'm going to set the auto format
for this one also to brown sugar and
then the only thing that we need to do
here is look at this within cities we
want to display city ID city name
country ID we can let the columns to be
auto-generated but then we need to
define the datasource meaning the
innermost grid we control should be
bound to cities property of the country
object so if you look at the country
data access layer you know this country
object has got cities property and to
that property we need to bind you know
the innermost grid we control let's do
that edit data bindings data source to
this one we need to bind cities property
all right so we are done
you know specifying you know all the
configuration at the grid view control
levels so let's end you know template
editing for this second could be control
as well so we are done so now let's go
ahead and run this and everything should
fall in place automatically okay look at
this we don't have anything displayed
you know on the webform and that's
understandable because we just defined
the templates obviously you know within
the code-behind file the most important
thing is to invoke continent data access
layer so i'm going to call continent
data access layer not get all continents
which is going to act as the data source
for our grid view one control
and gridview one dot data bind with that
now you know we should have the data
displayed within the three grid view
controls so you can see that I have the
continents could be control within which
we have countries and then within each
country we have the cities could be
control and one thing here is if you
look at the output it's not exactly how
it is in the slide here the width of the
grid view controls is not properly
aligned if that's you know if you want
to correct that all you need to set is
the width property of the inner grid
controls so what I'm going to do here is
I'm going to actually go into the HTML
source and I'm going to set the width
property of the countries and cities
grid we control so here we have country
grid view control I'm going to set the
width of this one to hundred percent and
for the cities could be control as well
so that's grid view - and this is could
be three let's set the width for this
one okay so with that if we run this you
know the width of all the controls
should be properly aligned and now this
is exactly similar to what we have on
the slide okay so we have continents
within that we have countries and then
we have cities all right on this slide
you can find resources for asp.net
c-sharp and sequels of interview
questions that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>