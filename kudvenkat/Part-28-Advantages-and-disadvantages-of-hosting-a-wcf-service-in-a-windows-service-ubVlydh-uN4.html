<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 28   Advantages and disadvantages of hosting a wcf service in a windows service | Coder Coacher - Coaching Coders</title><meta content="Part 28   Advantages and disadvantages of hosting a wcf service in a windows service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 28   Advantages and disadvantages of hosting a wcf service in a windows service</b></h2><h5 class="post__date">2014-02-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ubVlydh-uN4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">it's part twenty eight of wucf video
series in this video we'll discuss the
advantages and disadvantages of hosting
a WCF service in a Windows service this
is continuation to part 27 so please
watch part twenty seven before
proceeding here are the advantages of
hosting it WC its servers in a vendor
service the vendor service can be
configured to start automatically when
the system starts without having the
need for any user to log on the machine
this means that the WC of service that
the windows services hosting also starts
automatically
in the previous session of this video
series we have created this hello
windows service and be installed it on
this machine so if you look at the
properties of this hollow windows
service notice that here we have startup
type and that is set to automatic so
when when the startup type of a Windows
service is set to automatic you know
when the Windows machine starts you know
the service is also going to start
automatically there is really no need
for any user to log on the machine the
moment we reboot the machine you know
this Windows service is going to
automatically start okay and the way we
control this property is by setting
start type of property so we have this
hello window service and you know we
have also specified a project installer
for this hello window service and if you
look at the properties of this service
installer one look at this we have start
type property and we have set it to
automatic in case if you don't want this
window service to start automatically
when the system starts then set this
property to manual so one of the
benefits of hosting a WC of service in a
Windows service is that we can configure
the windows service to start
automatically when the system starts and
another benefit is that we can configure
the windows service to automatically
restart and recover when failures occur
so for some reason if this vendor
service fails to start okay you can
specify what action you want to take you
know in order to recover from that
failure and you do that on the recovery
tab so on first failure
what do you want to do do you want to
restart this service do you want to run
a program or do you want to restart the
computer itself so there are variety of
actions that you can take in order to
recover from the service you know
failure so that's another advantage and
obviously it supports all bindings and
transport protocols and here are a few
disadvantages as well it involves
writing some custom code to create a
vendor service and we have discussed
that code in the previous session of
this video series so here is that code
to create a vendor service and host our
WCF service within that and when do a
service that hosts the WCF service must
also be deployed to the production
server so this is an additional step in
your deployment activity we also need to
install the Windows Server onto our
production servers and it's difficult to
debug the WCF service as we need to
attach the process within which the
Windows service is running let me
explain what I mean so here we have a
vendor's client which basically you know
communicates with the WCF service let's
go ahead and run this client in debug
mode so the Windows client is running so
what we want to do is when we click this
get message button you know we want to
debug the get message button of the WCF
service first of all let's look at
what's going to happen when we do that
so I have a break point within the
button click event so when I press f10
ok this is where we are invoking the get
message method of the WCF service now
let me press f11 to step in to get a
message and see what's going to happen
look at that we get a message unable to
automatically step into the server the
remote procedure could not be debugged
this usually indicates that debugging
has not been enabled on the server ok
the reason why we are not able to debug
here is because we need to attach the
process within which you know the
Windows service is
okay and in order to do that let's
actually allow this to run so we had we
get the response back hello test so now
we need to attach to the process within
which the vendor service is running and
here you should see our holo windows
service so if you look at the WCF
service so our project name is Windows
service host so there will be an
executable with the same name within
which our Windows service is running so
within the visual studio attached to
process window you should say and
executable with that name windows
service host so here windows service
host dot executable now just in case if
you don't see that on your machine make
sure these two checkboxes are selected
show processes from all users show
processes in all sessions and click
attach and now let's try to debug it so
test one two three and let's click get
message once again and then + f10 f10
f10 and now when we are at this line
let's press f11 to step into that method
and look at that now we are able to
debug you know the WCF service method
so obviously debugging is a little
difficult because there is an extra step
to attach the process within which the
Windows service is running this is in
fact that it very important interview
question as well you know in an
interviewer the interviewer may ask you
how do you debug a service that is
running in a vendor service you can say
that you know open visual studio and
then attach the process within which the
windows service is running okay and the
way you do that is by going to debug
attach to process and then you select
the executable within which the vendor
service is running alright that's it for
today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>