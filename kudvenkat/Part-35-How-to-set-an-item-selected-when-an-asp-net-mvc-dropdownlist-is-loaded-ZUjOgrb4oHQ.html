<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 35   How to set an item selected when an asp net mvc dropdownlist is loaded | Coder Coacher - Coaching Coders</title><meta content="Part 35   How to set an item selected when an asp net mvc dropdownlist is loaded - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 35   How to set an item selected when an asp net mvc dropdownlist is loaded</b></h2><h5 class="post__date">2013-06-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZUjOgrb4oHQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">part 35 of asp.net MVC tutorial in this
video we'll discuss how to set an item
selected when the drop-down list options
are loaded from a database table please
watch by 34 before proceeding if you
recollect from the previous session
these options within this drop-down list
are loaded from this database table TBL
department let's actually run the
application and notice that when the
drop-down list renders no Department is
selected by default and let's say our
project requirement is such that we want
IT department to be selected by default
then we can make use of this overloaded
version of the select list constructor
where we can pass the selected value as
a fourth parameter now notice that the
first parameter is the list of
department that we want to display
within this drop-down list the second
parameter is the data value here which
is here the ID of the department the
third parameter is the data text view
which is nothing but the name of the
department that it's displayed within
the drop-down list and finally this is
nothing but the selected value that we
want within the drop-down list we are
passing a value of 1 which is the ID of
IT department so let's make this change
here notice that the moment I press
comma you know look at that intelligence
shows me the fourth parameter is going
to be the selected value so let's go
ahead and pass 1 which is the ID of IT
department let's run this and obviously
then the page renders you know we should
have IT department selected by default
okay but then the downside of
hard-coding selected value like this and
code is that the application code needs
to be modified if we want HR department
to be selected instead of IT department
so every time there is a change in
requirement we need to change our
application code as well so if this
change is frequent then probably driving
the selection of this item within the
drop-down list using a column in TBL
department table would be much better so
in that case we don't have to change the
application code all you need to do is
update that column within the table TBL
depart
and so obviously the first step here is
to add a column to the staple so we're
going to add this column called is
selected and it's going to be of type
bit so either 0 or 1 or now so if it is
going to be 1 then we want that
department to be selected so let's go
ahead and add that column first let's
flip the sequence of a management studio
so here we are altering the table
definition TBL department and we are
adding this column is selected which is
of type of pet so let's select the data
from TBL department notice that we have
this column but all the rules of this
column will be now so we want ID
department to be selected so let's issue
an update query so update TBL department
said we want to set each selected column
to one where the ID of the department is
equal to one so if you know if for a
department if we have set ID I mean I
selected to one then we want that
department to be selected within the
drop-down list if it is null or if it is
set to zero then we don't want those
department to be selected ok so this is
the first change obviously since the
table definition has changed we need to
update our data model as well so we have
our sample data model so we need to
update this so let's open that and then
let's right click on that and then we
can select this option update model from
database and then click on this refresh
button so tab so this is going to pull
all the tables views and store
procedures that are available within
this model so we have this TBL
department table we want to update this
so let's click on finish now within the
database we introduced this column is
selected and notice that this is
selected if we actually check the
properties of this prop properties of
this property selected property notice
that it's a bit data type meaning it
going to be either true or false okay so
now that's the second step we need to
update I mean refresh or radio dotnet
entity data model so that we have a
property for this third column is
selected and the final step is to change
our index action method and look at this
it's a pretty simple change what are we
doing
you know this line is unchanged sample
dbcontext this is going to establish a
connection to our database and then look
at this here we are creating a variable
of type you know list of select list
item objects because remember a
drop-down list is a collection of select
list item objects and then what we are
doing here we are looping through each
department and then we are building a
select list item object select list item
object has got three properties text
value and selected property text is
going to be the name of the department
value is going to be department ID and
selected if this property is set to true
then that select list item will be
selected within the drop-down list
okay and if you remember we want the
department to be selected only if this
column has got this value of one if it
is null or if it is zero then we don't
want that hope to be selected within the
drop-down list okay so since this is a
bit data type in c-sharp it's going to
be boolean data type which is true or
false so here notice that Department dot
is selected if that property has a value
because you know since this column can
be null here within this database table
by default they do dot that entity data
model is going to generate this property
as a nullable boolean property so we
need to check if it has got a value if
it has got a value then you know take
that value it's going to be either true
or false okay otherwise set it
explicitly to false if there is if the
value is now if it doesn't have a value
then it's going to be now in which case
we want it for sure to be false and then
if it has got a value it will either be
0 or 1 if it is 1
you know this property will be
true is selected dot value will return
true if it is zero we selected dot value
is going to be false okay so we are
setting the selected property using this
expression right here and then what we
are doing we are adding that select list
item object to our list variable that we
have here and once we are done looping
through each department we are storing
you know the Select list item objects in
within this viewbag object with
departments dynamic property and the
view code doesn't change it stays the
same so let's actually copy this code
and then paste that within our
controller action method so it's the
same code that we just discussed okay if
I right-click on this is selected and go
to definition this will be present in
that auto-generated file for us notice
that it's a nullable boolean property so
that's why it's very important to check
whether if it has caught a value all
right with this change let's actually go
ahead and run this so we have removed
the hard coding within code right now so
the selection is going to be driven by
the value that we have within the
database notice that since we have a
value of one variety Department that
will be selected now let's say we want
to have HR department selected instead
of IT all you need to do is set that to
set one for two which is a HR department
and then turn it to zero for IT
department
okay so HR department has got one now so
now if we come and refresh this notice
that HR department is selected by
default
all right the slide you can find the
sources for asp.net c-sharp and sequel
server interview questions that's it for
today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>