<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 97   Implement autocomplete textbox functionality in mvc | Coder Coacher - Coaching Coders</title><meta content="Part 97   Implement autocomplete textbox functionality in mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 97   Implement autocomplete textbox functionality in mvc</b></h2><h5 class="post__date">2013-09-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/quQgUNteWxY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 97 of asp.net MVC tutorial
in this video we'll discuss implementing
autocomplete functionality using jQuery
autocomplete widget this how we want the
output to be we want to list all the
students within a table and we also want
to provide search functionality for
example if I type letter M within the
search text box we want to display all
the students whose name start with
letter M and then as soon as I select a
student and then once I click search
button we want to display that selected
student within the table let's see how
to achieve this using jQuery
autocomplete widget for this demo we'll
be using this table TBL students here is
the sequel script to create and populate
this table with some sample data
I'll have the script available on my
blog in case if you need it the first
step is to add an ad or dotnet entity
data model based on the stable TBL
students here I have a blank asp.net MVC
for application so let's go ahead and
add an ad or dotnet entity data model so
select data under installed templates
area dotnet entity data model and let's
call this student data model we want to
generate our model from the database so
click Next and we want our connection
string to be saved as sample DB context
within the web config file click Next so
this is going to connect to the database
and retrieve all the tables views and
stored procedures we're interested in
table TBL students so let's expand
tables select table
students and we want our models to be
living in models namespace click finish
so this should generate an entity with
named TBL student but let's go ahead and
change that to student let's build our
solution so that this student entity
class is compiled now let's add a
controller and let's call it home
controller and let's use this empty MVC
controller template click Add
so first let's implement search
functionality and then we will see how
to implement or to
bleeped feature all right so the first
thing to do here is to create an
instance of our sample database context
class so within this auto-generated file
we have sample DB context class which
will help us connect to the database and
retrieve students information so within
this MVC demo dot models namespace we
have sample DB context so within our
home controller let's include MVC demo
dot models namespace and let's create an
instance for sample DB context class and
this object has got students property
which is going to give us the list of
students and we are going to pass them
to the view ok now let's go ahead and
add index view and let's create a
strongly typed view against student
model and we want this careful template
to be list let's select that click Add
so this should add index view ok now we
want our index view to look something
like this ok so we want a table with a
boarder and we don't want you know the
create link and these links edit details
and delete so let's get rid of this TD
right here and then let's also get rid
of this table head
let's get rid of this h2 tag and
paragraph element and let's set border
for our table and let's use a div tag
and set the font family so div let's
your style attribute and let's set the
font family to area and let's move this
closing div tag to the end okay so at
this point the feet on the application
we should be able to you know list all
the students okay alright so the next
step is to provide the search interface
okay so let's flip to the index view so
we need a form tag to be able to search
and to generate the form tag we can use
HTML dot begin form HTML helper ok so
let's wrap the call to begin form HTML
helper you know with the using a using
statement so that we'll have the closing
form tag auto-generated for us so using
at HTML dot begin form and then we want
this word name and then a text box and
then a button control so let's type name
and let's say we want that to be bolded
and then we want a text box so at HTML
dot text box so let's specify the name
as search term okay and then I'm going
to use a different overloaded version of
this text box HTML helper where you know
we can specify the value the value is
going to be now but then look at the
assignment listed in this third
attribute HTML attributes and using
these HTML attributes I'm going to
specify ID for this text box in a bit
we'll see how we are going to make use
of this ID so I'm going to call
you know this text box as txt search
alright and finally we need a submit
button so input type equals submit and
the value is search all right so this
should give us the interface and once we
click the search button we should be
able to search based on the text that we
have entered into this into this text
box so we need another index action
method which responds to the post
operation so this one is responding to
the get request so we need another index
action method that responds to HTTP POST
all right so basically when we enter
something into the textbox and click
search we should be able to pass that
entered value to this function so let's
include a parameter and the name of this
parameter must match the name of the
control so that the default asp.net MVC
Model binder can pass the value of this
textbox to this parameter okay
so let's use this same name as the
parameter name okay so if string dot is
null or empty so if the search term is
null or empty then let's say we want to
retrieve all of the students and then
display them within the table okay so
here we have an instance of our sample
dbcontext DB dot students should give us
all the students but then let's create a
variable which can hold list of students
so list of students and let's call it
students
so students equals DB dot students dot
to list okay on the other hand if that
search term is not another empty then we
know that user has typed something into
the textbox and we want to filter the
students based on their name okay
so students equals DB dot students is
going to give us the complete list but
then we want to filter them so I'm going
to use a wave class where X such that X
dot name the name of the student should
start with whatever they have typed into
the textbox so let's pass that to this
function and then let's go ahead and
convert that to the list and finally
let's pass this students list to our
view so at this point we should have
search functionality so let's go and run
this so when the webform first loads it
it will list all the students and look
at this when I type M and then click
search I have the two students whose
name start with them on the other hand
if I don't type anything click search
all the students will be listed this
that's how we have implemented our
controller action method so if the
search term is null are empty then
return all the students all right very
good but notice that at the moment I
don't have autocomplete I type letter M
and you know it doesn't show up all the
students whose name start with letter M
all right so let's implement that using
a jQuery autocomplete widget so the
first tab in order to implement the
autocomplete feature is to download the
autocomplete widget from jQuery UI calm
so get to this Web website click on
download button so this is going to
display us all the UI widgets so there
are several of them but let's uncheck
all of them and then we are interested
in
autocomplete widget the moment we select
that notice that all the dependencies
are also Auto selected and then click
this download button so this should
download you know the required
JavaScript and CSS files I have already
downloaded them so you'll have this
folder they will actually be downloaded
in a zip file so you have to extract
them and once you extract you'll have
this folder with this folder we are
interested in J s and CSS folders so
within the J's folder we'll have the
required JavaScript files so let's get
into the J's file so I'm interested in
this jQuery file itself and the minified
custom javascript file
ok so let's copy this files and then
move them to the scripts folder and the
next thing is we need CSS files as well
so let's go back so click on this open
the CSS folder and within that you have
images and then there is a CSS file so
I'm going to take this minified CSS file
so copy both of them and then paste them
into the content folder in your project
ok so at this point we have the required
CSS and JavaScript files ok so let's go
back to the index view let's drag and
drop this CSS file and these two jQuery
files ok and let's fix this part let's
use till the symbol till indicates root
2 directory so from the root directory
navigate to content directory and then
get that file similarly from the root
directory navigate to scripts and get
the jQuery files all right now we need
to write some JavaScript code you know
to implement autocomplete feature so
let's use a script tag here script type
equals text slash JavaScript
okay so when we type you know this is
the textbox for which we want to
implement the autocomplete feature so we
need to first find this textbox control
and if you look at the HTML that we have
written here what is the ID of the
textbox
txt search so we are going to use this
ID to find this textbox and then
implement the autocomplete feature so to
find the textbox using jQuery so dollar
we are going to write a function okay so
dollar we are going to use the ID
selector in jQuery ID selector is pound
symbol so pound and then the ID of the
control which is txt searched so txt
search find that control and then all
you need to do is invoke the
autocomplete function okay and this
function expects some options so we need
to pass those options okay so now what
are those options how do I know that
now on this jQuery website on the left
hand side you can see API documentation
click that button and you can see there
autocomplete widget so widgets and here
we have autocomplete widget so if we
click on that it's going to show us what
are all the options that this
autocomplete function expects look at
this there are several options the most
important one is the source okay so what
is the source going to do look at this
when we type a letter into this textbox
you know we want to go out to the
database retrieve all the students whose
name starts with that letter M okay so
we need a controller action method
within our application which can take
the text that we type into this textbox
go to the database table and retrieve
all the names and give it to this
textbox okay so first we need to
implement a controller function okay and
that's what we are going to specify
using the source attribute
I mean source option
so let's go ahead and specify that and
the way we specify again you can check
the documentation here look at that this
is how we specify the source so if it's
a function that we want to call then you
specify source and then the name of your
function basically here they have
hard-coded
the list okay but we are going to use a
function so let's specify source so
source : and we are going to invoke URL
dot action HTML helper and then what is
the name of the action method we are
going to implement that let's call it
for example get students we haven't
implemented this function at will
implement that in just a bit okay so
that's it all we need to do is we need
to implement this controller action
method and we'll be done okay so let's
get to the home controller and then
implement get students function so
public and this function should return
JSON result okay so the return type of
the function is going to be Jason result
and let's call it get students so let's
copy the name and another important
thing is the parameter because keep in
mind whatever we type into this text box
we need to pass that to this function so
that it can go to the database and
retrieve those students so what should
be the name of the parameter that is
very important the name should be term
okay because that's what jQuery expects
and you can see that in the jQuery
documentation okay so the callback has
two arguments with a single term
property so we need to specify that as
the parameter here all right so let's
copy this
and make the required changes so we need
to create an instance of a sample DB
context class create a student variable
list of students and then so basically
whatever the user types there what we
need to do we need to take that term and
then filter using where clause
so where X such that X dot name starts
with whatever term that is coming into
this function and then we don't want to
return list of students what do we want
to return so when we type a letter here
we actually want to show the names of
the students okay so we want to return
list of strings names are nothing but
strings so list of student names are
nothing but list of strings so here
let's specify that it you know list of
string students and then before we
convert it to the list you know from the
filtered students list I want to select
just their name so I'm going to use the
selected link function and specify that
we want just a name and then convert
this to a list and then all we need to
do is pass this back to the view and to
do that look at this the return type is
JSON result so we need to convert that
into adjacent reserve and to do that we
can use JSON function pass the students
and another parameter we need to specify
the JSON request behavior we want to do
that using a get request so that's all
there to it let's go ahead and run this
now
okay look at this the moment I type em I
get the students whose name start with
letter M okay so I select mark Hastings
click search because that we have that
student there right so when we type M
again we have those students if I if I
just leave it as M click search you know
I get all the students whose letter A
whose name starts with the M okay on the
other hand if we don't type in it and
click search we get all the students
back all right now look at this here
when I type letter M you know just one
letter
I get the students whose name starts
with M but let's say I want to control
this until I type two characters I don't
want this auto complete feature to take
in so how to achieve that
you know this J query autocomplete
widget has got several options so all
the options are here another interesting
option is this min length so if you want
the autocomplete feature to be clicking
in only when the user types two
characters or more then you can specify
them in length as to okay so let's see
that in action so I want to specify
another option so that's min length
option so let's copy that option name so
minimum length is going to be two so
let's save that run it once again and
look at this if I type M now I don't get
autocomplete but the moment I type a
that's the second character we get
autocomplete click search we get all the
students whose name starts with MA all
right that's it for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>