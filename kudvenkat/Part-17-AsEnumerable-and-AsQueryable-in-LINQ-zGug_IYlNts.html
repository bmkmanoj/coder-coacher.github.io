<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 17   AsEnumerable and AsQueryable in LINQ | Coder Coacher - Coaching Coders</title><meta content="Part 17   AsEnumerable and AsQueryable in LINQ - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 17   AsEnumerable and AsQueryable in LINQ</b></h2><h5 class="post__date">2014-07-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zGug_IYlNts" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 17 of length tutorial in
this video we'll discuss the use of as
enumerable and ask variable operators
both of these operators belong to
conversion operators category there are
two overloaded versions of asked
variable operator one of the overloaded
version converts ienumerable to I
variable the other overloaded version
converts a generic ienumerable of T to a
generic iqueryable of T the main use of
a scribble operator is in unit testing
to mark a credible data source using an
in-memory data source if this statement
does not make sense at the moment don't
worry we will discuss this operator in
detail with examples in our unit testing
video tutorial now let's look at as a
numerable operator let's understand this
with an example we'll be using this
employees table in this demo so the
first step here is to create this
employee's table which I have already
done and here is the sequence clip that
can do it I'll have the script available
on my blog in case you need it now what
we want to do is retrieve at the top
five male employees by salary and then
display them in a console application so
let's flip to visual studio so here I
have a new console application so to
this project let's add a new item make
sure we have data selected under install
templates and then select link to seek
your classes let's name this employee a
DB click add and then let's now open the
server Explorer and then expand data
connections and then expand tables there
we should find employees tables there so
simply drag and drop it on to the
designer surface so here we have a link
to sequel class what we want to do is
retrieve the top by male employees by
salary and then display them so the
first step here is to create an instance
of this DB data context class let's call
it DB equals new employee DB data
context now where result equals DB dot
employees so this property is going to
return us all the employees from this
table employees
but what we want is top 5 male employees
so let's use a ver clause and retrieve
only male employees so let's specify our
lambda expression X such that X dot
gender equals male and we don't want all
male employees we want the top 5 male
employees by salary so let's sort the
employees by salary in descending order
using order by descending extension
method and then specify our lambda
expression to sort by salary and then
what we want to do is take the five
employees so this link query is going to
return us the top five male employees by
salary and all that is left is to use a
for each loop so for each pair II and
the result what we want to do is print
out the employee name let's print out
back on a tab space
and then we want to plant the employee
salary and then their gender all right
now before we run this let's go to
sequel server and open a sequel profile
and then run a new trace and within the
even selection we don't want any audit
information so let's get rid of those
check boxes click run now let's go ahead
and run our application so notice that
we have the profile male employees by
salary oh come here
and then look at the query that is
generated so let's copy it and paste it
within sequel server management studio
so notice as he fell query we have the
top keyword top five we have the ver
clause to filter employees you know by
mail you know by gender basically we
only want male employees and then we
also have the order by class notice that
we are sorting the employees by salary
in descending order so whatever we have
specified here within the link very you
know the link to sequel provider has
generated a corresponding sequel query
and that's executed against the sequel
server database and it's a sequel cell
which is giving us the right data right
and if you look at this link query here
at the moment we are not using as
enumerable operator let's go ahead and
use as a numerable operator right here
so DB dot employees dot as enumerable
okay now when we say you know DB dot
employees what is it going to do it's
going to relieve all the columns and all
the rows from employees table right so
after that we are using as enumerable
and then we have the other operators
that is where order by and take right
now let's go ahead and run this so we
will have the same output let's go back
to sequel provider and look at the query
that is generated so here is the sequel
query now look at the sequel query it's
simple plain select statement without
top veer and auto by okay so what's
going on here
so what is
this as enumerable doing so basically
this as innumerable operator it breaks
the query into two parts right the
inside part that is the query before as
enumerable is executed as linked to
sequel so if you look at you know what
do we have before this as enumerable we
have just DB dot employees so the
corresponding sequel statement for that
is select all the columns from that
table okay so that you know for that
part the link to sequel provider is
going to generate the corresponding
sequel query execute it against the
sequel server database retrieve all the
employees from employee's table and then
whatever query we have after as
enumerable this will be executed as link
to objects meaning you know whatever
data that we have in memory on that will
have the very order by and top keywords
applied so the processing is going to
happen on the client side okay so
essentially what is this as enumerable
operator doing it's breaking the query
into two parts right now what do you
think is going to happen if I just take
that and then stick it in after very
extension method so before as enumerable
we have we also have the Vero Plata now
let's run this and inspect the sequel
query that is generated so if you have
been following along you know now within
the sequel query we should also have the
very laws but not order by n top so
notice that we have they select all the
columns from the table we have the where
clause as well and we are filtering on
gender so we only want male employees
but we don't have this order by and top
why is that that's because you know
those operators will be executed as
linked to objects in on the in-memory
data set that we have so this part will
be executed against sequel server
retrieve the data and then order by and
top keywords are applied you know on the
in-memory objects so essentially as a
numerable operator is breaking the query
into two parts the inside part will be
executed as link to sequel the outside
part will be executed as link to
objects so in this example you know this
is the query that was generated and then
the wear order by on top operators are
applied on the client side so in short
use as enumerable operator to move very
processing to the client side that's it
for today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>