<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 15  Updatemodel function in mvc | Coder Coacher - Coaching Coders</title><meta content="Part 15  Updatemodel function in mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 15  Updatemodel function in mvc</b></h2><h5 class="post__date">2013-05-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uXwmyuvrn1E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to prism technologies I am
venket this is part 15 of asp.net MVC
tutorial in this video we'll discuss
update model function in MVC please
watch but 14 before proceeding with this
video let's quickly recap what we
discussed in part 14 now if I submit
this form by clicking on this create
button this form data will be posted to
the server and then these parameters of
this create controller action method are
going to receive the posted form data
instead of passing these individual
properties of the employee object as
parameters to this create controller
action method I can actually pass the
entire employee object as a parameter so
this employee object is actually going
to receive the posted form data now and
then since we are passing the employee
object here we can get rid of this code
right here okay and then notice that we
are handing that employee object to the
add employee method which will add that
employee to the database table and then
we are redirecting the user to the index
action which is going to list all the
employees that are present in TBL
employee table now one more thing that I
am going to do here is check if there
are any model validation errors and to
do that and I can make use of each valid
property of model state object so this
property is a boolean property meaning
it's going to return a true or a false
it's going to return true if there are
no more model validation errors on the
other hand if there are validation
errors it's going to return false if it
returns false then we want to provide
the user and opportunity to correct
those use errors and submit the form so
we should make the user retain on the
same view and to do that I'm going to
simply return a view so which view will
this return this will return create view
okay that is the same view so the user
can correct those errors and then submit
the form on the other hand look at this
if this property returns true is valid
property if that returns true then you
know we are passing the employee object
to add employee and we redirect the user
to the index action
so this line will never get executed
only there are model model validation
errors this line gets executed it
returns the create view meaning the same
view so the user can correct those
errors and submit the form all right
we'll discuss more about model
validation errors in a later video
session now we can achieve this actually
let's run this and see if it works as
expected now if you look at the database
table at the moment you know let's
execute this and say we only have five
rows at the moment so let's actually
navigate to create action of the
employee controller let's fill some data
let's submit this form notice that the
employee is added as expected let's
quickly check the database table so we
have that new row there all right now we
can achieve the same thing without even
passing any parameter to our controller
action method so I'm going to get rid of
this parameter right here and then
inside this function I'm going to create
a new employee object so let's call it
employee and then I'm going to use this
update model function and then pass that
employee object to the subject model
function okay so what's happening here
we are creating a new employee object so
obviously at this point all the
properties of the employee object will
be now okay because that's a new object
and then once this line is executed
what's going to happen whatever data
that we post you know that will be
binded with this employee object that's
what is the purpose of this update
employee function and then this employee
object you know the same process pass to
add employee and then we are redirecting
to the index action okay but then look
at this look at notice these two
controller action methods here okay this
is the controller action method which
responds to HTTP GET whereas this one
responds to HTTP POST but then look at
this if you look at these two methods
you know they don't have any parameters
at all but they have the same name so
obviously if we want to overload method
they have to differ either by the type
or number of parameters but these
functions they don't have
I mean parameters at all so obvious
when we built this project we get a
compilation error
notice that this employee controller
already defines a member called create
with same parameter types okay so how to
fix this error obviously want me to fix
this error is to rename that so I'm
going to rename that to create
underscore post because we want this
controller action method to respond to a
post operation okay
now the moment I do that this controller
action method will no longer respond you
know to the post action when we post
this form this controller action method
is not going to respond so how do we fix
that by using something called action
name attribute so action name and I want
this controller look at this this can be
any name but then since I'm using my
action name here I can specify the
action for which I want this controller
action method to respond okay so I want
this to respond to this URL when I post
the form because we decorated this
controller action method with a HTTP
POST and the action name is create now
you know just for consistency sake I'm
going to rename this to get okay and if
you want this controller action method
to respond to the get request of this
URL then you have to specify the action
name as create again so let's copy this
and move it right there okay so now
let's go ahead and run this and see if
it works as expected
so let's navigate to employee controller
create action let's fill the form with
some sample data let's actually change
it to something else
look at that the release added okay
though our controller action method
names you know the actual names are
different since I'm using action name
attribute here
you know these controller action methods
are going to respond to that URL right
there depending on whether if it's a get
or a post request so you know instead of
passing the individual properties we
have seen you know how to pass the
employee object itself as a parameter to
this create controller action method and
then instead of passing you know any
parameter to the employee object
actually created an employee object and
then we use this update model function
which is going to bind the posted form
data with that object and then we are
passing that object to add employee
method and we finally redirect the user
to the index action so what is this
update model function going to do it's
going to inspect all the HTTP request
inputs such as you know the posted form
data query strings cookies and server
variables and populate our employee
object so that's the purpose of this
update model actually in MVC we have
another function called try update model
in our next video we'll discuss with
examples the difference between update
model and try update model and then one
more important thing to keep in mind we
didn't get any errors now you know when
we worked when we run this application
but you may get an intermittent error
stating that you know adding the
specified count to the semaphore would
cause it to exceed its maximum count so
if you get this error there are two ways
to resolve it either restart is our
disabled connection pooling in the
connection string of your web config
file on this slide you can find
resources for asp.net c-sharp and
sequels of interview questions that's it
for today thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>