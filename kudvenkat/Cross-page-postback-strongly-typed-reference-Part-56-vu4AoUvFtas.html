<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Cross page postback strongly typed reference   Part 56 | Coder Coacher - Coaching Coders</title><meta content="Cross page postback strongly typed reference   Part 56 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Cross page postback strongly typed reference   Part 56</b></h2><h5 class="post__date">2012-11-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vu4AoUvFtas" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Oh welcome to presume technologies I am
Venkat this is part 56 of asp.net video
series in this session we'll discuss
about obtaining a strongly typed
reference to the previous page when
cross page posting before continuing
with the session I strongly recommend to
watch parts 53 54 and 55 of this video
series in part 55 of this video series
we have discussed the basics of cross
page postbag in that session if you
remember we had two web forms in an
asp.net web application project on
webform 1 we have got two text box
controls where the user can enter their
name and email once they click this
button cross page post back to webform
to the contents of this wave form will
be posted to waveform 2 and on web form
2 we have got two labeled controls and
in the code-behind
we are actually using this dot page dot
previous page property to retrieve the
previous page object and then from the
previous web page object we are using
the find control method to find the
controls there you know we had these
controls txt name and txt email present
on this web form one from from those
text boxes we are retrieving the values
and then displaying them in these label
controls so as you might expect if I run
this web application project as it
stands whatever values that we type into
the textbox controls on webform 1 and
then once we submit those values we will
be able to retrieve and display them on
waveform to currently be around waveform
1 I post this to waveform 2 so on web
form 2 we are able to retrieve them and
the way we are retrieving them is by
using the find control method now
there's nothing wrong with this but it
could be a little dangerous now for
example let's say I am you know when I'm
developing this application instead of
typing in the ID of the control sdhd
name you know let me say I had a typo
instead of txt name
I had txt name 1 and now look at this
when I build the solution the solution
builds successfully without any
compilation errors on the status bar you
can see build succeeded
now we deploy this application to
production user start using them and
look at this when I run this application
in another web form one loads without
any problem look at that currently we
are on web form one dot aspx now I can
type look at this the application is
working fine but then when I click this
pattern and when the contents of this
waveform are posted to web form - on web
form - what's going to happen it's going
on you know it will successfully
typecast the previous page - you know
page object and then we are using the
find control method it tries to find a
control on the previous page with txt
named one but on web form one do we have
any control with that ID we don't so
obviously that's going to throw I mean
that's going to define control method is
going to return null and then on the
null object we are retrieving the text
property so it's going to throw a null
reference exception and that happens at
runtime
okay so our users will see the
application breaking so when I click
this button as you might expect we get
object reference not set to an instance
of an object which is nothing but a
reference exception okay in this session
we will see how to get a strongly typed
reference to this previous page object
so that we can use properties which can
completely eliminate these null
reference exceptions okay
let's see how to do that now to obtain a
strongly typed at reference to the
previous page there are two very simple
steps the first step is to create public
properties so on webform one you know
create public properties for those
things that you want to expose to
webform two in our case we want to
expose the name and email to the
destination page so I'm going to create
public properties for these two you know
strings name and email so let's first do
that so since name is a string I'm going
to create a string property public
string and I'm going to call that name
and it's enough if we create them as a
read-only property because on the
destination page we are just going to
read at those values we are not going to
alter them in any way so I am going to
have only the get accessor
and here we are going to return whatever
value that is present in the txt name
textbox okay so that's one property and
let's do the same thing for the email
public string and that's going to be
email and email will be present in txt
email text box okay so we have got the
two properties that we require the next
step is to obtain a strongly typed
reference by typecasting so what do we
mean by that so on the destination page
look at this how are we currently
getting a reference to the previous page
using this tour page dot previous page
or we can also say simply this dot
previous page that will also give the
same object back okay now but then if
you look at the intellisense what it is
returning it is returning a page object
back but we know for webform to the
previous page is going to be webform one
so I can typecast the page object to be
webform one because that's what I'm
expecting that and then declare this
object as webform one okay now we knew
that on webform one we have these two
properties so instead of using define
the control method here I can directly
use on the previous page object I will
now be able to use the name property and
along the same lines I will be able to
use the email property as well and then
all we are doing is setting those
strings back to the text of these label
controls okay now look at this if I miss
per you know by mistake instead of name
I typed name one look at that there is a
red squiggly a compliation error if I
try to build the solution we get the
error straight away at compile time
itself and we have a chance to fix this
before we deploy this application to the
production side so our end-users will
not see those runtime exceptions so now
I can correct this okay so I build this
once again will succeeded and now once
we deploy our view
users will be able to access the
application and now there are no chances
for runtime exceptions the name and
email properties are always going to be
there so I type in for example test here
test here and click this as usual the
functionality of the application is the
same except that now we are using a
strongly typed at reference to the
previous web form to the previous page
ok now we have seen how to obtain a
strongly typed reference to the previous
page by type casting there is also
another way you know by using the
previous page type directive let's see
how to do that so now here we are
explicitly type casting so let me not do
that so if I don't the type case look at
that this dot previous page property
what is it returning it is returning a
page object back and then obviously you
know page object cannot be assigned to a
variable of type webform 1 so we have
that error will correct that just in a
bit but now let us see how to obtain it
strongly type the reference to web form
to web form one on this wave form to and
to do that we can use the previous page
type directive so flip to web form to
dot aspx and then flip to the source
mode in the HTML just like how we have
the page directive here we can have a
previous page type directive so angle
bracket percentage add and then there is
a directive as you can see here previous
page type directive so I'm going to
select that and then you need to specify
one attribute which is nothing but the
virtual path so what's the virtual path
you know of the previous page here the
virtual path is going to be webform one
so it's equal to it's going to be web
form 1 that's it and now look at that
once I save everything here now that
compilation error is gone away now when
I move my mouse over to this previous
page property look at that web form 2
dot previous page property it is
returning us web form 1 and look at that
it says perform 2 dot previous page so
on this web form to the previous page
property is returning
form one and we have work from one
variable and everything works fine so
now if I run this actually let's go to
webform one and then I type the values
test and test and click the
functionality is going to be the same
except that now we are you saying the
previous page type directive and one
important thing to keep in mind here is
this dot previous page returns the form
1 as expected or you can simply say
previous page which also returns the
form 1 but if you say this dot page dot
previous page oops let's get rid of that
one there the extra previous page now
look at this this dot page dot previous
page what is that property returning
that property is returning the page
object back and it makes sense because
this dot page is nothing but it is
referring to the base page class look at
that this waveform too is inheriting
from the base page class so when you say
this dot page dot previous page you are
actually asking the previous page of the
base page now the previous page of the
Braves base page is always going to be
the page object but you want the
previous page of this waveform to in
which case you can either say this dot
previous page or simply previous page at
that point it gives you the correct
previous webform which is nothing but
freeform one okay so in this session we
have seen how to obtain a strongly typed
reference there are two simple steps the
first step is to create public
properties and we can obtain a strongly
typed reference either by typecasting or
by using the previous page type
directive and that Vantage of using a
strongly typed reference is that you
know it's going to avoid these runtime
are null reference exceptions on this
slide you can find resources for asp.net
c-sharp and sequel server interview
questions that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>