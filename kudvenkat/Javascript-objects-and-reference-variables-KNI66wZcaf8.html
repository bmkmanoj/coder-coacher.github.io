<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Javascript objects and reference variables | Coder Coacher - Coaching Coders</title><meta content="Javascript objects and reference variables - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Javascript objects and reference variables</b></h2><h5 class="post__date">2018-05-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/KNI66wZcaf8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 46 of anglich rad tutorial
in this video we will discuss javascript
objects and reference variables along
the way we'll also discuss why submitted
data becomes null when the angular form
is reset and more importantly how to fix
it
this is continuation to part 45 so
please watch part 45 before proceeding
we have our create employee form right
here which is already filled all the
form fields have got valid entries and
at this point when we click the Save
button we expect this new employee
details to be saved now look what
happens the employee details are saved
we are redirected to the lists route and
here is our new employee that we have
just created
but notice none of his details are
actually saved in the component class
this is the method that is called when
we click the Save button and notice here
we have just three lines of code this
first line of code saves the employee
object and then we are resetting the
create employee form and finally
navigating the user to the list route
and this is the line that's causing all
our employee details to become null now
let's come in this line and see what
happens if we common this line we are
going to get our can deactivate route
card confirmation but that's okay let's
navigate to the create route and fill
out form one more time notice we have
the JavaScript confirmation once I click
OK we are redirected to the list route
and now we see all the employee details
as expected so this is the line that's
actually resetting our employee details
now let's understand why this is
happening
when this reset method is called all the
form fields on our create employee form
like name email etc they are cleared out
and if you look at these input fields
notice the name input field is binding
to the name property of the employee
object similarly the email input field
is binding to the email property
employee object and if we take a look at
our component class the employee object
is right here so all these form fields
are binding to these properties on this
employee object now when we reset the
form by calling the reset method they
form is reset meaning all the form
controls are cleared out when that
happens since we are using two-way
data-binding by using the ng model
directive the associated properties in
the employee object which is our model
object they are reset so name is set on
all gender is set on all contact
preferences set on all all these
properties of the employee object are
set on now and if you look at what's
happening in the save method we are
passing that same employee object to the
save method so when the form is reset
this employee object that is passed to
the save method its properties are also
reset before we discuss how to fix this
issue first let's understand the
relationship between object and its
reference variable object reference
variables are pointers to objects they
are not objects themselves notice this
line of code right here it's actually
doing two things it's creating an
employee object and a reference variable
e 1 the reference variable e 1 is just a
pointer to the employee object whose
name is set to hankered now when we
create another variable e 2 and assign
it the value of e 1 it's not going to
create another brand new employee object
instead it's going to create another
reference variable e 2 and that
reference variable is going to point to
the same object now if you change the
name property value to now by using the
e 1 reference variable it's going to
change the name property value in the
object and we know e 2 reference
variable is also pointing to the same
object so if we access the name property
using e 2 reference variable the name
property will be now because both of
them are pointing to the same object the
is exactly what's happening in our case
now let's take a look at another example
notice here we're creating another
employee object III is the reference
variable pointing to that object now
notice this line of code here we are
using object assign method the object
assign method helps us create a copy of
an object there are several ways to
create a copy of an object object design
is one of the easiest ways so to this
object assign method by passing two
parameters the first parameter is an
empty object into which all the
properties of the second object in our
case III will be copied over and then
our reference variable Evo is pointing
to that newly copied object so at this
point we've got two reference variables
and two objects now if we change the
name property value using e3 reference
variable then only the name property of
the object to which III reference
variable is pointing to is affected the
other object to which efore reference
variable is pointing to is not affected
so if I try to access e4 dot name we
still get venket so let's use this
approach to prevent our submitted
employee object from becoming now back
in our same employee method first let's
uncomment this line of code and what we
want to do now is create a copy of this
employee object so let's use object
assign method the first parameter is our
target object into which we want to copy
over the employee object property values
and the second parameter is our source
which is the employee object now if I
hover the mouse over this assign method
notice what it returns it returns our
copied employee object so let's create a
constant to store that employee object
returned by this assign method let's
name it new employee and we know the
type of this is employee so let's
specify the type as well and then we
want to pass this new employee object to
our Save
method so at this point when the form is
reset only this object which is bound to
the form is reset but this object which
is a copy is not reset so we don't lose
the submitted employee details let's
quickly test our create employee form
one more time there we go we didn't lose
any of the newly added employee details
that's it in this video thank you for
watching and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>