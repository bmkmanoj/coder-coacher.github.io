<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 6   Restriction Operators in LINQ | Coder Coacher - Coaching Coders</title><meta content="Part 6   Restriction Operators in LINQ - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 6   Restriction Operators in LINQ</b></h2><h5 class="post__date">2014-07-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DTtRC_b8YOA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part six of link tutorial in
this video we'll discuss restriction
operators in link the where standard
query operator belong to restriction
operators category just like secure the
where standard query operator and link
is used to filter rows the filter
expression is specified using a
predicate let's look at an example let's
flip to visual studio here I have a new
console application at the moment we've
got this numbers list which contains
numbers from 1 to 10 now let's say we
want to receive only even numbers from
this list to achieve this we can use the
ver extension method and then specify a
lambda expression to retrieve only the
even numbers and number is said to be
even when we divide it by 0 and then the
reminder is 0 and if you look at what
this where extension method is returning
its returning ienumerable of integers so
let's create a variable of type I and
numerable of integers and let's call it
even numbers so this variable is going
to store all the even numbers now let's
use a for each loop loop through each
integer n even numbers collection and
then print the value of I so now when we
run this program as you might expect all
even numbers should be printed now from
the intellisense
notice that there are two overloaded
versions of this where method and if you
look at what this method expects it
expects a parameter look at the name of
the parameter it's called predicate and
it's type is Fund in to come a bool so
what is this funk let's investigate that
so right click on the very extension
method go to the definition first of all
notice that there are two wear methods
because there are two overloaded
versions and if we scroll all the way up
notice that these methods are present in
innumerable class now if you look at
this where extension method you know
within the enumerable class when we look
at the signature notice that this
function has actually got two
parameters but then within programmed
our CS file where we are actually using
that extension method from the
intelligence notice that it only shows
that it has got one parameter that we
need to pass why is that that's because
this we're method is implemented as an
extension method okay and what is the
rule of extension methods we discussed
exchange and methods in detail in the
previous sessions of this video series
now there are two rules for an extension
method rule number one the first
parameter should be the parameter you
know that this extension method is
extending now in this case this where
method is extending ienumerable
interface so that's what is passed as
the first parameter and what is the
second rule the second rule is you know
the parameter should be preceded by this
keyword so this proves that it is
implemented as an extension method and
since it's an extension method this
first parameter is the type that we are
extending and the second parameter is
what actually we need to pass to the
method so what is this funk if we right
click on that and then go to the
definition notice that a funk is
actually a delegate and what is a
delegate delegate is nothing but a
function pointer so essentially we have
to pass you know something here which
resolves to be a function so it can be
in the form of a lambda expression like
this or you can pass a func explicitly
or you can create a function and then
pass it as an argument okay so since we
have to pass you know a function here
you know this is a lambda expression if
you look at this lambda expression you
know first of all notice not the type of
func or the function that this very
method expects you know it has got two
parameters int comma Bowl so what are
these parameters now when we actually go
to the func declaration it's a delegate
and look at that the first parameter you
know it's a generic delegate so
the first parameter is an input
parameter the second parameter is the
output parameter and the first parameter
type you know it's generic type T and T
result in our case if you look at what
we have in the intelligence notice that
first of all this extension method is
being invoked on integers list so that's
why look at that it expects the input
parameter to be integer and it should
return boolean okay so this expression
right here is now going to be operated
on each of the element that is present
within this sequence within this
collection so that's why if I hover the
mouse over this X look at that you know
it's inferred that the type of X is
indeed iya
and this lambda expression right here
should be evaluated to either a boolean
true or false now X mod 2 double equals
0 so this is going to be either true or
false right so the lambda expression
that we have right here confirms to the
signature you know of the function that
this method expects right now what do
you think is going to happen if this
lambda expression doesn't evaluate the
boolean true or false
we will have a compliation error because
delegates are types a function pointers
meaning the signature of the delegate
must match you know the signature of the
function to which it is pointing to
right so now instead of X mod 2 equals 0
instead of that expression if I say X
such that X X plus 2 so that's also an
expression but what have we doing here
we are adding a value of 2 to X to
another integer so what will be the
outcome another integer so this
expression right here is actually going
to return an integer that's why we have
a compilation at a right away look at
the red squiggly if I hover the mouse
over it says cannot implicitly convert
type into boo and that makes sense
because you know this lambda Express
expression is supposed to be returning a
boolean but it's returning in India and
an int type cannot be implicitly
converted to boolean okay
now since this is you know a method that
we need to pass essentially at the end
of the day it's a method right now here
we are using a lambda expression now
instead of that we can also create an
explicit funk and then pass it so what
type of funk is this method expecting a
funk income a bool so what we can do is
create funk of nth comma Bo and we can
give this any meaningful name let's call
it predicate equals and we specify our
lambda expression here so what are we
saying so this expression now is going
to evaluate to true or false so input
parameter here X will be integer and
this is going to return true or false
which confirms to the signature of this
funk and then this is what this we're
exchange method expects so we can pass
that here and when we run this we get
the same output all the even numbers or
what we can do we can create a separate
function then pass it to this method
something like let's create a private
function because we are going to use
that just here and then let's make it
static and this function should return
boolean let's call it is even it should
expect a parameter of type integer f
number mod 2 equals 0 then return true
else return false right and then we can
pass this function to this weight
extension method which means we can get
rid of this one and we can say we're
number such that is even and we pass
number to that okay so when we run this
again we should get all the even numbers
now again this logic right here doesn't
have to be that long
you can simply either say written number
more to equals zero so again this
expression is going to return true or
false and that's what get returned to
whoever is going to call this function
so again when we run this we should get
the same output all right now if you are
from a sequence of a background you
might prefer to write you know queries
that look much like T sequel and that's
possible of link so let's see how to
write you know queries link queries that
looked like T transact sequel queries
first of all let's get rid of this
private method so we write the from
class first from num you can give this
variable any name that you want from num
in what is the source numbers
we're number more to equal 0 now when I
hover the mouse over look at this
numbers num type is inferred as an
integer because it's operating on a list
of integers right and then what we want
we want to select all such numbers which
are divisible by two okay now if you
look at the transaxial query we first
write the Select clause right but with
length we first write the from clause so
this link where e looks much like a
transaxial query that is reversed so
when we run this again as you might
expect we get only the even numbers
printed
all right now if you look at the where
extension method it has got two
overloaded versions the first overloaded
at version expects a func
in a the input parameter is integer and
it's going to return boolean now if you
look at the other overloaded versions
look at the fungal that's got two
parameters of type integer
so the first int here that represents
the number each number within this
sequence what is the second in parameter
the second int parameter represents the
index position of each element within
the sequence so the index position of
one is zero the index position of ten s9
so for some reason if we want to
retrieve the index position of each
element within that sequence we can make
use of that second index parameter into
parameter okay that's actually print you
know all even numbers and their index
positions within this array within this
collection now if you look at the Select
extension methods there's another
operator select now again this select
function has got two overloaded versions
and they look pretty much similar to the
where extension method again you know
look at the second overloaded version of
the Select method it has got two
parameters in the first end will be the
actual number the second inter parameter
is the index position now what is the
Select purpose of the Select extension
method now we'll discuss in detail about
the Select extension method in a later
video session from now understand that
we use the Select extension method to
project new types okay
we'll discuss in detail about it in a
later video session so what I'm going to
do is you know store the actual element
and the index position of each element
you know n variables you can call it X Y
a B whatever but give them meaningful
names so I'm going to actually call this
num that's the actual number and the
other one index such that what I want to
do is project a new type and new
anonymous type if you want you can
create the type
we don't have to do that with link so
what I'm going to do here is specify one
of the property as number that is going
to store you know the actual number from
this collection and I am also going to
call create another property called
index which will store the index
position so index okay so here we are
using the Select extension method at the
moment we have a compilation error here
that's basically because now look at
this what we are selecting now from this
numbers collection is no longer an
ienumerable event we are actually
projecting a list of new anonymous I
mean list of anonymous type which has
got these two properties number and
index so if I actually hover the mouse
over the Select look at what it is
returning it is returning anonymous
types which has got two properties
number and index both of type integer
okay so now what is the name of that
type we don't know right because you're
not specifying whether if it's a new
customer a new employee now we don't
know the name of that type it's an
anonymous type it a type that does not
have any name but what we know is it has
got these two properties now anonymous
types to store anonymous types we have a
keyword called where and let's actually
call this resolved okay
so now this result is going to contain I
enumerable of this anonymous type okay
so what we can do now is loop through
each you know item that we have caught
in this result and again it's going to
be ver so for each where let's call it
maybe item in result now
what are the properties of each item
that's present in result number and
indexes what we are going to do is
console dot write line so what we
basically are going to do now is print
each number and their index position so
control dot readline item dot number
property plus so notice that though this
is an anonymous type you know
intellisense still shows the properties
that are present on that type right so
item dot index so when we run this
program now we should get all the
numbers and their index positions look
at that the index position of 1 is 0 for
10 it is 9 because the index starts 0
right
but what is our requirement we want only
the even numbers right and their index
positions so what we can do now is apply
the very extension method so where now
we can say number such that so again
here you can give the variable that you
use here any name for example I'm going
to say X for X such that X dot number
mod 2 equals 0 so what is this going to
do now this is going to filter out you
know all the even numbers so when we run
this only even numbers and the
respective index positions are printed
now let's say I don't want the even
number itself I want only their
respective index positions if that's the
case we can again say select X such that
X dot just the index and now when we say
select X such that X dot index we know
that we are retrieving the type of
indexes integer so we are going to get a
list of integers back so you can either
use this anonymous type but now when we
look at this item this item will
actually be an int
Yeah right so when we run this it should
print the index positions of all the
even numbers 2 4 6 8 10
all right so now let's look at an
example of querying
you know the database table data and
then filtering it now to do that I have
these two tables departments and
employees and here is the sequel script
to create those tables and populate them
with sample data
I'll have the script available on my
blog in case you need it and what we
want to do is we want to retrieve only
the IT department and HR department mail
employees so in the output we first want
to print the ID you know department name
and all them a male employees belonging
to that department and next you know the
HR department name and the male
employees belonging to that department
and we want to do it only for in a ID
and HR department okay so we want to
apply filter both on departments as well
as employees so let's see how to achieve
this now first of all let's add an ad
identity data model to this project so
add a new item we want to add a deal or
net entity data model let's call this
employee model and we want to generate
the model from the database let's call
this employee dbcontext so this is going
to connect to the database and retrieve
all the tables views and stored
procedures and we are interested in
departments and employees tables so
let's select both of them and let's call
this model employee model click finish
okay so now within program dot C as file
let's create the e an instance of
employee dbcontext let's call it context
equals new employee dbcontext now what
we want to do is retrieve departments so
context dot departments this should
return us all the departments but I am
going to use the varix tension method
and then specify
X such that X dot name of the department
equals IT or X dot name equals HR so
what is this where matter going to do
now it's going to written only ID and HR
departments okay and it's going to look
at that it's going to return an eye
queryable of Department so I enumerable
of Department and let's call this
departments now let's use a for each
loop so for each department let's call
it the EPT n departments collection what
we want to do is print out the name of
the department so console dot write line
let's actually print text department DPA
dot name so this should print out the
department name and then what we want to
do we also want to retrieve all the male
employees within each department so de
PD dot employees now on this employees
we can apply the veil extension method
where X such that X dot gender equals
male so this should return us only
male employees so ienumerable of
employees equals that and then we can
use another for each loop
and then print out each employee name so
console dot readline let's actually
print a tab space and then print the
employee name so employee name equal so
/t here is going to print a tab space
and then the string employee named
employee name equals have the employee
object first-name Plus maybe a space and
then employee dot last name and then
after we print out all employees maybe
we want to give you want to print an
extra line so that would do that so
let's go to and run this and see if we
get only male employees within IT and HR
departments look at that with an HR
department we only have one male
employee with an IT department there are
three male employees and all of them are
printed here all right that's it for
today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>