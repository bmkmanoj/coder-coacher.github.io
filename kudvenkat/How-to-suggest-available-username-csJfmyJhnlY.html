<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to suggest available username | Coder Coacher - Coaching Coders</title><meta content="How to suggest available username - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to suggest available username</b></h2><h5 class="post__date">2015-06-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/csJfmyJhnlY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 66 of jQuery tutorial in
this video well discuss how to suggest
an available unique user name using
asp.net web services and jQuery AJAX
we'll be working with the same example
that we worked with in part 65 so please
watch part 65 before proceeding here is
what we want to achieve when we create a
gmail account we will have to provide a
username let's enter email to Sarah as
the username and look at this when the
textbox loses focus we get a validation
message someone already has that
username try another and then it
displays an available unique username so
it says email to Sarah 9 is available
and look at how they have computed this
available username to the username that
we have entered within this username
text box
they have appended a random number in
this case number 9 look at this when the
textbox loses focus again this time they
have appended 382 to this username that
we have entered right and this available
username is a hyperlink so when I click
on this available username look at what
happens that username is populated in
the username text box and all the
messages goes away so let's see how to
achieve this using asp.net web services
and jQuery AJAX and here's the example
that we worked with in a previous video
session at the moment when we type a
username if that username is available
it says it's available if it's not
available we know that Pamelia is
already present in the database and in
news so it says pamela already in you so
if the username is isn't used then let's
see how to suggest a unique username
that's available okay just like Gmail so
let's flip tuitions to do the first
thing that we are going to do is change
this asp.net web service method so at
the moment we have called this username
exists function which is writing this
registration object to the current
response stream okay we did space this
function in detail in the previous video
session so I'm not going to go over it
I'm going to change this function so at
the moment that it turned type is void
I'm actually going to change it to bully
and
and I don't require this private
variable so I'm going to get rid of that
from there and I want this function to
return true or false it's going to
return true if the user name is already
taken otherwise it returns false okay so
here they're retrieving you know from
the DB whether if the username is
available or not and we are going to
return that boolean value but okay and
we don't require all this code so I'm
going to delete all this code okay
now this function username exists this
simply returns true or false if the
username is in use then it returns true
otherwise if it's available it's going
to return false
okay now I'm going to create another web
method so let's actually copy these
lines and paste here let's change the
name of the function to get available
username okay and let's change the
return type to Wyatt and now the first
thing that I'm going to do here is
create an instance of registration class
and let's call this registration equals
new registration now first we are going
to assume that the user name is not in
use so I'm going to set this property
username in news to false okay
and then I'm going to use a while loop
here and call this function username
exists this function returns true or
false so I'm going to call this function
username exists while username exists
and to this function we need to pass the
username that the user has typed into
the textbox and we have a parameter
coming into this function so I'm going
to pass that username okay
so now what does this function going to
do this function will return true if the
username is already in use if the
username is already in use then what we
want to do we want to compute a random
number append that
the username that the user has typed in
the text box right so to compute the
random number I'm going to use a random
class and let's call it random equals
new random and I'm going to create a
variable of type integer let's call it
random number equals we are going to use
the random object and on that let's go
ahead and call the next function and I'm
going to use this overloaded version
where we can specify a minimum and
maximum value so I want a random number
to be generated between 1 and 100 so
that's what these two parameters specify
so we have a random number now all that
is left is to append that to our user
name so user name equals user name plus
random number and I'm going to convert
that to a string okay now when is this
going to come into this block it will
come into this flaw if the username
exists function returns true if the
username exists function returns true
what does that mean that username is
already in use and that's the reason why
we are computing a new username by
appending a random number okay so that's
the reason I'm going to set username in
use property to true so basically this
tells us that the username that the user
has entered on the UI is in use and we
are computing a new username by
appending a random number okay now once
it comes out of this while loop that
means we have identified a username that
is available for use and I'm going to
store that in the registration object so
registration object has got user name
property as well and I'm going to set
that to whatever user name is available
so let's quickly understand this code
and let's say for example on the UI we
type Pamela we know Pamela username is
already in use it's like it exists in
our database so we pass that whatever
you have typed that is Pamela in this
case to this function and it comes here
it initially sets username and use
property of the registration object to
false and it comes to this function so
famila is passed to username exists
what is this function going to do it's
going to return true because that
username already exists in the database
it's already in news and if this
function returns true then it's going to
get into this while loop create a random
object and you know we are generating a
random number between 1 and 100 and to
that user named Pamela we are appending
random number let's say we have
generated a random number of 5 so the
username now will be Pamela 5 and you
know the username initially we have
provided is in use that's why we are
setting this property username in news
to true okay and then it goes back to
the while loop again because this
returned true so now when it comes user
name contains Pamela 5 and that's what
will be checked against the database in
the database we don't have Pamela 5 so
what is this function going to do it's
going to return false when it returns
false what is that going to do it's
going to break that while loop and it
comes here and it sets that username you
know as the value for username property
of the registration object so username
of the registration object contains
Pamela 5 ok so all that is left now is
to serialize this registration object
and write it to the response strain so
to serialize it to the JSON object I'm
going to use Java Script serializer
and let's call this serialize function
and pass the registration object and
let's write that serialized string to
the current context so context dot
response dot right all right so let's go
ahead and build this solution and let's
view this web service in the browser so
now this web service should actually be
exposing two functions now we don't
really need to call this username exists
function so there is no need to expose
this as a web method so what I'm going
to do is actually get rid of web method
attribute from that function save the
changes build the solution let's go and
reload this so now we should have only
get available you
name let's click that now let's type
mark for example so we don't have such a
user in the DB so when we click in walk
look at that username in use mark is not
in you so that's why it's returning
false and you know that's the username
that we have entered in this case so it
returns that but we know Pamela username
is in use so when I type look at that
Pamela and invoke this look at what we
get back username in use yes Pamela
username is already in news
so it has computed a unique username
that's available in this case Pamela for
look at the random number it has
happened it is for and it returned that
ok so now all that is left is to
actually call this web service method
from DUI ok using jQuery code so let's
go and do that so now here are next to
the development I'm going to include a
span element let's give the span element
an ID I'm going to call this span
available username and I'm going to
create a link element as well you know I
hide the link element so anka
and let's actually call this link
available user name and let's add the
HTF attribute to hash so when you click
on the hyperlink it actually takes you
nowhere we just want to make that
available user name clickable so you may
be wondering why do we added these two
elements the reason is if you look at
you know Gmail right here notice that
you know we have the validation message
and then we have this text available and
then the email that is available so we
will be displaying this text available
within the span element and this user
name that's available within that anchor
element that's the reason why we have
added those two ok so now let's go to
jQuery code so now the function within
the web service that we want to call is
get available user name so let's copy
this function name and specify that
right here okay
and we want to issue a post request the
data that we want to send to the user I
mean to the web service is the username
that the user has typed on the UI and
the type of data that we are expecting
from the server is JSON data and when
the request completes successfully this
is the callback function that we want to
call and the registration object will be
passed to this data object so this data
object is going to contain username and
use and user name properties okay so if
username in use if this property returns
true what does that mean whatever we
have typed into the username text box
initially that username is in use so
that means we would have computed you
know a unique user name that's available
and the username property of the data
object will contain that available user
name so at that point you know we want
to say username already in use just like
Gmail try another and let's put a
question mark okay and then within the
span element we want to display that
word available and notice here we are
storing the reference of development
within this variable similarly let's
store the reference of span element and
the anchor element and if you look at
the ID of the span element it is span
available user names let's find that and
let's actually call that span element
and the ID of the link element is link
available user name and let's call this
link element okay so if the user name is
already in use we want to display that
validation message and within the span
element so we have span element dot text
so the text that we want to display
within that span element is available
and a colon symbol and then we have the
link element within the link element
what we want to display we want to
display the available user name
okay and where do we get the user
available username from from the user
name property of the data object that
this callback function is receiving okay
so that's what we should do if the
username that we have provided is
already in news it's going to come to
this else block if the username that we
have provided is available right so at
that point if we are already displaying
anything within the div I mean within
the span and link elements what do we
want to do we want to empty that so I'm
going to actually copy and paste those
two lines here and empty the text that
is displayed within the span element and
within the hyperlink element okay
so let's go and save the changes let's
reload our HTML page and look at this
when I type am so this username is
available so it displays the message as
usual and Pamela look at that it says
Pamela 74 already in use try another and
available
Pamela 74 now this error message here is
misleading because Pamela 74 is the
username that's available right this is
not the username that we have typed here
so basically it should say Pamela
already news try another write the
reason why it is showing here the
available unique username is because
we're using the username property of the
data object now to get the username that
the user has typed in the textbox use
this variable right because that's what
is receiving the value that the user has
typed in the text box so let's copy that
and paste it right here so save the
changes let's reload this page now it
should say whatever we have typed into
the text box open ela already news try
another Pamela 98 is available and this
is a hyperlink now when I click on this
we should actually populate that within
this text box and we should clear out
these messages from here okay basically
development span element and the link
element we should empty everything okay
so let's go ahead
and do that so here we are setting the
text for the hyperlink element and I'm
also going to change the click event
handler function so when we click the
hyperlink you want to execute some code
which is going to be part of this
anonymous function so what do we want to
do at that point when we click on this
hyperlink we want to store that user
name in that username text box and here
we already have the user name textbox
selector so let's copy that
and I'm going to say that user name dot
Val so the value of that is going to
come from dollar this dot text so what
is this what is this code doing here
what is this keyword refer to here now
we are within the context of the
hyperlink element so this keyword
reference is the hyperlink element and
we are calling the text property so we
will retrieve the user name that's
available and we are going to store that
in this user name textbox right and once
we have done that what we need to do we
need to empty out the development span
element and the link element itself so
I'm actually going to yeah so
development dot text let's empty that
similarly span element and hyperlink
element okay all right so let's go and
save those changes as well reload this
page and let's type so Pam is available
and Pamela already in use try another
for me glove 56 and look at that when I
click on that we have that stood there
in the text box and all the validation
messages are gone thank you for
listening and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>