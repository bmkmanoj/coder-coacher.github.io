<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Displaying GridView in a GridView - Part 32 | Coder Coacher - Coaching Coders</title><meta content="Displaying GridView in a GridView - Part 32 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Displaying GridView in a GridView - Part 32</b></h2><h5 class="post__date">2013-03-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MAoJ5eGEK9w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to the regime technologies I am
thank it this is part 32 of asp.net
grid-view tutorial in this video we'll
discuss about displaying grid view in
another grid view on the slide you can
find a grid view displaying Department
information we can see Department ID
Department name and employees columns
employees column has got another grid
view control inside that displaying
employee ID and employee name you know
on the first row we can say employees
belonging to the IT department so
effectively here we have a grid view
control inside another grid we control
so the employees could be control is
present inside departments could be
control and obviously the data for these
to grid view controls is coming from two
different tables we have TBL department
and TBL employee tables and to retrieve
data from this database tables and
display that within our asp.net web
application project we need to design
respective data access layers so to my
project I'm going to add employee data
access layer and I'm going to call that
file employee data access layer dot CS
and obviously to encapsulate employee
information that's present in this table
TBL employee we need an employee class
and notice that within the grid view
control that's displaying employee
information we just have employee ID and
employee name so for now I'm going to
create an employee class with just those
two properties and to speed things up I
have this already type so I'm going to
copy that and paste it within our
employee data access layer classifier
then notice that we have employee ID and
employee name properties within that
class and within this employee data
access layer class we have to write some
ad or net code to interact with the
stable retrieve this employee related
information can with that into employee
object and return that to whoever is
going to call that method so obviously
we need to write some area dot net code
so we need to import some ad or net
namespaces specifically systems or data
systems or data dot sequel client and
system configuration and then obviously
again to speed things up I have this
method already type so let me copy that
and paste that within our employee data
access layer
and if you look at this it's pretty
straightforward code so we have this
method get all employees actually let's
give this a meaningful name get
employees by Department okay so if you
look at this method what it's doing is
it's taking in a department ID and then
returning the list of employees
belonging to that department because
within the grid we control you know
within the first row we want to display
employees belonging to IT department and
within the second row HR employees third
row payroll and administration in the
fourth row ok so obviously we need to
retrieve employees belonging to that
that specific department ok so to do
that we are writing you know a method
within this employee data access layer
which is going to return that list of
employees for us given a department ID
and obviously this is pretty
straightforward ato dotnet code so we
are spinning up lists of employees
object here and then we are reading the
connection screen from web config file
using that connection string create your
sequel connection object look at the
command select star from TBL employee
where department ID is equal to at
department ID so this is a parameterised
query we are filtering based on the
department ID and obviously to this
sequel parameter we need to supply a
value which is coming in to this method
as another parameter so we have you know
the department ID which is used as the
parameter value for this sequel
parameter at the department ID and
finally we are associating that signal I
mean the parameter with this command
object and opening the connection
execute the command and we are looping
through each row that is retrieved
converting that respective row into an
employee object and then we are setting
the employee ID employee named
properties adding that employee object
to the list and finally return the list
so pretty simple and straightforward ad
or net code here so we have this method
get employees by department which is
going to return employees belonging to
that department ok so we are done with
employee data access layer now the next
step is to actually create department
data access layer
so let's go ahead and create a dip and
you know Department data access layer
class file so right click on the project
add class and then I'm going to call
this department data access layer dot cs
and obviously to encapsulate the
department related information that's
department ID department name and look
at this here this is not a simple
property now the employee is property of
the department objects should contain
you know the employee ID and employee
name you know it's going to contain
lists of employees and obviously
employee object has got employee ID and
employee name property so my department
class is going to be little different
it's going to have you know the regular
properties department ID and department
name along with that I'm going to have
another property called employees which
is nothing but a list of employee
objects ok so let's go ahead and create
the department class itself and if you
look at the department class it is again
not that difficult to understand we have
department ID department name and then
you know look at this list of employees
which is going to be employees property
ok and look at this property I'm going
to have here just the get access up ok
so what this property should do it's
going to return me the list of employees
belonging to that department
ok and if you remember you know we have
already created a method with an
employee data access layer which is
called as get employees by department ok
so I'm going to call this method within
this get accessor of this property okay
so employee data access layer get
employees by department and this method
expects the department ID which
department is that whatever department
ID you know look at this whatever is the
department ID in that row so we pass in
that department ID with which we are
going to initialize this property into
this you know method so for that
department we are going to retrieve all
the employees belonging to that
department ok so we are done designing
our department object itself but we need
to populate this department ID and
department name properties of the
department
and obviously to do that within
Department data access layer we need
another static method to interact with
the database retrieve data and display
that within the grid be control and
obviously we need the same ad or
namespaces so let me copy that system
data
sequel client and configuration into
this department data access layer
classifier all right so within our
department data access layer let me copy
and paste this area dot pet core so
again if you look at that it's the same
piece of code create your list of
departments object you know read the
connection string from web config file
create a signal connection object using
the connection string you know look at
this query we want all the departments
so you know open the connection execute
the command loop through e to Department
arrow convert each row into Department
object add that to the list of
departments object which we have spun up
at the beginning of this method and
finally return the list so pretty
straightforward method okay so we are
done designing our employee data access
layer and the department data access
layer so finally let's drag and drop it
will be control onto the waveform
and if you notice within the grid we
control we want to display department ID
department name and employees okay so I
need to have here are two bound columns
you know department ID Department name I
don't need any customizations there so
I'm just going to use the bound fields
but the third one look at this
I need a grid we control so obviously if
you want to customize the type of
control that you want within the control
within the grid we control obviously you
will have to make use of template field
so I have to convert you know this the
last column into a template field and
the first two can be bound field so I'm
not going to rely on the grid view
control tool to have these columns
automatically generated instead I'm
going to specify what columns I want
okay so I want Department ID department
name and employees columns out of it and
block a department ID and Department
name are going to be bound columns and
employees is going to be a template
column okay so let's go ahead and add
them to this grid view control so I'm
going to say edit columns and I want to
bound fields and one template fear and
the bound field header text is going to
be employee ID so that's a head attacked
and the data field is going to come from
the employee ID property of the employee
object similarly it's actually not
employee ID if you notice it's
department ID and department name so
let's change them back so it's
department ID and the data field is
actually department ID property of the
department object okay and the next
thing is department name so let's give
that meaningful name so department and
the data field is the department name
property of the department object and
finally the template field if you look
at this the template real the header
text is employees so let's give that
meaningful name as they had a text so
employees and at this time I'm going to
click OK now look at this these are the
three columns that we specified
Department ID department name and
employees and by default the
auto-generated columns property of the
grid we control is true that's why we
have some columns also auto-generated we
don't want that to be happening anymore
so I'm going to set that property to
false so auto generate columns set that
to false so we have three columns here
now within the third column so if I flip
the waveform at this time to the source
mode
look at this all I have here is two
bound fields and one template view
within this template field we need a
grid view control so I can simply drag
and drop drop that from the toolbox if I
want or I can flip my waveform into the
design mode and I can click on this
smart tag button and then click on this
edit templates within the item template
of the template field we need another
grid view control so all I'm going to do
is drag and drop that on to this okay
and obviously what we need to do is we
need to bind at this grid view to some
data source so what is the data source
for this grid view control going to be
we want you know the employees to be
displayed within that preview control
and where do we get those employees from
you saying you know within your
department data access layer you have
this department object so the outer grid
view control is bound to the departments
you know data that's going to be
returned by this method get all
departments and employees method ok but
then we want the inner grid view control
to be bound
to the employees property okay so now on
our bed form what I'm going to do is you
know set the data bindings so the data
source here for this grid we control
within the item template of the template
field is going to be you know the
employees property of the department's
object so I'm going to say bind to
employees I click ok and the template
editing so we are done so if I flip this
now to the source mode look at what we
have just done you know we have a
template field within that item template
and then a grid view control which is
whose data source property is set to
employees property and obviously to the
outer grid view control we have to you
know call the department's data access
layer okay so let's go to the
code-behind file of our web form one dot
aspx so I'm going to say grid v1 which
is our outer grid we control the data
source for that is going to come from
Department data access layer get all
departments and employees so it's going
to get you know all the departments and
employees okay which is going to return
this list you know basically the list of
department objects and which has got
each department object has got in a list
of employees you know the employees
property which is going to return list
of employees and that employees property
is bound to this you know nested grid we
control the inner grid view to control
okay so let's call finally data bind
so now when the webform renders it has
to display both employees and you know
departments information look at this I
have employees information inside the
department's grid we control
now obviously the format is not how we
have it within the presentation
obviously what we need to do for that is
set Auto format for that and over the
outer grid view control click on auto
format I'm going to choose brown sugar
and similarly if you want to set the
auto format for the inner grid view
control click on edit templates select
your grid view control and then
obviously you can select that grid view
control set the you know scheme to brown
sugar and let's end a template edit a
that's it now if we run this as you
might expect the formatting will also be
applied so now this is an exact match to
what we have in this line now in some
cases we may not need the headers of the
nested grid we control if that's the
case all you need to do is for that
nested grid view control set show header
property to false and you can do that
from the designer or simply in the HTML
source so within the HTML source this is
the nested grid view control all I need
to do is show header you know set that
to false that's it so obviously when we
run this as you might expect the header
for the inner grid we control will not
be shown so the output is slightly
different alright so in this video we
have seen how to nest a grid view inside
and mothered with we control on the
slide you can find resources for a speed
or an Etsy shop and sequence of
interview questions that's it for today
thank you for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>