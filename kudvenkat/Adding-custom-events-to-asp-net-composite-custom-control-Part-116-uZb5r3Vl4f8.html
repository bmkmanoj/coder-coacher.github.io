<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Adding custom events to asp net composite custom control   Part 116 | Coder Coacher - Coaching Coders</title><meta content="Adding custom events to asp net composite custom control   Part 116 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Adding custom events to asp net composite custom control   Part 116</b></h2><h5 class="post__date">2013-01-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uZb5r3Vl4f8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to the regime technologies
I am venket this is part one one six of
asp.net video series in this video we'll
discuss about adding custom events to
asp.net composite custom control that we
have been working with from parts 112 to
115 if you haven't watched these videos
I strongly recommend to watch them first
before proceeding with this video we
have also discussed about adding custom
events to use the controls in parts one
zero six two one zero eight you can
watch these videos from the asp.net
video tutorial at the link that you can
find on the slide adding custom events
to a composite custom control is similar
to adding events to use the controls if
you know how to add you know custom
events to user controls then you already
know how to do that for composite custom
controls as well there are five simple
steps to actually add date selected
event to the composite custom calendar
control that we have been working with
so if you look at this composite custom
calendar control as soon as I select a
date from this control let's say for
example I select January 10 2013
you know this controller should raise
this date selected event and obviously
the first step to do that is to create a
class date selected even two arguments
class that's going to contain event data
now I have this class here so let me
copy this class and then let's go back
to the custom controls project so this
is the custom controls project now I'm
going to create this class outside of
this custom calendar class okay because
this is a class by itself and this is
going to contain even data okay now this
may not be very clear the purpose of
this class at this moment but don't
worry when we actually consume this
event that's when we will understand
better the purpose of this class but
look at the contents of this class this
is a very simple class all we have is a
private variable a constructor and a
property okay so this is a private
variable of type date/time okay select
the date underscore select a date and to
initialize this private variable we have
a constructor here date selected event
arguments you know this
the constructor into this constructor we
are passing in a parameter of type date
time again selected date so we are using
this parameter to initialize this
private field underscore selected date
and then we have a public property here
the important thing to notice here is
that it only has a get access er
meaning this is a read-only property the
users of this class can only read the
value of this variable underscore
selected date using this property they
can't set the value okay that's our
intention behind having only the get
accessor so if they want to initialize
this property they can do that only
using the constructor of the class okay
so a private field a constructor to
initialize that field and a public
property which returns the value of that
private field a very simple class and
another another important point to keep
in mind this class inherits from the
event arguments class okay so that's the
first step later we will see how we
actually use this class this is a very
useful class which is going to contain
even data for our date selected event
okay
so that's the first step so what's the
second step create date selected event
handler delegate so let's go ahead and
create a delegate anytime we are talking
about events events and delegates going
hand-in-hand because events are
variables of type delegates so obviously
if you have to create an event they
should be an Associated delegate so
let's go ahead and create delegate fast
and let's call the delegate as date
selected even handler delegate okay and
delegate is also a type and can and it
can exist by its own so the delegate
need not be present inside another class
so public delegate and if you remember
when we were discussing about events in
delegates in parts one zero six two one
zero eight we have spoken about what
delegates are what events are in a very
great detail so if you're new to events
in delegates I strongly recommend to
watch these videos from the asp.net
video tutorial first alright let's go
ahead and create a delegate a delegate
will have you know signature that is
similar to a function with a delegate
keyword if you remember the signature of
a function will have a return type here
the function
say it's not going to return anything so
it is going to have wide return type and
then we are going to call our delegate
as date selected even handler delegate
so date selected event handler and this
is going to have two parameters object
sender and then look at this now I'm
going to make use of this class date
selected event args okay so this class
is is useful for you know containing the
event data so I am going to use that
class so date selected event args II
okay so if you look at this delegate
declaration it's very simple it has a
wide written type and it takes two
parameters one is of type object and the
other one is of type date selected event
args the class that we have just created
in step one and with the delegate
keyword in front of it okay so that's
our second step what's the third step
create a date select the event now what
is an event and the event is nothing but
a variable of type delegate now if I
have to create a variable of type let's
say integer then how do I do that I
simply say int I for example along the
same lines if I have to create an event
then you know if I have to create a
variable of type this delegate I simply
say date selected event handler and then
specify a variable okay so what's a
delegate or what's an event and even tis
nothing but a variable of type delegate
so let's go ahead and create an event
now remember the event has to be raised
by the custom calendar class so I'm
going to create event inside the class
so I expand this custom calendar class
and then let's go and create the event
so an event is a variable of type
delegate so we have created date
selected event handler delegate so my
date selected event is going to be a
variable of type this delegate and then
if I want that to be an event all I do
as I put an access modifier public
then use the event keyword so now date
selected is the event that is going to
be raised by this custom calendar class
so that's our third step okay
so what's our fourth step create a
protected virtual method to raise the
event again we have discussed about the
significance of using this protected
virtual method to actually raise an
event rather than raising that directly
again we discussed about that in plats
1:06 - 1 0 I I strongly recommend to
watch those videos ok
so let's create this protected virtual
method and just to save some time and
typing I have this method already typed
so let me copy that and let's go back to
the project custom controls and within
the calendar class the custom calendar
class I'm going to create this protected
virtual method and look at this this is
very simple all this method does is it
takes in date selected event arguments
you know a parameter of type date
selected event arguments and what we are
doing with that object look at that we
are checking so first of all this is a
protected virtual method with a void
return type and I'm calling this as on
date selection ok so whenever somebody
selects a date that's when I call this
method to actually raise date selected
event ok and date selected eventargs
object is passed in as a parameter and
look at this here this is very important
we are actually checking if date
selected is not equal to now what is
state selected that's the event so if
the event is not null then go ahead and
raise the event that's what we are doing
here now we again discussed the
significance of checking null before
actually raising the event in parts one
zero six two one zero eight okay so I'm
going not going to repeat that here so
it's very important that we check for
null before we actually raise the event
and look at this what is this event this
is nothing but if it did selected what
is this this is a variable of type date
selected event handler and if you look
at date selected event handler it has
two parameters so obviously when you are
about to raise that event you have to
pass the arguments for those two
parameters ok so if you look at in
the opening brace look at this it
expects sender the object who is raising
the event so who is raising this event I
am using this keyword meaning an
instance of this custom calendar will
actually raise an event if you remember
in the demo project we are actually
using that custom calendar control look
at this if I flip that to the source so
custom calendar one that's an instance
of custom calendar object I'm in class
okay
so here when we said raising when we are
raising the event here we said okay this
for the source parameter here I mean for
the sender parameter meaning an instance
of this class custom calendar class is
going to raise this date select the
event and what is this e that's going to
contain our event data data selected
I mean date select event arguments
object so whatever is coming into this
method that is being passed you know to
this event okay in our next step we will
actually see how to use this method to
raise this event data selected okay so
that's our next step finally raised the
event when the date selection in the
calendar changes now when does the date
in the calendar changes whenever
somebody selects a date now remember
whenever we select a date this is the
asp.net calendar but this all put
together is our custom calendar
so whenever the selection change the
event in the calendar in the asp.net
calendar is raised that's when we want
to raise date selected event for this
composite custom control okay
so let's go back to custom controls and
let's look at the code where we have
calendar underscore selection change the
event so we have here calendar
underscore selection change so when will
this you know event be raised
whenever the selection in the calendar
changes okay so at that point of time we
want to raise date selected event as
well and look at this to raise date
selected event we can make use of this
virtual method that we have just written
on date selection so I'm going to call
this method there
okay so here but look at that if I have
to raise the event using on date
selection method then I have to pass an
object of type date selected even to
arguments okay so first I need to create
an instance of that class so let's go
ahead and do that so date selected event
arguments let's say E or let's call this
even data so I have that even data there
and look at the constructor of this
class this is expecting it daytime
object to be passed in so what type of
you know what date time do we pass in
here look at this whenever user selects
a date using that calendar we have the
selected date property which gives the
selected date so I'm going to pass the
same selected date okay so we have this
even data now even data object all that
is left out is to pass that even data
object to this on data on date selection
method we are done so this method is
going to raise that event for us look at
this the whole purpose of this date
selected event arguments class is that
so whenever the event then whenever we
are about to raise the event we need to
pass to this on date selection method
the event data and how do we get the
event data from the calendar object in
the calendar whenever the select the
never the end user selects a date that
will be retrieved using selected date
property of the calendar asp.net
calendar which in turn is used to you
know create an instance of the state
selected event arguments object and then
we are passing that object into this
method and if you look at this method on
data on date selection what is that
doing that's actually using that object
to raise the event and whoever is going
to consume this event the even handler
method is going to receive this date
selected object date selected event or
arguments object
and then we can find out what is the
value that is selected by the user very
easily okay so that's it we are pretty
much done so let's go ahead and build
this solution so using these five simple
steps we have actually created this
custom event date selected now let's go
ahead and see how to actually consume
this event and that's pretty
straightforward okay so we have built
the project and on the Status Bayou you
can see build succeeded let's flip to
the asp.net web application project now
let me first get rid of you know a
version that I have already here and
then I'm going to get rid of this button
declaration as well and then let's go
back to code behind file get rid of the
button click event from there okay so on
wave form and from the toolbox let's
also remove the custom calendar control
so go to the tool box and then remove
custom calendar
you okay and let's quickly check in the
bin folder of the asp.net web
application project so Ben we should
have custom controls assembly there so
let's get rid of that let's close that
and let's check in the references remove
that from there alright so let's go
ahead and add the assembly once again
choose toolbox items browse and we know
that the project is in C Drive C
navigate to the custom controls project
custom controls bin-debug and custom
controls dot dl so we have the custom
calendar added all that is left out is
to drag and drop that on to the designer
surface which should now put an instance
of the custom calendar control on this
web form okay so we have that registered
IDs custom calendar one let's flip to
the designer mode and we can associate
an image with that using image but an
image URL property so images four slash
calendar dot jpg that should pick up the
image from that folder which we have and
the most important thing looking at this
when I press when I go to the properties
and then click on this events icon you
should now see date selected event look
at that we have the date selected event
okay now when I double-click within the
text box here look at that on that event
I have the event handler method
automatically generated for us custom
calendar one underscore date selected
and look at this the date selected event
arguments object that is now passed in
to this event handler method now I can
use this object to find out what is the
date that the user has selected so that
is the you know significance of having
the state selected event arguments class
okay so now I simply can say response
dot right ye dot select a date remember
this class contains a get proper I mean
a selected date property so we are using
the property Drac
retrieve the date that's the whole point
in creating this property and you
remember this constructor is used to
initialize this private field when we
were actually creating an instance of
that object in the custom controls why
did we where did we use that constructor
right here the constructor that takes in
day time all right
so I'm going to use the selected date
and I'm going to convert that to short
date string so that's the selected date
okay so when will this method be called
this method will be called whenever date
selected event is raised and look at
this let's go back to the designer so
when I double-click this what actually
happened behind the scenes within the
sewers look at that on date selected
when this even is fired
you know this even handler method will
be called just like when you have a
button you know on click button one
underscore click even handler method
will be called they similar to that
whenever date selected event is raised
this even handler method will be called
so let's go ahead and run this and as
soon as I click you know as soon as I
select the date from the calendar the
event will be raised
they even handler method will handle
that and it should print out the
selected date so I am selecting 17th
look at that as soon as I select the
date it's going to print that for me
okay so whenever the selection changes
the event gets raised and that event is
actually you know consumed by this even
handler method that you can see custom
calendar one underscore date selected
and within that even handler method we
are using the object date selected event
arguments object that contains the event
data and we are printing that on the
waveform by converting it to shortage
string so five simple steps to create
custom even you know it's very much
similar to how we do it for user control
so if you know that then it's pretty
much straightforward in our next video
we will actually discuss about assigning
an image look at this at the moment if
you look at this custom calendar control
it doesn't have an image associated with
that in the toolbox so look at that it
has a very
image there instead of that we can
actually associate our own image we'll
discuss about how to do that in our next
video session on this slide you can find
resources for asp.net c-sharp and sequel
server interview questions that's it for
today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>