<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 95   OnBegin, OnComplete, OnSuccess and OnFailure properties of AjaxOptions class | Coder Coacher - Coaching Coders</title><meta content="Part 95   OnBegin, OnComplete, OnSuccess and OnFailure properties of AjaxOptions class - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 95   OnBegin, OnComplete, OnSuccess and OnFailure properties of AjaxOptions class</b></h2><h5 class="post__date">2013-09-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/js4xqfaC2A8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">it's part 95 of asp.net MVC tutorial in
this video we'll discuss on begin on
complete on success non failure
properties of Ajax options class this is
continuation to part 94 so please watch
part 94 before proceeding using these
four properties of the Ajax options
class we can associate JavaScript
functions that get called on the client
at different stages of nature acts attic
lists response cycle the Associated
JavaScript function with this on begin
property is automatically called before
the server-side action method is invoked
let me explain what I mean
this the example that we have been
working with in the previous sessions of
this video series now when we click this
all link this all action method within
the home controller gets invoked but
then if we have specified on begin
property then the associated JavaScript
function is going to get automatically
called
before this server-side action method is
invoked and if we have specified on
complete property then the associated
JavaScript function is invoked after the
response data has been instantiated but
immediately before the page is updated
with that response data so when the
controller action method completes
execution we have this response data
which is instantiated now immediately
before the UI is updated with that
response data that's when the JavaScript
function that is associated with this
own complete property is automatically
invoked whereas if we have specified
onsuccess property then the JavaScript
function is invoked immediately after
the page is updated you know with the
data from that response object if at all
if there is any failure then the
JavaScript function that is associated
with this property is invoked let's look
at an example of using these properties
first of all let's get rid of this time
information so within the index view
let's get it off that line and within
students partial view let's get rid of
that let's run the application
so now we shouldn't get the time
information anymore okay so when we
click this all link you know we get all
students data here but then look at this
when I click top three you know I have
this data still all students there and
then the images right there now my
requirement let's say for example we
want you know when as soon as I click
this link
I want this data to be cleared and then
you know that spinning image should be
present there and as soon as we have the
data available the UI
should be updated let's see how to
achieve that
so we basically want to clear the
students information that's present in
this div tag okay so within our index
view this is the div tag which displays
student information so first let's go
ahead and write some JavaScript function
which is going to clear that div
contents so within our page I am going
to include a script tag so script type
equals text slash JavaScript language is
JavaScript
so let's write a function here maybe
let's call this clear results so what we
want this function to do basically clear
the contents of this div tag okay
so let's use jQuery so dollar and what
is the ID of that div tag
it's called dave student so let's copy
the ID so here we are using that jquery
selector ID selector pound symbol and
then once we have the div tag all we
want to do is invoke the empty method
which is going to clear the contents of
the day okay
now we need to associate this javascript
function with on begin property so we
have the Ajax options object here so I'm
going to specify on begin property and
then associate this javascript function
clear results okay let's do it for the
rest of the action links that we have
all right so let's go ahead and run this
so when we click top three so first top
three students should be displayed and
now when we click bottom three look at
that the data is immediately cleared and
then the spinning image and as soon as
the data becomes available you know we
have that information displayed so
basically this the JavaScript function
that is associated with the on begin
property is executed in you know before
the server-side action method is called
so as soon as we click on the link this
javascript function gets called which is
going to clear the contents of the Dave
okay now this on begin function I mean
this on begin property can also be used
to programmatically cancel the
invocation of the server-side controller
action method let's say for example
based on some conditions I want to be
able to cancel the execution of this
controller action method again we can
very easily achieve that using this on
begin property so let's say let's write
some function here cancel call so
basically this function you know has to
return true or false if this function
returns true then you know the call to
the suicide controller action method
will continue and it will be invoked
otherwise of this function returns false
then the call will be canceled okay so
basically you can specify any condition
depending on your application
requirement but let's come out you know
this condition will never be true so if
one equals to true that will always be
false but then let's say we want to
return true in that case else
let's return false and then let's alert
a message
action method will not be invoked
alright now let's associate this with
this on begin property so this method
gets automatically invoked before a call
to the server side action method is made
and then if you look at this cancel call
function what is it doing it is going to
return false okay so if this function
returns false what's going to happen you
know the application will not issue an a
call to the server side controller
action method so basically we are
canceling the execution there okay so
this condition will be false so it will
come into the else block and return
false that's why the server said
controller action method will not be
called okay
so here we are using you know some crazy
condition but then in your application
depending on your application
requirement you may give whatever
conditions you want so let's go ahead
and run this and see if we get the
desired output look at that action
method will not be invoked at click okay
no animation and then there is no call
to the server side action method all
right so let's revert this back to clear
results all right so let's now look at
using this onsuccess property okay
now let's say immediately after we have
displayed so let's save these changes
here and then let's refresh this view so
when we click a top-three we get the top
through students and then the details
will be displayed here but immediately
after the details are displayed I also
want to display the total number of
students you know within that result set
okay so basically for that we can use
this on success property okay so as soon
as the response you know as soon as the
UI is updated the JavaScript function
that is associated with this on success
property will get called so at that
point we can you know count the number
of rows in the table that displays these
details and then you know present that
information okay so basically this
information is
by this partial view student partial
view and here notice that we have a
table so let's give an ID for this table
maybe let's call it students table okay
so we can use the students on this ID
and then count the number of rows within
this table so within our index view I'm
going to write another function let's
call this count rows and this function
so let's use the ID selector which is
found so basically within that table a
table which has got that ID within that
table I want the total rows and I can
use the length of property which is
going to give us the total number of
rows within that student table but then
look at this that in the student table
table I mean this is the table header so
that will also be counted so we want to
subtract one from the length and then
let's upend you know some text to this
so Rose retrieved all right and then
let's alert let's use in a JavaScript
alert to display this information on the
UI all right
length property and then we want to
subtract one from that okay so let's go
ahead and run that look at this when we
click top three so the spinning image as
soon as the information is updated we
should also get an alert for some reason
we are not getting the dollar and why is
that we have written the function but we
have not associated this with onsuccess
property so let's go ahead and specify
on success property and then associate
this function count rose and let's do
the same thing with other action links
that we have all right so let's run this
now the top three
look at that we have three rows they're
three rows retrieved I click okay and we
are done okay
similarly if you click on this length
depending on the number of rows
retrieved you know that information is
will be displayed so very useful Ajax
options that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>