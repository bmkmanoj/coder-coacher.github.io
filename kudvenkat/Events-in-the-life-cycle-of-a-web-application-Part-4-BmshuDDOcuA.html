<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Events in the life cycle of a web application   Part 4 | Coder Coacher - Coaching Coders</title><meta content="Events in the life cycle of a web application   Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Events in the life cycle of a web application   Part 4</b></h2><h5 class="post__date">2012-10-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BmshuDDOcuA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to presume technologies I
am venket this is part four of asp.net
video series in this session we'll be
talking about events at the application
level in an asp.net web application in
an asp.net web application events can
occur at three levels at the application
level
examples include application start
application end session start session
and etc and at the page level
examples include page load page
pre-render page unload and at the
control level examples include the click
event of a button control selected index
change the event of a drop down list etc
we will be talking about page level and
control level events in a great detail
in a later video session in this session
we'll be concentrating upon application
level events in part 2 of this in part 3
of this video series we have spoken
about viewstate variables and we have
understood that view state variables are
used as a mechanism to preserve data
across page postback but by default a
view state of one waveform is not
available in another waveform for
example if I create a view state
variable on webform 1 I can only access
that view state variable on that
waveform 1 if I try to access that on
webform to you know that basically will
be now but however if there are
situations where I want to move data
from one waveform to another
so what are the different techniques
that are available in asp.net these
these for all the techniques okay to
send data from one waveform to another
we can make use of query strings cookies
session state and application state we
will be talking about query strings and
cookies in a later session in this
session we'll concentrate upon session
state and application state variables
now session state variables are
available across all pages but only for
a given single session you can think of
session state variables you know as like
single user global data for a given user
across all the web pages you can access
section state variables only the current
session has access to its session state
whereas application state variables are
available across all pages and across
all sessions you can think of
application state variables as
multi-user global data all sessions can
read and write application state
variables so in short session state
variables are like single user global
data and application state variables are
like multi-user global data in an
asp.net web application global dot a is
a X file contains the application level
events here the pictures shows a
snapshot of the global dot a si X file
and if you look at this we have
application underscore start event so
when does this even get fired this even
gets fired if your application is not
already running and when the first
request for a webform in the application
in order reaches I asked the web server
you know it loads the applications
assembly into the memory that's when the
application starts up and this even gets
fired application end event when will
this be fired whenever there are no more
active sessions if the last session has
already expired then the application and
events fires application underscore
error event when does this get fired
whenever there is an unhandled exception
okay if there is an unhandled exception
application underscore error even gets
fired in fact in real time we actually
use application underscore error to
handle unhandled exceptions and log them
to a database or to even fewer in fact
we'll be looking at an example of that
in a later video session when we talk
about exception handling in asp.net
session state when does session start
when does this even get fired whenever a
new user you know visits your
application whenever a new session gets
started
now what is a session we'll talk about
that in a bit a session can be treated
or considered as a unique instance of a
browser with a unique session ID we'll
be talking about that in a bit
so whenever a user a new user connects
to your application session underscore
start even gets fired when there's a
session underscore end event fired
whenever the session of an existing user
you know times out that's when session
underscore end event fires now session
timeout can be configured in web config
file using a timeout attribute now if
you look at these events this can be
classified as application events and
session events examples of application
events application start application and
application error examples of session
even session start and session event in
general application events are used to
initialize data that needs to be
available to all the current sessions of
the application whereas session events
are used to initialize data that needs
to be available only for a given
individual session but not between
multiple sessions let's look at an
example now if you look at this that's a
pretty simple example that we have in
the application underscore start event
of global dot a si X what we are doing
here we're actually creating two
application state variables total
applications total user sessions you
know these are application level
variables application state variables
okay and we are initializing them to
zero
now remember application state variable
can be accessed by all sessions okay now
what we are doing here is in the
application start event total
applications basically I want to say how
many times in application starts up and
whenever new users connects to the
application we basically want to figure
out how many users are connected to your
application at the moment we want to
find out number of users online with the
application how many active sessions do
we have to our application
okay so if we want to find out the total
you know number of applications running
you know how many instances of this
application running since application
start will be fired only once you know
when this application start event is
fired we're incrementing the value of
total applications by one in that event
and in this session start event we are
incrementing the total user sessions by
one because every time you know a
session a new session is established
increment total user sessions by one
that will tell us how many users are
currently online and whenever the
session ends now how do you determine a
session has ended that's determined by
the session time mode attribute in web
config file and the default is 20
minutes
so whenever a an existing session
expires decrement the total user
sessions value by one okay this is this
piece of code goes in global dot a si X
and in webform 1 what are we doing we
are simply retrieving you know the data
from application state variables and
printing it out so number of
applications you know to print that we
are using the total applications count
and number of users online we are using
total user sessions application state
variable okay let's look at this in
action let's flip to visual studio so if
you look at the global dot ASX file we
exactly have the same code that we have
seen on the slide and on the web form
one dot aspx i have the same code as
well so now let me run this one let me
plus control f5 so we are running this
for the first time so it should show the
number of applications s1 and number of
users online as one now if you look at
this you know you can consider this as a
session now this browser instance will
have a unique session ID that gets sent
to the web server and based on that
session ID the web server knows okay
this is one user
now if I copy this URL and open another
browser instance so I'm opening another
browser instance okay there's some issue
with google chrome let me really
relaunch that okay so number of
applications is one number of users
online is one let's open another
instance of google chrome and look at
this when I paste this URL and I press
ENTER it shows number of applications 1
and number of users online as 1 now
let's first understand what we mean by a
session a user session now a user
session can be treated as a unique
instance of a browser if you look at
this this is one instance of the browser
and this is another instance of the
browser so I basically have two
instances of the browser's okay but then
I didn't end up getting two sessions
that's because by default sessions use
cookies so as long as I have this
browser window open this is the first
browser window and this is the second
browser window so when I first
established a session with the web
server I get a session ID and that same
session ID is used by this browser as
well because the session cookie that is
stored on this computer is being shared
by both of these windows but on the
other hand if I close the browser window
let's close both of them and open this
browser window
I'm opening the browser when the Google
Chrome browser window now since I closed
the existing you know browser windows
the session cookie would have been
deleted now and that session ID is gone
now when I open a new browser window and
when I try to navigate to that page I
get a new session ID so the web server
now treats this new session ID as if
it's coming from a new user so now when
I press enter look at that number of
users online is 2 now
the session ID is still there in the
session cookie and that session cookie
is alive if I open another Google Chrome
vendo what's going to happen this
instance of the Google Chrome vendor is
going to make use of that session ID so
when I navigate to this web form
web server you know web server receives
the same session ID so it thinks the
request is coming from the same user and
that's why a number of users online is -
but on the other hand another way to
actually get a different session ID is
to use a different browser now I can
make use of Internet Explorer so
Internet Explorer does not make use of
the same cookie that Google Chrome is
using so because of which this will have
its own session ID and when I paste you
know the URL you can see that number of
users now is actually 3 in Internet
Explorer window so basically you can
close the browser window or you can open
a new browser window you know a
different type of browser window you
know if you are using Google Chrome and
if you try to access the same
application using Internet Explorer you
end up getting a different session ID
and then number of users will be
incremented why because this session
start event will be fired whenever a new
session ID is received by the web server
it knows that this is it I mean it
thinks that it's a new user and starts
the session ok all right so what is a
session we have already spoken about a
test session is a unique instance of the
browser a single user can have multiple
sessions by visiting your application
with multiple instances of the browser
running with a different session ID on
his machine and how do we simulate you
know as if we are having a different
session ID you can close the browser
window which will close the existing
browser window and open a new instance
of the browser so when you close the
existing browser window the session ID
that is associated with that browser
using a session cookie is gone and a new
browser a new instance of the browser
will get a new session ID
because of which you know the webserver
treats that request from that browser as
a new user and session underscore start
event will be fired and number of users
online will be incremented by one
another way is to open a new instance of
a different browser for example I was
using Google Chrome first but when I
used Internet Explorer you know we get a
new session ID because of its session on
school start even gets fired and the
value gets incremented okay and the
third way is to basically use cookie
less sessions now we understood that by
default asp.net uses cookies to maintain
these session IDs okay
but you can tell your application not to
use cookies again how do we do that
using the web config file the web
configuration file in a web
configuration file in session State
element you specify cookie less is equal
to true you're saying let's use cookie
less sessions by turning this attribute
on so let's turn that on and to turn
that on all you do is put a web config
file and set this cookie less is equal
to true and the moment we do that and
then we run this application look at
what's going to happen so let's close
all these windows at the moment let's
run it once again look at this if you
look at the URL now I get a unique you
know alphanumeric number here that's
nothing but this session ID okay now if
I copy this look at this if I copy this
and then open another instance of Google
Chrome there's some issue with google
chrome let's open it again so I paste
that there so number of users online is
two and then I open another one look at
this I am pasting the exact same thing
and if you look at the session ID I just
copied that session ID as well so when I
press enter what's going to happen the
same session ID goes to the web server
so the web server thinks it's coming
from the same user so that's why it will
know
fire session underscore start event in
global dot ASX file because of which you
know the session the application level
variable application of total user
sessions will not be incremented so it's
still - but on the other hand you know
if you look at the URL we don't have to
have this session ID you can get rid of
that session ID so if you look at this I
want to go to localhost at this port
number you know I want to retrieve this
webform one so now let's copy that let's
open another Google Chrome vendor and
look at what's going to happen now if
you look at this in these two browser
windows it's the same session ID now
here when I try to visit that look at
what's going to happen when I press
ENTER I get a different session ID so as
I have a different session ID and this
is the session ID used by this browser
to communicate with the web server the
web server things this is a different
user and then fires session underscore
start event which will then obviously
increment the value of total user
sessions in this event we are
incrementing it by one that's why it
gets incremented by one two three so
basically you know there are three ways
to get a new session ID and force this
session underscore start event to
execute one is close the existing
browser window and open and then open a
new instance of the browser or open a
new instance of a different browser or
use cookie-less sessions on this slide
you can find resources for asp.net
c-sharp and sequel server interview
questions that's it for today thank you
for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>