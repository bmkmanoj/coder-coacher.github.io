<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Cookie less sessions in asp.net   Part 63 | Coder Coacher - Coaching Coders</title><meta content="Cookie less sessions in asp.net   Part 63 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Cookie less sessions in asp.net   Part 63</b></h2><h5 class="post__date">2012-11-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pN4THQT5TJE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to presume technologies I am
venket this is part 63 of asp.net video
series in this session we'll discuss
about cookie layer sessions in asp.net
before continuing with the session I
strongly recommend to watch part 60 61
and 62 of this video series in asp.net
there are different techniques to send
data from one web form to another in the
previous sessions of this video series
we have discussed about cross page
postback context or handler object query
strings cookies and session state
variables in this session we'll discuss
about cookie-less sessions by default
sessions use cookies the session ID is
stored as a cookie on the client
computer the session ID is then used by
the website to identify if the request
is coming from the same user or a
different user let's understand what we
mean by this with an example before that
let's understand what we have done in
the previous session of this video
series because we will be using the same
example to understand cookie less
sessions here I have an asp.net web
application project with two web forms
on web form one I have two text boxes
where the user can enter their name and
email and once they click on this go to
waveform to button the user will be
navigated to waveform to dot aspx n on
this webform I have to label controls
which will display the name and email
that we have entered on webform 1 and
how are we doing this using session
state variables so when I click this
button we are retrieving the name and
email from the respective text boxes and
then storing them in these session state
variables using the keys name and email
and then we are redirecting the user to
waveform to dot aspx on waveform 2 in
the page load event we are actually
retrieving the name and email of the
user from the respective keys and then
displaying them in the label controls so
obviously as you might expect when we
run this now and when we enter the name
and email on waveform 1 and click on
that button we will navigate the user to
waveform 2 and on webform to the values
are displayed and obviously to do that
we are using session state now the
important point to understand here is
that web applications work on a
stateless protocol meaning when we make
a request for this webform 1 dot aspx
the web server receives the request it
creates an instance of this waveform 1
plus you know creates all the objects on
that
process the events generates the
required HTML sends it back to the
client and what happens to that webform
one object on the web server it will be
immediately destroyed and once the HTML
is posted back to the client the web
server has no idea about where the
request has come from now the user can
type into these text boxes select
options and then once he clicks this
button another request goes to the web
server and then what happens it creates
another instance of that webform
generates the HTML sends it back to the
client and destroys that waveform now
the point is how is the web server
knowing whether the request is coming
from the same user or from a different
user so how is it able to relate these
requests whether if they are coming from
the same user or from a different user
that is with the help of something
called session ID so whenever I open a
browser and type in the URL of this
application for example when the web
server receives the request it's going
to create you know a unique number
called session ID and assign it to that
request and then that session ID is
going to be used by the web server to
identify if the request is coming from
the same user or from a different user
that's how the web server relates you
know whether if the requests are coming
from the same user or from a different
user in spite of web applications
working on the stateless protocol HTTP
okay let's see where is the session ID
stored now from the slide you know by
default sessions use cookies the session
ID is stored as a cookie on the client
computer so right now I'm using Google
Chrome as the default browser with
visual studio if you want to follow
along with me set Google Chrome as your
default browser and the easiest way to
do that is within Visual Studio right
click on any of the web form within
solution explorer select this option
browse with and in browse with window
select google chrome click this button
set as default and click on browse that
will set Google Chrome as the default
browser so when you run the application
using control fi the web form will be
open using Google Chrome so within
Google Chrome to check look at that
I entered test and test email I click on
go to web form to
and then it displays the enter name and
email on waveform 2 now let us see where
is the session ID stored it is stored in
a cookie so to look at the session
cookie right click on the browser select
inspect element and within this window
that opens up click on resources and
then within the resources window expand
cookies and that you should find
localhost and within localhost you know
after you select that you should see you
know there is in cookie with name
asp.net underscore session ID and look
at the value it is this unique number
that will be used by the web server to
identify if the request is coming from
the same user or from a different user
look at that on webform 1 I entered this
value look at the session ID value it
doesn't change with every request it's
going to be the same I entered this
values when I click go to waveform 2
what happening it's going to create an
instance of waveform to retrieve those
values from the session how does it know
those session variable belong to me
because of this unique and number if
another user is is accessing waveform 1
there will be a unique session ID for
that user for the browser instance he
has opened that's how it's able to
identify whether the session is coming
from the same user or from a different
user okay now if I disable cookies here
now there is no way for the web
application to store that cookie ID and
might come and my client computer so if
that's the case then the web server will
have no idea if the request is coming
back from me so let's disable cookies
and see what happens
so to disable cookies in Google Chrome
click on that Settings button there I'm
in select settings and in search
settings pot text box type cookies click
on content centex and choose this radio
button block sites from setting any data
you're basically telling don't allow
sites to write any data to my machine
and then click OK
so at this point we have disabled
cookies so let me run this now so we
have disabled cookies so the web server
will not be able to store that session
ID you know there will be a session ID
but then that cannot be stored on my
client computer so when I type in
something here maybe
a store you know and then when I click
on this button the request goes to the
web server but look at that on webform -
it's not displaying anything why is that
because the web server you know when you
requested the form 1 it created an
instance assigned a session ID it send
the HTML back to the client computer on
the client computer we have not storing
the session IDs so when you click on
after entering the data when you click
on that co2 waveform - what happens
another request goes to the server and
then it creates a new session ID so
whatever variables you post in - session
variables you know it doesn't know when
when when the user is redirected to
webform - you know that's a new request
for waveform - so it cannot relate the
request for webform 1 to waveform - you
know and then you know assume that if it
is coming from the same user ok it
doesn't know that why because there is
no session ID to link both of those
requests together ok that's why when I
click this you know it doesn't display
anything ok so many users actually
doesn't like websites writing
information to their computers so it's
very common for users to disable cookies
if that's the case when websites using
cookies you know to manage sessions may
not work as expected however to overcome
this problem cookie-less sessions can be
enabled and to enable cookie-less
sessions all we have to do is set the
cookie-less attribute to true in web
config file now every web application
has got a configuration file called web
config and within web config under
configuration element under system dot
web element we have the session state
element the mode is in proc and time out
is 20 minutes along with these
attributes we can set an attribute
called cookie-less I'm going to set that
to true to get the name of the attribute
it's very meaningful cookie-less
sessions so we are going to use
cookie-less sessions ok now let me close
this browser let me run the web form and
request web form 1 dot aspx so look at
what happens when the web form is
rendered I have a unique number here ok
this is nothing but this
I D that unique number so now if I type
in something here test and maybe test
email I click that look at that number
it doesn't get changed so when I click
go to webform - so that session ID is
transmitted between the client and web
server with every request and response
and that's how the web server is able to
remember if the request is coming from
the same user or from a different user
now look at this let me go back I type
in something here maybe test email one
and test one and what I'm going to do
before I submit I'm going to change this
to something oops okay let me go back
let's change this to something so I
change the session ID I click this
button okay now I will change this to
set the session ID to something else and
look at that it doesn't work because it
thinks the request for webform 2 is
coming from a different user
okay so cookie-less sessions can be used
to - even if users disable cookies I
know cookie less sessions can be used
so when Kugler sessions that enable the
session ID is part of the URL and it's
sent back and forth between the client
and the web server with every request in
response the web server uses the session
ID from the URL to identify if the
request is coming from the same user or
from a different user for cookie less
sessions to work correctly this is very
important relative URLs must be used in
the application when redirecting users
to different waveforms let's understand
what we mean by this with an example
let me actually look at this at the
moment
- at the URL of my pages it's running on
localhost which means on the local
server at port number two seven eight
five eight and I am viewing waveform -
dot aspx okay that's the URL now look at
this when I click this button on
waveform one when I click this button I
am redirecting the user to waveform two
dot aspx okay and look at this I'm using
a relative URL here which means I'm not
using the complete path I am saying from
the root directory go to waveform two
dot aspx
okay but then another way to actually
get around this problem is if you
remember it's DB : actually let's run
this let's identify the port number at
which the application so if you look at
this
that's the port number two seven eight
five eight is the port number at which
my application is running so I can say
HTTP colon 4 / 4 colon four slash four
slash localhost colon
watch the port number two seven eight
five eight so two seven eight five eight
forward slash Reform to dot aspx so I'm
giving a complete URL here it's also
called as absolute URL okay now if I use
absolute URL will the cookie less
sessions work as expected no and you can
understand why so when I actually
request web form 1 dot aspx the web
server will create an instance of that
assign that unique session ID to the URL
automatically and sense that back to me
but then here look at that I am I am
entering test and test email as the
value and when I click go to web form -
on the click of this button what we are
doing we are changing the URL to
something like this we are knocking off
the session ID okay so because of that
it thinks the request for waveform tree
is coming from a different user because
of the different session ID and that's
why the absolute URLs will not work
correctly with cookie less sessions so
always use relative URLs if you are
using Google 8 sessions on this slide
you can find resources for asp.net
c-sharp and sequel server interview
questions that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>