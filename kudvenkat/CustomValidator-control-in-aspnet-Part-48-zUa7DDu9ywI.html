<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CustomValidator control in asp.net   Part 48 | Coder Coacher - Coaching Coders</title><meta content="CustomValidator control in asp.net   Part 48 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CustomValidator control in asp.net   Part 48</b></h2><h5 class="post__date">2012-11-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zUa7DDu9ywI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to presume technologies I am
venket this is pad 48 of asp.net video
series in this session well discuss
about the custom validator control
before continuing with the session I
strongly recommend to watch patch 45 46
and 47 of this video series the custom
validator control allows us to write a
method with a custom logic to handle the
validation of the value entered if none
of the other validation controls serve
our purpose then a custom validator
control can be used just like any other
validation control custom validator
control can be used to perform both
declined and server-side validations
obviously declined and server-side
validation functions needs to be written
by the developer and we also need to
associate them to the custom validator
control let's see how to achieve this
with an example
we'll ask the user to enter in number
into a text box and then if the number
is not an even number we want to show a
validation message saying not an even
number and obviously to achieve this we
don't have you know any of the built-in
validation controls available so we have
to use the custom validator control and
write our own logic lets you have to do
that let's flip to Visual Studio I have
the web form already designed here we
have this text please enter a positive
even number and a textbox control for
the user to enter the number a button
and the label control let's flip to the
source mode let's drag and drop the
custom validator control next to the
textbox so custom validator and let's
give it a meaningful name since it's
validating even numbers I'm going to
call this custom validator even and
let's give it a meaningful error message
let's call this not an even number and
the next important property that we need
to specify is the control to validate so
which control we want to validate we
want to validate the textbox
txt even number and the next property is
on server validate so this property
specifies the server-side method that
this validation control needs to invoke
in order to you know perform the
validation so we have to first
right that method and then hook that
method to this property so let's see
have to do that you know the easiest way
to get the signature of the server-side
validation method is to flip flip to the
design mode go to the properties of this
validation control and click on the
events tab and then there is an event
called server validate so double click
that and then the even handler is
automatically generated and if you go to
the design mode you can see that on
silver validate the the method name is
hooked up to that event of this control
custom validator okay and another thing
that we want to do we want the color in
red so I'm going to set for color is
equal to red okay so now let's write
this function so our goal is that the
entered and number should be an even
number so if you look at you know the
parameter that is coming into this even
handler method it's called server
validate event argument so object now
this arguments object has got two
properties the first property is if arcs
dot value look at this property this
value property is going to receive the
value that the user types into the
textbox control so if I enter in number
into this text box control that value
will be sent using this value property
of the args object so what we basically
want to do if arcs dot value if that
number obviously that needs to be
converted to a number so let's convert
that to integer so convert dot two and
32 okay after conversion if that is
divisible by two you know if we if it's
divisible by two then we know that it's
a valid even number so how will we tell
the validation control it has passed the
validation all you have to do is this
arguments object has got another
property called is valid which is a
boolean property if you set that to true
then you are saying to the validation
control okay the value is fine you know
it has passed validation so I am going
to set that property to true on the
other hand if it's not divisible by two
then we knew that it
not a valid even number so in which case
we will set that property to false so
arcs dot is valid is equal to false so
that's that we have written our custom
method okay so now this method is also
associated with the validation control
so let's run this and see if the
server-side validation works
now until this point we have only
performed the server-side validation so
I'm going to enter maybe in 99 which is
not an even number I click Save
look at that not an even number
validation error data not saved and this
code is already written it's a pretty
simple code we have the button so when
we click the button we have this event
in the button click I mean code in the
button click event if page dot is valid
this is valid property will be true if
all the validation controls succeeded
validation and then we are saying data
saved and the full color of the label is
set to green else you know it comes to
else part if any validation controls has
failed validation in our case it has
failed validation so it has come to the
else part and in the else part we are
saying validation error data not saved
and we have set the color to red okay so
we have seen at how to achieve the
server-side validation but then there is
a slight problem here look at this if I
don't enter any text there and then I
click Save the validation succeeds okay
which is good you know so this control
is not validating when the text is empty
okay
now interestingly this custom validator
has got a property if you look at the
properties there is a property validate
empty text so what does this property
mean whether if the validation control
validates the control when the text of
the control is empty so if the if the
text that is empty should the validation
control validate it or not if I set this
property to true by default its false
which means it will not validate if you
know if the text box is empty in which
case it will not call this server-side
method okay but let's
say I want to turn that on you know even
if it's empty I want to validate okay so
in which case you will set that property
to true so if you said that property to
true what's going to happen when I click
the Save button it's going to call the
server-side validation method and
obviously it tries to convert the arcs
dot value augs dot value will be empty
if I don't enter anything there and
obviously it's going to fail when it
trying to when it tries to convert that
to an integer so we have to handle that
as well let's quickly run this and see
if we actually get that error when we
don't enter anything into the text box
and then click the Save button
look at that input string was not in the
correct format and that's because it's
trying to convert an empty string into
an integer and we get that you know
inputs I mean format exception basically
so let's see how to correct that
obviously to correct that we can simply
check okay if arcs dot value if that
value is empty string we know that
there's nothing present in which case
else we want to do this okay if our X
dot value is empty then you know we want
to say arcs dot is valid is equal to
false okay so if it's empty then we are
setting that to false which means the
validation will fail on the other hand
you know this page will also fail look
at this if I don't enter anything into
the textbox now and then I click to try
to click the Save button validation
fails which is good but then if I enter
a number like this 10 instead of one
zero and then click Save
look at that it's going to fail again
because it cannot convert the word at
ten into an integer and that's where it
fails so obviously we need to cater for
that as well so how do we do that
when we are trying to convert to an
integer you know we have to check our be
able to successfully convert that or not
and how do we do that to do that let me
first create a variable int number and
then I am creating another variable bull
is number and then what I'm going to do
is I'm going to use the tryparse method
so int dot try pass and this
an interesting method if you look at
this method it's taking in a string
object and then it will try to convert
that to an integer if it is successful
in converting that to an integer it will
return true otherwise it will return
false and if it is successful in
converting that to an integer it will
store that value in an output parameter
so I'm going to pass first the string
that we want to convert the string that
we want to convert is this rx dot value
so I'm going to pass that to this method
and then we need a variable which will
receive that value so I have this
variable which needs to be passed in as
an output parameter okay that's it so
what we are going to do here we need to
check ok instead of doing all this first
we need to check is it a number if it's
number and this variable will tell if
it's a number or not so if it's a number
and if that number divided by 2 gives us
0 then we know that it's a positive I
mean it's it's an even number but before
that we also want to ensure that the
number should be greater than or equal
to zero ok so it should be a number and
the number must be greater than or equal
to zero and the number divided by two
should return zero in which case it's an
even number if any of these conditions
fair then it's an not a positive even
number okay so let's run this and see if
our validation method works as expected
so I enter the number ten I click Save
button the validation should fail not an
even number and if I enter a positive
number a positive even number data saved
if I enter zero data save if I enter
minus 99 and click Save validation error
data not saved ok so everything is
working 96 is an even number I click
Save and works so so far we have seen
how to validate on the server side now
let us see how to do the validation on
the client side so obviously we have the
server side function to do the server
side validation and we
have hooked that to the validation
control using on on server validate now
if we have to perform the client-side
validation we have to do that either
using javascript or vbscript javascript
is supported by all the browsers so it's
better to write that in JavaScript so
let's see how to first write this
client-side JavaScript function so to
write the client-side JavaScript
function I'm going to go into the head
and then specify script and the type is
going to be text slash JavaScript and
the language is going to be JavaScript
so this is where we will write our
function so function let's call this
ease even because this checks whether if
the number is even or not okay and for
consistency what we are going to do is
if you look at the server-side validate
method it has got two properties source
and arguments I'm going to use the same
parameters into this method as well so
I'm going to call this args I mean the
first parameter is source and the next
parameter is arcs so I'm going to have
these two parameters to this function
okay so what we are going to do now if
args dot value okay if that is empty if
that is empty then we know that it's not
a valid even number so arcs dot we are
going to set the East valid property to
false okay on the other hand if it's not
empty then we need to check okay if arcs
dot value if that divided by two is
equal to zero then we know that it's
going to be an even number in which case
we will set arcs dot valid is equal to
true
else we will set our valid is equal to
false okay so that's it we have the
method another JavaScript method all we
need to do now is to specify this as the
client-side function for the validation
control so how do we do that there is
another property called client-side
validation function so client validation
function and all you have to do here is
specify the name of the client-side
validation function here the name of the
function is easy even so I'm going to
specify that in this property that's it
we are done so now let's go ahead and
run this now the client-side validation
also should happen so now look at this I
enter maybe 45 I click away I am NOT
clicking the button I'm just clicking
away look at that not an even number if
I don't enter anything and then click
away still I have that because we said
you know the property validate empty
text is equal to true and then if I
enter a positive number 46 positive even
number look at that the validation error
goes away and when I click Save it gets
saved as expected okay so these are the
properties specific to the custom
validator on server-side validator this
specifies the name of the server-side
validation method that needs to be
invoked client validation function that
specifies the client-side validation
function and validate empty text
specifies whether the validator
validates the control when the text of
the control is empty
by default this property is false and
both the client-side and server-side
validation functions will not be invoked
if the associated input control is
obviously empty but if you turn it to
true then if the even if the text is
empty you know the functions will be
called and if there is a client-side
validation function on the client side
you know as soon as you empty of the
textbox click away the validation error
will be triggered
on this slide you can find resources for
asp.net c-sharp and sequel server
interview questions that's it for today
thank you for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>