<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 4   Customizing table, column and foreign key column names when using entity framework code fir | Coder Coacher - Coaching Coders</title><meta content="Part 4   Customizing table, column and foreign key column names when using entity framework code fir - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 4   Customizing table, column and foreign key column names when using entity framework code fir</b></h2><h5 class="post__date">2014-05-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XIlTTKjRzO4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">part four entity framework tutorial in
this video we'll discuss customizing
table column and foreign key column
names when using entity framework code
first approach this is continuation to
part 3 so please watch part 3 before
proceeding we will be modeling the
example that we worked with in the
previous session if you recollect from
part 3 of this video series this table
employees is auto-generated by the
entity framework based on this employee
class look at this foreign key column
name Department ID it has got an
underscore now let's say we want this
foreign key column name to be generated
as department ID without an underscore
in its name so how to control the
foreign key column name that is with the
help of this employee class so we want
the foreign key column name to be
department ID without an underscore so I
would create a public property with that
name look at this department ID it has
no underscore within its name and then
we decorate the navigation property that
is the department navigation property
with foreign key attribute passing in
this department ID property as a string
parameter let's look at that in action
keep in mind this foreign key attribute
is present in system that component
model data annotations dot schema name
space so let's flip to visual studio and
let's first create that public property
so public integer and let's call it
Department ID because that's how we want
the foreign key column to be named
without an underscore and then we
decorate this department navigation
property with foreign key attribute this
foreign key attribute is present in this
namespace so I have already you know
included that using declaration there
and then to the constructor of this
attribute we are going to pass the name
of this property as an argument
ok so let's build our solution and then
let's view this waveform in the browser
now keep in mind we already have this
sample database and if you look at this
employee's table
notice this department ID column it has
got an underscore within that now you
know after this database is created we
have changed the model based on which
the database is created and look at what
happened because of that the model
backing the employee dbcontext has
changed since the database was created
okay so the model has changed that's why
by default entry framework is going to
throw this runtime error we will discuss
fixing this error the right way in a
later video session for now to get
around the problem what I'm going to do
is I'm going to drop this database from
sequel's of a management studio so we no
longer have the sample database so let's
now go to visual studio and then view
this platform in the browser window so
now it is going to create the database
once again and then create employees and
department tables so let's refresh this
so we have the sample database there and
then we have both the tables in
departments and employees and if you
look at employees table look at the
department ID column it doesn't have an
underscore in its name now if we select
the data from these tables they will be
empty why because the database is
created from the scratch so obviously we
need to execute this
insert script to have the data populated
all right so to change the foreign key
column name we use the foreign key
attribute similarly if you want to
change the table name
so here the name of the class is
employee so by default entity framework
is going to generate the table as
employees but for some reason let's say
I want the table name to be TBL
employees then what would we do we would
decorate this class with table attribute
and then we can specify the name that we
want you know to use for the database
table name so we want that to be TBL
employees
similarly if you want for example first
name to be generated as first underscore
name then we would use the column
attribute so here we want to change the
column name so column and then we
specify the name that we want so we want
it as first underscore name okay
so let's build a solution and before we
view the waveform in the browser window
let's drop this data base otherwise we
are going to get the same error so let's
delete the data base so we no longer
have the sample data base
now let's view the webform in the
browser window so it's going to display
a blank webform it is still processing
meaning it's trying to create the data
base in the respective tables for us
okay and let's go ahead and refresh
databases and if we look at the
employees table first of all look at
that it's called TBL employees the name
is now changed to whatever we have
specified and if you look at columns
look at first name column it's called
first underscore name let's insert the
sample data and obviously if we execute
the script as it is we are going to get
an error because employees is now called
as TBL employees
so let's actually replace all this
instances of employees to TBL employees
so replace all and let's execute the
censored script okay and let's go and
refresh this page we should get the data
that we expect all right that's it for
today thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>