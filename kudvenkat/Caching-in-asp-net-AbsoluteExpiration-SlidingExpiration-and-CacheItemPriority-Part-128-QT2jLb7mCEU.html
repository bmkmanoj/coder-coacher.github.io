<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Caching in asp net   AbsoluteExpiration, SlidingExpiration, and CacheItemPriority   Part 128 | Coder Coacher - Coaching Coders</title><meta content="Caching in asp net   AbsoluteExpiration, SlidingExpiration, and CacheItemPriority   Part 128 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Caching in asp net   AbsoluteExpiration, SlidingExpiration, and CacheItemPriority   Part 128</b></h2><h5 class="post__date">2013-02-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QT2jLb7mCEU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to prism technologies I am
Frank ed this is part 128 of asp.net
video tutorial in this video we'll
discuss about absolute exploration
sliding exploration and cash out in
priority parameters of the insert and
add methods of cash object in part 127
of the asp.net video tutorial we
discussed about different ways to cache
application data there are three ways we
can either use direct assignment insert
method or add method insert method has
got several overloaded versions so some
of the parameters are optional
whereas add method has got no overloads
so we need to supply values for each and
every parameter in this video we'll be
talking about you know absolute
exploration sliding exploration and cash
it in priority parameters of these two
methods insert and add so when we cash
an item using insert or add methods we
can also specify how long we want that
item to be cached and basically there
are two ways to do that we can either
use absolute expiration or sliding
expiration so what's absolute expiration
it's a date time object that specifies
when the data should be removed from
cache and we specify absolute expiration
the cache item will expire at that time
irrespective of whether the cached item
is accessed or not so let's understand
what we mean by this with an example so
here we are caching this data set using
this key products data so the next
parameter is cache dependency for which
we are passing null at the moment we'll
be talking about cache dependency in a
later video session the next parameter
is you know absolute expiration
parameter look at the data type it's a
date time object so it's a day time
object that we specify you know
basically when this item is going to
expire from cache okay let's say for
example I want this item to stay in
cache only for 10 seconds then I'm going
to specify that using date time dot now
which is going to return the current
date and time to that I want to add 10
seconds meaning I want this item to be
cached for the next 10 seconds okay now
since I am using absolute expiration
here I am specifying
- no sliding exploration for sliding
exploration parameter okay so let's go
and run this so we have this code in the
button click event okay so that's when
the item is going to be cached so when I
click this button the item is written
from the database cached okay so I click
this again now look at this I got the
rows from cache I keep clicking it I get
it from cache as long as the item stays
in cache now every time you click this
button we are actually retrieving it
from the cache so irrespective of
whether we are accessing that item from
the cache or not okay once we cache that
item it's going to stay in memory only
for 10 seconds and it doesn't really
matter whether you access that item or
not when it is cached that's absolute
expiration but what's sliding expiration
so it's a timespan object first of all
there is a data type difference absolute
expiration we use date/time object for
sliding expiration we use timespan
object so a timespan object that
identifies how long the data should
remain in the cache after the data was
last accessed so once you you know
whatever is the time that you have last
accessed it from cache from that point
on how long do you want that items to
stay in the cache okay that's what is
specified by sliding expiration okay so
let's use sliding expiration so if I
want to use sliding expiration the first
thing I have to do is I have to specify
cache dot no absolute expiration for
absolute expiration parameter and I
specify sliding expiration using a
timespan object so times pan dot let's
say I want to cache this for 10 seconds
I'm going to specify time span dot from
seconds 10 so let's close this now let
me run this once again so once I click
the button you know get products that's
when this item will be cached and from
that point it's going to stay in cache
for the next 10 seconds now let's say
for example 6 seconds have elapsed now
if I click this button once again from
this point on for the next 10 seconds
again this item will be cached so every
time you access the item from the cache
from that point it is going to be you
know retained in cash for ten seconds so
that's sliding exploration but whereas
absolutely an absolute expiration case
it doesn't really matter whether you
axis that item from the cash or not from
the time you have cashed it it's going
to stay in cash for that duration that's
absolutely exploration okay now another
important point to keep in mind is you
can use any of these techniques you can
either use absolute exploration or
sliding exploration you cannot specify
both of them at the same time so what's
going to happen if I specify both of
them we already have sliding exploration
here let me go ahead and specify
absolute exploration as well so date
time dot now dot ad seconds so here
we're specifying both absolute
exploration and sliding exploration now
when I build the solution look at this
build solution on the status bar you can
see build succeeded so we don't get a
compile time error or build error but
then when I actually run this
application and then when I click that
button that's when I get an error so we
get a runtime error in case if you
specify both absolute exploration and
sliding expiration look at this when I
click this I get a run time AK error
stating absolute expiration must be
daytime that max value or sliding
expiration must be time span dot zero
okay so the next parameter that will
discuss about is cash item priority so
what is this cash item priority now we
know that if we want to control how long
we want to cash an item we can either
use absolute expiration or sliding X
paracin but that's only an indirect
control that we have over the cached
item but keep in mind anytime the web
server is running low on memory and if
it requires more memory it may remove
cached items that may not have expired
however the order in which these items
are removed from the cache is determined
by cached items priority and we specify
cash items priority using cash priority
enum so if you look at this this add
method and insert method has got another
parameter called cash item priority look
at that after sliding expiration the
next parameter is cash item priority and
if I right-click on that
anam and then say go to definition you
can actually see all the enum members
cache item priority it's an enum so
these are the values and if you look at
this low below normal normal default
above normal high not removable so
obviously this is the highest priority
not removable and then followed by high
above normal and then the rest of them
and you also have a clean summary here
what each priority means but basically
let's say for example I have three data
sets that I am caching let's say that's
one two and three let's say for example
here I am specifying this as not
removable and maybe this one as high and
this one as low for example so obviously
if you look at this one there are let's
say this is d s 1 and d s 2 and D s 3 so
we have three data sets let's say for
example that we are caching with these
priorities ok low high and not removable
now let's say the web server is running
low on memory but these cache items per
hour time has not expired they okay they
still have time to retain to be retained
in cache but then however at this point
the web server is running a low low on
memory so which item is is it going to
remove fast it's going to remove the
item that has got the lowest priority in
this case ds1 okay because it's priority
is low and after that if the web server
is okay with the memory it's not going
to remove both of this but in case even
after removing this item if still the
memory is not sufficient for the web
server to do its functions it's going to
remove further items but then it will
first remove you know between these two
it will decide which one has got high
priority using this parameter obviously
not removable has got the highest one so
it removes the data set that has got
this one you know ds2 in this case and
then finally even after that if it's not
sufficient it's going to remove the s3
so basically cache item priority enum is
going to determine the relative
importance of cached items okay but then
remember
it's only an indirect control that we
have all cached items okay so basically
we discussed about absolute expiration
sliding expiration and cache item
priority on this slide you can find
resources for asp.net c-sharp and sequel
server interview questions if you want
to receive email alerts when new videos
are uploaded please subscribe to my
youtube channel at the link that you can
see here if you like this video please
you know like the video by clicking on
the button at the bottom of this video
that's all for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>