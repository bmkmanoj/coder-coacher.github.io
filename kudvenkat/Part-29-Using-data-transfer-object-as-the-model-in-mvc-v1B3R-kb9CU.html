<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 29   Using data transfer object as the model in mvc | Coder Coacher - Coaching Coders</title><meta content="Part 29   Using data transfer object as the model in mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 29   Using data transfer object as the model in mvc</b></h2><h5 class="post__date">2013-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/v1B3R-kb9CU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 29 of asp.net MVC tutorial
in this video well disk is using data
transfer object as the model in MVC
please watch bar 28 before proceeding
with this video now let's say our
business requirement is such that we
want to display the total number of
employees by department at the moment
either of an employee or department
class does not have this total property
so this is one example where a data
transfer object can be used as the model
so our first step here is to add a class
that's going to contain these two
properties name and to tour
so let's slip to visual studio let's add
a class file to our models folder and
let's call it department totals dot CS
this class is going to contain those two
properties named and to tour to speed
things up I have these two properties
already implemented so let's copy and
paste them right here the second step is
to add an action method to this employee
controller which is going to return the
total number of employees by department
so let's make a copy of this index
action method and change it as required
let's name our action method as
employees by department and we want to
retrieve all the employees and include
department navigation property as well
and then we want to group by X such that
X dot Department dot name and then we
want to select Y such that a new
instance of our department totals and
this class has got two properties name
and total which needs to be populated so
name equal to Y dot key and to toe equal
to Y dot count now if this code is not
clear don't worry we're going to I'm
going to explain that in a bit and then
once we have that we're going to convert
this to a list and then we hand these
employees to the view for rendering so
the next step is to actually add a view
but before we do that let's try and
understand
Skol now if we have to write a sequel
query to retrieve the total number of
employees by department how do we do
that
we join employee's table with the
department and then we'd be group by
department name let's quickly actually
write that query
so select TBL department dot name and we
use the aggregate function count of star
as total from TBL employee table we join
that with DB our department on TBL
department dot ID is equal to TBL
employee dot department ID column and
then we basically group the results by
TBL department dot name so obviously
when we execute this query what output
do we get we get the department names
and the total employees within the
department so here look at this when we
use grew by the key column here is the
name column because that's the column
based on which we are grouping data and
then this total is going to return us
the total number of employees so and to
retrieve the total number of employees
what are we using here the count
function okay so similarly to get the
department name we are using the key
property of this why because we're using
group by and then to get the totals we
are using the count function okay now
let's say we want to you know basically
sort the department names based on the
employees there okay so if I want to
sort them in the descending order I can
use you know after after we convert that
to a list I can use the order by
function so we have order by descending
order by Y such that Y dot to toe so we
want to order by descending by total
column okay
so with these changes let's go ahead and
add a view let's actually build our
solution so that this employees by
department
I mean department totals class is
compiled so add a view let's call our
view as employees by department we're
going to make use of razor view engine
we're going to create a strongly typed
view against department dot department
totals class and I'm going to use list
as this careful template and let's go
ahead and add this so this should add a
view so employees by department view
okay so with all these changes let's
actually run this let's actually set the
font style to area and let's use a div
tag for that so div style is equal to
okay so that's the first thing and the
second change is actually for this table
right here let's set a border so border
is equal to one okay so these changes
let's go ahead and run this and then
actually navigate to employee controller
employees by department you know we have
that action method with another employee
controller so we're going to navigate to
that action method and look at that I
get the department name and totals we
don't want these links here edit details
and delete and to get rid of them all we
have to do is within this employees by
department view let's get rid of this
table head from there and then let's get
rid of this TD so these changes let's go
ahead and run this once again and
navigate to employees employees by
department view and notice that we get
the output as expected if you want to
sort this list in the ascending order of
total number of employees instead of
using order by descending simply use
order by okay on this slide you can find
resources free speed or net seizure ban
sequence of interview questions that's
it for today thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>