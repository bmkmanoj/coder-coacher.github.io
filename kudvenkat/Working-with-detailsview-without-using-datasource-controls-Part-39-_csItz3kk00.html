<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Working with detailsview without using datasource controls - Part 39 | Coder Coacher - Coaching Coders</title><meta content="Working with detailsview without using datasource controls - Part 39 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Working with detailsview without using datasource controls - Part 39</b></h2><h5 class="post__date">2013-03-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_csItz3kk00" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to presume technologies I
am Venky this is part 39 face be door to
grid view tutorial in this video we'll
discuss about working with details view
without using any data source control in
part 37 me discussed about using sequel
data source control and in per 38 we
discussed about using object data source
control in this video we'll discuss
about working with the details view
without using any data source control at
all
I strongly recommend to watch part 37
and 38 before proceeding with this video
so in the waveform lose it has to
display ID first name and city columns
within the grid we control and then once
I select an employee by clicking the
select button you know for the selected
employee we should show their full
details within the details view control
let's see how to achieve this without
using any of the data source controls
now the grid we control should display
four columns you know the first column
should be the template field which will
display the select button and then the
rest three fields should be you know the
boundary of heidi first name and city
so let's design of a grid view control
let's flip to visual studio let's drag
and drop a grid we control onto the
waveform and let's auto format this lets
choose brown sugar skiing and let's
click on this edit columns link button
within the grid view tasks and then
let's add a template field and then
three bound fields now the important
thing here is we don't want this grid
view to be auto generating columns so
i'm going to uncheck this checkbox Auto
generate fields and then if you look at
the template field within the grid view
control it doesn't have any header text
but the bound fields have had a text so
let's go ahead and set the header text
for the bound field so the first bound
field is going to have a header text of
ID and the data for this bound here is
going to come from the ID property of
the employee object and then for the
second bound field it's going to be
first name and the data field is going
to be first name as well and the third
bound field is going to be city and the
data field is going to be city
so click ok so we have finished you know
designing our bound fields now look at
the template field it doesn't have
anything within that but then when the
grid view renders we need a link button
there which when I click you know the
row should be selected and for the
selected employee the details should be
displayed within the deed details we
control so we need to select a link
button within the template here and to
do that click on edit templates link
from grid view tasks and then within the
item template drag and drop a link
button and then this link button go to
the properties and the text of the link
button should be select it could be any
you know text that you want but I am you
know setting that to select and another
important thing here is the command name
property so the command name I'm going
to set this to select full details again
this can be anything but I am setting it
to select full details in a bit we'll
see how we are going to use this command
name property and at this point let's
end template editing ok so obviously
when this waveform loots
you know we should show this data within
the grid view control and if you
remember in the previous session we have
built employee data access layer and
this employee data access layer class
has got two methods the first method is
get all employees basic details and if
you look at what this method is
returning it is returning a list of
employee basic objects ok and if you
look at this employee basic object it
has got these three properties ID first
name and city ok which is exactly what
we want to display within the grid we
control it's returning a list meaning
all the employees which is what is going
to act as the data source for our grid
view control so within the webform one
page load event so if it's not a
postback meaning if it is the initial
get request of this waveform then for
grid view one control the data source is
going to be employee data access layer
but get all employees basic details and
what is this method returning look at
the intelligence it's returning a list
of employee basic
objects so that will be the source and
then obviously we need to invoke the
data bind method okay so at this time if
I go ahead and run this as you might
expect all the employees details will be
displayed within the grid view control
and obviously when I click the Select
but nothing is going to happen because
we haven't written any code to respond
to that click event so let's do that now
so obviously when we click the select
button you know what
event does the grid control raises it
raises a true command event ok so let's
go ahead and generate an even handler
method for that event and to do that I'm
going to the properties of the grid view
control by pressing f4 and then click on
this lightning bolt symbol and then the
event is true command double click on
that to generate the event handler
method so what should happen within this
even handler method you know obviously
when we click that button the employee
should be the employee rows should be
selected within the grid view control
and for that selected employee the
detail should be displayed within the
details view control and to speed things
up I have I have already typed that so
let me copy and paste that within the
even handler method let's format this
properly okay another important thing at
the moment we don't have the details
view control on our waveform yet so
let's drag and drop the details view
control and let's sort of format that as
well let's choose brown-sugar scheme
okay so now let's go into the
code-behind file look at the even
handler grid b1 underscore row command
what are we doing here the first thing
is look at this we are checking if ye
dot command name is equal to select full
detail so now what is this e
there's nothing but grid view command
event arguments object okay so this
object has got a property command name
if that is equal to select full details
and if you remember we have set this as
the command name you know when when we
drag and drop that link button within
the item template so the command name
here is select full radial so if the
command name is select full details then
what we want to do we want to get the
row index in which the user has clicked
the Select index I mean a select button
because once we get that ruined exits
very
easy to select that row within the grid
we control look at this here we are
computing the roo index using this line
and once we have the ruined x we are
passing that to select a true function
which is going to select that row within
the grid view control for us and look at
how we are retrieving the row ending
it's pretty straightforward now look at
this this is where it all starts
ee dot command source what is the
command source we know it's the link
button because once I click this button
that's when the event is raised so the
command source here is the link button
so Yi dot command source will be the
link button that's why I'm typecasting
it to link button because command source
will return an object back we know that
we are expecting a link button so we are
typecasting it to link button and where
is this link button present this link
button is present inside a grid view row
object so this entire thing is a grid
view row within which we have this link
button and to get a reference to that
grid view row I am using the naming
container property okay so the naming
container is actually returning a
control back but we know it's going to
be a grid view row and we are
typecasting it to the grid view row and
the reason why we are typecasting it to
the grid view is because it has got this
row index property which we can use to
retrieve the index I mean row index
basically so we are selecting the row
and then look at how I am retrieving the
selected employees ID
so within the grid we control we have an
employee so we need this employee ID
okay so to retrieve the employee ID I am
using the selected value property of the
grid view control okay so how is the
selected value going to be populated
when we select a row within the grid we
control then you know basically we can
set a property on this grid view control
called data key names so data key names
is equal to ID column so that data the
key feel for this grid view control is
going to be ID because that's the
primary key within our TBL employee
table by which we can uniquely identify
an employee so the key field within the
grid Wickfield grid view is going to be
ID
so now when we select an employee row
within the grid we control what's going
to happen it will automatically populate
the selected value with the key field in
our case it's ID so this selected value
property will have the ID of the
employee that we have selected within
the grid view control okay
so using which we are retrieving that
employee ID and then all that is left
out is to call this method you know get
employee full details and pass it
employee ID and what is this method
going to return it's going to return an
employee object now the strange thing
that's happening here is you might be
wondering why are we even building a
list we'll understand that in a bit for
now I'm just going to copy that line and
I'm going to set that as the datasource
here look at this this method is going
to return and employ your object we are
setting that as the data source for the
details we control and invoking data
bind on details so you can draw I'm
going to comment this line and run this
at this time and see what's going to
happen we actually will get a runtime
error when we select an employee within
the detail grid view control okay look
at this I select this employee look at
this I get an error saying data source
is an invalid type so the data source
for details view one control is invalid
because it must be either an eye list
source ienumerable or eye data source
okay so it has to be some kind of a list
object okay so obviously to satisfy that
requirement what am I doing here I am
creating a list and employee list object
okay since this is a list of employee
object we need an employee object within
this list and what is this method
returning it's returning an employee
object and then I will use this list as
the data source for our details view
control which should work as expected so
let me run this now everything should
fall in place automatically okay so I
select Pam record look at this time
record is selected and I see all the
details within the details view control
as expected all right on the slide you
can find resources for asp.net C sharp
and sequence of interview questions
that's it for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>