<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Object datasource in asp net   Part 3 | Coder Coacher - Coaching Coders</title><meta content="Object datasource in asp net   Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Object datasource in asp net   Part 3</b></h2><h5 class="post__date">2013-02-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AAMF9oenCFQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so welcome to prism technologies I am
venket this is part 3 of phase B dot net
grid-view tutorial in this video we'll
discuss about object data source control
in asp.net in part 2 of the asp.net
caseview tutorial we discussed about
sequel data source control please watch
part 2 before proceeding with this video
sequel data source control includes
sequel queries in the HTML of the aspx
page so if you remember this is the
sequel data source control that we were
working with in part 2 notice that we
have connection string and the Select
query in the HTML of the webform so
including sequel queries like this in
the HTML of the aspx page will tightly
couple this page with the database
schema later if the database schema
changes for some reason then we will
have to change these pages as well so
this may lead to the complexity of the
project that's why in real-time sequel
data source control is very rarely used
in real-time usually projects are
developed in a layered architecture it's
very common for projects to have layers
like presentation layer business logic
layer and data access layer presentation
layer is usually the asp.net web
application project where we have web
forms in their respective code behind
files
whereas business logic layer is usually
a class library project which include
all our business objects like customers
orders products etc whereas data access
layer is also a class library project
but that is responsible for all the
database crud operations like inserts
update delete set cetera usually the
presentation layer calls business logic
layer which in turn will invoke data
access layer and the data access layer
performs the accreditation like inserts
update delete etc and in reality we may
have each layer implemented in its own
project but for the purposes of this
demo we will include the data access
layer in our expert or net web
application now what we actually want to
do is in the data base we have this
table TBL products which has caught the
sample data now I want to display this
data in my asp.net web application in
this current view control and I want to
do that using object data source control
so obviously the first step is to create
my data access layer now look at this as
I told you in reality you know
presentation layer calls business logic
layer which in turn calls data access
layer and then data access layer
performs the crud operations on the data
base but just to demonstrate object data
source control I'm going to include data
access layer within the presentation
layer itself in this asp.net web
application project and again as I told
you presentation layer it's uncommon for
presentation layer to call data access
layer directly but just as I told you to
demonstrate object data source control
we are going to include you know the
data access layer within this project
and the project the presentation layer
is going to directly call the data
access layer okay so let me add the data
access layer class to this project and
I'm going to call this product data
access layer dot CS and now within this
file I am going to include another class
now look at this in this table we have
several roles in TBL products table and
obviously each row is a product so I'm
going to create a class which represent
these products and that class is going
to have ID name and description property
so each column is being converted into a
property of that class and just to speed
things up I have this already typed so
let me copy and paste that there so if
you look at this I have this class
called product and it has got these
three properties and look at this these
are Auto implemented properties and we
have discussed about properties
extensively in c-sharp video tutorial so
if you're new to them please check those
videos on properties alright so and then
I have this product data access layer
class so I'm going to have a method in
this class which is going to actually
connect to sequel server execute a
sequel query select star from TBL
products retrieve these products and
then convert those products into a
product object and then return a list of
all those products back to whoever is
going to call this function so again I
have this already type so let me copy
and paste that
now we have some compliation errors
that's because of missing using
statements so let's go ahead and add
them configuration manager class is
present in system configuration so using
system configuration and sequel
connection object is present in system
dot data dot sequel of line namespace
and let's also use system dot data okay
that should have got rid of all the
compilation errors there and notice this
in this class product data access layer
car class I have this method called get
all products and this is a static method
meaning I don't have to create an
instance of this class to invoke this
method and notice the return type of
this method it is actually returning a
list of products you know product is
what we have just defined okay so
obviously as this method is returning a
list of products I am creating a
variable you know of type list of
products and this is going to contain
all our products that this method is
going to return back so obviously to
retrieve those products we need to
connect to the database so we have this
I mean we have this configuration
manager class which is reading the
connection string from web config file
which is pointing to a sequel server
that's installed on my local machine and
then using the connection string we are
creating a sequel connection object and
then we are preparing our sequel command
object and notice that select star from
TBL products which is going to retrieve
all the products from that TBL products
table we are opening the connection
executing the command loading them into
this reader object and while we are
looping through each row within that
reader we are converting you know the
column values you know we are retrieving
those column values and storing in the
respective properties of that particular
object so ID column values stored in the
ID property of the product object name -
name description - description and then
we are adding that product object to
this list and then after we finished
looking through each product we are
returning that list of products back ok
so we are done with creating this data
access class ok so now what we basically
want to do is whatever data that is
being returned by this method
you know I want to display that in the
gridview control and obviously to do
that I have to use object data source
now look at this this is my object which
contains this method so object data
source when we actually drag and drop
that on the waveform we have to give it
two pieces of information the type that
is the class which contains your method
so that class is Product data access
layer and notice that this is actually
present in demo namespace okay so that's
the type which contains the method which
is going to return the data and then
obviously the method name itself all
right so let's flip to waveform one now
let's drag and drop an object data
source control onto the waveform so
object data to source control now let's
go and configure that configure
datasource and look at this choose your
business objects so from here
demo dot product data access layer so
that's the class which actually include
you know contains my method now
sometimes when you actually click on
this button and then when you say
configure data source within the
drop-down list you may not see your type
if that's the case simply rebuild your
solution okay so once you build your
project the type should appear if it's
not already present in that drop-down
list so configure datasource let me
choose demo dot product data access
layer click Next that should show us the
method get all our products and then
look at what it's returning it's
returning a list of products back ok so
that's the method which actually returns
the data and click finish so we are done
configuring our object datasource
all that is now left is to associate
this object datasource with this grid
view control and how do we do that click
on the smart tag button of the grid view
control choose the data source which is
nothing but object data source one and I
am done so now if I flip to the source
mode look at the object data source now
it has two properties here type name
which is nothing but product data access
layer which is present in demo namespace
so this class this is the type which
contains this method that is going to
return the data that I need and we are
associating this object datasource
this grid we control using this data
source ID property that's it let's go
ahead and run this and we should see the
data in this grid view control okay so
we have our data there and we will
discuss about asp.net web applications
with n-tier architecture and the
differences between layers and tiers in
a later video session on this slide you
can find resources for asp.net c-sharp
and sequel server interview question
that's it for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>