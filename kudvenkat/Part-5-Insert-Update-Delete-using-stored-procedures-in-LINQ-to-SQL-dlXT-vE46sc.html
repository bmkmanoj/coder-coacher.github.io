<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 5   Insert Update Delete using stored procedures in LINQ to SQL | Coder Coacher - Coaching Coders</title><meta content="Part 5   Insert Update Delete using stored procedures in LINQ to SQL - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 5   Insert Update Delete using stored procedures in LINQ to SQL</b></h2><h5 class="post__date">2014-09-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dlXT-vE46sc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 5 of length 2 sequel -
toriel in this video well disk is using
stored procedures to perform insert
update and delete this is continuation 2
part 4 in part 4 we discussed using
stored procedures to perform a select
the first step here is to create the
insert update and delete stored
procedures so let's flip the sequel
server management studio and here I have
the transact sequel code to create the
insert update and delete stored
procedures
I'll have this entire sequel available
on my blog in case you need it now let's
execute this code and let's refresh the
stored procedures folder notice we have
all the stored procedures created now
let's go back to visual studio and then
within the server Explorer refresh the
stored procedures folder notice that we
have all these stored procedures there
now let's drag and drop these stored
procedures onto the link to sequel class
designer surface so delete employee
insert employee and update employee now
notice that for each of the stored
procedure there is a respective C shall
function created automatically now all
that is left is to map these functions
with this employee entity so anytime we
are performing an insert update or
delete of an employee we want to use
these methods which in turn are going to
call these two procedures right so we
need to configure that behavior and in
order to do that simply right click on
the employee entity and select configure
behavior option so here the class is
going to be employee the behavior that
we are configuring is insert and instead
of using runtime we want to customize
that and use insert employee method and
look at this the link to sequel class
does a pretty good job in terms of
mapping the method arguments with the
class properties so map the department
ID method argument with department ID
class property
similarly first name - first name gender
last name and salary so click apply so
we have configured the insert behavior
let's configure the update behavior so
here we want to use update employee and
again the mapping is done and finally we
want to configure the delete behavior
and we want to use delete employee
apply.click ok so we have configured
this now so within the code-behind file
we don't need to do anything so let's go
ahead and run this application and let's
fire up sequel profile to make sure
these tool procedures are being called
let's run a new trace now first let's
get data so at the moment we have seven
employees there let's insert a new
record so the ID is nine let's go back
to sequel profiler and look at this
we should have inserts to receive your
call look at that in third employee
stored procedure is called and for those
parameters these are the values that are
supplied Tim de Mayo right so inside
stored procedure is called now let's go
ahead and update an employee so we want
to change
Tim's salary from 55,000 to 65,000 we
have already returned that code in the
previous video sessions so let's click
update now we have an error here that's
I think basically because it's trying to
load an employee with the ID 8 but if
you look at the data that we have here
we don't have any employee with ID 8
that's why it throws that error so let's
quickly fix that so now the employee
that we actually want to edit is the one
with ID 9 so let's change the ID there
and let's also change it but then delete
click alright so let's go and run this
one more time
our sequel profiler is still running
let's clear this trace and let's get
data and let's update Tim's record so
notice that 65 thousand now let's go
back to sequel profiler we should have
the update employees to a procedure
called so let's clear this trace again
let's go and delete employee so it
should delete Tim's record stop the
trace and look at that
delete employees to a procedure is
called
that's it today thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>