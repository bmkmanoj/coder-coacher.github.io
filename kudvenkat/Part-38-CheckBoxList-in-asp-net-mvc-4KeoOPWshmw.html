<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 38   CheckBoxList in asp net mvc | Coder Coacher - Coaching Coders</title><meta content="Part 38   CheckBoxList in asp net mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 38   CheckBoxList in asp net mvc</b></h2><h5 class="post__date">2013-06-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4KeoOPWshmw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 38 of asp.net MVC tutorial
in this video we'll discuss implementing
checkbox lists in asp.net MVC please
watch by 37 before proceeding we'll be
using this table TBL city for this demo
for every city that we have caught in
this table we want to generate a
checkbox control if the user selects
multiple cities and then once he clicks
on the submit button we want to display
a message stating you selected and
whatever cities the user has selected on
the other hand if the user didn't select
any city and then once he clicks on a
submit button then we want to display a
message stating you didn't select any
city let's say have to achieve this
let's flip to visual studio and to
retrieve data from the database we'll be
using a do dotnet entity framework so
obviously the first step here is to add
a do dot in the entity data model so
let's right click on the models folder
add a new item click on data under
install templates select a do dotnet
entity data model and let's name this
sample data model click Add and we want
to generate the model from database
select that click Next and give a name
to the connection string sample DB
context and aadya dotnet entity
framework is going to automatically
generate a context class for us with the
same name which we will be using to
connect to the database so click Next
this is going to connect to the database
and retrieve all the tables views and
stored procedures that are present
within the database and we want to
generate an entity for TBL city tables
so let's go and select that and we want
our entities to live in a namespace
called models click finish
so this should generate an entity with
named TBL city but we want our entities
to be called as you know city instead of
TBL city so let's change it accordingly
and then save everything let's go ahead
and build the solution and now let's go
ahead and implement the home controller
now notice that ad or dotnet entity
framework has automatically general
two class two classes for us one is the
sample dbcontext class which will help
us connect to the database automatically
and the other one is the entity class
you know the city class and this city
class is going to have you know
properties for these three columns ID
name and he selected all right and
notice that these classes are actually
living in this namespace and we see demo
dot models since we want to use these
classes within our home controller let's
go ahead and include this namespace
within the home controller so let's use
the using statement and we see demo dot
models and then let's implement the
index action so with an index action I'm
going to create an instance of a sample
dbcontext class and then this class has
got this cities property which is going
to return the list of cities and we are
going to pass the list to the view for
entering and before we add the index
view I'm going to create you know an
editor template to display an editor for
city in a bit you will understand how we
are going to make use of these editor
templates so what I'm going to do here
I'm going to add a folder to the views
so I'm going to right click on views add
a new folder and let's name this home so
this folder is going to contain all the
views related to the home controller and
within this home folder I'm going to add
another folder and I'm going to name
this editor templates so all the editor
templates related to you know home
controller are going to live in this
folder okay and I'm going to add a view
to this folder and let's name it city
now I want this template to be an editor
template for city class so I'm naming
the view with the same name as that of
the class so we give the editor
templates and display templates the same
name as that of the types that is
classes or structures we'll discuss you
know editor templates and this
they templates in a great detail in a
later video session so the name of the
view is going to be City we're going to
make use of razor view engine and we are
going to create a strongly typed view
against City and so now the scaffold
template is going to be empty so let's
click Add so this should generate city
view and then notice that the model for
this view is going to be set a I am
going to get rid of the rest of the code
here so now if you look at the city
class it should have these three
properties ID name is selected now
whether it's a checkbox is selected or
not you know which property is
determining that is selected property of
city class okay so I want to have a
checkbox control to be generated and to
generate a checkbox control in MVC we
can use check box for HTML helper so at
HTML dot check box for and we are going
to pass a lambda expression here and
this expression is going to determine
whether you know look at this whether
this check box is selected or not which
property is going to determine that each
selected property so that's what we are
going to pass as the lambda expression
here so X such that X dot is selected
and what is X here nothing but the model
for this feel and look at this is
selected is going to return true or
false
all right now after the check box is
displayed next to the check box we want
to have the city name and to display the
name of the city I'm going to use
another helper called display form and
then lambda expression identifying the
name of the city okay so this is going
to demand whether the check box is
selected or not and this is going to
display the name for the check box okay
and then you know I want to also retain
the ID and the name then when we post
this form you know when we post this
form back to the server we want to
retain the value for you know the ID
which is not
the depower RCT ID and then the name of
the city now at the moment to display
the name of the city we are using
display for template so if I have to
remember and post the value city value
city name value back to the server then
I have to store it somewhere so I'm
going to use a hidden fee lengths to
both ID and name so add HTML dot hidden
for X such that X dot ID and similarly
I'm going to use another hidden control
to store the name okay so this is the
editor template for our city for
individual City and then now let's go to
the home controller and actually add the
index view so add a view the name of the
view is going to be indexed we're going
to make use of laser view engine and we
are going to create a strongly typed
view against City and for now this
careful template is going to again be
empty so let's click Add so this should
add index view within the home folder
now look at this on the view we want the
list of cities so the model for this
view is actually going to be I
enumerable of cities
and then let's use a diptych and set the
font family to area
okay so now we need to generate the form
tag and to generate the form tag we can
use begin form HTML helper
so this is going to generate the opening
and closing form tag for us and within
this now notice this we are going to
make use of this editor template in this
index view so what I'm going to do here
I'm going to use an HTML help here
called the editor for editor for model
okay now notice that here the moment we
call this function editor for model MVC
by convention what it's going to look is
it's going to look for a an editor I
mean a template with the same name as
that of this type so what's the model
for this class city okay so and and the
type is basically nothing but the class
ok the type here is City so is there a
template with the same name as that of
this type either in the folder way we
have this view so here there's a folder
called editor template so it's going to
look in the inside that folder okay so I
have a template with the same name so
this method call it's automatically
going to use that template here because
the template name matches the name of
the class that is the type name okay and
then we want an HTML break and then a
button to submit the page so I'm going
to use an input type is a equal to
submit value is also going to be submit
so obviously when we click on this
button what's what's going to happen
it's going to post the page to the
server and when that happens we need to
have an action method within the home
controller to handle that so let's add
another index action method so this
index action method is going to respond
to the get operation so let's decorate
that with HTTP GET attribute and this
action method should respond to the post
operation so let's decorate this with
HTTP POST
all right so when we actually post this
form it's going to receive this list of
City objects which is nothing but by
innumerable of City objects so this
function is going to receive I
enumerable of City and let's name it
cities and if you remember what message
we want to display if the user didn't
select any of the cities and then once I
click on the submit button we want to
display message stating you didn't
select any city and for now let's return
just a simple string from this
controller action method so if the count
of this city is X such that X dot is
selected so if they say if each selected
property is if the count is zero then we
know for sure you know no cities are
selected in which case we want to in
order to land a message stating you
didn't select any City
on the other hand you know if this
condition is false then we know for sure
the user has selected a city in which
case we want to build a message stating
you selected and whatever cities the
user has selected and to build that
message I'm going to make use of string
builder class and this thing builder
class is present in a different
namespace called system dot text so
let's go ahead and include that and
let's create an instance of the string
builder class and let's append a string
s B dot a pan so you selected and then
we are going to loop through each city
so for e to say day in the city's
collection that is coming inside this
action method so we are going to loop
through the ad and if CT dot is selected
if that is selected then we want to you
know to this message we want to append
the name of the city so what we are
going to do
SB dot append to the string builder city
dot name and then we want a comma next
to that so if you have selected multiple
cities you know we want to display you
selected New York comma Sydney comma
mumbai whatever the user has selected so
this is what is going to display that
comma and then finally we want to return
the string builder object in the form of
a string so convert that to string and
return that back ok but then notice that
with this code what's going to happen is
if I select two cities for example New
York and Sydney there's going to be
comma in the end New York comma Sydney
comma we don't want that comma in the
end so let's get rid of that and how do
we do that we can use of a string
manipulation a function so let's
actually see that in action so SP dot
there is a function call
remove and then to remove some
characters from that string you need to
specify the start index and how many
characters you want to remove okay so I
want to retrieve here the last index of
the last comma within that string and to
do that so let's use that string builder
object dot to string and then get the
last index off comma so that is going to
give us the start index from where you
want to remove characters and the next
parameter is going to be how many
characters what is the number of
characters that you want to remove only
one that's it with all these changes
let's actually go ahead and run this and
see if it works a little so now it
should display for each city a checkbox
control within this index view okay
so let's select New York and say then
click on submit notice that you selected
New York Sydney on the other hand if I
don't select any of the cities click
Submit
you didn't select any set a alright on
this slide you can find resources for
asp.net c-sharp and sequence of
interview questions that's it for today
thank you for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>