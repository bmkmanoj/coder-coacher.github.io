<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Display data from two or more database table columns in asp net dropdownlist | Coder Coacher - Coaching Coders</title><meta content="Display data from two or more database table columns in asp net dropdownlist - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Display data from two or more database table columns in asp net dropdownlist</b></h2><h5 class="post__date">2016-11-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-oDS1Zz_qOA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">they say is part 172 of a speed or net
tutorial in this video we'll discuss how
to display data from two more database
table columns in an asp.net drop-down
list let me explain what I mean on the
Left right here we've got a database
table with three columns ID currency and
rate and here is what you want to do we
want to combine the data that we have in
the currency and rate columns and
display that in the drop-down list as
you can see here let's assume we are
selling an item online and then we want
the price of that item to be available
in four different currencies Dollar Euro
Pound and rupee so to achieve that we
want to combine the data that we have in
currency and rate columns and set that
as the data text field for the drop-down
list and the value that we have in the
ID column is going to be the data value
field for the drop-down list so let's
see how to achieve this obviously the
first step here is to create this
database table which I have already done
so let's flip to sequel server
management studio here is the sequel
script which is going to create sample
DB database and here we have the script
to create the table itself with those
three columns and here we have the
script to populate it with test data now
as far as this dollar and pound symbols
are concerned we have them on the
keyboard but we don't have euro and
rupee symbols to get euro and rupees
symbols use these to select statements
select care of 128 is going to give us
the Euro symbol and select care of 83 77
is going to give us Indian rupee symbol
notice we get the euro and rupee symbol
so we just need to copy these two and
paste them within our insert statements
but one important thing to keep in mind
is that do not forget to include this
letter n before the Indian rupee symbol
within your insert statement otherwise
when you select the data from the table
you are going to get question mark
instead of rupee symbol i've already
executed the script so when we select
the data from the table
we have our four rules there I have also
created a blank asp.net webforms project
I named it demo and within the web
config file we have a connection string
that points to our sampled immediate
base the name of the connection string
is sample DB it's pointing to the
sequence of an installation I have on my
local machine the database name is
sample DB and we are using Windows
authentication and I also have added
that from one to a project and dragged
and dropped a drop down list from the
toolbox onto the waveform and I have
changed its ID to DDL price now let's
get to the code behind file and here we
are going to write some ad or dotnet
code so let's bring in three idiot or
net namespaces we need system
configuration system data and systems or
data dot sequel client and I'm going to
include a private method here this
method is not going to return anything
and let's call this method bind data set
data so we are going to retrieve data
from the sequel server database table
store it in the data set and then use
that data set as the data source for our
drop-down list so the first thing that
we are going to do here is read the
connection string from the web config
file for that we are going to use the
configuration manager class and use the
connection strings property the name of
the connection string is sample DB so
let's copy and specify that right here
so we want a connection string with that
name the next thing that we want to do
is create a sequel connection object and
to the constructor of this class we need
to specify the connection string that we
have read from web config file and next
we want to create a sequel data adapter
let's call the instance DA now to the
constructor of this class we need to
specify two things
the sequel command that we want to
execute and the connection which we want
this adapter to use to execute that
sequel command so we are going to
specify the sequel command as a string
and our select statement is select star
from TBL rates table and we want this
adapter
to use the sequal connection object that
we have already created and next let's
create a data set object let's call the
instance D s and then let's use the data
adapter fill up method and fill the data
set so this fill method is going to open
the connection to the sequel server
execute the Select statement retrieve
the data and fill it in the data set and
it is also going to automatically close
the connection the next thing that we
want to do is set the data source for
our drop-down list so the data source is
going to be the data set and finally
let's call the data bind method all
right so within our page load event if
not is post back so if it is the initial
get request all we want to do is call
bind data set data so at this point
let's run the application by pressing
control f5 and see what we get notice
what we are getting here within the
drop-down list we have system door data
dot data row view why is this this is
because we have not specified for the
drop-down list what columns from this
table to use for the display purpose and
what column to use as the value for the
drop-down list we specify that by
setting data text field and data value
field properties so we want to combine
the data that we have in these two
columns for the data text field and for
the data value field we want to use the
value that we have in the ID column so
let's do that now let's flip to visual
studio so DDL price which is our
drop-down list dot data value field
equals the value that we have in the ID
column DDL price dot data text field
equals now for data text field we want
to combine the data that we have in
currency and rate columns so can we do
this so we want the data that is present
in the currency column plus we want the
data that is present
in the rate column now let's see what's
going to happen when we do this let's
build a solution and reload the page
notice we are getting ello screen of
death look at the error message system
tour data dot data review does not
contain a property with name currency
rate so basically within the data set it
is looking for a column with named
currency rate because we are
concatenated currency and rate strings
now if you look at the result set that
we are getting from the database we
don't have such a column within the
result set and this is the result set
that is being stored in the data set so
in the data set also we don't have such
a column so this data set is set as the
data source for the drop-down list and
hence the page throws this error now to
fix this do the data set let's add a
column data set dot so within the data
set we have tables of 0 that's our first
table and to the columns collection
let's add a column let's give it a name
let's call this currency and rate you
can give any meaningful name that you
want and then we need to specify the
type of the column it's going to be
string type so let's use type of keyword
and then specify string and finally we
have to tell where the data is going to
come for this column it's going to come
from the currency column and to that we
want to append space a single space so
if you look at what we have in the
drop-down list we have the currency
symbol a single space and then the value
from the rate column so we want the data
from the currency column and then a
single space so I'm using single quotes
for that and then the data from rate
column so this is the new column that we
added to our data set and this column is
going to contain data from the currency
and rate columns
and now we are going to set this as the
data text field for our drop-down list
let's build a solution and reload the
page notice now we get the data as
expected at the moment we are using a
data set now let's see how to achieve
exactly the same thing if we are using a
data reader instead of data set so the
first thing I'm going to do here is make
a copy of this method and let's change
the name to bind data read the data then
we are going to use using block here
which is automatically going to close
the connection for us and instead of
using sequel data adapter we are going
to use sequel command let's call the
instance CMD equals new sequel command
and instead of data set we are going to
use sequel data reader let's call the
instance Rd R equals command dot execute
reader and before we execute the command
we have to explicitly open the
connection so let's call open method on
the connection object execute the
command with the reader we'll have the
data so we are going to use the while
loop to loop through each row that we
have in the reader object all right so
now within the while loop I'm going to
create a list item object now what is a
drop-down list a drop-down list is a
collection of list item objects so as we
loop through each row we are going to
create a list item and then add that
list item to the drop-down list let's
call the instance li equals new list
item and we need to specify two things
for the list item the text that we want
to display and the value that we want
for the drop-down list so the text is
going to come from these two columns
currency and rate and so we are going to
use the RDR the reader object we have
and we are going to ask for the value
that is present in the currency column
and to that we want to append a single
space and then we want to append the
value that we have in the rate column
that is going to be the text for the
drop-down list and the value is going to
come from the ID column and we want to
convert that to strings so let's use two
string method so we have a list item
object there all that is left is to add
that to the items collection property on
the drop-down list alright so that's the
code required to bind the data reader to
the drop-down list so this is easier
than using a data set and with our page
load instead of using bind data set data
method we are going to use bind data
read of data method let's build a
solution and reload the page notice we
get the same data as expected so here we
have the data set code and here the data
reader code thank you for listening and
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>