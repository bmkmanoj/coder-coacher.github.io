<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Difference between ViewState, SessionState and ApplicationState in asp.net   Part 5 | Coder Coacher - Coaching Coders</title><meta content="Difference between ViewState, SessionState and ApplicationState in asp.net   Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Difference between ViewState, SessionState and ApplicationState in asp.net   Part 5</b></h2><h5 class="post__date">2012-10-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Lvt1BnSwRvo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to presume technologies I
am venket this is part 5 of asp.net
video series in this session we'll learn
about the differences between mu state
session state and application state
variables in fact this is very commonly
asked asp.net interview question and
it's also very helpful for us to know
the difference between these so that we
can choose the right type of variable to
suit our needs in an application
development before continuing with the
session I strongly recommend to watch
parts 3 and 4 of this video series let's
look at an example let's flip to visual
studio here I have a very simple asp.net
web application project created which
has got a view state one dot aspx
waveform and on this webform I have two
controls a text box and a button control
and if you look at the code behind of
this page I have a very simple six to
seven lines of code here let's actually
run this application and see what's what
it's doing at the moment and then we
will walk through the code now you know
you have this text box in button control
here initially when the page is loaded
you know when it said when it's the get
request for this view State one dot aspx
page a value of zero is displayed in
this text box and I click the button
once a value of one is displayed I click
it again to the time three so every time
you click the button the clicks count is
displayed in that text box now let's see
how we have achieved thus to achieve
this we have actually made use of a view
state variable here okay so in the page
load event handler for view state one
page you know I have this condition if
not is postback if the request for view
state one page you know if it's not a
postback request if it's a get request
then check whether if view state of
clicks is now and if it is null store a
value of zero within that view state of
clicks variable and then what we are
doing we are using that view state of
clicks to initialize the text property
of textbox one control so here view
state of clicks is initialized to zero
which in turn is used to initialize the
text property of textbox one
so when we actually request view state
one dot aspx you know when we type the
URL + enter it's like the get request
for that view state one dot aspx so a
value of zero is is displayed because
that that's what we have told it to do
and then when I click the button what's
going to happen when we click the button
the view state one dot aspx page will be
posted back to the server so a new
instance of view state one dot aspx page
is created and then the page load even's
get fired you know gets fired again and
then this piece of code will not be
executed because it is a postback
request okay we told this to be executed
only if not is post back so this piece
of code will not be executed so it will
come to the button click event and we
know in view state of clicks at the
moment the value is zero so we are
taking that value incrementing that by
one and then storing that value in
clicks count variable which in turn we
are using to set the text property of
textbox one control so you see a value
of one in the textbox when I click this
button one time and then finally look at
this we are storing that incremented
value back in view state of clicks so
next time when I click the button again
what's going to happen at the moment
view state of clicks value is one so we
are taking that value out adding one to
it and then storing it back in the
clicks count variable and then we are
using that to set the text property of
textbox one control and finally storing
it back again in the view state of
clicks variable that's why every time
you click this part and the value gets
incremented as expected all right now
let's do let's add another waveform to
this asp.net web application project and
to do that I just right click the
project name add new item and I choose
wave form and let's call this view state
to dot aspx so view state to dot aspx
click add that should add that waveform
now what I'm going to do I'm going to go
back to view State one copy the button
and the textbox control go to view state
two dot aspx
flip to the design mode paste the two
controls there so the design of you
state 2 and view state 1 is exactly same
now I'm going to copy the code as well
from view state 1 dot aspx and paste
that in the code behind page of view
state 2 dot aspx page let's do that so
let's go to the code behind page of view
state 2 dot aspx and paste that same so
if you look at this we have two web
forms view state 1 and view state 2 dot
aspx which has got exactly the same
design and the same code behind
so now let's highlight view state 1 dot
aspx then this project so we are on view
state 1 dot aspx page now i click on
this page once twice thrice look at this
the value is 3 here now in the browser
i'm going to navigate to view state 2
dot aspx just by typing in the URL of
that page press enter
so the moment I navigated to view state
2 dot aspx look at the value of you know
that you see in the text box okay it's
it's reverted back to 0 that's because
view state variable of webform 1 is not
I mean miu state variable in view state
1 dot aspx is not available in view
state 2 dot aspx so this proves that
view state of one waveform is available
only within that webform okay so when I
click this button on view state do look
at this at the moment the value on view
state 2 dot aspx is 5 but the moment i
navigate to view state 1 look at what's
going to happen view state 1 dot aspx
you know it's not able to use the clicks
you know view state variable on view
state 2 page you know whatever we have
you know on view state 2 dot aspx that
value you cannot refer to that same
value on view state 1 dot
aspx so basically the point is view
state of a webform is available only
within that webform okay now where is
this view state stored is it stored on
the web server or is it stored on the
client it's actually stored on the page
in a hidden field and we have looked at
that in the previous video session okay
so it's actually stored on the page so
if you look at this when I double-click
you know click that the value gets
incremented now if I right-click the
page and say view source there will be a
hidden field called underscore view
state okay so this is the hidden field
used by asp.net you know to store the
view state variable value and if you
look at the value here it's actually you
know it looks like something encrypted
it's actually not encrypted it's encoded
it's base64 encoded on the server it
gets base64 decoded in the page init
event and then load it back into the
variable or a control okay so view state
data is not stored on the web server or
on the client it is actually stored on
the page in this hidden variable called
underscore view state so view state is
stored on the page in a hidden field
call underscore view state now because
this view state is stored on the page
you know if you close the browser or if
you navigate away from the page you know
so if you close the browser or you
navigate from that page to another page
what happens the view state will
basically be lost and that's what we
have seen just now okay so I am
currently on view state one dot aspx I
click it five times look at this I click
it I clicked it six times the moment I
navigate away from view state one dot
aspx to view state two dot aspx look at
that on view state two it's showing zero
I click it once twice and then if I come
back to view state one dot aspx look at
what's going to happen it's reset to
zero why because once you navigate it
away from you state one dot aspx 2mu
state two dot aspx
the viewstate data of viewstate one dot
aspx page is basically lost along the
same lines if you close the browser
again the view state is gone because why
that hidden field is stored on the page
that's the reason why you lose it when
you close the page or when you navigate
away from that page okay and view state
is used by all asp.net controls to
retain their state across postback and
we have spoken about this in the
previous session of this video series
now let's look at session state and to
understand session state variable what
I'm going to do I'm going to add a
webform okay let's call this session
state one so session state one dot aspx
and click add so that should add a
session state one dot aspx now while we
are here let's add another webform
session state two dot aspx so I'm going
to add this session session state two
dot aspx click Add okay so session state
one and session state two what I'm going
to do I'm going to go back to view state
one copy the design from there instead
of copying it from design I'm going to
copy it from the HTML which is much
easier so copy that go to session state
one HTML and paste it there so on the
page I am actually using the same design
on session state one dot aspx as well
I'm going to view state one code behind
page copy that code I'm going to paste
that in session state one dot aspx and
look at what I'm going to do here I'm
going to change wherever I am using view
state of clicks I'm going to change that
to a session state variable by just
typing in session okay and I'm going to
copy paste that wherever I have view
state that's that I am not changing any
other logic here all I am doing is
instead of using a view state variable I
am making use of a session state
variable and let's copy this code and
paste it on
in a session state to dot aspx as well
and then obviously we need to copy the
design as well into session state 2 so
I'm going to go back to session state 1
copy the HTML and paste that in session
state 2 all right so now let's select
session state 1 save everything ctrl f5
so we are on session state 1 dot aspx
page now and look at this I click the
button once twice thrice ok the value
currently is 3 instead of using you know
the logic is very much similar except
that in session state 1 dot aspx page
instead of using the view state variable
I am using a session state variable
session of clicks ok so now let me
navigate away from session state 1 dot
aspx to session state 2 dot aspx ok the
moment I do that look at this even when
session state 2 dot aspx loads I am
currently on session state 2 dot aspx
look at the value it didn't get reset to
0 okay it still stayed at 3 that is
because session state data is actually
shared across all waveforms we know that
view state is available only within that
webform if you navigate away from that
webform you know the view state is
basically lost because few state is
stored on the page and view state of one
webform is not available in another
waveform by default whereas session
state data is shared across all web
forms so I click 4 5 6 7
look at this on session state 2 dot aspx
the value is 7 now if I type in session
state 1 dot aspx in placenta look at
that it retains that value 7
why because session state data is
available across all pages but then let
me make another change let me go to web
config file
and then within web.config file I added
this element session state underneath
system dot web element I added this
session state element and if you look at
this I've said session state mood is
equal to in proc in process we will be
talking about session state modes in a
date in a later session and then I am
saying cookie-less is equal to false I
am going to convert this to true okay so
what we are telling the web server to do
here is basically we are telling it not
to use cookies for sessions anymore
instead use the session ID as part of
the URL itself okay look at this let's
flip back that to false and when I run
the application look at the URL you only
have you know it's saying okay localhost
on this computer and a port number and
then forward slash the page name okay
but let's go back now to web config file
and let's change cookie-less to true
meaning we are telling you know the web
server not to use cookies to store
session IDs so that means the session
IDs are now going to be passed in as
part of the URL so if you look at the
URL now localhost the port number and
then there is this s and then some
alphanumeric number there what is that
that is the unique session ID how does
the web server know where the request
has come from it uses this session ID
the web server uses this session ID to
identify okay this request has come from
the same user okay so now look at this I
click the button once twice thrice four
times now I go here
and navigate to sessions to dot aspx
look at this i press enter same session
ID so it is retaining the state even on
session state two dot aspx so session
data is available across all pages but
look at this what I'm going to do I'm
going to change this to something else
or I am going to completely delete this
session ID from there
so the moment I delete that look at that
all I'm doing right now is deleting and
notice the value it's at the moment for
the moment I removed the session ID and
when I press ENTER what's going to
happen the browser gives at a new
session ID and when this request goes to
the silver the server looks at the
session ID and then it identifies oh
wait a minute this is not the same
session ID I had before so obviously
this request is from a different user
session okay so obviously at that point
of time what happened to the value look
at that
that got reset to zero okay so session
state data is shared across all pages
but across a single user session okay so
you can treat off session State data as
a single user global data meaning for a
given user the session state data is
available across all pages for that
specific user session so session state
variables are available across all pages
but only for a given single session
session variables are like single user
global data and session state variables
are stored on the web server they are
stored on the web server and session
state variables are cleared when the
user session times out the default is 20
minutes and this is configurable in web
tour conflict let us understand what we
mean by that now if you look at this
okay let's copy that and put that in a
notepad so that's the session ID that we
have a unique session ID okay now let's
click one two three four now let me even
close that browser window okay but then
I have this session ID there and let me
go to basically localhost session two
dot aspx for example now I get a new
session ID I just clicked it once copy
that close the browser window now if you
look at this
so the session IDs are different now if
I copy the first one and then go back to
the page though I close the browser
since I am having the same session ID
when I press ENTER look at this it
remembers the previous value which is 4
so how long does the webserver going to
retain that session state data on the
web server is it going to maintain that
in indefinitely if it's going to do that
then at some point of time the web
server is going to run out of memory at
some point of time it has to remove
those values from the web server memory
so how does the webserver determines
when to remove these values using a
timeout value in web config file so in
web dot config file whether wherever you
have the session state element specified
the mode is in process use cookie list
sessions along the same lines you can
specify the timeout value and this time
mode value is in minutes and by default
is 20 minutes but you can change it now
let's change it to 1 minute okay and
then let's run this application let's go
to session state 1 dot aspx let's close
the existing browser window run the
application again now we will get as you
know new session ID click once twice now
copy this delete all the requests here
so the value for this one at the moment
it is 2 and then let me close this
browser window and let's open another
browser window and obviously the moment
we type in I'm going to session state 2
dot aspx page but look at that when I
press ENTER I get a different session ID
so it treats this user differently so
I'm clicking once twice thrice four five
six seven let's click it 10 times so the
value here at the moment is 10 now let's
copy that URL paste it back now if you
remember in web config file we have set
the session timeout to one minute now if
it's more than 1 minute
now this session would have timed out
and that value would have been zero by
now let's see that but if it's not over
one minute it should still be there so
I'm using the same session ID here so
when I present the value was to look at
this
it became zero meaning one minute pass
so web server has cleared that session
so session state variables are cleared
when the user session times of the
default is 20 minutes however this is
configurable in web dot conflict now the
important thing to keep in mind is that
session state variables you know are
single user global data which means
they're accessible across all pages but
only for a given specific session ID but
various application state variables are
like multi user global data let's
understand that with an example okay
what I'm going to do here again I'm
going to add another webform I'm going
to call this application state one
application state one dot aspx let's add
that and let me copy that and add
another waveform well via here and let's
call this application state two dot aspx
okay cool now what we are going to do
the same exercise copy and paste the
design and the code so let's copy the
design first onto both application state
one and application state two pages so
application state one let's go to
application state to copy the HTML there
and now copy the code behind so from
session state one dot aspx copy that and
paste that into application state one
and obviously we need to modify that to
use application state variables instead
of session state variables so all we do
is replace application state
I mean session state with application so
wherever you see session replace that
with application that's about it so
which means we are using application
state variables here and let's copy this
and paste into application state two dot
aspx page okay cool so now let's go
ahead and run this application state one
so control f5 so now you see that we get
a different session ID for this user so
let the page load look at the session ID
that's something one two three so the
value is three let me copy this now let
me go to application state two
so I am on application state two dot
aspx another webform but I the
application you know state variable
value is shared between these waveforms
I click four five and if I go back to
one I still see the same value just like
session state but then another
difference is let's copy this put that
here now if you look at this for this
unique session ID that you see here the
value currently it's five now what I'm
going to do I'm going to copy that URL
open another browser window paste that
but I'm going to delete that session ID
look at that if you remember for this
unique session ID the value was five now
I deleted this session ID and when I
present that what's going to happen this
this browser will get a new session ID
and when that goes to the web server the
web server treats that as a different
user session so at that point of time
let's see what's going to happen so we
will get a new session ID and look at
the value we still have that five so if
you look at that that the same file now
this is what is the significance
difference between look at this URL and
this URL
obviously the session ID is different
though they are different session IDs
they are still able to share that
application state theta which means
application state variables are
available across all pages and across
all sessions you can think of these
application state variables as
multi-user global data and application
state variables just like session state
variables they are also stored on the
web server and when does a session state
variable clear a session state variable
is cleared whenever the session times
out the default is 20 minutes but that's
configurable but whereas application
state variables are cleared when the
process hosting the application is
restarted let's see what we mean by that
now look at this we have set the session
timeout toward one minute okay if you
remember that's what we have specified
in web config file okay now obviously a
session will timeout when that time is
expired if there is that amount of
inactivity period but whereas
application look at this it's definitely
more than one minute but still when I
click the button you know it has that
application state data so when will this
value be lost this will be cleared when
the process hosting this application is
free
for example at the moment my application
is running inside you know built-in
Visual Studio development so where in
reality we host our applications in is
we will talk about you know running
applications using IAS and built-in
Visual Studio development server how to
configure them etc in a later video
session but for now just understand that
you know when I run this application it
is using a built-in development server a
built-in development server within
Visual Studio ok so obviously if I
right-click on my task manager and
select task manager and go to process
and if you select W there you see that
web dev dot web server this is the
process which is actually hosting my you
know this is the executable process
which is running my application so if I
restart this or if I kill this or what I
can basically do is I can stop it from
here as well so development server stop
that so obviously it is stopped now now
if I go ahead and run this application
once again what's going to happen it's
going to start the development server is
going to start again and now the value
will be reset so obviously when when are
an application state variables cleared
when the process hosting the application
is restarted so these are the
differences between view state session
state and application state to be very
precise view state of a web form is
available only within that wave form
where a session state data is available
across all web forms but for a given
single session
whereas application state variables are
available across all web forms and
across all sessions that's it for today
thank you for listening have a good day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>