<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 5   Aggregate function in LINQ | Coder Coacher - Coaching Coders</title><meta content="Part 5   Aggregate function in LINQ - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 5   Aggregate function in LINQ</b></h2><h5 class="post__date">2014-07-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TaK0oeyq-cQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this part 5 of link tutorial in this
video will discuss the use of aggregate
function in part 4 of this video series
we discussed men max sum count and
average functions all these functions
belong to aggregate functions category
with an aggregate functions category in
addition to these functions we also have
another function with named aggregate
function in this video we'll discuss the
use of this aggregate function with
examples consider this string array here
which has caught country names now we
want to combine all these individual
strings to form a single comma separated
string so let's see how to achieve this
both without and with length let's flip
to visual studio so here I have a new
console application it is the country's
string array that has got different
country names now we want to combine all
these individual country names into a
single country our string that is comma
separated so to store the result let's
create a variable of type string and
let's initialize that to an empty string
and let's use a for each loop loop
through each string that we got in
countries array and then concatenate
each country to form a single comma
separated string array right now let's
go ahead and print the result so this
result is of type a string so all the
country names that we have it in this
countries array are now joined with a
comma you know into this single string
and then finally we are printing that
result variable so let's go and run this
and look at this we get a single string
that's comma separated but the problem
here is that after the last country name
we have comma but if you look at the
output that we want we don't want comma
at the end of the last country name so
we need to remove that comma from there
and the best way to do that is by you
know first getting the index position of
that last comma and then removing it
from the string okay and to get the
index position of the last comma we can
make use of last index of method so to
store the index let's use a variable of
type index let's call it last index and
then we are going to use the last index
of method and then pass comma as the
argument value so this method is going
to return the index position of the last
comma within that string and then we can
use the remove function so result dot
remo and this method expects the
position from which we want to remove
the characters in or from the string so
what is the start index from where we
want to remove you know the characters
that is present within this last index
so let's pass that and then this remove
method is going to return that substring
as a string so let's store that within
the result variable and then finally
print the result so now let's go ahead
and run this one more time and see if we
get the output that we expect look at
that all right now just to combine all
these strings to form you know a single
comma separated string we have to write
so much of code now let's see how to
achieve the same thing using link so
let's get rid of all this code with the
link all we have to do is use the
aggregate function on this country set
it so countries dot aggregate and we
need to specify our lambda expression so
I'm going to pass a comma P
a plus two that concatenate comma and
then to that concatenate B so what are
these a and B now if I hover the mouse
over look at that ace type string B's
type is also strain so how is this
aggregate function going to work now
from look at this this aggregate
function is being called on this
country's array so it's going to take
India and us into a and B and then it's
going to combine them together with a
comma to form a single string right so
it's going to produce India comma us
that will be the result of the first
execution of this method so that result
that is India comma u.s. is then stored
in this a and then the third element
from the sequence is retrieved into
being
UK so within a we now have India comma
US and B we have UK so it's going to
combine them together with a comma so
the resultant string will be India comma
u.s. comma UK so that result is now
taken into this variable a and then the
fourth element which is Canada is taken
into B and then again it performs this
operation so it's going to do this until
it has reach the last element within the
sequence okay so let's go and run this
and see if we get the output we expect
look at that how simple it is with a
link now let's look at another example
this time let's actually use an integer
array so here I have an integer array
which has two three four and five now
what we want to do is we want to compute
the running product of these numbers in
this array so we want to multiply two
with three and then the result with four
and then the result with five okay so we
want to produce the product of all these
numbers now if we are not using link
then we may have to use a for each loop
like this for each and I n numbers are
a result equals result into whatever
value we have caught with an eye and
then we will go ahead and print the
result right again you know a lot of
code just to compute the product of the
numbers that we have within that array
so with the link we can use the
aggregate function so we can get rid of
all this code and we can simply call a
great function on the numbers array and
then specify our lambda expression so a
comma B such that a times B that's it so
let's go and run this and see if we get
the output look at that 120 so now let's
examine how this is going to work it's
going to work the same way take the
first two elements from the sequence
perform the operation take the result
store it in a take the next element
which is 4 into B you know perform this
operation do this until you have reached
the last element in the sequence okay
pretty straightforward
now if you look at this aggregate
function there is another overloaded
version where we can specify a seed
value okay let's say for example you
know in addition to whatever numbers we
have we also want to you know take
another constant value maybe something
like 10 or 15 or 20 whatever may be the
number and we want to multiply that with
the first element and then you know the
rest of the multiplication should go as
usual if that is what your requirement
then you can use that seed parameter so
at the moment when we don't pass seed
parameter the product is 120 okay now
let's pass 10 as the value for the seed
parameter and then run this and see what
output we get notice that we get 1,200
so how is this going to work now it
takes the seed parameter into this
variable a and the first element from
the sequence which is 2 into B so 10
into 2 is 20 so it's going to perform
that operation 10 into 220
and that result is now stored in a and
then the next element in the sequence
which is three is taken into B so 20
into three it's going to produce 60
still 60 and a and then take the next
element which is 4 into be 16 - 4 to 40
and then it takes 5 to 14 - 5 1200
alright and these are the two examples
that we just discussed now that's it for
today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>