<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Applications isolation using application pools in IIS   Part 83 | Coder Coacher - Coaching Coders</title><meta content="Applications isolation using application pools in IIS   Part 83 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Applications isolation using application pools in IIS   Part 83</b></h2><h5 class="post__date">2012-12-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/idWaXXYOFDU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">though welcome to freedom technologies I
am venket this is part 83 of asp.net
video series in part 82 of this video
series we have discussed the basics of
application pools in this session we'll
discuss about achieving isolation
between applications by associating them
with different application pools let's
understand that with an example I have
an asp.net web application project here
with name of web application 1 and then
in this web application I have this web
form one where we have this button
control obviously when we double click
that the even handle I get generated and
if you look at the code here it's pretty
simple code in the page load we have a
check here if not is postback meaning
when this Web form first loads up you
know if it is the initial get request
we're actually creating a session
variable with key application 1 to
school 1 underscore data and within that
we have this data application 1 data and
then when the user clicks the button if
that session variable is not now then we
are retrieving the value out of that
session variable and then writing it to
the response stream on the other hand if
it is null then it comes to the else
block and then it prints out session
data not available okay pretty simple
example now if I run this project by
pressing control f5 by default Visual
Studio uses the built-in development
server so you can look at that random
port number that we have here and then
if I go into the task bar double click
that you know you can see this is the
built-in asp.net development server now
I don't want to use the visual studio
built in development server because if
I'm just developing the application then
that's fine but if I want to make these
applications available to users either
on the internet or Internet then I have
to deploy them to the IaaS Internet
Information Services now let's see how
to deploy that to is so first open up is
to open is go to start click on start
type in run plus enter type i net
manager i net MGR and click OK
that should open up Internet Information
Services now when we expand the root
node
in is you should say application pools
okay now this let's all the default
application pools that we have you know
when we install is now let's go ahead
and create one application pool here so
I'm going to add an application pool and
I'm going to call that application one
pool so we want to associate our web
application one project with that
application pool and then I want to
select dotnet version frame I mean
dotnet framework version 4.0 so we have
created the application one pool and if
you look at the number of applications
that are associated with this pool at
the moment are zero okay
let's go ahead that bad a virtual
directory which can be used in our basic
lay we want to point this web
application one we want the virtual
directory to be pointing to this web
application one so let's go ahead and
create that application here so right
click on default web site click on add
application give it a meaningful name
I'm going to call this web application
one so that's going to be my virtual
directory name and then what I'm going
to do I'm going to associate look at
that by default this application is
associated with asp.net version 4.0 I
don't want that I want to associate that
with application 1 pool so let's click
OK and let's navigate to the physical
pathway we have this project created the
project is actually present in C Drive
so if you look at this project web
application 1 I right click on the
solution folder and an open folder in
Windows Explorer so C colon backslash
web application 1 that's the solution
folder and that's the project folder so
let's go ahead and associate to that
folder so that's the physical folder so
C Drive and let's navigate to web
application 1 that's the solution folder
and that's the project folder ok so now
we have this web application 1 which is
associated with this web application 1
that we have and we are using if we go
to the application pools we are actually
using application 1 pool for this web
application 1 ok now another change that
we have to do is you know even at this
time if we press control f5 visual
studio still you
is the built-in asp.net development
server we don't want that we want to use
local is and to do that right-click on
your web application project go to the
properties window and within the
properties to get that it's using Visual
Studio development server instead of
that I'm going to use local is web
server and look at this we already have
a virtual directory with this name so
I'm not going to click this button so
I'm just going to save that okay so
obviously now if I go ahead and run this
it should use the you know local is
instead of the built-in Visual Studio
development server okay I click this
button I have the data all right now
what we are going to do I have another
instance of Visual Studio here and I
have and the name of this web
application is web application to I have
the form one dot aspx here now let's
drag and drop a button control onto this
platform as well and I'm going to have
exactly the same code even in this
application so let's go ahead and copy
that from web application one so I'm
going to retrieve that and paste it here
along the same lines whatever we have in
the button click event handler let's
copy that and put it in the button click
event handler in web application - okay
along the same lines let's go ahead and
associate this to the same application
pool for the time being so I have
application 1 pool let me go ahead and
create another application on a default
websites so add application I'm going to
give this the name web application - and
I still want to associate this with the
same application pool so application one
pour ok and then let's navigate to the
physical path this time it's going to be
web application to project so that's the
solution folder X planned select the
project folder look at that
ok web application - that's the name of
the application that's the pool and
that's of a physical part where we have
this web project so let's click OK so at
this point if you understand the setup
we have two web application projects web
application one and web application two
by the way the small change that we have
to do here is instead of application 1
data I'm going to call this application
2 data
okay it's exact same code we just have
the different keys okay so let me change
this to application to and this to
application to okay all right so if you
look at the application pools now we
have one application pool and it
contains both these web applications
okay now let's go ahead and associate
this web application I mean these this
is this project to the local is on the
project properties window right click on
the project go to the properties and
within the properties window instead of
using visual studio built in development
server I'm going to use the local is web
server okay and we already have the
virtual directory so simply save the
settings okay all right now let's go
ahead and run web application 1 now if
you understand the whole set up at the
moment we have two web applications both
of them are associated with these
application pool so let me go ahead and
run first the application 1 and let me
go ahead and run web application 2 as
well
okay so that's web application - that's
web application 1 ok now let's go ahead
and open you know the task manager and
to do that right click on your task bar
select start task manager and click on
this button show processes from all
users and look at that you know once you
click on that button + W you should see
there is a worker process look at the
worker process so the worker process w3w
p dot exe that's the worker process
which is used to run our asp.net web
applications and look at that that
worker process is associated with
application 1 pool that's the user name
we'll talk about security application
pool security in the next video session
but at this point understand that this
one worker process is actually running
both web application 1 and web
application 2 and if you remember you
know we are using session variables in
both the applications and since in
web.config i i haven't specified the
session state provider by default it's
going to be in prague the session state
mode is going to be in prague
the session variables are actually
stored inside the worker process inside
this w3 w p dot EXA okay now let's go
ahead and click this button okay I get
application to data is equal to
application to data and let's click this
button on application one look at the
URL so application one data is equal to
application one data
so both these session variables now for
this application that's web application
one and web web application two for both
the applications this session variable
is actually stored in this worker
process and look at that for that
application pool at the moment we just
have one worker process running both of
these applications okay now let's say
for some reason the you know application
pool recycle and there are a variety of
reasons why an application pool will be
recycled later automatically or
on-demand we'll talk about those reasons
in a later video session but let's
assume you know for some reason this
application one pool got recycle when it
gets recycled since both of these
applications are associated with the
same pool the worker process within that
application pools get get recycle and
there as a result of it the session
variables for both the applications are
affected okay
so let's recycle the application pool
and how do we do that if you want to do
that on demand select application pools
and there I have my application pool
right click that and you have an option
to recycle so once I recycle that so I
go here and click this button look at
that session data not available session
data are not available ok both of the
applications are affected now let's do a
small change let's create another
application pool here and then associate
web application two with that
application pool and to do that add
application pool I'm going to call this
application to pool let's select dotnet
version framework 4.0 I click OK and now
I'm going to associate web application
two with that application pool
application to pool and to do that right
click on your web application project
manage application advanced settings and
then in the application pool property
click on the ellipsis button and select
your application
so I want to associate web application
to with application to pool and let's
click okay so if you look at the
application pools now in our web
application one is associated with
application one pool and web application
two is associated with application two
pool okay
at this stage let's go ahead and run
this so let me first run web application
one so I am on web form one dot aspx and
along the same lines let's go to web
application two and let's run that and
now let's go back to the task manager
and let's look at that there are two
worker process now one worker process
for application one pool and another
worker process for application to pool
so obviously now when I click on you
know that button for a web application
one I see the session data
similarly for application - I see the
session data okay now let's say for some
reason you know application one pool is
recycle okay so let's go ahead and
recycle that but I'm not recycling
application to pool so obviously at this
point as you might expect if I click
this button on web application one the
session data will be lost but various
application - I didn't recycle that and
it has its own worker process so
obviously this application now is not
affected we don't lose session variables
for web application - that's because now
it's running inside its own application
pool so we have isolated the application
- from web application one by deploying
them to different application pools in
the next video session we'll discuss
about configuring different levels of
security for different application pools
on this slide you can find resources for
asp.net c-sharp and sequel server
interview questions that's it for today
thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>