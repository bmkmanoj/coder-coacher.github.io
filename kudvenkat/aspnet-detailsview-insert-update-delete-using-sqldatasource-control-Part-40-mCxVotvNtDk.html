<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>asp.net detailsview insert update delete using sqldatasource control - Part 40 | Coder Coacher - Coaching Coders</title><meta content="asp.net detailsview insert update delete using sqldatasource control - Part 40 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>asp.net detailsview insert update delete using sqldatasource control - Part 40</b></h2><h5 class="post__date">2013-03-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mCxVotvNtDk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to prism technologies I am
venket this is part 40 of asp.net
grid-view tutorial in this video we'll
discuss about inserting updating and
deleting data using details view and
sequel data source control so when the
wave form loads within the grid view
control we want to display all the
employee details basically their basic
information like ID first name and city
and then once I select an employee
within the grid view control for the
selected employee you know all the
details must be displayed within the
details view and then underneath the
details view I need to have these three
link buttons here edit delete and new
when I click on edit you know we should
show an editing interface like this
where we can change the you know the
employees data and then click on update
at which point it has to update that
employee record within the you know
database table and the grid view control
should refresh automatically okay
similarly if I click on delete that
record should be deleted from the table
and the grid view should be refreshed
and finally when I click on new I should
be able to enter employee you know in
new employee information and then this
link button here should be insert and
then once I click on insert the new
employee must be added into the database
table and the grid view should refresh
to show that new employees record as
well let's see have to achieve this
obviously let's flip to visual studio
drag-and-drop a grid view control let's
sort of format that
let's choose brown sugar scheme we also
need a details view control so let's
drag and drop that as well
let's auto format that let's choose
brown sugar scheme now we need to sequel
datasource controls so let me drag and
drop to sequel datasource controls
okay so let's configure the first sequel
data source control which is going to
act as the data source for grid view one
control so configure data source select
your connection string from web config
file click Next the table is going to be
TBL employee now within the grid view
control we just need ID first name and
city columns so I'm going to just select
those three columns click Next test your
query we should get all the rules click
finish
now let's associate the sequel data
source control with our grid view one
control
and we also want to enable selection so
the link button shows as expected all
right so we are done configuring you
know the grid be one control now let's
configure sequel datasource to control
so select your connection string from
web config file click Next select your
table TBL employee now we want all the
rows but we don't want I mean we want
all the columns but not all there is
only the selected employee record should
be displayed within the grid view
control which means obviously we need to
filter the rows based on the selected
employee ID so I am going to add a very
class for this one and I'm going to
filter the employees based on the ID
column that column value should be equal
to a value that is coming from another
control on this webform so that's why
I'm going to choose the parameter source
as a control and which control is that
going to be a grid view control okay so
the ID is going to be the selected value
property of could be one click on add
click OK okay and not only that remember
we want to enable these details for you
to perform insert update and delete as
well and to do that we also need to
generate those queries so click on the
advanced button click make sure you
check this box generate insert update
and delete statements which is going to
generate the insert update and delete
statements automatically for us so I'm
going to click OK click Next we can test
our query so if I pass in an ID of one
for example it's going to retrieve the
employees full details basically all the
columns for that employee
so click finish now we need to associate
the sequel data source control with our
details view control ok look at that
since we have insert update and delete
commands also generated look at these
options enable inserting enable deleting
as I check those boxes look at what's
happening within the details view
control enable deleting I see all those
three link buttons that's it you're done
now let's go ahead and run this as you
might expect once I select an employee's
record that selected employee will be
displayed within the details view and I
should be able to edit and all
okay the first problem we have is we
don't want this and if I don't have an
employee selected within the gridview
control I don't want this colored box to
be displayed and to solve that problem
we have seen how to solve this problem
in the previous session we can make use
of the page pre-render event so in page
pre-render i'm going to say if could be
one dot selected row if that is equal to
now meaning we don't have any row
selected within the grid we control then
we don't want to display the details
view one control so I'm going to set the
visible property to false on the other
hand if the selected row is not null
then we know a row is selected in which
case we want to turn on the visibility
so details v1 dot visible is equal to
true so obviously now when we run this
we shouldn't have that problem anymore
okay so we don't have anything there but
once I select an employee row you know
the selected employee is displayed
within the details view control and look
at this I can click Edit and I can
change the employee details okay for
example I want to change it Tom - Tom
one and then update that look at that
for some reason you know the data is not
refreshing within the grid we can draw
but let's look at the table select star
from TBL employee is the name updated
absolutely in the table it is updated
but the grid view control you know it's
not a refresh to show that data so how
am I going to force the grid view
control to refresh the data within well
it's very simple
after I actually update you know click
update you know the details view control
raises an event you know updated even
true item updated event so within that
we can actually bind the data to the
grid view control so let's see how to do
that so select your details view control
go to the properties by pressing f4
click on this even Seiken so we have
this item updated event double click on
that we generate the event handler all I
need to do here is click v1 dot data
bind so this is going to rebind to the
data okay and then I'm also going to set
another
line here grid b1 dot select a row I'm
going to call this method I'm going to
call this method and pass in a row index
of -1 so that no row will be selected
with the grid view control okay so I'm
going to run this now and let's see if
it works as expected
let's close the other tabs so tom is
selected now I'm going to edit this
record and I'm going to change it back
to Tom from Tom 1 and update that look
at that the row is updated and it's
refreshed automatically ok now on the
other hand let me actually delete the
row so when I click delete button let's
see what's going to happen so the row is
deleted ok and again look at this the
grid view is not refreshed so we need to
refresh that as well
ok so let's do that so go to the
properties even cyclin Row deleted event
is raised
you know when the row is deleted
similarly when we insert a row into the
grid view control item inserted event is
raised so let's generate even handlers
for both of those even so item deleted
is 1 and item inserted is the other
event let's generate that so obviously I
basically want to do the same thing so
rebind the data to the grid view control
and set the selected row to minus 1
meaning don't select any row within the
grid control okay so with these two
changes now we should be able to you
know basically delete as well as insert
a new row and the grid view should
automatically refresh when that happens
ok so I have a row selected here I can
actually you know edit that as before if
I don't want to add it I can click
cancel and it returns to non editing
mode and I can delete that look at this
as soon as I delete the row the grid
view is refreshed in the row is gone
automatically and there is look at this
new row is selected within the grid we
control now if I want to add a new
employee I click on new look at that I
get all these fields where I can supply
values first name let's say X last name
y city Zed gender a date of birth let's
say
zero 101 2001 country let's say Bay
salary 1 2 let's set data of joining to
you know the same thing maybe 0 1 / 0 1
/ 2010 and marital stress maybe M now if
I click insert look at that the ruie is
automatically inserted and the grid view
is refresh so let's go back to the grid
view control I mean the database table
look at that I have the row here as
expected so we have seen how to perform
an insert update delete you know using
details view control but then using
sequel data source control in our next
video we'll discuss about achieving
exactly the same thing using object data
source control alright
on this slide you can find resources for
asp.net c-sharp and sequence of
interview questions that's it for today
thank you for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>