<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Retrieving selected item text, value and index of an asp.net dropdownlist   Part 21 | Coder Coacher - Coaching Coders</title><meta content="Retrieving selected item text, value and index of an asp.net dropdownlist   Part 21 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Retrieving selected item text, value and index of an asp.net dropdownlist   Part 21</b></h2><h5 class="post__date">2012-11-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WTPGe8DcnUs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so welcome to prism technologies I am
venket this is part 21 of asp.net video
series in this session we'll learn about
retrieving the selected item text value
and index of an asp.net drop down list
before continuing with the session I
strongly recommend to watch part 16 17
and 18 of this video series with that
let's jump into a demo here I have a
very simple asp.net web application
project let's drag and drop a drop down
list control onto the webform now we
know that a drop down list is a
collection of list item objects and
there are several different ways to add
list items to the drop down list we can
do that at the design time using the
HTML source or we can programmatically
add list item objects in the code-behind
file or we can load the items from
database table and then add them to the
drop down list or you can buy in the
drop down list to an XML file and we
have seen these different ways of adding
list item objects in the previous
sessions of this video series for the
purposes of this demo we will add the
list item objects at the design time
using the HTML source now we know that
it drop-down list is a collection of
list item objects so let's add a list
item and list item has got a text and a
value property so text is equal to let's
say we want to display the list of
continents in this drop-down list so
Asia is the text of the continent and
let's say the value that gets stored
against this continent is 1 okay
similarly we have other continents so
let's add them just to save some time in
typing I have them already typed let's
copy-paste them okay so we have several
continents that gets displayed within
this drop-down list Asia Europe Africa
along with these continents I have
another list item objects which says you
know the text is select continent and
the value is minus 1 basically this is
like a prompt to the user to select the
continent so when we run this project
now as you might expect you know select
continent is what is displayed in the
drop-down list ok and then user can
select his continent now once the user
selects ISKCON
and then click submit' button now I want
to be able to retrieve the text and
value properties of the selected item ok
obviously we know that drop-down list is
a collection of list item objects so
each list item has got the text and
value properties so whenever user makes
a selection within the drop-down list
I want to retrieve the text and value
properties and display them that's one
thing another thing if you look at this
you know it's a collection of this
drop-down list is a collection of this
list item objects and every list item
object has got an index within the
drop-down list so the index of the first
list item is 0 the second list item is 1
and it goes on 0 1 2 3 4 etc ok so every
selection that you make in a drop-down
list you will have a text a value and an
index and we want to you know kind of
retrieve those values when the user
selects you know a list item in the
drop-down list and when he submits the
webform
ok let's see how to do that and
obviously to do that we need a button
control so let's drag and drop a button
control onto the webform and once we
double-click the event handler gets
generated so when I click the button I
want to be in a position to retrieve the
selected items text value and the index
okay and how do we do that there are
several properties that we can make you
so for example to retrieve the text of
the selected item I can simply say drop
down list 1 dot selected item dot text
and look at the names of these
properties they are very meaningful in
drop down list 1 that's the idea of the
drop down list select that item whatever
the user has selected that items you me
the text property and similarly if you
want the value you can just say select
item dot value ok another simple way to
get the selected items value is to
simply use drop down list 1 dot selected
value property and to get the index you
can simply say drop down list 1 dot
selected in text and it's so simple so
let's try to do that and butBut the
first thing that I want to do is if the
user hasn't selected anything you know
if you didn't make a selection at all
you know if it it is defaulting to
select continent so if he hasn't
selected any continent then I
to show a message to the user you know
telling him that he need to make a
selection so how do we do that if you
look at this source for this drop-down
list this the value for the first list
item is minus one so and we know that to
retrieve the selected value you can
directly say the drop-down list one got
selected value so if the drop-down list
one selected value is minus one then we
know that he didn't make a selection
okay so that's how we can check that
so if drop-down list 1 dot selected
value is equal to minus 1 then we know
for sure he didn't make a selection at
all in which case we will write a
message saying please select a continent
okay now if the selection is not minus 1
if the selected value is not minus 1
then we know for sure he has selected
some continent from that drop-down list
in which case we want to retrieve the
text value and the index properties and
to do that so response dot right we have
drop-down list 1 dot I want the selected
item text so I can simply say text and
then let's use an HTML break here so
that the output comes in separate lines
so if you want the value then you use
the value property and if you want the
index you simply say dot selected index
it's as simple as that so now let's go
ahead and run this obviously when the
page renders it displays all the items
within the browser
within the drop-down list and look at
this if I don't make a selection and if
I try to click this button obviously
selected value will be minus 1 so you
see that message please select a
continent on the other hand if I go
ahead and select let's say Asia the
first continent in the list and click
the button look at that the text is
Asia the value is 1 and the index is
also 1 so if I actually flip to the HTML
if you look at Asia text is Asia value
is 1 and the index is 1 because index 0
is is taken by the first list item ok so
it's so simple to retrieve the selection
from a drop-down list now let's say you
know whenever the page loads
I want to default the selection to some
continent for example Asia ok so how do
we do that we can use the selected value
or selected index properties if you look
at the you know statement here the
selected index and selected value
properties of the drop-down list can
also be used to have a list item
selected in the drop-down list so by
default if you want a list item to be
selected there are actually two ways to
do that one is you know within the HTML
you can actually specify okay if you
want let's say Asia to be selected by
default you can specify selected is
equal to true here and that gets
selected when the page actually loads
but if you want to do that
programmatically in the code-behind file
then you can use one of the two
properties selected index or selected
value if you look at Asia the seller the
index of this one is 1 ok and the value
is also 1 so you can either use you know
when the page loads what I want to do is
drop down list 1 dot selected index
index is 1 and selected index is an
integer property so we need to set that
as an integer now obviously if we run
this instead of defaulting to please
select you know Asia will be selected
because its index is 1 okay
along the same lines you can also use
selected value property but then if you
look at the selected value property it's
a string property so obviously you need
to set it set this value as a string so
once you pass it as a string you know
the output will be exactly similar
except that we are using selected value
property to set you know the default
selection ok now
so whenever you you set the default
programmatically in the code one very
important thing to keep in mind is you
will have to do that in any condition
you know you have to do that only when
the page loads for the first time you
don't want to be doing that in the post
back during the post back you'll just
understand that problem in a bit let me
run this okay once we run this obviously
it will load all the items and then it
defaults to Asia now let's say I
selected South America and then I click
this button look at this it is showing
my selection as Asia and then the
selected value is 1 index is also 1 why
is it doing that let me select North
America I click this part and look at
that it is still showing as Asia because
when you click this button what happens
the webform gets posted back to the
server and we have spoken about page
lifecycle webform lifecycle in the
previous sessions of this video series
so what happens when the request is sent
back to the server and new instance of
this webform gets created a new instance
of the drop-down list gets created all
the items are you know added to the
drop-down list and then since we you
know after that the page lifecycle
events get started you know during the
the page load events happened before the
button click event so during the page
load event what's happening you know
it's selecting you are setting the
selected value to 1 which means you are
telling ok said the set the selection to
Asia ok and then the button click event
happens after the page load event so in
the button click event you are
retrieving that selected value ok so
that's why anytime you do this you know
you set a default value within the
drop-down list you do that you know in
if not is post conditional block because
you want to do that only during the
initial page load when the page first
loads after that when the user changes
the selection post the page back you
don't want to be defaulting that again
to the default value ok so to correct
this problem all we have to do is wrap
this inside if not is post back
you know I struggled with this when I
was initially learning asp.net you know
I didn't properly understand the page
lifecycle of an asp.net web form and I
was struggling to figure out where the
hell is it not remembering it stayed
because page view state restoration
happens in page initialization event
which happens before page load so at
that point you know it remembers the
selection the viewstate gets loaded onto
the drop-down list but in the page load
we are overriding that programmatically
okay and then button click even happens
because of which you know it the value
will be defaulted to a share back ok so
now if we run this it should work as
expected the first time when the page
loads Asia will be defaulted upon a post
back it remembers your selection so it
defaulted to Asia
if I select North America I click this
button look at that it correctly
remembers that on this slide you can
find resources for asp.net c-sharp and
sequel server interview questions that's
it for today thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>