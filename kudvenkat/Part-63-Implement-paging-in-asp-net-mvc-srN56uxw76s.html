<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 63   Implement paging in asp net mvc | Coder Coacher - Coaching Coders</title><meta content="Part 63   Implement paging in asp net mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 63   Implement paging in asp net mvc</b></h2><h5 class="post__date">2013-07-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/srN56uxw76s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 63 of asp.net MVC tutorial
in this video we'll discuss implementing
paging in an MVC application please
watch but 62 before proceeding we'll be
working with the same example that we
started in part 62 the first step is to
install page let's list
MVC using the nougat package manager so
let's flip to visual studio click on
tools library package manager manage
needed packages for solution click on
the online tab and then search for page
list so notice that we have two packages
here page lists or MVC and paged list
page the list water MVC is dependent on
page list package so when we install
this page lists or MVC it will
automatically install this page list
package as well so select page lists or
MVC click install and then select the
project to which you want to add these
packages to in our case we want them to
add to MVC demo click ok so this should
add both the packages toward solution
click close and if you expand that
references notice that it has added
references to page the list dot MVC and
page list assemblies right so that's the
first tab the second step is to modify
the index action method within the home
controller to support a paging and there
are two changes that we need to do the
first change is to introduce this page
parameter so this parameter is going to
contain the number of the page that the
end user wants to view and notice that
this parameter is of type nullable
integer because when we navigate first
time to the index view there wouldn't be
any page number so there are chances
that you know the page number can be now
that's the reason why we have chosen
nullable integer as the datatype for
this parameter okay so that's the first
change the second change is to actually
return a page list and to return a page
to let's notice that we are using two
page to list function okay so let's go
ahead and make these changes to the
controller action method now this page
that this to page the list function is
present in those names
page list at MBSA so let's go ahead and
import those namespaces within our home
controller
so that's the first namespace in the
second namespace is going to be paid to
lester dot MVC and here we have the
index action method within the home
controller the first change is to
introduce that page parameter and this
is going to be of type
nullable integer right so that's the
first change the second change is to
return you know a page that lists okay
so let's go ahead and convert this list
to a page the list and notice that this
function is going to expect two
parameters the first parameter is going
to be page number and keep in mind that
this page number can be now okay so if
it is null that means we are navigating
to this page for the first time and
obviously that is now then we want to
display the first page so I'm going to
use null coalescing operator here so if
this page parameter has got a value of
null then use a value of 1 otherwise use
whatever value that is present within
this page parameter so this is null
collating operator and the next
parameter is the page size let's
hard-code the page size to be 3 so there
will be three rows there every page that
is displayed ok and let's go ahead and
do the same modification in the else
part as well so here we have the list
let's go ahead and convert that to a
page the list okay so these are the
changes that we have to do the
controller action method now the final
change is for the view itself so within
the view first let's go ahead and use
those two required namespaces so let's
go to index dot CSS HTML
using page list and the second one is
page lists or MVC and it's and the other
change that we have to do is look at
this at the moment the model for this
view is ienumerable of employee but if
you look at the index action method
within the home controller what are we
actually returning to the view we are
returning a page that lists so the model
has to be I page the list so let's go
ahead and use that so the model is going
to be I page list now since we have
changed the model from ienumerable to I
page list we have to do a slight
modification to this section of the code
so this is the section which displays
these headings name gender email etc so
we have to modify that piece of code
there so the otherwise what is going to
happen let's actually build the solution
look at this when I navigate to this
view it's going to throw an exception
look at that so here we need to change
that so instead of model dot name you
have to do model dot first dot name okay
let's do the same modification
okay so let's save these changes and
let's refresh this view now and see if
that compliation error goes away okay so
we have the issue fixed now look at that
it's only displaying three rows okay but
then if you look at our table there are
seven rows and remember we have set the
page size to three that's why we have
three rows here but let's display the
page of control at the bottom of the
view and to do that we are going to make
use of this HTML helper dot page list
page okay so we give it the model object
and then we specify the function which
is going to you know display that pager
links for us so we are passing you know
we are using that URL action hyperlink
and we want to navigate to the index
action okay and then we are passing this
anonymous type you know the page as the
parameter
so let's actually look at this in action
so at the bottom of the view just after
the table we want to display pager
control
so at HTML dot page the list pager and
the first parameter is going to be the
model the I page list and if you
remember what's the model for overview
it's going to be i paged list of
employee so we have to pass that model
to this function and the next parameter
is a function okay which is going to
generate those page links for us okay so
that's going to be a page so that will
be the parameter in the URL and then we
are going to use you know URL action
HTML helper so using that we can
generate hyperlinks so we are going to
use URL dot action and then the action
that we want to navigate is the index
action and then we can specify the route
values using anonymous type so new
okay so I'm going to pass the page prime
it to that all right
let's close the save everything and
let's navigate to this field and see if
we get page numbers as expected so look
at that I can see three page numbers
here now I can go to the second page
look at that I can see the second set of
employees there I click on third page
and I see the third set of employees and
I can come back you know to the first
and second alright but then there is a
slight problem here remember we have
implemented search functionality in part
62 now let's say I want to search all
male employees okay so when I click
search look at that I see two pages
they're actually for male employees so
if you look at this we have four more
male employees and the first three are
displayed on this page and if I go to
the second page we'll have look at that
what is happening first of all let me
select gender and then type male click
search okay so it has given us the
results correctly there are four male
employees and the first page it's
displaying three male employees and on
the second page when I navigate to the
second page I should see the fourth male
employee but is that happening no we are
losing that search that we have done
previously okay so to retain that search
what we have to do is look at that when
we search for male employees that's the
gender select that so within the URL
look at that we have to query strings
search by gender and search is equal to
Mayor okay now when I click on this page
number two pager link look at what's
going to happen I'm going to lose these
values that are present within the URL
and because of that you know it is going
to display all the employees from the
database so basically it's displaying
the second set of three employees here
okay now somehow we have to remember
that search you know basically the
search PI and search string that we had
in the URL and the way to do that is
basically using this anonymous type here
so I want to use this anonymous type and
specify a parameter called
search by and the value of that so where
am I going to get that value from that
value look at this
when we actually search let's undo this
change so now so when we navigate to the
index view and then when we search for
male employees look at that in the URL
we are going to have these two
parameters so I mean query string search
by and search query string so we need to
retrieve them from the URL and pass it
to this action helper method okay so
what is the name of the parameter going
to be it's going to be searched by and
where is the value going to come from
the value is going to come from the URL
so how to get the value of the query
string from the URL you can use the
requester object so request dot query
string and then you can specify the name
of the query string so what is the name
of the query string nothing but search
by and similarly we need to get the
search query string value so again we
are going to use that here search and
then the same idea expressed dot query
string and then it's going to be search
all right so these change let's actually
navigate let's search for male employee
so we should get the same output and now
look at this when I click on page number
two look at that I remember the state
and at the same time I only see that one
male employee on the other hand if I
don't enter anything and then click on
search look at what's going to happen I
get all the employees and when I go to
the second page I have the second set of
three employees and on the final page
this one employee so it's working as
expected
now let's say I search for an employee
whose name starts with s and when I
click search look at that I have only
one employee whose name starts with s
but then I don't need this pager control
here because there's only one page so
there's no point in displaying page of
control but this pager control is being
displayed always so how do I tell that
to this pager not to show up if there's
just one page that's very simple to do
so when this is the piece of code that
is generating this page of control so
here there is another parameter that we
can pass to this page list page a
function so let's pass that so let's do
that in the second line so what is the
third parameter you can pass an object
page the list render options object so
I'm going to pass that object here so
new paged list render options object and
then you can specify several settings
here okay so for example I want to
control the display of this object and
then I set the display to only if needed
then it will be displayed only when it's
needed that is whenever we have more
than one page okay so let's select that
if needed
save this let's go ahead and search once
again now this should disappear okay
look at that on the other hand if I
don't enter anything click on search I
get all you know seven employees so
there are three pages okay now let's say
I also want to display the current page
that is active and the total number of
pages available let's say I want to
display a message here you know you're
viewing page 1 of 3 pages something like
that so how do we do that
again that's very easy to do using this
page list render options or object so
there is another property that you can
specify so here there are several
properties display item slice and total
and similarly display page count in
current location so I want to set that
to true so that's going to display the
current page and the total number of
pages that are available so when I click
search here look at what's going to
happen it says page 1 of 3 so you're
currently on page 1 of 3 when I click
page 3 so I'm currently on page 3 of 3
and similarly let's say you know I want
to show the total number of rows and the
route and the set of rows that are
viewed that fee of looking at the moment
again that's very easy to do there is
another flag that we need to turn on
display items slice and total set that
to true so there's a lot of
customization that you can do this to do
this pager control and to do that you
can use this page list render options
object so let's save that and let's
refresh this once again look at that I'm
viewing page 1 of 3 showing items 1
through 3 of 7 similarly if I go to the
second page we are viewing from 4 to 6
of 7 and I am on page 2 of 3 so very
useful page control
alright in this slide you can find the
sources phase B dotnet C sharp and
sequence of interview questions that's
it for today thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>