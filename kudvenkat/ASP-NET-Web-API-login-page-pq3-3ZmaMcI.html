<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ASP NET Web API login page | Coder Coacher - Coaching Coders</title><meta content="ASP NET Web API login page - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ASP NET Web API login page</b></h2><h5 class="post__date">2016-12-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pq3-3ZmaMcI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 24 of asp.net Web API
tutorial in this video well disk is
implementing the login page for asp.net
Web API servers implementing the login
page is very similar to implementing the
user registration page we discussed
implementing user registration page in
part 21 of this video series we want our
login page to look as shown right here
we already have user registration page
so let's flip to visual studio and copy
the code that we have in our register
dot HTML page and now let's add a new
HTML page to our employee service
project and let's name this page login
dot HTML and let's copy the code in this
page and then we'll change the bits that
are required we want our login page to
look like this so first of all the text
here should be existing user login so
within the eh element right here let's
change the text to existing user login
and we also want this register button so
let's include an anchor element here and
let's include BTN BTN success classes
and we want the button to be on the
right hand side so let's also use pull
write class and we want the text on the
button to say register and when we click
the button we want to go to register dot
HTML page so let's say the HTF attribute
to register dot HTML and we want a
username and password text boxes so
let's change the text right here to
username and let's change the ID of the
text box to txt username
and the placeholder will say username
and we already have a text box for
password so this does not change and we
don't need confirm password text box so
I'm going to get rid of this TR
altogether and then we want a login
button so the ID of the button here is
going to be BTN login and the value on
the button is going to be login and we
don't need this success model div so I'm
going to get rid of it altogether
we need this development which is going
to display any validation errors for
example if we supply invalid username
and password we want that to be
displayed you know the error message to
be displayed like this so to display
this error message we are going to make
use of this tip and this is not going to
change in any way and for now let's
comment all the jQuery code that we have
and let's save our changes and let's
navigate to our login dot HTML page this
is how our login page is at the moment
when we click login button
nothing is going to happen because we
haven't wired up the click event handler
yet so let's flip to visual studio
uncomment this jQuery code and then
change the bits that I required this
piece of code right here is not going to
change in any way we need this code to
dismiss this alert day when we click
this little cross and then we want to
wire up the click event handler with our
login button the ID of our login button
is BTN login so let's use this ID and
then wire up the click event handler so
when we click the login button what is
supposed to happen we want to retrieve
username and password from the
respective text boxes and then we want
to post that to slash token URL which is
going to validate the username and
password and then issue us an access
token we discussed all this in detail in
our previous video if you haven't
watched that video I would
wrongly encourage you to do so before
proceeding with this video so the URL to
which we want to post the data is slash
token and we want to issue a post
request and we also have to tell the
type of data that we'll be sending to
the server and to tell that we are going
to use content type and we are going to
send JSON data so the value for content
type is going to be application for
slash JSON and then the data itself so
what data are you sending to the server
we are sending username which is going
to come from
txt username text box and the password
is going to come from
txt password text box in addition to
user name and password we also have to
send grant type so grant underscore type
is going to be password so basically we
are telling that we are sending password
and in written we want an access token
again we discussed this in our previous
video so when the request completes
successfully this is the function that
will be called so to this success
function let's pass the response that we
get back from the server now what we are
going to get back from a server is going
to be an object now what we want to do
is convert this object to a string and
then display it for the time being
within this alert div and here we have
the code which displays a string in
another div so let's copy that and paste
it right here and we don't need this
line of code so let's get rid of that so
we have the response object here we want
to convert that to a string and to
convert an object to a string I am going
to use JSON dot stringify method and
then to that let's pass the response
object so it will be converted to a
string and then this text function is
going to display that within the alert
there and then if there is any problem
executing the request this error
function will be called which will
display the errors within the alert tip
so let's save all these changes
reload and log in with a user that we
have already registered so when we click
the login button notice we are getting
an access token back when it is issued
when it is going to expire and the
username that we have used to login so
now instead of displaying the X is
talking on this alert div let's do it in
browser session storage browser session
storage data is lost when we close the
browser window or we can also explicitly
remove an item from the browser session
storage using remove item method so
let's flip to visual studio so instead
of displaying it in the alert div let's
use the session storage object and then
call the set item method let's use a
meaningful key here to store our access
token let's call it access token and
where are we going to get the access
token from we are going to get it from
the response object and if you look at
the name of the property it is access
underscore token so let's use that
property so what we are doing here we
are storing the access token in browser
session storage and then what do we want
to do we want to redirect the user to
data dot HTML page at the moment we
don't have data dot HTML so let's right
click on the project add a new HTML page
and let's name it data dot HTML and we
want to redirect the user to that page
and to do that let's use window dot
location dot H ref attribute and then we
are going to point that to data dot HTML
so this data dot HTML page is going to
call the employees controller retrieve
employee's data and display that bill
disk is implementing data dot HTML page
in our next video so let's save all
changes reload and login again
so when we click the login button notice
we are automatically redirected to data
dot HTML at the moment we don't have
anything on date or HTML that's why it
is blank now we also want to do one more
thing now when we are on the login page
we have a register button here if we are
not registered yet we can click on that
button and then go directly to the
registration page similarly if we go to
the register page notice on the register
page we don't have the login button here
if I have already registered then I want
to go straight to the login page
so let's include a login button here
which takes us to the login page so what
I'm going to do is copy the register
button HTML from login page and then
paste it right here and then let's
change the text on the button to login
and when we click that button we want to
go to login dot HTML let's save our
changes
reload our web page so on the
registration page now we have a login
button when I click on that it takes us
to the login page when we click on the
register page on this button it's going
to take us to the registration page so
session storage data is lost when the
browser window is closed to store an
item in the browser sessions to rate use
set item method here is an example we
have just seen how to do this to
retrieve an item from the browser
session storage use get item method so
here we are using get item method and to
that we are passing the key that we have
used to store the item in the session
storage and to remove an item from the
session storage use remove item method
we'll discuss using these two methods
get item and remove item in our next
video when we discuss implementing data
dot HTML page thank you for listening
and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>