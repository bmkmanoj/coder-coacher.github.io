<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Exception handling in asp.net   Part 69 | Coder Coacher - Coaching Coders</title><meta content="Exception handling in asp.net   Part 69 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Exception handling in asp.net   Part 69</b></h2><h5 class="post__date">2012-12-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bgCT5EdD0_0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Oh welcome to presume technologies I am
venket this is part 69 of asp.net video
series in this session we'll discuss
about exception handling in asp.net
before continuing with the session I
strongly recommend to watch but 66 67
and 68 of this video series exceptions
are unforeseen errors that happen within
the logic of an application for example
when reading a file a number of
exception conditions can occur the file
may not exist on the web server or you
may not have permissions to access the
file let's actually look at an example I
have an asp.net web application project
here on this web form one dot aspx I've
got a gridview control and a label
control and I have an XML file called
countries dot XML which has got a list
of countries and every country has got
an ID name and continent we want to
display this XML data within this grid
control on this web form and we want to
do that in the page load event so as
soon as the webform loads we want to
display the data in the grid view
control so the easiest way to do that is
by using a data set object so data set D
s is equal to new data set and this data
set object has got read XML method which
is capable of reading the XML data
provided you know we give the path for
the XML file now this is an asp.net web
application project so we need to map
the virtual path to the physical
directory and to do that we can make use
of the server dot map app method we have
discussed about server dot map path
method in a previous sessions of this
video series so let me use server dot
map path and then to this we specify the
path so till indicates the root
directory of the web application project
within the root directory I have
countries dot XML file read that XML
file and then load the data into the
data set so once we have the data within
data set it's very easy to set that as
the data source for the grid view
control so grid we want our data source
is equal to data set and finally we call
the data bind method that's it with this
code in place we should be able to read
the data from the XML file and display
that within the grid
control now we have the file there and
the code is working fine as expected no
issues whatsoever but just imagine what
could happen if somebody you know goes
ahead and changes the name of this file
or even worries if somebody deletes that
file let's change the name of the file
and see what's going to happen so when I
change the name of the file or imagine
somebody has deleted that file and this
piece of code tries to read that file
and what's going to happen it will not
find that file so let me press ENTER
there and look at that I get an
exception here system dot IO dot file
not found exception ok so could not find
file this particular file is missing ok
so whenever there is an exception and if
it's not handled then that exception is
called as an unhandled exception
unhandled exceptions in asp.net are
displayed using this hello screen and
usually this elder screen is referred to
as yellow screen of death and displaying
this ello screen of death to end-users
is bad for two reasons number one
there're message here is very cryptic
and it doesn't really make any sense to
the end-user and number two a hacker may
use this information to end to hack into
your application that's why we should
never display this yellow screen of
death ok this should only be used by
developers to debug you know the
exception that's happening otherwise
there is no reason why we should be
displaying this to the external world so
when an exception occurs and if it's not
handled then that exception is called as
an unhandled exception an unhandled
exception is displayed to the user using
a nella screen of death displaying the
screen of death is bad for two reasons
there are messages a cryptic and may not
make sense to the end-user the exception
information may be useful for a hacker
to hack into your application now how do
we handle exceptions we can use the try
catch blocks okay try block so we're
going to wrap the code in a try block
that could possibly cause an exception
if a statement within the try block
causes an exception the control will
immediately be transferred to the catch
block so we know that this code is kind
of causing an exception and it's
possible this piece of code can cause an
exception so I'm going to wrap that
inside a try block and if any of these
lines throws an exception then we are
going to have a catch block and if you
remember the type of exception that we
have caught just now is system dot IO
dot file not found exception so usually
in real time what we do is after we
handle the exception we log that
exception information to a database or
an event to be worth depending on the
standards of the organization okay so we
will see how to log the information to
the event viewer or to a database in a
later video session in this session we
will see how to handle exceptions using
try catch block but in reality remember
we log the exception information so that
we know what exceptions are happening so
that some of the developers can work on
those exceptions and resolve those
errors okay and in many organizations we
also send emails to administrators
notifying that there is an exception
situation and somebody needs to address
that and we will talk about
notifications as well in a later video
session in this session we'll purely
concentrate on using this try catch
finally blocks okay so we lock the
exception information and then maybe
we'll display a meaningful message to
the end user
maybe we'll just say file is missing or
some other message that makes sense to
the end user okay so now if we run this
instead of getting that screen of that
you know it will show that meaningful
message using that label control file is
missing okay and if you look at the way
we are handling the exception here we
are using a specific exception file not
found exception so when this piece of
code is getting executed if it if there
is a file not found exception then this
cache block can handle that but if there
is any other exception apart from file
not found exception then we are going to
have a problem this catch block will not
be able to handle that for example you
know every piece of code you know when a
dotnet application code executes it has
to execute and then under a user account
okay now to figure out what's the
account that is used to execute this
piece of a speed
code you know we can use this class or
system dot security dot windows
identities system got security dot
principal dot windows identity but get
current and we have this name property
so now when we run this application when
the page actually loads you should see
the name of the account under which the
application code is getting executed
which means this is the account that is
used to execute this application code so
now that account should have access to
this file otherwise you know we'll get
an access denied exception ok now let's
actually open this file in Windows
Explorer and to do that right-click on
the project open folder in Windows
Explorer and let's look at the
permissions on that file so it's country
is one dot XML so I'm going to go to the
properties of that and then click on the
security tab and if you look at that
there is this network service because
that's the account that we are using to
run the application code so network
service so what I'm going to do is I'm
going to disable the permissions to that
file for that account so I'm going to
deny access so I click apply say s so we
denied access to network service account
to that file the XML file and then let's
change that XML file to what it was
countries dot XML so the application
will try to read that but now if you
look at this this account does not have
permissions to read that file because we
specifically disable that ok now let's
go ahead and run that and see if this
cache block will be able to handle that
obviously it will not because you know
we will get a different exception now
look at that it's system dot
unauthorized exception unauthorized
access exception but this is file not
found exception so this catch block can
only handle file not found exception so
anytime you are you're handling specific
exceptions like this it's always a good
practice
to have the base exception in the end
okay now this catch block will be able
to handle any other exception now if
it's a file not found exception that
exception will be handled by this cache
block if it's any other exception then
it will be handled by this generic
parent exception block okay so if you
want to handle you know in this case
again this system got unauthorized
access exception you can handle that as
well so system dot unauthorized access
exception and then maybe here you will
display a meaningful message saying that
you know access is denied and maybe here
we may not exactly know what what caused
the exception to occur so we may display
some generic message like this there is
an unknown
so something like that there is an
unknown problem IT team is currently
working on this issue please check back
after some time and obviously before
that we need to log the exception and
the same is the case here as well so
always we should be logging exceptions
and sending notifications to the
required party so that they can
investigate the exception situations
okay so exception handling using
try-catch wrap the code in a try block
that could possibly cause an exception
if a statement in the try block causes
an exception the control will be
immediately transferred to the catch
block cache block catches the exception
and tries to correct the error and/or
handle the exception
now this catch block if you look at this
here we are handling the exception and
we are logging the information about
that exception to the database and then
we are displaying a meaningful message
to the end user
but in reality we may also use this
cache block to correct errors to correct
this exceptional situations for example
let's say within this try block I'm
trying to send an email and then to send
the email we need an SMTP server address
so basically in my organization let's
say we have two to three SMTP servers
now when I'm trying to send the email
using the primary SMTP server maybe that
server is busy or down so I was not able
to successfully send the email so it
three-oh an SMTP server exception so
obviously it comes to the cache block in
the cache block
I may have SMTP server exception here
and then you know once I have catch that
exception I can try to resend that email
using a secondary SMTP server if I am
successful I have actually corrected the
situation if I am NOT successful even at
that point of time then probably I will
stop sending emails and log the
information so that the IT team can
investigate that
so catch block can be used to correct
exceptional situations as well and
finally you know block you know try
catch and finally finally block is used
to clean up resources for example if we
are accessing database resources we know
that database connections are valuable
so database connections are always
closed in the finally block why because
the final
Blagh is guaranteed to execute
irrespective of whether there is an
exception or not some of the people may
say why can't I have you know if I'm
accessing database code here okay why
can't I close the connection in the end
now if you close the connection in the
end if if there is an exception here
when you are trying to execute the
statement then that piece of code will
not be executed and the control will be
immediately transferred to the catch
block so your connections might remain
open okay now irrespective of whether
there is an exception or not the finally
block is guaranteed to execute so it's
always good to have your cleanup code
here within the finally block and then
we have this through keyword which is
used to raise an exception so if you
want to intentionally throw an exception
then we use through keyword the base
class for all exceptions is the
exception class specific exceptions
should be caught before catching the
general parent exceptions and that's
what we have seen so we have specific
exceptions on the top and then the
general parent exception at the bottom
in this session we discussed about using
you know try catch blocks basically to
handle errors in a later video session
we'll actually discuss about how
exceptions are generally handled in a
real-time asp.net application I mean
we'll discuss about the asp.net error
events we have page underscore error
application underscore error and we'll
also discuss about how to use custom
errors to display you know a customized
data page to the end user and we'll also
discuss about logging and sending
notifications when exceptions occur on
this slide you can find resources for
asp.net c-sharp and sequel server
interview questions that's it for today
thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>