<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Deleting data from gridview using sqldatasource control | Coder Coacher - Coaching Coders</title><meta content="Deleting data from gridview using sqldatasource control - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Deleting data from gridview using sqldatasource control</b></h2><h5 class="post__date">2013-02-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_mSxK_YUYm4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to presume technologies I
am Frank ed this is part 13 of asp.net
grid-view tutorial in this video we'll
discuss about deleting data from grid
view using sequel data source control on
this slide you can see this grid view
control displaying employee data every
employee data row has a delete button
next to it so when the user clicks this
delete button we want to show this
client-side confirmation box are you
sure you want to delete this cannot be
undone now when the user clicks on this
OK button that's when we should delete
the row if the user clicks cancel button
then nothing should happen let's see how
to achieve this using sequel data source
control so in the database I have this
table TBL employee which has got some
sample data first let's see how to
display the sample data in the grid we
control and then we'll discuss about
enabling the grid view control to delete
rows from add so let's flip to visual
studio let's drag and drop a grid view
control onto the waveform let's auto
format that and let's drag and drop a
sequel data source control as well let's
configure that let's select the
connection string from web config file
let's click Next
the table name is TBL employee so let's
select that we want to display all the
columns in the grid view control so
select star from TBL employee let's
click Next
test your query click finish so we are
done configuring sequel data source
control now let's flip this waveform to
the source mode and look at the
configuration of the sequel data source
control it has got connection string and
only the select statement select star
from TBL employee ok
now let's flip it back to design mode
and let's associate the sequel data
source control with this grid view
control and look at this the moment I
have done that I have I get three
options enable paging sorting and
selection but I don't have an option to
enable deleting ok now let's go back to
sequel data source control and
reconfigure this configure data source
you know our connection string there
click next TBL employee select star from
TBL employees the query now on this
result I have this advanced button so
let me click this advanced button and
look at this I have this option generate
insert up
and delete statements so when I check
this box this wizard is going to
automatically generate insert update and
delete statements for me it's going to
write those sequel statements
automatically now if you remember in
this employee table employee ID is the
primary key column so that will be used
you know to delete to generate the
delete statement so delete from TBL
employee where employee ID is equal to
whatever is going to be the employee ID
okay so now let's flip back to visual
studio so let's select that generate and
set update and delete statement look at
this the moment I check this box I get
another option here use optimistic
concurrency so what's this use
optimistic concurrency we'll discuss
about that in our next video session for
now let's click OK and let's click next
finish now let's flip this waveform to
the source mode look at this along with
you know the Select statement I also
have delete statement insert command and
update command and then obviously
corresponding parameters as well
delete parameters insert update
parameters at the moment we only want to
enable this grid view control for delete
operation so I don't want the insert and
you know update command so let me go
ahead and get rid of those commands so
insert command and then let's delete the
update command as well alright so let's
get rid of these insert parameters and
update parameters okay so if you look at
the delete command says delete from TBL
employee where employee ID is equal to
add employee ID okay so at employee ID I
mean that's the parameter so we are
using parameter rise to queries so this
parameter is going to get its value from
employee ID column okay
and it's data type is integer alright so
with this change now if we flip the
webform to the design mode and then if
we go back to the grid view control look
at this I have this option now enable a
deleting and the moment is select enable
deleting look at this it shows the
delete button here okay now if I flip
the webform to the source mode
look at this in the gridview control
along with the bone fields which display
you know employee ID name gender and
city I also have a command field okay
which is showing this delete link button
now if you don't like the link button if
you want to change the button to
something else you can actually change
that here you can specify you know
button type and then you can specify
okay I don't want link button I want a
push button you can select that and if I
do that and if I flip this waveform to
the design would look at that I get a
push button okay but let's change it
back to link button the default one all
right so now if I go ahead and run this
at this time we should be able to delete
the row from the database you know when
we click that delete button but then we
will not have any client-side
confirmation box look at this the moment
I click on let's click this is 6th row
delete the 6th row the moment I click
that look at that it goes away now if I
go back to sequel server table select
star from it that employee table look at
this I don't have that row ok it got
deleted but we want a client-side
confirmation box as well because delete
is a dangerous operation once you delete
that row you know it cannot be undone so
it will be better if we show a
confirmation to the user before we
actually delete that row so how do we do
that
now in order to show the client-side
confirmation we need to inject
JavaScript on into you know this buttons
on client click event ok so on the
client side when I click the button what
should happen we should show that
JavaScript confirmation box ok and in
JavaScript we have a function called
confirm a function ok this confirm
function returns true if I click OK on
this button and if I click cancel it's
going to return false
ok let's see how to inject the
JavaScript into that button control ok
to do that obviously I'm going to use
the data you know raw data bound event
of this credit control so right click on
the grid we control go to the properties
and then within the properties of the
gridview control click on this events
icon through data bound event let's
generate the event handler so if you
look at this grid view control we have
the delete button only next to data rows
I don't have it next to the header okay
so when I click the delete button next
to data row that's when I need to
generate the client-side confirmation
dialog box so we need to check in the
control you know this row data bound
event if you remember this will be
raised for every row including the
header okay so if it is data row so
through da true type is equal to data
control route i p-- dot data row so if
it's going to be data row then what we
want to do so within each data row in
the first cell I have a control which is
of type link button so this is link
button so in the first row so e dot Rho
dot in the first cell cells of 0 dot
can't roles of 0 so in this cell I have
one control which is link button
I want that first control okay now look
at this dis controls property you know
when I apply an index on that it's going
to return a control bag okay look at
this the moment I open the square
bracket it's going to return a control
back so let's do that in a variable of
type control so let's call it control
but we know that this control is
actually a link button okay now it's
actually safe to check if it is a link
button so I'm going to check if control
is link button then what I basically
want to do I want to typecast this
control to be of type link button so
control and let's typecast that to be of
type link button and every button
control has got on client click property
ok so on client click event basically
when when somebody you know clicks this
on the client side what we want to do we
want to inject that JavaScript which is
going to show that client-side
confirmation box so on client
like what do I want to do I want to
return the JavaScript function confirm
and then look at this what message do we
want to show are you sure you want to
delete this cannot be undone so let me
copy that message and paste there so
into the JavaScript function I am
passing this message so this confirm
function is going to display this dialog
box with that message with okay and
cancel button when the user clicks on
okay it's going to return true when the
user clicks cancel it's going to return
false so and then we are saying whatever
this function is going to return return
that value true or false so when this
function returns true we are returning
true to one client click event so that's
when the waveform web will be posted to
the server
if it returns false then it will not
post the waveform back to the server
okay
so it's as simple as that so let's put a
semicolon there and that's it okay now
let's go ahead and run this
let's close this waveform so now when we
click this delete button we should care
the client-side confirmation box are you
sure you want to delete look at this
click the delete the moment I do that I
get this confirmation when I click
cancel nothing happens but on the other
hand when I click OK it should delete
that row okay very simple in our next
video session we'll discuss about doing
exactly the same thing but using object
data source control on this slide you
can find resources for asp.net c-sharp
and sequel server interview questions
that's it for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>