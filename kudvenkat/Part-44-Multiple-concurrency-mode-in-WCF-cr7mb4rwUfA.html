<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 44   Multiple concurrency mode in WCF | Coder Coacher - Coaching Coders</title><meta content="Part 44   Multiple concurrency mode in WCF - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 44   Multiple concurrency mode in WCF</b></h2><h5 class="post__date">2014-04-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/cr7mb4rwUfA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">part 44 of wucf video series in this
video we'll discuss the multiple
concurrency mode in the VFC with
examples this is continuation to part 43
so please watch but forty three before
proceeding when we set the concurrency
mode at a single only one thread is
loved to access the service instance
once this thread one has got hold of the
service instance there is an exclusive
lock that is acquired which means no
other thread is allowed to access that
same service instance all the other
threads trying to access that service
instance are blocked and are queued once
this thread one has finished and once it
has released the lock that's when the
next thread in the queue can access the
service instance
so with single concurrency mode only one
thread is allowed to access the same
service instance at any given point of
time
now the WCF service as a whole is it
capable of processing calls concurrently
or not you know that is also dependent
on the service instance context mode and
whether if the underlying binding
supports sessions or not and that is the
case only when the concurrency mode is
set to single now when we set the
concurrency mode to multiple the service
instance context mode and whether the
underlying bindings support sessions or
not doesn't really have any influence on
the capability of the WCF service as a
whole to process calls concurrently
we'll look at that in just a bit now
with multiple concurrency mode an
exclusive lock is not acquired on the
service instance
so obviously this means multiple threats
that are loved attacks as a service
instance simultaneously and obviously as
a result you're going to get better
throughput that is more work done in a
given time but one thing to keep in mind
is that shared resources must be
protected from concurrent access by
multiple threads to avoid any
concurrency related issues in part 93 of
the c-sharp video series we discussed
what happens if shared resources are not
protected from concurrent access and how
to protect shared resources from
concurrent
access now when concurrency mode is set
to multiple requests are processed
concurrently by the service instance
irrespective of the service instance
context mode and whether the binding
support sessions are not but whereas
when we set the concurrency mode to
single the WCF service as a whole you
know is it capable of processing calls
concurrently or not is also dependent on
the service instance context more and
the underlying binding basically whether
the binding is capable of supporting
sessions or not we have seen that in the
previous session but with multiple
concurrency mode they doesn't you know
really have any influence let's actually
look at that in action so we'll be
working with the same example that we
worked with in the previous session so
here we have our WCF service at the
moment the concurrency mode is set to
single let's actually change that to
multiple and you know let's set connect
instance context mode to pair call and
if you look at the binding at the moment
we're using basic HTTP binding basic
HTTP binding doesn't support sessions
okay so let's go ahead and run our WCF
service and let's get to our client
application and at the moment the client
application is using basic HTTP binding
so let's go ahead and run the client as
well so here we have this service host
vendor so let's click get even numbers
and let's click get odd numbers now okay
let's actually clear results and then
try to click them simultaneously look at
that both of them started at the same
time ok so since we have said
concurrency mode to multiple you know
the service instance is capable of
handling calls simultaneously okay now
if we change the binding to net TCP
binding that does support sessions will
the calls be handled
concurrently absolutely the underlying
binding doesn't really have any
influence okay
so similarly when we set the instance
context mode to pair session or single
and if we have the concurrency mode to
multiple set to multiple you know the
calls are always processed concurrently
which means we all we're always going to
have positive impact on the throughput
so you can basically change you know the
instance context mode to whatever you
want and the binding to whatever you
want and test if that's what is the case
I have already done that and you know
when we set the concurrency mode to
multiple always you know multiple
threads are allowed access to the
service instance meaning concurrent
calls a process and there's going to be
a positive impact on the throughput
that's it for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>