<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular select list required custom validator | Coder Coacher - Coaching Coders</title><meta content="Angular select list required custom validator - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular select list required custom validator</b></h2><h5 class="post__date">2018-02-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BjsaaUNw4lk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 26 of Angela krodha
tutorial in this video we'll discuss how
to make this select list custom
validator configurable and reusable this
is continuation to part 25 so please
watch part 25 before proceeding now if
we take a look at this custom validator
that we implemented in our previous
video notice we have hard-coded the
default option value -1 within our
validator now if we take a look at the
Department select list here is the
default option and its value is minus 1
so our validator is going to check if
the selected option value is minus 1 if
that is the case then we know it's the
default option and the validator is
going to return this custom object to
indicate that it has failed required
validation now this validator is going
to work with any select element whose
default option value is minus 1 but if
you have a select element whose default
option value is something else other
than minus 1 then this custom validator
is not going to work let's actually
prove that let's change the default
option value here from minus 1 to minus
1 0 1 or even maybe something like
simply select now when we do this we
also have to make the same change within
our typescript class because we want
that option to be selected when the page
loads so let's set the department value
to select notice now when we don't
select a valid department we don't get
the required validation error our custom
validator is not working anymore so
let's look at the steps required to make
our custom validator configurable and
reusable to make our custom validator
reusable we want to be able to pass the
default option value from the butan
plate to our custom Val data instead of
having that default option value
hard-coded like this for that to happen
I'm going to make use of the custom
validator selector now we are using this
selector as a directive
on our select element that we want to
validate notice we are using that
selector as a directive right here so we
are going to use this directive to pass
our default option value from the
template to our validator and notice
here our default option value is select
so I'm going to set that as the value
for the directive
now all that is left to do is read this
value within our custom validator
and validate against that value to be
able to read this value within our
custom validator we have to first create
a corresponding input probably so the
first thing that I'm going to do is
import input from angular core next
let's create the property itself since
this is a directive input property the
name of the property must match the name
of the directive and the name of the
directive is the same as the selector so
let's name our input property app select
a validator and we know this is going to
be of type string and since this is an
input property let's decorate it with
add input decorator if you are new to
input properties we discussed them in
detail in our angular 2 tutorial now the
final thing that is left to do is remove
this hard-coded value minus one instead
we are going to use this input property
so if the selected value is equal to the
value that we have in our input property
so this input property contains our
default configured value so if the
selected value is equal to the default
value then the validator returns this
custom object indicating that the
validation has failed otherwise it
returns null to indicate that it has
succeeded validation now if you're
wondering why are we using triple equals
instead of double equals triple equals
not only checks the value it also checks
the underlying data types now let's save
our changes and I'll take a quick look
at the browser notice now when we don't
select a valid department we get the
required validation error as soon as we
select a valid department the error
disappears
so we have made our custom required Val
data configurable and reusable now we
can use this custom validator with any
select element in our angular
application
all we have to do is pass our default
option value using this directive input
property to our custom validator and the
custom validator will take care of the
rest now we already discussed a
directive input property must have the
same name as that of the directive and
that is the reason we named this input
property app select Val data for some
reason if you don't like this input
property name you can give it a
different name using an alias in this
case we are using this input property to
pass this validator the default option
value so I would really like this
property name to be default value but we
know this property is an alias for the
directive input property app select
value data so we specify an alias like
this and now we can use this property
name in our condition right here let's
save our changes and quickly test our
application to make sure it works
exactly the same way as before notice
even now it is working exactly the same
way as before
now if we take a look at our custom
validator file notice we have got two
linting errors reported by our lending
tool ts lend here is the first lending
error and here is the second one this
one is easy to fix all it's saying is
file should end with a new line so let's
include a new line right here the second
lending error here basically says
directive input properties should not be
renamed but if you want your directive
input properties to be renamed so you
can give them meaningful names you can
disable this linting rule and there are
two ways to disable this rule one way is
to click on this red squiggly line and
then we see a bulb here and when we
click on that we have this option and
when we click on this option notice the
rule is disabled and the red squiggly is
gone
the other way is to disable this role in
TS Lent dot JSON file notice the name of
the rule is no input rename let's copy
the name of the rule and when we scroll
all the way down in the Explorer window
we'll find this file ts Lent dot JSON
this file has all of our linting rules
and the rule that we are interested in
is this rule no input rename notice its
value at the moment is true we want to
disable it so I'm going to change it to
false since we have disabled this rule
in TS Lent dot JSON file we don't have
to disable it again here so we can
remove this line right here so here is
our reusable custom required valid data
that we can use with any select element
in our angular application thank you for
listening and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>