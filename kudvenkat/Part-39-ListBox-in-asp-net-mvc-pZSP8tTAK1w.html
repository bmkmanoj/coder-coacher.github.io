<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 39   ListBox in asp net mvc | Coder Coacher - Coaching Coders</title><meta content="Part 39   ListBox in asp net mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 39   ListBox in asp net mvc</b></h2><h5 class="post__date">2013-06-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pZSP8tTAK1w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this part 39 of asp.net MVC tutorial in
this video we'll discuss implementing
listbox in asp.net MVC please watch by
38 before proceeding we'll be using this
table TBL CT for this demo for every
city that we have caught in this table
we want to generate a list item with the
list box if the user selects multiple
cities and then once he clicks on the
submit button we want to display a
message showing the IDS of the selected
cities on the other hand if the user
didn't select any city and then once he
clicks on the submit button we want to
display a message stating you did not
select any city let's see how to achieve
this let's flip to visual studio
now if you remember from the previous
session for this table TBL city we have
generated an entity and that entity is
present in this sample data model which
is nothing but the ad ordinate entity
data model and notice the name of the
entity here it's city instead of TBL
city if you want to know how to
implement this our entity
please watch path 38 in this demo we'll
be making use of view models what is a
view model as the name suggests a view
model is specific to the view basically
view models are used to shuttle data
between a view and a controller that's
basically to move data from a view to a
controller and from a controller to a
view let's add a view model class to a
project so let's right click on the
models folder add a class file and let's
call this city's view model
and this class is going to contain two
properties so public I enumerable of
select list item and this class is
present in a different namespace system
dot web MVC so the name of the property
is going to be cities and this is going
to be an auto implemented property so
this property is going to contain the
cities that we want to display within
the list box now what is the list box
it's a collection of list item objects
so this property is nothing but an
ienumerable of select list item objects
alright and then we're going to have
another property but this one is going
to be of type I a numeral of string and
the name of the property is going to be
selected cities again auto implemented
property and this property is basically
used to receive you know the cities the
IDS of the cities that the user has
selected within the list box okay so a
very simple view model class with two
public properties now let's implement
the index action within the home
controller now first of all let's build
our solution so that this view model
class is compiled let's flip to the home
controller and this view model class is
residing in this MVC demo dot models
namespace since we want to use this view
model class within the home controller
let's go ahead and include this
namespace and then if you remember from
path 38 within this area dotnet entity
data model we have sample dbcontext
class so let's go ahead and create an
instance of that and this class has
city's property which is going to
retrieve all the cities from this table
TBL city so now we are going to create
an instance of you know select list item
so list of select list item let's call
this
list select list item and then we are
going to use a for each loop to loop
through each city and then for each city
we are going to create a select list
item object so for each set a and how do
I get hold of the city's DB dot cities
property would give us all the cities so
for each city in this collection we want
to create an instance of select list
item object so select list item
and then this class has got three
properties the text which is nothing but
the city name and value is going to be
city ID
and finally whether if that select item
should be selected or not within that
next list box so there is selected
property again which is of type boolean
and then to initial I will initialize
that with is selected boolean property
of the city or object and then once we
have the Select list item object added
to this list
okay so by this point for every city we
have generated a select list item object
and added it to this collection so now
let's go ahead and create an instance of
a view model class so cities view model
let's call this cities view model is
equal to new cities view model and then
we are going to initialize this cities
property and if you remember how you
know what is the type of the city's
property I enumerable of select list
item objects and we have here a list of
select list item objects so we are going
to set that as the value for the cities
property and then hand this object to
the view okay so this is the index
action method that is going to respond
to the HTTP GET operation so let's
decorate this with HTTP GET attribute
and then let's implement our index view
so let's right click on the index action
select add view from the context menu
the name of the view is going to be
index we are going to make use of raised
view engine create a strongly type to
view against our view model class which
is nothing but cities view model and
let's select empty as this careful
template because we are going to write
the HTML that's required and then click
Add so this should generate the index
view within the home folder all right so
we want to generate you know a list box
control and to generate a list box
control we are going to make use of list
box for HTML helper but before that
let's actually set the font family to
area and to do that I'm going to make
use of div tag and set this style
attribute
and notice this for this view the model
object is nothing but cities few model
and this object has got cities property
which is nothing but a collection of you
know select list item objects okay so we
first need a form tag so and to generate
the form tag we are going to make use of
begin form HTML helper and then we're
going to make use of this list box for
HTML helper to generate in our list box
and then the first parameter for this
helper is going to be a link expression
X such that X dot and if you remember
this model object has got the selected
cities property so that is going to be
of first parameter and the second
parameter notice that I enumerable of
select list item objects and where do we
have this ienumerable of select list
item objects within this model object
there is a property called cities which
is nothing but ienumerable
of select list item object so model dot
cities that's it and then we want an
HTML break and then a submit button so
input type is equal to submit and value
is also going to be submit
okay and then let's implement you know
once we click the submit button we want
to handle you know the postbag and to do
that within the home controller
let's have index action method that is
going to respond to that post operation
so let's decorate this with HTTP POST
attribute and then this method once we
post the form back this is going to
receive I enumerable off string and this
is going to receive you know selected
cities if the selected city is if that
is now then we know the user did not
select any city in that case we want to
return a string back so that let's make
the return type string because we just
want to you know return a string like
this
so if selected cities is now then what
we want to return you did not select any
city else if it is not now then we know
the user has selected at least one city
in which case we want to return the IDS
of the selected cities okay so we're
going to make use of string builder
class and that class is present in
system dot text namespace so let's
include that and then let's create an
instance of string builder class
and
let's up and you know whatever cities
you have selected so you selected and
then look at this the selected citizen
it's nothing but it's an ienumerable of
stream meaning collection of strings and
then if you look at the message we want
you selected and then a comma separated
list which is nothing but the IDS of the
selected cities so this property is
going to receive you know the IDS of the
selected cities all we need to do right
now is to you know append a comma for
each city ID within this collection and
to do that the string class has got a
function called join so we want to join
you know what is the separator that we
want within the string comma so the
separator here so if you look at this
joint function this separator is going
to be the comma and then you know we
pass our collection you know the city ID
values as the second parameter so for
each city it's going to separate say for
each city ID you know it's going to
append a comma that's it and finally
they return the stringbuilder after
converting it to the string that's it
with all these changes let's actually
run this and see if it works as expected
so when the form renders for every city
it has to you know basically end a list
item so notice that we have London New
York City Mumbai all the cities there
basically so let's select London and
Sydney subnet and notice that you
selected one and three on the other hand
if we don't select any city submit look
at the message you did not select any
city now look at the list box at the
moment one two three and four for list
items are displayed within the list box
you know and then we have a scroll bar
here now let's say I want all the six
items to be displayed within the list
box and I don't want the scroll bar how
can you set
many items you want to be displayed with
in the list box you can pass that as an
HTML attribute so let's stop debugging
and then if you notice this list box for
HTML helper you know there is this third
parameter which is nothing but the HTML
attributes so I can pass the HTML
attributes as anonymous type and the
attribute that we are looking for here
his size so I am setting the size to 6
so the distance let's actually run this
and look at that there is no scrollbar
now and all the list items within that
list box are visible now if you want to
select multiple items within the list
box hold down the control key so I might
look at that the IDS of the three
selected cities on this slide you can
find resources for SB dotnet see sharp
ends equal zero interview questions
that's it for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>