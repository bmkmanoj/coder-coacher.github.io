<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Alter database table columns without dropping table   Part 67 | Coder Coacher - Coaching Coders</title><meta content="Alter database table columns without dropping table   Part 67 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Alter database table columns without dropping table   Part 67</b></h2><h5 class="post__date">2013-08-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eQu_kRlvinE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this part 67 of signal silver tutorial
in this video we'll discuss altering
database table columns without dropping
the table let's understand this with an
example we'll be using this table TBL
employee for this demo notice that this
table has got ID name gender and salary
columns and I have used this create
table script to create the table TBL
employee and if you notice the salary
column and where care is the data type
and this is the sequel script to
populate it with some sample data if you
need the sequel script I will have it
available on my blog and let's say based
on this table we want to write a query
which is going to list the total
salaries of employees grouped by gender
so we want the output to be like this
so let's write a query for that so
select gender and we want some of salary
and let's give it as Emily as total from
table TBL employee and we want to group
the salaries by gender and keep in mind
the salary column data type is envy cap
and let's try to execute this and see
what's going to happen look at the error
message it states opening the data type
and work ad is invalid for some operator
so basically this error message is
stating we cannot use the salary column
with some aggregate function that's
basically because it's data type is n
we're cap so we need to change the data
type of this column from n we're care to
integer and one way to do that within
the object Explorer right click on the
table TBL employee click design and
notice the data type of the salary
column it's n we're cap let's change it
to integer and let's try to save it and
see what's going to happen look at that
I get a warning saving changes is not
permitted basically this is telling we
need to drop and recreate the table and
if you remember this table has already
got some data as well so if we drop and
recreate it we are going to lose that
data so how do we get rid of this
warning
saij okay basically there are two ways
option one use a sequel query to alter
the column okay so instead of using the
sequel server designer we can simply use
a sequel query so let's write the sequel
query all the table TBL employee and
within that table we want to alter the
column salary and we want to change the
data type to integer so let's execute
that and let's now run this query and
see if it works as expected look at that
it works as expected so this is one
option and the second option is
basically to disable this option within
sequel server so prevent saving changes
that require table recreation okay
this option is on by default within
sequel server all we need to do is
disable that option and to do that go
back to sequel server within tools
select options and then expand designers
and under that table and database
designers and uncheck this checkbox
prevent saving changes that require
table three creation click OK
now let's try to design the table now at
the moment salary data type is integer
maybe let's change it to something like
maybe small integer let's save the
changes and see where it works look at
that it gives a warning but that's fine
once I click yes look at what's going to
happen the table the changes are saved
and as you might expect and we execute
this query we get the same output that's
it for today thank you for listening a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>