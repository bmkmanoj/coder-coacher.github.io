<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to show images from database in gridview in asp net | Coder Coacher - Coaching Coders</title><meta content="How to show images from database in gridview in asp net - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to show images from database in gridview in asp net</b></h2><h5 class="post__date">2015-08-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sFkeJb7E_rk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 171 of asp.net tutorial in
this video well discuss how to retrieve
images from database table and display
them in a grid view control this is
continuation two parts 169 and 174 chose
videos before proceeding here is what we
want to do when this web page initially
loads we want to retrieve all the images
from the database table and display them
in a grid view control as you can see
here we want to display the image ID
name the size and bytes and the image
itself now when we select a new image to
upload using this choose file upload
control and then when we click this
upload button we want that new image to
be uploaded to the database table and
then immediately this grid view control
should refresh and then display that
newly uploaded image so let's see how to
achieve this let's flip to visual studio
this is the same example that we worked
with in the previous video session at
the moment on this page we don't have a
grid view control so let's drag and drop
it from the tool box and the grid view
control should be under data tab now
what are the columns that we want within
this grid view control we want ID name
size and image ID name size these are
going to be bound fields and the column
that's going to display images is going
to be a template field so let's include
the columns element within the grid view
control and the first thing that we want
is a bound field let's set the data
field on that to ID that's the name of
the column to which we want to bound
this data field I'm in Bound feel and
similarly let's specify header text
header text is also going to be ID we
also need bounds wheels for name size so
here the name of the data field is going
to be name and for size it's going to be
size header text for name is going to be
name and for size it's going to be size
and within brackets let's specify bytes
so basically this indicates to the user
that the size is n bytes and to display
the image itself we are going to use a
template field and for this template
field let's set the header text
let's set it to image and for the
template field let's specify an item
template and within the item template
let's drag and drop an image control
from the toolbox so this is the control
that will display the images alright for
this element let's go ahead and set
height to 100 pixels and width also to
100 pixels and let's set the image URL
so I'm going to set image URL to a
string basically I am going to use a
data binding expression here now we want
to bind this binary data to this image
element okay so we are going to use a
data binding expression here and the
data binding expression starts with
angle brackets percentage hash and this
is going to be a string so basically we
want to bind this binary data so we need
to specify that using data : so data :
image for slash PNG semicolon so we are
going to bind this to a base64 string so
base64 and to this we will have to
append the base64 representation of the
byte array that we are going to get from
this column image data to convert that
byte array to a base64 string I am going
to use thumb word dot to base64 string
function and to this function we are
going to pass the data that's present in
image data column so to retrieve the
data from image data column we are using
this eval function and the name of the
column is image data and if you look at
this eval function it returns that byte
array as an object but we know that it's
a byte array so I'm going to convert
that to a byte array so that bihter it
gets passed to this function and this
function is going to convert that way
base64 string and that will be appended
to this string right here and this image
element will be able to display that
image so let's save our changes and now
let's get to the code-behind file with
no code behind file now let's include a
private function to load all the images
from the DB so private void and let's
call this load images and here we are
going to write some ad or dotnet code
the first thing that we want to do is
read the connection string from web
config file so configuration manager dot
connection strings of the name of the
connection string is DVCS let's read
that and now let's go ahead and create
sequel connection object let's call it
con
equals new sequel connection and to this
let's pass the connection string now
let's create sequel command object let's
call it CMD equals new sequel command
and our sequel command is going to be
select star from TBL images table and to
this let's pass the connection object
now let's open the connection and
execute our command
so execute Reda is going to return a
sequel data reader object so let's store
that in a variable and let's set that
reader as the data source for our grid
we control and then call the data bind
method alright so this function is going
to load all the images from the DB now
when the web page initially loads we
want to load all those images so I'm
going to call this function inside this
page load event so when it is the
initial get request we want to load all
the images and then when we click the
upload button the selected file it
should be uploaded to the DB and the
grid view should refresh upon you know
successful upload and that newly
uploaded image should be displayed
within the grid read control so this is
the piece of code that is executed when
we click that button upload button and
when it reaches this point you know we
uploaded the image and we display the
hyperlink and upload successful messages
at that point we want to call our load
images function which is going to load
the images and display them within the
grid view control so
let's run this and see if the images
gets loaded on the initial page load at
the moment I think in the DB we've got
two images so both of them should be
displayed in the grid we control look at
that we get ID name size and the image
itself in addition we also have ID name
size columns again that's basically
because we have said we have not said
auto-generated columns to false so
that's where it sort of generating
columns for us let's go ahead and turn
that off
Auto generate columns equals false so
let's save our changes reload this page
and now we don't get those columns from
the d-beam all right let's go ahead and
upload a new file so I want to upload
this image now let's click upload the
image should be uploaded and the grid
view should refresh and display the
image that we have just uploaded they
made the pages reloading we get the
newly uploaded image let's try one more
and click upload and look at that we get
an error it says max maximum request
length exceeded so basically here you
know what's happening is the default
maximum file size that can be uploaded
you know is exceeded and that's the
reason why we get this error and to
increase that limit you know by default
it's 4 MB so if it's greater than 4 MB
then we are going to get this error so
we have to increase the max request
length that can be uploaded and to do
that we use this HTTP runtime element in
system dot web and set max request
length to whatever you know that suits
your application in this case I have a
number that's basically 1gb we set that
in kilobytes and you know we know that 1
megabyte equals thousand 24 kilo bytes
so if we multiply thousand 24 with
thousand 24 we get the number of
kilobytes in a gigabyte so that's the
number of gigabytes so let's kilobytes
so let's copy them and let's go to a web
config file
so within web config file on the system
dot web I'm going to include HTTP
runtime element and I'm going to set max
request length equals the number you
know that we see in the calculator so
that is equal to 1 GB now if you're
using IAS 7 and above in addition to
this setting you also need to set max a
loved content length okay so and that is
present in system dot web server
security request filtering and request
limits so in configuration let's include
system dot web server and under this
security under that request filtering
and under that request limits and we
want to set max allowed content length
and this setting is in kilobytes so I
mean is in bytes so this setting max
request length it's in kilobytes whereas
this one is in bytes so if you want to
set this to 1gb then you multiply this
number by another 1,024 because one
kilobyte has got 1,024 bytes so that is
the number of you know bytes in a
gigabyte so let's copy that number and
specify that as the value here and in
addition to max request length you also
need to set execution timeout there's a
default setting I don't remember the
exact number but if the request takes
long time to process because you are
uploading a large file and if it exceeds
that default timeout then it's going to
suspend the processing and you will get
an error so to avoid that you know
increase this execution timeout to a
value that suits your needs so here I
have increased it to 3600 seconds so
let's go ahead and do that here
execution timeout and I'm going to set
that to 3,000
six-hundred alright so with all these
changes let's run our page one more time
now we should not get that error max
request length exceeded so when the
webpage initially loads it should load
all the images now if I try to upload
another image it should upload without
any problem so it's still uploading it
and once the upload is successful it
should reload the page and all the
images including the one that we have
just uploaded thank you for listening
and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>