<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Composite Design Pattern | Coder Coacher - Coaching Coders</title><meta content="Composite Design Pattern - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Composite Design Pattern</b></h2><h5 class="post__date">2018-01-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EXuaKKAlfqE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone welcome back this is part
19 of the design patterns tutorial in
this session we will discuss what is
composite design pattern implementation
guidelines of composite design pattern
and we'll take a look at a simple
example to implement this pattern please
refer to the previous parts of the
tutorial before proceeding as for the
gang of four definition composite
pattern states that we need to compose
objects into tree structures to
represent part-whole hierarchies
composite let's climb treat the
individual objects and composition of
the objects uniformly let's so first
understand what composition means
composition means a thing made up of
several parts or elements in software
engineering the composite pattern is a
partitioning design pattern so we can
see that the composite pattern describes
a group of objects that is treated the
same way as a single instance of the
same type of the object let's now take a
look at the implementation guidelines of
composite design pattern we need to
choose composite design pattern when we
want to represent part-whole hierarchies
of objects when we want clients to be
able to ignore the differences between
composition of objects and individual
objects which means clients will treat
all objects in the composition structure
uniformly let's now take a look at the
representation diagram of composition
design pattern as per the Gang of Four
definition clients use the component
interface to interact with objects in
the composite structure component is the
abstraction for all components including
composite ones component declares the
interface for objects in the composition
and the leaf represents leaf objects in
the composition leaf implements all the
component methods the composite
represents a composite component please
note that composite components have
children and they could be composite
child's or Leafs also composite
implements meth
Hertz to manipulate children composite
also implements all component methods
generally by delegating them to its
children if you take a closer look at
this representation diagram the
composite pattern can violate the Liskov
substitution principle as we end up with
a dummy implementation of add and remove
methods at the leaf throwing runtime
error as add and remove operations at
the leaf doesn't make any sense or
significance however at this point of
time Liskov substitution principle is
out of scope of further discussions
hence we strongly recommend you to refer
to the Liskov substitution principle
session for more details now coming back
to your current discussion we should
always keep in mind that a design
pattern is a general repeatable solution
to a commonly occurring problem in his
software design of course applying
design pattern with the solid principles
brings our best efficient code practices
with problem solutions however our goal
is to represent the part and whole
hierarchy of the objects in the same way
hence we can change this representation
slightly in a new form as shown on the
screen if you compare the previous and
the current one notice that we have
changed the component methods to have
the one which can be implemented by both
leaf and composite nodes additionally we
have add and remove methods at the
composite level let's take a look at the
another representation diagram with the
comparison notice that at the component
level we have changed it a bit
to add her to the solid design
principles after all this you might be
wondering what is composite what is leaf
and what's all this design pattern about
to answer that we have many day-to-day
example usage of this design pattern
some of them are the computer
representation which consists of a
system with a hierarchy also an
organization with an employee structure
which has employees as well as their
managers in
different departments and of course in a
day-to-day life of a person's family
tree structure can be represented as
composite design pattern let's now
switch to visual studio and see how we
can implement this with a simple example
to save some time I have already created
a console application and created an
interface called AI employee which has a
single method implementation to retrieve
the employee details this interface is a
component of this application and for
representation purpose I have created a
folder called component and mood this
interface and that this component folder
again I would like to reiterate that
it's not mandatory to follow this folder
structure as we are just doing this for
representational purpose now we need to
create an employee that implements this
interface and please note that the
employee will be the leaf of the
organization let's right-click on this
leaf and new item choose glass let's
name this class as employee dot CS and
this will be our leaf class so let's
replace this code with the code which I
have in my notepad to make the things
faster now let's solve this issue by
using interface implementation and
notice that we are inheriting the I
employee which is a component and the
employee which is a leaf and we are
implementing the get details method we
are just printing the name and
Department of this employee in the get
details method to the console program
let's say we need to classify the
employees in an organization and
associated designation to them in order
to achieve that composite design pattern
comes handy to represent that
Association but then the question comes
how do we do that
to answer that we just need to create a
manager who manages his subordinates to
achieve that let's create another class
called manager under this composite
folder right-click a new item and choose
a class
and let's name this class as manager to
make the things faster let me copy the
code for this manager implementation
let's just solve this missing references
now as you know that manager represents
a composite component which means
manager has children which are called as
subordinates and that subordinates are
the collection of employees who are
reporting to him so let's create the
representation by adding list collection
of employees and call them as
subordinates let's quickly do that also
let's initialize these subordinates in
this constructor of manager as discussed
in the beginning of this session we do
need to implement all component methods
and we achieve that by delegating them
to its children now if you notice that
in the get details method we are just
printing the manager details only
however to retrieve the details of
subordinates we need to traverse through
the child employees and get their
details so let's do that or here for
each we can take fer loop or for each
loop for our convenience let me take for
each loop or here say where employee in
subordinate collections let's just print
employee dot get details for each of
these managers Barnett's
we are going to invoke the get details
method which is the leaf method of
employee and notice that whenever it
invokes the gate details of the employee
subordinates it's going to print the
employee details now that we have
created the component composite manager
and leaf employee let's use these in the
client method which is our console
program let's switch to the console
program
to make the things faster I have already
added few employees in the console
program
notice that we have five employees who
are John Mike Jason Eric and Henry and
they belong to IT and HR departments
also we have created two managers James
and Phillip who belongs to IT an HR
department and they managed IT and hatch
our departments we have also added their
subordinates according to these
employees who are in IT and HR
department we have also created Bob who
is the manager of this institution or we
can say that the bob is the head of the
institution who manages both James and
Phillip who belongs to IT and HR
department and they are the managers of
IT and hitch our department
now if the endline need to get the
details of bob we retrieve the details
of Bob as well as his managers and this
subordinates because bob is acting as a
composite manager here which traverses
through the other composites as well as
the Leafs to make the output represent
as an hierarchical structure I have
modified the methods to print a visual
indentation for managers and employees
notice that we have added a parameter
called indentation which is of type
integer also we have changed the
implementation of gate details to add
this indentation before printing the
name and department for the visual
representation have done these changes
both in the gate details of manager as
well as employee to make the things
faster let's run this application now
notice that we have the complete
composition details of the Bob who is
the head of the department and his
subordinates were James and Phillip
along with their subordinates which are
the leaf employees
now let's switch back to this
application and do a little change over
here instead of retrieving Bob's get
details let's retrieve James dot get
details and let's run this application
notice that we have the composition of
James who is an IT manager along with
the subordinates who are the leaf
employees who are John and Mike I hope
now you are clear with composite design
pattern implementation in the next
session we will discuss decorator design
pattern till then thank you for
listening and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>