<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 71   childactiononly attribute in mvc | Coder Coacher - Coaching Coders</title><meta content="Part 71   childactiononly attribute in mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 71   childactiononly attribute in mvc</b></h2><h5 class="post__date">2013-08-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OmLnOOCy6_U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">spot 71 of asp.net MVC tutorial in this
video we'll discuss child action only
attribute in MVC let's understand this
with an example let's flip to visual
studio here I have a blank asp.net MVC
for application let's add a controller
and let's call it home controller we
already have an index action method here
let's create another action method and
let's call it countries and this
function is going to receive a list of
country names as a parameter country
name is of type string so the parameter
type is going to be list of type string
and let's name the parameter s country
names and let's pass these country names
to the view now let's go ahead and add a
view let's name it countries a few so
this should add countries view now look
at what we are passing to the view via
passing list of strings so the model for
this view is going to be list of strings
now what are we going to do with these
country names we want to basically print
them using an unordered list so I'm
going to use an unordered list and then
an unordered list contains list items so
I'm going to loop through each country
name and then print the country name as
part of that list item so let's use a
for each loop
and let's call the variables country in
our model which is nothing but list of
strings so what do we want to do with
this country name we want to print that
as part of a list item and we also want
to let's say for example bold the name
so let's use a bold tag as well and
let's print the country name okay now
let's go back to the home controller and
let's add an index view as well okay so
what is this index view going to do this
index view is actually going to list the
country names so let's call this country
names and then now look at this we
already have an action method and its
corresponding view so if you give list
of country names to this action method
you know this view this countries view
is going to you know create that
unordered list for us and render the
country names now this index view is
actually going to list the country name
so instead of rewriting that logic here
I want to make use of you know this
action method so basically we want to
invoke this action method from this view
is it possible absolutely and how do we
do that we can use action HTML helpful
for that so if you look at this action
HTML helper you can pass it an action
name so what is the name of the action
method within our home control that's
called countries so let's pass that name
to this action method and then obviously
this countries action method expects
list of country names to be passed and
look at the name of the parameter here
it's called country names so we can pass
the parameters has route values okay off
type objects so I'm going to pass the
values as anonymous type what is the
name of the parameter name of the
parameter is country name so let's copy
that parameter name and past you know a
list of
strength
okay so let's pass the country names
let's say for example u.s. is one
country UK is another country and maybe
India is another country okay
so at the moment within our home
controller we have two action methods
and their corresponding views and this
index action is going to invoke the
index view and within the index view we
are invoking countries action method and
that action method expects the list of
countries to be passed and that's what
we are passing here now let's build a
solution and let's try to navigate to
the index view and see if we'll be able
to list the country names so this should
list all the country names okay there we
go now look at this both of these
methods here are within the home
controller of public methods which means
if they are public then they respond to
a URL request so slash home slash index
is invoking this action method similarly
slash home slash countries should invoke
this action method
okay so let's pass countries and see if
it's actually able to invoke that look
at that I'm able to invoke it but I get
an error it says object reference not
set to an instance of an object and
that's basically because this function
expects list of country names to be
passed but are we passing those country
names no we are not that's why it's it's
throwing that error
so let's pass the country names so let's
pass in other country name India and see
what's going to happen look at that it
works as expected
okay now here is the problem I want this
action method here countries to be
treated as child action method only okay
I don't want users to be invoking this
by making a URL request like this okay
so how do I prevent that from happening
one of the ways to prevent that is is by
using non action attribute so if I use
non action attribute let's see what's
going to happen so I use non action
attribute build the solution and let's
refresh this view
okay so it says that a source cannot be
found very good so you know my
requirement is we don't want users to be
invoking that by making a URL request
and we achieve that now let's say I
navigate to the index field and if you
remember index view is invoking the
country's action method and let's see if
it works now look at that it doesn't
work it throws an error and the error
states a public action method countries
was not found on controller you know
basically in the home controller and why
does it complain that because you
decorated that with a non action
attribute and then within the index view
we are invoking that action method using
action helper okay so that's the reason
why it's not able to you know find that
action method now my requirement is it
should work here so basically I want
this action method to be treated as a
child action method meaning other views
should be able to call in to this
controller action method in this case
index view should be able to call that
so how do we achieve that decorate that
with child action only attribute so
let's build the solution and let's
refresh this view and see if it's going
to work look at that it works as
expected now let's try to navigate to
countries view directly and see if it
works look at that it throws an error
stating the action countries is
accessible only by a child request so if
you want to treat an action method as it
child a request
I mean child action method only then
decorated that decorate that the child
action only attribute
now let's discuss some of the concepts
related to this child action only
attribute so that we can answer any
interview question related to that so
any action method that is decorated with
child action only attribute is a child
action method change action methods will
not respond to a URL request if an
attempt is made a runtime error will be
thrown stating tail action is
inaccessible
I mean it's accessible only by a child
request and that's what we see here
exactly
and child action methods can be invoked
by making child requests from a view
using action HTML helper which we have
already seen or you can also use render
action HTML helper so let's see how to
use render action so instead of action
let me use render action so we have
render action HTML helper and if you
look at this helper it expects you know
action name and the root values to be
passed and that's what we are exactly
passing but still I have an error here
and what does the error say cannot
implicitly convert type void to object
now
this render action method this actually
returns void meaning it's going to write
the output directly to the output stream
so there is a different syntax to invoke
this function and that syntax is right
here so at and then end it with the
semicolon and let's get rid of this one
save it let's go ahead and navigate to
the index view look at that it works
alright so to invoke a child action
method you know you can either use
action or render action HTML helpers an
action method doesn't need to have child
action only attribute to be used as a
child action but use this attribute if
you want to prevent the action method
from being invoked as a result of a user
request okay so here we have decorated
this country's action method with child
action only attribute is it required to
be decorated the child action only
attribute if you want to invoke that
function using action or render action
HTML helper no not necessarily even if I
get rid of this attribute let's build
the solution and then if i refresh this
view it will still continue to work but
the problem with that is that end users
will now be able to make a URL request
to the country section method because
you didn't decorate that with child
action attribute or non action attribute
I should be able to invoke the
using a URL request like this look at
that and we don't want that to happen
and that's the reason why we decorated
that the child action only attribute
child actions are typically associated
with partial views but this is not
compulsory typically you know we return
partial views with child actions so if
this action method is a child action
with a bit typically returned a partial
view and that partial v will be consumed
in another view okay but that is not a
mandatory requirement if you remember
this country's view was a non partial
view but still it's working okay but
typically jail actions are associated
with partial views child action methods
are different from non action methods in
that non action methods cannot be
invoked using action or render action
Alpers we have just seen that and we
discussed non action attribute in detail
in part 70 of this video series and
using child action methods it is
possible to cache portions of a view
okay so this is one of the main
advantages of using child action methods
we will cover you know caching portions
of a view in a later video session when
the discus output cache attribute on
this slide you can find resources you
know basically a link to my YouTube
playlist where you can find all the
videos in a logical sequence you also
find a link to my blog there you have
code samples used in this demo and text
version of all the videos that's it for
today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>