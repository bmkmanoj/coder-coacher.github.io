<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 163   Dynamically adding treenodes to treeview control in asp net | Coder Coacher - Coaching Coders</title><meta content="Part 163   Dynamically adding treenodes to treeview control in asp net - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 163   Dynamically adding treenodes to treeview control in asp net</b></h2><h5 class="post__date">2013-11-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AmajKLs54zA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 163 of asp.net tutorial in
this video well disk is dynamically
adding tree nodes to tree view control
that has three or more levels in the
hierarchy this is continuation to part
162 so please watch part 1 62 from the
asp.net tutorial before proceeding with
this video the tree view control that we
have built in part 162 only work with
two levels in the hierarchy if you look
at the database table that this tree
view control is bound to it has got
three levels especially notice these two
rows 14 and 15 look at the parent ID
it's number 5 meaning these two roles
are children of another row within this
table which has got an ID of 5 so
basically this upload resume has got ID
5 meaning rows 14 and 15 are children of
upload resume but if you look at upload
resumes within the tree view control we
don't have those two rows displayed as
children underneath this item here
that's basically because of the way we
have written this code in part 162 so
let's go ahead and fix this code so that
our tree view control is going to work
with 3 or more levels in the hierarchy
and in order to achieve that the first
thing that we are going to do is change
this variable name right here from tree
node to parent tree node that's
basically to make our code more readable
and look at this as soon as I have
changed the variable name there is a red
rectangle underneath the variable name
and if I hover the mouse over I get an
option to change the references of that
variable from tree node to parent tree
node so let's select this option and
look at that all the references are
automatically changed without me having
to manually do it and the second thing
that we are going to do is get rid of
this code right here and instead we are
going to call a recursive function here
that we are going to write now so this
recursive function that we are going to
write is going to pay a private function
and it's not going to return anything
and let's call it get child Rose and
this function is going to take two
parameters the first parameter
is of type data row and the second
parameter is of type tree node let's get
the child rows of the past in data row
and to do that we are going to invoke
get children function and to this
function we need to pass the name of the
relationship so the name of the
relationship is chain the rows so let's
pass the name of the relationship to
this function so at this point this
function is going to get all the
children of the past in data row object
and this function is going to return
that change rows as a data row array so
let's create a variable of type data row
array and let's name it child rows now
we are going to use a for each loop and
then loop through each data row that's
present in this child rows data array so
for each data row let's call it chain
the row in chain the rules array and
within the for each loop let's create a
tree node object let's call it chain the
tree node equals new tree node and then
let's set the text and navigate URL
properties of the tree node object so
text equals tail the row off what is the
name of the column the name of the
column is tree view text so let's copy
it from here and paste it right here and
let's convert that to string in a
similar fashion let's also set the
navigate URL property of the child tree
node object and the name of the column
is navigate URL and now let's add this
child a tree node object to the parent
tree node that we are going to pass into
this function so tree node dot child
nodes dot add we want to add the child
tree node that we have just created
and then the most important thing is if
this child row dot get children so the
name of the relationship is child rose
so if the number of children you know if
the row that we passed in you know this
is already a child row if that child row
has got child rows then the length is
going to be greater than zero in that
case what we're going to do we're going
to call this function I can so we are
calling this function recursively so we
are going to call get child rose
function and then to this function we
need to pass data row object and tree
node object so which data row object are
we going to pass the child data row so
child row and which tree node RB going
to pass we are going to pass the child
tree node so we are recursively calling
this function so it's going to look at
all the children in the hierarchy and
build the tree node objects accordingly
and now we are going to call this
function right here so let's call this
function get child rose and to this
function we need to pass two parameters
that is the data row and the tree node
object so we are going to pass the
parent I mean first of all level one
data row and parent tree node
but this changes let's run this and see
if it works as expected
so look at this you know for some reason
upload raise you made text is not
displayed that's basically because of
the styles that we have set for our tree
view control let's get rid of these
styles and let's run this once more look
at that
none of the you know tree node objects
are displayed that I think is basically
because we have set for color to white
and the background is also white so
nothing is displayed let's run it one
more time look at that
now employee has got uploaded zoom a
editors you may view resume and under
upload resume we have got its children
here so our tribute control now is
working with three levels in the
database table now if you look at this
database table here we actually have
four levels look at this I have rows 18
and 19 basically those are children of a
row which has got ID of 16 and which has
got ID of 16 you know this row right
here okay so a1 a2 or children of a a
and in a similar fashion vb1 and vb2 are
children of row with ID 17 meaning b b 1
and b b2 are children of this row okay
right here I have the script let's
execute the script so now if we look at
our table we have a1 a2
these are children of row which has got
ID 14 meaning 16 and 17 or children of
row 14 in a similar fashion 18 and 19 or
children of row 15 which is b b1 now
without making any change to our
application code let's run it once more
and see if the children gets displayed
properly look at that under upload
resume we have got a a BBB and under a a
got a a 1 a 2 and under BBB we have got
its children so now our tree view
control is working with three or more
levels in the hierarchy as expected all
right that's it for today thank you for
listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>