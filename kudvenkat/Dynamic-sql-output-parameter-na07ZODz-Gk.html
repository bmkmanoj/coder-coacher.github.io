<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Dynamic sql output parameter | Coder Coacher - Coaching Coders</title><meta content="Dynamic sql output parameter - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Dynamic sql output parameter</b></h2><h5 class="post__date">2017-05-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/na07ZODz-Gk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 148 of sequel server
tutorial in this video we'll discuss how
to use output parameters with dynamic
sequel let's understand this with an
example let's flip to sequence of
management studio we're going to make
use of this employee's table in this
demo I'll have the script available to
create this table in the description of
this video and on my blog so here is
what we want to do we want to retrieve
the total number of employees count by
gender so for example if we set gender
to male then we want male employees
clown similarly if we set it to female
then we want female employees count and
we want to do this using dynamic sequel
and here is a query that can do this
notice we have got two variables at c4
and agenda at the moment they have set
gender variable to male and with less
equal variable we have our dynamic
sequel statement select count of star
from employees where gender column
equals whatever value we have in this
gender variable so at the moment this is
going to written as the male employees
count and then to this system store
procedure SP executes sequel we are
passing our dynamic sequel statement the
parameter list and the value for the
gender parameter so when we execute this
notice we get male employees count and
if we want female employees count we
simply replace this variable with the
value of female when we execute this
notice we get female employees count as
expected at the moment we are not using
output parameters within our dynamic
sequel to be able to use output
parameters we have to make a slight
modification to this query so the first
thing that I'm going to do here is
declare a variable I'm going to call it
at count and this is going to be of type
integer next we need to initialize this
variable with the count so with no
dynamics it'll query select add count
equals count of star from employees
where gender equals add gender and we
also need to pass it within the
parameter list right here so along with
the gender parameter we are also going
to pass our count variable which is of
type integer and this is a node
Amida so let's use the output keyword
and we also need to specify it here and
we also need to use the output keyword
and then finally let's select what we
have in our auto parameter when we
execute this we should get the total
number of female employees count if we
want the male employees count
they simply set this variable at gender
to male and when we execute this notice
we get male employees count and at the
moment they're using an output parameter
with our dynamic cycle query if we want
we can very easily convert their stress
to a procedure to convert this to a
stored procedure we use create procedure
statement and let's call the procedure
SD employees count and this procedure is
going to have two parameters gender and
count so let's move these two lines of
code right here and since these are
parameters we don't need the declare
keyword so gender is an input parameter
count is an output parameter so let's
use the output keyword and then we use
the keyword as they can and within the
body of the procedure we'll have all
these statements since we are passing
gender as a parameter we don't have to
initialize that but the value in the
body of the procedure so we can get rid
of that line this is the stored
procedure body let's format that a bit
and then finally we will end it with end
statement so let's go ahead and execute
this so as the employees count procedure
is created and we know it has got two
parameters gender and count now let's
pass male as the value for gender
parameter and let's set a parameter to
zero so when we execute this we get male
employees count and if we want female
employees count we said the gender
parameter to female and when we exclude
this notice we get female employees
count so the key here is to use this
output Giver now let's see what's going
to happen if we don't use this output
keyword let's remove it and alter our
procedure
let's remove these parameters to be able
to alter the procedure the procedure is
now modified successfully let's quickly
test it again at the moment we are
passing zero as the value for the output
parameter and then we execute this
notice we are getting that same zero
back now instead of zero if we pass
minus one and execute this we get that
same minus one and instead of minus one
if we pass now we get that none of that
so here the output parameter is not
working is expected because we forgot to
use the output keyword so remember for
the output parameter to work you will
have to use the output keyword and here
we have the dynamic sequel example with
both input and output parameters and
always remember the output parameter
will not work as expected if you forget
to use the output keyword thank you for
listening and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>