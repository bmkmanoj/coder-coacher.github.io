<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SQLServer asp.net session state mode management   Part 66 | Coder Coacher - Coaching Coders</title><meta content="SQLServer asp.net session state mode management   Part 66 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>SQLServer asp.net session state mode management   Part 66</b></h2><h5 class="post__date">2012-12-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/o-8vjQu6SmI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to regime technologies I
am venket this is part 66 of asp.net
video series in this session we'll
discuss about the sequel server session
state mode before continuing with the
session I strongly recommend to watch
pad 63 64 and 65 of this video series
now asp.net session state mode can be
anything that you can see on the screen
from 1 to 5 it can be off in which case
it's going to disable the session state
for the entire application if an asp.net
web application is not using session
state then it makes sense to disable
session State to improve the performance
of the application now we discussed
about n broke in path 64 when we set the
session state mode to n proc then the
session state variables are stored
inside the asp.net worker process
whereas when we stat the session state
mode to state server the session state
variables are stored inside an asp.net
State at service when we said the
session statement sequel server the
session state variables are stored in a
sequel server database on the other hand
when we set the session state mode to
custom that enables us to build our own
session state provider for example if I
want to store my session state variables
in an Oracle database then I can use a
custom session state mode now when we
set the session state mode to sequel
server
you know the session state variables are
stored in a sequence server database so
obviously we need a sequel server
database which is going to store this
session state variable so do I have to
create the database and the tables
manually no we don't have to Microsoft
has actually provided us with a tool
called asp net underscore registered
sequel dot exe which we can use now the
version of the tools that you use
depends on the type of the operating
system that you have whether it's 32-bit
or 64-bit and the version of.net
framework that you have whether it's 2.0
3.0 or 4.0 ok on my machine I have
Windows operating system 64-bit Windows
operating system and dotnet version 4.0
so I'm going to use the tool that is
present in C colon backslash Windows is
the directory of the operating system
and within Windows microsoft.net
and within microsoft.net directory
I have 64-bit operating systems so I'm
going to select framework 64 and I have
dotnet 4.0 so I'm going to select
version 4.0 if I have 2.0 for example I
select 2.0 and then I use asp net
underscore register sequel from that
folder but I have 4.0 so I'm going to
use version 4.0 asp net underscore
register sequel dot exe okay so the tool
is present in this path so i cannot run
the tool from here directly i need to
run this from the command prompt okay so
click on start type run press enter type
CMD in the run window and hit enter so
that should open up the command window
so in the command window we need to
navigate to this path so let me change
the directory so CD change directory
copy the path and paste that within the
command prompt and press enter that
should change to that directory let me
type in CLS to clear the screen and now
here we need to type in a command to run
the tool and the command to run that
tool I have typed this just to save some
time let me explain the options that we
have here so let me paste that so the
tool itself is a spinet underscore
registers equal dot exe which is present
at that part ok and - yes so the switch
- SSS wait so - s specifies the sequel
server name ok so on the network what's
the name of the sequel server now to
find out that within sequel server
management studio you can right click on
the server on the node and then go to
the properties and the properties window
will show the name of the sequel server
in my case on my machine it's called
prasada - PC so that's the name of the
sequel server so let me replace sequel
server name with the name of sequel
server on my machine so let me delete
that and then paste the name + R - PC
that's my sequel server name ok and the
next switch that I have is - e now I am
saying okay I want to use this sequel
server ok this is the sequel server
- PC on this sequencer how do you want
to connect okay - e specifies that I
want to use Windows authentication or
Windows credentials to connect to the
sequel server now if you don't have
Windows credentials if you want to use
sequel server authentication then you
can specify your username and password
that you used to connect to sequel
server but then to use username and
password you have to use a different
switch for example for username - you
and for password - P now do we have to
remember all these switches no you don't
really have to because there's an
excellent article on MSDN at this URL I
will have this URL present on my blog so
you can copy it from there so at this
URL it will tell us what are these
switches now look at that - s specifies
the name of the server where we want to
create that database okay and - e
specifies that I want to authenticate
using Windows credentials if I want to
use a sequence of a username password I
can use - you and - P okay alright so
I'm using Windows authentication and
then there is another switch - SS ad
what does that mean SS stands for
session state ad so I want to add the
session state database to this sequel
server okay so that's what that switch
means again the explanation for that
switch is there in this article so - SS
add add support for the sequel server
mode session state - SS remove will
remove the state database okay and the
last one is - SS type P now look at this
when we add the session state database
I'm in the tables and stored procedures
do we want to write them to a temporary
database or do we want to create them in
the ASP state database now in most cases
we want to create them in ASP state
database so I'm going to use - I mean -
SS type as P so that's the switch
okay so we're done now if you look at
the sequel server management studio I
don't have the ASP state database now at
the moment okay
but then once we create that
now let me plus enter with those changes
there so it's adding session state after
it is finished when i refresh this node
here you should see a new database there
ASP state and if you expand that and
look at the tables these are the tables
that our asp.net application is going to
use to read and write sessions state
variables okay now when we go back to
the application you know it's the same
application that we have been using the
previous sessions I have two waveforms
there from one waveform to on waveform
one I enter name and email address when
I click on go to waveform two we go to
waveform two there we have to label
controls where will display that name
and email and we are using session
variables for that okay now if we used
in proc these session variables will be
stored inside the worker process if we
used state server then they will be
stored in an asp.net state service but
now we are going to use sequel server
that is this database ASP state database
so the first step is to actually create
the database itself and we did that
using the registers sequel tool asp net
underscore registers equal to okay so
the next step is to actually set the
session state mode to sequel server and
specify the sequel connection string
okay so let's go to visual studio in web
config file we set the session state
mode to sequel server okay so you are
telling the session state mode is sequel
server so obviously you'll also have to
tell various that sequel server present
is present on the same machine or is it
present on a different machine if it's
present on a different machine tell me
the name of the name or the IP address
of the machine and the credentials that
I have to use to connect to that sequel
server so how do i specify that i
specify that using sequel connection
attribute so sequel connection string
attribute and then i have to specify the
data source in my case it's going to be
dot because that's the sequel server
installation is also present on my
machine and then i also need to specify
user ID and password but i am going to
use windows authentication so i'm going
to say integrated security is equal to
SSP I but you can also use user ID and
password now when I use integrated
security so now we are all done P we
have created the database
so we have created this ASP state
database we have configured the session
state mode to sequel server we specified
the connection string okay so now let's
go ahead and run this as it stands now
I'm going to get an error but we'll fix
that in just a bit
okay look at that fail to log in to
session state sequel server for user I
is Apple asp.net version 4.0 now the
error message actually makes sense now
it's trying to access that asp net
I mean ASP state database this database
and its use and the dotnet runtime is
using is Apple this login to login to
that you know database now I don't have
that login configured in my machine
that's why it's it's saying failed to
login and there are several ways to
correct this error and the easiest way
to do that is to you know open the IAS
okay and to open IAS you can click on
start died plan hit enter in the run
window type I net manager and hit enter
so once you hit enter it's going to open
is so within is by the way I have is 7.0
on my machine so within is expand the is
node and application pools select that
and I have taught net version 4.0 so
asp.net version 4.0 right click on that
and select advanced it settings so now
if you look at this identity it's using
the application pool identity that's why
it's actually using that worker process
I mean that login now I don't want to
use that login instead I want to use
local system login ok so when I select
local system account it's going to use
you know that count that I already have
on the sequel server to connect to that
ASP state database so now if i refresh
this that's going to work ok so now I
type in let's say the user name is
pledging the email as pledging techcom I
hit enter I mean go to wave form to look
at that now these session state
variables are actually stored in a
sequel server database now if I go to
the task manager
show all processes from all users and
then I select w 3w P dot exe I end the
process and then look at that i refresh
this I still have my variable stale my
session state variables similarly even
if I stop the asp.net state service it's
not going to affect me why because these
session variables are actually now
stored in this ASP state database tables
okay so even I restart my web server
restart my sequence server my state
variables will not be lost unless they
are timed up okay
that's why sequel server is the most
reliable option okay so now let's look
at the advantages of using sequel server
session state mode sequel server is the
most reliable option survives worker
process recycling and sequel server
restarts can be used with web fonts and
web gardens it's the same as state
server you know when a client requests a
webform and if that platform is using
session state variables those session
state variables are not stored on the
web servers instead they are stored on
the sequel server database okay now you
know depending on whether the
irrespective of whether the request goes
to web server one web server 2 or web
server 3 you know all of them are going
to contact the same sequel server 4
session state variables ok so in a web
format a web garden we will not have any
issues with sessions so it's ideal for
in a web forms and web gardens we can
use any of the out of process session
state mode we can also use state server
for web forms and web gardens and it's
more scalable than still state server
and in proc session state mode so
obviously we are using sequel server so
no matter how many users you have you
know the web server memory is not going
to be increased because they are going
to be persisted into sequel server
database more scalable than state server
and in proc section state modes
disadvantages of using States over
session state mode slower than state
server and in proc section state modes
that's because with sequel server the
data is now stored in the hardest hard
disk has moving parts obviously and
time you want to retrieve data from hard
disk it's much slower than retrieving
data from the memory from RAM okay so
that's why it's definitely slower than
in proc and session state modes and
complex objects just like asp.net state
server even for sequel server the
complex objects needs to be serialized
and DS utilized okay one common
interview question that's asked as far
as session state modes are concerned you
know what are the out of process session
state modes state server and sequel
server and the in process is in proc
section state mode okay and obviously
each session state mode has their own
advantages and disadvantages and there
are a lot of interview questions on
session state modes so it will be very
useful if you understand these concepts
properly on this slide you can find
resources for asp.net c-sharp and sequel
server interview questions that's it for
today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>