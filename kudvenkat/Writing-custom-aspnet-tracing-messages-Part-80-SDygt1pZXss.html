<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Writing custom asp.net tracing messages   Part 80 | Coder Coacher - Coaching Coders</title><meta content="Writing custom asp.net tracing messages   Part 80 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Writing custom asp.net tracing messages   Part 80</b></h2><h5 class="post__date">2012-12-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SDygt1pZXss" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome for freedom technologies I
am venket this is part eighty of asp.net
video series in this session we'll
discuss about writing custom asp.net
tracing messages in part 79 of this
video series we have discussed the
basics of asp.net tracing in this
session we'll discuss about writing
custom messages to the asp.net trace log
and to do that we have two methods trace
dot right and trace dot one the messages
that we write using trace dot one appear
in red color whereas the messages that
we write using trace dot right appear in
black color that's the only difference
between these two methods but keep in
mind that these this difference between
these two methods because this is a very
commonly asked asp.net interview
question now let's turn our attention to
writing custom messages using these
methods let's flip to visual studio I
have an asp.net web application project
here with webform 1 and on this webform
I have two text box controls where the
user can enter their first and second
numbers and once they click the divided
button we are going to retrieve the
numbers from the respective text boxes
convert them into integer and store in
first and second number integer
variables and then we divide those two
numbers whatever result we get we are
setting that as the text for the message
label and before that we are changing
the color to Navy so very simple program
but then when we try to divide these two
numbers there could be a variety of
exceptions that can happen for example
instead of a number if I enter text I
get a format exception in which case I
want to display a message to the user
saying only numbers are allowed on on
the other hand if I enter a very big
number that an in 32 variable can hold
then it's going to overflow so we get an
overflow exception in which case we want
to show you know a message stating
number number must be between you know
whatever is the minimum value and
maximum value that an integer variable
supports and finally it's illegal to
divide a number by zero you know it
results in infinity so if we divide if
we attempt to divide a number by zero we
get a divided by zero exception in which
case we display a message saying that
denominator cannot be zero
and then finally if there is any other
exception apart from these three
exceptions then we are showing a message
an unknown problem has occurred please
try later okay a very simple program now
what we basically want to do is whenever
these exceptions happen I also want to
write you know you know we are
displaying this message to the end-user
but then I want to write the exception
message to the trace log okay let's see
how to do that and as we discussed all
you do is you use the trace method so
trace dot right and then let's say I
want to write the exception message so
what's the exception here for example I
have the format exception so I'm going
to copy that and paste it here format
exception dot message so I'm using trace
tort right method for that for overflow
exception let me use trace dot one
method trace dot one and 4/0 exception
let's also use trace dot one so divide
by zero and overflow exception let's
copy and paste it here and along the
same lines let's do it for exception as
well so I mean we are logging the
exception messages to a trace log file
okay you know when it is a format
exception we are using the write method
in all other cases we are using the one
method and let's run this application
make this exceptions occur and see how
the trace messages are actually written
now for this to happen we have to enable
tracing instead of enable tracing at the
entire application level let's just
enable tracing at the webform level and
we have discussed about how to do that
in the previous session all we have to
do is set the trace element to true so
trace attribute of the page directive to
true that's it so let's go ahead and run
this now so the webform loads up we have
the you know trace information at the
end of this waveform now let's go ahead
and divide a number let's say I want to
divide it 20
by maybe with ten and then click divide
we get to and look at that the request
type is a postback okay and now let's
try to divide the number by zero okay so
when I do that we get an exception and
if you remember when we get that
exception we are actually trying to
write that divide by zero exception
trying to write it to the trace using
trace dot one method and if you remember
any message that we write using trace
dot one should appear in red color so
let me click divide so we get an error
message here denominator cannot be zero
that's for the user but look at that we
get an exception message here which is
returned to the trace log okay
attempted to divide by zero and when did
this happen
this happened in the postback event why
did that happen in the postback event
because this exception occurred when you
click the button so when the postback
event was raised that's when the user
attempted to divide by zero and we have
that message there and it's written in
red color but on the other hand if you
remember the overflow exception we are
writing it using trees not the overflow
the format exception we are writing it
using traced or to write method so let's
see how that appears now how to you know
cause the format exception to occur
instead of entering a number if I enter
something like this alphabets these
alphabets cannot be converted into an
integer so we get a format exception so
I click that only numbers that are loved
and then you see that exception message
here input string was not in a correct
format okay again that's within race
postback event and that's in black color
okay in a later video session we will
see how you know asp.net tracing coupled
with the writing you know custom or
tracing messages like this can actually
help us identify very easily the root
cause of a performance related issue so
trace dot is enabled property this is
very useful property now this property
you know tells us whether if tracing is
enabled or disabled okay now let's say
if if I move this code to production
what's going to
pen you know the stress dot write mass
you know code will be executed every
time I use a request the page even if
tracing even when tracing is disabled if
I disable tracing on this page this if
there is an exception this piece of code
is going to get executed and I don't
want that to happen if that's the case
then you can use this condition so if
trace dot is enable okay this property
is going to return true if tracing is
enabled otherwise it's going to return
false
okay so this piece of code is going to
execute conditionally okay so I don't
have to remove this code even if I move
it to production tomorrow if I enable
tracing on the production server in the
web config file maybe you know this
piece of code will be executed and it
will be able to get the exception
message within the trace log on the web
server so if you want to conditionally
log or not log trace messages you can
use trace dot is enabled property now if
you look at this example here in this
code you know the trace dot right method
is invoked only if tracing is enabled if
you don't check trace dot is enabled
property prior to writing to the trace
log using the you know trace not write
or trace dot one methods we don't get an
exception but if we are doing any sort
of significant work to build a trace
message then you know we can avoid that
work by actually checking the ease
enabled property first which means you
know before I actually write this
message you know if I am doing a lot of
work here maybe I have some loops to get
in our exceptions you know the exception
message stack trace and all that details
if I am doing you know some processor
intensive work here and if I want that
to be executed only when tracing is
enable which is definitely going to
improve the performance of the
application
you know if the tracing is disabled I
don't want this piece of code to be
executed in that case or you know you
can you can have this condition okay but
even if you don't have this condition it
won't throw an exception of tracing it's
disabled but it's just going to you know
consume the processing power of the web
server
okay if tracing is disabled we want to
slightly improve the performance by not
allowing this code to run so in which
case we can use trace Tory's enabled
property now with the classic ASP the
technology that was in existence before
asp.net the only option for printing
debugging information was response dot
right you know but then there are
problems with this approach okay for
example when we use response tor try to
debug a problem to print out the
messages on the web form even end-users
can see them but whereas with tracing if
we set the page output attribute to
false then the trace messages are
returned to the traced or txt file which
is accessible only on the local web
server locally when you access it
locally only then can you access that
our traced or exe file remote users
that's the actual end users cannot see
the trace information they will see the
page as usual so that problem is solved
using tracing as opposed to response to
a tried and all the response dot write
statements must be removed now for
example when I'm debugging the
application you know I will have these
response dot rights statements in
several pages after I complete my
debugging I'll have to remove those
response tort rights from all the pages
okay which is a little you know
laborious work and it is also
error-prone if you forget to remove it
it at certain pages then user will see
those response dot write messages okay
but with tracing all we have to do is
turn the flag to off within web dot
config file that's it so we have several
advantages of using tracing over
response tour right on this slide you
can find resources for a speed or net
c-sharp and sequel server interview
questions that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>