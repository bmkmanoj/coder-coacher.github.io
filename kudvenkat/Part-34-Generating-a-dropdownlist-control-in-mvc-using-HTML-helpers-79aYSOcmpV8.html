<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 34   Generating a dropdownlist control in mvc using HTML helpers | Coder Coacher - Coaching Coders</title><meta content="Part 34   Generating a dropdownlist control in mvc using HTML helpers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 34   Generating a dropdownlist control in mvc using HTML helpers</b></h2><h5 class="post__date">2013-06-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/79aYSOcmpV8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this part 34 of asp.net MVC tutorial in
this video we'll discuss generating a
drop-down list control using HTML
helpers
please watch by 33 before proceeding to
generate a drop-down list we use
drop-down list HTML helper a drop-down
list in MVC is a collection of select
list item objects depending on our
project requirement we may either
hard-code the values in code or retrieve
them from a database table let's say for
example we want to generate this
department's drop-down list first let's
discuss generating this drop-down list
using hard-coded values let's flip to
visual studio so we are going to make
use of drop-down list HTML helper and if
you look at this HTML helper it has got
several overloaded versions I'm going to
use the overloaded version way we
specify the name for the drop-down list
and then the list of items that we want
within the drop-down list and then an
option label so if you look at the usage
of this overloaded version notice that
you know we are specifying departments
as the name for the drop-down list and
then within this drop-down list we want
3 departments ID HR Payroll and you know
we are passing that list as an
ienumerable of select list item objects
so we are creating a new list of select
list item objects and notice that within
that list we have you know three select
list item objects and notice the text
property that's going to be the name of
the department and value is going to be
the ID of the respective department and
then when this drop-down list render is
we want IT department to be selected so
we are setting selected property to true
and within this drop-down list we want
the first option a select department we
are passing that as the third parameter
so the first parameter is going to be
the name for the drop-down list which is
departments and the second parameter is
going to be the list of select list item
objects so I have this already type to
speed things up so let's copy that
and paste it as the second parameter and
the third parameter is going to be the
option that you want as the first option
within the drop-down list which is
select Department so let's go ahead and
pass that as the third parameter and we
want ID Department to be selected in the
drop-down list renders so I'm going to
set selected property of this select
list item object to true these changes
let's go ahead and run this and as you
might expect from the drop-down list
renders you know IT department should be
selected and notice that select
Department is the first option within
the drop-down list but the downside of
hard-coding drop-down list values like
this within code is that whenever we
have to add or remove a department from
this drop-down list then we will have to
change the code but then once we change
the code we have to test it and we have
to deploy it to a production server so
obviously this is going to be a bit
time-consuming so in reality in most
cases we actually get the values from a
database table and for the purposes of
this demo to retrieve data from the
database table we are going to make use
of entity framework we discussed working
with entity framework in parts 8 and 25
of this video series so since we want to
use entity framework to retrieve data
from the database table the first step
is to actually add ad or net entity data
model but before that we're going to
make use of this table TBL department
and notice that this table is present in
the sample database so let's flip to
visual studio let's right-click on the
models folder and add ad or dotnet
entity data model and we are going to
call this sample data model
let's click add and we want to generate
the model from the database so let's
select that and click Next and let's
call Ana let's save our connection
string as sample dbcontext
so sample DV context let's click Next
now this is going to connect to the
sample database and it's going to
retrieve all the tables views and stored
procedures that are present in that
database and we want only this
department table so I'm going to select
that and you know the entity framework
is going to generate an entity for that
table but then we want our entities to
be residing in models namespace so I'm
going to change the model namespace as
models and click finish
so this is going to generate department
entity for us based on that table TBL
department but look at this entity
framework names it as TBL department
that's the name of the entity but we
want our entity to be as department so
I'm going to get rid of that pbl prefix
okay so now let's go back to our
controller okay so now if you look at
how we are going to retrieve the list of
departments look at that we are creating
an instance of sample dbcontext
now the entity framework has
automatically generated a class for us
with that name sample DB context and
that's going to reside look at the
namespace NBC demo dot models and if you
look at the context here we have that
class sample DB context okay so let's go
to our controller let's import that
namespace MVC demo dot models and within
our index action method we are going to
create an instance of that sample DB
context let's call it D Bey so this
class will help us connect to the
database to the sample database okay and
then retrieve the department so this
object has got departments property
which is going to return all the
departments that are present within this
table now using
that Department list we want to build
our select list item objects and the way
we are going to do is using this class
look at that this class has got a
constructor where we give it let's
actually look at that in action so once
we retrieve the departments we are going
to store those departments in a view
back object so view bag and I'm going to
use a dynamic property let's call it
departments so we are going to store the
departments within that property and
then I'm actually going to create an
instance of new I mean select list class
and notice that I am going to use this
constructor where we can specify you
know our list of items using which we
want to build a select list okay and
that list is going to be departments
list from this object and then obviously
you are passing the list of departments
but another thing that we need to
specify is what is going to be the data
value field and what is going to be the
data text field
remember when we were specifying the
values hard you know by hard coding them
we specified a text and value property
of the select list item object similarly
you know we have to specify you know
data value field and data text field
data value field is going to be the ID
property of the department entity and
you know text is going to be the name
property of again the department class
okay so let's go ahead and specify that
that a value field is going to be that
and data text field is going to be name
property and then we return to the view
and within the index all we need to do
is we don't have to hard code you know
the Select list item objects now so the
name is going to be departments and I
can get rid of these two there and the
first option within drop-down list I
want it as select Department okay so
with this change let's go ahead and run
this and as you might expect the
behavior should be the same it should
render a drop-down list with all those
you know with the list that is retrieved
from the database table on this slide
you can find resources for a speed or
net c-sharp and sequence of interview
questions that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>