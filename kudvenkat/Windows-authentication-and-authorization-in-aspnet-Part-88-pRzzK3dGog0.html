<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Windows authentication and authorization in asp.net   Part 88 | Coder Coacher - Coaching Coders</title><meta content="Windows authentication and authorization in asp.net   Part 88 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Windows authentication and authorization in asp.net   Part 88</b></h2><h5 class="post__date">2012-12-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pRzzK3dGog0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Oh welcome to palladium technologies I
am venket this is part 88 of asp.net
video series in part 87 of this video
series we have discussed the basics of
windows authentication if you haven't
watched part 87 I would strongly
encourage you to do so before continuing
with the session in this part of the
video series we will continue to discuss
about windows authentication first let's
quickly recap what we have discussed in
part 87 I have an asp.net web
application project here on this web
form I have a grid view control and a
button control in the page load event of
this web form this line prints the name
of the account that is used to execute
the application code and this line
prints the message whether if the user
is authenticated or not and this line
prints the authentication type that is
used if the user is authenticated and
this line prints the name of the
authenticated user and then when the
user clicks the button we are creating
an instance of the data set object the
data set object then reads the XML data
from C colon backslash data folder and
then we are setting the data source data
set as the data source for the gridview
control finally invoking the data bind
method this application is actually
deployed to I is within iis I have this
web application 1 and if you look at the
authentication of this web application
one we have anonymous authentication and
windows authentication enable at is
level but then within the web config
file of the application we are actually
denying access to enemas users and how
are we doing that by using question mark
within the authorization list so when
when question mark is used within the
authorization list it has got a special
meaning it indicates anonymous users so
we are basically saying deny access to
anonymous users unauthenticated users
along with question mark there is
another symbol astrick which has got
special meaning when used in the
authorization element of the web config
file asterisk symbol indicates all users
in this session we will see how to allow
or deny access to specific users now
look at this when I run this application
as it stands
you know all the authenticated users
will be able to access the application
okay so I am an user on this computer so
I am able to access this application
okay now click on the start button right
click on computer and select manage so
this should bring up computer management
window and then if you go to local users
and groups and if you select users and
on this computer I have all these users
ok presume Prasad venket and the others
ok now I you know any of these users can
actually access this application because
all of them have Windows accounts so
they will be able to access now let us
say I want to allow only Prasad and
presume access to the web application I
want to deny access to wankered how do I
do that you know using the allow users
element so I'll of users here if you
look at that we are allowing access only
to rank 8 and plug-in and we are denying
access to everybody else and how are we
specifying that using the asterisk
symbol let's see how to do that ok so
let's go to web config file so I want to
deny access to everybody else but I want
to allow access to users ok Prasad - PC
so that's the name of this computer ok
now in reality in any corporate
organization where we have local
intranets we have a domain network and
then the users are part of those domain
network and every user will have a
username to log into their computer now
based on their usernames and the groups
that they belong to these users can
retrieve some resources and and only
access a few of the organization
resources based on their level and the
role they belong to now let's say we
want the same security scheme to be
applied even to our web application then
we can use Windows authentication with
impersonation so in that case you will
actually use the name of the domain
instead of the name of your machine
because since I don't have a network
here since I am just using this mission
to demonstrate Windows authentication I
am using the user
and groups that are present on my
computer but in in in a corporate
organization scenario we have it domain
so we might use a domain name there okay
so on this machine I want to deny access
I mean I want to allow access to presume
and Prasad
so Prasad - PC regime and Prasad - PC
Prasad so we want to allow access to
these two users that are present on this
machine so now I am logged in as Prasad
into this computer so obviously if I go
ahead and run this application as you
might expect I will be able to access
the application because in the list you
have a loved prasada to access the
application on the other hand let's say
we want to deny access to Prasad look at
that I want to allow access only to
presume and venket but I am logged into
this computer as Prasad now let's save
this and try to access this file and see
what's going to happen so I press ENTER
look at that the moment I press Enter
it's showing this authentication
required window so it's asking username
and password now I will have to supply
one of these usernames and passwords
when codes are plugins otherwise I will
not be able to access the application
look at this if I click cancel I get an
error message saying access is denied I
don't have access to the required to the
requested resource okay but on the other
hand let's go ahead and press ENTER
again here if I enter van codes username
and password and click login look at
that
I am authenticated as wankered so we
have just seen how to allow access to
specific users and deny to the rest of
them okay now it's also possible to
control access based on the rules if you
look at this computer management here
not only users these users can be
present in groups now there are several
built-in windows groups like
administrators gas users etc and each
group is a collection of users now if
you look at users here Prasad is a
member of administrators group and
Venkat
is a member of just users group he is
not a member of an administrators group
and similarly Pragya is just a member of
guests and users group now let's say I
want to deny access to to everybody else
except people who belong to guests group
then how can I do that I can use rules
ok so here if you look at this you are
allowing a people who belong to
administrators ok let's say if there are
5000 administrators in my organization
instead of using a comma-separated list
of 5000 administrators I can just
specify the rule name allowed rules is
equal to administrators and deny access
to everybody else let's quickly look at
this in action let's say I want to allow
you know rules only guests ok
and the deny access to everybody else so
this should be rules ok deny access to
everybody else now on this computer I am
logged in as Prasad and if you remember
Prasad belong to only administrators
group administrators and home users I am
not part of guests group so obviously
now if I try to access this app web form
obviously it will show up that
authentication required a prompt so I
need to login as a person who belong to
guests group and if you look at this
presume belong to guests groups so we
have to provide the credentials of
presume soap regime and the password of
that so click login so look at that
I am authenticated as protein ok so we
have seen how to grant a grant or deny
access to specific users we also have
seen how to grant a deny access to
specific rules it is also possible to
programmatically check if the user
belong to a specific role so how do we
do that if user dot is in role
administrators then you know do whatever
an admin can otherwise to non admin
stuff let's quickly check this in action
so for example if you look at this one
you're only allowed access as a caste
now let's say if user dot is in role
administrators so if the user is part of
an administrators group then you know
read that XML file and retrieve the data
else maybe I just want to print a
message onto the screen response dot
right you are not an admin ok actually
within the web config file let's allow
all authenticated users
so now I am logged in as an
administrator so I am logged in as
Prasad who belongs to administrators
group so if I click that button solo you
know I am authenticated as Prasad since
I belong to administrators group I am
able to access that but on the other
hand let's deny access to administrators
group and only allow guests then I
access to everybody else but now since I
am logged in as Prasad who belongs to
administrators group
it's going to show up that prompt so if
I provide a guest name probably pragya
miscast
so if I log in but presume doesn't
belong to administrators group so if I
click this button look at that you get
that message you are not an admin okay
so programmatically we can check if user
dot is we can use easy enroll method and
then to that method specify the name of
the group you know which you want to
check on this slide you can find
resources for asp.net c-sharp and
sequence of interview questions that's
it for today thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>