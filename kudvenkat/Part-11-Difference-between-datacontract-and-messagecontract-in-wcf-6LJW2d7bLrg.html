<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 11   Difference between datacontract and messagecontract in wcf | Coder Coacher - Coaching Coders</title><meta content="Part 11   Difference between datacontract and messagecontract in wcf - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 11   Difference between datacontract and messagecontract in wcf</b></h2><h5 class="post__date">2013-11-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6LJW2d7bLrg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">it's part 11 of wucf video series in
this video we'll discuss the difference
between data contract and message
contract this is continuation to part 10
so please watch part 10 before
proceeding before we look at the
difference let's quickly look at
employee request message contract that
we implemented in the previous session
so here we have called employee service
and within this service we have got this
get employee method and this method
expects an object of type employee
request if we right click on this and go
to the definition notice that this class
is decorated with message contract
attribute meaning that this is a message
contract and this class has got two
properties license key and employee ID
license key is decorated with message
header attribute meaning this property
is going to get into the header section
of the supe message that is generated
and if you look at the client for this
service within the client we are
creating an instance of employee request
class and notice that we are passing
license key and then we are passing the
request object as a parameter to this
get employee method but on this service
side we are not doing anything that that
license key in reality we may check
whether if that license key is valid or
if it has expired and if that's the case
we return soup fault to the client
stating that it's either expired or it's
invalid okay now we will discuss
exceptions and so falls in a later video
session for now let's just print that
license key and to do that let's get to
the employee service and within the
implementation so here we are receiving
employee request object as a parameter
into this method so console dot write
line and let's just say license key
equals request object dot license key
alright this change let's go ahead and
run our service host so the service is
running let's go and run the client as
well
let's get employee number one so we get
that response back and if you look at
the service host look at that in our
license key is printed all right now
let's look at the difference between
data contract and message contract now
data contract gives us very limited
control over the soap messages data
contract allows us to control the name
and order of xml elements within the
body section of the soap message beyond
that we don't have much control over the
soap message now if you recollect we
have implemented employee service in the
previous session using data contract so
if you look at this employee class here
it's decorated with the data contract
attribute this is a different project
that I have developed look at the name
of the project it is employee service
data contract so here what I have done
is within the employee service look at
this we have got the sket employee
method and this employee method is
actually returning the employee object
so if you look at the interface file so
here we have got this I employee service
which is decorated with service contract
attribute and the state employee is
returning employee object and that is a
data contract and look at this employee
class itself here at the moment we are
using order parameter of this data
member attribute so this will be the
order of these elements within the soap
message that is generated let's actually
run this host now to run this host we
have to close the other host that is
already running because we are using the
same port numbers so let me close this
host and then run the employee service
data contract project so the host is
running and let's run the client now
so the client is running let's request
employee one so we got the employee now
within this project that is employee
service data contract
I have already enabled the message
logging and we discussed how to do that
in the previous sessions of this video
series so if we get to the project
folder actually within the client so
let's get to the client of that employee
service data contract so if we open the
project folder in Windows Explorer we
should have a service log file then
let's open that and if you look at the
response that we are sending back look
at that we have got this employee object
and within that ID name gender date of
birth type and annual salary and notice
the order is the same as what we have
specified in our employee class here
okay so basically using data contract we
have very limited control we can control
the order of these elements as well as
their name let's say for example I want
data of birth to be DOB and I want that
to be the first element within the
generated XML we can easily do that
using data contract as well so what we
can do here is let's get to the contract
so now data member attribute has got
name parameter so we can set name to you
know DOB and let's set order to maybe
one since this is going to be the first
element let's set ID to four okay so now
let's close the host
let's close this trace viewer as well
let's run the host once again and let's
run the client
let's request employee one so we got
that employee let's open that log file
so now this is the response message and
if you look at this response message
notice that date of birth now is called
as DOB and that's the first element and
this is present within the body section
so basically data contract gives us very
limited control we can control the name
and order of xml elements within the
body section but beyond that we don't
have much control over the soap message
on the other hand message contracts give
full control over the soap messages by
providing access to the soap header and
body sections using message header and
message body member attributes we
discuss this in our previous session and
use message contracts if there is a
reason to treat the structure of the
soap XML message that is if you want to
include any additional information in
the soap header in the previous session
we have seen how to include license key
within the soap header now there was
some WCM of interview questions that
were asked to one of our YouTube channel
subscribers who attended an interview
recently and these were the questions
that the interviewer asked him and most
of these were actually follow-up
questions so the you know the first
question as far as message contracts are
concerned is why do you use message
contracting WCF and obviously the answer
is message contract gives us full
control of the soap messages for example
it allows us to include custom
information in the soap header and then
immediately the interviewer asked this
follow-up question what kind of custom
information user credentials to invoke
the service you know that's the reply
that our youtube channel subscriber has
given and then immediately the
interviewer asked this question why do
you need to pass user credentials in the
header can't you pass them as method
parameters and that's a very sensible
question as well now in our example we
are passing license key within the
header why can't we just pass it as a
parameter
so here you know into employee ID we can
do something like this and employee ID
and then if you require a license key
pass it as a parameter why do we need to
pass it I know as part of the header now
look at this what is this method doing
here this method is simply returning an
employee object back okay now it has no
business with license key license key is
periphery to the functionality of this
method you know what actually this
method do is different then what is the
purpose of license key you know we are
using license key here basically to
check if the validity of the client to
invoke the services within the license
period or not and that will typically be
done by another method okay so basically
you know this is periphery to what this
function is doing and that's why it
makes more sense to pass that license
key within the header rather than as a
parameter to this function okay and in
fact that was the precise answer that
was given by our YouTube channel
subscriber who attended that interview
and then this was the final question
that he asked as far as message
contracts are concerned so messages are
an XML format so anyone can read the
credentials so how do you protect that
sensitive data and obviously the answer
is using message contract we can sign
and encrypt messages and we use
protection level name the parameter for
that so if you look at this employee
service that we have here within the
employee class we have this message
contract attribute message header and
message body member these attributes
have caught a named parameter called
protection level
and this production level parameter
takes a value of type protection level
enum and if you look at this enum look
at this you have got options to sign it
encrypt and sign it or none none means
no protection at all okay so we will
discuss how to sign how to encrypt in
sign messages what's the difference
between encrypting and signing in a
later video session but for now
understand that using message contracts
we can encrypt the messages as well so
they are secure to be transmitted over
the wire okay so obviously you know if
it's sensitive data we can encrypt that
using message contract attribute using
the protection level named
parameter and can you guess if our
YouTube channel subscriber has got the
job the answer is yes he mailed me
yesterday stating that DHR called and
released an offer and he was very happy
with that offer as well he is going to
join next week let's all wish good luck
in his new role and I'm sure he'll be
very successful all right thank you for
listening that's it for today have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>