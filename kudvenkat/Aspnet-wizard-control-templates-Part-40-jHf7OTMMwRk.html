<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Asp.net wizard control templates   Part 40 | Coder Coacher - Coaching Coders</title><meta content="Asp.net wizard control templates   Part 40 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Asp.net wizard control templates   Part 40</b></h2><h5 class="post__date">2012-11-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jHf7OTMMwRk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to prism technologies I am
venket this is part 40 of asp.net video
series in part 36 of this video series
we have discussed the basics of working
with the wizard control in this session
we look at the more advanced features of
the wizard control like setting focus to
the first control in the wizard step
when the page loads attaching javascript
to the next previous and finish buttons
to display a confirmation dialog box
before the user moves to the next tab
setting you submit behavior is equal to
true for the previous button the wizard
control so that when the user hits the
enter button after entering data the
user moves to the next step in the
wizard realm and to the previous step
before continuing with the session I
strongly recommend to watch parts 37 38
and 39 of this video series let's flip
to visual studio here I have a very
simple asp.net web application project
let's add the result controller to this
webform all right
by default the va's odd will have two
wizard steps let's copy and paste this
wizard steps so that we get the third
one let's get rid of this ID for the
wizard step and I'm going to call the
step 3 okay now let's put some controls
in this wizard control so that we have
something to work with so let's drag and
drop a text box control and if you look
at this one
this text box is within the first wizard
step so let's call this step one text
box and along the same lines let's copy
and paste that in each step and let's
call this text box maybe step two text
box because this is present inside step
two and similarly this one step three
text box okay the first thing that we'll
notice as setting focus to the first
control in the wizard step if you look
at this one this is a very simple result
control with three Vizard steps with
that and each step has a textbox inside
it so obviously if we flip to the design
mode you can see the textbox in each
step of the facade control now look at
this when I run this project as soon as
the page loads look at what happens you
know the user has to move the cursor
into the textbox to start typing you
know by default the cursor is not within
the textbox look at that so I have to
move my cursor click in the textbox and
then start typing now just to improve
the user experience a little and I
wouldn't it be nice when the page loads
you know if the cursor is already in
that text box so that the user can
straightaway start typing so how do we
do that obviously to do that you know we
call the focus method on the textbox so
all we have to do is if you look at this
textbox ID that's step one textbox so
what we basically can do in the
code-behind file on the page load we can
say step 1 textbox dot focus we do that
on the page load so now when we run the
web application project as soon as the
page loads notice that the cursor will
you know be ready in the text box look
at that I didn't click in the textbox as
soon as the page loaded you can see the
cursor blinking in the text box and I
can start typing in it straight away but
then when I click the next button and
look at what's going to happen now we
are on step 2 of the wizard control but
then now look at this for this text box
the cursor is not blinking there okay
which means we have to do that for text
box too as well so depend based on the
step I am n of this wizard control you
know I have to set the focus to that
text box control now if you remember in
the previous sessions of this video
series we know that the result this
wizard control as we change the steps
that we want to navigate to you know
there is a property called active step
index okay so which is a zero index
based collection so step one is actually
active step index is zero for step two
it is AK you know one and for step three
it is two so
based on that we will have to decide
which text box you know we want to have
the focus received and to do that so
what we basically can do is F wizard one
dot active step index if the active step
index is zero then we know that we are
on the first step of the wizard control
in which case we want the step one text
box to receive the focus else F
if the active step index is 1 then we
know that we are on step 2 of the wizard
control in which case we want step
textbox to receive the focus okay and
elsif back to step index is 2 then we
know that we are on step 3 of the wizard
control in which case we want step 3
textbox to receive the focus ok now
let's run this and see what happens so I
run the page and then when I am in step
2 I mean step 1 look at that the cursor
is already blinking there now I click
the next button I go to step 2 but look
at that the cursor is not blinking there
let's examine why that's the case
because if you remember you know the
baby have coded it okay if it active
step index is 0 then set the focus to
textbox 1 if it is 1 which means we are
on step 2 of the wizard control then set
the focus to step 2 so why isn't it
working as expected
let's put a breakpoint here and run the
application and see why that textbox is
not receiving the focus when we navigate
to step 2 of the wizard control so when
the page loads look at that active step
index is 0 so now let me press f10 so it
comes inside the if block and sets the
focus for textbox 1 which is good and
the cursor is blinking within the text
box now let's click the next button as
we do that okay it again comes into the
page load event now look at the active
step index it is still 0 because
remember the active step index gets
changed on the button click event and
page load event happens before the
button click event that's why the active
step index is still 0 now let us press
f5 now let me click on step 3 and now
look at the active step index it
is one which is the previous active step
index so in the sense because this page
load fires before the button click event
it still remembers the previous active
step index because on the button click
even that's going to change it to 3 okay
that's why page load is not the correct
event to have this code you should have
this code in an event which happens
after the you know button click event so
which even happens after the button
click event page pre-render so all we
have to do is let's stop debugging here
instead of having this code in the page
load event I will copy and paste that in
the page 3 render event of this web form
so the even name is pre render and then
I will move this piece of code into that
even handler so now if we run this the
wizard control should work as expected
on each step the respective look at that
we are on step one text box has the
focus I click Next let expect you know
on step two the text box has the focus
similarly on step three the text box has
the focus ok so we are making the active
step index we are using that property to
set the focus to the corrector text box
control alright the next thing that we
will do will look at is attaching
JavaScript to the next previous and
finish buttons so that when the user
clicks them you know they can get some
kind of a transformation let's say now
if we run this application now you know
when I click the next button
you know I directly move to the next
next step of the wizard
instead of that let's say you know when
I click that button I want to show a
dialog box are you sure do you want to
move to the next step and then when the
customer clicks ok only then it should
move to the next step and he clicks
cancer he should stay on the same step
of the wizard control is it possible to
do absolutely but then we have to
slightly modify the wizard control now
if you look at this wizard control
you know this next button is there you
know a declaration for this next button
in the HTML anywhere on the web form no
all we have on this webform is a result
control we don't have the declaration
for this button control so where is this
button control coming from this button
control is automatically generated by
the wizard control based on the step
type now the step the first step is the
start step type so it only shows the
next button whereas if we look at the
next step this is a step I mean the step
type of this step is a step because this
is not a finished step this is not a
start step so this is an intermediate
step in which case the wizard control
will display next and previous buttons
on the other hand the third step is the
final step okay in which case it will
display finish in previous buttons now
the visit control is able to determine
what buttons to show based on the step
type you know of that wizard step and
these buttons are automatically
generated so we have a limited control
on those buttons now if I want to attach
a custom JavaScript to these button
controls you know it's not easy to do
with the automatically generated buttons
so what we have to do in that case is to
use some templates for the wizard
control okay now the easiest way to do
that is flip this webform into the
design mode and then you know this
button that you see here this is called
as show smart tag button when you click
this you know you have some templates
here there is something called convert
to start navigation template now look at
the visit control before we do that all
we have within this wizard control are
some Vizard steps okay so I'm going to
go to the design and click on this show
smart tag button or what you can do is
right click and say show smart tags okay
here look at that I'm going to convert
to start navigation template okay after
I have done that flip to the source mode
look at what happened to the HTML that's
generated now the wizard steps there as
usual but then there is a new piece of
HTML here start navigation template and
if you look at this start navigation
template it has got one button control
within that and if you look at the text
of the button control it says next so we
have this is the button control which is
getting displayed on the wizard control
okay
and if you look at the command name it's
like move next move to the next step
okay now to attach JavaScript all you
have to do is now javascript is a little
client-side script at trans you know
when when the button gets clicked on the
client-side so there is an event for
this button called on client click so on
client click I want to attach some
JavaScript to this button control so
what I want to do is return there is a
confirm JavaScript function confirm are
you sure you want to go to next step
okay so this is the JavaScript that we
want to have you know this button
executes when on the client side so we
are attaching this JavaScript to this on
client click event and if you look at
this function it's it's a built-in
JavaScript function that displays a
dialog box with the okay and cancel when
you when the user clicks on okay that
returns true when that returns true you
know the page will be posted back to the
server if the user clicks on cancel
button that returns false in which case
you know the page will not be posted
back to the server okay so now let's run
this and then when the page loads and
then when I click on the next button
look at that let's call this first step
so I entered some text first step into
the textbox and then look at this when I
click the button are you sure you want
to go to the next step okay I get this
little confirmation if I click cancel I
stay on the same
Paige on the other hand if I click okay
I will move to the next step okay
now we have seen how to attach the
JavaScript using the HTML using the
onclientclick attribute of the button
control now is it possible to attach
this javascript using code absolutely
let's you have to do that now look at
that when I run this we only have you
look at the template that is generated
it's a start
navigation template which is the
template for showing this button for
step one whose step type is start now
when I go to the next step here I have a
previous and next buttons now if I click
Next here look at that I am not getting
that confirmation that's because this
next button is present in a different
template okay so if I go to the visit
control now go to the design mode now if
on the source if you notice we only have
start navigation template if I go to the
visit control there is another template
step navigation template for all these
tabs before the start and finish steps
you know between these two steps the
first and last step all these steps you
know use the step navigation template
okay so convert to step navigation
template and as you might expect the
step navigation template will have two
buttons within that to go to the
previous step and to go to the next step
okay
so text is previous for this one it is
next and obviously command name here is
move next and for this button let's move
previous okay now let's see how to
attach the JavaScript to this step next
button in the code behind file now
obviously to do that using code we will
have to identify this button control and
then attach the JavaScript to that
button control now identifying this
button control is a little trickier here
because look at this if I want to access
the text box all I am doing here in the
webform is step
1 a textbox dot I am able to access the
text box but how do I access this step
this button control can I directly say
step next button dot I cannot do that in
fact you know the webform says ok this
this is not identified ok
that's because this is not present you
know directly within the webform its
present inside a template so we have to
use a find control method to find the
controls inside the template and if you
look at this template where is this
template present that's present inside
the wizard control and what's the ID of
the wizard it's wizard 1 now let me
actually run this one and we will find
out the hierarchy of the controls within
which we have that button control
so if I click Next for example here to
go to step 2 and then I right-click on
the page and save view source when I
look at the page source notice that for
the next button here is the next button
step next button that's the ID which is
present in a temple in another control
called step navigation template
container ID which is present inside
wizard one control so that's the
hierarchy so let's copy that I'm going
to close that ok so that's where we have
so that's the part where we have this
step next button so inside wizard 1 and
step navigation template container ID
and within that we have this step next
button so to get to that I can save
wizard 1 dot find control within wizard
1 I want to find the step navigation
template container ID so copy that and
if you look at this find control method
it expects the ID of the control that we
want to find so let's pass that and then
within that we want to find control and
the controls ID step next to button so
if you remember if we flip to the HTML
the idea of this button is step next
button so find that there now we know
that this is going to return a button
control so what we have to do is button
let's call it B TN is equal to that and
we know that this returns a button but
if you look at the return type of
defined control method it returns
control but we know that we are
expecting a button control there so we
need to typecast that to be of type
button and all we do here is button dot
on client click is equal to we attach
the same JavaScript that we want to
execute instead of typing that let's
copy it from here okay
so now if we're on even on the second
step when I click the next button we
should get that confirmation are you
sure you want to go to the next step so
on the first step I click Next I get the
confirmation I click OK I go to the next
step this is on step 2 I click the next
button
I get the confirmation as expected
similarly if you want the confirmation
for the finish button all you do you can
either do it on the code-behind file or
you can do the in the HTML okay so if
you want to do it for the finish button
you convert to finish navigation
template okay the final thing we'll see
how to set you submit behavior is equal
to two and this is really really useful
this can improve your user experience so
right now as it stands let's go to step
one look at that let's say I type in
okay step one and then I'm hitting Enter
key I'm not using my mouse all I have
done is typed something into the text
box and I'm clicking on the next button
currently I am on step one when I hit
the enter key look at that
are you sure you want to go to the next
step okay and I come to the next step
and step two we are currently on step
two and I'm not using my mouse I'm
the enter key look at that it goes to
the previous step but I actually wanted
to go to the next tab that's because
look at this when I click next become to
the screen on the screen the previous
button is before the next button and by
default if you remember in part 39 of
this series we have discussed about you
submit behavior property you know this
property will be true for all the button
controls meaning with they use the
built-in browser submit functionality
and here the previous button is is
acting as you know when I press the
Enter key
you know the even handle of that button
is getting executed we want to disable
that and how do we do that by setting
use submit behavior property of that
button control to false and the
significance of you submit behavior
property we have discussed about that in
part 39 of this video series I would
strongly encourage you to watch that
video first before continuing with this
session if you haven't already done so
so to correct this problem all I have to
do is in the source in the step
navigation template this is the previous
button so all I want to do here is use
submit behavior is equal to false so
this is not going to use the built-in
browsers submit behavior okay so now if
we run this I am on step one I hit enter
I'm not using my mouse I hit enter I go
to the next screen and I say step two
and similarly I hit enter look at that I
sure you want to go to the next step and
I come to this step three on this slide
you can find resources for asp.net
c-sharp and sequel server interview
questions that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>