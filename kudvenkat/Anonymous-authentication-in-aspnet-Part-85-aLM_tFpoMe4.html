<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Anonymous authentication in asp.net   Part 85 | Coder Coacher - Coaching Coders</title><meta content="Anonymous authentication in asp.net   Part 85 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Anonymous authentication in asp.net   Part 85</b></h2><h5 class="post__date">2012-12-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aLM_tFpoMe4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome for premium technologies I
am venket this is part 85 of asp.net
video series in this session we'll
discuss about anonymous authentication
first let's understand the terms
authentication and authorization
authentication is the process of
identifying a user's authentication
basically answers the question who is
the user is the user who he claims to be
in asp.net there are several techniques
to authenticate users for example we can
make use of windows authentication forms
authentication passport authentication
etc we'll be talking about these
different authentication techniques in a
very great detail in a later video
session so what's the authorization
authorization is the process of granting
access to those users based on their
identity
now authorization happens after we
authenticate users authorization
basically answers the questions like
what rights the user has and what
resources can they access together
authentication and authorization secures
or web applications from intruders but
most of the public websites that we see
in the on the Internet today they don't
really ask users to enter any kind of
username or password but still we are
able to access the content of their
websites so how are we able to do that
because they provide anonymous access to
the resources on their web servers to
the users by using a technique called
anonymous authentication
that's asp.net provide anonymous
authentication absolutely so how does is
you know which host asp.net web
applications provides anonymous access
in is 6.0 or you know there used to be
an account called I us are under school
computer name so if my computer name is
XYZ i USR underscore XYZ is the name of
the account that provides anonymous
access in is 6.0 whereas in is 7.0
that's actually replaced with just I USR
account let's actually look at that in
action let's flip to visual studio here
I have an asp.net web application
project with webform 1 and within the
page load event of this web form 1 if
you look at this I have a very simple
code here
eight lines of code and this one is a
static text application code executed
using so basically we are trying to
print the name of the account that is
used to execute this asp.net application
code and to do that I am using the
windows identity class within system
word security read principal norm space
and that this class has got this get
current static method and the return
type of that you know which returns a
Windows identity object and I'm using
the name of property to retrieve the
name of the account that is used to
execute a speed or Net Applications code
and then look at that is the user
authenticated we are trying to print if
the user whoever is trying to access
this application is he authenticated or
not look at that the property that I am
using is is authenticated and that's
that's on user dot identity object okay
look at that if they look at the
property it's a boolean property that
returns a true or a false true if the
user is authenticated otherwise false
okay and if the user is authenticated
then what authentication type is used
and authentication type is a string
property and what is the name of the
authenticated user and that's also a
string and E's authenticated
authentication type and name all of them
are actually dependent on user dot
identity okay now remember we are using
anonymous authentication here okay so
that's where form one now this
application is not associated with the
local is by default Visual Studio uses
the built-in asp.net development server
but instead of that let's associate this
to is and to do that I get to the
properties of my web application project
click on the web tab and navigate to
servers and select use local is web
server and I don't have a an application
within I is with web application one
name so let's go ahead and create that
and to do that expand is and to open is
within the run window type I in it
gri net manager and click ok that should
open up is within is expand the root
node and then expand sites default web
sites so let's go ahead and create an
application so add application I'm going
to call this web application one and
it's making use of the default app pool
application pool and wait is this
application present its present in my C
Drive and the name of the application is
web application one that's the solution
and that's the web application project
folder select that click OK
so we have this web application one okay
now how do I know if the application is
using anonymous authentication or not to
find that out you know I have this
application selected and this is the
features view ok
so within the features view within I as
you have under is section you have
authentication I can double click that
look at that anonymous authentication is
enabled and all the other authentication
techniques are disabled ok so anonymous
authentication enabled and then on the
right hand side in the actions pane let
me click to set it and look at that the
user account that is used by default is
I USR by the way the version of is that
I have is is 7.5 so this is is version
7.5 okay so basically anonymous
authentication is enabled so I click
Edit I USR if you have you know is 6.0
then it it would have been I us our
underscore whatever is your machine name
so that's the account that is used by as
to provide anonymous access ok so if I
want to change this account to something
else I can do that as well for example
instead of using I us our account I can
use any other account for example on
this machine I have two user accounts ok
and how do I figure out what are all the
windows accounts that I have on this
machine go to start right click on your
computer select manage that should bring
up the computer management window and
within computer management
and oh you can say something called
local users and groups and if I expand
that I click on users look at that there
are two you know accounts that I have
here Prasad and venker and apart from
that I have the built-in accounts
administrator guest home group user etc
so now I can use any of these accounts
in order to provide an anima saxes as
well but by default it's going to be I
user for example if I want to use venket
account I have to give the right
username and a right password so let me
type in the password confirm that
password and click OK
so instead of I us our now I am using a
specific user account or I can use
application pool identity ok we know
that you know this web application one
is actually associated with default app
pool and this default app pool is
executed if you look at the Advanced
Settings of this default app pool you
know the identity it's using by default
this application pool identity but you
can choose any of the other accounts as
well local service local system network
service etc but by default it's going to
be application pool identity so that
account can be used as well to provide
anonymous access so let's go back to
authentication let's edit that let's put
it back to so it's back to I USR anyway
because we didn't click OK there but
remember you can change the identity
that is associated with anonymous
authentication but by default it's going
to be I us are in is 7.0 all right so
now let's go ahead and okay so we have
the application we have web application
1 let's save that and let's run this
waveform so as you might expect now we
are using anonymous authentication so
when the web form loads up you should
see a message stating that you know the
authentication type I mean is user
authenticated look at that false because
we are using anonymous authentication
and authentication type if authenticated
that's empty because the user is not
authenticated so there's no
authentication type associated and
similarly no username but the
application code is
executed using is Apple backslash
default Apple now this might be a little
confusing at this point if you look at
the very is is providing access to the
resources when I say resources this
platform one is actually a resource
within our web application one so we are
allowing access to this platform one
using anonymous app authentication okay
but if you remember we were actually
using I us our account to provide
anonymous access so if we go to
anonymous authentication click on edit
so we are using I us are so but then
when the application executed it's
actually using the default app pool
account to execute the application code
so you might be wondering why is it not
using I USR that's because I asked you
know when the request comes to I as it's
the I user account that that you know
that's that's there to provide anonymous
access but once the request is handed
over to the asp.net web application now
the application pool identity is used to
execute you know the application code
but that can be changed using something
called impersonation we're going to talk
about impersonation in the next video
session so by default anonymous
authentication is enabled in is if we
don't want an anima authentication we
can disable that so how do we disable
that we can disable that within is as
well so all I can do is click on that
disabled button so disable anonymous
authentication is disabled so obviously
at the moment we are not using any
authentication technique to authenticate
users and we have disabled access to
anonymous users ok so obviously when I
run this now you know I am not
authenticated and on animus users are
not allowed to access this page look at
that you are not authorized to view this
page due to invalid authentication
headers so you don't have permissions
you know unauthorized you don't have
permissions to access this page okay
because we have disabled anonymous
access as well
okay now is the is only way to disable
authentication now let's go ahead and
enable that we can also do that we can
also disable anonymous access to
resources from web config file and how
do we do that within web config file you
can have an authorization element so
authorization and then what I'm going to
do I'm going to say deny users is equal
to question mark so basically what we
are saying here we are denying anonymous
users access question mark indicates
anonymous users so we are saying deny
anonymous users access whereas allow
users is equal to question or star so
deny access to an animus users rest
other users allow access so now you know
if you look at is we have disabled
anonymous authentication which means you
know the request can come through is but
then when it reaches web config file
within web config file we are
specifically saying disallow anonymous
access okay so now even now when we run
this we are going to get the same
message that oh the access to the
resources denied so basically access is
denied okay but on the other hand you
know it's very important that you have
the deny element on top of a love
element because whatever is the first
matching if I have it like this you know
when the request comes in you are saying
allow users is equal to star I love
everybody access so this rule is
satisfied so the access will be allowed
let me run this and look at that I will
now be able to access I am able to
access the file that's because in spite
of me having here deny users is equal to
question mark
you know at this line the you know this
condition became true so it will never
come here and the request will be
serviced that's why anytime you want to
deny something to somebody it's always
best to have
I on the top of your authorization list
we'll be talking about authorization in
in further video sessions as well okay
but on the other hand you know obviously
as I told you we can enable a disable
authentication either in is or in web
config file and we have seen how to
change the account that is associated
with anonymous access as well in the
next video session we're going to
discuss about impersonation on this
slide you can find resources for asp.net
c-sharp and sequel server interview
questions that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>