<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Guid in SQL Server | Coder Coacher - Coaching Coders</title><meta content="Guid in SQL Server - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Guid in SQL Server</b></h2><h5 class="post__date">2017-03-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SJJ8EmfO2Fg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 136 of sequel server
tutorial in this video well discuss what
is a grid when to use it with finally
advantages and disadvantages of using
the grid so what is a grid a grid is a
16 byte binary data type that is
globally unique across tables databases
and servers which stands for global
unique identifier the terms grid and
unique identifiers are used
interchangeably if we want to declare a
grid we use this keyword unique
identifier so in this example ID is a
grade notice we're using the keyword
unique identifier to declare it as a
grid so how to create a grid to create a
grid we use the new ID function so here
is an example when we execute this query
select new ID we get a grid that is
guaranteed to be unique across tables
databases and servers every time we
execute this query we get a grid that is
unique and this is how a typical grid
looks like let's look at a quick example
so to create a grid we use new ID
function in sequel server look at this
when we execute this we get a grid and
every time I execute this query notice
we get a grid that is different and to
declare a variable of type queered we
use this keyword unique identifier let's
populate this variable with a value and
to populate it with the value we are
going to use this new ID function and
then we select what we have in this
variable at ID again we get a grid that
is unique now let's understand when to
use this grid data type with an example
let's say our complete as business in
two countries USA and India USA
customers are present in this table USA
customers which is present inside this
database USA dB similarly India
customers are present in this table
India customers which is present in this
database India dB and if you look at the
script that we
via their first creating this database
USA DB and then we're using that
database within that database we are
creating this table which has got two
columns the ID column is an integer
column it's also the primary key column
which ensures the ID values are unique
within this table and we also have
turned on the identity property which
means when we are inserting a new row
into this table we don't have to supply
a value for this column and then they're
inserting two customers into our USA
customers table
I've already executed the script so if
we look at the data that we have in our
USA customers table they have two
customers and look at their ID values
they are unique and we are doing exactly
the same thing with India customers
table as well we have two customers
within this table again I have executed
the script so when we select the data
within India customers table again we
have two customers their ID values are
unique now let's try to select data from
both the tables India customers and USA
customers look at the ID values between
the tables they are not unique between
these two tables because ID column is an
integer identity column it is guaranteed
to be unique only within that table but
between the tables they are not unique
now let's say we want to consolidate the
customers from these two tables into a
single table called customers so here
they are creating a table for customers
and within this we have two columns ID
and name ID is an integer column and we
have turned on you know the primary key
option so this ID column value has to be
unique and we are trying to load
customers from our India customers and
USA customers tables into this single
table customers now look at what's going
to happen when we execute this insert
script we get an error violation of
primary key constraint why is that that
is because we have duplicate values for
ID column between these two tables
okay John and Tom look at that they have
the same ID that's why we are not able
to consolidate those rules into a single
table so this is the problem with
integer identity column they are
guaranteed to be unique within a given
table but between tables they are not
unique whereas on the other hand a grid
is unique across tables databases and
servers a grid is guaranteed to be
globally unique let's see how things
will change if we use a grid instead of
an integer now let's create a new table
let's call it USA customers one within
this table we want this ID column to be
a grid column so let's change the data
type from int to unique identifier and
we want the value for this column to be
automatically generated when we insert a
new row for that let's specify a default
constraint and how do we generate a
value for a grade column we use the new
ID function and when we insert data into
our USA customers 1 table we want to
make use of this default constraint so
let's specify that here and let's do the
same thing with our second insert
statement and finally let's select data
from our USA customers 1 table so let's
execute the script the table is created
data is loaded into the table now when
we select the data look at the ID column
values they are unique within this table
now let's do the same thing with India
customers let's create a new table let's
call it India customers 1 we want the ID
column to be a grid so let's use unique
identifiers instead of integer this is
also the primary key and we are using a
default constraint to automatically
generate a value for this column and
let's insert data into our India
customers 1 table and let's make use of
the default constraint
and let's select data from our India
customers one table so let's execute
this correct India customers one table
is created data is populated and then we
select the data from India customers one
notice the ID values are unique now
let's select data from both these tables
in your customers 1 and USA customers
one let's apply Union all operator now
look at the ID values between these two
tables they are unique
remember a grid is guaranteed to be
globally unique so the grid column
values will be unique within tables
between tables across databases and
servers so now we should not have any
problem loading this data into a single
table called customers one
so let's first create a table called
customers 1 and let's change the data
type to unique identifier and this ID
column is going to be the primary key so
let's create the table first and we want
to insert into our customers one table
the data from India customers 1 and USA
customers 1 tables and finally let's
select data from our customers 1 table
notice all the four rows from both the
tables have loaded into customers one
without any problem and look at the ID
column values they are unique so now
let's understand the advantages and
disadvantages of using a grid first
let's look at the advantages the main
advantage of a grid is that it is unique
across tables databases and servers so
it's extremely useful if you're
consolidating records from multiple
sequel servers into a single table I've
seen an example of that just now
disadvantages the main disadvantage of
using liquid as a key is its size a grid
is 16 bytes in size whereas an integer
is only for buys grid is one of the
largest data types in sequence server
and index built on a grid is larger and
slower when compared to an index built
on integer column and these grids are
also hard to read
compared to integers so in summary only
you say grid when you really need a
globally unique identifier in all other
cases it is better to use an integer
data type thank you for listening and
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>