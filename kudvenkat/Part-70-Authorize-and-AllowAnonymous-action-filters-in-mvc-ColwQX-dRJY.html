<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 70   Authorize and AllowAnonymous action filters in mvc | Coder Coacher - Coaching Coders</title><meta content="Part 70   Authorize and AllowAnonymous action filters in mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 70   Authorize and AllowAnonymous action filters in mvc</b></h2><h5 class="post__date">2013-08-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ColwQX-dRJY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part seventy of asp.net MVC
tutorial in this video we'll discuss
authorize and allow anonymous action
filters in asp.net MVC by default all
the controller action methods are
accessible to both anonymous and
authenticated users if you want your
action methods to be available only for
authenticated and authorized users then
use authorize attribute let's understand
this with an example
let's flip to visual studio here I have
a blank asp.net MVC for application
let's go ahead and add a controller
let's call it home controller and let's
add two action methods to this
controller and let's call the first one
as secure method let's go ahead and add
another action method and let's call
this non secure method and let's go
ahead and add respective views as well
and let's call the first view as secure
method this should add secure method of
view and similarly let's go ahead and
add non secure method view alright at
this point we have two action methods
within the home controller and their
respective views now let's go ahead and
deploy this MVC demo project to local is
and to do that right-click on the
project name within solution Explorer
select properties and within the
properties window click on a web tab
scroll down and select this radio button
use local is web server and then before
we click on this create virtual
directory button let's open is and to do
that click on start type run and hit
enter that should open up run window
within run window type init MGR click OK
that should open is expand the root
server node in is and then sides and
then default website and look at that at
the moment we don't have a virtual
directory with this name MVC demo let's
click on this button the virtual
directory was successfully created
click OK now let's come back to is and
refresh this default website
notice that we have MVC demo select that
and then click on this authentication
icon look at that by default anonymous
authentication enabled which means
animus users will be able to access all
the actions within your controller okay
now let's also enable windows
authentication and to do that select
windows authentication and click this
enable link so at the moment we have
anonymous and windows authentication
enable alright let's go ahead and build
the solution and let's fire up a browser
window and try to navigate to secure
method and non-secure method and see if
we are able to access them so let's go
to secure method and look at that I am
able to access that and similarly let's
try and access non secure method so at
the moment we are able to access both
secure and non-secure method now let's
say this secure method as the name
States it's secure and I don't want
anonymous users to be accessing that I
want only authenticated users to be able
to access that method so how do we
achieve that simply decorate that with
authorized attribute let's build the
solution and now let's try to navigate
to non secure method and see if we are
able to access it now we should be able
to access it as normal because that I'm
still able to access that but the moment
I try to navigate to secure method look
at what's happening it's saying
authentication is required so we need to
provide a valid windows username and
password otherwise look at this if I
don't provide any username password if I
click cancel look at what's going to
happen we get an error
4:01 unauthorized access is denied due
to invalid credentials ok on the other
hand if we try to provide a valid
Windows user account credentials then we
should be able to access that method ok
and to do that you know let's say on my
computer let's right-click on this
computer cell layer
manage so this should open up computer
management and then navigate to local
users and groups and look at this have
got several Windows user accounts here
now let's say we want to use the
standard count and then access in a
secure method so 10 is the user name and
then the respective password look at
that I since I am authenticated now I am
able to access secure method ok now look
at this we have applied this attribute
at the action method level but we can
also apply it at the controller level
and look at the moment we apply it to
the controller then it is applicable for
all the actions within that controller
so let's build the solution let's close
this browser open another instance and
try to navigate to home and secure
method so it should prompt me for the
credentials let me click cancel and let
me try to go to non secure method and
again it should still prompt because we
have applied this authorized attributed
the controller level so all action
methods basically require authentication
okay now let's say this is non secure
method I want to allow anonymous users
to be able to access that ok
since we have applied this authorized
attribute at this level you know at the
moment both of these methods you know
they require authentication to access
them but then you know I want non secure
method to be available for anonymous
users as well so to overwrite you know
whatever setting this authorize
attribute is and for saying you know I
can simply decorate this non secure
method with allow anonymous attribute
let's pull this let's cancel that and
let's fire up another instance of the
browser let's navigate to non secure
method
and we should be able to access that
without providing the authentication
details look at that and if we go back
if we try to go to secure method it will
still ask for the credentials okay so
allow anonymous attribute users to skip
authorization and force by the
authorized attribute on this slide you
can find a link to my YouTube playlist
where you can find all the videos in a
logical sequence you also have a link to
my blog where you can find the code
samples and text version of all the
videos that's it for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>