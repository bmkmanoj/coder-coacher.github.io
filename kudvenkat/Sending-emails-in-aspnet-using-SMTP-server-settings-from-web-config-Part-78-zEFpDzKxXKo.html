<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Sending emails in asp.net using SMTP server settings from web config   Part 78 | Coder Coacher - Coaching Coders</title><meta content="Sending emails in asp.net using SMTP server settings from web config   Part 78 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Sending emails in asp.net using SMTP server settings from web config   Part 78</b></h2><h5 class="post__date">2012-12-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zEFpDzKxXKo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to Trillium Technologies I
am venket this is part 78 of asp.net
video series in this session we'll
discuss about sending emails in asp.net
using SMTP server settings from web
config file before continuing with the
session I strongly recommend to watch
part 75 76 and 77 of this video series
in part 77 of this video series we
discuss about sending emails using
asp.net all the SMTP server settings
were actually configured in core in this
session we will discuss about specifying
these settings in web config file let's
quickly recap what we have seen in the
previous session now before continuing
with the session I strongly recommend to
watch the previous sessions of this
video series because this is a
continuation to that now here I have
webform 1 dot aspx on this I have this
clear view control
when this waveform 1 loads up we are
creating an instance of the data set
object and then in working the read XML
method which tries to read the contents
of countries dot XML and load that data
into the data set which in turn is used
as data source for the grid view control
and finally we invoke the data bind
method now we don't have this country's
dot XML file within this project so
obviously we get a file not found
exception and since that exception is
not handled anywhere on this page it's
going to get ruled up all the way till
the application level and at the
application level within global dot a si
X file we have application underscore
error event handler which retrieves the
exception using silver get lost error
and then we pass that exception to the
log method of the logger class and this
log method of the logger class will
actually log that exception to the
database table and to the event viewer
and then it also sends a notification
email to the development team or the
administrator in the previous session we
have seen how to send that email so if
you look at the logger class which is
present in this log of file logger dot
CS so I have this log method which is a
static method it's taking in the
exception object and what we are doing
here we are retrieving the exception
type message and the stack trace for all
the exceptions you know for all the
inner exceptions if na and then we are
actually logging that
option once we log the exception we are
actually sending an email okay and if
you look at you know the send email
method this is what is the send email
method and we have discussed about this
in a great detail in the previous
session and actually there are two
simple steps to send an email first you
compose your mail message object and
next you specify your SMTP client
credentials that's it so when you are
composing your mail message you specify
your from address to address and then
the subject and body so that's your mail
message and then we specify the SMTP
client credentials so SMTP client you
specify the SMTP client you know the
SMTP server name or IP address here
since we are using Google I mean Gmail
to send our emails I'm going to use the
Google's SMTP mail server smtp.gmail.com
by the way SMTP stands for Simple Mail
Transfer Protocol and then SMTP Gmail's
SMTP server uses port number 587 and
then obviously we will have to specify
the username and password
which we did here using the credentials
property of the SMTP client object okay
and then Gmail uses SSL Secure Sockets
Layer
so that's why look at that look at the
URL it uses HTTP so we have to set
enable SSL to true so all these SMTP
settings here are specified in code now
it's also possible to specify these
settings in web config file now you
might be thinking what is the advantage
of storing these settings in web config
file over code in fact this is an
interview question as well the advantage
is tomorrow if the SMTP settings has to
change then all you have to change is
your web config file the advantage here
is that when you change web config file
you don't have to recompile and redeploy
your application obviously it's going to
save a lot of time and effort but if
it's specified in the code you'll have
to change your code once you change your
code you will have to recompile and
redeploy that okay so that's why anytime
you have some set
within your application it's always a
preferred approach to have those
settings in some kind of a configuration
file could be web dot conflict or could
be an XML file now remember when web
config you know changes the application
automatically restarts so it's even
better if you store them in some kind of
an XML file okay so that when that XML
file changes the web application doesn't
restart okay but again it depends on on
the requirements of your project but
anyhow the bottom line is that storing
the configuration settings in a
configuration file is much better than
storing them in the code okay and
finally we send the email using the send
method now let's see how to specify
these SMTP client settings within web
config file so if we look at the slide
here now I use system dotnet element
here now if you look at the mail message
and SMTP class client class both of
these classes are actually present in
system dot net dot mail namespace ok so
maybe if you look at the name the
element name here within web dot config
file it's system dotnet and within that
we have mail settings and within mail
settings SMTP Simple Mail Transfer
Protocol delivery method is equal to
network and then we specify the network
credentials network the hostname port
number username password and since Gmail
uses SSL enable SSL is equal to true so
it's as simple as that so let's quickly
specify these settings within web config
file so let's go to web config file and
system dotnet you specify that directly
underneath the configuration element so
system dotnet and here you specify mail
settings because we want to send an
email and within mail settings we
specify SMTP and delivery method is
going to be network and we specify the
network credentials so network first
thing is the hostname so host is equal
to SMTP
dot gmail.com and port number so Gmail's
SMTP server uses port number 587 and we
need to specify user name so I'm going
to specify that as my username could
rank up at gmail.com
and you specify the password okay so I'm
going to specify that as test and since
Gmail uses SSL I'm going to specify
enable SSL is equal to true okay
so since we have specified these
settings within web config file I don't
have to have these settings anymore
within my code so let's go to our code
now within logger class so I don't have
to have these credentials anymore so
SMTP client credentials I can get rid of
that I can also get rid of this enable
SSL true and I don't even have to
specify the SMTP server name and the
port number okay so all we are doing
here is SMTP client you know we're
creating an instance of that and we are
sending the mail message okay so what is
going to happen when we actually run
this okay it prepares this mail message
object and then it looks at this SMTP
client all right I don't have the
settings specified within code so
obviously it's going to look at web
config file okay all right these
settings are specified here it will read
the settings from here and then sends an
email you know to whomever we have
specified so here if you look at the
logger class we are actually asking it
to send an email from me to myself okay
and obviously you will it will find that
the email since I am sending it to
myself you know this is an example email
that I have sent it to myself so if you
look at this I have sent from this email
address to this email address okay
now this code you know you cannot send
unlimited number of emails from Gmail
programmatically like this I think they
have set some limit there are only so
many number of
emails that you can send using Gmail's
SMTP so it's not available for a full
commercial purpose so you can only send
a specific number of emails using
Gmail's SMTP server so since the SMTP
server settings are now configured in
web config file in code all we have to
do is create an instance of the mail
message class specify the from end to
email address subject and body so we
prepare the you know mail message object
as usual but then when we create an
instance of the SMTP client and then
send the email using send method that
said we don't have to specify the host
port number username and password and of
course since Gmail uses SSL we also have
to set enable SSL and all that is
specified within web config file
obviously the advantage of that is that
whenever the SMTP settings changes we
only have to change our web config file
we don't have to change code and because
of that we don't have to recompile and
redeploy our application which is going
to save a lot amount of time and effort
we don't even have to test the
application because it's just going to
be the settings change on this slide you
can find resources for asp.net c-sharp
and sequel server interview questions
that's it for today thank you for
listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>