<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 12   Single table inheritance   saving to database | Coder Coacher - Coaching Coders</title><meta content="Part 12   Single table inheritance   saving to database - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 12   Single table inheritance   saving to database</b></h2><h5 class="post__date">2014-09-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/B-YsgD_Ytk4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part where love linked to sequel
tutorial in part 11 of this video series
we discussed creating single table
inheritance model and we also discussed
retrieving data in this video we'll
discuss saving data to the database
table using the single table inheritance
model we will be continuing with the
same example that we worked with in part
11 so please watch part 11 before
proceeding with this video now to insert
a row for a permanent employee into this
employee's table we would instantiate a
permanent employee object and then
populate all the required properties
along the same lines to insert a row for
contract employee we would create an
instance of contract employee class and
then populate the required properties
notice that discriminator property is
not being populated here the value for
discriminator property is automatically
computed depending on the type of object
we are instantiating for permanent
employee the discriminator property
value will be permanent employee and for
contract employee it will be contract
employee because that's what we have
configured when we were creating this
single table inheritance model so if you
look at the properties of this
inheritance relationship
notice that the derived class
discriminate a value for permanent
employee is permanent employee and for
contract employee it is contract
employee all right so let's flip to this
waveform let's drag and drop a button
control onto this form and let's quickly
change the text on the button to add
employees and let's also change the ID
to BTN and employees and let's double
click on that to generate a click event
handler and I have this exact same code
already typed so let's copy that and
paste it with the click event handler so
what are we doing here we are creating
an instance of our sample data context
class and then creating an instance of
permanent employee populating the
required properties and then creating an
instance of contract employee populating
the required properties and then we are
passing their respective objects to
insert on submit method if you look at
this insert on
submit method notice that it expects an
object of type employee but the objects
that we are passing here are permanent
employee and contract employee how is
this possible it's possible because all
these three classes are related by
inheritance
both permanent employee and contract
employee classes are deriving from
employee class so we can pass them as
derived types to this method and finally
we are invoking the submit changes
method so let's run this now and let's
click this add employees button so the
employee should have been inserted now
let's click load all employees notice
that we have Emma and Christie Emma is a
permanent employee and Christie is a
contract employee let's quickly go back
to sequence of a database table notice
that the value for discriminator column
is computed as expected so for Emma
permanent employee and for Christie
contract employee now the employee is an
abstract class so we cannot create an
instance of the employee class trying to
do so well through a compilation error
stating you cannot create an instance of
an abstract class thank you for
listening</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>