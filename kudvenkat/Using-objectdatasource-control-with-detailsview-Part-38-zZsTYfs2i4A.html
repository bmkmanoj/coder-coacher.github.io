<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using objectdatasource control with detailsview - Part 38 | Coder Coacher - Coaching Coders</title><meta content="Using objectdatasource control with detailsview - Part 38 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using objectdatasource control with detailsview - Part 38</b></h2><h5 class="post__date">2013-03-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zZsTYfs2i4A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to prism technologies I am
venket this is part 38 of asp.net
grid-view tutorial in this video we'll
discuss about using object data source
control with details view in my sequence
of a database I have this table TBL
employee which has got ID first name
last name city gender etc now I want to
display this data within a grid we
control but then I don't want to be
showing all the columns instead I just
want to display ID first name and city
columns but then once I select an
employee within the grid we control then
for that selected employee I want to
show all of the columns within the
details view control we discussed about
doing exactly the same thing in path 37
but using a sequel data source control
in this video we'll discuss about using
object data source control just like a
grid we control details view is also a
data bound control in general details
view is usually used to display one row
at a time now since we want to use
object data source controls in this demo
we need to build the employee data
access layer so let's go ahead and add
employee data access layer class file
for this project and I'm going to name
this as employee data access layer dot
CS and now the important thing to keep
in mind here is that look at the grid
view control it needs only three
properties you know ID first name and
city of the employee object but whereas
the details view requires those three ID
first name and city plus the rest of the
properties now I'm going to define two
classes here to hold employee
information okay the first class is
going to be employee basic class and
this employee basic class is going to
contain just three properties Heidi
first name and city properties okay
which is what is the data required by
the grid view control okay and just to
speed things up I have that class
already typed so let me copy that and
paste within our employee data access
layer so if we look at this class its
employee basic and it is cost three
properties ID first name and city all of
the motor implemented properties okay
and then I'm going to define an employee
class public class employee and this
class is going to end
headed from employee basic and the
reason why I would do the artist because
our detailsview control requires ID
first immensity plus the rest of the
properties has far so instead of you
know if I don't make my employee class
inherit from employee basic class then
I'll have to define each and every
property again within the employee class
but instead of that you know just to
reuse some of the code I am actually
inheriting making this class employee
inherit from employee base a that way I
get to define only the properties that
are required in addition to these three
properties and again just to speed
things up I have that class already
typed so let me copy and paste that
within our employee did access layer so
if you look at this you know the rest of
the properties are here a last name
gender date of birth etc okay so we are
done defining the classes now obviously
now we have to write some ad or dotnet
code so the first thing to do is to
import those ad or dotnet namespaces
systems or data systems or data dot
sequel client and system load
configuration okay
so within our employee data access layer
class first I need a method which is
going to return
you know list of employee basic objects
which contain properties ID first name
and city but I want you know all the
employees okay and just to speed things
up I have that method already typed as
well so let me copy and paste that
within our employee data access layer
okay so if you look at this method get
all employees basic details basic
details are ID first name and city
properties okay so look at this method
it is actually returning a list of
employee basic objects okay obviously we
are creating a list of employee basic
object because that's what we want to
return back and then this is regular
area dotted code so here we are using
the configuration manager class to read
the connection string from web config
file using that connection string we are
creating a sequel connection object and
then we are preparing our sequel command
look at the sequel command select ID
first name and city columns so we are
only selecting
these three columns from TBL employee
table and then we are opening the
connection executing the command and
then we are looping through each row
that is retrieved from the database
converting the row into an employee
object look at this the column values
are now being stored into the properties
of this employee basic object which is
then added to this list and finally we
return the list okay so that is get all
employee basic details method now in
addition to that so this method is going
to supply data for our grid view control
but then once I select an employee's
record within the grid we control for
the selected employee we need to return
all of the rows I mean I'm sorry all of
the columns okay so obviously now we
need a method which is going to retrieve
all of these columns for the given
employee so get employee details by ID
we want employees full details meaning
all of the columns okay so now I have
this method here let me copy it and
paste it within our employee data access
layer so if you look at this method look
at the method name get employee full
details by ID so we are passing in an
employee ID the selected employee ID and
for that employee we want to get his
full details so here look at the return
type we are not returning a list of
employees because what do we need in the
details view just one employee object
but all of the columns of that employee
ok so we have just one employee object
here and again this is you know
straightforward edit code use the
configuration manager class read the
connection stream create the sequel
connection object and look at your
sequel command select star from TBL
employee wear ID is equal to add ID so
we're using a parameter east query we
are using a where clause here and we are
filtering based on the ID again we are
using a sequel parameter here for which
we'll have to supply a value and that's
why we are creating a signal parameter
object here the parameter name is at ID
and the value for that is coming into
this method as another parameter okay
and then finally add that parameter
object to the per
Peters collection of the command object
and then open the connection execute the
command and loop through each flow and
look at what we are doing here we are
converting you know the column values
into the properties of that object and
then once we are done with that finally
we are actually returning that employee
object back okay let's change this zoom
percentage to 100 so we are finally
returning that employee object back so
we have the two required
you know methods the first method is
going to return the data for grid view
control the second method will return
the data for details view control okay
at this point let's go ahead and build
our solution so that the employee data
access layer class is compiled okay so
within our waveform we need a grid view
control and the details we control so
let's go to the waveform drag-and-drop a
grid view control
let's auto format that we want
brown-sugar scheme and then we need a
detail so you control obviously we want
to use you know let's sort of format
this as well let's choose brown-sugar
scheme now we want to use object data
source controls so let's drag and drop
to object data source controls okay so
first let's configure object datasource
one control now our data access layer is
going to be demo dot employee data
access layer and then this has got a
method get all employee basic details
which is going to return a list of
employee basic objects list of employ
the employee basic object has got ID
first name and city columns so click
finish now let's associate our object
datasource one with our grid view
control ok and then we also want to
enable selection so the select button is
shown here okay and the next thing is we
want to configure object data source to
control so configure datasource choose
your business object employee data
access layer click Next let's choose our
select method the select method this
time is going to be get all employee
full detail I mean get employee full
details by ID ok
and then we want to pass basically the
idea of the selected employee okay look
at this this method has got a parameter
so now I click Next obviously we will
have to supply a value for that
parameter where is that value going to
come from from grid we control okay so
from another control on this waveform so
what's your parameter source it's going
to be a control and which control is
that grid v1 and gridview one dot
selected value so that's the property so
this ID is going to get its value from
grid v1 dot selected value property so
click finish
and let's associate this object data
source to with our details view control
okay look at that we get basically all
of the columns there so let's run this
now and as you expect when the waveform
loads you know the data should be
displayed within the grid view control
but then we might get an error so look
at this we have an error here data Keys
must be specified on grid view one
before the selected data Keys can be
retrieved so if you remember when we are
configuring this object data source to
control we said you know the parameter
ID which this method expects you know
get all employees full details by ID
you know for this parameter the value is
coming from the selected value property
of grid v1 control but for us to use the
selected value property we need to set
the data key names for could be one
control okay so let's flip this to the
source mode and then within grid v1
control all we need to do is set data
key names property and that should be
equal to ID the employee ID column okay
so with that change let me go ahead and
run this now and when the waveform loads
it should render the grid view control
but then there is a problem here you
know there's no rows selected within the
grid view control but then look at the
details view it's showing some blank
data there so when
the webform initially renders when there
is no row selected within the grid view
control we don't want this details view
to be visible so what I'm going to do
here within and we don't want to do that
within the page load event we discussed
about this in part 37 we want to do it
in pre-rendered event so I'm going to
copy this even handler and I'm going to
change the event name to pre-render and
here I'm going to check if grid v1 dot
selected row if that is equal to now
then what we want to do we want to hide
details view so I'm going to say details
view dot visible is equal to false on
the other hand if there is a selected
row with in grid view one control then
we want to turn on the visibility of
details view come one control so that's
it okay now let's run this and as you
might expect when the waveform initially
loads when there is no row selected the
details we will not be visible so now I
select the employees row look at that
the selected employee is shown but
there's one problem here look at this
society first name and City columns they
are displayed in the end instead I want
them at the beginning what do I do to
correct this problem the simplest way to
solve this problem is within your
details view control obviously for each
you know row that is displayed here you
have a field here okay so just change
those fields so I want ID first name and
city columns rows on the top so I'm just
going to cut them and then paste them on
the top within the fields collection of
this details view control so now I run
this as you might expect ID first name
and city columns will be displayed on
the top so ID first name and city and
then last name gender date of birth etc
okay on this slide you can find
resources for asp.net c-sharp and
sequence of interview questions that's
it for today thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>