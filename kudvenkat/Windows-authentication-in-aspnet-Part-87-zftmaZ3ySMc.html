<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Windows authentication in asp.net   Part 87 | Coder Coacher - Coaching Coders</title><meta content="Windows authentication in asp.net   Part 87 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Windows authentication in asp.net   Part 87</b></h2><h5 class="post__date">2012-12-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zftmaZ3ySMc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to prism technologies I am
venket this is part 87 of asp.net video
series in this session we will discuss
about authenticating users using windows
authentication in parts 85 and 86 of
this video series we discussed about
anonymous authentication anonymous
authentication is fine for websites that
contain public information that everyone
can see however if the websites contain
private information or performed tasks
such as booking tickets placing orders
etc then the users need to be
authenticated and authorized and there
are several ways to authenticate and
authorize users in this session we are
going to talk about windows
authentication windows authentication
identifies and authorizes users based on
the server's user list access to the
resources on the server is then granted
or denied based on the user accounts
privileges when does the authentication
is best suited for intranet web
applications because in an intranet we
have a network domain and then all the
users have Windows accounts and based on
their level or the group they belong to
they are permission set at their account
level at their windows account level now
the advantage of using Windows
authentication is that the web
application can use the exact same
security scheme that applies to that
corporate network usernames passwords
and permissions are the same for network
resources and web applications and as
far as asp.net web application is
concerned we can configure security at
two levels you know we can configure an
IAS and in the web config file of the
application let's actually see how to
configure window you know windows
authentication in the is first let's
flip to visual studio I have a very
simple asp.net web application project
here the code you see here is the same
code that we have been working with in
the previous sessions of this video
series so in the page load event this
particular line prints out the name of
the account that is used to execute the
application code here we are figuring
out that if the user is authenticated or
not we are using the es authenticated
property
and similarly we are finding out what's
the authentication type and the name of
the authenticated user okay and in the
button click event so if you look at the
wave form on the webform I have a grid
view control and a button control so
when we click the button we are creating
an instance of the data set object that
data set is reading an XML file from C
data so in sequel and data have
countries stored XML so we are reading
that XML data into the data set which is
then used as the data source for the
grid view control and we are invoking
the data bind okay now this application
is actually deployed to iis as well so
to open is in the run window type i net
MGR and click ok that should open up is
and within is I have you know once we
expand the root node under default
website we have this web application one
here which is actually pointing to our
web application one project so this is
deployed to this application within is
and if you look at this application if I
right click on that manage application
and select advanced at settings look at
that the application pool that this
application is associated with is
default app pool okay and then let's
actually look at the application itself
so I have this web application 1 and if
I look at the authentication by default
anonymous authentication is enabled and
we have discussed about anonymous
authentication in the previous session
okay now let's enable windows
authentication to enable in those
authentication NIS all we have to do is
look at the select windows
authentication and click the enable link
under actions within is so click enable
so windows authentication is now enabled
ok so if you look at the situation now
we have anonymous authentication and
windows authentication enable and we
haven't done any changes within the
application itself so within the web
config file
I haven't made any security related
changes all we have done so far is
enabled windows authentication in is now
let's go ahead and run this application
with that you know settings so now
obviously this is running off the is and
look at this is user authenticated
Falls the user is not authenticated
meaning the application is still using
anonymous authentication okay now if you
remember we have just enabled Windows
authentication but still the application
is using anonymous authentication that's
because if you look at this within iis
we have both anonymous authentication
and windows authentication enabled okay
if both of them are enabled so if both
anonymous and Bendel's authentication
are enabled in is and if we don't have a
deny entry for anonymous users in the
web config file then the resources on
the web server are accessed using
anonymous authentication that's what we
have just seen so this is a resource on
the web server where form one that aspx
is the resource on the web server now
since we have anonymous and windows
authentication enabled in the is and in
the web config file we are not denying
access to anonymous users so by default
the resources of that web server are
accessed anonymously okay so how do we
disable you know access to anonymous
users there are two ways one simple way
is again in is so n is just disable
anonymous access so we disabled
anonymous access now let me go ahead and
access this page so I click enter now
look at that is user authenticated true
and authentication type used negotiate I
mean which is windows authentication and
look at this what is the username the
username of the authenticated user it
says Prasad - PC backslash Prasad so in
on this machine the machine name is
Prasad - PC and I am logged into this
computer as Prasad ok so so so that is
the account that is used to authenticate
myself because that's the windows
username that I have used to login to
the computer and that account is used by
the web server to authenticate me ok so
that's how we can enable authentication
now let's go go ahead and enable
authentication here and obviously as you
might expect if we have anonymous
authentication and windows
authentication enable obviously the
request is being served using anonymous
authentication and we have just seen how
to disable anonymous authentication is
now let's go ahead and see how to
disable anonymous authentication within
web config file so within web config
file so at the moment our is allowing
both anonymous authentication and
Windows authentication and let's go to
the web config file and within here
under system dot Web I'm going to have
an authorization element and within
authorization element I'm going to have
a deny entry so I'm going to deny access
to users question mark so what does
question mark mean question mark has a
special meaning when used within the
authorization element question mark
means anonymous users users who are not
authenticated
so basically IAS allows anonymous users
as well but once the request is handed
over to a asp.net within the web dot
config file I'm saying deny access to
anonymous users so the web application
actually filters access to anonymous
users here so let me go ahead and now
let's save this first web config file
and then if we refresh this at the stage
look at that you know do is allow
anonymous authentication in the web dot
config file we are saying deny access to
anonymous users that's why the resource
is now accessed using windows
authentication so to decide to disable
you know anonymous authentication in web
config file all we do is add this deny
element and if you want to have the
application code so if you look at this
code at the moment you know after I am
authenticated look at this I'm using the
Windows account to log into the computer
which is the same account that is used
by the web server to authenticate me but
once the user is authenticated and once
the request is handed over to ASP
our net then the application code by
default is executed using the
application pool identity but let's say
I want the application code to be
executed using the log then user
identity then what can I do in the
previous session we have discussed about
impersonation so we can enable
impersonation once we enable
impersonation then the application code
will be executed using the log then user
identity
so whatever permissions the logged in
user has you know that permissions will
be applied to act 2 to allow or deny
access to the resources on the web
server so the same settings of the
corporate network are applied to that
web application as well ok let's see how
to quickly enable impersonation so all
we have to do to enable impersonation is
within system dot web specify identity
impersonate is equal to true save the
settings at return to the web form let's
refresh this one look at that the
application code is now executed using
the logged in user identity so if you
want to have the application code
executed using the logged in user
identity then enable impersonation
impersonation can be enabled through is
or by adding the following element to
web config file we have just seen how to
you know enable impersonation and we can
do that using Ras as well and we have
discussed this in previous sessions as
well so asp.net impersonation at the
moment it is disabled but let me say I
mean actually its enable because we
didn't refresh that so its enable so if
I select that and if I click on disable
this will automatically update the web
config file that is associated with the
web application project so look at that
automatically its change it to false so
impersonation can be done through is or
we can directly hand edit that within
web config file so if impersonation is
enabled the application code executes
using the permissions found in your
account so if the logged in user has
access to a specific network resource
only then will he be able to access that
resource through
the application on this slide you can
find resources for asp.net c-sharp and
sequel server interview questions that's
it for today thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>