<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 59   Layout view in mvc | Coder Coacher - Coaching Coders</title><meta content="Part 59   Layout view in mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 59   Layout view in mvc</b></h2><h5 class="post__date">2013-07-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VyQhEArGTNs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 59 phase p.net NB c
tutorial in this video we'll discuss
using layout views in an MVC application
please watch but 58 before proceeding so
what's the layout view and what is the
advantage of using it layout views
provide the advantage of maintaining
consistent look and feel across all the
views in an MVC application a typical
layout view consists of a website header
navigation menu website footer and view
specific content this view specific
content is what is going to change on a
per view basis but most of the time
website header navigation menu and
website footer doesn't change that much
on a per view basis so rather than
having all of these sections in each and
every view we can define them once in a
layout view and then inherit that look
and feel in all the other views so with
layout views maintaining that consistent
look and feel across all the views
becomes much easier as we have only one
file to update if there has to be any
change and once we change that layout
file all the views that has subscribed
to that layout file will immediately
reflect that change so maintenance will
become much easier so let's see how to
use this layout file in an MVC
application so here I have a blank
asp.net MVC for application now where
are we going to put this layout file we
know that layout file will be used by
all the views in our application so we
need to put it in the shared folder and
this shared folder is going to go into
the views folder so let's right-click on
the views folder and add a folder and
let's name it shared and let's add a
layout file and how do we do that simply
right-click on the shared folder and add
a view so it's very similar to adding a
view in fact the extension of the layout
file is also going to be you know the
same as the view dot CSS HTML if you are
working with Visual Basic as the
programming language then the extension
is going to be dot VB HTML now you can
give any meaningful name to your layout
file it doesn't have to be underscore
layer
okay but I'm using underscore layout and
we're going to make use of phrase view
engine and notice that I'm not going to
check any of these boxes and this is not
a partial view and this itself is a
layout this itself is going to be a
layout view so there's no point in
checking this checkbox use a layout or a
master page so click Add this should add
a layout file and notice the extension
it is the same as any other view dot CS
HTML okay so since this itself is going
to be a layout file I'm going to get rid
of that piece of code there so look at
this I have the infrastructure HTML here
that is the HTML tag head tag and within
that we have title meta tag body closing
body closing HTML okay now so we don't
have to have this repeating HTML you
know tag head tag body tag title tag
niche and every view we can have it once
in our layout view okay now we want our
layout view to have this formatted web
site header navigation menu website
footer and then some view specific
content is going to go here so I'm going
to use a table to define this layout and
you know the HTML in our layout file is
going to look something like this so
we're going to have HTML tag you know
opening and closing tag and then we have
the head tag we'll come back and discuss
head tag in just a bit
now let's concentrate on the body tag
itself so within the body we're going to
have a table and this table is going to
have three TRS so the first TR is to
display the header itself the second TR
to display the navigation menu and the
view specific content and the third TR
to display the footer and notice that
within the first tier we have a TD and
we have used this call span attribute
and we have said that to tool why is
that because in the second tier we're
going to have two rows the fur I mean
two TDs the first TD is going to display
the navigation menu second TD is going
to display the view specific content but
then in the first row and in the last
row we just
I need 1td but the width of that DD has
to span the width of two TDs that's why
we are setting the call span to do and
then we want the text to be aligned the
center so we are setting the style
attribute and then specifying text
alignment of Center okay and then here
we have you know a text which says
website header we are going to replace
that with employee portal okay and then
in the middle TR we have two TDs the
first TD is going to display the menu
and the second TD is going to display
the view specific content now this is
very important so how does this layout
file know that it has to plug-in view
specific content at this place that is
with the help of this function so
wherever you call this render body
function that's where you know the view
specific content is going to be plugged
in so I add that location okay so that's
very important and then finally we have
another PR and then again this TD width
is going to span across the width of two
TDs that's why we have that called span
attribute there and then we want the
text to be aligned Center and we are
going to display copyright notice here
that's why we are setting the font size
to small and at the moment we have this
hard coded text website footer but we
are going to replace that with copyright
notice okay so pretty straightforward
HTML within the body okay the important
thing to remember is this call to render
body this is where the view specific
content is going to be plugged in and
then another important thing is within
the head section notice that we have
title tag there so obviously the title
tag is used to specify the title for our
web page and notice that you're not
hard-coding the title for the web page
they're actually pulling the pilot of
the viewbag object and why is that
now this layout file is going to be used
by multiple views within our application
for example by the create view index
view edit view etc now these views are
going to specify what the title is going
to be not the layout file okay so those
respective views are going to put their
title
within the viewbag object using this
title dynamic property okay and then
this layout file is going to retrieve
the same tight a lot of the viewbag
object and then it's going to wrap that
inside this title attribute I mean title
tag which is going to be put into the
Dom and then you know it's used by
search engines for search engine
optimization etc and then another common
thing that we do is within the head we
reference all over JavaScript and CSS
files at the moment in our sample
application we are not going to
reference any javascript and CSS files
but in reality we actually use them
quite extensively so all the JavaScript
and CSS files that are going to be
required by the application can be
referenced here so that there is no need
to reference them again in each and
every view all right so I have this
exact same HTML already time to speed
things up so I'm going to copy that and
then paste that into our layout file
okay so we have our layout file ready
now now to use this layout file with
specific views we need some views and so
let's go ahead and generate them we're
going to make use of this table so TBL
employee so let's go ahead and add a do
dotnet entity data model to our
application so right click on the models
folder add a new item and we want to add
ato dotnet entity data model and let's
name it sample data model let's add that
and we want to generate our model from
the database let's click Next and we
want our connection string to be named
as sample DB context let's click Next
and this is going to connect to the
database retrieve all the tables views
and stored procedures from there and the
table is going to be TBL employee we
want our models to live in models
namespace
let's click finish so this should add
TBL employee entity but we want our
entity be new to be named as employee so
let's go ahead and rename that save
everything let's build our solution to
make sure this employee class
is compiled and the next step is to add
a controller so right click on the
controllers folder add a controller and
let's name it home controller they're
going to make use of this template which
is going to generate read/write actions
and views using entity framework our
model class is going to be employee and
our data context class is going to be
sample DB context and we're going to
make use of rays of views so this should
add home controller and all the pews
basically the list employees to edit
employee to create an employee to delete
an employee okay so we have a home
controller now let's build our solution
and we have our views as well as you can
see here so build that succeeded now
let's fire up a browser and let's
navigate to index action at the moment
you know when this view is rendered
you'll notice that this index view is
not going to use the layout file if it
had been using the layout file we should
have had that header for the left side
navigation you know all that stuff but
we don't have it
so why is this layout file I mean index
view not using the layout file that's
because we need to associate this layout
file with these views and how do we do
that using a property called layout okay
and another important thing to notice
here look at this this index dot CSS
HTML this is the auto-generated view and
notice that you know the title we are we
are storing the title of this view in
the view bag object and if you remember
in our layout file we're actually
pulling the title out of the view back
object and then putting that into the
Dom that's the document object model for
the browser to render the title okay so
within the index view let's say we want
our title to be something like Employee
List page maybe and then we want to
specify the layout file for this view
and I specify that using the layout
property notice the property type it is
of type string so they simply specify
the path for our layout file so where is
our layout file at the moment it's
present and if
the gold shade and this shade folder is
present in views and this views for
folder is present in the root directory
so till the character indicates the root
directory of our MVC web application for
slash that is going to be in views and
shared and the name of the file itself
which is under school layer dot C is
HTML let's save everything and let's go
ahead and refresh this at this point
this index view should actually be using
that layout view okay now we don't want
this hard-coded text instead let's have
some meaningful titles there so we want
the header for our application to be
employee portal so within our layout
file I'm going to replace this website
header with employee portal and we are
going to replace menu with an action
link so let's copy that and we want to
replace this menu with a call to action
link helper so the name of the link is
going to be Employee List and that this
action link is going to invoke in the ex
action within our home controller which
is going to display the list of
employees basically and then we want to
dis replace this website footer with a
copyright notice and notice this at the
moment the copyright notice has that
symbol
you know this see within a circle if
you're wondering how we get that symbol
simply hold down the control key and
then + 0 169 that's going to print that
character for you okay alright with all
these changes let's actually save
everything and then let's refresh this
view so we should have obviously those
text the text appearing now at the
moment if you look at this in a page
it's not that Lively let's say for
example we want to use some colors like
this we want an orange black background
color for header footer and this menu
section and we want basically the font
to be white maybe to achieve that all
you need to do is in your layout file
you need to make that change and this is
going to be reflected across all the
views who have subscribed to this layout
file so I have a TD here so probably
here we want to set maybe a style of
background color in reality we ll
actually set these style attributes in a
CSS file will discuss more about CSS in
a later video session so background
color I want that to orange and maybe
the full color of white okay let's
actually copy these styles and then use
them for menu and in our footer as well
okay let's save the changes look at this
the moment vd fresh tears you know the
changes will be immediately reflective
here so we get the output that we expect
now the moment when I click on edit link
so obviously we'll navigate to the Edit
view now we have this error that's
basically because within edit we have a
section called scripts let's go and get
rid of that section and let's refresh
this view so now it should navigate to
edit view and we are editing the first
employee wears got this ID one but look
at this is it using the layout view no
why is that because we haven't told that
layout that view to use that layout well
and how do we tell that the same idea
you know use the layout property within
that edit view so let's call this you
know maybe the title s employee edit now
if we refresh this this is going to use
that same layout file and look at the
title right here employee edit now
obviously we are repeating this code you
know layout you know it's the same piece
of code in each and every view now here
I have just a handful of view so I can
easily update them but let's say in our
application there are 200 views now just
imagine how much effort it's going to
take to put this pro
within each and every view and
duplicating code is not at all good when
we develop as best matter of best
practice you know anytime you're
duplicating code we have to stop and
think a way of you know writing that
code much better you know the next video
will actually discuss you know specific
specifying our layout file in one
central location so that we don't have
to duplicate it on on each and every
view because the problem with
duplication is that tomorrow if we have
to switch to using a different layout
file with a different name then we'll
have to change that on each and every
view and there are two problems with
that one it is error-prone and we may
not update all the views that we need to
update ok so in our next video we'll
discuss how to specify a layout view
setting for all the views at one place
on this slide you can find resources
faced by dotnet c-sharp and sequels of
interview questions that's it for today
thank you for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>