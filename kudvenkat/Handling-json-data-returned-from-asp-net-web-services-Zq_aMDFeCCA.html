<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Handling json data returned from asp net web services | Coder Coacher - Coaching Coders</title><meta content="Handling json data returned from asp net web services - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Handling json data returned from asp net web services</b></h2><h5 class="post__date">2015-06-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Zq_aMDFeCCA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 62 of jQuery tutorial in
this video we'll discuss how to make an
asp.net web service return JSON data and
then consume that JSON data using jQuery
AJAX we will be working with the same
example that we worked with in part 61
so please watch part 61 before
proceeding there are two approaches to
make an asp.net web service return JSON
data and consume it using jQuery AJAX
with approach 1 the web service code
does not change in any way only the
jQuery code changes this is the same
example that we worked with in the
previous video session notice that at
the moment the type of data that we are
getting back from the server is XML so
the callback function that is associated
with this success function receives that
XML data we are retrieving the name
gender and salary property values and
displaying them in the respective text
boxes now what we want to do is change
this jQuery code so that it's going to
force the web service to return JSON
data instead of XML so the first change
that I'm going to do is introduce
content type option so basically I'm
going to set this option to application
for slash JSON and I'm also going to
specify character set and I'm going to
set that to UTF dash 8 so basically this
content type is telling that we are
going to send JSON string to the server
so the type of data we will be sending
to the server so the content type option
here is telling that we are sending JSON
string to the server that means we will
have to convert this object this
javascript object that we are sending to
the server to a JSON string and to do
that I'm going to use JSON dot stringify
method so this function is going to
convert this javascript object to a JSON
string so now the type of data that we
are expecting from the server is JSON so
change data type option to JSON
now an important thing to keep in mind
is that the JSON object returned by the
web service will have a
property called D attached to that so if
you want to retrieve name property value
you can't simply use data dot name you
will have to use data dot d dot name
because by default the JSON object
returned by the web service will have
that property D attached to it right so
what we will be getting back is a JSON
object so this data will be a JSON
object and to retrieve name property
value I need to use data dot d dot name
similarly if you want gender data dot d
dot gender and finally salary data dot d
dot salary all right so let's save the
changes let's go ahead and reload our
page and let's pass employee ID 1 look
at that we get employee 1 details let's
plus employee 2 and we get employee 2
details all right so here is the code
that we just worked with and if you want
to see the JSON object returned by the
web service you be can use fiddler tool
so if you look at this last request here
notice that we have made a request to
get employee by ID and look at the data
that we are getting back we're getting a
JSON object back and notice we have got
that letter D
I mean property D attached to D JSON
object returned with approach to both
the web service code and the jQuery code
need to change
so first let's see how the web service
needs to change so we have the web
service here at the moment you know we
are returning the employee object right
so what we are going to do is actually
convert this employee object to a JSON
string and write that to the response
stream that means we will not be
returning anything from the function so
let's go and set the return type of the
function to Wyatt and instead of
returning the employee object I am going
to convert this
to a JSON string using the JavaScript
serialize a class and this javascript
serializer class is present in a
different namespace so let's go ahead
and bring that namespace n system dot
web dot script dot civilization so now
let's create an instance of JavaScript
serialize a class and this class has got
serialized method so to this let's pass
the employee object so what is this
function going to do it's going to
convert that object to a JSON string and
what do we want to do with that JSON
string we want to write it to the
response stream so context dot response
dot right that's it so what does this
webserver is going to do it's going to
return a JSON string now so let's go
ahead and build the solution let's
actually view this web service in the
browser so this web service now should
return a JSON string instead of XML so
let's pass employee ID f---one and walk
and look at that what we get back is a
JSON string and the important thing to
notice here as the JSON string that is
written now does not contain that
property D right so now let's go ahead
and look at the changes that we need to
make to our jQuery code so now we don't
have to use this content type anymore
since we are not using the content type
there is no need to stringify this
javascript object we can send that
javascript object to the server as is
and what we are getting back is jason
but you have just seen the JSON string
that we're getting back does not have
that property D attached to it so that
means we don't have to use this D
property anymore so we can simply use D
dot I mean data dot name data or gender
and data dot salary all right so those
are all the changes let's go and build
the solution let's reload our HTML page
one provide an employee
id3 in this case maybe look at that we
get that employee details so here are
the jQuery code changes thank you for
listening and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>