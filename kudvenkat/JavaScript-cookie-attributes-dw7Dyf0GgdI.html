<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JavaScript cookie attributes | Coder Coacher - Coaching Coders</title><meta content="JavaScript cookie attributes - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JavaScript cookie attributes</b></h2><h5 class="post__date">2015-02-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dw7Dyf0GgdI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 68 of JavaScript tutorial
in this video we'll discuss some of the
optional cookie attribute values that
can be used when creating a cookie this
is continuation to part 67 so please
watch what 67 before proceeding here we
have the list of optional cookie
attributes let's discuss these
one-by-one the code that we have here is
going to create a cookie
this cookie expires as soon as the
browser is closed let's look at this in
action let's flip to visual studio let's
create two buttons input type equals
button value equals set cookie and let's
create another button and change the
text here to get cooking now let's write
a JavaScript function to set a cookie
and to write a cookie to the client
computer we use the cookie property of
the document object and let's store the
string in the cookie color equals red
now let's write another function get
cookie and to read the cookie we use
cookie property of the document object
and the length of the cookie is not
equal to 0 then we know that the cookie
is still present and if the cookie is
still present we want to read that
cookie so document dot length is going I
mean document dot cookie is going to
give us that cookie and we want to split
that cookie based on this equal to
symbol so when we split that we are
going to get you know two strings back
the color and the word red so let's
split that based on equal to symbol so
that's the separator and we are going to
get a string array back let's do that in
this variable named value array and then
let's alert the name and value so alert
name equals name value array of zero and
value equals name value array of one so
this should display the name and value
now if the cookie length is equal to
zero then we know that the cookie you
know is either deleted or it has expired
so in that case we want to say alert
cookie not farm all right so when we
click set cookie button we want to call
set cookie function
and when we click get cookie button we
want to call this function cat cookie
all right so with these changes let's
run the page now at the moment we don't
have any cookies so when we click get
cookie button it should say cookie not
found now let's click this button suit
to set the cookie and once we click this
button now get cookie you notice that we
get the name and its value name is color
value is red but this is not a
persistent cookie so as soon as I close
the browser the cookie will be deleted
so now if we navigate to the same page
that is HTML page one dot HTM look at
this when we click get cookie cookie is
not found so as soon as we close the
browser the cookie is deleted so if you
want to create a persistent cookie that
is a cookie that is not deleted after
the browser is closed then we have to
use one of these two attributes expires
or max age now when we use expires
attribute we specify the expiry date and
time explicitly so here we are saying we
want this cookie to expire on 5th of
August 2016 at 1:00 a.m. so until then
the cookie will be present ok and when
we use max age attribute we specify the
expiry time in seconds so 60 multiplied
by 60 gives us the number of seconds in
1 hour and that multiplied by 24 gives
us the total number of seconds in 24
hours and that multiplied by 30 gives us
the total number of seconds in 30 days
so basically here we are saying that we
want this cookie to expire in 30 days
from now ok so you can either use
expires or Max age now let's use this
max age attribute and let's paste that
here so basically we are saying color
equals red and Max seed equals whatever
this multiplication is going to produce
so that is going to be equal to the
number of seconds in 30 days so we are
basically saying this
cookie is going to expire you know from
30 days from now okay so let's go ahead
and run this now so when we click get
cookie
it should say cookie not found now let's
go ahead and click set cookie let's copy
this URL so now the cookie should have
been said once we click get cookie
notice that we get the name in color
name in value let's close the browser
window open another instance of google
chrome navigate to the URL click get
cookie notice that they still have the
cookie name equals color value equals
red okay now
you can't delete the cookie so in google
chrome if you go to history and
basically you can clear browsing data
and here you specify that you also want
to delete cookies so when we click clear
browsing data it's going to delete the
cookies as well let's copy this URL
let's close the browser let's open
another instance now it would have
deleted our cookie as well so now the
cookie will be gone when I click get
cookie okay but then keep in mind you
can either use expires or max-age
attributes now the obvious next question
is why do we have two things that's
because there are some differences
between them with expires attribute you
set an expiry date the expires attribute
is obsolete very few modern browsers
support this attribute and Internet
Explorer is one of them with max age
attribute we specify the expiry time in
seconds most modern browsers support
this attribute except Internet Explorer
so max age attribute will not work with
the IE and keep in mind if you want to
create a persistent cookie that works
both in IE and all the other browsers
then specify both expires and max age
attributes now we know that Internet
Explorer does not support max age
attribute so when we set both of them
Internet Explorer is going to use X
is attribute and it will simply ignore
max-age attribute and the other browsers
which support expires you know they are
going to use that expires I mean the
browsers that support max age attribute
they're going to use max age attribute
and ignore the expires attribute so if
you want a cross-browser solution then
use both the attributes expires and max
age now let's look at the other
attribute which is domain so basically
this attribute specifies the domain for
which the cookie is valid now if you
specify the domain for example as
presume tech blog.com so just like how
we have specified you know expires
equals an expiry date we put a semicolon
and then if we specified domain equals
presumed tech blog.com
then that cookie will be valid only for
this sub domain that is presumed dead
block calm it will not be valid for
presume techcom now if you want to
create a cookie that will be valid for
all subdomains of regime techcom then
specify the domain as presumed techcom
so if you set domain to presume techcom
then that cookie will be valid for all
these sub domains including presume
techcom so presume techcom presume
detector blog.com presumed Ector block
code banker com so for all of these
subdomains of regime techcom you know
the cookie will be valid in case if you
specify the main domain but if you
specify an explicit subdomain then that
cookie will be valid only for that sub
domain now let's discuss path attribute
by default cookies are only valid for
the web pages in the directory of the
current web page that stored them as
well as its descendants let's understand
what we mean by the statement with an
example so here notice that we have the
directory structure of a web application
so within the root directory that is in
this demo folder we have home folder and
page 3 dot HTML
okay and within the home folder we have
a subfolder and page two dot HTM and
within subfolder we have page one dot
HTM let's go ahead and create a
structure like this so at the moment we
have page one dot HTM so let's add a new
folder and let's name this home and
inside that folder let's add another
folder let's name this subfolder and
then within the home folder I mean
within subfolder let's add a new item
and we want to add an HTML page and
within subfolder let's name it page one
dot HTM so we want to add HTML page and
let's name this page 1 dot HTM and
within the home folder let's add another
page and let's name this page 2 dot HTM
and let's change the name of this page
to page 3 dot HTM okay now let's go
ahead and copy the same code in all the
three pages
alright let's save everything and let's
navigate to page 2 okay page 2 dot HTM
let's view in the browser so look at
this page 2 dot HTM is present in the
home folder and home folder is present
in the root directory on demo folder ok
so when you look at this diagram this
page page 2 is setting the cookie
okay now let's click get cookie at the
moment we don't have any cookies so
let's go ahead and set the cookie and it
should have created a persistent cookie
so now when I click get cookie notice
that it works and so the cookie is
created by slash home slash page 2 dot
HTM okay so whatever is present in home
folder that's the page now subfolder is
present under home folder and as page 1
dot HTM is present in that sub folder so
let's navigate to page 1 dot HTM let's
view that page in browser and then let's
click get cookie notice that even this
page is able to read that cookie now
let's navigate to page 3 that's present
above the sub folder that's present in
the now root directory that is demo
folder so this page 3 dot HTM is present
at the same level as the home folder ok
so home folder and page 3 dot HTM they
are present in this root directory demo
let's navigate to page 3 dot HTM and
click get cookie look at that it says
cookie not found so what does this mean
this means that by default cookies are
valid only for the web pages in the
directory of the current web page that
stored them as well as its descendants
so if page 2 is creating a cookie then
that will be valid for that page all the
pages in that directory as well as to
any pages you know underneath that
directory so page 2 is present in home
and underneath whom we have subfolder so
all the pages within home folder and any
of the sub folders underneath home
folder
you know those pages will be able to
access the cookie but anything outside
that will not be able to access page
three it's not able to access the cookie
created by page two so that's the
default behavior now if you want to
create a cookie that is valid across all
your pages in your entire website then
set the path attribute to the root of
your web directory and how to do that
simply use path equals forward slash and
when you do that all the pages in your
entire application will be able to read
that cookie so let's quickly look at
that in action so first of all let's go
ahead and delete the cookie so let's go
to history clear the browsing data which
is also going to delete the cookies and
let's close that let's go here and then
specify path equals forward slash so now
let's do the same thing let's navigate
to page two dot HTM we win browser and
when we click get cookie there will be
no cookies now let's go and set the
cookie get cookie look at that we get
the cookie now let's go to page three
dot HTM view in browser get cookie
notice that we get the cookie now let's
go to page one dot HTM get cookie we get
the cookie now that cookie is available
for all the pages because we have set
part equal to forward slash and the next
attribute is the secure attribute
basically this attribute specifies that
the cookie is secure and it's only used
over HTTP protocol which ensures that
the cookie is always encrypted when
transmitting from client to server
that's it for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>