<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 13   Compiled queries in Linq to SQL | Coder Coacher - Coaching Coders</title><meta content="Part 13   Compiled queries in Linq to SQL - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 13   Compiled queries in Linq to SQL</b></h2><h5 class="post__date">2014-09-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nYqnLxfhH8E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">says part 13 on fling to signal tutorial
in this video we'll discuss compiling
link theories to improve performance
first let's understand what actually
happens when a link query is issued the
LINQ query that we've got here is going
to retrieve a single student whose ID is
1 when this link very is issued link has
to parse the expression tree and
dynamically generate the required
transact sequel statements that will be
executed against the underlying database
this parsing happens every time a link
query is issued this overhead can be
removed by compiling the link query to
compile a link query we use compiled
query class that's present in system dot
data dot link namespace let's look at an
example of compiling a link query let's
flip to visual studio so here I have a
console application within this project
we will be making use of the students
table here is the sequence clip to
create this table
I'll have the script available on my
blog in case you need it now to this
project let's add a new item and we want
to add link to sequel classes let's name
this sample let's go to server Explorer
drag-and-drop students table let's go to
program dot cs5 I have this exact same
code already typed so let's copy that
and paste it within the main method so
what's happening here we are creating an
instance of our sample data context
class and then here we have got the link
query which is going to retrieve a
single student whose ID is 1 and finally
we are printing that students first and
last name let's run the program to make
sure we still get the result right now
this link query is not compiled which
means you know every time this link very
is executed this has to be passed and
then the transact sequel statements will
have to be dynamically generated on the
fly and this parsing takes time so this
parsing overhead can be removed by
compiling this link very to compile a
link very we use compiled query class so
let's use a variable let's call this
compiled student query equals compile
that query so this compiled query class
is present in system dot data dot linked
namespace
let's bring that in and then this class
has got this compile method so this
method is what is going to compile of a
link query if you notice from the
intelligence this method expects a func
to be passed as a parameter we discussed
what I found case in detail in or C
sharp video series so let's pass a
function now the function that we are
going to pass here is going to take two
parameters now if you look at this link
we read that we have got here there are
two variable pieces of information one
is the data context object and the other
one is the student ID so we are going to
pass those two as parameters so the
first parameter is going to be sample
data context let's call that data
context and the second parameter is
going to be student ID so integer and
let's call the parameter student ID and
this function is going to execute this
in in query so let's cut this link vary
from here and then paste it right here
and then let's format this link very a
bit now finally we need to close this
parenthesis and then a semicolon now
we've got these two parameters so we can
remove these this and this hard-coded
value so let's replace this DB context
with this data context variable and
instead of this hard-coded value 1 let's
pass this parameter okay so this is our
compiled query now now this compile
query can actually be used as a function
look at this the moment I type compiled
student query and then the moment we
open up the parentheses notice that it
is expecting two parameters you know the
first parameter is of type sample data
context and the second parameter is of
type integer the two parameters that we
have specified here so sample data
context we have the instance of that
already here so let's pass that as the
first argument and the second argument
is going to be the student ID which we
want to retrieve so we want to retrieve
student
Bridey student with ID one so if you
look at what this returns it returns a
student object so it takes two
parameters in that is the sample data
context and integer which is the student
ID and returns a student object and we
are printing the student first and last
name let's run the program and notice
that we get mark Hastings
so this is our compiled query that's it
for today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>