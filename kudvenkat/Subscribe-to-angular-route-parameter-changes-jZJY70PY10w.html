<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Subscribe to angular route parameter changes | Coder Coacher - Coaching Coders</title><meta content="Subscribe to angular route parameter changes - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Subscribe to angular route parameter changes</b></h2><h5 class="post__date">2018-04-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jZJY70PY10w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 42 of Angela credit oh yeah
in this video we will discuss how to
subscribe to Angela route parameter
changes and then execute some code in
response to those changes in our
previous video we discussed there are
two ways to read route parameter values
we can either use the snapshot approach
or the observable approach we discussed
a snapshot approach in our previous
video in this video we will discuss the
observable approach at the moment when
we click on any of these employee panels
that respective employee ID is passed in
the URL as a route parameter the
employee details component reads that
route parameter value and then display
that specific employee details at the
moment to read this route parameter
value we are using the snapshot approach
and this works fine because every time
we want to view another employee details
we go back to the list employees
component and from here we come to the
employee details component so the
snapshot approach works fine if we
navigate to another component before
navigating from the current employee to
the next employee in our case we are
always navigating back to the list
employees component before navigating to
view another employee details on the
other hand if you want the users to be
able to navigate from employee to
employee directly without navigating to
the list employees component first then
we will have to use the observable
approach the snapshot approach will not
work let me explain what I mean
on our employee details component we
want to include this view next employee
button in the panel footer so every time
we click this button we want to move
from the current employee to the next
employee so in this case we are moving
from employee to employee directly
without navigating to the list employees
component so to make this work we will
have to use the observable approach
let's actually use this nap short
approach and see how our application
behaves first let's include this view
next employee button in the panel footer
on our employee details component at the
moment we have our employee details
component view
open and here is the panel food today so
right here let's include the button
element and let's style this button
using the bootstrap obedient and BTN -
primary classes and the text on the
button is few next employee notice the
button is on the left hand side we want
it on the right hand side so let's use
full ride bootstrap class notice now the
button is on the right side when this
button is clicked we want to call a
method on our component class let's name
that method view next employee we don't
have this method yet
let's create it let's introduce a
private field with no class I'm going to
name it underscore ID and this is of
type number we're going to use this
private field to keep track of this ID
route parameter value so in NGO Nannette
let's initialize the private field
instead of creating a separate constant
and use that as a parameter for this get
employee method alright so every time we
click this view next employee button we
want to increment the employee ID value
that we have in this private field and
then redirect the user to this same
route but with a different route
parameter value this view next employee
method is called every time the button
is clicked so within the method let's
increment the ID value by one and then
we need to redirect the user to the same
route for that we need the angular
router service
so let's inject it using the constructor
let's call the private field underscore
router we don't have this imported yet
so let's use visual studio code to
import it for us automatically
now let's use this injected router
service and navigate the user to the
same route
the path of the route is for slash
employees and the road parameter value
is present in the private field
underscore ID now in our NGO Nanette
method we are still using the snapshot
approach to read the route parameter
value let's save all our changes and see
how our application behaves notice the
road parameter value in the URL at the
moment is one and every time we click
this button the value changes but the
employee details displayed on the page
does not change this is because the code
that we have in this NGO Nanette is only
executed when this component is first
loaded and initialized after that every
time we click this view next employee
button the route parameter value changes
but this component is not reinitialized
and hence the code that we have in this
NGO Nanette is not executed now if you
want to react to route parameter changes
and execute some code every time this
route parameter value changes then you
will have to subscribe to those changes
so in NGO Nanette instead of using the
snapshot approach to read the route
parameter value let's use the absorber
approach now on this activated route
object we have the param map property
directly exposed and if you look at the
intelligence of this parameter notice
the return type it is an absorber so
let's subscribe to that absorber since
we have subscribed now every time the
route parameter value changes we receive
a notification and when that happens we
want to execute some code now if you
look at this params parameter it's of
type per a map so we can use this get
method on this object and then retrieve
the ID parameter value
and we want to store that ID value in
this private field underscore ID we
don't need this plus R equals any more
here so let's delete that and we want to
convert the ID value to a number so
let's use the plus sign for that and
then we also want to move this line
inside of a subscription callback method
notice the page doesn't display anything
let's launch browser developer tools and
see what's going on if we take a look at
the console tab cannot read property
Department of undefined so basically
this is complaining that the employee
object is undefined that's because if
you look at the ID value right here it
is 6
we don't have an employee with ID 6 and
thus a reason we are getting this error
if we take a look at our employee
service notice here we only have 3
employees and the maximum ID value is 3
so to fix this within our view next
employee method if the ID value is less
than 3
only then let's increment its value else
let's initialize back to 1 at the moment
it's still complaining about the same
error because we still don't have
employee with the ID 6 so let's go back
to the list play the console and now
when we click on this first employee
notice the employee ID value is 1 when
we click this button we go to the second
employee even we click it again go to
the third employee and now it should go
back to 1 so we no longer get that error
and every time we click this button we
see the next employee details and make
this happen we are using the observable
approach instead of the snapshot
approach now in our application we are
using angular version 5 so I'm using the
SUBSCRIBE method on the param
property if you're using angular 2 then
you will not have the pram map property
on the activated route object instead
you will have to use the params property
on that call the SUBSCRIBE method if
you're using angular 4 or above then you
will have the premiere property because
this is introduced in angular 4 so when
to use snapshot over absorber and vice
versa well use the snapshot approach if
the route parameter value does not
change and you only want to read the
initial route parameter value on the
other hand you know the route parameter
value changes and if you want to react
and execute some code in response to
that change then use the observable
approach another important point to keep
in mind is whenever we subscribe to an
observable we also must unsubscribe from
it however there are some exceptions to
this rule activated Route absorber is
one such exception we don't have to
explicitly unsubscribe from this absorb
because the angular router takes care of
that for us that's it in this video
thank you for watching and have a great
day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>