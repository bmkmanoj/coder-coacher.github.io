<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>sp depends in SQL Server | Coder Coacher - Coaching Coders</title><meta content="sp depends in SQL Server - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>sp depends in SQL Server</b></h2><h5 class="post__date">2015-10-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vKFNPmJsn9Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 133 of sequel server
tutorial in this video we'll discuss SP
underscore depends system short
procedure in sequel server there are
several ways to find object dependencies
one of the options is to use view
dependencies feature in sequencer
management studio but discuss this in
part 131 another option is to use sequel
server dynamic management functions such
as DM sequel referencing entities and DM
sequel referenced entities will discuss
this in part 132 the third option is to
use the system stored procedure SP
underscore depends we'll discuss this in
this video so SP underscore depends is a
system stored procedure that returns
object dependencies you can see the
syntax of the stored procedure right
here execute the name of the stored
procedure and this procedure has got one
parameter object name that is the name
of the object for which you want to find
the dependencies so this object name can
be a table name or a view name or a
procedure name etc so for example if you
specify a table name as the argument
value then the views and procedures that
depend on that specified table name are
displayed on the other hand if you
specify a view or a procedure name as
the argument value then the tables and
views on which that specified view of
procedure depends are displayed let's
understand this with an example so for
the examples in this video we'll be
using these two objects this employees
table and this stored procedure so now
if you look at the definition of the
stored procedure we know that this
depends on this employees table now
let's use the system stored procedure SP
underscore depends and the name of the
table is employees now when we execute
this we expect this stored procedure to
be returned because this stored
procedure depends on that table
okay now let's copy the name of the
stored procedure and then use that as
the argument value for SP underscore
depends store procedure now let's
execute this and see what we get
look at that when we specify a stored
procedure name as the argument value
then we get the name of the table on
which that stored procedure depends not
only the name of the table but also the
name of the columns within that table on
which this stored procedure depends so
depending on the argument value that you
specify here you will either get you
know the objects on which that object
depends in this case you know when we
specify a table name we get all the
views and stored procedures you know
that depend on that table if we specify
a view or a procedure name then we will
get all the table and view names on
which that stored procedure depends okay
now one important thing to keep in mind
is that this system stored procedure SP
underscore depends may not report
dependencies correctly always for
example so the baby have created these
objects is first I've created the table
and then I've created the stored
procedure and here we are using the
system stored procedure to find the
dependency so here it's working as
expected now let's do this I'm going to
drop this table so when we drop the
table so let's drop the employee's table
and when we refresh this we should not
have that employee's table now what I'm
going to do is create the table again
but before we do that look at the stored
procedure we still have this system
stored procedure SP and s go get
employees we didn't delete that now I'm
going to create the table once again at
this point if we go ahead and check the
dependencies of employees table look at
that when I execute that look at what it
says object does not reference any
object and no objects reference it
similarly when we execute this you know
SP underscore depends the name of the
stored procedure we get the same result
so in this case SP underscore depends is
not reporting the dependencies correctly
okay so keep that in mind when we use
this SP knows code
stored procedure another important point
to keep in mind is that this system
store procedure is on the deprecation
path meaning this might be removed from
the future versions of sequel server so
if you are planning to use this
procedure within your applications think
twice when a new version of sequel
server is released then probably it
wouldn't be supported in that and you
will may have to change your application
code so that's why sequel server
recommends using the dynamic management
functions that is either DM sequel
referencing entities or DM sequel
reference to entities instead of using
SP underscore depends systems to
procedure thank you for listening and
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>