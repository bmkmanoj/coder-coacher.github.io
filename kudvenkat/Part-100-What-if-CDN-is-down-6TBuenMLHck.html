<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 100   What if CDN is down | Coder Coacher - Coaching Coders</title><meta content="Part 100   What if CDN is down - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 100   What if CDN is down</b></h2><h5 class="post__date">2013-09-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6TBuenMLHck" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 100 of asp.net MVC tutorial
in this video we'll discuss what if CDN
is down this is continuation to part 99
so please watch about 99 before
proceeding there are several benefits of
referencing at a source from a CDN we
discussed all these benefits in the
previous session of this video series
keep in mind a c.d.s is still an
external resource and beyond our control
so what if CDN is down what's going to
happen to your application now at the
moment our application is relying on a
jQuery from jQuery CDN at the moment
jQuery CDN is up and running so our
application is working as expected now
let's assume a jQuery CDN is down and to
simulate that let's actually disconnect
from the Internet so I'm going to
disconnect from the internet and then
let's reload this view so at the moment
I am not connected to internet so
obviously this script should fail
loading and look at this when I enter
number 4 and click Submit ok the
application is still working that's
because the previous time when we have
visited the website the jQuery file is
downloaded into this cache so at the
moment the browser is using that cached
version so let's delete the browser
history so that you know the jQuery file
is deleted from the cache and let's
actually reload this now and let's enter
a number click Submit and look at that
it doesn't work as expected look at this
let me actually plus f12 so at the
moment I'm using Google Chrome when you
plus f12
you know we get developer tools and look
at this you know within developer tools
click console tab and look at this
you know qu jquery.com and this version
of the jquery file failed to load
resource and since jquery file failed to
load the resource you know dollar is not
defined so we have two errors and our
application is not working so if CDN is
down and if you're loading at a source
from a CDN
you know your application is not going
to work the way you expect it to work
okay so we need a mechanism in place to
fall back to use a local copy of our
jQuery file in case of CDN is down and
to achieve that all you need to do is
check a property of the window object
jQuery if jQuery is downloaded then that
property will be true if that is not
true then we are going to write the
script tag onto our page okay so we are
dynamically writing the script tag and
if you look at the script tag it's very
straightforward so we are setting script
source equals you know the path for your
jQuery file that's present on your web
server and then if you look at you know
here you know for the closing script
again stead of using an angular bracket
there we are using this hexadecimal
character backslash x3c so backslash x3c
is a hexadecimal representation for less
than symbol let's actually look at that
in action so here is that code so let me
copy that and then paste that right here
now look at this here we are using
hexadecimal code instead of you know
angular bracket you may be thinking why
because if I use you know this less than
symbol there the angular bracket look at
that that is treated as a closing script
tag we don't want that to happen we want
this expression to be evaluated I mean
they say this line to be written at
runtime dynamically depending the value
of this property okay so since we don't
want to treat that as a closing script
tag during design time we are going to
use that hexadecimal character okay so
now let's go ahead and run this so we
are still disconnected from the internet
so now the application should work so
let's enter a number click Submit look
at that the application still doesn't
work let's determine why so plus f12
it's going to get us the developer tools
and on the console tab look at this it
still says fail to load this resource
and that's fine because we are not
connected to the Internet so CDN is down
and it still says dollar is not defined
you know that's basically because look
at this we need to have this script tag
immediately after this script tag
because we failed to download jQuery
from CDN so try to download you know use
the local version of the jQuery file
okay the reason why our application
still not working is because look at
this we had this code right here so you
know this custom JavaScript is making
use of the jQuery library okay and we
are loading our jQuery after our custom
javascript and that's the reason why
it's not working we need to have this
before we actually use the jQuery
library so now when we run this let's
plus control f5 and let's actually plus
f12 and look at the console window we
only have one error failed to load
resource that is we failed to load the
jQuery file from the jQuery CDN that's
fine that's expected but now our
application should continue to work so
click Submit look at that number is even
and if I enter an odd number it still
has to work okay
now let's actually go back I can turn on
the internet connection okay so now when
we run this application it since the CDN
is up you know we have the Internet
connectivity ups or application should
be able to connect to the CDN and
download the required jQuery files now
when I press f12 you know we shouldn't
have any errors within the console so
this proves that at the moment our
application is using the jQuery library
from DJ Gracie lien and not the local
version so a very simple trick to fall
back to use the local resource when CDN
is town
that's it for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>