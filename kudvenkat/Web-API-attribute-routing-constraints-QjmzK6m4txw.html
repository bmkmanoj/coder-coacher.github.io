<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Web API attribute routing constraints | Coder Coacher - Coaching Coders</title><meta content="Web API attribute routing constraints - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Web API attribute routing constraints</b></h2><h5 class="post__date">2017-02-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QjmzK6m4txw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 32 of asp.net Web API
tutorial in this video we'll discuss
attribute routing constraints let's look
at an example now let's flip to visual
studio this is the same example that we
worked with in our previous video at the
moment we've got a method which returns
to rent by ID now we want to include
another method which is going to return
a student by their name so to this
function we are going to pass students
name and if we have any student with
that name then we want to return that
specific student so let's change the
parameter name here to student so just
like ID name is also a parameter so
let's give our solution a bill and here
is what we want in the URI within the
parameter segment if I specify an
integer that is the ID of the student
then we want this uri / api / tool in /
1 to be mapped to this method which has
caught an integer parameter on the other
hand within the parameter segment if i
specify a string that is the name of the
student then we want this uri flash API
slash students like sam to be mapped to
this method which is called string
parameter let's see if that happens now
and we specify a string we get an error
multiple actions were found that match
the request let's specify an integer
instead of a string and look at that we
get the same error why is this this is
because at the moment we've got two
methods that are named get and both of
them have got a single parameter so the
framework is confused between which
methods to use we can very easily solve
this problem by using loading
constraints and here is the syntax for
using coding constraints parameter :
constraint so here ID is a parameter and
we know this is going to be of type
integer name is also a parameter but
this is of type alpha alpha stands for
upper or lower case alphabet characters
so if the parameter segment is an
integer then
this method if it is alpha that is upper
or lowercase alphabets then use this
method so let's give our solution it
build and when we specify an integer we
get that specific student as expected
let's use to this name instead of
integer and again notice we get that
specific student as expected so in
addition to int and alpha constraints we
have several other constraints like
double float decimal boolean etc for the
full list of available constraints
please check the MSDN documentation and
here's the example that we just looked
at at the moment there is a small
problem with this example the string
comparison is case sensitive let me
explain what I mean if I specifies Sam
with a lowercase yes look at that we
don't get any results back that's
because the string comparison right here
is case sensitive to make it case
insensitive let's convert name to
lowercase let's do the same thing with
the diameter as well let's give our
solution a build and reload this page
notice now the string comparison is not
case-sensitive anymore now let's discuss
constraints with arguments some of the
constraints like min max length etc take
arguments let's look at an example now
we know ID of student is a value greater
than 0 now if the ID value is greater
than 0 only then we want a uri to be
mapped to this method so feedly where I
at the moment if we specify you know a
positive value like 1 we get that
specific student is expected if I
specify 0 we don't have such a student
so we don't get anything back but still
this uri is mapped to this method and we
don't want that to happen if someone
specifies a value 0 or a negative value
in the uri for ID parameter then we
don't want that
uri to give map to this method we want
that uri to be mapped to this method
only 5 a value is greater than 0 we can
very easily achieve that by
using this min constraint and here is a
syntax for using min constraint so we
specify colon and then the constraint
and then within paranthesis the value
the argument for that constraint so we
want this ID which is of type integer to
have a minimum value of 1 only then map
that URI to this method so let's give
our solution adult and let's specify the
ID parameter value as negative 1
look at that we get an error no HTTP
resource was found that matches the
request URI so in this case this URI /
api / student / - 1 this is not mapped
to this method because we have
specifically told map the URI to this
method only if the ID value is greater
than 0 minimum value has to be 1 so if
we pass again 0 we still should get the
same error and if I pass a positive
number like 2 notice we get that
specific student details is expected
along with the minion constraint we can
also use this Max constraint let's
understand this with an example so here
is what we want to do we want this uri
api / students / ID to be mapped to this
method only if the value is between 1 &amp;amp;
3
so 1 is the minimum value and the
maximum value is going to be 3 so here
we're specifying both min and Max
constraints let's give our solution a
build and if we specify a value between
1 &amp;amp; 3 we get that specific student as
expected but if I specify a value
outside of that range notice we get the
error no HTTP resource was found that
matches the request URI at the moment to
enforce a range for this ID parameter
value we are using 2 constraints min and
Max minimum value is 1 and the maximum
value is 3 we can I do
exactly the same thing just by using
this range constraint right here and
here is the syntax for that range and
then within the parenthesis is
to fight a minimum and maximum range so
let's use range constraint instead of
min and Max so with our range constraint
the minimum value is going to be 1 and
the maximum value is going to be 3 so if
the ID parameter value is outside the
range we get an error if it is within
the range then we get that specific
student as expected
here's an example of using constraint
with arguments thank you for listening
and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>