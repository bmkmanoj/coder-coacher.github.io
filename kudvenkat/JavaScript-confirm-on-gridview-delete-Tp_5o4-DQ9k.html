<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JavaScript confirm on gridview delete | Coder Coacher - Coaching Coders</title><meta content="JavaScript confirm on gridview delete - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JavaScript confirm on gridview delete</b></h2><h5 class="post__date">2015-02-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Tp_5o4-DQ9k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 2 of JavaScript with
asp.net tutorial in this video we'll
discuss how to display JavaScript
confirmation dialog box when we attempt
to delete a gridview data row let's
understand this with an example if we
have a grid view like this and when we
click this delete link button we want to
display a JavaScript confirmation dialog
box are you sure to delete if we click
OK that's when we want the page to be
posted back to the server and the
respective data rows should be deleted
if we click cancel nothing should happen
the data rows should not be deleted so
let's see how to associate JavaScript
with the client-side click event of this
delete link button that is present
inside this creepy control so the first
step here is to create the required
database table so let's flip to sequel
server management studio I've already
created this employee's table and this
table is present inside sample DB
database and here's the data that we
have within this table at the moment
five rows and here we have this clip to
create sample DB database employee's
table and script to populate employees
table with the test data so I'll have
this entire sequel script available on
my blog in case you need it now let's
flip to visual studio here I have an
empty asp.net web application project
onto this waveform let's drag and drop a
grid view control
let's auto format this grid view let's
drag and drop a sequel data source
control as well and let's configure the
sequel data source control click new
connection I'm going to work with a
sequel server that's installed on my
local machine so I'm going to specify
server name as local we are going to use
Windows authentication and from this
drop-down list select the database name
the database that we want to work with a
sample DB and then click test connection
test connection succeeded click OK click
OK again and click Next and it's asking
us if we want to save the connection
string with this name in our web config
file
let's leave the default there and click
Next and here we can select the columns
that we want from employee's table let's
select all the three column
xiety name and gender and then click on
this advanced button make sure you
select this checkbox generate and set
update and delete statements otherwise
we wouldn't be able to delete data from
the spirit view control and then click
OK and click Next finally click finish
now let's associate the sequel data
source control with this grid view
control so from the grid view tasks pane
from this drop-down list choose data
source select sequel data source 1 now
look at this we had we get all the three
columns ID name and gender from
employee's table and we want to enable
deleting within the grid we control so
select this checkbox enable deleting
look at that a displace to delete link
button now let's flip this perform to
the source mode notice that within the
grid view control including the delete
column we have got four columns so when
we flip this to the source mode inside
grid view control we've got a section
for columns and inside columns we have
got 4 columns and the first column is
actually command field and look at this
attribute show delete button equals true
so this column is the one which actually
displays that delete link button now
using the command field we cannot
associate JavaScript declaratively
because command field does not have on
client click attribute so if you want to
associate JavaScript to the delete link
button declaratively then you will have
to convert this command field into a
template field so let's see how to
convert the command field into a
template field so let's flip this
waveform to the design mode and then
from the grid view tasks pane click on
this edit columns link and from this
section selected fields select delete
feel and then click on this link which
says then with this field into a
template view and then click OK so this
should have converted that command field
into a template field so let's flip this
page to the source mode and now within
the grid view section within the columns
notice that the first column is a
template here and inside the template
field we
have an item template and inside that we
have a link button and remember link
button has caught on client click
attribute so on client click
so using this attribute we can specify
the JavaScript that we want to execute
in response to the client click event of
this link button so return confirm and
to this map function let's pass the
message that we want to display within
the confirmation dialog box are you sure
to delete all right so with this change
let's go and run the page look at that
we get all the data when we click on
this delete link button we get a
confirmation dialog box
are you sure to delete when we click
cancel notice that nothing happens on
the other hand when we click OK the
respective data row is deleted row
number 3 is gone at the moment we only
have 4 rows let's quickly confirm this
so when we execute the Select query
notice that root 3 is gone and we have
just 4 rows so we have seen how to
associate JavaScript declaratively in
the HTML now let's see how to do the
same thing programmatically using the
server-side code the first thing to do
is to get rid of this onclientclick
attribute and we are going to make use
of raw data bound event so how to
generate raw data bound even handler go
to the properties of the grid view
control and then click on this events
icon and on this page you can actually
see all the events that grid view
supports and here we should have raw
data bound the event so let's double
click on that the respect to even
handler should be generated so this
event will be fired every time a data
row is bound to the grid view control ok
this event will be fired even for the
header row so the first thing that we
need to do is check if the row is a
header row or data row because within
the header row we don't have delete link
button ok so if we are going to make use
of this object that's coming into this
event handler
that grid-view event arguments so f e
dot Rho dot Rho type equals data Rho
then what we want to do is retrieve this
link button and then add JavaScript to
that link button so we want to do that
for every data row okay so if the row is
data row then e dot Rho dot find control
so this delete button is actually a link
button and if you look at that link
button on this waveform the ID of the
link button is link button one so we can
use that ID to find that link button in
every row so basically in the code what
we are saying is a dot rule dot find
control and to this find control method
we need to specify the ID of the
server-side control and the ID is link
button 1 and if you look at this find
control method it is returning the link
button as a control back but we know
that it's going to return us a link
button so let's typecast that to be of
type link button let's create a variable
of type link button and then assign that
link button to that variable now all
that is left is link button dot
attributes dot add the key is going to
be on click and then we specify the
JavaScript that we want to execute in
response to the client click event so
return confirm
are you sure to delete so let's go ahead
and run this
so now when we click delete we should
again get the confirmation are you sure
to delete click cancel nothing happens
when we click OK the respective row
should be deleted now let's see how to
include the ID of the record that is
being deleted in the confirmation
message so for example if we click on
Row 1 delete button for example then we
want a confirmation dialog box like this
are you sure to delete record with ID is
equal to 1 so we want to include the ID
of the record that is being deleted
within the confirmation message as well
ok so let's see how to do that so here
is the message written confirm I mean
this is the JavaScript that we want to
execute so here is the message are you
sure to delete so to that we want to
append are you sure to delete record
with ID equals whatever is the ID so we
now need to retrieve the ID value and
then append that to this string that is
passed to the confirm JavaScript
function and to get the ID we are going
to make use of data binder class so data
binding dot eval and you know keep in
mind this code I mean this event will be
fired for each data row so when it is
fired for the first data row we need to
retrieve the ID column value and then
pass it to this confirm function so to
this eval method the first one is the
container of that row the container is e
dot Rho dot data item and then the
second one is the column within that
data row which contains the ID value the
column name is ID so this method is
going to return the ID value of every
row so let's save these changes
let's run this one more time now let's
click on the delete button of fruit to
look at that are you sure to delete
record with ID equals to click cancel
nothing happens click okay that will
gets deleted if I click on row five are
you sure to delete record with ID equals
five thank you for listening and have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>