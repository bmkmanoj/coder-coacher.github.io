<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 15   Conversion Operators in LINQ | Coder Coacher - Coaching Coders</title><meta content="Part 15   Conversion Operators in LINQ - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 15   Conversion Operators in LINQ</b></h2><h5 class="post__date">2014-07-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/an_bpgQ7y9w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 15 of link tutorial in this
video we'll discuss conversion operators
in link all of these standard query
operators belong to conversion operators
category in this video we'll discuss the
conversion operators that start with 2
that is to list 2 array 2 dictionary and
to lookup to list operator as the name
speaks for itself this to list operator
extracts all of the items from the
source sequence and returns a new list
of theme this operator causes the query
to be executed immediately
which means this operator does not use
differen we discussed what is deferred
and immediate execution in our previous
session so if you're new to those
concepts I would strongly encourage you
to watch that video first let's look at
an example of using this to list
operator here we have got an engager a
called
numbers which contains numbers 1 to 5
now what we want to do is convert this
integer array to a list of integer and
the easiest way to do that is by using
two list method and notice that we are
calling this two lists on these numbers
and if you look at the type of numbers
its integer so we are going to get back
a list of T and T here is integer so we
are going to get back list of integer
and then finally we are using this for
each loop looking through each India
within the result and writing the value
of I on to the console screen so to
speed things up I have already typed
this program so let's copy and paste it
within the console application so here I
have a new console application within
the main method let's paste the code run
it and as you might expect we should see
the numbers printed from 1 to 5 now
let's look at an example of using two
arrays so what is this - array operator
again the name speaks for itself - array
operator extracts all of the items from
the source sequence and returns in new
array again this operator causes the
query to be executed immediately which
means it doesn't use deferred execution
let's look at an example so what we want
to do here is convert this list of
string to a string array and this list
of string at the moment contains country
names so once we convert it to a string
array we also want the LM
within that array to be sorted in
ascending order and to achieve that what
we are doing is we are writing a simple
link query here and then whatever result
this link reproduces on that result we
are calling to our a okay so it's going
to return a string array for us because
each country's of type string so this
link weight is actually going to produce
ienumerable of string on that we are
calling two array which is going to
convert that to a string array and then
we are using a for each loop looking
through each string and that result and
then putting the value onto the console
so I have this typed already so let's
copy it I'll have all these examples
available on my blog in case you need
them right so let's actually so we have
the country names now in ascending order
let's look at two dictionary so this two
dictionary operator extracts all of the
items from the source sequence and
returns a new dictionary so what's
dictionary a dictionary is a collection
of key value pairs we discussed what a
dictionary is in detail and c-sharp
tutorial so if you're new to dictionary
please watch that video again this
operator causes the query to be executed
immediately which means it doesn't use
differed seclusion let's look at an
example of using this two dictionary
method and to look at the example we
will be making use of the student class
I have typed the code that is required
for the student class so if you look at
the student class it contains three
properties and they are student ID name
and total marks and then within the main
method we need to build some student
objects in reality we may get those
student objects from a database table or
from an XML file or from any other
external data source but here we are
actually spinning them up within the
main method so let's copy that code and
paste it right there so here we have got
the student objects with all those
properties populated now what we want to
do is convert this list of students to a
dictionary
and within that dictionary you know we
want a student ID to be the key and
student name to be the value right so
what we are going to do is on the list
of students we are going to call to
dictionary method now within a
dictionary we want student ID to be the
key so I am going to specify a lambda
expression here X such that X dot
student ID so this lambda expression is
going to specify what is the key going
to be right and then we want another
lambda expression which is going to
specify what the value is going to be so
we want the value to be student name
right so we are using another lambda
expression there and if you look at this
two dictionary method there are four
overloaded versions at the moment we are
actually using this overloaded version
where we specify both key selector and
element selector all right and what is
this - dictionary going to return notice
that it is returning dictionary of int
comma string so why is it returning
dictionary of in Tacoma string because
within this dictionary student ID is
going to the key and if you look at
student ID datatype it's integer and
value its name and if you look at the
data type of name its string so we will
get a dictionary with the key integer
datatype and value string datatype so
let's go and create a variable of that
type dictionary of int comma string and
let's call it result now let's use a for
each loop so for each string let's call
it STR and result
all we want to do now what is this
result this result is actually a
dictionary so what do we have in the
dictionary
within the dictionary it's a collection
of key-value pairs right so we can't
really say for each string STR end
result because that result is not a
collection of strings it's a collection
of key-value pairs so we should be
saying for each value pair and when we
say key value pair we also need to
specify the type of key and the type of
value the type of key is integer and the
type of value is string and let's call
this kVp and result so what we want to
do is print out the value of key and the
value of value so kvp dot k backslash T
for a tab space and kvp dot value so now
when we run this as you might expect we
should have student ID and a student
name printed onto the console let's look
at another example of this dictionary so
this time what we want to do is we want
student ID to be the key but at the same
time we want the entire student object
to be the value within the dictionary in
the previous example the value is
actually student name but this time we
want the student object itself to be the
value right so to achieve that what
we're going to do X such that X dot
student ID and I'm not going to specify
you know element selector so I'm
actually going to use this overloaded
version maybe specify just the key
selector and we want the key to be
student ID now when I do this we are
invoking this on list of students so by
default the value is going to be the
student object itself okay so if I hover
the mouse over look at what we are
getting that we are getting back a
dictionary of income a student okay so
we need to change the type here to int
comest event so now we have a key value
pair of int comma student and key value
pair dot value look at this what is it
returning now it is
actually returning a student object so
now I can use it to retrieve the name
and even if I want total marks I can
retrieve that as well because now the
value is the entire student object so
kvp dot value dot total marks so when we
run this now as you might expect notice
that we got all the three properties
printed out so we are getting name and
total marks from the value and key you
know the student ID from kay okay now
you can use the second overloaded
version way we also specify element
selector and here we want the entire
student object to be the value so X such
that X so here this lambda expression is
going to say the value is going to be
the entire student object so when we run
this we should have the same output all
right now let's look at using to look up
and one other important thing to keep in
mind when we use to dictionary is that
the key is within the dictionary must be
unique if two identical keys are created
you know because of that key expression
you know your key select a lambda
expression if this produces items with
duplicate keys then it is going to throw
an exception let's actually try to do
this let's add another student object
and let's say this student ID is also
one zero three let's say X Y Zed is the
name and now when we run this we will
actually get an exception look at that
we got in an argument exception there
and it says an item with the same key
has already been added write a
dictionary cannot contain items with
duplicate keys keys has to be unique
let's look at to lookup so what is this
- lookup going to do it's going to
create a lookup so what is a lookup a
look up just like a dictionary it's a
collection of key value pairs a
dictionary cannot contain keys with
identical values whereas a lookup can so
that's essentially the difference
between a lookup and a dictionary and to
create a lookup all you do is use to
lookup method
okay notice that here on list of
employees we are using to look up and
when we create this look up we want job
title to be the key okay so basically we
are grouping employees here that are
present within this list by job title
let's actually look at this employee
class first so here we have got this
employee class with three properties
name job title and city so let's copy
that employee class definition paste
that with another main method and in
within our console application and
within the main method let's also create
in our list of employees so the moment
we have got six employees so within the
main method we have this list and we've
got here six employees and if you look
at their job titles two of them are
senior developers and four of them are
developers what we want to do is create
a lookup which is going to group the
employees within this list based on job
title and then we can use that job title
as the key to look up developers and
senior developers let me actually show
you what I mean so list employees dot to
look up again if you look at the
overloaded versions of this to look up
they are very much similar to what we
have for to dictionary look at this here
we again specify a func whose name is
again a key selector so we need to
specify our function here let's specify
it and the form of a lambda expression
we want to group the employees based on
job title so this is going to create a
lookup you know based on job title it's
going to group the employees based on
job title now we can use this wacky
where that's available in you know link
so let's call this employer is by job
title
right so this is a look up now now what
we can do is that you know the key
within this lookup is job title which
means we can use that key to look up
employees by their job title okay
so let's actually print you know the
output like this we want to print you
know developer and then all the
developers and then senior developer and
all the senior developers okay first we
want that message employees grouped by
job title so console dot write line
employees grouped by job title and then
we are going to use it for each loop so
for each where so again what is the look
up and look up just like a dictionary it
is also a collection of key value pairs
so for each key value pair so let's call
it kbp and our employees by job title
collection now what we want to do is
first print the king so what is the key
here job title so control dot readline
kvp dot k so that's going to print you
know whether the employee is a developer
or a senior developer and for each key
there are multiple values you know we
have be a grouping employees based on
that key based on their job title so
after that key is printed we want to
print out all the employees right the
first name on their job title and the
city so what we are going to do is use
another for each loop here so for each
valid maybe employee in now this is the
lookup so we are going to take this look
up in this we have employees grouped by
their job title so employee by job title
and look at this the moment i open
square bracket it's asking me to specify
the key so how do i get the key we can
use this property right here kb p dot
key or you can simply hard-coded
something like developer or c
developer but now since we are using a
for each loop we want all the keys and
you know the respect to employees that
are grouped based on that key so what
I'm going to do is actually pass this
key here and then obviously though we
are using you know anonymous type er
this ver is actually employee which
means we can actually print out the
different properties of that employee so
first of all let's print tab space and
then employee dot name backslash d
employee dot job title backslash T and
employee dot city all right so let's go
and run this now notice that we have
developer and all the developers you
need up and the respective senior
developers okay now let's look at one
more example here so we have this list
of employees here and this grouping is
done based on job title now there may be
a requirement where you want to group
employees by city that's the case you
know all you do is actually let's print
two blank lines here and so console dot
write line and console dot write line
let's copy this piece of code so now we
want to group employees by city
so let's employees to look up what I'm
going to do is X such that X dot city so
this is going to create you know a
lookup in which we have employees
grouped by City again
you can use the other overloaded version
where you can specify you know your
element selector do you want the entire
employee object to be a value within
that lookup or only a few properties of
the employee object you know it all
depends on what you specify you know as
the lambda expression for this element
selector if you don't specify anything
by default the value is going to be the
employee object because this is
list of employees right so here we are
going be getting employees by sitting
right so employees grouped by sitting
and for each key value pair in employees
by city so we want to print off the
value of k and then look up employees
based on that key so now when we run
this first employees will be grouped by
job title and then employees are grouped
by city so those are the employees in
London office and those are the
employees in Bangalore office that's it
for today thanks for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>