<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Store multiple key value pairs in a cookie | Coder Coacher - Coaching Coders</title><meta content="Store multiple key value pairs in a cookie - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Store multiple key value pairs in a cookie</b></h2><h5 class="post__date">2015-02-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/P4Zlc6pdHgM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 69 of JavaScript tutorial
in this video well discuss if it's
possible to store multiple key value
pairs in a single cookie let's
understand this with an example let's
design a web page that looks like this
we want to capture name email and gender
once we click set cookie we want to
store 3 name value pairs in a single
cookie so we want to store name equals
wankered email equals could van get at
gmail.com and gender equals mail all
these three name value pairs should be
stored in a single cookie and when we
click get cookie we want to retrieve
that cookie and display name email and
gender and once we click clear we want
to clear the three text boxes so let's
flip to visual studio in the interest of
time I have already implemented the
required HTML so here we have the HTML
tag inside that we have head and body
and within body we have an HTML table
this table has got 40 RS within the
first TR we've got two TDs the first TD
contain the literal text name and then a
text box for name okay similarly the
second year has got two TDs
third TR has got two TDs and the last TR
has got only one TD so within the last
TD we have thought I mean TR we've got
three buttons so we have only one TD
within the TR that's the reason we have
set column span to two and then we have
those three buttons setcookie get cookie
and clear
I'll have this HTML available on my blog
in case you need it
now let's go ahead and include a section
for script and within the script section
let's include a function to set cookie
let's create a variable let's name this
cookie string equals so now what we want
to store in the kiki cookie is three
name value pairs name equals one cat
email equals could van cat at gmail.com
gender equals male all separated by
semicolons so name equals and where are
we going to get the name from from the
name textbox so document dot get element
by ID
txt name is the ID of the textbox dot
value should give us the value and to
that we want to append semicolon and
then email equals and we need to
retrieve the email so document dot get
element by ID email textbox ID is txt
email and to that we want to append
gender gender equals we need to get
gender from gender text box whose ID is
txt gender alright so this is going to
construct a string with three key value
pairs document dot cookie equals the
cookie string that we have dynamically
built so this function is going to set
the cookie for us now let's write a
function to get the cookie function
let's name it get cookie and to read the
cookie we use the cookie property of the
document object and let's simply alert
whatever we get back to the webpage
using javascript alert function and we
also need another function and the third
function is to basically clear the text
boxes so let's name it clear text boxes
document dot get element by ID
txt name dot value equals an empty
string similarly let's clear the other
two text boxes so email and the other
one is gender and when we click these
respective buttons we want to call those
respective functions so on click off
setcookie button we want to call
set-cookie function similarly on click
of cat cookie button we want to call get
cookie function and on click off clear
button we want to call this clear text
boxes function alright so let's go ahead
and run the page in debug mode let's
throw in a breakpoint and the setcookie
function and let's enter values for name
email and gender so now let's click set
cookie so it should call this function
let's press f10 look at what we have
caught in the cookie strain name equals
ringgit semicolon email equals could
vendor gmail.com semicolon gender equals
male so we've got 3 name value pairs and
we are setting that string which
contains those 3 name value pairs as the
cookie value okay so we are storing that
within the cookie let's press fi now
let's click get cookie but before that
let's actually throw in a breakpoint and
get cookie function and then click get
cocaine so document dot cookie property
look at what it returns it's actually
returning only the first key value pair
name equals when good okay that's
basically because you know
are able to store only one key value
pair in a single cookie now if you want
to store two or more key value pairs
then you have two options create a
custom object serialize the object to
adjacent strain and then store that
serialized string in a cookie and the
other option is to obviously use a
different cookie for each key value pair
that you want to save okay so let's look
at the first option now
so let's modify this setcookie function
let's create a custom object first and
this is going to be an empty object and
to this custom object we are going to
add the properties that we need
dynamically so we need name property to
store the name and let's get the name
from name textbox so txt name dot value
and similarly we need email and gender
and let's get the email from the email
textbox gender from gender text box so
we have the custom object now let's go
ahead and create another variable and
I'm going to name this JSON string
equals I'm going to use adjacent method
called
string if I and to this jason method we
are going to pass the custom object so
what is this jason dot stringify method
going to do this method is going to
convert this javascript object to a JSON
string JSON strands for JavaScript
object notation okay so we get a JSON
string back now we are going to set the
cookie so document dot cookie equals
can give any key that you want let's
call this maybe cookie object that's the
key equals and the value is going to be
whatever this JSON string contains okay
so here we are storing a single name
value pair but this value know contains
you know name equals whatever is the
name email equals whatever is the email
and gender equals whatever is gender
okay so this is going to store the
cookie now let's change get cookie
function as well document dot cookie
property should return as the cookie and
cookie contains name and value and the
separator is equal to so we are going to
split using that equal to as the
separator so what are we going to get
back we are going to get this key and
the string okay D JSON string so we're
let's name this name value array so this
array is going to contain two strings
the first string is going to contain
this and the second string is going to
contain the actual JSON string that we
stored in the cookie and I'm going to
use another method now Jason dot parse
and to this parse method we are going to
pass this JSON string and that JSON
string is present you know in this array
name value array and that's present at
index position one okay so what is this
parse method is going to do it's going
to parse the JSON string and return the
corresponding object back to us so it's
going to give us you know a custom
object back and we know that the custom
object has got name email and gender we
can retrieve the respective values using
those properties of that custom object
so what we are going to get back here is
actually a custom object which is going
to have those three properties and all
that is left now is to populate those
three
Xboxes so document dot get element by ID
you know we are getting the name text
box and the value of that one equals
custom object dot names the property
similarly let's do that for email and
gender so txt email and txt gender email
equals email and gender equals gender
all right so with all these changes
let's go ahead and run the page in debug
mode and let's draw in a breakpoint and
set cookie and get cookie functions and
let's enter values benkard good banker
at gmail.com is the email and mail is
gender my gender is male so we are
creating a custom object and then we are
populating all those three so this
custom object now should have those
three properties email gender and name
and we are passing the custom object to
the stringify method let's press f10 and
look at what the string contains look at
that that's how a JSON string looks like
okay so name colon venket email colon
could make it a gmail gender : male ok
and we are storing that JSON string you
know with the cookie so f10 if you look
at the cookie property now look at that
within this cookie this is the key and
the value is this entire string okay and
we've got name you know venket email is
email gender and gender
so now let's plus f5 let's clear the
text boxes so we don't have anything in
the text boxes now let's click get
cookie so it should call this get cookie
function and document dot cookie should
give us in our cookie object equals and
then that string a
okay so we are splitting the string
using this equal to symbol as separator
so we are splitting that equal to a
separator so we should get two strings
back and in the zero index position we
have you know this key and in the first
index position we have the adjacent
string so we are taking that JSON string
from the RA passing it to the parse
method so what is this parse method
going to do it's going to return a
custom object and if you look at that
custom object look at that it has got
email gender and name properties and
then on the next three lines we are
using those properties retrieving the
data and populating these three text
boxes so when I press f5 look at that we
get the data back in our next video
we'll discus option two that is using a
different cookie for each key value pair
that we want to store and here is the
code that we have just looked at in set
cookie and get cookie functions thank
you for listening and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>