<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 2   Creating a remoting service and a web service | Coder Coacher - Coaching Coders</title><meta content="Part 2   Creating a remoting service and a web service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 2   Creating a remoting service and a web service</b></h2><h5 class="post__date">2013-11-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3Qt7TTS1u4A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">is part two of WCF video series in this
video well disc is creating a simple
remoting service and a web service along
the way we'll get a feel of how
different these two technologies are
let's assume we've got two clients the
first client is using a java web
application to communicate with our
servers so the main requirement here is
interoperability to make our service
interoperable we're going to exchange
messages in XML format and we're going
to use HTTP protocol XML or HTTP offers
interoperability so to make a reserve is
interoperable we are going to build the
service as a web service the second line
is using Windows application to
communicate with our servers Windows
application is also a dotnet application
the main requirement for this client is
performance to offer better performance
we're going to exchange messages in
binary format or would PCP protocol
because binary or TCP offers better
performance so here we are going to
rewrite the same servers using dotnet
remoting technology and the service we
are going to build it up a very simple
service all this service is going to do
is take a name and then it's going to
concatenate the word hello with that
name and then return that string back to
the caller so let's first of all go
ahead and implement a web service let's
fill up the visual studio let's create a
new project let's create an asp.net
empty web application let's call this
Web Services demo and to this project
let's add a web service and let's call
this hello web service
now within this hello web service we are
going to have a single method and let's
call it get message and this is going to
take a parameter called name and we are
going to concatenate that name with word
hello and return that as a string so we
are done implementing the web service
let's now view this web service in a
browser just to make sure it's working
as expected
so this hello web service should now
list the method that we have implemented
so get message is there so let's click
that and then pass you know regime as
the name and let's invoke the web
service so we are getting the response
back a loop regime so it's working as
expected now the client is going to be a
java web application but then I don't
have Java installed on my machine web
services are interoperable so a java web
application can communicate with the web
service that we have built let's quickly
test our servers using an asp.net web
application and to do that right click
on the solution add a new project let's
add another empty web application let's
call this hello web client click OK so
this should add an empty asp.net web
project and to this let's add a web form
now we need to generate a proxy class
within this asp.net web application
project and to do that we right click on
the references folder add a service
reference and then you know click this
discover button this is going to
automatically discover the services so
hollow web service is detected let's
give it a meaningful name space let's
call it hello web service and then click
OK so this should generate the proxy
class for us so here we have the proxy
class generated now let's design our web
form
so let's use a table let's set the style
attribute let's set font family to area
so basically we want to design our
webform like that so we need a text box
button and a label control so let's drag
and drop a text box here so within the
first TD we need a text box and a button
control
and let's have another TD and here let's
have a label control let's get rid of
this text attribute and set font bold to
true all right now let's flip this form
to the design mode double click on the
button to generate the click event
handler but before that let's change the
text on the button to get a message and
let's double click that button so now we
need to create an instance of the proxy
class so if you remember the namespace
that we have given is hello web service
dot the web service is hello web serve
is so client so client equals new hello
web service so client now all we need to
do is invoke the get message function
and then pass it the name and where are
we going to get the name from from the
text box and then whatever response that
we get back we are going to display that
button label one control so pretty
simple so let's run our web form now
so now we should get an interface that's
similar to this one so let's enter
plugin get message and look at that so
the web application is able to
communicate with the web service now
let's go ahead and build a remoting
service to satisfy the requirement of
the second line let's actually open up
visual studio now let's create a new
project now we are going to create a
remoting service now look at this how
different you know building a remoting
service is going to be we're not going
to get into the basic details of
remoting if you're interested we'll
discuss the basic details of removing in
a later video session so the first step
here is to create a service interface so
I'm going to select visual c-sharp under
install the templates and I'm going to
add a project of type class library and
let's call this I hello remoting service
so this class library project is just
going to contain one interface let's
change the name of this class 1 dot CS
file to hi I hello remoting service dot
CS in a bit you will understand why we
are going we are creating this interface
so we have an interface here I hello
remoting service and all this interface
is going to contain is a method so get
message method so this method needs to
take a parameter name parameter now it's
the same service we are just rewriting
it using remoting technology so all we
have done so far is added a project and
within that project we added an
interface and within that interface we
have got a single method that's taking
the name and then returning a string ok
now the next step is to implement the
remoting service it
and to do that to this solution I'm
going to add another project and again
it's going to be a class library project
and let's call this hello remoting
service let's click OK and let's change
the name of this plus 1 dot see is filed
here
- hello remoting service dot CS so it's
asking us whether if we want to change
the name of the class as well let's
click S so now we want this object to be
removable removable meaning you know
another application should be able to
call this object ok so to make an object
removable you know there are two ways we
can either decorate this class with
serializable attribute or we can make
this class inherit from Marshall by ref
object class again as I told before but
this is the basic details of remoting in
a later video session in this video
let's quickly build this remoting
service so to make this Hello remoting
service class removable I'm going to
make this inherit from Marshall by ref
object and then we also need to make
this class inherit from this interface
that is a hollow remoting service and
enough and in order for us to do that we
need to add a reference to this project
within this project so let's add a
reference and you know on the project's
tab select the project I hello remoting
service so we are making this hollow
remoting service inherit from a hollow
remoting service dot i hello remoting
service class so what did we do until
now we have this class called hi I hello
remoting service which is inheriting
from Marshall by Rev object and then the
interface ok now we need to implement
the method that is available in this
interface and to do that click this
arrow and then select this option
implement interface
okay so all this method is going to do
is return hello plus the name that is
coming into this function alright that's
it we are done implementing the service
now we need to host this remoting
service to host a remoting service you
know there are several choices we can
either host it in a console application
or the windows forms application or we
can use a Windows service or a remoting
service can also be hosted in IAS to
make things simple let's host it in a
console application so let's add a
console application project to the
solution so we want to add a console
application let's call it remoting
service host now this project needs to
have a reference to these two projects
that is the interface project as well as
the service project itself so let's
right click on references folder select
add reference and then select both the
projects click OK
so a reference has been added to both of
the projects now another thing that we
need to do is since we are doing
remoting here we need to add a reference
to system dot runtime dot remoting
assembly that's a dotnet assembly so
click on dotnet tab scroll all the way
down and you should see system dot
runtime lot remoting select that and now
here we need three namespaces so using
system dot runtime dot remoting we need
a system dot runtime dot remoting dot
channels we are going to use TCP
protocol to communicate so we need
system to run time dot remoting dot
channels tcp all right so within the
main function of this class we need to
host the service so when we run this the
main method is going
to run at that point you know the
service will be hosted so the first step
is to create the service class itself so
what is the service class hello remoting
service which is present in hello
remoting service namespace so within our
console application let's go ahead and
create an instance of that
hello remoting service hello remoting
service class and let's call it remoting
service equals new hello remoting
service so we are creating an instance
of our service class the next step is to
create the tcp channel for communication
so let's go ahead and create a tcp
channel let's call it channel equals new
TCP channel now let's use this
overloaded constructor where we can
specify a port number basically we are
making our service available at port
8080 so any any port that's available on
your machine you can use that port to
make your service available so we have
created the channel itself but we need
to register this channel and to register
the channel we are going to make use of
channel services class dot register
channel method and then we pass the
channel object to this the next step is
to register the service itself and to do
that we are going to use another class
so remoting configuration class and then
we are going to use this method register
well-known client type also a well known
service type and then we are going to
use this overloaded version of the
method so we need to specify the type
you know the type of the class that
contains the service so where is the
service present n hollow remoting the
service name space and the name of the
class is hallowed remoting service so we
use the type of keywords to get the type
of that class so that's the first
parameter so let's bring this to the
next line
and the second parameter here is we need
to specify the URI where is the service
located okay so basically you know we
can give it any unique resource
identifier you know within our service
we are calling the method as get message
we can give this name or you can give it
any unique identifier but let's give it
get message and then finally we need to
specify the well-known object mode if
you look at this enumeration here we
have two choices is a single call our
single done now again we'll get into the
details of single call and single done
in a later video session for now let's
choose single done basically single call
means an object of type single call can
service one and only one client meaning
it cannot store a state information but
if your requirement is to store state
information between client invocations
then you need to use singleton as a tool
we'll discuss the basic details of
remoting in a later video session now
let's print a message to the console
stating that you know the service has
started and to do that let's use the
right line class of the
console.writeline method of the console
class and let's say remoting service
started at whatever is the date in time
this service has started so date time
now and then obviously when we run this
console project what's going to happen
you know it starts this service and then
it's going to close automatically so to
keep this from closing automatically
let's use console dot readline method
alright so at this point we have hosted
our remoting service as well so all that
is left now is to consume this remoting
service and we have decided the client
is going to be a Windows application so
let's go ahead and add a Windows
application to the solution so right
click on the solution add a new project
and let's add a windows forms
application and let's call this hello
service client let's actually call it
hello remoting service client click OK
so now on this form you know we need a
text box a button and the label control
so let's quickly drag-and-drop
the respective controls so we need a
text box we need a button and we need a
label let's arrange these controls
properly
let's change the font of this label
control to be a little bit so you have
font here and let's set size to 15 and
let's also get rid of this default text
which says label 1
but we need to change the text property
so let's get rid of this text here and
then on this button let's change the
text to get message all right
let's double click that button to
generate the click event handler so now
we need to consume the remoting service
that we have implemented this client
project needs to have a reference to
remoting assembly itself so first let's
go and add a reference to remoting
assembly so system dot runtime dot
remoting and we need a reference to the
interface assembly as well look at this
this is the client to the client we
shouldn't be giving the implementation
details we should only let him know
about the interface that he is going to
communicate with ok so that's the reason
why we have separated the service
interface from its implementation ok so
this client now is going to have a
reference to this I hello remoting
service interface so let's go ahead and
add a reference to that project
so I hello remoting service alright so
the first thing here at the class level
let's create a variable of type I hello
remoting service which is present in the
namespace i hello remoting service and
the interface itself is a hollow
remoting service and let's call it
client and when the form is created what
we need to do we need to open up a TCP
channel and then communicate with the
service so the first step here is to
create a TCP channel and to do that we
need to bring in the remoting namespaces
that are required here we only need to
remoting namespaces that a system dot
runtime dot remoting dot channels and
system dot runtime dot remoting dot
channels dot DC pay so let's create a
tcp channel
and for that line there is no need to
specify the port number so let's use the
constructor which doesn't take the port
number and then we need to register the
channel so to register the channel we
are going to use channel services dot
register channel method and then pass
the channel object and now we are going
to use a class called activator so
activator and this class has got a
method called get object which is going
to get you know the service object
that's going to service us okay but look
at the return type of this method it is
returning that service object as an
object so look at the intellisense so we
need to typecast it to be of this type
and then this method has got two
overloaded versions we are going to use
the first version which takes the type
and the URL so let's bring this to the
next line the type is let's use the type
of keyword to get the type the type is
nothing but you know I hollow remoting
service and then where is the service
located you know we know that we are
going to use TCP protocol so TCP colon
four slash four slash on the local host
machine at port number 80 80 so if you
remember within the service host we have
specified that the service is going to
be available at this port number 80 80
so let's get to the form so at port 8080
and if you remember we have given it a
unique resource identifier within the
host what is the unique resource
identifier get message so you know
this name and the name that we have be
specified here should match all right so
we have the client now all we need to do
now is within the button click event
invoke the get message function pass it
the name the name is going to come from
textbox one control and then whatever
response that we get back let's display
that within label one control all right
we're done so let's build a solution to
make sure everything is working as
expected
notice the status bar build succeeded
now we need to first run the host so
let's right-click on the remoting
service host project open folder in
Windows Explorer get to the bin
directory debug and then we should find
removing service host dot exe this is
the executable double-click that look at
that the service is now running now we
need to run the client itself so to open
the client right click on remoting
service client project open folder and
Windows Explorer get to the bin debug
and then you should find hello remoting
service client or EXA double-click that
so there we have a windows application
let's enter presume here and let's click
this button get message so this should
invoke the service and look at that we
get the response ok so this is a very
simple service but then look at the
amount of code that we have to write and
how different is the implementation from
that of a web service it's the same
service but then the technology is
different from web services and that's
the reason why it's so different
implementing it so in part 3 we'll
discuss implementing a single WCF
service to meet the requirements of both
of these clients now there are some
interview questions related to this
dotnet remoting service now the
interviewer could ask you can we use
dotnet remoting to build a web service
the answer is yes so
we are able to build a web service using
dotnet remoting then if the client is
not built using dotnet platform will
they be able to consume a dotnet
remoting web service meaning the web
service that we have built using dotnet
will it be interoperable the answer is
maybe I mean we can build interoperable
web services using dotnet remoting but
we need to be extremely careful in
choosing the data types that we use in
the service and we cannot use client
activated objects and events you know
there are you know those should be
avoided so keep in mind when we use
dotnet morning to build interoperable
web services things can get very
complicated okay
because dotnet remoting is not meant for
implementing interoperable services if
your goal is to build interoperable
services use asp.net web services they
are designed for that purpose but with
the introduction of wucf both this
dotnet remoting and asp.net web services
are legacy technologies so basically if
as we have WCF now whether we want to
build interoperable web services or
whether we want to exchange messages in
binary format for performance reasons we
should be using WCF over dotnet remoting
or asp.net web services that's it for
today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>