<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 44   C# Tutorial   Preventing exception handling abuse | Coder Coacher - Coaching Coders</title><meta content="Part 44   C# Tutorial   Preventing exception handling abuse - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 44   C# Tutorial   Preventing exception handling abuse</b></h2><h5 class="post__date">2012-06-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xiIpETRweVo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to prism technologies i'm
venket this is part 4 t4 exception
handling abuse SOG in part 43 we have
seen a classic example of exception
handling abuse in this session we will
see how to prevent that ok so we will
jump straight back into the example if
you haven't watched part 43 I would
strongly encourage you to do so before
continuing with this example alright
just a quick recap what we have seen in
the previous example we ask the user to
enter a numerator we ask the user to
enter a denominator and when he enters a
numerator we are actually reading it
from the console and trying to convert
that integer and we know that if the
user enters alphabets instead of numbers
it's going to throw a format exception
and in the cache block basically we are
saying please enter their number and
similarly if he enters a very big number
again there will be an overflow
exception then we try to convert that to
an integer
again we catch that exception and then
we say ok the number should only be
between the minimum and maximum value
that an integer type can hold and
similarly you know if the denominator is
0 it tries to divide that and we get it
divided by 0 exception and we catch that
exception and then we tell the user the
operator can be 0 so basically you are
allowed this program through through the
respective exceptions and then you are
using that exception handling basically
to control what error message is to be
shown to the user and subsequently the
flow of the program which is definitely
exception handling abuse now we can
actually rewrite this program and
without even having these exceptions
occurring we can present user with those
respect to messages ok now let's see how
to rewrite this program so obviously as
usual we'll pass the user to enter the
numerator now instead of using the
convert to int32 method which will throw
an exception if the conversion fails
within dotnet framework we also have
tryparse method which we can use so the
way we do it is actually
say int numerator and then if you look
at the try bars method so it's again on
integer in 32 door tri parts if you look
at the signature of this method what is
this method doing it's going to return a
boolean a true or false so if the
conversion is successful it will return
true otherwise it returns false and if
you look at the parameter is that this
method takes in there is a string
parameter so obviously the number I mean
whatever the user input that the user
has entered so that string and then you
have to pass in an output parameter now
if you're new to output parameters I
would strongly encourage you to watch
you know a video tutorial on method
parameters in the series all right so to
read the input from the console we used
console to try to read line and we
passed that as the first parameter so
obviously whatever the user has entered
read that and pass to this tryparse
method
now this tryparse method what it does it
will convert that to an integer if
possible and returns that in this output
parameters out and then we pass the
variable here which will receive the
converted value so if the conversion is
successful if this method can really
successfully converted that input to an
integer then it will store that in this
variable okay so now what we need to do
since this method returns a boolean a
true or false okay so we will declare a
variable of type boolean okay is
numerator conversion successful just a
variable to determine if the conversion
is successful okay so if
is numerator conversion is successful in
the sense if it has successfully
converted that then we know that there
is no problem and we can continue to ask
the user for denominator so we will do
all this only if the numerator
conversion is successful so the next
thing that we will do is basically ask
the user to enter a denominator and
obviously just like for the numerator I
will copy paste this so we'll create a
variable which can receive the
denominator value and we can get rid of
this line and we will call this variable
each denominator conversion successful
and then what we do we read the user in
that he has entered and the converted
value store within this parameter
variable denominator
okay so we have denominator as well
right now so what you need to do here is
similarly if each denominator conversion
is successful and at the same time it
cannot be 0 it shouldn't be 0 because if
the denominator is 0 you know hit the
programmable through divided by 0
exception and each denominator not equal
to 0 then what we do we will go ahead
and safely calculate the result and
print the output to the user okay if
easy
later conversion conversion successful
and denominator not equal to zero
right okay on the other hand if is
numerator conversion is not successful
then what we want to do we want to give
a meaningful error message to the user
console dot readline so obviously we
know that numerator conversion is not
successful
why because either he entered you know
alphabet or the entered value is beyond
you know what an integer variable can
hold so what you can do is you can
actually put a very meaningful message
saying that numerator should be a valid
number between whatever is the minimum
and maximum value that an integer type
can hold so obviously what we can do
here is in 32 dot min value and in 32
dot max value all right
similarly if each denominator is
successful and denominator not equal to
0 k calculate the result and display the
result else if you know denominator you
know it will come into the else block if
either of these conditions is false so
if denominator is equal to 0 we know
that a denominator cannot be zero else
we know that the denominator conversion
has failed so if the denominator
conversion has failed then we want to
say to the user okay denominator should
be a valid number
so denominator
be a valid number between you know the
minimum and maximum value on the other
hand if denominator is equal to zero we
can say denominator cannot be zero so
copy that and put it in the safe block
okay now if you look at this we are not
allowing you know exceptions to occur
instead we are programmatically checking
okay all the values what we expect we
are validating the user input similarly
you're saying and if the conversion is
successful or not and based on that we
are controlling what we want to display
to the user and and we are in turn
controlling the program logical flow so
after this modification what you can
basically do is actually get rid of all
these exceptions because there is no
possibility for these to occur and we
can just leave the general exception
block here I just in case if there is
any other exception that we didn't
anticipate and if there is a chance of
that happening you know we can basically
handle that there but now if you run
this the behavior is going to be almost
identical to what we have seen in for in
part 43 but now this is a better way of
programming so now if I enter alphabets
instead of numbers the numerator should
be a valid number similarly if I enter a
very big number which an integer cannot
call you know obviously the conversion
will fail and we get the same error and
similarly if you know I'm enter a valid
numerator and if I enter 0 for the
denominator denominator cannot be zero
so it's doing all the validations it
should be doing in the right way but the
difference between how we have written
program now and in part 43 is that in
part 43 we were using exception handling
basically to control the logical flow
but in this part we are using
programming techniques you know and we
are avoiding the exceptions from
unnecessarily happening so using
exception handling to implement program
logical flow is bad and that is what is
termed as exception handling
abuse and we have seen how to prevent
that with good programming practices for
example using tryparse method instead of
convert
third convert method will allow the
exception to happen whereas tryparse
will return a true or false depending on
the success or failure of the conversion
I hope you have enjoyed this session on
this slide you can see C sharp and
asp.net interview questions that's it
for today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>