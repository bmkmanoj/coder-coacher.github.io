<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Generating links using route names in asp net web api | Coder Coacher - Coaching Coders</title><meta content="Generating links using route names in asp net web api - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Generating links using route names in asp net web api</b></h2><h5 class="post__date">2017-02-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sqOw6E11AAM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 2 degree of asp.net Web API
tutorial in this video we'll discuss how
to generate links using route claims in
a speed or net web api let us understand
this with an example let's slip to
visual studio at the moment we've got a
very simple students controller here
we've got a static list of students
collection and a method which is going
to return student by ID now let's add a
post method which is going to create a
new student for us this method is going
to return us HTTP response message the
name of the method is post and to this
method we pass the student object that
we want to create and this student
object all we are going to do is add it
to the static students list collection
in a real world application we will be
saving it to a database tables to an XML
file etc but to keep this example simple
we are just going to add it to the
static list of students collection that
we have once the student item is
successfully created we have to send
back item created status code to the
client and to do that let's create a
response so let's create a variable I'm
going to call it response equals and we
are going to use the request object to
create the response click the start
create response and we have an overload
here where we can specify the status
code so HTTP status code dot created so
this is going to send that HTTP status
code to zero one item created and then
we simply want to return that response
to the client let's do our solution a
build and let's issue a post request
using fiddler we want to issue a post
request to this URI content type is
application for slash Jason in the
request body we also need to include the
student object that we want to create
students object has got two properties
ID let's initialize the stuff or name
let's initialize name property to Stacy
and let's execute this request it was
completed look at the response header we
got the status code 2:01 created
now when a new item is created along
with sending the status code to zero one
created we also have to send a location
that is the URI of the newly created
item so that when a child clicks on that
URI it will take him to the newly
created item one way to achieve this is
by using the request object so we have
the response object which we are sending
to the client so to the response headers
we want to include the location header
and we want to include a new URI there
the URI of the newly created item and to
get that we are going to make use of the
request object request object has got
breakfast URI so this property is going
to give us this URI to which we have
issued the post request and to that all
we need to do is append the ID property
value which will take us to that new
student so to the request URI
let's append the student objects ID
property value ID is an integer so let's
convert that to string let's build a
solution one more time and issue a post
request again clicker is completed let's
look at the response header notice we
got status code two zero one and look at
the URI of the newly created item now
let's click on the tour tab and when we
click on this link it's going to take us
to that newly created item we have a
small problem with this example now
notice when we are issuing the post
request in the URI at the end we've got
a forward slash now let's see what's
going to happen if I remove that forward
slash lets issue the post request again
it was completed in the response header
we got status put two zero one and look
at the URI of the newly created item
it's not properly formed there is no for
slash between students and the student
ID for so when we click on this URI we
are going to get an error no HTTP
resource was found that matches the
request URI so this is not working as
expected
now you might be thinking why don't we
include that four slash in the code
where we are constructing the location
URI
so we have the request URI to that
append four slash and then the student
ID let's see what happens if we do this
back in Fiddler let's issue the post
click twist again take this complete
successfully in the response header we
got status code two zero one and look at
the location in what I this is properly
formed this location URI is properly
formed because at the end of this post
URI we don't have a four slash if I
include a false lash look at what's
going to happen to the location URI
notice now we have got two false lashes
so this is not working as expected
the easiest and right way to generate
links is by using law claims there are
two simple steps to use route names to
generate the length look at what this
method is doing right here this is
returning us student by ID so I'm going
to provide this route a name to provide
its route with a name we use the name
property of this out attribute since
this method is returning us student by
ID I'm going to call this route get
student by ID and then we can use this
route name to generate the length so
here instead of using the request
objects request URI property let's use
this route name to use the route name
I'm going to use this class URL this
class has got link method and look at
the first parameter it's expecting it's
expecting route name so the route name
using which we want to generate the
length is this get student by ID and if
you look at this route it has got ID
parameter for which we have to supply a
value so where are we going to get
student ID from using the student object
right here and to provide a value for
that ID parameter I'm going to use an
anonymous type here ID equals we have
the student object coming into this
method use the ID property of the
student object
so these two changes let's give our
solution a belt and quickly test the
location URI let's execute the request
again at the moment we have a four slash
at the end of the post URI and notice
the location URI is properly generated
let's remove the four slash from the end
let's execute the request and again if
we look at the location you or I it's
properly formed as expected so the
easiest and right way to generate length
is by using route names so there are two
simple steps to generate links using
node names in asp.net Web API set a name
for the route using the name property of
the route attribute and then use that
name of the route to generate the length
they have seen both of these steps in
action just now thank you for listening
and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>