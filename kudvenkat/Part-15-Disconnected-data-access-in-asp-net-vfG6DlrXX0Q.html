<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 15   Disconnected data access in asp net | Coder Coacher - Coaching Coders</title><meta content="Part 15   Disconnected data access in asp net - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 15   Disconnected data access in asp net</b></h2><h5 class="post__date">2013-10-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vfG6DlrXX0Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 15 of video dotnet tutorial
in this video we'll discuss disconnected
data access eduroam it offers two data
access modes connection oriented data
access disconnected data access sequel
data adapter and data set objects
together provide disconnected data
access let's understand this connected
data access with an example we'll be
using this table TBL students in this
demo and this is what we want to do we
want to design a perform that looks like
this we're going to have a grid view
control a label control and two button
controls once we click this button get
data from database we want to load
student information from the stable TBL
students into a data set and then we
want to bind the data set to the grid
view control at that point we will
disconnect from the network meaning of
web application is not going to have
connectivity to the underlying database
but at that point since we still have
data present within the data set the
application should continue to work
meaning I should have disconnected data
access meaning we are not connected to
the underlying data source but since I
have data present within the data set I
should still be able to edit customer
information so that edit should be
applied to the data set and not to the
underlying database table similarly I
should be able to change
I mean delete student information as
well when I click this button update
database table that's when we want to
apply those changes to the underlying
database table you may be wondering
where this disconnected data access is
useful let's consider a scenario where
we have several customers and one day we
want to visit customer location and
let's say assume at customer location we
don't have internet connectivity but at
that point I should still be able to use
the application because I want to change
some customer information at different
customer locations when I visit them so
to achieve that what we can do is we can
have an installation of the application
running on your
laptop okay so in the morning when you
are in the office we will have your
laptop connected to the network load the
data into the data set and then
disconnect from the network at that
point you can visit customer location
and make changes to the customers
information because the data is present
within the data set which is present the
memory of your laptop so as your
visiting customers you will make changes
you will add new customers delete
customers etc and then in the evening
when you come back to the office you can
hook up your laptop back to the network
and then once you click this button
update database table at that point we
want to apply all the changes to the
underlying database table
so that's one of the scenario where we
can make use of disconnected data access
let's see how to implement this
disconnected data axis using sequel data
adapter and data set objects so here I
have an asp.net web forms application
first of all let's set the style
attribute let's set font family to area
so we need a button control so let's
drag and drop a button control so we
need to button control so let me copy
this and paste and we also need a grid
view control so let's drag and drop a
grid view control and a label control so
let's drag and drop a label control as
well okay so the first button is going
to get data from the database so let's
change the text on the button to get
data from database and let's change the
ID - BTN get data from Deeb a and let's
change the ID of the grid we control to
GV students grid view students and the
ID of the label to LV our message and
the ID of this button control to button
so what is the use of this button
control it's going to update the
underlying database table so let's call
it
BTN update a DBE
all right now we are going to make use
of sequel data source control and that
sequel data source control is to just
generate some HTML for us automatically
but we are going to delete that again so
let me actually show that in action
sequel data source is present on the
data tab so let's drag and drop that and
let's flip this webform to the design
mode so let's configure this sequel data
source control so within my weblog
config file I already have a connection
string called that DB CS which is
pointing to the sequel server that's
running on my laptop so let's select
that connection string click Next and we
are interested in this table TBL
students we want to select all the rows
in columns and I'm going to click this
advanced @ tab and I'm going to click
this button generate insert update and
delete statements I'm going to click OK
click Next click finish so at this point
we have sequel datasource configured I'm
going to associate this could be control
with that sequel datasource and notice
that at the point we don't have at this
point we don't have any columns
generated for the grid view control but
once we associate this could be
controlled with sequel data source
control look at that the columns will be
automatically generated for us and I'm
going to select enable editing and
enable deleting so we have that edit
button and delete buttons as well okay
so at this point I'm going to save the
changes and then if we flip the form to
the source mode notice that there's a
lot of HTML auto-generated for us so we
gone we are not going to make use of the
sequel data source control so I'm going
to delete the sequel data source control
okay and then the other thing that I'm
going to do is we need to remove this
association between the grid view
control and the sequel data source
control so I'm going to get rid of this
data source ID property so now when I
save the save it and I'm going to get a
message do you want to refresh fields
and keys
for Givi students which is nothing but a
greedy control now click no here if you
say s you're going to lose all these
columns all that all this HTML that is
generated so I'm going to click no there
okay so we have these fields
automatically generated for us that's
the reason why we have used a sequel
data source control okay
so let's flip this to the design mode
then let's change the text first of all
I want button control on the left hand
side and label on the right hand side so
let's flip it to the design mode and
let's have our label here and change the
text on the button control to update
database table and let's remove this
text property because we don't want
anything any text within the label when
the waveform is first loaded okay so now
our web form design looks much like what
we have on the slide okay so now when we
click this button what we want to do we
want to retrieve data from the database
table okay so I'm going to write a
function here which is going to get data
from the database table so since we are
going to write some ad or net code let's
go ahead and bring an ad or net
namespaces system dot data system dot
data or dot sequel client and system dot
configuration the first step is to read
the connection string from web config
file so let's write a method here a
private method let's call it get data
from dB
so this method is going to do the work
for us
first read the connection string so
string C s equals configuration manager
dot connection strings off where is the
connection string present within web
config file and the name of that is DB
CS so let's get the connection string
next we are going to create a sequel
connection object using that connection
string
now let's create a sequel data adapter
object but then to create a sequel data
adapter object we need select query and
the connection object we already have
the connection object so we need it
select query so let's use a string
variable let's call it STR select query
and the query is going to be the same
thing that we see here select star from
TBL students and we are going to pass
that to sequel data adapter constructor
and the next parameter is nothing but
the connection object so let's pass that
so at this point we have sequel data
adapter now let's go ahead and create a
data set objects let let's call it D s
equals new data set so da dot fill data
set so what is this fill method going to
do it's going to connect to the database
execute the Select query retrieve data
and load that into the data set okay and
within the data set I want the table to
be named students okay now at this point
we can associate this data set with the
grid view control and what is the ID of
the grid we control that we have its GV
students dot data source equals data set
and GV students dot data bind okay but
then I'm going to do two more things
here I'm going to set look at this for
this table the primary key is let me
actually refresh this table expand it
and if you look at the columns here ID
column is the primary key so when then
when this information is loaded into the
data set so it's loaded into this table
T students table
so within this table I want to set that
ID as the primary key in a bit you will
understand why we need to do that so D s
dot tables what is the name of the table
within the data set it is students so
for that table I'm going to set a
primary key and if you look at this
property notice that it is expecting
data column array so we need to create
an object I mean a data column array so
new data column array and then within
this table which column do we want as
the primary key the ID column so I am
going to copy this so D s dot tables of
students dot columns of what is the name
of the column ID column so we want that
column to be the primary key so that's
what the statement does and another
thing is I want to store this data set
in the cashflow object okay so cash dot
insert I'm going to use this insert
method and we need to specify the key
for the cash so it's going to be data
set so later we will use this key to
retrieve data set from the cache and
what we want to store in cash data set
I'm going to use this constructor where
we can specify in a cache expiry as well
so this is not going to be any cash
dependency so I'm going to pass null for
this parameter but I'm going to specify
an absolute expiration so once I load
this data set into the cache it's going
to be there in the cache for 24 hours
from that point so I'm going to specify
date/time dot now dot add hours so we
are going to store that data set in the
cache for 24 hours since we have
specified absolute expiration here we
are not going to have sliding expiration
and to specify that
system dot fab dot cashing dot cash dot
no sliding expiration okay so what is
this method doing very straightforward
they have some radio dotnet code here to
retrieve data from TBL students table
and we are loading that into the data
set and we are storing that data set
object into the cache and then we are
setting the data set as the data source
for the grid we control and invoking
data bind okay so when do we want to
call this method whenever we click this
button get data from DB so let's call
that method get data from DB and we want
to set the message in the label control
to data loaded from database so LBL
message dot text equals data loaded from
database okay now I'm going to write
another private method here so notice
that we have already stored the data set
within the cache so I'm going to have
another method supply bit void and we
are going to call this get data from
cache so what is this method going to do
it's going to retrieve the data set from
cache and it's going to set that as the
data source for the grid view control
and it's going to invoke data bind so if
cash off what is the key that we have
used cache of data set so that's the key
so if cache of data set if that is not
equal to now then what we want to do is
we want to retrieve the data set so data
set D as equals we want to retrieve the
data set from cache
so let's typecast that to data set and
then once we have the data set what we
need to do we want to set that as the
data source for the grid view control
and invoke data bind so this method is
going to get data from cache in a bit
we'll see how we are going to make use
of this method okay so at this point if
we run the application we should be able
to load data into the database table on
the database table into data set and
that data should be bound to the grid we
control so at this point I should be
able to disconnect from the database and
still should be able to work with the
application okay
so first of all let's go ahead and
implement this edit and delete actions
and that's going to be straightforward
with creepy control so I'm going to
select the grid we control plus f4 to
get to the properties click on this
lightning bolt symbol now when we click
this edit button the grid control raises
enabled row editing so let's generate
the even handler for that row editing
event is here so let's double click that
to generate the rule editing so when we
click the edit button we have update and
cancel buttons so when we click the
Update button then this event is fired
row updating so let's go and generate an
even handler for that as well but if I
click the cancel button then row
cancelling event is fired so row
cancelling edit event is fired let's
generate an even handler for that and
then once we click delete button row
deleting event is fired
so let's generate the even handler for
that even as well okay so when we put I
mean when we click Edit button what do
we want to do we want to put the row in
edit mode and to do that so the idea of
the grid view control is TVs to lens dot
edit row edit index so how are we going
to get the Edit item index we can use
this parameter that's coming into this
even handler so this ear ight here
so e dot new edit index and once we have
put the row in edit mode we need to you
know set the data source to the grid
view control and then bind it with the
data once again but we don't want to be
loading data from the database okay we
want to load it from the cache and we
have already written a method to load
data from cache so we're going to invoke
that method okay
so let's call this method let's build
our solution and let's actually run it
so at this point we should be able to
put the row in edit mode because that
when I click Edit the row is in edit
mode and I click so at the moment
nothing happens that's basically because
we haven't implemented the even handler
method okay so let's go and implement
that so when we click cancel what should
happen we should bring this row out of
edit mode and to do that we're going to
copy this exact code so here
row cancelling edit event so edit item
edit index is going to be minus 1
meaning don't put any row with an edit
mode and then get data from cache again
ok so at this point we should be able to
cancel edit as well so get data from DB
edit look at this once I click cancel
the rule gets out of the editing mode ok
now once we click update at the moment
nothing is going to happen keep in mind
we don't want to update the underlying
database table we want to update data
that's pleasant within the data set
remember the data set is going to be
cached for 24 hours ok so we want
disconnected that data access behavior
all right so let's implement this update
button
so here row updating event so first of
all when we click update what should
happen
we should retrieve data from this row
and then look for example let's say I
have changed name from Mark Hastings to
mark Hastings one female to male and
salary maybe 600 to 700 so what
we need to do we need to retrieve the
values from the user interface from this
particular row and then we should update
the row within the data set
okay so first step here is to actually
retrieve the data set from cache
so if cache off what is the key that we
have used data set so if that is not
equal to now we want to retrieve data
set from the cache let's type gasps that
back to data set and let's store it in a
variable of type data set let's call it
D s okay so at this point we have
retrieved data set from the cache now we
need to get these values the changed
values and how are we going to get that
we basically can use this object review
update event arguments object that's
coming into this event handler method so
a dot new values should give us the new
values basically so I can use this new
values property and then I can index
that with the name so basically what is
the name of the property you know for a
name if we want the new name
I simply index that that name because
that's what is the column name okay now
this is going to give us the new value
but what we need to do we need to update
the respective row within the data set
which means I should first be able to
find in this data set the corresponding
row and to do that so within the data
set we have tables we have in our case
only one table and the name of the table
is students so in that table we have
rows collection so within the rows in
that table find me a row but then here
the fine method is going to use the
primary key of that table to find that
row so here we are editing the first row
the ID is going to be one so how are we
going to get the ID of that row again we
can make use of this object
so this II could view update eventargs e
has keys property ok keys off we can
specify the name of the column what is
the name of the column ID so that should
give us the ID okay so this fine method
is going to find the row by primary key
basically so what is the primary key for
this table if you remember when we have
loaded the data into the data set we
have set the primary key for students
table as the ID column okay so this
method what is it returning look at the
intelligence it's returning a data row
object so I'm going to store that in a
data row variable so let's call it D R
so now we are going to say dr of named
so set the name column within that row
to whatever we have here in the new
values and the speed we do it in the
same way for gender and total marks and
to speed things up I have already typed
that code so let's copy this and paste
it right here so here we are calling the
variable STR so let's change it to dr
and this to dr okay so basically we are
setting generate agenda to remarks to
total marks the same kind of idea okay
so what did we do at this point we have
made changes to the data row within the
data set okay so we are going to store
the data set back in the cache and to do
that we have already typed the code so I
am going to copy this
and paste it right here okay so what is
happening here look at this we are using
the same key again meaning we are going
to overwrite the data set that's already
there in the cache okay and then we are
going to call this method get data from
cache what will this do this will
retrieve the data from the cache and
bind it to the gridview control once
again so that we can see the changes
that are applied and then what we need
to do we need to bring the row out of
editing mode okay and to do that again
we can use this code basically we need
to set the edit index to minus 1 so
let's actually copy that line and do
that before we get data from the cache
so here the edit index is going to be
minus 1 and let's say if everything
works as expected
ok get data from cache we got the data
from database at this point click Edit
and I'm going to change mark Hastings to
mark
click update database table oh we don't
want to update database table we want to
update you know the underlying data set
we haven't implemented the code yet for
this button so let's click this button
look at that mark is updated and if you
look at the underlying table let's
actually execute this query look at this
in the underlying table the name of the
student is still mark Hastings ok so at
this point we are working with the data
set that's present within the memory of
our web application ok all right now
let's implement delete functionality as
well so delete functionality should be
very much similar to what we have here
so let's actually copy this code and
make required changes and where is the
delete even handler here it is so if
the data set that's present within the
cache that is not now we are going to
retrieve that from the cache and we are
going to find that row and what we need
to do we need to delete that row so
simply we can say dr dot delete so what
is this going to do it's going to delete
the row from the data set itself and not
from the underlying table and then the
same idea we're going to put that back
in the cache and then we didn't set the
row in edit mode here so we don't
require this line because we are simply
deleting the row and then finally get
data from cache okay so at this point we
should be able to delete as rows as well
so get data from database and look at
this when I click delete the row is
deleted from the data set keep in mind
no changes are applied to the underlying
database now okay we are working in a
disconnected mode so now if we go back
to the database look at this we still
have all the ten rules there but here
it's only showing five rows now when I
click this update database table that's
when we want to apply those changes to
the underlying database table okay so
finally we need to implement the event
handler for this update database table
button so let's see that so what are we
going to do obviously to update the
underlying database table we need the
connection string we need the sequel
connection object we need sequel data I
mean the Select query as well because
based on that we are going to generate
you know update delete commands
basically we are not going to use sequel
command here we are going to write our
own comments but to create a sequel data
adapter we require a select query so
let's copy all these lines go back to
this click event handler paste them
there so we want to read the connection
string prepare the sequel connection
object we need that select query a
creating sequel data adapter here
and this is the select very and that's
the connection object we use and we have
the data set we are retrieving that
basically we don't want to create a new
data set we want to retrieve the data
set from the cache so I'm going to get
rid of this code cache off what is the
key data set and we want to typecast
that of to be of type data set okay now
we need to update the underlying
database and to do that we have the data
adapter here so I'm going to say da dot
update and then we are going to use this
version of the method where we can
specify the data set and the table
within that data set so update the
underlying database table with the data
that is present within this data set and
within the data set we have a table
called students so use the information
that is present in students table and
update the underlying database table now
if I run this do you think it's going to
work it's not going to work why because
we don't have the update command
specified so the adapter doesn't know
what to update and how to update look at
this when we change this to Pam update
that that works because we are applying
changes in memory but once I click this
button look at what's going to happen we
get another update requires a valid
update command so we need to associate
an update comment and there are two ways
to do that we can use sequel command
builder object to generate the update
command automatically for us and we have
discussed that in the previous sessions
with this video series or we can write
the update command and associate that
let's actually do it the second way
because we have already seen how to use
sequel command builder in the previous
sessions so I am going to create an
update query so let's call it STR update
command
so how is the query going to be update
what table we want to update we want to
update TBL students table set name
column to add name so basically we are
going to make use of parametrized
queries at name gender equals at gender
and total marks equals at total marks
their ID equals @ ID okay so
straightforward update statement now we
need to create a sequel command object
so sequel command let's call it update
command equals new sequel command and we
need to specify the command text so what
is the update command text is right here
so let's copy that and we need to
specify the connection object okay so we
have the update command now now if you
look at this query it has got three
parameters I mean four parameters
actually name gender tool marks and ID
so we need to associate these parameters
with the update command so update
command dot parameters dot add so add
the parameter and I'm going to use this
version of the add method where we can
specify the name of the parameter the
data type the sequel database type of
that parameter size of the parameter and
which source column contains the values
so in our case for name it's going to be
name column for gender it's going to be
gender column so we need to specify the
source column as well
okay so parameter name for name what is
the name of the parameter it is at name
and we need to specify that as a string
and then we need to set this equal D be
type so sequel DB type name is n we're
care because in
sequel server name is an inverted column
and what is the size of that column I
think we have specified 50 as the size
if in doubt let's check so 50 is the
size and what is the final parameter
source column which column contains the
updated data name column okay similarly
we need to specify parameters for gender
total marks in ID and to speed things up
I have already typed that code so let me
copy that and paste it right here okay
so we have gender we have total marks
and ID now if you look at total marks
and ID the type is integer so for
integer is a fixed set is a fixed size
so we don't have to specify size here
but this version of the add method
required size to be passed and and for
integer type you know the argument value
is anyway discarded so I am passing zero
as the size for total marks parameter
okay alright so at this point we have
the parameters associated with the
update command what is the next step we
need to associate this update command
with the data adapter object so that
when we call that update it's going to
issue that update command so and how do
we do that we use data adapter dot
update command property and if you
notice what is it expecting it is
expecting an object of type sequel
command and if you look at our update
command it is of type sequel command so
update command equals whatever update
command object that we have created all
right in a similar fashion you know if
you look at our grid view control it
supports edit ER deleting as well so we
need to associate delete command as well
and let's specify a delete command so
string STR let's call it
delete command and what we need to do
delete from TBL students we are going to
use the same year clause where ID equals
8 ID and similarly we need to create a
delete command object so let's go and do
that signal command let's call it delete
command equals new sequel command and
since we are creating delete command
let's pass our delete command to the
constructor and we are going to make use
of the same connection and if you look
at this delete command it has got a
parameter ID so we need to associate
that so let's copy this line and let's
change the required bits so delete
commander parameters stop add the name
of the parameter is ID it's of type
integer and the size is going to be zero
because they are fixed size and the
source column is ID okay the final step
is to associate this delete command with
the data adapter so data adapter dot
delete command equals whatever delete
command that we have created that's it
at this point we should be able to
update the underlying data base as well
okay so get data from database look at
that we have that data from the database
and I edit let's change my tastings to
Mark Hastings one update that so name we
have changed and let's change name again
here ok and delete third row and fourth
row let's click update database table
and see if those deletions and edits are
applied now at the moment if you look at
the underlying database table no changes
whatsoever now these changes are done to
the data set that's present within the
memory of our application now when we
click this update database table look at
what's going to happen so I mean we
haven't specified the label message so
that's why it still says data loaded
from database we'll fix that in a bit
but at this point if we click this look
at that there
only eight rows now and look at the
names of these two students it's updated
okay
let's quickly fix that labeled staff so
LBL message dot txt so when we click
this update button what should happen we
want to display message in the label
saying database table updated okay let's
run it one more time now at this point
we are connected to the sequel server ok
so when I say get data from database
look at that I get that data now let's
actually stop sequel server so I'm going
to type services dot MSE within the run
window and then within the services type
as that should take you to sequel server
service so here we have sequel server
service at the moment the status is
started let's stop the sequel service
which means like you know it's as good
as saying we are not connected to the
database server now because we stopped
sequel server server but since I have
data within the data set look at this
I'm still able to change data right and
then once I click update I'm still able
to use my application so I'm
disconnected from the database but I'm
still able to work with the application
ok so that's what data set provides us
with data set and data adapter object
together and then now when I click
update database table what's going to
happen I am still disconnected from the
network so when I click this button we
are still going to get that error
because look at this it is still trying
to connect to the sequel server but
sequel server service is not running
meaning we cannot connect to sequel
server that's why this is eventually
going to fail so there will be some time
out look at this I get a network related
error okay but then let's go ahead and
start the sequel service
so once the service has started let's
run the application so the service is
still starting it's going to take some
time but once the service has started
the application should work so now I
think that since the service is still
trying to start look at that it's still
trying to load the service has
eventually started and look at this the
data is loaded now you know when we
apply the changes they will burn only
applied in memory but once we click the
Update button that's when the changes
will be updated in the underlying
database table ok so a data set is an
in-memory data store that can hold one
or more tables in our case it's holding
only one table data sets only hold data
and they don't interact with the
underlying database table that data set
object has no knowledge of the
underlying data source it is the sequel
data adapter object which retrieves the
data from the database and to retrieve
data from the database which method are
we using the fill method so when we
invoke the fill method on the sequel
data adapter what is the sequel data
adapter going to do it's going to open
the connection to the database execute
the Associated Select command to
retrieve the data and populate the data
set with the data that is retrieved and
then sequel data adapter is going to
automatically close the connection for
us we don't have to open the connection
close the connection explicitly and when
we have made changes to the data set and
if we want to apply those changes back
to the database table again we are going
to make use of data adapter object we
invoke the update method on the data
adapter object ok so once we have the
changes within the data set you know in
this example we have been doing
disconnected data access so we have the
data within the data set we are able to
change data in any way that we want we
can edit it delete it and then once we
click this button update database table
that's when we are invoking a plate
method of the data adapter object which
is going to take the changes of the data
set and then apply them to the
underlying database table
but then for that update method to work
we need to make sure that the respective
transact sequel statements are
associated with the data adapter object
in our case if the update and delete
statements are missing then you know the
update method on the data adapter is
going to fail okay that's it for today
thank you for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>