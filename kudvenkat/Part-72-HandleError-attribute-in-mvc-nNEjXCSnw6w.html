<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 72   HandleError attribute in mvc | Coder Coacher - Coaching Coders</title><meta content="Part 72   HandleError attribute in mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 72   HandleError attribute in mvc</b></h2><h5 class="post__date">2013-08-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nNEjXCSnw6w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this part 72 of asp.net MVC tutorial in
this video we'll discuss handle error
attribute in MVC handle error attribute
is used to display friendly error pages
to users when there is an unhandled
exception in your application let's
understand this with an example let's
flip to visual studio here I have a
blank asp.net MVC for application let's
add a controller let's name it home
controller and let's change the
implementation of the index action
method to throw an exception so we want
to throw a new exception something went
wrong is going to be the exception
message so here the index action method
within this home controller is throwing
this exception and this exception is
unhandled so let's build a solution and
let's navigate to this index action
within the home controller so localhost
MVC demo is the project name home is the
controller and index is the action
method let's see what's going to happen
when there is an unhandled exception
look at this week we will arrive at this
ello screen and this screen is referred
to as ello screen of death displaying
the screen to users is bad for two
reasons number one this screen is too
technical it doesn't make any sense to
the end-user and number two notice that
the screen is showing your application
code this information could be useful
for a hacker to hack into your
application so that's why we should
never be displaying this ello screen of
death instead we should be showing a
friendly error page let's see how to
achieve that and there are two very
simple steps in MVC the first step is to
turn on custom errors in your web config
file within an MVC project by default
you're going to have two web config
files one weblog config file is present
within the root directory and the other
one is present with the fuse folder so
make sure you add the custom errors
element to the web config file that's
present within the root directory of
your project so within web config
and the system dot fab we want to add
custom errors and we want to set the
mode to on okay now if you notice the
mode attribute of this custom errors
elementary has got three settings on/off
remote only now we have discussed the
significance of those settings in detail
in part 71 of the asp.net video tutorial
alright so the second step is to add
edit view to the shade folder so to the
views folder let's add shared folder and
then to this let's add a view with named
error click Add
so that should add the error view maybe
we want to display friendly error
message to the user something unknown
happened please contact admin a friendly
message to the user so let's build a
solution let's come and refresh this
let's see what's going to happen look at
that instead of that ello screen of
death we are at this friendly error page
okay now the important question to ask
is we did not apply this handle error
attribute anywhere so how did all this
work now it turns out within web config
file there is a call to this function
filter config register global filters so
if I right-click on that and then if we
go to its definition so look at this
within this function so we have this
global filter collection object that's
being passed into this and to that
global filter collection we are adding
this new handle error attribute so this
handle error attribute is being applied
globally which means it's applicable for
all the controllers and for all the
action methods within those controllers
so we don't have to apply this attribute
individually within each controller and
to each action method it's applied at
the global level so it's applicable
for all the controllers and for all the
action methods within those controllers
in the entire application so what's
going to happen if I remove this or if I
comment the slide let's see that
so I commented that let's fill the
solution and let's refresh this view and
see what's going to happen as you might
expect we are back at this ello screen
of that okay so this handle edit
attribute you know by default it's
applied at the global level but if you
prefer you can apply it at a controller
level or at a specific action method and
let's say if I apply it at this action
method so handle error so we applied it
on this action method so if this method
throws an exception then that will be
handled so when we refresh this it
should display the friendly error page
but then if I have another action method
now let's call it maybe index 1 and if
it throws an exception let's pull the
solution now we don't have handle error
attribute on this function and it's not
applied at the global level so what's
going to happen we are going to be back
at that ello screen of death let's build
a solution and actually let's navigate
to index 1 action method look at that we
are back at that screen that's why it
makes more sense to apply that handle
error attribute globally all right so
let's undo these changes that we have
done let's remove that handle error
attribute from the action method let's
go back to that filter config and
uncomment that line so that we have the
filter applied at the global level all
right
now let's try to navigate to the index
action method and see if we get a
friendly error page yes we do now
is the friendly error page displayed for
HTTP status code for zero for now what
is this HTTP status code for zero for
now look at this within the home
controller at the moment we have index
action and index 1x action so if I
navigate to index or index 1 then you
know since these action methods are
throwing exceptions we have a custom
error page you know that custom error
page is displayed but let's say I am
navigating to something called list
within the home controller but within
the home controller do we have a list
action method no we don't so what's
going to happen when I try to visit that
will I get differently at a page No
ok so how do we handle this HTTP status
code for 0 for now again I don't want
end-users to be looking at the screen
instead I want to show him another
friendly error page which says that you
know the page that you're looking for
cannot be found please check your URL
you know a friendly message to the user
so how to achieve that again there are
three simple steps
the first step is to add a controller
and you can name this controller
anything but since we are using this
controller to handle errors I'm going to
give it a meaningful name editor
controller so let's go ahead and add
that so right click on the controllers
folder add a controller and let's call
it error controller and again within
this controller you can have the action
method any name but then we are going to
deal with not found exception so I'm
going to name it not found okay and then
obviously this action method is going to
return a view so we need to add a view
but I'm going to add that view to the
shade folder and let's name it
not found
let's say the page you are looking for
cannot be found
please check the URL a meaningful
message to the user all right and the
final step is to tweak this custom
errors element okay now what is the
status code that we are getting HTTP
status code four zero four that's the
error code so within web config file
this is what we need to do we need to
say okay add an error element and then
set the status code so for this status
code four zero four in work not found
action method within the error
controller so within the error
controller we have not found action
method which is the returning of view
and what View does it return it returns
a view with the same name and we do have
a view with that name within the shared
folder so this view will be returned if
there is going to be an HTTP status code
four zero four so let's make those
changes within our web config file so
error element the status code is going
to pay for zero four and we want to
redirect the user to error controller
and what is the action with the name not
found action let's build the solution
and now let's try to refresh this so
list is not found within the home
controller let's refresh this and see if
we get the custom error page that we
have defined look at that the page you
are looking for cannot be found
please check the URL all right so three
simple steps to handle those HTTP status
code four zero four errors that's it for
today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>