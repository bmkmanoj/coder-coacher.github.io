<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Check if cookies are enabled or disabled   Part 61 | Coder Coacher - Coaching Coders</title><meta content="How to Check if cookies are enabled or disabled   Part 61 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Check if cookies are enabled or disabled   Part 61</b></h2><h5 class="post__date">2012-11-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/G9YNTjrChFQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to presume technologies I am
venket this is Path 61 of asp.net video
series in this session we'll discuss
about how to detect if cookies are
enabled or disabled on a client computer
before continuing with the session I
strongly recommend to watch parts 58 59
and 60 of this video series in fact this
is a very common interview question how
do you detect if cookies are enabled at
disabled and the clients computer now I
have seen most of the articles and the
internet states that we can use request
or browser cookies property requests or
browser cookies property returns a true
or a false now on most of the internet
article sites I have seen it says if
request or browser cookies then cookies
enabled otherwise cookies disabled this
is completely wrong request dot browser
cookies property determines if the
browser has the capability of supporting
cookies it doesn't really tell us
whether if the cookies are enabled or
disabled so this property should
actually be used to check the browser
capability not if the user has enabled
or disabled cookies ok so we have a
different approach to detect if cookies
are enabled or disabled but this
property request or browser that cookies
is only used to detect if cookies are
you know supported by that browser or
not ok so most modern browsers actually
support cookies irrespective of whether
the cookies are enabled or disabled if
the browser supports cookies requests or
browsers or cookie property always
returns a true ok now let's look at how
do we actually detect if cookies are
enabled or disabled on the client
computer ok in a previous session of
this video series we have discussed the
basics of cookies like how to write a
cookie onto the client computer you know
with name and the email values that the
user types into these text boxes and we
have seen how to retrieve those values
on webform - ok so obviously if you look
at the code in the button click event we
are creating it creating an HTTP cookie
object and we are storing name and email
keys and then we are setting an expires
property and then we are adding the
cookie to the response object and
finally redirect
- waveform - on webform - we are
retrieving that cookie and then
retrieving the value out of the name key
and email key and displaying in the
label controls okay now let us see how
do we actually detect if the browser
supports cookies or not the first thing
here to understand is
users can disable cookies in their
browser and how can they do that they
can actually go to settings internet
options click on the privacy tab click
on the Advanced tab now if you look at
this you can choose how cookies are
handled in the Internet zone so the
changes that I am going to do here will
only affect internet zone so I click
override automatic cookie handling and
I'm going to block the first party and
third party cookies I click OK I click
OK now this only blocks the cookies that
are returned by the internet
applications but then here when I
locally run my application it's going to
run on the local intranet zone so the
cookies are not really disabled for me
to disable cookies on my local computer
when for localhost then I can use
developer tools of Internet Explorer you
can plus f12 for that or you can go to
tools and then select developer tools
the shortcut keys f12 and from the
developer tools cache and disable
cookies at the moment it is disabled
because unless and until I navigate to
that localhost side I wouldn't be able
to disabled so let's do that now ok so
now let me run this application as it
stands so as soon as the webform loads
we'll be able to enter some values here
and look at that I'm going to disable
cookies I disabled I'm disabling cookies
I'm going to type in test and test email
and look at that go to waveform - and
look at that it's not showing me the
cookie values why because the cookies
are disabled so my site is not
functioning if cookies are disabled so I
want to detect on the client computer if
cookies are enabled or disabled now if
you look at this as I told you most of
the internet sites say you know you can
use request objects that browse a
property dot cookies so this is a
boolean property and if you look at what
are you know
intelligence says gets a value
indicating whether the browser supports
care cookies so it's only telling you
the capability of the browser not really
if the user has enabled that disable the
cookies now let's quickly test that so
I'm going to say response tor tried
maybe a message cookies enable if that's
what is true so if you remember we have
actually disabled cookies on this local
computer so I'm going to say cookies
disabled here okay so now let me run
this and look at this in spite of having
cookies disabled on my client browser
when the page loads it actually says
cookies enable because the chris dodd
browser cookies property will always
return true because Internet Explorer 9
supports cookies okay now so the next
question is how do we actually detect if
cookies are enabled or disabled on a
client browser now to do that we have to
write a test cookie redirect the user to
the same page read from the test cookie
if cookie is present cookies are enabled
otherwise cookies are disabled that's
the only way to figure out if cookies
are enabled or disabled and let's write
code for that okay so if requests or
browser dot cookies that means we know
that cookies are supported by the client
browser on the other hand you know if
that property returns false then we know
that you know the user might be using a
very old browser that doesn't support
cookies in which case we want to print a
message to the screen so let me add a
label control to this project
okay so let's add a label control and
let's give that label a meaningful name
so I'm going to call that lvl message
let's get rid of the text and I'm going
to set the full color to red and maybe
font - bold
is equal to true okay all right so now
let's go to the code-behind fine and
then we will say label message dot text
just to save some time in typing I have
this message all data type so let me
copy and paste that message your browser
doesn't support cookies so the message
is your browser doesn't support cookies
please install one of the modern
browsers that support cookies okay on
the other hand if the cookie if the
browser's support cookies then we want
to detect you know if cookies are
enabled or disabled so how do I do that
the first step is to create a test
cookie and redirect the user to the same
page so how do we create a cookie we
have seen that in the previous session
we can make use of the HTTP cookie class
so HTTP cookie cookie is equal to new
HTTP cookie and I'm going to give this
cookie a name we can give it any name
I'm going to call this test cookie and
then I'm going to give it a value of 1
okay and all I'm going to do is I'm
going to write this to the clients
browser so response to cookie start ad
and we are going to add that cookie
object okay so we added the cookie to
the client browser now I have to
redirect the user to the same page and
read that cookie so I'm going to say
response dot redirect so I'm going to
redirect the user so this is a little
trick actually so I'm going to redirect
the user to the same page where form 1
dot aspx so let's copy the name of the
web form and then I'm going to pass in a
query string I will tell you why we are
doing this and then I'm going to say
check cookie you can give it again any
query string you want
so I happen to choose check cookie I'm
going to pass it a value of 1 ok so what
did we do until now if the browser
support cookies create a test cookie and
then add it to the clients computer and
redirect the user to the same page so
he's going to land again on the same
page and I want to do all this
only when the webform first loads that's
when I want to detect if you know the
cookies support is enabled or disabled
so if not is post back so do this only
during the initial get a request of the
webform okay so when the webform reloads
you know after this redirect step
statement it's going to reload and then
what I basically want to do here is F
request dot query string off you know
this is the trick this is what we need
to understand here carefully
so if request dot query string of check
cookie is equal to null so what does
this tell us this means that we haven't
returned the cookie ad so I mean if we
have returned the test cookie to the
client computer we are redirecting the
user using this query string so if this
query string is present in the browser
vendor then we know that we have written
the test cookie and we are trying to
read the test cookie on the other hand
if this query string parameter is not
present then we know that the user has
landed on this waveform for the first
time and we want to write the test
cookie okay so if it is equal to null
we'll write the test cookie add it to
the clients browser and redirect
otherwise if the query string is present
then we know that we have added the test
cookie so now what we want to do we want
to try and read the test cookie so how
do we read the cookies we use the
request object so request dot cookies
off what is the name of the cookie that
we added test cookie so I'm going to
pass the name of the cookie here and
that's going to return the cookie object
so HTTP cookie I'm going to call that
again cookie now if that cookie object
is null then we know for sure cookies
are disabled on the client computer
because I just have returned a cookie
but I'm not able to find that which
means cookie I mean I am NOT successful
in writing the cookie and when will I
not be successful in writing a cookie
when the cookies are disabled so
obviously now I want to show a message
to the user saying that cookies are
disabled again I have that message
already typed so let me copy and paste
that message there so the message says
we have detected that
these are disabled on your browser
please enable cookies okay so let's run
this as it stands now so look at this as
soon as I run it you know the first time
and the page loads it checks okay this
browser it's ie9 so it supports cookies
and it checks the clustered query string
the first time you know the query string
check cookie will definitely be null so
it comes into this if block creates this
HTTP cookie add the test cookie to the
clients browser and then redirect the
user to the same page again so it again
comes and then it comes inside the
clustered browser to cookies now the
query string is present so it comes to
this else part it will try to read the
cookie and if you remember we have
already disabled cookies are in the
browser so this cookie will be null and
we should get that message okay
so let's run this and see if that works
so the page should load look at that
webform one dot aspx and that has
changed again to the URL that we are
expecting there is a query string now
look at that we have detected that
cookies are disabled on your browser now
let's enable cookies back so I come here
cache you know for some reason these
developer tools are not working
correctly on my machine but let me close
that just to make sure the cookies are
enabled I'm going to go to internet
options privacy advanced and okay so
that's unchecked which means cookies are
enabled so I'm going to click OK close
everything run this once again now the
cookies are enabled back on my client
computer so look at that I type in test
test email and the cookie should work as
expected so the cookies are working on
the other hand I can disable cookies
let's quickly do that so internet
options first let's delete or you know
if if any cookie that is returned to the
computer you know let's delete that
permanently and then I want to disable
cookies how do we do that I go to
internet options privacy advanced you
know override and I want to block first
party and third party cookies click OK
and let's go to developer tools by
pressing f12 go to cache disable cookies
now
look at that I have test and test email
actually let's close that now let's run
the page once again just to make sure
you know we don't have the previous
traces of the cookie look at that
cookies are disabled now if I type test
and test the email since cookies are
disabled when I go to webform - I will
not be able to retrieve anything from
there so this is how we actually detect
if cookies are enabled at disable you
have to write a test cookie and then try
to read from that if the cookie is
pleasant cookies are enabled otherwise
cookies are disabled on this slide you
can find resources for asp.net c-sharp
and sequel server interview questions
that's it for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>