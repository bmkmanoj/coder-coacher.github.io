<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Events and delegates in C#   Part 108 | Coder Coacher - Coaching Coders</title><meta content="Events and delegates in C#   Part 108 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Events and delegates in C#   Part 108</b></h2><h5 class="post__date">2013-01-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/hlDo8IJRyhE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to presume technologies I
am venket this is part 108 of asp.net
video series in this video we'll discuss
about raising and consuming date
selected event of the calendar user
control this should enable us to
understand even send delegates much
better to get the most out of this video
series I strongly recommend to watch
parts 106 and 107 from the asp.net video
series and parts 36 to 39 from c-sharp
video series for your convenience I have
included the links for asp.net and C
sharp video series here so when do we
want to raise this date selected event
from the calendar user control whenever
the user selects the date from the
calendar that's when we want to raise
the state selected event the calendar
user control as it stands currently has
an event already called a calendar
visibility changed event and that event
is raised whenever the visibility of the
calendar changes so what are the steps
to create date selected event from the
calendar user control obviously the
first step is to create a date selected
event argument's class that's going to
contain the event data so let's go ahead
and create that class I'm going to
create that class within the calendar
user control file so as you can see here
this class is the calendar user control
class itself and then we have this
calendar visibility change the event
arguments class which is going to
contain the event data for calendar
visibility changed event okay so let's
go ahead and create a class that's going
to contain even data for date selected
event ok so public class and I'm going
to call this date selected event
arguments ok and this is going to
inherit from event arguments class okay
so what event data is this even going to
contain you know date selected event
what type of data it contains it's going
to contain the date and time that the
user has selected within the calendar
control okay so obviously we need a
variable of that type to hail who to
hold that data so I'm going to create a
private variable of date/time type I'm
going to call this underscore selected
date
okay obviously to expose that private
feel to the external world we need a
public property so I'm going to create
another public property with the same
name selected date with a capital S and
that's going to expose this private fear
and it's going to be a read-only
property because we don't want to allow
users to be changing this property from
outside so return this dot underscore
selected date okay finally we need a
constructor which can be used to
initialize this private real so let's go
ahead and create that constructor so
public date selected event args and then
to the constructor we want to pass a
parameter and that parameter is used to
initialize the private field so this
underscore this dot underscore selected
date is equal to whatever is coming into
the parameter so a very simple class to
hold our event data a private field a
public property and a constructor okay
so that's the first step what's our next
step the next step is to create date
selected event handler delegate and we
know that delegates are types a function
pointers and the signature of a delegate
is very much similar to that of a
function okay except that the delegate
declaration has a delegate keyword
within that so let's go ahead and create
a delegate and we have discussed about
why we need delegates you know when we
are discussing about calendar visibility
changed even so I would strongly
recommend to watch the previous two
video sessions before proceeding with
this video okay so let's go ahead and
create that delegate now so public we
create the delegate using the delegate
keyword the return type is going to be
void and I'm going to call this date
selected event handler delegate so date
selected event handler okay
and obviously to this delegate we need
two parameters the sender parameter is
going to tell which object instances is
raising this event
and obviously to store even data that we
need this data selected even to
arguments object so object sender and
then to contain on to store our event
data we have this data selected event
arguments class which I am going to use
as parameter for this delegate okay
that's it now look at this at this
delegate will be later we actually use
to point to an even handler method okay
and this delegate will then hand over
this object you know whatever you see
here this object to the event handler
method and the even handler method can
retrieve you know date selected property
from this object and use it the way they
want that's why we actually need to pass
that object which contains our even data
to this delegate and this sender
parameter specifies which instance of
this calendar user control is actually
raising the and for example let's say on
a web form I have calendar user control
one calendar user control two etc now if
I want to know for any reason which
instance of this calendar user control
race the event I use this property this
object within the event handler method
ok that's the reason why we need to
create this delegate that's the second
step what's the third step create the
event itself date selected event so what
are events events are variables of type
delegates with an event keyword in front
of for them and we discussed about this
as well in the previous session so let's
create that even there now event this
date selected event should be part of
the calendar user control class okay so
we have to create that event inside this
calendar user control class so let me
expand that and I want and and create
the event so just like how we have
created this calendar visibility changed
event so public we use the event keyword
and then date selected even handler
that's the delegate and then my variable
or my event name is going to be date
selected okay that's the even that's the
third step what's the fourth step create
a protected virtual method on selection
to raise the event now we can raise the
human directly but we spoke about
I it is very important to use this
protected virtual method to actually
raise the event rather than directly
raising that the previous session okay
so let's go ahead and create this
protected virtual method to do that so
I'm going to create that protected
virtual method and then I'm going to
call this method as on data selection so
whenever the user selects a date what do
I actually want to do I want to pass
this date selected even two arguments
class as a parameter into this function
I'm going to call the instances e the
variable s e and now what we need to do
we need to check if date selected event
is not null and then there is the event
and again we discussed about why it's
very important to check if if the event
is not now before we actually raise the
event so if date selected if that event
is not now that's when we want to raise
the event okay we checked about the
importance of this condition we
discussed about the importance of this
condition in the previous video session
okay so what do we want to do we simply
want to raise the event now when you are
raising the event now look at this this
event is actually a variable of type
this delegate and if you look at that
delegate it has got these two parameters
so obviously when you are raising that
instance it expects those two parameters
to be passed in okay so what is this
sender sender is nothing but you know if
I drag and drop this calendar user
control on a webform I will get an
instance of this calendar user control
calendar user control one maybe okay so
so this class is basically raising that
even so sender is going to be this
keyword and you say this we are we are
actually telling an instance of this
class okay and then obviously we need
even data as well and the even data is
coming into this method as a parameter
so I am going to use that e okay so
whoever calls this method they have to
pass even data also as a parameter into
this function okay so what's the final
step the final step is to actually raise
the event so
when do we when should we raise the
event they raise the event whenever we
select the date in the calendar okay so
whenever the selection the calendar
changes that's when we should raise the
event okay so obviously when that
happens within the calendar user control
we already have a method calendar one
underscore selection change that's when
we retrieve the selected date from the
calendar control and we are populating
that textbox okay so that's when I
actually want to raise this selected
date event okay so before you raise the
event you have to prepare event data
because we need to notify the event
handler method what date the end user
has selected and to do that we have
created a class called date selected
event arguments class and I'm going to
call that a variable date selected even
data is equal to we create an instance
of that class and look at this this
instance expects a date time that the
user has selected
okay the constructor is expecting that
so we pass the selected date from the
calendar to that constructor okay and
finally what we do we raise the event
and to raise the event we have created a
method on date selection and this method
expects an object of type date selected
event arguments which we have here we
are going to pass that there that's it
look at what's going to happen this own
date selection method is called and if
you look at that that's a very simple
method we have this date selected event
arguments which you are passing in as a
parameter and this object contains the
date that the user has collected so now
it should make sense why we have created
this delegate you know the event and
then this protected virtual method and
finally this is where we are actually
raising the event okay so we are putting
all these pieces together right now okay
so that's it we are done raising the
event let me go ahead and build this
solution the keyboard shortcut is ctrl
shift Bay on the status bar notice that
will succeeded so we are done with these
five steps created the event so what's
our next step let's use that event or
consume that event on a wave form
let me drag and drop this calendar user
control onto a webform so I have this
webform 3 or aspx at the moment it
doesn't have any controls so let me drag
and drop this calendar user control onto
this web form so we have the calendar
user control there and if you look at
the source the ID is calendar user
control 1 now to consume the event I
mean to hook up the even handle a method
to date selected event of this calendar
user control there are two ways to do
that one you can actually do in the HTML
or you can do that in code first let's
do that in code and then we will see how
to do it that in HTML as well so to do
that in code in the page load event of
this waveform I'm going to hook up the
even handler method with the event of
the calendar control so what's the ID of
this calendar user control its calendar
user control 1 dot date selected is the
event ok look at the symbol lightning
pulled as soon as I say dot date
selected then press space then plus
equals and then look at the you know
liquid visual studio it shows the event
handler I mean it shows the delegate
that we can actually use to hook up the
event handler method now I press tab it
automatically generates that code I
press tab again it generates the event
handler method as well okay so let's
make this protected and look at this
this even handler is actually I mean
this delegate is actually used to map
this function to map to this function so
whenever this date selected in even
happens this delegate gets in work and
that delegate is pointing to this
function so this function gets invoked
and date selected even happens that's it
so what do we want to do right now we
want to let's say print the selected
date so response dot write I am going to
say selected date is equal to whatever
did the user has selected how do I get
that selected date using this object
that's coming into this even handler
method so I simply say e dot selected
date which is nothing but date time but
I want to convert that to a short date
string and print that so let me run this
now
so we are actually handling the event
associating the event handler to the
event of the code-behind file I come
here selected it look at that selected
date is that okay so we have seen how to
do you know hook up the event to the
event handler in the code-behind file
let's quickly do that I mean see how to
do that in the HTML all you have to do
is within HTML in this calendar user
control on date selected that's when we
want to call this particular function
that's it
so now within the code-behind file I
don't have the delegate declaration
there so when I press in control f5 with
an HTML we have done the Association so
now when I run the project I should
still be able to you know select the
date and that even should be handle look
at that it's being handled okay so this
is a quick refresher for events and
delegates in c-sharp if you want a
detailed explanation of you know all
these steps we have spoken about that in
the previous two sessions please watch
those two video sessions in the next
video we'll discuss about loading user
controls dynamically now in this video
if you look at this on this waveform at
design time I have the control here I
have an ID for the control here okay but
then if I have to load this dynamically
at runtime how do we do that we're going
to talk about that in the next video
session on this slide you can find
resources for asp.net c-sharp and sequel
server interview questions that's it for
today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>