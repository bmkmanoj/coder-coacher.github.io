<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JavaScript to select all checkboxes in GridView | Coder Coacher - Coaching Coders</title><meta content="JavaScript to select all checkboxes in GridView - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JavaScript to select all checkboxes in GridView</b></h2><h5 class="post__date">2015-03-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AlqlEb5Y334" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part three of JavaScript with
asp.net tutorial in this video we'll
discuss how to implement select all
checkbox in an asp.net grid view control
here is what we want to achieve if the
checkbox in the header is checked then
all the check boxes in the grid view
should also be checked if we uncheck the
check box in the header then all the
check boxes in the grid view should also
be unchecked and when we click this
delete selected link button then all the
rules that have the check boxes checked
should be deleted so let's see how to
implement this we will be continuing
with the example that we worked with in
part two so please watch part two before
proceeding so the first step is to add
this new column which is going to
contain our checkbox controls so we are
going to add a template field to the
grid view control so let's flip to
visual studio so let's go and add a
template field and to do that from the
grid view tasks pane click on edit
columns link and then select template
field from available fields section and
then click Add so this is going to add
the template field to the end of the
grid view control but we want that to be
present as the first column within the
grid view control so select that
template field and then click on this
arrow button which is going to move it
to the top and then click OK so we have
added the template field to the grid we
control but then since we did not
specify you know item template and
header template we don't have anything
displayed within the grid view control
look at that we have a template field
added but then nothing is displayed
because we don't have an item template
specified now we can specify what we
want to have within the item template
either using the source mode or using
the designer let's use the designer and
then click this link edit templates and
we have to specify the item template and
header template so within the item
template let's have a check box control
so within the item template we have the
check box now let's go ahead and specify
header template and even within the
header template we want to check box
control
but let's change the ID of the checkbox
within the header control to checkbox
select all checkbox checkbox select all
and now let's click and template
anything so look at that we have now got
our checkboxes both within the header
and the data rows as well so within the
source mode if we look at the template
field we have a header template with a
checkbox and an item template with a
checkbox now the next step is to
implement the required JavaScript
functions so basically we want to
JavaScript functions the first
JavaScript function you know is going to
check all the child roles when you know
the checkbox in the header is checked if
we uncheck the header checkbox then all
the childhood also be unchecked so let's
write a function for that first so let's
flip this waveform to the source mode
and then let's include a section for our
script script type equals text slash
JavaScript language equals JavaScript
and let's write a function let's name
this header checkbox click
and to this function we are going to
pass they had a checkbox as a parameter
now let's create a variable let's name
this grid-view
equals document dot get element by ID
and the ID of the gridview control is
grid view 1 so let's copy the ID
so we have the gridview control now
let's loop through each row each data
row within the grid we control so for
where I is equal to 1 I less than grid
view dot rows dot length I plus plus
grid-view dot Rosso Phi so let's loop
through each row within the grid view so
rows of Phi dot columns of 0 now where
is the checkbox present within the grid
we control the checkbox is actually
present within the first cell right so
it's actually dot cells of 0.8 elements
by tag name and when we run this page
you know the checkbox control that we
have within the first template field you
know these check boxes will be rendered
as input controls so we are going to get
a reference of that checkbox control by
using this method get elements by tag
name so in every row what are the first
cell and get you know the element the
checkbox element by tag name and the tag
name is going to be input now this get
elements by tag name method this is
actually going to return a collection of
all the input elements but we know that
within the first cell we are going to
have only one input element which is our
check box so we want to get that one so
I'm going to index that with zero
basically specifying that we want to get
the first item and then dot checked
equals and to this function we are
passing we had a checkbox is a parameter
so whatever is the status of the header
check box and all apply the same status
to all the check boxes in the child rows
of the grid view control that's what
this statement actually means okay so
pretty straightforward code here now
let's go ahead and associate this header
check box click function with the click
event of the check box that we have in
the header template so here is the
template field within the header
template we have checkbox select all so
on click
equals our function and to this function
we need to pass a reference of the head
a checkbox so we are going to use this
keyword all right so this let's go ahead
and run this and see if it's going to
work as expected so when we select this
it should select all the checkboxes look
at that and if I unselect that all the
check boxes are unselected okay so let's
check this but one problem now is let's
say for example if I uncheck one of the
child rows look at that
you know the checkbox within the header
is not unchecked we want that to be
unchecked because not all the rules are
selected right now similarly if we you
know select one our you know one by one
row then as soon as we select the last
uncheck checkbox the check box within
the header should be checked okay so
let's see how to implement that so all
this is driven by checking or unchecking
the child row checkbox okay so we need
another JavaScript function for that so
let's go to and include that actually
let's make a copy of this function and
let's name this change the check box
click we are going to pass a check box
again in this case the check box
reference is going to be the child the
check box so we need the grid read
controls let's leave it there we need
another variable here let's name this at
least one checkbox unchecked and I'm
going to set that to false we are going
to assume all the check boxes all the
child check boxes are checked and then
we are again going to loop through each
row within the grid we control only the
data rows that's why we are starting at
one and then f3 do dot row so Phi dot
cells of zero dog get elements by tag
name you know this is going to remain as
it is if that is equal to false that
means you know one of the check ball
is unchecked if that's the case then set
this variable to true at least one
checkbox unchecked true and then we can
break out of the loop because we know
that at least one checkbox is unchecked
if at least one checkbox is unchecked
then we want to uncheck the headed text
bar our checkbox if none of them are
checked then we want to if none of them
are unchecked that means all of them are
checked in that case we want to check
they had a checkbox okay
so let's copy this so let grab the
checkbox within the header so the header
checkbox is present in row 0 so rows of
0.0 get element by tag name so this is
going to return as the header checkbox
and the check the status of that header
checkbox is going to be equal to not
whatever the value that is present
within this variable so if at least one
checkbox is unchecked then this value
will be true if at least one checkbox is
unchecked then we want to uncheck the
header checkbox so since this variable
contains true true of negation that's
going to be false checked will be false
of the head a checkbox that's why we're
using not here so now the next step is
to associate this javascript function
with the child checkbox so let's go
ahead and associate this with on click
event of the chain in the checkbox
control and again we need to pass it
reference to that all right so let's go
to and run this now look at this select
all all checkboxes are selected and
uncheck all of them are unchecked now
look at this well as soon as I enter one
of the rows look at the head a checkbox
is unchecked now I keep on checking one
by one and notice that the moment this
is the last row that has the checkbox on
checked so once we check that checkbox
look at that the header checkbox is
automatically checked okay now what else
we want to do is we want to have a link
button here within the header and that
link button should say delete selected
and when we click that link button we
want to delete all the selected rows so
let's see how to implement that now so
the first thing that we need to do is we
need delete selected link button within
the header so let's go and add that so
here we associated those JavaScript
functions with the on click events of
the respective checkbox controls now
let's go ahead and include a delete
selected link button and we already have
a template field for implementing this
delete link button so if we flipped it
this to the source mode the second
column within the grid view control it
already has a template field and the
item template is a link button and
notice that the text of the link button
says delete and that's how we got this
delete column and in the header template
we want a link button which says delete
selected so all we are going to do is we
are going to include a header template
here within the second template field
and then I'm going to make a copy of
this link button okay now the first
thing I'm going to do is I'm going to
delete this command name button and then
I'm going to change the text to delete
selected and let's change the ID to lb
delete selected okay and let's associate
click event on click so this is the
server side click event on click equals
lb delete selected underscore click so
let's create this server-side function
even handle a function so let's flip
this to the core and
code behind file let's actually make a
copy of this page load event and let's
change the name of the event handler
method to lb delete selected click OK so
this is the silverside function which
will be called when we click that delete
selected link button ok so with this if
we go ahead and run this
we should have delete selected link
button now at the moment when we click
that nothing is going to happen because
we have to write code to delete all the
selected rows from the grid we control
okay so we need you know a server-side
function which can do that so let's flip
to the code-behind file we need some ato
dotnet namespaces so let's go ahead and
bring them in we need system dot data we
need system dot theta dot sequel client
and we need system dot configuration and
we also need system dot text all right
so first I'm going to implement a
private function here private void and
I'm going to call this delete and to
this function we are going to pass the
IDS of the employees that we want to
delete and I'm going to pass that as a
comma separated list of ID's so I'm
going to use string datatype and ID's so
the first thing is we need to retrieve
the connection string from web config
file so configuration manager dot
connection strings off so let's retrieve
the connection string from web config
file and if you look at web config file
the name of the connection string is
sample DB connection string so let's
copy that dot connection string let's
create sequel connection object Korn
equals new sequel connection let's pass
the connection string as the parameter
and the next step is to create signal
command CMD equals new sequel command
now we need a stored procedure which is
going to delete the employees by ID so
let's go ahead and create that stored
procedure first so
within our secret server management
studio create procedure SP delete
employees and to this let's pass IDs of
the employees that we want to delete and
let's make the data type to envy care of
1000 as big in and and we are going to
make use of dynamic sequel here because
the IDs that are coming in to the stored
procedure is a comma separated list of
string its account it's a string which
contains comma separated list of ID's so
execute delete from employees where ID
in so we need to specify the comma
separated list of ID's and those are
present within this parameter plus close
the bracket all right so let's go ahead
and execute this true procedure so this
is the stored procedure that we want to
execute so let's copy the name of it and
specify that here and then we want to
use the sequel connection object that we
have just created and this is a stored
procedure so we have to tell that to the
command object so command or command
type equals command type dot store
procedure and this stored procedure has
got a parameter so we need to supply a
value for that parameter so let's go and
create a sequel parameter object let's
name that parameter equals new sequel
parameter and the name of the parameter
is at ID so let's copy that and the
value for that is going to be present in
this parameter and let's associate this
parameter object with the command object
so command or parameters dot add the
parameter object
and let's open the connection execute
the command since it's say delete let's
use command execute non query and close
the connection okay so now when we click
the delete button this is the even
handler that you know that will be
called so this should call this delete
method but before we can call that
delete method we have to capture the
selected ids from the grid view control
so whatever ids I mean whatever rows
that are selected we need to retrieve
the IDS of those selected rows so let's
loop through each row within the grid
view control
so for each grid view row let's call it
gr n grid view one so the ID of the
control is grid view
we do 1 dot rows now to retrieve the IDs
okay we have to convert this ID column
to a template field as well so it's
little bit so it will be easier to find
the control and then retrieve the value
from that control okay so let's go ahead
and convert the ID column to a template
field click Edit columns and then ID
column at the moment if you look at this
ID column
it's a bound feel notice that here we
have it and the ID column is a bound
field let's go and convert that to a
template field so select ID column and
click on this link convert this field
into a template field and now if we flip
this to the source mode ID field should
now be a template fear and the reason we
have converted it to a template field is
because if it's a template field then
you can get a reference of this label
control by using the ID of that label
control and then it will be easier to
retrieve the ID value that is present in
that respective label control okay
right so within the code-behind file gr
dot find control and the control that we
want to find is this label control and
the ID of the label control within the
template field is label 1 so let's copy
label 1 and this fine control will
return that as a generic control but we
know that it's a label control so I'm
going to typecast that to be of label
control and then the text property
should give us the value the ID value ok
now let's go ahead and create a variable
here actually let's use a stringbuilder
object stringbuilder
SB equals new string builder
and to that we want to append a speed
OTT append d text and then we want to
comma separated list so let's up in the
comma as well okay now actually let's
pass that here so along with the text we
want a comma alright now we want to do
this only for the rows where we have
this checkbox checked so we need to get
a reference of that checkbox and see if
the checkbox is actually checked so now
here gr dot fine control and within the
data rows what is the ID of the checkbox
control the ID of the checkbox
controllers checkbox one so let's copy
that so gr not find control checkbox one
that is going to return a reference to
the checkbox control so let's type catch
that to be of type checkbox and let's
create a variable here let's name this
checkbox let's call it C B equals what a
checkbox we have found if CB dot checked
okay
only then get the ID otherwise we don't
want to delete those rows so we wouldn't
bother getting the ID of the rows where
the check box is not checked okay so
once it has gone through the all the
rows within the gridview control we are
going to get a comma separated list of
ID's that are actually checked but then
if you look at this code right here
notice that we'll end up with an extra
comma at the end of the last ID so we
need to remove that comma so SB dot
remove what do we want to remove the
last comma s P dot how are we going to
get the last and if you
this remove method obviously it will
need the start index way we want to
start removing the characters and to get
the start index I'm going to use the
last index of method so SP dot to string
dot last index off comma and then how
many characters we want to remove we
want to remove only one character okay
and then let's call the delete method
which we have written previously and
pass the IDS to it and that's going to
delete the selected rows so delete
method and the IDS are present within
the stringbuilder objects so let's
convert that to a string and then once
we have deleted let's call data bind
method on the grid we control alright so
let's go ahead and run the page and see
if it works the Veda X the baby expected
to work right so select all let's
deselect in or two rows one and two we D
selected we have three rows selected so
when we click delete selected it should
delete those three rows look at that
those three rows are deleted let's
quickly check that in the database look
at that we only have two rows now if we
go ahead and select all two of them
and click delete selected all of them
should be deleted now let's come back
check notice that all rows are deleted
so here are the two server-side
functions we have written just now and
here is the delete stored procedure
thank you for listening and have a great
day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>