<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Implementing PUT method in ASP NET Web API | Coder Coacher - Coaching Coders</title><meta content="Implementing PUT method in ASP NET Web API - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Implementing PUT method in ASP NET Web API</b></h2><h5 class="post__date">2016-09-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gkYt-d72-Tk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 9 of asp.net Web API
tutorial in this video we'll discuss
implementing put method in asp.net Web
API so let's flip to Visual Studio now
within our employees controller let's
include a method for put this method is
going to be public written type wired
and the name of the method is put this
method is going to have two input
parameters the ID of the employee whose
details we want to update and the
employee object with which we want to
update we will also have to tell where
the data for this employee object is
coming from it's going to come from the
request body so let's decorate the
employee parameter with from body
attribute and the first thing that we
want to do with an output method is
create an instance of our employee B DB
entity's class let's name this entities
and then we want to find the employee
whose details we want to update using
the ID that is coming into this method
as a parameter let's create a variable
first let's call this entity equals
entities dot employees dot first our
default each that a dot ID equals the ID
that is coming into the method as a
parameter once we have the employee we
have to update the properties of this
entity with the properties of this
employee object so entity dot first-name
equals employee dot first-name similarly
we will have to populate the rest of the
properties so lastname equals last name
gender equals gender and salary equals
salary and finally we want to call Save
Changes method so entities dot Save
Changes and now let's give our solution
a build build succeeded now let's flip
to fiddler and issue put request the
first thing that you're going to do is
change the HTTP verb to put and we want
to update employee with ID equals one
and with no request body we'll have to
include the data with which we want to
update
so basically we're changing first name
to mark one last name to Hastings one
gender to female and salary 200 thousand
here we are sending JSON formatted data
we will have to tell that to the server
we tell that by using content type
header the value for this is going to be
application for slash Jason let's
execute this request completed now let's
quickly check if the record is updated
notice employee record with ID equals
one is updated so this code is working
as expected but there are two problems
with this first because the return type
of this method is wired look at the
status code that we are getting back we
are getting back to zero for no content
when an update is successful we should
be returning status code 200 okay which
indicates to the user that the update is
successful that's our first problem the
second problem comes when we try to
update an employee whose ID does not
exist let's look at that in action let's
try to update employee with ID equals 1
0 1 we don't have such an employee let's
execute this look at the status code
that we are getting back we are getting
back 500 internal server error we are
getting this status code because of an
exception and if you want to know the
type of exception that has occurred
click on the JSON tab and if you are
getting here a null reference exception
we are getting this null reference
exception because of this line of code
right here so here we are trying to find
an employee with ID equals 1 0 1 we
don't have such an employee so entity is
going to be now and on a null object we
are trying to retrieve first name
property value which obviously is going
to throw null reference exception and
because of this null reference exception
we are getting that 500 internal server
error status code when an employee is
not found we should be returning status
code for 0 4 which basically tells the
user that the employee that we are
trying to update does not exist so let's
see how to fix both of these problems
the first thing that I am going to do
here is change the return type of this
method to HTTP response message and
here let's check if the entity is now if
the entity is now we want to return HTTP
status code four zero four not found so
return request dot create error response
HTTP status code not found and the
message is going to be employee with ID
equals whatever is the ID of the
employee so we have the ID coming into
the method as parameter so basically the
message here is going to be not found to
update all right on the other hand if
the entity is not now
then we want to go ahead and update the
employee details so which is what this
piece of code right here is going to do
now once the update is successful we
want to return 200 okay so return
request or create response HTTP status
code okay and the update identity let's
wrap all of this code inside a try block
if at all if there is any exception
executing the code that we have in the
try block you want to handle that so
let's catch the exception and here
let's return check this dot create error
response HTTP status code dot bad
request and also the exception all right
so let's build up solution build
succeeded now let's flip to fiddler and
issue another post request let's try to
update employee whose ID does not exist
notice now we are getting status code
four zero four not found and if you look
at the message it says employee with ID
equals one zero one not found to update
now let's see what happens if we try to
update an employee whose idea guests
let's update employee with ID equals to
click was completed let's quickly check
if that record is updated notice
employee record with ID equals two is
updated and now if we look at the status
code it's two hundred okay
here is the code for the put method
thank you for listening and have a great
day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>