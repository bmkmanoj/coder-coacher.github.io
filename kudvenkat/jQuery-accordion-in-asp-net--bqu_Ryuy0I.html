<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery accordion in asp net | Coder Coacher - Coaching Coders</title><meta content="jQuery accordion in asp net - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery accordion in asp net</b></h2><h5 class="post__date">2015-06-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-bqu_Ryuy0I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 74 of jQuery tutorial in
this video we'll discuss how to
implement an accordion panel in an
asp.net webforms
application using jQuery first let's
understand what is an accordion
accordion is great for displaying
collapsible content panels for
presenting information in a limited
amount of space so here we have an
example so we have some data like this
had a 1 and it has got some content like
content panel 1 similarly headed to has
got some data and header 3 has got some
data now if we are not using accordion
then on a web page this is how it will
be present but if we use accordion look
at that we have this header one panel
expanded so we see the content
associated with header 1 now when I
click on header 2 you know the content
panel of header 1 will be hidden and the
content panel of header 2 becomes
visible so this accordion is great for
displaying collapsible of content panels
for presenting information in a limited
amount of space now to produce this
accordion we just need you know these
two simple steps the first is the HTML
for the accordion panel so here notice
that we have a development so this is
called the container div so this is the
accordion container and notice that at
the moment we have given it an idea of
accordion you can give it any meaningful
ID that you want and for the purpose of
this demo have set the width of this
accordion to 400 pixels and what we have
inside this accordion container is pairs
of headers and content panels so we have
a header h3 had a 1 and associated to
that is a Content panel present inside
the development ok so similarly we have
another header and another development
and another header and another
development so that's the HTML and as
far as jQuery code is concerned we just
need one line so find the container
you know accordion so here the container
accordion is this development with ID
accordion so find that development and
then call the accordion function on it
that's all there to it
and this HTML and this jQuery code is
going to produce this accordion panel so
I have this exact HTML and this jQuery
code already typed here so within our
jQuery ready function we are calling the
accordion function on this container div
okay and here the HTML is the same as
what we have seen on the slide and when
we run this notice that they've got an
accordion panel here at the moment had a
one content is visible when I click on
header to look at that
you know header 2 content becomes
visible and header 1 content is hidden
okay so yeah you know the content is
actually present at design time right
but in most of the real-time
applications the data will be present in
the database table so basically what we
want to do is retrieve data from a
database table and then display that in
an accordion in an asp.net webforms
application so let's see how to achieve
this so when we click on the country
name so country name here is going to
become the header in the accordion and
the country description will be the
content panel so when I click on a
country name we want to display the
country description right so let's see
how to achieve this the first step here
is to create this database table and
populate it which I have already done
and here is the sequel script to create
and populate it with test data
I've already executed the script the
next step is to create a stored
procedure which is going to retrieve the
data from that table and the stored
procedure is straightforward all we have
is a select query so when we execute
this we should get the data from that
TBL countries table all right now let's
flip to visual studio so the first step
here is to add a connection string to
our database which I have already done
so this connection string is pointing to
our sample dB
the next step is to add a class file to
this project and I'm going to call this
country and this class is going to have
three properties ID name and country
description so these three properties
correspond to the columns in the
database table TBL countries okay all of
them are out
implemented properties the next step is
to add an asp.net web service to this
project so let's go ahead and add that
so we want to add an ASM X web service
and let's call this country service and
if we want to write some ad or dotnet
code here to retrieve data from the
database table so we need system dot
data we need system dot data dot sequel
client and we need system dot
configuration and we want this function
you know to be called from script so I'm
going to uncomment this attribute and
let's go ahead and change the name of
this function let's call this get
countries and this function is actually
going to return list of country objects
okay and here we're going to write some
media dotnet code retrieve data from the
database table in the interest of time I
have already typed the required ad
roadman code so let's go ahead and copy
that from this notepad and paste it yeah
okay so what are we doing here we are
creating a list of country object here
and we are reading the connection string
from a web config file creating a sequel
connection object using that connection
string and then we are creating a sequel
command object we want this command
object to execute the stored procedure
SP get countries which is going to
return all of the countries from the
database table since it's a stored
procedure we have to tell that to the
command object then we are opening the
connection we are executing the command
we are looping through each row and
populating the ID name and country
description properties of the country
object and adding that country object to
the list that we have created here and
after we have done looping through each
row we are returning the list so dots of
a web service so let's go ahead and
build a solution
and test our web service so this web
service should return the list of all
countries so when we click on get
countries and when we click on invoke
liquor that we get all countries you
know the country ID name and description
all right now let's go ahead and call
this web service from our web form so on
this platform one dot aspx I'm going to
remove all of this you know static
content from here so at the moment I
only have the container def so we have
given it an idea of accordion and let's
set the width of this to 600 pixels and
within our jQuery ready function I am
going to issue an ajax call so dollar
dot ajax and let's configure our ajax
request so the URL that we want to call
is country service dot a SMX and this
service has got a function and the name
of the function is get country so that's
what we want to call so that's the URL
to which we want to issue a request we
want to issue a post request so I'm
going to specify the method as post and
we want to send JSON string to the
server so I'm going to specify content
type as application for slash Jason and
let's also specify the care set equals
UT f dash 8 and the type of data that we
are expecting back from the server is
going to be JSON and when the request
successfully completes we want to
associate a callback function so this
function is going to receive the data
that the web service is going to return
ok so what is web server is going to
return the web service is going to
return the list of all countries in a
country object and that country object
has got ID name and country description
now we want to loop through each of the
country that the JSON object contains so
I'm actually going to use the jQuery
each function here before that I'm going
to create a variable let's call this
HTML string and I'm going to initialize
that to an empty string and then let's
go ahead and wrap the data object that
we are receiving into this function and
to access the data we have to use this D
property right so that's what is going
to contain the data that the web service
returns and on that I'm going to use the
jQuery each function and to this
function let's specify the index and the
country itself that we are currently
looping through okay so what I'm going
to do here is create the HTML string
dynamically so what should an accordion
contain the accordion should contain you
know the header and content panel
elements so in our example we were using
the h3 element you know to specify the
header and the div element to specify a
content panel so I'm going to build
those h3 elements and developments
dynamically as we are looping through
each country so HTML string plus equals
I want to create an h3 element and to
that we want to append the name of the
country so we have the country object
here so country dot name is the property
and let's close the h3 element and we
want to open a development and to that
we want to append country dot and what
is the name of the country description
property so the property itself is
country description so let's copy that
to avoid any typos and finally what do
we want to do we want to close that
development
all right so as we loop through each
country what are we going to get we are
going to get a pairs of h3 and
developments and what do we want to do
with this HTML string you know we want
to set that as the inner HTML for this
container div right and to do that I'm
going to find this development by ID so
the ID of the development is accordion
actually we already have that here so
I'm going to move this line into the
success function into the success
callback function so now before we call
the accordion function on this I am
going to call the HTML function and pass
the HTML string to it okay so this
string we are passing it to the HTML
function and on that I'm going to call
the accordion function so what is this
going to do so you know when we call the
HTML function it's going to add all
these pairs of h3 and developments you
know as child elements for this
container div and on that we are calling
the accordion function so we should get
you know this accordion panel let's see
if that works so let's go ahead and save
the changes let's run the page and look
at this we get now we have India and at
the moment we are seeing India content
when I click on United States look at
that we get United States
similarly United Kingdom and Canada now
so here is the web service code that we
have written and here is the HTML and
jQuery code now this accordion widget
has got a lot of options methods and
events to customize it you know
according to your requirement for the
complete list please visit this URL I
found these two particular options very
useful this collapsible so what is this
option now by default at least one
section need to be active if you want to
collapse all the sections including the
one that is active then set this option
to true so if you notice
look at this when we load this page look
at that the first panel is active right
when I click on this again look at that
it doesn't become invisible
I cannot collapse that okay but when I
click on the other panel which is not
active you know that becomes active and
it closes the other one but then if I
click on that again you know it doesn't
close so at any given point in time at
least one panel need to be active if you
want to close that as well in the sense
if you want all these panels to be you
know inactive in the sense closed then
you can use this collapsible option set
that to true so how do we specify the
options use a JavaScript object like
this just like you know Ajax function
and then we can specify our option so
collapsible and let's set that to true
okay so let's save the changes let's go
ahead and reload this page and look at
this now when I click on India
it gets collapsed okay so that's the use
of that option active now this option is
interesting this option can be set to
either a boolean value or an integer so
you can set it to either true or false
or you can assign integers like 0 1 &amp;amp; 2
so if you set it to false what is this
going to do it's going to collapse all
panels now let me explain what I mean
look at this when the form initially
loads you know the first panel you know
its active by default now let's say our
requirement is such that when the page
loads we want all the panels to be
collapsed by default if that's what what
you want then set this active option to
false so let's go and do that so I'm
going to set active to false let's save
the changes let's reload this page and
look at this on the initial load
everything is collapsed right you can
also set it to an integer so what is it
going to do that integer value will make
the transporting panel active but the
important thing to keep in mind here is
that
panels use zero based index so
you know first panel will have an index
of zero second one will have an index of
one so it's zero index based so if you
want for example let's say the second
panel to be active then you will have to
set it to one okay so let's save the
changes let's go ahead and reload this
and look at this United States is active
thank you for listening and have a great
day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>