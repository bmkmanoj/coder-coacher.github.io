<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Creating controls dynamically using asp.net panel control   Part 43 | Coder Coacher - Coaching Coders</title><meta content="Creating controls dynamically using asp.net panel control   Part 43 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Creating controls dynamically using asp.net panel control   Part 43</b></h2><h5 class="post__date">2012-11-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oxyEr_w9nQo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Oh welcome to palladium technologies I
am venket this is part 43 of asp.net
video series in this session we'll
discuss about creating controls
dynamically using the asp.net panel
control the panel control is used as a
container for other controls panel
control is very handy when we want to
group controls and then show or hide all
the controls in that group as one unit
we have seen how to do this in part 42
of this video series parent control is
also very useful when adding controls to
the webform dynamically we'll see how to
do that
in this video session if you look at the
image that we have here this is
basically asking the user to select the
control types that he wants to
dynamically generate and it's giving the
user three choices label text box button
he can select one or all of them in this
case the user has selected the text box
and button controls and then we have
another text box here which is capturing
harmony of these controls that he want
to generate in this case the user has
entered three and then when he clicks
generate controls button you see that
three text box controls are generated
and three button controls are generated
and added to the page let's see how to
do that obviously to do this the first
thing we have to do is to generate this
UI that asked the user to select the
control types and how many of them and a
button control just to save some time in
typing I have that HTML already pasted
let's flip to visual studio I have a
very simple asp.net web application
project here on this web form at the
minute I don't have much of code it's
just a brand new web form with a div tag
so let's copy and paste the HTML there
and if you look at this HTML let's flip
to the design mode it's pretty
straightforward we have this text you
know asking the user the control type as
you can see this is a text which is
present inside the TD which in turn is
present in a TR and that's present in
the table okay so that's the control
type and then we have this checkbox list
basically showing the user three choices
and we know that checkbox list is a
collection of list item objects and we
have these three list items
and then the next thing is how many
texts and that is present in the HTML in
another PD and then finally a text box
for the user to type in the number of
controls you want to generate and a
button control okay
so if you look at that we have got five
TDs one two three four and five
all of these TDS are present within the
same TR okay so the next thing that we
want to do is to have you know this
little text label controls and then a
placeholder text box controls and then a
placeholder button controls and then a
placeholder okay so let's see have to do
that I'm going to make use of the same
table that we have so if you look at
this table it has got you know five TDs
so let's minimize that TR so I'm going
to have another TR within the same table
and then instead of having five TDs I'm
going to have one TD and set the call
span tag is equal to five which means
this TD is now going to span across the
five TDS that are already present okay
so what I want to do here is to use a h3
tag and then I want to display this
message label controls so let's type
their label controls and then I want
another TD and in that TD I'm going to
place a panel control so here inside
this TD which is again going to span the
five TDs I'm going to use a panel
control and I'm going to call this panel
control panel labels because this is the
control I mean this panel is going to
act as a placeholder for me right now
when I dynamically generate the label
controls I'm going to add them to this
panel control and along the same lines
we need something like this for the
textbox controls and button controls so
let me copy and paste there and I'm
going to call this so this is going to
be text box controls and then I'm going
to give this panel a meaningful name
panel
textboxes and i'm going to do the same
thing for button sets I'm going to call
this button controls and this panel
panel buttons okay so if I flip to the
design mode you know the design is much
like what it is in the presentation here
okay
all that's left out right now is to
generate the even handler for this
button click event and then write the
code to dynamically generate the
controls so the what's the first thing
that we have to do before we generate
the controls the first thing is okay how
many controls does the user want and
where is that present that's present in
this textbox and if you look at the ID
of the textbox its txt controls count
so first let's retrieve the number of
controls you want so I'm going to store
that in a variable called count and
where is that coming from
txt controls count two textbox dot txt
will risk will retrieve the number
that's entered by the user in a string
format but we want that in integer
format so let's use the convert class
and convert that to integer so convert
to and 32 okay so we have got how many
controls the user 1 the next thing
that's left out is to loop through this
checkbox list identify which of the
checkboxes the user has checked retrieve
that and build you know the number of
controls he want and add them to the
appropriate panel control so let's loop
through the check box list and to do
that I can use the for each loop so for
each list item Li n if you look at this
where is this I mean what's the ID of
this check box list what are the
properties check box list control types
so
check box lists control type dot items
so we want to loop through each list
item and then if that list item is
selected then we know that the user
wants to generate you know that control
but then we have to figure out okay if
the list item is selected which list
item did the user select how will we
know that based on the list items value
if you look at this for the label
control the value is label the textbox
it's textbox and for button it's button
so what I'm going to do is if Ally dot
value so the value of the list item if
that is going to be label then we know
that the user wants to generate label
controls so all you have to do right now
is to create an instance of the label
class because keep in mind all the
controls in asp.net are nothing but
classes behind the scenes label control
is a label class button control is a
button plus text box is a text box class
so all of them are classes in our
building these controls is nothing but
creating an instance of those classes
and adding them to the webform so I'm
going to create an instance of this
label control call the instance as LBL
so new label and then let's give this
label a text so that it's visible on the
V UI so label the text is equal to let's
call this label and then give it a
number so we have this okay another
important thing that we need to do is
okay the user wants if the user has
selected the list item if the value is
label then how many labels does he want
to generate that's more important so
what we need to do before we do anything
let's comment this line we need to loop
through
for each end I started one I less than
or equal to count so that is the number
of controls that the user want whatever
here has entered in the textbox I plus
plus
oh that's a for-loop not for it so for
int I is equal to 1 I less than or equal
to count I plus plus what we need to do
we need to create a label control and
then we are setting the text for the
label control okay
so first time let's say if the user has
entered 2 so it will be you know I is
equal to 1 I less than or equal to 2
that's true it will come inside create
this label control and set the text to
label dash 1 and then what we need to do
if you remember we have added a panel
control panel labels so to this panel we
want to add the label control so the
next question is how do we do that so
panel labels dot this panel control has
got a controls collection property so to
the controls collection property you can
add as many controls as you want it
could be labeled button textbox whatever
so panel labels that controls dot add
and if you look at this add method look
at the parameter that it is expecting
it's expecting a parameter of type
control you know class now if you look
at this label control if I right click
on that and say go to definition its
inheriting from web control if I right
click on that and say go to definition
web control is inheriting from control
class which means indirectly this label
control is inheriting from the control
class so I can add the label control as
an inherited type to this method so the
to add a control to the controls
collection property you know you use the
add method and pass that object and
that's all ok now if you look at this
add method it is expecting an object of
type control in asp.net all the standard
asp.net controls directly or indirectly
inherit from this control class so you
can add them to the controls collection
as the inherited type it can be button
it can be checkbox list it can be radio
button list or a text box any standard
asp.net control ok now we have done the
logic for the label control we need to
do the same
for the textbox and the button control
so let me copy that code and paste it
here so answer if Ally dot value if it
is a textbox we know that the value in
the checkbox list is going to be textbox
so let's copy that and paste it in this
condition so if it is textbox what we
need to do we need to create an instance
of the textbox control and let's give
this textbox instance a meaningful name
txt box is equal to new textbox and what
we need to do is rename this to txt box
dot txt is equal to let's call this
textbox and then I dot to string and we
need to add the text box to panel text
boxes panel and again it has controls
collection property and if you look at
that it's expecting a control object but
we have text box which inherits from the
control class so I can add that to the
add method and finally else if it's not
if the selected item is not label and if
it's not textbox then it has to be you
know the button control so what we need
to do the same thing copy this code and
paste it here change the object names
okay
so this is going to be button give it a
meaningful name and this is going to be
button and button dot text is equal to
let's call this button and we need to
add that to panel buttons control Add
button that's it we are done so let's
run this and see if it works as expected
so we can select the control types that
we want to generate so let's say I want
to generate all the three control types
and I want to generate maybe five each
of them and as you can see label one
label two to label five we have five
text boxes
and fire button controls now to
dynamically generate and place them in
the right spots are the panel controls
only choice available no there are
several other options as well I can even
do this let's see what other options we
have
let's first comment this panel control
so panel labels panel text boxes and
panel buttons okay now I can also add
this to this dot page dot controls
property the page class also has the
controls collection and I can add the
label control to that as well and I can
do the same thing with text boxes this
is going to be txt box and the button
controls but then this will edit out and
I will explain you why just in a bit
okay so we are using the page class and
we are trying to add the controls to the
page and let's see what happens when I
try to run this ok the webform loads now
and we can select the control types that
we want to generate and let's say I want
to generate three of them and when I
click generate controls look at this I
get an error it says control C dl05 of
type text box must be placed inside a
form tag with run at is equal to server
what does this message mean this means
that when it is trying to create these
text box controls and trying to add them
it's trying to add them you know outside
of the form tag you know we have this
form tag which is called line it is
equal to server so anytime we add these
server controls they have to be added
inside you know this form tag for some
reason when I say this dot page dot
control start add what's happening is
it's trying to add you know controls
outside of the form tag so that's what
is the error message that you can see
here you know control of type text box
must be placed inside a form tag with
run at is equal so we get that error to
get rid of that error what we can do to
make sure that we add the controls you
know inside that form tag you can add
to form itself form one is the ID
Lynnette is equal to silver so I can add
the controls to this form one so what we
basically can do instead of saying this
start page dot controls I can say this
dot form 1 dot control so let's copy
that and replace all the pages with form
1 so this will ensure that the controls
are added to the form ok so now let's
run this and see what's going to happen
alright so I want to generate label text
boxes and button controls and three of
them and when I click generate control
to look at this ok I get three labels
three text boxes and three button
controls but look at what happened it
handed them at the bottom of the page
and if I right-click on that view page
source then see that they are added here
just before the form tag is closed they
are added here ok so there are I mean
definitely you can add controls but then
if you want to put them in the right
spot one of the available choices is to
use the panel control but is that the
only choice available now there are
other choices as well for example
instead of using the panel control if I
go to the webform so we have the panel
control here so instead of using the
panel control what I can do is look at
this I want the controls to be present
inside this TD so I can convert this TD
into a server-side control by giving it
an ID I'm going to call this ID is equal
to TD labels and then I'm going to give
that run at is equal to server so now
this is going to become a server-side
control and I can add controls to this
TD similarly for text boxes we can do
the same thing
give that TD an ID so ID is equal to
let's call this TD text boxes and give
it run at is equal to server attribute
and we will do the same thing for the
button controls as well so give this TD
an ID
and let's call this TD buttons and then
give it run at is equal to server okay
all that is left out right now is to add
the controls to that TD so I'm going to
comment this dot form dot controls dot
add instead of that I'm going to say TD
labels dot controls dot add and then we
can add the label control and I can do
the same thing for text boxes let's
comment that and then it's not TD labels
its TD text boxes dot controls dot add
it's going to be text box and finally
for the button controls so comment that
one and it's going to be TD buttons that
control start add and it's going to be
BTN okay now let's run this and see if
it works as expected
sure enough it's going to work as
expected it's going to add the controls
to the TD so let's say I want four of
them generate controls as expected it's
adding them to the PD and if we right
click view page source as you might
expect they are directly added within
the TD of the table so if you look at
this I have the TD labels and these are
added to the TD of labels and the TD is
closed here and the same thing happens
for the text boxes and buttons ok
another option that's available is to
use the placeholder control within
asp.net we have seen how to use TDS we
have seen how to use panel controls now
let's see how to use you know the basic
lay the placeholder controls let me
comment this panel control here and
instead of the panel control I'm going
to drag and drop the placeholder control
that I have in asp.net and give it a
meaningful name
it's placeholder so pH let's call labels
and I'm going to do the same thing for
text boxes so comment the text boxes
stuff
and I'm going to have this and let's
call this placeholder text boxes and
finally for the button controls so I'm
going to comment this one and have a
placeholder for buttons so let's call
this pH buttons that's all now on the
server side we can comment out this TD
and we can use pH if it is text boxes pH
text boxes that controls dot add we want
to add the text box control to that and
we want to do the same thing for the
label controls so let's comment that
that's going to be pH labels dot
controls dot add and it's going to be
the label control and finally for the
button control so comment the td1
pH buttons that controls dot add and
that's going to be BTN ok that's all
let's go ahead and run this project
select the control types that we want to
generate this time we are using the
placeholder control so label text box
button how many I want maybe five of
them generate controls and we get them
as expected and now we are actually
using the placeholder control so
obviously dynamically generate controls
and place them in the correct spots on
the webform we have several choices you
can use the TD's by converting them to
you know server-side controls by giving
an ID and run it is equal to server or
we can use panel controls or we can use
placeholder controls or if you want to
add controls to the end of the webform
we can add them directly to the form tag
form one dot control start add on this
slide you can find resources for asp.net
c-sharp and sequel server interview
questions that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>