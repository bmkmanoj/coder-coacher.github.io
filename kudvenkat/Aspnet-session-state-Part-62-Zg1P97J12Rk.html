<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Asp.net session state   Part 62 | Coder Coacher - Coaching Coders</title><meta content="Asp.net session state   Part 62 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Asp.net session state   Part 62</b></h2><h5 class="post__date">2012-11-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Zg1P97J12Rk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to presume technologies I am
venket this is part 62 of asp.net video
series in this session we'll discuss
about asp.net session state before
continuing with the session I strongly
recommend to watch parts 59 60 and 61 of
this video series in asp.net there are
different techniques to send data from
one waveform to another in the previous
sessions of this video series we have
discussed about cross page post back
context or handler object query strings
and cookies in this session we'll
discuss about session state variables
just like query strings session state
variables can also be used to send data
from one web form to another let's look
at an example let's flip to visual
studio I have an asp.net web application
project here with two web forms on
webform 1 I have two text box controls
where the user can enter their name and
email and once they click on this button
go to webform to user will be navigated
to waveform to tour aspx and on this
waveform we have two labeled controls
and these label controls will display
the name and email that we have entered
on this waveform one let's see how to do
that using session state variables I
double click this button control to
generate the event handler and retrieve
the name from the textbox
txt name and then I want to store this
within a session variable so to create a
session variable I use the session
object and then use a key I'm going to
use a key called name to store the name
into a session ok along the same lines
to store the email I am going to use a
key as email and email is present in a
text box called txt email okay so we
have stored the name and email in
session variables now we want to
redirect the user to their form to dot
aspx so response to or redirect let's
send the user to you know within the
root directory of the application I have
a web form called the form 2 dot aspx so
let's navigate the user to that platform
alright
so once the user lands on web form 2 dot
aspx the page load gets the page loaded
even gets executed on the page load
event we want to retrieve the name and
email from the session and display them
in the label
controls to display the name I have a
label called lvl name so the text of
this label control is equal to I need to
retrieve the name from the session
variable to retrieve the value I again
use the same key and look at this the
key name if you remember its name and
the important thing to note here is that
you know a session variable can be used
to store any type of object it can be
integer it can be string it can be
anything it can even be a complex object
like customer employee etc okay that's
why its return type is an object but we
know name is a string so it's safe to
convert that to string and to do that
I'm using the tostring method along the
same lines retrieve the email the key
the key for the email is email and I
want to display that in a label called
LBL email that's all we are done okay so
now let's see let me run this so on
webform 1 we are storing a name and
email into the session variables and on
the form we are retrieving that name and
email from the session and displaying
them let me enter the name as test and
email s email test click on go to
waveform 2 on the form 2 we are
displaying them okay so we have just
seen how to use session state variables
to send data from one waveform to
another but whenever we use session
state variable there are some important
points to keep in mind session state
variables are stored on the web server
by default and are kept for the lifetime
of the session so where are the session
state variable stored they are stored on
the web server memory and how long are
they stored on the web server memory
they are kept for the lifetime of a
session so how do we control the
lifetime of a session the lifetime of a
session is controlled by an attribute
called timeout that we set in the
session state element let's see how to
do that so every web application project
has a caught a configuration file called
web config file within web config under
configuration under system dot web
element we can have a session state
element and then session state has got a
mode attribute which is very important
and
in fact this is one of the very common
interview question as well we'll talk
about the different session state modes
in a later video session but for now
understand you know I'm going to use the
more SN proc and if we don't specify the
session state mode the default is in
proc meaning the session state variables
will be stored on the web server memory
ok and then so how long will these
sessions state variables be stored on
the web server memory you know at some
point they have to be destroyed
otherwise at some point of time you know
the web server will run out of memory so
what is the time limit when these
session variables will be destroyed that
is dependent on this attribute called
timeout again if I don't specify this
timeout attribute the default is 20
minutes but depending on our application
requirement we can configure that so I'm
going to set this to the default value
which is 20 minutes so this is
configurable here within our web dot a
config file ok the default session mode
is in props we have just seen that and
we'll discuss about the different
session state modes in a later video
session the lifetime of a session is
determined by the timeout value in web
dot config file the default is 20
minutes the timeout value can be
adjusted according to your application
requirements session state variables are
available across all pages but only for
a given single session let's understand
this point first session state variables
are available across all pages so what
do we mean by that if you remember on
webform 1 dot aspx we are storing the
name and email in these session state
variables now and we are retrieving the
values on webform 2 dot aspx now let's
say if I have webform 3 waveform for
waveform 5 or waveform 500 aspx on all
these you know waveforms these session
state variables are accessible you can
access them and display them okay but
then they are available only for a given
single session which means session
variables are like single user global
data now if this point is a little
confusing what we mean by a given single
session or session variables are like
single user global data don't worry we
are going to talk about those points in
detail in the
next session when we talk about
cookie-less sessions okay so let's go to
the next point now it's always a good
practice to check if a session state
variable is null before calling any of
its methods such as to string otherwise
we may run into run time null reference
exceptions let's understand what we mean
by this if you look at this application
as how it stands now on the on waveform
Toutatis px where we are reading the
session variable we are directly reading
it from the session now we know that
this session state elements has got a
time limit on them 20 minutes okay by
default now let's say if the twenty
minutes has passed and I am trying to
access this waveform dot aspx or you
know I haven't come in order to waveform
one dot aspx I am going directly to
waveform two dot aspx in which case the
session variable will be now and on null
object you are calling a two string
method so what's the result you get a
null reference exception so let me run
this directly and see what's going to
happen now look at that object reference
not set to an instance of object system
dot null reference exception and that
makes sense
because there's nothing in that session
variable you're calling the two string
method so to string on a null object
will cause null reference exception so
let's see how to get rid of this that's
why whenever you're trying to retrieve
something out of the session it is
always good to check if that session
variable is not null before kind of
doing any conversion so if session of
name is not equal to now only then try
to retrieve this and along the same
lines if session of email is not equal
to now only then try to retrieve email
out of the session convert that to
string and assign that to label so now
if I go to this platform directly I
wouldn't get any you know runtime
exception and that's because we're
actually checking if it's not null only
then try to execute this otherwise this
code will not be executed the labels
will be displayed empty all right
application performance can be improved
by disabling session state obviously
because
you know these session state variables
are going to consume the web server
memory
so obviously disabling session state can
improve the performance of your
application so if your application
doesn't require session state then
disable it disabling session state can
be done at two levels we can disable
that at a web forum level or if you want
to disable it for the entire application
we can do that at the application level
in web config file so if I want to
disable it at the web forum level in the
page directive of the webform in the
HTML source in the page directive I can
set enable session state is equal to
false so what does that mean
we are disabling the session state for
this webform maybe for the other web
forms use the session state okay and if
I want to disable that at the
application level look at this at the
moment I have disabled session state at
the webform level so if we run this now
and if you remember this waveform is
actually using session State it's using
you know the session variables to store
data into that okay so obviously now if
I try to enter something into this and
then click go to webform - as you might
expect we get an error because you have
disabled session state and you are
trying to use the session variable and
what does it say session state can only
be used when enable session state is set
to true okay so since we disabled the
session state we get that error so let's
set that back to true and then on
webform two similarly if you want to
disable it for webform - you can do that
as well but then remember this enable
session state has also got you know
whether you want to enable it true
otherwise false otherwise you can set it
to read-only if you look at webform -
dot aspx we are only reading the session
state variables so it's okay to set it
as read-only because we are not
modifying the value okay and if I want
to disable it at the application level I
can set the session state mode to off
which means at the entire application
level we are disabling session state
okay but if your application requires
session State to be used then go ahead
and use it but if it's not using if your
application is not
making use of session state then there
is no point in having it enable just to
improve the performance of the
application disabled session state on
this slide you can find resources for
asp.net c-sharp and sequel server
interview questions that's it for today
thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>