<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Sorting a gridview that uses objectdatasource control and business objects - Part 46 | Coder Coacher - Coaching Coders</title><meta content="Sorting a gridview that uses objectdatasource control and business objects - Part 46 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Sorting a gridview that uses objectdatasource control and business objects - Part 46</b></h2><h5 class="post__date">2013-04-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xuXhN0jmwkw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Oh welcome to precision technologies I
am venket this is part 46 of asp.net
grid-view tutorial in this video well
discuss about sorting a grid view that
uses object data source control and
business objects will be using table TBL
employee for this demo so obviously to
retrieve data from this table we need to
add employee data access layer to a
project so let's right click on the
project add a class file and let's name
this class file as employee data access
layer dot CS and to encapsulate the
information that is present in this
table TBL employee we need to implement
employee class so let's do that and if
you look at this employee class it's a
pretty straightforward class with four
authoring implemented properties
employee ID name gender and city and
with an employee data access layer class
itself we need a method which is going
to retrieve data from this table TBL
employee so obviously we need to write a
little bit of video dotnet code here so
let's go ahead and import some a do
dotnet namespaces systems or data system
dot data dot sequel client and system
dot configuration all right now let's
copy and paste the method itself again
we discussed about this method in the
previous session of this video series
and if you look at this method it's a
pretty straightforward method get all
employee so it's going to return a list
of employee or objects if you look at
the implementation we are creating a
list of employee object here and then
using the configuration manager class we
are reading the connection string from
web config file using that connection
strength we are then creating a sequel
connection object and then we are
building our signal command select star
from TBL employee executing the command
and then loop through each row and
convert each row within the table into
an employee object and add that employee
object to the list that we want to
return back ok so pretty straightforward
method here now let's flip to webform
let's drag and drop a grid view control
and let's auto format this let's choose
brown sugar scheme now we want the use
object data source control so let me
drag and drop object at a source control
and let's configure this to use employee
data access layer business object so
after we add our employee data access
layer we need to compile the project
otherwise it will not be you visible
here
so let's build our solution okay now
let's go ahead and configure this object
data source control let's choose our
business object which is going to be
employee data access layer and then
within that way of course this method
get all employees finished that and now
let's associate this object data source
control with our grid view control okay
now lets enable sorting by going into
the HTML source and then within the grid
view control I'm gonna set allow sorting
attribute to true and then let's look at
this when we run this you know if you
remember when we click on that employee
ID column it's gonna throw an exception
and in the previous session we discussed
about solving it by returning a data set
okay instead of list of employee objects
so if you look at the moment you know
this method is returning list of
employee objects in the previous session
we discussed about solving it by
returning a data set but in reality most
of the time we'll be returning business
objects rather than data sets and data
tables so let's see how to solve this
you know issue without using data set
alright so obviously the first thing
that we want to do here is you know we
need to change this get all employees
method to take in a parameter by which
we want to sort the data and then return
that okay so in this get all employees
method I'm going to use and a parameter
and I'm gonna call this sort column you
can give it any meaningful name okay and
then if I am passing in a sort column
name here then basically I want to sort
the data based on that sort column okay
so if you look at the command here it
simply says select star from TBL
employee so I'm gonna take this command
and move it into a variable okay so I'm
gonna call the string sequel query is
equal to that one
and then I'm gonna check if this
parameter if it's not null are empty
then what we want to do is basically to
this query we want to append order by
class and then use that sort column to
order data by that column so basically
if string dot is null or empty which
string is that this sort column if this
parameter is not you know basically if
it is not null are empty then what I
want to do is to this sequel query so
sequel query plus equals you know I want
to append another string order by by
which column do I want to order I want
to order it by sort column it's as
simple as that okay so the rest of the
you know code looks as it is and here
instead of hard-coding the command like
this I'm going to use that variable
which we have just built so sequel query
okay so this is the first change that we
have to do the method that is returning
data add a parameter okay based on which
we want to sort the data and then return
it to whoever is going to call this
method and the second change is on our
web form itself within our wave form we
have this object data source control
which is serving the data to the grid
view control and this object data source
control has got an attribute sort a
parameter name so which parameter of
this method are we using to sort data
and if you remember it's called sort
column so we need to specify
sort parameter name to that sort column
okay all right so now with these two
changes let's go and run this and you
know the grid view should be sortable in
both the directions without any runtime
errors so now the headers are rendered
as hyperlinks look at that you know it
gets sorted in descending order and
asuna garda similarly named as well okay
so what's going to have
then when we actually click on those
hyperlinks you know a value for the sort
column is sent to this method and then
the data is getting sorted based on that
you know parameter value all right
on this slide you can find the sources
face p.net c-sharp and sequence of
interview questions that's it for today
thank you for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>