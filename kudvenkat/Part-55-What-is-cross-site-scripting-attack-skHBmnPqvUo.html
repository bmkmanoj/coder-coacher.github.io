<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 55   What is cross site scripting attack | Coder Coacher - Coaching Coders</title><meta content="Part 55   What is cross site scripting attack - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 55   What is cross site scripting attack</b></h2><h5 class="post__date">2013-07-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/skHBmnPqvUo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this part 55 of asp.net MVC tutorial in
this video we'll discuss what's
cross-site scripting attack cross-site
scripting attack also called as XSS
attack is a security vulnerability found
mostly in web applications cross-site
scripting attack allows hackers to
inject client-side script into webpages
and later if that web page is viewed by
others the stored script gets executed
the consequences of cross-site scripting
attack may range from petty nuisance
like displaying an alert box to a
significant security risk like stealing
session cookies with the help of that
stolen session cookie the hacker can
then very easily log into a specific
users account without the need for their
username and password let's understand
cross-site scripting attack with an
example first of all let's design a form
like this where users can submit their
feedback and as part of that we want the
users to submit their name and comments
and we also want to provide the
flexibility to the users to submit HTML
as part of their comments for example
let's say the user wants to you know
stress this word very good so to stress
that he can bold and underline that ok
so obviously to bold and underline that
we want to you know
submit the bold and underline tag as
part of the comment ok once they submit
that comment we want to display it like
that
look at that since very good it's
wrapped between bold and underlined tag
you know that's how it's displayed you
know this is the submitted comment ok
so first let's go ahead and design this
form and obviously to store the user's
comment we need a table so we're going
to make use of the stable TBL comments
and this table has got three columns ID
which is the primary key for this table
name which is going to store the name of
the user who submitted that comment and
the comments column itself is going to
contain the submitted comment and this
is the sequel script to create the table
I'll have the script available on my
blog just in case if you need it alright
so we have the required table Nam the
next step is to actually add an ad or
dotnet entity data model based on that
table
your comments okay here I have a blank
asp.net MVC 4.0 application so at the
moment I don't have anything in the
models folder so first of all let's go
ahead and add a Teodor identity data
model and to do that I'm going to right
click on this folder add new item select
data under install templates
ad or dotnet entity data model the name
of this is going to be sample data model
we want to generate our model from the
database and we want our connection
string to be sample DB context so this
is the name that will be used to store
the connection string in web config file
click Next this is going to connect to
the database and retrieve all the tables
views and stored procedures we are
interested in TBL comments table so
let's select that and we want our model
to live in models namespace so let's
rename that to models and let's click
finish so this is going to generate an
entity by name TBL comment but we want
our entity to it to actually be named as
comment instead of TBL comment so let's
rename that let's save everything and
let's build our solution so bill
succeeded the next step is to actually
add the controller itself so let's
right-click on the controller's folder
add a controller and let's name our
controller home controller you're going
to make use of this template MVC
controller with read / write actions and
views using entity framework our model
is going to be our comment class and the
data context class is going to be our
sample DB context class and then we are
going to make use of raise a few engine
so when I click add this is going to
generate all the controller action
methods as well as the views that are
required all the views for credit
operations like create read update
details etc alright so here we have the
views and here we have our home
controller so look at the amount of code
that's generated for us okay now we do
submit a comment V V
go to the create view first of all let's
delete the script section that's present
at the bottom and then let's use a div
tag to set this style so div style and
let's set font family to area let's
build a solution and let's navigate to
the create view so when we are on that
create view let's say we want to submit
a comment like this this is a very good
website and I want to bold and underline
this word very good okay so first of all
notice this this is not a multi-line
text box so let's you know first change
the HTML in the view to generate you
know a multi-line text box instead of a
single line text box so here this is the
code that is generating a text box by
default so instead of using editor for
HTML helper I'm going to use text area
for HTML helper save the changes and
let's refresh our view this should
generate a multi-line text box there we
go okay now let's submit the comment so
this is a very good website and we want
to bold and underline this word very
good so bold on the line and then let's
close the underline tag and then let's
close the bold tag okay and let's go
ahead and create this and see what's
going to happen look at that the moment
I click on create it's throwing an error
message and look at the error message a
potentially dangerous request or file
form value was detected from the client
okay so basically it has detected that
you know the HTML you know that we are
trying to inject here and then by
default asp.net MVC has
shown an exception so this is actually a
security measure in place to prevent
cross-site scripting attack okay so this
is going to prevent even the script
injection and in turn it's going to
prevent cross-site scripting attack okay
but here we have a legitimate reason to
submit this HTML okay
so in order to be able to submit this
HTML there's one change that we have to
do so within the night click on this
create button which controller action
method gets executed within the home
controller they said there is create
action method so this create action
method responds to the get operation and
this create action method responds to
the HTTP POST operation by default all
input from the user is validated for any
malicious input like you know people try
to inject script HTML you know a by
default every input is validated and if
it detects you know that somebody is
trying to inject HTML or JavaScript it's
going to throw that exception okay so we
are going to disable or we are going to
you know disable the input validation
here and to disable the input validation
we can use this attribute validate input
and then we can pass in a false so we
don't want to validate the input okay
let's pull the solution let's now submit
this and see what's going to happen so
this should save that data to our
database table TBL employee let's
actually go back to the table execute
the query look at that we have that
stored okay and look at this we are back
at index view this actually index view
so let's actually have the complete URL
there so we are on the index view now
look at this this is a very good website
now I have my bold and underlined tags
there now instead of displaying this
word you know with an underline and in
bold it's actually showing that you know
HTML tags that we submitted by default
all HTML output is hand coded and this
is another security measure in place to
prevent cross-site scripting attack so
have to disable that HTML encoding as
well okay because here we don't want
that HTML to be encoded instead we want
that you know basically to be
interpreted and we want that word to be
displayed in bold and with an underline
okay so where are we now we are on the
index view so let's go to the index view
and then first of all let's use a div
tag and set the style attribute let's
set font family to area and let's take
the clothing div tag and then close it
at the end okay and then here is the
table head which displays the headings
name and comments and then here we have
a for each loop which loops through each
row and then displays the name and
comments from that table okay so here we
are using display for HTML helper you
know and by default all HTML output is
encoded and if you if you don't want
that HTML to be encoded then we can use
another HTML helper at HTML 0 so I'm
going to make use of that HTML helper so
instead of that code I'm going to
replace that with add HTML dot wrong and
then let's simply pass item dot comments
and then let's get it off that code
there let's go let's go back and refresh
this view so now it displays the output
as expected okay so now let's see how to
inject you know JavaScript and then
initiate a cross-site scripting attack
okay so let's create now another comment
and then let's say you know John is the
user and then this time what I'm going
to do instead of you know typing some
HTML I'm going to type some script so
script type is equal to
text slash JavaScript and I'm closing
the script tag and for readability let's
expand this so that's the script tag and
here all I'm going to do is alert and
then we'll put some message your site is
hacked and then I'm going to close that
script tag okay keep in mind we have
disabled the two security measures in
place okay that is you know all user
input is validated but we have disabled
that by using that validate input on the
controller action method and all HTML
output is included and we have disabled
that as well by using HTML dot raw okay
so now let me create this so look at
that
you know John is the person who
submitted that comment now if somebody
goes and comes back to this index view
and if somebody revisits this index view
look at that your site is hacked you
know this is like a petty nuisance you
know unnecessarily there is an alert box
okay now here the user has injected a
Java Script that simply displays an
alert box but in reality users can write
JavaScript to steal session cookies and
as discussed before with the help of
that session cookie the hacker can very
easily login to a user account without
the need for their username and password
and he can do destructive things so this
is a major security threat so here now
our application is actually susceptible
to cross-site scripting attacks in our
next video we will see you know how to
prevent this cross-site scripting attack
while allowing the user to submit the
HTML that we want to access on this
slide you can find resources for asp.net
c-sharp and sequence of interview
questions that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>