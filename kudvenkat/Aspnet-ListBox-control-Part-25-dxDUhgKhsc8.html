<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Asp.net ListBox control   Part 25 | Coder Coacher - Coaching Coders</title><meta content="Asp.net ListBox control   Part 25 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Asp.net ListBox control   Part 25</b></h2><h5 class="post__date">2012-11-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dxDUhgKhsc8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to pledging technologies I
am venket this is part 25 of asp.net
video series in this session we'll learn
about the asp.net list box control
before continuing with the session I
strongly recommend to watch parts 22 23
and 24 of this video series just like
drop down list and check box list
controls a list box is also a collection
of list item objects items can be added
to the list box in the HTML source at
design time or in the code-behind file
programmatically at runtime list box
supports data binding for example a list
box can be bound to a database table or
an XML file in the previous sessions of
this video series we have actually
learnt about binding a drop-down list to
an XML file and a database table binding
a list box to a database table or an XML
file is exactly similar let's look at an
example let's flip to visual studio
let's drag and drop a list box control
onto the webform now we know that a list
box is a collection of list item objects
and we can add those list item objects
in the HTML source at design time so I
can specify the text and value
properties here let's copy and paste
some list item objects so we have some
sample data to work with okay so we have
a list box which is displaying levels of
education diploma graduate postgraduate
doctorate etc now if you look at this
list box it's showing all the available
list item objects now let's say I want
to show initially to the user only to
list item objects is that possible
absolutely and how do we do that we can
make use of the ROS property of the list
box so if I select the Rose property
look at that at the moment since I have
four list item objects it's set to four
now let's say I want to display to the
user only two list item objects within
that list box I said that to do as soon
as I do that look at that only two items
are displayed and I have a scrollbar so
if I go ahead and run this application
now you know only two list items will be
displayed in that list box and the user
can use the scroll bar to
all up and down to see the other list
items okay another important property of
the list box is the selection mode
property now let's understand what we
mean by this by default the selection
mode of a list box is single which means
a user can only select one a list item
look at that I selected one item and
then I try to select another item you
know it it clears the selection of the
other list item which means it's a
single selection list box okay now is it
possible to select multiple items from
the list box absolutely
first of all let's remove this rows
property let's set that to four and then
we have the selection mode by default
it's set to single we can change that to
multiple and then now when we run this
the user should be able to select more
than one list item and if you want to
select more than one list item you have
to hold down the control K so now I am
able to select more than one list item
object now let's create a simple demo
where we can actually you know retrieve
the text value and index of the selected
list item object
first of all let's flip the selection
mode of the list box to single okay so
if the selection mode of the list box is
set to single then we know that a user
can only select one item okay so if
that's the case they then we can use the
selected item and selected index
properties to retrieve you know the text
value and index we don't have to loop
through each a list item objects let's
actually see that in action let's drag
and drop a button control onto this
waveform
okay so when I click this button I want
to retrieve the selected item now
actually some of the users I have seen a
lot of developers you know when they
when they list walk selection mode is
set a single we know that a user can
only select one list item object if
that's the case there's no reason why
you actually want to loop through each
list item object within that you know
list box you can simply say you know if
you want the text so response tort right
I have this list box this box one dots
selected item dot text that will give us
the text of the selected item because we
know that there's going to be only one
selection made in the list box and we
want the text of that we can use the
selected item property so text is equal
to that one and then let's put an HTML
break so that you know the value and
index comes in separate lines so now if
I want the value I can use the value
property of the selected item and then
if I want the index I can simply use the
selected index so index is equal to dot
selected index since selected index is
an integer we need to convert that to
string and we don't require this HTML
break since that's the last item we are
writing to the response stream so now if
we run this we should be able to
retrieve the selected items text value
and index
now since this list box is a single
selection list box I can only select one
item even if I hold down the control key
cannot select more than one item so if I
select diploma and click the button look
at that the text is Diplomat value is 1
and the index is 0
okay now this code can throw a runtime
exception because look at that you are
not checking you know
the selected item or selected indexes -
one okay because of which if I don't
select anything okay let me run this
once again now there's nothing selected
now when I click this button now what's
going to happen selected item property
will be now because you haven't selected
anything in the list box and then you
are trying to retrieve the text property
out of it so obviously you know another
reference exception is will be thrown so
when I click this button look at that
object reference not set to an instance
of an object null reference exception
okay so how do we solve that there are
two ways to solve this one as you can
simply say if listbox 1 dot selected
item is not equal to now which means if
the user has selected something then
only try to retrieve the text and value
properties of that selected item okay
another way to actually test this is to
basically use the selected index
property okay now the selected index is
an integer property now if you don't
select anything if you don't select
anything then the selected index will be
minus 1 okay on the other hand if you
select any of the items within this list
box then it will either be 0 1 2 or 3
depending on which list item you have
selected from the list box okay so you
can either use selected index or
selected item but make sure you do that
check if your list box is in a single
selection mode because there is a
probability that you know the user might
not select anything and then when they
submit the page you might get
non-reference exception we don't have
this problem if the multi selection list
box because we use a for each loop and
loop through each list item object if
the user has not selected anything then
the for each loop will not be executed
at least once so we don't have that
problem there ok so now let's say we
turn this list box into
multiselection listbox and how do we do
that we just change the selection mode
to multiple and now when we run this the
user will be able to select more than
one item from the list box but then if
you look at the way you have written
your code this code only supports the
single selection well you know list box
now if I select more than one item by
holding down the control clay and then
click this button look at that I only
get the list item the first list item
object that I have selected
if I remove graduate and if I select
diploma and I click this part and look
at that i only get diploma so if I want
every selection that the user has made
then I have to look through each list
item object and I have to do this only
if the list box is a multi selection
list box okay so how do we do that for
each list item a lie-in list box one so
what we want to do dot items so we want
to retrieve the text of that list item
and similarly we want the value and the
index is a little tricky you will use
the list box itself dot items dot index
off and then to this method you pass in
the list object now obviously if you
execute this code it's going to return
the text value and index of every list
item in the list box you want to do this
only if that list item is selected so if
Ally dot select it so if the list item
is selected then print out the text
value and index and two just to separate
each list item
let's put a line there okay so now let's
go ahead and run this now we don't have
to actually check for you know
selecteditem null or not because we are
looping through each item and if that
list item is selected only then try to
retrieve the text value and the index of
that okay
so now I can select multiple list items
I click this button and look at that I
get the text value and index is not
properly formatted all we have to do to
fix this is put in HTML break here and
another break there so now if we run
this it should be properly formatted
okay let's select graduate and doctorate
I click that not text value in the X
text value index on this slide you can
find resources for asp.net c-sharp and
sequence of interview questions that's
it for today thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>