<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 60   ViewStart in asp net mvc | Coder Coacher - Coaching Coders</title><meta content="Part 60   ViewStart in asp net mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 60   ViewStart in asp net mvc</b></h2><h5 class="post__date">2013-07-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MxU_ugIxnTA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this part 60 of asp.net MVC tutorial in
this video we'll discuss the advantage
of using underscore view standard CSS
HTML file please watch but 59 before
proceeding we'll be working the same
example that we started in part 59 in
part 59 we discussed that to associate a
view with the layout file we have to set
layout property on each and every view
if you recollect from the previous
session we associated this layout file
with the index view and to do that we
have to set the layout property and
similarly on the Edit view we've set the
layout property now at the moment if you
notice when we navigate to create view
you know look at that the layout view is
not associated with this create view and
if I have if I have to associate this
view with that layout file I have to
specify layout property on this view as
well so we have to repeat that on each
and every view just imagine if I have
200 views how much effort is going to
involved okay
so obviously first of all repeat in code
violates DRI principle that is don't
repeat yourself and while eating this
principle has two disadvantages one it
leads to redundant code and redundant
code obviously leads to maintenance
overhead for example tomorrow if we have
to use a different layout file then all
the new views need to be updated so in
each and every view we have to go and
update this layout property to use a
different layout file okay so how do we
solve this issue to solve this we have
this under scope view start dot CSS
html5 this is introduced in asp.net MVC
3 we can specify the layout property
once in this file and then please that
file within views folder so notice that
I have this underscore view start dot CS
HTML file here within that we are going
to specify layout property just like
this and then we are going to place that
within the views folder and then all the
views within that folder are going to
make use of the layout file that is
specified and that view start file
okay so obviously this eliminates this
view type start file eliminates the need
to specify a layered property on each
and every view and it makes our views
more cleaner because we have less code
there and they're also more maintainable
now okay now there might be scenarios
where we want a set of views in a
specific folder to use a different
layout side for example look at this
home folder and let's say all the views
within the home folder I want those
views to use another layout file okay
not the one you know underscore layout
dot CSS HTML will have another layout
loud I want those views to use that lay
outside if that's the case I can have
another view start file within that
folder and then we can specify the the
layout file that we want to use within
that view start file so obviously this
new start file is going to override the
settings that are defined in this view
start file that's present in the views
directory okay so let's actually look at
that in action so at the moment you know
these views create view details view and
delete view they are not using a layout
file let's see how to use underscore
view standard CSS HTML file so I'm going
to add a view and let's call it
underscore view start let's click Add so
this should add underscore view standard
CSS HTML now all I'm going to have here
is the layout property so I'm going to
specify the layout property so I'm just
simply going to copy it from the index
view okay so now since we have specified
the layout property in this underscore
view start at CS HTML file every view
within this views folder is going to use
the layout file that we have specified
in this file so now and we actually
navigate to create view you should
notice that it it has to actually use
that layout file okay so create view is
using that similarly edit view is still
using it
detailsview is using it and delete view
is also using it so all the views will
continue to use the layout file that we
have specified here all right now when I
use underscore view start at CSS HTML
file can I still set layout property on
individual views using the layout
property now if you remember in every
view for example if you look at the
index view there is a layout property
okay now we have specified a layout file
in this view start file in spite of
having that specified can I still set
this layer property absolutely if you
said that it is going to overwrite the
layout file that we have specified in
this view start that's actually look at
that in action so let's quickly add
another layout file to the shared folder
and let's call it actually different
layout let's click Add
so that should at underscore different
layout dot CS HTML and let's use an h3
tag here to specify that this is a
different layout file and after that we
want to run the body all right so we
have another layout file now look at
this if I go to the index view and
specify all right I want to use this
different layout file instead of layout
dot CS HTML now if you remember in our
view start file we have specified you
know for all the views within this
folder where we want to use underscore
layout CS HTML but within the index view
we have overridden that using layout
property so I don't want to use you know
this layout file underscore layout CSS
HTML instead use and it's called
different layout file okay so let's save
everything and let's navigate to our
index view once again so refresh that so
we have made the change to index view
and it shouldn't use this layout file
look at that it's now using a different
layout file okay so the answer is yes
you can still use the layout
they own individual views and we
especially use that if we want a
specific view to use a different layout
file than what is specified in under
scope you start dot C as HTML file
alright so at the moment we know two
places where we can specify the layout
file one is it within the view itself
you know using the layout property the
other one is is using the view start
file apart from these two is there
anywhere else I can specify a layout
file absolutely there are two more
places you can specify that in a
controller action method or in an action
filter well discus action filters in a
later video session but how can we
specify a layout file in a controller
action method notice that when we invoke
this return view function you know we
can also specify the layout file that we
want to use at the moment if you for
example if we navigate to create view
look at this it's using the layout file
but let's say we want to use a different
layout file then what we can do within
the home controller so obviously we have
this create controller action method
which is return and give you since we
didn't specify the name of the view by
default you know it's going to use a
view that is named create ok but let's
actually hard-code the name so I'm going
to use this version of view function
which actually takes the name of the
view and the name of the master that is
the layout file to use and both of them
are of type string so the name of the
view is going to be create and the
master view file that I want to use
that's the layout file that I want to
use is different layout file so let's
copy the name underscore different
layout and then pass that here let's
pull the solution and let's navigate to
so we are on the create view so let's
refresh this so when we refresh this it
should be using a different layout file
because in our controller action method
that's what we have specified so this is
again going to overwrite that
alright can we write some logic and view
standard CS HTML to dynamically specify
which layout file to use at the moment
if you notice our view start file you
know we have simply specified the layout
file is going to be you know layout CSS
HTML now can I write some logic here for
example let's say if the browser that I
am using is Google Chrome then use this
layout file but if it's any other
browser apart from Google Chrome let's
say we want to use different layout file
you know can we dynamically you know
select layout files that I want to use
absolutely so how do I do that so I'm
writing an expression here look at that
for example what are we doing we are
writing an expression here this
expression is going to return true or
false if that returns true it's going to
use layout file on the other hand if
that expression returns false
then we are going to use it differently
outside and look at what is this doing
here we are using this requested browser
so this browser property is going to
return the browser object and then on
that object we are calling each browser
and then passing the name of the browser
here Google Chrome is that browser
google chrome if yes it's going to
return true in which case use the layout
file otherwise you said different layout
file okay to speed things up I have this
code already typed so let me copy that
and put it in our view start file ok so
let's build
let's save everything and let's navigate
to at the moment our editor you should
be using so look at that this edit view
in the view start in the view start file
we have specified use basic lay in a
layout dot CSS HTML because notice that
at the moment we are using Google Chrome
and we have specified this condition if
it is the browser is Google Chrome then
use the layout file on the other hand
let's actually use Internet Explorer and
then let's actually navigate to the same
URL and since this is Internet Explorer
you know it has to use a different
layout side but it's not why is that
that's basically because if you remember
we have hard-coded whatever we have
specified I mean we are over writing
whatever we have specified in this view
start file within the Edit view so in
the Edit view we have specified the
layout property so this is going to
override what is specified in mu star so
I need to get rid of this one if I want
to respect what we have in view start
okay
so let's save everything and now let's
refresh this so now it should be using a
different layout side so depending on
the browser it's actually selecting
which view file to use all right so all
partial views in my application are now
using the layout file specified in view
start dot CS HTML how do I prevent these
partial views from using a layout file
so partial views are not like regular
views we don't want them to be using you
know the layout files but for some
reason you know the partial views are
still going to use the layout site let's
see how to prevent that at the moment
you know we have this details action
method okay let's first add this
underscore employee partial view now
let's actually navigate to
detailsview so this details use is
showing the details of a specific
employee so let's actually go there and
let's copy this code and extract that
into a partial view and how do we do
that on the home folder add a view and
let's call it maybe underscore employee
and we want to create this as a partial
view we want to create a strongly typed
view against employee class and let's
add that so the model for this view is
going to be employee
and we have pasted this code so we have
a partial view here okay so let's build
this now if you look at the details
action method within the home controller
at the moment so if you look at this
details action method let's make this
simple okay so if you look at this code
you know we are simply saying return
view and passing the model object that's
the employee object to this view so and
we haven't specified the name of the
view so since we haven't specified the
name of the view this action method is
going to look for a view that is named
after that method so it's going to look
for a view with named details within the
home folder so is there a view
absolutely so it's going to use that
view so at the moment if I build this
and if i refresh this it is still going
to use the details view and that details
view is using the layout file that we
have specified in View start file which
makes sense but lets you know actually
rename this details view to one detail
so obviously we don't have a view that
matches the name of this action method
so now if we refresh this what's going
to happen it's going to throw an
exception why because there's no details
view but what I'm going to do here so
I'm going to use a view function where
we can specify the name of the view and
the model object now I want to return a
partial view so under school employees
our
I shall view so that's what I want to
return so now we are not using a
regularly we are using a partial view so
this code now matches with what we have
here so a partial view is being returned
but you will notice that in a bit and it
is going to use the layout file that we
have specified in our view start file
and we don't want that to happen for
partial views okay look at that this
partial view is still using the same
layout file that we have specified in
View start ok so how do we prevent that
from happening it's very simple all we
have to do is we know that this
underscore employee is a partial view so
make the return type of your controller
action method partial view result
instead of action result and then return
partial view okay instead of view return
partial view so that is going to prevent
you know the partial view from using the
layout file that is specified in
underscore view standard CSS HTML okay
so what is the change that we have to do
first of all instead of an action result
we want to return partial view results
and I'm going to return a partial view
okay let's build that and let's refresh
this so now it should not use any layout
file it should simply return that
partial view and that's what we see
there all right now what will be the
layout file extension if vb.net is my
programming language obviously it will
be dot VB HTML it is not any different
from the file extension that we have got
for regular views and partial views
alright in our next video we'll discuss
using named sections in a layout file on
this slide you can find the source of
space bead or net C sharp and sequence
of interview questions that's it for
today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>