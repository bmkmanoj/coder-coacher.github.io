<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 29   Hosting wcf service in iis | Coder Coacher - Coaching Coders</title><meta content="Part 29   Hosting wcf service in iis - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 29   Hosting wcf service in iis</b></h2><h5 class="post__date">2014-02-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PBAs3zw6rq0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">about 29 of wucf video series in this
video we'll discuss hosting WCF service
in iis this is continuation to part 28
so please watch for 28 before proceeding
first let's look at an example of
hosting the WCF service in the IAS and
then we'll discuss the concepts on the
slide let's flip to visual studio so
this is the same project that we worked
with in the previous session we want to
host this hello service in IAS and in
order to do that the first step is to
add a website to this solution so right
click on the solution add new website
make sure you have visual c-sharp
selected under install templates select
abusive service and we want to create
this website in the same hollow service
solution folder and this hello service
solution folder is present in C Drive so
let's browse to C Drive so within C
Drive we want to create this website in
hollow service solution folder open that
and let's name the project itself hollow
service iis host click OK that should
create the project for us and if you
notice this app underscore code folder
notice that we have a service dot CS and
service dot CS files basically these
files are there to specify our service
code but if you recollect from the
previous session we already have you
know our WCF service in a separate
project that is hello service project
and this is what we want to host using
this website so we can get rid of these
two files since we want to host a hollow
service using this website we first need
to add a reference to hello service
project so right click on the project
itself add reference and make sure you
have a hello service project selected
and that should add a reference to our
hollow service ok
and the next important thing is this dot
SVC file so this is what the eye is will
use to locate the service ok let's give
this file a meaningful name let's call
this
hello service dot SVC open this file and
we can get rid of this code behind
attribute because we no longer have our
service code in app and a scope code
folder so let's get rid of this code
behind attribute and you know against
the service attribute we need to specify
the fully qualified name of our WCF
service if you look at our WCF service
the name of the service is hollow
service and it is present in hollow
service namespace so let's go and
specify that fully qualified name here
so hollow service dot hollow service all
right so that's the change that we have
to do to the dot SVC file the next
important thing is the configuration for
the WCF service itself which we specify
in web config file let's get rid of this
you know auto-generated conflicts for us
so let's delete that from web config
file let's actually copy the
configuration you know from this app
config file within the host project and
if you remember this host project is
nothing but a console application which
we have used in the previous sessions to
host this WCF service so let's copy this
configuration from that a block config
file and paste it within our web config
file and we need to modify this
configuration now first of all we don't
require this base address here because
IAS supports only HTTP protocol at
related bindings so net TCP binding is
not supported within iis you know when
we use is where Windows activation
services is enabled then it's going to
support all the protocols all the
transport protocols and bindings but but
if we hosted in is where we don't have a
Windows activation services then only
HTTP protocol will be available so only
HTTP protocol related bindings are
supported so the binding has to be
something to do with HTTP protocol so
basic
HTTP binding alright so that's all you
know the change that we have to do for
the configuration alright the next step
is to create a virtual directory with an
IAS for this website so we need to open
um I is and in order to do that click on
the start button type run and plus enter
that should open the run window within
the run window type I net MGR and that's
going to open is for us expand the
default root node expand sites and you
know right click on default website and
select this option add application so
given Ali as to the virtual directory
let's call this hello service and you
know give an application pool let's
actually use asp.net version 4.0 and
physical path where are the code files
present they are present in our C Drive
in hello service that's the solution
folder within that we have Hello service
is host that's what we need to select
click OK and finally click OK
so that has created you know this hello
service virtual directory for us now if
right click on that and select this
option switch to content view alright so
here we have our hollow service dot SVC
file so let's go ahead quickly build our
solution to make sure everything still
compiles notice the status bar so build
succeeded now let's actually go and
browse this hollow service dot SVC file
so look at the URL localhost hollow
service /hello service dot SVC localhost
that's the name of the computer and
hollow services or virtual directory and
hollow service dot SVC is the file
within that virtual directory ok so once
we click on this link here
we will be redirected to the vestal
document all right so now let's go ahead
and test this WCF service using a client
application so here we have this Windows
client let's get rid of this service
reference from here delete the service
references folder as well and let's add
a service reference and here let's give
the address of a vestal document and
click go so this should look at our
hello service so let's give the
namespace as hello service click OK and
now if you look at the app dot config
file of this client application it
should be using basic HTTP binding
that's what we have defined at the
service level so let's go ahead and run
this Windows client application test our
service get message it should come back
with a holo test look at that it works
as expected so very simple to host a WCF
service in I asked so to host a WCF
service and is the most important thing
is this file with dot SVC extension this
file contains Service host directive so
if you look at the holo service dot SVC
file it has got the Service host
directive and look at the service
attribute so the service attribute of
service hosted directive specifies which
service this file points to the service
code itself can either reside in the dot
SVC file so we can write the service
code here itself if we want to otherwise
the service code can be present in a
separate assembly in our case the
service code is actually present in this
Hello service project and we have added
a reference to that project so that the
service code is present in this
DLL so the service code can either be
present in the dot SVC file or in a
separate assembly or in a file and app
underscore code folder and if you
recollect when we created this website
you know underneath app and the scope
code for that we had I service dot CS
and service dot CS files so the service
code can either be present there as well
the configuration for the WCF service
goes in the web config file we have seen
that and the service host directive in
dot SVG file that is what is responsible
for creating an instance of service host
when required there is no need for us to
write code to instantiate and start
service host as we did with self hosting
so if you recollect from the previous
session so we have self hosted the WC of
services in your console application and
if you look at the code here look at
that they are creating an instance of
service host programmatically and we are
invoking this open method to open the
communication channels and we did the
same thing with Windows host as well as
Windows service host we had to really
write some code you know to create an
instance of service host and open the
communication channels with is we don't
have to write any code for that the
service host directive in that dot SVG
file is responsible for creating an
instance of service host when we require
it in our next video we will discuss the
advantages and disadvantages of hosting
WCH service NIS that's it for today
thank you for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>