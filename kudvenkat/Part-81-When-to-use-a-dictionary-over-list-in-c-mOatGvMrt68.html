<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 81   When to use a dictionary over list in c# | Coder Coacher - Coaching Coders</title><meta content="Part 81   When to use a dictionary over list in c# - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 81   When to use a dictionary over list in c#</b></h2><h5 class="post__date">2013-09-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mOatGvMrt68" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 81 of c-sharp tutorial in
this video we'll discuss a simple
example that demonstrates when to use a
dictionary over a list in c-sharp let's
create a simple console application when
we run it it should prompt us to enter a
country code and then if we enter a
value at country code then the program
should display the name of the country
and its capital and then the program
should be in a loop so it should ask me
whether if I want to continue yes or no
if I enter any car page instead of s or
no then it should keep asking the same
question do you want to continue S or no
so if I enter S then it should ask me to
enter the country code again if I enter
a valid country code then it should
display the name of the country and its
capital if I don't enter a valid country
code then it should print a message
stating country code not valid and then
again it should ask me whether if I want
to continue as I know if I say no then
the program should terminate let's
create the simple console application so
here I already have this country class
look at this it's very straightforward
with three auto implemented properties
named code and capital and then within
the main method I've created five
instances of this country class so we
have five countries here Australia India
US UK Canada all right now first of all
let's design this program using a list
collection class okay so let's create a
list so list of country and let's call
this list countries equals new list of
country and then to this list let's add
country objects so list countries dot
add country one and similarly let's add
country two three four and five so
country two three four five so at this
point within this list we have five
countries so the first thing is we want
to ask the user to enter the country
code so console dot write line please
enter country code
and then obviously the user is going to
enter the country code let's store it a
variable of type string and let's call
it STR country code equals and to read
whatever the user has entered on the
console we use console dot readline and
then let's convert that to uppercase
because look at this all the country
codes are in uppercase so let's convert
them to uppercase all right now what we
need to do we need to find the country
object within this list you know using
that country code that the user has
entered and to find an object within a
list we can use find method and
obviously this is going to expect a
predicate way we can specify our
condition so find that within that list
of countries a country such that country
dot code equals whatever the user has
entered where I mean where do we have
the code that the user has entered in
this variable so let's compare it with
that and then obviously if a match is
found what does this method going to do
it's going to return that country object
back so let's store that in a variable
of type country and maybe let's call it
result country okay so if result country
equal to now then what does that mean
that means the country code for the
country code that the user has entered
we didn't find a match so in that case
we want to print a message stating
country code is not valid so country
code not valid if it is not now then we
know we have a matching country object
in which case we want to print the name
of the country and the capital
so name equals a placeholder there and
capital equals another placeholder all
right so let's print the name of the
country and the capital all right okay
so let's go ahead and run this now and
see if it works so if I enter country
code gbr for example look at that I'm
entering it in lowercase but since we
have converted that to uppercase it
should find it without any problem so
named United Kingdom capital London and
then look at this the program is
terminating now it asks me press any key
to continue and then once I press any
key the program is going to terminate
but instead of that we want this program
to be in a loop so let's go ahead and
use a do-while loop we want only these
statements to be repeated okay so let's
use a do-while loop there so do all this
while some condition okay
now after we print you know the name of
the country and the capital what should
we do we should ask the user if he wants
to continue so let's ask that question
so do you want to continue
and obviously the user is going to
answer as I know
so let's store user choice in a variable
of type string so let's call it STR user
choice and to read the user choice from
the console we use console dot readline
and again let's convert that to upper
and one more thing that we want to do
here is we want to tell the user that he
can only enter S or no okay so now we
want to check if this value that the
user has entered is s so we want to
check that so while STR use a choice so
look at that I don't get intellisense
that's because this variable is declared
inside this to block if we want that to
be available here then we need to
declare that outside of this to block so
let's do that
so string STR user choice let's
initialize that to an empty string all
right so while STR I user choice equals
yes then keep repeating this piece of
code so we have all this code in a while
loop okay and another thing that I want
to do here is include another do-while
loop so if the user didn't enter S or no
if you entered any garbage instead of s
or no then we need to keep asking the
same question so let's put these two
lines in another do-while loop so keep
doing these statements in case if the
user has entered you know something else
apart from s or no
so if STR use a choice not equal to no
and if it is not equal to
as that means he has entered some
garbage instead of them in which case
repeat these statements that's what this
means so let's go ahead and run this and
see if it works as expected
okay look at that it's asking us to
enter the country code I and I and D it
prints the name of the country and
capital it's asking me do you want to
can continue I type garbage tests look
at that it keeps asking the same
question if I type yes then please enter
the country code if I enter gbr look at
that it prints the country name and the
code I mean the capital do you want to
continue no press any key to continue
once I press any key the program
terminates all right so the output that
we expect we are getting that but then
did we write that this program in the
best way possible
not really now if you look at the VI
using this collection class here I mean
this list country's collection primarily
here we are using it for the purpose of
finding an object and find an object
with the within the collection we are
using a specific string that's the
country code so probably we can better
design this program by using a
dictionary okay so if our purpose is
primarily to lookup values then
dictionary is much better for
performance that's basically because
what's going to happen with this fine
method it's going to loop through these
objects within the list and then check
ok it checks for the first object is
your code you know whatever I and D if
yes return the object no then go to the
next object is your code I and D no go
to the next object so it's going to loop
through each object within the
collection until a match is found and
once a match is found it's going to
return that object so obviously if you
have too many items within the
collection then the time to find within
that list you know the object that we
are looking for is also going to
increase because it's going to loop
through all the objects okay but then
whereas when it comes to dictionary they
are very efficient in finding objects
using
okay so in this case dictionary would be
a much better choice for performance so
fine method of the list class look
through each object in the list until a
match is found so if you want to look up
a value using a key dictionary is better
for performance over lists so use
dictionary when you know the collection
will be primarily used for lookups okay
so let's rewrite this program using a
dictionary so instead of list of
countries I'm going to create a
dictionary and obviously when we created
dictionary we need to specify a key as
well so the key for this dictionary is
going to be string because the country
code is a string and the value is going
to be the country object itself and
let's call this dictionary countries and
then obviously we want to create a new
dictionary okay so to this dictionary
let's go ahead and add items so
dictionary countries dot add obviously
we need to specify the key as well so
the key is going to come from the code
property so we want the country code to
be its key and the value is going to be
the country object itself all right so
let's make copies of this so this is
going to be 5 4 3 2 and similarly we
need to change here 2 3 4 and 5 ok so we
have our dictionary right now now how to
look up a value using dictionary simply
use dictionary of dictionary countries
off specify your key so where are we
going to get the key from STR country
code this variable so we're going to
pass that and look at what this
dictionary will return obviously this
dictionary is going to return a country
object back ok now we're going to have a
slight problem with this code that's
because if the entered code is not found
within the dictionary so if I enter
country code like test
then this line is going to throw an
exception so before we try to look up a
key we need to check if that key exists
within the dictionary and the way we do
that is by using contains key function
so I'm going to invoke this contains key
and then pass the key so STR country
code so obviously this function what is
it returning it's returning a boolean it
true or false if the key is present it's
going to return true in which case you
know look up the keys value within the
dictionary if the key is not present
within the dictionary then this result
country will be now so if result country
is mal we'll print that message country
not valid otherwise we'll print the name
of the country in capital the rest of
the program remains unchanged here we
are now using a dictionary instead of a
list so let's run this of this build
errors let's check that so we need to
include those brackets so let's run this
now ok please enter country code let's
enter a and D so name of the country and
capital do you want to continue as so it
asked the country code to enter again
let's say GB R so we get the output as
expected do you want to continue I type
you know garbage again it keeps asking
the same question when I type no the
program is going to terminate okay all
right now we have seen you know creating
a simple console application let's
create a simple web form as well okay
look at that this is what we want to
achieve on a web form we need three text
boxes the first text box should enter
the air should ask the user to enter the
country code if I enter an invalid
country code then we want a message like
this country code not found on the other
hand if we enter a valid country code
then we want to display the name of the
country and its capital let's see how to
achieve this so I already have created a
web application here in asp.net web
application the first step is to
obviously add the country class so let's
add a class file and maybe let's call
that country dot CS and then into this
class
let's copy the country definition and
paste it from our control application
all right the next thing is to add a
webform so let's go and add a webform
and let's call it webform one dot aspx
and then let's set you know the style
attribute all right now let's quickly
design this waveform so we need a table
with two TDs okay so we need basically
four rows and each row should contain
two TDs
so at TR let's include a TD and then
another TD here all right so let's make
copies of this one two three and four
all right in the first row what do we
want we want you know this text country
code enter text box so let's say country
code and then we need a text box so
let's drag and drop that from the tool
box so we need two other text boxes so
let's make a copy of this and then put
into these TDs
all right and then one more thing is we
need a border for this table so let's
set the border so we need a table tag in
the first place we directly have TR
within the div tag so let's move the
closing table tag right here alright so
to this table let's go and set the style
attribute and then maybe let's set
border to one pixel solid black color
alright and maybe let's call this txt
country code because that's the in the
first text box will enter country code
and in the next row we want to display
the name of the
so that will be the label and maybe
let's call this txt name and then in the
final text box we are going to display
capital and let's call this text box txt
capital may be all right and then in the
last table row we want a label control
which is going to display you know a
message if the country code is not found
so what I'm going to do is I'm going to
have just one TD here but then the width
of that TD should span across to TDS so
let's use call span equals 2 and then
let's drag and drop a label control
there alright and then we don't want any
text initially within the label so let's
get rid of this property and then we
want the full color to be red so let's
set that to red alright so we have
designed the waveform all right now
within the code-behind file first of all
whenever the text in the text box
changes we want to immediately post back
to the web server so let's go and set
auto post back property to true and then
obviously this text box raises text
change event so double pick that the
event handler will be generated so here
we are going to write the code so within
the page load what I'm going to do is
I'm going to copy the same code from our
console application so we're going to
create the country objects and we are
going to create that dictionary okay so
here we have the dictionary and then
what I'm going to do is I'm going to put
this dictionary in a session variable
maybe let's call it countries data
so the name of the dictionary is
dictionary country so let's put it
within the session variable and the
reason why I'm doing that I'm putting it
in the session variable is we don't want
to be building this country's dictionary
every time we load the page okay we load
it once and then retrieve it from the
session so if the webform
I mean this dictionary can be used on
different web forms as well and when
this waveform is loaded multiple times
you know this piece of code will not be
executed because we are going to put a
condition here if execute this piece of
code only if session of countries data
equal to now meaning in the session if
we don't have any countries data only
then try to create the list and then
populate the I mean try to create the
dictionary and then populate it with
these items and then we put that in
session and within the text change the
event of the drop-down list what we are
going to do we are going to simply
retrieve that dictionary out of the
session variable so let's copy that so
we are going to get a dictionary from
the session variable so let's create a
variable of type dictionary the key is
going to be string and the object is
going to be I mean the value is going to
be country object so let's call this
dictionary countries okay
now whatever we get back from the
session it will be an object it will be
of type object so we need to typecast
that to be of type dictionary so let's
use the typecast operator and typecast
that okay at this point we have our
dictionary of customers so what I'm
going to do here is copy this piece of
code
so if dictionary countries dot contains
case so if this dictionary contains the
key so where are we going to get the key
from the user is going to enter the key
within this text box txt country code so
let's use that text box here txt country
code dot text is going to give us the
country code but then we need to convert
that to upper in case if the end user
enters it in lower case they still need
to find it so the same code let's copy
it there so if the dictionary contains
that key then return the keys value from
the dictionary else store now within
this variable and if result country is
now what we want to do this is not a
console application this is a web
application so we want our text box txt
name dot text to be populated with
reserved the country dot name and
similarly if we want txt capital textbox
to be populated with capital ok and then
we also want to we have a label here
which we are using to display you know
the message country code not found so
let's give it them meaningful ID so
let's call it LVL message and within our
code behind file if the country code is
found then simply set the text of this
label to an empty string okay
that's because if previous time the
error was displayed and next time when
you enter a valid country code we want
that to be cleared okay that's why we
are setting to empty text here and then
if it's not null obviously we have found
it oh so if it's now obviously what does
that mean we didn't find it in which
we want to display an error message
within the label so country code not
valid okay
let's copy that and paste it here let's
set it to an empty string okay so if it
is not now then within the text boxes
display the name and capital as simple
as that so let's go ahead and run this
now so let's enter a valid country code
so gbr and look at that the moment I
click away
I find name and capital if I enter an
invalid country code country code not
valid and one more thing that we want to
do is we want to clear these two text
boxes because for test country code
these are not the name and capital so
let's do that so what we need to do here
is txt capital dot text equals empty
string and similarly txt name dot text
equals an empty string let's run this
one more time test look at that country
code not valid if we enter a valid
country code we see that and if I again
enter test gets cleared country code not
valid all right that's it for today
thank you for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>