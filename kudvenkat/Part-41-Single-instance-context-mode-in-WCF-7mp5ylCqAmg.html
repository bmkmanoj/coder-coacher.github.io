<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 41   Single instance context mode in WCF | Coder Coacher - Coaching Coders</title><meta content="Part 41   Single instance context mode in WCF - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 41   Single instance context mode in WCF</b></h2><h5 class="post__date">2014-03-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7mp5ylCqAmg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this part 41 of wucf video series in
this video we'll discuss the single
instance context mode in WCF this is
continuation to pad 40 so please watch
but 40 before proceeding when the
instance context mode for a WCF service
is set a single only one instance of the
WCF service class is created to handle
all requests from all clients let's say
for example client one makes an initial
request that's when an instance of our
service class gets created which is
going to handle that request once the
response is sent to client one the
service instance is not destroyed it's
going to stay in the server memory and
let's say in the meantime client two
makes a request then the same service
instance is used to handle that request
as well so a single service instance is
handling all requests from all clients
let's prove this with an example and to
create a singleton service all we need
to do is set the instance context mode
to sing go let's flip to visual studio
we'll be working with the same example
that we worked with in the previous
session at the moment the cymbal service
is a pair session service let's make it
a singleton service by setting instance
context mode to single let's run our
service host so the service host is up
and running let's flip to a Windows
client application let's open the
project folder in Windows Explorer let's
get the bin debug directory let's open
two instances of this application so at
the moment we have two clients so this
is client one so this host and we have
client two here now let's issue a
request from client one so number equals
one and that's the session ID starting
with one six four CC so that's the
session ID
let's issue another request from client
one look at number it's two and same
session ID is used
now let's issue a request from line
to look at what happened number is three
but look at the session ID we got a
different session ID f96 to a let's now
issue a Request on client one look at
that client one session ID used but
number you know keeps on incrementing so
in this case a single service instance
is used to serve the request from both
of these clients so what are the
implications of creating a WCF service
with single instance context mode since
a single service instance is serving all
client requests state is maintained and
shared not only between the requests
from the same client but also between
different clients and we have just seen
that in action concurrency is definitely
an issue and throughput can also become
an issue now to fix the concurrency
issue we can configure the service to
allow only a single thread to access the
service instance but the moment we do it
throughput becomes an issue as there
could be other requests queuing up and
waiting for the current thread to finish
its work that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>