<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 8   SelectMany Operator in LINQ | Coder Coacher - Coaching Coders</title><meta content="Part 8   SelectMany Operator in LINQ - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 8   SelectMany Operator in LINQ</b></h2><h5 class="post__date">2014-07-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zQnkh8GpUQU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 8 of link tutorial in this
video we'll discuss select mini operator
select and select many standard query
operators belong to projection operators
category we discussed select operator in
part 7 in this video we'll discuss
select many operator select many is used
to project each element of a sequence to
an ienumerable of de and flattens the
resulting sequences into one sequence
the best way to understand this is
through an example in this demo we will
be making use of the student class
notice this class has got three
properties name gender and subjects
subjects property is a collection of
strings now let's look at a few examples
let's flip to visual studio here I have
a new console application all I have
done so far is added this class file
student dot CS and provided the
implementation for student class notice
that these are the same properties that
we have seen on the slide in addition to
these properties we also have the static
method called get all students which is
returning list of student objects and if
you look at the implementation it's
pretty straightforward all we are doing
here is constructing an object of type
list of student and this list consists
of four student objects Tom is enrolled
into these two courses Mike is enrolled
into these three courses so on and so
forth now what we want to do is retrieve
all these student subjects and then
print them on the console screen and the
best way to do that is by using select
many operator so we have the student
class which has got the static method
get all students which is returning list
of student objects and to retrieve all
the subjects I am going to make use of
select many extension method select many
s such that s dot subjects so this
lambda expression will be applied on all
the student objects that are present
within this list of student and if you
look at the type of this subjects
property its list of string so what is
the select many going to do
now this is going to project you know
all the subjects of a given string given
student into a single ienumerable of
string okay now how many such students
we have we have caught four students so
there will be four ienumerable of
strings and then all of them will be
flattened a combined to form a single
ienumerable of string so if I hover the
mouse over the select any method notice
what it is returning it's returning I
enumerable of string so a single
ienumerable of string which is going to
contain the list of all subjects of all
students so let's use a variable of type
i enumerable of string and let's call it
subjects and all that is left to do is
use a for each loop so for each string
let's call it subject n subjects console
dot readline subject alright so when we
run this as you might expect we should
have all the subjects of all the
students printed all right so that's the
first example example two what we want
to do is we want to rewrite example one
using sequel like syntax now before we
do that let's actually copy and paste
this code in the notepad because we'll
be needing it later so now let's use
sequel like syntax so from student n
student dot get all students from
subject N student dot subjects select
subject that's it so let's run this and
see the output
notice that the output is exactly
similar to what we have caught in the
previous example
here were using sequel like syntax
notice that when we are using sequel
like syntax we don't use select many
extension method instead we have an
additional from clause here so this from
clause is going to get its data from the
results of the first from clause so the
first from Clause is going to get the
list of all students and the second from
clause is going to get the list of all
subjects you know from the results of
the first from clause all right now
let's look at another example so we are
going to take these two string arrays
and then print each character that is
present in both of the strings arrays on
to the console screen like this okay so
to speed things up I already have that
string array so let's copy it let's go
back to visual studio and then paste the
string array there so this is the source
this string array at the moment contains
two strings string array dot select many
s such that s so what's happening here
now it's going to convert each string
into an ienumerable of character
sequence since we have caught two
strings there will be two ienumerable of
character sequences which will then be
flattened to combine to form a single
ienumerable of character sequence so if
I hover the mouse over the selectmen a
notice from the intellisense you know
this method is returning ienumerable
of character sequence so let's use a
variable of type ienumerable of care and
let's call it may be a result and then
all that is left is to use a for each
loop for each care
cien result we want to print the
character on the console so now when we
run this as you might expect you know
the alphabets which are in the first
string are printed from A to Z and then
the numbers which are present in the
second string or printed from 0 to 9
all right now the fourth example is to
rewrite the previous example using
sequel like syntax again that's pretty
straightforward if you want to use
sequel like syntax then you'll have to
from clauses so from s in your source
which is string array and then from C in
S we want to select C which is the
character and let's run this and notice
that exactly the same output now when we
used you know this piece of code we got
all the subjects of all the students
right so let's actually paste it here
run it
so notice that we got all the subjects
of all these students and if you look at
this c-sharp subject for example it's
repeated three times why is that that's
because three students have enrolled
into that subject Tom Mike and Pam have
enrolled into c-sharp subject that's why
we have that duplicate you know when we
have printed the subject name now there
may be scenarios where you want to
retrieve only the distinct subject names
if that is the case there is another
operator called distinct that you can
use so simply use distinct and then now
when we run this we should have the
unique subject names and the next
example is to rewrite this example using
sequel like syntax so from student n
student dot get all students
from subject n student dot subjects
select subject so now when we run this
as you might expect what's going to
happen it's going to print the
duplicates but we only want the unique
subject names so if that's the case on
the results of this query we are going
to invoke distinct extension method
which is going to give us unique subject
names so now what we want to do is print
the subject names also the student name
so we want the student name along with
all the subjects right so let's see have
to achieve this one so we have our
student class dot get all students which
is going to give us list of all students
I'm going to use select many s such that
s dot subjects so this is going to give
us a list of all the subjects and then
I'm going to use two variables here
let's call one as student and the other
one subject and then what we want to do
is project this into a new anonymous
type so new
and the first property within the
anonymous type is going to be student
name equals where are we going to get
the value for that from this student
variable student dot name and then we
want the subject name so another
property name is subject name that is
equal to where is this going to get its
value from from the subject variable so
subject all right now at the moment
notice that we have compilation that's
basically because now this selectmen is
not going to return ienumerable of
string instead it's going to return you
know I nu mirabile of this anonymous
type so if I hover the mouse over notice
from the intellisense
we get I end numerable of a that's
present in the first line and look at
the second line a is an anonymous type
right so let's use the VAR keyword to
store the results so let's actually call
this result and then for each where P in
result what we want to do is write
student name separate that with a dash
and then subject name alright so let's
run this now notice that we get student
names along with their subjects names
subject names now how to rewrite this
using sequel like syntax so from
student n student dot get all students
we are going to get a list of students
from that cat subjects in student dot
subjects and what we want to do is
select a new anonymous type that's that
so let's run this and notice that
exactly the same output we are using
sequel like syntax this time that's it
for today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>