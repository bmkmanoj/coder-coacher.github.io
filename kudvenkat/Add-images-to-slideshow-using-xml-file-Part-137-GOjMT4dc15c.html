<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Add images to slideshow using xml file   Part 137 | Coder Coacher - Coaching Coders</title><meta content="Add images to slideshow using xml file   Part 137 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Add images to slideshow using xml file   Part 137</b></h2><h5 class="post__date">2013-07-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GOjMT4dc15c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 137 of asp.net tutorial in
this video we'll discuss adding images
to slideshow using an XML file please
watch box 134 135 and 136 from asp.net
tutorial using the link that you can see
here at the moment there are two
problems with the slideshow that we have
created in the previous sessions if we
want to add a new image to the slideshow
we'll have to modify the application
code and the new image has to be named
in a specific way at the moment
notice that this images folder has got
eight images and if I want to include a
ninth image in the slideshow that 9th
image has to be named 9 dot jpg and at
the same time we also need to change the
application code notice that we have
hard-coded 8 here that needs to be
changed to 9 so at the moment you know
look at that I have a ninth image here
and notice that we are only displaying 8
images and then it goes back to 1 let's
say I want to include this ninth image
in the slideshow to do that let's copy
the image and then we'll have to paste
that into the images folder and then
this image has to be named 29.8 a so we
are losing the original image name
that's the first problem and the second
problem is we'll have to change the
application code so now when we run this
we should have that ninth image included
in the slideshow so obviously it will
start at one and then it should display
the ninth image as file so obviously you
know a simple thing like adding an image
to this slideshow shouldn't really
require us to change the application
code it should be as simple as a
configuration change in this video we'll
discuss fixing both of these issues and
there are two ways to fix these two
issues we can either use an XML file or
a database table in this video we'll
discuss using an XML file and in our
next video we'll discuss using a
database table so the first step here is
to delete all these images and then
let's go ahead and get the images with
their original names and to do that
click on start type
pictures and then click on that pictures
link navigate to sample pictures folder
so here we have all the pictures with
their original names let's copy them and
then paste them into the images folder
and the next step is to actually store
these images data into an XML file so in
the XML file we are going to store the
name of the image and the order in which
we want that image to be displayed in
the slideshow and we want that XML file
to be stored in a different folder so
let's go ahead and add a new folder to
our project and let's call it data and
let's add an XML file to this folder
select data and then XML file and let's
call it image data dot XML click add and
then this XML file is going to contain a
route to tag of images you can give it
any meaningful food tag and then the tag
name itself is going to be image and
then I want the name of the image so
we're going to have the name of the
image and the order as well so order is
equal to 1 meaning this is the first
image that I want to show in the
slideshow okay so similarly we need to
have an entry for each and every image
and to speed things up I have this
already type so let me copy and paste
that XML into this XML file so we have
an entry for each image here alright so
the next step is to actually change the
code within this default dot aspx dot CS
that's the code-behind file now we need
to read this XML data on in our
application and the easiest way to do
that is by using data set object the
data set object is present in system
data and in space so let's go and import
that and then we are going to change the
implementation of the set image URL
function so let me delete the code that
we already have there and then let's
create an instance for data set class
data set d s is equal to new data set
and this object has got a read XML
third you give it the part of the XML
file this function is going to read that
XML data into the data set in a tip
table format okay so we need to specify
the path for the XML file so where is
the XML file present it's present in the
data folder and this data folder is
present in the root directory of our web
application project so how do we get to
the root directory we can use the tilde
symbol and within the root directory we
have within the root directory we have
data folder so four slash data and then
within that the XML file name is image
data dot XML so let's copy that and
paste it right there now if you look at
this part this part is actually a
virtual part it's not a valid Windows
part the valid windows path looks like C
colon backslash whatever okay but this
has brought forward slashes so this is a
virtual path so we need to convert this
virtual path into a physical path and
how do we do that using the server dot
map path function so server dot map path
and if you look at the intellisense this
function is going to convert the you
know return the physical path you know
if we give it a virtual part so at this
point we have XML data within the data
set in a tabular format okay so this XML
data is now present in a tabular format
so what is the table name going to be
the table name will be image and it will
have two columns name and order okay so
now I'm going to store this data set
object within fu state variable so that
every time we want to change the image
that is displayed in the image control
we don't have to read it again from the
XML file okay so I'm going to put it in
the view state variable so view state
off let's call it maybe image data
and then let's store the data set object
there all right now when this method is
called you know we want to display when
this method is called the first time we
want to display the image that has got
order 1 so we need to retrieve that row
from the data set and to do that you
know we need to get to the tables
collection so what is the data set a
data set is a collection of tables but
we know this data set has got only one
table so I can index that using an
integral index ax or for the code to be
more readable you can give the name of
the table the name of the table here is
going to be image so that table has got
several rows and I'm going to use the
Select function and notice the
intellisense the Select function is
actually returning you know an array of
data rows so all the data rows will be
returned and then from those rules
I want a first or a default row okay so
I'm using a link function here first or
default and then I want the row which
has got order of 1 that's what I'm going
to specify using a predicate okay so we
can pass a predicate so X such that X of
what is the column name order convert
that to string and then that should be
equal to number one so give me that row
from this rows collection which has got
order 1 ok and what is this first our
default function returning look at the
return type a data row so store that in
a data row variable so data row and
let's call it image data row ok so we
have the image data row now you can
retrieve the name of the image the order
number everything from that row now what
we want to do basically is we want to
display the name of the image also and
then the order you know of that image
okay just below the image so let's use
to label controls to do that so we have
the HTML already here so I already have
one image let me copy and paste that and
let's give a meaningful name to this
images the
it's called this LBL image name and
let's call this LBL image order okay so
we have two images there all right and
then let's include an HTML click there
okay first of all we want to set the
image URL okay for this image control so
within the code-behind file image 1 dot
image URL is going to come from this
image data roll so where is that image
present its present in the images folder
and then within the that images folder
is present in the root directory so till
four slash images 4/2 that concatenate
the name of the image and how can I get
the name of the image just use the
column name there so this should set the
image URL and in the label control so
label image name text that should be
equal to so that will display the name
of the image within the label control
and then we have another image label
image order so the text of that is going
to be coming from order column okay so
what is this function doing very simple
it's creating an instance of the data
set reading the XML data into the data
set and then we are storing the data set
into your view state variable and
another thing that we want to store in
the view state variable is the order of
the image that we are displaying so
obviously I'm going to use a key here
called image displayed and you know when
this method is called the first time we
are going to display image which has got
order 1 okay so in view state we have
store two things the data set itself and
the order number of the image that is
currently displayed okay
eight so within the page load if it's
not post bacc we are calling that set
image URL function and within the timer
tick event this event is going to be
raised every one second so within that
we don't want to call set image URL like
this because every time you call it what
it is going to do it's going to display
only the first image now what I'm going
to do here is write some logic so if
there is something in the viewstate
first of all we are actually going to
retrieve what is present within image
displayed so integer I that is equal to
view state of image display we are going
to retrieve that and then we are going
to increment that by one okay because by
the time we get to the timer tick event
we know there will be something within
the view state because the first time
this waveform loads that as if it's not
get post if it's not post back meaning
if it's the get request we are storing
you know into the view state image data
and image displayed keys from image
displayed we are retrieving the order of
the image that is previously displayed
we are incrementing it by one and the
next step basically here is to retrieve
you know the image with that incremented
order
okay so first time we displayed the
image with order one second time it's
going to be image with order two so we
are going to write the same kind of a
code there so let me copy this
and then paste it right there so the
same code read we just have duplicated
it okay so we have incremented the I
value by one which is going to contain
the order of the image that we want to
display now and then look at that you
can't simply say data set object here
because we don't have access to the data
set object but what you can do is you
can retrieve the data set object from a
view state because you know when the set
image URL function is called we are
storing the data set object within the
view state so we can retrieve it from
there so instead of that we are going to
retrieve it from view state of image
data and we know that within that key we
have a data set object
so let's typecast it to data set so now
we should be able to get you know the
image with this order but then instead
of this hard-coded one here it should be
I dot two string okay so we get this
image data row now keep in mind when we
reach number eight or number nine
whatever it is the maximum image and
then when it goes to number ten we will
not have a data row within that data set
object in that case what we need to do
we need to call I mean we need to
basically reset to one and then start
you know the sequence of displaying
images I've gained from that number one
okay so basically we need to check it
here
if image data row if this is not equal
to now then go ahead and do this
otherwise call set image URL function so
play straightforward
okay all right but all these changes
let's actually learn this and see if it
works as expected so what do we want we
want the image name and the order and
then we should be able to add images
without having to change the application
code look at that that's the image name
and that's the image order number now
look at that it's not incrementing the
order number beyond two why is that
let's actually look at the application
code that's because look at that we have
retrieved the value of five from
viewstate but we are not putting the
incremented value back into view state
variable that's why it is stuck at
number two so to fix this what we need
to do view state of image displayed is
equal to that incremented value alright
and then while we are here we also want
something like this you know the title
name and order
so let's specify that within the HTML so
let's call this name and let's call this
order all right let's go and run this
now
so when it first loads it has to load
image one look at that we have the names
of the images and we have the order
number as well okay so now at the moment
we have 8 images and then all the 8
images are displayed now I want you know
basically a 9th image to be included ok
so now you know it doesn't really
require us to change the application
code all you need to do is put your
image right there within that folder
that's it you are done so we have 9th
image here and so let me copy that and
then paste that into the images folder
ok and the next step is to obviously
update this XML file so what's the name
of the image my image that's the name of
the image so let's update that my image
and the order of that is going to be 9
so let's save the XML file let's go back
look at that we're at 7 8 first time it
doesn't show but then the next time it's
going to reload that from the XML file 8
and we should see 9th image as well so
we didn't really change the application
code all we have changed is the
configuration file XML okay
changing configuration files doesn't
really require you to do the application
build alright on this slide you can find
the sources face be dotnet c-sharp and
sequence of interview questions that's
it for today thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>