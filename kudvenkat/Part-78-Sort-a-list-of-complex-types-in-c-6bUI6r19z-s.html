<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 78   Sort a list of complex types in c# | Coder Coacher - Coaching Coders</title><meta content="Part 78   Sort a list of complex types in c# - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 78   Sort a list of complex types in c#</b></h2><h5 class="post__date">2013-09-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6bUI6r19z-s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 78 of c-sharp tutorial in
this video we'll discuss sorting a list
of complex types this is continuation to
part 77 so please watch part 77 from the
c-sharp tutorial before proceeding with
this video in part 77 we discussed
sorting a list of simple types like
lists of integers and lists of strings
not at runtime environment knows how to
sort a list of these simple types
because these simple types have already
provided the implementation for this
interface I comparable so this interface
has got one method compared to so
basically this is the method that we use
to tell dotnet runtime environment how
to compare you know objects of a given
type so that's why you know since we
already have the implementation for this
I comparable interface for these simple
guides dotnet runtime environment knows
how to sort them but when it comes to
complex types like customer if you look
at our customer class at the moment this
class doesn't provide the implementation
for this interface I comparable and look
at this this class has three properties
at the moment ID name and salary and if
you have a list of customers and then if
you ask the dotnet runtime environment
to sort them using that sort function
how will the dotnet runtime environment
knows how to sort that list should it
sort based on the ID property or the
name property or the salary property it
will have no idea we will have to tell
that to the dotnet runtime so and how do
we do that by providing implementation
for this I comparable interface ok so
let's go ahead and do that but before
that look at this we have this customer
class with three or two implemented
properties within the main method we are
creating three instances of this class
customer one customer two and customer
three and then we created a list of
customers and then to that list we are
adding those three customer objects now
let's go ahead and invoke this sort
function ok and let's build this by
pressing control shift pay and look at
this build succeeded so we don't get a
compile time at
but then when I run this at runtime we
get an invalid operation exception fail
to compare two elements and look at this
at least one object must implement I
comparable so we need to provide
implementation for that I comparable
interface so let's do that now so let's
make this class inherit from I
comparable interface I comparable of
customer and if I right click on this
interface and go to the definition on
that notice that this interface has got
one method compared to so let's copy the
signature of this interface and in the
class where we provide the
implementation for the interface members
we need to use this public access
modifier and the type here is going to
be customer because we are going to
compare an instance of this class with
this customer object okay and how do we
get access to an instance of this class
by using this keyword okay and look at
the return type of this method it's an
integer okay and this return value has
got some meaning okay so if that number
that we are returning if it's greater
than zero then the current instance is
greater than the object that we that we
are comparing with okay similarly if
it's less than zero then the current
instance is less than the object that's
being compared with in case if it's zero
then both of them are equal okay so
let's say you know we want to have these
customer objects sorted by their salary
okay so if that's the case then this dot
salary if that is greater than the other
objects dot salary if that's true then
let's go ahead and return one else
F
let's copy the same condition if this
taught salary is less than the other
objects salary in that case I'm going to
return minus one else you know if it's
not greater or if it's not lesser then
we know for sure they are equal in which
case written a zero that's it so we have
provided the implementation for this
compare to method okay so let's go and
run this now but before we do that let's
print the list of customers so we are
sorting the customer objects based on
this salary
so before we invoke the sort function
let's print the list so let's use a for
each loop for each customer see in our
list customers let's print this salary
and let's print a message on the top
stating this is before sorting so before
sorting
okay and then we sort it and then let's
print the list once again
but let's say the text here is after
sorting let's put a semicolon there and
a semicolon there all right so let's go
and run this now so look at that before
sorting four thousand seven thousand
five thousand five hundred at the salary
but here we have them in ascending order
four thousand five thousand five hundred
and seven thousand okay so the sort
functionality is working now as expected
now if I want these salaries to be in
descending order
then it's very simple all you need to do
is invoke the reverse function so list
customers dot reverse so we run that we
should have salaries in descending order
all right now look at this here in this
compare to function you know the salary
is of type integer okay and if you look
at the int type that's a structure and
this int has already provided an
implementation for I comparable
interface so obviously this I comparable
interface has got this method compare to
so this compare to method for the int
type has already provided implementation
can't I use that implementation here
because the salary is of type integer so
instead of writing all these lines of
code what I basically can do is I can
achieve that in one line return this dot
salary okay
so returned this dot salary salaries of
type integer and integer type has
already provided implementation for this
method compared to so I'm going to use
that and then compare that with the
other objects salary property and you
know if we highlight over this look at
that it's returning an integer by so now
you know we have less code and the
behavior should be the same okay all
right okay at this point if you look at
this customer class we are sorting the
list of customers based on their salary
okay but this customer class has got
several properties like ID name and
salary now let's say my requirement is I
don't want to solve this customers by
their salary instead I want to sort them
based on their name if that's the case
the default sort that is provided by
this customer class is useless so I need
to change the implementation so instead
of saying this starts salary dot
compared to I can say this starts name
dot compared to with other objects named
property so in this case when we invoke
sort then the customers are going to be
sorted by their name okay so let's
actually print the customers name there
and similarly here customers name so
let's run this now and look at that you
know they're in that order but here you
know they're in descending order because
we asked it to be printed in descending
order because we invoke the reverse
function so it's working here we own
this customer class so we can change it
the way we need it
but in real time there may be several
instances where you don't own the class
code but you want to change the default
sort functionality provided by that
class you don't want to use that but
instead you want to sort objects of that
type you know using another property so
how do we achieve that that's when we
provide implementation for this
icomparer interface so you can create
your own class make that inherit from
icomparer interface icomparer of
customer and then that interface has got
this method compare and you provide the
implementation for that interface so
let's go ahead and undo these changes
okay so at the moment this customer
class is still sorting the employees
based on their salary that's the default
implementation provided by the customer
class but in my project elsewhere I want
to sort employees I mean customers based
on their name if that is the case what I
can do is I can create my own class so
maybe let's call this class sort by name
you can give it any meaningful name you
want
and then we are going to implement this
I compared interface so I compare of
customer and this interface has got one
method so let's right-click on that and
go to the definition so it has got this
compare method so I'm going to copy the
signature and then paste it right there
so let's have the public access modifier
and the types here are going to be
customer so that's one customer object
and this is going to the other customer
object okay and then we want to have
these customers sorted by their name so
written X dot name dot compare to again
string type has already provided the
implementation for compare to method so
we are going to use that implementation
here
compare that with Y dot name property
and then return the value that this
method is returning that's it so now
that's the first step provide the
implementation basically create your own
class and implement icomparer interface
the next step is to create an instance
of this class and then pass it to the
sort function so here so here we are
using the default sort powered by the
customer class but if you don't want to
use that what I'm going to do here is
sort the employees I mean customers
based on their name so I can create you
know sort by name class and let's call
it sort by name equals new sort by name
and then let's pass that there so so the
employees customers by name and then
let's use this loop and print them so
sorting
by name okay so let's go and run this
now so here you know before we have
sorted it by salary
you know the salaries are like that then
we have after sorting by salary you know
they're like that in reverse order but
here we are sorting by name we can't
really see that but let's do this let's
actually print customer name instead of
salary so at this point we should have
customer names in you know ascending
order M P R mark Pam Rob okay all right
now the sort claw
I mean method on the list instance has
got several overloaded versions so we
have seen how to use this you know
version which doesn't take any parameter
if we use this method then the default
sort functionality provided by either
class will be used but then if you want
to overwrite that if you want to provide
your own sort logic then you can create
another class that implements icomparer
interface and then create an instance of
that class pass it as an argument to the
sort function okay so that's when we use
this overloaded version where we pass
icomparer
but there is another overloaded version
if you look at this there is something
called comparison of customer so what is
this comparison type is it a class is it
a delegate what is that
so let's actually look look at that so
comparison of let's say customer and now
this is actually look at that it's
actually a delegate okay and delegates
are very important and very useful in
our next video we'll discuss how to use
this overloaded version of sort which
expects a delegate of type comparison to
be passed as an argument all right
that's it for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>