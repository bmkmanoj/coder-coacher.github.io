<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Different ways to cache application data in asp net   Part 127 | Coder Coacher - Coaching Coders</title><meta content="Different ways to cache application data in asp net   Part 127 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Different ways to cache application data in asp net   Part 127</b></h2><h5 class="post__date">2013-02-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/25xUuSwDLyI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to precision technologies
I am venket this is part 127 of asp.net
video tutorial in this video we'll
discuss about different ways that are
available to cache application data
removing an item from cache similarities
and differences between cache and
application state variables in part 126
of the asp.net video tutorial we
discussed about caching application data
using direct assignment so if you
remember we have this method called get
products data which executes this stored
procedure retrieves the products from
the database and returns them as a
dataset so here in the button click
event we invoke that method and then
whatever data set that is returned by
this method is then stored in this
variable D s which is then cached using
this products data key so here we are
storing this data set in cache using
direct assignment now apart from caching
data using direct assignment there are
other options as well we can either use
cache objects insert method or add
method let's look at using each one of
them so instead of using the direct
assignment I want to use cache objects
insert method to cache application data
and to do that so cache dot insert so
I'm using this method and look at this
the moment I open this bracket there are
five overloaded versions as you can see
here and obviously the simplest of these
five overloaded versions is this method
which expects the cache key and the
value that we want to store okay so
there are several other overloaded
versions as well so the second version
is here apart from the key and value it
also expects a cache dependency so we'll
talk about cache dependency in a later
video session basically cache dependency
means you know obviously when you have
data that is stored in the cache if it
is dependent on a data source and if the
data in that source changes I want to
obviously refresh the data that's
present in my cache okay so I can do
that using this cache dependency object
we'll talk about this in a later video
session and similarly I have several
other parameter loaded versions
well which takes different parameters
here in this case absolute exploration
and sliding exploration again we'll we
can set expiry date for a cash object
we'll talk about that also in a later
video session so we will discuss about
using all these different overloaded
versions in a later video session but
for now let's use that simple version
which expects just the key and value so
here the key is going to be the same one
products data and the value look at this
this is very important the data type of
the value that we want to cache is
object meaning you can store anything in
the cache object okay here I want to
store data set so I specify the s so I
save that and run my application
obviously here we haven't changed the
functionality in any way it is just that
instead of using direct assignment to
store you know the data set in the cache
object we are using the cache objects
insert method and if you remember here
we have this SP get products method
which basically is blocking the
execution of the store procedure for
five seconds instead of that I'm going
to update that to one second just to
save some time okay so obviously now
when I click that the data should be
returned in less than a second and you
can see that it took one second and it
loaded the data from database I click
this again we get that data set from
cache object and obviously zero seconds
load time there okay alright so we have
just seen how to use the cache objects
insert method now let's see how to use
the other option which is using the
cache objects ad method so cache don't
add now look at this cache objects ad
method does not have any overloads
meaning we have to supply values for all
these parameters okay now obviously the
first parameter is the key in our case
the key is going to be products data so
let's copy and specify the key there and
then the next parameter is obviously the
value the value is again data set and
look at the third parameter cache
dependency for now let me just pass null
for cash dependency and then we have to
specify absolute exploration now if you
don't want to specify absolute
exploration look at here what it says
you know you can specify if you if you
are using sliding exploration the
absolute expert I mean the absolute
exploration parameter must be system dot
web caching dot cache dot no absolute
exploration okay now I don't want to
specify any absolute or sliding
exploration so for this parameter for
now I'm going to say no absolute
exploration let's use that system dot
web caching on top so that we don't have
to type the entire fully qualified name
space every time so system dot verb dot
caching so here we need to specify no
sliding exploration which is present in
the cache class so cache class dot no
sliding exploration no absolute
exploration here and then we need to
specify no sliding exploration because I
don't want to specify any sliding
exploration at the minute so now no
sliding exploration and cache item
priority we'll talk about cache item
priority in a later video session as
well so cap for now I am going to
specify cache item priority dot default
and then finally cache item removed
callback delegate now for this at the
moment I am going to pass now okay so if
you look at this method again we are
simply caching here the data set using
this products data all the other
parameters I have set them to their
defaults now so this line again is
equivalent to any of these okay so
obviously now if I run this behavior is
not going to change in any way except
that now we are using cache objects add
method ok so the behavior is the same
all right another important thing is
that we have to be extremely cautious
when dealing with cache keys assigning a
value to a cache key that is already
being used will silently overwrite the
existing value without any warnings
whatsoever meaning let's say for example
in the P
each load I'm trying to store an item in
the cache
you know let's say in page load I'm I'm
setting cache of my key is equal to
value 1 and when I click the button
let's actually comment this here in the
button click event for the time being
okay let's say in the button click event
I'm just changing that cache of my key
to value to now look at this in the page
load event which happens before button
click you're setting that key to value 1
and in the button click event you are
changing it to value 2 in the sense you
are assigning a different value to that
key so what happens to value 1 it gets
silently overwritten so if that's your
intention then that's fine but if it
happens unintentionally or accidentally
then you will lose the value that is
already present in the key so just be a
little cautious when dealing with these
cache keys obviously now when we say the
LBL message door text is equal to cache
of my key dot to string so what will
happen
instead of value 1 value 2 will be
displayed in the label because that will
be silently overwritten the value 1 okay
all right so let's get rid of this and
let's uncomment this code
and let's get rid of this line all right
and to remove an item from cash
explicitly so if we want to remove the
cached item explicitly we can use cash
objects removed method so obviously if I
want to remove an item with key my key I
simply say cash store trim oh let's say
for example on this waveform let's have
another button here and obviously when I
click that button I want to remove the
cash object so cash dot remove and look
at that we need to specify the cash item
key that we want to remove in this case
I want to remove the item with key
products data so I'm going to copy that
and specify it here okay and then as
soon as I remove that I want to display
the message in the label stating the
cash item is now removed so the cached
item is now removed okay so let's go
ahead and run this now so when the
webform loads up and then when we click
that button we should be able to
retrieve data from the database and load
it in the grid view control S as well as
cache it I click the button again so I
get it from the cache so when I click
this button what should happen the cache
item should be removed let's click that
button and see what's going to happen
look at this the cache item is now
removed but then look at the data I
haven't lost the data so where is this
data coming from now this is not coming
from cache this is not coming from the
database this data is actually
maintained on the waveform because we
have you know view state enabled for
this grid view control by default so if
we disable the view state for the grid
view control using enable view state
property so there is enable view state
property which is turned on by default
I'm going to set that to false and then
let's go ahead and run this now so now
since I have disabled view state
look at that when I say get products
obviously we get the data from database
now I click it again to restrict you
from cash now I'm going to remove the
item from cash look at that the cash
item is now removed so as soon as the
waveform posted back you know the cash
item is removed and then since we don't
have a view straight enable for the grid
view control we don't have the data
there anymore now if we want to remove
the item from cash explicitly we use
remove method but remember you know an
item may be removed automatically from
cache then any of the following
conditions are true now the cash item
can have an expiry we can set an expiry
date and time on on the cache object and
if the cached item has expired then
obviously it will be automatically
removed by a spirit net okay on the
other hand a cache item may also be
automatically removed if the system or
the web server is running low on memory
and the cache is full so web server will
will come around and then remove the
items from cache ok so again that will
happen automatically if the web server
is running low on memory now we can also
set a cache a dependency we'll be
talking about that in a later video
session so when there is a cache
dependency established and then the item
that the cache object is dependent on
has changed obviously we need to refresh
the cache or or we can specify what to
do so
basically when the cache dependency has
changed you know even in those
circumstances the cache item may be
removed automatically but then if you
want to remove the cache object
explicitly we use remove method in a way
cache object is actually similar to
application State in fact this is a
common interview question as well what
is the similarity between application
state variables and cache cache objects
you know basically the scope both of
them are global which means they are
available anywhere within the web
application for example you know I have
stored here on the button click event we
are storing this item products data
within cache not only on web form one in
any of the web forms in throughout your
entire
our web application this you know cached
data will be available so the basically
the accessibility is global at the
application level just like application
state variables okay now what is the
difference between them items stored in
cash can have expiry whereas items
stored in application state will never
expire so the cache objects gives us
some flexibility you can you can specify
expiration time but whereas with
application state variables we cannot do
that so those are the similarities and
differences between cash and application
state variables on this slide you can
find resources for asp.net c-sharp and
sequel so interview questions that's it
for today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>