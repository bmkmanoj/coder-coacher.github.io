<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 80   StringLength attribute in asp net mvc | Coder Coacher - Coaching Coders</title><meta content="Part 80   StringLength attribute in asp net mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 80   StringLength attribute in asp net mvc</b></h2><h5 class="post__date">2013-08-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tSzBNRAfpGY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part eighty of asp.net MVC
tutorial in this video we'll discuss
string length attribute string length
attribute is present in system dot
component model dot data annotations
namespace and this attribute is used to
enforce minimum and maximum length of
characters that are allowed in a data
field let's understand this with an
example
we'll be using this table TBL employee
for this demo I'll have the sequel
script available on my blog in case if
you need it now based on this table TBL
employee let's go ahead and add ATO
dotnet entity data model so let's flip
to visual studio let's right click on
this models folder add a new item select
data under install templates ato dotnet
entity data model and let's call this
sample data model click add we want to
generate our model from the database
Oller let's select that option click
Next and we want our connection string
to be saved as sample DB context within
the web config file click Next
so this is going to connect to the
database and retrieve all the tables
views and stored procedures let's expand
tables and select our table TBL employee
and we want all models to be living in
models namespace
let's click finish so at this point this
should generate an entity with named TBL
employee but let's change the name to
the employee and let's say build a
solution so that this employee entity is
compiled now let's add a controller and
let's name it home controller and let's
use this template MVC controller with
read / write actions and views using
entity framework and our model class is
going to be employee entity class that
we just generated and the data context
class is going to be sample dbcontext
let's click Add at this point this
should add home controller and all the
required views so let's build our
solution and navigate to the index
section within the home controller
at this point we don't have any
validations in place whatsoever
let's click Edit and we get a compile
Asian error and that compliation error
is due to a scripts section on edit view
let's go ahead and get rid of that
we'll just the script section in a later
video session and while we are here
let's use a div tag and set the style
attribute let's set font family to here
and let's move this closing div tag to
the end let's save these changes and
let's go ahead and refresh this view and
notice that at the moment we are passing
employee ID 1 to this edit action which
means we are editing an employee whose
ID is 1 now we don't have any
validations in place now let's say I
want to enforce a validation and that
validation should ensure that this name
property of the employee class has got
at least 5 characters and a maximum
length that's allowed is 10 characters
so minimum should be 5 characters and
maximum is 10 characters and to enforce
this validation all we need to do is we
need to decorate that name property
within the employee class with this
string length attribute and then specify
the minimum length and maximum length as
you can see here but then if you look at
the state of our application at the
moment we have the sample data model and
within that we have the sample data
model designer dot CS file so this is an
auto-generated file and within that file
we have got you know when we expand this
entities we have a class called employee
here the employee entity class and then
when we expand this region primitive
properties region within that we have
this name property so can I go ahead and
decorate this name a property with
string length attribute if I can go
ahead and do that by the way string
length is present in system block
component models or data annotations
namespace so we need to bring that in
but then the problem is if we decorate
this name property here you know this is
a custom change that we are making to
the name property but then later
for some reason if this auto-generated
file is free generated again so if we
were to you know regenerate the ad or
dotnet entity data model we will lose
all our customizations that's why it's
not a good idea to make any changes to
this auto-generated file now this
employee class if you look at this it's
created as a partial class which means
we can add another partial class called
employee and then we can make all
customizations to that partial class
because later when we regenerate you
know the ad I wrote an entity data model
again that class wouldn't be affected
only this file will be regenerated so we
won't lose our changes so let's go ahead
and add another class file and let's
name this employee
so this is going to be a partial class
so let's go ahead and use partial
modifier and then I'm going to create
another class and that class is not
going to be a partial class and I'm
going to call this employee metadata
okay so basically this class is going to
contain the metadata for employee class
and that's why I have named it like that
or you can give it any meaningful name
you want now I'm going to link these two
classes using this attribute metadata
type attribute and this attribute is
present in system that component model
data annotations namespace so let's go
ahead and bring that in as well so
system that component model dot data
annotations and then let's link these
two classes using a metadata type
attribute so obviously we need to
specify the type of the class which
contains metadata so I'm going to use
type of keyword to get the type of this
class employee metadata so let's copy
the name and then let's move it there
all right so now let's declare our name
property so name properties of type
string
so we are going to decorate this
property within this employee metadata
class with that string length attribute
okay
string length and look at this this has
got in a one parameter maximum length so
let's go and set that so maximum length
let's say let's ten characters and then
to set the minimum length we can use
these named parameters so this one named
parameter called minimum length so let's
go and set that minimum length equals
five so let's build our solution let's
go back to this view so let's go back to
the index view and then let's click Edit
okay now let's say you know let's
include one character in the name and
then let me click Save and see what's
going to happen look at that I get that
validation message back the field name
must be a string with minimum length of
five and maximum length of that ten
characters so we get the validation as
expected now if I try to include a name
that's more than ten characters let's
look at what's going to happen look at
that we get the same as h-back okay now
for some reason if you don't like this
error message you can customize that as
well so here you can specify there is
another named parameter called the error
message so you can specify your custom
error message that you want to be
displayed all right now on the other
hand if we give it you know the right
data
you know this string
you know meets that requirement it let
it is at least minimum five characters
and not more than ten characters so when
I click Save it works as expected
but then there is another problem here
look at this when i blank out name and
when I click Save you know it's
accepting the name so it's not enforcing
you know the rule that this property is
required okay so that's not the job of
this string length attribute that's the
job of the required attribute so if you
want to make sure that
this name property is also required then
go ahead and decorate that the required
attribute so let's build a solution
let's click Edit and then obviously at
the moment name for that employee with
ID is equal to one will be saved as now
and then look at this when I try to save
it we get an error the name field is
required so at this point name field is
required and the minimum characters is 5
and maximum character should be should
not be more than 10 okay so let's click
Save look at that we are able to save it
so string length attribute is present in
system dot component model dot data
annotations namespace string length
attribute verifies that a string is of
certain length but does not enforce that
the property is required if you want to
enforce that the property is required
then we have to use required attribute
there are other data validation
attributes as well which we will be
discussing in our upcoming videos in our
next video we'll discuss regular
expression and range validation
attributes that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>