<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Enhancing gridview using jquery when deleting mulitple rows - Part 29 | Coder Coacher - Coaching Coders</title><meta content="Enhancing gridview using jquery when deleting mulitple rows - Part 29 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Enhancing gridview using jquery when deleting mulitple rows - Part 29</b></h2><h5 class="post__date">2013-03-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yuGOf2qc334" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to Collegium technologies
I am venket this is part 29 of asp.net
grid-view tutorial in this video we'll
discuss about enhancing grid view using
jQuery when deleting multiple rows in
part 28 we discussed about deleting
multiple rows from grid view please
watch part 28 before proceeding with
this video now if you remember in part
28 we have written code you know so that
when I you know check the check box
within the header look at this all the
check boxes within the data rows of the
grid view are automatically checked on
the other hand if I uncheck that these
are unchecked okay so every time I check
our and check a check box within this
grid view control the webform is posted
back to the server and we are doing the
processing on the server side
so every time FF form is posted back to
the server the webform has to be
reprocessed generate the HTML send it
back to the client okay so instead of
that I want to use JavaScript to toggle
the selection of these check boxes
within the grid view control this is
going to improve performance and user
experience that's because the processing
is done on the client without posting
back to the server so this is definitely
going to improve performance and they by
user experience let's see how to achieve
this so obviously I want to use jQuery
with this one you know to achieve this
the first thing is we don't want the
waveform to be posted back to the server
when the selection in the check box
changes okay now the wave form is
posting back because we have set auto
post back property of the check box
within the header and within the data
row you know to true so let's turn that
to false or let's remove that auto post
back attribute altogether so within the
header template you know we have a
template field where we have header
template and item template so within the
header template I have this check box
all I need to do is get rid of the sort
of post back property or set it to false
okay and again we don't want you know
the server-side method to process this
for us so I'm going to get rid of this
on check that changed even handler
method as well okay so we have removed
the auto post back property and we have
removed the event handler that is
associated with this check box
whenever the you know check the status
of the checkbox changes its going to be
posted back to the server and there is
an even handler method within the
code-behind file let's go ahead and get
rid of that as well so check box delete
header check to change we don't need
this event handler anymore so let me get
rid of that and now let's do the same
thing for the check box that's present
within the item template so let's get
rid of auto post back property and the
even handler method all right and then
within the code-behind file let's delete
that method as well check box delete
check the change we no longer need that
method alright so those are the changes
that we need to do and then since we
want to use jQuery you know let me drag
and drop this jQuery file okay jQuery
- 1.4 dot one dot min dot J s now if you
are new to jQuery don't worry we will
talk about jQuery in detail in a later
video session so let me drag and drop
this jQuery file here okay all right so
at this time if I go ahead and run this
application you know of the check boxes
are not going to work at all look at
this I checked this nothing happens the
waveform will not be posted back to the
server and nothing happens at all that's
because we have not written the code
okay so let's go ahead the first thing
is you know when I check this checkbox
within the header we want all these
check boxes to be automatically selected
on the other hand if I deselect it they
should be automatically selected and to
achieve that I have written some
JavaScript code let me copy that and
paste it within in a first fall since we
want to write some JavaScript within the
header section we need to use the script
tag and I'm going to specify the type as
text slash JavaScript and language is
going to be JavaScript so within that
I'm going to paste this function and
this is very simple function here I'm
using jQuery selectors you know which
makes the selection of the controls on
the waveform very much easy
okay so here
I'm calling the function as toggle
selection using header checkbox okay so
I have this header checkbox I want to
toggle the selection of the checkboxes
within the data rows of the grid view
control using that header check box when
I check that automatically check all
these if I uncheck that uncheck all this
so toggle selection using header
checkbox and I'm passing this a
parameter a source that source is going
to be the headers checkbox okay now look
at what I am i doing you know I hardly
have one line of code here I mean very
simple to understand so if you look at
the ID of the grid view control it's
grid v1 so we are using hash means you
know the ID selector within jQuery so
within grid v1 find all input elements
whose name attribute ends with CB delete
okay
now this may sound a little complicated
at this time so what I'm basically
saying is within this grid v1 find all
the checkboxes who has name of CB delete
that's what the selector mean here
actually the name should end with CB
delete okay now the important thing to
notice here if I right-click on this
page and then when I say view page
source look at this these checkboxes all
of them are actually rendered as input
elements so you can see that that's the
input element that's the ID don't worry
about ID look at the name attribute so
it's ending that's the delete header
that's the checkbox within the header
but then if you look at the other
checkboxes within the data rows for
example this is the one which is
displaying data mark male and London and
if you look at the checkbox here look at
the name it's ending with CB delete okay
so basically what we are doing find all
the checkboxes whose name ends with CB
delete and then loop through each of
them and then look at that what are we
doing you know
this checkbox has an attribute called
chapter okay set that value to whatever
is the value going to be
the source you know the checked property
of the scores so what is source here the
source is going to be the header so if
the header checkbox is checked then set
the you know all these checkboxes to
check if it is unchecked then all of
them will be unchecked so that's what
these two lines mean it's very simple
okay so obviously we need to use this
function so let me copy this function
and then use that within our check box
you know that's present within the
header template so what I basically want
to do is I want to hook this up with on
click event of that checkbox control so
I'm going to call this function but
remember this function has a parameter
we need to pass in the source the source
is going to be this checkbox itself so
I'm simply going to say this okay so
that's it if I run this now when the
waveform loads and when I change the
selection within the header look at
what's going to happen it is
automatically selecting them I unselect
that automatically and selecting them
now the important thing to notice here
is that the waveform is not posting back
to the server everything is happening on
the client side okay but then there is
another problem here look at this if I
uncheck any of these check boxes you
know the check box within the header
should be automatically unchecked but
then it's not happening okay on the
other hand if I start checking all of
them you know when I select the last one
available this check box should be
automatically selected but again that's
not happening why because we have not
written code for that let's see the you
know the function that's required to
achieve that again just to speed things
up I have that already typed so let me
copy that and paste it within our visual
studio and then we'll go over the code
so this is the other function that we
have so what should happen you know when
the selection here changes you know
depending on whether if I have selected
all of them or at least one is unchecked
we want to you know control the
selection of the check box within the
header okay and again this is very
intelligently written you know if you
look at this function this is very
simple again so basically what we are
doing here so toggle selection of header
check box so
so let in grid v1 find all input
elements in put meaning checkbox
elements find all checkbox you know in
our case now at the moment its checkbox
input can be anything basically it can
be a text box also but in our case we
are referring to them you know to check
boxes so input elements where name ends
with CB delete so we are we are getting
the length of all those elements meaning
how many elements do I have that has you
know an input element whose name ends
with CB divided so if you look at this
here at the moment I have 6 check boxes
ok all of these check boxes their name
attribute ends with CB delete and then
what we are saying is so those are six
elements and look at the line if that is
equal to this is very much similar to
this line so the same thing grid we want
all input elements with name CB delete
but whose you know which are checked I
want all those check input checkboxes I
mean checkbox elements which are checked
ok and we are getting the length of that
so if the check boxes you know these
check boxes if they are the number of
check boxes are equal to the number of
check boxes that are checked then we
know for sure
all of these check boxes are checked in
which case we are actually setting the
check the status of the check box you
know who has an ID I mean name of CB
delete header to true otherwise we are
setting that to false it's as simple as
that okay so this is the main logic that
we need to understand if the number of
check boxes here is equal to the number
of check boxes that are checked then we
know for sure all of these are checked
in which case select this otherwise
unselect this ok and that's what we are
doing here ok now obviously we need to
call this function now this function
doesn't take any parameters so obviously
anytime you know when I change the
selection here that's when I need to
call that function
so within this you know item template
let's use the on click function so I
mean event so on click of the checkbox I
want to call that function so let's run
this now
now the other piece also should work
when I start selecting these you know
automatically the header should be
selected if I undies select even one
checkbox
look at that it's automatically D
selected I select this everything so now
the selection within the grid view
control is working fine without issues
ok the final thing that is left out is
basically to get you know this
JavaScript alert which is again very
easy at the moment we don't have any
Ehlert whatsoever if I select that I
click delete button look at that one row
deleted ok if I don't select anything it
says no rows selected to delete but this
is happening on the server side now if
if I haven't selected any rows then I
should get a message you know from the
client itself without even posting back
to the server saying no row selected and
look at this Here I am getting an alert
box and Here I am getting a confirmation
with ok and cancel buttons so when I
click OK here I should not post back to
the server when I click OK in the second
you know if you look at the second image
here I've selected all the rows so when
I click delete it should ask it should
prompt me three rows will be deleted and
then when I click OK that's when it
should push back to the server delete
those through three rows otherwise if I
click cancel it shouldn't post back ok
so here in the first case I want an
alert in the second case I want to
confirm that confirmation dialog box ok
so let's see how to achieve this and
obviously again I have a very simple
jQuery function here so let me copy that
and paste it into visual studio and then
we'll explain that so here I who I'm
hooking up the function directly with
the event you know here with the with
the function itself so I'm using the
classic document or ready function of
the jQuery so and within that what we
are doing I have this button so on the
web form this is the button and if you
look at the eye
of the button it is BT and delete so
that's the button here BT and delete so
what I am saying is so find that element
and to the click so when I click that
button what do I want to do I want to
call this function and if you look at
this function it's it's pretty
straightforward so within the grid view
control find you know the check boxes
okay the check boxes with name CB delete
that end with name CB delete and that
are checked get the length of them okay
so I'm storing that in this rule
selected variable if the true selected
is 0 then we know for sure you know the
user has not selected anything in which
case we want to show an alert box you
know to the user with just the ok bunker
you know button so I'm showing that
using that alert JavaScript function and
then look at this I am using this line
return false why is this required
because if you don't return false when
you click OK on that alert function the
waveform will be posted back to the
server we don't want the waveform to be
posted back to the server
you know when once I click OK on that
alert box that's why I am returning
false on the other hand if rows selected
is not 0 then we want a message you know
3 rows will be deleted or 2 rows will be
deleted depending on how many ever rows
we have selected so to get that so I am
using that true selected variable which
is carrying the number of rows and then
I am appending to that rows will be
deleted message and look at this I'm
using a confirm JavaScript function here
which will automatically show a dialog
box with okay and cancel when I click OK
that confirm function is going to return
true otherwise it will return false in
which case the waveform will will not be
posted to the server so pretty simple
and straightforward now since we have
associated this function directly to the
click event I don't have to hook this up
to the button it's already hooked up
here okay so let's run this now and we
are done so look at this when I click
delete I get that no row selected I
click OK notice that the wave form is
not posted back to the server on the
other hand I see
all the rows I click you know delete
look at that five rows will be deleted
so I only have 5 rows look at that it
that check the header checkbox is not
taken into consideration only the data
rows there are five data rows and all
five of them will be deleted I click
cancel look at that the waveform will
not be posted back when I click OK
that's when the waveform will be posted
back and then deleted let's actually
delete only a few rows or two rows here
so two lows will be deleted right click
okay look at that I get that message two
rows deleted all right
on this slide you can find resources for
asp.net c-sharp and signals of interview
questions that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>