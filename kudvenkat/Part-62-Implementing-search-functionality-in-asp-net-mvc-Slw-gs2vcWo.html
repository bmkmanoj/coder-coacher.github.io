<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 62   Implementing search functionality in asp net mvc | Coder Coacher - Coaching Coders</title><meta content="Part 62   Implementing search functionality in asp net mvc - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 62   Implementing search functionality in asp net mvc</b></h2><h5 class="post__date">2013-07-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Slw-gs2vcWo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this part 62 of asp.net MVC tutorial in
this video we'll discuss implementing
search functionality in an MVC
application for the purpose of this demo
we'll be using this table TBL employee
here is the sequel script to create this
table and this is to insert sample data
into that table
I'll have the sequence script available
on my blog in case if you need that now
based on this table we want to design a
view like this with a search interface
we want the users to be able to search
either by name or by gender if they want
to search by name they simply select
that radio button enter the name of the
employee if there are any employees
whose name start with whatever the user
has typed here then we want to list
those employees on the other hand if no
employee name starts with whatever we
have typed here then we want to display
message stating no rows match search
criteria on the other hand if I want to
search by gender I simply select that
radio button enter the gender there
click search all the employees with
matching gender should then be displayed
let's see how to achieve this obviously
the first tab is to generate an ad or an
entity data model based on this table
TBL employee so let's flip to visual
studio here I have a blank asp.net MVC
for application I don't have anything in
models views and controllers so the
first step is to add a to.net entity
data model so let's right-click on the
models folder add a new item select data
area dotnet entity data model and let's
name it sample data model click add we
want to generate our model from the
database and we want our connection
string to be stored as sample DB context
in web config file click Next this is
going to connect to the database
retrieve all the tables views and stored
procedures expand tables select table
TBL employee and we want our entities to
be living in models namespace click
finish this should generate TBL employee
entity but we want our entity to be
named as employee so let's rename it to
employee save everything let's build the
solution the next step is to add the
home control
so right-click on the controllers folder
add a controller and let's name it home
controller use this template MVC
controller with the read / write actions
and views using entity framework the
model class is going to be employee and
the data context class is going to be
sample DB context and we want to use
raiser views click Add this should
generate the home controller and all the
required views index details delete
create etc okay so let's save everything
build the solution and navigate to the
index view so this should display the
index view with all the employees data
from table TBL employee now let's format
this a little better so within the index
view let's use a div tag and set the
style attribute
and let's move the closing div tag to
the end of the view and then let's also
set a border for the table these changes
let's refresh this view so we get the
border and the one family set area now
let's have a action as they heading for
this last column all right so let's
refresh this all right now let's design
the search interface basically we want
search by this literal text there and
then two radio buttons one for name and
the other one for gender so let's
achieve that so let's use another
paragraph tag and let's use a bold tag
and then specify the string search pi
and next to that we need a radio button
and to generate that let's use radio
button HTML helper and now the first
parameter obviously here is the name for
that radio button the name is going to
be basically why are we using these free
do buttons we are using them to specify
what we want to search by do you want to
search by name or do you want to search
by gender so let's give it a meaningful
name so let's name it search by and then
the next parameter is the value for that
radio button the value is going to be
named so if you want to search by name
then you will use this radio button and
next to the radio button we want to
display you know the text s name
so let's include that and then we want
another radio button for gender so let's
copy and paste that there so the text is
going to be gender and the value is
going to be gender okay and then in the
next line we need a textbox control and
a search button so let's include an HTML
break and then to generate the a text
box let's use text box HTML helper and
then why are we using this text box
control we're using this text box
to specify this search term okay so
let's give this textbox and name since
we are using it to specify the search
town term I'm going to give it a name of
search alright but these changes
actually we need a button as well so
let's include input type is equal to
submit and the value 1 that button we
wanted as search all right so with all
these changes let's refresh this view
and see if we get the interface that we
expect so we get the interface that we
expect all right now when we click this
button we want to retrieve some data as
part of get request since we are not
going to change the state of data it's
better to get the required to get the
data using a get request ok and for that
purpose
we need to use a form tag so basically
all these controls need to be wrapped
inside a form tag and to generate a form
tag we can use begin form HTML helper so
at HTML dot begin form and then since we
want an opening and closing since we
want a closing form that to be
auto-generated let's use the using
statement and wrap the call to begin
form HTML helper inside that and look at
this the moment I do that it considers
this name and gender as c-sharp code ok
but we know that we want that to be
treated as literal text so that it gets
displayed next to that name radio button
and chain the radio button okay
so to specify our intention to raise a
view that it's a literal text let's use
this text element let's close that and
let's do the same thing for gender
okay and then look at this when we
submit this button you know we want to
basically invoke the index action the
index action within the home controller
that's what is pulling it out this data
and displaying in the stable okay so we
want to invoke index action within home
controller and we want to do that as a
cat request so we need to specify that
you know within the form tag so this
form tag helper has got several
overloaded versions I'm going to use the
version where you can specify the name
of the action in our case it's going to
be index and the name of the controller
it's going to be home controller and
which method do you want to use to
retrieve data do you want to do that
using a get request or a post request
since we are not modifying the state of
the data we can do that using a get
request so the action name is going to
be index and the controller name is
going to be home and which method we
want to use get method okay
all right with these changes let's save
everything and let's refresh this view
and notice that when the form first
loads you know by default I want the
name radio button to be selected because
in my organization usually most of the
employees search by name so I want that
to be as the default selected option and
to do that we have another overloaded
version of this radio button helper
where you can specify whether you want
that radio button to be checked or not
okay so if you want that to be checked
past
true and then let's refresh this so when
the form loads you know named radio
button should be checked all right now
let's say for example I want to search
all the employees whose names start with
s I type in s they click on search and
look at what's going to happen look at
that the radio button selection that is
passed to the I mean as part of the URL
so
H bi is equal to name I have selected
name radio button so I want to search by
name and I want to search all the
employees whose name start with s so
that is passed as part of this query
string basically both the values are
passed to the server as part of the URL
in the form of query strings now all
that is left is basically to in order to
leave those values within the home index
action and then filter the employees
based on the search string so within the
index action I'm going to use two
parameters string search by string the
search time so obviously you know when
this action method is reached the
default model binder is going to you
know pass the values from the query
string in to this method automatically
and then what we need to do here if
search by is equal to gender then we
want to filter the employees based on
gender and this is the method which does
that I mean this line is going to return
all the employees but we don't want all
the employees we want to filter the
employees so let's go ahead and use a
ver clause and then specify your
condition so what is our condition
employee such that employee gender is
equal to whatever is there in the search
okay now on the other hand if search by
is not gender then it's going to be
named in which case we want to search by
name so let's include that in the else
part let's copy this code and paste it
right here let's say for example if I
type letter s here then we want to
search all employees whose name start
with s and then display them here so
basically instead of using a very laws
it will do an exact match instead of
that let's use starts with method o
employee let's use a very laws X such
that X dot name starts with whatever is
the search term alright let's save this
let's build the solution and let's
actually navigate to home controller
index action so by default name radio
button should be selected
okay so name radio button look at this
we have a problem here as soon as we
have navigated to the index section you
know we don't have any employees display
there why is that that's basically
because you know when when this view is
loaded you know this index section
method is expecting these parameter
values for these two parameters but then
obviously nothing is passed here
so basically name is going to be empty
gender is going to be empty so it's
going to search by name because it's
going to come to L spot and then it's
going to search by name and then since
search is null it won't find any
employee whose name is now so obviously
it is displaying an empty table you know
list there now by default then I don't
specify anything when I when I you know
load this view we want to display all
the employees if that is your
requirement then what you need to do is
you need to specify another condition
here so they may be gender or it could
be now so how do we do that how do we
specify that or search term is now
similarly we need to specify the same
condition right here you know name
starts with search term or search could
be now let's build this once again and
let's refresh this
so all employees should be listed now ok
now I can search by you know an employee
name so if I type s their search look at
that I get one employee whose name
starts with the S on the other hand if I
want to search by gender let's say I
want all male employees select gender
type mail search look at that I get both
the male employees and look at this if I
select for example name and I type let's
say X we don't have an employee whose
name starts with the X so when I click
search look at that it it doesn't
display anything but what is our
requirement we want to display a message
stating no rules match search criteria
in case if there are no employees
matching your search criteria so how do
we achieve that it's pretty simple so on
our index view so what is the model for
your index view it's ienumerable of
employee meaning a list of employees ok
now that's what is the model so what I'm
going to do here we have a table tag and
this TR is going to display that header
what you see right here and then if
there are no employees if the model
count is zero then we know there are no
employees in that case what you need to
do instead of executing this for each
loop because there is no point there are
no employees what I'm going to do here
is I'm going to conditionally check at F
the model for this view is list of
employees if the count of that is zero
then we know there are no more no
employees in which case we want to you
know display this message there okay and
we want to display that message as part
of the table so I'm going to render a
table Rome and then I'm going to use a
TD and then how many TDS are there
within the table we have four TDS
basically so if you look at this 1 2 3 &amp;amp;
4 we have 4 3 DS so we want the single
TD to span across the width of those 4
TDs and to achieve that we're going to
make use of call span attribute and set
that to 4 and then here we want to
display that message stating no rows
match search search criteria so no rows
match search criteria alright so if this
condition is true then display this else
if the count is not 0 then we know there
are some employees to be displayed in
that case you know go ahead and execute
this for each loop let's wrap that
inside that now another thing to keep in
mind look at that view have already used
an @ symbol here to specify the code
block so we don't have to use this @
symbol
otherwise we'll get a runtime error
let's leave it there and refresh this
view and see what's going to happen
let's actually navigate to the index
action look at that we get an error so
all you need to do is get rid of that
extra @ symbol from there save let's
refresh this and it should work as
expected now look at this if I type X we
don't have employees whose names start
with text believe that no rows match
search criteria we get it as expected
all right on this slide you can find
resources face be dotnet c-sharp and
sequels of interview questions that's it
for today thank you for listening have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>