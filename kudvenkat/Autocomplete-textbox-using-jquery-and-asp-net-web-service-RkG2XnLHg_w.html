<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Autocomplete textbox using jquery and asp net web service | Coder Coacher - Coaching Coders</title><meta content="Autocomplete textbox using jquery and asp net web service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Autocomplete textbox using jquery and asp net web service</b></h2><h5 class="post__date">2015-06-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RkG2XnLHg_w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 73 of jQuery tutorial in
this video we'll discuss how to
implement autocomplete text box using
jQuery and an asp.net web service in
part 72 we discussed how to achieve
exactly the same thing using the generic
handler in asp.net in this video we'll
implement this autocomplete text box
using jQuery and an asp.net web service
along the way we'll also discuss the
autocomplete source and min length
options this is the example that we
worked with in the previous video
session notice that at the moment we
have set the autocomplete source option
to a string in this case the
autocomplete widget in jQuery expect
this string to point to a URL and that
resource should return JSON data so here
in this case it's pointing to student
handler dot a sh X and this student
handler is going to return JSON data
back so if you set the source option to
a string it expects that to be a URL
resource so one of the options is to set
the source option to a string in
addition to that you can also set the
source option to an array you can set it
to an array of strings so here we have
an array with two choices choice 1 and
choice 2 let's see what happens when we
set it to an array of strings so instead
of pointing this to a URL I'm going to
set it to an array and this array is
going to contain two strings let's call
this choice 1 let's include another
string let's call this choice 2 let's
save the changes let's go ahead and
reload this page and look at this when
we type letter C we get both the options
choice 1 and choice too okay so you can
set it to an array of strings you can
also set it to an array of objects with
label and value properties so if you
look at what we have here we have an
array and it's an array of a JavaScript
objects so we have a JavaScript object
here we have an opening and a closing
curly brace and this object has got two
properties label and value label is set
to choice one value is set to value one
now within the notepad here
I have an area of three JavaScript
objects so let's copy that and set the
source to that array okay so let's go
ahead and save the changes and let's
reload this page and look at this when I
type letter C we get all the three
choices and let's select one of the
choice and look at what I get as the
value value one so the label property is
what is displayed in the suggestion menu
the value will be inserted into the
input element then you use a selection
item okay so you can also set the source
option to an array an array of strings
or an array of objects you can set it to
a string when you set it to a string it
points to a URL and that URL should
return JSON data and we discussed that
in part 71 you can also set it to a
callback function and we will discuss
that in this video session so let's go
ahead and first create a web service at
the moment we have got the student
handler and if you look at what the
student handler is doing this is
actually retrieving student names from
the database so what I'm going to do is
to this project add a new item and we
actually want to add an asp.net web
service so let's scroll all the way down
so select web service and let's call
this student service and now we want
this student service to be called from
script so I'm going to uncomment this
attribute and we are going to write some
ad or dotnet code so we need some ad or
dotnet namespaces in the interest of
time I'm actually going to copy that
from student handler you know that we
worked with in a previous video session
so we need these three namespaces system
configuration system data system data
dot sequel client so let's copy them and
paste them right here and I'm also going
to copy this ad or dotnet code from here
so I'm going to copy all of this code
that's present in process request
function and paste that within this
student service
okay and I'm going to change the name of
this function to get student names and
to this function we are going to pass a
term parameter and the type of that is
going to be string okay and we are not
going to get that using the context
object because we don't have that object
so I'm going to remove this line so here
we have a list of string object list
student names we are reading the
connection string from web.config file
this is the same code that we worked
with in the previous video session we
are calling the stored procedure and the
stored procedure has got a parameter at
term and we are executing the command
retrieving the names from the DB and
adding those names to this list okay and
finally we don't want to serialize those
names so I'm going to actually remove
that JavaScript serialization code and
instead I'm going to change the return
type of this function to list off string
and what we want to do is finally return
the list of student names so after we
loop through every student name that we
have got and after we have added that
name to the collection I am going to
return this list student names okay so
here we have our web service so let's go
ahead and build the solution and let's
view the student service in a browser
okay so let's click get student names
and term I'm going to pass you know
letter M and let's invoke that and look
at we get you know we get all the
student names that start with letter M
okay so our web search service is
working so all that is left is to invoke
this you know from our jQuery code so
now to this project I am going to add a
webform
so let's go ahead and add a new item
let's add a webform
and in interest of time I'm actually
going to copy the HTML and jQuery code
that we have in webform one dot aspx so
I'm going to copy all of this actually
except you know this page directive I'm
going to copy the rest of the code from
webform one dot aspx and paste that on
the form two dot aspx okay so we have
the textbox with ID txt name and we have
the ready function wired up so here we
are calling the autocomplete function on
this textbox okay and at the moment the
source attribute is set to an array of
objects okay now instead of that I
actually want to set that to a function
so associating a callback function with
the source option gives us the maximum
flexibility and this function is going
to have two parameters request object
and the response callback function now
the term a property of the request
object contains the value the user types
into the autocomplete text box and to
the response callback function we will
have to pass the data to suggest you
know the user names to the user okay so
let's look at that in action so I'm
going to associate a callback function
with the source option so this function
is going to have two parameters request
and response and this request object is
going to have just one property and that
property name is term and what is that
property going to contain now whatever
you type into this um you know your
student name textbox that will be
present you know in that property okay
so we can use request or term property
to retrieve the value that the user has
typed into the textbox so now what I'm
going to do is use the jQuery AJAX
function and issue an ajax request so
let's use the Ajax function and let's
configure the options so the first
option is going to be water the URL that
we want to
so in this case we want to actually call
the student service
okay so let's copy the name of the
service so we want to call student
service dot SMX and within that we have
a function get student names so that's
the function that we want to call and we
want to issue a post request so I'm
going to specify the method as post and
I'm also going to specify content type
so I actually want to send a JSON data
to the server so the content type is
going to be application for slash JSON
and let's also set the character set so
care set equals UTF - 8 and since we
specify that we are going to pass JSON
string to the server we have to convert
the data that we pass to adjacent string
and to do that
I'm going to use the data option and
JSON dot stringify method so here we are
going to pass a JavaScript object and
this JavaScript object is going to have
term property because that is what is
the name of the parameter that we have
here so term : and where is the value
going to come from the value you can
retrieve that in two ways you can
retrieve that from the text box itself
so you can basically use you know find
the text box and then use the Val
function on that you can do that if you
want but we know that this request
object that is coming into this function
will have term property which will
contain the value that the user has
typed into that text box right so I can
use the request object and the term
property of it okay so that's the data
that we are going to send to the server
and the type of data that we are
expecting back from the server is JSON
when the request completes successfully
we want to associate a callback function
so this function is going to receive the
data that
server is going to send and remember you
know the data to this you know whatever
object that the server returns by
default it will have a property D
attached to it right so if we want to
retrieve the first you know student name
for example we have to use data dot d
dot name right okay so what we are going
to get back is actually you know an
array of student names so now this
function has got another parameter
response this actually represents a
callback function so I want to pass the
data that I retrieve from this web
service to that callback function so
that's a function so I'm going to call
that function and pass the data so data
dot D okay and that is going to take
care of showing that names as the
suggestions within that text box and
then if at all if there is any error we
want to associate a callback function
and display the error message so alert
error all right so that's all there to
it let's go ahead and save the changes
let's actually build this and run it so
at the moment we are navigating to
webform two dot aspx and look at this
when I type letter M we still get our
suggestions and when we type letter J we
get the names that start with letter J
so you can set the source option to any
of these three are a string callback
function and we have also seen how to
use an asp.net web service and jQuery to
implement autocomplete feature in an
asp.net webforms application now what is
this min length option so this option
specifies the minimum number of
characters a user has to type before the
search is performed so at the moment
notice that and I type the first
character the citations are displayed
immediately if you don't want that for
some reason for example let's say you
know you want the search to be performed
only when the user
it's at least two characters that's when
you can use this min length option so
here along with source option I also
want to use min length option let's set
this to two for example in this case
let's save the changes reload this
webpage and look at this when I type M
and I don't get any suggestions but as
soon as I type letter a look at that a
request is sent and I get the
suggestions back so here we have the web
service code and here we have the HTML
and the jQuery code thank you for
listening and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>