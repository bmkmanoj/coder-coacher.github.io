<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Implement paging in an asp.net gridview that uses sqldatasource - Part 50 | Coder Coacher - Coaching Coders</title><meta content="Implement paging in an asp.net gridview that uses sqldatasource - Part 50 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Implement paging in an asp.net gridview that uses sqldatasource - Part 50</b></h2><h5 class="post__date">2013-04-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/63GTkVLj9kw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to presume technologies I am
Frank ed this is part 50 of asp.net
grid-view tutorial in this video we'll
discuss about implementing paging in a
grid we control that uses sequel data
source control will be using table TBL
employee for this demo let's flip to
visual studio let's drag and drop a grid
view control let's auto format this lets
choose brown sugar scheme now let me
drag and drop a label control I need the
label control to display a message at
the bottom of the grid view control look
at this I have this message stating
displaying page 1 of 2
at the moment within the grid view
control I am looking at page 1 and
that's what the message is stating here
so to display this message
I need a label control so let's drag and
drop a label control and then we want to
use equal data source control with this
demo so let me drag and drop that as
well and let's configure sequel data
source control let's select the
connection string click next select your
table click next test your query finish
now let's associate this equal data
source control with the grid we control
and look at this the moment I do it I
get this option enable paging and once I
select this checkbox behind the scenes
you know this attribute is
auto-generated allow paging and that's
set to true ok and also look at the grid
we control as soon as we have enabled
paging I get these page numbers and by
default there are 10 rows per page now
in my table if you look at this it has
got only 6 rows now I want to set the
page size of this V control to 3 rows is
it possible
absolutely and to do that get to the
properties of the grid view control and
there is a property called page size and
by default it is 10 now if I want to
display just 3 rows just set it to 3 and
the next thing that I want to do is I
want to display this message within the
label control displaying page 1 of 2 so
obviously to display this message I need
two pieces of information first you know
what is the page that the user is
currently looking at and number two how
many total pages do I have within the
grid we control so to get the page that
the user is currently looking
yet I can make use of the grid view
control property called page index and
to get the total number of pages I can
make use of page count property alright
now let's flip the visual studio within
the code-behind file I am saying label 1
dot text is equal to displaying page so
that's the hard coded text displaying
page 1 or 2 or whatever is the page that
the user is currently looking at so how
do I get that page I can make use of a
property of the grid view control called
page index okay and keep in mind this
page index is 0 index based meaning it
starts with 0 so obviously if I am
looking at page 1 the page index will be
0 if I'm looking at page 2 it will be 1
okay so I need to increment that by 1 so
after I do that since this is an integer
I need to convert that to a string
because we are concatenated this to a
string and then I need you know this
hard-coded word off and then the total
pages so how do I get the total pages
that are present within the grid view
control I can use a property called page
count and again we need to convert that
to string that's it alright but these
two changes let me go ahead and run this
now when the waveform renders we should
be you know on page one as you know look
at that it says page 1 of 0 okay why is
it not you know showing me the correct
page number let me actually click on
this page to look at that it says page 1
of 2
while I am on actually page 2 and when I
click page 1 it's saying displaying page
2 of 2 so it's not quite working as I
expected that's because look at where we
have written the code we have written
the code in the page load event okay so
in the page load event you know we don't
have these properties of the grid we
control initialized they happen you know
at a later point of time so the right
place for this code to go is into the
grid views pre-render e
so let's go and generate the pre-render
even handler for the grid we control so
get to the properties of the grid we
prepare pressing f4 click on this events
icon and then we have this pre-render
event so double click on that to
generate the even handler let me move
this code from page load to pre-render
event let me run through this right now
and as you might expect it should work
correctly so at the moment it is
displaying page 1 of 2 if I click on
this page to look at that displaying
page 2 of 2 okay so obviously you know
when I enable paging we get this option
allow paging is set to true and then to
control the number of rows that you want
to display per page you can make use of
page size property so to control the
number of rows displayed per page use
page size property and paging is enabled
allow paging attribute is set to true
page index property of the grid view
control can be used to retrieve the page
that is currently being viewed page
indexes zero-based so add one to it if
you want to compute the correct page
number the deep user is looking at and
to get the total number of pages
available within the grid we control use
page count property of the grid we
control now an important thing to keep
in mind is and sequel data source
control is used we get a default paging
this means that though we are only
displaying 3 rows per page you know all
the rules from the database table will
be retrieved everytime when you click on
page 1 or page 2 and to illustrate this
you know you can actually open a sequel
profiler so go to tools and then click
on sequel profiler that should bring up
sequel profiler window here and then I
want to connect to my local server so
let me click connect and then within the
even selection I'm going to uncheck
everything and just leave the sequel
batch completed ok click run and then
look at this as I click on the page
numbers so I clicked on page number 1
once and look at the query select star
from TBL employee so it's going to
retrieve all the rules from TBL employee
table ok but then the
control will only display three at a
time okay I click on page two and look
at what happens there is another query
select star from TBL employee so every
time you page through this grid view
control you know we retrieve all the
rows okay let's say for example if there
are two thousand rows in that table and
if we are only showing ten records and I
am on page one you know I retrieve all
the two thousand records from database
and then only display ten with and it
will be control now this is bad for
performance so obviously with sequel
data source control we get default
paging but then a grid we control also
supports something called custom paging
where we only retrieve the required
number of rows and not all rules okay
we'll talk about this in a later video
session all right on this slide you can
find resources for a speed or Nessie
shop and sequel server interview
questions that's it for today thank you
for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>