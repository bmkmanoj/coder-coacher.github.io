<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Inporc asp.net session state mode management   Part 64 | Coder Coacher - Coaching Coders</title><meta content="Inporc asp.net session state mode management   Part 64 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Inporc asp.net session state mode management   Part 64</b></h2><h5 class="post__date">2012-12-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zbhotwMPybQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to plenum technologies I am
venket this is part 64 of asp.net video
series in this session we'll discuss
about the in proc asp.net session state
mode before continuing with the session
I strongly recommend to watch part 61 62
and 63 of this video series asp.net
session statement mode can be off in
proc state server sequel server a custom
session state mode is set in the web dot
config file let's flip to visual studio
so here I have a simple asp.net web
application project with two web forms
web form 1 and waveform 2 on web form 1
we have two text box controls where the
user will enter their name and email and
once they click on go to waveform to the
user will be navigated to web form 2 dot
aspx on web form do we have two labeled
controls which will display the entered
name and the email on webform 1 and the
technique that we are using to send data
from web form 1 to waveform 2 is by
using session variables so we are
retrieving the name and email from the
text boxes storing them in the session
variables and redirecting the user to
perform 2 on waveform 2 we are
retrieving the values from the
respective session variables and then
displaying them in the label controls ok
now in peb dot config we are setting the
session state mode to in prague but
before that let's look at all the
choices that are available for session
state mode you know these are the
choices now if I set the session state
mode to off then that is going to
disable the session state across the
entire application if my application
doesn't use sessions then it makes sense
to disable session state because that's
going to improve the performance of my
application but if my application uses
sessions then it makes sense to choose
one of these options okay now each
option has their own advantages and
disadvantages in this session we'll talk
about the in proc session state mode and
the advantages and disadvantages
associated with that session state mode
so if I choose in proc as a session
state mode then the session state
variables are stored on the web server
memory inside the asp.net worker process
now what do we mean by asp.net work a
process to run an asp.net web
application project you know it has to
run inside and executable so what is
that executable which runs the asp.net
web application it's called as the
asp.net worker process I have is seven
installed on my computer which is
running the asp.net web applications so
the worker process on my machine is w3w
p dot exe and if you want to see the
worker process on the task bar
right-click on the taskbar and select
start a task manager and within the task
manager window click this button show
processes from all users and then you
know select any of the processes and
then plus a W so W 3 w P dot exe and if
you look at that it's an IAS worker
process so this is the worker process
which is actually running the asp.net
web application project okay let me run
this project now so let's go to waveform
1.8 specs and before that notice that we
are using the session state mode is in
Prague ok so let me run this now so the
waveform loads and we can enter the name
and the email so let's enter the name as
prism email especially mad prism techcom
I click on go to waveform to look at
this so what does this waveform doing
this waveform on the button click it's
actually storing the entered name and
the email in these session variables and
if you look at the session state mode
that we are using it's in proc so when
we set the session state mode to in proc
the session state variables are stored
on the web server memory inside the
asp.net worker process which means the
name and the email session variables are
stored in this executable w3w P dot exe
okay now look at this I'm on this
waveform to dot aspx now if I click
enter here I'm kind of refreshing the
page and look at that you know I have
those values the request is going to the
web server the session variables are
there in the worker process so it will
retrieve them and display them but just
imagine what is going to happen if I
restart this worker process in the sense
if I kill this it's going to start
automatically on its own I'm going to
kill that end process it will give you a
warning but just click on end process so
that's going to kill the worker process
and it
we'll start automatically on its own now
look at this when I click this once
again when I just click enter here in
the URL I'm requesting this waveform to
again so when it comes back look at
what's happening the session state
variables are lost and you understand
why because these session state
variables you know are stored in the
worker process we have restarted the
worker process so what's the result of
that the variables are lost so that's
the main disadvantage of using in proc
session state mode okay so before we
understand the other advantages and
disadvantages let's understand these
terms web form and web garden what we
mean by them web garden is a situation
where when we deploy our web application
on a web server that has got multiple
processors
that's called as a web garden and if I
deploy a web application on multiple
servers then it's called as a web form
because we will be using these terms
when we talk about the advantages and
disadvantages now if your application is
is being accessed by you know many many
users then definitely one web server
will not be able to serve all the users
so what we do we deploy the application
on multiple servers and then there will
be a network a load balancer which will
redirect the users request to the server
that's least busy so that kind of a
deployment is called as web farm but
then there could also be web servers
with multiple processors a single server
but with multiple processors
that's called as web garden so web
application deployed and the server with
multiple processors okay now let's look
at the advantages and disadvantages
advantages of in procession state mode
now session state in proc section state
mode is very easy to implement all you
have to do here is in web config file
set mode is equal to in proc you are
done and you know in your code files you
just read and write session variables
you don't have to do anything extra no
other configuration because if you
choose session state mode as states over
then there is some additional
configuration that has to be done
similarly for sequel server but for n
proc you don't have to do anything just
set the mode and you are done so very
easy to implement all that is required
is to set the
since late mode is equal to in proc in
web config file and this will perform
best because the session state memory is
kept on the web server within the
asp.net worker process so it's stored in
the memory so anything you have in the
memory it's very easy I mean it's very
fast to read and write to memory rather
than to read and write to a hard disk
okay so worker process you know in proc
is the best session state mode in terms
of performance okay and it is suitable
for web applications hosted on a single
server so if I have a single server with
one processor then maybe we can use in
proc section state mode and objects can
be added without serialization now you
know this is an important point to be
kept in mind if we have complex objects
like customer employee etc these objects
if we are using session state mode as
sequel server or state server before we
send the object to sequel server of
state server you know to store them we
need to serialize and deserialize these
complex objects simple simple simple
types like strings integers you know
they need not be serialized but complex
types definitely needs to be serialized
if we are using other session state
modes like state server or sequel server
and these two sessions state mode state
server and sequel server these are also
called as out of process session state
modes in proc is inside process out of
processes out of worker process which is
the charge state server and sequencer in
fact that's an important interview
question as well so for in proc you know
we don't have to do any kind of
serialization and deserialization you
can store complex objects simple types
you know whatever you want with an N
proc without serialization but when it
comes to out of process state server or
sequence ever you need to serialize and
deserialize them ok but the
disadvantages session state data is lost
when the worker process that application
please recycle we have just seen that
you know we restarted the asp.net worker
process and the session variables data
is lost ok
similarly application pool is nothing
but the applications run inside an
application pool and these worker
process and application pools they
restart for
variety of reasons okay a web
application restarts you know for
example if you change web config file of
global dot asex and if you save that on
the server the web application restarts
and the your session state variables
will be lost so if you if your session
state mode is in frog you know and if
the worker process recycles are is
restarted then the session data is lost
and there are a variety of reasons why a
worker process will be recycle if the
worker process is consuming excess
memory then we restart the worker
process to improve the performance of
the application in fact there is a
technique called process recycling that
happens on its own depending on some
thresholds that we said okay and another
thing it's not suitable for web forms in
web garden so what's a web form a web
form is a situation where we have the
web application deployed on different
web servers let's say for example I have
the same application deployed on three
servers like this you know on three
different servers and then there is a
load balancer and then a client request
is coming load balancer will identify
okay with silver it is least busy let's
say when the first request came web
server one is least busy it's going to
send the request to a web server one and
you enter the name and email click the
button it goes to the same web server so
the session variables have created on
this web server inside the worker
process okay now when i refresh webform
to dot aspx or when I request web form
to dot aspx again it goes to the load
balancer and load balance and now sees
this servers at server as least busy the
second server it sends the request to
this server but the session state
variables for that user are not present
on this server so it's going to return
an empty email and label okay so which
means for this user session state data
is lost but again if he refreshes and
then if the request goes to web server
one he will get the email and name again
so it's kind of the user will be
surprised you know session state data is
lost and then it comes back it lost and
then it come back depending on the
server to which the request goes okay
that's why you know if it's a web form
or a web garden then in procession state
mode is not suitable we have to use
one of the out of process session state
mode a the state server or sequel server
and scalability could be an issue
because inside worker process if you
just imagine if there are thousands and
thousands of users for your application
and you are one a pair user basis let's
say you have 500 or 600 session
variables that you are storing now just
imagine what's going to happen you know
as the number of users grows you know
the session memory the web servers you
know the memory that that's on the you
know web server will run out at some
point of time because the number of
users are growing and the amount of
memory consumed where your session
variables is also growing so if the
physical memory runs out of space then
you know windows uses something called
paging which will definitely slow down
the application and that that's going to
affect the scalability okay so these are
the disadvantages of using in proc
session state mode in the next session
we will talk about the advantages and
disadvantages of using state server and
we'll also see you have to configure
asp.net state server on this slide you
can find resources for asp.net c-sharp
and sequel server interview questions
that's it for today thank you for
listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>