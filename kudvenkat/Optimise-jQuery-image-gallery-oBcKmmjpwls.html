<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Optimise jQuery image gallery | Coder Coacher - Coaching Coders</title><meta content="Optimise jQuery image gallery - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Optimise jQuery image gallery</b></h2><h5 class="post__date">2015-05-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oBcKmmjpwls" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 44 of tech free tutorial in
this video we'll discuss optimizing the
image gallery that we created in part 43
using the concept of even bubbling and
the event delegation in addition to
optimizing the image gallery for
performance we also want to enhance it
and this is how we want to enhance it we
want to include two drop-down lists one
is for the effect and the other one is
for time in seconds so if I select three
as time in seconds and slide as the
effect and once we click on any of the
image thumbnail notice that the old
image slowly slides up and the new image
slowly slides down and that animation
happens over a period of three seconds
now if we select fade is the effect and
when we click on a thumbnail the old
image slowly fades out and the new image
slowly fades and again that animation
happens for a period of three seconds in
addition to these two drop-down lists we
also want to have these two buttons
enlarged and shrink when we click this
shrink button we want to reduce the
height and width of the main image by
100 pixels if I click the shrink button
again we want to reduce its size again
when we click the enlarge button we want
to increase the height and width 500
pixels if we click it again we want to
increase the height and width again so
let's see how to achieve this let's flip
to visual studio this is the same
example that we worked with in the
previous video session the problem with
this example at the moment is that
notice we are attaching these even
handler functions to each image element
that is nested inside the element with
ID div container at the moment notice
we've got five image elements that are
nested within the div element so these
are those 5 image elements so we are
attaching these three event handler
functions that is mouse over mouse out
and click to each and every image
element so that means we've got 5 image
elements 3 even handlers 5 x 3 we will
have 15 even handler functions in memory
imagine what's going to happen if you
have 500 image elements you will then
have 500 into 3 event handler functions
that is 1,500 event handler functions in
memory
that's not very good for performance we
can optimize this by attaching even
handlers to the parent element that is
to this development that way we will
only have three event handler functions
in memory no matter how many image
elements you have right so instead of
attaching these three even handler
functions to each image element I'm
going to attach them to the parent
element and notice we are doing that
using own function so the on function is
opening here and it's ending here and
this JSON object is specifying the three
even handler functions we also need to
specify the selector that's the second
parameter and our selector is going to
be image element so basically what we
are saying here is whenever any of these
three events are triggered on any of
these image elements that are nested
inside this development delegate that
event to the parent element that is to
the development and the development has
got the respective event handlers that
is mouse over Mouse out and click so
this even handler functions are going to
handle that
respect to event for the image elements
that are nested so now let's go to and
run the page the behavior should be
exactly the same as before look at this
when I click on this thumbnail the old
image slowly fades out and the new image
slowly fades in let's see how to enhance
this image gallery using these two
drop-down lists and these two buttons so
first we need to get that UI so just
before the main image element I'm going
to include a drop down list using the
Select element let's give it an ID let's
call this select IMG effect and we want
to have two options here and the value
for the first option is going to be fade
and that's the value that we want
display to the user and the second
option value is going to be slide we
need another drop-down list and let's
change the ID of this drop-down list to
select IMG duration and we basically
want six options here so the first
option is going to be 0.5 seconds
similarly let's have an options for 1 to
5 seconds and in the interest of time I
have already typed the required HTML so
we have those options so this option
drop-down list is for the duration
so let's include this text time in
seconds and this drop-down list is for
effect so let's say select effect and
then we need to button elements so input
type equals button let's give it an ID
that's actually call this BTN and large
and the value on the button is going to
be enlarged so let's make a copy of the
button let's call this shrink and the
value on the button is going to say
shrink and let's include two HTML break
elements all right so let's save the
changes let's reload this page and we
should get a UI that's similar to what
we see on the slide all right now we
need to retrieve the effect that the
user has selected and the time that the
user has selected from the respect to
drop-down list so within the click even
handler function I'm going to create two
more variables so variable let's name
this effect and we need to retrieve the
effect that the user has selected from
this drop-down list which has got an ID
of select IMG effect so let's find the
element by ID
and we want to retrieve the selected
value so I am going to use Val function
similarly we want to retrieve the
duration as well so the name of the
variable is going to be duration and we
want to retrieve that from a different
drop-down list and the idea of that
drop-down list is select IMG duration so
retrieve the duration using the Val
function from that drop-down list but
keep in mind the value that we have here
is in seconds so we want milliseconds so
I'm going to multiply the value that we
get from the drop-down list by 1000 so
that's going to give us number of
milliseconds that the user has selected
all right
now within this variable we have the
effect so I'm going to check the effect
that the user has selected if effect
equals fade that's the option that user
has selected within the drop-down list
then we have to do what we have here
fade out and fade in else what we want
to do is slide up and slide down so I'm
going to make a copy of this and instead
of fade out and fade in I'm going to use
slide up and slide down now notice here
we are finding the same Dom element
twice so instead of that let's cash it
in a variable so let's create a variable
here let's call this main IMG equals
that and we can use this variable so
main image dot fade-out
similarly main image let's light up
alright another thing that we need to do
here notice we're actually hard coding
the duration right instead of
hard-coding it for 500 milliseconds we
want to use the value that the user
selected from the drop-down list so I'm
going to use this variable so let's
start to fade out and fade in and slide
up and slide down function so let's save
the changes let's go ahead and reload
our page and look at this let's select
slide and let's select two seconds as
the duration look at that now when I
click on thumbnail look at that old
image slides up
you made slides down and that animation
happens by a period of two seconds
let's select fade click on this look at
that now instead of slide effect we have
the fade effect and that happens over a
period of two seconds now let's go ahead
and implement this enlarge and shrink at
the moment nothing happens when you
click these buttons so these buttons
have got an ID so the ID of the button
that is the enlarged button is BTN and
large so let's find that button by ID
and when we click the button we want to
call a function and what do we want to
do we want to increase the height and
width by 100 pixels to do that we first
need to find the current height and
width so here I'm going to create a
variable let's actually call this main
IMG element equals dollar find the main
image element okay we want to get the
height and width of this main image
element and that image element has got
an ID which is nothing but main image so
let's copy that so we have the main
image element we want the height of that
main image element so let me create a
variable let's call it height equals
main image element and how are we going
to get the current height we can use the
attr function so we want an attribute
value what attribute value do we want we
want the height attribute value so the
name of the attribute is going to be
height
similarly we need width as well so the
name of the attribute here is going to
be wet now we need to convert the height
and width to integer because we want to
add 100 to each of them so I'm going to
use parse int function ok let's do the
same thing here for width all right
so within the click even handler
function the first thing that we need to
do is increment height by 100 pixels so
height plus equals 100
similarly width plus equals 100 and then
the next important thing that we need to
do is set that new height and width to
that main image element and to do that
I'm going to use animate function okay
so on the main image element I'm going
to call animate function and basically
you can use this animate function to
animate any property any style property
ok we'll discuss in detail about this
animate function in a later video
session at the moment we're using this
animate function to change the height
and width of the main image element okay
and I'm going to do that since we have
to change two properties I'm going to do
that using a JSON object okay so I'm
using two curly braces the first
property that I want to change or
animate is height and that needs to be
in quotes and the value of that is going
to come from this variable and the next
property is width and that is going to
come from the other variable that we
have
so that is enlarged so let's make a copy
of this and the other button is going to
be shrink so when we click the shrink
button we want to reduce height and
width by 100 pixels so let's save the
changes
let's reload this page and look at this
when we click the shrink button the
height and width is reduced by 100
pixels
when we click enlarge button the height
and width is increased by 100 pixels
every time we click that button thank
you for listening and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>