<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Factory Design Pattern Introduction | Coder Coacher - Coaching Coders</title><meta content="Factory Design Pattern Introduction - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Factory Design Pattern Introduction</b></h2><h5 class="post__date">2017-07-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bGqw8crGZ7Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone welcome to precision
technologies
my name is Elvis and this is part 8 of
the design patterns tutorial in this
session we will discuss what is factory
design pattern implementation guidelines
of factory design pattern and we'll take
a look at an example to implement simple
Factory please refer to the previous
parts of this tutorial before proceeding
now let's understand what is factory
design pattern as mentioned in the first
part of the tutorial factory method
pattern belongs to creational type
patterns factory pattern is one of the
most to use design patterns in real
world applications as for the Gang of
Four definition in factory pattern we
define an interface for creating an
object but let's subclasses decide which
class to instantiate which means the
faculty method let's say class differ
instantiation it uses two its sub
classes from the abode if nation we can
state that such a pattern creates object
without exposing the creation logic to
the client and refer to the newly
created object using a common interface
now if you take a look at the diagram
below the client is an object that
requires an instance of another object
let's say it requires the product object
for some purpose rather than creating
the product object instance directly the
client delegates this responsibility to
the factory once invoked the factory
creates a new instance of the product
passing it back to the client
to simplify this we can say that the
client uses the factory to create an
instance of the product now let's take a
look at the implementation guidelines
the first thing which goes in our mind
is when to use this pattern we need to
choose factory pattern when the object
need to be extended to subclasses the
class's doesn't know what exact
subclasses it has to
and the product implementation tend to
change our time and client remains
unchanged these are some of the
scenarios where we need to choose
factory design pattern if this is
confusing at this moment don't worry we
are going to take a deep dive on
implementing these points using a simple
example now let's switch to visual
studio and learn how we can create a
simple factory to make the things faster
let's work on the example that we have
used in the previous session of
singleton design pattern to proceed
further we strongly recommend you to
refer to the singleton design pattern
tutorials which demonstrate on how we
have created this portal solution now if
you recap the earlier session we have
used this portal to perform crud
operations on the employee now let's
imagine a situation where we have a
business requirement which states that
we need to differentiate employees as
permanent and contract and segregate
their pay scales as well as bonus on
their employee types you might be
wondering how this requirement is
related to factory design pattern to
answer that first let's implement this
requirement without using factory design
pattern let's switch to visual studio
our first step is to update the employee
portal database let's expand AB data
right click on employee portal let's
open the database and look at that there
is only one employee table let's add
another master table which is employee
underscore type and let's add a column
called employee type which is of our
cash 150 and let's remove a low nulls
here
let's also change this identity column
as identification to true and let's
update the table to the database it's
likely
the tables and refresh the tables look
at that employee underscore type table
is added to the employee portal DB let's
show the table data let's add employee
type as permanent and contract our next
step is to update the employee table
before that let's clean up the existing
data in the employee table right-click
on the employee table new query and
let's say truncate table employee let's
run the script let's go add new columns
that are required to address the
business requirement let's open the
table definition let's add hourly pay
which is off decimal and bonus in
percentage it's also choose decimal for
this and let's add an employee type ID
which is a foreign key reference to the
employee type table let's right-click on
the foreign Keys and add new foreign key
let's see in this - table - employee
type employee underscore type let's also
change the script over here in the T
sequel foreign key column name as
employee type ID which references tool
to table in our case it will be employee
underscore type table and the tool table
column will be ID column let's update
this changes to the database now that
the data
changes are complete let's now switch to
the visual studio solution and let's
inspect the models and let's open the
employee model dotty DMX file look at
that the employee model dotty DMX is not
refreshed yet with the latest changes
let's update this EDM X file with the
latest schema changes how do we do that
right-click on the C DMX file and choose
update model from database and let's add
tables which are employee type which is
a new table which we have added and
let's click on finish look at that
the employee model is updated with the
latest changes now that we are done
updating the portal database and it's
corresponding models the next step is to
update the employees controllers let's
switch to the employees controller now
if you inspect this code and recollect
the previous session of singleton design
pattern we have added this custom
exception handling in this controller
let's move this code to a new controller
I click on the controllers and let's
click on add controller
let's choose MBC 5mt controller click on
add and let's name this as base
controller let's remove the existing
code and let's move this on exception
method to this base controller let's
create a constructor public base
controllers let's switch back to the
employees controller and move the I log
related code to this base controller
let's just solve this error using logger
you may be wondering why we need to move
this code to base controller the idea of
moving the code is to inherit the base
controller to the rest of the
controllers so that all the exceptions
can be handled at one place and any
model related refresh updates in the
controllers will not impact the auto
generated code of the controllers
let's now proceed with the step of
updating the employees controller
right-click on the controllers click on
add controller and choose the third
option which is MDC fie controller with
use using entity framework click on add
let's choose the model class as employee
and let's change the controller name
from employee 1 controller to employees
controller so that we are overriding the
existing employees controller click on
add it prompts to update the employees
controller let's proceed with yes the
employees controller is updated let's
switch to the employees controller and
instruct the same look at that the
changes are updated in the employees
controller
let's inherit the controller with base
controller so that all the exceptions
related to the employees controller are
passed through the base controller and
I've logged through the on exception
method let's now switch the views expand
employees and let's inspect the create
view notice that the orderly pay and
bonus are updated in the create view as
well and the rest of the views are
updated with the latest changes let's
switch back to the employees controller
and let's compute the bonus and hourly
pay before creating the employee let's
assume that for a permanent employee the
early pay $8 and the bonus is 10%
whereas for contract employee the early
pays $12 with a 5% bonus let's compute
that before creating the employee let's
say if employee dot employee type ID
equal to 1 which corresponds to a
permanent employee now let's say the
employee dot hourly pay equal to 8
dollars whereas employee dot bonus equal
to 10 percentage else
else if employee dot employee type ID
equal to 2 which means is a contract
employee let's change the oil appear as
employee dot or lip a equal to twelve
dollars whereas the employees bonus will
remain at five percent now that we are
computing the early pen bonus in the
controller let's remove the ability of
entering them in the create view let's
comment out the bonus and hourly pay
entries in the create view let's run
this application let's click on
employees tab let's create a new
employee
let's moon the employee as John job
description as manager
let's give his number as a one two three
four department as IP let's choose the
employee type as permanent and let's
click create let's create another
employee this new employer Smith let's
give the job description as contract dev
let's give the number I see one two
three four let's queue is department as
ID let's change the employee type as
contact let's click create look at that
both John and Smith are created with
their respective hourly and bonus pace
let's stop this application and switch
back to the employee controller now if
you inspect this code we have achieved
our requirement of computing the bonus
and hourly pay based on the employee
types but we have introduced few
drawbacks with this coding standards the
first thing is that we have introduced a
tightly coupled business logic within
the employee controller if you are
wondering how let us take an example or
let's imagine a situation where we need
to add another employee type let's call
it as a temporary employee to
accommodate another employee type we end
up updating the employee controller
every time which is only meant to
perform user interactions further
changing the code in this manner will
introduce more maintenance efforts both
in development and testing process and
this approaches error-prone to address
this let's see how we can simplify and
decouple this logic to decouple this
logic we need to create two methods
which computes bonus and hourly pay
let's right-click on this web add a new
folder and let's call this folder as
managers which manages the business
logic let's I click on this add new item
let's create an interface so that we
declare those two methods in this
interface let's name this some interface
as I employee manager let's change this
interface to public and let's create two
methods with decimal as written type and
let's call gas get bonus and let's
create another method called get pay
these interface methods are supposed to
be consumed in the respective permanent
and contract employee managers let's
create those two managers right click on
the managers folder add new item let's
choose the class and let's name this
class as permanent employee manager and
let's inherit I employee manager here
implement interface let's return the
bonus as 10% and that's it in the pay as
$8 let's still
another manager add new item let's add a
class and name it as contract employee
manager let's do the same thing let's
inherit I employee manager interface
it's implement the interface and let's
written the bonus as 5% and that's
written the P as $12 per over 12 now
depending on the employee type we need
to create the instance of the respective
manager classes and return them back to
the controller which means that
employees controllers need to decouple
this code and delegate the creation or
production of respective manager classes
to a mediator since the mediator is
producing or instantiating those classes
let's refer to that mediator resist
Factory let's right click on the portal
and add new folder and let's call this
folder as Factory and let's right click
and add new item choose a class and
let's create a employee manager Factory
now let's create a method called public
I employee manager which returns an I
employ manager and name this method as
get employee manager this employee
manager will accept input as employee
type ID and the tents bag that
respective depending on the employee
type ID it returns back the respective
manager classes let's declare I employee
manager which is the return value let's
assign the strudel let's first resolve
these issues using web dot managers and
let's say
if employ type ID equal to one then
let's return let us assign the return
value equal to new permanent employee
manager else if employee type ID equal
to two let's return the return value
let's assign the written value equal to
new contract employee manager let's
return the return value then for our
convenience we have used that if
statement another alternative is to
replace a p-- statement with switch case
and use an employee type enum or
employee type ID as switch selection now
if you need to add another employee type
for example if you need to add a
temporary employee then we need to
enhance this logic by creating a new
temporary employee manager class similar
to that of permanent and contract
employee managers and then we create the
instance of the temporary employee
manager in this Factory similar to these
instantiation now that we have created
the employee manager factory to handle
the respective employee managers let's
see how we can consume these changes in
the employees controller that switch to
employees controller if you look at this
scored in this employee controller the
logic is tightly coupled with that
employee types let's sneak up lit and
change this with the already implemented
factory
logic and replace it with employee
manager factory using the factory let's
say in this factory equal to new
employee manager factory now I employee
manager employee manager equal to which
is all this I employee manager first by
using web dot managers equal to employee
factory dot get employee manager look at
that it acts up simply type ID as input
diameter
it's a employee dot employee type ID now
let's use this employee manager and
employee manager dot get bonus will
returns the respective bonus of that
manager let's assign this bonus to
employee dot bonus equal to employee
manager dot bonus let's say employee dot
oddly pay equal to employee manager dot
get pay let's run the supplicate
let's click on employees tab create a
new employee its name implies as JSON
and the Job Description as developer
let's input the number as P three four
five six and the department as IT let's
click create look at that the new
employee successfully created aligning
to the business rules of permanent
employee type is create another employee
in the employee as Williams in the Job
Description as contract HR let's input
the number as C four five seven eight
department as HR let's choose the
employee type as contract and click
create
notice that we have successfully added
two new employees with a simple factory
implementation with this we have
successfully deferred the instance
creation by implementing a simple
factory with the mention guidelines in
the beginning of this session any
changes to the employee type will be
successfully addressed at the factory
and its manager classes and the
controller is not impacted with these
changes now let's switch to the another
diagram from the illustrator diagram the
client which is the employee controller
in our case uses the factory which is
the employee manager Factory and creates
the respective products which in our
case our contract and permanent employee
manager through the interface I employee
manager as we can say that we have
achieved a simple factory implementation
in the next session we will discuss how
we can enhance the simple factory to a
factory method pattern till then
thank you for listening and have a great
day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>