<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ProtoType Design Pattern Implementation | Coder Coacher - Coaching Coders</title><meta content="ProtoType Design Pattern Implementation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ProtoType Design Pattern Implementation</b></h2><h5 class="post__date">2017-11-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rsDTqn1ALjw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone welcome back this is part
15 of the design patterns tutorial in
this session we will discuss the
significance of copy in prototype design
pattern we'll also take a look at the
member voice clone method and I
cloneable interface usage in prototype
design pattern and we'll take a look at
an example to implement prototype design
pattern please refer to the previous
parts of the tutorial before proceeding
now let's see the significance of
copying in the prototype design pattern
the idea of using copies to create a new
object of the same type without knowing
the exact type of object that we are
invoking shallow copy and deep copy
place prominent role in copying the
objects in prototype design pattern
creating the required object once and by
creating the subsequent required objects
by cloning helps reducing the time for
creating the objects with prototype
design pattern based on the requirement
situations we can save memory by cloning
the objects for example imagine a
situation where we need to copy an
object which consists of many strings
and we all know that string copy is
immutable and hence it is a good idea to
copy that object rather than creating a
new object also in a situation where we
need to retrieve some details from
database for each time we create an
object in those situations cloning or
copying comes to handy for example when
we are importing hundreds and thousands
of employees and each employee details
need to be associated with the company
address and other details from the
database in those situations we can
adopt using prototype assign pattern
where we retrieve the details once and
clone it accordingly for each employee
object let's now understand the
significance of member wise clone method
in dotnet the member is clone method is
part of system dot object and creates a
shallow copy of the given object member
wise clone method copies the non-static
fields of the choosen object to the new
object in the process of copying
remember vice clone finds if the feeb
type field is a value type a bit by bit
copy of the field is perform and if a
field is reference type the reference is
copied but the reference object is not
if you have viewed the previous session
you can recollect that we have
demonstrated the value type copying as
well as the reference type copying we
strongly recommend you to view the
previous session of the tutorial before
proceeding now let's now understand the
eye cloneable interface the eye
cloneable interface provides with a
customised implementation that creates
copy of an existing object i cloneable
interface contains one member which is
the clone method and that clone method
is intended to provide support beyond
member wise clone method in some cases
use clone method and use the member vice
clone within the clone method now if
this is confusing at this moment don't
worry we are going to discuss this in
greater detail using simple example
let's now switch to visual studio and
see how we can implement the prototype
design pattern using these concepts to
make the things faster I have already
created a console application with a
partial employee class consisting of ID
name and Department ID I have also
created an override to string method to
print the employee details to copy these
employee details we need to inherit
either we need to inherit the eye
cloneable interface or we need to create
a custom cloneable method to simplify I
have already created another partial
class of the same employee and I have
inherited the eye cloneable interface if
you recollect i cloneable interface will
have one clone method which returns the
object and i have used the member wise
clone to return the current object that
is being cloned in order to test this
changes have created a simple method
called shallow
copy and created an employee object and
named it as John have assigned the
department ID as 152 this employee once
the object is created I am printing the
details of this employee to the console
in step 2
using the clone method have copied the
employee John's details to employee Sam
and I have changed the name of this
employee Sam to sample since the copied
object consists the name of John once
that is complete I am printing the
output to a console with employee Sam's
details in step 3 I am changing the
employee John's department ID to 161 to
see whether this department ID
propagates to employee Sam's Department
ID or the employee Sam's Department ID
remains 115 ideally it should remain
department ID as 150 and the change of
these details shouldn't impact employee
Sam's details let's now run this
application notice that in step 1 both
John and Sam has got the same department
ID in step 2 once it is cloned and the
department ID of John is changed the
Sam's Department ID is not being
affected with this we have successfully
implemented the simple shallow copy now
let's switch back to the application now
let's say we need to enhance this
employer object to hold the address
details in order to do that have created
an address object with door number
street number zip quote and country we
have also overridden the to string to
print the address details of the
employee now I've extended the partial
class employee and added the address
details in the beginning of this session
we have discussed that member wise clone
copies the object reference if the field
is of reference type and it does not
copy the reference object itself in our
case address is a field of employee
object and is a reference type in order
to verify if the
addresses references for the copied
employees have created another method
called shallow copy reference in step
one of this method we have created an
employee named John along with the
additional address details once employee
is created we are printing the employee
details to the console in step 2 we are
cloning the employee John and copying
the details to employees Sam object we
are also changing the department ID and
address details of the Sam so that they
are different with respect to the
employee John once that is complete we
are printing the details to the console
in step 3 we are modifying the address
details of the first employee which is
employee John we are also changing the
department ID of this employee once that
is complete we are printing both
employees John and Sam's details to the
console let's run this application and
see the output
notice that the employee details of Sam
are changed again specifically the
address details this is because the
address is a a referential property in
the employee object and member wise
clone will copy the reference of the
address field not the address object
itself I hope now you have a good
understanding of the member vice clone
behavior if you are wondering how to
address this situation of reference
copying deep copy would be a solution
for this scenario again it depends on
your requirement situation if you need
to do a deep copy or shallow copy now I
assume that the address is the address
of the company instead of the employee
address in that situation shallow copy
would serve the purpose as the company
address remains same for all the
employees let's now switch back to the
application and see how we can implement
the prototype design pad
to address both the situations to make
the things faster have created an
abstract prototype class to implement
shallow and deep copy shallow copy uses
the member by his clone method which we
have implemented in the example earlier
whereas deep copy can be done in many
ways in this example deep copy is
implemented by leveraging on Jason
serialization to serialize the object
and deserialize it back to avoid the
memory referencing to implement this
abstract loanable prototype class I have
inherited the same to the employee class
I've also created a new method and named
it as prototype demo which performs the
similar steps that we have discussed in
the shallow copy method except that it
does a deep copy of the object instead
of shallow copy let's run this
application and see the output
notice that the change in address
details of the employee John has not
impacted the address details of the Sam
with this we have implemented the
prototype design pattern successfully in
the next session we will discuss solid
principles and continue with the
structural design patterns thank you for
listening and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>