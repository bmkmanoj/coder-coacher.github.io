<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>DataSet in asp.net   Part 11 | Coder Coacher - Coaching Coders</title><meta content="DataSet in asp.net   Part 11 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>DataSet in asp.net   Part 11</b></h2><h5 class="post__date">2012-10-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TsKx5CLisSM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to presume technologies I am
venket this is part 11 of a do dotnet
video series in this session we'll learn
about loading two or more tables into
your data set and giving these tables a
meaningful name binding the tables in
the data set to user interface data
bound controls like grid view using the
tables collection property of the data
set object before continuing with the
session I strongly recommend to watch
parts 8 9 and 10 of this video series
now within sequel server I have two
tables TBL product inventory and TBL
product categories in the sample
database now I want to create a stored
procedure that is capable of returning
to result sets so I'm going to wrap
these two select statements inside a
stored procedure so create procedure
let's call this SP cat data as begin and
so let's execute that command completed
successfully to execute the stored
procedure double-click highlight the
name of the stored procedure and click
execute so this stored procedure is now
returning to result sets we want to
display these two result sets within an
asp.net web application obviously using
a sequel data adapter and data set
objects
okay so let's flip to visual studio
let's drag and drop to grid view
controls on to the webform so grid view
1 grid view 2 so we have two of them
let's auto format them so one grid view
has brown sugar theme and let's sort of
format this okay cool so we have to grid
view controls now let's flip to the
code-behind page and if you look at the
web config file I already have a
connection string that's pointing to my
local installation of sequel server and
to the sample database and the name of
the connection string is DB CS so let's
read the connection string from web
config file so string connection string
is equal to we use the configuration
manager class which
is present in system configuration
namespace make sure you import that and
we can use the connection strings
property pass it the name of the
connection string which in our case is
DBC s that's present in the web config
file dot connection string so we have
the connection string now so create the
sequel connection object sequel
connection con is equal to new sequel
connection and the constructor of the
sequel connection class expects a
connection string so past that okay so
we have the sequel connection object now
let's create sequel data adapter and we
have seen working with sequel data
adapter sequel connection and reading
the configuration from in a web config
file in the previous sessions of this
video series so if you have not already
watched them I would strongly encourage
you to do so before continuing with the
session okay so sequel data adapter da
is equal to new sequel data adapter and
what we want to execute is a stored
procedure that we have already created
copy the name of the stored procedure
and the second parameter that we want to
pass to the sequel adapter object is the
connection upon which you want to
execute that stored procedure which in
our case is this connection object that
we have already created and the next
important thing tell they data adapter
that it is executing a stored procedure
by using the command type property of
the Select command okay so we need to
create a data set object and we already
know a data set is an in-memory
representation of your database it cans
two tables and the relationships between
them just like a database would store
them in the physical hard disk okay data
set is an in-memory representation so
data set D s is equal to new data set
and we can call the fill method of the
data adapter which is going to
automatically open the connection
execute the stored procedure load the
data into the data set and close the
connection immediately for us so data
adapter dot fill the data set so now
when we actually run this project what's
going to
happen you know the stored procedure
will be executed and you know that that
stored procedure is actually returning
to results sets okay so both of these
result sets will be loaded into this
data set now if you remember on the grid
view control we have on the webform we
have to grid view controls and we want
to bind the products data on to the
first grid view control and the
categories data to the second grid view
control okay so and both these result
sets will be loaded into this data set
object so what I'm doing here is saying
grid v1 dot data source is equal to data
set and grid view one dot data bind
along the same lines grid view to door
data source is equal to the data set and
grid view two dot data bind so now if we
run it as it is
okay as you might expect look at this we
are setting the data source for both of
the grid view controls as the data set
and look at the output you know both of
the grid view controls are displaying
only the fast table which is products
data but our intention is actually to
store to show product data in one grid
view and in the other one category is
data the reason why it's happening is
because by default the first table
within the data set will be used as the
data source for the grid view control
incase if you said the data set as the
data source okay so if you actually put
a breakpoint here and then debug the
application within the data set you can
actually see you know both of the tables
getting loaded you know as you stock
through so if we put a breakpoint here
okay let's let it run through okay now
if you look at this data set object it
has got a tables property so if you
expand the plus sign there is a tables
property within the data set
and if you look at the tables property
it has got two tables within that and if
you actually want to look at those
tables you can click this magnifying
glass and it will show you you know this
is look at the name of the table it's
called the first table is called table
which is showing the product information
and the second table is called the you
know Table one which is nothing but the
carrick categories table look at this
the table names are first of all they
are not meaningful the first table is
table second table is Table one if you
have another third table it will be
called as table 2 table 3 so on and so
forth ok which are definitely not
meaningful as far as the names are
concerned so now when you set this data
set as the data source for the grid view
control it's going to pick up the first
table and set that as the data source
for the grid view controls that's why
both of the grid view controls show the
same table when it actually comes you
know rendered ok
so now if you want to specify which
table you want to show you know in which
grid view control you can use the tables
collection property so we can use this
tables collection property of the data
set object so when I say data set dot
you see that tables collection tables
property ok and we know that this tables
property is going to have two tables so
you can either use the integral indexer
you know or you can specify the name of
the table okay so I want to associate
the table at the zero at position
meaning the first table with grid v1 and
the second table with grid view two
okay so now if we run this as you might
expect the first table which is the
product related information will be
shown in the first grid view and the
categories in the second view control
but then you saying that the integral
indexers that doesn't really make sense
you know the code is not that much
readable here so instead what we can do
we can use the names of the tables and
if you looked at you know in the bit in
the break point we have seen that the
name of the first table was table and
the name of the second table was table
one which are not really meaningful so I
can either specify the integral index ax
or I can just say table and the other
one is called table one that's the
second table so I can use these names
again if you look at these names these
are not very meaningful so what does
table and table 1 mean so if we run the
output would be exactly similar except
that we are using the names of the
tables instead of the integral indexers
okay and it is possible for you to
actually give meaningful names for these
tables within the data set and how do I
do that
it's very simple you use that in our
tables collection property you know that
tables of 0 will be your products table
so tables of 0 dot there is a table name
property set that to whatever meaningful
name that you want so let's call it
products and along the same lines the
first table is going to be categories ok
so now you can actually use these names
when binding so at least it's a little
readable now and hence your code will be
maintainable ok so now if we run as you
might expect the output will be exactly
same except that we have assigned names
to the tables within the data set ok
on this slide you can find resources for
asp.net c-sharp and sequel server
interview questions that's it for today
thank you for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>