<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>RegisterStartupScript and RegisterClientScriptBlock methods | Coder Coacher - Coaching Coders</title><meta content="RegisterStartupScript and RegisterClientScriptBlock methods - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>RegisterStartupScript and RegisterClientScriptBlock methods</b></h2><h5 class="post__date">2015-03-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/JzZOAZxhC1w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 9 of JavaScript at asp.net
tutorial in this video well discus
register startup script and register
client script block methods both of
these methods are used to add JavaScript
to asp.net pages first let's look at
register startup script method this
method places the JavaScript at the
bottom of the page just before the
closing form element there are two
overloaded versions of this method the
first overloaded version has three
parameters and the second overloaded
version has four parameters let's look
at an example now on this waveform I
have an asp.net text box control within
this text box control we want to display
the client-side date in time since we
want to display the client-side date in
time we will have to do that using
javascript so let's add javascript to
this asp.net page using this register
startup script method so let's get to
the code behind file in the page load
event I'm going to make use of this
client a script class which has caught
this register startup script method
notice there are two overloaded versions
of this method at the moment we are
using the first overloaded version and
this has got three parameters the first
parameter is the type parameter which
specifies the type of startup script
that we want to register since we're
using JavaScript here to display the
client-side date in time in the textbox
control let's get the type of textbox
control that's present on this page and
for that I'm going to use textbox one
which is the instance of textbox that we
have on this page and on this instance
I'm going to call get type method which
is going to return as the type of
textbox one control which is nothing but
textbox class the second parameter is
the key for our script this can be any
string as long as it is unique so I'm
going to specify client script as the
key and the third parameter is the
actual script let's actually move this
third parameter to the next line so the
first thing here is to generate the
script element so script type equals
text slash JavaScript and this word text
slash
JavaScript need to be in double quotes
and double quotes have a special meaning
inside the context of his string so we
need to escape the double quote with a
backslash and another double quote with
another backslash and then we need to
close the angular bracket and then our
actual JavaScript document dot get
element by ID and to this function we
need to pass the ID of the textbox
control which is textbox 1 and within
the textbox control we want to display
the client-side date in time to get the
client-side current date in time we can
use the date construct a function and
then finally we need to close this
script element so the moment if you look
at this aspx page we don't have any
JavaScript whatsoever and within the
code-behind file we are calling this
register startup script method so let's
go and run this and when the page loads
we expect the client-side date in time
to be displayed in the textbox control
and when we view the source of this page
notice that the script element is placed
just before the closing form element and
it is example way using the first
overloaded version of this register
startup script method which has three
parameters if you look at the second
overloaded version notice that there's a
fourth parameter of type boolean which
says add script tags and I'm going to
specify true for that method I mean for
that parameter so when we specified true
for that fourth parameter ad script tags
it's going to generate this script tag
for us so there is no need to hard code
that within this train so it's going to
generate the script tag and this
JavaScript will be placed inside that
script element so when we run this this
should work exactly the same way and
when we view the source notice that they
have the script element just before the
closing form element
so the type parameter is used to specify
the type of startup script that we want
to register when you register a client
script you cannot use the same key and
type they are considered duplicates the
type parameter allows us to use the same
key value across different types of
controls let's understand this statement
with an example so let's make a copy of
this and on the page let's include a
label control as well so what we want to
do is within the text box and label
control we want to display the client
side date and time and so we want the
second script block - you know included
JavaScript which is going to display the
date and time in the label control so
here I'm going to specify the type of
label so label 1 dot get type and within
label control so just to display
something within the label control we
have to use inner HTML property okay so
here the types are different but we are
using the same key okay so as long as
one of them is different the uniqueness
is maintained and this code should work
so we should see the client side date
and time both within the text box and
label control okay so that's text box
and that's little control now let's see
what's going to happen if we use the
same type and key so in both the cases
we are using label 1 ket type which is
going to return label as the type and
the key is client script now when we do
this only one of them is going to work
so the date and time will be displayed
within the textbox control but not
within the text works label control okay
so you have to ensure that you know the
type and key combination is unique
so here is an example of using register
startup script method with register
startup script the JavaScript will be
placed just before the closing form
element now let's look at an example of
using register client a script block
method this method is very similar to
register startup script method except
that this method places JavaScript after
the opening form element but before the
HTML elements are loaded into the
browser Dom let's understand this with
an example let's look at a slightly
different example now what we want to do
is as we type into this textbox the
number of characters that we have typed
we want to display that count in this
label control so I'm going to get rid of
the second block of code and we actually
want this JavaScript to be encapsulated
inside a function so I'm going to create
a function and let's name this get
character count open the curly brace
document dot get element by ID and the
ID of the label control is label 1 dot
in a HTML equals document dot get
element by ID textbox 1 dot value dot
length that should give us the number of
characters within the textbox and we are
displaying that within this label
control and we don't need this anymore
and we need to close the curly brace
okay so let's go ahead and run this we
need to remove this so let's go ahead
and run this now as we type into the
textbox the number of characters should
be displayed within the label control so
for some reason it's not displaying and
that's basically because we have defined
our function but we are not calling that
so we need to call that function so get
character count is
name of the function on key up event of
this textbox control we need to call the
JavaScript function that we have just
defined which is get character count so
we have the name of the function here
but the JavaScript function itself will
be added to this page by asp.net at
runtime so let's go ahead and run this
and as we type into this text box look
at that the count is displayed in the
label so it's working as expected
now when we view the source look at that
we have the script element the script
element is placed just before the close
closing form element that's because we
are using register startup script method
now let's use register client script
block and run this now the example is
going to work the same way but if you
look at where this script tag is placed
look at that the script tag is present
here after this form element but before
these HTML elements that is our text box
and label controls okay before these
elements the script is present so that
means the script you know since the
script is present before these HTML
elements now the script is actually
encapsulated inside a function and then
we are calling that function on key up
event okay that's why we don't have a
problem here
but imagine we have some Java scripts
which runs as the page loads what is
going to happen if we have that kind of
a script here it's going to throw
another reference error we'll look at an
example of that in just a bit if that
doesn't make sense at the moment okay so
that's register client script block
method it's very identical to register
startup script except that it places the
JavaScript after the opening form
element but before the HTML elements are
loaded into DOM
and here is the generated JavaScript so
what are the differences between
register startup script and register
client script methods and when to use
one over the other these are very
important interview question as well and
by now you would have already cast one
of the main difference is that register
startup script method places JavaScript
just before the closing form element
that is after all the HTML elements are
loaded into the browser table register
client script block does the opposite it
places the JavaScript you know
immediately after the opening form
element that is before all the HTML
elements are loaded into the browser Dom
this could have a significant impact
depending on the type of script that you
have let's understand that with an
example let's say within this text box
control we want to display the
client-side date and time so let's get
rid of this function so now the
JavaScript code that we have it's not
encapsulated inside a function so I'm
saying document or get element by ID the
ID of the textbox actually let's use
this document dot get element by ID
textbox 1 dot value equals new date so
this should display the current date and
time so here this piece of JavaScript
code is not present inside a function so
when the page loads when this script is
added to the page this will be executed
on page load right and since we don't
have a label one control let's use
textbox 1 or get type and instead of
using client a script block let's
actually use register start up script
okay so now when we run this it should
display the client side date in time in
the textbox control and if you view the
source since we are using register start
up script the script element is present
just before the closing form element by
the time the script is executed we
already have this textbox loaded into
the browser document object model
so when this script is called you know
the script can find this text box and
it's going to display the current date
and time is expected without any problem
so let's close this now and instead of
using let's get rid of this onkeyup
event we don't have that function
anymore
now instead of using this register
startup script I'm going to use register
client script block function okay now
when we run this we get a null reference
error look at that
unable to set property value of
undefined or null reference so why are
we getting null reference error that's
because if you view the source
notice that this script is present
immediately after this form element so
the script is present before the HTML
element textbox1 okay so by the time the
script is executed this textbox1 control
is not loaded into the browser document
object model okay so it cannot find this
text box one control so document or get
element by ID is going to return and
null reference and on that null object
we are calling value property that's why
we get that error okay
so that's one of the main difference
between register startup script and
register client script block methods use
register client script block method for
scripts encapsulated in functions and
that you don't need to run on page load
register startup script method can be
used for any script even if it's not
inside a function generally register
startup script method is used for
scripts that must run on page load also
keep in mind this register startup
script and register client script block
methods are also available on the page
object but these two are deprecated look
at this here we are calling this
register client script block which is
present in the client script class but I
can also use page dot
register startup script and this method
has two parameters key and value so key
and value lets you know define an empty
string there and look at this we have a
green squiggly and when I hover the
mouse over we get a message saying that
you know this is obsolete look at the
warning you know system dot web dot e Y
dot page dot register startup script is
obsolete that recommended alternative is
client script dot register startup
script you get the same message when you
try to use register client script block
of the page object so register client
script block look at that we get the
same error which is the client script
block is obsolete okay thank you for
listening and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>