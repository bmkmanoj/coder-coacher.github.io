<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Cookies in asp.net   Part 60 | Coder Coacher - Coaching Coders</title><meta content="Cookies in asp.net   Part 60 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Cookies in asp.net   Part 60</b></h2><h5 class="post__date">2012-11-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PmziMRE9NQ8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to prism technologies I am
venket this is part 60 of asp.net video
series in this session we'll discuss
about cookies in asp.net before
continuing with the session I strongly
recommend to watch it parts 57 58 and 59
of this video series in asp.net there
are different techniques to send data
from one waveform to another we have
discussed about cross page post back
context or handler object and query
strings in the previous sessions of this
video series in this session we'll talk
about cookies in the subsequent video
sessions will discuss about session
state and application state now in
general cookies are actually used to
store user preferences or other
information that is client specific but
they can also be used to send data from
one waveform to another
now cookies store small amounts of
information on the clients machine now
let's look at a simple example of using
a cookie let's flip to visual studio
here I have an asp.net web application
project with two web forms on webform
one I have got two text box controls
where the user can enter their name in
the email and once they enter their name
and email and when they click this co2
waveform to button we want to harvest
those two values and then create an HT I
mean create an asp.net cookie populate
that cookie with these two values and
write that cookie onto the clients
computer and then redirect the user to
webform 2 and on webform two we have two
labeled controls so what we want to do
is when this waveform two loads up we
want to retrieve the cookie that is
written to the client computer read the
name and email values and then display
in these label controls lets you have to
do that okay so I click the button
control to generate the event handler so
here we need to create the cookie object
and to create the cookie object in
asp.net we have a class called HTTP
cookie class so HTTP cookie and the
object is cookie is equal to new HTTP
cookie and then the constructor of this
class you know there's one constructor
which takes one parameter the name of
the cookie so let's give this the name
as user info later we can use this name
to retrieve the cookie now if you look
at
this HTTP cookie constructor class there
are two overloaded constructors so there
is another constructor which takes the
value as well along with the name now if
I have just one value to store in the
cookie then I can use this constructor
but then we want to stay store two
values the name and email so I cannot
use this constructor so I'm just using
the other constructor where it accepts
just the name okay so now we want to
store the email of the name and email
address so to store the name I'm going
to use a key called name okay so in the
cookie using name key I'm going to store
whatever the user types into text box
txt name and along the same lines I'm
going to use a key called email to store
the email value okay so so far what we
have done we have created a cookie
object given it a name and stored name
and email within that cookie object now
we have to write this cookie object to
the clients machine so how do I do that
in order to write or give something to
the user machine we use the response
object so response dot there is a proper
tea cookies collection property so
cookies - the response cookies
collection property I can add an HTTP
cookie object so I have this HTTP cookie
object so let me pass that to this add
method so that's going to add the cookie
object to the client computer and then
all we have to do is redirect the user
so response dot redirect we want to
redirect the user to webform to dot aspx
okay so now once the user is on webform
- when the webform two loads up we want
to read that cookie from the client
machine and then retrieve the values of
name and email and display them within
this label controls so we'll do that on
the page load event okay so how do I
read the cookie it's very similar to
reading query string values to read
query string values we use the request
objects query string property so request
dot query string property but if I want
to read a cookies value I use the same
request object by
I use the cookies property so request
dot cookies and then if you look at this
this cookies property it takes in the
name of the cookie so if you remember we
have created a cookie with name user
info so we want to retrieve that same
cookie from the clients computer so give
the name of that cookie so let me copy
the name let's go to waveform to today's
pick store CS and then give that and
look at this request or cookies of this
property is going to return an HTTP
cookie back so I'm going to store that
in a variable so HTTP cookie I'm going
to call that cookie is equal to whatever
we get back and now as you show we use
the keys so I use the name key to
retrieve the name out of the cookie and
then I want to assign that to label name
label okay and let's do the same thing
for the email so LBL email dot txt is
equal to cookie of if you remember the
other key is email that's it but then
the important thing here to check for is
check if the cookie is null if not if
the user directly lands on this platform
and if the cookie is not there on the
client machine and if you try to
retrieve the cookie you might get an
exception so it's always a good practice
to check you know if that cookie is null
or not not so if cookie is not now then
try to retrieve the value for name key
and email key okay so let's see if this
works as expected so let's run the
application now we can enter the name
and email of the user and then navigate
to waveform 2 and we should be able to
read the values from the cookie okay so
name I'm going to say test email I'm
going to say email test and let's click
to the form two and look at that I see
those values okay that's fine now
let me type or navigate away from this
website to maybe Google calm okay
so I've gone to google.com and then when
I click the back button
I come back to waveform 2 and look at
that I still retain those values okay
but on the other hand I close this
browser window and they open another
browser window and then type in the URL
of a form to directly and I press Enter
look at that I don't see the values now
that's because that cookie that gets
returned to the client computer you know
there are two types of cookies now there
are persistent cookies and non
persistent cookies the type of cookie
that we have written just now to the
client computer is a non persistent
cookie meaning that cookie will not be
saved permanently to the clients
computer instead the cookie will be lost
immediately after we close the browser
okay so and how do we create a non
persistent cookie if you don't set the
expires property look at this when we
were creating the cookie all we have
done is we created cookie object
specified the keys and values for them
and we added the cookie we didn't
specify the expires property now when
you specify the expires property you can
tell when the cookie is going to expire
so until that point of time the cookie
will be returned or permanently saved on
to the client computer but again the
client has the option to delete the
cookie so if you don't add the expires
property then you are creating a non
persistent cookie and what is the
duration of a non persistent cookie it
will be alive as long as you have the
browser open the moment you close the
browser the cookie also will be thrown
away okay so let's now see how to create
a non I mean a persistent cookie to
create a persistent cookie all you have
to do is before you add the cookie to
the user's browser you will say response
dot I mean the cookies object the cookie
object has called this expires property
so if you look at this expires property
it accepts date/time so let's say I want
to store the cookie on the client
computer for the next 30 days I can set
that date/time to the current date time
daytime dot now returns the current date
time to that add days how many days do I
want to add I want to add 30 days so now
this cookie is going to be written
physically to the client
buta even if I close the browser vendor
you know the cookie is still going to be
there let's see that actually in action
let me run this now and then let's enter
the name and email of the user and then
once we click the button it's going to
write a persistent cookie on to the
clients computer so let's say name is
test email is email test and I click go
to waveform to okay so I have this
information here I copy the URL I close
the browser and if you remember the
previous time we have done that the
values will was not there because the
cookie is immediately destroyed when the
browser is closed because that's a non
persistent cookie but now since we have
specified the expires property the
cookie is going to be physically present
on the client computer for the next 30
days but on the other hand I can go
ahead and delete the cookies for example
like you can go to tools internet
options and then this is IE 9 so in
browsing history I can click delete and
look at that cookies is checked here
when I click delete it's going to delete
the cookies that are present on my
machine so I click OK copy the URL and
then let me close the browser window
reopen the browser window now that
persistent cookie would have been
deleted and look at that I don't get
that information
okay so cookies can be broadly
classified into two types persistent
cookies and non persistent cookies
persistent cookies they remain on the
client computer even after the browser
is closed you can configure how long the
cookie remains using the expires
property of the HTTP cookie object
whereas non persistent cookies if you
don't set the expires property then the
cookie is called as a non persistent
cookie because non persistent cookies
only remain in memory until the browser
is closed on this slide you can find
resources for asp.net c-sharp and sequel
server interview questions that's it for
today thank you for listening
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>