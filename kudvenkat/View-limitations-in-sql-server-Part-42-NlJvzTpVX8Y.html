<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>View limitations in sql server   Part 42 | Coder Coacher - Coaching Coders</title><meta content="View limitations in sql server   Part 42 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>View limitations in sql server   Part 42</b></h2><h5 class="post__date">2012-09-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/NlJvzTpVX8Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to plenum technologies I
am venket this is pad 42 of sequel
server in this session we'll learn about
view limitations before continuing with
the session I strongly recommend to
watch parts 39 40 and 41 of this video
series you cannot pass parameters to a
view let's understand what we mean by
this with an example
let's flip back to sequel server
management studio I have a table called
TBL employee which is God Heidi names
Hillary gender and Department ID columns
now let's create a view on this table so
here we are creating a view called view
employee details and this view is
returning all the columns except the
salary column from TBL employee so it's
returning ID name gender and department
ID columns alright let's create that
view so create view view employee
details as select ID name gender
Department ID from TBL employee execute
command completed successfully refresh
the views folder and we should be seeing
the view there alright to select the
data from the view select star from that
view name we get the data back which is
good ok now let's try to pass a
parameter to this view and see what
actually happens if we look at the view
implementation on the right with a red
cross on that you know the difference
between these two views is that in the
view here we are actually passing in a
gender parameter of type and we're can
and we are using that parameter to
filter the rows from TBL employee table
so in the where clause we are saying
where gender is equal to at gender the
parameter that we pass in now is this
possible in views it's not possible you
cannot pass parameters to views that's
why it's crossed out now what will
happen when we try to do that we will
get an error so it's not possible you
know to pass parameters to a view in the
sense we cannot create parameterize to
views okay so let's try to do that and
see what actually happens so create view
execute and we get an error
okay so parameterised views cannot be
created
now if you really want you know the
reason why we are passing in here at
gender parameter is I want to filter
based on the gender so if you want to do
that you can actually use the very laws
if you want to let's say for example if
you say select star from that view you
get all the employees and just in case I
want only male employees I can use the
where clause where gender is equal to
male and I only get male employees on
the other hand if you want female you
can filter so all right or what else you
can do you can actually use table valued
function as a replacement for
parametrized views in fact we have
spoken about that when we were
discussing about functions okay so let
us see how to create a function that can
act as a replacement for a parameterised
view so if you look at here we have an
inline table valued function called F
and employee details so create function
function name again if you are new to
functions we have already spoken about
functions in a very great detail in the
previous sessions of this video series
so create function function name and
this function is taking in a parameter
called
H gender of type and WellCare which
returns a table and if you look at the
implementation this is a very simple
function which selects ID name gender
department ID from TBL employee
filtering the rules based on the gender
using the parameter that we are passing
into this function okay so this is an
inline table valued function which is
also taking a parameter and the way we
invoke the function look at this it's
exactly the same way as the invoke a
view so select star from this function
name and we pass it the parameter that
it expects in this case gender male or
female so now we are able to filter the
rules using a parameter so you can use
this in line table valued function as a
replacement for a parameterised view in
sequel server because in sequel server
it's not possible to pass parameters to
views and remember to invoke a table
valued function you have to use the two
part named DB you dot the function name
alright
so let's create this fun
and select data from that so here is the
function create FN employee details so
if we expand programmability functions
since this is a table valued function
you already have the function so let's
delete that and then recreate it so
execute the statement
command completed successfully that's a
function is created now so select star
from that function passing again male
and we only get male records
okay so parametrized views cannot be
created in sequel server but table
valued functions can be used as a
replacement
okay rules and defaults cannot be
associated with views so this is another
limitation that we use have and it makes
sense because views are virtual tables
they don't really store any data except
for index views that's why it makes
sense not to have rules and defaults
being associated with the view and the
order by Clause is invalid in view
unless stopped or for example it's also
specified so in a view definition you
cannot use the order by Clause let's try
to use an order by class in this view
and see what actually happens so all the
view select from this table and let's
say we want to order the results by ID
and let's see what happens so execute so
we get the same error message the order
by Clause is invalid in views inline
functions and derived tables sub-queries
and CTE common table expressions unless
top or for xml is also specified so you
cannot use the order by Clause unless
you use the top or for XML you know
keywords okay views cannot be based on
temporary tables this is another
interesting limitation let's look at
that in action so we have a temporary
table called hash hash test temp table
and this is a simple temporary table
that has got ID name and gender columns
and we are inserting some sample data
into that temporary table again we have
spoken about local temporary tables and
global temporary tables in a great
detail in the previous session
so if you're new to temporary tables I
strongly recommend watching those videos
first okay
so create the temporary table insert
some sample data into that
temporary table now let's create a view
on that temporary table so create view
view name as and if you look at the
implementation of the view you're
selecting the ID name and gender columns
from that temporary table the fact that
it has hatch hatch within the table name
it makes it a temporary table so
obviously is this possible can you
create a view on temporary tables you
cannot if you try to do that you will
get an error message stating so let's
try to see that in action so we have
this create table hash hash test temp
table ID name and gender IDs of type
integer name and gender or n we're care
let's try to create this table let's see
if there is this temporary table already
created so drop table f5 alright
so now let's go ahead and create this
table press f5 so the command completed
since this is a global temporary table
we can access it in any session of the
sequel server so let's try to insert
some data into that f5 alright let's
quickly check if the data exists since
equals I mean in the temporary table
select star from the temporary table
name so we have the data very good now
let's try to create a view on this
temporary table I mean the the creation
of the view itself is very simple it's
almost very identical to how we create
view on a regular concrete table on a
permanent table except that we specify
the global temporary I mean the
temporary table name here so create view
view name as select whatever columns you
want from the temporary table let's try
to create this and see what actually
happens so execute and we get the same
error message that we are expecting
views are functions are not allowed on
temporary tables table names that begin
with hash denote temporary tables single
hash is a local temporary table and
double hash is a global temporary table
so you cannot create views
or functions on temporary tables okay so
those are the limitations on views you
cannot pass parameters to a view rules
and defaults cannot be associated with
views the order by Clause is invalid in
views unless stopped or for XML keywords
are also specified views cannot be based
on temporary tables on this slide you
can find resources for asp.net c-sharp
and sequel server interview questions if
you want to receive email alerts when
new videos are posted please subscribe
to my channel that's it for today thank
you for listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>