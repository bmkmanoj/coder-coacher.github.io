<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 31   WAS hosting in WCF | Coder Coacher - Coaching Coders</title><meta content="Part 31   WAS hosting in WCF - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/kudvenkat/">kudvenkat</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 31   WAS hosting in WCF</b></h2><h5 class="post__date">2014-02-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CbYV3R7Iebg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is part 31 of wucf video series in
this video we'll discuss hosting WC of
service in IAS 7 and enabling Windows
activation service to support known HTTP
protocols like TCP this is continuation
to part 30 so please watch for 30 before
proceeding by default is supports only
HTTP protocol if you recollect from the
previous section we have hosted this
hello service in is if you look at the
web config file notice that at the
moment we are using basic HTTP binding
this means that the underlying protocol
for communication is HTTP now let's try
and use net TCP binding instead of basic
HTTP binding and see what's going to
happen so here we are using net TCP
binding meaning the underlying protocol
is going to be TCP protocol and let's
see what's going to happen since we have
specified the binding as net TCP binding
we need to add another base address to
support TCP protocol so let's change
this HTTP to net TCP and let's change
the port number to 80 90 all right with
this change let's save the changes and
let's open IAS so within the run window
type I net MGR and click ok this should
open up at the Internet Information
Services and here we already have an
application so hollow service right
click on hello service and select switch
to content view and that should display
the content or you know of the physical
directory to which this virtual
directory is pointing to so here we have
hollow service dot SBC right click on
that and browse to it and notice that we
get an error
okay that's basically because by default
is supports only HTTP protocol if you
want to use non HTTP protocols like TCP
we need to install windows communication
foundation non-http activation component
and was component was stands for windows
process activation service what is
supported on these platforms with is 7
and above versions so it's supported on
Windows Vista Windows 7 and Windows
Server 2008 now if you want to find out
which version of iOS you have on your
machine simply within is click help menu
item and then select this option about
Internet Information Services and that
should display there the version of iOS
you have at the moment on my machine the
version is 7.5
alright now to support non HTTP
protocols in is we need to do two things
that is the first one is to install
walls and windows communication
foundation on HTTP activation components
and then we also need to enable non HTTP
protocol support in is forever
application ok let's go ahead and look
at these steps in detail now so step
here are the steps to install you know
was component and windows communication
foundation on HTTP activation component
so basically we need to go to control
panel and to get to control panel within
the run window type control so that
should open up the control panel and
here you should find programs and
features click on that link and then
click on this link turn Windows Features
on or off so this should bring up you
know the Windows Features window this is
going to take you know a few seconds to
load all the proof all windows features
ok so if you scroll down notice that I
already have windows process activation
service already installed and under
dotnet framework 3.5 point one notice
that windows communication foundation
non-http activation component this is
what we need to install so select that
and click ok so this is going to take
several minutes to install so let me
pause the video at this point so Debbie
is here non-http activation component is
now successfully installed so let's
click ok and the second step is
to enable you know the non HTTP
protocols support for the application
and to do that you know simply go to IAS
and within is this our application
directory so right click on that and
then select manage application advanced
settings and he notice that enable the
protocols at the moment it's only HTTP
so let's also say we want support for
net TCP protocols who put in there
if you want to have the support for
another other protocols just specify
them with you know a comma separated
list so let's click OK and at this point
you know we should be able to use TCP
protocol so let's actually go to is and
browse this service file and see what's
going to happen and look at that it
works as expected
okay now let's go to the client
application so here we have the client
application and if we look at the
configuration file of the client
application notice that at the moment
the client application is still using
basic HTTP binding so we need to update
the service reference ok so let's go and
do that right now so update service
reference so this should change the
binding now to net TCP binding ok so
notice that at the moment it's using net
TCP binding so let's go and test our WCF
service and see if it supports non HTTP
protocols that is TCP that's what we
have specified ok so let's say test as
the name click get message and it should
work now now look at this we have an
exception and if you look at the
exception let's actually press f5 and
see what is the exception so if you get
this exception you know then run this
command ok so if you get this error you
know run we just recommend prompt as an
administrator and execute this command
if you get this error that's what we are
getting at the moment then execute this
and service model registration - are so
what is this going to do it going to
repair the service model registration in
case if there are any problems so let's
go ahead and do that and speed things up
I have already typed that part so let's
copy that let's go to visual studio
command prompt and then actually act we
are right there so let's execute service
model registration tool so service model
registration dot exe - R for repair so
when we press ENTER it should you know
look at that it has you know changed
service config - you know everything
it's a success now let's go ahead close
this client application that's running
let's run the Windows client application
one more once more and let's enter test
as the name click get message and it
should work now look at that hello test
and let's say hello test one two three
all right so these days most of the
companies host their WCF services in is
with windows process activation service
enabled as it has these advantages that
you see here no code required to host
the service is provides process
recycling automatic message based
activation idle time management etc and
it also supports all transport protocols
including the non HTTP protocols like
TCP named pipes etc that's it for today
think it's listening have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>