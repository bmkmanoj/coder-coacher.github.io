<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Develop Mobile Apps without Infrastructure (Firebase Dev Summit 2016) | Coder Coacher - Coaching Coders</title><meta content="Develop Mobile Apps without Infrastructure (Firebase Dev Summit 2016) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Firebase/">Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Develop Mobile Apps without Infrastructure (Firebase Dev Summit 2016)</b></h2><h5 class="post__date">2016-11-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Mu98f8eCNlU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this morning we started out with the
keynote where all the new features were
introduced I loved what I saw there and
then we went to Steve's talk about
analytics and to be honest as much as I
love the keynote I loved his talk even
better he showed us a lot of new
integrations with analytics they're
amazing
then you all at lunch and to be honest
I'm not really sure but I couldn't find
those over lunch I'm not sure what
happened there but then we went came
back and just now Justin and Ellie
showed us how you can insure your app is
of high quality by using firebase just
leaves us with one thing we haven't
developed an app yet so that's what
we're gonna do in the next 30 to 40
minutes we're going to be building an
app here live on stage we like taking
chances so if you haven't used firebase
before this is probably the model that
you use for your app you start by
writing some code that runs on the
device or in the web page then you
realize that you need to store your data
so you spin up a database and it doesn't
really matter
whether that's a relational database
like my Sigma or sequel server or a no
sequel database like Mongo then you
realize that you need a way for your app
to access the database so you spin up an
app server you build some basic routes
that to create operations on your
database right so you can now read and
write the data so that's good we're back
into the app we're writing the codes
that our users are going to be happy
with and then you think it's like hold
on I think I just opened up my database
to the world this might be not the best
idea I ever had so how am I gonna secure
this app so I'm gonna have my user sign
in and then I need a way to ensure they
only get that the data that they should
have access to see we're gonna see later
that it's a lot of work to ensure that
this flow is smooth okay we got that
covered so we're back in the app right
we're writing those features people love
the app I think it's like how about if
we add the ability to upload files to
the app right it's gonna be amazing and
it's great because we're going to be the
next
it's like no hold on that's not great
we're gonna be the next snapchat how we
would help and all the skill of that
you're running on Google infrastructure
so I'm quite sure that we can handle the
scale of that but that app server that
we put in the middle oh that scale I'm
never sure so I'm really I find myself
worrying about scalability a lot and
keep in mind why while I'm worrying
about scalability and not building my
actual app a lot of your time goes into
running infrastructure instead of
building the features that make your app
your app there has to be a better way
that better way is using firebase if you
use firebase your apps code talks
directly to our powerful managed
back-end services we take care of
security and of scalability so that you
can focus on building features that your
users love but why would we take my word
for that so we're going to be building
an app today and in the plastic firebase
tradition that would be a chat app we're
going to be using five features we use
the firebase real time database to store
and synchronize data between our users
will add the ability for our users to
sign into the app using firebase
authentication then we're going to add
firebase storage so that we can share
those files that I talked about
then we'll deploy the finished app to
firebase hosting so that everyone can
access it and then I'm not really sure
why but Thomas told me he wanted to use
cloud messaging we will have to find out
later why that is ok lots of features
let's get started doing the first one so
the firebase database the database is
the first feature that we built for
firebase it's actually where we got our
name from and it's a cloud hosted no
sequel database so it's cloud hosted and
that is great because it means that all
the users of our chat app are talking to
the same database quite important it's a
no sequel database it's in fact a Jason
tree if you've ever used Jason you know
that it's a very flexible data modeling
language so that is great this is the
data mobile that we're using today
so you can see that at the top we have a
note called chant and under that we have
a list of the chant messages so for each
message we have the name of the user
that sent a message and the text that I
sent you can probably imagine how in the
app will access this data and show it
right we just request the check messages
and look through them you can also
imagine how we could extend this data
model to enrich our app for example for
file sharing we probably want to store a
URL for each check message and maybe we
want to allow multiple chat rooms in our
app so we add a note under the routes
just like we know where where we now
have chat we could have public as the
chat room okay enough 3 theory let's
start actually building this let's write
some code ok so this is a demo that
we're running of one of the laptops
there you can see that we have a web app
and we sort of have everything prepared
for this demo so we've built the basic
HTML and we've wired it up to some codes
if we now hit the submit button the
message is added to the local screen we
can even select an image if we submit
that image we see a preview of the image
on the local screen now we're done right
that's what you're thinking not really
there's one big problem with this app
when we just reloaded it all the data is
gone because it's just a local app
everything just exists in web page when
we reload it it's gone the data was not
persisted to a server anywhere that's
where we're going to use firebase so we
have to code ready here we're going to
switch off to the firebase console first
and do a few setup steps there so the
firebase console is where you manage all
of your firebase projects today we're
going to be using the project called
fire conf 2016 and in here we already
have an Android and an iOS app so is
this what you did over lunch okay so we
apparently already have an Android in an
iOS app that's very nice of you
I'm glad you left us some work to do we
are building the web app remember so if
we click the button to
we add a web app and we get a
configuration snippet now this snippet
contains all the information that our
app needs to fight this project on the
server for the iOS and the Android app
we have a similar snippet so you
download the file from the console you
add it to your Xcode or Android studio
project and with that all these apps are
talking to the same backends so they're
talking to the same database to the same
list of users to the same stored files
so we can easily collaborate on the same
data that way so we've taken the
configuration snippet we've added it to
our app here so now the web app can find
its firebase project on the Google
servers we've initialized an app based
on that data so with that we're ready to
start wiring up the database first thing
we need to do is that we need to find
the check nodes that you saw on the
slides in our database so we create a
reference to that check node in the
cloud now we can start writing the data
to the database so when the user clicks
the submit button this is the code that
we run you see that we take the values
from the screen and we add them to the
HTML calling a method called and message
to let you know that's what we're going
to remove because to be honest we don't
want to add it straight to the screen we
want to send it to the database so they
send it to the database we take the
reference to the check node that we had
we tell it to add a new check message on
the right then we set the data that the
user entered into the chat message that
is really all that it takes to write to
the firebase database because if we now
enter a new chat message and we hit
submit the message shows up on the two
screens that we have for it and mobile
fights sites but it doesn't show up on
the web page anymore that of course
makes sense because we just removed the
code that adds it to the local screen so
let's fix that so
until now the interaction with the
firebase database has been fairly
traditional right it's a request
response model we create a chat message
we send it to the database and wait
until the database is done in a
traditional database that's also how you
read data right you would request the
chat messages you wait for the response
to come back then you look through the
chat messages and you add them to the
screen one by one you probably wait a
few seconds you request if there are any
new chat messages and then you add those
to the screen you wait another few
seconds you did the same thing over and
over you are doing a polling request
response loop our database is fairly
non-traditional so when you interact
with our database it's different instead
of requesting data repeatedly you're
going to be asking the database once if
something happens under the chat notes
tell me about it
yep let's finish the code and then we'll
fix this while we go to the next feature
okay
so let's pretend that the demo actually
runs I really could use that a post-it
but sign right now thank you everyone I
mean I'm probably now about as orange
Estus as the logo is but okay so we're
talking about listening for data on the
day to day so remember with the firebase
database you don't request for the data
you say you tell the database that you
want to listen for changes so let's add
that code so we have the same reference
to the chat notes and we now tell it to
give me the latest 10 chat messages and
then whenever a new chat message is
available it fires a child edit event
and gives us a snapshot of the data of
that new message
so from that snapshot we get a message
that contains the name of the user that
posted the message and the message that
they posted and then we call aunt
message to HTML you remember that what
feels like hours ago to me right now
we actually just removed that call a few
lines up okay so we add it back to the
screen so if we would reload the app now
the message would show straight away
reason for that is that a child edit
fires immediately for any data that you
sent to the database and it also when
you type a new message will fire for
that new message both on the local
environment and on the remote system
straight away let's see if one of the
mobile devices is connected Thank You
eNOS it's really just the web app that's
broken okay so we have to working the
ones that you guys did in an hour over
lunch and clearly the one that I just
talked through is like not happening
we'll see if we can fix that and
actually we really should do something
about this app because it's rather
boring and bland right that we can
exchange check messages it's not really
a lot yet we should add some some cool
features too to the app to make it more
can't you have any idea how we can make
this app cooler what about
authenticating our users I mean it's
fine if I pretend to be you but I don't
want anyone pretending to be me that's
that's just not cool so to do this we
might normally use a user table right
salt and hash our passwords or we might
use facebook login and do the whole loaf
dance I don't know how many of you have
done the the holo auth dance yeah a
couple hands you know you know how fun
it is right or we can use firebase off
which supports a bunch of the social
providers so we can go ahead and let our
users log in with Facebook or Twitter or
Google and if they're the sort of person
who just does does not use any of the
social providers very segmented and what
they have logged into what we also
support email and password so you don't
have to salt and hash your own users we
can also add in custom authentication so
if you already have a user system such
as Active Directory you can hook that up
with firebase authentication and what
that allows you to do is authenticate
your users to the database you can go
ahead and say who is allowed to upload
photos or who is allowed to write chat
messages or not and if you want to
provide a way so that people can try out
your app beforehand before they sign up
we have this thing called anonymous
accounts they can go ahead and use your
app that'll automatically create an
anonymous account and when they sign up
we will go ahead and link their
anonymous account with their actual
account what this means is all of the
chat messages they sent as an anonymous
user once they've signed in you'll be
able to go ahead and show them the
history of all of their chat messages
this linking of accounts between
anonymous and the signed up user works
across the social providers too if
someone is logged in with Twitter one
day and the next day they forgot that
they logged on with Twitter or they try
Facebook we can go ahead and link these
accounts together and
provide the data as if they were the
same person because they are even if
they use two different accounts to do
this all we need to do is provide a
little bit of UI right we've got our
back-end running with firebase
authentication all we needs a little bit
of UI we need two fields for email
password right one for email one for
password and one button if you submit it
oh wait but people probably haven't
actually signed up for our app because
we've just made it so we'll need a
signup flow and someone's bound you
forget their password so we'll need a
way to reset it forget passwords
altogether actually I have a Google
account I'm sure some of you have Google
accounts so let's do Google login
because firebase authentication won't
support that but maybe you don't have a
Google login and you have a facebook
login so let's go ahead and add that and
who's going to remember if they click
the blue button or the red button the
previous day so we'll go ahead and link
our accounts because firebase
authentication will allow us to do that
too oh wait but I drew this for Android
and we're trying to build a web app here
so we'll have to do it again and of
course we can't forget iOS so we have to
do it one more time and at this point I
don't know if you've been keeping track
of all of these lines it's kind of
turning into spaghetti we've written
something like 15,000 lines if we were
to implement all of this ourselves
all right 15,000 lines on stage it'll
it'll work this time right no okay well
don't leave because I'm happy to say
today we're launching firebase UI 1.0
it's an open source library which
features all of the auth flows that I
just went through all of that spaghetti
you get all of it
it has customized theming and it works
for web and Android and iOS so you can
go ahead and drop that in and you'll
have all of the UI's that you'll need
it's built by the same team that built
firebase authentication the backend
service so you know it has all of this
best practices all right how's this do
you think we can do this I think we can
all right
let's get back to the code and it seems
that connecting to the internet helps
your demo thanks for bearing with us I
promise we've had no extra code we just
turned on the Internet
okay so the first thing we'll need to do
is connect our new service which will
work now that we're connected to the
Internet
this here connects us to the firebase
authentication and we can also configure
our UI so that we provide Facebook and
Google and email password letting people
choose whatever provider they like we'll
go ahead and configure our UI and start
it up when we've loaded the page so if
we go ahead and load the page we'll be
able to sign in with any of our
providers let's go ahead and do that
click Google here and I can allow the
app to you use my Google account and
login that way
but that's weird it doesn't actually
show my name and the logout button
doesn't actually work so we'll want to
go ahead and wire those up in order to
do that we'll have to check whether the
user is logged in or logged out to do
that we'll do use a similar method that
we used on the database will use a
listener but here we're not listening
for a child added to the database we're
listening for the off-state and when it
has changed we'll get the firebase user
when they're logged in
and if they're logged in we'll be able
to set the current user to the firebase
user and if they're logged out we'll go
ahead and clear it and this method will
go ahead and show the login inputs one
more time last thing we're going to do
is actually allow you to log out so
we'll add one more snippet of code and
this here will call directly into the
firebase off service and log at the user
when they've clicked the logout button
so if we refresh the page we'll actually
see that my name is Kat and we'll be
able to send a message
as me Oh Frank I was trying to prevent
this problem alright but now we've
logged in well what if I want to share
an image I had this delicious pizza for
dinner last night I ate a whole half a
piece of myself and it's not a small
pizza it's like a big pizza and I want
to share this with all of my friends to
say hey look even I can eat half a pizza
to do that I can't really share on my
web app yet I could send like a little
emoji but then you think I just ate a
slice and you wouldn't see that it was
heap full of vegetables to actually
share an image we can use firebase
storage this allows you to select the
file name and upload it to the server to
the cloud so then it can be shared
across your app you can also share audio
video you can even perform application
data backups it's backed by Google Cloud
storage so if you're already using
Google Cloud storage you'll be familiar
with a lot of these things it provides
the scalability you'll need to upload
petabytes of data if you can generate
that much but it has the firebase API
layered on top of it that means you get
integration with the other firebase
products such as authentication you can
say which users can upload or not you
can even go ahead and say users are only
allowed to upload files of five
megabytes or less will also help you
deal with a couple of annoying edge
cases if you're on mobile and if you go
into intermittent connectivity and kind
of things drop out and then you get
connected again we'll go ahead and
continue the upload so that your files
can be shared across your app let's see
what it takes to add this to our
application again the first thing we're
going to do is connect to the service
here we're connecting to firebase
storage and we'll be using a parallel
structure that we used for the database
we'll be using the chat folder here what
we've done before is when some
celexa file we'll go ahead and show a
local preview we'll get rid of that and
actually upload it to firebase storage
so we use the file name that the file
actually has and we just put the file
you'll see here that we get returned an
upload task and with this upload task we
can go ahead and track the progress
maybe even show progress bar in this
case we're just going to go ahead and
listen for when the file has completed
the upload when the file is completed
the upload will get the download URL
this URL is a public URL that means I
can share with you you'll be able to get
the image but if you don't have it even
if you know what the name of my file is
you won't be able to access it it's
unguessable will use this download URL
to show a preview of the image which
then when we press the submit button
we'll be able to pick up and send to the
database and that's just a cool neat
trick for sharing images as soon as one
uploads we put it into the database and
we'll be able to see it across the other
devices
you wanna you want to actually share it
press the submit button thank you yeah
there you go all right so now we got our
unicorns everywhere barfing rainbows
perfect so we have our web app the only
thing we need to do is share with people
let's deploy it to the web we can do
this with firebase hosting firebase
hosting is a free hosting service for
static files
it comes with SSL so if you've ever
setup SSL before you'll know it's a
little bit of a hassle you get it for
free people will be able to know that
they're connecting to your website one
more thing you get for free is a CDN so
your users wherever they are will be
able to access your files quickly to do
that all we need to do is firebase
deploy and then it's on the web so
that's all it takes to build a
cross-platform application and you know
we've only taken not that long but
Thomas here insisted that we have a 45
minute slot but we're done right yeah I
think Thomas I don't know okay hi I'm
Thomas I'm the local back-end dev
amongst this group and as a back-end
developer it's true that I have less
work to do when my team uses firebase
but I'm here today to talk about some
reasons why you might still want to add
back in code even when you build a
firebase app there's three primary
reasons first of all you might want to
have shared business logic something
that will change and be automatically
applied to all of your customers
regardless of which version of the app
they're using second you might want to
have some trusted code you might want to
do something that your clients can't and
should not be able to do themselves and
third you might want to integrate with
their services to enable awesome new
features for your app now Google we had
the Google cloud platform it integrates
great with firebase and it powers some
amazing apps like snapchat and Spotify
and we have a variety of ways that you
can host back-end code they range from
things that will let you have very
fine-grained control of your
infrastructure do things that are very
simple and take away all infrastructure
needs from you like Google App Engine
which is what we'll use a day today
we're going to build an app using App
engines flexible environments with this
we can locally develop a node
application test it make sure we like it
and when we're ready deploy it to
production App Engine flex will take
care of all the infrastructure needs for
us it will supply security patches
automatically it will rotate out
machines weekly and if we want it can
auto scale or our application on-demand
so the real question is how can we use a
back-end to improve this spectacular app
our colleagues have written so if you're
like me you may have used the internet
before and if you've ever used the
internet you may be familiar with this
phenomenon where people are not always
polite so we're gonna add a layer of
moderation to our app and try to keep
things on the up-and-up now in a real
application moderation is a very complex
subject you want to make sure you flag
something for review you might have
human intervention it's a cat-and-mouse
game no pun intended for our presenters
but for the simplicity of this demo
we're going to add a new flag to our
message it will be called flagged if
it's true the message has been banned
it's inappropriate if it's false the
message isn't improved and cat has
helped us out with our demo a bit she's
added some new UI to our applications
when a message is flagged it will be
stricken out when it's approved it will
be lit green this will just kind of help
us visualize what's happening in the
backend so how are we going to get
started well we're going to pick a
series of banned phrases that we
consider to be and
planetory but where would we actually
hold this list and we could put it on
the client but it's gonna change over
time and it might be out of sync and it
would be great if everyone had to play
about the same rules we could
theoretically put it inside the firebase
security rules which are very very
powerful but this starts to stretch the
limits of their abilities so instead
we're going to create a trusted client
now when we create it back with firebase
we're not going to use the traditional
three-tiered model we have to create a
server that sits between your back-end
service and handles every single request
just because you want to add some little
sliver of custom behavior instead with
firebase we're going to create just
another client we're going to be able to
reuse all the tools that my colleagues
use as client developers but with an
extra power as back-end developers so
let's get started now today we're going
to use I said App Engine flexible
environments and even when writing a
demo I like to write testable code so
we're going to create a file called mod
called moderator jas and that file will
hold some utilities for helping us
decide whether Texas band will start by
just creating a hard-coded list this is
a demo after all and then we're going to
create a utility function that accepts
some text massages it a bit and decides
whether or not we've matched a band
phrase now this is a great level of
granularity for adding some unit testing
because it has no external dependencies
in the network we can take these small
building blocks and add them up I'm
going to create one more function that
we use to decide whether a chat message
is banned for any reason at all so great
now we have our handy utility we can
start monitoring or fire abuse on but
like I said we we need to have a trusted
client so how are we going to do that
well you can authenticate as a service
account and I see many developers doing
this
by downloading certificate files and
including it in their source code or
shipping or their application this is
kind of complicated and it's not
actually necessary today we're going to
use Google application default
credentials Google application default
credentials are Google's best practice
for securing your back-end app because
every service every back-end service
inside of Google runs as a service
account an application default
credentials are able to automatically
discover credentials for the service
account without actually including those
credentials on the machine inside
Google's back-end cloud this means that
your code is simpler and it's much safer
you don't accidentally leak these
credentials but we're doing local
development here and this laptop last I
checked wasn't part of Google cloud but
that's okay because you can also make
these same SDKs work with locally
installed credentials as well and now
when we use application default
credentials every Google SDK including
the newly released firebase AB and SDK
will be able to auto configure we'll be
able to use development credentials on a
development environment production
credentials on a production environment
we won't get them mixed up we won't leak
them accidentally so let's jump back to
our index j s and actually create a
trusted firebase client we're going to
initialize the firebase admin SDK and
notice that we set firebase config dot
credential to firebase potential the
application default credentials that's
what we have to do it'll automatically
discover the service account next we're
going to create a query we're going to
try to find all unmoderated messages so
we're going to get a reference to the
same chat node where our client apps
have uploaded their messages the next
two lines filter our results they say
that we only care about results where
the flag field is not yet set now we'll
add a child added listener this is where
the magic happens we're going to notice
all new messages were flagged is not set
we're going to use our well tested
utility that decides whether this
message should be banned and set that
flag field back to the database so let's
go ahead and run our app because it
seems our back end because it seems
these two have been a bit of a troll
javascript is a horrible language
have you read JavaScript two good parts
it's kind of a short story some people
got that oh and as you can see we've
already moderated all of our messages
because the child added event handler
will backfill with all existing content
so great now we've successfully
moderated our app we've made sure that
there's no way people can be trolls
oh we've gotten ahead of ourself in our
demo spoiler there we go no one can be
trolls but of course I have some clever
colleagues who are not only trolls but
clever trolls and they've found a way
around our system and of course if we
pretend we haven't seen ahead in this
demo nobody could ever find content
inside these images right we have the
power of the cloud behind us we can also
do image analysis to find out if there's
any inappropriate content we should ban
there as well so you know this is
another case for using a back-end
because yes theoretically we could run
image processing on the clients but
there's a couple of problems with that
one the whole reason we were we're doing
this moderation server sighs we don't
trust these people and moderate their
own behavior second of all we want to
make sure that they can't tamper with
the results we want to make sure these
you know change automatically that if we
add for example image filtering everyone
is now subjected to image filtering and
third if we were to do image processing
on the local client it might drain a lot
of battery so by using existing services
in the cloud we can not only get this
great feature very easily but we're
kinder to our users and today we're
going to
use the Google cloud vision API see
Google has taken much of the magic
behind Google photos I made it available
to us as developers so when we go back
to our moderator gif we can add a new
dependency on google cloud / vision this
slash here is because the Google cloud
node SDK is very modular you can use as
much or as little of it as you'd like
you'll also notice the extra parens
after the require statement this is the
initialization call because we're
running on an environment that has
application default credentials we are
not providing anything this will get the
app default credentials for its
authentication and it will pick its
project based on an environment variable
that will always be set in Google Cloud
now it means we have code that like I
said will run very well it can run
easily on our development project and a
production project next let's add a new
utility function this function will
detect bend content inside images first
we call vision detect text this function
will return an array with two results
the first is an array of all the text
that has been found in the image and the
second is where that content was found
since we have some fairly simple needs
we'll just take all of that text smash
it together and then pass it on to the
utility we wrote earlier now all we need
to do is update our final function
should flag node so it will detect
either a violation in text or an image
contents so let's restart our back in
and see if we've successfully blocked
these trolls so now all of a sudden it
sets the images flagged like we've
mentioned before in a real application
you might remove offensive content here
for the sake of a demo we're just
blurring it so we defeated the trolls
twice but I was a little bit embarrassed
when my arrogance was used against me
and cat found the workaround so for our
next step
going to try to add a human touch I
would rather make sure that I am
notified whenever they add an offensive
message so I know to come back into the
application and start calming down these
conversations so we're going to use
firebase cloud messaging for this in
preparation Kat has added another
feature to the browser we're going to
pretend that everyone who uses the web
app version isn't admin we're going to
use a newly released firebase cloud
messaging API for browsers to get an
installation ID where we can receive
push notifications we'll save it to the
admins node in the database and now we
can go to our backing code to send a
message to any administrator whenever
offensive content is found so first
let's create a utility function this
function will send a message to all
admins first we use the database value
listener to fetch all registered tokens
inside the admins node next we're going
to use the REST API to send their a our
message firebase Cloud messaging doesn't
yet have a sender API for JavaScript
only a client API but the REST API is
very simple the biggest difficulty here
is that we have to add a server key you
can get this in the firebase Cloud
messaging settings in your firebase
console it's go under general firebase
Cloud messaging you'll find it there as
the name implies though this is a server
key you should not give it away to your
clients if you do they'll be able to
send whatever push notification they
want to we've already seen what these to
do with a little bit of power so once we
have this let's go change our child
added listener one more time we're going
to check whether or not the message has
been flagged and if it has we'll send
the message
so let's restart our back in one more
time and we'll notice that one of my
favorite features about firebase Cloud
messaging for the browser is that it
works even when the browser is gone so
let's go ahead and close this browser
window
and we'll let Puft roll us one more time
I'm sure
right now I'm puff is really good sport
let's let's give a round of applause for
letting me throw them under the bus so
many times
we'll save one more round of applause
with demo works that's easier mmm
warning a message has been flagged so I
really appreciate my colleagues letting
me play along and pretend to be these
the evil users trying to thwart my
application but in not very long we've
added a lot of great features to our
application and what's great is we've
been able to do all of this and add a
secure back-end without managing
infrastructure because now that we have
an app that we like it's very easy to
continue moving on new super special
slides can we switch your slides so we
have enough we like and this is all it
takes to go to production we had a two
line app demo file the first line says
that we're creating an ode app the
second line says that we are using Java
store that we're using App Engine flex
and then we can use the G cloud a
g-cloud command line tool g-cloud app
deploy and we're done we have a great
back-end and I appreciate you guys
giving me some time as a back-end
developer to help contribute Thank You
Thomas and Ikey I think I agree with you
it's definitely possible apparently to
add good functionality to a firebase app
by writing some back-end code mother
really really was most impressed with is
how little infrastructure you have to do
right Kat was only essentially writing
client-side code just like we have in
the rest of the app so let's have a look
here at what we've done so we started by
wiring up our chat app to the real-time
database and by doing that we could
store and synchronize data
between all of the devices in real time
especially when we made sure the
wireless was working on one of the
machines that helped a lot then we added
the ability to sign in with firebase
authentication and the newly released
firebase UI and that was great because
then we can also make sure that you can
only access the database when you are
authorized to do so as some of you may
have discovered then we added firebase
storage and we could share files between
our users easily then we were done and
we uploaded the file to firebase hosting
so that everyone in the world can access
it over our CDN and finally Thomas
showed us that by using firebase cloud
messaging we can notify users in fact he
showed us that by using Google App
Engine flex environments we can write
mostly code that's the same between the
client side and the server side so
instead of putting our app server
between the users app and the database
we put the app server behind the
database and that means that firebase
takes care of all the security and
scalability issues while you can focus
on writing business functionality but
then on the back end those were just
five of the firebase features we have
ten more of them that will help you
build more fiber and build more app grow
your user base make sure that your app
is of a high quality and earn money
all of these api's I should expect from
firebase fully client-side and they're
very simple to use but as you may also
expect from Google they scale so if your
chat app becomes the next snapchat
firebase will be there to help you okay
it's ready - it's time to wrap up we're
about to head into a break I think right
in this break and afterwards we all will
be in the ask firebase launch so if you
have any questions or just want to see
how we suffered through the wireless
network problems come see us we love to
hear what you built with firebase what
you think you're gonna build and there's
nothing that gets us more excited than
hearing your grade I've had years thank
you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>