<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Getting Started with the Firebase Realtime Database on iOS - Firecasts | Coder Coacher - Coaching Coders</title><meta content="Getting Started with the Firebase Realtime Database on iOS - Firecasts - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Firebase/">Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Getting Started with the Firebase Realtime Database on iOS - Firecasts</b></h2><h5 class="post__date">2016-05-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/joVi3thZOqc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up everybody
david here from the firebase team and
welcome to a new season of fire casts
today i'm going to teach you everything
you need to know to get started with iOS
and the real time database i'm going to
show you how to get set up and then
teach you the basics by building an app
so let's dive in I'll be using cocoapods
to install the real time database SDK
and if you want to learn more about
cocoapods you should totally watch Todd
Kerpelman video which will teach you
plenty about getting started with
cocoapods
so I'm going to create a pod file by
calling pod in it and this creates sort
of the manifest of all of the
dependencies that my iOS project will
rely on so to specify these dependencies
I'm going to open up the file in vim so
cocoa pods allows you to specify
specific targets in your project and so
this is our main target right here and
then inside of this do block we're going
to specify the firebase dependency so to
specify the firebase dependency I'm
going to write pod firebase and this is
the core of firebase but I also want to
make sure I get in the real time
database so I'm going to right pod
firebase database and that's pod
firebase slash database now I'll save
and quit and then do a pod install once
the install is complete I'm going to
open up Xcode using the newly created
EXCI workspace command so open for
QuickStart XE workspace and that's all
it takes now that we're setup let's
build that up we're going to build a
social local mobile crowd-sourced
weather app that'll tell you whether
it's sunny or foggy in San Francisco
it's a pretty basic app but it covers
the fundamentals of saving and
synchronizing data in real time and if
you build across multiple platforms we
have the same video for Android so let
me show you how this app works
so now the setup is complete I need to
configure firebase for the app and I'll
do that in the app delegate class by
creating a custom initializer so open up
app delegate and then I'm going to
create an override in its and then
inside of here I'm going to configure
firebase because when the app launches
it will call this so I need to import
firebase and then inside do for app dot
configure which sets up everything you
need to get started with firebase in iOS
so now let's build and make some room
for the simulator and there's nothing
here but that's awesome because we
didn't hit any errors so now open up the
storyboard and start to build out the UI
so I'm going to make some space right
here and then I'm going to drop in a
label to represent my weather condition
and then two buttons one for sunny and
then I'm also going to create one for
foggy and I will use some automatic auto
layouts and then when I build we have
our app so now I'm going to open up the
view controller and create a reference
to the real-time database and since
we're using Swift's I'm going to go
import firebase at the top and then now
to connect out to firebase I need to
create a reference and the first thing
I'm going to want to do is connect out
to the database and to do that I need to
create a reference you want to call this
reference root ref and what this
reference will be set to is fi our
database dot database dot reference and
this creates a connection to the
real-time database and gives you access
to sync and store data at a given
location in the location given to us at
this point is just the root of the
database because the real-time database
is just one big hierarchical JSON tree
so now I want to synchronize data
whenever the weather condition changes
so do that I'm going to create a child
reference at the condition path so I'm
going to call root ref that child and
pass in the string of condition
and essentially what this does right
here is that it starts us out on the
route I like rough right here but then
calling dot child
well Ness this in to the condition key
and this condition is where we're going
to store sunny or foggy so now that I
have access to the condition location
I'm going to listen in real-time for
whenever it updates and to do that I'm
going to call observe event type I'm
going to pass in the value event and
then a closure that returns a data
snapshot so this is pretty long right
here so we actually can go and break out
the route ref child into its own
variable because when you call that
child it just creates another reference
so let's copy this and then we'll create
a child reference called condition ref
and then we just replace it right here
so I need to synchronize the condition
label with the latest value so I need to
create an outlet for the label and
actions for the button I want to
synchronize the label with the latest
value so I'll need to create an outlet
for the label and actions for the
buttons so go back to the storyboard and
then I'll go up to the dual-mode I will
drag in the outlets call it condition
label and then some actions for the
buttons sunny did touch and then also
one for foggy and that will be drag that
here and then foggy did touch so now I
can go in open up just the view
controller and then inside of this
observe event type block I want to
synchronize to the condition label so
I'll grab the self dot condition label
and grab its text and set that to the
staff al u dot description so now let's
run the app and pull up the real-time
database viewer so we're running the app
right here and then we're also in the
real-time database viewer and so we
don't have any data right now it's just
null so I'm going to go and add a
condition path it's going to hover over
here
hit plus condition is the key and the
value will just say sunny and I click
add it adds the data but you can see
that nothing happens and that's because
of the default security permissions on
the real-time database so I'm going to
click on the rules tab and then which
you can see inside here is that we have
our security rules we have rules for dot
read and writes and what this means is
is that any authenticated users can
write to anywhere in the data but
currently we don't have any
authentication enabled so no one is
going to be able to write data so what
I'm going to do since I'm in development
is I'm going to change these rules to
allow anyone to read and write data to
the real-time database and this is fine
for development but you should never
never never go to production like this
because you will have no security so you
should definitely write rules for your
data structure alright so now I've
refreshed the app and you can see right
here that we have the value sunny which
is our condition right here and to prove
to you that it works I'm actually going
to go and edit it so I'm going to change
sunny to foggy and then just like that
it updates in our application so the
last step is to change the label for
when the buttons are tapped so if I tap
sunny or foggy what I want that to do is
update the real-time database so slash
condition and therefore because this
updated it's going to trigger that
real-time event and update the label so
back in Xcode I'm going to take this
condition reference and break it out to
a property so I'm going to copy it right
here and I'm going to paste it below
root reference but Xcode isn't going to
like that and that's because we can't
use this property yet so what I can do
is is I can take this line right here
that gives us a reference and then just
call that child so now in sunny did
touch I'm going to call a method called
set value and give it the value of sunny
and what you should notice here is that
we're using the condition reference and
we're setting its value to this specific
value so if you remember the condition
reference is a child from the root to
called condition and this when we call
set value we'll give it a value of sunny
and what will happen is we will update
the condition which will therefore fire
off the real time value listener which
will update our condition label so it's
really important to notice the data flow
here is that we're not modifying the
label directly or some local data source
is that we're calling set value and
we're letting the real time database
synchronize the changes and so now all I
have to do is copy this for foggy and
then change the value to foggy and just
like that we've built a real-time app
and there you go you're all set up with
the real-time database and only in a
couple of minutes and that's all for
this fire cast but please leave your
questions in the comments below or reach
out to us on Twitter or G+ with the
hashtag ask firebase and we'll be
dropping a new fire cast every few days
so don't forget to hit the subscribe
button to stay up to date I'm David East
and thanks for watching
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>