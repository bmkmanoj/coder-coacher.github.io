<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Getting Started with Cloud Functions for Firebase using TypeScript - Firecasts | Coder Coacher - Coaching Coders</title><meta content="Getting Started with Cloud Functions for Firebase using TypeScript - Firecasts - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Firebase/">Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Getting Started with Cloud Functions for Firebase using TypeScript - Firecasts</b></h2><h5 class="post__date">2018-04-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DYfP-UIKxH0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey how's it going firebase developers
my name is Doug Stephenson coding Doug
on Twitter and I'm here to get you
started using cloud functions for
firebase I'll assume that you already
know about using firebase on Android iOS
or the web any mobile platform is okay
because we're going to start writing
back-end code for your firebase app so
it doesn't matter which platform your
app is on cloud functions is part of the
Google cloud platform that lets you
write and deploy code that responds to
events from Google cloud services
including firebase products that you
might be using with cloud functions you
can sort of glue together parts of your
app that are built with firebase and all
your code runs on Google servers not
inside your mobile app so this is a
great way to keep your application logic
centralized and safe all without having
to manage your own servers that's right
you don't have to set up any servers
scale them up or down to meet user
demand or do any maintenance on them you
just write and deploy code that responds
to events some people call that
serverless architecture because you
never have to worry about or even know
about the servers that are running your
code the way cloud functions works is
like this your code is triggered in
response to events coming from firebase
products for example writes to real time
database or firestorm can trigger a
function as well as file uploads to your
cloud storage bucket you can respond to
new user accounts created by firebase
authentication and conversion events in
Google Analytics for firebase also you
can respond to incoming web requests
over secure HTTP now there's a lot to
unpack here and it's more than I can
cover in a single video but I'll get you
started deploying your first cloud
function so you can experiment with it
and we'll do it in JavaScript running in
the node.js environment actually we'll
do it in typescript which is a lot like
JavaScript but much better if you don't
know typescript or JavaScript that's
okay maybe now is a good time to start
learning and we do plan on supporting
more languages in the future but before
writing any code let's go over the
things you'll need to do first okay
create a firebase project if you haven't
done so already you can create one at
the firebase console with the link in
the description below next you'll need
to install node on your computer there
are instructions for that if you go to
node.js org the link is also in the
description there are instructions for
what
Mac OS and Linux after you install node
the instructions in this video are
mostly the same for each platform you
could also use something called node
version manager or nvm to download and
manage node on the command line
personally I'm using Mac OS and I also
happen to be using a package manager
called homebrew to make node
installation and upgrades easy whatever
you choose you should get a recent
version of node and make sure it gets
installed in the path of your command
shell then you can check your version of
node on any system like this you should
have at least version 6 also your node
installation should include NPM which
stands for node package manager you can
check the version of it as well you
should have version 5 or later
once you have node installed it's time
to get the firebase command-line
interface you may already have this if
you've worked with other firebase
products on the command line but you
should get the latest version to work
with cloud functions and keep it up to
date so let's do that you can install
the firebase CLI with NPM like this be
sure to use dash G to install this
module globally on Linux depending on
how you have node installed you may have
to run it with sudo to make sure the
installation completes successfully when
that's done you can also check its
version ok now you have all the
necessary software installed to do
development with cloud functions it
helps to keep these tools up to date so
you can stay on top of future changes
the last tool you might want to think
about installing is a code editor for
typescript you can use any editor you
want but I use vs code which is popular
with the firebase team because it offers
helpful code assistance after you've got
your development tools set up you'll
need to initialize a workspace folder
for your cloud functions code I'll use a
new folder within my home directory at
the command line I'm going to create and
change to the directory I want to use in
order to work with my firebase project I
need to login with an account that has
access to it the command firebase login
will kick that off and open up a tab in
chrome it's asking me for some
permissions and I'll allow it back at
the command line the next thing I need
to do is run firebase and knit to create
some project scaffolding when I do that
it asks me what I want to set up right
now I only want to set up functions so
I'm going to use the arrow keys and
spacebar to select functions and then
press ENTER to proceed
now it's asking me which of my fire
based projects I want to deploy to by
default I'm again going to use the arrow
keys to choose the project I want then
press Enter
now it's asking me which language I'd
like to use to write my functions as I
said before I'm going to use typescript
since it's the preferred language and
now it's asking me if I want to use TS
lint to catch bugs I definitely want
this because the advice of this lint
tool is very helpful I've written a blog
post about this which I strongly
recommend that you read later the link
to that is in the description below now
it's creating some files and folders
here and it's asking me to install some
dependencies with NPM I do want them
because I'm going to use those modules
to write my functions so I'll hit enter
again to make that happen and now it's
installing those modules with NPM and
the last thing it did was write a couple
more files to finish configuring my
project okay firebase in it did a lot of
stuff here
so now we'll take a quick tour of the
files it created so you can understand
how your cloud function project works
open up vs code at the root of this
project first I'll look inside the
functions folder there's three important
things in here package.json is a file
used by node to describe my project you
can see here that it has dependencies
for firebase admin and firebase
functions these were the modules that
npm installed for me earlier along with
all of their dependencies if I choose to
install more modules to use in my
functions they'll show up here back at
the command prompt I'll do one more
thing just to make sure I have all the
latest code I'll run this command to
update those modules to the latest
versions so I have all the most recent
code next there's a folder called node
underscore modules this is where NPM
installed those modules earlier you can
see there's a big chunk of stuff here
and there's one thing to bear in mind
about this folder you probably don't
want to check in any of this into your
project source control NPM is supposed
to manage this folder for you since I
don't want anything from this folder in
my source control I'm going to add it to
a git ignore file soget won't bother
with it when I commit my code now the
last file is an index dot TS in the
source folder this is the entry point
for defining all your cloud functions
you will most definitely start writing
code here
to make this tutorial easy I'm just
going to uncomment the sample function
here that it created for me of course
it's a hello world sample let's walk
through what it does first it imports
the firebase functions module and makes
it available via this functions
identifier you'll use this to build the
functions you want to deploy then it
exports a function called hello world
it's defined using the functions
identifier from above and it's an HTTP
type function HTTP functions lets you
respond to incoming web requests when a
web request occurs the function triggers
with a request in a response parameter
these actually come from a node module
called Express so if you already know
Express you'll be right at home here
then in the body of this function I'm
going to send a string back to the
client that response ends the function
and that's all there is to it it's
important to know that the cloud
functions runtime actually requires
JavaScript code to run but since I'm
using typescript it has to be compiled
into JavaScript first before deployment
the firebase CLI will do that
automatically when you run the deploy
command the default configuration takes
all the type script from the source
folder and compiles it to JavaScript in
the lib folder next to it you don't need
anything from the lib folder checked
into your source control so you should
add it to your git ignore as well okay
let's deploy this code back at the
command line I can use the firebase CLI
to deploy like this you can see that the
typescript is compiled into JavaScript
and that's being sent to cloud functions
when the command finishes it gives me a
link to the console for my project and
also the URL for the HTTP function that
I just deployed if I copy that URL paste
it into my browser it'll invoke the
function and I see the response that
it's in now I'll go back to the code
change the welcome message and also add
a console log which I'll find later in
the firebase console then I'll deploy
the function again just like last time
and reload the browser and now I see the
new message but what about that console
log to see where that went
I can go to the firebase console for my
project select functions on the left and
choose to view logs for my HelloWorld
function and here I can see the log
message you should use console logs like
this to help test and debug your
functions and that's your first cloud
function but there's so much more you
can do with this as I mentioned before
so to learn
more about cloud functions for firebase
be sure to read the documentation follow
our code lab and check out our sample
code in github the links are all in the
description below
and be sure to subscribe right here on
the firebase channel on YouTube to get
notified of new fire casts about cloud
functions and other firebase products
and I'll see you here next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>