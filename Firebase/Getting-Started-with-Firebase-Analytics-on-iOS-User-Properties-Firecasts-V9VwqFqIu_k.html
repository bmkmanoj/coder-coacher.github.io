<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Getting Started with Firebase Analytics on iOS: User Properties - Firecasts | Coder Coacher - Coaching Coders</title><meta content="Getting Started with Firebase Analytics on iOS: User Properties - Firecasts - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Firebase/">Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Getting Started with Firebase Analytics on iOS: User Properties - Firecasts</b></h2><h5 class="post__date">2016-10-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/V9VwqFqIu_k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so as we discussed in our last video
which you should probably watch if you
haven't yet
firebase analytics is all about
recording events that happen within your
app and sending them down to the
firebase console so that you can start
to get some information about them and
while seeing this data in aggregate is
nice sometimes you want to break this
down into more specific user segments I
mean sure it's nice to see people are
visiting your in-app store but who are
these people
are they tablet owners new users
Canadians knowing who these people are
can make it easy for you to optimize
your app to get better results now by
default firebase analytics provides a
number of segments for you for free you
can filter any particular event by
device type or country and if you have
add support enabled things like gender
and age as well but very often your app
will have its own specific user
properties that you'll also want to use
to filter your data an exercise app for
instance might want to see how users
with different fitness goals behave do
your yoga enthusiast subscribe to your
newsletter more often than your runners
for example that's something you can
start to find out if you filter your
data against custom user properties so
custom user properties are simply key
value pairs that you set in the client
every time firebase analytics sends down
a batch of events to its servers it also
sends down any user properties that have
been recorded for that particular user
both for that session in any time in the
past these things will persist for the
lifetime of your app now firebase will
take those events and make sure they get
associated with all of your user
properties so you can filter these
events later on by those properties now
this has two implications for you as a
developer first user properties are not
retroactive
once you've set a user property for a
particular user any and all future
events will be associated with that
property but don't expect that their
previous events will be magically
updated those remain unchanged second
don't think you can like change a user
property every 30 seconds and expect
that every 30 seconds worth of data will
be associated with that updated user
property or user property is something
you should change more in the magnitude
of like days or weeks if you're trying
to change it more frequently than that
you might want to look at other options
instead like custom event parameters now
in general the process for creating a
new user property is pretty
straightforward on the client you're
going to set a key value pair
representing the user property and then
in the firebase
console you're gonna add the user
property to the list of all user
properties it's your filter your data by
and that's about it so with that in mind
let's set some user properties for real
remember this app from the last video
the one where we're recording button
presses and slider adjustments
well our marketing team has this theory
that cat people are more likely to
adjust the slider than dog people but
they want to back up that claim with
data so let's see how first off you can
see that from my view did appear I'm
calling a method that asks my users if
they're a dog or cat person this should
be pretty straightforward if you've ever
used a UI alert controller next we'll
use that information to store user
property in my cat person handler I'm
going to set a property by typing fur
analytics dot set user property string
cat person for named dog or cat person
note that you set the value first and
then the key name I always get that
mixed up when I'm first setting these
things oh by the way we have no official
recommendation as to whether or not you
go with camelcase or underscores just
try and stay consistent or you'll drive
yourself blockers anyway
I'll now do the same thing in my dog
person handler method for analytics that
use a property string dog person and
then we'll paste that in okay my code
set but I also have to make sure I
registered this user property on the
firebase console otherwise I won't be
able to use it so we'll go to the
firebase console select analytics for my
project and then click on user
properties here and I'll click create
your first user property to create one
and this is the one place you need to be
extra super careful you can use up to 25
custom user properties but right now you
can't delete or rename these things once
you've entered them so for starters
don't fill this up with like a lot of
test cases or experimental user
properties that that you are going to
need later and for another do make sure
you get the name right and don't
misspell it or anything in fact I like
to copy and paste the proper name
directly for my code just to make sure
and that's what I'm doing here okay so
I'm going to add a little description
and I'm gonna double check to make sure
this looks good and it does so we'll
create it now I'll go back to my app and
run it I'll say that I'm a cat person
and you can see here in the Xcode
console that is now specified that my
user property is now a cat person now
I'm going to go ahead and use the
controls for a little bit
and okay we'll go into the background
and you can see here in the Xcode
console that it's sending down not only
the events that it recorded but also the
dog or cat person user property that
firebase analytics will associate with
these events now obviously in a real app
I probably want to record this
information once and not ask again but
for testing and demonstration purposes
it's kind of nice to get this dialog
every time so I'm gonna build and run
again I'll say I'm a dog person this
time around perform a few other actions
and send down those events as well
now I'm gonna wait a few hours and check
out my results in the firebase console
okay so it's a day later and let's take
a look at these events I'm here at the
firebase console and I'll click on
events and then select my adjust slider
event I'll switch the drop down here to
yesterday to just focus on yesterday's
events and here I can see the total
events I have for yesterday then I'll
click on add filter user property cat or
dog person and then I'll type cat person
here and well huh this is interesting
I have zero events somehow none of my
events are being attributed to their use
of properties which is kind of weird
so I asked around and it seems like
perhaps my simple test case wasn't quite
enough to get firebase analytics to
start using these user properties in its
reports there's like a minimum threshold
I need to meet here that I haven't quite
met yet so I'm gonna run this a few more
times and submit some more events for
both my dog and my cat people and that
should hopefully fix things okay so now
I'm back to the firebase console here
and we'll go in select events and adjust
slider and I'm just again gonna focus on
our events for yesterday and now I'll
filter this by user property dog or cat
person and oh this is promising you can
see these values are now available in
the drop down list so now I can filter
this by cat person and then compare
these values here with what I get when I
filter by dog person which does look
like much fewer but be careful here
don't get fooled by these absolute
numbers if I had like five times more
dog people out there than cat people I
might see more total adjust slider
events for my dog people I really should
be looking at these count per user stats
to see which population actually prefers
adjusting the slider more but looking at
what I do have here it looks like our
marketing folks were right cat people
really do like adjusting sliders more
than dog people maybe that little circle
looks like a laser pointer to him or
something anyway I hope that gives you
enough background to get started adding
user properties to your own apps start
thinking about what segments of your
audience you're curious about because
that can start determining important
factors like where you want to
prioritize development or where you want
to spend your marketing dollars in the
meantime feel free to check out our
documentation subscribe to the firebase
channel and I'll see you soon on the
next episode of fire casts the magical
red dot it's back</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>