<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Is it Possible to Retrieve Subcollections in Cloud Firestore? #AskFirebase | Coder Coacher - Coaching Coders</title><meta content="Is it Possible to Retrieve Subcollections in Cloud Firestore? #AskFirebase - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Firebase/">Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Is it Possible to Retrieve Subcollections in Cloud Firestore? #AskFirebase</b></h2><h5 class="post__date">2018-01-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IdKEhWAV-kE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright you say thanks and that oh
alright well people say we say things Oh
God we're nerds
hey all you firebase developers welcome
to another episode of ask firebase the
show where we answer your burning
firebase questions
I'm your host Jenn person and today I'm
joined by my co-host Todd Kerpelman
welcome hi everybody this is a very
special cloud firestore version of ask
firebase I think all of our questions
today are about cloud firestore so
hopefully we have some answers for you
it's actually out we could talk about it
about it let's do it let's do it
jang seong Jon on YouTube wants to know
how can I query data from firebase using
a page number without any last item data
is it possible to do that I think what
you're asking for is basically like an
off set query where you're like hey
let's like you know query this set of
documents from a collection but you know
start at number 50 this is something you
can do on the server libraries' you
would just add a like dot offset modify
or to your query but you can't do this
on the client libraries turns out I
think part of the reason is this has a
lot of issues with like offline support
and that sort of thing but depending on
your use case you can still kind of jump
ahead based on whatever data you're
sorting by when you're running your
query so like if you've got like a query
or a collection of employees and you're
like hey give me all employees sorted by
last name you can absolutely say you
know like give me our employees sorted
by last name starting with F right and
then you can jump just to that part of
your collection but you can't say hey
give me all my employees starting yet
like employee number 50 which I kind of
feel like maybe the starting with F or
starting with G thing is probably better
cuz you know you actually know what that
means
right so probably for most use cases
there is a possibility to do that and
then maybe if not there are some server
options as well yep all right Javier
reads on Twitter asks is there any way
to retrieve sub collections on fire
store I want to filter only
organizations where the user is a member
kind of not really but maybe that good
enough for an answer that's perfect do
any more moving on next question oh all
right I'm being told we need more detail
so basically I think what he's asking is
like could you query a
based on items that exist in that
document subcollection which is called a
collection group query right now there's
no way we can do this it's something the
team is looking into they'd really like
to support it but right now any query
and firestore is just searching for a
document within a collection based on
that documents attributes now you can
kind of cheat a little to get sort of
what you're asking for for instance like
let's say you've got a document or a
collection full of like you know soccer
teams each document is one soccer team
then it's got a sub collection of like
team members so if you want to look for
like say all like all soccer teams that
have a player name Jennifer what you
could do is like you couldn't do that by
sort of you know searching among all the
sub collection so you can only do that
for one individual team right but what
you can do is within your original
soccer team document you could add a
player's field which would be a map
that's the thing that kind of looks like
a dictionary and the keys here would be
equal to the player name and then the
values might be for instance in array of
the actual document IDs in the sub
collection and then basically cloud
firestore does let you query for
documents based on sort of those values
of those keys even if they're nested
inside of a map field two caveats here
one this is going to require work on
your part to keep this list in sync with
what's in your sub collections and then
also did you know you're limited to
20,000 fields in a single document in
cloud firestore I did not know that none
of us really ever run into it very often
but if you're gonna start doing weird
auto-generated stuff like this yeah
maybe you got to watch out for that but
I think in our example I don't know if
it's soccer team that has 20,000 members
in it so I think you'll be okay sounds
good in conclusion yeah sort of maybe
yeah sorta maybe thanks so much for
coming on and answering some five
firestore questions and I'm sure that
they're going to be a lot more questions
going forward well hopefully I'll have
some answers and if not I'll fake it
thanks so much for watching and we'll
see you on a future episode of ask
firebase
nice magic that was magic give a
hitchhiker smaller sir I do</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>