<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How Firebase Cloud Functions support custom domains - #AskFirebase | Coder Coacher - Coaching Coders</title><meta content="How Firebase Cloud Functions support custom domains - #AskFirebase - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Firebase/">Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How Firebase Cloud Functions support custom domains - #AskFirebase</b></h2><h5 class="post__date">2017-07-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/c93iGKyvh3o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">that is good and we are rolling all man
it's been quite some time but welcome
back to a brand new episode of ask
firebase my name is David East I haven't
done one of these things in forever
and in that that framing is just no good
what I want phosphate Hollywood Lewis
asked hashtag s firebase spent a while
done
how long until our basic functions
support custom links well Louis at
Google IO we launched our base hosting
and firebase cloud functions integrated
together so now you can create your
cloud function and then you can write a
redirect and then it has its own awesome
custom domain or a firebase app domain
really kind of whatever you want so
let's actually dive into the laptop and
we'll see how it looks so right here I
just have this basic project and has two
folders I have a functions folder and a
public folder public folder is the
website functions folder my cloud
functions so if I go into functions
index J s I can require from firebase -
functions and then I'm going to go and
create my actual cloud function so I'm
going to say exports dot app because
that's the name of my function and I'll
set that to functions got HCBS dot on
request and the on request method takes
a callback that provides you a request
in a response which is pretty much all
you need to make a website so now I can
take this response and I can just send
back some HTML and now with that's saved
I'm going to go to my our base JSON so
here in firebase JSON you can see that
we just have our hosting set up to our
public folder well I can go and specify
a rewrite and so a rewrite takes an
array of rewrites and so we'll provide
the first object so the first object
will say that the source of our rewrite
is the slash hello location and then
whenever someone hits the / hello
location we're now going to go to the
app function that we just created so now
in the command line all I have to do is
write firebase deploy and then once
it's out there we'll go to our website
slash hello and then right there that
HTML that we sent back it's right there
available in the browser so that's just
a little bit of what you can do with
club functions and firebase hosting and
one of the amazing features of this is
actually that you get to set the cache
control so as traditional dynamic
hosting you send a request sends you
back a response and then you know every
request response request response but
with firebase hosting and cloud
functions
you actually get to cache that response
on the CDN level so that means the user
where they locally send that request
from that response goes back to their
local CDN edge so all the other users in
that area for that set period of time
can get a low latency response which is
just one of the amazing reasons one you
use cloud functions and firebase hosting
great question Louis next quote there's
supposed to be a camera there actually
got a dark in here yeah they find some
lights Wow next question feel like
there's a disturbance in the force
oh my god the fire big picture
next question mike says for mobile is
there any way to pre-populate the cash
so the initial sync with the server is
minimal so like I'm assuming that you're
talking about the firebase database
client and no there isn't actually way
you can take some JSON and pre-warm the
cash so you can render items faster but
what you can do is is you can render
your HTML on the server and a little
trick I like to do is take each
component and give it an ID that is
associate ID to the database give a list
of items each list item will have its
database ID and so now what you can do
is you can find the last item and then
run a firebase database query and just
keep appending those items on to the
bottom so that way the user gets a fast
first render of their HTML and CSS
content and then dynamically you can
just add all that real-time stuff on at
the end great question Mike
and it just feels so good to be back I
mean for like the longest time I just
how did you get into the studio I gotta
go make sure to LIKE subscribe comment
all those things in duh sealer bring the
picture frame</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>