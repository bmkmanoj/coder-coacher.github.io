<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Navigating Firebase Authentication - #AskFirebase | Coder Coacher - Coaching Coders</title><meta content="Navigating Firebase Authentication - #AskFirebase - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Firebase/">Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Navigating Firebase Authentication - #AskFirebase</b></h2><h5 class="post__date">2018-04-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eIKR0RyyUWE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you know it's always amazing in my
regular life I'm pretty certain that I
get through three sentences in a row but
then as soon as I'm on camera I'm just
like welcome to another episode of ask
firebase the show where we answer your
burning firebase questions I'm Jenn
person and today I'm joined by Malcolm
deck so glad to have you on the show -
like excited to be here whoo
tell me a little bit about what you do
here so I'm the Android lead on firebase
authentication mobile sdk and work with
the rest of the authentication front-end
and back-end teams to help provide you a
way to log into your apps can you give
me some examples of ways that we can
log-in using firebase yeah there are
several the most common one is if you
sign in with custom token if you already
have your own authentication system you
can still get into firebase without
having to do a whole lot of extra steps
in addition to that if you sign in with
Google or you sign in with Facebook or
Twitter or github you can use any of
those tokens to then exchange for a
firebase access token and if you want
the concept of a guest account you can
sign in anonymously without having to
provide any user credentials to be able
to store something without first
prompting the user yeah actually the
anonymous office one of my favorite
features because so often you still want
to protect your stuff but you don't want
to start your app by asking someone to
log Anika's not necessarily the best
user experience so this gives you a
chance to show them a couple features
before you front them to login
absolutely and in addition to that we've
been looking at low-friction sign-in
methods and one thing we added was
Google Play game service
which is a scope down version of Google
sign-in it allows you to sign somebody
in without having to ask them for
anything so if you're building any games
that's a great way for you to baby I'll
sign people in oh yeah that's awesome
great so I'm so glad to have you on the
show tonight excited to be here well
great our first question today comes to
us from from mehmet on twitter he wants
to know can I store custom attributes in
the user object right so when you sign
in a firebase you get back a firebase
user object which has several things
inside of it such as the display name as
well as the token that you use with
other SDKs to authenticate those
transactions Mehmet wants to know
whether or not you can add additional
features to that user object the short
answer to that is no if you're trying to
do something related to custom
as control to data you might try using
our custom claims API which allows you
to add attributes to the token which
allow our back-end to tell what that
users trying to do if you're looking to
store other data related to the user
that's what real time database and
firestore for right so it sounds like
let's say you're trying to look into
securing your data in a specific way
based on that user object you could use
custom attributes to do that part right
but if you want to add like additional
photos or some sort of information about
them that belongs somewhere else either
like the real time database or cloud
firestore that is exactly correct thank
you of working on that sponsorship our
next great question comes from Thomas my
question is about the anonymous user
accounts so will these ever be deleted
when they aren't used anymore
every time I clear data or reinstall my
app then another anonymous user account
was created is this something I should
worry about is it normal behavior is
there anything I should be doing to
improve the situation right so to answer
your first question we will never delete
your anonymous accounts and there's a
very high limit at 100 million users for
anonymous authentication for every
project so you shouldn't really worry
about creating some extra anonymous
users and the data will still be there
if you need it
however a good way to think about
anonymous accounts is like guest
accounts on a shopping site right
somebody comes to your site and they
haven't logged in yet but they still
might want to do some stuff like putting
things in their cart or even maybe
totally checking out however if they
uninstall your app or they clear the
data of that app and then come back to
it they're not gonna expect their cart
to still be there if I get rid of an app
and then reinstall it it should just be
brand new and fresh so everything that
you're doing is totally normal
and there's not really a whole lot you
can improve unless you ask the user for
some credentials so it might be a good
idea depending on what kind of app it is
find a good place to ask for those
credentials because people might want to
have some information when they come
back to it right in that same shopping
example at checkout time is usually when
stores will ask you to create an account
that's a great example you know this
might even be an opportunity to use
cloud functions if you keep track of all
of these or IDs of the anonymous users
and you do want to delete them after a
certain point you could
have them in there with the date that
they were created and then you could
have some sort of cron job that runs
periodically checks the dates and then
let's say it deletes the ones that are
older and then you can also delete the
user that's definitely doable keep in
mind that all authentication sessions on
firebase are persistent so just because
the user hasn't logged in in a while
doesn't mean that they aren't still
there that's a good point our next
question comes from Niels and they want
to know what happens after a Facebook
token expires so obviously in that case
you need to re-enter the Facebook
credentials but how does firebase know
which user is connected to that same
Facebook account but with the new access
token right so that's a great idea let
me explain what happens in the
background when you authenticate with
Facebook so first you go to Facebook's
SDK and user puts in their credentials
and they log in and you get back a
Facebook access token then you pass that
Facebook access token to firebase and
firebase on the backend pings Facebook
to get some nominal user information
about that token in particular
Facebook's equivalent of a user ID later
when you sign into Facebook again and
you have a new access token it
corresponds to the same user ID so we
can find in the mapping the same
firebase user Wow authentication is
really complex honestly I'm glad that
something like firebase exists and I
know of course I would say that because
I work here
but honestly having all that taken care
of for you it's so great yeah actually
having you taken care of it for me it's
so great so thanks so we have another
question and actually I'll read this one
because I think it's for you okay not
air f sorry okay you could just say a
question from Twitter if you don't want
to I don't want to get it wrong but I
really want to get it right where's the
best place to ask a question where
there's no character count limit
limitation that twitter has that's an
awesome question and I would say that
Stack Overflow it's a great place to do
that especially if you have some code
that you want to display if you have
seen my episode with Puff where we talk
about how to ask firebase bossy bossy
boss we go into all the different great
ways that you can get your questions
answered and we'll link to that as well
but yeah I would say that making a
Viable code example there is a great
place to start because then you have a
massive community that can see it and
it's also much easier to search for so
that way when other people have that
question in the future it'll be much
easier for them to find that answer but
of course you can just take that link
and link it on Twitter as well with the
hashtag ask firebase and I will see your
question as well right Stack Overflow is
a great place to do this because a lot
of the firebase engineers actually spend
a lot of their time trying to help
answer questions there because you can
again link that code which makes it
easier for us to understand what you're
asking yeah we're very lucky in the
sense that we have so many engineers
there sometimes if I know I want to
answer something I have to do it really
quickly because I know other people from
our team are there to help out as well
so I'm like I gotta get it in there
first
I think Puffs answers every question
before I can get to it oh yeah yeah
I usually ping him beforehand and be
like don't answer this one I'm doing it
right now
oh my god don't quite have that
relationship with Puffs yet I doesn't
let him deal with it well Malcolm thanks
so much for coming on the show it's
great to have you on talking about us
and thank all of you for your queries
that you've tagged with hashtag ask
firebase that's been really helpful in
us building us content we really can't
do it without you while you're here go
ahead and subscribe to the firebase
Channel
so you can see all of our latest content
we have fire casts we have meat fire
base a whole lot of other great stuff
thanks we'll see you next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>