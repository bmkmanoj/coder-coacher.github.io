<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Converting SQL structures to Firebase structures - The Firebase Database For SQL Developers #2 | Coder Coacher - Coaching Coders</title><meta content="Converting SQL structures to Firebase structures - The Firebase Database For SQL Developers #2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Firebase/">Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Converting SQL structures to Firebase structures - The Firebase Database For SQL Developers #2</b></h2><h5 class="post__date">2016-11-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ran_Ylug7AE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">firebase database for okay all right
I'm just redo this one hey everyone
welcome to the second episode in the
firebase database for sequel developer
series and in this lesson I'm going to
take a relational model that you'd see
in a sequel database and then convert
that to a no sequel model that works
well for the firebase database so let's
dive on down to the laptop so this is a
relational model that backs an event
website that allows users to sign up for
events to model this relationally we
will create a user's table an events
table and an attendees table attendees
is a table that relates users to events
what creates this relation is called a
foreign key a foreign key is a key in
one table that references a primary key
in another table in this case the UID
key and attendees is a foreign key for
the users table and the same goes for
event ID which is the foreign key for
the events table if you want to get a
list of attendees for a given event you
would write a sequel query that looks
like this here we're joining all three
tables to get the relevant data needed
for this query we're joining using
foreign keys attendees is joined two
events using the event ID key and users
is joined using the UID key so how would
we model this in a no sequel fashion the
firebase database is a no sequel JSON
database which means that your data is
structured by using JSON moving from a
relational model you might be tempted to
do something like this at first first
we'd create a user's key where each
child key is a primary key for each user
so one is the primary key for David and
nine is the primary key for Alice then
we have an events key where each child
key is a primary key for each single
events so FM is the event for the
firebase Meetup now for a first try you
know this is pretty good but there is
one problem the attendees key is
embedded within each event and this is a
problem due to the way the firebase
loads data when you retrieve data you
specify a path to retrieve a single
event we would create the path events
/fm now the firebase database will bring
back every single piece of data
underneath that path which may not be
what you want because you don't want to
download the attendees just to display a
list of events rather than embedding the
attendees we can break them out to their
own route key in the database now I've
created a new collection called event
attendees at the root of the database
this collection uses the event ID key
and the UID key to represent each user
this makes my data structure flat which
is a good thing because it means I don't
have to download my attendees every
single time I download an event but if I
do need my attendees I can do that
because I'm using the same key which is
event ID this is how you would create a
firebase query using the firebase SDK
first you will create two references one
to the events location and one to the
event attendees location you'll notice
too that we're using the same key in
each collection FM is a primary key for
the event so when used with event
attendees it's like a foreign key now to
retrieve the data in real time I'm going
to create a listener on each reference
and I'm breaking the listeners out
because we can actually render to the
view independently and this is much
easier than creating an inner listener
that acts as a join a value listener
works best for the single event because
value events work really well when
you're synchronizing objects and a child
listener really works well for the
attendees because attendees is a list
and child events work well for lists and
just like that you've gone from sequel
to no sequel with the firebase database
and that's all for today tune in to the
next lesson where we're going to take a
look at common sequel queries and then
convert them to firebase queries using
the firebase SDK so that's all I will
see you all in the next lesson
thanks for watching our video yeah you
really appreciate it you should watch
this video too and this one yeah make
sure that you subscribe it's really cool</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>