<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Set custom data in notifications and enable nodes in DB for offline support - #AskFirebase | Coder Coacher - Coaching Coders</title><meta content="Set custom data in notifications and enable nodes in DB for offline support - #AskFirebase - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Firebase/">Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Set custom data in notifications and enable nodes in DB for offline support - #AskFirebase</b></h2><h5 class="post__date">2016-08-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ffVb8pBW1DM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back to another week of hashtag
ask firebase I'm David and this week I'm
ready to fire up some questions whoo
it's actually got fire in the can so
this week we got a lot of great
questions and if you want your question
answered make sure to send it in using
the hashtag ask the firebase so let's
dive into what's in store this week do
you smell smoke
no it's a question so our first question
comes from YouTube by Nick and Nick asks
when will be possible to set the
notification payload properties in the
console you can do it today
all you have to do is go to the firebase
console a console that firebase
google.com and then once you click on
the notifications tab create a new
message and then scroll down to the
bottom and you'll see in an Advanced
Options tab and that will open up and
from there you can see a custom data
section and this is where you can set
your payload properties so Nick all you
have to know to set these payload
properties you just go to the console
and it's an advanced option great
question Nick smoke time for another
question Chris asks would there be a
noticeable performance hit if I was to
call firebase database multiple times
rather than storing it in a variable
that's a really good question Chris you
don't really have to worry about it
because firebase database returns a
single time if you don't know what a
singleton is it's just a fancy way of
saying it's the same object every time
you call that function so you can store
it in a variable or you can just call
firebase database not something you have
to worry about you can just go build
your app and be happy firebase now in a
can so our next question is actually
asked multiple times so on Twitter
Francisco asked this and on YouTube
Anderson asses can you do a tutorial on
best practices on how to organize and
structure your data so you can do
complex queries especially if you're
coming from a sequel background well we
actually have some content in the
pipeline that's going to show you some
equivalent sequel queries to firebase
calls but if you're eager to learn today
we have an earlier blog post that talks
about
doing that so it has some sequel queries
and it has the firebase function calls
and compares them together so if you
want to see that the link for that is in
the description so great question to you
francisco and anderson so the next
question comes from mausam on twitter
mausam ass I have two different
environments QA and prod do I need two
different user logins for the real-time
database for each environment so a mouse
some imagine if one of your environments
was fire so you would just go in okay
well maybe another analogy so the main
problem with this is that you have a lot
of QA data or development data and you
actually have your production app and a
lot of times you don't want to pollute
the - so you want to keep all that
information nicely isolated and the way
you do that is through your build
process so it doesn't matter what
platform you're on whether it's web
Android or iOS it all comes down to your
build process so the first step you need
to do is go to the firebase console and
if you're on Android or iOS you have to
make a new app inside of the console so
one will be your QA app and one will be
your production app and then from there
in your build process you create a
specific build that will target that QA
app in a specific build that will target
the production app so if you're on web
you don't need to create an app but you
just need to provide a different hash
map of your config values which is
really easy to swap in and out and then
on Android you just create different
build flavors so you have a build flavor
for your development or QA app that has
a different Google services JSON file
and then on iOS rather than having a
build flavor you just use a different
target that will specify a different
peat list so IP lists for the QA or a
dev environment and AP lists for the
production environment all you have to
know is if you're going to have two
different environments you're going to
need to use the two different builds to
set up each environment so let's cook up
another question Tim on Twitter asks is
there a way to authenticate with other
oo auth to providers outside of Facebook
Google Twitter and github using firebase
authentication well Tim anything that is
not supported out-of-the-box like the
ones you specified you can use our
custom authentication so custom
authentication requires you to run your
own server but we provide you with
server SDKs that allow you to create a
token based upon a UID and some claims
that you create to mint this token so if
you want to authenticate with your own
back-end or any oath to provider you can
do that with these server SDKs and if
you want to see an example of that you
should check out last week's ask
firebase where we actually talked about
that in one of the questions and you
want to get started check out our
documentation which is in the links
great question Tim do we have another
question yeah we do but we're on twitter
asks how can I enable only certain nodes
in the firebase database for offline
supports the way that offline support
works with the firebase database is that
you call set persistence enabled and
then everything just works now there is
a cache size that is set to 10 megabytes
which sounds low but that's a ton of
JSON data as your data starts to grow
beyond this 10 megabyte threshold we
take less use data from the cache and
just evicted so if you're not really
using it we're gonna evict it and keep
the cache size at a good level but
sometimes you want to make sure that a
node is always sync so even if you're
hitting up against that cache size you
don't want it to be evicted and for
those purposes you can use the keep
synced method so keep synced is
available on a reference so you create
reference and call keep synced and it
will always be in the cache so Bevier
all you have to know is just call set
persistence enabled and if you really
want to make sure that data is always in
the cache call keep synced so great
question I need my life with coffee so
this last question comes from Dominic on
Twitter and Dominic asks in my security
rules everyone should be able to read
the data but only admin users should be
able to write so how do I do that what
you need to do is create a white list of
admins in the database so that could
just be a node for slash admins and then
each one of the admins is contained
within that list and at that point when
you're writing your security rules you
can say everyone can read but for that
right Clause you say anyone who wants to
write has to be long in that admins list
and in one of our previous fire cast we
actually covered just this so you should
go and check that
link is in the description so that's all
the questions for this week thank you
all so much for sending them in and if
you want to see your question answered
make sure to go on Twitter YouTube Stack
Overflow
wherever really and just ask a question
with the hashtag ask firebase so like I
said that's all for this week but tune
in next week where we're actually going
to be answering live questions from
andevcon and right now I really really
need some coffee</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>