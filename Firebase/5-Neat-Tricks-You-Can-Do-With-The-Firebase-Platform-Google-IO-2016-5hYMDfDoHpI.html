<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>5 Neat Tricks You Can Do With The Firebase Platform - Google I/O 2016 | Coder Coacher - Coaching Coders</title><meta content="5 Neat Tricks You Can Do With The Firebase Platform - Google I/O 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Firebase/">Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>5 Neat Tricks You Can Do With The Firebase Platform - Google I/O 2016</b></h2><h5 class="post__date">2016-05-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5hYMDfDoHpI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Wow like last session on the last day
and we still have people that are awake
that is fantastic
so yes congratulations we made it to
like the last last session on the last
day of the conference I don't know about
you but you know I kind of feel like
this guy maybe if you like this guy to
either you know because your brain is
full or you partied too hard last night
or like me you woke up at 4:00 in the
morning and they couldn't go back to
sleep because apparently my brain hates
the rest of my body and wants it to feel
terrible but either way congratulations
thank you for being awake and alert and
a good audience I already can tell you
guys gonna be a great audience
so let's talk about firebase as you may
have heard firebase is a suite of
integrated products designed to help you
develop your app or grow user base and
earn money maybe we've mentioned that
before
yay and you know we've been kind of
calling it a suite but for a lot of
these talks I feel like we've generally
been talking about firebases features in
isolation and for this session what I'd
like to do is actually kind of show you
some of the cool tricks that you can do
when you have some of the various
features of the new firebase platform
all working together in a few
hypothetical scenarios and a
presentation I like to call five neat
tricks you can do with the new firebase
platform so let's look at those now
we're going to start off with trick
number one I'm with the band
or dynamic links plus notifications plus
firebase Cloud messaging plus firebase
analytics equals notification goodness
and let's start off by talking about our
brand new ticket app ticket picker there
they're quicker to get bigger and
they're the hot new way for you to get
tickets for concerts baseball games and
what have you and they've decided as
sort of a good little marketing ploy as
a way to draw users into their app
they're gonna set up a companion site
right this is a site where you can read
like news and gossip and tour
information and get some tour dates
about your favorite bands and sort of as
a way to draw people into their app they
decide on all these pages they're gonna
add in a nice little button that says
hey or if you're interested in getting
tickets for you know the rolling scones
then why don't you click on this button
and try out our app oh by the way I
would like to point out that is
incredibly difficult to draw a scone I
know this just looks like sort of a
really sad pancake but that that's why I
have a developer advocate and not an
artist but anyway
so this kind of sounds like a situation
for dynamic links if you know what
firebase dynamic links are they're
basically mobile deep links that work
the way you want them to so with one
basically with one link that we can put
on our site we can either take the user
to the iOS or the Android version of
their app if they have it installed and
if they don't have the app installed we
can take them to the App Store or the
Play Store depending on the platform
more importantly if the user had to
install our app first fire based dynamic
links can retrieve that original link
context it can remember what link the
user clicked on to get them into the app
in the first place
so that we can actually deliver the user
a first time experience that is relevant
to the link they clicked on so rather
than just showing a boring old homepage
we we know that they install their app
because perhaps they're interested in
rolling scones and getting tickets and
maybe we can show them relevant that
that's information that's relevant that
way so the link to try out to get into
our app would probably look a little
like this and I can kind of break it
down for you if you're not super
familiar with firebase dynamic links and
you probably aren't because we just
announced it two days ago first we'd add
in these entries for the appropriate
Play and Appstore IDs as well as your
iOS bundle identifier this basically
lets us know you know which place in the
Play Store the App Store to redirect the
user if they don't have the app
installed we're Goltz also going to add
in these UTM tracking tags and if you
don't know what they are they're
basically sort of a hierarchical way of
representing any kind of marketing
campaign so you've got like your uber
spring 2016 campaign and then within
that you know you have your various
sources like the companion website or
maybe an email blast and that sort of
thing and you know various content and
medium you can kind of break it down in
in different ways different people like
to do this in different ways and all
that information will get captured in
firebase analytics when the user clicks
on this deep link and then we have the
link parameter itself and this allow and
this is the the information that gets
passed into your app when it first opens
up and in this case we're decided that
we're going to capture the band that the
user was browsing when they decided to
click on this link so we know that the
featured band here happens to be the
rolling scones and that we'll be able to
realize when we sort of process this URL
and so by analyzing this link
information
first open up the app instead of our
boring old sign-in page our app can
analyze that link parameter and I'll say
ok the user was interested in our app
because they were looking at a page for
the rolling scones so maybe we should
show them some relevant info right and
then we can show the user a bunch of
rolling scones tour dates when they
first open up our app instead of that
sort of blank sign-in screen and you
know this is important like the user has
said I am willing to go ahead and
install your app because I'm super
interested in this data so why not make
sure that they can get that data that
they're interested in right away and so
this is dynamic links and maybe you know
about this if you saw our other
presentation but we can also do a lot
more with this incoming link and knowing
sort of what that featured ban was for
instance our app can automatically
subscribe the user to the rolling scones
firebase Cloud messaging topic if you
don't want to know what topics are there
basically ad hoc groups that any client
can subscribe to on the cloud messaging
server so basically we can tell the
cloud messaging server please send this
message to any client that it has
subscribed themselves to you know this
this topic the rolling scones or you
know any other band you know firebase
cloud messaging has kept track of which
clients have subscribed themselves to
that topic and it can send the
information off to all those devices
without you're having a heap track of it
in your own database on your server
somewhere so when the rolling scones
decide hey we're gonna you know start a
new tour we're gonna make some new
ticket sales available you can get you
can schedule a future message through
firebase notifications you can see here
that in addition to sending a message
right away we can schedule a message to
be sent at a particular time we can
schedule messages to be sent at a
particular time in the users specific
time zone if we want in this case
because tickets are going on sale at
9:00 a.m. you know all across the world
globally we can make sure that that
notification gets sent out globally so
that everyone has a chance to get those
tickets before they sell out and then
you can see that we are sending these
this this view set of notifications to
devices that have subscribed to the
rolling scones topic and then we can
also capture conversion events here so
various events in firebase analytics
that are super important to your app
like you know being able to purchase a
ticket you can tell firebase analytics
you know let's make these conversion
events these are events that that we
really care about
so you can then track whether a
notification has led a user to complete
one of these events and this is really
important for determining whether your
notifications are being a you know are
they effective or they spammy if it
turns out that you know a lot of people
are receiving the notification but very
few people are opening them and very few
people out of that group are actually
going ahead and completing a ticket
purchase
well maybe it's family on the other hand
you know if you've targeted your
notifications correctly then you know
the percentage of people who get the
notification open it and then go ahead
and complete a purchase will be much
higher and that's sort of a good way of
judging whether or not these
notifications are effective and gosh
this incoming banned this also seems
like a pretty good starting value for
like a user property of like you know
the users favorite band maybe we can
change that on the app later but this
seems like a pretty good starting point
and then we can do a lot of reports in
firebase analytics based on the favorite
bands of our users right so we can take
a look at any report like the number of
people that said y-yes I'm interested in
reviewing this app and we can filter
that by various user properties
including their favorite band so we can
take a look and see you know for
everybody who listed the Rolling Stones
as their favorite band well how many of
them went ahead and decided that they
were ok reviewing my app so we can get a
better idea of how these different fans
of different bands behave and if we say
wow we really need more people reviewing
our app and it turns out that you know
fans of you know the Rolling Stones are
more likely to review our app than fans
of W - they're seeing a lot about
filling out tax forms you know we can
figure that out and firebase analytics
and then because we used all of these
you know UTM tags to record all the deep
link info we can evaluate the
performance of the entire companion site
right we can basically look at all of
the companion site users and see how
they behave not just you know did they
click on these links to get into our app
but are they more or less likely to
perform these important conversion of
actions like you know buying a ticket
like subscribing to our newsletter like
signing up for the premium service like
sharing the app with our friends so when
our CEO comes by and says gosh we seem
to be spending an awful lot of money on
this companion site is it worth it you
know we can actually you know have the
data to back it up and we can say why
yes it's getting us it's not only
getting us users which you know which we
nobody we can also decide that it's
getting us users that are valuable to us
because they are you know buying tickets
or sending the app to their friends and
maybe it's because that nice deep league
experience is giving them a better
experience and and they're more
interested in our app in the first place
so that's an awful lot that you can do
just by adding in one dynamic link into
your into your banners so I'm going to
move out of trick number 2 birds of a
feather or firebase authentication plus
the real time database plus storage
equals some group photo sharing this one
this one gets into some kind of crazy
rules here but but stick with me this is
our fun bird-watching app birdy hunt and
they've decided they're gonna add a new
feature for their users to be able to
share photos of birds that they found
you know with the public like I found a
really good picture of a chickadee and I
take it and I say hey everybody check
out this picture and maybe everyone can
went out over it so clearly this seems
like a good use case for firebase
storage right that's a place where you
can store all of our members photos in
the cloud that's that's what it was made
for is storing you know large large
blobs of data apparently people used to
like base64 this data and stick it in
the real time database before
alright guilty so do this now it's
better it's way better now when we do
that when we basically add a you know
when we upload a file to storage in the
completion handler what you're gonna get
back is the metadata and among that
metadata one of the most important
things you're going to get is a download
URL to that file that you just uploaded
it's basically the URL of the file plus
some tokens that you can revoke later if
you need to but this is what you're
gonna have to be able to download that
photo and then you know we can store
these URLs in the firebase database
right we can create an album photos
object and you know under there we can
create a different object for each
different album and within there we can
create various photos with like the name
and the URL and just like that you know
people can kind of see our photo albums
which sounds great but it turns out I
didn't know this bird-watching groups
very cutthroat very competitive and bein
didn't want other bird-watching groups
to see the photos that they took they
only wanted to share it with other
people in their bird-watching group so
who knew but we can still do that partly
by taking advantage of
they sign in or firebase I should say
which allows you to sign in your user
from a number of different providers
right we have Google and Facebook and
Twitter and github as well as letting
you user provide their own email and
password and you know we handle that for
you so you don't have to deal with
storing passwords on your end so when we
use firebase off what we get back is a
unique ID for each user in our app no
matter how they've signed in right you
sort of get back a consistent firebase
user object that has its own unique ID
that you know you're sure I'm gonna have
like name collisions across you know the
different sign-in providers which is
nice now you can take that and you can
store basically the members who can view
the various albums in our album member
sort of album ID section we can
basically stick you know our various
user IDs you know into this object and
maybe list you know some administration
rules some people are owners some people
are editors some people are viewers so
once we get that in there well now we
need to write some some rules we need to
tell the firebase database okay for
someone to see this photo here their
user ID must exist in the corresponding
album object that makes sense alright so
how do we do that we do that with these
rules which I know look a little
complicated at first but if you break it
down what you can actually see is
basically we're just going up the tree a
little bit we're saying okay for any any
object in the album photos object so to
go up the tree a little bit and go down
and find the corresponding album members
object from there if there is a child
that has the same user ID as you know
the user who's currently signed in well
then they're allowed to read this album
and you know if it turns out that the
value of that object happens to be
editor owner then they're allowed to
write into this album and you know
that's basically all we're saying here
with this code but wait how do we know
how to put those user IDs in there in
the first place right well we can
actually have rules for that as well
let's say we want to you know have a way
for members to request that they join a
particular album right I say yeah I
would like to view this album please let
me in and so we can create an album
joiners object where people can add in
their own user id's so that they can
make these requests and then the owner
of any particular album has the power to
remove people from the album joiners
object and put them into the album
members object so let's look at the
rules needed to do that first we need to
say that anybody can add their own user
ID to to a joiners object on this you
know it's basically just a request to
join in sure anyone can do that doesn't
mean it'll get approved but anyone can
so we would do that with this rule
basically within album joiners for any
arbitrary album for any arbitrary user
ID you are allowed to write your own
user ID so that that's basically all
we're saying here next up we need to say
that anybody well basically that we
could say that if you want to alter
anything in the album won't joiners
object besides the process of writing
your own user ID well you need to be the
album owner and so we kind of do that
using this same sort of let's go up the
tree and then down the tree to the
corresponding album members object and
look in there and see if the signed-in
user is listed as the owner and if you
are then congratulations you can read
and write to this to this album joiners
object and then we also want to say well
album owners can alter anything in their
own album members object which is
actually a much simpler rule we just say
well if you're listed there as an owner
then you can write in here and then
finally for for brand new albums we'll
say that any owner can create anybody
can create a brand new album as long as
they list themselves as the owner and
that's the kind of thing you can do here
basically we're saying you can create a
brand new album every object as long as
it doesn't you know it doesn't already
exist and you are listing yourself as
the owner so maybe your first reaction
upon seeing all this is well I'm gonna
give up and just make my entire database
world readable and writeable because
this seems really kind of strange and
weird and it is it's kind of strange and
weird at first I certainly you know
wasn't able to figure this out without
sort of having a fire base engineer next
to me I know all of you don't have the
advantage of having a fire base engineer
sitting next to you but I can give you
the next best thing which is his phone
number this is Frank he is totally
willing to help out and answer questions
and I'm sorry oh it's dark and stuff oh
okay apparently that wasn't that that
was not sincere I'm just gonna move on
and instead I'm gonna say that you can
get the next next best thing which is
this cool tool that firebase has
where you can basically pretend to sign
in as any arbitrary user and then try
and simulate any kind of read or write
call and what will happen is firebase
will go through all of the rules in its
database and let you know which ones
it's applying whether they evaluate to
true or false and then tell you whether
this operation would have succeeded or
not so it's actually it's actually kind
of cool like you know that's how I was
able to verify that all these rules on
my slides were legit was was by sort of
going through all these simulated reads
and writes and making sure that that you
know yes someone can you know an owner
is allowed to remove you know somebody
from the joiners list and so on so I
encourage you to give this a try it's
available it's a little that the UI has
actually improved just a little bit as
well it's available on the database and
this little button on the right that
says I forget what it says now like
experiments or something like that so
you know because these rules there are
low weird at first but they're also
incredibly powerful and once you start
playing around with them they can also
be kind of fun and I know you know
security isn't supposed to be fun it's
supposed to be very serious and and all
of that but you know it's fun it's kind
of fun to play around with so let's move
out a trick number three we test in
production or using a wrote config +
fire blaze crash reporting + analytics +
notifications to turn disasters around
so let's revisit a ticket picker there
that quicker ticket picker as you might
recall and one day their CEO comes in
and says listen I have this great idea
for a new ticket auction feature right
instead of you know just kind of selling
and buying tickets we'll let people you
know put their tickets up for auction
everybody can bid and like you know
whoever the highest bidder is will get
to get the ticket right doesn't it sound
fantastic it does sound fantastic well
I'm glad you agree because I kind of
told our investors we have it ready for
him by next week but don't worry I have
a plan C I've been analyzing all the
work that we do when we write our code
it turns out basically it breaks down
into four things here we develop
features you know cool new features we
write unit tests we add in some sweet
sweet animations and then you know we
compose some very funny release notes it
but now we're doing a whole Calvin and
Hobbes fanfiction thing it's it's very
popular and so we sort of analyze this
stuff and we found out that you know
like people love the features and the
animations and the release notes right
totally fun really interesting but I
realized writing unit tests
so boring like I looked at all the time
or engineers spend writing these and not
one good features come out of her so
here's the way we're gonna get this
feature done just skip writing unit
tests right takes up a bunch of time
there's no user-facing value and I am an
organizational genius well Karen from
engineering was not super impressed
and while the CEO did decide to push
forward with his whole no unit test plan
he did make one valuable concession
which is this alright let's roll it out
gradually so the first day we'll kind of
roll it out to like a very small
percentage of the population and then
you know we'll kind of expand it you
know maybe in a couple days we'll go to
15% and you know and so on until the
entire world is full of our our you know
read-option feature of goodness so
here's how they did it here's how you
would do a gradual rollout using
firebase first off they added a ticket
option enabled value in firebase remote
config so this is basically a value that
you can read in from a real config that
says you know should I enable this
auction and what you can do in wrote
config is to create conditions certain
groups of users for whom certain values
apply and one thing you can do with
conditions is create random groups of
users so what they said is you know
we're gonna create a ticket auction
experiment condition which will apply to
10% of the population right or you know
this can be whatever we want
we'll start with 10 and so basically
we'll flag this value to it we'll set
this value to true if they are in the
ticket option experiment and otherwise
we'll set it to false and because Karin
is super paranoid she said you know what
let's also witch suppress that review
dialog for anybody that's in that
experiment because I'm not entirely sure
we want to show you know want to
encourage reviews from people that are
in this thing yet I'm not super I'm not
super confident yet and are in our
auction feature and so that's something
you can also do you know pretty easily
using remote config is you know change
when do you want to show that please
review our app dialog to users so then
in their code it's pretty simple to use
remote config to check whether or not to
enable this feature this is Swift it
looks pretty similar most other
languages and then basically you can
also report back through firebase
analytics the experiment type that the
user is in by setting a user property so
we're going to create a user property
you know
called is this user in the auction
experiment and will set it to either one
or zero if they're in the option and
then in firebase analytics while we're
at it let's create an audience based on
people for whom this experiment type is
equal to you know is equal to true so
for anybody who has the user property of
I am in this experiment we will add them
to a firebase audience and the way
firebase audiences work is they build up
over time this work is distributed to
the client and so as people start using
the app and the client realizes that
they are in this auction experiment they
will get added to this audience
so our app is updated released to the
world and we decide to gradually turn on
this feature by changing the percent in
the experiment it will go from sort of
you know two percent to like ten percent
and then to 20 percent and so on and
when we change these random values you
know don't worry it's that same random
group of ten percent plus the next
random group of ten it doesn't you know
pick an entirely different twenty
percent of the population and so we
gradually roll it out to our users and
then we decide to see you know how
things are going so we go over and look
on firebase crash reporting and oh my
gosh this is terrible
and in fact if we look below we can see
that the biggest culprit here seems to
be this method start new auction so
apparently that might be the culprit and
even worse we can go and break out our
spending reports by this user property
and we can see that people who are now
in the auction experiment aren't
spending everything and you know this is
terrible and our CEO goes to engineering
and says how could you have let this
happen and you know Garin sighs and says
don't worry we got a plan so first of
all we can use a remote config to very
quickly shut down the experiment right
we change this condition back to back to
zero and you know soon the option
disappears from everybody's app more
importantly we have an audience full of
everybody who is in this experiment and
we can apologize to them and it's
amazing how much goodwill you can gain
when you apologize when you mess things
up anyway we can use firebase
notifications to send an apology to
everybody who's in that audience
basically saying hey sorry you know
we've we've had some issues with our
auctions we've turned off this feature
and you know maybe as an added little
bonus here's a little coupon code or
something in the notification and
because it's being targeted to just this
audience the other 80% of the population
the app isn't gonna be like what are
they talking about I've never even seen
this auction thing and you know again
this sort of thing can be really useful
it's sort of a good way of turning a
negative experience into a positive one
and a way to kind of show that you care
so Karen once again saves the company
and everything is good with the world
you know for now stop coming up with
ideas that are all terrible all right
let's move on to issue number four or
trick number four the dreamy boy
storefront or analytics plus AdWords
plus and wrote config plus firebase
hosting equals some promotions to swoon
over so I'll talk a little bit about
Chatham up it's a fantastic new chat app
that makes most of their money selling
stickers in their in-app store well now
it just so happens that the lead bizdev
person at Chatham up is really good
friends with the manager of the hot new
boy band coming out of the UK the dreamy
boys so the the hot new band with the
hit new song you can't debug my love
it's a freaky looking boyband and so
anyway they say hey you know what would
be great what if we had like a dreamy
boys branded section of our sticker shop
right that would be fantastic and so you
know they go off and start negotiating
deals and royalties and all that we
decide we want to make this thing a
success as soon as it launches so as
early as we can we're gonna start
creating a few audiences in in firebase
analytics first we'll kind of target
their initial demographic the females in
the UK and then their second demographic
males in Switzerland over 55 I'll I'll
be honest this one kind of took
marketing by surprise but but there you
go and then while we're at it let's also
target our heavy sticker users these are
people who have purchased a sticker from
our in-app sticker store right that's
probably an audience we've created
already because because we care about
them you know very very clearly the
people that are going to most likely to
purchase stickers in the future our
people have probably purchased stickers
in the past so this is definitely we
want to kind of capture in a firebase
analytics audience so let's fast forward
to a few months later the deal signed we
have our great new storefront and we say
hey that's fantastic we got to get the
word out about this and so because we've
connected a firebase in AdWords we can
use these audiences directly in our
remarketing campaign if you've if you've
done a remarketing campaign
in AdWords you might know that you're
allowed to basically target specific
remarketing lists and these can be you
know everybody who's ever used your app
ever but you know now that you can
connect firebase and AdWords you can
also target audiences that you have
built up right within analytics and that
actually turns out to be really useful
right like we can actually target just
the people that have purchased stickers
in our app before with remarketing
campaigns or you know we can also target
our women in the UK and our older Swiss
men and so those people will start to
see remarketing ads designed to get them
back into their app where hopefully
they'll be making some more purchases it
turns out we can also use remote config
to display a welcome message to our to
our sticker audience right we can also
not only create conditions you know
based on random you know random groups
of users or you know your device type or
your country but we can also target
certain firebase audiences so we could
add a welcome message for all our
sticker purchasers to let them know
about some recent new addition to our
app and honestly this is a really good
application for remote config is any
kind of message of the day feature right
you can sort of immediately push out any
new message that you want to send to
your users using remote config more
importantly with conditions you can
target just specific groups of users who
you think might be interested in this so
not everybody is getting all these sort
of message of the days all the time if
they don't want them and we can also do
things as long as we're using wrote
config we can change the banner image
for a sticker store so that it can be
something special again for you know
that group of users who have purchased
stickers from us in the past you know
maybe we say instead of using whatever
you know local image we would normally
use on the device let's grab something
remotely and so we can go from you know
our boring old sticker shop banner to
whatever you would call this that's
that's Evan he's the rebel of the group
I hear you might also be a vampire so
anyway we're we're going for smouldering
but I think we just ended up with tired
because that's what happens when you
take pictures of the week before i/o
everyone looks tired anyway but that's
the kind of thing you can do with remote
config and by the way I don't know if
you notice but the URL for that
new banner image is being provided for
us by firebase hosting
and that's so the best place if you you
know for you to put kind of static
images and that sort of thing that you
want to retrieve by using plain old HTTP
calls oh yeah that's a good question
so yes you may have noticed there's sort
of two ways to retrieve images right you
got firebase storage and firebase
hosting both are good generally speaking
you want to use firebase storage for
user-generated content right images that
your users have taken and uploaded you
know recordings audio recordings that
sort of thing for what I you know call
read-only assets you know like your
website or images and data that you want
your app to download later you know
hosting is much more appropriate that
kind of gets it out to the world across
our CDN everywhere and makes it super
fast and and easier for you to download
so let's move on to trick number five
are you ready for this jelly or
basically remote config plus dynamic
links plus the firebase database plus
firebase analytics for replays that
matter so let's talk about jelly matric
guide n the latest match-three puzzle
game the developers have decided they
want to add a let's share my level
feature or share my replay so that you
know if you've had a really great replay
you can send it off to your friends they
can try the exact same level as you see
if they can beat your score and maybe
even watch your replay later right it
sounds like kind of a cool way of doing
it so again this seems like a pretty
obvious use case for dynamic links
whatever email this app ends up
generating and sending off or you know
whatever post or or however we want to
share this replay we probably want that
that link to get into our app to be a
dynamic link right so we can kind of
click on that link will take them you
know into the app and immediately load
up the level by analyzing that link
parameter and again they don't have the
app installs well we can take them to
the Play Store in the app store and yes
by the way we could totally store all
that replay information in the firebase
database seems like a really good place
to put it but there is one big question
so typically if the user doesn't have
the app installed the default dynamic
link process is to take users directly
to the App Store or the Play Store and
wait for them to install the app but we
also have another option when dealing
with firebase dynamic links we can send
people to a fallback page instead you
know this could be like a marketing page
where we tell them a little more
about the app and tell them how
fantastic it is and get them excited
about it before we then send them to you
know the app store where they're given
the option of whether to install it or
not and there's sort of advantages and
disadvantages to both right the first
way is one for your click you can
immediately get right into the App Store
the Play Store but the other way you
know maybe gives the user a little more
context before we ask them to install
something so which is better
well this seems like a very good
opportunity for an a/b test and so
that's also something we can do with
remote config we can set up a test
condition like this again delivering to
a random group of users and this time
you know we'll kind of look at 50% of
our users instead of doing a gradual
rollout so we can kind of do a true AAV
test and then you know we can set our
value of you know replay uses marketing
page to either be true or false
depending on whether the users in this
experiment and then basically within
whatever code we're going to be using to
build out this dynamic link from the app
we can look and see you know is this
value true if so then let's add on these
two extra parameters the AFL and the IFL
parameter to our dynamic link which
basically tells you know tells firebase
dynamic links what webpage to send the
user to instead so for half of our users
the link they're going to share with
their friends looks a little like this
it's a dynamic link without any fallback
pages and the other half will have a
link that looks like this it's basically
the same link as before but now we have
these fallback page URL specified and
again with a little tiny bit of
JavaScript that that marketing page that
we then have that tells the user how
fantastic this app is and you know now
don't you really want to go and install
it well when they click on that link to
go ahead and install it you know we can
still kind of generate our own dynamic
link so that when the user finally does
open up that app we've remembered
through the entire process what that
replay was and take our user right into
that replay as soon as they start up the
app and how do we actually track this
how do we see which is successful
probably the easiest way is just kind of
adjust those UTM parameters that we
talked about earlier we can sort of
create that for each link and you know
then we can start tracking conversion
metrics you know like you know who made
an in-app purchase based on you know did
you visit the fallback page first
or were you taken there directly you
know
from the email so not only can we see
you know which users quick clicked on
which links the most but also see which
users then stuck around and actually
made a purchase and really got into it
maybe you know the marketing page got
you more psyched to actually try the try
the app and stick with it because
chances are you know you're not gonna
win that replay if this is the first
time you've ever tried the game so
that's that's that's valuable and by the
way we don't need to stop with just kind
of testing a single page or not right
like it's very easy to kind of ABC test
different pages we can create conditions
for you know 33% of our users and 66%
and then kind of set different options
of which marketing page do we send
people to or maybe we don't send them to
one at all again based on all these
conditions and we think about it if this
email content is being generated on our
client well that has to come from
somewhere too so why not kind of use
remote config so again you know test
what emails were going to send and test
you know what what screen shot the app
is gonna put in there and what the
button is gonna say all that stuff again
you know fairly easy to to set up and
and an a/b test using remote config so
here we go five ways you can use
elements like storage and analytics and
notifications and remote config and off
all together to make it more compelling
app now this might shock some of you but
these were somewhat contrived examples
with not with fake companies I know
right
surprising but probably some of this
does apply to your situation right maybe
you have a companion site where you're
trying to bring users into your app and
you want to make that a little more
powerful or maybe you have a feature
that you're not super confident in and
maybe you kind of want to you know try a
gradual rollout first you know maybe you
have your own set of deep links or
sharing emails and you know you want to
a be test that stuff so think about it
you know maybe a couple these examples
you know they might not be exactly
pertinent to your situation but maybe
they'll inspire you to think of
something similar that that will be cool
so basically I know at this point I'm
like the teacher on the last day of
class and everybody's just kind of
waiting for the bell to ring maybe some
of you have planes to catch I just want
to say thank you very much for coming to
i/o every year like you know the week
before I'm always that up super late and
not sleeping and trying to get all this
stuff done I'm like this is really worth
it but then I come to these events and I
talked to people who are like super
excited and positive and
a little bit nerdy sort of like me and
it's just really nice like it's just you
know it's really nice to be able to sort
of chat with all of you and sort of meet
other people and you know please just
continue to be be positive and a little
bit nerdy because cuz I think that's
great
so anyway sorry if you want more
information about firebase here's your
here's the website we got a support page
we got a YouTube and a Twitter feed and
all of that and with that I'm gonna say
I think are we done are we actually done
with il we're done with that yo
everybody thank you for coming</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>