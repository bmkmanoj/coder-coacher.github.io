<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python3 Advanced Tutorial 2 - Templates | Coder Coacher - Coaching Coders</title><meta content="Python3 Advanced Tutorial 2 - Templates - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DrapsTV/">DrapsTV</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python3 Advanced Tutorial 2 - Templates</b></h2><h5 class="post__date">2015-02-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tKdWpiSZO8M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to Python three advance two
templates in this video we'll be looking
at templating what it is how to use it
and why to use it every video have all
slideshows and code available in the
description okay so what is a template
well the template is just like it sounds
it's a formatted layout that you fill
with important things the Python
template module is part of the string
module as it uses a string to define the
template the templates key feature is
that it allows for data to change
without having to edit the application
every time so how does it work well the
template class takes a string as a
template within the string we use
placeholder variable names with the
preceding dollar sign to depict that
it's a placeholder we can then
substitute values into the template with
the substitute method using a dictionary
where the keys in the dictionary match
the placeholder names the return string
is the template with all of the values
rather than the placeholders it should
also be noted that the placeholder
variables should follow the same naming
convention as Python okay let's make
something now we'll make a simple output
program that will output info about a
user shopping card
we'll use a template to format the
output and fill it with the carts info
so let's create a file called cart py
okay so come over to Ubuntu here and
we're going to create a file called cart
py so open it in vim alright so we need
to import the template class first
so from string import template with the
capital T alright now let's define our
main function
so def main :
alright let's create our cut so our cut
is going to be a list so start off as an
empty list and we're going to append
dictionaries into them into it okay so
our cart dot append and we're going to
place a dictionary in there and the
dictionary is going to have our key
names so we're going to have a key
called item which is going to be the
item that's going to equal
we'll say coke and we're going to have a
key called price and that's going to
equal say eight and we'll create a
quantity key which will say equals to
alright let's add in a couple more
things into our cut so cut dot append a
dict and our item this time will equal
let's say cake the price for cake is
twelve and the quantity equals one and
we'll add one last thing
cut dot append dict
and our item is going to equal we'll do
fish our price is going to equal let's
say 32 and our quantity will equal 4
alright so we've created our cart we've
put in our dictionaries with the item
the price and the quantity now time to
make our template so we'll call our
template object T make it equal to a new
template so template and inside the
parameters we're going to create our
template so we're going to use the
dollar sign to indicate a place order so
we're going to do play set up quantity
so the quantity are key from our
dictionary space which will end the
place order X space a dollar sign again
and we're going to do the item now so
it'll be say two times coke and then
lose space equals dollar sign price and
that will grab the price out of our
dictionary so we'll get for the first
item we'll get 2 times coke equals 8
all right so we'll close up our template
string and close up our template
now let's just create a variable called
turtle and we'll calculate a total cost
will initialize that to zero and then
we'll print out the start of our card so
card :
close that off close that print now
let's write our for loop so this is
where we're going to substitute each of
the items in our cup
so for data in cut we're going to print
T dot so T our template dot sub ste the
substitute go to substitute the data and
we'll close up our print and the next
line will calculate our total so our
total plus equals the data and we want
to grab the price key out all right so
we've calculated our total now so
outside of our for loop we're going to
just print out what the total is so
print and we'll do turtle colon space
closed quote plus string of turtle and
we'll close off a print all right
well write out if name equals main so if
I'm just going to school name and
scrunch score is equal to I'm just going
school main underscore underscore and
we're going to we're going to run main
yeah main all right so let's save this
up so right quit and we're going to run
it so python 3 kart pi we run that we
get our output so we have our cut two
times kirk equals 8 1 times k equals 12
four times fish equals 32 now our total
price is 52 all right cool so that'll
work door substitute each of the values
into our placeholders awesome errors are
possible in templates but mostly occur
while you're programming
so for debug purposes here are the
common ones first
no placeholder match which will give a
key error this is usually because there
is no key or value in the dictionary
to give to the place holder and secondly
we have a bad place order which will
give a value error this is usually a
placeholder starting with an invalid
character or being non-existent though
it's usually a number we can have the
template handle these problems for us by
using the safe underscore substitute
method of the template class this will
return a string no matter what however
any unresolved keys and braces will be
left in the resulting string as we can
see in the example the template dollar
sign name had dollar money is only give
given the value for the name resulting
in the output Jim had dollar sign money
rather than the proper output so though
it handles these errors it should only
be used where an error may occur out of
your control otherwise is considered
sloppy coding to leave unused and
dangling keys in your templates which
may cause errors down the track it's
also possible for us to create custom
delimited by creating a subclass and
overriding the default in the template
class this is great when the user may be
creating the template from the command
line so let's edit our current program
to use a hash symbol rather than a
dollar sign alright so we'll come back
over to Ubuntu and we'll edit our cut
now inside here just above our main
we're going to create our custom class
so class and we'll call it my template
and as a base class it's going to take
the template class as a base class
alright now we're going to just modify
the delimiter so to do this we just say
the limiter delimiter equals and we're
going to do the hash character alright
so now that we've overridden our
template we need to change our
construction of our template so to do
this we come down to where we initialize
our template we're going to use my
template instead of template and inside
of our template instead of having
dollar signs we're going to use hashes
so we remove all of the dollar signs put
our hashes in there we go now we can
save this give it a run and we'll be
able to see that it runs just as it did
before but this time we're using hashes
as the delimiter awesome so now we have
looked at how to use a template why
should we use one the main reason for me
is that it saves time and reduces the
size of my code files but it's also good
for allowing the user to create
templates for example a program that
renames all of your image files in a
directory with the rename style they
construct as seen here we would rename
all of the photos with the name my photo
underscore the file number plus the
images format templates are also
extremely useful for web pages because
usually a page will look the same but
contain different data this works great
with CGI programming in Python but more
on that in a later tutorial you may ask
why not just use the string dot format
method well you can think of a template
as an object of the format string it
holds on to the template so you can
substitute values at any time into the
template without having to write it
again as an added bonus it provides the
safe underscore substitute method which
means if a value is missing from your
program it does not crash some things to
note about templates is that you can
escape the delimiter if needed by using
two consecutive des limiters for example
the template you owe me dollar sign
dollar sign zero will use the dollar
sign as a character rather than a
placeholder we can also use custom
regular expressions on templates when we
create subclasses and override the ID
pattern variable by default it's set to
accept underscores and alphanumeric
characters we can also use curly braces
to identify which part of the delimiter
is the placeholder variable name in this
example I have the template the place
yard is far away where the yard is
appended to the result of the
placeholder so if we use the value ship
the output would be the shipyard is far
away but this could be replaced with
farm or a number of other places I hope
you have an understanding of what
templates are and how
work and when to use them of course
there won't always be practical but
sometimes they can be a lifesaver
next we're going to cover agggghhhhh
pass don't forget to subscribe thanks
for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>