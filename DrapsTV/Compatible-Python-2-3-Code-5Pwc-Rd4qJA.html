<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Compatible Python 2 &amp; 3 Code | Coder Coacher - Coaching Coders</title><meta content="Compatible Python 2 &amp; 3 Code - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DrapsTV/">DrapsTV</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Compatible Python 2 &amp; 3 Code</b></h2><h5 class="post__date">2016-01-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5Pwc-Rd4qJA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to the compatible Python 2 and
pay the three-card video in this video
we'll be looking at the core tools at
your disposal for making your python
program work in both Python 2 and Python
3 we won't be writing any code in this
video I will purely present the code
snippets that indicate how to deal with
compatibility issues this slideshow will
be available in the description it's
very important to decide what versions
of Python you want to support for your
program or library python 2.6 introduced
some forward compatibility modules
making it much easier for python 2.6 to
integrate with python 3 plus because of
this it's discouraged that you support
python 2.5 or lower as you'll have to
jump through many hoops to make it work
there is still a few old systems going
around with versions of Python lower
than 2.6 so consider carefully if
spending the extra time to support 2.5
or lower is worth it for your package if
you are starting a new project I suggest
you work in Python 3 and make it
backwards compatible rather than the
opposite of starting with Python 2 and
making it forwards compatible once your
project is working in Python 3 try
running it on the lowest version of
Python you want to support from here you
can start implementing the fixes and
work towards your compatible package the
main concerns we are going to look at
today is handling print for output
correctly handling exceptions which can
behave differently when handling
multiple exceptions handling the
different division between Python 2 and
Python 3 handling Unicode strings as all
strings in Python 3 a Unicode and lastly
handling bad imports as Python 3 has
changed a few of the standard library
models to correctly follow naming
conventions did you know the print
function works in both Python 2 and
Python 3 or sort of Python 2 s
implementation is a little different it
works fine if you are doing just basic
prints however if you want to print two
separate strings or print to a file or
change a line ending you'll need to use
the standard library module underscore
underscore future underscore underscore
to force Python 2 to use the Python 3
implementation simply import print
underscore function from the underscore
underscore future underscore underscore
module and the rest of the module will
use the Python 3 implementation
typically
catching a Python 2 exception will look
something like the following however
this will only work in Python to since
python 2.6 the as keyword can be used to
set the error variable in an accept
statement which works just like it does
in Python 3 so the following we work
correctly in both versions however to
correctly manage more than one exception
type you must put it in a topple
division here is an easy one but it's
also an easy one to forget and can cause
you a headache giving you different
results on two different versions simply
import division from underscore
underscore future underscore underscore
at the top of your module and division
in Python 2 will behave like it does in
Python 3 just like division handling
Unicode strings in Python 2 is as simple
as importing Unicode underscore literals
from the underscore underscore future
underscore underscore standard module
then all of your strings will be Unicode
strings in both Python 2 and Python 3
Python 3 renamed a lot of modules and
move certain modules around in the
Python standard library this
unfortunately causes many issues for
compatibility luckily a need fix is to
use pythons try except structure to
detect which import here we try to
import the Python 3 version of the Q
module but if we're running Python to
the Q module with a lowercase Q doesn't
exist so an import error is thrown thus
we can then as a result import the
Python 2 version with the upper case Q
some final notes to keep in mind the
input function is the last painful thing
you'll have to deal with generally when
writing a library you won't ever use
input but if you're writing a console
application you might cross it there are
two ways I would deal with this
situation option one is to import input
from built-ins option two is to manually
check the system version info for Python
last thing is if you're porting Python
to module 2 python 3 check out the third
party library 6 it contains many tools
for going forward and has tools for
supporting earlier versions of pipe into
alright we are done this is not
everything that isn't compatible there
is quite a big list of possible problems
that may arise
such as dealing with long integers or
iterating through dictionaries I'll put
a link in the description to a neat
cheat sheet by Ed Schofield which if you
encounter a problem that is not covered
in this video it should cover it I hope
you enjoyed this video and found it
helpful or informative don't forget to
subscribe thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>