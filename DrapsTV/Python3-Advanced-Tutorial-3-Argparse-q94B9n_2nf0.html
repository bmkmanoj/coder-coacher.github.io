<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python3 Advanced Tutorial 3 - Argparse | Coder Coacher - Coaching Coders</title><meta content="Python3 Advanced Tutorial 3 - Argparse - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DrapsTV/">DrapsTV</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python3 Advanced Tutorial 3 - Argparse</b></h2><h5 class="post__date">2015-02-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/q94B9n_2nf0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to Python 3 advanced 3
agggghhhhh paths in this video we'll be
looking at argument and option parsing
what it is how to use it and why to use
it if you've used op paths before I'll
pass we're familiar but much less clunky
every video of all slideshows and code
available in description
aaaggghhh Pass is a standard module that
comes with Python it allows for easy and
neat option and argument handling for
our Python programs arc pass handles
generating program usage generates the
help output and handles formatting for
the console I pass works by interfacing
with the Python system module taking the
command-line arguments and assessing
whether they are an option or an
argument if it's neither it is ignored
options are a - and then a letter or
word arguments usually will just be data
from the user these options and
arguments come after the program in the
command line
with this code example we can see three
main lines you will see when using ugh
paths first we create the argument
parser then we use the method add
underscore argument inside the add
argument we specify what type of
argument it is the help for that
argument and a type if required there is
many other attributes but for now let's
just work with these we then get the
arguments from the parser using the past
underscore args method alright
positional arguments are required
arguments arguments that are needed to
make sure the program runs correctly
positional arguments do not require a
dash as it's not an option just like the
example we just looked at no - is
specified before the argument name num
now that we know that the basics work
let's have a closer look as we build a
quick program to test out the Arg pass
module on let's create a program that
outputs the nth Fibonacci number we'll
have a required positional argument num
for the program to calculate - will also
add the help output ok so let's create a
file called fib n PI so come over to
Ubuntu and we'll start writing a card so
we'll do them fib n dot pi
and inside we're going to import the AG
past module so import AG pass
alright let's define a Fibonacci
function so def we'll call it fib and
I'll take an argument n and then we're
going to have the variables a and B
equal 0 and 1 and then we're going to do
a for loop so for I in range book range
n we're going to a comma B equals B
comma a plus B alright and then outside
of our for loop we're going to return a
all right set a fib function defined
let's do our main function now so def
main and we're going to create our
parser so our parser equals arc pass dot
argument parser with a capital A and a
capital P and now we're going to add an
argument so we do our parser dot ad
underscore argument and it's going to be
a positional argument so we just need
the name of the argument so we're going
to call it num and now we're going to
write the help output so the help for
this argument is the Fibonacci number
you wish to calculate all right so
that's how help written and it's going
to be of type equals int so it's going
to be a number all right so we've
created our argument now let's grab our
arguments are in the command line so our
args variable is going to equal the
parser dot pass click pass underscore
args
all right so we're going to pass the
arguments from the argument parser into
our variable all right now let's
calculate our result so our result is
going to equal the FIB function we wrote
earlier am I going to pass in args numb
so the numb is the argument that we
specified all right and then we'll print
out the result so print the I will plus
on string of hogs numb and then we'll
put a th so the nth fib number is and
then we'll add on the result so the
string of result alright so we've got
our print done let's write out if an if
if main so if underscore name underscore
score is equal to underscore underscore
main then we're going to run main
alright so this is their program written
let's write quit and we'll give it a
shot
so Python 3 field n dot pi and it takes
an argument but if we don't put in an
argument it'll give us the loop we've
got an error module object has no whoops
up miss spelt that open that up again
come down here pick set up argument all
right all right quit so if we don't give
it an a a argument it'll give us back
the usage of how to use our program so
it says fib n dot pi you can either use
- H for help and it has one positional
argument num and we get the error the
following arguments are required num all
right so let's do the - H to see what
the help output looks like and we get
the usage the positional arguments so we
get the help the fibonacci number you
wish to calculate and then we have what
optional
inside which is only help at the moment
all right so let's give it a shot so
instead of the - H we're going to put in
a number so let's put in say 10 and we
get the tenth Fibonacci number is 55
cool and we could try something else so
we could do five we get the fifth
Fibonacci number is five six look today
six these six Fibonacci number is eight
awesome optional arguments are just like
they sound optional as an example the -
H or - - help option that is inbuilt
into our class is optional you don't
have to use it every time you run the
program only when you need help we can
create as many options as we like and
our paths will happily handle them and
just like the positional arguments that
help will automatically be added to the
help output in this example we have a -
- quiet option that will give a
minimalistic output to the console okay
let's modify our fib n pi it will still
take a number to output but we'll add an
option to also save the number into a
text file with the - - output option but
you may have noticed that not many
programs use the - - option instead they
have a simple - and one character will
also quickly add a shortcut option to
the output argument all right so let's
come back over to Bunty here and we're
going to edit our file so drive them and
we're going to be editing our parser so
we're going to add an argument and this
arguments going to be our option so
we're going to do our parser dot ad
underscore argument and this time it's
an option so we're going to use - o is
the shortcut whoop - Pro is the shortcut
and the actual parameter is going to be
- - output alright so we've got a
shortcut and we've got an output and now
we're going to write our help so I'll
help will equal output result
- P
all right and we're going to have an
action and that action is going to equal
store underscore true and I'm going to
split this line because it's getting a
bit too long all right so we're going to
have an action to store true and that's
going to end our our argument all right
so now we've got an extra argument to
work with
let's put after our printout we're going
to write an if statement so let's do if
args dot output so if the option is down
and it's stored true we're going to F
equals open and we'll open up a text
file called Fibonacci dot txt and we're
going to open it in append mode right
and then we're going to F dot right and
we're going to write the string of
result and then we're going to add on a
new line so backslash n all right so
we're going to write that out to a file
cool let's save this and give it a shot
so now if we do our dash H for help oops
we get a whoops we want now fib n PI
dash H and we have the optional argument
- - output now so output the result to a
file all right so let's do ten again and
this time we're going to use the option
Oh all right so we run it and we get the
tenth Fibonacci number is 55 and now if
you do an LS and we have a look in this
folder we have a Fibonacci txt cool so
we can open that up so vim Fibonacci txt
and we can see we've got the 55 that we
output it cool
let's give this a clear mutually
exclusive arguments are available
without paths with the use of a group
feature we can create mutually exclusive
groups allowing only one option to be
selected but not both or more but in
this example we'll use two it will
display in the usage that the options
are mutually exclusive as well as
printing out an error telling the user
they can only pick one okay let's modify
a Fairbank pi again it will still take a
number to output still have an option
for outputting to a file but we'll have
a mutually exclusive group for either a
verbose output or a quiet output not
both our paths will tell the user off
for trying to use both all right so
let's come over to the bun to again and
we're going to beam out fib n dot pi and
we're going to add in our group so let's
do it up top here so we're going to a
group and that group is going to equal
our parser dot add underscore mutually
underscore oops meet truly glue sieve
mutually exclusive underscore group oh
that's a long one and now with the group
the group we're going to add underscore
argument and we're going to do a dash V
argument as the shortcut and as the full
argument that's going to be - - verbose
and a verbose is going to have the
action equals store underscore true all
right and we'll do another group option
add underscore argument and this is
going to be our quiet so - cute
the skew and it's going to have the full
argument of - - quiet and its action is
going to start true so action equals
store and let's go true alright so now
we've created our mutually exclusive
group we can start to use it so after
our result we're going to change what
prints out so if args dot verbose then
we're going to print out the string that
we wrote earlier however hell if args
dot quiet quiet then we're going to
print out just the result so results all
right
else if there's no quiet or verbose
specified as an option we're going to
print fib Open bracket close quotes plus
the string of eggs num plus right-hand
bracket so it's going to look like a
function so write a bracket equals close
quotes plus the string of result and
then we close off our print so it'll
print out what looks like a function and
the answer all right so we can save this
now so we'll write quit and let's give
it a shot so Python 3 fib n dot pi now
if we do our - help now and we have a
look we can see our optional arguments
of verbose or quiet and underneath the
usage you can see in the square brackets
we've got - B and we've got a big line
and then a dash Q and this represents
mutual
exclusive so it can either be one or the
other all right so let's give it a shot
so let's do ten and we'll do all do
eleven this time and we'll do - verbose
so we get the 11th Fibonacci number is
89 similar to what we did earlier it
gives us the same output but if we do
quiet this time and say we'll do 12 we
get 144 and it just prints out 144
there's no extra text with it and of
course if we don't put in any mutually
exclusive option we get the fib 12
equals 144 cool so if we try to add in
both so if we try to do - Q and - B it
will give us an error saying that
verbose is not allowed with argument - Q
cool that's mutual exclusion all right
so why would we use this module well ugh
pass is a great way to streamline your
program for professional use it's easy
to use and comes standard with Python
saves you time by constructing help and
usage formats the help and usage for
command line output overall that allows
us to make dynamic changes to our
programs operation by using simple
options on execution some extra things
to note about ugh paths our path does
not natively support callback functions
however you can create your own action
class that implements the function call
though it's usually easier and less
time-consuming to just use an if
statement to check if an option was
available
our paths also supports taking arguments
into lists this is done with the n args
attribute on the add underscore argument
method you can specify a specific number
of arguments to be expected or you can
use the plus symbol to specify that you
don't know how many arguments there will
be but you know that there will be at
least one just keep in mind that these
go into a Python list a full written
tutorial is available on each of ugh
passes features and can be found on the
pipe and docks a link will be in the
description I hope you now feel
confident enough to add up past your own
programs and make it more streamlined
and hopefully more dynamic next we're
going to cover Reggie
our expressions don't forget to
subscribe thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>