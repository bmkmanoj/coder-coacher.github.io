<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Tutorial: Making your own Hex Dump Program | Coder Coacher - Coaching Coders</title><meta content="Tutorial: Making your own Hex Dump Program - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DrapsTV/">DrapsTV</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Tutorial: Making your own Hex Dump Program</b></h2><h5 class="post__date">2014-08-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/B8nRrw_M_nk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to an odds and ends video on
making your own binary hex dump tool the
slideshow and code are available in the
description I've said before and I'll
say it again making your own tools is
important so in this video we'll look at
making our own hex dumping program you
may decide afterwards to turn it into a
hex editing program if you've never
worked with Python code before this may
be a little hard to follow along however
only a basic understanding is really
required so what is this program well
it's a Python program that reads in a
file in binary and dumps it out its
contents with its offset it's hex values
and the text equivalent this is a good
tool for inspecting binary files it is
quite a simple program and relies mostly
on formatting for easy reading the
standard way to output hex dumps is in
16 byte lines as we can see on the slide
here the offset is in hex then we have
to eight byte sections of hex values and
then the text equivalent with the
unprintable characters replaced with
dots ok so let's get onto credit
creating our program will create a
program called hex dump pie and we'll
add an optional argument to output the
data to the console okay so I'll come
across to Ubuntu you come over Ubuntu
and I've got a folder here which has
some images in it we at least don't PNG
so we'll use this to inspect with our
hex dump program once we're done and
we'll start coding so here's vim serve
in hex dump dot pi and inside our file
we're going to need to import some stuff
so we're going to import AG pass because
we're going to use AG pass to take in
the arguments from the command line and
we'll define our main function
so def main
and we'll create our parser so parser
equals arc pass dot argument parser okay
so now we need to add our arguments to
the parser so parser dot add underscore
argument and first argument is going to
be a necessary argument and that's going
to be a file and the help for that
help-help
is equal to specify a file this serve
the user gets stuck there now what they
actually need a input and now we'll add
an optional argument so a parser dot add
underscore argument and - oh so output
and we're going to bind that - - -
output and the help for this can be
print output - terminal and we'll just
jump down the line to add in the rest
and we're going to have an action so the
action is what's going to happen when
this argument appears so the action will
store underscore true and this will
store true into the output variable
that's created now let's get our args so
args equals parser dot pass underscore
args and that will grab our arguments
from the command line now we need to
write out if so if args dot file so if
the user does actually input a file
we're going to run our program so we're
going to write an else so if they if
they don't
a input a file then we're going to print
the usage to them to hopefully prompt
them to input a file so parser usage
okay now inside our if we're going to
create a variable for our offset so
offset that equals zero now we're going
to use the width command to open up the
file that we're going to read in and
we're also going to open up the file
that we're going to dump out to so with
open and we're going to open up the OGG
file and we're going to open that file
up to the read binary mode and we're
going to call it as in file okay and now
we're going to have one more width which
is going to be our dumping out so open
args dot file and we're going to append
onto it the dot dump so this will attach
a dump to the end of our file name and
that will be our dump out of the hex
values so we're going to open that up in
write mode and it's going to be as out
out file okay
so inside our widths we're going to
write a while statement so while true
I'm going to keep looping until we
finish the end of the file so while true
we're going to grab a chunk so chunk
equals in file read I'm going to read 16
bytes because we want 16 bytes per line
and we're going to write aid if
statement to check if the length so the
length of chunk that's equal to 0 it
means that we weren't able to read
anything out of the file so it must be
empty so we're going to break out of
this loop
okay so now if taken care of
loading everything in or we need to do
now is set up all of our formatting so
we're going to create the human readable
text so we're going to call it text and
we're gonna make that equal to the
string of chunk and because this will
also include characters that can't be
read by humans we're going to use a a
join function on strings to make the to
replace any characters that can't be
read so we're going to have a empty
string join and inside our join we're
going to have a generator statement
that's going to use an if to determine
whether the character that we're up to a
is a valid character so open up square
brackets I and I is going to be the
current character that we're up to so I
if the odd of I is less than 128 and the
odd of I is greater than 32 and then
we'll jump down the line to make this
easier to read else we're going to just
put a dot there so the dot character and
this is going to be for I in text and
we'll close our square bracket and close
our circle bracket so this is a
generator statement if you remember them
from my tutorial or have you've done
them before okay now we're going to
format our hex output so first we need
to output our offset on the left hand
side so output equals
and we're going to use the format
function here so our format string is
going to initialize and it's going to
use the 0x prefix so that's a hash and
we're going to use up to eight preceding
zeros and it's going to be in hex value
which is the X and we'll close our
format and that's going to format and
we're going to format the offset and
then on the end of that we're going to
just cat got an 8 on a colon there to
sit as a separator okay now we're going
to go through and we're going to join
our hex values of each byte with a space
in between so I'm going to concatenate
onto the end of output plus a equals a
space dot join and we're going to join
our hex of each value so we're going to
create our format string again so this
time it's a just a zero two and a
capital X because we want all of our hex
to be in capitals and we'll close our
format off and we're going to format the
odd of C and then we'll just split our
four into the next line we're going to
use a generator so on the net annex line
it's going to be four see in chunk and
we're going to grab all the way up to
the eighth byte and that'll close off
our join and now in between because we
want to have eight bytes in each section
section going to output and concatenate
onto the end a space a pipe bar and then
a space and then end codes
and then we're going to add onto the
right hand side of that bar at the other
8 bytes so output plus equals P space
join and we're going to use the same
format as before so our zero to capital
X for hex and we're going to format that
with the odd of C and just jump down the
line again and do our for 2 for C in
chunk and we're going to do from 8 up to
the end of our string so our chunk okay
now just in case there is not enough
bytes inside our chunk we're going to
add some padding on so there are format
our formatting remains so if the length
of chunk modulus 16 does not equal 0
then we're going to need to add some
padding so inside we're going to do our
output plus equals 3 spaces in codes so
one two three quotes times 16 minus the
length of chunk so the remainder plus
the text and that'll add our human
readable text onto the end of our output
else so if there doesn't need to be any
padding then we're just going to do
output plus equals a space plus text
okay now we need to do one more if and
that if is going to going to be if the
user requested the output to be printed
at the screen so if args dot output
then we're going to print the output and
then outside about if we're going to
print out to the art file so out file
dot write the write the output plus the
newline character okay and now we can
manually increase our offset so our
offset value that we created earlier
which is used to mark the offset on the
left hand side we can manually increase
that by 16 because we've read in 16
bytes okay so that's our offset done and
that's our program done you just have to
go back to the very start and go to the
end to our name
so if underscore the score name or pop
space in there it's the underscore
underscore name underscore underscore is
equal to underscore underscore main then
we're going to run main okay so
hopefully that all went correct we can
save this and it should run so python
hex dump X dump dot PI and we had our
don't PNG and we can do our optional
argument - OH and that'll output it all
to screen so we can scroll up our window
here and we can see the hex dump of our
whole image so we can see that it's a
PNG in ihdr mode in RGB mode as well and
has all of its PNG data values and then
we have our end at the end okay now we
can also have have it without the
optional argument you just run it and
that will output our don't PNG dump
which is just a text file of
how dumped out so whichever is easier
for you to read and you can do this to
almost any file about all files in fact
so if you really wanted to you could hex
dump hex dump dot PI and make it will
just - air that out the screen and as
you can see here we get a hex dump of
our hex dump program and it has all of
our code in plain text and as you can
see here and yeah so that's cool
so this concludes our hack stunt program
I hope you learnt something interesting
that you can now play around with if you
have any questions leave it in the
comments and I'll try my best to answer
it as clearly clearly as possible
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>