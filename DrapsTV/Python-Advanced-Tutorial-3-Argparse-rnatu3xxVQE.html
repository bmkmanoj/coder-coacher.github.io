<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Advanced Tutorial 3 - Argparse | Coder Coacher - Coaching Coders</title><meta content="Python Advanced Tutorial 3 - Argparse - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DrapsTV/">DrapsTV</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Advanced Tutorial 3 - Argparse</b></h2><h5 class="post__date">2014-09-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rnatu3xxVQE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to Python advance three
agggghhhhh pass in this video we'll be
looking at argument and option pass
think what it is how to use it and why
to use it if you see in the octopus
tutorial or reviews op pass before
agggghhhhh pass will be familiar but
much less clunky every video of all
slide shows anchor it available in the
description
ugggghhhh pass is a standard module that
comes with Python it allows for easy and
neat option and argument handling for
our Python programs AG pass handles
generating program usage generates the
help output and handles formatting for
the console arc pass works by
interfacing with the Python system
module taking the command-line arguments
and assessing whether they are an option
or an argument if it is neither it is
ignored options are a - and then a
letter or word arguments usually will
just be data from the user these options
and arguments come after the program in
the command line with this code example
we see the three main lines you'll see
when using AG paths first we create the
argument parser then we use the add
argument inside the add argument we
specify what type of argument it is the
help for that argument and a type if
required there is many other attributes
but for now we'll just work with these
we then get the arguments from the
parser using the past args method
positional arguments are required
arguments arguments that are needed to
make sure the program runs correctly
positional arguments do not require a -
as it's not an option just like the
example we just looked at No - is
specified before the argument name num
now we know how to know the basics have
the basics work let's have a closer look
as we build a quick program to test out
the arg pass module let's create a
program that outputs the nth Fibonacci
number then we'll have a required
positional argument num for the program
to calculate - will also add the help
output so let's create a file called fib
n pi okay so come over to Ubuntu
and we're going to create our file fib n
so vim fib n dot pi okay
so inside here we're going to import our
path first off so import hog pass and
now we'll define our Fibonacci function
function so def and we'll call it fib
and we'll take a variable N and we'll
set up two variables a and B and we'll
make them equal to 0 and 1 respectively
now for I in range n we are going to
make a and B equal B and a plus B
respectively and then after our for loop
is done we are going to return a and
that's our Fibonacci function okay so
let's write our main function now so def
main now inside I mean we're going to
create our parser so pass up equals arc
pass dot argument parser okay now we
need to start adding some options so
parser dot add underscore argument and
then we're going to need a variable num
or a positional argument num so it's
just numb inside courts and then we can
write our help so help equals in quotes
the Fibonacci number and I'm just going
to knock this down aligns the Fibonacci
number you wish to calculate
and then that's going to take a type
equals int because it is an integer that
we want to get from the user okay so now
we've added an argument let's get our
arguments from the past also get our
variable args make it equal to parser
dot pass underscore args okay
so we've got our arguments now let's
calculate our Fibonacci number so result
is a variable we're going to use to
store the result the result is going to
equal fib args num is the variable num
inside the ox variable
okay so let's print it out screen now so
print the plus string of the number so
the we'll just knock this back a bit the
string of args num plus th so the
whatever number they ended th fib number
is and then we'll add unto the end of
the string of the result all right so
we'll print that out and now we can
write out our if so if I'm just going to
score name let's go and score is equal
to underscore underscore main underscore
underscore then we're going to run main
okay so this is our program written
we've used our AG pass to get an
argument from the user and then
calculate that Fibonacci number so we'll
save this and we'll give it a shot so if
we type Python fib n dot PI and if we
run it without anything we'll get a
usage saying that we can either use dash
H for help or we can put in a
positional argument num so as and we get
the Arab that's too few arguments so
let's give it a shot with a number so
Python fib n and we'll do 10 and we
should get the tenth Fibonacci number is
55 so cool that worked now we can also
use the - H to get the help and if we
have a look at the help we'll see
positional arguments is num and the help
for that is the Fibonacci number you
wish to calculate and the optional
arguments is the help optional arguments
and it show it shows this help message
so cool all right so let's jump back to
the slides
oops optional arguments are just like
they sound optional as an example the -
hey
- Shh or - help option that is inbuilt
into Ag past is optional you do not have
to use it every time you run the program
only when you need help we can create as
many options as we like and OGG Pass
will happily handle them and we're just
like positional arguments that help will
automatically add to the help output in
this example we will have a - we have a
- - quiet option that will give a
minimalistic output to the console so we
have - - quiet to help text and then
we're going to store true so that would
be a quiet option okay let's modify our
fib n pi it will still take the number
to output but we'll add an option to
also save the number into a text file
with the - - output option but you may
have noticed that not many programs use
the - - option instead they just have a
simple - and then one character will
also quickly add a shortcut option to
the option R to the output argument okay
so let's jump back over now we're going
to edit our program yet to them fib n PI
now we're going to add an option so
we'll come after our other and argument
and we're going to go parser put parser
dot add underscore argument
and this time we're taking an option so
what we want to do is because we want a
shortcut
don't - art as our option but we also
need to specify a long option so - -
output okay
so we've created an option let's do it a
help text so help equals and then we'll
do outlook output app ah missing
characters output with R and then we'll
do a newline output the results to a
file we can close quotes and now we want
to specify an action so in action is
what we want to do when this option is
called so our action we're going to
store underscore true so this is still
true into a variable called output okay
so now we've added an extra argument we
need to do something with that so after
we print out the screen we'll add a
couple extra lines
so if args output so if it's true then
we're going to open up a file so F
equals open and we'll just highlight it
to fit the nut G dot txt and we'll open
it up in a pending so it'll just keep
adding to the file and we're going to F
dot right and we're going to write the
string of results plus a backslash and
character to go down on your line okay
so we've added our if we can now save
this and we'll give it another shot
so we can now have a look at our help
and you can see we've got an extra
optional argument now which is the - o
or - - output which will output the
result to a file so let's give it a shot
we want to do fib and 10 and we're going
to do - OH
for output to file so we run that get
the output 10th Fibonacci number is 55
and if we have a look in the current
directory LS we have a Fibonacci txt so
if we open that up so M via boat not GT
XD we can have a look we have the number
55 that's working cool all right so
let's clear this up let's jump back over
to the slides mutually exclusive
arguments are available without pass
with the use of the group feature we can
create mutually exclusive groups
allowing only one option to be selected
but not both
or more but in this example we'll use
two it displays in the usage that the
options are mutually exclusive as well
as printing out an error telling the
user they can only pick one okay let's
modify our fib and PI again it will
still take the number to output it'll
still have an option for outputting to
fail but we'll have a mutually exclusive
group for either a verbose output or a
quiet output but not both
ugh paths will tell the user off for
trying to use both okay so let's jump
over and we'll add a group okay so we
want to open up our fee been okay
and now we're going to add a group so
just after our parser we're going to
create a group so let's call the
variable group and we'll make it equal
to pass up dot add underscore mutually
underscore exclusive and let's go up
group and now we've got a group that we
can use so now to that group we can add
arguments so group dot add underscore
argument
and we'll have a verbose output which
will have the shortcut V option this
will be a dash dash verbose and we're
going to have an action we're not going
to have any help for this so action
equals store oops
store underscore true okay now we're
going to add one more to our group so
group dot add underscore argument and
we're going to have a quiet so we'll do
dash Q now this is going to be the long
option - - quiet and it's action again
is going to be to store true so action
equals store underscore true alright so
we've created a group now we need to do
something with our verbose and quiet
variables so the verse is for a really
obvious output so it gives all the
details on how it got that result or
what's happening okay so our current
print statement is kind of the verbose
output it says what the input was and it
specifies that is the Fibonacci number
result so let's add an if hogs dot
verbose and this will be our print
statement okay
so let's add an else if now so Oh if
hogs dot quiet qu IET quiet we're going
to print out fib open brackets close
quotes plus the string of eggs num so
that's pretty much is going to look like
our function
Plus string closed rackets space equals
space closed chords plus the string of
result all right okay
and now we're going to use an else so if
they don't specify it's going to be
verbose or quiet oh woops sorry this is
going to be out else we are quiet we
just want to print out the number so
print result how else is going to be the
FIB function all right sorry about that
so we have if it's quiet we're just
going to print out the answer they don't
need to know what they input they
already know so with the else if they
don't specify they want it to be verbose
or quiet it will just print out the FIB
function and the result okay so let now
that we've done this let's save it and
we'll have a look at it so we try and
call it again without giving it any
information oops I've got an error in
the file whereabouts
oh I forgot my colon on the end of the
else all right save this and we try and
run it will get error too few arguments
because we haven't specified a num and
we can also see in the usage that we've
got a dash B with the or symbol dash Q
as options so if we try and run ten dash
B Q so for verbose and quiet we get
error argument quiet is not allowed with
argument verbose okay so let's do ten
again but this time we'll do it in
verbose and we get the tenth P bit
notchy number is 35 let's do it again
this time with quiet and we get 55 and
if we leave it out we get 50 10 equals
55 all right and we can have a look at
the help so - help and we'll see that we
have a lot more optional arguments now
have the verbose and quiet so cool so
why would we use this module well I'll
pass is a great way to streamline your
program for professional use it's easy
and comes with the standard comes with
standard with Python it saves you time
by constructing help and usage formats
the help and usage for the command-line
output and overall it allows us to make
more dynamic changes to our program our
programs operation by using simple
options in on execution some extra
things to note about our paths
unlike op pass High Pass does not
natively support callback functions
however you can create your own action
class that implements a function call
there are usually it's easier to and
less time-consuming digits here an if
statement to check if an option is if
there's an option and call the function
AG Pass also supports taking arguments
into lists this is done with the NRG
attribute on the add argument method you
can specify a number of arguments to be
expected or you can use the plus symbol
to specify that we don't know how many
there will be but we know that be at
least one just keep in mind that these
go into a Python list a full written
tutorial is available on each of our
paths features and can be found on the
Python Docs a link will be in the
district in the description I hope you
now feel confident enough to use ugh
pass in your programs to make it more
streamline and hopefully more dynamic
next we're going to cover regular
expressions thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>