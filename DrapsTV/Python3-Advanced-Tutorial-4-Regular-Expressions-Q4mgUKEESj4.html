<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python3 Advanced Tutorial 4 - Regular Expressions | Coder Coacher - Coaching Coders</title><meta content="Python3 Advanced Tutorial 4 - Regular Expressions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DrapsTV/">DrapsTV</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python3 Advanced Tutorial 4 - Regular Expressions</b></h2><h5 class="post__date">2015-02-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Q4mgUKEESj4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to Python 3 advanced for regular
expressions in this video we'll be
looking at what regular expressions are
how to construct simple patterns and how
to use those patterns in our Python
programs every video of all slideshows
and code available in the description so
what is a regular expression regular
expressions or regex for short is a
pattern matching language formalized by
Stephen Kleene in the 1950s with his
description of regular language these
expressions are used to search text to
find single words or words that follow a
set of rules today most programming
languages support regular expressions
and those that don't usually have a
library that can be used to implement
them an expression is built with the
string of characters they are built
using two types of characters meter
characters which have special meaning
and regular characters that have literal
meaning the special meaning characters
are things like square brackets and the
regular characters are things like the
letter A B or C it can be pretty simple
to pick up a basic regular expression
however some more advanced expressions
can be very hard to understand and
construct now won't go into too much
detail on how regular expressions work
because the algorithms are going out of
the scope of this series there is a few
different algorithms 3 I believe that
are used for regular expression
evaluation however the most common and
fastest is the DFA or deterministic
finite automaton algorithm if you like
maths feel free to look into the
mathematics behind this concept if
you're going for efficiency in your
program then it may be handy to know
that the DFA algorithm takes 0 2 to the
M time to construct the expression where
m is the length of the pattern but it
takes o n time to search when n is the
length of the string being searched here
we can see a few of the basic
metacharacters we can use in our regular
expressions the dot or period symbol is
used to match any single character so
for the example expression dot 80 would
match strings like cat hat Sat etc the
square brackets represent a single
character that is inside square brackets
so the expression open square brackets
c-h close square brackets 80 would match
the strings cat and hat but not sad the
square brackets with a carrot the
up-arrow thing will be a any single
character that is not in the brackets
so the expression open square brackets
carrot C close square brackets 80 would
match things like hat and sat but not
the word cat the carrot character will
only match if the matches at the start
of the string similar the dollar symbol
will only match if the matches at the
end of the string the parenthesis or
circle brackets will allow for our sub
expression to be used in the expression
and the star symbol will match a
preceding character 0 or more times for
example the expression C star will match
any string starting with C so cat coat
class etc okay so we have two base
methods to use our regular expressions
rhythm Python these are match and search
match will check to see if the
expression matches the entire string
that it's handed whereas search will
check to see if there is a match
anywhere inside the string it's
important to keep this in mind when
you're choosing which one to use now
let's write a small program to test that
we can get regular expressions working
in using match and search let's create
our reg test pie file okay
so I'll come over to Ubuntu and I'll
create the Reg test pie right so we want
to import regular expressions so import
re for regular expressions then we'll
define our main function
main okay now we need a a string to
search so we'll call it line and we'll
make line equal to I think I understand
regular expressions all right and we'll
close up that string and that's the one
we're going to search so first we'll use
the match method so I'm going to use
match result to hold the result of the
set that match and re dot
we're going to try and match the string
think inside line and we're going to use
two flags which I'll talk about a little
bit later so we're going to use re dot
capital m and then we're going to use
the pipe symbol or the or symbol which
is above the enter key if you hold down
shift and then we're going to do re dot
I for case-insensitive
alright so we've created a match and
we're going to do if match result so
there's any result at all we're going to
print match found
and we'll add on the match result dot
group now the group is just the the
answer that it found inside the results
okay now we're going to use else so if
there was no match we're going to print
no match was found all right we'll close
that off now we're going to use the
search method now so we'll do a search
result variable that's going to equal re
search this time and we're going to
search for think again inside line and
we're going to use REM pipe our e dot I
all right so that's going to search our
string for the word think so if search
result there's any results at all we're
going to print
search found and then we'll add on our
search result dot group else if there's
nothing found inside the string we're
going to print nothing found in search
all right all right out if I'm just
going to our name on this ground score
is equal to I'm just going to score main
I'm just going to score and we're going
to run main all right look put in the
wrong quote okay I will save this so
right quit now let's give it a shot so
Python 3 reg test dot play now you'll
notice we get no match was found and
then we get search found think and
that's because the word think did not
match the whole string so there's no
match found
however our search did come up with the
results think as the think is inside the
string it's the second word cool okay so
now we have tested and have our regular
expressions working let's make a more
useful program to use our new knowledge
will create a command line program that
will look up a word in a text file and
print out the line it was in it will
take two arguments one the word we are
searching for and the second the text
file to search through so let's create
our lookup pie file okay
so we'll come back over to Ubuntu and
then look up dot PI and we're going to
import our regular expressions again and
we'll import arc pass so we can pass our
arguments nice and easy and we'll define
our main and inside main we're going to
create our parser so parser equals arc
pass
. argument parser and now we're going to
add our argument so parser dot ad
underscore argument and our first
positional argument is going to be the
word we want to search for and our help
for that is going to equal let's say
specify word to search for and we'll
close off those quotes and close off the
argument all right add another argument
so Parsa dot add underscore argument and
we're going to use the second positional
argument of F name for the file name and
the help for this one will be specify
file to search all right set our
arguments and let's pass our eggs into a
Nog's variable x equals parser dot pass
let's go eggs all right so we've got our
arguments in we're ready to you start
searching so our such file variable it's
going to equal open we're going to open
up the eggs dot F name so the file name
that wished open and we'll initialize a
variable called line num I'll make that
zero to start and that's going to count
what line we're up to okay so for line
in search file dot read lines we're
going to read every single line out
we're going to line equals line strip
and we're going to strip any backslash N
or backslash R characters all right and
that's inside quotes so we're going to
strip backslash n backslash R and now
we're going to increase the line line
num so
I know plus equals one and now we're
going to search so our search result is
equal to re search and we're going to
search for args dot word inside the line
and we're going to use REM and pipe or
our e dot I for case-insensitive all
right so acting a search now if there's
a result so if search result then we're
going to print out the string of line
num plus in quotes a colon space close
quotes plus the rest of the line all
right so that's going to print out the
line that we found offset found a result
on let's write out if name equals means
so if I'm just going to score name let's
go in school is equal to let's go in
school main let's go to school then
we're going to run main all right so
it's right quit and save this and let's
give it a shot so our Python three look
up dot pi and let's search let's
actually search the file we just made we
just made look up to PI so we'll search
for the word main because I know that
means in there a couple of times we use
it to define the main function and we
check to see if main is currently being
run and then we run the main function so
I'm going to search the main and in the
file look up PI so it's going to search
itself and we enter and we found online
for we have def main on line 20 we found
if name equals main and on line 21 we
run the main function so that's the
three lines the word main occurs on cool
so hopefully that all worked fine and
now we have a program we can search
x-files with alright you may have
noticed that at the end of our match in
search methods we had a field with
something like REM line
REI these are called flags we can use
flags to alter how the regular
expression is run this is useful to make
our expression smaller and easier to use
you may not always want to use them
however especially if your expression is
designed to be really strict the flags
we used earlier was insensitive case
search so even if our word had capitals
in it it would still find it and the new
line separator that allows the carrot
and dollar to match at the end and start
of the line rather than just at the
start of the string all right
search and replace is also a handy
feature to use sometimes Python
implements this with the sub method
short for substitute the sub method
takes a pattern the replacement text and
the string to replace in there is also
the optional parameter to set the max
amount of replacements to make by
default it's all found instances of the
matching text do you think you could
alter the look at program to support
replacing so why should we use regular
expressions well because some time in
your programming career you'll have to
search through text or strings there is
no point reinventing the wheel regular
expressions run quite efficiently and
are about as good as it gets at the
moment for searching strings most
programming languages use the same
standard regular language so
understanding what patterns do and how
they are constructed will prove useful
for reading expressions as well an extra
thing to note about regular expressions
is that the time to evaluate a pattern
the back end bit before it can actually
search takes a longer time the more
characters in the pattern so if you're
planning on using the same expression
more than once
I suggest compiling the pattern first
and using that object for matching and
searching for example my reg equals re
compile and then our pattern then the
result will equal my reg match the
string I hope you now feel confident
with how to go about using regular
expressions in your Python programs next
we're going to be covering threading
don't forget to subscribe thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>