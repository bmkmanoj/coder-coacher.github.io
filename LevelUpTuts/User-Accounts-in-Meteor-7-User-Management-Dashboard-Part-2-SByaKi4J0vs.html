<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>User Accounts in Meteor #7 - User Management Dashboard Part 2 | Coder Coacher - Coaching Coders</title><meta content="User Accounts in Meteor #7 - User Management Dashboard Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>User Accounts in Meteor #7 - User Management Dashboard Part 2</b></h2><h5 class="post__date">2016-04-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SByaKi4J0vs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey whats up this is scott with level
tutorials and in this video we're going
to continue our work on our user
dashboard by actually building at a
table and working with the data in our
blaze templates so let's get started
right now cool so now let's go ahead and
actually build our table up so let's
come here and we have all of our users
which are going to be accessed with our
all users so we can now have a new
helper which is going to be template dot
users helpers and now inside of here it
accepts an object and we have a users
and users can be equal to a function
where we return user meteor dot users
dot find and we're going to go ahead and
grab all of them actually don't need
those in here okay so now we're going to
grab all of the users they're going to
be set to users and we can now should
have access to them inside of our
template here where we can then say
pound each users and we can end that
like this we could say each here now
let's just go ahead and help put a span
with the users names what we're looking
for is profile that first name so we can
say profile dot first name so now we're
going to get all of the users first
names out here and obviously that needs
to be within curly brackets here and now
we should have access to all of the
users first names you remember and as
you can see I set all of them to Scott
so that just says Scott now this isn't
great information but it's a good start
now let's go ahead and see if I can grab
an email now because the emails here
sort of hard to get at you know we have
emails address let's go ahead and modify
our helper in users GS and let's have a
new helper and it can just be comma user
email now this will show you some of the
power of blaze here so we can say user
email is going to be a function
and we're going to return and now we get
to use this dot emails and then we can
grab the first email so we're using this
remember it's an array we can get the
first property of an array is by with
the bracket 0 and then say address so we
have this user email helper is going to
look at the current email and grab the
address from the first in the array we
can now use that in here by let's just
do some brackets here I'm going to be
cleaning this HTML up too so don't worry
we have user H we have now have a user
email and if we come back get rid of
this we can see our user names and
emails next to each other now this is
great some of our users don't have names
and that's all right let's go ahead and
actually make a table now so we can have
before this each a table and we can have
a TR and then actually let me use Emmett
for this i'm going to say TR and inside
of that we're going to have a th and
we're going to have let's say what kind
of information do we want out of these
users we could grab their email we could
grab their ID because that's going to be
useful to us as an admin we could get
their first name we might want to have
their roles at some point we can maybe
just check if they're an admin and maybe
you want their created at as well so we
have created at will have their admin
will have created at will have their
admin rights will have their first name
will have their email and their ID so
that's five things we can say th times
five and let's go ahead we can say ID
email first name created at and then we
can lastly have admin so this is going
to actually sort of be a question here
it's going to just be a yes or no or
true or false so now what we want to do
is come in here into our loop and have a
TR
and close that TR out okay the first one
is going to be the ID so TD and we can
have underscore ID okay we can have
another TD actually want for more TD so
I can just do TD times for tab cool now
we can grab the email so if you remember
we had that with the user email helper
that we made we can grab the profile
that first name we can get the created a
date which is going to be if we scroll
down created at now we can make this a
lot prettier and we will then the
current date we're going to get it's
actually get rid of the spam wall or
edit and lastly we can actually use our
helper that we head up in here the is
admin so let's actually grab this is
enroll admin and paste this in here
within curly brackets so this is going
to give us a true or false if they're an
admin or not let's go ahead and save
this and let's head back to our page and
check out the results so you can see we
have a table although ugly I'll be
updating the Styles to make this table
look a little bit better we have all the
information that we could possibly want
from users here we have their ID email
first name it created at however we
definitely have a problem here with this
admin let's go ahead and create a helper
for the admin excel so we don't have to
rely on this Israel admin helper because
this is clearly not working in this
situation let's go ahead and make our
own and just say is admin save this head
to users and let's make in we have to
have a comma here because of course this
is an object is admin function
and now we want to return and we'll use
our is an admin function we can grab
that from here on our publish which was
roles that user is enroll paste it in
here and this is going to say it's going
to return if the user is enroll however
right now it's saying this dot user ID
what we wanted to say is this dot
underscore ID because in the published
function this dot user ID refers to the
current user and that was the problem
with the built-in helper as well the
helper was checking if the current user
was an admin so obviously it's going to
say yes to all of them in this
particular example we wanted to check
for each line item so we're going to
pass in the current user that it's
looping over and then grab their ID and
then check out there an admin super cool
so let's go ahead and we can now see
that only one of these schoo at gmail
com which is the currently logged in
user is set to an admin the other ones
don't have anything so we could always
make this a little bit nicer by turning
this into a ternary where we could say ?
admin and then or we could have it be
normal okay so now it's going to check
and if it's true it's going to output
admin otherwise they're just a normal
user and now we can see Edmund straight
normals cool so we've gotten some work
here we're building this table out it's
looking a little bit nicer I'm going to
come back in the next video with some
styles for this table that we can drop
in here and make this look quite a bit
nicer and then we're going to get into
some detailed pages where you can
actually modify and edit the users on
your site as always this is scott with
level up tutorials thank you for
watching if you found this video useful
head over to start at level up tutorials
com and see what's available for sale
I've made over 800 free youtube tutorial
videos I plan on doing at least two to
three hundred this year alone so if you
want to help support the creation of
free tutorials and keep as many of them
as free as possible head over to start
at level up to
Orioles calm and purchase something to
help support the creation of the free
videos thanks so much for watching and
I'll see in the next one bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>