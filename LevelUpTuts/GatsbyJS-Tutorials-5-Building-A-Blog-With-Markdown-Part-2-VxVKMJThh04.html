<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GatsbyJS Tutorials #5 - Building A Blog With Markdown Part 2 | Coder Coacher - Coaching Coders</title><meta content="GatsbyJS Tutorials #5 - Building A Blog With Markdown Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>GatsbyJS Tutorials #5 - Building A Blog With Markdown Part 2</b></h2><h5 class="post__date">2017-08-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VxVKMJThh04" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so we have our query we have our
template we have our markdown file what
are some of the things left to do
well we'll actually need to do some very
important things right we've defined our
posts we've told gatsby where to look
for posts but we haven't registered
these posts right Gatsby doesn't know
that these posts should be pages where I
default Gatsby's gonna know that our
pages inside of our pages folder each of
these components need to be pages
however it needs to be told here what
exactly will be pages outside of that so
we need to make a new file at the root
of our project the very root of our
project and it's going to be gets be -
gets B - node that Jas now the naming
here is important it's looking for this
file particularly Gatsby - node j s is
allows you to have some configuration
here so we'll be using what's called a
the-- create pages api from gatsby you
can find the create pages api within
their documentation and we can get
started simply by just requiring path so
we can say const path is equal to
require path like that save this type
next we want to export create pages now
next we want to create our pages and we
can do that with exports dot create
pages now create pages can be equal to
and this is going to be an arrow
function which is accepting two
arguments inside of brackets those two
arguments are going to be bound action
creators okay this bound action creators
allows you to use gatsby's actions
essentially gets me users redux to
manage it state so bound
creators basically just allow you to use
the action creators of gatsby and then
we can have graph QL inside of this
object next we need to have an arrow
because it's an arrow function and then
our brackets instead of here we're going
to pull out our create page action from
a bound action creators you remember the
syntax from earlier where we have
constant and we're defining create page
which is from the API create page is
pulled out of bound action creators okay
so we're defining create page which was
actually a child of bound action for it
which was actually a property of bound
action creators so although there's
words like bound action creators and
stuff like that here we're not doing
anything really crazy we're simply just
accessing the create pages from the API
here now we also want to bring in our
template so we can say Const post
template is equal to and then we're
going to use path path dot resolve and
this is going to simply just find our
file so our file is located in the
source directory SRC templates okay and
then if you remember we had it simply as
post dot J s so post template is now
going to be our file that we created to
bring in our various post okay next we
want to query for all of the blog posts
and then we're going to basically any
sort of blog post that we find we're
going to create a page for it this makes
gatsby know how many pages you have
where they are what their paths are and
then when we hit those paths it's then
going to know what template to use that
template is then going to query the
markdown file itself pulling all the
information and we're going to be
cruising okay
so we're going to have this return
graph QL and graph QL if you remember we
have a function here and inside of this
function we're going to have back tics
and curly brackets once more so your
code should look something like this
right now so your code should look
something like this right now and inside
of here we're going to have our query
we're going to be looking for all mark
down remark paid this all markdown
remark this comes from our Gatsby plugin
by the way if you're wondering where the
heck this is coming from and then a
curly brackets right so inside of here I
should mention that inside of this all
markdown remark parentheses is where you
would do things like give it sorting or
limiting and stuff like that we're not
covering any of that just yet in this
video so we're just trying to get our
posts out now inside of our brackets
here now we can access all of our
information here simply by saying edges
right this is part of our query this is
the info or pulling out and then node
and then we're going to be grabbing
things like the HTML
the ID which is actually something
generated for us by Gatsby plugin and
remarked so we don't have to worry about
having an idea it creates one for us and
then we can say the front matter
brackets and we can give this something
like our path and title the stuff that
we want right this is all the info that
we want out of here and then we're gonna
wrap this all off with some error
checking here we can scroll down to the
end of our parentheses right here and we
can have another space and do dot then
to resolve here and we can get our
result we can have an arrow function
right here and just say if res dot
errors and we can return our premise dot
reject and then the res dot errors okay
just some little error checking just in
case for some reason stuff isn't working
now let's go ahead and head to our I
term here you can see well ok it was a
little mad for some things up here but
let's go ahead and make sure that
everything is totally working here at
this point I'm gonna head to my site and
give it a refresh and as you can see
it's still not finding any of this stuff
man why is it not finding this stuff let
me tell you why not because so far what
we've done is we've extracted create
pages and we haven't used it yet and
we've extracted the template and we
haven't used it yet and we've ran a
query to get all of our markdown files
and we haven't used them yet okay so
where might you be thinking we're going
here well we're heading to our promise
resolution here and if there are no
errors in our promise let's actually
make this up top here so it's easier to
see there's no errors in our promise
what we want to go ahead and do is get
the res data dot all mark down remark
dot edges basically the edge is the node
itself right so by getting all
markdown remark edges we're getting some
of that useful data that we're going to
need to register our page and then since
this is simply just an array here we
want to iterate it over it with a for
each okay for each and inside of for
each we're going to have our function in
here so this is simply just going to be
our arrow function what's happening on
each iteration of this for each and
we're grabbing the node wrap this up
with our standard arrow function here if
you're not used to this for each array
syntax this is pretty much how it goes
the only weirdness here is that we have
node as an object in here is not that
weird so as you can see
make sure your parentheses and brackets
are all lined up we got to to bracket we
got to parenthesis bracket node bracket
parentheses arrow function brackets
parenthesis if you're using any sort of
linting you'll catch a few messed
anything up or fix it for you hopefully
so what we're doing is we're iterating
over each page here each individual page
that it's found via our query and now we
want to register those as pages so that
gatsby knows they even exist right so
we're going to say create page which is
what we pulled out of the Gatsby API up
top and we're going to pass this in an
object and inside of this object is some
information we're going to give a page
with path equal to node dot front matter
dot path okay our path was defined in
the frontmatter
and we're setting the path of the actual
page via what we have in the text in our
markdown file next we have our component
which is going to be what this is
actually loaded into is going to be into
if top our post
template okay so our component is going
to be our post template now next we
could pass in any additional data we
wanted to use in context but I don't
know if we need to now at this point you
might be thinking what is there left to
do upon refreshing or getting a big old
404 no worries let's head to our
terminal
ctrl C and rerun gatsby develop now you
won't have to rerun gatsby develop each
time here that's not something that is
going to be happening I'm just making
sure I have no errors up top here let's
scroll up know if you have a keen eye
you would have noticed my mistake here I
am new to graph QL as are most people
probably at the time of recording of
this video so I erroneously as you can
see luckily the error log here is
letting me know exactly where I messed
up I erroneously had these parentheses
on this all mark down remark query when
I wasn't actually sorting or anything if
you caught that and we're watching this
and like man why is he doing that
good on you and if you didn't this is a
learning experience for us both so as
you can see I don't want any sorting I
don't want anything I can omit those
entirely and otherwise this thing's
gonna break
okay so just to be sure let's go ahead
and stop our compiler and let's start it
with gets beat develop all good no
errors if you're getting errors please
fix them let's head to our site and
check it out our first blog post man
this is great now what's cool is that
all the hard work is done up front you
know we can just simply add blog posts
and they're gonna show up as we you know
as we add them well the next thing we
want to do is actually bring in our
markdown
right because right now we're just
bringing in just straight-up
title not cool let's bring in our
markdown so so let's go ahead and bring
in our markdown and we can do that in
our template so let's head back to post
that Jas and I'm just going to paste in
here inside of a div and inside of this
well I'm sorry I'm not going to have a
closing out div I'm going to have a div
that's self closing and I'm going to
give this a dangerously set inner HTML
if you have real
stuff installed for your text editor
that should autocomplete for you
dangerously set innerhtml and this is
going to be equal to double brackets
underscore underscore HTML colon post
dot HTML okay so we're bringing out the
I should mention that this underscore
underscore all this stuff is react stuff
so if you haven't seen this this is in
the react documentation now we're
bringing our post and getting the HTML
just what we brought in from our query
so save this head to our post and we get
our hello now obviously we've made that
an h1 let's go ahead and modify that
post we can just have to simply be hello
this is our first blog post okay super
cool lovely so we just wrote this
awesome blog post it's going to
statically generate for us all that good
stuff that gets B's already doing for us
and it's pulling in our data from these
markdown files now if we want to keep
going and make a second blog post we
could do that just simply by creating a
new folder here and creating a new blog
post with all of the information that we
want so let's reiterate everything we
did and I'm gonna give you a challenge
in between this video in next video
because this is a long video but all of
the hard work is done now for the most
part and you should have a greater
understanding of both graph QL even
though we didn't go over graph QL
concepts here you used it now and you
should have a great understanding about
what's happening so let's do a total
recap recap here okay first thing we did
we imported our plugins we imported a
source plugin which was our file system
and we imported a transformer which was
our remark we then started to use those
in our Gatsby dot config where we said
hey just use transformer remark nothing
fancy and hey use Gatsby source file
system with nothing super fancy but with
a path that says hey get your stuff from
here okay now that makes the Gatsby
filesystem sort of
we're of these pages and we can start to
query on them okay so the next thing
that's most important is this gets B -
note where we're actually grabbing all
of our pages and using the create page
and reason create page function from the
API and then we're bringing in our post
template which we also created we're
running a query to grab every single one
of our posts right hey this is grabbing
all of our posts and then having it
available as res dot data res data all
markdown remark dot edges is an array of
all of our pages in which we're
iterating over and we're creating them
with a path and a component which is our
template now in our individual template
we're creating a query we're grabbing
blog posts by path we're grabbing the
path in here directly and we're finding
a particular markdown file where the
formatter dot path is equal to dollar
sign path which we've brought in here
and then we're using graph QL to say hey
we want the HTML as well as inside of
the formatter the path and title is next
we simply just have a react component
which is a functional stateless
component here in which we're pulling
out post from data markdown remark and
returning essentially a div with our
post upfront meta title I think I might
have said formatter a second ago I
definitely meant to say frontmatter
that's a common thing that I've been
doing and then div dangerously intercept
HTML with our post dot HTML and that's
it folks that's absolutely it ok so here
is my challenge to you I want you to
take a page any of our pages index dot
HTML index whatever so without hitting
up the gatsby ducks attempt to create a
listing page on your index file that
will grab all of the different pages and
then create a listing of all of the
different pages for you and there's a
way to do an excerpt too but we haven't
talked about that so I'm going to be
talking
about that in the next video so yeah as
a challenge go ahead and try to add a
new query to your index file which will
bring in all the posts and loop over
them and display them with a link to
each individual post if that seems way
over your head after watching this video
watch this video again and try it I
promise you try it there's no harm there
in doing that okay so as you can see
here everything is working totally fine
my challenge to you is to get our index
up and running if you cannot get it fear
not I will be doing the index in the
next video that will be the topic and
then we're gonna move on to some other
stuff like maybe some additional
plug-ins for markdown where we can work
with images and stuff like that maybe
some of the features of markdown remark
and then we're gonna be maybe bringing
in some other forms of data some
wordpress or content folder whatever
people are looking for the most right if
if you're dying to see a wordpress video
i'm happy to do that in the near future
so as always this is scott with level up
tutorials if you want to help support
these free tutorials like this one right
here that is super long right now if you
want to help support these tutorials
head to level up tutorials comm forward
slash store you can become a pro the
price on that pro subscription is going
up this month I keep saying that I'm
trying to finish up my new shopping cart
that I'm working on so when that is
finished the price will be going up and
you will forever miss this cheaper price
so head over to level up tutorials com
become a pro lock-in at the cheap price
where you can keep that forever until
you cancel or you're going to be stuck
with the new more expensive price in the
future as I continue to add tons and
tons and tons and tons of more premium
content so thank you so much for
watching leave a comment of the video
hit me up at level up tutorials com
everywhere our level up Tut's whatever
thanks so much for watching and I'll see
in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>