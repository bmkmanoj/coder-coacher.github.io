<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Drupal 7 Tutorials #45 - How To Move Your Drupal Site Off Your Localhost | Coder Coacher - Coaching Coders</title><meta content="Drupal 7 Tutorials #45 - How To Move Your Drupal Site Off Your Localhost - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Drupal 7 Tutorials #45 - How To Move Your Drupal Site Off Your Localhost</b></h2><h5 class="post__date">2012-07-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fWy8clD4vL8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up this is Scott with level
up tuts and today I'm going to show you
how to move your Drupal site off of your
localhost and onto your server my host
that I'm using is media temple and I
have a dedicated virtual however as long
as you have SSH access and you can
create a database then this tutorial
will suit you fine okay so you can
follow along as much as you can and it
might be a little bit different in your
host the way it looks but the concepts
are all going to be the same so to move
your site we have to do two things we
have to move the database and we have to
move the files okay
so um the first of which we want to
accomplish by exporting the database
from your I'm using mam so your PHP
myadmin your local PHP myadmin and the
second thing we're going to want to
bundle up our files we're going to do it
in a tar gzip and we're going to throw
it up onto our server we're going to
uncompress it and then we have to just
change a couple of files okay and we
also have to import the database onto
our server I'll also be showing you how
to create the database on your server as
well okay so first thing we want to do
actually before we move anything is you
want to clear the cache on your site as
sometimes with these Drupal sites if
they built up a large cache when you go
to import the database the database
might be a little too large you might
get some problems so let's clear the
cache first okay now we're going to go
to your map and then find the database
that you're using this one I'm using is
d7 underscore St and I'm going to click
export here at the top and then I want
to name this something I'm going to say
d7 st underscore July 18th just so I can
keep track of which one it is and I'm
going to gzip this just compress it nice
and good Clint we're going to click go
and it's just going to download this to
your downloads folder which I have off
screen here okay so the next thing we
want to do is we want to compress our
files and so I'm going to do that using
terminal I'm using I term here and we're
just going to change directory into the
directory where site is located so mines
insights and it's just in there if I do
a you know list here you can see a whole
bunch of these tired ripped our files
but the folder I'm looking for is st
okay so now I'm going to want to
compress this inside so one issue that
you may or may not have is sometimes in
Mac OS X I don't really know what causes
this if you do you you know feel free to
enlighten me I've been trying to you
know get this working a little bit
better like it these looks like a dot
underscore and then dot files they're
supposed to be like hidden files but
when I tar tar these up sometimes these
get included however I have a quick fix
here I don't know if this is the best
solution for this but when we tar here
to compress our files I'm just going to
add and exclude and we're going to
exclude any file that looks like that so
to compress this you want to do your tar
command which is going to be tar ta our
space and then - and we're going to do C
Z V F and then we're going to name the
file so I'll call this st and then july
18th and then you do dot tgz okay and
then inner native space and this is
where you pick the folder that you want
so i'm going to do st which is the
folder that i want to tar and then now
i'm going to add this exclude statement
so that it excludes those files I'm
going to do - - and then exclude equals
and then quote period underscore and
then I'm going to start at so that's a
wild-card it's basically saying any file
with this that starts with this dot
underscores it going to ignore and then
another quote we're going to enter and
it's going to go through and compress
all our files okay so you can look at a
go so once this is done using your
favorite FTP application you can go
ahead and upload this to your server
I'll be showing that in just one second
okay cool so it's done with that so
here's my FTP
and here's where our target is file is
located I'm just going to grab this and
throw it right up on my server okay so
while this is uploading which may take a
second you know you could actually
probably drag and drop just your folder
up here like I could just do this but
you know this will take forever this
compressed file is going to be a lot
faster and it's probably more and just
secure for your your files I probably
would always do the tar so now I'm going
to go to my host and I'm going to log in
so give me one second mi login to my
host and get to my server okay so now
I'm in my back-end here of course yours
is could look very different but what
we're going to do here is I'm going to
go to websites and domains and then I'm
going to create a database so the first
thing you want to actually look to first
off let's let's create a sub domain and
let's create a new one let's create a
new sub domain here I'm just going to
call this test dot and then my URL and
then the document root will just be st
because this is what our folder is named
before so we want this domain to point
to this folder name I'm gonna click OK
and it's going to create this sub domain
if you have you know you're doing this
on your primary domain which this is not
for me it's going to be a little bit
different okay so in click databases and
in here I'm going to add a new database
so I'm going to add a new database and
I'm going to give this database a name
so this database on our old server was
d7 underscore st if we keep that the
same that's one less thing we have to
worry about getting that stub and we
want to be in my sequel ok we'll click
OK oh it's I'm sorry it's giving me a
clash because I already have this
database in here but I want to show you
how to do this fresh so I'll call this
d7 underscore st 2 just so it's
different okay click OK now you need to
add a new database user when I add a new
database user name and this must be
unique
so this is going to be Edmond st2
because that's easy to remember I'm
actually going to copy this I don't
forget it later and the new password I'm
going to make it something easy I can
remember and it's just going to be test
that way you know L will test test one
okay of course I recommend using a
secure password for this but this is a
you know totally you know insecure
example and this is I'm going to be
deleting this database the moment that I
finish this tutorial anyways so cool so
now we have our database created we have
our user created now we need to upload
that previous database into our database
my click web admin so this is your PHP
myadmin
if you've gotten here from a different
way that's fine as long as you're here
and you have a database to go into let's
go to databases and you'll see our st2
database unless like that and now that
we're inside of that database and the
click import we're going to choose a
file and it's going to be our database
that we exported and open that click go
it's going to import this database
okay now there now that our database has
been imported all we have to do is
uncompress our files so if you remember
we upload our files here and here it is
ste July 18th I'm now going to SSH into
my server and I'm going to browse
through those files if you do not have
SSH access I suggest that you you know
contact your host and find out how you
can get SSH access or follow some
tutorial for your particular host if
you're familiar with SSH then great you
could SSH into your server and now I'm
going to browse to where my files are
our WWB hosts like I said this could all
be very different on your particular
host if you're using a media temple
dedicated virtual this is what you're
going to be doing and we're going to see
Dee into my main folder okay if I see
everything in here here's our tar file
which is our St July 18th and now if I
want to decompress this all I have to do
is tar - X Z V F and then our name of
our tard okay and I go it's going to
uncompress this cool how it looks like
it didn't exclude these files yeah I'm
still looking on a better switch for
that and I don't know if it happens to
everybody it seems like it you know seen
a little bit about it maybe like I said
if you have any knowledge about why this
is happening or what you can do to fix
it let me know because you know I don't
think it's happening to everybody okay
so let me refresh this and here's our
folder st so now we have that test
subdomain that's going to be pointing to
this folder and we have a database so
let's go to this folder and see what
happens this is going to be tests
Cottle's key calm
okay we're going to get a drupal error
this is a pretty common error if you're
seeing this
access denied for user root at localhost
using password yes this is because we
have not told Drupal the database
credentials or even what database to
look at so let's come in here and let's
go to your favorite ftp app and in your
site
we're going to go to let's see sites and
then default and then settings dot PHP
I'm going to open this with my favorite
text editor sublime text to okay now
that you're in your settings file we
have to scroll down here to this line
right here this is where your site is
getting its database information so if
you remember our database name was d7
underscore s t2 so whatever you name it
there our user name was Edmund s t2 and
our password that was not our TC as we
had it before however it was test one
okay so let's save this and let's go
back to our browser and get that
notification that it's uploaded you can
refresh this and once you're done here
refreshing here is your site so now I
can log in here as normal just go to
slash user and here's my account
enter my password and I'm logged in
let's have it save my password and
here's my site of course this is not my
my live site this is just this test one
here and if we go to configuration here
you might see one or more problems are
detected with your Drupal installation
okay
go to status report and you're going to
see that there's some things that are
need to be configured so it's going to
say that I have a Drupal core update
that's fine I can update that a little
bit it's also saying I can't find this
directory files it's not writable so
what you're going to have to do is come
in and remake that file directory files
going to need to make this writable so
I'm going to go here and I'm going to
change the permissions I'm going to make
this seven seven seven apply I'm just
going to apply to enclosed because the
folders that are in here just contain
your image cache files and stuff like
that
nothing really a confidential in here
for me if you have a certain files you
want people to get access to you can
configure differently ok so let's click
on this file settings page to fix that
ok if you see here this is in red this
is your temporary directory files what
you can do is just delete this when you
save it it's going to automatically
configure that for you so we'll save
this now everything is green nice and
good let's go back to our configuration
let's click the status report again and
see what else is wrong ok
so it's now saying Drupal core status ok
that's fine this is just normal I can
update core later flex slider must be ok
so they're saying there's an incorrect
version of flex lider
and that's fine I can fix that later too
nothing really crucial here and saying
there's updates to some modules great
well that is a successful let me clear
this cache and come to our site and you
want to click around here to make sure
everything is all good but you know for
the most part that's it ok so just
remember you got to take your files take
your database and put them both up and
then you have to connect
and reconnect them okay so here's a site
working and I have successfully
transferred my site to a new location
and the process for this will be the
same whether you're moving it off the
server to local local the server pretty
much anywhere you want to move it so if
you have any questions or comments
please leave a comment the video below
if you know how to get rid of that pesky
you know dot underscore thing I'm having
that you know leave a comment that would
be super helpful but yeah so this is how
you do it
once again this is Scott with level up
tuts and thanks for watching but</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>