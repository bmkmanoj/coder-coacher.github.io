<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Meteor &amp; React For Everyone #11 - Updating &amp; Removing Our Data | Coder Coacher - Coaching Coders</title><meta content="Meteor &amp; React For Everyone #11 - Updating &amp; Removing Our Data - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Meteor &amp; React For Everyone #11 - Updating &amp; Removing Our Data</b></h2><h5 class="post__date">2016-04-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/J6u6JhaKboI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey whats up this is scott with level up
tutorials and in this video we're
actually going to be able to update and
remove records that we created past a
couple of videos so let's it started now
so in this video we're going to cover
updating and deleting our resolutions so
as you can see we really don't have a
ton going on here there's just a sort of
list right i mean if you're having a
resolution you should be able to say if
you did it or not and for instance we
have this one that's just completely
blank we should be able to delete this
without having to go actually access our
database record so the first thing we
want to do is we want to build one an
input checkbox to be able to complete
this or not complete this and we want to
have some sort of a button to delete
this so let's do the cool thing first
and let's make a checkbox so let's come
to our resolution single our individual
resolution before this was just a list
item with text now it's going to be a
list item with text and an input box so
we can have an input and it's going to
be a type is equal to check box and now
we're going to have this be read-only
now you might be wondering why is this
read-only well i'm going to show you so
this is going to be read only true then
we can have this checked is going to be
equal to and then we can pass it in you
probably guessed it that this dot
resolution complete so we can pass it in
here so this dot props that resolution
complete and now we can have this be an
on-click function now we can say on
click equals and then we're going to
have this be a function that does not
yet exist in our class here of method
here we we can say this dot toggle
checked and now we can dot find this to
make sure that this has the correct this
inside of it now let's go ahead and
finish off this element with a forward
slash and a bracket go ahead and make
this toggle checked up here we can say
toggle checked with parentheses and
brackets
we can inside of here we can just
console dot log this cool so let's go
ahead and check this out we can refresh
this and hopefully see a council log
whenever we click one of these
checkboxes that of which we can and
inside of here let's check out what
exists do you remember we had refs let's
actually see what happens when we click
props now because each of these is an
individual resolution single this is
referring to this particular resolution
single so we have options to access
props resolution and then we have the
entire object such as the ID whether
it's completed at when it was created we
have basically this text value here
which is the actual text for it so let's
go ahead and write a new meteor method
so I'm going to head to my methods and
we're going to have a new method so
because meteor methods is an object when
you do comma and have a new method that
method will be toggle resolution can be
a toggle resolution and inside of here
we need to accept an ID so we're going
to be taking in the current ID and we're
going to be changing the value of it now
in addition to the ID we also need the
current completed the status so we can
just say status ok whether it's been
completed or not now inside of here
let's actually do our database call
where we're going to say resolutions
remember because that's our database
collection dot update so this is an
update command and here we can just
simply pass in the idea as ID so by
passing in and up with anna Mongo update
to say update here's the idea and then
comma and here's an object of what we
want to update now i can use dollar sign
set colon and then have an object of the
actual thing we want to set which the
field in the object is complete
so you remember we had that on
resolution single complete and we want
to have this be equaling the status but
the opposite of the current status so
what this is going to do is if it's
already set to true then this is going
to set this to false and it's going to
update this record in the database so we
now have this method that we can call
all it needs is an ID and status so
let's come in here and let's head to our
resolution single and scroll up where we
had this council log this and you
remember we access the properties in
here from this props resolution ID so
let's go ahead and do a meteor call
where we're going to be calling the
toggle resolution method comma and then
now we need to pass it if you remember
the ID first then the status so we can
pass it the ID first simply by saying
this props dot resolution dot underscore
ID comma and we can pass it in the
status by setting this dot props dot
resolution dot complete ok and now let's
have a semicolon at the end of that ok
so now check it out what's going to
happen is when we click this toggle it's
going to hit this function it's going to
pass in the ID and the status it's going
to come to this method it's going to
update our resolution with that ID to
the opposite status and what's so great
about all of this is these changes
happen in the database but without us
having to do anything else even though
this is set to read only this is going
to be completely updated for us so check
it out it's going to act and function
like a normal check box we check it it's
set to true false true false whatever
all of these the text updates instantly
the
check box actually function functions
even though it's set to read only and
more importantly it's saving all of this
to the database if we head to our
resolutions we can actually see these
are being tackled as true in the
database itself so this is no front end
change this is a site-wide change
front-end back-end and we didn't have to
tell anything to update this is awesome
cool so this is how we can update a
record let's go ahead and write our
deleting because that's also important
so we have our input now I'm going to
get rid of this this complete only to
string we don't need it right now and
I'm going to add a button now this
button is just going to be a delete
button I can say button and it's going
to have a class name of bt bt n hyphen
cancel and just like our input i'm going
to give this an on-click so on click
this is going to run a method here and
that's going to be this dot delete
resolution that bind and then this now
let's go ahead and finish it up finish
this off here and I'm just going to have
an an ampersand times like that needs an
s times you'll see why in a second if
you don't already know and we can have
forward slash button because we need to
close this element off so we've now just
created a button which is just going to
have an X in the middle and it's going
to run this delete resolution but we
haven't created delete resolution so
let's go ahead i'm just going to
straight up copy this toggle checked and
we're going to say delete resolution ok
and this is going to now call a method
called delete resolution that doesn't
exist the only thing delete resolution
needs though is this dot props that
resolution ID so let's go ahead and get
rid of this completed one right over
here
okay so your meteor call should look
like this meteor call delete resolution
this stop props that resolution
underscore ID okay so last time we wrote
the method first this time we wrote the
components method and now we need to
write the meteor method let's actually
just check our site really quick to make
sure everything looks fine we have this
X button that doesn't really show up
until you highlight over it but it their
sort of a faint version of it they're
super cool okay obviously when you click
this it's going to give us an issue
saying hey can't find this method
doesn't exist so we can't do anything
with it so let's go ahead and write our
meteor method for deleting our
resolution let me copy this and once
again I'm going to add a comma here and
say delete resolution in parentheses
we're going to be just looking for an ID
and now we can write our delete from the
database simply by just saying
resolutions dot remove and then passing
in the ID so it's going to look at the
ID and say hey get out of here man we
don't want you okay so everything should
be all ready we have the Kliq the Kliq
function is going to hit this this is
going to hit this this is going to hit
this and it's going to delete our record
from the database and instantly remove
it from our view all over so let's get
rid of this one that's blank first it's
gone gone forever actually and hello and
get rid of this hello because those
aren't really resolution see all these
things right here now these are
resolutions okay cool so we're now able
to toggle a resolution as complete or
incomplete we're able to delete a
resolution and it all happens in real
time without us to having to do anything
updating across the database and the
front end of the site super awesome cool
so you now know how to update and remove
records and all we did it's the exact
same as it would be in at normal meteor
the only thing that's different is
writing this on click and writing the
method within the component but you can
really start to see just truly how
powerful components are if we ever
wanted to reuse this item we could just
drop this in as long as we're passing
a valid resolution and now has access to
deleting and updating so that's super
cool awesome so as always this is Scott
with level up tutorials there's a lot
more videos to come and there's even
some that aren't going to be available
on YouTube so if you want to check out
the full series and get access to things
like server-side rendering using react
components or even something like using
react router I'll be covering those
topics and videos that are only
available as a level up pro or through
purchasing this series available for
digital download you also get code
examples that you can follow along and
check your work with so thanks for
watching and I'll see in the next one
bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>