<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Meteor For Everyone Tutorial #6 - Deleting &amp; Updating Collections In Meteor | Coder Coacher - Coaching Coders</title><meta content="Meteor For Everyone Tutorial #6 - Deleting &amp; Updating Collections In Meteor - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Meteor For Everyone Tutorial #6 - Deleting &amp; Updating Collections In Meteor</b></h2><h5 class="post__date">2015-02-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rQX-9WqzchQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up this is Scott with level
up tutorials and today we're going to
show you how you can respond to events
in your template with your views and to
do that we're gonna show you how to
update and delete these resolutions that
we've created that way you can get an
idea about what happens and what
information you have access to with
these events
so let's get started right now okay so
in the last video we got our template
successfully reacting to a submit event
and adding a new resolution now we're
going to add two new events this time
they're going to be not template body
events however they're going to be
template resolution events okay
so let's first go ahead and come to our
HTML here and let's come to HTML now
inside of this list item let's go ahead
and add something I'm going to have a
button so it's going to be a button with
a class of delete so just like this and
it's going to say remove just to be
confusing the text will be a little bit
different okay let me space this out to
make it a little bit more presentable
here
okay so we now have a button with a
class of delete the text of remove
inside of our resolution now what we
want to do is write a event on the
template of resolution that our exes
delete and deletes that particular
resolution now this is going to show you
some of the cool stuff that meteor can
do with events and just how much data is
attached to these events so it makes
your life really super easy so we can
come in here and below our template body
events but still within the is client if
statement we can say template dot
resolution let me sorry that's
resolution with the lowercase R and no s
just like that and then events so
template that resolution dot events and
we have our parentheses in our bracket
just like that just like we did before
and now this time instead of looking for
a submit event because this isn't a form
we're going to be looking for a click
event so inside of parentheses so inside
of quotes we can say click space and we
want to give it the Dom element that
we're looking for and we can say period
delete because we are looking for the
delete classed button ok now again we do
colon and give this a function now this
time we don't need the event so we're
not going to pass it in here and we can
just say it like this and let's go ahead
and show you what meteor is capable of
here so before we did resolutions at
insert now this time we're gonna use
resolutions again just like we did last
time but instead of dot insert or dot
find we're gonna do dot remove okay now
every move takes essentially an ID of an
object now MongoDB the database system
is automatically generating an assigning
an ID to every entry in our collection
that is accessed with the property of
underscore ID now what's cool here is
that we have access to this is referring
to this particular resolution that we
clicked so we can say this dot
underscore ID so what's going to be
unbelievable here is that we have this
click that delete function it's running
and how it's doing is this one line it's
grabbing which item it is it's passing
in the ID and it's telling our
resolutions to remove that so again this
one line is going to come in here and
it's not only going to remove one of
these resolutions from our database it's
also going to be removing it from the
front end of our website as well okay so
that's just one of the the coolest parts
about meteor so we can go ahead and
click remove it's gone if you were to do
a refresh or anything it's gone it's
gone forever so now we can not be shy
about clicking and adding new ones so we
can say hello what's up and if we don't
want them they're gone we don't have to
have them okay so this is how we respond
to click events and this is using
template dot resolution instead of
template body again the difference is is
that is inside of this template here not
inside of our body template okay so now
let's go ahead and add a check box so
now we can have the status of checked or
not checked okay so before our title
we're going to add an input and the type
is going to be check box okay and it
checked is going to be equal to and then
inside of parentheses inside of quotes
here we can have a double bracket double
bracket and that's going to be the value
of checked
which is gonna be a boolean that's gonna
be true or false since none of our items
have a checked property yet it's just
going to be false it's not going to show
up so therefore they're not going to be
outputting us checked it's actually not
going to be false it's just gonna be
completely blank so we don't have to
worry about that showing up as checked
when we don't have anything that's
checked now let's give this a class and
that class is just gonna be toggle check
so this is the class that we're gonna
look for on our click event so I'm gonna
go ahead and copy this just so I have it
in my clipboard okay now to just keep
this in line with the example that I've
been doing what I want to do is I want
to type span and we're gonna give this
span a class of text and just like that
so this is the text of our resolution
this is the button and this is the input
okay so now let's come back to our page
here we can see that we now they have
these neat checkboxes we can check them
it's not doing anything if we were to
refresh those checks would go away okay
so now let's actually make it event that
response to this checked finds the
current resolution that we're looking
for and adds checked is equal to true
inside of that item so if we think about
what we did before this sort of strategy
for that shouldn't be too difficult what
we're gonna do is we're going to inside
of our template that resolutions dot
events here we're gonna add a new event
and because this is an update event I'm
gonna add it first for some reason I
have a thing about having the delete
events last I don't know why we can say
click and then we're gonna be looking
for that class which was toggled checked
and now I need a period before that
because it's a class and again we're
gonna do :
and then
function and since we are able to grab
the ID from this tidy we're going to be
going ahead and using that once more and
I'm gonna finish it off with brackets
now you should note that template.dot
resolutions events is an object we have
a property here and we have a property
here so in between each one you need a
comma it's sometimes easy to overlook
that thinking that maybe this is just a
function inside of this but this isn't
this is an object and you'll always
going to need a comma for each
consecutive one except for the last
right okay so now that we have two
events here we have our function well
let's go ahead and add some new code
where we're going to update an event so
I'm going to paste this resolutions now
the method that we're gonna use is dot
update now this takes some items here
and one of them is going to be this dot
underscore ID to find the current item
the current resolution that we're
looking for and we're gonna have comma
and then we're gonna have an object now
inside of this object we're gonna do
dollar sign and set colon and then
another set of curly brackets inside of
here is the properties that we're going
to be modifying you could always open
this up here and say like this or you
could leave this inline it really sort
of the strategy here if I have one
property here my personal style for this
is just to leave it inline but if I have
a lot of properties I'm adding it up
break it up so what we can do is type
checked because that's the property we
want to edit and we're gonna say : and
now we're going to have an exclamation
point and then this dot checked
it's gonna say what's the current value
of this dot checked and since that's
going to be false it's going to flip it
and it's going to be equal to true then
it's going to update this current
resolution save it and hit the database
refresh your UI and everything like that
so we now have checked this dot checked
and also because we're using this
exclamation point it's basically just
going to say whatever this is currently
make it the opposite of that okay so now
if we save this or toggle this checkmark
here is going to be able to respond so
we check it now to prove that this is
working correctly I'm gonna refresh now
you don't see the switched here that has
to do with the find up here and since
we're not passing in anything in to find
it's not really finding by anything
that's explicit so in the next video
that's one of the things we're gonna be
covering is how we can make this find a
bit more explicit so however we have
this check we refreshed and even though
they changed order the check is still
there likewise if we check and maybe
uncheck this one yeah they're the so
this is totally working it's hitting our
database updating the resolution the
only thing we don't have is that visual
cue now let's go ahead and modify our
HTML to be able to respond to that
checked so this is pretty cool
because we now have access to this
checked variable what we can do is add a
class to our list item so you can say
class is equal to and then inside of
here we can use our template tags and
say pound if checked and then inside of
here we want to help in a class that
class is going to be checked and then we
can ended up with /if just like we did
before with this each statement here we
now have if checked out put the word
checked and then
the if so now if this item is checked
it's getting the class of checked and if
you'll notice I have some CSS for a
class of checked and that is to give it
a strikethrough and grayed out slightly
so we now have the ability to modify the
appearance its toggling whether these
are checked or not checked or refresh
and everything is persistent
so in absolutely no time at all we've
built something really super cool as
always this is Scott with level of
tutorials keep watching we're going to
show you a lot of more what meteor has
to offer
as always you can reach us on Facebook
or Twitter at level up tutorials thanks
for watching and we'll see you the next
one bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>