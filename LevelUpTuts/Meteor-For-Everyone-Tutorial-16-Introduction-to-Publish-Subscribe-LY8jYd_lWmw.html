<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Meteor For Everyone Tutorial #16 - Introduction to Publish &amp; Subscribe | Coder Coacher - Coaching Coders</title><meta content="Meteor For Everyone Tutorial #16 - Introduction to Publish &amp; Subscribe - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Meteor For Everyone Tutorial #16 - Introduction to Publish &amp; Subscribe</b></h2><h5 class="post__date">2015-03-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/LY8jYd_lWmw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up this is Scott with level
up tutorials and today we're going to be
covering what happens when you remove
the auto publish package now this
package is great for getting started
just like the unsecured package however
what's not good is every time we are
hitting the databasing resolutions find
me some resolutions it's returning all
of them what we want is a little bit
more control over that so that no user
in particular has access to resolutions
that maybe aren't their own or just
resolutions that they're not intended to
be having access to so by removing the
auto publish package we have to then set
up publish and subscribe so that we can
have access to that content so right now
we're going to get started and show you
how to do that okay so in the last video
we removed in secure now we're going to
want to go ahead and remove another
package this one is going to be remove
auto publish so we can say or remove
auto publish and Auto publishes all one
word now this is another package that
comes with your meteor installation so
you never had to add it to have it so
we're going to want to remove it now
just to make some things a bit more
secure in your project so what was
happening before essentially when we
called a dot find on our given
collection it was returning every single
option in the collection and uh then
that was being sort of handled on the
client side now that's not necessarily
great in the situation where you only
want specific information to be
available for specific people and you
don't want to be able to call find on a
collection and get every single option
back so what we've now done is removed
auto publish and if you come to our
application just like when we removed it
some of the other stuff it's going to be
broken so before it broke by not
allowing us to actually interact with
the site by adding new resolutions or
clicking around and
updating our collection now it just
simply can't find our collection it just
simply shows that it's not there so how
can we get our content back what what we
need to do is use meteor publish and
meteor subscribe so let's go ahead and
modify our code here now this is just
going to be a simple example we're
essentially going to be doing is
replacing our client-side code with some
server-side code so let's go ahead and
come to our meteor is server section of
the code that we haven't actually even
done anything with we have this dot
start up but that's not where we're
going to come we're actually going to go
just below that we can run a meteor
publish method so it's meteor dot
publish okay and now inside of here
we're going to have quotes and this is
going to be the name of our collection
so we're going to be publishing and a
lower case resolutions okay just like
that and we're going to Dan Kammen and
have a callback function which is just a
function it's not going to be passed
anything and just like that so this
function that's called here is just
simply going to return our resolutions
dot fine so we can actually even come up
right here where we said resolutions
defined and let's just simply copy this
like so and let's paste in this and we
can say return resolutions dot find and
now that we have this here we need to
subscribe to this lower case resolutions
for this to work so let's come up top
here and we can say and right at the
very top of our is client code we can
say meteor dot subscribe and then we're
going to pass in this string here just
like so so we're now subscribing to the
data from the publication which is
calling a resolutions
find what this allows to happen is know
when we call resolutions dot find and
resolutions find checked whatever we
have here we're not going to get back
nothing because we're subscribing to
that data collection so if we come back
to our app and again the awesomeness of
this Auto refresh that it does when you
modify anything is that our collection
has returned so here's our information
it's no longer completely invisible even
though we removed out of publish making
our site just a little bit more secure
and giving us a little bit more control
now we haven't covered a ton of what
that control is yet because essentially
this application is functioning the
exact same way that it was with just a
little bit of a difference but
publishing and subscribing are really
powerful techniques along with the
methods that we use before for adding
and removing content so in the next
couple of videos we're going to dive
more in to with what you can do with
publish and subscribe and what you can
do to add more security in your website
to prevent perhaps people from
submitting things that shouldn't be
submitting them so check it out these
are just two things that you need to do
to help make your site more secure and
while the benefits may not be obvious
right now once you start getting into
more complex applications especially
stuff that's no longer just experiments
and perhaps applications that people are
using you're going to see why you need
this control so more on that very soon
as always this is Scott with level up
tutorials if you have any questions or
comments leave a comment the video where
it is up at Twitter or Facebook at level
up tuts
we'd love to hear from you thanks for
watching and we'll see you in the next
one bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>