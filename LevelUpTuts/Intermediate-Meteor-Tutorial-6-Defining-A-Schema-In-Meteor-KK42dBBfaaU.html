<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Intermediate Meteor Tutorial #6 - Defining A Schema In Meteor | Coder Coacher - Coaching Coders</title><meta content="Intermediate Meteor Tutorial #6 - Defining A Schema In Meteor - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Intermediate Meteor Tutorial #6 - Defining A Schema In Meteor</b></h2><h5 class="post__date">2015-10-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/KK42dBBfaaU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up this is Scott with level
up tutorials and today we're going to be
continuing our intermediate media series
by creating our schema once we create
our schema an attached to our
collections will then be able to move on
to things like to generating a form and
then submitting the form and actually
having something in our database so
let's get going on that right now
now before we get started I would just
like to make sure that you do have the
collection to package and the auto form
package installed before watching these
next few videos if you have the package
list from the first couple of videos you
should have both of those if you do not
go ahead and grab collection two and
auto form and add them to your packages
file or with the meteor install command
after you have those let's get going
okay so now that we have some basic
routes going let's go ahead and actually
create our collection now we're going to
be using a package called collection two
and we're going to be using a simple
schema which is going to allow us to
actually define a schema which is
something that you really can't do
without a package like this now what's
great about using packages like
collection two and simple schema which
is actually part of collections too so
you don't need to install those
separately is that you can also use auto
form generators like auto form which
allows you to really just specify one
Blaze template tag and it completely
generates the form based on properties
in your schema so let's head to our
collections folder here and let's go
ahead and add a new collection I'm going
to say new file and this new file is
just going to be recipes Jas now we're
going to define a collection like normal
simply by saying recipes equals new
meteor collection
and then inside of the parentheses we're
going to just give a lowercase string
that says recipes like so wrap that up
with a semicolon and we have our
collection to find so if you had the in
secure package still on your website you
could create a form and submit some
things to this recipes and it wouldn't
be following any sort of general schema
however we want to actually define the
schema so that we
can use auto form and have all this
stuff pre created for us so let's go
ahead and create a new schema simply by
saying recipe schema and camelcase here
and recipe scheme is going to be equal
to a new simple schema now we're going
to have parentheses and then some
brackets here so we now have this object
right so inside of this object what
we're going to be doing is defining some
properties based on what we want our
collection to actually have right so
obviously this is a recipe and it's
going to need a name so we'll want a
name field and we can just say name now
in here we're going to have another
object now this object is going to have
a couple of properties here we can
define things that actually have to do
with the auto form itself we can head
define things that have to do whether or
not this is a required field by default
all the fields are required so we only
have to specify if it's optional so what
we can say is type and type is a string
and then now we want to have a comma and
on the next slide let's give this a
label and this is the label that would
be used in the form field so we can just
say name okay like so so this is our
first property in our simple schema
let's go ahead and add another one we
have name let's go ahead and add a
description sometimes I like to just
abbreviate these things and have them be
desc
this is definitely a preference that
your team left to decide on whether or
not they want to abbreviate longer words
like this so we can have type and type
is also going to be equal to a string
and now we want label label is going to
be equal to description now let's go
ahead and add the author of this recipe
so we can have comma and then author and
the author is going to be also a type of
string comma and we're going to have a
label here and label is just going to
say author should be getting a little
bit repetitive but now we're going to
learn something new here so what we can
have as an auto value so we can say auto
value and this is going to give this a
default value and what we want to do is
have a function
that is going to return this dot user ID
cool so we are now going to be able to
have this author field that's
automatically input with this current
users ID because of that at some point
we're going to make some sort of check
that make sure that a user is logged in
before they can insert a new recipe here
but for right now we'll just leave this
like so so that we can actually get
going on our OTO form and one more we're
just going to add a created at date so
we can say created at colon and the type
is going to be a date comma label is
going to be created at and now this is
also going to have an auto value which
is going to be a function here again and
this is simply going to return a new
date so this is going to essentially
just whenever this is created it's just
going to return the current date to the
created at field okay like I mentioned
before the scheme has a long way to go
we still need to add the ingredients
whether or not this item is in the menu
or not and we still have some more
tricks up our sleeve with how to do some
of those things including working with
auto form but this is going to be great
to get started and just to show you how
Auto forms working in the next video so
right now we're going to have one more
step before this is complete we need to
attach this schema to our collection so
our collection is recipes we're going to
say recipes dot attach schema and then
we're going to pass in the name of our
schema which is recipe schema
okay wrap that up with the semicolon now
if we get to our site we haven't done
anything in particular but it's always
nice to after you make a big change to
just head over to your site refresh or
check out your command line to make sure
you're not getting any sort of
outrageous errors that you may not have
foreseen maybe you left off a comma or
something like that for instance if we
leave this bracket out here and try to
save this we head back to our site we
refresh it's going to crash okay
so what's good about this is the air
lock in meteor has actually gotten much
better recently so it now gives you a
little bit more information saying line
26 on collections does our recipe
there's an issue obviously the issues
right here okay cool so we've now
created a basic schema and we're ready
to go with Auto form so in the next
video we're going to drop in a form to
our home page and you're just going to
see how powerful something like auto
form really is if you enjoyed the meteor
for everyone series and you would like
to help support level up tutorials you
can now purchase the HD mp4 videos of
that on store that level up to Torres
calm and that will come with the code
examples itself no subscription or
anything required you can just go ahead
and download those directly after
purchasing and like I mentioned if you
enjoyed this series so far these videos
will be available for purchase after
this series is complete on store dot
level of tutorials comm as well so as
always this is Scott with level of
tutorials if you have any questions or
comments leave a comment the video or
hit me up at twitter or facebook at
level up tutorials I'd love to hear from
you thanks for watching and I'll see you
then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>