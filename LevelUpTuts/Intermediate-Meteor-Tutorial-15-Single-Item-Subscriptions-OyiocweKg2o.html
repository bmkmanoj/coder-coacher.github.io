<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Intermediate Meteor Tutorial #15 - Single Item Subscriptions | Coder Coacher - Coaching Coders</title><meta content="Intermediate Meteor Tutorial #15 - Single Item Subscriptions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Intermediate Meteor Tutorial #15 - Single Item Subscriptions</b></h2><h5 class="post__date">2015-11-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OyiocweKg2o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up this is Scott level of
tutorials and in this very going to set
up a publish and subscribe for our
single recipe now this way we don't have
to subscribe to all of the recipes when
we're only viewing a single recipe so
let's get going on that right now now
you might be wondering well we're
subscribing to all of the recipes in
fact right now if you add to our publish
j/s we are finding only the ones of the
current user however we're getting all
of that users recipes when we really
only need to get one recipe so how can
we adjust this well we can actually make
a new publish statement of a single
recipe and so let's go ahead and let's
do that right now let's copy this entire
line here and instead of publish recipes
we can simply just say single recipe
like so now in our return statement
first thing we want to do is in our
function we want to actually have a
parameter here in this case we want this
ID and we want this to say check let's
make sure that this ID is in fact a
string otherwise we're going to get an
error right so we want to make sure that
by running this check function is just
making sure that the value that comes in
here is in fact a string which it should
be because we're going to be passing it
in from the raw parameter but now we can
say Meteor okay now what we want to do
is recipes find and we can look for
recipes where the underscore ID is equal
to the ID itself now this is purely for
performance reasons if we are on the ahi
tuna detail page we don't need to have
all of the recipes published we can
subscribe only to one single recipe
passing in an ID so we have this publish
statement let's modify our subscribe
statement on the recipe single on
created to look for only that one with
the ID so to do that we simply just have
to
pasen the get route params we have to
pass it into this self dot subscribe so
the easiest way to do that would be to
paste this ID equals FlowRider get
program ID that we used in the helper
itself and we can paste this into the
autorun and in here instead of our self
dot subscribe recipes we can say single
recipe so we're now subscribing to a
single recipe and you remember we need
to pass in an ID that ID is this
variable ID right here so now when we
subscribe we're passing in the single ID
this ID is coming into our published
statement and our publish is coming into
the single recipe it's taking this ID
it's making sure it's a string and then
it's going to return the only recipes
using that ID which of course should
only be one no because we added the
check statement things aren't working
because we're getting a check is not
defined so what we need to do is add the
check package so let's head to our code
let's come to our dot meteor . packages
and we can find here and let's just go
ahead and add in this one paste it at
the bottom you can keep this organized
if you'd like we can say check head to
our server and it's going to grab the
check package for us you can see that
the server's restart at this time with
no errors and if we head back we see I
he tuna so recipe book salad view
details so here's an interesting thing
that we can actually view what
subscriptions we have loaded if we have
control him what you'll see is the only
recipes that are loaded are just salad
that's it if we had the recipe book this
is instantly updated to say for if we
select ahi tuna it's back down to one so
we now have one recipe loaded one
subscribed and that's good for our
performance on our website if somebody's
headed to this page only you certainly
don't want them to load and subscribe to
all of the recipes so as always this is
Scott would level up tutorials if you
have any questions or comments leave a
kind of video or hit me up at Twitter or
Facebook a level up tutorials I
to hear from you if you had liked this
series or other ones you can head over
to store that level up tutorials calm
and check out some of the awesome stuff
we have over there he has some t-shirts
meteor for everyone
series available to download with code
examples and HD videos so as always this
is Scott with level up tutorials thanks
for watching and I'll see in the next
one bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>