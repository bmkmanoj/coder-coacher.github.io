<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#2 Multiple Test Cases - JS Testing 101 with Jest | Coder Coacher - Coaching Coders</title><meta content="#2 Multiple Test Cases - JS Testing 101 with Jest - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#2 Multiple Test Cases - JS Testing 101 with Jest</b></h2><h5 class="post__date">2018-04-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zkG_ClTJ9UM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so now at this point you have
experienced the joys of seeing a bright
green pass and all these check marks and
one one past I mean this is a an
excellent driver of writing tests
because when you see a bunch of red here
it makes you want to fix it
psychologically right so we have this
basic hello function here and this is
all good in our app das it's simply just
returning hello now instead of just
deleting this and deleting this other
one I'm gonna sort of emulate a more
real-world situation where you're
writing more tests right you're
typically not just having one function
one test kind of thing so what I'm gonna
do is have a new function here and this
is going to be a classic example we're
going to do Const and this is going to
be an add function okay cuz we're just
going to be adding two numbers so we're
simply just going to have X&amp;amp;Y
right now inside of this function
instead of just returning a string we're
going to return X plus y okay so this is
a little bit more involved in simply
just returning a string here now let's
go ahead and write our tests you'll
notice that even when I saved this file
it still says one of one is tests passed
because obviously we don't have any more
tests for our add function let's head
back to app dot j s and have a comma ad
now what's cool about a function like
this you'll see in a second here if you
haven't gotten the point of why testing
is excellent just yet what we can do is
actually test a whole bunch of things in
here and make our functions more robust
now I'm going to have a new describe and
a new it should okay so we're going to
describe again this time we're going to
describe although this time we're going
to describe ad next we're going to have
an it it should add two numbers seems a
basic enough again arrow function here
okay and now inside of here we're going
to call this with various numbers and
expect to see the answers right so let's
go ahead and do expect
and we could add in add one and two and
you would expect the results to be three
right notice how these aren't strings
obviously okay so we can save this and
you can see that it should add two
numbers we now get a green checkmark
what happens if we actually duplicate
this line I did that by holding shift
and option hang the down key and BS code
and we were to say hey we expect two and
two to be three now we get a big red
error and even though we had multiple
expect lines the ad should add two
numbers is still failing so if either of
these expects fails then this whole it
should fail okay so you'll have
different test cases within your it and
we haven't expected should be three and
then two plus two obviously shouldn't be
three so our test is incorrect here not
our actual function but what's nice is
that it points us right to line 12a
saying hey this is where to go so
obviously we expect two and two to be
four now we can add some more things
here right one of the cooler things
about writing at tests is that you can
have a whole bunch of different test
cases that might actually be able to do
more things than you would able to be
doing manually testing this function
individually right for instance let's
say if we added negative two and two
together we would expect the answer to
be zero so let's say this and you can
see they're all still passing but
instead of saying you know we have eight
tests or however many I have here five
tests passing it still says one test
suite which is this page and then two
test passes and it should output hello
passes and it should add two numbers
passes but it's really great here we can
now test negative numbers we can even
test two negative numbers we can do
negative two plus negative two and you
can see we are getting a big red error
it should be negative four okay so we
could say hey this should be negative
four but either way this gives us the
option to be able to have confidence
that this thing is going to work under
test cases now let's go ahead and
actually write a new it should not add
strings because this is actually an ADD
numbers function right this is an add
strings function so now we can have
another test in our test case here and
we could say well we expect well I don't
know what we should expect because what
were to happen if we were to add two
plus the string of two and if we save
this you can see it's obviously not
negative four but a string of 22 or a
string of adding two plus two so in
JavaScript when you add two strings it
just sort of meshes the strings together
right but if you have a number and
you're adding it to the string it
actually converts the number to a string
and now you have a string of 22 now this
is wrong we should not expect this
function to work so let's write a
failing test case okay we're going to
say we expect that when you add two to a
string then the result should not be a
string it should be no okay
and right now obviously this is going to
fail the expected value is null and we
received 22 because in our app dot J s
it's simply just concatenating right
it's doing sort of basic JavaScript so
let's go ahead and add some if
statements in here to sort of check
we're going to say if and then a type of
X is equal to string or type of Y is
equal to string okay so if either of
these are equal to a string then we're
going to return null okay so if either
of these are a type of X as a string or
a type of wise a string we could save
this and now check it out our test
passes but does this mean that this
function is robust or correct enough yet
not necessary
cuz check it out I'm about to if you
you've either you're either seeing this
coming or you're about to have your mind
blown a little bit but if we duplicate
this it should not add strings what
happens if we throw an object in here it
should not add objects okay and instead
of number two here would give this an an
object okay so this is sort of weird
we're adding in a two to an object and
while we're expecting it to be null
because we don't have two numbers we
saved this and it breaks our test breaks
it should not be able to add two objects
but it is having two objects or it's
adding a to two object you can see we
get a string with two when object object
when we should be expecting null and it
illustrates some fragility inside of our
actual app j/s because you might think
that this is a good idea hey we are
testing to make sure these aren't
strings right that's what we're trying
to do but actually what we're looking to
do is to make sure that these are
numbers right so instead of adding
another test case to make sure they're
not objects or whatever what we simply
want to do is say if they're not a
number and if typeof Y is not a number
we can see this we could save this and
now all of our tests passes because now
regardless of what we do here it should
not add objects it should not add arrays
okay if we have an array in here it
doesn't matter what we have in here if
it's anything other than a number we're
going to be getting null so let's talk a
little bit about what we did in this
video
we wrote a lot of tests and you could
see that while this function is still
pretty basic right we did uncover some
of the potential pitfalls of this
function right because you might always
think in an ideal world this function is
getting two numbers but you never know
if the data coming out or in is going to
be a hundred percent ideal typically
when we're programming we always work
with the best-case-scenario sort of
stuff but in reality the
best-case-scenario stuff isn't always
there so we learned a few lessons here
it's easy to test a whole bunch of
different
types of values right we could even
write a loop to test a hundred different
numbers if you wanted but honestly
testing a few is more than enough but we
were also able to test some things that
were potential inputs to this function
and make sure that the results were
output it is what we wanted to and it
made our function quite a bit nicer
because now nothing unexpected is going
to happen ok so again this example might
seem a little trite again because you're
just simply adding two numbers but as
our code gets more complex these tests
as I keep mentioning will become more
and more important so check it out we've
now written a few more tests and you
should start to see the benefits a
little bit more about what tests can do
for your actual code quality itself and
it gives you a greater understanding so
not to say you have to test for all of
these things if you always know this
function is going to be receiving a
number but it could open your mind as to
some of the things or potential issues
in your code that you might want to
watch out for because all in all honesty
you saw how cheap these were right these
were cheap we could make a whole nother
one if we want to do and they ran really
quickly so having cheap tests that are
checking for things like that is
certainly not an issue so as always this
is Scott with LevelUp tutorials if you
want to help support level up tutorials
head on to level of tutorials dot-com
and you can become a LevelUp pro by
selecting go pro and you'll get access
to every single one of these series with
the teal and purple lock on it that says
Pro exclusive there is a lot of
exclusive excellent content and not only
that but there's exclusive Pro content
coming every single month I'm releasing
a new Pro Series every single month and
these aren't small series these past few
have all been over 24 videos long the
most recent being view J's for everyone
and then pro Gatsby has been a big big
big hit so head on up to level of
tutorials comm forward slash Pro to
become a pro for 19 bucks a month or if
subscriptions aren't your thing you can
head on over to the level of tutorials
count forward slash store and purchase
these series out right so thanks so much
for watching and I'll see in the next
one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>