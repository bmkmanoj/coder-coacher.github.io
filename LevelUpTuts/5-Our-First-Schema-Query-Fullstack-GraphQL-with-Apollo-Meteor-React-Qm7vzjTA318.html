<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#5 Our First Schema &amp; Query - Full-stack GraphQL with Apollo, Meteor &amp; React | Coder Coacher - Coaching Coders</title><meta content="#5 Our First Schema &amp; Query - Full-stack GraphQL with Apollo, Meteor &amp; React - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#5 Our First Schema &amp; Query - Full-stack GraphQL with Apollo, Meteor &amp; React</b></h2><h5 class="post__date">2018-01-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Qm7vzjTA318" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up this is Scott with level
up tutorials and in this video we're
gonna create our very first query and
this query is simply just going to
return a string but it's going to give
us some experience running one graph QL
schemas to graph QL queries and three
it's actually going to allow us to use
some of the cool tools that exist within
graph QL so let's get started with that
right now okay so at the end of the last
video we just ran this create Apollo
server and there's nothing in it
and so therefore Apollo's like pretty
worthless to us right now but it is
inside of our project at the very least
it's inside of our project and what that
means is that if we head to our site if
we head to our localhost at this point
my app is a local host port 3000 if we
head to localhost port 3 South 3000
forward slash graph I QL pronounced
graphical right you'll see we have this
cool interface which actually tells us
that well graph QL and Apollo are
working to some extent we also have a
big old red error saying that there's no
schema because we have no schema right
so if you're wondering where your error
was that's where your errors at in fact
since we're loading it up now on this
page we're getting a big old error
so these errors are gonna be short-lived
because obviously you want to create a
schema but you'll want to keep this page
open because we're gonna head back here
and we're going to make this function
very very nicely and you're gonna see
the benefits of using something like
graphical if you're wondering what the
heck this page is and why it's important
this is actually going to be a nice
little place where we can test out our
queries we can write our queries inside
of here and eventually we're gonna be
able to see the results right over here
there's some neat auto completing stuff
and let me tell you this this resource
is one of I don't know is one of the
coolest parts about graph QL overall
which is kind of ridiculous but it's
definitely true
ok so let's actually head back to our
app I'm sorry I'm just gonna leave this
graph QL or graphical page open head to
our code and let's solve this issue
where it's saying we had no schema okay
so the first thing we want to do is
to find some stuff we're going to create
a new variable and we're just gonna call
this type deaths we're gonna say Const
type deaths okay for type definitions
now eventually type deaths is going to
turn into an array of files and not just
a back text here but we want to have
this equal to is a set of bekhten
or single quote for the string
interpolation type okay and we're going
to have these wrapped up with a
semicolon inside of here we're going to
have some graph QL schema code and
eventually this code is going to be
living in dot graph QL files which is
gonna be really cool so we're gonna get
all sorts of you know syntax
highlighting and stuff like that but
right now we want to just say type is a
query okay so what this is doing is it's
querying the database okay
so type query is going to be equal to
some brackets now keep in mind this
isn't JavaScript so we don't have an
equals we don't have you know what is
type and query this is graph QL okay so
don't freak out here when you see some
of this code now we're just going to
create a new query inside of this schema
now I say query inside of the schema
because what a query is is essentially a
function and you need to define all of
your functions in your schema and so
this function name is just gonna be say
hi okay now we have a colon space and
then what this function returns like
when you hit this function what comes
out and what comes out is going to be a
string we're gonna just do a simple
hello world here okay so you can see we
have a new query named hi and hi is
simply going to return a string this is
the bare-bones as it gets
eventually you'll have schemas for
queries like we have here where it's a
function that will hit your database
then you'll have types that are their
own thing for instance once we get going
and making this resolution zap will have
a type named resolutions and that
resolutions type is going to include
all of the different fields that are
going to be in the database for that
we're also going to have types for
mutations which allow us to modify in
this case we're going to be hitting the
database so okay this is just a basic
function named hi now we have to define
that function but we do so in what's
called a resolver so let's make a
resolver we can say Const resolvers okay
because typically you have more than one
and this is going to be equal to
brackets now where the graph QL schema
this was not JavaScript right this is
this will be JavaScript okay so it
should feel nice and familiar and we can
say the type here of our resolver is a
query and inside of our query object
we're going to define a function okay if
you're used to meteor methods you could
imagine this sort of stuff as being like
that meteor methods wrapper and then
inside of here is all of your methods so
we can just say hi okay hi is the name
of this function and we can define it
just like a normal sort of function and
an object with two parentheses and then
brackets for me or we can just return
return and we could say hello level up
okay wrap that off with a semicolon so
check it out this is our very first
graph QL code this is sub graph QL
schema this is our actual method or
server-side code here so this let's
graph QL know that this thing exists and
what it expects from it and this is the
actual thing now we need to pass both of
those into our Apollo server now how we
do that is based on using this make
executable schema okay so let's come
down here and say Const schema is equal
to make execute Oh egg executable schema
and inside of here it's going to take an
object the object expects two different
properties one of which is type def so
instead of saying type def s is equal to
type def s we can just simply say type
desc
okay and then it's also expects
resolvers so if you were confused about
why we name things type depths and
resolvers rather than type definitions
or resolver when there was one here this
is why because make experience kheema is
expecting type deaths and resolver so
it's easier to name them like that now
we have our schema let's go ahead and
actually paste it into this create
Apollo server and let's say so check it
out again we have our schema that's
defining a query we have our query
itself we're creating a schema from make
executable schema we're passing it and
to create Apollo server now if all is
well we have our server restarting and
if we head to graphical let's give this
page of refresh there's no auto refresh
on this page you can see our redness has
gone away what's cool is that we also
get some information about our
documentation over here when I mentioned
that this is one of the coolest features
I was not lying this is super cool that
we have our query and we can click it
and see what fields it's expecting okay
so we have our query inside of our
career you can see we have a high query
and our high has a string returned so
inside of our code here what you want if
there's this blank you'll want to
brackets and you'll want to just simply
say well what would you guess we want to
say hi okay and you can see we even get
some auto completion and the way you do
this here is this is going to say hey I
have a high query and you remember high
returns of string so I can say hit this
and you can see what we get back is an
object with a data property inside of
that is high and hello level up now this
is great this is our very first graph QL
query this is our first data and while
it's not hanging the database in the
eventual future in the near future this
resolver will be hitting the database
like a meteor method would and this will
be like a simple schema or just a schema
that we have to define the data that's
in the database and you can imagine once
we hit this it's going to return just
like our graph QL did it but it's gonna
be returning with data from the database
it's gonna be SuperDuper cool and it's
gonna be really insanely easy and you're
gonna have a
database server full-stack app with
graph QL and Apollo set up in no time
but before we get into the database
stuff what we need to do is figure out
how to get this data from this graphical
interface right into our app right here
so instead of Hello we wanted to say
hello level up okay so what we're gonna
be doing is creating a data container
for our data we're going to be passing
that in using graph QL and graphic u
tags and you're gonna see how stupid
easy it is to pull data from graph QL on
the client side okay so in the next
video we're going to get set up with
Apollo on the client side and we're
going to actually hit data from Apollo
and get it into our component and give
this to say hello level up okay so as
always this is Scott with level up
tutorials thank you so much for watching
again if you want to help support head
on up your level tutorials comm forward
slash store and purchase some series or
become a pro it would mean a ton to me
and allow me to keep creating videos
such as this one so thanks so much for
watching I'll see in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>