<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Meteor &amp; React For Everyone #9 - Removing Insecure &amp; Adding Methods | Coder Coacher - Coaching Coders</title><meta content="Meteor &amp; React For Everyone #9 - Removing Insecure &amp; Adding Methods - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Meteor &amp; React For Everyone #9 - Removing Insecure &amp; Adding Methods</b></h2><h5 class="post__date">2016-04-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0YxRYAGO5QY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey whats up this is Scott would level
up tutorials and in this video we're
going to start to remove those
prototyping packages that come with
meteor so in this one we're going to
remove the insecure package so that we
can write our own server methods let's
get going on that now
okay so before we go any further it's
important to understand these
prototyping packages that we have in
here we've briefly talked about now what
these packages allow you to do is
there's two of them there's auto publish
and insecure now we're going to be
talking about insecure first in this
video insecure allows you to run insert
commands that you can see from our
resolution forum on the front end of our
site for instance we could come to the
front end and run this command here like
we could like any user on your site
could come to your council and just type
resolution resolutions dot insert and
then we can have some brackets and let's
just say text is equal to hi just hit
enter here as you can see in our meteor
toys right here yeah we have the text
and ID for high in here now this is not
going to be a desirable action if you
want this site to be live right you
don't want people to just start adding
things to your database especially
without your approval so you want to be
able to guide their control than that in
terms of what fields they're allowed to
fill out what's allowed to get saved
into your database now the one way we
can do that is by simply coming to our
packages finding the insecure package
and deleting that now meteor adds these
by default because they make getting
started really quickly however I would
not recommend ever having the insecure
package in your site that's going to be
live and used for anything unless it's
just a quick experiment that you don't
really care if somebody is able to just
start inserting things into your
database so as you can see uh insecure
has been removed but our site still
works and the only thing that's not
going to work is actually submitting
this form because check this out finish
series enter and we get an insert access
denied insert failed because we can't
insert from the front end any longer and
at code and that code in the resolutions
form this code is no longer going to
work so what's the solution here well
the solution is meteor methods so
methods are run on the server side let's
just have a new file within our server
folder and it's just going to be named
methods j/s now in here we're going to
have a meteor dot methods now meteor
methods is a function here it's a method
that allows us to create methods to call
from the front end that get run on the
server side so let's go ahead and have a
new method here and that's just going to
be add resolution and this is going to
accept simply an object of resolution
okay now inside of here is where we can
throw our insert so let's actually head
to our form let's copy this whole insert
line and let's paste it in here now
instead of text here we're going to use
resolution so resolution is going to
come in through here and get saved into
the text field the complete and it
created at cool so we now have a
resolution insert that's going to be
running on our server and this will
allow us to run this without getting any
sort of access denied so how do we
actually call this ad resolution well on
our forum here where we have this insert
let's just go ahead and delete this what
we want to have as meteor call now we're
going to call the add resolution
function where we can then have a comma
and pass in any sort of arguments we
want to throw in here so we can say text
so now we're calling meteor resolution
and passing in text now it looks in our
methods it finds a dress in hits the
text and resolution and then runs this
insert command now you might be looking
at this and thinking well this is
running this meteor call and then it's
setting the value to nothing
but what happens if this doesn't succeed
for some reason do we still want this
value to be set you might be wondering
well why don't we run this resolution
inside of a call back well we can do
that we can say we can say comma then we
can say double parenthesis like we can
say open and closed parenthesis equal
greater than brackets and have ourselves
a little arrow function here and pass in
this dot refs like this so now once the
call is complete it's then going to set
the stressed-out resolution value to
zero so let's check this out in action
now okay i'm going to add something new
here let's scroll down so we can
actually see it let's stay do yoga and
as you can see do yoga has now been
entered and we have no errors and our
form has now been reset to being empty
now you might be wondering why we did an
arrow function here well it's not just
for shorthand in fact it's not far short
hand at all if we were to do this as
function like this and have a standard
function here what do you think is going
to happen when we submit this form well
i'm just going to submit some dumb text
in here and say hello and as you can see
we get a big old stack of errors because
it has no idea what this is so you
cannot read property resolution of
undefined so what the arrow function
allows us to do is use the this that
this whole thing is referring to in
terms of this component rather than this
function right here so sometimes people
think that the arrow functions are just
a shorthand and that's actually not the
case it changes the context of this ok
so we have two parentheses equals
greater than has the brackets this dot
ref stopped resolution value cool so
this all should be working perfectly now
we've removed the insecure package and
we now have a function as submitting and
guess what if we were to try to run this
resolutions
insert on our command line we're going
to get some errors we're going to get a
authorization access denied perfect so
this is just super good this works
really well this meteor call stuff is
really easy because now in any given
point we can call any of these methods
let's say in a couple videos down the
line when we at an update we can have an
update resolution in here and we can
call that from inside of this single
resolution and we don't have to do
anything special to do that cool so the
next video we're going to actually head
to the resolutions wrapper and we're
going to explore what happens when you
remove the auto publish package from our
site now publish and subscribe is not a
concept that's super easy to grasp if
you haven't done it yet in meteor so I'm
going to take some time with it but by
the end of it you should be really
comfortable with tracker react and what
it's doing when we subscribe to data so
as always this is Scott would level up
tutorials if you want access to the rest
of these videos along with videos that
aren't even available on YouTube in the
series head to stored i level up
tutorials com and purchase this series
for download and if you want discounts
or coupons to the level ups store or
sign up for our newsletter I'm going to
be sending out some stuff for when the
new series launched so you can get nice
discounts on things at the level up
store so as always this is Scott would
level up tutorials thanks for watching
and I'll see you in the next one bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>