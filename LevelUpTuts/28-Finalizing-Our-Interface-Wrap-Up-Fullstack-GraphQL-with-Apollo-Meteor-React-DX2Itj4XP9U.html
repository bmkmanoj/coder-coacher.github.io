<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#28 Finalizing Our Interface &amp; Wrap Up - Full-stack GraphQL with Apollo, Meteor &amp; React | Coder Coacher - Coaching Coders</title><meta content="#28 Finalizing Our Interface &amp; Wrap Up - Full-stack GraphQL with Apollo, Meteor &amp; React - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#28 Finalizing Our Interface &amp; Wrap Up - Full-stack GraphQL with Apollo, Meteor &amp; React</b></h2><h5 class="post__date">2018-02-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DX2Itj4XP9U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so in the last video we showed how
we could actually throw an error on the
server we could collect that error with
our our promise on the front end and we
could display that error now to prevent
any of that from even happening at this
point I want to clean up this interface
because let's face it
what the heck yeah I think that's the
best way to describe it first and
foremost we want to make sure that the
users logged in before we show them the
form or any resolutions period okay so
I'm going to head to my fjs first and
I'm going to look around this
resolutions page we have the form we
have the map again we could organize the
things so much better it is not a great
show of organization in this file and
that's okay what we do want to access is
the user right we want to say hey is the
user it exists but more importantly does
the user dot ID exist so what we want to
do is actually do this if user ID that
we did over here on our login so just
like that we can wrap our resolution
form in a ampersand double ampersand
like this and say hey if the user ID
exists then show the resolution form as
well show the resolutions and I can
simply have this like this and let's go
ahead and duplicate this line duplicate
this bracket and wrap our resolutions
themselves in side of a if a user ID
exists and it looks like I forgot the
end bracket my apologies here okay make
sure everything's all nice okay yes lint
cleans it up for a little bit for me
doing this conditional now at the time I
started recording these videos the
version of meteor that was out didn't
have support for react fragments so you
could have also done this example with
one of these conditionals and then used
a react fragment like this to wrap
around that it like I said didn't exist
at the time of recording this I don't
want to go through the update process
and stuff like that however as you can
see here this works a ok if the user
exists show them the form if the user
exists
they're resolutions otherwise only show
them the login form okay so that's one
little step we can do to make this whole
interface better next thing we want to
do is come into our login form okay so
we have our register form and our login
form and we have our logout button and
one thing I want to do is turn this into
its own component so we have our UI
folder obviously I would want to make a
resolute registration or a user folder
it's too late for that this is the last
video in this series I'm not going to
bother you can do that on your own time
we're gonna have a new file which is
just going to be user form okay form
whether this is login logout register
any of that stuff this is going to be a
react component so you can see I did my
little snippet RCC gives me a new user
form okay
well let's head into our app j/s and
what we're gonna do next is take this
entire user ID part out of here and I'm
simply gonna have hazard Li throw it
into my return we're gonna modify it in
a second next thing I'm going to do is
simply delete this line entirely give
this a user form component which we have
not imported yet and we're going to
import user form from dot forward slash
user form okay let's move this up a line
here and let's get rid of our
registration and login form that sort of
stuff cut out our registration and login
form paste it in to the top of our user
form and let's check it out so let's
before we start saving stuff let's see
how we're actually doing here we're
bringing in our user form right our user
forum is a react component and while
this is not a valid react component yet
what it should be doing is checking to
see if the users logged in if they are
it's going to show this button otherwise
show them either the registration of the
login form okay so we can do that nice
and easily just up top here in our
render function if and we could say user
dot underscore ID
and we can simply return return a button
okay and I forgot the second half of
that button of course so obviously we
want to make sure we bring all of that
stuff along we want to bring along the
login button okay or logout button so if
the user is logged in if there's a user
ID show them the logout button otherwise
we're simply just going to return and I
think I have one too many brackets and
stuff in here otherwise we're simply
just going to return a either the
registration form of the login form will
take care of this in a second okay so
let's save this save this and some
things that you're gonna notice right
off the bat is that meteor logout is
going to be fine but a client out reset
store should be giving us an error as
well as user ID or underscore ID because
those don't exist here we can sort of
solve that by in our render function
saying Const user as well as client is
equal to this that props however the
user and client are still going to be
undefined so this thing should probably
still be erroring out okay next thing
obviously that we want to do is bring in
both client as well as user into props
into our user form so we can say hey
user is now going to be equal to user
and client is now going to be equal to
client int and we should be good to go
you should be seeing less errors on here
and if we log in we can select login
user it's going to log in and now show
me my log out button it's going to give
me my form everything happens reactively
everything updates really nicely because
the mutation system has been told to
prefetch those queries we can say log
out and again we're greeted with the
forms now if you wanted to make this
login form just a hair nicer here we
could make a new state and say state is
going to be equal to and we can have
login is going to be equal to true now
we can do down here
this state login question mark
parentheses and we can put in here this
login form
hey if this stuff state doll login then
he show the login form otherwise show
the register register form and then we
can have this looking nice but we can
also do a link in here we can just have
this be a button and have this say and
in this button we can have this simply
just say this that state that login
question mark again if it is in the
state of login we're going to just have
this a register this is going to be the
opposite and then otherwise we're going
to have this a login okay cool cool cool
and last thing we're going to want to do
is an on click is going to be equal to a
function I'm going to do this all in
here
this set state and we're going to say
hey this dot state dot login is going to
be equal to the opposite of this dot
state login okay just like this now if
you wanted to and you probably do we
could also do a destructor in here and
do login from this state ok just so we
don't have to say this dot state and we
could just say hey if login sent login
login ok cool now again this interface I
say I feel like I say this all the time
this interface isn't winning any awards
here but it's only going to show us the
login function unless we click the
register button then it's going to show
us the register input and vice versa ok
nice and easy easy easy
ok login there we go don't update here I
am logged in and this application really
came together fixed a bunch of our bugs
here there are a lot of little things
you could do like making it so that this
is a label when you select the label it
triggers the input this interface is
awful so if you want
you make this look pretty by all means
make it look pretty
this is not a course on making this look
pretty though and let's talk about how
I'm going to continue my graph QL videos
here both with and without meteor okay
so in this channel what I want to be
doing is covering a lot of graph QL
topics and sometimes these things aren't
worth a whole twenty video series maybe
like subscriptions right but if I were
to cover subscriptions inside of this
series then it would sort of be stuck
inside of a meteor specific series when
the topic isn't necessarily meteor
specific you know so the idea here is
that I'm going to be covering a little
bit more stuff both with Express or with
reactant Apollo and the idea will be
that whenever it makes sense to omit the
back end framework I will omit omit the
back end framework entirely from the
tutorial and we're only going to be
talking about Apollo client as well as
if it makes sense to do something with
meteor and the server base or express in
the server base whatever I will be doing
those as it is so this is gonna give me
a lot more flexibility going forward and
it's not going to trap some good content
inside of a long series so as always
this is Scott with level up tutorials
let me know what you would like to see
from future graph QL content because it
will be plentiful if you'd like to help
support this channel head on over to
level up tutorials comm and purchase any
of our series modern CSS layouts react
in Redux for every one level to react
native with graph QL lots of good stuff
even more good stuff coming every single
month thank you so much for watching and
I'll see in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>