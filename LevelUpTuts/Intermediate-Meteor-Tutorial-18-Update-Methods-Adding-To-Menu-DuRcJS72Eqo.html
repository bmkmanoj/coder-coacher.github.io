<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Intermediate Meteor Tutorial #18 - Update Methods &amp; Adding To Menu | Coder Coacher - Coaching Coders</title><meta content="Intermediate Meteor Tutorial #18 - Update Methods &amp; Adding To Menu - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Intermediate Meteor Tutorial #18 - Update Methods &amp; Adding To Menu</b></h2><h5 class="post__date">2015-11-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DuRcJS72Eqo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up this is Scott with level
up tutorials and in this video we're
going to be exploring what happens when
we want to actually create our menu so
in this video we're gonna be adding the
methods that allow us to toggle our
items into the menu itself so let's get
going on that right now so now what we
need to do is we want to actually create
the ability for you to take things in
and out of your menu right now we just
have these view details buttons that we
have these cards for our different
recipes now let's go ahead and add a
toggle essentially to add and remove
this from our weekly menu so let's head
to our code and in the recipe HTML our
recipe template here
let's just go below view details and we
can add a button with several classes
now I'm again using Emmet so if you are
using Emmet feel free to use a shorthand
otherwise you can just type it out now
the classes we're going to add are going
to be BTN - primary because this is
going to be a primary style button then
we could say period again and to add a
class of toggle menu so we can say
toggle - menu like so now when you hit
tab it's going to autocomplete this we
can change this to add to menu now I'm
going to copy this line and paste it
down here and I'm gonna have another
button now this button is going to be
deny now deny is going to be instead of
add to menu it's also going to be remove
from menu here okay and we're going to
maintain that toggle menu class because
we're gonna be writing essentially a
click function off this toggle menu both
of these are going to be hitting the
same method it's just maybe a little bit
different now you could do this with
text and changing the class when you
select it instead of having two separate
buttons but sometimes this way is nice
because these buttons actually kind of
have two separate functionality even
though they are performing the same
action that is just going to be
the menu the one is going to be removing
one's going to be adding now you can see
we have our Add to menu and remove for
menu buttons here so let's go ahead and
actually write that click function now
so let's head it to our recipe dot j s
in our recipes folder now you'll notice
we don't have one so we can go ahead and
do new file recipe that J s like so and
we can do template that recipe events
okay so we're now looking for events
within recipe here so let's go ahead and
add our add to menu event so I can just
simply say on a click of toggle - menu
then we're going to want to call a
function here now to verify that this is
working we can always just sort of have
a council dot log and we could just say
click I'd like to do this some times
just to make sure I didn't mess up
anything of you know just anything minor
that way when you're coming back to this
university's clicks work oh that way
when you're coming back and maybe
something's not working you can
eliminate the most easiest to sort of
problems such as you just missed type
something okay
so we now have this click function what
we need this to do is simply be toggling
the value in the database that we had
for in menu from false which it is
currently to true if you'll notice here
we do our command M at our meteor tools
you'll notice that the later recipes
that we created have I think it must
just be the last one in menu is equal to
false so what we're going to want to do
is set in menu to the opposite of false
when this add to menu is clicked so
let's head to our methods and add the
method to do that
so under collections and recipes
we now need to add a new allow statement
because we want pretty much anybody
who's logged in we want them to be able
to update a recipe so we could say
update function user ID doc pretty much
the exact same as our insert function
here okay so we have that update
statement in so we will now be allowed
to make updates now let's go ahead and
write the update method we can come down
we can just come down to the bottom and
we can type meteor dot methods because
we don't have any methods yet okay and
inside of here we can have a new method
named toggle menu item and it can be a
function and you'll see in a second that
we're going to need to pass this some
things well we can pass this as an ID
and it's current in menu value what we
can do is say recipes dot update and
here's where we're going to be needing
that information so inside of this
function here we can say ID and we can
give this additional attribute something
like current state that might be a
little bit verbose but it's no big deal
and in here we can simply pass it the ID
for what we're updating comma now inside
of an object we can do dollar sign set
colon and then inside of this the values
that we're needing to change and to do
this we can say we want the in menu
value to now be the opposite of what it
currently is so the current state is
false so we can say exclamation point
current state which would then make it
true now we need semicolon here at the
end and this is our toggle menu item
recipe you'll notice that this method
accept
an ID and the current state
so we now should be able to call this
method to allow it to add something to
the menu so let's head back to our
recipe J s and let's actually use that
method here so if you're familiar with
these methods for my now you should be
able to say meteor dot call and we can
pass in the name of the method which is
toggle menu item and that's in a string
now we need to be passing this in our
attributes here we could say this dot
underscore ID and comma this dot in menu
now we should be good here so let's save
this and let's head to our item that we
know in fact has an on menu item in menu
item which is our fish tacos are
officially false we can have meteor
tools open and while we click this add
to menu
you'll see the value immediately turns
to true and we have no errors in our
counselor anything like that but let's
see what happens on one of these other
ones so on grilled cheese we have no
value so let's try to update something
that we have no value and you'll notice
that because it didn't find that in menu
it's actually reading it as false and
therefore setting the opposite of false
to true therefore adding our grilled
cheese to our menu so we don't have to
come through and delete these old items
here you'll notice just like so we don't
have to delete these old items although
these ones without ingredients we might
want to or at least update them and we
can go over updating in another video
but as you can see we now click true or
we'd now click add to menu and it adds
it to the menu however we have some
problems here you can click at the menu
and it sets it to false if it's already
set to true and likewise the opposite is
true with remove for menu both of these
buttons are doing the exact same thing
right now so what we're gonna want to do
from a user interface perspective
is sort of ad show and hide these
buttons based on the status here like if
we are having a tuna that is in the menu
then we only want to show the remove for
menu button and likewise the opposite
with the add to menu so in the next
video we're going to clean this up
and we're going to be creating our
recipe book we're now able to add items
to our menu and we're going to be making
our menu now we were able to add items
to the menu now you can remove them but
there's a lot to be desired here and
we're gonna prove upon that in the next
video so as always this is Scott with
level up tutorials if you have any
questions or comments have a coming the
video hit me up at Twitter or Facebook
at level up tutorials if you want to
help support level up tutorials head
over to store level up tutorials calm
and check out the products we have for
sale over there thanks for watching and
I'll see you in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>