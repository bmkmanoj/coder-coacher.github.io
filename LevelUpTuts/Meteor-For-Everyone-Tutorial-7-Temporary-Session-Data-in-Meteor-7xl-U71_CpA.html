<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Meteor For Everyone Tutorial #7 - Temporary Session Data in Meteor | Coder Coacher - Coaching Coders</title><meta content="Meteor For Everyone Tutorial #7 - Temporary Session Data in Meteor - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Meteor For Everyone Tutorial #7 - Temporary Session Data in Meteor</b></h2><h5 class="post__date">2015-02-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7xl-U71_CpA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up this is Scott with level
up tutorials and today we're gonna be
taking on session variables in meteor so
what this is going to allow you to do is
save data to a session so that the given
user using the application is going to
be able to interact with your
application without those changes being
seen for everybody because right now
what we've done is when you add a new
checklist that checklist item is gonna
show up on everybody's list so we want
to add some functionality to our website
that allows you to interact with your
website and not have that visible to
every single person who's looking at
that site at that moment so let's get
going right now so let's say that we
wanted to have some sort of a mechanism
to only hide the items that have already
been completed right so let's say we
only want to see the resolutions that
we've yet to complete but you don't want
something like this to affect every
single user on the site and you don't
necessarily want this information to be
persistent in the database you just want
the current viewer of this page to be
able to select whether they want to see
those are not without affecting anybody
else's experience so what we can go
ahead and do is what we can use is a
session variable and what we can do is
save a value into the session variable
that we'll be able to modify and change
but that session variable is just a
temporary variable that's only being
affected for the person using the
application so let's go ahead and first
we need to add basically just a checkbox
into our site and we can go ahead and do
that into our HTML here right at our our
input here right in our header and let's
just do that directly above the monthly
resolutions h1 or I mean directly below
the monthly resolutions h1 so all we
have to do for this is let's go ahead
and do a label and we don't need a 4 you
just need a class the classes is going
to be class is equal to
hide - finished okay
and now instead of our label we can put
an input that's going to be a checkbox
and like so the type is going to be
checkbox and we're going to set checked
to what's going to be a helper and that
helper is just going to be hi - finished
so let's set checked which is a property
of this input type and it can just be
inside of brackets like we're used to
with our helpers already and this can
just be hide finished and I have that in
camel case now inside of this input
let's just say hide finished resolutions
okay as you can see we already have this
checkbox it's been updated here and when
we check it nothing happens right
because we haven't really told it to do
anything but it looks alright so let's
come back to our application and let's
write the event that's going to trigger
this variable to be changed so what we
can do is we can come to our helpers
here and we have our template body
helpers and we have our template body
events since this event is gonna be
taking place in the body like we've said
it's not going to be in one of our
templates here it's gonna be in the body
we can do it in our template body events
so let's come here and let's add a new
one so we can do so just by having a
comma at the end of the last one and
then having a string here now the event
that we're looking for is going to be a
change event so we can say change and
then space and with the selector that we
want is hide - finished okay now we have
a colon just like we've done before and
then we're going to have a function with
the event being passed in as the
argument and there we go now here's
where we get into something that we
haven't done okay what we need to do
here is set a session variable
so what you do that is you say session
dot set okay easy enough now inside of a
quote you assign this variable a name so
this name can be anything however it
probably makes most sense to have it be
the same as the helper we're going to
use so that's hide finished just like
that and we have that in camel case now
the second value that this session that
set function takes is going to be the
value that we want to set to that given
session variable so it's going to be the
event that target dot checked so when
you check this checkbox it's going to
trigger this change function here it's
going to create this session variable if
it doesn't already exist so this
variable isn't going to exist however
the first time it finds it it's going to
say okay we want hide finished as a
session variable to be set to whatever
the current state is so if we checked it
it's going to be checked if we unchecked
it it's going to be unchecked right it's
going to be false
so if we head back to our application
again you'll notice that we can now
check and uncheck this checkbox but
again it doesn't do anything right we're
not we're not telling anything to happen
yet so how do we get the value of this
this session variable to actually be
worthwhile so we can do that simply by
modifying our helper that we have up
here to grab our resolutions and before
we just said give us all of the
resolutions well now we're going to
modify that and we're gonna say give us
the resolutions that are only checked
but we don't want to do this for
everybody so what we can do is write an
if statement we can just say if session
dot get you'll notice that we're using
session get to retrieve the session
variable and we're just going to say hi
to finished just like that just like we
have before now this if session get I'm
sorry I missed a
open there we go so if this session that
variable hide finished is equal to true
we're gonna want to return let's say
return resolutions dot find however this
time we're gonna actually have some sort
of variables here one's going to be
checked and we're going to be only
looking for the resolutions were checked
so we have checked : and for the value
of this we're going to use a MongoDB way
to check if something isn't is not so we
can say dollar sign and II and so it's
dollar sign n e troop so as long as
checked is not equal to true it's going
to go ahead and find one the reason
these resolutions so that's gonna be
once that checked is just not set or
checked is equal to false basically if
it doesn't say checked it's going to go
ahead and grab us this resolution cool
now I'm gonna finish this off with a
semicolon now we can have an else
bracket just like that and move this one
up here okay so this is kind of
important what we're basically saying is
if we have a session variable hide
finish and it's equal to true then go
ahead and return only the resolutions
that have not been checked yet otherwise
return all of the resolutions so now we
should be able to go ahead to our site
here and if we check this you can see
it's actually working it's working
pretty darn awesome however one thing we
haven't really established yet is this
helper here that we used in our HTML
this hide finished we're actually not
using this hide finished at all we want
to keep this in sync with what the
actual session value is so we want to
add this as a helper so it's simply just
defining a session variable you can't
use it as a helper until you define it
as a helper and that's sort of something
that you figure out as you work with me
is that you really can't use anything in
your templates to display information
without defining them as a helper so we
can come in here and add a comma to this
template by the template dot body
helpers and let's add a new helper which
is going to be hide finished and then
we're gonna finish that up at the colon
function and if you can guess what we're
gonna do here we're going to need to
just retrieve the session variable so we
can say return and then session get and
then pass in hide finished and finish it
up with a semicolon so now this checkbox
is going to be completely in sync with
the session variable and as you can see
checking it and unchecking it goes ahead
and shows us either which resolutions we
get to do or which resolutions we just
have completely total cool so that's
session variables you can store all
sorts of things in session variables and
retrieve them just by with your session
get so you'll get more practice with
session variables as we go as always
this is Scott with level up tutorials
thanks for watching and we'll see you in
the next one bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>