<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React For Everyone #15 - Using Forms | Coder Coacher - Coaching Coders</title><meta content="React For Everyone #15 - Using Forms - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>React For Everyone #15 - Using Forms</b></h2><h5 class="post__date">2016-05-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/1eNIYif69_0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so before we get started on this one I
want to make sure that you have
everything up-to-date now I just
released a video where I show you how to
get all of your dependencies up to the
latest versions because some of the
techniques we're going to be doing in
this video require you to have the
latest versions of this stuff not to
mention you want to sort of be on the
latest anyways if it's a long-term
release candidate so now we have version
15 of react react on version 15 and all
this good stuff with our web pack and
Babel loaders so if you want to find out
exactly how we updated everything check
out the video there's a link to it in
the description and there's a annotation
on the screen right now that you can
click watch that video first before
continuing on with this series if your
react dependencies do not look like this
okay so this is going to be a little bit
interesting what we're going to be doing
is essentially adding people to our list
here if we come to our site you could
see we had that searching going we're
working great right but we want to be
able to add people no this is sort of
different because what we don't have is
we don't have a database we're working
with so this is going to be a look less
about how you actually add things in a
little bit more about a 4-man done
submit and stuff like that so in this
video we're going to head to our
contacts list at Jas and the first thing
I want to do is set our entire list of
people our entire contacts which we had
as this step props contacts we want to
have that in a state variable like I
said this isn't necessarily how you
might be doing things in the future if
you're working with a database
I know meteor and react is a really
popular stack and obviously you wouldn't
need to be putting your data into a
state variable but for right now let's
just go ahead and not worry too much
about that and we can just say simply
contexts is going to be equal to and now
we need to bring in props I don't know
if we've done this yet but we need to
bring in our props into our constructor
so we can save props and then we also
need to bring in our props into the
super
now instead of being able to say this
dot props we can just simply say props
if you try to use props when setting
state inside of your constructor and if
you don't pass in props into constructor
and super it will not work so go ahead
and do that now we just need props dot
contacts okay we can verify this totally
worked by using this dot state contacts
when we have our filtered contacts so we
can say this dot state that context
because it's going to look at this which
is set to our props and that should
totally work now because uh this is
essentially the only place we were
actually looking at that contacts list
let's go ahead our application give this
a refresh and you can see our names are
still coming in and the filtering is
still working cool
so let's go ahead and now what we want
to do is add a form we have this input
here before and that's all all fine
let's go ahead and add a placeholder to
this place holder and that can just be
equal to search just so we have a
differentiator between the two text box
considering we don't have really any
style going on here at all now below
this one I'm going to go ahead and add a
form okay nothing crazy here and inside
of this form we need a couple of boxes
we need two text boxes one of which is
going to be for the name and the other
one is going to be for the phone number
we can say input type is equal to text
and this is going to have a ref of name
now I'm going to show you how we can use
refs to grab the value directly from
this input without actually having to
set it into state now it was useful for
this search box input to be in state
right because every single time we were
updating it we were using that value and
this time we're essentially going to be
grabbing the values whenever we submit
this form so it's not as useful for
these to be
controlled inputs now we can have this
be phone okay now of course you could
have a placeholder and everything like
that but this isn't an exercise in
building a sort of user friendly website
here this is just sort of a react
concept stuff so what we want to do is
we have our input type text in our input
type text that's a phone we have both of
our hand puts now let's go ahead and
actually respond to the event before we
had an unchanged on the input let's go
ahead and have an on submit which is an
event that we have for forms now this
can take a function which we can have is
this that and we can add contact okay
and we'll also need to dot find this
because we're going to be wanting to use
this okay super cool so now we need to
add this add contact function because
what this is going to do is essentially
we're going to grab both of these values
then we're just going to put them into
the state so we can come up here and we
can have an add contact function and we
need the event passed in we need this
event so that we can say event dot
prevent default now you might be
wondering hey why do I need prevent
default if you didn't have this prevent
default when you submitted this form
your whole page is going to refresh and
that's not good news so now let's to get
an idea of what we're going to be doing
with these refs here we set these two
refs this input type Ref cool and what
we want to be doing is we want to use
this as a console log and just save this
now this point we want to go ahead and
just throw a type submit button in here
so we can just say button type equals
submit that way we can actually just get
this submitting we could say submit or
we should say add new contact okay and
this button will make it so we can
actually hit enter on this button
if we want or just press the Enter key
itself you can see we have a new contact
form so if we come here oh man this
default button styling is great okay so
we can say Scott and have a number and
you'll know when I hit enter now we get
this object now this object refers to
this and you might be wondering what
this is well we passed into our form on
the onsubmit we bound this which is this
component essentially and within this
component there's things that you might
expect such as this dot state which we
have access to right so if we head here
you should see this dot state right here
again we have this dot props which is
right here now the cool thing is we have
this dot Refs
and we have this dot rest dot name and
the stress dot phone if you open up this
we have access to everything we would
want for the input including the if we
scroll down far enough the value if I
ever get the V okay so V value Scott
supercool okay so not only do we have
access to this value we have access to
the the input itself and we can modify
this so in our add connect we can say
this dot R X dot name dot value and now
this should output the value let's go
ahead and confirm that we bump up my
font size on this council just a little
bit set over to this one and we can say
Courtney enter and as you can see it's
outputting Courtney so why is that
important it's important because we can
now use that to access both the name and
the phone based on these refs
and we can push those in to our array of
objects in state now we can do that by
saying this dot set state and we want to
set the state of context
and we want to equal two and we can now
have access to the current this state
dot contact so let's grab all of the
current contacts and which is an array
of objects and we're going to push and
inside of this we're going to push an
object that includes both the name and
the phone now if we remember in fjs we
had these properties as name phone and
ID let's talk about a es6 es2015 way of
doing this we can do this by setting
some variables here we can just say let
name equal and we can grab this dot ref
name that value and likewise we can set
this phone to this dot ref stat phone
dot value now for the ID we we don't
really need a incremental value in fact
the ID is really just going to represent
some sort of unique number associated
with this so let's just say we want to
go ahead and say let ID equal two and we
can say math dot floor and instead of
here we're going to have a math dot
random so we're grabbing a random number
we're going to multiply it by 100 and
then we're going to just add one to it
so we can get numbers between 1 and 100
okay so this is some just real basic
JavaScript here where we're grabbing
some random number multiplying it by a
hundred adding it to 1 and then flooring
it so we're getting rid of any decimal
points so we're rounding down now we can
push inside of here in this object now
we can say ID comma name comma phone now
this is a new way of doing things in he
has 2015 if you haven't seen this yet
you can essentially grab a variable and
have it just set in an object like this
and this is the equivalent of doing
something like ID is equal to the ID
variable right here so it's just a
shorthand for setting objects so let's
try this out we can add in the name here
we could say Lucy and give her a number
and you notice we're going to get an
error that contacts that filter is not a
function and you might be wondering
what's up with this well we used dot
push to push an object into an array
well there's a few things wrong with
this one
you should never modify state so this
dot state that contacts that push is
modifying state without using this dot
set state so you should never modify
this directly using any sort of changing
like this like push and what push is
doing is it's it's directly modifying
the original array now we could use
another JavaScript method called Khun
Kat so con cat which is not actually
modifying this it's actually creating a
new array with these items and it will
return and new array where push is going
to return the number so what was
happening is contacts was getting set to
a number value like five because is
adding the fifth item and of course a
number value doesn't have the method
filter down here so that's where that
error was coming in but you should never
modify this so this dot contacts dot
concat will essentially create a new
array and set it to contacts let's go
ahead and come in here and let's refresh
let's try this one more time we can say
Lucy and say one two three one two three
one two three zero enter there she is
in addition because we you know we added
her to the filtering we can now filter
for her as well now one big issue is
when we add somebody the
the inputs here are still keeping their
value and now the easiest way to do that
is to simply just set these to zero
after you submit so after you submit the
rest that name that value is going to be
equal to an empty string in addition the
same thing for the phone like I said
this is more about working with this
form here and grabbing these data from
these refs than this set state stuff
that we're doing here because obviously
if you're working with data like you're
in meteor you're going to be pushing
stuff to your database rather than just
modifying you're pushing an array for
instance right here we're adding this
list and we're adding Luci but every
single time we refresh she's gone so
let's go ahead and add her again Luci
okay and we can hit enter and now you'll
notice she shows up and our inputs have
reset to zero super cool so we're now
adding people to our contacts list app
obviously this isn't hitting an API it's
not saving this information anywhere but
what we are doing is we're getting
information from a form in to a function
here and we're able to clear our form
and manipulate this data and even do
some JavaScript stuff in here cool so as
always this is Scott with level up
tutorials now if you are interested in
react there's a really great cool
awesome thing called react native that
allows you to build real native
applications with react so if this react
stuff is feeling really cool and
something you're just you're just liking
it
check out react native there's a react
native series from level of tutorials
called next-level react native for iOS
and Android shows you how to build
really basic but definitely useful
techniques in react native for iOS and
Android both so as always this is Scott
word level up tutorials head over to
Store that level up tutorials calm and
help support level up tutorials and free
tutorial creations by the time this
videos released I'll have uploaded 900
videos free on YouTube so if you want
that number to keep going up and up and
up
úp help support by heading over to
store doubt level up tutorials calm
thanks so much for watching and I'll see
in the next one bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>