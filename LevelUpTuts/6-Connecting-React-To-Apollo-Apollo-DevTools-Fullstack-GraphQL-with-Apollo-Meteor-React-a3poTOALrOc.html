<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#6 Connecting React To Apollo &amp; Apollo DevTools - Full-stack GraphQL with Apollo, Meteor &amp; React | Coder Coacher - Coaching Coders</title><meta content="#6 Connecting React To Apollo &amp; Apollo DevTools - Full-stack GraphQL with Apollo, Meteor &amp; React - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#6 Connecting React To Apollo &amp; Apollo DevTools - Full-stack GraphQL with Apollo, Meteor &amp; React</b></h2><h5 class="post__date">2018-01-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/a3poTOALrOc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up this is Scott with level
up tutorials in this video we're going
to connect Apollo to react we're going
to create our Apollo client and we're
going to connect it to our react app so
that way we could start querying from
Apollo in a react app and stuff so let's
get going on that right now okay so in
the last video we got our server setup
so we have a basic query we've defined
the query and our schema and then we've
actually defined the query itself or it
simply just returns a string and we've
make X and we've used make executable
schema to make a schema out of our type
definitions and resolver which we have
up here and then we used create Apollo
server to throw all that stuff into
Apollo
so our servers all set up for at least a
basic query right we should be able to
do this type of query on the client side
but before we do that we need to connect
our client into Apollo so let's head to
our client folder and our index j s
which was inside of client now we're
also going to need to install several
packages because if we head to our
package JSON file you're gonna see we're
missing some stuff right now we have you
know graph QL server and graph QL and
stuff like that but we don't have is any
sort of client stuff we have Apollo
client sure but we don't have this thing
called graph QL tag we don't have react
Apollo basically any of the stuff to
connect our app to Apollo so let's go
ahead and install some of that stuff you
don't remember we do have graph QL here
so we don't need to install everything
that the docs say to install we're just
gonna come in here and clear this out
make it easier to see NPM install - -
safe and we're going to grab Apollo - a
client client int - preset okay PR ESET
preset next we're going to install react
- Apollo again I'll try to make this
list available if I don't get to it and
someone is in the comments faster go
ahead and post this I'll stick it if I'm
not there first next we're gonna get a
graph
QL - tag okay so we're gonna install
these three things Apollo client preset
react Apollo and graph QL tag this is
the stuff that were going to be using on
our client side here so it on our index
J s we're gonna start importing some
stuff we're going to first import Apollo
client from Apollo client so we're gonna
import Apollo notice how this is all
caps or I mean can't camel case with the
first letter cap from Apollo - client
next we're going to import HTTP link HT
- sorry TTP is lower case HTTP link from
Apollo - link - HTTP and now lastly
we're going to import import in memory
sorry memory is capitalized in memory
cache from and this is going to be from
Apollo - so I'm having a hard time
typing cache - in memory okay make sure
I spelled all that correctly men or read
okay in cache memory it's give me a
green underline this - thinks this isn't
a word but I'm just going to ignore that
check my server to make sure there's no
errors here we're getting everything
client refreshed all good let's check
out in the client side
refresh all good okay so all of our
imports are successful at this point
because we imported this stuff and even
though we're not using it yet we still
imparted it ok you'll see we had our app
here and we still want to do some of the
stuff inside of startup let's go ahead
and well let's create a new meteor
client connection this is going to
connect us essentially to the graph QL
application so the first thing we want
to do is create a new HTTP link so we're
gonna have a constant H TTP
is going to be equal to a new HTTP link
now HTTP link is a function that takes
an object now the property inside of
this object is going to be URI and when
it says URI
it's wondering well what's the the URL
for the graph QL server okay now what's
cool about meteor is that we can grab
the absolute position or the absolute
link here just simply by typing a meteor
that absolute URL and then passing in
the string graph QL okay if you were
doing this in a normal setup you'd have
to give this well a URL whether it's
localhost / graph QL or whatever this is
giving us the absolute URL in our
particular app whatever it may be
okay so that's nice and easy for us so
we've created our new HTTP HTTP link and
we'll also want to create a cache okay
so we can say Const cache now cache is
going to be equal to and if you woulda
guessed that we're gonna use this in
memory cache you were absolutely correct
we're gonna say new in memory cache like
this nice and easy now lastly what we're
going to be doing is creating our Apollo
client so we can say Const client is
equal to a new Apollo client now Apollo
client is a function that accepts an
object in this object we need something
called a link and our link we're simply
going to add in our HTTP link okay next
we're going to have a cache which is
simply going to be equal to our cache
our cache which you know you can write
like this okay so we've created our HTTP
link to connect to our graph QL server
we've created our cache and we've gone
ahead and created our Apollo client now
what we want to do is wrap our app
inside of this client and how do we do
that well we do that with
something called Apollo client well we
do that with something called Apollo
provider so let's go ahead and Apollo
provider lives inside of the react
Apollo package so we're going to say
import Apollo provider from and then
react Apollo with the Apollo provider
does is it sort of makes Apollo or graph
QL available in our actual application
ok so we use this very much like we'd
use a Redux provider we can make a new
react component called Const Apollo app
is equal to a function that simply just
returns and then we're going to use
Apollo provider now Apollo provider is a
react component because this is the
react package version and we're gonna
actually paste in our app inside of here
now instead of rendering our app we're
going to render our Apollo app ok so
we're creating a new react component
named Apollo app we still have react
imported so it should be fine there so
we're making Apollo app is equal to and
we have Apollo provider wrapped around
our app now the last thing we need to do
here before Apollo is available in our
application is to simply say client is
equal to and then we're gonna pass in
our client client ok
and now our application is aware of the
Apollo server well again we've connected
to the Apollo server using meteor zone
absolute URL in a normal instance this
would just be a URL we've created our
cache and we've created our client we're
then passing our client into the Apollo
provide our component which wraps around
our application now if you have react
dev tools which I hope you do if you're
working and react you'll want to
actually fire up your react dev tools
and you can see Apollo app right here
and click on it Apollo provider now
Apollo provider has you can see a query
recycle or provider we have inside of
that our
it's not that just an h1 but as you can
see by simply having this query recycler
provider inside of here we we know that
we actually have something connected
here and that's brilliant because now we
have our Apollo client connected to the
Apollo server okay those are the two
important components you have the client
you have the server and now they're
talking to each other and if we remember
we had this little graph QL query well
we could actually run this query in our
app now so we're gonna do that in the
next video however to show off something
really cool here what I want you to do
is to grab the Apollo dev tools if you
head to Apollo client dev tools these
are the dev tools for our client side
okay
if you grab here you can grab the
download for Chrome link the firefox
link isn't working right now it could be
by the time you're watching this video
but you could select this install it in
your dev tools get it up and running
after you have that installed just as
it's a chrome plug-in here you'll see
another tab for Apollo so if your Apollo
client is working this will exist if
it's not working this won't exist we
could select Apollo here and see that we
get a graph QL or graphical interface
and this is the same as this but this
one's special because this is well I'll
show you in a minute here with some of
these queries and store and stuff we'll
get into that quite a bit more but you
can see I can run our queries and see
that our client this is the information
that our client has access to so if you
ever want to run your queries directly
from your dev tools right here they're
right here inside of the Apollo dev
tools you can make sure that your
application knows what data it's
supposed to be getting ok so again I've
mentioned this before we have our react
client now connected to our Apollo
client it's all talking to each other
and in the next video we're going to do
our first data container to actually get
this outputting hello level up instead
of just hello okay and then that is
going to be it for today's string of
videos I'm recording these all at once
but I will be coming back very soon and
we're going to be adding all sorts of
queries resolvers mutations and actually
get this tucking to a database okay so
as always this is Scott with level up
tutorials thanks so much for watching
I'll see in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>