<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#20 Custom Resolvers - Full-stack GraphQL with Apollo, Meteor &amp; React | Coder Coacher - Coaching Coders</title><meta content="#20 Custom Resolvers - Full-stack GraphQL with Apollo, Meteor &amp; React - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#20 Custom Resolvers - Full-stack GraphQL with Apollo, Meteor &amp; React</b></h2><h5 class="post__date">2018-01-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CR8vOcYd8tQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so to start off let's talk a little bit
I know I already mentioned this but why
this is returning null right now what
we're doing to resolve our user with our
resolver is let's head to our user
resolvers we have our query right which
is resolving the user query and it's
simply returning the user object that's
coming in from context now this is
simply the entire database object of the
user coming in directly from the
database right so if we do a console log
of our user you'll be able to see the
actual shape of this data
once this restarts or maybe I have to
refresh the page to get it to actually
log that out okay so check it out if you
can read this if it's not too small we
have an ID created at and then we have
services and then we have another object
which is emails well there's actually an
amazing way to do this built into a
graph QL and Apollo itself this is a
graph QL thing and this is one of the
things that is really really excellent
about graph QL and this example will
illustrate the power slightly examples
that we do in the next few videos are
going to illustrate the same exact power
in a much grander way so here you might
be wondering hey we've exported a
default query but why do we even have to
define query right these are resolvers
this is resolving a query well we have
to do that because this query matches up
with the type query right we're
resolving the type query and then user
so by that logic can we resolve a user
well we can and we can do so let's copy
this user and head to our resolvers and
we could have a comma here and then say
user now it's interesting here is this
functions the exact same way that this
does so let's take a look at our query
we said we had a field which was a user
and a type of use
which we defined here and on top here we
have the same kind of thing we have an
email and it says it's a type of string
so all that happens is that this needs
to return a string so we can actually
make a resolver here for our user and
simply have a function definition for
our email so check it out this one's
going to be just slightly different
we're not going to do an a email
function like I just kind of said there
we're going to do is an email property
and the result of this email property is
going to be a function we're gonna do an
arrow function in here like this now the
value that comes into here is going to
be the current user or whatever the
current object is that you're resolving
so we could say user in here just to
give this some contextual information
invective Lee counsel logged this out
and say user will be able to see this in
action okay I think I might need to hit
this resolver in our graphical to have
it actually display out here you can see
again its output our entire user object
so again what's cool about this is that
we can gather properties from a
particular user and resolve them into a
field on that schema and if you're
thinking about this correctly
technically you could have well a user's
resolutions here which is a array type
of resolution and you could actually
write a resolver in here I'm not going
to do this for real that was a
resolution property with a function that
returned a database query to grab all of
the resolutions you can do that and
maybe we can do that as an exercise
later just to get it done but the point
being here is that what's passed in here
is the object that we're resolving and
in this
case we're resolving the current user
its returned this user and then now we
want to grab their email so we have
access to that user and we can do
something like return user and then if
you remember in the object it was dot
emails were looking for the first item
in the array and then dot address make
sure it is address in fact okay okay
look just like this now let's simplify
this code just a little bit when we
don't need the return statement we don't
need the parentheses around our arrow
and we don't need these curly brackets
we don't need any of this stuff just
like this okay and check out this
one-liner right here this one-liner said
hey give me the current user give me the
and let's just return the user's emails
that their address right so now what we
should see when we resolve this in our
graphical boom it's outputting my email
right there in action now I don't have
to worry about the shape of our data and
how it's coming out of the database
because well I didn't like the shape of
the data that came out of our database
so I remapped it to a new property and
our API has determined how that
information is coming out of the API so
just like that you were seeing one of
the most powerful concepts in graph QL
you could do something as stupid as name
starts with s which is a boolean and
then you could run inside here and just
have a function that check to see if my
name started with an S there's a endless
amount of stuff you can do from both
hitting your database and using that
information to grab more information to
actually modifying the information
that's there I use these for all sorts
of stuff in level up tutorials for
instance let's go ahead and take a look
at a real world example on the level of
tutorials store which you should go buy
stuff from I'm just saying that if we
head to a product this is graph QL what
I'm doing in the
weary as I'm saying hey give me the
product I also have an ID that attaches
it to the playlist that came in from
YouTube and then in my graph QL
resolvers instead of outputting the
playlist ID which is what's stored in
the database I'm outputting the playlist
which resolves to an entire another
graph QL schema that then gives me
access to tutorial video content length
the series order as well as the title
and technically everything about these
series so it's endlessly powerful for
relational content and so much so that
well we wanted to have sub resolutions
on all of our resolutions we're going to
be able to do that in absolutely no time
using this relational kinds of concepts
in graph QL so check it out these are
our first custom resolver or resolver
not resolvers and it's grabbing these
your email just like that and outputting
it we now have some useful way we don't
have to wear again we don't have to rely
on the shape of the data coming out of
the database okay so in the next video
we're actually get started doing just
that we're gonna start building in the
sub resolutions that we're going to be
having and and to do that we're gonna
need to have a few things we're going to
need to have a form that submits them
we're gonna have to display them we're
gonna have to have some custom resolvers
and it might take a few videos but we're
gonna have a pretty cool little system
at the end here so as always this is
Scott with little tutorials thank you so
much for watching and I'll see you in
the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>