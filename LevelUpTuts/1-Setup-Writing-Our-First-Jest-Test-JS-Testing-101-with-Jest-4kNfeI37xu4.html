<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#1 Setup &amp; Writing Our First Jest Test - JS Testing 101 with Jest | Coder Coacher - Coaching Coders</title><meta content="#1 Setup &amp; Writing Our First Jest Test - JS Testing 101 with Jest - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#1 Setup &amp; Writing Our First Jest Test - JS Testing 101 with Jest</b></h2><h5 class="post__date">2018-04-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4kNfeI37xu4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so this video is going to be a little
bit of a precursor to another series I'm
going to do unreactive if you're looking
for react specific testing content it is
coming after I get done with this
testing 101 miniseries here I'm going to
be trying to do a little bit more of
these miniseries where they're not so
super involved in a long project but
more structured around just teaching you
sort of basic foundational skills in
different areas so in this video and in
this miniseries we're going to be doing
some testing 101 for JavaScript using
gest now it's a common misconception
that just is only for testing react
components in fact you can use just do
tests for anything JavaScript and I
highly recommend it so what we want to
do is well you're gonna want to get
cloning of this project this project a
github will be in the description of
this video you're gonna clone it it's
basically going to be a folder you can
see a source folder with an app is an
app dot test and index J assist
importing app and an index dot HTML
which just says it testing 101 and
loading up the script now to make things
easy instead of having to deal with the
whole web pack thing I am doing parcel J
s to make this nice and effortless on
our part here and there is essentially a
build tool up and running in here so
after you get this cloned npm install
all your dependencies now i'm going to
be using the terminal envyus code here
so I don't have to tab back and forth
you can hit that with control tilde to
get your terminal over here I am using
fish shell so if yours doesn't look like
this with a nice theme that's why I'm
using fish show I'm not quite sure of
what theme exactly but yeah it shouldn't
much matter based on what we're doing
now we have a couple of things on our
package JSON file which allows us to get
up and running here you can see we have
a start script so if you do do npm start
what this is gonna do is fire a parcel
and get us up and running at a local
host one two three four you can see we
have this testing 101 here now we're not
gonna be doing a whole lot of in browser
stuff so you don't actually even need to
have this up and running
I figured I would include it just in
case now the next thing we are going to
have in here is an NPM test which is
just going to simply run just watch all
now this series is going to be a little
bit about testing itself and a little
bit about jest but it's not going to be
necessarily about configuring jest
basically we installed jest which is
going to look for all files that are dot
test and using this watch all command
it's going to watch for changes and
output the results of all of our tests
now there's a lot more to configuring
jest in here and maybe we can go over
some of that stuff but as you can see my
dev dependencies are pretty small
basically just parcel just babel preset
environment I also have a babel our c
file which has preset env as well as env
test presets and V this is so that jest
is aware of the env babel preset okay so
that's pretty much it it allows us to
use all of the nice new es6 and onward
good stuff okay so what I want to do is
run NPM test from this and what you
should see is well it says it runs app
test at J s whoa that's good it's
finding the test at J's file but it's
gonna say hey it failed and why did it
fail your test suite must contain at
least one test okay so since I've gone
over all of the little setup sort of
stuff here let's actually get started
writing our first JavaScript test and
and talk a little bit about what we're
doing along the way now we need
something to test first and what this is
going to be is a basic function we're
going to have a constant function and
it's just simply going to be named hello
now this constant function is going to
be the simplest arrow function you've
ever seen it's going to be equal to
parentheses arrow and then it's just
simply going to return hello a string of
Hello
that's it this is the function right
here now this this is fine we're not
running this function we're not doing
anything the point here is that we want
to test this function we want to make
sure that regardless of anything that
happened
or changes that we make to this this is
always going to be outputting hello
now this example is extremely trite and
totally worthless because obviously a
function that is always outputting a
string of hello it doesn't necessarily
need a test right but this is your first
test and we want to make this extra easy
on you because testing is no fun to get
started when you are very confused about
testing okay so we have app that jeaious
we have a constant function and it's
named hello let's go ahead and export to
that function the reason we want to
export is that so we can import it
directly into our test which is an app
dot test is so we're exporting this we
can now come into app dot test and we
can import within brackets because it's
not the default export we can import
hello from dot forward slash app okay so
we're going to be importing this
function now at this point we could
actually just Council log hello and
believe it on our test runner should
help but hello and you can see it's
outputting it right here because the
test Runner is actually simply just
running this file it may seem like it's
a little magic sometimes but what's
actually happening is just as simply
just firing up this file okay so that's
nice to see that this is outputting our
hello test is super nice okay but we're
still saying it fails because we do not
have one test written so let's write our
first test now the first thing we need
to do when writing a test is to describe
the test so we're going to say describe
and then we're going to say hello okay
we're gonna say we're testing hello so
this is just simply a string with a
description so that when you look over
here in your test that you know exactly
what you are testing okay next we're
going to have a simple arrow function
and inside of this arrow function we're
going to have an it function now the it
function is where you're essentially
writing your tests so to say the it is
sort of describing what it should do so
you're gonna say it and then again the
first parameter is a string describing
your test it should output
hello because obviously this function
that outputs hello we want to make sure
that it always does this
again this hello function isn't
necessarily anything crazy that you'd
expect to change but who knows right so
next we're going to have a comma and
then again an arrow function now instead
of here is where we actually want to put
our code that tests this function and
this code is essentially going to expect
the results right it should output hello
so we want to make sure that this always
outputs hello so we can use something
called expect now expect is something
you'll see in a lot of different testing
languages like mocha or whatever but
just users expect like this it's a
function that takes the thing you're
testing right so we're going to expect
the hello function right so we're
actually going to call Hello with
parentheses in all right so we're going
to expect Hello and then you end up
using methods in this particular case to
actually tell it what to expect so we
can say expect and then to D and then a
string which is Hello now when I save
this you can see that something is
actually really hilarious happening
which sort of illustrates one why just
is so great but illustrates too that our
test failed so when I saved this almost
instantly I mean this is the fastest
test Runner on the planet you can see
Hello should output hello so we now get
this red arrow or that ray this red
alert that says hey our test failed
right this test failed hello should
output hello it's not outputting hello
so what we're saying is hey we expected
this value to be Hello with a capital H
but what we received was Hello with a
lowercase H which means that our
function is not working correctly right
because our test should always be
outputting Hello with a capital H and
you could see it's great because not
only does it it tells you what it should
be
what it actually received it tells you
on the line that the test was called it
says that one test failed out of one
total and you can see pretty instantly
why people like just
a platform okay so this is our very
first test and it just failed now let's
go ahead and adjust our actual code to
make it work so instead of outputting
hello with the lowercase H I'm gonna
output hello with an uppercase H the
moment I save this just refined the file
reruns the tests and we get a nice green
checkmark now one of the great things
about testing is how much green that you
end up seeing once your tests pass it
makes you feel really great about your
code but now we know we have the peace
of mind that if some other developer
were to come in here and say oh let me
just mess around here or perhaps it's a
typo or something like that and then you
run your tests and you can instantly see
now that this function is not doing what
you expect it to do again the example of
just outputting a string hello is super
kind of trite but like but the most
important part is is that we're
instantly made aware of whether or not
this code is doing what we asked it to
do we ask you to help hello we modified
this function and now all of a sudden
we're made aware that it's not doing
what we asked it to do okay so this is
example number one this is your very
first javascript test with gest now one
of the things that I've never loved
about testing is well our function is
one line here and our test is a few
lines to simply just make sure this
output hello and this might not seem
worth it to you and I guarantee that as
we go it will seem more and more worth
it as you understand how to more
robustly test your code okay because in
this example yet this might not be worth
it but as your application grows and it
becomes more complex the need for these
kind of things become more and more
important so check it out this is
testing 101 with level up tutorials
we're gonna be diving into some more
testing concepts as we go and I'm gonna
be doing this as a free series on this
channel so check back there gonna be new
videos for this every week and then
we're going to dive into react testing
in a separate mini series I'm going to
be doing a lot more of this type of
content here where we we have specific
goals in mind but not necessarily giant
projects
okay so as always this is Scott with
level up tutorials if you would like to
help support this channel release this
type of content if you want to see more
of this type of content head on over to
level up tutorials dot-com and you can
either ahead to level of tutorials comm
forward slash store and purchasing the
series or become a subscriber and get
access to all of these premium series of
UJS for everyone is the latest series in
march and the latest series for april i
have not yet announced but it is going
to be really really good so we also have
pro gatsby which is a awesome static
site generator modern CSS layouts for
understanding CSS grid and flexbox
and all sorts of great content there's
66 tutorial series available on this
website so know of tutorials dot-com
ford slash pro and become a pro
subscriber today to get access to all of
it so thank you so much for watching and
in the next video we're going to
actually write a little bit more
real-world tests where you can see some
benefits and stuff like that
so thanks so much for watching and I'll
see you in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>