<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#4 Our First Reducer &amp; Actions - Redux &amp; React For Everyone | Coder Coacher - Coaching Coders</title><meta content="#4 Our First Reducer &amp; Actions - Redux &amp; React For Everyone - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#4 Our First Reducer &amp; Actions - Redux &amp; React For Everyone</b></h2><h5 class="post__date">2018-01-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/M9rT4u1tHhw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey with that this is Scott with level
up tutorial and in this video we're
gonna be writing our first reducer and
our first action which are two things
that are very very important in two
redux but can definitely confuse a lot
of beginners because of some of them may
be that jargony stuff or some other
syntax stuff so I'm gonna break it down
really nice and easy and we're gonna
learn about the very most basic type of
action and reducer and why you might
want to use them okay so in the last
video we created our basic store which
was just outputting
welcome right well it was outputting the
welcome property with the value of hello
and we did so with these three lines
this very very simple little bit of
Redux code now in this video what we
want to do is create our first proper
reducer as well as our first action and
we're going to talk a little bit about
some core concepts of redux that
actually will work into the big picture
quite a bit so we have our constant
hello and hello has done a great name
for this we can change this to greeting
not grading greeting and let's change
hello to greeting because what this is
going to be is well our reducer and
right now it's not particularly exciting
we simply just have a basic function so
let's work on this quite a little bit
here what we want to do is establish
some sort of function that's going to
take well the current state of our
object overall and it's going to well
determine based on the type of action
we're presenting it and modify the state
now I say it's modifying the state but
it's actually not modifying the state
and this is one of the concepts that's
really super important in redux so let's
get going here we have our constant
that's returning this now I'm going to
go ahead and delete the results of that
function and just have some standard
brackets now this point we're going to
change the parameters of our function
here as well in fact we're going to
accept the state as well as the action
okay
so we're saying the state and the action
come into greeting and what we need to
do now is check the type of action so
consider this right we have a toggle
like we have a window toggle and the
result of this are either going to be
true or false right whether this window
is toggled and so your action might be
something like open window or closed
window or it might even be toggle
window and what these types of
descriptors of the action are our action
types and an action type is going to be
one of those things that's a core thing
that you're going to be using all the
time and the way 8 reducer which is what
this function is works is it takes the
state to the current state and it
determines the type of action whether
that's toggler open or closed and it's
going to output a new state object with
whatever changes need to be made but
it's not doing is it's not modifying the
state it's not modifying the actual data
store
now why is this important well let's
head back to the level up tutorials
website where we can actually inspect
some of our redux here and talk about
why that's important if I select redux
here ok this is all pretty zoomed in
here but let me make this nice and easy
to see so we have our state here and at
a given time if I jump back to any of
one of our actions went off whether it's
user logging in what it's going to be
doing is is showing me the state at that
given time the reason why this is
possible is because Redux isn't
modifying the state it's creating an
entirely new state object every single
time and this is actually pretty pretty
cheap for us it doesn't impact
performance at all so it ends up
creating a list of prior state trees
this way it allows us to have the given
state of the application sort of frozen
in time whenever
action goes off the action takes the
current state tree takes the
modifications it merges them and outputs
an entirely new state tree so that is
one of the core concepts for redux so
let's head back to our app with that in
mind and let's write our reducer let's
go ahead and inside of our function here
which we're calling a reducer have a
simple switch statement now this is just
standard JavaScript where we can say
switch now the property at which we're
looking at is the action dot type okay
and the action type is going to be what
describes the action I mentioned toggle
window open window that sort of thing
since we're having sort of greetings
here we could check for a different type
of greeting using a case so we can say
case and if the action type is equal to
greet underscore me then the result is
going to be returning and this is where
things that get fun because like I
mentioned we're not going to overwrite
the state we're going to return an
entirely new state so we can have an
object here and have a welcome message
just simply be hello Scott okay and then
we can have another case in which that
case can be case greet world okay and we
can return another new object which is
simply just welcome hello world okay now
with any of this stuff we always need a
default case so we can just say default
and by default if none of this stuff is
here I'm just going to return the state
itself okay that is the state that's
coming into this and only missing some
semicolons here there we go
so we now have our first reducer and
notice how this isn't really that much
more complex than what we had before
it's simply just a function that's
outputting an object is either
outputting hello Scott or hello world or
whatever the default may be we'll set up
the default in the second
however it's just doing so based on a
switch statement so again this is
nothing more than a function now you'll
notice we're getting output defined
because we don't have any default state
let's go ahead and define some default
state and we're gonna say Const default
state is equal to and this is just going
to be an object with welcome being hi
okay now in addition to welcome equal to
hi we're also simply going to do
something funny here we're going to have
well another property that's just other
state okay and other state is just going
to be some stuff just a strain right and
this is going to illustrate how we don't
want to modify the rest of the state
here in a second
so now a default state defined inside of
our function here inside of our
parameters we could say state is equal
to default state now if you don't know
the syntax what this is saying is if
state is passed into greeting then use
state otherwise use this default
argument which is the default state year
so by saying state equals default state
we're setting this initial value of
state to default state since nothing is
getting passed into this function at all
when we're using it down here in
greeting then the default state is set
to default state you'll notice that we
have in our store as high and some other
stuff so this isn't anything
groundbreaking but our store is starting
to come to life because well we have
more than one thing in our object and
we're going to illustrate a major
problem here in just a second when we
write our very first action now what an
action is is basically something that
says hey go modify the state and we're
going to use an action and actions can
be kind of confusing when we first start
because when you think of the word
action you think of like I'm gonna go do
something right and when you think of
I'm going to go do something you think
of a function but a action is actually
going to be an object so that's a major
confusion point for most people because
an action itself is an object however we
dispatch and action is how we say hey go
do that thing right so the action is
self is not a function to go do it it's
just a describer of what we're doing and
then the dispatch is going to say hey go
do that thing and you'll remember we saw
dispatch as a property or a method of
store so we're gonna be using store dot
dispatch now once we get into redux and
react land you're not gonna see store
dot dispatch anymore and there's going
to be a better way to dispatch so don't
worry if this feels overly verbose it's
one of those things that goes away so we
can say store dot dispatch and now
remember I said that an action is simply
just an object so we have some curly
brackets here and typically actions can
contain all sorts of stuff from data to
what's called maybe like a payload if
you're hitting an API that data that
comes back can go inside of your action
and then that can be set and added to
your state with the reducer however in
this particular case we're not doing
anything with data we're simply just
saying hey if it's an action type greet
me then an output welcome hello Scott
and if it's greet world output hello
world so to dispatch something we simply
just need to say hey dispatch something
with a type right here comes action dot
type a type of well in this case greet
me or greet world if we have something
else that doesn't fit here it's gonna go
to the default so let's do greet me and
see hello Scott being output so keep in
mind I'm defining a constant function
here but here well I'm trying to
dispatch something before our stores
created so we actually need to move this
constant store above this so we first
create our reducer well then we create
our store and then we say hey store
dispatch this action and now when we
output get state we should see hello
Scott so you can now see we have hello
Scott let's go ahead and put one of
these gets to get states above our
dispatch right here you
now see our initial state which is high
some other stuff then we run the action
and the store is updated to now say type
greet me now what's cool about this is
if we were to go back in time before
this greet me action had been dispatched
we could see this initial state which is
high in some other state so just some of
the cool things about how redux handles
that however you're going to instantly
notice a major problem here when we
output welcome hello world or welcome
hello Scott we have completely erased
our other state remember what's returned
from a reducer is going to completely
replace the entire object it's not
modifying it okay so to make this so we
can keep our previous state while only
modifying the state that we want to
modify before outputting a new object we
simply can do it this way we can say dot
dot dot state and then comma okay
let's put this into the welcome as well
so what's up with this dot dot dot state
well this is saying hey in this object
give me all of the properties and values
from the current state tree however
override welcome with hello Scott this
is using something called the es6 object
destructor ring this is something that's
new to es6 and allows us to really take
this entire object and only override
what we want to so all of the properties
that were already in state which was
really just other state and some stuff
we can add one more if you want other
states so some other stuff okay and
you're gonna see this works the exact
same the full object is now represented
every single time okay so again we have
a default state we have our first
reducer which is simply just having a
switch statement that's checking the
action type if you're greeting me we're
going to set the welcome message to
hello Scott if you're greeting the world
we're gonna set the welcome message to
hello world we've then created a store
using that reducer and only that reducer
when we get into larger examples you're
going to be creating
many reducers in combining them okay
then we're outputting the current state
to have the default state of our state
tree and then we're dispatching in
action which we're just saying hey go
greet me and then it's updating that
portion of the state and you can see
using get state we can see we are now
greeting Scot okay so all of this seems
a little convoluted and it nificantly
seems like a lot of work because do you
remember if we in react if we wanted to
update the state of anything we just do
set state this state is equal to true or
false and in this we have a big old
switch statement that's having to take
the previous state and modify and all
the stuff it seems like a lot of work
right and well this will all get simpler
you'll definitely understand quite a bit
more why we want to do things like this
instead of a simple get state set state
and when we should still use those
because a set state isn't going anywhere
we don't have to pretend like it doesn't
exist since we're using redux so check
it out this is a very first reducer
that's actually like complete this is a
very first action and it's all working
now it's not working in the context of
react and it's not working with the dev
tools or anything crazy but it's working
nonetheless and we have an actual state
tree as state object that's starting to
resemble something we could start to use
okay so while this video is a little
long in terms of getting up and running
here we now have our object the next
video is going to be much shorter as we
show you a little bit more about
practical ways that you can add
information to actions and make them a
little bit more useful than simply just
saying hey change the greeting because
right now this greet me is yeah it's
great for sort of binary things right or
maybe even things like this where you
have very specific examples but when
we're working with data and stuff like
that it doesn't make a whole ton of
sense so in the next video we're gonna
elaborate on this just a little bit
before actually heading into react land
and showing you how we can start to use
Redux and react together for perfect
state harmony and having everything
super super cool for our data for our
actions for toggles and all sorts of
great stuff so if you want to learn
about Redux head over to level up
tutorials comm forward slash store
become a pro or purchase this series
outright if subscriptions aren't your
thing thanks so much for watching and
I'll see in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>