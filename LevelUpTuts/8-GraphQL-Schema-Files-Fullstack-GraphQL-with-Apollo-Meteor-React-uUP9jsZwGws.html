<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#8 GraphQL Schema Files - Full-stack GraphQL with Apollo, Meteor &amp; React | Coder Coacher - Coaching Coders</title><meta content="#8 GraphQL Schema Files - Full-stack GraphQL with Apollo, Meteor &amp; React - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#8 GraphQL Schema Files - Full-stack GraphQL with Apollo, Meteor &amp; React</b></h2><h5 class="post__date">2018-01-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uUP9jsZwGws" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so in the last video we actually
got a real query up and going we pulled
in our data and we displayed that data
now we're gonna be doing in this video
is actually writing a graph QL schema
for our new resolution which we're
actually going to it won't be storing
data in it just yet but we're gonna be
writing the schema we're gonna talk a
little bit about graph QL schemas and
graph QL files okay so let's get started
first by heading to our a P I folder and
creating a new folder inside of API
named resolutions okay and inside of
resolutions I'm going to be a creating a
new file named resolutions dot graph QL
so I'm gonna say resolutions dot graph
QL now I have the graph QL packages and
clinic syntax installed for vs code so
you'll notice I immediately get a file
type icon and I'm also beginning in
syntax highlighting so you want to make
sure you install that stuff for your
text editor so that way things look
correct so now before we actually write
this schema let's actually talk a little
bit about what should be inside of it
let's think about it this way what kind
of things would you have for a
resolution and you might have things
like a well a name for whatever the
resolution name might be you might have
when it's created at or completed at so
created at and well whether or not it's
been completed however some of the cool
things are gonna be doing is actually
the resolution itself will be determined
if it's completed by whether or not all
the to dues inside of it are completed
if all of those are completed then the
resolution overall would be marked as
completed so we don't need completed and
we just have created at so this is
looking kind of simple if you think
about it though we would also want to
have maybe an array of two dues right we
want individual two dues and I'm gonna
say to do ID here because we want to
have
an array of individual to do's that are
associated with this particular
resolution so that's three things okay
so we're going to have a new type okay
so when we create a new schema we have
to have a new type now the type is going
to be aren't the name of whatever it is
in this case it's resolutions okay
so the type of resolutions is going to
have well it's going to actually have an
ID which is underscore ID that comes
from Mongo itself so underscore ID and
that is going to be a string so when we
define a schema we have to define the
property and what it is so we have an ID
which is a string and we also have a
name which is also a string now if we
want to say any of these things need to
be inside of this schema we need to have
an exclamation point after the type so
ID needs to be there as well as the name
so we can have exclamation points after
both of these okay so we have type
resolutions now I'm gonna go ahead and
leave this comment here for now okay and
we'll step back to this in a minute now
the reason why we don't have created at
in our schema just yet is because
believe it or not there is no date type
in Apollo so we can't have created at
type of date and just expect it to work
so we'll cover that more later okay I'm
gonna have a whole video on how to get
dates set up it's not that complex but
it's definitely worth mentioning and
then also with the to do array well this
is also sort of special - and it doesn't
need to be set up right now anyways we
can modify this okay so check it out we
have our resolutions graph QL now let's
go head to our server and make a new
file and name this register
- API and we can just say Jess this is
inside of I'm sorry I should have made
this more clear it's inside of imports
startup
then server right next to our index J s
file we have register API now for my
register API file I'm going to simply
import the schema itself so we're going
to import and I'm going to say
resolutions schema I hate saying that
word because I never know if I'd
supposed to be a schema schema
I don't know schema I guess with a K but
we here we either way we have import
resolutions schema from and then we're
going to find that particular schema so
we can do dot forward slash forward
slash to go back a couple of directories
we're gonna grab it from API resolutions
and then we're going to grab the file
resolutions and you'll notice the app
isn't really picking it up that well and
this actually has to do because this
project is not going to recognize graph
QL files just yet so you can see I'm
importing resolution schema from API
resolutions resolutions dot graph QL you
have to type in the path here and what's
gonna happen here well register API
isn't being fired yet so nothing will
happen here just yet but let's head to
our index file and import this register
API so we're going to head to import
import and we're just going to say from
the current directory register API now
what's gonna happen is well meteor is
gonna be aware of this and we're gonna
get some bucks we're gonna get some
errors that say hey we have sort of no
idea what to do with the resolutions
that graph QL cannot find this module
resolutions dot graph QL like what is
this and that's a good question how do
we get these graph QL files to just work
in our project and the answer lies
within our babel configuration and it's
luckily for us and everything that's
super duper easy to get babel configured
to work with graph QL so let's actually
go ahead and you'll notice we don't have
a dot babel our c file ok and i'm gonna
go ahead and create a new file in the
root of our project here which is just
going to be dot b a b e LRC it's babel
our c file
and this file is where we have our
configuration for Babel I can just have
a set of open brackets here and beer
will pick this up automatically so we
don't have to do anything fancy and
instead of here we're simply just going
to save plugins and awesome via Skoda
automatically made an array for me and
the plugin we're gonna want to use is
babel plugin in line import of which we
don't have installed yet so babel plugin
in line import okay just like this okay
cleaned it up for me nice and let's head
to our terminal and let's uh npm install
NPM install - - save - dev because this
is a divot dev package and we if you
copied that from before it's just babble
plug-in inline import okay Babel plug-in
inline import
okay well this fonts too large to see
anyways but basically we just need to
get this imported configured our dot
babel RC file just simply says plugins
and array single item and I don't
believe meteor will pick this up
automatically but maybe it will let me
refresh and see if we have a bunch of
bugged out errors and honestly it looks
like it picked this up which is great
news for us because it's no longer
crashing right okay so super cool I
actually thought I would have had to
restart the server but it's glad to see
that we don't here so now we can close
up of this close out of that
okay so we've imported our register
api's in our register api we've simply
just imported the schema which is just
this entire file right there's nothing
in particular it's like there's nothing
exporting out of this file we're just
importing this file itself what we're
importing it adds something now you
remember
inside of our index CAS on the server we
had our type deaths and we made a new
schema and we created all that stuff
let's move this into the register api's
file I'm gonna cut this out of here I'm
gonna move this into register api's I'm
gonna paste this in here and I'm gonna
save all of this stuff so index now
simply well I got
cut all that stuff but index now is
simply just importing register API
register API needs to be importing
create Apollo server make executable
schema and it's importing our resolution
schema okay and we're gonna shake this
up a little bit Morgan in the future
when we have more schemas but so now we
have two schemas we have the type deaths
and we have resolution schema so how do
we reconcile these because right now the
only thing our app is getting is type
deaths what we want is to merge
resolution schema with type deaths and
if type deaths was its own file it would
be coming in just as it's another
variable here so what type deaths can
have is an array if we actually have
brackets here like this and maybe have a
comma after that back tick we can
actually bring in resolution schema just
like this okay let's save this to make
this less while disgusting here let's
actually cut this back tick string out
of here and just do a Const and we can
just simply name this test schema
honestly we're gonna give you getting
rid of it anyways and we can have this
in here in this array so we've created a
constant variable test schema which is
the one we had before and now instead of
type deafs just being this one query
string here we actually have an array of
one and then two and then that all gets
passed in as type depp's here so I save
this we should be seeing no errors at
this point but we're also not going to
be seeing anything fancy the app itself
it's not going to care and since we
don't have any queries we can't do any
sort of queries on this so what do we
accomplish really well we got set up
with being able to import graph QL
schema files we created our first dot
graph QL file we imported it and we
found a way that we can add it to our
type deaths simply by adding it to this
array
so what this shows you is something that
a lot of these tutorials don't show you
with graph QL because well we create
these things like this query but in a
real project you're gonna be having a
lot of schemas and they're gonna be
combining so it's good about this setup
is that well this is totally scaleable
we can just keep on creating schemas
importing them and then adding them to
this type def sarey and then those are
going to be in to our actual Apollo
server okay so that's why I wanted to
take this time to make this video
because again a lot of these things are
sort of put everything in one file and
sort of expect you to figure out how
they are supposed to scale this pattern
right here super scalable this is I have
lots of different schemas in the level
up tutorials graph QL schema so check it
out this is how we're doing it so we are
actually going to be needing to do in
the future is creating a new tree solver
that will query our resolutions hit the
database and do all that good stuff for
us so even though this video didn't
accomplish necessarily a whole lot
visually or anything like that in the
next video we're gonna be doing is
defining a new query and that query is
going to be attached to our resolutions
schema and although we won't be hitting
the database just yet we're actually
gonna be pulling information out of our
new resolution schema and we're gonna
talk a little bit about that so as
always this is Scott with level up
tutorials thanks so much for watching
and I'll see you in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>