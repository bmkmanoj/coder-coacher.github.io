<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Intermediate Meteor Tutorial #23 - Deleting Recipes and Session Helpers | Coder Coacher - Coaching Coders</title><meta content="Intermediate Meteor Tutorial #23 - Deleting Recipes and Session Helpers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Intermediate Meteor Tutorial #23 - Deleting Recipes and Session Helpers</b></h2><h5 class="post__date">2015-12-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qRzMkj1L6z0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey with this is sky with level up
tutorials and in this video we're going
to be adding our delete and we're gonna
be toggling our edit form so that the
forms not there all the time and
basically we're just gonna continue to
make improvements on this app until it's
complete so let's get started with that
right now okay so in the last video we
edit our quick form however it's there
all the time it's annoying it's taking
up a lot of room and we still have no
way of deleting these items well let's
take care of the deleting first I'm
gonna go ahead and simply pop in here to
our individual recipe now just below the
view details right here above the if
menu now we already have the font
awesome package installed it's a nice
wheezy easy way to get fond icons I know
that SVG icons are great but for a quick
project like this using a fun awesome is
certainly no problem
what I can do is simply just have a new
icon fa fa - trash so the classes fun
awesome fun is awesome - a trash are
going to have us a trash icon now if you
have downloaded the CSS you will see
when we get back this treasure icon
already has some Styles applied to it
and that's nice it's in the top right it
sort of grayed out but when you hover
over it turns red letting you know
danger this is going to do something
okay however when we click it obviously
nothing happens because we haven't
rigged up anything yet so let's actually
head to our recipe jas and let's first
copy this fa - a trash because I'm going
to use this class for the event now just
like we have any other event will have a
comma here will have a string here we
can say click when you click on the FA
trash icon we're going to run a function
now again you might be wondering why are
we not using arrow function here if
we've used at other places well we need
to access this and the this that we need
to access is that of what we clicked on
you'll find out
believe if you have an arrow function
here and you click on this and you try
to get this that ID it's going to come
up with undefined and in fact we can
prove that right now by just doing
double parenthesis equals greater than
like so so we have our arrow function
here and we council that log this okay
so if we actually head to our page here
and we were to click on the trash you'll
see that we're getting the window and
that's not what we want right we don't
want the window obviously we want that
particular item so if we head back we
remove this arrow function and make this
into a normal function this is properly
going to grab once this refreshes here
we click the trash this properly grabs
the object we have salad salad perfect
okay so now that we have this council
log here what we need is we need to be
able to delete this now if you remember
we had some methods because this is
going to be a server-side operation here
we're gonna want to remove this
particular item we're going to need to
do that in our methods and the methods
that we actually have defined already
for an individual recipe are in recipes
j/s within your collections and here we
have meteor methods menu toggle item
okay well then you toggle items great so
we can just add a comma and let's add
delete recipe like so now this can be a
function and we can accept the ID now
let's go ahead and we can say recipes
that remove and then we can just pass in
simply the ID this is obviously nothing
groundbreaking we did this in the meteor
for everyone series if you follow it
along with those now on the individual
recipe instead of council locking this
we can simply say meteor dot call pass
in our delete I gotta spell it correctly
delete recipe make sure that's the
name here it's actually probably easier
to copy this that way there's no
spelling discrepancies or anything like
that so we're gonna call meteor we're
gonna call delete recipe and we're gonna
pass it in this underscore ID and that's
all we need to do so finish this up with
a semicolon now when we want to delete
after this refreshes we want to delete
one of these items here we can simply
just say see you later
so now the salad is gone forever it's
removed completely from the database and
we never have to think about salad again
okay so we have our delete now let's go
ahead and add some edit features now I
like to use the pencil for editing so we
can simply come into our recipe I'm
gonna copy this FA trash we can put it
above it and we can say FA pencil okay
and now you will see when we come in
here the e pencils right here now the
pencil doesn't have any styles directly
applied to it so let's actually head to
our CSS and we can search for the trash
now I want the edit to have very similar
properties we can simply copy this line
or we can add a comma here and we can
say FA pencil
okay and if we want to add a different
hover to this FA pencil we can come in
here and just say FA pencil hover and
the hover color if we want to keep this
opacity at point 6 that's a-ok but let's
actually change the hover color to
something like the teal that we have in
our variables and it looks like I figure
out the period here so make sure you
obviously have that now in addition we
have it the other one at top right 0
right and we had a display block and
padding of 20 pixels what we can
actually do is move this over to the
right a little bit less so if we were to
say right we could say right maybe let's
try 40 pixels just
to see how this looks and for some
reason I just wrote teal here I don't
know what I was thinking but obviously
we need that to be color teal okay now
when you come here on hover we now have
this teal color and perfect
although clicking on this still isn't
going to do anything and our form here
is sort of shown by default let's
actually take an approach too similar to
how we did the showing and hiding of
this in menu however we're not going to
use the database we're just going to be
using a session variable so this is
actually one of the really cool packages
that we added to our project when we
first started and we haven't touched on
this package yet however it is the
handlebars helpers which allows you to
define different helpers than what comes
with space bars and some of these
helpers are very super useful the most
useful one that I found is the ability
to grab your session variables in
template helpers without having to
define your own helper so for instance
we want this quick form to show up only
if the Edit session is equal to true now
we can simply do that by saying bracket
bracket now we can say pound if dollar
sign that session dot get now we want
the string of the session variable so
this session variable is just going to
be edit mode so if edit mode is equal to
true then show this edit form now we can
simply have this if cut off like so so
if edit mode is true then show this
recipe obviously since we have no edit
mode defined if we come to our page
you're not gonna see any forms however
we can change that simply by adding the
toggle into our events so head back to
recipe here we're gonna copy this click
event with the trash paste this in here
we're gonna say FA pencil okay and when
FA pencil is clicked we're going to say
session dot set then we're going to say
edit
mode like so and edit mode is going to
be equal to the opposite of what session
that get of edit mode is now since by
default we want this to be equal to
false we have an exclamation point here
right here by the way by default since
we want this to be false we don't
actually have to set any sort of default
session for this it's going to see that
it doesn't exist it's going to return
the opposite of it and say it's true so
let's head here now I'm going to hit
ctrl M so we can see our session
variables and jetsedder here and when I
come here to this pencil and select this
you can see suddenly edit mode is equal
to true and we have our form here we can
click the pencil again and the forms
removed so this is pretty cool one thing
we can do here also this teal color
isn't working I'm gonna actually change
this to purple so in our styles we can
just say purp here for the purple and we
can head back to our code so let's
actually think about this a little bit
if we're editing this form do we need to
see this information right here and do
we need the menu buttons if you're
editing the form chances are you want to
be editing the content here and not
necessarily seeing all this stuff up
here however the title cards alright so
let's actually come here I'm gonna cut
this form from the bottom here I'm going
to paste it just right here okay so we
now have this if what we can do is we
can say else and we can put everything
that we want to hide within this else so
I'm going to grab all of this stuff
right here that is the description the
each ingredients the view details and in
addition I'm going to grab the menu
buttons I can leave the FA pencils and
stuff like that because we need those
and let's go ahead and put this right
here so now it's not just turning on
whether or not you see the form but it's
turning on or off the data itself here
and it except for the name
so if edit mode is false it's going to
show you the data if edit mode is true
it's going to show you the form let's
head to our page here and as you can see
this one's already been updated so we
have ahi tuna we have this name all this
cool stuff we can click this out and
awesome so we have this nice little edit
mode now where you can select this
toggle and it's going to turn on this
edit now there's again improvements to
be made right now edit mode
if you'll notice because we're using a
session variable that's simply setting
the session to equal true it's toggling
every single one of these that's not a
terrible thing you know it's not it's
not the worst thing in the world however
it's really not how you would want this
to work and not necessarily how your
users would expect this to work so in
the next video we're gonna tackle that
making this just a little bit better
here and we're going to add a toggle for
this main form up here so as always this
is Scott with level up tutorials if you
have any questions or comments leave a
comment the video hit me up at twitter
or facebook at level editorials i'd love
to hear from you in addition if you want
to help support head over to store that
level up tutorials calm and check out
some of the premium tutorial series i
have available over there i'm gonna hit
over 200 free tutorials this year alone
so if you want to help keep increasing
that number of free tutorials released
on level up tutorials head over to store
dot level up tutorials calm and to help
support the creation of these free
videos thanks so much and I'll see you
the next one bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>