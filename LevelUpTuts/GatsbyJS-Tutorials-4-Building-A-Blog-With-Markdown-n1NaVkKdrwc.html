<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GatsbyJS Tutorials #4 - Building A Blog With Markdown | Coder Coacher - Coaching Coders</title><meta content="GatsbyJS Tutorials #4 - Building A Blog With Markdown - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>GatsbyJS Tutorials #4 - Building A Blog With Markdown</b></h2><h5 class="post__date">2017-08-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/n1NaVkKdrwc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so in this video we are going to be
working with Gatsby by creating a blog
using markdown files and graph QL to
pull in that information now this is
actually pretty easy once you understand
exactly what's going on however if you
were to fire up Gatsby with anything
other than the blog sort of starter kit
or starter file you might be kind of
confused as to where to go or what to do
right so what we're gonna be doing here
is I'm gonna be showing you each step of
the way and you're talking about why
we're doing it because there are
definitely some things that you might
maybe see coming or not see coming or
whatever so the first thing we're going
to be doing to get started here is to
bring in a plugin now the plugin we need
to bring in is going to be a source
plugin now what that means is a a source
plugin is basically a plugin for Gatsby
that allows you to create nodes or
essentially grab in data from things and
in this case that's going to be markdown
so the source plugin that we need to use
first is going to be the Gatsby source
file system because we're going to be
pulling in files from our file system
not from some sort of external API also
keep in mind I'll be making this repo
available so if you need this code I
will post it in the description of the
video so what we have here is basically
my I term I'm in the root of this
project and we can simply just do NPM
install - - save and this is going to be
a Gatsby - source right because this is
a source plugin and then the plugin name
is file system file system kit and we
need to let this install but as this is
installing we can head to our Gatsby
config j/s okay you can see I have my
SAS plugin from the last video and the
helmet video that are the
that plug-in that came with Gatsby let's
check out the see Kate package was
installed correctly now we can add
another coming here now instead of
having a just a string that says gatsby
plug-in or gatsby source file system
we're going to have an object now this
object is basically allows you to add in
plugins with a little bit more
information than just hate start using
this plug-in for that we need a property
called resolve which is going to tell
you what actual plugin we're using in
this case it's gets be sort o got a
spell that okay source file system okay
hopefully none of those spelled
incorrectly it looks fine to me at
glance here and that next we want to
have our options which is also going to
be an object okay instead of this object
we can give it a path right here's the
files in the file system where our
markdown files are going to be located
so we want to give this a path and
inside of this well actually want to use
back ticks for this who can have a value
here that just says underscore
underscore dur name
okay so dur name is going to get us in
this case it's going to get us the
current directory that the project is in
forward slash SRC right because our
source folder over here and wherever
you're going to be storing your posts
now I'm going to be storing them just
within pages for this example you can
change this if you'd like so we're going
to say pages and next we're going to
have a name name which is just simply
going to be not pagers this isn't the
90s okay pages check it out okay so as
you can see here we're not really doing
a whole lot more than just initializing
a plug-in like we were up top here
essentially we're initializing a plug-in
and we're giving it an option with a
path of where our files are going to
live and a name okay so check that out
now the next thing we need is what's
called a transformer
plug-in which basically takes some sort
of data format right it could be
anything from like JSON or Yemen or
markdown or whatever and basically
transforms it into information that gets
beacon query against in graph QL so
really what we want to do is add a
plug-in here that allows us to use our
markdown files as essentially something
we can query off of so back in my
terminal here I'm going to npm install -
- save and this time is gets B and if
you guessed it correctly we're going to
be using transformer because this is a
transformer plugin so trans4mer - and
then that the plug-in name is remark
because we're using a package called
remark to get to that information now I
should mention that we could do the same
thing with the resolve with options
because there are additional plugins you
can pass to this remark transformer
plug-in and they can really make your
your entire markdown thing a little bit
more powerful whether that's
manipulating images and stuff like that
that's out of the scope of this
particular video so what we're going to
do is simply just import this plug-in as
gets I'm gonna copy and paste this to be
honest because writing this out twice no
thanks okay so gatsby transformer remark
is our plugin in our gatsby config okay
like i said there are some options where
you can add in additional plugins but
i'm not going to bother with that now
that i have our config setup i want to
get our gatsby site running if you
already have your site running stop your
site with ctrl C and then start your
site again so we can do get speed
develop and this is going to get our
site up and running okay so you can see
at my local host port 8000 nothing crazy
from what we had before purple gets bila
yes hello people okay so that should be
all good you can see we're getting no
errors about any of our configure
plugins which is all good if you
are getting errors please address those
chances already maybe you type something
wrong it didn't install something or you
have an issue with your actual text in
your config file you can compare against
mine in the github repo or on here okay
so let's check it out the very first
thing we want to do is start to add our
pages before we can find them right so
what we want to do is head to our pages
folder and we can create a new folder
and this folder is going to be
essentially our blog post right whatever
is contained in here will be our our
markdown files and images and whatever
for our blog post so what's a good way
to differentiate your blog posts well
one of the you know blogs are typically
by date when they're released so a good
way to do that would be by the date of
the post keep in mind here that Gatsby
does not care about your naming
convention here it doesn't care what you
make this folder but it's makes sense
especially for blog posts so you'll see
this example done a lot but at the end
of the day it's just because it makes
sense okay so let's do 0-8 I believe
today is the 24th okay and then 2017
okay and then we want another -
obviously this is a folder name we don't
want any spaces and we can just say
first
- blog or whatever you want your blog
post to be titled it doesn't really care
about this folder structure like I said
and next let's go ahead and create a new
file within that folder simply just
named index dot and D okay it's going to
be the main markdown file inside of our
blog post okay so instead of our
markdown file this is going to be just
like any other markdown file with one
exception we take a concept here that
you be probably familiar with if you've
worked in Jekyll where we have
frontmatter
now our frontmatter can be
differentiated here by three hyphens or
three dashes whatever you like to say
and then we can give this some
properties no these properties will be
able to be accessed in our JavaScript so
we can say
let's say we want a property that is
path which the path can simply just be
first post and then this path can be
anything you'd like but it's going to be
the path at which you're trying to
access your files and the next we can
have a title which can be the title of
your blog post so we can just say first
blog post now we can end our frontmatter
by having three more hyphens now from
here we have the ability to have normal
markdown so we can have a basic pound
sign or hash and just say hello
exclamation point okay say that and now
we have our very first blog post
although it's not exciting right okay so
at this very point in time if obviously
we had to first post like this we're
going to get a 404 now hopefully that
changes in a minute here after we add
some stuff so the first thing I want to
do is create a template for our blog
posts keep in mind this isn't like a
page like these pages here and it's not
necessarily a layout so let's go ahead
and have a new folder which is just
templates okay okay so next inside of
templates we're going to go ahead and
just create a new file which can just be
we'll just have this be post that j/s
this can be whatever you'd like post it
makes makes a lot of sense to me now
we're going to do our standard stuff
like importing it not typing importing
but type but import react from react and
we're going to import helmet from react
- helmet okay now the next thing we want
to do is export a template so we're
going to use export default function and
then the word template pad this is going
to be our template so it's going to be
function here and inside of this
function is going to accept an object
like that
okay now next we're going to have our
parentheses here and instead of our
parentheses we're going to have a
object and then simply just the word
data basically what this is going to be
doing is it's going to be a prop that
will be injected by the graph QL query
so this is gonna be where all of our
information is going to come in from our
craft QL query and then can be rendered
in our template so these are just
arguments and an object here you know
what we could do is have this be like
this if this looks more like a
JavaScript function to you will be
expanding on this later but as you can
see here this is a standard JavaScript
function nothing crazy here now the data
that we want to be using is going to be
stored inside of this data object as
data dot markdown remark because we're
using remark if you remember to pull in
our markdown data so we can simply just
come in here and bring that out using
our object deconstruction here and we
can just say mark down remark and that
variable data dot markdown remark will
be reassigned as a post variable as in
just our blog post right so this is
going to equal data if you haven't seen
the syntax before it's the equivalent of
doing Const post is equal to theta dot
markdown remark where we're simply
pulling up the markdown remark from data
and assigning it to post okay so now
that we have that let's go ahead and
return something right this is a react
component so we need to return and now
we want to return to simply just a div
and inside of this div you can lay out
your blog post where you like but a good
way to start off here simply by just
having an h1 so inside of here is where
vocabulary becomes important I mentioned
before that the top of art markdown file
here was the front matter now
frontmatter is something that you'll
recognize from Jekyll if you're coming
from Jekyll ok so we have a frontmatter
so our data inside of
post is actually accessible via our post
dot front matter and that we have access
now to every single variable in our
front matter you'll remember that we had
path and title so we can use title you
can set anything you want in your front
matter and you'll have access to it here
okay so we now are basically outputting
this h1 obviously the page isn't going
to work still because we don't have any
sort of data coming in and basically we
haven't registered our pages yet before
we get to registering our pages we're
going to actually write the graph QL
query now if you don't know a ton about
graph QL I would highly recommend the
how to graph QL resource there's videos
and blog posts and all sorts of stuff to
get you up to speed but for the most
part I'll do my best to explain what's
going on here so we're basically going
to export a constant function and this
is just going to be our post query and
the post query is going to be equal to
graph QL and we're going to have
backticks
like this if you've ever used styled
components you would recognize this sort
of function back textile okay so next
here we have a query which is going to
be a function we're just going to say
blog post by path which accepts a
property which accepts one argument
which is dollar sign path and we're
going to say that path needs to be a
string okay
so dollar sign path colon string
exclamation point so now instead of our
query we're actually going to be
searching for our given posts or are
given post singular by the path in the
frontmatter to do that we can do mark
down remark remark okay like that and
inside of this query we're looking for
the front matter okay and then the value
of the front matter we're actually
making sure
that the path of the frontmatter that is
so path : we're looking for the path of
the frontmatter
is equals equ - dollar sign path which
is the path coming in to our blog posts
by path so the query is looking for a
given blog post it's getting the path
and then it's finding a markdown file
using markdown remark where the
frontmatter dot path is equal to dollar
sign path okay let's go ahead and have a
bracket here and then we're going to
wrap up the rest of our query by telling
graph QL what exact information we want
now we want the HTML which will be the
interior of the blog post and then we
can have a comma and then we want the
front matter and then we can have
brackets and inside of the front matter
we want the path and the title now I
messed up this query I add a comma in
here so make sure you're used to writing
JavaScript object stuff graphic you well
we don't have commas here so HTML
frontmatter path title all like this
okay so this is our query this is
hitting our our files and saying hey
which of these markdown files has the
same path that we're looking for okay it
should be straightforward okay so that
seems like a good place to take a break
we've made some progress here so pick up
in the next video as we continue
creating our blog in Gatsby</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>