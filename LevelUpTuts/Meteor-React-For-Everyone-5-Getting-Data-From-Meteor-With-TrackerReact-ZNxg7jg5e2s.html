<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Meteor &amp; React For Everyone #5 - Getting Data From Meteor With TrackerReact | Coder Coacher - Coaching Coders</title><meta content="Meteor &amp; React For Everyone #5 - Getting Data From Meteor With TrackerReact - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Meteor &amp; React For Everyone #5 - Getting Data From Meteor With TrackerReact</b></h2><h5 class="post__date">2016-03-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZNxg7jg5e2s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up this is Scott with level
up tutorials and in this video I'm gonna
show you how we can get data from meteor
and a MongoDB and have it be reactive
like how meteor normally is and work
with that within the context of a react
component so let's go start it on that
right now
so in the last lesson we got some
resolutions in there you can confirm
this by opening up your meteor toys bike
by using control m and seeing that we
have our resolutions in here but now we
would really love to have those actually
displayed on the screen right because
that's obviously the purpose of this
application is to be able to interact
with your resolutions right and and say
that you did them and all things like
that so let's go ahead and talk about
how meteor can connect with react and
actually serve up the data now there's a
lot of techniques for doing this in a
versions lower than 1.3 of meteor you
would just use the get meteor data mix
and now mix-ins are not compatible with
the es6 or es2015
syntax of doing things here so adding
the mixin and not using the newer syntax
is not really a great solution so if you
have learned that get meteor data that's
alright so it's certainly a viable
solution but going forward I wouldn't
rely on it personally so in this video
we're gonna be showing you a tracker
react which is a package I really like
now there's another solution called
react composer which is also great
however tracker react really just spoke
to me in a way that react composer did
not and it seemed like a really nice
solution so I'm not saying that this is
the only solution this is the solution
that I choose because it's a solution
that I really like now let's go ahead
and first edit the package we can do
that by actually just opening up our
packages folder let's go to packages and
let's add a new package which is all
timet j s :
tracker tracker - react now if you want
to make sure that your spelling is
correct you can always Google ultimate J
s tracker react and find the github page
and go ahead and just copy it directly
in here
we could do it this way and upon saving
this file I can check my command line
make sure that it is in fact grabbing
the correct package so I'll have the
link to this github page in the
description but it's ultimate je s :
tracker - react and now we can use this
package now one word of warning at the
time of recording this video there is an
issue with version 1.0 0.2 you see that
your version is 1.0 point to keep in
mind that we need version 1.0 point zero
or higher than 1.2 1.0 - has a bug in it
right now that causes some things to not
work quite right
so if you see 1.0 point 3 or higher then
it just totally ignore this next part
but if you see 1.0 point to head to your
packages file and add an @ equals one
point zero point zero like so and
hopefully what we should see is that our
package will be then updated to version
1.0.0 and we can confirm that by hitting
versions scroll down and as you can see
ultimate tracker react at one point zero
point one one point zero point zero keep
in mind this versions file just shows
you the versions of every single package
that you're using you can feel free to
come in here and check this out at any
given point so as you can see by using @
0 @ equals one point zero point zero
we're now using the correct version of
tracker react now tracker react makes it
so you can use meteors reactive
abilities directly in react with no
extra hassle so to do this let's go
ahead and on our app dot JSP let's go
ahead and have an import here we want to
import and this is going to be cool
because so far we've only imported NPM
packages now we're going to import
tracker react from and then now we can
say meteor forward slash and then
ultimate J s :
tracker - react so we're now actually
importing tracker react from the meteor
package itself so that's pretty cool
let's make sure that we have no errors
on our page it's actually head to the
browser I like to just head back to my
browser all the time just to make sure
when you import something that it did
find it otherwise it would complain to
you that it did not find it okay so
we're now importing the tracker react
let's go ahead and use tracker react now
the way to use this is basically we need
to wrap this react component in a
tracker react so we can say tracker
react like so wrap this in parenthesis
just like this so tracker react now what
we should see here on our page when we
refresh we should see a tracker react
engaged if you don't see this make sure
it maybe refresh but we need to be
importing tracker react and we need to
be extending tracker react wrapped
around this react component now what we
want to do is have a function here and
this function is just going to be
resolutions
okay now resolutions is just going to be
inside of here it's going to return just
a Mongo query so we can say returned and
now we can pass this in just a standard
resolutions which is our collection dot
find dot find now we can have open and
close parentheses here since we're not
going to be searching for anything in
particular we just want all of the
resolutions now we want a dot fetch now
fetch is going to make sure that this
query returns an object otherwise dot
find is going to return a cursor now
that's not necessarily important for
this example all we need to know is that
fetch gives us the object now to make
sure that this is working let's go ahead
down to our render function so before we
print out any sort of data or anything
like that we can simply say console.log
and now let's output this dot
resolutions
and if you remember that's a function so
we need parentheses now this dot
resolutions if you remember from the
last video we used this dot add
resolution so this dot resolutions right
here is referring to this function which
is returning the object of our
resolutions so now when we save this
head back you should be able to see that
we have our resolutions being output
right here in the command line we can
open these up we can see all the correct
information so as you can see now we
have this data and it's coming directly
from our database into react ok so since
we now have this information let's go
ahead and write a single resolution I'm
just going to head it down here beneath
the form and I'm going to just add a div
we're gonna be rewriting much of this
HTML so don't worry about that now for
our actual text let's go ahead and grab
the first item to do that I'm actually
just going to make a new var we can just
say let res equal this dot resolutions
like that now down here we can inside of
our div inside of curly brackets we can
now have access to res and actually we
want because this is an array we want
the first item dot title now the reason
I'm not showing looping just yet is
because it's a little bit different in
react I don't want to sort of overwhelm
right now we're just working on getting
our data out of tracker react so as you
can see if we come back to our page here
let's actually give this a manual
refresh it turns out this should be text
not title sorry
res the first item dot text and now as
you can see the finish react meteor
series is now being displayed properly
on our front page here now after
recording this video I found out that a
number of people were seeing this after
using this text reza zero text and we're
getting this uncut type air cannot read
it property of text if we had to our
sublime text no the problem here is when
the tracker initially engages res is
actually set to zero because this dive
resolutions comes in as a completely
blank array so res zero is going to be
equal to undefined and when we try to
grab this text it's not going to be able
to find anything so if you are seeing
this error right here it's essentially
because react is trying to use the data
before it's available now the solution
to this is actually to check quickly so
what we can do is n if statement we can
say if res dot length is less than one
so if there's no items in this array
then let's go ahead and return and we
can just simply return a div that says
loading now this is just a temporary
solution and you'll notice a pitfall is
if you have no resolutions in your
database then we're never ever going to
see any of this stuff at all however for
the next few videos you don't really
need to see this rezneck so if you are
getting undefined
just go ahead and remove this line
entirely it is non-essential for the
rest of the videos however you may see
it pop up in the code examples if you
head to the page here you'll notice we
do have a resolution popping up now and
we're not getting any error because it's
only returning this until of course res
then gets data once the res gets data
then it allows you to proceed now of
course like I said if res never has data
it's never going to proceed so make sure
you have a resolution saved in before
you try to do any of this cool so I hope
that cleared up some problems that were
happening like I said if you see this
res de text in further videos and it's
not working for you just go ahead and
remove it it's non-essential amazing so
we've learned a few things in this
lesson we've added a method on our class
we've added the trekker react package
that we are now importing directly from
atmosphere
here and we're using tracker react to
wrap react component then we're getting
that data from the database then over
here I'm just setting it to a variable
so that we can then grab it right here
so now that we have our data here we're
going to start thinking about react
stuff a little bit more here so we have
our data within meteor we have our
components but what we don't really have
is sort of any proper structure we're
not really thinking in components we're
just sort of throwing everything into
this one component so over the next
couple of videos we're gonna clean this
code up a ton we're gonna add Styles
we're going to add some folder structure
we're gonna actually loop over this data
and show you the process for that so as
always this is Scott with level of
tutorials if you want access to all of
the code examples as well as extra
unreleased videos in this series head to
store dot level up tutorials dot-com and
check out the product for sale for
digital download or you can sign up to
be a level of pro and get access to
actually streaming this content all of
which will be available right now if you
send them to be a pro or if you purchase
that stored out level up tutorials com
over the past three years I've made
eight hundred some free tutorials on
YouTube I'm hoping to do at least 200
more this year for free on YouTube so if
you want to help keep supporting the
free tutorials head to start our level
up tutorials comm and help support as
always thanks for watching and I'll see
in the next one but</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>