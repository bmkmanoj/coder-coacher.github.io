<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#10 Organizing Our Resolvers - Full-stack GraphQL with Apollo, Meteor &amp; React | Coder Coacher - Coaching Coders</title><meta content="#10 Organizing Our Resolvers - Full-stack GraphQL with Apollo, Meteor &amp; React - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#10 Organizing Our Resolvers - Full-stack GraphQL with Apollo, Meteor &amp; React</b></h2><h5 class="post__date">2018-01-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/cLCnmYEupkk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so in the last video we wrote our
query that gets our resolutions we're
still not hitting the database I know
that's gonna be something that we're
gonna hit very very soon however I
wanted to get some of this foundational
stuff out of the way for instance right
now we have our resolutions query and it
lives inside of our register
- API file that's not great this file is
already getting too long I mean this it
doesn't need to be this long right
especially when we have more and more
queries the last thing you want to do is
throw them all into one random file here
the best place for them to live would be
inside of our imports API and then the
API actual item for instance resolutions
so what I like to do is make a new file
inside of the resolutions folder and
that new file is just going to be named
resolvers dot j s now what is a resolver
well we already wrote a resolver which
is our query all we need to know right
now is that for a resolver to work we
need to have hey our query and inside of
our query we need to have what the query
actually is and you might be wondering
what's up with query is this the only
type of resolver that we have and that's
a big big note you end up writing a lot
of different types of resolvers not just
queries and that might confuse you right
now just me saying that but when we get
into our to Do's inside of our
resolutions are gonna be like ah that's
great
amazing okay so let's go ahead and
actually just copy this whole object
here I'm gonna start it from the very
top where it says constant resolvers and
copy this whole thing move it into our
new resolvers file okay then I'm going
to go ahead and delete hi from here cuz
this is just our resolution resolvers
and our register api I'm going to go
ahead and delete our resolutions like
this okay
so check it out we have one resolvers
file and well from here what we can do
is do an export default okay I'm going
to export default the query resolvers
notice how we don't even have to give
this
name which was saying export default and
then there's an object inside of that
object we have a query property and the
name of our resolver now obviously we
tried to go to our app right now
everything when he broken this we're not
importing this so it's a head up top
here and I'm gonna import I'm gonna name
this resolutions resolvers that's a long
name but um it's gonna be it then we're
gonna import dot dot dot dot API
resolutions and then forward slash
resolvers okay so we're getting all of
our resolvers out of here and you may be
thinking hey we can define our resolvers
as resolvers and again resolvers is
expecting an object this object already
has query in it so if you are a savvy
es6 user you might think we could do
comma dot dot dot resolution resolvers
which would basically add the contents
of this object into our resolvers now if
i save this
you're gonna find out pretty quickly
what the issue is cuz it's going to tell
us what the issue is and if i refresh
yeah okay something is clearly wrong
here if i head to our command line you
see nothing quite going on here and if
we head back to our graphical and we
tried to use the hi and it's gonna
return null here it's returning null
because well our actual resolver isn't
showing up if we were to do a CLG or
counsel log here and check out what our
resolvers looks like let's see what this
actual object looks like if you're an
es6 user you should know what this is
going to look like but it's helpful to
sort of see it in action here well it
turns out we have our query and while it
got overridden by this resolutions so
this obviously isn't what we're looking
to do now we could have just simply from
our pre solvers
made the object starting right here
right before the word query and we could
add this in inside of our query with a
dot dot dot but again that's not going
to be super great because then you have
to have query outside of here this is
gonna get complex a better option would
be to simply just merge everything and
we can import and the best way to do
that is with lodash so hi this is how I
do it there's a number of ways you could
go about doing this but we need to
assembly essentially merge these two
objects okay and we can do with that by
installing NPM install - - save lo - ok
lo - has been added and what we can do
here is import merge from lo - now
there's fancy way we can import that we
can import merge and then from and
instead of importing it within the
brackets we can do lo - forward slash
merge and that way we don't have to
bring in the entire lo - package we save
summit kilobytes here and we have access
to the merge now from here we can say
well let's go ahead and just say let's
change this word to resolver for now
this resolvers let's make a new variable
named resolvers not to get confusing
here and we can have this be equal to
and we can simply just merge all of our
queries together so we can merge both
resolver and the resolution resolvers
okay let me go ahead and get out of this
dot dot dot here save this let per diff
I'd do or pretty or do its thing okay so
let me explain this a little bit we have
one object that contains the property
query with a function in it we have
another object which we've imported
which is our resolutions query our
resolutions of queries or query I guess
that also has a property query with a
function in it what this merge is going
to do is it's going to combine
everything so that now when we Council
log everything out we should see that we
have both a query
for high as well as a query for
resolution this again just like we had
with our dot graph QL file allows us to
keep everything in separate folders and
the more and more things we need to add
we'll just add another resolvers file
and have a comma and as resolvers again
i don't think this is necessarily like a
standard practice but this is really the
best way to sort of combine these things
right and I can even just change this to
say test resolvers to make it a little
bit more like the resolutions resolvers
just so that I don't know resolver
resolvers doesn't get confusing
but so here's what we're doing we're
making things able to be stored in its
own files that way when we add new ones
we simply just have to import add it to
the list and then same with resolvers
we're going to import add it to the
merge we have our resolvers here and
we're going to have it in here now this
is going to become especially important
once our resolvers are no longer just
queries okay again if you have a better
way of doing this feel free to leave a
comment or let me know this is the best
way that I've sort of seen now to keep
everything sort of separated I like to
have folders for resolvers I like to
have folders for mutations and I like to
have individual files for resolvers
mutations and a schemas here that way we
can bring it all inside of here and we
can merge them up we can pass it into
our make it executable schema and we can
see that everything once again once we
refresh is working as expected
so we've now modularized this a little
bit and we definitely set this up for
future being able to add more and more
things into our resolvers more and more
things into our type depths based on all
of the different data types we have so
as always this is Scott with level up
tutorials and I think it's about time we
started actually getting up and running
with some data in an actual database so
our resolvers are no longer going to be
while returning static text but more or
less returning what we have in our
database and then
that we're gonna build forms and we're
going to submit those forms using
something called mutations so as always
this is Scott with level up tutorials if
you want to help support level up
tutorials head on over to level up
tutorials comm forward slash store and
purchase a tutorial or become a
subscriber and help support this kind of
free content because without the people
helping to support it's not easy for me
to create as many free videos as I have
so thanks so much for watching and I'll
see in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>