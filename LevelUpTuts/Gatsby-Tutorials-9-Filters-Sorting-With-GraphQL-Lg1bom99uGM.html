<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Gatsby Tutorials #9 - Filters &amp; Sorting With GraphQL | Coder Coacher - Coaching Coders</title><meta content="Gatsby Tutorials #9 - Filters &amp; Sorting With GraphQL - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Gatsby Tutorials #9 - Filters &amp; Sorting With GraphQL</b></h2><h5 class="post__date">2017-10-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Lg1bom99uGM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so before I get started in this
video I did want to talk about a series
I just released really quickly it's
mastering Sigma Sigma is an amazing
cross-platform design app that works in
your browser so you can use it on
literally any platform but it also works
on there's a desktop app for Windows or
Mac and it's basically a replacement for
Illustrator sketch or anything like that
it has some amazing Google Doc like
collaboration features and basically it
allows you to build really really cool
designs collaboratively and use
components in a very react like way so
if you're used to working and react
thinking and components and stuff like
that this is a design tool for you
because it allows you to build extend
and just make components and even like
share them across projects with your
team in a really really cool way so if
you're interested in on that head to
level up tutorials comm forward slash
store check out master and figma this
just hit the store yesterday or you can
become a pro and stream this download it
whatever so if that's something that
interests you buying things from the
level up store really helps out the
production of these free tutorials and
that's the end of this advertisement for
my content here so I hope it wasn't too
much of a burden ok so in the last video
or at least the last couple of videos we
talked a little about this graphical
editor where we were able to give it our
basically our query here and it was
going to tell us what we're going to get
exactly out of this now we want to add
some features onto this for instance I
want to have like a date right I want to
had a date and I want to have the
ability to determine whether a post is
sort of a draft or not right it would be
nice to just turn on a flag that way you
could write a post and leave it in your
repo and maybe not have it be pushed up
onto the actual live site so let's go
over our code really quick here I'm
gonna head to the vs code here if you're
wondering about this color theme this is
the new level of tutorials color theme 4
vs code it's under I believe just
leveled up
maybe level up tutorials you'll find it
has my logo on it but keep in mind it's
in beta so if you see something totally
weird let me know
the bug reports on github that good
stuff - if you hate it - let me know as
well down to hear that okay so here we
have basically our index page where we
created our index we got all of our
posts we did so with our page query
we're just essentially fetching all of
our posts
now after we get this going we'll
actually be able to sort this by our
date time and stuff like that in our in
our post so that's really nice
and if we head to our actual site you
can see it right here no problems
okay so let's actually get started
adding some stuff to some of our
markdown files I'm going to open up I'm
gonna head to my pages and I'm gonna
just open up both of my blog posts our
first and our second one and remember we
had our frontmatter which was the path
and title and we can add a whole bunch
of stuff in here and it's gonna be
available to us as the frontmatter that
we can even query off of now let's go
ahead and add something like well and
the Gatsby examples they use something
called draft I'm more familiar with the
maybe look published right if you're
used to WordPress or Drupal you could
have published okay although that word
is longer and have this a true lesson
yes this is published okay now let's
head to our second blog post and let's
change this paste this in here and
instead of published equals term to say
it published equals false okay so that
way we have a little bit to work with
here now the main point in which this is
going to concern us is within our index
so if we remember in our index here we
just had a couple of links and sure
enough I'm going to wrap those in an
unordered list because if you remember
they're just like being output straight
up right now so putting these in a list
so putting these in a list is gonna be
doing us good things for readability
right now or at least so we can
determine if there is one or two or
whatever okay so I added those my list
item and here we are a little bit more
readable so after we implement this you
should see that our second blog post is
not going to be showing up okay so let's
go ahead and head back to our query and
you'll remember we told it to give us
the title and path but let's tell it to
give us public
published okay just like that now let's
run our query and you'll see cannot find
field published on type of frontmatter
okay so if you're used to this sort of
stuff you might be knowing exactly
what's going on here if you're not maybe
major confusion why the heck did this
work we're querying our frontmatter it
should be here right so you might be
coming to your query here and just
saying you know what what's wrong with
what's wrong with what we were doing in
our query right why would this work and
then have it now work with publish well
to be honest all we have to do is stop
our server restart our server and this
is going to take an account of the new
stuff and the new changes within our
markdown files and what that's really
going to do is basically take care of
any modifications to the stuff that we'd
be querying on you'll notice that we
typically don't have to do that if we
were to change this second blog post
title to like blog PST and then I'd ran
the query you'll see it's getting that
update it's not necessarily because we
made a change to the markdown file but
boot is a change day something about
this schema itself right it gets be
needed to become aware of that new
schema so let me undo that and let's
head back so check it out what we want
to do here is at our filter and we do
that up top where we have our limit now
you'll notice that limit is just inside
of here now what we want to do is put
limit on to its own line notice how
unlike a JavaScript object despite I
mean this besides not being wrapped and
curly brackets here there's no commas
here so even down here to no commas so
what we want to do here instead of a
having just a limit is we're going to
want to have a filter as well so we can
say filter almost we get a nice little
helping there and then we're going to
have curly brackets now over the course
of this there's going to be three sets
of opening and closing curly bracket so
count them when you're writing them just
so you don't miss any of them if you're
writing it inside of this graphical
editor it should help you out quite a
bit here so inside of our filter we're
going to tell it to filter on the front
matter again nice little auto completing
and then we get another set of curly
brackets and a colon after that for
frontmatter by the way and
we're going to tell it which field of
the frontmatter we would like to filter
on and we're going to say published okay
again nice little Auto complaining and
one more set of colon and curly brackets
this is the last one promised and inside
of here we're going to be using the EQ
to say this is equals so EQ notice how
we also have n e if you could guess that
stands for not equals okay so we're
going to say this is equal to true then
if frontmatter is equal to true then
we're going to want to show our blog
posts so now when I run my query you can
see that we're given just our first blog
post because that's what is set to true
so let's go ahead and copy this line and
let's do this all again and add it into
our actual query itself now let's go
ahead and actually transform our index
query here by bop-bop-bop and this
Limina it's online and then putting our
filter the can filter frontmatter
published true wrap it all up with its
three curly brackets here so if you
don't have three opens three closes then
you messed up somewhere okay so you can
save this and head back to our page and
let's say we should go to our starter
page here let's go and as you can see
here our index is now filtering
correctly based on what's published in
what's not published cool so it appeared
that our filter is working correctly
check it out and now we can go ahead and
publish our previous post let's go to
our second post and let's turn this to
true publish it head back and you can
see just like that everything is up and
running so really super nice here okay
so we now built in some filtering super
cool what's another thing we can do here
well we can also add in things like post
dates right maybe we want on a sort the
reverse order because if you think about
this we have our first blog post and our
second blog post but typically when you
have an index the most recent blog post
is at the top now there's certain ways
we can determine what the most recent
blog post is but why do that when you
could use a date and a date would be
important to have in a blog post anyways
so let's go back to our code let's head
back to our frontmatter here and below
published we can have another one which
is simply just going to be
date now when the date is simply just
going to be a string of our date so for
instance this is the 2017 year and it is
believed October let's see what date it
is it's October 4th ok so we've got a
duo 4 ok so we want it just like this
and you know what for our first blog
post let's go ahead and have this be a
different date let's have this be
something like September 4th instead so
we get some variety in the dates and
this time before we restart our server
like we had to do last time let's take a
look at our Gatsby note so down here is
that our Gatsby note files where we
registered all of our pages and we told
graph QL sort of what information to put
into that page and we had path and we
had title now and again let's go ahead
and just add date here because we want
to have access to the date inside of
those pages ok so here we do we have
access to these pages so here we go we
have access to these pages now let's go
ahead and see if we can get this date
out putting in our graphical editor here
it's simply just by saying for menos go
date ok and publish as you can see it's
not finding it so it's not finding it we
want to restart our server let's do that
restart in our server and once this is
back up and running we're gonna run this
query once more and it's going to work
ok let's go ahead and run this query you
can now see we're getting both of our
posts as well as the date strings that
we have right here and now you'll notice
these are sorted in the correct way that
we would want them to sort right like
the second blog post is first but we
want to have control over this right we
want to be able to say this is in fact
the way that you're going to be sorting
so let's work on this query here I'm
gonna do this above filter just because
why not and we can say sort and then
inside of our sort we're going to have
an object in which we're going to be
looking for basically fields Ken
: and then we're going to pass in where
we have our flat brackets here and we're
going to say front matter and you can
see we get our options right this is
this graphical editor is just so nice
because the transformer is giving us
these options here to choose from
unfortunately none of these are the
options that we're looking for we want
frontmatter underscore underscore
underscore date sorry we can start with
one of these and just change the word to
date okay and then we're going to have a
comma in which we can give it our actual
order let's give ourselves some room
here and we can say order not and we
could say order and then in all caps
desc
de SC okay run this query and you'll
notice we don't have any errors if we
change this if we change this des see no
I don't want you to come up and I just
want to change this then to a SC and
then run this query again you'll see we
have our posts are now in the opposite
order so let's go ahead and drop this in
to our app this line here and you'll be
able to see right now we have second
blog post first first blog post down
here at the bottom head into our code
here and let's scroll and let's head to
our page where we had our properties
here and we can throw in this sort right
in our query here so sort we're going to
be sorting by the fields we're going to
be looking at frontmatter underscore
underscore underscore date instead of a
flat brackets here comma order and then
ascending save this and it's going to
recompile and our first blog post is
first now if we wanted it in the order
that we made sense before we can change
this to DES see okay saying change that
head back we now have all of our blog
posts with the oldest one second and the
newest one first cool so we've added a
bunch of functionality here we've added
the ability to publish and unpublish a
file we've added the ability to get into
sorting right I mean we've gone over
this syntax a little bit here and
you were due change this frontmatter
underscoring economists date to title
and change the order gonna be doing it
alphabetically right so that is
certainly nice so these are ways that we
can further enhance our queries by using
sorting and filtering and adding some
things to our frontmatter to turn this
into a little bit more of a legit system
here now granted this isn't rivaling
wordpress and it's not meant to be
rivaling wordpress but if you're a tech
person and you want to dive into some of
these cool technologies in event and a
fun generated blog and stuff like that I
mean I built my site and gatsby
personally and if I were to want to add
a blog it would be really super easy
using these page queries and features
that we built out in these following
videos so in the next few videos we'll
go over stuff like WordPress or content
full other ways of getting data into
gatsby and then if you have any
suggestions about what you want to see
let me know hit me up in the comments or
Twitter or whatever and I will do my
best to accommodate so as always this is
Scott with level up tutorials once more
I'm going to plug my mastering figma
course it is really really super cool
application I'm also going to be
publishing some free videos for figma so
if you're curious about it you can hang
out until Friday where I release those
videos and if you're excited head over
to the store otherwise you can just
become a LevelUp pro I'm gonna be doing
new premium series every month no joke
non-stop every single month as well as
new features for pros constantly
constantly constantly updating and
evolving so as always this is Scott
thank you so much for watching and I
will see you in the next one but</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>