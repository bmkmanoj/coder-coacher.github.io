<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Drupal Commerce Kickstart Tutorials #8 - How To Set Up Tax Rules With Drupal Commerce | Coder Coacher - Coaching Coders</title><meta content="Drupal Commerce Kickstart Tutorials #8 - How To Set Up Tax Rules With Drupal Commerce - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Drupal Commerce Kickstart Tutorials #8 - How To Set Up Tax Rules With Drupal Commerce</b></h2><h5 class="post__date">2013-09-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/S1TdHwco8p4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up this is Scott with the
level up tots and today I'm gonna show
you how to set up tax rules for Drupal
commerce and we're just gonna create a
tax rule for sales tax for one state and
then you could repeat that process to
set up other states if you need to set
up more so this is how you do it it's
actually a little bit it's not as easy
as some systems but that's because this
is built in Drupal and it's built on my
system called rules which is a module
that's highly used however it's very
complex and it can be confusing so if
we're gonna store settings and then go
to taxes here well you'll notice we have
no tax rates and so it basically says
top here taxes and Drupal commerce have
two main concepts tax rates percentages
and tax types how and when they're
applied if we come over here to tax
types you'll see there's sales tax and
v80 or VAT and I don't know how people
pronounce that to be honest but
basically sales tax is what you would
expect this is the basic type of sales
tax that you encounter every single day
so we're going to create something that
sales tax and we don't have to modify
this if you're just doing sales tax then
that's it right we don't have to do any
tax types it's just there so let's add a
tax rate so I click this add a tax rate
and I'm gonna say this is Michigan tax
and the display title is just gonna be
sales tax because we don't want it to
say Michigan tax for our customers we
want to say sales tax okay and we don't
really need to have a description I
think Michigan tax sales tax describes
this as well as I can and now we need a
percentage keep in mind here you
actually need to put in an in decimal
form so 0.66% sales tax is Michigan and
our type is right here of course we're
gonna be selecting sales tax so let's
click save tax rate awesome so we now
have the Michigan sales tax set up but
how do we tell it to apply when
these from Michigan right because we
only want this sales text be applied
when somebody's shipping address is in
Michigan now let's click configure
component here and this is going to take
us into the rules portion so if you used
rules in Drupal this is gonna look
really familiar if you haven't used
rules this might look a little foreign
we have two things here we have the
conditions and the actions the
conditions of course is what has to take
place for the actions to happen and you
notice the actions has already set up
first it already says apply tax rate to
line item so it's going to apply the
sales tax as long as these conditions
are met and right now we have no
conditions so let's click add condition
here we can select the condition here
and we want to go down here where we can
say we want an order address component
comparison what this means is we want to
compare a component of the address in
the current order so this data selector
see this might be a little confusing
here but if you open up this data
selectors it gets less confusing because
this give you some some descriptions to
exactly what these selectors are and we
want a so we have the role of the user
no we clearly don't want the role the
user's shopping cart order so this is
the shopping cart order that belongs to
the current user so this is what we're
looking for this is the current order so
let's close this I just copied this
directly the selector directly you could
type it in up here I'm just gonna go
ahead and paste it in perfect so now
that that's pasted in here you'll notice
down here we have address and this is
the address what value from the address
we want to actually compare so we want
to say we want to look at the shipping
address of course not the eat billing
I'm pretty sure that's the correct way
for shipping sales text to work now the
address component so which what do we
want to have here determine who gets the
sales tax well we want the state to
determine the sales tax so only people
in Michigan are getting the sales tax
straighted area state/province is equal
notice our options are equal begins with
contains is equal to and then the value
which I happen to know the value is mi
now this has bear in mind that the
address component you're using the
Select list value might be different
from its display so you'll notice that
when we're actually checking out it says
Michigan but the value of the selective
is going to be mi So mi works you'll
notice there's all sorts of replacement
patterns we can put an ear to but we
just want Michigan so that's great and
let's save this listen to gate checkbox
is just saying if we click this negate
it would apply this to every state that
was in Michigan but let's click Save
because we want this to be applied to
Michigan let's click Save Changes
overall you probably don't do that but
I'm a little obsessive with cooking save
sometimes and now let's click out of
here and I already added two items to my
cart so we don't have to add anything to
our cart so let's just click this check
out and let's check out so now we have
some stuff in here I have a backpack I
have this level of Tubbs product that we
created it's a t-shirt sort of and now
let's click checkout you'll notice that
it just has a subtotal and express
shipping when we click checkout it's
going to give us more options so now
we're in this checkout mode we have this
first screen and check out this looks
like a lot of systems that you've used
before but this one is really nice in
fact the way they break this all up ok
now let's come down here and we can see
we can enter my address term my name is
Scott Olinsky and the United States and
I'm gonna put in a fake address because
I don't want everybody to have my real
address so we can go to City the city
could just be in Harbor and then state
is Michigan and the zip code for it 1
for a 1 1 for a number I think ok and
our shipping information is going to be
the same as our billing information if
we want it to be separate we could
always uncheck this but what I want us
to be the same and we're gonna play X
fresh shipping continued and now we get
to review order and if you notice we
have the sales tax which is three
dollars and 42 cents now I've already
done the calculator math and 56.9 nine
times a 6% is three four one nine which
of course arounds - three four - so it's
correctly having this as 6% sales tax we
could even add that 6% in this title
here back in our shipping settings our
tax settings and then that way they'd
see that it is 6% but you know we really
don't have to now to prove that this
actually works let's click back here to
checkout and let's change my address -
all I'm gonna do is keep everything the
same but change the state to Idaho and
you're gonna come let's click this next
step and now we don't have the sales tax
anymore so this was really easy
it took us no time and now we have sales
tax setup it's correctly calculating we
didn't have to do any math so perfect
cool and uh yeah that really couldn't
have been an easier so Drupal Commerce
has come a long way for commerce on
Drupal in general this is a really
polished system something to like what
we would see in other systems like
Magento I mean even the interface on
this seems a little bit more modern and
normal than something like that
so Drupal commerce is still growing it's
still new but it it works really well
and there's a lot of great stuff in it
so as always if 50 questions or comments
please leave a comment in the video hit
a subhead Twitter our level up Tetzel
isn't know what you're thinking we've
always loved to hear from you this is
Scott Olinsky with LevelUp huts and
thanks for watching but</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>