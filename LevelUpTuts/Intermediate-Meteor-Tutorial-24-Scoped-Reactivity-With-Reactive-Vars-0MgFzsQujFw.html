<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Intermediate Meteor Tutorial #24 - Scoped Reactivity With Reactive Vars | Coder Coacher - Coaching Coders</title><meta content="Intermediate Meteor Tutorial #24 - Scoped Reactivity With Reactive Vars - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Intermediate Meteor Tutorial #24 - Scoped Reactivity With Reactive Vars</b></h2><h5 class="post__date">2015-12-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0MgFzsQujFw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up this is Scott with level
of tutorials in this video we're going
to be learning about reactive VARs now
reactive VARs are sort of like session
variables but can be scoped to a
specific template so let's check that
out right now so in the last video we
ended up by being able to tackle this
edit mode where it turned on every
single one now this is because session
variables aren't scoped to anything it's
Universal throughout your entire
application for this particular session
now that's not exactly what we want here
what would be nice it would be a
variable that's essentially scoped to
this template specifically and is still
reactive now luckily meteor has a great
package called reactive VARs and we can
add that to our application here simply
by heading to packages and adding the
package reactive - var now upon saving
this you should see that we have the
ability to use the reactive variables in
our application after our server
restarts so let's go ahead and add our
first reactive variable now this is
going to be a little bit different than
session variables but you can think of
them very similarly although it's tied
to the template itself so let's go ahead
and the first thing we want to do is
when this template is created we want to
go ahead and create a new session
variable so we can say template dot
recipe dot on created so when this
template is created we're going to go
ahead and we're going to have a function
here like so and inside of this function
we're going to be setting a new variable
now this variable is going to be on to
this dot and then the name of the
variable which we're going to be calling
edit mode so edit mode is going to be
equal to a new space reactive far
inside of these parentheses here we can
pass in the variable that we're going to
be passing into a reactive that we're
going to be passing into edit mode now
unlike session variables a reactive
variable can really be anything and in
this particular instance we're just
going to go ahead and say it's false now
another way to set up a new variable
here when we comment this out would be
to have these parentheses be empty here
and then you could later set this value
with this dot edit mode that set and
then false like so so either these will
work let's go ahead and use the first
one because personally this is easier
for me to read as somebody reading code
however if you have a different style of
writing code maybe you like to
instantiate all your variables before
setting them that's cool too now we have
this new reactive variable which is this
that edit mode now how do we access this
dot edit mode in fact specifically when
we click and toggle our pencil how do we
modify this edit mode well we first need
to pass in this function here we need
event and template because what we need
is access to this specific template so
what we can now say let's actually just
get rid of this entire session here what
we can now say is template because we
now have access to the template dot edit
mode dot set now we can set this to not
with the exclamation point and then
retrieve the variable with template dot
edit mode dot get now this is pretty
similar to what we had with the session
variable except for referencing this
particular template and then the
variable that's reactive that's attached
to it then we're calling get now we
don't need to pass anything in to get
because there is only one variable in
here and that is currently set to false
so now when we click pencil it's going
to be resetting edit mode
to the opposite of the current value
which is false setting it to true now we
need to head up here to our helpers and
we need to now use a helper if you
remember before we uses handlebars
helpers to get the session variable
directly in our template now we actually
want this to be an actual helper instead
of just a session like that and we can
use something like edit mode here so now
we can say if edit mode then show the
form just like we had before so now that
we have this in our template we need to
actually make this helper so that it
works so let's head to our helpers I'm
going to come here let's say edit mode
and edit mode is going to be equal to a
function where we can then have brackets
here and what we're gonna want to return
is maybe now you'd expect what we need
to return is template with a capital T
and then we can say instance grabbing
this particular instance of this
template and then edit mode that get so
now what we're returning is only this
specific templates edit mode reactive
variable so that variable is scoped to
the template that you're clicking on
itself and not globally like a session
variable so let's head to our page and
we know it's meteor so we don't need to
refresh and what we can do is click this
toggle and you can see had toggled open
this ahi tuna and if you scroll down
none of the other ones that are open or
tackled at all and we can toggle as many
as we would like look at that cool so
reactive VARs are very handy it's
scoping a reactive variable and it
updates just like you would expect a
session variable to or something like
that and it's a super useful technique
to have in your meteor toolbox so as
always this is Scott what level of
tutorials if you want to help me out
supporting level up tutorials you can
have to Stowe
level up tutorials and check out some of
the awesome stuff I have for sale up
there I have a next-level CSS
transitions video series available some
t-shirts the meteor for everyone series
available with code examples and the
intermediate series is going to be
available with code examples as well and
that's going to be available this week
so keep checking back as always this is
Scott thanks for watching and I'll see
in the next one bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>