<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React For Everyone #13 - Controlled Inputs | Coder Coacher - Coaching Coders</title><meta content="React For Everyone #13 - Controlled Inputs - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React For Everyone #13 - Controlled Inputs</b></h2><h5 class="post__date">2016-02-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BvtQMxekmH0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up this is Scott with level
up tutorials and in this video I'm gonna
show you how you can have a manage
controlled input field where we actually
set the value with state and we handle
that with an unchanged I'm also gonna
talk a little bit about why you would
want to do this so let's get started
right now so in this video we're going
to be doing a little bit of form work by
building a basic search form now this is
going to seem really super convoluted
and we may not even get to the actual
searching component of this right now
but I want to explain some stuff here
because working with inputs can be very
different
so in react if you were to set the value
of an input to anything right let's
actually just go ahead and do that I'm
gonna come in here I'm in contacts list
J s and then it's actually just wrap
this whole thing in the div here I'm
doing this just so I can have another
item in here that's not in the UL okay
and let's just go ahead and have an
input now this input is going to be of
the type of text so we can say type
equals text and let's save this and we
need to close this out here and when we
come back to our page you'll see we have
a very basic input we can type in
nothing really is going on here in fact
let's go ahead and inspect so we can
have our council open at the same time
I'm gonna pull my council right here
just so we can see it nice and big and
as you can see obviously nothing's
happening gonna enter sure nothing's
happening okay so this should be no
surprise to you cuz it's just a basic
input to type text however let's go
ahead and type value and value is going
to be equal to level up okay so check
this out in a normal HTML circumstance
if the value of this text field was
equal to level up actually in fact let's
the show this in action by I'm going to
put this just at the I'm gonna put the
same text box in my body right here
below app the ID div
and we should have to text box now so we
have to text box now one of which is
controlled by react one of which is not
check us out when I actually go delete
the text I'm hitting backspace right now
nothing's deleting I can't type in here
because it's setting the value to the
form field without an unchanged handler
basically this is saying hey text box
the value is level up and it's not
changing meanwhile our text box that's
not controlled by react look at I can
type in it just like normal so this is
an important distinction now there is
always the option to set the default
value and if we come to our react let me
get rid of this one in our body now we
don't need it let's come to contacts
list and it's at a value I'm going to
say default value and that's going to be
in in camel case so default value like
so is going to be level up now default
value is let's refresh this now we can
type in this right still no events or
anything firing or anything going on but
either way that's just a default value
so that's pretty cool if you need to
have a value in there and you still need
to be able to edit at default values the
way to go however this isn't going to be
how we're going to be working with
inputs most often we're gonna want to
actually have a value in here and it's
going to be set to a state variable and
we're gonna handle some stuff with an
unchanged to make this all work
so let's get started with these
controlled components
okay so to control this component let's
take this back to a value instead of a
default value and now I'm going to have
the value be equal to and this is
without quotes here let's get rid of
these quotes it's gonna be bracket
bracket and we're going to say this dot
state dot search okay so this is going
to be the search text field and then and
we don't necessarily have this dot state
dot search that's set just yet so let's
go ahead and
do that but in dentists to make this a
little bit prettier here okay so we have
values now set this state that search
but this doesn't really exist so let's
go ahead and do that up here before our
render method okay and now we need to
add a constructor with the es6 syntax so
we can say construc tour like so
constructor and we're gonna have this
parenthesis and then brackets just like
we have for our render and inside of
here let's go ahead and have a super
function so super and then semicolon
like so and now we can have this that
state is equal to and this is going to
be an object now we need to set this dot
state dot search so we can say search
which is going to be the property is
going to be equal now to level up and we
can finish this off with a semicolon as
well so as you can see in the
constructor first we're calling super
then we're saying this state is equal to
we have the property of search with
level up so this is setting the default
state for search which were then going
to be using down here and our value we
can come to chrome here refresh and now
you can see that this once again says
level up again we can't edit it
okay so let's head back to our sublime
text and now let's actually get to the
point where we're going to be
controlling this input I'm gonna put
these on separate lines just so it's
easier to see here and now we're going
to need an unchanged
just like our error message said we had
a value set without an unchanged now the
reason why we need to do this is going
to give us complete control over this
value anytime it's changed we're going
to have total control over what's going
on so we can say on change now on change
it's going to be equal to this dot
update search okay so now this is just
going to be where the brackets keep in
mind even though this dot update search
is going to be a function here we don't
want to have the parentheses okay so
let's go
and then define that right up here below
the constructor above the render we can
say update search parentheses brackets
and now let's go ahead and just counsel
that log yo so I'm going to counsel log
Gil here and now what should happen is
when this text value changes or when
it's trying to change
we should be getting yo and you'll
notice my yo count is going up every
single time I click the keyboard so
that's exactly what we're looking for
but now we just need this value to
actually update so let's go ahead and
make that happen if we were to pass an
event here and counsel log event we
could see that we have in our event
firing what we're actually needing to
grab is the target and then inside of
that target we're gonna be looking for
the value so we can say event dot target
dot value to grab the value of whatever
this field is keep in mind we're getting
that because the target is this input
and the value is going to be this state
dot search so at any given point when we
type in here after refreshing you could
see it's level up plus whatever key I'm
pressing okay but we're not having that
updated here so the next time we go to
do anything it's overwritten by the
level up once again so that's why we're
not having any sort of visual update
we're not having the text change here at
all so let's go ahead and modify this
now with that last step to actually
modify this input value like I said this
seems convoluted but having this kind of
control is going to be really good for
more complex situations so now we can
say this dot set state and we can pass
in search and the value of search is now
going to be equal to event dot target
dot value and one more change we need to
now actually
this dot updates search but we need to
do that like this we need to say that
vind
and then we need to pass in this okay so
that now we're going to have access and
we need to pass in this let's go ahead
and now refresh our page as you can see
oh when we hit backspace the U is gone
they'll L okay whatever we're typing in
here is now getting set into state and
you might be wondering again this seems
complex but now we have total control
over this input field and we can even do
something like let's go ahead up here
where we have where it's actually
setting our state we can limit this and
let's say we only want this search bar
to handle twenty characters for some
reason we could say value dot sub string
and then we can give this starting at
the beginning and going through let's
say twenty we can own we can effectively
limit the amount of characters that are
being displayed here or even getting
saved into this input so let's search
hello and as you can see as I reach this
limit here it's no longer saving
anything else cool so we now have
complete control over this input and
like I said it seems sort of abstract
right now but this is sort of the react
way of doing things and you're going to
get used to it so don't worry too much
about that but on change we're updating
the state and that and the state is
getting passed back into the value
therefore allowing us to have complete
control over this in the next video
we're actually gonna use this value to
search through our props here so as
always this is Scott with all of de
toros if you have any questions or
comments leave a comment the video hem
you pet Twitter or Facebook I level up
tutorials I love to hear from you thanks
for watching and I'll see you in the
next one bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>