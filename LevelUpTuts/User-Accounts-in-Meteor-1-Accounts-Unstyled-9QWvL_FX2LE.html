<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>User Accounts in Meteor #1 - Accounts Unstyled | Coder Coacher - Coaching Coders</title><meta content="User Accounts in Meteor #1 - Accounts Unstyled - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LevelUpTuts/">LevelUpTuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>User Accounts in Meteor #1 - Accounts Unstyled</b></h2><h5 class="post__date">2016-04-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9QWvL_FX2LE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up this is Scott with level
up tutorials and in this video we're
gonna be covering our very first topic
in meteor and that is custom user
accounts now this video is going to be
pretty basic we're just going to be
adding an unstyled user account and
we're going to be showing you how you
can write your own modal for it but in
later videos we're going to get more and
more advanced with the things that we're
adding to our custom accounts so let's
get started right now we have our base
blazed files in here let's go ahead and
and start adding some packages we're
gonna first start off with is basically
how we can create a custom user login
system without having to write the
entire thing from scratch now you might
be thinking that well as either the
meteor accounts that we've added in
other level up tutorials videos or
nothing but really we can add a lot of
things and a lot of features using the
meteor user accounts package just by
simply adding the unstyled package let's
come to our dot meteor folder and then
packages now you can paste in some
packages in here of which I'll make
available in the description of the
video
but really we just have accounts - base
accounts - password then use your
accounts unstyled and we're gonna be
using these handlebars helpers as well
now for this first video it's not going
to be anything totally wild but what we
will be having it's going to be a
totally custom login modal window that
we're gonna make ourselves so after we
have those packages in here make sure
that those packages have been
successfully added your server has been
restarted and let's come back now
although we do have some CSS we don't
have all of the CSS for this project so
I'll be showing you where you can grab
the remainder of the accounts CSS to get
this working it should be nice and easy
so let's actually go to our client
folder inside of our client folder we
have layouts pages and partials of which
we saw before I like to break my
projects out and organize them by
feature so in this type of thing I would
want this to be something like accounts
and accounts maybe you would have a user
profile you'd have the login stuff just
anything having to do with user accounts
so I'm going to click new folder and I'm
to create a new folder named accounts
now keep in mind this is not any sort of
hard fast way to structure your project
this is just how I like to do it now
let's go ahead and make a new template
we can do new file within the accounts
folder and I'm going to name this login
modal dot HTML okay now let's make a new
template and the template name is going
to be the same as the file and that's
going to be login modal okay so this is
going to be a modal window we're gonna
build for ourselves let's go ahead and
have a div and we're gonna have this
with a class of login - modal okay now
let's go ahead and have an icon inside
of here and the icon is going to be F a
and then F a - close and then we're
gonna give this another class which is
just close login okay and if you're not
using Emmet I would check out using
Emmet it's what I'm doing to do this
shorthand where you can just type in hi
dot - fa fa whatever and hit tab it's
gonna autocomplete these just so you can
keep up with what I'm doing
so we have fa fa - close and then close
login on this icon this is just going to
be an X really and then the close login
is what we're going to be using as a
trigger to actually close this modal
window now because we have the accounts
unstyled in here let's go ahead and add
two brackets and then a greater than and
then we can add an @ form and that's in
camel case here now what this is going
to do is going to add a user accounts
login form that's going to be totally
unstyled if you've used the user
accounts UI package you have seen that
the login is already pre styled and
start out hard to override all the
styles so this is going to give us a
totally bare-bones unstyled login so I'm
going to then have login modal right
here as my name let's throw this into
one of our partials so I'm going to take
the header which is used on every page
and within the template but outside of
the header I'm going to go ahead and
use this login modal with the same
double brackets and then greater than
sign and then space log and modal double
brackets so this should be calling our
new login modal which should now be able
to be on our page so as you can see we
now have this HTML has been added to our
page and it's actually taking up some of
the default Styles we have in here
because this is a button so it's already
a nice step right so we don't have to
have some click to toggle modal like
they do by default we could throw this
on to a page if we wanted to we could
put this in any of our categories right
down here and that way somebody could
just log in without having to open a
modal what we're gonna do is actually
turn this into a modal but as you can
see here just by using this @ form we're
able to take advantage of an actual user
login form without having all of the
default styles that come with the meteor
form now another thing you should notice
if you don't have an account register
still works it still will take you to
the create an account and and we can
click sign in if you'd like so these
things are nice that they're taking care
of for you and you might be thinking
this totally isn't custom but in the
next few videos we're going into some
really deep customization of the user
accounts package and just showing you
how you can do things like adding fields
to logging in and stuff like that so
don't worry if this is a little basic
we're going to just keep on evolving on
this ok so we have the sign-in form it's
nice and easy
and it will totally work right now if
you want it to however I want this to be
a modal and let's go ahead and and
modify that just a little bit so first
things first I'm going to head to
account and I'm gonna make a new file
and this file is just going to be login
modal j/s and in here we can add a new
template dot login modal events and
we're going to use this as an event to
trigger whenever the modal is closed so
we can just simply say on click of dot
close - login then colon and then now we
can use just the arrow
to say bracket session dot set and
inside of our session we're going to
have a session variable called nav -
toggle and then if we have a comma we're
gonna set this to blank you'll see why
in a second so right now the session nav
toggle is set to blank it's set to
completely blank whenever you click the
close login button so that's all the
work we're going to need to do inside of
this accounts folder for now let's
actually head to our partials let's head
to the main nav actually so in the main
nav we have these two links and now we
want to go ahead and add a link that's
going to be login so I'm gonna have a
list item and it's going to say login
sign up I mean this language can be
different based on how you like to word
this sort of thing I'll put a hyphen in
here as well
I'm going to add a class to this list
item and again this is going to be used
for the event it's going to be log in -
toggle and this will be able to toggle
in our modal so before we go any further
let's go ahead and grab the styles for
this because right now as you can see
this isn't hidden it's not a modal it's
not really doing anything what we want
this to be is we want this to be sort of
hidden right now position fixed and all
this stuff so we can't see it let's go
ahead and grab at those styles
I'll make the link to these styles
available in the description of the
video and really you can just come to
the github page and copy and paste them
in I'm going to just drop this into my
sass folder I'm gonna make a new file
and it's going to be a counts dot s CSS
and I'm just gonna paste this in here so
basically we just have an error log and
modal position fix we're giving it some
really default styles and we're giving
our clothes logins and default styles
nothing really crazy here at all but you
can grab this like I said I'll have a
link in the description of the video you
can grab these styles directly paste
them in and now you'll see at our page
our login is no longer seen okay so when
we look at this s you'll notice that I
do have an open class on the modal
itself that's going to change the
opacity and transform it so what we're
looking to do is toggle this open class
so to do that we want that to happen
whenever you click on the login sign up
so let's head it to our main nav is I'm
going to copy this login Tuggle class
now let's go ahead and say template that
main nav dot events and then brackets
now inside of this object we're going to
have one event it's going to be a click
event so we're gonna have a string and
we're gonna say click and then we're say
dot log in - toggle so when you click
log in toggle let's go ahead and have a
colon and let's do something here I'm
just gonna have a simple arrow function
here and let's go ahead and actually set
our session to open so I'm gonna copy
the line from login modal that says
session dot set blank I'm gonna paste it
in and I'm gonna say session dot set
open so what this is doing is basically
just setting this nav toggle to being
open so that's great when we come to our
page if we hit ctrl M because I have
meteor toys installed you can see that
when I click the log in signup our nav
toggle is now set to open cool so now we
want this to actually just open the nav
let's go ahead and get that working so
I'm going to head to my log in modal
HTML so from here we want this to get a
class of open whenever the session is
set to open well how do we do that well
using these handlebars helpers that I've
used in other videos we can simply just
say bracket bracket and then dollar sign
dot session dot get and then within
single quotes we can say nav - toggle
now outside of those single quotes
finish it off with two more brackets
this is saying get the session variable
nav toggle this is one of my most
favorite packages to use because it just
makes things easier I don't have to
create a helper just to simply get the
session variable so we now have the
login modal is going to have a class of
open whenever session
taco is set to open so let's take care
of that now and check it out in action
by clicking log and sign up so now when
I click log in sign up and we'll click
the X right here goes away awesome so we
now have this modal window that we were
able to style ourselves using CSS I can
go ahead and actually create an account
and let's click register now here's the
problem we have our modal still being
shown and we're logged in so what we
want to do is add in some logic here
into our login modal we could certainly
have some sort of event on login to
close this modal and that's certainly a
good thing to do but I just don't even
want this modal to be available unless
you're not logged in so I can say
bracket brackets if and then using
another one of these handlebars helpers
we can say dollar sign not current user
okay
now let's end that if just above the
template tag and let's indent this to
make it read a little bit better what
we're saying is if the current user is
not logged in don't show them this thing
at all and as you can see regardless of
what I do I click or whatever I can't
get that modal to show up so now we want
to apply similar logic to show and hide
this login signup button let's go ahead
and do that by heading to our main nav
and in this list item we can do another
bracket bracket if current user now if
the current user is logged in what I
want to give them is access to a log out
button so we can give this a class of
logout and we can just have the text
simply be logout now I want to do
bracket bracket else and then if they're
not logged in we will show them the
login form and then we could just wrap
this off with it /if so this basically
if the current user is logged in show
them the logout else
show them the login button okay well
let's go ahead and actually trigger this
log out function so we can head to our
main nav that
and let's add another click event and
just hit comma here to add another item
into this object the property is going
to be click and we're dot log out
because we're looking for the log out
button now once again I can just do a
very simple arrow function here and a
bracket now meteor provides us with a
really nice method just called meteor
dot log out now meteor dot log out is
simply just gonna log the current user
out it's really simple and it's really
nice that we just have this in here to
simply just say unclick log out log you
out let's test this all in action I
should be logged in right now so we have
the log out link right here so when I
click a log out you can see we now have
log and signup available we can click
that to bring up our modal we can sign
in and watch it go away and I have our
logout button so just like that we've
built our own log and modal that you
could really do anything you want with
now this isn't totally customized we
don't have extra fields in here we don't
have our own dialog in here we're not
able to change things like this button
so in the next video I'm gonna show you
how to do some template overrides we're
gonna be able to override this template
with whatever we want for any of these
values now the best part about that is
it gives you full control over what's
actually displayed when we use this at
form right here and then after that
we're gonna be adding in custom fields
and validations as well so as always
this is Scott Wood level up tutorials if
you have any questions or comments if I
come on the video are me up at Twitter
or Facebook at level up tutorials and
there's a lot more meteor topics coming
very very soon so keep watching I'll see
you soon bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>