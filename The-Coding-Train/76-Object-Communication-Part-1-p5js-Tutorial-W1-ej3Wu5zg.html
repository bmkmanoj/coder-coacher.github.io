<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>7.6: Object Communication Part 1 - p5.js Tutorial | Coder Coacher - Coaching Coders</title><meta content="7.6: Object Communication Part 1 - p5.js Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>7.6: Object Communication Part 1 - p5.js Tutorial</b></h2><h5 class="post__date">2017-12-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/W1-ej3Wu5zg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello are you just sitting at home
wondering what could I possibly watch
another video about bubbles well today's
your lucky day this is another video
about bubbles and in this video what I
want to look at specifically is how can
i if I have a bubble object like this
bubble one and I have another bubble
object like this bubble too how can
these objects talk to each other
communicate to each other how can they
ask each other questions like am i
intersecting you or you am i overlapping
you how close are you from me these
types of things and you can imagine all
of the implications and possibility of
this now on the one hand to do this all
we need to do is figure out some math
right and that math is what is the math
of two circles that are overlapping
versus two circles that aren't
overlapping that math is quite simple in
some ways I just want to look at the
distance between the Centers of both of
those circles right and you can see here
that that distance is going to tell us
whether they're overlapping or not right
so one way that I could think about it
look at this if this is r1 and this is
r2 right those are the this is the
radius of this circle this is the radius
of this circle if this distance right
that's also this is r2 right here and
this is r1 right here if that distance
is greater than r1 plus r2 then
certainly the circles are not
overlapping however if that distance is
less than the sum of the radii of these
two circles then they are overlapping so
in the one hand this is all I need to do
I need to be able to say give me the
distance can you see that just barely on
the top of between x1 y1 x2 y2 and then
I need some sort of if statement to see
is this distance less than r1 plus r2
then they are intersecting so let's
actually go and start to implement that
math in the code first but what I want
you to think about is is there a way for
the objects themselves to handle the
computation of that map
rather than that math just be fiddling
about in the code somewhere perhaps less
convenient so come back over here with
me and let's actually let's go over here
and so I have the continuing from where
I left off this is essentially the same
bubble class that's been in my previous
videos and I'm just gonna make two
objects I'm gonna say bubble one and
bubble two you key on my keyboard
doesn't work
holy works about 40% of the time if you
notice me pressing it a bunch of times
so then what I'm going to do is I'm
gonna say bubble one equals a new bubble
at 200 200 I'm gonna put one on the left
side of the screen and one on the 300
200 the right side of the screen then
I'm gonna say bubble one show and bubble
two dots show so now I should see up and
that's bubble one and bubble two so now
when I go to my sketch I should hit
refresh I don't see any bubbles let's
look here bubble one oh look at this
I forgot the bubble has a property for
its radius and I did not define that huh
here's an interesting thing as if I'm
just coming up with this right now one
of the features of es6 which is the
version of javascript that we're using
that allows us to write classes to make
objects from allows us to give a default
value to a particular argument if we
forget to pass it in so this parameter
here R which is going to be assigned to
the bubble objects are property I can
actually say R equals 50 right up here
and then if i refresh it look I have two
bubble objects this even sort of a weird
i meant for this one to be at 400 not
that that really matters so you can see
those are two bubble objects and i could
optionally give one of them the if i
don't want to use that default value for
our i could give i could give it a value
so this is actually incredibly
convenient little piece of syntax here
that if you're going to have a parameter
to a function and this is not just for
the constructor you can do this for any
function although it's quite convenient
to do
with constructor functions and I want to
give it a default value so it's a little
tidbit there for you inside this video
which is about the objects intersecting
okay so now let's move them around
bubble one dot move bubble two dot move
let's move them around just to see okay
so what I want
come on come on bubbles so we're gonna
have to do some work here to get them to
those bubbles to get a little closer to
each other all right so what I want to
do now is I want to go back and let's oh
you can't really hide I did I did end up
going above but this is fine you can see
that I'll be better at this in the
future
so I want to try to implement this math
for example what if I want to say right
here and draw I can say all right I need
to find the distance between bubble 1 X
bubble 1 dot Y right these are the
properties the x and y of that bubble
and bubble 2 dot X and bubble 2 dot Y
and then I and this should say D and
then I want to say if D is less than
what if it's less oh no yeah if it's
less than bubble 1 dot R plus bubble to
R then and let's put all I'm gonna do
something silly here let's put all this
over here and I can say bubble 1 no no
I'm just gonna say like background 0 200
0 100 okay so this is the idea of like
now I have the math for intersection I
know I need you to find the distance
between those two bubble objects what's
the distance between these two bubble
objects if it's less than the sum of
their two radius radii then it's
intersecting okay so let's run this you
could do it bubble be together bubbles
be together okay I'm just gonna have to
we have to force it let's let's let's
bring them a little bit closer
ah there you go now move apart bubble so
one thing I could do is I could justice
it was a terrible idea I could just
design like the bubble location to the
mouse or something and that then I could
move it and you would be able to see but
the bubbles they're gonna move apart
eventually come on move apart move apart
I think so you saw the background flick
okay so you get that this works and ah
there we go I got to be a little bit
more thoughtful about the sort of
intersection thing now here's the thing
I don't I don't like this at all I don't
like this one bit because the idea here
is eventually what if I have three
bubbles or four bubbles or ten bubbles
or a hundred bubbles I need some way
that I really just want to say if any
given bubble let's say b1 dot o
intersects b2 I want to be able to write
code like this I want to be able to
encapsulate all the idea of this math
into a function in the bubble objects so
bubbles no bubbles know how to
communicate with each other how to test
one bubbles location versus another
publish location so if I come back over
here what I mean is I want to say
something like if bubble one dot
intersects bubble to then do this okay
so this is the idea because then I could
start having a raise of things and loops
and check every bubble and I and it's
just going to be more convenient than
having this math sort of out here where
it doesn't really need to be so let's
take a look at how we might do this so
what this means to me is I need to write
a new function that's part of the bubble
class called intersects so that's pretty
easy I could just do that done that
function by the way because of the way
that I wrote it here inside this if
statement
the idea is that function is going to
return true or return false so right now
just to have this do something I could
just say return true right here and the
idea here is that okay well the
intersects function is a function that's
called on one bubble and receives as an
argument another bubble so I need to
give it an argument here and I can call
that other for example so now if I
comment out this math and I run this
right it looks like it's working but of
course if I move their locations away
it's always drawing that pinkish
background because my function always
returns true so one thing you can kind
of see from this is it's often worth
kind of reading the skeleton of your
code and then just like hard coding in
true or false and see if it's working as
false I don't see it true I do see it
now I could actually go and fill in the
math in that part so what I'm going to
do is I'm going to grab this math that I
had before and I'm gonna bring it down
here and things are gonna get a little
bit easier I still want to calculate the
distance but what do I want to calculate
it between I want to calculate it
between the bubble that I am right now
what is the bubble that I am right now
this this bubble with what the other
bubble the other bubble that you have so
generously passed in as an argument to
my parameter named other other other and
then if that distance is less than my
radius and the other radius then and
only then would I return true and I'm
gonna don't worry I'm going to show you
something that's gonna make this nicer
in a minute because all of many of you
are complaining right now the way I'm
writing this and we can see now now this
bubble class has a function called
intersects which can receive any other
bubble and always check if the current
bubble is intersecting the other bubble
so here we go I'm gonna do this they're
not interesting let's let's let's let's
hack something to make things lay our
life's little life a little easier
instead of moving bubble - I'm just
going to say bubble - dot x equals Mouse
X and bubble - dot y equals Mouse Y okay
now of course I could write a function
don't have follow the mouse or set the
mouse but I'm just gonna throw this in
there really quickly so that I can do
this and I go whoo intersex doesn't
intersect okay so now let's take a look
at one thing which I want to change here
which is that I am a weird strange
person I really like the way I wrote
this it just says it all I know I have
an if statement and I know when it's
true I want to return true and when it's
false I want to return false and I've
said all that and I said it in like five
lines of code here but the truth of the
matter is this is a statement distance
is less than this dot R plus other dot R
that whole statement evaluates to true
or false when it evaluates to true and
return true and evaluates to false I
want to return false so this can
actually be condensed into just whoops
Oh
auto fill return the result of this
boolean right
I could just say is that return the
truth of this statement true or false
and this will in fact be the same exact
results yay oh this is the end of this
video so what have I done here what
might you want to do now here's the
thing Oh couple let me show you one
other thing lets us ask a question I'm
gonna ask a very important question here
if I were to say if bubble two
intersects bubble one have I changed
anything program still works this is
exactly the same program so in this case
I am writing sort of a function you
could maybe make the argument that you
want like a bubble manager class and the
bubble manager class has an intersex
function that takes two bubbles and you
know so this is the point is there's
always other ways to organize your code
and it you can you have to watch out for
like over engineering your system but
this is one way of doing its way that I
kind of like to do it later you might
see in other videos or tutorials that I
make where I have instead of just all
bubbles I have you know frogs and
turtles and
fish and kitty cats and maybe the frogs
have to check their location relative to
kitty cats but the kitty cats have to
check their location relatives as
Turtles so having the different objects
act on different kinds of objects is
also something that comes up but what I
would say what I'm gonna do in the next
video is how do I go from this idea to
suddenly having a system of like a
hundred bubbles and I'm checking if
every single one is intersecting any
other one and what happens when we do
that so I am going to do that in the
next video you might actually just give
that a try yourself
and then see how it goes and watch the
next video okay
thanks for watching
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>