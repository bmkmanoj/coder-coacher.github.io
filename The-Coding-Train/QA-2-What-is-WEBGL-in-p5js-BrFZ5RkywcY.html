<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Q&amp;A #2: What is WEBGL in p5.js? | Coder Coacher - Coaching Coders</title><meta content="Q&amp;A #2: What is WEBGL in p5.js? - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Q&amp;A #2: What is WEBGL in p5.js?</b></h2><h5 class="post__date">2016-07-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BrFZ5RkywcY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to another QA coding
rainbow video this question comes from
blinken e Blanc hi blankety blank and
blankety-blank writes webgl how to use
it
and make a 3d project in p5 chess so I'm
gonna try to answer this question in
this video and one thing I want to say
right at the out right is very much this
video is really going to be something
that's kind of only relevant for a very
short period of time because WebGL the
implementation of WebGL
in paas is something that's very much in
progress it's one of the newer aspects
of p5 yes and there are certain things
that work beautifully certain things
that haven't been implemented yet there
are probably bugs yet to be discovered
so what I want to do is kind of like
look at all of those pieces there show
you where you can find some resources to
get started and and then also what is it
you can do to kind of help make WebGL
and p5.js
work better contribute to it file a bug
report that sort of thing so that's kind
of my plan for this video I'm gonna try
not to walk add any more furniture but
let me just say hi maybe maybe you don't
even know like what what is this WebGL
thing in the first place
so okay anytime you have you're renting
a program and it draws pixels let's
let's do that I have some p5.js code
here and I'm gonna just draw an ellipse
in the center of the window that's 100
by 100 I'm gonna go back to the browser
I'm gonna find my lip my sketch and then
you can see I have my circle so how did
that circle appear well p5 just as a law
library has a rendering engine built
into it now p5 just could have its own
rendering engine which individually says
knows how to calculate every pixel of a
circle and draw them to the screen in
fact p5 GF is a layer on top of of a
rendering engine that's part of the
html5 canvas so you could write all you
could make this exact sketch without
p5.js you just have to know the raw
JavaScript canvas API you say things
like give me a context and I want to
like set a stroke on my context and move
my pen I don't know all sorts of stuff
there so the nice thing one of the
reasons why I like p5 jess is it as a
sort of comfortable friendly quick and
quick and easy to use syntax all I have
to do is say ellipse so that rendering
engine using html5 canvas is the default
rendering engine
five GS however there's another
rendering engine you can use and what's
special about this rendering engine is
two things so first of all I could
change this rendering I can che how do I
change the rendering engine I change it
by adding a third argument to create
canvas in this case I want to say I want
a canvas that's 400 by 400 and I want it
to be WebGL I want it to be a wet use
the WebGL rendering engine so what's
special about WebGL number one is it
supports 3d so suddenly I can create the
illusion of three-dimensional
perspective in the sketches again
there's no actual 3d here this is this
is a wall well anyway this is a wall
it's two-dimensional it's green and
that's why you see my computer screen I
get a little bit obsessed with that but
anyway the point is there is no 3d but
the rendering engine will take your code
which implies the third dimension and
then figure out how to render it so that
the viewer has the illusion of three
dimensions yeah anyway so I could
refresh my sketch and look at that
there's still an ellipse there so I'm
kind of surprised to see that because
one of the things about processing
processing Java which is a project
started in 2001 which also has a 3d
rendering engine was this sort of goal
of being able to use 3d and 2d fluidly
in the same sketch to be able to kind of
use the same concepts a lot of the same
code you don't need this entire other
way of thinking and developing your code
moving back and forth between 2d and 3d
and in many contexts that might be
highly problematic but in a kind of
friendly sketching engine that can be
very useful so but we can do things like
I'm actually surprised that suddenly
this is doing what it's doing but let's
just keep going with this another thing
I can do is I can write box let's try
this and you can see suddenly there is a
box there now you might ask yourself the
question oh look at that
wait a second what's going on here
I have some suspicions ooh look at that
okay
whoa craziness I don't know why the
ellipse was showing for a while there I
don't know what I did wrong I didn't hit
save properly but you can see
let me go back now take out WebGL
there's the circle
let me put WebGL back in and you can see
what what appeared there so I would say
this is per this is in some sense a bug
WebGL probably shouldn't draw a strange
blue and black triangle off to the right
when he has to draw an ellipse and this
is one of the aspects that's in progress
I'm kind of jumping around here but I'm
going to show you actually this is
something that currently there is a
there is currently a pull request right
now which addresses a lot of these bugs
this is has not yet been merged into
p5.js but is here that will implement a
lot of the 2d drawing stuff you might
ask like well I don't want to use
ellipse or rectangle or triangle because
I'm in 3d I want to use box and sphere
but again you might want to have a flat
two-dimensional shape in your 3d world
and that's something that's in progress
also this reminds me that I would like
to you know I'm credit the folks who
have really put in a tremendous amount
of time in developing p5.js WebGL
indefinite here on github is Kevin
seawall he has been leading the
development of WebGL pp5 yes
Karen Peng and Matthew Keaney are two
others that have been doing a lot of
development that I would just mention
and if you go on to get up and look at
the contributors you'll find many other
people but this is a project you know
sweat and tears so to say blood sweat
and tears but I don't know that it's
just that about just the sweat let you
out of no tears there are no tears
developing p5 just is a happy friends
lots of high fives and hugs anyway
whatever so um you can see that a lot of
this stuff is in progress now let me go
back and put this box back in we can see
that the box is there it looks so
strangely like a rectangle and let's try
drawing a rectangle just to see we don't
try to put a rectangle in the middle and
I'm gonna say because I want to talk
about one of the key differences here
okay look at that so this didn't work
yet another thing
didn't work in WebGL generally speaking
right now my sense of the current
implementation of WebGL is all of the
stuff that's specific to 3d works really
well and a lot of the stuff that is kind
of going back and forth between kind of
2d functions someone that hasn't yet
been implemented okay so what the thing
that I wanted to mention just get to
right now is that you'll notice that the
box appears in the center of the window
so how did I specify the location of
this box well I didn't I just gave it a
size so the box function which is a 3d
primitive gets a single argument 100 if
I change that to 200 you can see the box
got bigger but the way that you set a
location of something in
three-dimensional space is with the
translate function I need to translate
to a location to place the object there
the Box function doesn't actually have a
position involved as part of its
arguments so I could say I want to
translate to the centre of the window
and place the box right 200 200 but now
look the boxes down there so one thing
that's very very different about WebGL
rendering and p5.js is that the default
origin point is this Center and this is
more of a convention with 3d graphics
environment the default is the center
whereas in 2d graphics the default is
the top left so if I wanted the default
to be the top left I could simply just
say translate negative width / 2
negative height / - and you can see now
the default origin is in the top left
did I get that right anyway I think I
did so then I can do things like but
let's forgetting about that for a second
I can do things like zero zero Mouse X
so now you can see that box is moving
closer and farther away again I could
make this as a 2d sketch right I could
draw a rectangle and make its width and
height bigger or I could make it a 3d
sketch and draw a box and have the
z-axis move forward and back but I can
also do things like say rotate so I can
rotate by an angle and let me add let me
add an angle 0 and then I'm just going
to
angle plus equals 0.1 whoops so I got an
error interesting I wonder if I'm
required to specify the axis of rotation
rotate by default is really rotate Z
there we go so you can see now it's
rotating but I think to show you that
there's a 3d thing going on here I want
to say rotate X and you can see it's
rotating along the x axis my arm is the
x axis and this thing is rotating around
the x-axis and I could also say like
rotate Y and I could say like angle x
0.6 and you can see now I'm rotating
along the X and the y axis and you can
see the box has this sort of default
shading because I haven't done anything
to specify what color should be on the
sides or what I don't know what's a
texture is something I can do to put an
image on it so you can see this I could
change this box to sphere you can see
now I have a sphere it's a little harder
to see the rotation because it's very
symmetrical I could change just a cone
hey look there's the cone amazing I can
change this too is there something
called a torus maybe well look at
looping so look there's all sorts of
exciting possibilities all this is bared
it just works move this is great I love
WebGL okay
so you can see that you can use 3d
primitives so they're all and position
things with translate rotate things
using rotate so you might be asking the
question now
I like this WebGL things could I use
more but did I mention I don't think I
talked about I really should script
these out a bit more oh look I forgot
that I could zoom in and out okay wait
hold on so let's see let's say you want
to learn more about this stuff so one
thing you could do is there is a wiki
page this is the URL the the link to
this will be in this video's description
and this has a probably a much more
coherent same explanation of things that
are possible a bit about the 3d
coordinate system translate rotate as I
mentioned to you camera and view is
something that I is also think you can
do the camera being there's a little bit
it's sort of interesting like let's say
this pen is the camera
and my fist is a sphere that I've got to
draw in 3d I could do this right I could
move the sphere or I could move the
camera and visually those will have the
same result
right the sphere is getting bigger and
closer to the viewers eye so but using
Cameron perspective ortho is something
to create that sort of like flat Qbert
style three-dimensional look those are
functions that you might investigate to
sort of look at different ways that you
can manipulate the viewers perspective
in 3d these are all the shapes I tried
did some of them come tourists Vieira
playing Bach
these are some other types of 3d shapes
that you can render there's some more
stuff about that textures is something
that you know again I would I would want
to make individual tutorials about all
these topics this is really a bit of an
overview here and I will I will do that
at some point maybe later more towards
the end of the summer when a lot of the
features are surra long but you can see
that you can take an image oh boy we
should just do this right now look at
that look how simple that is okay hold
on stop we don't stop stay with me
well I'm gonna look for a hedgehog uh
image of a hedgehog
okay let's this is a nice cute hedgehog
I don't know do I have the rights to
this image I don't know what's going on
maybe this is bad I'm gonna save this
image to my desktop under WebGL tests
hedge dot JPEG and then what I'm gonna
do is go to my code and I'm gonna save
our image and I'm gonna say I'm gonna
I'm gonna add the preload function just
to make sure the image is loaded and
then I'm gonna say here I'm going to say
where do I say that probably just right
here texture image let's try that let's
go back look at that there's I think a
hedgehog on this spinning torus let's
make that a box let's slow down the
rotation a little bit there we go look
at that whoo spinning a hedgehog this
deserves some sort of music like the
hedgehog song but uh that's a little bit
too much anyway so you get
this is kind of wonderful and magical
that you do this stuff so quickly and
easily okay there's some stuff going on
to the chat that I have no idea what
it's about okay so that's some other
stuff that's useful text uh here's
another thing that I think is really
important there are various lighting
functions so right ambient light meaning
light that's just as if you have this
sort of glowing orb that just kind of
blasts light all throughout a room
versus a directional light which is more
like a spotlight point in a specific
direction versus a point light which is
like if I had a very small and bright
glowing orb at a specific spot so like
the the ambient light is not like an orb
that's a point light of like an orb
sitting in the space almost as if you
wanted to create like a Sun and the Sun
is blasting out light you could put a
point light where the Sun is located
ambient light is more like the walls of
the room are glowing it just kind of
there's just ambient light everywhere so
we could do something like I could add
this ambient light function and I'm
gonna this would be whoops
what happened ambient light let's make
it a nice pink light and I'm gonna go
back and refresh and you can see look
now there's some light of course all
these things could be variables I could
also do like a point light let's look at
the point light very briefly I should do
these as separate tutorials
I lost my getting started oh so okay
where can you find this stuff also the
p5.js reference is also a really good
place so let's look up the point light
reference and what is point light
require it has a whole lot of different
possible arguments but it has a red
green and blue value and opacity and
then an X Y Z position of where the
light is so so I could do something like
200 comma zero comma zero and change
this to a point light and what I'm
hoping you're going to see is that yeah
you can see that the light is kind of
shining on it I should draw something
where that is just so you can see so
let's do trans
200 comma zero comma zero and then draw
a small sphere there whoops oh and now
by the way if I translate something it
affects everything after it so what do I
want to do is say push matrix pop matrix
oh no no in in p5 it's actually just
push and pop to save and restore again I
need to make a separate tutorial about
that if it doesn't exist already and
then let's make this box a little bit
smaller just so we can kind of see
what's going on here
so you can see this is where the light
is the light is emanating from here so
you can see that this side the spinning
rectangle is the only thing that's kind
of reflecting or getting that light
again my talents here in 3d are kind of
pathetic but you can see how you can
start to manipulate the lights in the
scene as well to do that there's
material which is another thing you can
read about but okay so let's talk about
now let's say you start playing around
that you're trying to make a project in
3d there are some things that aren't yet
implemented there a fully-featured
virtual camera that might be something
it's much more elaborate in terms of how
you might move a camera around shaders
shaders is a special kind of programming
language that is very fast and allows
you to manipulate pixels and do all
sorts of things with textures and
geometry in kind of special and
interesting ways Matthew Keaney is
working on this summer a shader
implementation for p5 GS so that's going
to happen in the future the other thing
that you can look for is but if you are
in the p5.js github repository you can
go under issues and I believe I wouldn't
there is a web GL there is a web GL
label so I could click here under area
WebGL and you can see these are two
current bug reports slash feature
discussions and so if you would like to
if you find something that's not working
or you're not sure about this is a place
where you can post a bug report of you
looked at this function it's not working
properly in 3ds should it should it not
that sort of thing you can post that
here the other thing I would encourage
you to look at is under the pull
requests you can see that there
are currently in progress I mentioned
this one which is number one five one
eight there are lots of things so this
look implements all rect and ellipse
modes in WebGL so this is now allowing a
lot of those 2d functions so the next
release of p5.js may have some of the
stuff working so I wouldn't file a bug
report about rectangle or ellipse at
this moment and you know maybe by the
time you're watching this video that
will be fixed but you can see so this is
I think a place where you can ask
questions submit bug reports as well as
potentially contribute to the
development itself of 3d and so if you
have questions about how you can get
involved you can ask me a question on
Twitter or in the YouTube comments here
or as well just sort of like jump in on
p5 guess there's there's also if you go
to the p5 just wiki that's where by the
way this getting started with WebGL and
p5 a tutorial is and then also there is
a wiki here about development and how
you can get started contributing p5 just
a while okay so this is a rambling very
long so I'm out answer this question I
hope this gives you an idea in a sense
of what some possible things are in p5
just with WebGL and I at some point I
would like to make an actual more
because I never make anything proper but
say a proper sequence tutorial series
about how to do 3d stuff in WebGL and if
you watch this video if you're doing
stuff with WebGL you enjoyed it please
give your thanks and credit to the
contributors of developer to p5.js who
are doing all sorts of work with their
smiles and hugs in making p5.js WebGL ok
goodbye see you another video maybe if
you want ok goodbye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>