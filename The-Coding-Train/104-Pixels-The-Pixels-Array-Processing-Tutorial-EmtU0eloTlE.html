<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>10.4: Pixels! (The Pixels Array) - Processing Tutorial | Coder Coacher - Coaching Coders</title><meta content="10.4: Pixels! (The Pixels Array) - Processing Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>10.4: Pixels! (The Pixels Array) - Processing Tutorial</b></h2><h5 class="post__date">2015-07-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EmtU0eloTlE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi okay this this is the video this is
the one that I don't know maybe you've
been waiting for maybe not this is the
video where I want to talk about pixels
pixels no pixels the pixels themselves
so let's think about this in context for
a second something that we do a lot in
our lives this is the lives that we're
stuck living is we draw lines to the
screen we say something like line you
know 150 300 come over 250 processing
says you have said that I should draw a
line I see the coordinates what we have
drawn the line to I start with here and
I end over here and I draw a line there
the line appears on the screen but
what's really going on the existence of
this line didn't happen by magic the
line the line is not something inherent
to a computer or screen there is an
algorithm processing has an algorithm
when it gets a two points it knows how
to fill in all of the pixels between
those two points to create the illusion
of that line on the screen I don't know
if it's really a line or not but that's
that's a metaphysical question we don't
have to answer this is something this
exists because we need to do this stuff
all the time order lines and circles
rectangles and triangles and put images
all the times we don't want to have to
figure out which makes will we need to
set which colors every single time we
want to draw a shape that's what these
functions are doing for us
however there comes a time in our lives
when we might want to do that we might
want to say I don't these functions are
not good enough for me there I have this
idea for this kind of shape that doesn't
exist anywhere in the world and I need
to set all the pixels individually or on
another to another scenario might be I
took a picture of the picture dark I
wanna make it brighter I open Photoshop
and make it brighter I save it
that's what Photoshop is for it's for
you know image processing making
changing brightness contrast also color
all sorts of things you can do to an
image but if there is something you want
to do to an image that isn't available
as part of the tool
shop you need to invent your own image
processing algorithm the way to do that
would be by reading the pixels and
setting the pixels of an innovative an
image one by one at a time with your own
algorithm with your own piece of
software this is what I want to examine
how to do in this video the next one and
the next one I don't know if there's
another one do that in a few videos I
want to look at what what happens when
you can you know actually just
individually set every pixel on the
screen what what there's nothing you
couldn't draw in theory if you have
access to every single pixel on the
screen so that's what I want to look at
now there's a kind of quick and dirty
way to do this in processing there are
two functions get and set and get will
retrieve the color of a particular pixel
I want the color at this XY coordinate
and I want to store that in a variable
set will set a particular pixel to a
certain color now these functions are
useful and maybe actually looks
demonstrate set really quickly although
in the end we're going to see is these
aren't very efficient and when we want
to actually do something to all of the
pixels then we want to look at the pixel
array itself these are kind of super
functions for you know just the moment
you here's a scenario where you can just
use an exercise where you might use get
kind of off a little tan in here but
it's worth it for a second let's say you
are working on a program where you have
a map of the United States I will show
you think of a different country but I'm
just gonna use the United States right
now and I'm incapable of drawing that's
like the worst drawing of the United
States ever but you know the states are
all these misshapen strange-looking
things it's going to be how do you know
when the user has clicked on a certain
state which state that users click on
what if you had a map of the United
States where each state was colored with
a highly specific color if you just
looked at the pixel underneath the mouse
coordinates to see what color that was
you could then know which user clicked
on so anyway this is a kind of
cockamamie scenario that we're not
looking at
be a great topic for a video but this is
why you might want to just retrieve a
single color of a single pixel let's go
back and let's look at set for a second
so if I come over here and I have a
processing sketch already kind of going
here
here's a blank screen and and what I
want to do is I want to say let me set
the pixel 300 comma 200 to the color red
let me run this and somewhere in there
can we find it is there a pot screw my
thing pause this video okay I got a bit
salt so we can see right there that
little pixel is red we've set that one
individual pixel red so you know there's
no reason why I couldn't do something
like I don't know for int x equals zero
X is less than with X X plus plus set X
comma 200 to read look I now have a line
of all those pixels going right across
the screen so we can see how there's a
function in processing set which says
for this particular X for this
particular y stick this particular color
and application and this will actually
work and we could start to build this
example out more and more but set a is a
detail about set which I will explain in
a moment we'll come back full circle
which makes calling the set function
very very very slow so what we want to
do is is do this same exact idea which
is a bit simpler it albeit to see with
the set function using the pixel array
and what do I mean by the pixel right so
let's come back over here so secretly
and not really so secretly but
processing and
is keeping track of for you all the
pixels in your window or as we're going
to see in a moment all of the pixels in
a P image it's keeping track of it in a
data structure that data structure is an
array just processing is built in
variables a built-in variable that you
were probably quite familiar with is
mouse X whatever I say about sex
I get the x coordinate of the mouse I
don't have to declare it it's just there
it's a variable again if you're free
there's another variable to get for free
pixels whenever I say pixels that
variable holds all of the pixels all of
the colors on the screen but what is
this data structure I mean the window
itself you can think of as a grid right
I'm if we were zoomed way in every
single pixel is a square rectangle no
you decide uh-huh and each each one of
them has a number 0 1 2 3 4 5 6 7 8 9 10
11 12
etc etc etc each one of these is in an
array the pixels are actually an array
of integers or you can think of them as
an array of colors into a color the
color gate type is really just an
integer the integer that has the red
green and blue component this pixel
array is one long array of pixels so if
I wanted to set pixel number nine I
could say pixels index nine equals in
color to 5500 this is just like the set
function only I'm accessing the array
and a particular index in the array
which is a particular sorry a particular
pixel number nine referring to a
particular pixel that have to be on the
screen that okay let's go back and see
if we can implement that
oh I'm here Amir I'm here okay so let's
comment this out and let's say right
there's some pixel all right pixels
index 9 equals color 255 0 0 this should
work right there's no reason why this is
going to fail let's run this and look I
got an error
what error did I get no pointer
exception null pointer exception pixels
were null or are no pixels so what's
going on here so something that set did
for us is set warned processing advanced
by the way I'm about to start looking at
the pixels and this is something that
you just have to do before you access
that pixel array you've got to get
processable warning that you're claiming
do that so it's not just sitting there
empty Crescent it's going to load those
pixels into memory and give you access
to them and the way that we do that is
by saying load pixels so anytime we do
an operation with pixels we need to
first call load pixels by the way right
now I'm speaking about pixels in this or
general way pixels being the pixels of
the display window but soon we're going
to start seeing things like image dot
pixels or image dot load pixels so right
now we're talking in generic terms about
manipulating the pixels of the display
window but later so we're going to see
it's perhaps a bit more flexible and
sometimes more powerful to work with key
images and manipulate those pixels which
you then draw to the screen so we'll see
that in a little bit so now that I've
done this this works actually if we
search I'm pretty sure we would not be
able to find your red pixel because
another thing you need to do I don't see
it in there another thing you need to do
is after you're done with the pixels
need to tell processing I'm done with
the pixels please update your display
accordingly and the way to do that is
with update pixels so now we can see
that I can look into that pixel array
specify a particular pixel give it a
certain color and call update pixels now
I'm not going to pause there it is there
it is there's that red pixel pixel
number nine right up there is
beautiful we have now set a pixel in the
window by the way this should this
should give you an idea right
well pixel is an array it must have a
length and why couldn't I write a loop
why couldn't I write a loop which says
do something to every single pixel in
the window now I have a fully read
window we just broke the algorithm for
the background function essentially
again why does the background function
exist because it wouldn't be a lot of
work to have to put this in our code
every single time we want to fill the
background it's such a common task
there's a background function but this
here is us doing the background manually
and if you think about this if I'm
setting every pixel individually there's
no reason why every pixel needs to have
the same color you know random 255
random 5200 so now I'm going to set each
pixel with some random color so we could
see I have this kind of purply blue a
random set of colors so this might
actually be your first project here
which is our first exercise to think
about you know this isn't the most and I
want to take this a few steps further
actually you know what I think but what
might be a different way of thinking
about this you know the first thing that
could come up with is just like I don't
know make some random colors but what if
you want to have the colors from go get
like progressively more and more blue as
we went across the screen are all the
colored closer to the center be more
blue in closer to the edge were red
there are lots of lots of possibilities
here the truth matter is in action this
is why this video can't end here and has
to keep going even though it's we're
about 12 minutes in is that we're
missing a really key key important piece
of information you can pause now and try
to just put this in and try
maple ate this but there's a real big
problem like for example the exercise I
just suggested was have the pixels ear
to the center be more red and the pixels
to the edge before blue well how do I
know which pixel is which I mean I have
this just like numbers like this pixel
over here is probably like pixel like
720 mm like how do I know which feels
good I really want to say I know that
that I know I know about its XY but
there's nothing there's no XY here so
let's return back to our diagram over
here and let's let's let us think about
something this is the kind of key piece
of information that you're going to see
in just about every example we do from
now until the end of whenever these
videos end this are the pixels are in
this one dimensional array numerically
indexed 0 1 2 3 4 this they this list of
pixels is arranged on the screen in a
grid where they pixels count like this 0
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16
17 18 19 but we whenever we work with
pixels we really want to think of them
in terms of their X and in terms of
their Y their column number and the row
number like 0 1 2 3 4 5 and the row
numbers 0 1 2 3 4 5 so I made a 5 by 5
square this will be nice for making the
math kind of work out there nicely but
let's actually let's pretend that the Y
was 6
just so we can prove that if I have an
image that's 5 by 6 I can't see the head
of - image that's 5 by 6 how do I figure
out where is pixel 4 comma 3 4 comma 3
now bear with me for a second let's
count go to be way to one wind about
this blitz count 11 12 13 14 15 16
18 19 20 21 22 23 so this should be
pixel 23 it's pretty obvious to us that
this is pixel 4 by the way I head I just
did something wrong which I wonder if
you're doing in your head as well what's
the width of this image it's not it's
that five by six I put it over here I
didn't do it through my head I wrote it
out here and it was absolutely wrong the
index is 0 1 2 3 4 5 0 5 but the width
is actually 6 and the height here is
actually 7 so this image is a 6 by 7
inch this pixel is pixel number 4 the
one below it is pixel number 10 4 plus
the width 6 is 10 this pixel is actually
16 and then this pixel types of counted
it should actually be 22 oh boy this is
such a disaster 17 18 19 20 21 22 I
counted off this pixel is definitely 22
how did I get that we can get with we
know the two-dimensional location of a
pixel it's accidents why we could get
the one dimensional location into this
array by saying X plus y times width 4
is the X Y is 3 times the width which is
6 which is 4 plus 18 which equals pick
up freak number no that's right or plus
8422
oh my brain is melting 4 plus 18 is 22
you know
omigod we record this fear later but
what's behind this is actually quite a
crucial algorithm this magic little
formula you can see why it makes sense
pixels here zero 6 12 18 the pixels are
internally stored as a long list but we
want to think of them as a
two-dimensional grid and XY grid so if
we're thinking them as an XY grid the
moment that we need to do something to
its color leaves convert from that one
dimensional index with this formula X
plus y times width if this is confusing
to you I was just pausing this video
draw a grid number everything and number
all the rows number all the columns and
try to try to get this formula to work
for you it'll it'll it'll make itself
clear and otherwise you know email me
your complaints I would love to get them
okay so let's go back over here now how
do we apply that to this particular
algorithm instead of looping through all
the pixels from 0 to the length of the
pixel array what I want to do is write
an algorithm that loops through every
single x-value and loops through every
single Y value whoops and this is y plus
plus and this should be X plus plus now
I'm almost certain that there was
another video earlier which looked at
this idea of a nested loop this is a
kind of a difficult thing to get used to
this idea of a nested loop what I'm
saying is for every single X for every
single X when I'm at the first X over
every Y when I'm at the next X go
through every Y let's think about that
over here when I'm at the first x equals
0 let me go through or through Y now I'm
at the next x equals 1 let me go through
every Y
next next with red wine that algorithm
of for every X look at every Y that will
cover every single pixel on the screen
so this algorithm if I were to say print
X Y we're going to just see in the
console and the coordinates of every
single pixel on the screen but I don't
want to do that I want to say pixels X
plus y times width right here I was able
to say pixels index I because it was
just counting through all the pixels now
that I'm storing them by X&amp;amp;Y
now I have to still look up at the array
that one-dimensional index and this is
my formula for that this formula is down
the formula I'm applying right here in
the index of the array
so if I were to say this and I'm going
to take a load pixels and put it down
here and update pixels and put it down
here and then I'm going to comment out
this old way of doing it and save it
whoops pixels - and save it in here I'll
try to figure out where to put these
that you guys can find them now I have
an entire bream window again I've
rewritten the background function but
now I have access to every single pixels
XY location this is very powerful
because what if I said Y divided by 2
for example now you can see the pixels
get more and more green as I go down to
the bottom and what if I set in the blue
like X divided by 2 now look now we can
start seeing these gradients of color
because I can't arrange the colors I'm
picking according to their XY values
let's go ahead and do that distance idea
let's say I want to get the distance
between that particular XY coordinate
and the center of the window the center
of the window being the width divided by
2 and the height of
what if I set the color equal to that
distance now look what I have
when that distance is small I have that
black color when that distance is big I
have a white color what if I did
something random what if I put this in
the draw loop and instead of having it
just be the center
I set the pixels according to the
distance from the actual Mouse so
there's lots and lots of steps here this
core algorithm of looking through every
X and every Y and setting every pixel
according to that x and y this is the
basis behind every single image
processing algorithm image for us in
computer vision all the things we're
going to look all of the code is always
going to have this in it so this is
worth taking some time to get used to I
would say take this downloaded copy it
whatever makes out and then just try to
get a lot of different ways use a sine
function use Perlin noise
use random anything you could think of
as a way of coloring the pixels give
that a try and try to do as much as you
can using those x and y values one
little improvement though I want to make
to this is this is a little bit awkward
and I think sometimes it can be a little
easier to just put that in a separate
variable so I'm going to take that
formula X plus y times width and put it
in a separate variable and just put that
variable in here I don't know is that
this to me just gives it a little bit a
little easier to read and work with if
I'm kind of calculating that story in a
variable and actually if you look at a
lot of the examples that are in
processing or certainly in the learning
process book if you're following along
in that I often use the variable okay
like location okay so this was a
particularly long video and hopefully it
was helpful and that's that so in the
next video I want to start this is just
kind of start looking at what is it what
you know we're just kind of making up
pixels on the fly but what if we
actually read the pixels from the it
from an image manipulation drop to the
screen that's sort of the next piece
that we look at okay but I'm going to
stop this video and see you in the next
one if I could find the mouse that it
stopped recording</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>