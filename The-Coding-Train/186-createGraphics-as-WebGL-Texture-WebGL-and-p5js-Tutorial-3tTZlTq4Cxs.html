<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>18.6: createGraphics() as WebGL Texture - WebGL and p5.js Tutorial | Coder Coacher - Coaching Coders</title><meta content="18.6: createGraphics() as WebGL Texture - WebGL and p5.js Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>18.6: createGraphics() as WebGL Texture - WebGL and p5.js Tutorial</b></h2><h5 class="post__date">2017-12-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3tTZlTq4Cxs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to another WebGL p5.js
tutorial in this one I am going to
actually don't even have this on my list
of stuff but I'm gonna look again at the
texture function and previously I looked
at how to use an image or a video as a
texture in this video I want to look at
how to make an off-screen graphics
buffer essentially like a 2d canvas that
I'm drawing somewhere else how to make
that a texture in the 3d world and the
way to do that is where the function
called create graphics now I should
mention I have an another video entirely
just about create graphics that'll be
linked to in this video's description if
you want to go look at that but I'll
also explain it in this video so you can
just keep watching ok so I'm starting
with a very simple WebGL example the
only thing for this example is a sort of
empty space with a spinning cube and the
cube at oops the code is here there is a
single directional light there's an
ambient light and I'm kind of rotating
this box using the box function to make
this cube now we know that the texture
function works in a previous video as
well so I also have here unloading like
an image of a kitten so just just to see
that texture works let's add texture and
then that kitten is that what I called
it kitten yes so if I add that we now
see the kitten on the side that same
kitten on the side of every of h9 the
box now one thing will be an interesting
exercise is how would you make a
different image on each side you're
gonna have to make this a custom shape
maybe you make it a bunch of planes
maybe use begin shape and shape I'll
come back to that in another video but
right now and we should make the light
come from the front actually so I'm
gonna have the light come from the front
just directly from the front this
directional light because I want to be
able to see the beautiful bright kittens
as they face forward ok so but what I
want to do is not have to be an image so
a way that I can create create canvas is
a function that makes a canvas and I've
made a canvas a WebGL 3d rendering
canvas but I can also use another
function and I'm gonna call it I'm gonna
create a very bob it's gonna call it
graphics and I'm gonna say graphics
equals create graphics and now I'm gonna
make a square image to
200 so I'm now making a graphics object
that's 200 by 200 and this is something
that can be textured to the box so this
graphics object it's like a canvas I can
texture to the box so let's look now
let's refresh now I don't see anything
why do I not see anything because when I
make a graphics context the first thing
it is is just the transparent pixels but
I can call any of p5 2d drawing
functions on that graphics object so I
could say graphics dot background and
say background 255 and now we see that
is there and you know what I could do I
could even say graphics dot background
and now this is gonna flicker so a
little flickering warning here in
advance random color you can see this is
now just giving it a random background
every frame so whatever I would draw on
it so for example I could also do
something like graphics the ellipse
Mouse X Mouse Y Mouse Y 20 and I could
say fill oh no graphics dot fill 255 0
255 now watch what this will do look as
I move the mouse around I'm kind of
drawing on that graphics object and it's
still texture to the each side of the
cube now what when would you want to do
this number one is just what do you want
to do something kind of goofy or
interesting uh yeah I'm sure you can
think of creative uses of this more than
I can but here's a reason why you might
actually have to use it at present I
don't know that this will always be true
but at present the only way to render
text in 3d is to actually use that with
the text function is to take that place
the text on a 2d 2d graphics context and
then move down a texture so for example
if I wanted to have a message like let
love equal I'm gonna make another
graphics context graphics equals create
I don't love equals create graphics
graphics so my kids used to say instead
of breakfast breakfast or breakfast I
feel like every time I say graphics I'm
saying it wrong we should believe
graphic anyway create graphics I don't
know I've lost my train of thought
haha 300 comma 100 and then I'm going to
say love dot fill 255 and I'm going to
say loved text-align:center and then I'm
gonna say love dot text 100 the word
love 150 comma 50 so this now should be
an a two-dimensional graphics context
that's 300 by 100 that has the word love
in it so first just to like see that
this is working let me texture it whoops
all right what happened what did I do
wrong here create oh you know what hold
on a sec interesting whoa ok so one
thing that just happened there which I
wasn't aware of would happen and let's
say love dot text size 64 to make it
bigger
is that so here we go now one thing
you'll notice is again the image a
texture a graphics thing is transparent
by default so I'm actually just seeing
those letters on the side but the rest
of that cube is transparent if I had
said love duck background and I said
zero for example this now I don't see
that cube as transparent anymore so
that's an important thing to notice and
I could make it semi-transparent like I
could say 255 255 255 comma 100 so now
it's like semi-transparent so there's a
lot of possible things I can do here ok
but there was an important thing I
wanted to mention
which is that when I made when I made
and I wanted this to be more in the
center there we go that's more in the
center when I made the graphics context
not a square like 300 comma 200 it broke
so I'm not sure whether this is a bug in
the p5 WebGL at present or whether this
is just something that you actually
really have to be conscientious of but
because what I would have expected it to
do was take that image and kind of like
squish it onto the onto the side of the
cube but it's not doing that at present
so something I might have to investigate
in the future but what I wanted just
like what I was actually thinking is
what if I let's just take this out for a
second what if I just wanted the text to
appear and almost look flat the way that
I would probably do that would be to say
texture love plain 300 comma 200 so a
plane is a flat surface with a given
width and a height so if the text itself
is exactly if the if the off-screen
canvas is exactly 300 by 200 if I make
the plane 300 by 200 it should map
directly so let's take a look at that
and that also did not work so what's the
issue look at this so it looks like the
issue is at present p5 WebGL can only
take square textures this is a bit of a
problem so to me I feel like this is a
bug because I know for a fact that this
kitten image was not a perfect square
image so there's no reason why p5 can't
figure out how to take a non square
image and kind of squish it or stretch
it onto a non square or a square piece
of geometry so but I'm gonna leave that
aside maybe sometime by the time you're
watching this will be some information
in the comments or the video's
description about how that's fixed but
no matter if all I wanted to do was
display text there's no reason why I
couldn't just make you know I could for
now what I can do
is I can make my graphics object and
plane and plane object match size I can
position the this in the center the way
that I want to I can make it have a
transparent background and I can say use
that as a plane and here we go whoops
what have I done so I need to say text
align whoa okay hold on I'm missing a
couple things text-align:center the
creek graphics I wanted it to be 300 by
300 I messed up some stuff
oh whoa cuz I changed that this was
something I was using previously sorry
everybody
and now there we go so and by the way if
I take this out now I have just text in
3d that appears 2d the reason why I'm
showing this to you is because now if I
put the rotation back in if I put the
lighting back in we can see this is now
just appearing like text in 3d which is
what I wanted to show you in the first
place so here's an exercise for you find
some interesting 2d animation generative
designs for example you could take this
fractal tree design that I do a video
about where to witch cook the code is
over here I'll link to both of these in
the video's description can you make
this tree a texture in on a 3d piece of
3d geometry what happens if you texture
to a sphere a torus a cube that's a good
thing so give that a try and see how
that goes
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>