<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coding Challenge #68.2: Breadth-First Search Part 2 | Coder Coacher - Coaching Coders</title><meta content="Coding Challenge #68.2: Breadth-First Search Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coding Challenge #68.2: Breadth-First Search Part 2</b></h2><h5 class="post__date">2017-03-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-he67EEM6z0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so I'm back here for part two of
this breadth first search algorithm
thingy so you know somebody in the chat
had asked this is really hard to follow
you know could you visualize this which
is this very very good point and
unfortunately the way that I'm building
this example right now I'm not going to
sort of build in a lot of graphics
feature so that's a great exercise for
you to do and I do have other examples
but do have those features that you can
I'll link here you could look at but I
think that we could at very least I
could draw it for you what this is
looking like so without using actual
movie names or actor names I'm just
going to I'm going to say like movie one
movie to movie three I'm going to have
you know actor one actor two should
probably use real names to make this
make more sense actor three actor for
actor five so maybe these actors were in
this movie these actors were in this
movie the actors don't have connections
to each other and right so the actress
it's only in this particular example the
actors only have connections to each
other through movies and somebody else's
a chat that should you should
distinguish between movie and actor
nodes and that could be an interesting
thing to work with and you know
depending on how you're visualizing it
you probably would want to do that for
purchase finding the shortest path I
don't actually need to do that so let's
say that actor one act like a actor for
is actually Kevin Bacon so what they
depth a hard test breadth first search
algorithm looks to do is I want to pick
any actor and find the shortest route to
get the Kevin Bacon in this we can see
here is after two was in movie two with
Kevin Bacon actor 3 was in moving to
with Kevin Bacon or this is the same
distance after five within movie three
with Kevin Bacon and actor one was in
movie one with actor three who is in
movie two with Kevin Bacon
so this there's not a lot of
possibilities here but you could imagine
a much more complex interconnected
network and if you think about actors
and all the movies they've been in in
full catalyst its massive okay so now
let's
back here okay so now I need to do is
actually implement the breadth first
search algorithm now before I do that I
need to I need to I need to add up for
giving an end so I need somewhere to
start somewhere I want to finish so
always the graph always wants to end I'm
going to just I'm going to app graph
have this dot end and this stuff start
so I'm going to give the graph object
and end in the start node and what I'm
going to do is in after I've added all
the data I mean I'm just going to
hard-code this in which is a little bit
silly and I'm going to say graph dot set
and I'll just do it this way set and
Kevin Bacon and graph dot set start
let's just pick some actor front lips
let's pick some actor from that list
wasn't Mickey Rourke in that list let's
see if I get this right so Mickey
Rourke's to Kevin Bacon okay so now I'm
going to go and in grout need to add
those functions set start set start
equals function and I must say and you
know actor and then I'm going to say set
end and then this dot start equals this
graph now if get actor doesn't exist
we're going to have a problem but I'm
just going to assume that actor does
exist so I want to pull I need to get
the node I need I mean maybe I could
just keep it as a string but I want to
get the node the particular node that is
the start associate with that actor and
particularly knows that it's the end so
see what that actor okay we've got that
should've put that in the last video but
we've got that now we are ready for
breadth-first search so I'm going to use
I'm just going to pull I referenced
before this book which is a really great
visual explanation grokking algorithms
of this a particular algorithm but I'm
just going to try to write the algorithm
from
the Wikipedia page but you know I could
also just explain it to you so what
we're going to do if we're starting with
an actor is we're just going to say
breadth-first search means check every
single edge connected to this actor did
that kind of make it no not going to
make it known is that going to make it
nope so all of these that aren't Kevin
Bacon should get added to something
called a cue a queue is a kind of data
structure that first in/first out so
it's like lining up to buy tickets if
you've got in line first you get to buy
the first ticket so and this is not
Kevin Bacon it gets added to the queue
then M 2 is not Kevin Bacon it gets
added to the queue then M 3 is that
Kevin Bacon it gets added to the queue
now when I'm done checking all those
edges I go to the queue and take the
first thing off which is M 1 and check
all its edges well this I don't have to
check that anymore because it's been
checked I've got a mark things check
when I check down and then I got to
check it I just nope
so that's not it so this goes off the
queue now this is next a 1 actually then
gets added to the queue as well then M 2
I got to check all those edges that's
not Kevin Bacon it's been checked it's
been checked oh that's Kevin Bacon I'm
done so now I've done and all the while
I was doing this by the way I was
keeping track that m2 came from actor 3
and then Kevin Bacon came from actor 4
so that I will then be able to back up
and create a list a path of those nodes
so the idea is check everything nearest
and add that to a queue and when you're
done checking everything here is just
keep pulling from the queue to check
what's nearest to that and keep going
until you find Kevin Bacon ok so
hopefully that helps you understand it a
little bit and now we're going to now
okay so empty set s the way that this is
described is Wikipedia on Wikipedia is
to keep a separate list or set of things
that have already been searched but I'm
going to do this a little bit
differently in my node object I have a
boolean to keep track of whether it's
been searched or not so I can just flag
it when it's been searched I don't need
a separate data structure for that but I
knew do need a queue now here's the
thing I could actually like implement a
queue and have like you know
fancy wave it is on the JavaScript it's
late I'm tired I'm just going to use it
array because an array is something I
can add to and I can pull off from the
beginning so what I'm going to do is I'm
going to call it a queue I'm going to
say right down here VAR q equals an
array okay
VAR q equals in the race and then what
I'm going to do is keep following this
algorithm okay so the route we got to
start with the route so the movie is the
start so var start is a little silly
that this is kind of redundant but grass
get so I should have this return the
value of our start of our end so that
way I can have a reference to it out
here so I'm going to go to the graph and
have it also return this dot start so I
can have the node return to stunt end
and now what I'm going to do is let's
now I've got the start let's look back
at the algorithm the starts parent is
already known add root 2x so roots now
going to be searched start search equals
true that's the first thing so I don't
need to add a set I'm just going to flag
it as searched Oh then I need to add it
to the queue Q dot push the start so now
I'm adding it to the queue okay what
else do I need to do now I'm going to
keep going as long as the queue has
stuff to look at now it is possible that
there is no connection so you saw that
in my in the quick demonstration in the
previous video there could be infinity
there's no connection but as long as
queue is not empty which I could say is
wild Q dot length is greater than 0 sure
there's a more elegant way to say that
DQ which means get the first thing off
the queue I think in JavaScript that is
a let's call this current um equals a
queue shift
I think it's shift that right hopefully
that's right somebody correct me if
that's wrong okay now if current is the
goal we're done okay
if current equals end a console console
dot log found and notice a current dot
value so just to make sure this works
I'm going to set temporarily the start
also to Kevin Bacon because now when I
run it it should set it to search put it
in a queue get the first thing off the
queue and check to see if it's the end
and what this does here okay so let's
run that sound Kevin Bacon so things are
working if the start and the end are
equal we're good
what's next I want to check if it's not
I want to check all of the edges so
let's go through and say and so I
probably want to say break here to break
as a way of getting out of the loop once
you're done so let's say var edges
equals current dot edges then I want to
loop through all of the edges where I
want to check them all and I want to say
first of all I need to check was edges
so let's um let's call this like
neighbor equals edges index I so if
neighbor dot searched already skip it
skip so maybe I go and say if it's not
been searched what does it say here if
it's not in Athens it's not searched now
it's being searched so I'm just a
neighbor so I'm searching it now but
search equals true I'm checking it then
I also want to set its parent like where
did I just come from neighbor parent
equals current so where did it just come
from and then I want to add it to the
queue on - so what's that Q dot push
push adds it to the end neighbor so we
can see how this
algorithm is working it's really very
simple it seems so cops like could have
fancy needs but we're just saying start
with the beginning look at everything
next to it did you find it nope look at
everything next to that did you find it
nope look at everything next to that did
you find it nope and all the while make
sure you don't double-check anything
you've already checked before that's
really all that's going on here okay now
let's see what am I missing
what else nothing hmm let's run them so
let's let's run them here we go Hey
found Kevin Bacon now let's change the
start to Mickey Rourke now whenever I do
these kind of things I often end up with
an infinite loop and the browser crashes
let's see if I made a mistake somewhere
and let's see nope found Kevin Bacon now
is this really working let's look at so
let's every time we check a node let's
console.log it and let's say console.log
value so we're checked mickey rourke
who's in diner and then we check a bunch
of actors oh and found Kevin Bacon and
we're done
great let's use a different actor that
is kind of further down here these are
actors that are in movies without Kevin
Bacon so let's pick Rachel McAdams Wow I
think we might be done we're going to
add some more stuff to this in a second
but let's add a set start Rachel McAdams
we're not actually done because I like
copy paste of the wrong thing sorry
Rachel McAdams sketch Rach ah why is
this not working why can't I got copy
paste ah oh my goodness I copy paste in
the file
this is falling everything song apart
help me Rachel McAdams and Mickey Rourke
and lean out Schreiber okay there we go
okay let's do this again we can see
what's going on Rachel calves and
spotlight with all these actors oh my
goodness which was the e pray level all
these actualities actors I found Kevin
Bacon so I can't really follow it
why I need to now go backwards through
the parents so when I'm done so let's
take this is not helping us follow this
but when we're done here we should be
able to say I'm going to create a
variable called path which is an array
and I want to put the full path in that
array and I'm going to say so pack push
grass dot end right or no end that's
what we're starting and then I want to
say next equals end so I want to do a
loop you just go from next equals end
dot parent and I want to say while while
next is not equal to no I let's explain
this again in a second while next is not
equal to no path dot push next and the
next
equals next dot current okay let's I
think this is right right what I want to
do is I want to start with the end and
then go backwards go to the ends parent
then that was parent and that one parent
and that's one parent to trace back to
find that path that was found so that's
what this particular algorithm is doing
we start with the end then we get the
parent at the end and as long as it
exists put it in the path and then we
get the parent of that and as long as it
exists put in the topic keep doing until
eventually something that's no parent
anymore
because it's where we start so the start
has no parent so now I should be able to
say and I'm actually to create a Dom
element I should be able to iterate over
the path do I have to iterate in the
back path backwards because what's yeah
the last thing is the beginning so I'm
going to say path length I mean I could
do this in a number of different ways -
one I goes all the way down to zero and
I'm going to say node equals path index
I then I'm going to say I'm going to say
VAR text equals an empty string then I'm
going to say
a text plus equals n value plus like an
arrow I should get the right arrow key
and then I'm going to say create P text
so what I want to do here is just read
one doing this instead of console
logging create P as a p5 function that
will create a paragraph element of
browser so I can see it written out
there so let's see if this helps
so we can see there we go rachel mcadams
was in spotlight with billie crudup
who's an Eat Pray Love with Julia
Roberts who's in Flatliners with Kevin
Bacon now I should also have something
that I don't need that last arrow so if
I is not equal to 0 then also add the
arrow let me just correct that and there
we go now let's just quickly while we're
here we're almost done people are asking
the chat would this be a good time to
talk about Big O notation definitely I
got to make a video about that sometime
and it will come before this one maybe
you already watch it because you're in
the future okay very quickly just to
make this a little bit more interesting
let me produce something I'm going to
use a p5 function oh this is going to
make it harder than I should will you
stop I'm gonna do this anyway I'm going
to save our drop-down equals create
select so what the create select
function does is it makes a little
drop-down menu and there's some silly
CSS styling here which is causing it all
to have no like margins which is
unnecessary okay so it makes a little
drop-down but I need to put stuff in the
drop-down I want to have I want be able
to select any actor and see the result
so now what I'm going to do is while I'm
going through these actors this is where
I get every actor name as long as it's a
new actor I'm going to say drop-down
option actor watch this very simple in
p5 create a Dom element and add some
options to it a number of other ways you
could do this
during this part kind of quickly now you
can see I have a little menu or I can
pick other any actor now I need to be
able to know when do I pick a new actor
when I pick a new actor when I pick a
new actor it's an event on this Dom
element so on the event this is a p5
function I'm going to call changed so
any time I'm going to say run I'm just
going to say BFF so anytime to drop down
change just run breadth-first search and
I'm going to now go down and take
everything here that's the entire
breadth first search algorithm and put
that in its own function function BFS
there we go so now just to see if this
works I'm going to what we're going to
do is we're going to run the page again
I'm going to change the actor and it ran
breadth-first search but it rained it
was Rachel McAdams so the point is what
I want is to have it run with Paul right
so where do I
so this drop down needs to be a global
variable and the drop down needs to be a
global variable I've got a lot of messy
code here but someday we'll clean that
up a little bit and I'm going to change
the start set start to drop down value
for the actors name for the start will
actually come from there now let's do
this again I'm going to pick polariser
again Paul Reiser is the designer with
Kevin Bacon now let's pick somebody else
is not going to work Paul Reiser didn't
work so first of all that's why do you
work well couple things number one it's
weird that it's starting with Paul
Reiser again I don't know what the bug
is specifically but there's a major
problem see this node object remember I
was setting parents and searched I got
to start over all the search has to be
set to false and all the parents have to
be set to null so I need a function in
graph
which essentially is like a reset
function and what I'm going to do in
this reset function I knew I needed that
nodes array for some reason I'm just
going to go through all the nodes their
edges all stay the same and I'm going to
say nose index search equals false and
nose index I search on a no-parent
people who still with me are you with me
I'm barely with myself here but it's not
to be the weekend for me okay no okay
here we go
Steve Guttenberg Mickey Rourke was a
diner of Kevin Bacon Lynn Martha was it
what did I miss
Oh in color reset I wrote the reset
function button call it Oh classic
horrible error here grass dot reset oh
my god what a bit of it under bizarre
coding coding debug it get into whether
we go see you Guttenberg Oh Ellen Barkin
Oh nose is not defined ah this dot this
dot this dot got to be that right so
this song never forget the this stock
fum never forget the bestop song k ellen
barkin was in dire with Kevin Bacon and
Lynn Martha was in fun loose with Kevin
Bacon and Mark Ruffalo was in spotlight
with Julie crop with an Eat Pray Love
with Julia Roberts who is implemented
okay so this is press first search in
two videos if you watch this the whole
way through that is amazing to me thank
you very much
hashtag six degrees of Kevin Bacon
breadth first search algorithm whatever
you know there's a lot of details about
algorithms things I'm sure I've missed
here you thinking about the
interactivity because visualize this so
many wonderful possibilities I'm going
to be done for today and I will see you
in a future video sometime
as always the code for this particular
challenge is in the description as well
as links to other videos and things that
I've referenced if anything's missing
just let me know in the comments thanks
for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>