<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>13.4: 2D Noise - Perlin Noise and p5.js Tutorial | Coder Coacher - Coaching Coders</title><meta content="13.4: 2D Noise - Perlin Noise and p5.js Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>13.4: 2D Noise - Perlin Noise and p5.js Tutorial</b></h2><h5 class="post__date">2016-06-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ikwNrFvnL3g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello the time has come to talk about
two-dimensional Perla noise that is not
two-dimensional Perla noise right behind
me over here is a visual representation
of one dimensional Perlin noise a kind
of one a graph over time or over some
sort of x-axis of noise valid Perlin
noise values of smooth random values so
what I want to talk about in this video
coming over here is what does it mean
for perla noise to suddenly be in two
dimensions so let me draw for you
essentially what was happening in that
sketch so this is a graph of Perlin
noise in one dimension and we know that
the noise function takes an input which
I was calling which I called in my
previous example X off meaning some sort
of offset along the x axis and the
function will return the particular
value related to that x offset so now
even though this is a 2-dimensional
board and I am here with you in three
dimensions this is official
representation of one dimensional value
values along one dimension so now I need
a visual Dement visual representation of
values in two dimensions so what I'm
going to do here is now draw you a grid
and write ah this marker is failing me
let's try the other side
I think I need to like not have gravity
in this space maybe and then the ink
wouldn't drip to the back I'm trying to
like hold it up like this and you won
those astronaut pens anyway so this is
now a two dimensional grid what if
instead of a particular noise value you
come to this I am going to Staples and I
am buying a box of fresh whiteboard
markers as soon as I finish making
videos today uh noise what if I say X
off comma Y off what I'm saying here is
give me a particular noise value at a
particular X location and Y location in
this space so in the same way that this
looks like a bumpy terrain
but it's flattened you could imagine
this being a bumpy terrain that's coming
out towards you right there's all of
these values and so this particular
value right this particular value is
similar to the value that comes after it
or the value that comes before it this
particular value is similar to all the
values that surround it right there's a
difference between again this is a very
kind of like a difficult thing to wrap
one's head around there's a difference
between drawing stuff in two dimensions
versus pulling values from two
dimensions but what I'm going to do now
I think is try to demonstrate perla
noise in two dimensions by doing the
most sort of like literal visual
representation of this so what I'm going
to do is on what I'm going to do is
color every single pixel accord with a
grayscale value according to a perla
noise value so let's let's make that
happen hopefully that explains it
somewhat now I'm coming back over here
and here we go so let's do some stuff
here let's actually let me I'm going to
I'm going to keep this increment
variable I'm going to get rid of this
start variable I'm going to get rid of a
lot of this stuff actually but I'm going
to keep this outer loop what I'm
actually going to do and I could do this
with pixels let's do it with pixels so
what I need to say I'm going to make the
canvas 200 by 200 and then I'm going to
say load pixels here and draw now the
way that the pixel array works in p5.js
is a little bit tricky and I have an
entire video dedicated to just that so
if you haven't used pixels before in p5
yes go find that video now and then come
back there'll be a link to it in the
description of this video but what I'm
going to do here is I'm going to add two
loops one for the X values one for the Y
values and then I don't need begin shape
and end shape I don't need any of this
stuff I can actually get rid of so much
stuff from this example then I'm going
to say update pixels at the end
now what I need to do is I need to
calculate an index which is X plus y
time this is what I cover in the other
video X plus y times width times 4 and
then I want to say pixels that index
equals 255 and then that's the red value
this is the green value this is the blue
value and I'm going to say plus 0 just
so you see plus 3 and this is the alpha
value so if I do this I should just see
ok so what just happened here something
weird just happened it so happens that
my machine is actually a high density
display its a Mac Retina screen and so
the way high density displays work is
they actually Pack 4 pixels in for every
pixel and I don't want to get a lost
into discussion of that but I can kind
of fix this issue just by saying pixel
density I can turn off the sort of high
density nests of the display by just
saying pixel density 1 one pixel per
pixel and now you can see there we go so
let's look at this now and let's say I
say random for each pixel I'm going to
give random that I'm going to pick a
brightness which is a random value R
whoops ah r r what atom is auto
completing me like I'm a crazy person
okay so you can see there we go we've
got you know back in olden times when
you might have to use something called a
television the telly and you couldn't
get your antenna to connect to anything
you would see this kind of noise static
randomness that's what it looks like
every single pixel is some is a random
grayscale value between 0 and 255 this
is making me feel crazy so now what I
want to do you can see that there's no
relationship between any pixel and the
pixel next to it and I can I could say
no loop just so we could take a closer
look at this
and you can see it's you know zoomed in
you can see every pixel is just sort of
a random value with no relationship so
now what if I want to use Perlin noise
so let's one-dimensional Perla noise for
a second what if just to say I have a
global I have a variable called X off
and what I'm actually going to do for
every pixel is take a noise value at X
off and multiply it by 255 you can see
now every single pixel gets a single
noise value from x 0 in one dimensional
noise every single pixel now has this
color now what if I start marching
through one dimensional noise and I were
to say okay for every pixel change X off
by some amount it's kind of interesting
I get this sort of like weird streak why
do I get this weird crazy streak well
let's think about first of all why is it
going down shouldn't it go across let's
look at those loops again the inner loop
is the Y loop so actually for every X
I'm doing all the Y pixels
let me move Y to the outer loop look
those streaks are going across what's
happening here is that and we can kind
of zoom in here for a second right every
pixel is changing ever so slightly
according to Perlin noise white to gray
to gray and then when it gets to the end
look at the color that's over here it's
hard for you to see but the color that's
over here just comes right back and
picks up in the next row so in the grid
right if I have one dimensional Perlin
noise values I'm getting a variety of
continuously smooth numbers but then the
one that is here it's similar not to
what's above it it's this one is similar
to what's before and after but there's
no relationship to what's below so what
I actually want to do is give it also
give perla noise this is where I want to
have the values I don't want to
visualize in two dimensions one
dimensional pearl
I want to visualize two-dimensional
prose so if I come over here now and I
were to say let me also have a y offset
now this is a little bit strange now
where do I initialize these so the Y
offset right if I'm looping like this X
offset is going up up up up up up then X
offset should reset and Y offset should
go up by one up up up up up up up X
offset read set while so it goes up by
one so what I actually need to do is X
offset needs to be initialized here
because for every single row I want to
restart X offset back at zero and then I
want noise and then I want noise of X
offset Y offset and then after every
single row after every single inner loop
I want the y offset to go up and I
forgot I have a variable called
increment so let me just add that in
here and I'm going to run this again and
now look what I've got here I've got
something that appears rather cloudy
why because pixels are similar to the
pixels around it's very much like
blurring an image actually if I took
that random snow that random static and
blurred it over and over blur blur blur
blur that's not like that cosine
interpolation function that I referred
to all the way back about how the Perlin
noise algorithm was generated in the
first place so a blur this sort of blur
convolution I can't believe I'm using a
technical jargon and this blue
convolution meaning a way of like mixing
pixels together but this blur thing is
very similar to sort of smoothing out
that randomness averaging so I could do
things by the way - like increment just
0.1 oh it's not looping so let me turn
loop back on and let me make the
increment bigger right you can see what
that looks like with a bigger increment
there's more changes I could make the
increment be something even smaller you
can see how how this sort of noise this
noise field appears so this is a literal
visualization of the two dimensional
of those other two dimensional Perlin
noise values and you know as you might
imagine you could take those values and
map them to lots of other things like
bumpy terrain or a flow field which is
the thing that I'm also going to get to
in the next particular video so
hopefully this helps you understand a
bit more about how the Perlin noise
2-dimensional out 2 dimensional noise
works and and I'm going to do some more
of it in the next video to make a flow
field</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>