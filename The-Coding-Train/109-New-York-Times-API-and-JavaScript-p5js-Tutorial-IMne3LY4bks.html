<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>10.9: New York Times API and JavaScript - p5.js Tutorial | Coder Coacher - Coaching Coders</title><meta content="10.9: New York Times API and JavaScript - p5.js Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>10.9: New York Times API and JavaScript - p5.js Tutorial</b></h2><h5 class="post__date">2015-11-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IMne3LY4bks" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello in this video I'm going to look at
the New York Times API which is an API
that you can query to get information
about articles the New York Times
shockingly quite a surprise yes so again
I'm not suggesting that this is the
be-all end-all of api's to use but this
is a nice case study of finding an API
that's out there how do you navigate its
documentation how do you figure out how
to form an API query and get that data
look at that data and make something
happen on the screen in a webpage using
javascript HTML CSS and this thing over
here above my hand I need the Hat I just
would rather have that as a hat I'll
call p5 yes okay so the first thing once
again as in the previous video where I
looked at word neck the first thing is I
could spend a lot of time without even
writing any code or looking at any code
because the first thing I need to do is
just figure out like huh there's an API
like wow so um one thing you'll see here
I'm already here but I'm at developer
New York Times com
so once again you're at the mercy of the
API how good is the documentation are
there examples is there an online tool
that helps you navigate the API and
again this is a case where there is a
good one and you know the you know this
is that question like you went to the
New York Times website you found all
this data you want to use it is there an
easy path to that or do you have to take
some sort of like side road and in this
particular video I'm showing you the
easy path and in another video we'll
look at some side roads to how you might
scrape or parse data that isn't
presented in a sort of API JSON friendly
format okay so all that aside Here I am
welcome get started this is a nice
friendly language it makes me happy that
somebody's welcoming me to the page and
I could get started so the first thing
you're gonna need to do by the way if
you're doing this on your own is request
an API key so again you've got to sign
up for an account get an API key I don't
believe actually don't know this I've no
idea what I'm talking about all of a
sudden which is most of the time but I I
don't know whether there's any threshold
of querying this API where you suddenly
have to pay for its use but certainly
what I'm going to show you today getting
a little bit of data here and there is
something you can do for free this is a
great thing this is something that if
you see is good news for you you're
looking for an API tool
you can figure out how the API works
through an interface in the browser we
solved the same exact thing with word
Nick so I could you know click around
and look at various things available
api's but I'm gonna go here directly to
that API tool and here you can see API
console actually you know before I go
that let me click to available api's so
you can see here there's a lot of api's
there's you know event listings and
geographic data most popular api movie
reviews there's lots of different sort
of sub api is different paths within the
larger api I think I'm gonna stick with
for simplicity just this article search
API so interesting amazed this is a kind
of nice data source because it actually
goes back to 1851 so I can query the New
York Times to ask for art I can search I
can say give me all the Articles that
have the word rainbow in them and their
word that you know see Bo there's such
thing as a see Bo as I learned in a
previous video or you know porcupine
whatever picked your word of choice you
can find out behind the articles so I'm
gonna start with that one and I could
click on it and it's actually gears some
documentation of how it all works but
once again I I'm going to prefer to go
back and go to this API tool and Here I
am high moment of technical difficulty
but I'm back and I am on the API console
so the first thing that I'm going to do
here is look at how the API console
works to figure out what the query is I
want to make to the New York Times so
I'm in the article Search API but of
course I could change to a different one
and what I want to do is click here this
is the one what's known as end point
being the point of end of the API where
I'm gonna get something but really I
think its end point is referring to
search or maybe that's the method it
doesn't really matter this terminology
the point is I want to search the API
and this is the path for doing that so I
can click here and I can see now again I
have an interface and yes I want the
format to come back as JSON that's gonna
work well for me and then Q is the
search query term so what am i what are
what's the query term that I'm looking
for articles that contain that
particular word so I know I really
should think of something different but
I'll just keep using rainbow by the way
never mind
and then there's other things so I could
filter the search oh there's a begin
dated
and date so I could restrict only
getting articles from like 1957 with the
word rainbow in it I could sort what I
get back by a different order all that
stuff is interesting but it's also all
optional right now I'm gonna leave it
out so I'm gonna you I encourage you to
look through this try it on your own add
different parameters to the API search
but the point is I want to hit this now
once again the most beautiful button in
the Internet is the try it button
because that's gonna let me just try the
API without having to write the code to
see how it works now one thing here you
can see the New York Times will often
give you some results with a key known
as sample key
I've overused the sample key so I tried
this a minute ago and it's gonna like
tell me no sorry you've overused the
sample key but I have registered and
logged in for my own API key so I'm not
going to include this process in the
video if you have trouble ask a question
in the comments maybe I can help you but
once you've made an account logged in
you will get your own key and I'm gonna
take that key and I'm gonna go back here
and I'm gonna paste it in here and then
I'm gonna hit try it and once again we
can see this is this is exactly what I
want I now the API tool formed the API
query for me and also you can scroll
down you can see it's showing me the
data but this is a bit awkward to look
at it here so it's a little bit easier
for me to do is grab this URL once again
open up a new tab in the browser paste
it into the browser and now I can start
to look at the data as it looks in in
the browser itself so I can start now
now here's so first of all it might look
like this to you right you might get
this result I have a particular browser
extension which formats JSON for me
nicely I demonstrated in an earlier
video I think if you just Google Chrome
extension JSON format here you'll find
one so but even so this is a good
example of now a lot of api's will give
you back a ton of data so really there's
some detective work involved here and
figuring out how to find the data so
let's let's say what we want to do is
show on screen the headlines for all of
the articles that contain the word
rainbow and maybe even a short snippet
paragraph from those particular articles
so let's think about how we might do
that
first of all one thing I often like to
do is start like minimizing these you
can see that really the API is just
giving me back an object with a response
property a status property in the
copyright property which is important to
note that you were getting some
copyrighted material here so I can
unpack this response property there's a
meta property and a Doc's property meta
probably has some information about the
API query how many halls I have left
that sort of thing
Docs which has ten items I know this is
advanced that's giving me ten articles
so most api's won't give you back all
like ten thousand articles all it was
they're gonna give you ten at a time and
there's a way of paging through them but
that's a bit beyond the scope of this
particular video but what I want to do
is here look at Doc's when Doc's is an
array so you can see these these are
each elements of the array so each one
of these elements of the array is one
particular article so in this particular
article now I need to zoom back out here
and look okay I don't multimedia
headline there we go keywords there's so
much information publication date byline
you can see some things are right there
like snippet lead paragraph abstract I'm
kind of interested in the headline which
is now in another object so I can unpack
that and see main kicker print headline
so we can see you know you can spend all
day here like looking into the the API
but I can kind of imagine now what I
want if I want the headline is response
dot Docs index you know zero for the
first one dot headline dot main so I
like weirdly feel like I have that
memorized now probably because I've used
the New York Times API a bunch of times
but this is the kind of thing you're
gonna be needing to take notes practice
gonna make a mistake try it again
this is the kind of thing you're gonna
want to do on your own but now we are
ready to go back and start to write code
we we've looked at the API website we've
looked at the documentation we've used
the tool and we've got a working path to
to getting data and so now I'm gonna go
back to p5 and I'm gonna say just at the
beginning load JSON and I want to the
API URL
I'll have that as a variable and a
callback called got data so I'm going to
make a variable which is the URL and I'm
going to paste this URL right in here
now for expediency here I'm not going to
go through the steps of breaking that
URL into parts I've done that several
times in several other videos now and in
fact I would say probably the exercise
for you at the end of this video is to
have the user input the search word and
then get particular articles back with
that search work right now I'm just
going to get rainbow articles but the
first thing I want to do what I need to
do right now is write this got data call
back and remember that got data call
back needs an argument that's where the
data from the API will fill that
variable with the data and I can just
look at it to make sure it's working in
the console I'm not really going to look
at it in the console but I want to just
hope that I see something there and you
can see there is something there so
hopefully we can we can feel pretty
confident that what's there is exactly
the same as here so now let's think
about this again response dot Doc's
index 0 dot headline dot main let's
let's work with that data dot response
dot Doc's index 0 dot headline main did
I do I did I dare possibly get that
right let's try it again let's run it
looks like I got that right let's look
at this second article see what the
headline is I'm changing that number 0
Hollywood dreams that make sense that
you might have a rainbow in your
Hollywood dreams my Hollywood dreams are
consist of YouTube videos about data and
api's which is sort of a strange
Hollywood dream some might say something
- I don't know where I'm going with this
I'll stop now
where are we oh oh no I forgot I have 2
sections here anyway I'm back ok so
ba ba ba um what do I want to do with
this well I want to make something
appear in the browser now there's a lot
of interesting applications here and it
maybe I'll get to some ideas for you a
towards the end of this video but right
now let's at least make it loop through
and show me every headline and perhaps
also a snippet so let's go back to this
you can see snippet is actually just
response docs index 0 dot snippet
snippet being like a short paragraph or
snippet from the article to give us some
more information so one thing that
you'll that is one
that happens here is that I have an
array data dot response not Docs and you
know what I think can be useful this is
a useful technique if I just make up a
variable called articles and say
articles is data dot response dot Docs
like I'm gonna need it every time I try
to look for gain how can you say Dana
dot response Docs blah blah blah data
dot response Doc's that ad ID remix this
has kind of like a rhythmic quality to
it data response Docs da da da but I'm
gonna need to do that over and over
again so it's kind of useful if I just
store that in a variable called articles
because now I can say things like what I
want to do is have a for loop I goes
from zero to articles dot length you
know I plus plus and I could say
something like whoops let me leave that
down here for reference right I don't
need to say data dot response dot Docs
headline main I just need to say
articles headline main well art what I
need to say is I'll say create P
articles index i dot headline dot mean
so this should now loop through every
single object in that array that Doc's
array each one having a headline object
in each headline having a main being the
main headline so if I run this now
you're gonna see here we go I've got
rainbow international pain bow charms
pain but what's a pain bow that sounds
terrible no no no no pain bows rainbows
East Village Birdman abandon his nest of
CDs there's some interesting articles
about rainbows so and but maybe what I
want to do actually is say create
element I'm gonna make an h1 element for
every a headline and then I'm going to
just quickly I'm gonna kind of like
trying to wrap this up here I'm gonna
make a paragraph element for every
snippet which would be articles index i
dot snippet so again there's a lot of
data there articles index I'd on
headline made articles index i dot
snippet make an h1 make a paragraph and
now when I look at this we can see I've
now got sort of like you know my own
version of the New York Times right here
of a bunch of articles and little
snippets and I could change you know
right now if I wanted to change what
it's searching for I've got to go into
my code into
this URL you know I could change it to
porcupine and I could run it again and
you can see I've got now so prickly a
name but we're fine on the table I've
got some articles about porcupines so
here's where I would say to you first of
all just showing you kind of the
beginnings of what you could do here so
one thing that I think would be a good
exercise is to make this work but not
have to go type into the code to change
the word add a text input field get a
button when the user enters something in
that text output field and clicks the
button you get the articles with that
search term another thing you might
think about doing is can you add query
string arguments right the only query
argument I have right now is Q equals
porcupine but if you go back to the tool
there was a begin and an end in terms of
dates so could I get all the articles
from a particular year could I even have
that year be selected by the user that's
something you might try another thing
you might look into and I might need to
add some link or something in this is
that the New York Times will give you
the frequency that a word appeared in
the New York Times for a given year so
you can look at interesting trends like
when did the word computer start getting
used often in articles or this is a very
totally trite example but you can think
of something like how many times the
word war used versus the word peace
so anyway you'll be more thoughtful or
creative about what kinds of comparisons
might you be interested in doing but
that's something in this article search
API you can also get is something about
word frequencies so there's a lot of
possibilities of things you might
explore if you make stuff share them
with me I would love to hear about it
and I hope that this was useful to you
in how you might use the New York Times
API this is me signing off w FM XY
YouTube ITP hot lights room weird place
over the window and computer and I
okay goodbye I don't have a hashtag for
you
hashtag uncomfortable person Dan okay
goodbye oh wait this mouse fell asleep
sleeping mouse again okay and I'm gonna
stop the</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>