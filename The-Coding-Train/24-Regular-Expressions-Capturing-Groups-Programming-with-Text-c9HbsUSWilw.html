<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>2.4: Regular Expressions: Capturing Groups - Programming with Text | Coder Coacher - Coaching Coders</title><meta content="2.4: Regular Expressions: Capturing Groups - Programming with Text - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>2.4: Regular Expressions: Capturing Groups - Programming with Text</b></h2><h5 class="post__date">2016-09-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/c9HbsUSWilw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to another regular
expression video can you believe it here
we are again again talks about regular
expressions I can't believe it this is
my life isn't it anyway um okay so in
this video I want to talk about
something called capturing groups and
back references kind of ominous weird
sounding but they're very powerful very
interesting and you can use them this is
really where you start to get into
exciting steps you can do for
experimentals strange regular expression
poetry stuff okay so what do I mean by
capturing groups so let's say let's go
back to the phone number let's go back
to the phone number example so let's say
I have these two phone numbers to 12.5 5
5 . 1 2 3 4 and I have 9 1 7 and I'm
just going to use the dash here for a
second - - 8 6 7-5 309 so let's say
ultimately what I want to do is I want
to redact these numbers so I want to
still see the area codes but I want to
do a search and replace any phone number
and I want them to come out like this so
what I need to first do as we know is
match these phone numbers and the way
that I can match these phone numbers
let's we've done this a bunch of times
but I'll write it over here D 3 digits
followed by a dash followed by 3 digits
followed by a dash followed by four
digits ok so here's the thing
whatever you do a regular expression
search it matches a particular it
doesn't match right this is the whole
thing that is matched and I'm going to
erase the second one just to give myself
some more room here you can up and then
what it automatically does is assigns
this full match to something called
group number zero so I have captured
this match from my regular expression
and I've called it group number 0 if I
put parenthesis no parenthesis can be
used for alternation doing it
but parentheses whether or not they're
used for alternation or not also will
capture a subgroup so in other words
what if I put in open parentheses here
and obviously I'm making this very
extreme and a closed parentheses here
what that means is this part of the full
match should be captured separately or
additionally as a different group and
this now is group number one and what if
I do this over here this group now is
group number two and I'm having running
out of room here
Group two sews behind the scenes the
regular expression has done this match
and stored in the computer's memory
three separate strings the full match is
group 0 the first you know from left to
right the first sub match captured
parentheses as Group 1 the second sub
match captured parentheses as group 2 I
don't know what I put dot this is dotted
lines those are full parentheses so this
is very powerful why because what I can
do is in different ways I can refer to
those groups whenever I want to and
there's two ways of referring to those
groups for example dollar sign one
refers to group number one but also
backslash one can refer to group number
one and these are being used in
different places so the dollar sign is
used whenever you're doing a replace and
you want to refer to a captured group
and backslash one is when you're doing a
when you're within the regular
expression itself referring to a
captured group so I'm now going to show
you two scenarios where each of these is
used okay so hopefully this makes some
sense to you but it'll make more sense
once I actually play it out here so the
first scenario is let's again apologize
for this let's again write the regular
expression to match all three of these
phone numbers and if you recall actually
I can probably scroll up and find it
never mind I can say I want to have what
and optional open parentheses followed
by three digits followed by a dot a dash
or a closed parenthesis followed by
whoops
what did I miss here range out of order
oh the dash has to be first in the when
the character left followed by three
digits followed by again a dot or a dash
or a dot dash has to be first and then
followed by four digits so now I have
now matched all four of these groups so
let's say what I want to do is keep only
the first number and then I want to
redact the second only the first three
numbers I know the area code so to speak
and I want to redact the rest of the
phone number so the way I would do this
is let me capture only the area code so
this by the way this these three numbers
right there that's the area code so what
I can actually do is put parentheses
around it and now what I want to do when
I do my replace right this is the
replace is I want to say hey let me
replace it with whatever was captured in
Group one followed by - X X X followed
by - X X X now I'm going to write so
this is saying like use the thing that I
captured in the replace so let me show
you this and now I'm going to do I'm
going to do a replace right replace look
what happened there replace look what
happened there replace now I lost the
original formatting of the regular
expression because remember these are a
lot of I don't know why it's what format
it thinks I am but remember I'm not I
could now this could be an exercise I'm
not going to go through this right now
because I'll go on for too long but an
exercise you could try to try is can you
capture the rest of the formatting of
the phone number and then have multiple
groups so it still retains right it's
right now I'm not retaining it's all the
phone numbers now I have this format but
if I undo right I want to keep the I
want to keep the dots or the dashes and
the parentheses try to rewrite the Reg
expression to do that very interesting
exercise to try to do okay let me think
of a slightly different scenario I'll
show you this can also be useful this is
how
to me before I'll show you
let's say I wanted to find and replace
actually I have a first name comma last
list of first names common last name I
can't think of any other names okay so
you can see I have a bunch of names
first name comma last name sorry last
name comma first name and I want to redo
this list to just make this list first
name comma last name it's like I have
thousands of these I want to use a rag
pression I don't want to have to sit
here and be like cut paste space delete
right I could do that for every single
line or I could try to make some kind of
weird macro that does it automatically I
can do this with a regular expression so
I'm going to go down and I'm going to
try to write a regular expression what
am I trying to match I'm trying to match
any word character any optionally any
number of word characters followed by a
number followed by one or more white
space not called sorry followed by a
comma followed by my double and white
space followed by any number of word
characters look okay so I matched these
that looks pretty good now I want to
capture the first name in the last name
or the last thing for the first name so
this is the books app oh I lost it shoot
goosal get edited out let me write that
again comma some amount of white space
okay so I want to capture that last name
right to any sequence of word characters
and I want to capture that first name so
now I've captured those and I want to
replace right I want to first see the
first name space the last name so this
oh sorry
two comma one remember group zero is
everything so group two is the second
group right the first name which is last
name comma first name I want to show
that and then the other one wha I'm
really I don't know if I'm making any
sense here okay now I'm going to do
replace all boom I did it so this is the
kind of thing that you can really use
regular expressions for in kind of Find
and Replace here's another scenario I
don't know how many of these snares is
worth going through but
you know matching links like this is
markdown right I'm gonna I'm going to
just do this really quick
and do one more what if I want to match
I guess this assuming my syntax is
markdown what if I want to match any
link written in this remark down syntax
and translate it to HTML let's look at
how I might do that okay so I want to
match a literal square bracket right
remember square bracket is a meta
character so I want to match a literal
square bracket and then I'm gonna do
something a little bit goofy ah I forgot
about something with quantifiers which
is now just two if you are still
watching this somehow however many hours
into videos about regular expressions I
missed something important in the
previous video I'm going to do dot star
very dangerous to say I'm going to say I
want to get a bracket followed by
anything what do I match look at this
bracket followed by anything look
there's some brackets followed by
anything followed by what a closed
bracket look at this bracket followed by
anything followed by a closed bracket
now this actually worked but let me just
do something for you here look what
happened it didn't match Google and test
separately because dot star is anything
like this closed bracket like this space
like this parenthesis remember dot star
is greedy I'm trying to match bracket
followed by anything up until just keep
matching until you can no longer match
and then there's a closed bracket so
this is what's known as a greedy
modifier dot star is by default greedy
it will continue to match if I want to
get Google and test as separate matches
I need to make that modifier not greedy
question mark is a way to change a
quantifier to make it not greedy
question mark means optional but it also
paired with a quantifier means not
greedy so if I put this question mark
right in here
dot star question mark it will no longer
be greedy and look what the difference
I've now matched Google and test
separately so that's kind of important
and just to keep testing this idea out
to make sure it's working I am going to
put those on separate lines okay so now
I am going to match that followed by a
literal parenthesis followed by HTTP
which followed behind dot star not
greedy followed by another parenthesis
so you can see I have now matched any
links written in markdown so this could
be this is Google you know and this is
ITP and also right so I have some text
and has links in it I don't want to
convert it to HTML so now I'm going to
replace it first I need to capture right
I need to capture the name and I need to
capture the URL so I'm adding additional
parenthesis look how crazy and cryptic
this is getting but I'm cat I'm
capturing the name as Group one and the
URL is group two so now I want to say
replace it with a href equals group two
O quote group 2 followed by Group one
that close tag so this is saying take
the markdown syntax capture the name the
title and the URL and then replace it
with the HTML formatting and let's look
at this and I'm going to do find replace
did that work oh what's not working here
fine but what did I miss
bug here no results found okay I messed
something up oh that should not have a
backslash there sorry a backslash got
typed in there I'm just going to show
this to you again this is I got a
document these regular expressions
somewhere and like a gist or something
this is that regular expression and now
I'm going to say replace there we go
replace replace and you can see now I've
taken each of those and replace it now
if I had a document that with thousands
of pages long I can instantly do all of
them there's one more piece
related to capturing groups that I want
to show you beyond just referencing the
group in a finding replace operation and
this is referencing a group in the
regular expression itself and that's
called a back reference and I'll show
you that in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>