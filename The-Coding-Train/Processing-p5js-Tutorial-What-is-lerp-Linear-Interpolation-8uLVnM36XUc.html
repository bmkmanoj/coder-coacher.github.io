<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Processing / p5.js Tutorial: What is lerp? (Linear Interpolation) | Coder Coacher - Coaching Coders</title><meta content="Processing / p5.js Tutorial: What is lerp? (Linear Interpolation) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Processing / p5.js Tutorial: What is lerp? (Linear Interpolation)</b></h2><h5 class="post__date">2015-11-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8uLVnM36XUc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello in this video I'm going to look at
the lerp function the lerp function in
processing and p5.js
I'll do it in both environments what is
the lerp function by the way lerp is
kind of a weird word
it stands for linear interpolation which
might make you want to stop watching
this video immediately now that I said
linear interpolation but but today here
because I think there's a reason why you
might want to use this I've seen this
question come up multiple times this
week if you have let's say you're doing
computer vision tracking and you're
trying to color track and the thing
you're tracking is like jumping around a
lot or you're getting a sensor reading
and there's a lot of noise on the sensor
so one of the things you can use lerp or
linear interpolation for is easing or
smoothing out a value so let's I'm gonna
build an example in a second but let's
just look at the lerp function on the
whiteboard over here so the lerp
function requires three arguments the
first argument is one particular value
I'll call it Val 1 the second argument
is another particular value call it Val
2 and the third argument is essentially
good think of it as a percentage some
value between zero point zero and one
point zero so if if value one which make
an easy scenario happens to have the
value zero and value two happens to have
the value 100 and you put in zero point
three here and you say float Val
equals Val will have the value say it in
your head because you could probably
could figure it out 30 because 30 is 0.3
or 30% along the way between 0 or 100 so
the math actually to do that is quite
simple it's a you know it's multiplying
I was gonna I'm just gonna go through it
then I was like ah but I want to make
this video short what's going on but you
can think about how you might get a
percentage in between a beginning and a
starting point
maybe I'll just include the actual code
for doing that in the description below
but when you're here really is for to
use this particular function so how is
this relevant okay so oh no eraser here
so let's think about how
this might be relevant let's say that
you okay so first of all I'm gonna do a
physical demonstration one of the
reasons you might want to use it is is
to get rid of teleportation in your code
right so let's say I know that sounds
weird but bear with me for a second
let's say you have a target target X and
you have your own thing at variable X
and you want your thing that's at
variable X to go to the target well you
could say x equals target X and the next
time you draw it at X it will be at the
target that's teleportation right this
thing went all the way there but what if
I wanted to smoothly nicely ease its way
on over there so instead of me right
here physically tell teleport into this
wall I could go half way each time I
could go 50% and then 50% and then 50%
or I could go ten percent ten percent in
10 percent and 10 percent and if I'm
doing that 60 frames per second we're
gonna see a nice easing motion that's
going to get rid of this teleportation
problem so let's build that into this
example here and see how that works so I
have a processing sketch with nothing in
it and I'm going to create two variables
I'm going to say float x equals zero and
we'll say float target equals 300 and
then what I want to do is I want to draw
an ellipse at target sum Y I'm going to
just should probably do this with X&amp;amp;Y
but let's be really simple about this
and do it with only X you guys your
exercise you could put the y end so I'm
gonna make the target a nice some sort
of arbitrary purplish color and then I'm
also going to draw my actual thing X and
it's also it's going to have some other
color so let's run this code right now
and I want to be able to see it all here
so run this code you can see I know
they're too small sorry let's make them
much bigger so we can see I have a
circle X which is this like blueish
collar should make it brighter
I don't know what's going on here but
just you can see and I let's say Stroke
255 for both of them okay so I have
circle X which is the purple one and
target act acts re x which is the purple
one and target which is the pink one so
I could do teleportation right I could
say x equals target and when I run it
it's instantly at that target and or I
could say instead now I could do what
I've been one of you oh you can't see
what I'm typing how terrible let's do
this at the top of draw write x equals
target this would be just setting the
value X literally to target now instead
I could say x equals lerp to the target
o between X and the target so unlike
what I kind of showed you over on the on
the whiteboard where I had two values
signing alert between them to set to a
new value I'm just having X continuously
interpolate between itself and the
target so what I want X to do is go just
ten percent of the way along the target
now does that get that backwards
so let's just run it and we'll find out
if I got it backwards I don't think I
got it backwards did you see that nice
easing motion when I meant by getting it
backwards is what happens if I put point
nine in here well point nine is not
going ninety percent of the way there at
60 frames per second it's almost as if
you're teleporting there instantly and I
could further emphasize this by saying
zero point zero one and you can see this
sort of smooth motion of it moving
towards that particular target now I
have this desire to add a little bit of
alpha to these and then do something
else which is to say anytime now I click
the mouse why don't I give the target
equal to under the new mouse value so
now you can see and let's make it a
little bit faster
0.06 sort of arbitrary but you can see
now if I click the mouse you can see
that the one particular circle is going
directly to the spot and the other
particular circle is not going directly
to the spot so this a is showing you how
you can have some nice easy motion how
can you use the same technique
now to smooth out sort of a sensor
reading that has a noisy values so I'm
gonna save this and I'm gonna do save as
lerp example two and I'm going to
basically do the same thing here I'm
going to take out mouse X and I don't
need target to be a global variable
anymore what I want to do is say though
that target is Mouse X plus some random
value what I'm trying to do now is
simulate I already have the solution in
there sorry what I try to do now is
simulate a noisy value so you can see
this particular and and maybe I need to
make it maybe I need to zoom in a little
bit so you can see you can see how much
noise is on there and I could actually
make it a little bit more extreme by
saying like negative 15 I'm just adding
some noise to the mouse so you can see
this might be the kind of values you're
getting from a sensor might be something
like this so now you could see that if
the and and let's just call this like
sensor and now let's call this instead
of X I'll call it smooth sensor because
I need a really long variable name for
no good reason so I could say now lerp
now I'm making this like totally awkward
here but this is going to work smooth
sensor now I could say lerp from the
smooth value with the actual noisy value
by 0.06 and in this case I actually
might want to use a kind of higher value
because I don't want to have this like I
don't want it to be lagging so far
behind but I just want to kind of lose
that noise so and now of course I need
to draw the whoops I need to draw the
actual sensor value I don't know this is
silly that I'm changing the variable
names for no reason and making this work
up with my like like something's going
on with my keyboard and all this like
weird stuff is happening with copy/paste
okay I'm gonna have to look into that so
now we should be able to see oh and I
didn't have a value in here that would
help if it's zero obviously it's not
going to do anything so let's make it
point two again and you can see now how
the purple dot if they zoom in here how
the purple dot is actually moving quite
smoothly but the noise is on the red one
so that just that little bit of
now I could if I move really fast you
can see it lags a little bit behind and
this is you just about you kind of
tweaking values and playing around so
hopefully this gives you a sense of what
the definition of the lerp function is
how it works and a couple scenarios
where you can use it and if you have
questions please add them in the
comments oh I said I was going to do
this in p5 so just to show you that this
exact same thing I could take this exact
code I'm going to open up p5.js I'm
going to paste it in and I'm just going
to change this to var I'm gonna change
this to function I'm gonna change this
whoops to create canvas I'll change this
to function James this devar whoops
change this to var and I think now I
have this exact same program working in
p5.js so you can see here the lerp
function exists across both environments
and there's just a few syntax
differences the most notable being
variables are not typed so in T 5 which
is JavaScript you just say bar instead
of float functions don't need a return
type specified so instead of void setup
function setup and then instead of size
the function in p5 I guess I didn't set
the font size in advance is create
canvas so hopefully now you've seen how
lerk works a couple series where you
could use it in both processing and p5
ok thanks very much and see you in the
next video someday</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>