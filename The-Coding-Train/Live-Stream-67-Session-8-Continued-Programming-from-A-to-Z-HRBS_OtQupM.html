<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Live Stream #67: Session 8 Continued - Programming from A to Z | Coder Coacher - Coaching Coders</title><meta content="Live Stream #67: Session 8 Continued - Programming from A to Z - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Live Stream #67: Session 8 Continued - Programming from A to Z</b></h2><h5 class="post__date">2016-11-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HRBS_OtQupM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello i think i am live welcome to
another life that's always technical
difficulties welcome my name is Dan I
see that I'm here let me know okay i
turn my volume off here let me know if
you can hear and see me okay we're live
for another second now I have something
to admit a bunch of things to admit
which is that the whole last week kind
of blur a lot of things that have been
happening in this country I missed last
week's week even doing a live stream
things are very busy with my other job
which is teaching classes at NYU so the
and today I'm in a bit of a tight
schedule it's 10 of 2 and i only have
currently till 3 p.m. eastern time up
lots of noise ok ok ok ok ok this so far
this is a failure with the mic glitching
let's see what I do what I can do about
that is that better is there is that
better bunny chance did I fix something
talk talk talk talk or its tilted still
bad I press the button no no it's not
better I can't ok test test
you
is this better am I good any better i'm
watching this chat with bated breath
better okay great yay okay i switched
cables yeah oh very very close to not
having a live stream today everybody but
so far hello arvind i love seeing all
those hearts okay so let me say a few
words in a matter of introduction my
name is Dan I attempt to weekly live
streams and make programming tutorials
in the kind of idea of inspiring and
teaching people and to be creative and
think differently with code that's not a
good way of describing it today is
Tuesday November 15th a lot has happened
in the last week and I would like to
before I begin doing some tutorials i
would like to read from you the so
people so first of all so one thing
that's always been a little confusing to
me is that turn it up okay yeah i turned
the volume up a little bit is that I I
do a number of things i work at new york
university to school the arts a program
called ITP i spent almost all of my time
there I also work on something called
the processing foundation the processing
foundation is a not-for-profit a ound
ation organization that whose mission is
to promote software literacy in the
visual arts and visual literacy and the
technology road fields and to make these
fields accessible to diverse communities
those are my two primary things that i
do this youtube channel is a bit of an
independent project it it has a lot of
relationships to the processing
foundation in that i do a lot of
tutorials around processing and p5 j/s
but what I want to do for just the first
five minutes here is piggy
back off of the p5 GS projects community
statement and I think it's really
important after the sort of election
here in this country to make this
statement as part of this YouTube
channel and to talk about just how I
envisioned and think about this
community so this is the p5 jazz jazz
community statement it was not written
by me it was written by contributors to
p 5 GS i believe it was created at the p
5 GS contributors conference i don't
know if that's right somebody fact check
me on that but i but this statement
works goes for this youtube channel as
well we are a community of and in
solidarity with people from every gender
identity and expression sexual
orientation race ethnicity language
neuro type size ability class religion
culture subculture political opinion age
skill level occupation and background we
acknowledge that not everyone has the
time financial means our capacity to
actively participate that's referring to
the open source nature of p5 j/s but we
recognize and encourage involvement of
all kinds we facilitate and foster
access and empowerment we are all
learners and this is how i feel about
this channel i want this channel to be
open accessible inclusive for everyone
and i would like this channel in
particular to be a friendly place for
beginners and people who are new to
coding and creative coding to feel
welcome and included in part of the
discussion so i want to make that
statement at the beginning of this live
stream and because i have i would love
actually you should read this whole page
i'm going to read a little bit more of
it to you and then i'm going to move on
to talking about node in practice we are
not code snobs we do not assume
knowledge or imply there are things that
somebody should know we insist on
actively engaging with requests for
feedback regardless of their complexity
we welcome newcomers and prioritize the
education of others we strive to
approach all tasks with the enthusiasm
of a newcomer because we believe that
newcomers are just as valuable in this
effort as experts we consistently make
the effort to actively recognize and
validate multiple types of
tributions we are always willing to
offer help or guidance we listen we
clearly communicate we admit when we're
wrong we continuously seek to improve
ourselves we keep our community
respectful and open we make everyone
feel heard and we are mindful and kind
in our interactions okay so so thanks
for tuning in thanks for listening to me
as I read the p5 Jazz community
statement and I hope that you enjoy this
YouTube channel and find it useful and I
hope that you will be in touch in the
chat and on Twitter and all the other
ways that we can be in touch with each
other and help support everyone in their
desire to learn more and create and
communicate express themselves through
code the internet technology all that
sort of stuff ok so I'm a little bit to
this two o'clock i have exactly one hour
and in my last session i'm just going to
pull up the playlist that i didn't get
to finish i don't know if i'll get to
finish it today but my most recent
playlist session eight which is the
topic was looking at how to build your
own api in node and the api example that
I'm building is sentiment analysis API
since why not since this is arguably
these these sessions from this fall are
all about programming with text so
that's a useful so I'm going to like
kind of pick up right where I left and
I've got a couple more little short
tutorials to make now I'll say a couple
other things about my plans for the rest
of this 2016 year which were so
concerned 2017 can't come soon enough
maybe 2020 should come soon enough but
but let me it's okay so if you recall
what I'm doing right now in this fall is
making videos for this course
programming from A to Z which is
everything can be found Schiffman net /
a to z these are all written tutorials
on various topics with with videos so
right now I'm working on this page which
is building an API with node and Express
and you can see I've got some examples
I've got some text descriptions and I've
got some embedded
videos so before the end of 2016 I hope
to finish this page I want to do some
videos about working with a database as
services something called firebase that
you may or may not have heard of so I
already have a written tutorial but
there's no videos for that yet as well
as looking at chrome extensions so those
are the firebase topic is a smaller
topic probably can happen in a shorter
session the chrome extensions is a
longer topic that will need a longer
session so it is the middle of november
and i have until the end of december at
to get through all this stuff I'm hoping
that actually i'll get through this
stuff relatively soon and return i would
like to buy the end of the year and
maybe for like kind of like a holiday
special just do some fun quirky coding
challenges some different algorithms
that i would like to explore and as well
as some of my most popular videos which
i've said before are though where I take
an old kind of classic arcade style game
and trying to make a JavaScript version
of it so I I'm hoping to do those kind
of things before the end of the year
this spring I will be returning to the
nature of code materials which is
physics and animation as well as
starting to look at machine learning
topic so that's all coming in the
pipeline now another thing I'll say just
as a matter of updating you've to what
what's happening is that I have started
having guests and in fact a later today
I just didn't get to do it this morning
i will make live a tutorial from tiga
brain who is one of the teachers and
alumni of the school for poetic
computation which is where i'm recording
the videos right now and she has a
tutorial about doing working with
physical sensors and pjs so that
tutorial will you'll see that in the
channel in the stream later today and
then also if all goes according to plan
at around 6 p-6 30 p.m. eastern time
today i will be welcoming Jane friedhof
into the studio and Jane friedhof is a
creative researcher designer game
designer she does amazing wonderful work
and she's going to talk about a game
called slam city Oracle's and how she
made it and I'll ask her a few questions
about that and if you're tuning in live
you can ask
questions in the chat so I'm also trying
I have very limited time should be a
couple weeks but as as time goes on I'm
going to try to have more guests to
bring you additional content and
different voices and different phases
from just me in this channel ok so I'm
going to get myself set up here you can
I'm kind of keeping a half of an eye on
the chat so if you have a question in
there you can ask but in the words of
Jane let's make it happen ok um so what
I've got to do here and I don't have my
sound stuff hooked up because I had a
bunch of issues so I want me like to
play backup music when I'm background
music when I'm Justin let me get myself
situated here but let's see if I can
find where i left off session aight api
one so let's let's copy that I don't
remember where I left off let's copy
that into API to i also have a little
bit of an issue where my whiteboard
camera I just went all black isn't
working so i don't know if i'm going to
be able to use the whiteboard today but
that's ok i think we can live with that
so this is where i left off last time
let me run Adam as a text editor boy
there's a lot of great questions in the
chat and actually I don't know if
someone's asking about d3 you know in
the hope that I would be able to make a
video tutorial about everything and
anything that exists in the world I
would love to do something about d3 but
it's not on my list in a in something
that I'm going to getting too soon but
that would be a great topic for a guest
to come in and do tutorial ok so here is
my node server here is the web page ok
so let's let me open up terminal I'm
just trying to catch up to remember
where I left off and I should have
watched the last video I made which was
two weeks ago but
if I look at this example where am I uh
oh no no I want to be in desktop sorry
oops trying to get to the right folder
right now and I'm going to API to and
I'm saying node server and I'm running
the server did I talk about node mon i
think i did i'm going to run that okay
and now i'm going to bring up chrome a
local host I don't remember what port
I'm running it on 3000 hello oh but I
don't the point of this is that ok so
this is where we were last time we're
creating a sentiment analysis API one of
the things you can do with the sentiment
analysis API is add words to a quote
unquote database which is here database
is just like hard-coded in the code and
so if i try to add something i'm going
to add for example add rainbow five this
i have now gone I'm just reviewing where
I left off I'm gone to this route add
rainbow five I get the parameters from
that route which are rainbow in five and
if I look now in terminal we should oh I
don't have any console login going on it
sends a message back that it was added
and then I can also go to the route all
and I can go to the route all and I can
see you hmm so I should go rainbow is in
there sorry and a great bow is already
in there as one of the ones so let me
add something else and right i was using
like purple 3 that is now added let me
go to all and i can see that I've added
now purple to this list great that's
working and i also have a search route
by look for kitten not fat
but if I look for purple it's found and
I get the score okay so this is what i'm
doing i'm building a sentiment analysis
API now what are the other pieces of
this that I need I want to do something
about persistence so I want the data to
be saved so I want to save the data to a
JSON file every time a new word is added
and then when the server restarts it
loads the JSON file ok so that's one
thing I want to do another thing i want
to do is create a front-end to interact
with the API as a way of just being able
to see how it works and see how you can
interface with your own API that you
made so that's two things and then I
also third thing is I need to cover to
how to post to an API is the difference
between a get request and a post request
let me see if I get this camera working
as I kind of feel like I want a diagram
for that oh that's promising I heard a
click so I think if you would you'll
just bear with me for a second if you're
going to have to look at a blank screen
for a minute but i promise i'm still
here and i am now changing my view to a
pre to see the preview and then i'm
going to edit shot and i need to go to
capture device to and then i need to
change this to 59.94 and then I also
this the preview i also need to know i
hope i need to go to here and zoom it in
a little bit and do this so that you can
see let me zoom in a little bit more I
swear this is going to be done in a
second okay so not my finest work but
now you should have a whiteboard shot
and now i'm only coming in one ear right
so i have to fix the audio for this this
is really so much set up tyne which is
really a problem
when I left ok now if I am over in the
whiteboard you should be able to hear me
in both ears now ok and I should be able
to switch back and forth like this ok I
am set up ok so let me look for my
eraser okay so this is my list oof so I
think maybe what might make sense to do
first is talk about persistence so the
very first tutorial that i'm going to
add to that list today is persistence
meaning how to save data over time now
what I want to do before I add this is I
want to look at one of my existing
examples just to review in my head how I
did it whoops so I'm going to the github
repository for the class and I
everything everything in my brain is
broken today this is me getting back
into this I've kind of you miss a week
and I lose track of how everything works
you go into my API examples in to look
at this spell check one no this is the
one I want to look at read file sync yes
that's what I want and then save file ok
I don't actually need to look at this I
can add this on the fly ok and ok so so
I love seeing the chat going and I love
seeing that there are so many people
here I gotta just switch to a particular
view so i can see better who's there and
the camper went off i will fix that ok
ok so here we go I am going to try to
pick this back up and I'm going to start
with have this screen over and we are
going I'm going to talk about how to
save data out save data to a database
except I'm not really gonna use a
database yet ok so here we go I'm gonna
this will be so at for those of you who
might be new cancel what I do with these
live streams is I have a lot of wasted
time while I get set up and figuring out
figure out what to do and then after the
live stream is over the full thing gets
archived but I edit I don't do this much
you who gratefully does this what does
this work really wonderfully edits
together on the portions of it as
tutorials ok so thanks for being here
everybody thanks for bearing with me I'm
about you know at this point like 40
minutes later than I really meant to get
started but here we are I've got about
45 minutes left and I'm gonna just
hopefully something nice will happen in
this session and just keep going ok so
try not look alright welcome so this
video continues the series about
building your own API in node and in
this video what I want to do is add a
very important very key piece of
functionality which is persistence so
right now this particular API that I'm
building a node if you recall in the
code at the top of the code just has
hard-coded essentially a database a
database of words and their sentiments
core rainbow five unicorn three do
negative 3 glue negative 2 so the dirty
but then I can add and I can add to it
so i can i can go to a particular route
and say add purple for and then if I go
back to all I'll see that purple is
there but as soon as I go to terminal
quit and relaunch the server and go back
purple is gone so I need some mechanism
by which i can save the data forever
whether or not I'm running the server
quitting the server not just in memory
and the way that this is done is
typically with a database now a database
is a big topic and I expect that in the
what I imagined future amount of time
that I have in my life to make videos
I'll get into a lot of different facets
of it so what do we have so far is we
have just like data in memory that's
what I have so far quit the program the
data is lost one quick and dirty way to
save data to have data persist over time
is simply to save to a text file it's
easy to forget that you could just have
a text file as a database right I can
have a text file that has a list of
words in it werd comma score word comma
score and I could just save all the
stuff and load that when I when I run
the program a way to make this even
easier is to actually save this to a
JSON file JSON standing for JavaScript
object notation so the stuff the stuff
that's right here did I switch back and
forth I hope I did was I in the right
screen that's somebody if it jet
somebody would have told me if I wasn't
in the right screen that Joe at this far
out um uh I forgot I was had by momentum
I lost yeah all good ok but this data if
you look at this this is well this is
JavaScript object notation this syntax
of having a variable full of key value
pairs that's JSON so i can actually nice
option is just save the data to a JSON
file and then load that JSON file every
time the server starts so this is
actually the way that I'm going to do it
in this particular tutorial but this is
very limiting first of all if I have a
massive amount of data huge data set
this isn't going to work very well have
to like load this like giant text file
and like save this Johnny text file all
the time that's not going to work very
well you know if I if I care about
security I have like private data just
having it all just sitting there in a
big text file like text file full of
everybody's like logins and password
that's not going to work very well so
there are a lot of reasons why this
isn't a particular great solution but
for a quick and dirty project for
understanding how things work playing
around a node I think this is going to
be a great demonstration but i will be
making videos in the future that look at
other database systems namely one called
firebase firebase is something that's
referred to it's a google product
database as service meaning fire bait
you don't have to have your own server
you're just a program and you're like
keeping track of stuff and you're like
hey firebase can you save this for me
class free later and then later you come
back it's like firebase could I have
that data so you get an account you sign
up you send a data you ask for data and
it has a lot of sophisticated features
so that's certainly one thing you can do
and then of course you could use a
quote-unquote a real database or some
type of database system there are other
databases service products by the way so
you can find those but you could use
something like CouchDB or MongoDB or
another database that I actually like
which is very simple which is called Ned
be I think so these are all database
systems that you can use with note or
other server-side programming framework
so at some point somebody remind me hey
weren't but i'm definitely i have a
whole bunch of examples already for
firebase so I intend to do that but I'd
love to look into this kind of stuff and
make some examples with that as well but
in this particular video let's look at
even just what saving to JSON file gets
us okay so back over here I'm going to
go back to the code and the first thing
I want to do is let's just actually make
that JSON file ourselves so right here
i'm going to in my node project where my
server code is i'm just going to create
a new file and i'm going to call it a
word json and in that file instead of
instead of having this in the code i'm
just going to take this and i'm going to
comment this out and i'm going to put
this into words json so here is now a
JSON file with the initial data that i
want for my program to start with so now
what I want to do in the in in the
program is instead of having VAR words
equal the hard
data I want to just load from the file I
want to do something like you know if I
were in like client-side p5 land i would
just say like low json words json right
i want just a load what's ever in that
file and stick into words but this is
not node code this is a p5 code so i
need a different set of syntax for that
and the the package that I'm going to
use node package file is called file
system FS so if I come here to the file
system package I want to look for the
document oh this is good enough for me
you can see there are lots of functions
for writing a file writing bright file
sync we're gonna have to talk about that
right file versus right file sync and
what I'm looking for is really read file
read file well there it is um oh you
know what I'm in the wrong package I
think that file dash system package the
package I want to be in is like actually
just called FS I don't know if it's the
same thing or not oh whoa time out pause
is this is interesting to me is it no
longer called FS that's what I've always
used is it called file system now file
extend node FS origin like what's going
on here does somebody know what I'm
talking about uh this is a different let
me look um node FS package this is going
to be edited out this is where I want to
be I was in the wrong documentation page
let me back up and start over because I
don't want to use a separate yeah yeah I
want the official nodejs so I don't know
where to go back to but I think this can
get stitched back together thank you
everyone in the chat I've got it now so
I'm going to look for ok I think this
can get spliced back in somehow so to
read and write two files i need to you i
need to look into all right I was saying
I was saying I can't use this p 5 j's
code so how do i do that in node well
what I need to use is the fs module so
FS node
node I'm just going to Google FS and
node which and here I'm going to get the
documentation for the file system API
which is built in part of note it's not
an extra thing I have to install so this
is the document documentation for it
there's a lot a lot of functions what
I'm looking for is one called read file
and right here so you can see first of
all there's FS read file and FS read
file sync so why would I use one versus
the other this is something I definitely
want to talk about but let's just at
first and actually I'm going to start
with using read file sync so what I'm
going to do is I'm going to say VAR f s
equals require FS think that's right
this is like importing the file system
package it's built into part of note in
order to install it but I do have to
reference it in an import or require
statement and then i'm going to say
words equals FS read file sync words
JSON and let's just see and then I'm
going to say console dot log words let's
see what's happening here ah ok so it
runs and look I read the file there's
the file perfect there's my contents
what is that so one thing you have to
realize is the node file system package
is just reading the raw data files and
writing the raw data out it doesn't know
oh I want this to be like JSON and all
of that so if I have that raw data from
the file but I actually want it to be
JavaScript and Java Script object I need
to parse it and there's a quick and easy
way of doing that so actually what I
want to do is I'm going to say i'm just
going to save our data equals that and
then i'm going to save our words equals
json.parse data so this is something
you're going to see once i'm using a
local files when I want to read a file I
need to interpret it as JSON when I have
a JavaScript I need to interpret it as a
JavaScript object before I can use it
when I have a JavaScript object and I
want to save it to the file I need to
convert it to just plain old text and
then save it to the file so let's look
how that works now and you can see there
we go so now my server is reading that
stuff so we've got step one in that
everything should work as it did before
all and I could add something but I'm
still going to have the problem as soon
as I quit the server
and relaunch it anything that i've added
will be gone so how do I now have
persistence we're in my code do I want
to save data to the file itself well I
want to do that any time I add something
new to this list and if I go back to the
server program the only time I add
something new to the list is right here
under AdWords ad word so this is where I
want to save data now this brings me to
another important point which i glossed
over which I will come over here to
discuss for a second sink versus no sink
so there are both read file sync that's
a function as part of the node file
system package and there is also read
file without the words sink there's also
write file sync and just write file
what's the difference the difference is
this is synchronous all also known as
like a blocking line of code meaning if
I come back here if I'm using the sinc
function the next line of code will not
execute until that action has been
finished and in this case that's what I
want when the server starts up I don't
want to do anything actually until the
data has been read so I want to use the
synchronous version so I load the data
and it makes I don't have to have a call
back and it makes writing the code a
little bit simpler however if I'm going
to perform an action where I'm reading
and writing two files while a user is
making an API request I don't want to
use the sync method because that'll
actually lock up the server while it's
waiting to do this operation I want to
use the nonstick asynchronous version so
a callback will happen in the server can
still listen for other connections and
that type of thing so this is now a
moment we're right here under add word I
want to write the data to back to the
file but not but asynchronously so let
me show you how that works so first of
all this is a little air handling that
we built in last time so I don't want to
write the data if they're a score wasn't
given so I want to write the data right
here so I can say now
right file words oh let's let's look at
the documentation let's look for right
file right file so it looks like right
file I need to give it the file name and
the data and there's some other options
and that sort of thing so but I'm going
to do it simply i need to say right two
words JSON and now cut the data which is
words and then a call back finished I'll
call it and then I could say function
finished you know maybe it gets an error
or something I don't actually know I
should look this up so you can say
console.log all set so let's look at
this now and see what happens up now
first of all I've made up a big I made a
big mistake already but let's just see
what happens anyway even with my mistake
probably going to get an error or
something like that so the server has
restarted is listening and waiting let's
go to the add route and i'm going to say
i want to add the word purple and the
score three now i write file is not
defined okay oops silly me I actually
just made a mistake in my code where I
need to say FS I need to refer to that
file system module that package f F dot
right file that's not the error i was
expecting the server should restart okay
it has hit refresh hmm thank you for
your word but let's look at a crashed
unexpected token blah blah blah object
object it couldn't figure out how to
write that to a file right because once
again just as if i'm reading data from a
file on getting the raw bytes I need to
parse it as a JavaScript object before I
can use it now what I need to do is I
need to turn it into text based data
before I write it to the file and the
way to do that i can say just far data
equals json dot the opposite of parse or
the inverse is stringify so i can say
stringify words and then write that data
to the file so now that I've done that
now one thing I want to do actually is i
want to stop using node money because
node mon restarts the server every time
whoops
I have oops what's going on here error
undefined one unexpected token JSON oh
you know what I messed up the file so
this is what i wrote to the file that
because when I made my mistake so that's
why it's not working um so the reason
why I don't want to use node Mon right
now is because every time I rewrite that
file it thinks like oh something change
is going to restart the server which
will mess things up so right now I just
want to manually stop and start the
server myself to make sure things are
good so okay so now the server starts it
reads the data from the file then what
I'm going to do here is I'm going to now
go to this route again and I'm going to
hit enter thank you for your word I'm
gonna go back and I'm gonna look and
look it's there but I lost the
formatting like my JSON file is all just
one long thing so one thing that that's
I mean this is sort of like a small
point and sometimes it could matter in
various scenarios but since we're
talking about it I might as well talk
about it this string of Phi function
takes the JavaScript object and kind of
makes it a string with as few characters
as possible so no whitespace to make it
kind of human readable but I can use
some other arguments and i can add like
i forget why you put know where to look
at the documentation for stringify but
two meaning that i want to use two
spaces for an indent so if I if I do
this and I restart the server and by the
way purple is already there so Purple's
now there forever and I can go to pink
and add the number six thank you for
your word and if I go back and I look at
that we can see there we go so every
time I go to that route it rewrites the
entire file with the current list of
words every time I quit the server and
start the server backup it reads the
list of words so this is the full
round-trip you know there's lots of
inefficiencies or issues again with
scalability and privacy but this works
for a simple project where you just want
to save a high score list or a table of
words in their sentiments score you can
do something like this I'm sure you can
imagine some other scenarios we're just
this basic idea is plenty good enough
let me say another few
things about this though before I move
to the end of this video one is that
I've kind of made a little bit of a
mistake here which is that even if
something goes wrong here I still send
the reply like thank you for your word
so really probably I should wait to send
a reply to the client who added this
word until that file has finished being
written so I would say it probably makes
sense to to put that in here and i'm
going to send the reply actually and and
because i had this error checking i have
to send the reply up here i can think
about if there's a better way but i'm
going to have if there's no score i send
back a message score is required and if
it gets the data if it gets the word ads
it writes the file and all that is
successful then i'm going to say and you
know what i think is useful in an api is
for a word to actually for an api to
just send you back the data that you've
sent it and then i could say something
like status success so in other words
sometimes when you're making an API
request or you're adding something
you're sending some data to an API and
you're doing that like many many times
as a client when you get a reply back
you need to match it with which one you
sent so if you get some information back
that you can match that can often be
helpful so even though this is redundant
and I don't personally need this
information I think it's useful to add
so I did sort of a very awkward thing
where my variables all have the same
name but this will this will actually
should work so let's restart the server
one time we can see I've got all the
words that I added before and now if I
go back and I say add flour seven and i
hit enter success the word flower was
added and if I go to all we can see
flowers in their pink is in their purple
is in there and I can even restart the
server I restart the server and there it
all is again so this is the full
round-trip of how to receive from a get
request through a route data from user
save that data to a file and
the server always keep track of that
data so on I'm still got more to do in
terms of building this API which is
actually like get some text and produce
a sentiment score I need to look at well
how would I build like a client a
front-end that would actually like
interface and interact with the API but
this at least now we've seen a little
bit about saving data thanks for
watching okay um how did that make sense
everybody there we got we got 11 little
extra tutorial in I have a half an hour
um I think what I want to do in the next
one is make a client for it so because
that's going to be necessary once we do
look at doing a post electron tutorial
that is a great idea I would love to do
an electron tutorial oh if only I had so
much more time okay so let me just keep
moving here I a little bit warm in here
with the light on so what I'm going to
do now in a way is kind of like the easy
part for me at least and I'm going to go
into here and we're to start working on
working on the client the front end so i
kinda i'm going to use p5 for this and
i'm thinking about the best way to do
this so let me get let me go to a
desktop a to z i'm sure i have some
actually i'm going to do the ridiculous
thing that I always do which is p5 just
or download p 5 GS complete I'm going to
do this I want to get to the effing
coding challenge today that's not going
to maybe if I can come back later and do
it tempted to just do the coding
challenge I had envisioned to
a instead because that in a way could be
the front and okay fine I'm going to do
the the interface yes i can use p5
manager to tuber suggest I've just I'm
kind of like the terrible I have very
bad habits but I can't help them
sometimes ok ok so here we go i am going
to Jordan preggers to how do I do ok um
ok so this is probably going to be the
last short little tutorial where I'm
just gonna add a little front end for
this and I still have a bunch of pieces
to finish up with this which if there's
time actually later I will in fact be
able to after there's a class that
starts here at three right in the room
next to me so noise wise I can't be
talking in broadcasting very lovely but
as soon as that class ends I'm going to
have an interview with Jane that I
mentioned earlier and then also if
there's a little extra time I might do
one more tutorial about this as well ok
um here we go let me cycle the cameras
okay um hello okay so now what I would
like to do in this video is actually add
a front and client to this particular
API and now there's there's a there's a
kind of question in my mind just
floating around here which is like whoa
i am i doing any of this and so on the
one hand i might be making it a kind of
a build your own api in node just for
one person and that's for myself like i
might want to make an API for of the way
of storing data and communicating and
doing server side stuff for my
particular front end I also might want
to make an API that is open for other
clients to be able to connect to and
that's something that I've got to get to
in this list so at some point I'll show
you it's actually very easy to open up
your API to other servers to make
requests using some a node package
called cords but i'll come back to that
for right now I'm almost thinking of
this is just my own little project and
some of my project I need server-side
programming and some of my project I
need client-side programming but i need
those two things to talk to each other
so the first thing that I want if you
recall one of the pieces of this program
that we've written actually uses
expresses ability to host static files
and all the static files are in this
directory called website but I called it
website just to like call it something
but often it's called public or you
could call it whatever you want unicorn
whatever you want to call it you have a
folder with files that you want to serve
and I have right in there I have this
index dot HTML file and all it says it
is blue so if I go back to the browser
and I go to the root page I see hello
and so what I want to do now is I'm
going to grab from my desktop ap five
and a p5 sketch so it has an index.html
file some JavaScript code and the
libraries that I want to use and I'm
going to actually go into this
particular API example that I'm making
and I'm going to put that all in here
and i'm going to replace so now if i hit
refresh one thing is i don't have to
restart the server by the way those
servers gonna be able to just serve up
those files as they change and we can
see now anything and i go over here and
i can add some code i can say you know
nope maybe no can
I don't want a canvas right now and I
can say console dot log running is your
refrigerator running you better go and
catch it and I can see ah so that sketch
is working so now how do i do something
to access the data that's part of this
API so one thing is actually nevermind
that let me actually add a canvas and
what I'm going to do is I'm going to say
i'm going to say i'm going to say create
canvas and i'm going to say you know 400
comma four hundred and a background 51
which is my background color of choice
and we can see I now have a canvas wow
it's huge no no no keeps take large over
there and small over here okay so now I
have this canvas and what I want to do
is I now want to say load JSON / all I
don't even know if i need that / look at
this if you've ever done anything with
p5 or jQuery where you're loading
something from an API open weather map
dot org slash API / city / New York what
i'm doing here is i'm querying the API
but rather than the full URL the API is
running on the same server that's
hosting this JavaScript sketch so I
could just say / all or I can say /
search / / rainbow right I can go to any
of the routes simply from the low JSON
function so what I want to do is do /
all and I'm going to then have a
callback for when I've gotten the data
called got data and i'm going to write
that function and the data comes in as
an argument to that function and just to
see that it's working i'm going to say
console log data so let's run this again
and we can see there it is I now have
accessed in my client side code the all
the data from that's running in the
server and one thing that I'll do here
just out of curiosity some get rid of
this / I think it works with rel
absolute or relative path so you can see
that works either way okay now what
could I do let's say I want to iterate
all over these there's a kind of a trick
this is an object so there's not an easy
way to iterate over an object as if it's
an array although there are plenty of
ways to do that a way that I like to do
it is i can save our keys equals object
keys data
and I'm going to just show you what that
gives you console dot log keys but you
can see is it gives you an array with
just the keys in that object so you can
see this is the full object but now I
have an array with just the keys and
that's an easy thing for me to iterate
over so I can do something like for VAR
i equals 0 and i know i could do a for
each or whatever everybody always
complains but I am like I'm just left
like an old world style of programming
like my for loops like this and i'm
going to say key equals keys index I i
must say word actually and score equals
data index word and then i could say you
know VAR x equals random with and VAR y
equals random height and fill 255 and
text word x and y and let's see what I
get now if we run this we can see and
let's make it bigger text size 64 and
you can see there we go so obviously i
could i'm seeing now all the words that
are in the database kind of visualized
in the canvas and I could of course like
color them I could think about
visualizing thoughtful way I could make
their font size and their color based on
their sentiment score but I'm just
showing you that I can access a
particular route and then visualize that
route visualize the results of the data
that I'm getting through that route in a
canvas but ultimately what I might want
to do here actually even more
importantly is I might want to add input
ID equals word and then input ID equals
score so let's look at what that looks
like and I'm going to I'm going to wrap
that in a paragraph and I must say word
and I'm going to put a line break and
i'm going to say score and / p so now we
can see on my webpage and something's
driving me a little bit crazy here which
is this default styling we can see here
whoops
that I now have this little kind of
basic form it's barely a form but it's
like I made a little paragraph that has
word and then a text input box score and
a text input box I just put that in the
HTML directly and then I probably also
maybe want to add some sort of button
submit button and I can give that an ID
also ID equals submit so what i'm doing
here is I've made a little interface
that has a place for me to take a word
and a score and am able to hit submit so
why am I doing this because what i want
is the moment I click Submit I want to
send what is in those two text fields to
the route ad right I need to go to if I
go right now to add a sunflower a full
three we could see that that was added
and now if i go back to here we're gonna
see that sunflower shows up there i
don't i don't really like what i've done
here with this visualization because
it's sort of hard to see what's going on
let's make that a little bit smaller and
let's let's just make it oh I'm sorry
I'm going a little crazy here but just
bear with me for a second unnecessarily
there we go so now I could see like
although you could see that sunflower
was added there but I added it manually
only by going to the route in the
address bar but that's not really how
anybody normally interacts with an API I
don't know maybe I do that quite
normally so now what I need to do is I
need to handle that submit button so in
p5 I can gain access to that through the
select function so this is me using a
submit sorry this should say submit this
is me selecting the Dom element with the
ID submit and that button has the ID
submit and now I have it in a variable
and I can now attach an event like
whenever the mouse is clicked on that
button to I can say submit word and now
i can write a function submit word where
i get the word from the word element and
i can just say
not value and I can get the score from
the score elements value so select looks
for the text input box word school and
then score and then the value function
gives me the contents of what's in there
so just to see that this is doing what I
wanted to do i'm going to say
console.log word score so let's go back
so I'm not submitting it yet but let's
go back and hit refresh Oh select is not
defined guess what I these functions are
part of the p5 Dom library so I need to
make sure I am referencing the p5 Dom
library in my HTML which now I mp5 MJS
and so now I can go back and it refresh
and now I should be able to type in a
cherry blossom to and hit submit and we
can see that that I'm able to access
those two values and now what do I want
to do all I need to do is go to load
JSON what's the route add / + word plus
a slash plus a score so I can
dynamically create this route in my code
based on what the user is it put into
those two text boxes so now I want to
now this is a little bit weird and I'm
going to get into this in a future video
or I talked about get versus post I'm
actually doing something that sort of
against the traditional conventions I'm
using low JSON which is a get request to
actually send data the word and the
score to the server but I'm really doing
that out of convenience because it kind
of works and it's easy and it's simple
you'll see in a lot of other scenarios
if you want to send data to the server
images large data private data you're
going to need to use something called a
post which cannot be done through load
JSON but I'll get to that in a future
video but so and then I'm going to just
add a function called finished as the
callback whoops and then I can say from
function a finished data console dot log
data so i just want to see that it came
back so i'm gonna i'm going to send that
data and see that it came back
and then I'm going to Simon hit refresh
and I'm going to add a blueberry 10 and
I'm going to hit submit and we can see
that this was sent to the database now
if I hit refresh again we should see
that blueberry is there why not though
however once it's done ask the ask the
database for all the words again to like
redraw what's in there so here this is
what I did to like redraw everything I
could actually put this in a function
could call this function like draw data
and so when the program first starts I
want to draw the data and then every
time I submit a word and it's done i
also want to draw the data again so now
if i do this i can say hey let me add
the word mango and give it a score of 3
and hit submit and now look at that i
one thing i forgot in my draw data
function was to clear the background so
because it drew it again over everything
so i'm going to take this background
function and put it right here in the
got data function and i'll hit refresh
again we can see everything's in there
mango flower blueberries sunflower all
these things what's another fruit that
is delicious or raspberry only know how
to spell raspberry now because of the
raspberry pi and it's like that's like
the password or some type of get hit all
the time score uh for and I'm gonna hit
submit and there we go it runs and we
see the results so now I have an
interface where I can sit here and
submit new words the database and I also
have this sort of goofy front end which
just shows me a very poor visualization
of all the words that are currently in
this database and if I go look in the
server code I should be able to see hey
look at this this words JSON file it has
everything so even if I now quit and
restart the server and go here again I'm
still going to see all of those words so
now we have boat we now we have an API
with routes that except parameters we
have a we have a persistence saving all
the data to a JSON file and now we have
an even an interface that allows us to
interact with the API
one way and so the next video that I'm
going to do is look at how do i submit
data to a server using a post and why
would I need to use a post versus again
what to get what supposed so that's what
I'm going to look at in the next video
that I'll make and then by the end I'll
wrap it up and actually make this thing
do some sort of sentiment analysis and
give a score back when you post a large
body of text to it okay thanks for
watching and look forward to hearing
what you think in the comments and all
that sort of stuff okay so so that I
have about a five or ten minutes left so
I'm not going to try to do the next
piece of this if I have time later today
when I come back after the class is
finished I might try to do that but I do
have about five or ten minutes if anyone
wants to ask a short little question in
the chat I'm happy to answer them if I
can I see that there's been some so
Ariane II rights this is way beyond my
head so yes so one thing that is tricky
about what I'm doing which I've
definitely gotten this comment before
which is that I've heard from you lo I
went to your YouTube channel i found it
and it's all it's too advanced for me it
stands for advanced programmers and
really my goal is for this to be four I
would like my channel to be a place that
complete and total beginner so I've
never done any coding before could come
and learn and start to make stuff the
tricky thing is that the tricky thing
about this is that it's hard to find
like where to begin and I need to figure
out a better way of doing this maybe if
I can eventually get my act together and
get a title and a new logo and a new
website but one thing i will just
mention is that if you're interested in
web programming javascript HTML CSS
least through the lens of p5 j/s I off
also get the other like frequently
frequent comment i get is like why are
using this p5 jesting I don't want to
learn that well sorry I guess but it's a
platform that I'm vested in personally
and also
through the work that I do and so it's
I'm interested in making tutorials with
it and making it better so but by no
means do I completely restrict myself to
that but these tutorials here one
through six introduction these are for
complete beginners who have never done
anything before and then also this set
of tutorials down here learning
processing this is for complete and
total beginners looking at learning a
processing which is a java based
platform for doing different kind of
programming things I don't know enough
about SCSS and sass to answer that
questions and I'll also mention here if
you're interested in git and github this
is a playlist that is also for complete
and total beginners if you've never used
it before and most of the other
playlists particular programming from A
to Z and I'm thinking of this web
sockets one this twitter by one nature
of code all assume kind of what's in
those to begin or playlists so if
anybody has any ideas about how I can
make this stuff more accessible and easy
easier for people to find or get started
and if you have a begin a friend who's a
beginner they send them my way I want to
see like how it works for them because
most of the core audience I'm finally
turning the live stream or people
already know about programming I saw a
great question two questions one is
where is it where's I'm scrolling back
Oh coated in a full IDE eclipse so I do
I really want to make a tutorial about
how to make a processing library and to
do that you need to use Eclipse and also
just program with processing and Eclipse
it's on my list please keep reminding me
about that I did an entire tutorial art
somebody's asking about Markov chains so
I did a tutorial about Markov chains it
related to text text based markov chains
and that's part of the A to Z playlist
and I believe it is boy I guess session
five texts not know session six so if
you go here to session 6 there are a set
of videos about engrams Markov chains
and I do
different challenges or experiments with
them don't remember what's in these but
I did make them Jason asks are there any
benefits to using JSON files versus
something like Mongo now this is just
what I think at this moment right now
but I would say that the advantage to
using JSON file overs like mango is you
just like it's just like you can just
get started doing it really quickly and
easily so I have a little bit of data i
just want to say if it just want to load
it like i'm done in two seconds with
just a few lines of code in the file
system a Mongo database is certainly
going to have so much more robust and
sophisticated functionality you know
databases can be relational they can be
really fast to do sorting and searching
through them but you know you're going
to have to spend a lot of time learning
how the database works how the
particular node package for using a
MongoDB works so for a larger scale
project and for a lot of time but for
like something you're just making cuz
making some like quick game experiment
and you have this other Arduino cooked
over here and it's talking to a node
server which is hooked up to a sensor
you just want to say like a bunch of
readings to it using a text file of JSON
file i think is a great way of doing
that do you ever plan on making games in
p5 Jess are processing so yes this is a
question from minor Scotty I do plan on
doing that I have a few I haven't I've
been doing this kind of a to z course so
I'm quite behind on my mental list of
what I would like to do but if I go to
my playlist and look for coding
challenges where is that 10 I'm logged
in here so you're seeing all my private
this is the video that I'm going to
launch as soon as I gotta turn this off
which is atticus tutorial from tiga that
i mentioned i don't know why i'm not
finding the coding challenges all of a
sudden here they are so this particular
video this particular playlist is where
i will typically if i'm going to do like
a coding challenge to implement a
particular game you'll find it so i did
like a space invaders one which and the
snake game for whatever reason I don't
understand wherever that is that is my
most watched video which gives me sort
of inclination do some more of them and
I've had
best for Frogger and Frogger and there
was another one why did flappy bird also
you can find that I did a version of
where you clap too I can certainly
consider more videos about Markov chains
people are asking about python python is
a really amazing programming language to
work with in particular because of the
access that you have to so many python
packages for data machine learning data
science text natural language it's not
really an environment that i personally
do a lot of work with which is a bit of
a fault of mine but i do think it's an
opportunity for me to look at how a lot
of these kinds of algorithms and
projects that are often made with python
work and can be programmed in other
context like processing and javascript
but you know i certainly would if you're
interested in the kind of topics that i
do in this channel learning about python
and there's a youtube channel Suraj's
youtube channel which maybe somebody can
post in the chat he does a lot of data
science and machine learning videos with
python and i am planning to do some
stuff on machine learning in the spring
android development is not something on
my list it's nothing i know a lot about
but i would love to have a guest coming
to do some guests android development
tutorials for sure ok so i think i am
wrapping up for today i'm sorry this was
a one hour and five minute live stream
which is much shorter than they usually
are so I apologize for that shortness I
might I am gonna be back live in about
three and a half hours with Jane
friedhof i mentioned who's a game
developer and artist and she's going to
just show a project and you can ask her
questions about it and but i might not
be here unfortunately again next week
due to the thanksgiving holiday so next
week's schedule is all crazy and things
are a bit more tight now with school
schedule here and nyu schedule that I
have at NYU but hopefully by the time we
get i get to january i'll be back up and
running we're sort of like full weekly
longer live streams but i am really
hoping to finish the all the a-to-z
materials this fall so hopefully that's
going to happen so thank you it's nice
to see all these friendly messages in
the chat
and i will see you if please come back
and the everything i do would be
archived so you'll be able to watch the
video interview with Jane any time later
but I but if you're if you're around in
not in like Europe and asleep or some
other country where it's the middle of
the night in in like three or four hours
come back and i'll post on Twitter time
wise and i'll also try to make the
YouTube stream page show the time until
that's happening as well okay thanks
everybody and last thing I'll say it
because robert perez asks is one of my
normal live streams it was every tuesday
in the afternoon but it's been a little
haphazard if you go to coding rainbow
com i actually didn't send out an email
notice for today because I've just been
so but I posted Twitter and I also if
you sign up for this email list you can
you sign up for this email list you can
I do try to send out e-mail
announcements about the schedule
sometimes I just miss it but the other
is always archived and also i'll just
mention to subscribe and if you're
interested there is an option a site
called patreon which is crowdfunding
site if you want to join that and join a
slack channel that we discuss a lot of
the videos and stuff okay thanks
everybody oh I'm going to play you out
with my video trailer since it's the
it's the edited one because of my legal
trademark issues but I'll play that for
you at the end you could sighs I didn't
play it at the beginning and then I'll
be shutting the stream off
learning coding would be really rough
throw your hands up in the air and say
enough's enough do you want to learn to
code and make some awesome stuff learn
it anyone can when you're coding with
Dan
whether you're a power this is open you
Bernie overarching has depends upon sup
dude and with Dan is your guide come
along for the ride
make a crazy pixel mirror to reflect
your face you can make it jump to
Lightspeed into outer space you can
generate a maze that can go on for days
you can make your own terrain and some
purple red you can make a retro game to
see how it's done and then tweet cookies
to make it yours for everyone make some
freshly trees or Twitter about if you
please and when this is
the colors</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>