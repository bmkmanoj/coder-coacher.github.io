<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>7.8: Objects and Images - p5.js Tutorial | Coder Coacher - Coaching Coders</title><meta content="7.8: Objects and Images - p5.js Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>7.8: Objects and Images - p5.js Tutorial</b></h2><h5 class="post__date">2015-10-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FVYGyaxG4To" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi so I've got one last video here in
this kind of section which has been all
about objects in JavaScript and p5.js
and arrays you know been adding objects
when you click the mouse I've been
changing objects when you click the
mouse on top of them you're checking to
see if the objects are overlapping each
other deleting objects from the array
when doing all these things and
something that has come up quite a bit
in the last week or two that I've heard
this question is okay well what if so
this example this kind of like bubbles
example that I'm using over and over
again what if I what if you want to
display each one of these as an image an
image that you're loading from a file
rather than just drawing a circle and
even more so what if you want each one
of these to be a different image and
each time you make one it like picks
from a selection of images so I have
this basic example all it's doing is an
empty array I haven't gotten click the
mouse it pushes an object into it and
updates and displays all the objects so
the main thing that I need to do somehow
here is first load an image so I'm going
to do this in the first sort of like
simple global way in a way that's not
going to solve the problem but will get
us started
so one thing I'll note is that I do
already have this is the directory of
this sketch notice there are two
JavaScript files that I move the bubble
constructor function into a separate
JavaScript file if you missed the
previous video about how to do that go
back and watch that and then I added a
directory called images and I put three
flowers in it to see I like flowers
flower zero flower one flower two and I
very specifically named them with
numbers for a reason which I'll get to
in a little bit but for right now let's
just say this first pink flower I want
all the images to look like that flower
so you know this is I kind of glossing
over a few details here but to load an
image into p5 what you need is first a
variable to refer to that image and then
strangely enough I'm going to add
another event here so this is a larger
discussion about callbacks and the order
of things and the browser and how things
work and I want to have that
conversation in a few videos from now
really the next video and I start
talking about the p5 Dom library and how
you can sort of start handling different
kinds of events on the page but for
right now a simple thing you could do is
add this
pre-load function which says in the
preload function you want to load any
media to make sure it's available for
the sketch when it really starts in the
setup function so the sketch starts and
setup but now there's just like secret
function that you can call before setup
and this is really only for loading
images loading sounds and later as you
also see loading data files so if you're
loading a spreadsheet or a big body of
text that you're going to analyze and
visualize you can also put those kind of
things in preload so here I can say
image equals load image and then in
between quotes I need to put the path of
the image the path relative to this
particular project so again if I open up
whoops defined or when you can see this
is the project my images are in a
directory called images not at all
required but I'm doing that out of
convenience as to not sort of like
pollute the root directory with a lot of
additional files by 100 images which is
sort of hard to look at so here I have a
separate directory images and I can go
back to the code and just write images
slash flower zero dot jpg so the other
thing I'm going to do I'm going to leave
the background 0 so now I have that
image variable and where am i displaying
the bubbles in the display function so
all you do is go into that display
function instead of drawing a circle
draw that image so here I can say oops I
left something in here by accident
instead of drawing a circle I can
comment that out and I can just say
image image I should have called it
flower or something this dot X this dot
Y so the image is drawn at the objects X
Y location instead of drawing a circle
draw that image and the fill and Stroke
are no longer relevant
I could tint the image and there's other
ways to change the image but that's not
really relevant to the discussion here
so now if I run this you can see that
every time I click I get a flower now
there's two things to note here
number one is I get this white border
images are rectangles they're rectangles
they are rectangles they have pixels in
columns and rows they're a rectangle now
if you if I had been better about this
and made this flower image as a PNG file
type with transparency then I could have
those pixels around the edge
the flowers be transparent this case I
might kind of just use a kind of a
little bit of a trick here and say
background 255 and you know now kind of
looks right now if I put two on top of
each other you can see that that edge is
still there I'll let you when you make
your own flowers make better flowers
than me but you can see this is sound
important to think about as you're
starting to work with images in your
sketch the other thing I'll note here is
notice where I click right here I make
it right here I'm going to click where's
the image I clicked in the corner the
image popped up in the corner so just
like a rectangle has its reference point
the top left corner and image does also
and in this case I would prefer the
reference point to be the center I don't
know why but I would just prefer that
and so something you can do also with
images just like you could do with
rectangles that say image mode Center so
image mode Center is a p5 function that
now each time I click you can see an
image comes up in the center so we've
got this working through the use of a
global variable so here in the main
sketch I load the image into that global
variable then I access the global
variable in the object but this does not
solve our problem the problem that we
have is every time we click we want to
see a different flower image how do we
do that each bubble has its own image
each bubble has its own image say it one
more time each bubble has I say three
times the code for it appears it doesn't
do that but would be nice wouldn't it I
should make a system that does that so
but the reason why I'm saying each
bubble has its own image the answer that
you should be thinking is that means
each bubble needs an image property it
needs its own variable it needs its own
variable to store an image so the bubble
should store an image so I don't know
what this should be equal to yet but
this is the idea somehow the bubble gets
its own image and the bubble zone Vista
image not the global variable image not
one image for all bubbles but each
bubble with its own image that's the big
distinction here now of course the
question is how do we fill that image so
there's a bunch of different ways you
could do
this but I'm going to suggest a way that
I think is rather nice for this
particular scenario
notice how the bubble gets its X&amp;amp;Y
initialized by an arc a parameter that
comes in function bubble XY that X is
like a hand off variable it gets filled
and it gets passed to this X the Y gets
filled it gets passed to this that way
so what is what is the bubbles XY
initialized in the code here Mouse X
mouse Y so what I would like to do and
I'm going to change this just to make
things make a little more sense I'm
going to call this flower so I have one
flower image and what I do is when I
make the bubble I want to send that
flower image to the bubble make the
bubble at Mouse X Mouse Y with this
flower image make the bubble at this
Mouse X mouse Y with the flower image so
this is calling the constructor now sex
mouse Y and flower go into bubble J s
right here X Y and what now I need a
third parameter image which fills the
bubbles this dot image now this is a
little bit confusing it's kind of like
ooh I don't know if I should be doing it
this way I like so convenient there like
this is called XY image this is called
XY image there's a big huge difference
though between this X and plain old X
plain old X is just a parameter for the
constructor function to receive a value
and pass it to this dot X this dot X
it's the real deal it's the variable for
that objects X position so you could
call these like temporary X or temporary
Y or hand-off X or handoff Y but it's
convenient actually just to call the XY
image and they get they get filled and
then they pass that value to this that X
this that why this any image this is
really going to give you a headache and
I apologize for this I hope if I could
make all of this just make instant sense
I absolutely would so maybe you have an
idea for how to like think about this
but this is one of the more confusing
things but if we take that now I think
if you look at it this way we get three
arguments Mouse X Mouse Y flower image
and those come in to the object so now
here we go I've got the same sketch but
I have a much more flexible object I can
initialize that
with different flower images and how
might I initialize that bubble with
different flower images how about I have
an array so let's go let's go back to
here I never nice thing is I don't have
to touch this code again the bubble is
now a generic bubble that can display
any image you pass to it so now I just
need a way of passing different images
to it right there not just this one
global flower but different ones so what
I'm going to say is flowers equals
brackets and I'm going to say flowers
index 0 is flowers 0 flowers index 1 is
flower 1 I need to change that and
flowers index 2 is flowers to look at
this one too so now you can see I'm
loading 3 images into an array load
flower 0 into the year of 0 spot 1 to
the 1 spot 2 into the two spot now down
here what could I do I could say flowers
0 let's just be crazy and say flowers 1
and I run this and you can see look at
that I'm getting the red flowers if I
say flowers - oops I'm getting the
yellow flowers and if I say flowers 0
I'm getting the pink flowers flowers
flowers everywhere flowers so all I need
to do is vary that value instead of me
hard-coding in 0 or 1 or 2 every time I
don't know I could pick a random value I
could or I could cycle through the let's
cycle through them I like that idea
now let's pick the random one so if I
say var R equals random what's the range
of random values I want the array has
three elements in it indices 0 through 2
so I want two random value between 0 and
3 better yet I want two random value
between 0 and the length of the array
now I don't know that I've mentioned
this in a previous video but random will
give you a decimal value so I'm getting
zero point four five seven or two point
three two six one I want to get rid of
that decimal value and there's a
function in p5 which is comes from
JavaScript called floor this is a little
bit of a digression but I think it's
worth mentioning if I have the number
3.9 6 7 I could
or that number and it's going to give me
the value three I could ceiling that
number and it's going to give me the
value 4 so floor always takes off the
decimal point goes down to three ceiling
takes off the decimal point and goes up
to the next number
and there's also round which whether
it's above three point five or below
three point five it'll go to either
three or four so these are kind of
important little mathematical helper
functions in this case I want the floor
function because I want this to be a
random value in the array I don't want
I only want to get 0 1 or 2 so if I put
the floor function in there and now I
put R here I think I just finished this
except for one step I can run this and
every time I click I will get a
different flower randomly right there's
only three flowers in the array but a
random one is passed into every object
as many objects as I want and they'll
all refer to one of those images in the
array now there's one last piece of this
that I could improve which is if you
look at the way I did this preload is
it's very hard coded right flowers index
0 flowers and x1 flowers and x2 it would
be much nicer if I could say for VAR I
equals 0 I is less than 3 I plus plus
flowers index I equals load image
something now what's the something
what's the something that I put there so
I know I have i counting 0 1 2 so
somehow I need this text to be dynamic
images flower 0 even just flower one
even just about our two it's dynamic as
the index in the array I also want the
text to be dynamic and there's a trick
that you can use to do this so you
probably are familiar with this
statement two plus two equals say it
with me I know you're just watching
somewhere by yourself we're at the gym
on a treadmill it's weird to just say
the number four but say the number four
but you're probably not the chick not
the tread no but somebody once said to
me I watch your videos at the gym so
that's why it said that okay so two plus
two equals four right there we're all
comfortable with that but if I have the
text like cow plus belle this equals cow
Bell so the plus with text with
characters between quotes means
concatenation or join so plus with
numbers is addition plus with text is
join so we can use that fact here with a
trick I can say what do I want to make I
want to say images slash flower whoops
come back to me plus I right I want to
always start images flour and then
either 1 is 0 1 or 2 and I is a zero one
or two and then what do I want after
that
plus dot jpg so you can see this is the
full string that I want flower a number
and dot jpg flower plus a number plus
JPEG not add those things together join
those things together so if I do that I
don't need this anymore I can get rid of
these three lines of code and here we go
I can now click and add random flowers
with different images now of course up
here like this depends on that you not
name the files this way this only works
because I name the files flower 0 flower
one flower too
the nice thing is here is I if I had a
thousand flower images I could put those
all in the directory I'm gonna take a
lot of load a thousand images but it
would work so this is something I think
you can really play with in terms of how
you can load a whole bunch of images
pick them either in sequence or randomly
and try the in sequence thing might be
interesting and put that and use those
objects to display an image so hopefully
this was helpful to you
one thing I would like to say at just at
the end of this videos I need to do a
much better job of linking to like
download the code that I'm doing in
these examples if I reference a previous
video I should have a link to that
previous video in the description if you
could help me with that I would be super
appreciative of it so um so you can
actually just put in the comments like
if I'm fertile if you're typing the code
along and you have it you could email it
to me but you just like say like the
code for this is missing where can I
find it or you know what you reference
this video here's a link to that video
if you give me those things I will just
like remember to add them to videos so
if you have a chance to help with that I
would appreciate it and the next set of
videos I'm going to
is about how to add things to a p5
sketch that aren't just the canvas how
can you add other types of elements that
might appear on a webpage a header or a
button a paragraph of text how do you
manipulate those things with code so I'm
super excited about that topic because
it's kind of a new thing for me and I
think it'll really expand the
possibilities of what you can do with
JavaScript and the browser and b5 and
all this stuff so I will hopefully get
to making those videos soon and see you
in this way that I see you I feel that I
see you you are there to me sometimes
okay
good bye I have to stop I'm still here
by the way I could just stay here right
this video could just go on and on just
stay here and but I'm not I'm gonna stop
okay goodbye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>