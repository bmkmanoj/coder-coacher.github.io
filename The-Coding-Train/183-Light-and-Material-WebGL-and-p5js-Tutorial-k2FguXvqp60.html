<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>18.3: Light and Material - WebGL and p5.js Tutorial | Coder Coacher - Coaching Coders</title><meta content="18.3: Light and Material - WebGL and p5.js Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>18.3: Light and Material - WebGL and p5.js Tutorial</b></h2><h5 class="post__date">2017-12-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/k2FguXvqp60" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay this is yet another video about 3d
3d or WebGL rendering mode in p5 yes
this is where I last left off
essentially in the lab in the previous
video where I spent most of my time
simply looking at 3d geometry so what
does it mean to suddenly use translate
with a z-axis what does it mean to
rotate with an x-axis a y-axis or is the
axis and what kinds of 3d primitives are
there cone box tourists all of these
things so but what I want to explore in
this video is material and lights what
are these things so material describes
the skin of the 3d object how does that
skin behave when it receives when it
when when light shines on it right in a
2d world there's no such thing as lights
we are just setting colors precisely
we're saying draw this rectangle with
this color but in the 3d renderer we
have the option of saying hey draw this
shape with this material and then shine
this light on it and depending on what
material we use depending on what light
we use and where we place that light we
can create different looks and feels
we've relinquished a lot of control to
the sort of pixel level determination of
what we're drawing but we're now gaining
this illusion of shadowing and lights
and three-dimensional perspective so
let's go take a look at that now first
of all there is action are actually
already a material present in this
particular example I would let's to make
a list of those things and write them on
the board but I'm actually just going to
go here actually show you this is a
quick cheat sheet that coding trained
viewer Simon made so I'm gonna go under
material here so you can see these are
some different kinds of material that
we're going to explore and at some point
I want to get into texture and maybe
shaders as well so but I'm gonna go back
to this getting started tutorial and you
can see at one point actually or in a
lot of 3d environments there's something
called a basic material a basic
materials a material that fills the
shapes surface with color and
and that which does not respond to light
and that's actually what Phil is doing
so in this in this particular example
this Phil function is applying a basic
material and if I were to change if I
were to add a little bit of red to that
we would see we would see suddenly yeah
that's a little bit better add some more
red not that barely made a change there
we go we can see that I'm altering the
color of this beautiful spinning Taurus
okay so step one now what if we wanted
to add some lights to this scene so the
first kind of light oh yeah let's let's
let's go with this
the first kind of light that we could
add I don't want doing lights first I
should probably just keep talking about
materials so let's first experiment with
material so I'm actually gonna take out
the film and I'm going to add something
called a normal material normal norm
normal material and let's see what
happens look what I have now I have this
beautiful rainbow colored Taurus in fact
what the normal material does is
assigned to every vertex which has an
XYZ position and assigns the color the
exposition of the vertex relative to the
object center define it gives it it's
red value its Y position it's green
value and it's Z position it's blue
value and this is actually really this
normal material is just for the purpose
of debugging so if you haven't figured
out what colors you want things to be
what textures you just want to see your
3d shapes and be able to see them as 3d
just adding a normal material is useful
talking about the normal material is a
nice excuse for us to just remind
ourselves that this shape right isn't
actually a smooth shape if I turn the
stroke back on and turn the fill back on
whoops oh this has no stroke there we
can see this is actually just a tiled
collection of polygons and what the
normal is the normal vector for any
given polygon like say this triangle
here is a vector that points outward
from the polygon is is perpendicular to
the plane and that vector that Noire
vector is associated with how the light
reflects off of that plane so normal
material is using the normal vector to
assign an RGB value okay and but really
really in this case it's just something
that you would use for debugging or is
kind of like a default material and or
if you just like rainbows and you want
everything to be rainbow colored hey why
not use the normal material so let's go
back here okay so now we're back okay so
now let's start thinking about some
actual materials that we might want to
use for example an ambient material so
I'm gonna call this an ambient material
whoops I'm gonna get rid of the fill and
I mean I shouldn't have had the fill
there the on normal you could only have
one material so fill you can think of
its basic material so normal material
just over wrote that I'm gonna say
ambient material and I'm going to say 0
0 255 let's see what's going on now now
look at this why is that not blue I said
ambient material but it's not blue why
an ambient material unlike a basic
material or fill which just gives the
shape that color no matter what the
lights are and ambient material is a
material that reflects light so only if
there is light of a particular color
will it reflect that so for example I
could add some ambient light and and I'm
gonna put that the order doesn't matter
so I mean order order doesn't matter but
doesn't matter I'm gonna say ambient
light and I'm gonna say I'm gonna give a
red light and you might ask the question
now ah so if I have an ambient material
of blue and a ambient light of red
shouldn't I see purple I still only see
black and because the material can only
reflect the color blue and only shining
the color red on it so this is something
really have to think about you could try
to imagine like a reflective surface
that only reflects one kind of color and
you have the flashlight of a certain
color that's the kind of thing you need
to be thinking about so what I might do
here is just make the ambient color
white the ambient light white and you
can see now I've got the blue and I
forgot to say no stroke so we can see
now that
looks just like the fill so an ambient
material blue with a blue light it looks
exactly the same now here's something
interesting though what if I were to
there's a couple things one is I could
actually just make the material white
and then shine a blue light on it
exactly the same result so that's
important to realize that's exactly the
same result obviously it's going to be
different if there's lots of shapes with
different material colors but what I
want to point out here which I think is
important is let me just change this
torus for a second to a sphere a
beautiful round 3-dimensional sphere
whoa way too big
100 that looks to me just like an
ellipse if you look closely you can kind
of see there's some kind of spinning or
rotating here but an ambient light the
thing to realize about ambient light is
an ambient light is a light that shines
from everywhere in all directions so
it's kind of like a magical light it's
not coming from a particular source it's
not shining in a particular direction
and so in this case I don't really see
the three-dimensional quality of this
sphere because there's no shadowing so
in this case what I want to look at is
what if I use something called a point
light so we're gonna look at ambient
light point light and a directional
light a point light is a light that I
could place think of a light bulb that I
could place into the scene it shines in
all directions from a particular
location so what if I wanted to put a
point light over here
let's do that so I'm gonna say point
light and I still give it the color 0 0
255 blue but now it's not ambient it
needs to give it a location so I'm gonna
say 0 negative 200 0 so I want it just
to be a point light that's positioned
over here at the edge where my finger is
right there okay here we go ready well
oh I'm sorry I put it at the Y location
so it actually worked I put it above I
just got the wrong spot so it's
important to look at the documentation
if we look at Simon's cheat sheet here
point light our GB that
G B X Y Z so the exposition is this one
and I'm gonna make that 200 Oneg is 200
I wanted to put it over there
oops and go back to my sketch and there
we go we can see it's the left I could
actually give it you know I could say
Mouse X minus 200 or Mouse Y minus 200
and now you can see I have this point
light that I can move around and I could
put two point lights in the scene and
say add one point light negative 200
comma zero and another point light at 0
200 comma zero and give make that one
red and we could see whoops what
whatever it doesn't matter the point is
I put them in different locations but
you can see now I have a point light
shining for him over here that's red and
a point light shining for him over here
that's blue so point lights are things
you can position move and give them
different colors now let's think about
material for a second so this is ambient
material ambient material is a material
that reflects ambient it reflects light
there is another kind of material that
also reflects light but reflects in a
slightly different way if you want a
different look and that's called
specular material and specular material
is a material that's shinier more
metallic and kind of you know a billiard
ball or water or metal or something you
can get a slightly different look so
let's just look at that I'm gonna say a
specular material and I'm gonna leave
the color white meaning the material is
white so it's just reflecting whatever
light is there and we can see look at
this you can kind of see this like shiny
quality to this so I might want to do
some more experimentation I'll leave it
to you to experiment with different
materials and different colored lights
and different shapes okay so I'm gonna
go back to ambient material and point
light now I want to look at the last I
think the last thing we've got to look
at here is directional light so what is
a directional light directional line is
an interesting thing it's a light that
has a direction but no position meaning
it's kind of infinitely far away so if
you could imagine I'm in the 3d
scene right here and I'm gonna say the
Sun is over of hair right the Sun is not
infinitely far away but it's so far that
you can kind of imagine it so I'm
pointing in the direction of where the
lights coming from so this is different
than what you might think of as a
spotlight or a flashlight which would be
like the combination of a point light
and a directional light a light at a
certain point that points in a certain
direction
that as far as I know is not implemented
yet in p5 WebGL renderer but you can
have a point light and or or Direction
light so let's make a directional light
happen so instead of having a blue and
what's yellow red and green right let's
try to pick the Sun instead of having a
blue blue point light I'm gonna change
this to directional light and now this
vector this vector over here describes
describes the direction of the light so
if I want to have the light coming from
over there like coming from the right I
want to say point the vector points one
in the X direction so I'm going to say
one zero zero and let's go refresh this
and you can see there's the yellow light
coming from the right this direction
okay and if I were to say negative one
there it's coming from the other side if
I were to say it's coming from the front
like whereas if your eyes are the light
you can see that my eyes are shining
like directly into the scene so you can
see how powerful this directional light
can be so here's the thing one thing we
could do now is we could have a
directional light point into the scene
based on the mouse so for example I
could make a variable that is the mouse
X minus the center of the window and
mouse Y minus the center of the window
now something weird is going to happen
here and I should probably put this back
to the tourists because I think it's
going to be easier to see with the
Taurus and so I'm going to say
a-and now I want the directional light
to be DX and dy let's see what happens
now look at this I'm getting this kind
of glitchy effect the reason this is
happening is the vector is so ideally if
you want the effect that I want at least
here the vector that thing that's
pointing needs to be of length one and
it didn't have to worry about that when
I said 1 comma 0 0 or 0 1 comma 0
because it was by definition length 1
because I they it's not that it adds up
to 1 but it's like the length it's
actual length is 1 so in this case the
vector is like you know if I could kind
of get the mouse really close to the
center and you can sort of see how I can
get some of that shading back but the
light gets stronger so this is something
you might better use to your advantage
but ultimately I want to normalize the
length of that vector and there's a nice
way that I can do that because what I
could do is I could say let V I can make
a vector object make a vector which has
an X component a Y component and a Z
component which I'm leaving at 0 for
right now and I could just pass that
vector in as the last argument so the
directional light has a color and a
vector same result here but now I could
say V dot normalize and what the
normalized function does is shrinks the
vector to length 1 and you can see now
as I move the mouse around I'm changing
the direction that the light is shining
and you know maybe I could do something
like you know I could do something like
divide it by 100 and so you can see I
can make the light kind of brighter
based on like how far away the mouse is
so I just want to be within a pretty
reasonable range once I get such a high
range it's very very glitchy so the
strength of that light it appears also
is tied to this to the length of that
vector okay so let's take a look here I
think we've talked about normal material
normal material of so basic material by
the way is film and just so you notice
here if I go back this is actually
important to say if I go back and say
fill 0 0 255 comment out the ambient
material and I still have the lights and
everything
you can see that light is not affecting
this so an object that doesn't interact
with any of the lights in the scene you
can use fill it's pretty rare that you
would probably want that to happen but
just to note if you're running like ah
why is nothing responding to my light if
you're using Phil so Phil like a basic
material ambient material is a material
that reflects light specular material is
a material that reflects light albeit in
a slightly different sign ear perhaps
away and then the three kind of lights
are ambient light on just general wash
of light from everywhere in every
direction point light which is a light
where you give a position looks a
position and a color so it emanates in
all directions but from one position and
directional light is a light that's
coming from a given direction
essentially infinitely far away maybe
like depending on the length of the
vector it's closer and closer or
brighter and brighter a couple other
things that were pointed out by the chat
before I go if I were to add an ambient
light here and let me make that ambient
light blue let's just see what happens
so you can see interestingly enough the
ambient light and the directional light
are interacting with each other and
everything is blue everywhere but the
red and green that's coming in through
the directional light mix with that blue
and end up making white light now of
course if this color if this were to be
just red the directional light you can
see that directional light is now mixing
with the MU light and making things so
this I really want to leave to you as an
exercise
mixing point lights directional lights
ambient lights all these things you've
learned about like oscillating color
looping color transition all of that
stuff that you do in any kind of 2d you
could do with the lights as well so you
can make all sorts of beautiful crazy
psychedelic colorful three-dimensional
scenes by mixing lots of different
shapes and lots of different lights okay
so share with me what you make just with
materials and lights see if anybody can
make something that demonstrates the
difference between specular material and
ambient material a bit better than I did
in this video I'd love to see that
please share it with me and I'll see you
in the next video where if I haven't
said this already I come back and talk
about texture and then in a follow-up us
about camera perspective okay thanks for
watching see you soon</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>