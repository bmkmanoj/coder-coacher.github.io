<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>2.4: The map() Function - p5.js Tutorial | Coder Coacher - Coaching Coders</title><meta content="2.4: The map() Function - p5.js Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>2.4: The map() Function - p5.js Tutorial</b></h2><h5 class="post__date">2015-09-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nicMAoW6u1g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi so this video that I'm making is
about a function in p5.js called map so
there's a very common scenario that
comes up over and over and over again in
programming graphics programming
interaction working with data there's so
many places that this scenario comes up
comes up and so this particular function
map is a nice resolution to this problem
and let me give you a simple version of
this problem so let's say we have a
canvas and the canvas has a background
color and what you want is for that
background color to sometimes be black
and sometimes be white so when it's
black the color that you should put in
the background function is zero when it
is white the color you should put in the
background function is 255 so we can say
together the range for the background
function that I want in this particular
program is a number between 0 and 255 so
really a variable might go here like
call it co l and co l should have a
range between 0 and 255 now how do I
want that value to be chosen when should
it be black and when should it be white
what I would like is when the mouse
pointer is at this side of the screen I
want the background to be black and when
the mouse pointer is at this side of the
screen I want the background to be white
so I would like to create a scenario
where I move the mouse left and right
left and right I see the background
shift from black all the way to Y down
to gray darker gray down to black etc so
this is what we want to program now
let's say this canvas has dimensions of
600 by 400
so Mouse X is a very
if you've been watching these videos in
sequence which you don't need to have
been to watch this particular video now
sex is so sort of recent new phenomenon
that I just talked about in a previous
video so if the these are the dimensions
of the canvas
we know that mouse X has a range that
goes between zero and six hundred so we
now want the background color to have a
rate of sorry we want to lost my train
of thought there with the mouse has a
range between zero and 600 and the
background color we want to have a range
between 0 and 255 so we need to take
this value with this range and what we
want to do knapp it to this range when
mouse x equals 0 background color equals
0 when mouse x equals 600 background
color equals 255 let's kind of like
start doing that a little bit for a
moment without the map function at all
ok so here's the program I'm going to
actually simplify this for a second
var color equals 0 I'm going to say
background color and you can see this so
we can see here here I'm running this
program this ellipse is being drawn
where the mouse is so we can see and the
background is being colored according
that variable but the background color
is not changing because I set it equal
to zero and I never changed it so now I
could try to do some math like I could
just say color equals Mouse X like why
not that's pretty good whatever the
value of mouse X is set the background
color to that so let's see what happens
I'm gonna run this look it's working its
changing but it's already white why
because as soon as I get to pixel 255
that's the full whiteness so I'm not
getting this perfect mapping it's kind
of like working but it's not exactly
right so I could be approximate I could
say okay well let's the canvas is 600
pixels wide why don't I divide by 2
that's pretty good 600 or whatever the
mouse X is divided by 2 that's getting
me pretty close it actually kind of
looks like it's working and that's you
know we kind of solved the problem but
here's the thing this problem that we
have just sort of bear
solved over there this is a very
simplistic view of it but there's lots
of times where you have a sensor like
data coming in from some sensor and the
ranges between you know 321 and 1057 and
then you want to map that range to some
other set of values and actually that
other set of values has a range between
20 and 35 and the math is a little bit
trickier or perhaps you want to take a
value that goes between 0 and 200 and
invert that and map that between 200
down to 0 so there's lots of more
complex scenarios the map function is a
general function that will take any
range and map a value inside that range
to a new value in any other range so
let's take a look how that works in this
context so this first of all what I mean
by function so already you know about
hopefully you know about calling
functions in p5 right you might have
done this line is a function that takes
four arguments 1 2 3 4 and what does it
do it draws a line from you know a point
100 150 50 done so map it's the same
thing it's a function that takes some
amount of arguments it's actually going
to be five arguments I better give
myself more room here I can see that
you're not going to go see this okay map
it takes five arguments one two three
four five you see all those yes okay so
this seems like oh boy five arguments
that's terrifying but it's actually it's
not so bad so remember I have a range
that goes between 0 and 600 this is the
range we know that Mouse X is and I want
to map this range to arrange between 0
and 255 which is what I want to assign
to my variable color so the arguments
that map requires are the following what
is the minimum and max
of my current range 0 to 600 what is the
minimum and maximum of my new range 0 to
255 and what is the value that has this
range and which I want to map to the new
range well in this case it's mouse X so
I want to map mouse X which I know has
this range that's the X values and I
want to map it to this range between 0
and 255 for the purpose of color and
then when I map it what do I do with it
I want to take the result of that
mapping and set it equal assign the
result to my variable color so this is
what's actually something quite new
about this map function the line
function doesn't do it performs a task
line it draws a line in the canvas it
well whatever you know the computer
draws a line on the canvas the math
function actually performs a calculation
and answers a question it resolves to a
single number so I can use that number
and assign it back to this variable okay
so this is kind of a new concept let's
go try to do it in this program so right
instead of my goofy like math here Mouse
X divided by 2 what I want to do now is
use that math function so I'm going to
go over here I'm going to say map Mouse
X which has a range between 0 and 600
oops I guess I better zoom back out and
give me a new value within a new range
between 0 and 255
so here Mouse X between 0 and 600 give
me a range 0 to 255 and assign that to
this variable color which I'm then going
to use in background and watch this we
can see all the way perfectly white at
pixels 600 perfectly bat black at pixel
0 let's have a little more fun with this
fun is all relative of course let's give
ourselves two more variables so I'm
going to make a variable R and B R for
red B for blue and what I'm going to do
is I
going to set the red value equal to that
mapping so you can see now right blue is
that 255 red is at 0 and red R is
getting that mapping with Mouse X so as
I move to the right I get more pink and
purple all the way back more blue and
here's something interesting I can do
with map let's also map the blue value
but instead of saying when the mouse is
at 0 the blue is at 0 and the mouse is
at 600 the blue is at 255 let's do the
reverse let's say when the mouse is at 0
we have 255 blue and when the mouse is
all the way on the other side we have 0
blue so we can also invert that range
which is great that map will do that for
us and all the way we can see I get all
the way red all the way blue it in the
middle I've got red and blue together so
you know and also by the way well you
know if you're thinking so you might
take this exercise maybe add Mouse Y to
it try to map mouse Y there's all sorts
of possible things you can do with this
so hopefully that gives you a bit of a
sense of the map function and that you
found that useful possibly came to stop
this oops</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>