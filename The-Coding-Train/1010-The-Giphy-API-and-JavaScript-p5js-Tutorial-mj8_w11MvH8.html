<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>10.10: The Giphy API and JavaScript - p5.js Tutorial | Coder Coacher - Coaching Coders</title><meta content="10.10: The Giphy API and JavaScript - p5.js Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>10.10: The Giphy API and JavaScript - p5.js Tutorial</b></h2><h5 class="post__date">2015-11-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mj8_w11MvH8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm gonna try to make a video now that
uses the giffy API with zero preparation
i've never googled and looked at I don't
even know if I've ever looked at the
kitty website this is probably gonna go
down in flames but I'm gonna give it a
try anyway you're gonna see in 15
minutes can I make a working code
example where I query the gifty API and
get some gifts on the screen and you
guys can while I'm screwing stuff up can
argue over whether I should say gif or
Jif somebody told me I have no idea so
let me look for giphy giffy is a website
though if I go to their search for gifts
they'll search for my name which is like
the most vain thing you can do of course
there's no gifts with Schiffman and then
rainbow there we go
rainbow is good I've got some nice
rainbow gifts here I like this one this
is a nice one we could see a nice
rainbow gifts so there must be an API
here let me look for a giftie API
Wow look at that I've got a github link
that's that's good news I've also got
here a URL API goofy comm let's start
with that ubirr URL ok so often a
question that comes up when using an API
is do you need to sign up do you need a
key I have no idea this is like this is
exciting somehow this is like I don't
know I feel whatever okay
get started get these search get the
trending if you roulette although these
are other apps that people have made
well let's go to get started okay I'm on
they give access an API keys public beta
key so the gift v8 API is open to the
public a single public beta key to let
anyone try it out all right
that sounds good with me so I'm gonna
use the public API in this demonstration
obviously if you're gonna do something
more involved you'll want to get I'm
standing in front of the text you're
gonna want to get a production API key
but I don't think I'd even get one so
okay so I want to use that I'm gonna go
down overview the giftee api provides
the following i'm standing in front of
the text again this is terrible let me I
can't we move this over and let me make
this a little bigger
the giffy api provides the following
json endpoints so i can ask for a random
one looks like a trending one I can get
stickers by ID one gift by ID and right
so this is good
interests finger this is the kinds of
things that the API can give me and I
think search is probably a good place
for us to start a random would also be a
great place for us to start but I'm
again like I mentioned very easily
embarrassed and I'm worried about
getting an embarrassing gift but you
know I should I should not be where I
should just live in the moment that
where we are okay so let's see if I can
find this is so this is okay so let's
start piecing this together a little bit
so I'm gonna open up actually just like
TextEdit actually you know I'll go I'll
go to p5 and I'm gonna make a new
project I'm gonna close this New York
Times one I'm gonna hit save I'm gonna
call this giffy API and I'm gonna just
give myself some space at the top in
comments where I can start pasting stuff
in there that I might need for working
with the API so what I definitely need
is this this is the URL to the API I'm
also going to need this public key so
let's save that there now search all
gift the gifts for a word or phrase
punctuation we stripped or ignored use a
+ or URL and code for phrases
oh yeah Ryan Gosling gifts that's that's
gonna be good that was weird
doubt I feel like that was weird that I
made a weird dance to talk about Ryan
Gosling
I really should edit that out but it's
too late apparently that just was like I
was overcome by the name Ryan Gosling
maybe we'll get some good eating see
isn't there like an eating cereal mean
with anyway so this is good this is
probably all I need does it's like
giving me look at this it's giving me
all this wonderful information this is
the path so I need that you put that in
here and then these are some of the
things I need like search queue so every
- every this is this is in case you come
here from some strange place from the
internet all of those all of these all
of this list here are parameters
parameters are name value pairs that get
strung together like Q equals Ryan
Gosling and then limit is like how many
a results do I get the maximum is 100
well if I'm getting gifts about Ryan
Gosling oh my god the limit is
that is the sky's the limit right do you
think I could say limit equals sky and I
would this guy okay so back and so
anyway there's more stuff there but I
don't really need all that stuff all I
need is to realize that I want to say
things like Q equals and I'll just I'll
go back to rainbow I don't think I can I
don't think I can handle Ryan Gosling
it's too much too much Brian it's too
much for me I just I can't handle it
I'll be overwhelmed I'll be overcome
I've really lost it here okay Oh Q
equals funny cat that would be a good
one anyway
and you can see API key so this isn't
real I need I'm done we're good
so um so let's let's put these in some
variables this is going to be great HTTP
okay bar API equals a string with the
path right I'll call this endpoint I
don't even know if that's the right
terminology but this is the thing that I
know needs to go after the API honestly
that's silly that I'm making this into
two different variables I guess I'll
just put this one up here right because
I'm just using the search so I need to
make this a little bit bigger so now I
have a URL which is the URL to that API
I have a API key which is Oh camera come
back to me camera I have a key which is
this and I'm gonna put that over here
now I forget what did it need it needs
it needs to look like this and ampersand
API underscore key equals so in my code
I'm actually gonna say and this is a
ampersand API underscore key equals and
then I'm going to have query
B and Q equals rainbow and by the way
this right here a query a query a set of
a query string always begins with the
question mark so its API key equals
something and Q equals something and
limit equals something but all of that
begins with a question mark so this
would be the full API and I've kind of
broken my own cardinal rule here where I
started writing
code before I even check to see if I was
getting results in the browser so let's
go back and let's kind of let's go back
to the browser here and I need all three
of these pieces I need I need this piece
let me open a new tab that piece
followed by this piece followed by this
piece and I'm gonna hit enter Oh awesome
so now it looks like I got some data and
I got a URL bitly humor out embed URL
source the thing that I'm looking for is
the actual like gif file
this is like an mp4 web pee URL this one
I think will do like if I did I think
this is like the link that I want like I
want to get something that I can display
quickly in the browser and I'm sure I
could make any of this stuff work I
could embed like giphy embed or I could
get the original source as an mp4 file
but what I want is something that's like
pointing to an actual gif file if I copy
that address and paste it up here in the
browser we can see oh yes that I'm
getting oh this is Wow
I never expected to get such a wonderful
rainbow gift URL okay you bet I know so
overcome that I lost the ability to
speak okay so alright so this is good
this is good
so now I got to go back I gotta go back
and I've got to say create no canvas I'm
like I feel like I'm in a hurry all of a
sudden I got a I want to make that URL
which is API + API key + query and
ultimately again I don't want rainbow to
be hard-coded into my code I want to get
that from the user input but I'm like
you know did that in a couple different
previous videos you can almost think
about as an exercise for yourself but
now I'm gonna say load JSON URL got data
so again the load JSON function is a
p5.js function where I give a URL from
an API that's gonna give me back JSON I
have a callback got data so if I write
that got data function and I give it an
argument I said this is like all the
videos I've made today that data
variable gets filled
with the data from the API and I just
want to see first
again does this even work I'll add a
print line in there and I'm gonna run
and I can see look okay so data came in
there that's a good sign so now I've got
to figure out again this is that thing
this is hard I've got to figure out I've
got to unpack this JSON so first one
thing I can notice is that data this is
gonna be awkward because I'm gonna have
this moment where I'm saying data data
because the first key the first property
of this object that came back from giffy
is data so then what is data it's an
array and each element of the array I'm
guessing I'm assuming is one particular
gift with a lots of information about
that and what I want is index 0 images
dot original dot URL I guess I could get
like different sizes and stuff but let's
go with data index 0 dot images dot
original dot URL I think was that right
I can't I'm like having trouble getting
all the way to the right here yep that's
right I think that's right ok so let's
give that a try
did that make sense so I want to say
data dot data index 0 dot images dot
original dot URL could that possibly be
right let's go back and look at that
again data dot data dot images dot
original dot URL that's I usually I have
like a whiteboard really handy which I
have one over there okay I think this is
right let's just run it and have some
faith look at that that looks like a URL
that makes sense if I click it I see it
oh good oh good
now we're talking so guess what guess
what p5 has for you oh this camera's off
one of the functions in the p5 dom
library is a function called create I M
G now there's a lot of different ways of
working with images in the browser they
can even load them from a file you can
draw them in a canvas you can mess with
their pixels what this particular
function does is it makes
HTML element that looks like this right
now there's lots of different attributes
and ways that you can configure and
style this particular element but if you
give it an argument that's what becomes
the source the source of that particular
image tag so what I want to do is take
the path to my giffy thing and then
create an element that will appear in on
the screen so in on the web page so all
I should what I should be able to do is
just say create IMG set of print line
with this particular URL and I kind of
want to put just like I'm gonna just
call this gif II just so it doesn't say
like data data I think that's confusing
to look at so got data fill the data
with giffy the lighting in here changed
and now let's run this and see what
happens
look and there I have my rainbow now
here's the thing giffy it gave me more
than just one image right so this is
this is pretty exciting what I can do is
now say for VAR I equals 0 I is less
than what's the array here giffy dot
data index 0 giphy dot data length I
plus + and I can say index I now so I'm
gonna make an image element for every
single image that I've gotten from giffy
and we could see look at this I've got
this page they're all they're all of
mine this is like the this is this is
quite quick though this is a good one
there we go that is I'm just gonna like
never make a video again because I this
is like the perfect thing to ever have
in one of my videos so anyway you can
see boy this is fun there's lots of
things you could probably play with so
what do you do with this I don't know
maybe you'll get taking user input maybe
you you arrange them in a different way
I don't know maybe just makes you happy
you know like look at gifts
I guess it's making me happy I you know
we really should do the Ryan Gosling
thing I think before this video ends so
but you know that would be the I don't
even know how to spell Ryan Gosling
let's see if that's right I'm sorry you
can see here we go
Ryan Gosling
there you are and so you know this is
the thing like I'm changing the word
what could you do with this make
something interesting let's play around
with this send me an email or a tweet or
write in the comments I would love to
know what you do with this example
hopefully this helped you we've yet
another kind of API you can use now
here's the thing
we got to have a chat it would be
because I've been doing a lot of these
videos about working with the API and I
kind of you know one thing I haven't
really showed you is what if you need to
make like a whole lot of API calls all
at once there's some issues that could
come up you know you've got like if
you're creating a lot of callbacks all
at once how do you know which callbacks
goes with which API call you might be
generating a lot of Dom elements all
once it could lock up your browser so I
do need these are some there's some
pitfalls here and I think I need to make
a video soon that just sort of covers
those scenarios and there's this thing
called a JavaScript closure what do you
think the chances are there are gifties
associated with the word closure this is
like high risk here I don't know what
this this is this is not this is not
working for me but anyway so I was
hoping I'd get something interesting to
look at cut that out but so I want to
make a video that sort of covers this
topic and maybe a look at it even in the
context of giffy which is seem to be a
nice API to use okay so this was a
totally off-the-cuff thing that I did
hopefully it worked and you got
something out of it and I've now made
three videos today it's two o'clock
which is the time that I said I was
gonna end but yeah I'm in the recording
but never mind you care about the time
Schiffman Ryan Gosling hash tag rainbow
heart thing that's too long you can you
figure out what that is I wake up now
goodbye and I'll see you soon</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>