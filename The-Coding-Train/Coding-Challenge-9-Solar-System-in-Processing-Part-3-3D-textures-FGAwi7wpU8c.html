<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coding Challenge #9: Solar System in Processing - Part 3 (3D textures) | Coder Coacher - Coaching Coders</title><meta content="Coding Challenge #9: Solar System in Processing - Part 3 (3D textures) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coding Challenge #9: Solar System in Processing - Part 3 (3D textures)</b></h2><h5 class="post__date">2016-05-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FGAwi7wpU8c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay part three of my solar system
generating simulation thingamabob this
by the way is not my example this is an
example by Andres Calibri it is comes
with processing under examples demos
graphics planets you can take a look at
it it's using some similar stuff that
I'm using in my example but the reason
why I'm pointing to you right now is
you'll notice that the planets that
you're seeing are not just plain old
spheres that are white or one single
color they have a texture to it a
texture that is an image so what I'm
going to show you now is how to add
image textures to a sphere just like in
this example in the one that I've been
building so the first thing is we need
some image textures boy I would love to
make a video somebody remind me someday
of how to generate your own texture
using Perlin noise and you could
automatically generate textures for all
your planets that's going to be a part
something to this eventually but for now
what I'm going to do is get some image
textures so Andres in the example here
you can see he has a link to a site
called planet pixel Emporium this is
what the site looks like for example
down here I can click on earth and I can
go down here and I can get this
particular texture it's just a
rectangular image and what's going to
happen in processing is this image is
going to be taken and wrapped around
that sphere so how do you do that so
I've already downloaded a bunch of I'm
going to close this and I'm back this is
my example if you don't recall this is
what it looks like what I'm going to do
is now add the textures to these spheres
so I've already downloaded a bunch of
JPEG files PNG s would work various file
formats and I've got them in the data
folder so I'm just going to look at
those real quick and I'm going to
actually rename these earth I should
have done this before I started Mars
mercury and Sun and all of these come
from that particular website the pixel
Emporium planet pixel Emporium I will
have a link to it in this video's
description ok so what I'm going to do
now is I am going to say P image M image
equal and then in setup I'm going to say
load image Sun JPEG so the first thing I
need to do is just have that image
loaded into a variable a variable of
type P image loaded into that and now I
need this image to somehow be attached
to that sphere let's go to where we're
drawing this
here now I am drawing the sphere right
here this is known as immediate mode
rendering I think yes save mode EMU the
point is I'm like drawing the sphere so
it's like calculating and figuring out
making the sphere on the fly there is
something in processing called a pea
shape which is an object that can store
geometry about any type of shape so it
can have you could make a pea shape
that's a Java tree of a collection of
shapes that's a custom polygon that's a
sphere that's a rectangle so what I need
to do to automatically texture this
sphere is to use a pea shape variable
which will make it a little bit easier
to deal with so I'm going to go back up
here and say P shape I'm going to add to
every planet object is going to have a P
shape associated with it and I'm going
to call that P shape globe because it's
going to be a sphere and then in setup
I'm going to say not in setup sorry in
the planets constructor I'm going to say
globe equals create shape so create
shape is the generic function to make a
P shape object you can make group P
shapes you can make primitive P shapes
which is like rectangle ellipse sphere
box or you can make custom P shapes
which are just set out of a lot of
vertices and boy this would be another
great topic for a video but for right
now I'm going to make a primitive p
shape which is just a sphere and I also
need to give it some size guess what I
have the size right there radius now the
other thing I want to do this is going
to seem a little bit strange is right
here I'm going to say no stroke and no
fill because when I call create shape
it's going to pick up the stroke and
fill that are kind of currently assigned
now there's all sorts of other ways I
think you can call set stroke or set
fill and then you can change those later
as the program is running but for right
now I just want to steer with no stroke
and you know what actually what I want
just to make sure this is working is set
the fill of 255 so I just want to have
my shape be white I'm not going to add a
texture just yet and now the other thing
I'm going to change now that I've made
that P shape object is here instead of
drawing the shape drawing the sphere
with sort of immediate rendering I'm
going to render that pre-calculated
save geometry that sphere that was
already
need so I'm going to say now shape globe
so the shape function renders a
particular P shape object to the scene
dot P shape object the envelope so if I
run this we have exactly the same thing
and just to make sure this is really
doing what I think it's doing let me do
that I'm afraid uh yes and now they're
all red so you can see how this is
working now the thing is I actually
don't want to fill I want to say no fill
and this is what is so wonderful about
working with P shapes and spheres and
textures is processing behind the scenes
will automatically figure out how to do
all the mapping of the image and the
pixels to the pot there's all sorts of
interesting custom ways of doing this
but I can actually just say globe set
texture IMG and run this and magically
you can see all these planets now have
that one Sun texture I can zoom in and
you can see it's that same texture on
all that so we're kind of even I didn't
I didn't hit my timer so I don't know
how long I've been going but just a few
minutes five minutes at the most into
this video I already have textures on
these planets so what do I want to do
next well I only want to have the Sun
texture on the center one and then I
want to have other textures on the
others so let's figure out how to do
that what I think might make sense is to
I'm going to make a variable called Sun
texture to load that and then I'm going
to make another variable which I will
make an array well I'll just call
textures and how many do I have I have
one - I just have three so let's have
three and then I'm going to say textures
index zero equals and now I've Paulo G's
for the tedium of this Mars Earth
I'm going to load these just sort of
manually into the array manually setting
the index spots Mars Earth mercury so
now where should the planet get assigned
its texture I just kind of
globally assigned one but I think what
would make sense is for the planet to
have a particular actually I don't need
a variable what I just need here is to
add a fourth argument called image so
when I create a panet planet I give it a
radius a distance from whatever it's
orbiting around that o is for orbital
speed and an image which is its texture
so right now I could say for example
make the Sun with the Sun texture and I
could say here make every other planet
with textures index zero which was what
Mars let's do textures index one to be
the earth texture so whenever I make any
other planets make it textures index one
the earth and you know I could run this
I missed something important actually I
didn't and you can see now look at that
because I I now have the Sun as the
center all the other ones have the earth
texture okay this is getting good now
what I want to do though is have each of
these have a different texture so what I
could do where did I assign that earth
texture was right here there's no reason
why I couldn't get a random number
whoops I already used our so let's just
call this index and a random number
between 0 and textures lengths and then
have that be a random texture so when I
create the planet I have the radius
shrinks the distance is random the
orbital speed is random and the texture
is a random one from the other textures
I have and if I run this again and you
can see now I don't know why we didn't
get any earth ones let's run this again
ok there we go so you can see now and by
the way I'm spending how I'm zooming but
I can actually just zoom in processing
now because I have PZ can okay everybody
I'm not as good at doing that you can
see that all of the planets have
different textures and you can see it
and it kind of creates order now I don't
know ah I've lost my ability to speak ok
so now we have this solar system thing
now there's a few more things I could
add to this number one is be interesting
to make the orbits elliptical
I'll leave that as a thought experiment
for anybody watching this video to
discuss in the comments and maybe post a
version of it but you could think about
how that radius changes as it's
orbiting it gets wider it gets shorter
based on the angle of rotation that's
something you might try but what I want
to do now is just change the lighting a
little bit I think it would be
interesting to instead of having generic
lighting to actually have the lighting
come from the Sun itself right the Sun
is bright and as things are orbiting it
you can see how different parts of the
planets might get the light or not get
the light and so a way of doing let's
look in the processing reference I
honestly don't know a lot about I don't
I have a live in fear of 3d it's
something I don't like to do because it
makes I sometimes get a stomachache when
I program things that are in 3d but I
want to go to processing and I want to
go to reference and I want to look for
lights and I'm going to look here and
see there's all these different
functions for different kinds of lights
that encourage you to explore them but I
want to look at point light what point
light does is it adds a light and you
can see it has six arguments the red
green and blue value so what color is
that light and then the coordinate of
the light well this is really easy
I want a bright white light from where
the Sun is which is at the center so I
can actually go back to my scene now go
back to the main draw and right here
instead of saying lights I can say point
light bright white and at the Centers of
the world zero zero zero so let's run
this I actually could not try this I'm
just assuming that it's going to work
and look at that
you can see now now interestingly enough
you can't see the Sun I kind of love
this though the Sun is not getting its
own light so I don't know how best to
remedy that but we could also try
turning the generic lights on and it's
still it's not as effective because but
I could probably shine like a spotlight
on the Sun or something I don't know I
don't really mind that though but anyway
you can see that this the effect is not
as strong somebody watching this video
will come up with a nice way of lighting
the Sun and the other planets but I like
this effect of being able to see
that shadowing and you know maybe we
could but what would be interesting is
to actually put lights on some of the
other planets to see how that works so
there's all sorts of possibilities there
but I've got to stop I think I've given
you some tools here you know I've given
you a way of creating spheres as an
object of rotating spheres around other
spheres having those things be nested
having textures texture those spheres
and a little bit more on how you might
like to see in a creative way so I hope
you will explore this something else you
could do is put an image just the
background maybe a star field you can
see an andresen example how that works
I'll linked to the code for that example
as well in the description but make some
creative experiments with this think
about elliptical orbits be more
thoughtful could you actually you know
make Sun and the planets that are in our
solar system would you choose to include
Pluto or not or some other new planetary
discoveries can you put a ring around
Saturn how might you do that all sorts
of interesting possibility so I
encourage you to explore that stuff and
share with me your solar system
processing sketches</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>