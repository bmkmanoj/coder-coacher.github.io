<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>1.2: PVector class - The Nature of Code | Coder Coacher - Coaching Coders</title><meta content="1.2: PVector class - The Nature of Code - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>1.2: PVector class - The Nature of Code</b></h2><h5 class="post__date">2015-07-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7nTLzLf7jUg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay I just bumped into a lamp over here
but everything's fine okay good morning
we are going to get started about
vectors again this morning today I have
a long list of videos here to make we're
going to go through P vector syntax
basic vector maps we're going to look at
this thing called acceleration where you
get into Newton's laws and forces and
we're really by the end of this string
of videos there's maybe five or six or
seven we're going to get through we are
going to have our first physics engine
we're going to be simulating bodies in
our world responding to forces it's very
exciting
whew okay so but what are we going to do
this video this video sole purpose is
just to begin to feel comfortable with P
vector syntax what do I mean by P
vectors a P vector affectionately known
as a vector is a class in processing you
might be familiar with P image our image
pivot or font the font pathan P font
anyway there are lots of built in
classes in processing to describe an
image a font capture object a movie
object a serial object this is hopefully
something you're familiar with having
used processing we're going to learn
about a new class today called P vector
P vector is going to store the
components of a vector if you remember
from the previous video a vector which
can be represented as an arrow direction
which way is the arrow pointing
magnitude how long is that arrow has
components there is an X component and a
Y component now in truth the P vector
class also stores a Z component but for
the purpose of these videos that we're
doing now we're going to ignore 3t it's
a very uncomfortable strange place to be
in 3d it's just living at two dimensions
you could just kind of you know be
yourself
really anyway um okay so this is what
we're going to do now um we need to get
into actual vector math what does it
mean to a defect add vectors multiply
dot product magnitude normalize or all
these functions we're gonna get to but
first I just want to look at something
really basic what if we have a program
that has an x and a y variable what if
we want to store those X's and Y's right
together in one vector object so what we
can now do is say P vector V or you know
maybe for the sake of argument I'm going
to say position or in fact in all my
exit I kind of like the variable name
position better but all my examples for
some reason I use the word location I
don't know maybe I'm into real estate or
something okay a P vector location we're
instead of having a separate X&amp;amp;Y we're
going to say a P vector a location now
when you have an X in a Y you might say
x equals 100 y equals something instead
we're going to say location equals a new
P vector 100 comma 50 for example I
don't know can you see all that you I
think comma 50 is cut off but you can
imagine comma 50 parenthesis semicolon
okay so what is going on here primitive
variable the name is X the datatype is
float a object variable the name is
location the datatype is P vector
whatever you make an object bubble be
ball B what kind of objects do people
make and process I don't know fish F
right then you say make a new fish make
a new ball make a new bubble right we
are instantiating that object we do the
same thing with P vector P vector
location we say location is a new
instance of a P vector object and the
constructor takes two or three arguments
so in our case we're dealing with
two-dimensional vectors P vector 100
comma 50 everybody okay everybody I
don't know if there is an everybody is
there at everybody I don't know maybe
you're like a large group of people just
sitting in some strange audience
watching this video it's seriously about
that okay so now that we're comfortable
with this let's go look at a real-world
processing example okay here we have
your kind of standard processing example
you have a bouncing ball sketch you have
a ball object B you make a new ball B
moves it bounces it displays this is
your basic stuff that we're
we're used to but let's actually now
switch over to the ball tab this is
where things matter now look we have an
x and a y and at X speed and a Y speed
this is where we need to rewrite our
code using vectors okay I'm staring over
here like really intently okay so
instead of let's close this here it's
distracting instead of an x and y I want
to say P vector location so I'm just
going to write that in there and I'm
actually just going to delete those now
we have another pair of X's and Y's X
speed Y speed we know down the move
function X B changes X Y speed changes Y
we're going to do the same thing but
with vectors so instead of an X speed
and a Y speed we are going to say P
vector and I'm going to call this
velocity now it turns out velocity is
going is a key concept in that we're
going to build into our physics engine
if an object has a position how that
position changes over time is its
velocity velocity is a vector that gate
provides directions for how that
object's position should change from one
moment to the next so position is X
comma Y velocity here is X speed comma Y
speed that's the sort of that's the
conceptually the thing we're doing ok so
now we have to look at the constructor
we initialized x and y separately xB and
Y sweet separately now we're going to do
that with vectors ok now we're going to
say location equals new P vector same
values and velocity equals new P vector
can you hear that that typing I don't
know is that like a nice soothing sound
for you right so we can see here all I'm
doing is replacing each individual
variable a being being initialized
individually each individual variable da
I would restart this video but I just
got too much to do you know what to do
you're just gonna have to live with my
weird ramblings okay um velocity now we
initialize it as a P vector with two
arguments got it all right we're good
don't don't don't don't don't don't do
that we run it of course if into here
okay x equals x plus XP okay we need to
stop here for a moment
uh well maybe we don't we will stop here
in a moment but let's actually let's
just look at this.look x changes for XP
eight Y changes by Y speed well instead
of x and y instead of X given Y speed we
have location and velocity I know I know
I got it okay here's what we're going to
write right location equals location
plus velocity right that's the same
thing instead of two variables each
getting changed by their corresponding X
speed Y speed now we have one variable
getting changed my velocity look that's
got to be perfect right ah there's what
could possibly be wrong with this I
think it's great I think this is how the
code should be let's run it okay now I
don't know if you can see this zoom
worked the operator huh plus buckle
underneath here the operator plus is
undefined for the argument types
processing quick or not Pete Becker
processing that cord IP vector it's
freaking out right what's happening here
okay so now we do need to stop for a
moment and go back to the board okay so
let's think about what the plus operator
means we know writing plus in code works
quite often x equals five plus two now
it works we get the value seven five
plus two we can even do something like s
if s was a string equals a b plus c d
what does plus mean when it comes to
strings
it means concatenation we get ABCD so
plus with numbers means add plus with
strings means concatenate now what if we
have P vector V and U and W for example
and I said W equals V Plus u so these
are P vector objects the thing is uh you
just can't do that
it's very sad I don't good said it would
be nice and there are some other
programming languages environments that
allow you to use this plus operator with
objects but processing doesn't know how
to say a vet P vector plus another P
vector any more than it knows how to say
a P font plus another P font or a P
image plus another P image so yes we
want to do addition but addition the
plus operator is reserved only for
primitive numbers and for Strings so in
order to
add two P vectors together we have to
use methods that are in the P vector
class those methods we can make a list
of them add subtract multiply there's
gonna be normalize dot product Ross
product limit oh my goodness are so many
we could go through the holistic and
walk over there we could look at the
list that's what the next video is going
to be about so the next video I want to
go through some of these functions and
what the math behind them means for now
let's just take a little step into
adding vectors so what was the situation
we had we had a x equals x plus X speed
before we had vectors and we had the
same for y now we think we have location
I'm going to shorthand these loke equals
Lok plus velocity well by the way
there's a shorthand X plus equals x
speed which means add X speed to X and
in fact the add method in the P vector
class we can say this lok at velocity
what this means is take this vector and
add it to that we're going to look again
at the details of addition in the next
video but you can kind of guess what
that means add the X of velocity to the
X of location add the Y velocity to the
Y of location Y because here is
locations X comma Y add the some x value
add some Y value and now here's the new
location so we add the velocity vector
to the location which is kind of like a
vector from the origin of like know I
can't move there's a wall here move this
wall and then we get our new location so
this is what we're doing now let's go
back to our code maybe I kind of feel
like you might have a question right now
you should ask that question in some
format that I don't know what exists
there you can if you're watching this on
Vimeo you can make a comment below
please I'll answer it that way okay so
here we are over here now we know that
instead of this line of code the cou the
correct thing we write is velocity add
oh sorry location dot add velocity
location dot add velocity is the same
thing as saying
add velocity to location store it back
in itself location equals location plus
velocity that's what we're doing now now
we run it and ah look at this if the X
location is greater than width or less
than zero that's where we reverse the
direction so all of that is for the
bouncing so here's the thing about
vectors for the most part what we want
to do I feel I feel they need to come
over here is do stuff like this we want
to deal with vector operations between
vectors we don't really want to get into
the components individually it's kind of
like that object oriented principle of
encapsulation we just want to drive the
car while we're driving the car we don't
want to be messing with the wiring the x
and y components are really the wiring
of that object but sometimes we can't
help ourselves we need to just do
something to the X like we need to just
know did the X part of this object's
vector get past the end of the screen
and this is a case where that's true
here in this bounce function so I'm
going to say if location dot width or
location dot X and I was so smart I
thought to size my window properly then
here what do I want to reverse I want to
say velocity dot x reverses direction so
I'm just changing everywhere here now
I'm just kind of it's not very exciting
but this is I'm just using the X and y
components of these vectors
appropriately and now when we want to
and certainly when we want to draw an
object we want to display it on the
screen that is a moment where we need to
access the individual components so all
the drawing functions in processing
generally ellipse rectangle line da da
da they all want an X location in a
while okay ssin right we can't say draw
an ellipse just with this vector object
although we could make a request that
those would all be implemented but I
don't know I think I like it this the
way it is it's fine
we need to access the individual
components to draw the object of that
location so I think we've gotten this
right we have our two P vectors in the
objects constructor we initialize them
in the move function velocity gets added
to the location that's what we do
frame every frame location changed my
velocity location change my velocity
location change my velocity and then
when the only other functionality we do
is have we get to the edge yeah we
should turn around we want to stay on
the screen that's what we want to do and
then we want to draw ourselves so here
we are this is a moment now I kind of
hope that something went wrong so we can
discover it I kind of feel like we got
it all right though but one of these
days something will go wrong and we'll
discover the problem I was a live in
real time but some we live for me I
can't with this system will stream by
the way so we'll do some live stuff
where we can almost feel as if we we
know each other enough together it's ok
if you don't want to get any closer I
would understand ok uh ok it worked so
um this is this marks the end of this
particular video what I would suggest to
you before moving onto the next one and
we sort of mentioned this in the
previous video is find a sketch of yours
sure you got one that's got X's and Y's
all over the place just try rewriting it
with vectors with the identical
functionality don't make it do anything
different if you get stuck you can
always just revert to saying wherever
you had X say the vector not X wherever
you had Y say the vector dot Y try to
use some of the functions in the vector
class like add if you can but you you
know don't worry yet we're going to go
through though go through all those in
the next video I really hope this won't
work because ok this is like a one take
one and I feel like it's not the worst
one we ever made
ok see you later uh I got to find the
clicker to stop good bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>