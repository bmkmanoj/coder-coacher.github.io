<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coding Challenge #10.4: Maze Generator with p5.js - Part 4 | Coder Coacher - Coaching Coders</title><meta content="Coding Challenge #10.4: Maze Generator with p5.js - Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coding Challenge #10.4: Maze Generator with p5.js - Part 4</b></h2><h5 class="post__date">2016-05-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_p5IH0L63wo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">part four of depth first search
recursive backtracking maze generation
algorithm this is the last part the
final part by the end of this particular
video I will have we will have finished
this exact simulation and be drawing a
full maze and hopefully you will come up
with some creative ideas and things you
could do with it so where are we so far
so this is what we've got so far if I
hit refresh you can see we have this
cell that's marching from marching
around the grid removing walls and
eventually get stuck because there's no
cell that it hasn't visited already
around it this is where backtracking
comes in
while it's marching around it needs to
keep track of where it's been previously
so when it gets stuck it could go back
to a spot that still had available
places for it to go this is the
backtracking aspect so so yeah so
there's a lot of pieces to this and
first and and so let's look at the
algorithm and actually see what it says
so huh look at this let's see what are
we done so far so choose randomly one of
the unvisited neighbors if I go to the
code and if I go to the part where we
are I've done that this is me choosing
randomly one of the unvisited neighbors
now push the current cell to the stack
this is where I'm - implemented this
video remove the wall between the
current cell and the chosen cell I've
done that make the chosen cell the
current cell and market has visited done
that so actually all that we need to do
is add this step number two and then
this other case down here for what we're
actually doing with the stack this is
actually gonna be quite easy and
actually writing the code a bit adjust
only add like four lines of code to this
program and suddenly it's going to be
working but before I can add those lines
of code what I would like to discuss to
you is what does this thing called a
stack and what do I need it for so a
stack is a like I have a little like
issue whereas I like fight like allergic
to the word computer science and if I
say and I get like a little bit
congested but stack is really kind of a
term from computer science so to speak
so what do I mean by that so if you're
watching this video you are probably
familiar with the idea of an array right
I'm sorry
I'm hungry I'm tired but I'm going
through with this right this idea of an
array is like a list of things and each
spot in the array has an index this is a
data structure it keeps track of a bunch
of things in a linear list each with it
index a stack is another kind of data
structure to keep track of information
and a stack is a data structure that
acts very much like a stack of things a
stack of paper you can imagine you in
olden times times of yore when people
had in boxes and out boxes that were
actually physical things you'd be
sitting at your desk and someone would
people would keep coming in and adding
things to your stack of paper so things
are getting pushed into the stack add it
on top on top of top now you then drive
to work and you see your stack of paper
what's the first item you're going to
work on the thing on the top the last
thing added to the stack that is
referred to as popping so taking things
out of the stack this is sort of a
strange idea the last thing in is the
first thing out this is the polar
opposite of this idea of a queue right
if there is a how to draw a tickets
booth right if there is a tickets booth
with a ticket sales person I want to go
too far with this and then you could
imagine a queue of people waiting in
line to buy tickets queue I probably
spelled that wrong but whatever the the
first person in line right the if you're
pushing if your people are lining up
kind of like pieces of paper piling up
on a stack is the first person to get
tickets right you would never sell
tickets to the last person in line but a
stack we're not using a queue in this
particular project we're using a stack
the idea of the last thing in is the
first thing out so how do you program a
stack well there's all sorts of
different ways we could do it but
honestly I'm just actually going to use
a JavaScript array because the
JavaScript array has a push function
which adds things to it and in fact I'm
pretty sure we'll find out we write the
code it also has a pop function and the
pop function allows you to pop things
off so even though an array has all
sorts of features like indexes and
things can be added and deleted for the
middle we don't we're not going to use
any of that we're just going to use an
array to keep this stack of objects that
we push in and pop stuff out so
hopefully that clears up for you if you
haven't heard about
stack before what that is and now let's
look at number two here push the current
cell to the stack let's add this to our
code so I'm going to go over here to the
code one thing I should mention is I
moved the cell constructor function to a
separate file cell j/s just to keep
things organized a little better so when
you go down with the code you'll see
that and I hope to sneeze let's see what
it has anybody make it through the rest
of this video ah so now I want to create
a stack so I'm just going to make it an
array and make a global variable called
stack and I'm going to set it to be an
empty array if I look at the algorithm
again item to push the current cell to
the stack let's go back to the code and
where do I do that
step two is right here it's not there
I'm going to add it step two and I'm
going to say stack dot stock stack stack
push current so there we go there's very
little code to write here push the
current cell to the stack I have done it
now let's figure out the next piece so
this here we need to deal with now
remember when do we suddenly need to
make use of that stack we're carving out
this maze we are i we are we are like a
digger thing going underneath the earth
and carving a tunnel and at a certain
point we get stuck we have to backtrack
and find a spot that we kept track of in
our stack to try going a different
direction so we want to go and use the
stack when we get stuck when do we get
stuck we get stuck if there are no
available neighbors remember this check
neighbors function returns undefined if
it has no neighbors that it can give
back to you so if next is not undefined
do all that normal stuff otherwise now
we're stuck let's go and make use of the
stack so what's the first thing that we
do oh but it says else if stack is not
empty right we can only use the stack if
it's not empty so here I should say else
if stack length is greater than 0 it's
an array so we can check the length is
greater than 0 that's how we know if
it's not empty what pop a cell from the
stack var cell equals stack dot pop this
is what we find out if
uh JavaScript arrays have a pop function
I'm like I know that they do it for
seizures here because I recorded this
video earlier but the sound didn't work
and now I'm redoing it you don't need to
know that because you're watching this
at some time in the future when robots
have overtaken you anyway and you're a
robot watching this hopefully not maybe
anyway pop a cell from the stack and
make it the current someone's in YouTube
then it comes to complain that I'm off
track but I'm back on track
pop itself or the stack and make it the
current cell a current equals cell right
and you know what am I making this two
lines of code for all I want to do is
basically say if we're stuck go to the
stack and we've got a new current spot
so there we go and guess what I'm pretty
sure that we've now made this work
because it's notice how it's not getting
stuck anymore because when it gets stuck
it goes back now it's happening so fast
it's sort of hard to see what's
happening but you can see that it's
eventually in the sound of still working
that it's going to revisit every single
spot now
I'm not going to add too much more to
this this is basically done and you can
see eventually it's going to find its
way back to the beginning and it sort of
solved the maze
now it's amazed that you could actually
work with and do other things with I
might if I were you trying to add some
stuff for this you know as an exercise
you might try highlighting the cells a
different color that are currently in
the stack you know another thing I could
do this really quickly just is I could
set the framerate again to something
slower and here now we might be able to
see like oh we might be able to like
pinpoint the moment it gets stuck and
goes back I'm watching it doesn't seem
stuck yet doesn't see how we're not
getting rut getting lucky here come on
get stuck get stuck whoo there's a lot
of room for it to go get stuck get stuck
get stuck get stuck just my luck okay it
probably it out it got stuck and you can
see how it's backtracking and going a
different way and now look it's
backtracking again moving along that
stack and finding a different way now
it's backtracking again so you can see
now you can see what it's doing so you
could crew slow it down to watch this
process you know you might sort of see
like how does this work
you know with a much lower resolution
and like a I mean this is kind of crazy
what I'm about to do is probably going
to run really slow so this is this is a
drawing problem like you
I could sort of generate this whole like
super high-resolution maze I mean you're
really good you know I might move to
processing for this and I could render
out a PDF of the maze and I could have a
website where people just log on and get
infinitely generated mazes sent to them
what kind of creative things could you
do with this in terms of color and
application and that sort of thing so I
hope you will continue to explore that
send me your questions in the comments
share with me things you make from this
but this I think really concludes I just
want to make this work in a very simple
way this really concludes the tutorial
on how to do the depth-first search
recursive backtrack er we know what a
stack is and all that kind of stuff
algorithm for maze generation I will
mention if you look at this Wikipedia
page there are many other algorithms for
generating mazes and if you look through
it and have some interest to implement
one of these share with me or write in
the comments that you would really love
a particular video doing a different
algorithm try it in 3d make your maze
happen in Minecraft I don't know
whatever you could think of please do
and let me know how it goes for you and
I will see you in some other video in
the future when I am hopefully not a
robot goodbye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>