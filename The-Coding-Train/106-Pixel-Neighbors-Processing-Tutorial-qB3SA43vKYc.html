<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>10.6: Pixel Neighbors - Processing Tutorial | Coder Coacher - Coaching Coders</title><meta content="10.6: Pixel Neighbors - Processing Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>10.6: Pixel Neighbors - Processing Tutorial</b></h2><h5 class="post__date">2015-07-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qB3SA43vKYc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so here's another important aspect
about image processing that we left out
in the previous video so what do we do
we had an image of a frog we processed
every single pixel and we copied that
pixel to our processing display window
and maybe we manipulated a block copy
writer we changed color
we did all sorts of things this is I
would say a pixel point processing what
we're doing is there's a one-to-one
relationship for this pixel change this
pixel for the next pixel change this
pixel for the next pixel change the next
pixel
however most sophisticated image
processing algorithms that you might
find in music photoshop sample Photoshop
or oh.what without image processing
actually process groups of pixels for
example let's say this is my frog pixel
my frog image and this here is my
processing window and let's say this is
the pixel I want to set here in my
processing window what if in order to
set this pixel I actually used a whole
bunch of neighboring pixels around that
pixel so that pixel is over here I'm
going to drawing here exactly but I
actually took all of the pixels in a 5
by 5 matrix around it and this the color
of this pixel is a function of all these
pixels combined a classic image
processing algorithm that you might have
used before is a blur what if you take a
pick on image and blur it making it
fuzzier less sharp blessing focus well
actually if you have resolved the pixels
of an area to set a particular pixel
that's a or algorithm it is making each
pixel more like its neighbors most
blurring it averaging its smoothing in
between pixels so this is actually an
algorithm and sharpening it is the
opposite taking each pixel and making it
different than its neighbors another
example of an algorithm is finding the
edges in an image so if I have a
silhouette of a person this looks
nothing like a person I don't know some
weird ghost alien thing and I want to
find the edges of this person well let's
say this person was wearing a black
shirt
much like the my black shirt here how
would I find the edges well if this is
if you're looking at an image of me the
pixels that are very different the white
pixels and these black pixels a pixel
BET's very different from its neighbors
is an edge right this pixel over here is
very similar to all of its neighbors
mixed pixel right here is quite
different than its neighbors it must be
on edge so finding the edges of an image
as to do with looking for pixels that
are very different from their neighbors
let's actually see if we can implement
this really really quickly in our Frog
example so if I come over here to the
Frog and if I look at this frog and what
were we doing here we were kind of doing
this threshold thing where we last word
well let me say let's up let's take all
this out and let's and let's take all
this that here is a particular pixel
location what if I want to look at this
pixel relative to the pixel to its right
or to its left or above or to below well
what would that pixel wait this is
location 1 another location might be X
plus X plus 1 plus y times width and if
you look at this what is the difference
here now I'm saying let me look at pixel
X plus y 2 X Y let me look at pixel X
plus 1 comma Y right here if I'm over
here and I'm in sub image if this is
pixel X so you can't see that if this is
pixel X comma Y then this right here
right next to it is
so X plus 1 comma Y so of course I'm
more sophisticated algorithm might look
at X plus 1 and X minus 1 y plus 1 1 is
1 X minus 2 and y plus 2 a lot of pixels
in a neighboring area but just to start
really simply let's look at this pixel
and the one next to it so if I'm looking
at this pixel and the one next to it I
can look at both of the brightness of
both of those pixels b1 equals
frog pixels loquat b2 equals frog pixels
look two cameras are always shining on
I'm gonna fix that
in the middle of this video click I turn
black for a second and I'm back and if
we could fix this book could have to
bear with me there's nothing I can do
about this right oh come back okay I'm
back to bed I'll edit that later okay so
now I could get a difference which is
maybe I'm just going to say the absolute
value of b1 minus b2 and let's set the
pixel of the window equal to that
difference now oops look 1 so look one
is kind of my core original location so
I want to set that individual pixel but
I want to look at it as a function the
value of that pixel is a function of two
pixels that are next to each other let's
run this and by the way we've got this
sad very difficult really traumatic
array out of bounds exception this error
is something that will happen to you as
soon as you start doing the image
processing work what happened I tried to
look at investigate think about
accessing a pixel that doesn't exist
because at some point I was at a pixel
that was all the way in the edge of my
image and I tried to look at a pixel one
more to the edge which doesn't exist so
there's lots of strategies around this
problem but right now I'm just going to
do something
kind of simple we just say let me just
look at all the pixels all the way up to
one before the edge and that will kind
of deal with this problem but you can
think of other things going to pixels
around around there's lots of other ways
you could approach this problem but now
we can see this is the perfect
demonstration but I kind of really got
something here the the fraud by the way
was a little a lot of similar colors so
I'm getting a actually not exactly
getting when I expected that I guess the
Frog actually didn't have a lot of
similar colors it's very different
because we're getting we're getting a
very bright color everywhere there
because there's a big difference between
all the pixels inside the Frog and the
background is very very noisy
so there's a couple of things were
noticing here one this isn't such a
great algorithm I'm only looking at the
pixel to the left coming to the right
and to the left if I looked at the pixel
above and below and diagonally I might
be able to determine a lot more about
the image the other thing is this
particular image had a lot of toys in it
so either so much noise that I'm not
really getting accurate edges
maybe blurring the image first and then
looking at it looking for the edges
might help but in the end I'm actually
visually able to see something here but
this was the exact demonstration that I
was hoping for but true look at this
maybe try to oh you know what the
problem is
ah I'm gonna have to rerecord this video
but I just do here I did the thing that
I did originally which was I just looked
at the arbitrary difference between the
giant integer values you're all all
watching this like yelling at the screen
like wrong what I wanted to do was look
at the brightness of each one of these
pixels just forgot right I want to
compare their brightness of each one of
these pixels this is going to give us
something much much more oh yeah it's
very hard to see here but actually this
really works I'm really getting the
edges I'm really getting the edges
because the edges of those front of the
Frog that's where the pixels are most
different and in fact if I want it to be
a bit more thoughtful about this I might
just come up with some threshold like if
the pixel values are at all different
then draw black otherwise draw white and
now if I run this
you can see I'm really starting to see
that contours of this rock thing this
could be a better demonstration so here
we're seeing just a really basic
algorithm for looking at the comparison
between two pixels and binding the edges
now again this was a very simplistic
approach most of the time what you want
to do Oh tell that working this camera's
not even on most of the time what you
want to do is look at a whole collection
of pixels and in fact this is so that
you might not be aware this is right
there
bring on photoshop for a second if I go
into Photoshop and I've got my straw
loaded in here and I go to filter other
custom what I'm actually what you're
actually seeing here is and this is hard
for you to see is these are the weights
of a pixel if I want to make a pixel on
the center much more important than once
a year
that's a sharpening I want the pixel to
to be more different than its neighbors
I actually uh reap books I created very
quickly a blur and you can see here this
this would be a blur what if I take all
the pixels and a huge neighboring space
add them all together divide them by 25
as an average and you can see here that
this frog is now blurred I'm going to
uncheck and check the preview we let me
kind of zoom in here you can see over
here look over here the vlog is blurred
that frog is not learned so this
particular algorithm is blurring that
image by adding all the pixels together
and in fact you know I'm not going to go
through the code for this in detail but
we can look at this right here so if I
look at this particular example this
this particular example you can see here
if i zoom into it that the pixels inside
this rectangle are being lured and the
pixels outside or not you can see it
kind of on the arm above me
as I move the rectangle over I'm kind of
blurring out that pixel of those pixels
if I go back to the code and I put in
these weights this is actually a
sharpening again I want the pixel on the
center to subtract the pixels around to
be more different than the pixels around
it if I run this this is a bit more
obvious we can see that this is the
sharpening not image now there's a lot
of noises happening here I'm very zoomed
in but you can see how this is changing
the quality of the pixels so comparing
the pixels and its neighbors this idea
of looking at a pixel and looking at the
one to the right of it or above or below
is an important powerful technique in
image processing and we could just you
know this video could go on for hours
and hours now just look at every image
processing algorithm that Photoshop uses
is that any one uses and we see this
technique in a lot of them what I guess
what I'm saying here is see what you
could do with this idea what if you what
if you tried to recreate this edge
detection algorithm and actually use
more than just the two pixels that are
to the right and left what if you stick
CIL's above or down what if you actually
were able to interactively select
whether you're looking at the comparison
of vertical pixels or horizontal pixels
there's lots of possibilities that you
might explore and try here actually
something that I didn't do which I think
would be really interesting to see which
I would like to maybe add to another
video at some point now that I think of
it is what happens when we're processing
the pixels this pixel goes here this
pixel goes here once I start going to
move the pixels around what if I take
what if every time I look at a pixel I
actually offset put it in some like
random location near where it originally
wants this will actually almost like a
watery effect as the pixels start to
like look like they're dispersing or not
this is this is a idea that I would love
to demonstrate so I think this video is
already quite long so I'm not going to
do
but you can take this as an exercise and
I'll try to add one in some point to
that does this so here are the things
that are missing I'm going to upload
these so if you're watching these in the
first pasture this is where it's going
to stop but what I want to get to in the
next video number one I want to look at
moving the pixels around which will also
be relevant to the idea what happens if
we just sort of like forget about this
way of doing things that I really like
on this pickle is 1 to 1 pixel idea what
if I just have a system where I'm
drawing you know patterns and shapes of
the screen maybe I draw up a grid of
rectangles or draw random circles
everywhere I draw swirls swirly spiral
all over the screen what if I just use
an image as essentially a database of
color so what if I could look up colors
to inform a drawing algorithm create a
painting from an image that's one thing
I want to look at and once we've done
that the next piece that I look at is
what happens when these images aren't
static what about getting images from a
camera that are changing live real-time
images or images from a movie file so
those are there's like three more three
slides for more videos that need to come
to kind of finish off all these concepts
ok so send me your feedback I would be
happy to add more things to leave things
redo things or just go away
ok so I hope you enjoy your evening
night
you're just like eating some cereal at
home that's something about you go and
enjoy</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>