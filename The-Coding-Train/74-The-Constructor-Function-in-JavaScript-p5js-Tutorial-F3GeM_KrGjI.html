<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>7.4: The Constructor Function in JavaScript - p5.js Tutorial | Coder Coacher - Coaching Coders</title><meta content="7.4: The Constructor Function in JavaScript - p5.js Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>7.4: The Constructor Function in JavaScript - p5.js Tutorial</b></h2><h5 class="post__date">2015-10-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/F3GeM_KrGjI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this video is about the constructor
function in JavaScript now this is a
tricky and confusing topic it relates to
how you generate objects and it's a
different style than what I showed you
in the previous video with a literal
object being made into an array and in
fact it's probably and I hate to use
this term a slightly better style the
more flexible style it will afford you
some possibilities and get past some
limitations that are here so let's first
talk about why do we need this other
step or even talk about what that other
step is the constructor function so
there's a couple reasons so this example
first of all it has an array at empty
array in setup it puts four objects into
the array there are those objects and
then in draw it calls functions on those
objects display the objects move the
objects so where does this break down
there's a couple ways this break down
number one is it's a lot of code here
and set up this is a simple object it
just has an X or Y and two functions but
you could imagine you could have an
object with 10 properties 15 properties
5 functions 6 functions I don't really
want like all this code inside of this
loop and setup it's sort of hard to
manage you keep track of so number one
it'd be nice if we could move this
somewhere else it kind of if you're
thinking like I know I could move it
into another function that's basically
what we're going to do and move it into
a special kind of function called a
constructor function the other reason
why you might need a constructor
function is you might want to make new
objects in different places in your code
so you might want to start this program
with 4 objects and then every time you
click the mouse you get a new object and
so you need the literal object in setup
when you make 4 and then you also need
that in Mouse press when you make
another one so you suddenly this code
that I'll point of it was to not have to
write it again because it's inside a
loop what if you need to do it later
somewhere else in the code if you have
the constructor function that
constructor function is reusable so the
purpose of the constructor function is a
special function to make the object for
you so it's really like this is making
the object but I want to put that
somewhere else
essentially what you're just
reorganizing the code and so new
possibilities will open up so let's look
at before I even get to that let's look
at what that does to the code so pretend
that this all this code didn't need to
be here and in fact I'm going to like
hit a lot of carriage returns go far
down here and leave it down here and
to comment it out so that it's not
affecting anything and I'm going to come
back up here and if you if I had a
constructor function I would be able to
say something like this new bubble this
is new syntax with the keyword new what
the keyword new it means is hey
JavaScript make a new object what kind
of object this bubble object how do I
know what a bubble object is I'm going
to write a special function called
bubble somewhere else somewhere else
that will explain what a bubble object
is generate it make it put it here so
that it goes into the array so and
what's wonderful about this is this
beautiful lovely clean sort of like
succinct syntax like all of the code for
the object is now somewhere else we can
see that the main program is just let's
start with an empty array let's put a
bunch of things in it and let's make
those things move around the screen and
do stuff and so with this all that's
left to do is define what it is to be
that bubble object to write this
constructor function that makes that
bubble object so how do you do that
that's the next piece so I want to come
over here to the whiteboard and hit my
button again oh come on button there I
am so when I come over here and talk
about that the syntax for that so what I
think a good way of looking at it is
okay so we know how to write a literal
object a literal object I'm going to
kind of squeeze over here to have some
extra room I'm just going to say var be
a little a literal object is a
collection of name value pairs
properties I have a property named X
with the value of 100 I have a property
named Y with a value of 50 I have a
property named display and the value of
this property oh it happens to be a
function and what do I do in that
function I draw an ellipse oh I set a
color and if I want to refer back to a
property of the object remember I have
to say this another property have to
save this X so this is the syntax that
you're familiar with if you watch some
of the previous videos it's what I've
used so far so I'm gonna draw a sort of
magical line here and what I want to do
is look at there's like a thing poking
me I'm gonna I don't have a lot it looks
like I'm in this big space here very
cramped camera light thing poking me
so over here what I want to do now is
look at how do I make this with the
constructor function so the constructor
function is a function just like any
other function in JavaScript so the
syntax in a weird sort of way almost
goes back to some of it you might be a
little more used to but with some kind
of strange other nuance and aspects to
it so to define a function in JavaScript
it's simply write function the name of
that function leave that blank for a
second if there are any arguments or
parameters parameters to that function
in parenthesis and open curly bracket
can you see that yes and a close curly
bracket so a constructor function is a
function just like any other function
however we intend to use this function
in a special case by invoking the new
operator so I want to say new bubble
meaning I want to execute a function
called bubble with the new operator to
make a new object so a convention in how
you name func constructor functions is
to name it with a capital letter okay so
so this is a function named bubble I've
named it with a capital letter simply to
note in my code that this is a special
functions that constructor function the
thing that javascript is looking for is
that new operator the thing that I have
over here it's going to invoke that
constructor function say hey constructor
function make a new object and just
convention wise so I could keep track of
what's doing what in my code I'm going
to capitalize that and name that would
be bubble capital B I've made this video
earlier and had no sound in it and I
really explain that much better in the
previous video no one will ever see I'm
gonna keep going something else I'm
going to do in this video is going to be
better I'm sure okay so now once this
function is triggered with the new
operator JavaScript says okay I'm going
to make a new object now the first thing
to do is say what properties go into
that new object this is where the
keyword this comes in again if I say
this dot x equals 100 what I've done is
the new bubble object that this
constructor has made attach the property
X to this bubble object so in the same
way that we added a property here saying
X colon 100 the constructor function is
making a new object and attaching X to
that particular object this object so I
can then also attach a Y to it and I can
also reduce the camera I can also attach
a function to it and I know this I'm
going to go off the screen here but you
so actually let me not design a screen
this is a whiteboard but let me actually
write this a little smaller so you can
see it this dot display equals function
so you can see now technical fail but I
just got to keep going here so this is
already my second try um look that's
that by the way that's the thing this is
the thing that was poking me just turn
okay so you can see how this maps this
is making a literal object make this
object B with an X with a Y with a
display this isn't a way like a template
it's a the object doesn't exist yet but
if you were to call this function with a
named bubble then an object will be
created with these properties X will be
attached to that object Y will be
attached to that object display will be
attached that object so literal object
it exists template idea of an object way
of generating the object when you say
new bubble the object is made and you
might think that at the end here you
would want to say something like return
this so once the object is made you want
to then send it back to where you wanted
to make right here I say I lost the
camera I'm going to have to remake this
video get tomorrow time I do here I said
new bubble I want this to evaluate to
that new object the new object here the
reference to that new object is the
keyword this the thing about a
constructor function is this is like
what's you don't have to say this its
inherent to how once you invoke the new
operator that that object will be
returned it's kind of unspoken it's you
don't have to say it happens
automatically for you so this is the
syntax one of the things you might
practice right at exercise that'll give
you at the end is take something that
you made in a literal object and try to
convert it to this constructor function
to text this is a really hard
using thing to explain and possibly
understand hopefully I'm doing a
slightly okay job so let's do that now
in the code itself
remember down here before I sort of left
my code I had for the literal object
commented out so now I can actually
write that constructor function so I'm
going to say function bubble and now
what are the properties I had an X and a
Y so I need to say this x equals random
0 2 with this dot y equals random 0 2
height so you can see instead of the
literal syntax I'm actually setting
properties attached to this equal to the
values it's sort of more like code being
executed line by line and then I can add
the display function and I can add the
move function and I left it space here
and then the nice thing is I can go and
grab these lines not these haven't
changed those functions are exactly the
same and I know I'm doing this kind of
quickly like if you're following along
you can pause the video and try to sort
of do this yourself I will upload these
somewhere and try to put them in the
description on YouTube or Vimeo or
wherever you're watching this but you
can see now let me put a little line
break here you can see now this is the
constructor function this is a function
whose sole purpose in life is to
generate an object when you say new
bubble that object is made it's stored
in the value this X gets attached to it
Y gets attached to it display gets
attachment move gets attached to it
unspoken at the end that object this
object is returned where where did I say
new bubble up here what do I do with it
I put it in the array boom boom I don't
know there's a bubble it pops but so
this function new belt now notice
interestingly enough I you know I hate
to do this to you but if I said this
this would not work right the
constructor function is a function like
any other it will be executed but all
sorts of things will break and not work
this only works JavaScript is looking
for that keyword new in order to know to
make this a new bubble object and attach
the properties to it so I put this in
here and I run it and we've got four and
again I've got the same magical thing
and you know I'll make 400 bubbles so
I'm running out of steam here so
hopefully this so this you know right
now all I did in this particular example
was take take the literal object that I
had in this loop up here and move it to
a constructor function so in the next
video what I would like to do is kind of
show you what sort of what what what you
could really do with this because now if
I have this constructor function I could
say when I click the mouse also make a
new bubble and how do I add this to the
array right so this is what we need to
look at I don't have to rewrite that
construct constructor function can be
reused anywhere in the code so this
won't work yet this is the topic that I
want to look at in the next video and
how do i maybe assign parameters to
arguments to it i want to make an object
at this location at mouse x at mouse y
so that's the topic i want to look at
the next video for now I would say if
you want an exercise for yourself go and
find something maybe watch the previous
video I made a little a literal object
in a loop take that literal object code
out of the loop write the constructor
function see if you can get to perform
exactly the same way okay so this is the
end of this particular video in the next
one I'll look at the function called
push an array function called splice
which allows you to add things to an
array and remove things from the array
so we can have a much more flexible
system okay and I'm gonna hit stop now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>