<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>7.6: Clicking on Objects - p5.js Tutorial | Coder Coacher - Coaching Coders</title><meta content="7.6: Clicking on Objects - p5.js Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>7.6: Clicking on Objects - p5.js Tutorial</b></h2><h5 class="post__date">2015-10-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DEHsr4XicN8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi so I've been working with this same
exact example in a bunch of videos now
the previous one all I did was take the
code for the bubble constructor function
and move it to a separate tab so we can
now look at it on its own and so what I
want to do in this video is figure out
how do I like essentially a handle what
to do if I click on each one of those
circles now you have this concept right
of events in programming and in
particular in JavaScript programming
event is this like fundamental idea and
boy am I going to make up several more
videos about events in particular when I
start looking at other elements to the
page that you might add besides the
canvas a button a piece of text so this
is kind of like foreshadowing stuff but
right now all you really have on your
page is a canvas you can time your
drawing circles in the canvas but the
only thing registering an event is that
canvas and really the entire page the
event that it's registering is a
mousepressed
event so if you write the function
mousepressed whatever code you put in
here will automatically be executed when
you click the mouse and what you want so
this event is something it fires for the
whole page what you would like to do I
think or what I would like to do in this
particular video is attach this event
essentially to each one of these circles
so this circle does something only to
itself when you click on it this circle
does something only to itself when you
click on it how do you do that so so
first of all I should say this isn't
just like magic or some automatic thing
like in JavaScript whenever you say
mousepressed things just happened when
you click the mouse no this is a part of
p5 so in the same way that p5 looks for
setup and looks for draw knowing where
to start the code and knowing where to
loop the code p5 is always looking for
mousepressed
behind the scenes to know what code to
execute when you click the mouse so you
might have this instinct which is like
Oh in your object right I have this
object over here I know I'll add another
function to the object called this mouse
press
equals function and this is like a
lovely idea I love that thinking of
yours that I'm sure you had in your head
it makes sort of sense like this is the
function that gets triggered when you
click the mouse on this object the issue
is there's nobody knows what this object
is or how big it is or what you want to
do when you click on it or how you check
if you click on it that's on you you
made this object so this nothing inside
the object can happen automatically it's
up to you to trigger this function in
the object yourself when you want to do
so and the only way to do that is by
triggering a function in the object in
mousepressed itself so I'm going to
write some code in here to kind of
illustrate this a bit more so down here
and draw you can see this is the code
for doing something to every object I
want to move every object and display
every object for every bubble move and
display it so in mousepressed what I
want to do is something similar I also
want to say do something to every single
bubble when I click the mouse in the
canvas do something to every single
bubble what is it that I want to do
check to see if the mouse is inside the
bubble if the mouse is inside the bubble
do something to the bubble that type of
thing so the question is what do I type
there well in this case I started with
this idea of oh I'll call the function
Mouse pressed in the object and while
that does make a certain amount of sense
I think it's a little bit tricky and
dangerous to do that because
mousepressed is this special p5 word
right p5 set up his special draw is
special mousepressed is special so while
of course you could name it Mouse
pressed inside the object I want to
emphasize that this is now no longer
part of p5 this is something that I'm
adding to the object itself so I'm going
to call this function clicked you know
whatever you come up with a better name
but so I'm writing a new again this is
my name that I made up I could call that
function porcupine if I like it just
doesn't matter but that doesn't really
make any sense although I do you know
porcupine sir I think they're a nice end
well they're very spiky and you might
get hurt but deep why should we be
against porcupines I am for porcupines
like let that statement be known
pointing as though clicked sounds like
oh I'm supposed to call it clicked it
you're not supposed to but it makes
sense for right now so this not clicked
is a function so that function is a new
function in the object so in the sketch
code what do I want to do when I click
the mouse on the page when I click the
mouse on the page I want to call the
clicked function for every bubble so I'm
passing that event to the bubbles mouse
press is the event that that p5 gets
automatically that happens for you so
this is now what I'm going to do is take
that event and trigger something in all
the objects so here I go bubbles index i
dot clicked
now let's think about what should I do
in that object so one thing that I could
do kind of quickly like I need to add
some code here one thing I could do kind
of quickly is just change the color of
the object so so here's a question for
you if the color changes what do I need
to change the color well as you see here
in fill the the color is hard-coded it's
always white with a little bit of alpha
so if that color should change
I need a variable and that color has to
be variable it has to change so I'm
going to add to the object another
variable I'm going to call it co l for
color and it can start as that white
color and I'll say fill color call
instead of color color is and again
another key word part of p5 up oh oh I
made the classic error right I cannot
help but make this error constantly over
and over again this not color this dot
Col is the variable part of this object
this bubble object so what do I need to
say there this duck Co L so if you get
that error a variable is not defined
inside an object it's probably because
you forgot the dis stop so I'm going to
say this dot and now I can see look
there we go
I have my white circles when they're
clicked then the color should change
what should change to I don't know I
like purple purple is my favorite color
I think this is going to be purple so
I'm going to make them purple so now
right what happens what happened the
sketch is running all the circles are
being drawn with this particular white
color when I click the mouse this
is triggered call that click function on
all of the bubbles and all of the
bubbles
their color will now be set to purple
there we go that's more pink whatever I
have a kind of purple on this screen I
got lots of screens all places and like
it surrounded by screens it's a little
weird but okay so I'm again I'm getting
off the topic here so I kind of got
somewhere right I did past an event like
anywhere I you know I could run this
again and again anywhere I click you
know all of those all of them are going
to turn purple that's not what I want I
want only the one that I click on to
change color how do I do that well for
so why is this happening I've done no
checking to see where the mouse is
relative to those objects right all I
did was call the function clicked on all
them and immediately set all of them to
that color so what I need to do is do
some sort of checking so how do I know
if you've clicked on something
so let's come by think we need a diagram
for this I think I've probably drawn
this diagram in another video but might
as well do it again it's relevant right
here and this is a circle this is the
center of the circle you can consider
its location X Y this is the radius of a
circle that's the half of the diameter
and let's say this is where I click the
mouse right here so one the piece of
information that I need is I need to
know how far away from the center of the
circle did I click the mouse this is
Mouse X mouse Y how far from X Y to
Mouse X mouse Y what's that value what's
that distance 4d and I really need a new
marker which I'll get for the next video
but how do i compute that well I'll tell
you you could use this thing called the
Pythagorean theorem and you could
subtract the X's from the wise and
square some things and do the square
root love to talk about that I love a
green theorem as well so what am I
bye-bye top 10 I don't know 5 I'm not
sure where it is in the top but um the I
forgot what I was saying so the point of
this here is that you could do all that
but p5 is a nice function for you
built-in I just got to
that new pen now I have never leave home
without his entire box of white forever
tricks if you're me and you'd like to
wait on a limit okay oh so much better
okay VAR d equals the distance between X
comma Y Mouse X Mouse Y so you can use
this function built into Phi p5 called
distance which will give you the
distance between those two points and
guess what if that distance is greater
than the radius you're outside the
circle if that distance is less than the
radius you're inside the circle so
you've clicked on the circle if D is
less than R so only if that distance is
less than the radius do I want to change
the color so we can come back here and
add that to this program right first I
want to get that distance between Mouse
X Mouse Y and what am I about to forget
I'm about to say this dot X this dot Y
this X this dot Y and I will give myself
a little more space here and I want to
say if the distance is less than the
radius so what's the radius for these
circles well you can see that I've
drawing them at 4848 being its diameter
its width its height so half of that
would be 24 if distance is less than 24
then change the color so here we go and
now I can click here look I'm clicking
around here nothing's changing come over
here click on the circle pink purple
pink purple right every guy moving mouse
very slowly and clicking I could do all
these so each one of these is changing
color now there's a couple improvements
that I would suggest making to this but
I will leave that for you if you're kind
of following along and trying to do some
exercises with this one
is that I would not leave this as 24 and
48 I mean it makes sense at this point
that you have a variable to describe the
size of your circles so this diameter
this dot radius whatever you want to
call it or think about it I would add
that to your code and use use the
variable here and use the variable here
other thing you might think about as a
little bit of a tricky problem is right
now they're all the exactly the same
color so every time you click on it you
could get
color or each one could be a specific
color or how about it changes its shape
from a circle to a square you know what
else it grows it shrinks what else could
you do for when you click on it they
don't move they stop moving when you
click on it try to think of some other
feature besides just changing the color
and try to add that so hopefully this
gives you a sense of if you know all
that p5 is giving you is the moment you
click on the canvas and all that you
know is that you clicked on the canvas
and you know where you clicked on the
canvas but those objects are your own so
if you want to figure out if the objects
were clicked on it's up to you to write
your own code inside the object to make
that determination now later when we use
some other elements on the page like
buttons or sliders or other kind of Dom
elements what's dumb I don't know you
know Dom is that a person and my friend
named Dom it's really not friends I mean
I don't want to be mean or anything but
the Dom no no Tom this is Vichy I don't
know it whatever okay I'm losing my mind
here so the point is you're there's
gonna be other ways you're going to see
that we can attach events to specific
items on the page which is a little bit
different to how we're kind of in our
code attaching events to these things in
the canvas
okay I'm really forcing the jokes in
this video I got to just let them flow
more naturally I thought these videos
are supposed to have jokes that's like
okay um goodbye I'm gonna see you the
next this was 12 minutes long which is 2
minutes too long because I rambled about
somebody named Dom which it really
doesn't make any sense okay talk to you
later</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>