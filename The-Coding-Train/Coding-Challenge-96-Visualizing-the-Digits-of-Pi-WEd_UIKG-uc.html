<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coding Challenge #96: Visualizing the Digits of Pi | Coder Coacher - Coaching Coders</title><meta content="Coding Challenge #96: Visualizing the Digits of Pi - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coding Challenge #96: Visualizing the Digits of Pi</b></h2><h5 class="post__date">2018-03-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WEd_UIKG-uc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and happy pi day part 2 I'm gonna
do another coding challenge and this
coding challenge will be about
visualizing the digits of pi so I'm
gonna use a file that I've prepared of 1
million digits of pi I also will include
links in this video's description to a
file with 10 million digits and a file I
think that has a billion digits I can't
remember which one I found but various
people have posted files with a lot more
digits that I'm gonna use so you might
be interested in trying it out with even
more digits cuz boy let's just make as
many digits as we can now this is
inspired by two artists I'm sure I'm
gonna pretend I'm Paula Gees for
mispronouncing the names but Martin
Chris Nowinski and Christian ba ba SIL
who have made Christian Ile Elise faasil
who have made a whole lot of beautiful
images visualizing the digits of pi so I
encourage you to check out this
Washington Post article I'll link to
that there's also a wonderful
numberphile video called the beauty of
Pi or something like that that I will
link to that goes through some of their
visualizations I'm gonna try to do
something really simple so let's get
started by loading those digits so first
what I want is I actually want to have a
string because I want to take all the
digits of pi and put them in a string
although ultimately maybe I'll break
that into an array of integers but
that's how they're gonna come in they're
coming in from a text file so I'm gonna
call it pi just P I lowercase I don't
want to say P I uppercase because that's
a built-in constant in processing let's
just arbitrarily have a window that's
400 by 400 then I'm gonna say pi equals
load strings so load strings is a
function that's part of processing this
is processing by the way a Java based
programming environment that what it
actually does is it loads and I have a
file it's right here PI - 1 million dot
txt you can see those are a lot of
digits in that file
so I just need to reference the file
name here we go file name now what this
actually I'm getting an error here and
what is that error that error is type
this match Java dot blank string bracket
bracket does not match with Java dot
laying dot string the reason why this
doesn't match is the processing load
strings function takes in your data into
an
Raye and this is actually often quite
useful especially if you have data in
multiple lines because it takes every
line from the text file and breaks it
into an array but this text file just
has one line so I can actually just take
zero just the first element of that
array and I'm gonna say print line pi
just to see if this appears in the
console oh boy
I'm gonna freak it out because it should
be a million digits there let's say PI
dot length to make sure I have a million
digits oh oh I forgot in the Java length
for a string is a function I was like
whoa I'm so used to programming in
JavaScript in Java length for the string
as a function I'm gonna say dot length
and there we go I've got 1 million
digits of pi we're cookin here now we're
cooking okay so let's actually break
that into an array so let me make an
array called digits which has 1 million
spots in it and I wonder if actually
actually I don't need to initialize it
because I think I can say string call it
s digits equals PI dot split and if I
give it know if I say split with no
delimiter so this is like splitting the
string but splitting it based on no
delimiter this should give me an array
with a million strings in it so I should
be able to say let's just see s digits
not lengths this is an array so with an
array I don't need the parentheses
because it's not a function it's
actually just the property of the array
let's look at that 1 million 1 million
yeah so I've got a million and now I can
and then again this is not necessary the
most efficient way I can actually just I
think processing has a function called
int which will just convert that array
entirely into integers so now if I say
print array and I probably am going to
overload the console here but I'm gonna
do it anyway I'm gonna hit save and I'm
gonna run it I now have a look at this I
am now printing the entire million
digits of pi into the console just try
loading the bill
digits and pretty good the console see
how long that takes what am i up to I'm
gonna get to I'm in gonna get to a
million before I finish talking there we
go
you can see on that last digit there is
one okay so now I have all these digits
what can I do so many things right I
could just fill the screen with all the
digits and I could be surrounded by the
digits of pi
now I mean either way I almost want to
stop this now and say hey be creative
make something I think what I'm going to
try to do is visualize the frequency of
the digits so let's just actually make a
simple line right let's say there are 10
digits so I'm gonna go I equals 0 so I'm
gonna make I'm gonna make an array
called counts and has 10 spots in it
okay and so and then I'm going to also
have an integer which is like current
digit which will equal zero so the first
thing that I actually current index I'll
just call that index because what I want
to say is current digit equals pi digits
index and then I'll go to the next index
I got to worry about when I get to a
million Bell deal with that later right
so I can look at the current digit then
I I have made something called counts
already and I could say counts current
digit plus plus so I'm going to increase
the count for each current digit and
then what I will do is let's just draw a
little let's go let's start with x
equals zero
I say let's use I I equals zero I is
less than counts dot length I plus plus
and I could do a little math here I can
say the width is the width of the window
divided by cats length and so that's X
is going to equal I times width and Y is
going to equal just a height divided by
two so I'm just going to draw something
in the middle how about an ellipse and I
probably should offset it by half the
width so X comma Y and I'm just going to
draw some circles oh boy let's get rid
of that console that bit line that's
going
be a problem apologies everybody and I
probably should make a smaller file data
file to work with while I'm developing
this but you can see now I just got a
whole bunch of circles now what I want
to do is actually let me make the size
of the circle the size of the circle
relative to the the number of digits
there are so counts index I why is that
giving me an error float does not match
with int that's fine let's can let's
make this an int so the more times oh
this is this should be an int that's
that's my problem the index into the
array has to be an int I don't know why
I put a float there this can be a float
because it can convert it so now if I do
this what we're seeing is every time it
finds one of those digits it's growing
that circle now they're just going to go
bigger and bigger and you can see well
the distribution is somewhat even have I
really discovered anything interesting
here I'm not so sure let's put these in
the path of a circle that'll be more
interesting so first of all let me give
this a background here and let's think
about this so okay so let's actually
make let's think about polar coordinates
for a second so I'm gonna say angle
equals map I which goes from zero to
count length two between zero and two pi
pi is appearing now right I want to get
an angle all the way around a circle and
then I want my X to be some radius so
like let's say let's say 200 in this
case 200 times cosine of that angle and
this is me converting from polar
coordinates an angle and a radius to
Cartesian coordinates I have a video
about that that I will link to if this
is unfamiliar territory to you y equals
200 times sine of that angle
so and then let's also translate
to the middle of the window because I
want to I want to offset everything from
the center of the window and let's take
a look and see what this gives us so now
you can see I have now put them all
around them this is this is this is
digit 0 1 2 3 4 5 6 7 8 so I've I have I
have normalized in the past 0 so I don't
know if this size is really that
interesting one of the one of these
artworks if I scroll down here actually
what it does and this it doesn't in a
more sophisticated way is it's
connecting digits to the next digit that
would be super interesting to try let's
try that so I actually need to look at
the next digit in this case right so I
don't need to worry about this counts
stuff I actually don't even need to
worry about this loop thing ok hold on
let's let's figure this out let's so let
me save this I'm gonna save this as pi
day 3 because I'm gonna I'm gonna rip
this apart now for a second so let me
let me take this out let me get rid of
all this count stuff and let me say
digit equals digits index and then let
me say next digit equals digits index
plus 1 so I'm going to look at each
digit and the next digit now what I'm
going to do is I'm going to say angle 1
equals and I might as well use the math
function digit which goes between 0 and
10 between 0 and 2pi I could pre-compute
all these locations angle 2 is next
digit so now I just need to do that
polar to Cartesian transformation again
thing again I'm going to say 200 times
cosine of angle 1 y1 equals 200 times
sine of angle 1 I'll do the same thing
for x2 and y2 sine of angle 2 cosine of
angle
and now what if I draw a line from X 1 X
2 to y 1 y 2 so this is me looking at
every digit the next digit mapping those
points taking those points around the
circle and connecting them let's see
what this does
ah beautiful guess what the default
stroke for a line in processing is black
so let's make this stroke 255 okay so
this is working I think let's let's make
the window a little bit bigger so that
there is let's draw a nice
let's put move background to setup and
let's draw a little circle also so let's
say stroke 255 let's grab the translate
here also and let's say no fill I just
want to draw a little circle so we can
see that path and I'm going to say 0 0
200 200 that 200 should definitely be a
variable and let's try this again oops
so the size of the circle is 400 400
right because it's the width so what
have I done wrong here why are these
points around a square pattern the line
function oh my goodness
look at this
probably everybody has been yelling at
me when you watch this whole video the
lines are totally the wrong place x1y1
to x2y2 the line function takes the
first point and the second point and
this is all messed up ok so now let's
run this again there we go so now you
can see that I am filling up the space
now honestly all the kernel looks like
is everything's connected to everything
which of course is the case so maybe
what I need to do is think about color
think about blending think about those
positions there so but you're seeing
here some interesting possibilities here
so I haven't really made anything so
beautiful that wasn't the point of me
making this video the point of me making
this video was to show you how
to load all the digits of pi how to
iterate over them and how to start
thinking about drawing based on them and
if you look through and read this
Washington Post article or think
creatively on your own I am sure you
will come up with your own PI drawing so
please share pi train no hashtag pi
train on twitter go to the coding trade
comm and submit your there's a there'll
be information there at the page for
this coding challenge of how to submit
your version of it share with me on
twitter share with me in the comments I
would love to see your visualization of
all of the digits of pi yeah so in the
chat I'm being told oh add some
randomness a little bit of randomness to
those locations that would certainly
help I guess I could do that before I
leave I mean I'm not going anywhere but
like I could and Gaussian random this
might be nice but like what if I just
say oh tonight it's a sorry let's add a
little bit of randomness each time
actually the randomness should be in
between whatever the the difference
between each angle is so hold on the
difference between two angles is two pi
divided by ten so I want to pick
something random in between there let's
try that let's try that just to get a
little Sun thing and then let's make
this stroke wait stroke let's give it
like some alpha and now we can see I
don't know whether I've made anything
better necessarily but but you can see
this is like a variation on this theme
so you you the viewer of this video are
a more creative visually talented person
than I am that I am sure of so I don't
want to go too far this I'm not adding
any color I'm not being thoughtful about
those positions the circular idea is
just one idea a grid is another idea
somebody suggested making a skyline
based on the digits of pi there's so
many designs that you could think about
making based on the digits of pi and
another thing that I'm going to do in
the neck
video is look at how to think about
scale so this is me just making it in a
processing sketch but what if I want to
it does kind of look like the moon which
is pretty interesting what if I want to
render out the digits of pi to a giant
high-resolution poster so I'm going to
look at that in the next coding
challenge</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>