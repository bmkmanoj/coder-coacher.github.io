<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>I.5: Perlin Noise - The Nature of Code | Coder Coacher - Coaching Coders</title><meta content="I.5: Perlin Noise - The Nature of Code - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>I.5: Perlin Noise - The Nature of Code</b></h2><h5 class="post__date">2015-07-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8ZEMLCnn8v0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay here we are again we are at a very
exciting moment we are so close so close
to finishing with this introductory
section where I feel like I'm not really
in control and maybe I'm screwing this
all up but soon we're going to be
getting to vectors and vectors of the
place where I think we'll feel
comfortable and we'll sort of be on a
directed path knowing where we're going
to create these on rich motion
simulations and processing but before we
do that there's an important topic that
I think is actually probably the most
important of all of these kind of
beginning introductory topics about
random numbers and that is Perlin noise
perla noise is going to allow us to
create a randomness in our code that is
smooth that has a more organic feel to
it that's going to allow us to do a lot
of a lot of us create a lot of things in
processing that feel a bit more natural
or that's really just what I wanted to
say try to come up with the right words
I should stop and restart but I'm gonna
keep going
okay so Perlin noise what is Perla noise
first of all Perlin noise is named for
Ken Perlin who if we just broke through
this wall and kept going and broke
through another wall and went into the
next building we would find Ken problems
the professor here at NYU in the
computer science department and he
developed Perlin noise I believe while
working on the film Tron somebody
correct me and write nasty letters that
are getting this all wrong
in in the agency in fact he won a an
Academy Award for his his work in
computer graphics and the purlin noise
so Perlin noise was originally developed
to create procedural textures for 3d
models in computer graphics meaning okay
if we want to have a vos that has a you
know it's remarkable like texture to it
would you have a Vaz with a Barbera like
texture I'm not sure do we need to hand
create that with with through handmade
techniques or can we create an algorithm
that will make that texture procedural
now how does it do this and what is what
what are we really talking about here
well first let's think about this moment
of time for a second this moment this
idea of time let's think about time and
random numbers let's say this line
represents time and time is moving along
this is the beginning of time this is
the end of time
we're somewhere in the middle there I
suppose time is moving along and let's
say we pick a random number at any
moment in time okay I'm not going to be
able to do this because I'm a human
being and I'm just destined for pattern
but you could imagine it's going to have
it's going to be a it's going to look
something like this it's going to be
this graph that makes no sense at all
that just looks like a lot of squiggly
randomness all over the place any random
number that we pick at any moment in
time has no relationship to the previous
frame a number that we picked or the
next random number you pick there's no
smoothness here so what does Perlin
noise look like well if you think of
Perla noise over time it might look
something more like this
isn't it soothing and relaxing lolling a
nice little graph there I know I don't
know if I'd how well I drew this but
this is randomness in that Utes random
you can't predict is going to go up it's
going to go down it's going to go about
a plot down a little bit but yet there's
a smoothness to it there is this idea
that the curer and a number over here is
related to the previous and related to
the next ones random numbers change
slightly over time this is a very
powerful concept if we can pick random
numbers in this fashion then we could
have something organically grow and
shrink randomly but in a nice kind of
almost breathing organic like web music
organic way too much but you can see
what i'm really trying driving at this
has a more natural quality to it than
this and perla noise is something that
you know in a way I was saying earlier
that randomness is this crutch hello I
don't know what to how to make all my
variables it just make them all
randomness my crutch my personal crutch
in life is I just make everything with
Perlin noise it's random but it'll be
smooth so people will like it so we need
to be careful here we want to use these
different algorithms in the appropriate
time for whatever it is what behavior or
what sort of expressive quality we're
trying to achieve in our animations in
our program but this is another tool in
our bag of tricks that we can use so the
question is how do we use Perlin noise
and what is what are the results look
like well again let's take let's take a
scenario this band by the way I'm going
to need a new one in a moment let's take
a scenario where what we want here is
our processing window and what we want
is to be able to
looking over there too much you need to
be looking this way more I should be
able to be talking about this in the
middle of the video okay what we want is
to put a circle on the screen and every
frame we're going to give it a random
location so we're going to say hey float
x equals random between zero and width
and we are going to draw a circle at
that at that location and we're going to
see what that looks like let's do that
together actually let's press this
button and come over here
so I should have pre-populated this with
setup and drop that's okay I can type
fast so background zero fill 255 I'm
going to draw a circle and it's going to
be at an X location in the middle of the
screen then it's going to be a nice
sized circle and X is going to be a
random value between 0 and width and
random noise thingy okay so let's run
this and see what we get you can see
here if I just slide all this over I'm
going to get used to doing this
eventually you can see you this is
randomness every frame it's at a new
random location and in fact we could
maybe see this a bit more easily if I
just slowed the framerate down to
something like 10 frames per second and
run it again you can see there's no
relationship we just have this dot
moving anywhere because it's random in
every frame so what do we want to do is
we want to start looking at code for
doing this with Perlin noise we want to
say float x equals noise something so
this is an interesting question now crap
a really botching that's okay this is an
interesting question now because with
random was very clear what the arguments
to the random function are minimum and
maximum range of randomness what are the
arguments to the noise function it would
be nice if I could just say 0 comma
width and if you type that in there it
actually would accept that and run
but it wouldn't work the way that you
wanted to the thing about noise is no
matter what this noise function is going
to give us a value between zero and one
Perley noise the noise perla noise
function in processing well always no
matter what you do give you a value
between zero and one
you cannot affect the range of what
comes out of that function we're going
to be able to affect it quite easily in
a moment using the map function of
processing to map it to a different
range but right now we're only ever
going to get a zero between zero and one
out of that function so what goes in
there well remember how we had this idea
of time well with randomness you know
there is sort of this idea of time maybe
there's a pseudo-random number generator
that's giving us a random set of random
numbers in sequence but time didn't
really play a part in our thinking about
it with Perlin noise we've actually
created a deterministic sort of
time-space continuum but in Ord star
trekt land up it's no sense we need to
give time as this argument now time what
is it for I like to sort of think of it
as in time in the terms of this graph
like do we want this random number at
this moment in time or do we want this
random number at this moment in time
what does that what does that mean well
what are we doing here well in fact we
just need to create a variable and so
let's kind of get rid of this stuff over
here
let's call it t and we could say hey
let's ask for Perlin noise at time
equals zero so let's go ahead and see
what happens if we add this now to our
code we know that we want if this is the
beginning of time we want Perlin noise
value at time equals zero and let's see
what that gives us I'm here I'm back
okay so we are now going to switch this
to say x equals noise and we said at
some moment in time I'm going to create
a global variable called T and we're
going to run this and where's our circle
well first of all our circle is at zero
right because Perlin noise only ever
gives us a value between zero and one we
can't get any other value but a value
between zero and one so we want to use
this function processing called the map
function boy I would love to just do
whole video just about the map function
and you know what I'm definitely going
to do that but right now I'm going to
kind of assume that that exists and
you've watched it and kind of just add
the map function kind of quickly so what
I want to do is remap the value of X and
to map the value of X which we know goes
between 0 &amp;amp; 1 and actually uh yeah
that's fine between 0 &amp;amp; 1 and I want to
map that between 0 and width and I'm
going to run this now
I lost my pen okay so uh so look the
circle still over there but we got let's
run it again and it's over there now you
can see we're going to get a random
value ah there it is right perla Perlin
noise space is seated the beginning of
processing sketch and we're getting the
noise value at the time equals zero but
it's not moving it's never changing
because the noise value time equals zero
never changes it's the same always in
forever more for that for this instance
of the sketch running so what does that
mean we need to do what we need to do is
move through time we want in our sketch
I said give me the Perlin noise value
here then here then here then here then
here then here we want all those values
in sequence so we get a sequence of
these smooth values and how far along we
move through time do we move to here to
here to here that's going to really be
awful so I'm gonna be just regular
reminisce or do we move very very babies
nearly like a little tiny crawling thing
okay very slowly we need to say T equals
T plus something some value to increment
should we go 0.00001 or should we do 0.5
whatever we could just try that and see
what happens so let's take a look over
here and see if we add that ok so we
want to say let's move through time
let's try T equals T plus one that makes
sense right well uh that's sort of more
just like randomness and I had that
frame rate let's take that let's let's
let it run fast 60 frames per second you
can see that's pretty much just like
randomness that T equals T plus 1 is
moving really big steps through time and
it really big step through time we lose
the fact that this there's this nice
kind of curve going on there and so if I
come back over here let's do something
much more reasonable and say T goes T
plus 0.05 and look at
this I wanted to appear I need to like
redo my layout here but we can see look
it's actually kind of moving almost more
smoothly now maybe that's too big so
high it's also running very quickly at
60 frames per second which so you can
see now we're getting this nice sort of
smooth motion because we're seeing this
sequence of random numbers it almost
looks like it's moving with some type of
rules almost some type of physics to it
we've just sort of accidentally created
this physics is random Walker so to
speak with Perlin noise and so this
would be kind of my exercise to you if
you want to try to try to take this and
kind of like link it to everything we've
been doing so far there's so many places
in all the examples will you'll be able
to add perla noise in but right now it's
a - you go to that random Walker and try
to make a purlin noise random Walker and
I'll include at some point I'll watch
these videos and see all the things I
say and then I'll put these links on the
video page or wherever it is - two
examples but you should be actually can
definitely find if you go to the nature
of code book github repo you can find
several examples of the random Walker
with a purlin noise so there's more -
Perlin noise one thing I just want to
allude to very quickly that you could
also do as an exercise is that right we
have time here in one dimension and
really this idea of time I just used as
a sort of way of us describing how
Perlin noise works but this is really
just one dimensional space right there's
a value there's a sort of string and on
the string or written lots of numbers in
one dimension but if we took that string
and made it into a piece of paper and
the number here is related to all these
other numbers that are near it so
instead of a number here just having
some neighbor to the left and right is
neighbors all around in two-dimensional
space so what if you could map noise
values in two-dimensional space to
height values in it in some sort of top
- pop top topology or if or pixel values
in some type of texture for an image
right you'll get this is where you can
start to get procedural textures for for
three-dimensional objects so that's
looking at two-dimensional noise and how
that can work it's kind of an exciting
possibility as well and we'll see later
on in the video series when we look at a
flow field for objects were dropped into
a space and moving
as if there's these currents and rivers
pushing them along word and create that
flow filled with two-dimensional Perlin
noise so yeah I'm a list here I would
like to make up to the Perlin noise
video which maybe we'll do at some point
as well okay
so this video is done you're gonna have
lots of questions and confusing things
and whatever will remake this video or
add some links and all this everything
will be okay everything's gonna be okay
right so deep they'll be okay goodbye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>