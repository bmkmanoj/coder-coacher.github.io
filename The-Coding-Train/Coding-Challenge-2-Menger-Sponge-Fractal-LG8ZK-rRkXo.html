<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coding Challenge #2: Menger Sponge Fractal | Coder Coacher - Coaching Coders</title><meta content="Coding Challenge #2: Menger Sponge Fractal - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coding Challenge #2: Menger Sponge Fractal</b></h2><h5 class="post__date">2016-04-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/LG8ZK-rRkXo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay welcome to another ten minute
coding challenge I have ten minutes to
program a meander sponge fractal now I
did spend a few minutes before I started
this video thinking about it so I'm not
totally starting from nothing I have
never actually programmed this before I
have seen it before
but basically what I need to do is make
a box and then what I need to do is from
that box make lots of other boxes and
then cut holes in them and then do that
again recursively over and over and over
again and I kind of worked out some math
I really shouldn't use the time but I
got to come back over here right if what
I did is thinking about that diagram
there are 27 all right one box can be
cut in in two slices by three you get 27
boxes that fill it and these are the
ones that I need to remove I need to
remove the the center ones on the top
and the center ones on all the sides if
this is the middle this is the top
middle and bottom bottom and then also
that very middle one so let's just see
if I can even make that happen
so how am I going to deal with this well
good thing that I'm in I'm working in
the processing programming environment
because the very least and I can see
that I'm not going to get this done ten
minutes so let's see what there I will
see how we'll see how this goes okay so
at least the first thing that I want to
do is draw a box and I should probably
add like PZ cam or something which is a
processing library that I can like move
the camera around but and let's think
about the Box should be in a window
that's 400 by 400 that box should be
let's make it 200 and see what I get a
box is not available right because I
need to make this P 3d because I'm doing
things in 3d now I think that's gonna be
a little bit of a problem
processing sketches take a little bit
longer to start up in 3d and I want to
say no Phil and I guess what I could do
just for the sake of argument is I could
do something like rotate X by an angle
just very very slowly always have the
sketch rotating so you can see that
there is actually a three-dimensional
box there so I have this thirty
dimensional box what I want to actually
do is make a box object because I'm
going to need to keep track of a box and
then that box makes other little boxes
would make other little boxes so I'm
going to add another tab here and I'm
going to call that tab box and I'm going
to make a class called box and for the
box
I need to have the location of the box
which I'll call a position and I need to
also have the size of the box and so
when I make this box I should give it an
X the y and z and it's position will be
a P vector at that XYZ and I should also
give it a size and its size will be a
size and then if I want to see that box
I need to translate by the position X Y
&amp;amp; Z and then I need to draw a box at
that location and I should probably also
include push matrix
okay I had a technical mishap and I lost
sound so I'm picking back up from where
I was and what I did is I made a box
object you don't need to remember you
yeah III I already got the box object so
what I need to do now is use a box
object instead of just hard coding a box
so I'm going to say box B B equals new
box and I just want it to be at the
middle of the screen with the size of
200 and instead of actually drawing a
box I can just say B Cho and this should
be exactly the same so now I have my one
box as a box so now what I need to do
and I'm always looking over I see green
bars audios is working Audio audio is
audio is working what I need to do is
take that box and chop it up into lots
and lots of little boxes so how am I
going to do that what I need to do I'm
going to make a function inside the box
object that has three four loops right I
want all the X's all the Y's all the Z's
it doesn't really even matter which is
which so I'm going to say 4 into X
equals 0 X is less than 2 and actually
I'm going to start at negative 1 I was
going say X is less than 3 but I'm going
to start at negative 1 and say X is less
than 2 because what I want is if 0 0 0
is the center I want to go negative 1 0
1 negative 1 0 1 for the X y and the z
axis X plus plus so I have this and then
I need to do the same exact thing with Y
Z how am i doing on time everybody five
minutes left
here we go Y Z right and then I need
three closed brackets right because what
I need to do now is make a new box and
the new box is going to be at these new
locations but not directly at X Y Z X Y
&amp;amp; Z times how big should this box be
well this box should have a new radius
which is the original box has the
original boxes radius not a radius to
the wrong word but size divided by 3 so
R divided by 3 so x times new R Y times
nu R and Z times nu R now there's
another thing I'm missing here each one
of these boxes isn't just isn't just
that size relative to 0 0 0 it's
relative to where the actual box is
and by the way it needs a fourth
argument which is the size of the box so
I actually need to offset it by this
box's current location so this has now
become quite I probably should have used
i j k and then I could have separated
this the three lines of code but it's
too late now you can see what I'm doing
here which is that positive x plus x
times new our pasta y plus y times new R
and posi plus Z times new R so what I'm
doing is I'm making I have three nested
loops that I'm making all nine boxes so
how do i what do I do with those boxes
what I need to is have an ArrayList of
boxes which is a new ArrayList
unfortunately a rayless require a lot of
typing and I'm going to say boxes dot
add um whoops I'm going to add all those
new boxes that I make and at the end of
this function I'm going to return it so
the whole point of this function inside
the box object is to no I'm just say hey
I'm a box I'm going to give you 27 boxes
that are inside me and give them to you
as a big ArrayList and now what I'm
returning is an ArrayList of type box so
let's now over here what I want to do is
I want to say ArrayList box
sponge so the sponge is actually going
to be an ArrayList of those box objects
and sponge add so it starts with just
one box and then in draw I loop through
all of the boxes and show them sponge I
called it sponge not boxes so this is
still the same exact program come on
give me a I got a what a
nullpointerexception
oh because I forgot to say sponge is a
new ArrayList boy what I wouldn't give
for some JavaScript right now array
would be so much easier to deal with
okay so now I've got an ArrayList with
one box in it now what I need to do is
in mousepressed what I'm going to say is
do exactly this thing again I'm going to
have the next gen
raishin a new ArrayList actually
ArrayList next equals what B generate
and then sponge equals B oh no next so
I'm going to take oh no no no no no no
no no BA sponge get 0 so sponge is an
ArrayList with one thing in it this has
got to change in a moment I got 1 minute
40 seconds left for do it we're going to
get clothes sponges it ArrayList with
one thing in it I'm going to get that
one thing out make a whole bunch of
boxes from that and replace the sponge
so if I do this and run this come on
give me a click boom I got 27 new boxes
that's really really good that's what I
want okay so now but this is no good
what I really want to do is start with a
new empty ArrayList
because I need to have more than one
generation right and what I need to say
is for every box that's currently in the
sponge give me the new boxes by
generating and then in next add all so
in java there's a ArrayList have a
function called add all where you can
add an entire ArrayList so if we look at
this particular algorithm here what this
is saying is for that when it's a new
generation make an empty ArrayList make
an empty array now for every box that's
currently in the sponge go and divide it
up into 27 take all 27 of those and add
it into the next and the sponge becomes
the collection of all those so now if we
run this click click click I'm just sub
dividing and subdividing and subdividing
and I could do this forever and would
probably if I did it one more time I
might even crash my computer which I
really didn't do when I only have 11
seconds left so I only have 11 seconds
left I'm not going to finish this 11
seconds but I'm getting myself a bonus
two minutes it's all about bonus time
here on coding rainbow so I give myself
a bun is two minutes let me click over
here I'm going to come back and now what
I need to do I've done it
I need to do now is remove the boxes
that are not part of this is a battery
this is why I lost my sound I need to
remove the center box out of all the
sides and the middle and you know I
could I cracked all the indices but
think about this somebody and I can't
remember who suggested this in the chat
on the live chat though this wasn't my
original idea I'm sure this is but if I
go back to this mender sponge you can
realize it
what is the same what about all of these
boxes that are in this that are being
removed is the same if any two values
it's x and y are in the x if any two of
the axes are zero it should be removed
right this has an X and a y is zero
maybe this has an X and a Z of 0 and
this has a Y and a Z and the middle has
the x y&amp;amp;z of the 0 so I just shouldn't
add a box if where's my code
where's my code I just shouldn't add a
box if ok if so there's got to be a
better way of doing this but let's just
oh you know what I could do is add up no
no I can't do it oh yeah this is a crazy
way of doing it
some equals absolute value of x plus
absolute value of y plus absolute value
of Z right so if two things are zero
it'll be what 1 or less right so I
shouldn't add the Box if sum is less
than or equal to 1 I should not add the
Box that should do the trick let's see
if this works I'm very proud of myself
for thinking that uh oh I get it the
opposite right I'm just getting those
Center ones that's kind of cool though
look at that nice little fractal shape
I've got going here that's kind of let's
see that's the inverse so I guess if
it's greater than one I should add it
right I just had it reversed so let's do
this
and we can see oh this is exciting oh I
ran out of my two minutes my bonus two
minutes it's fine look at this now you
can't really see that this is working
but I I think it would be helpful if in
show I gave it a
a Phil can I let's just try that I
should make it like a rainbow somehow oh
oh look at this
I nearly need to rotate by some other
I'm going to just do some random other
rotation just so we can see this better
you know let's uh what's can I give some
alpha here there we go I'm pretty sure
this is working but I'm not getting
exactly the visual effect was hoping for
probably cuz I just need lights I wonder
if I put some sort of lights in the
scene that would help help things oh
yeah there we go there we go
look at this there's the sponge one two
oh this is really exciting oh it did it
okay oh it's quite slow now you can see
but there it is
and I kind of want to get rid of the
stroke and I probably kind of want to
add peas and kam and I'm just going to
do this this there we go this is lovely
so you can see here we now have in
probably about twenty minutes in total
and all it said is done done the Menger
sponge in processing using p.3d using a
lot of ArrayList
i will upload the code that goes with
this example and there will be a link in
the description and hopefully I don't
know make something with this and send
it to me because this was very this was
kind of like some sort of birthing
experience that I just went through it
is four o'clock I have to hit stop over
here goodbye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>