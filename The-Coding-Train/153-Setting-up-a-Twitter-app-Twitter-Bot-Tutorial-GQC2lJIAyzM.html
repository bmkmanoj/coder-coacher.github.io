<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>15.3: Setting up a Twitter app - Twitter Bot Tutorial | Coder Coacher - Coaching Coders</title><meta content="15.3: Setting up a Twitter app - Twitter Bot Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>15.3: Setting up a Twitter app - Twitter Bot Tutorial</b></h2><h5 class="post__date">2015-11-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GQC2lJIAyzM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video I'm going to look at how
you can write code in a node application
to connect to the Twitter API using the
node package twit so it assumes the
previous couple videos where you've got
node installed
you've got the twit package installed
and now you're ready you're ready I'm
ready we're ready here to actually write
some code so the first thing I need to
do is actually make a JavaScript file
like this particular project just has
the modules directory in the package
JSON file so I need to add a file and
I'm going to call it BOTS Jas because
this is the file that I'm going to write
some code and I'm just going to make
sure that the bot is starting I'm just
going to make sure that this is working
so I'm just going to put a little bit of
code in the file to make sure I can run
it and things are happening so if I'm
here hopes you can see I did that
already clear clear clear I'm gonna say
node dot j s and I'm gonna hit enter and
say the bada starting you see here's a
little bit of an aside you might see
people when they're working with no type
NPM start so and I got all these errors
because it's like I don't know what that
is and actually it even added this like
error logging file so one thing here in
the package you can add under scripts I
could sort of assign a script to the
keyword start and I might say node bot J
s so here what I'm doing is saying if I
ever say npm start run nodejs and there
we go i can now say npm start and you
can see the same thing has happened so
for us this doesn't really matter so
much but the reason why i bring that up
is you might see it in other examples in
some places where you have to like once
you're going to like put your know thing
somewhere else you've got to use this
like npm start thing and quickly using
like Heroku for example which is a web
service I got off track there so edit
this out gonna edit that part out anyway
okay so what this is not any good like
the bot is starting in the body ended in
the bot didn't do anything what you need
to do now is actually use the twit
package so the way that that works I'm
going to come back here to my bot J s
code and I'm going to say var twit
equals require twit because I require I
require it twit I have a Twitter I
require twit being myself anyway so this
is like an import statement this is the
same thing that you might
say like in Java or processing import
you know something dot something dot you
know library file in JavaScript in the
index.html file you might have a
reference to another JavaScript library
like jQuery or p5 so this for node this
is like import the package import the
library import the module whatever you
want to call it twit so once I've done
that I could start making use of it well
how do I make use of it so the very
first thing you need to do is
authenticate with this o thing so and
you know this this could be a
complicated endeavor and one of the
reasons why I'm so happy to just use
this package is I don't really have to
understand what o is how it works
whoo yeah it's just I'm just going to
authenticate it just gives me some code
to do that so you know how do you find
that I've got this already loaded here
in the browser but you can see this is
the github repository for the TWiT
package you can actually just google
twitch node and it would probably get
this link right here and in the readme
file if I scroll down there's a lot of
information how to install it and here
you can see this is an important bit of
code so I'm going to grab this bit of
code I'm going to copy it and I'm going
to put it into my code so you can see
this is what I first need to do I need
to make a new Twitter object a new twit
object and I need to have a consumer key
a consumer secret and access token an
accent token secret all of these things
are secret code values that are tied to
the particular Twitter account that's
going to be associated with this
particular node app now there is kind of
a question here of how do you what
happens if somebody sees your access
token you're going to see mine for
example and I'm going to talk about at
some point in these videos how some
techniques for how you might keep those
hidden even as you open source or
publish your code but for the right now
I'm just going to like put all my stuff
right here in my code and I'll show you
other ways you might grab your access
tokens from another source at some point
so first how do you find out your access
tokens well back to chrome here I I am
logged in to Twitter through an account
this is like a test account that I set
up called A to Z ITP I teach a course
through ITP called programming from A to
Z
I'm not very good at titles of course
apparently and you can see here that so
one of the things that I would emphasize
is if you're starting to work with
Twitter bots or mess around with the API
you might make yourself a new Twitter
account with a new gmail address just so
in case like your API keys end up out
there you screw something up or Twitter
blocks you because you did something
tried to like post too often too fast
you're not like ruining your precious
special like personal Twitter account so
that might be one thing I recommend now
there is a lid of a trick to this or an
issue with this now this is just the
Twitter page where you need to go in
order to work with the Twitter API and
Twitter stuff from code is dev Twitter
comm so you can see here if I go to dev
Twitter comm I'm going to be I'm still
logged into my account but I'm on this
sort of developer page where there's
documentation hopefully tutorials and
lots of information what I'm looking for
is this particular link down here manage
your apps so art you know this is really
designed for somebody who's like I'm
making an iPhone Twitter app it's going
to be the best way to read your tweets
ever yeah kind of like thing but we're
just like we want to just look around
and make weird stuff happen on Twitter
so this this site is not just the most
friendly to us in that sense but but
what you're doing really in your node
program your little note program is an
app and so if I click manage your apps
you can see here I already have two apps
that I've been messing around with
you're going to need to hit this create
new app button because you're going to
have to make a new one now here's a
little bit of a problem
Twitter's not going to let you make an
app or get API keys unless you have a
phone number associated with your
account so you have a couple options
here number one if you could just use
your real phone number if it's
associated with another Twitter account
you could delete it from that Twitter
account put it with this one get your
app keys and then move it back or you
could sign up with a service like Twilio
Twi L IO or Google Voice that gives you
like a free phone number I think you
might need to be able to get text
message on the phone number I'm not
entirely sure but that's one thing
you're gonna have to be aware of now I
use the Google Voice number for this so
I can go here I can actually let's
create a new one oh no maybe
is bad idea I'm going to say YouTube
livestream test and it's just my
description is exactly the same my
website website doesn't really matter
I'll just put in Schiffman net because
you don't have a website associated with
this you're just messing around callback
URL something you can totally ignore for
now these are things for more other
scenarios that don't matter to us I mean
hit yes I agree and I'm going to create
my Twitter application and hopefully
this is going to work and you can see
now there's information none of this
matters to me the only thing that
matters to me is keys and access token
this is the stuff that I need in order
to put here because I want this node
application to connect to Twitter so I
just need those keys so if I go back to
the browser and make this bigger I click
on keys and access tokens you can see
there we go
consumer key API key that's this one I'm
going to copy it and I'm going to go to
my code and then put it right here next
thing I'm going to do is I'm going to
get the consumer secret API secret and
I'm going to get this old and you could
say ah but I need an access token and
access token secret now why is there a
consumer key why is there an access
token this has to do with other
scenarios of an app that you make that
might oughta Kate to somebody else's
account and all sorts of complex things
that don't matter to us we just need to
be like these are the four things we
need can I find those four things on
that page so I'm going to scroll down
and you can see like ah I need to create
an access token now here's the thing if
I really cared about you guys not
hacking my Twitter account which I don't
please hack it I think I would be
interesting I might as soon as I finish
making this video hit regenerate
consumer key and secret so that those
keys are no longer valid but in case you
publish your keys somewhere by accident
note that that's there and the next
thing I can do here is create my access
token so I'm going to click that button
and now as I scroll down that didn't
seem to work I now have a access token
so let me get the HOS access token that
denta and I'm going to put that here and
now I'm going to get access token secret
and I'm going to put that here like
copy-paste a
I was like I loved it was like
daydreaming here sometimes when you like
start copy-pasting you're just I was
like thinking about something else that
I have to do later and it's like a
potluck dinner or my son's school or
something we're eating kale salad like
what but they went back to this so now
access tokens secret okay so sorry now I
have a so I'm done now Twitter API
developer page you know you might want
to go back there read through the
documentation you search around there
might be stuff things that you need here
but I'm really done with this and I can
come back to what happened to the twit
twit github page I can come back to
tweak sorry this was going so well to
this page I can come back to the stuff
down here so I've done the work of of
creating this object that now connects
to Twitter now one thing that I might do
is just kind of like run my code again
like let's just see like do I get even
any any errors like let's just see does
this even work because in theory if
those access T's were invalid I would
hopefully get an error so I'm going to
run it again it seemed to have connected
we could sort of like check by like I
could get rid of that D there that
capital D and run it again so it didn't
give me an error so that's interesting
to see that I would love to like you
have to look further like probably when
I actually made the API query that
perhaps I would have a problem with an
invalid key okay sorry about that aside
there so now what do we need to do okay
so um so you know what I'm gonna I'm
gonna break this up into two video just
work over here and came back I'm gonna
get to actually like executing the
Twitter API functions in just like a new
video so you know you can stop this one
and move on to the next one
but let's take a minute now to just look
at this question of what if I want to
decouple the fact that all of this stuff
these keys are just in my code in my
node program because this can actually
be convenient for a lot of reasons
ultimately you might want to make a
whole bunch of bots and you just want to
have like your keys all in one file but
you're always pulling from or you might
want to like upload this as an example
code but not have the keys in it so and
this is kind of actually also like a
little extra tidbit of how things work
in node that I think might be useful to
you
so something that I can do is I can make
another file so I'm going to make a new
file I'm going to call it config dot J s
now I could call this anything that I
want but I'm going to call it config dot
yes because it's sort of my like config
it my Twitter config information and
something that I'm going to write is I'm
going to say module dot exports equals
and then I'm going to put brackets
hopefully I got that right I'm going to
check so what am I doing here something
that you can do with node is store code
that you might want to reference in
another file the main file is bot J s
but if I want to pull objects or other
pieces of code just like I'm using the
TWiT package so isn't way I'm making
myself my own little mini package for my
own code now all I want to put in here
is my API keys but but this is a all I
want to do is put my API keys in here
but you can actually put a lot more in
here so if I make a file called
something Jes put module dot exports in
it now I can go back to bot Jas and I
can take all of this and take it out and
I can put it in here so we can see now
that I now have made this module dot
exports into an object that has the keys
in it and now in bot Jas I could say VAR
config equals require config so look at
this this is now how I'm saying require
just like I said required twit because
I'm requiring the TWiT package now I'm
saying require config which is just
require the stuff that's in my config
das file and what's now in this variable
if I say console.log config and I run
this code ah it's a cannot find module
config so I knew I missed something
there so it has to do with the way the
paths are set up it's looking for like a
folder called config and really I just
have a JavaScript file called config so
I could fix that I think by saying
dot slash which is like go up a
directory and then look for configure on
something like that
whatever it is it just I think it'll
just work and I'll feel happier about it
so now I can go back and try that again
and you didn't work oh oh no no it did
work I did work it's just like I got
what what didn't work is that I didn't
authenticate to Twitter because I didn't
actually give it this stuff so let me
let me let me run that again just to
show you I'm going to run it again and
you can see it's spinning back out all
that information so now that I have that
information in that config variable I
can now say make a new twit object with
config so this is a way of exactly the
same thing I now have all those API keys
in a separate file I'm importing those
files and then I am making a new Twitter
object with the stuff that's in that
file and I can now say run it again and
oops I must have not hit save can run it
again and you can see it's working so
the reason why this is useful is there's
lots of ways now if I were to publish
this that it could hide the config dot
J's file and when I link to the source
code that I'm in a company that will
accompany in this video you'll see that
I have a file called like config MCAS
with some instructions but I'm not
actually including the real config dot
J's file but so you'll have to make okay
so that's a bit of an addendum that
maybe you may be not watching this
anymore because you're not interested in
that addendum but this is also just kind
of simplify things and allow us as we
make more and more examples to always
just you know be able to bring that
config dot J's file with with with us as
we go okay so what I would say to you
now is except for before you get to the
next video
what you should do is get your Twitter
account going get a phone number
associated with it create an app get all
those keys see if you can get the code
running real thin t'k eight and finally
finally finally in the next video you're
actually going to be able to start
querying the API and posting tweets
which you know suddenly from there it's
going to be rapid-fire to making Twitter
box like all of this like so much of
this is just getting set up in the
environment okay</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>