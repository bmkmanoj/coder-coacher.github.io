<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coding Challenge #38: Word Interactor | Coder Coacher - Coaching Coders</title><meta content="Coding Challenge #38: Word Interactor - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coding Challenge #38: Word Interactor</b></h2><h5 class="post__date">2016-09-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AKuW48WeNMA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to a coding challenge this
coding challenge is called I'm not sure
because after I record this I'm going to
come up with the name of it right now
it's called word interactor you might
see it called something different the
point of this coding challenge is
actually not really to make anything
that interesting but to give you a
template for creating a creative project
that allows a user to interact with text
on a word by word basis so each word
being an individual token for example
what I'm going to just add a little bit
of code here I'm starting with a code
base from some other examples right
right now I have the text here I hit
submit and I see this text I can't
interact with this text I can copy and
paste it but what I want the user to be
able to do is interact with each one of
these words individually so for example
what if every time I click on this word
or hover over this word I query an API
and return a synonym and replace it or I
based on some property of it I change
its color and this actually is a project
that I you know so there's a lot of
possibilities in what I can do with this
I've never mind
okay so let's figure out how I do that
now the first thing that I need to do is
figure out a way of splitting that text
up into an array of separate words and
if you've been watching smooth my other
videos you'll notice there's a whole
video about split and regular
expressions so I'm going to use the
concepts from that video and just split
this up so what I'm gonna do here first
is I'm gonna say and so this is the I
had a little bit of a code base where
I'm just selecting some HTML elements a
text field and output paragraph and a
submit button because I'm gonna use
those things so the first thing I'm
gonna do is I'm going to say var words
equals s dot split now s is all of the
text that comes in from that text field
of course you'd get the text from a
variety of other sources I'm just using
a text field so I want to split it up
and I need to pass the split an argument
which is a delimiter so what should that
delimiter be it could be space it could
be comma it could be space or comma you
know I'm gonna do something simple for
right now I'm gonna write a regular
expression that says anything that's not
a letter or a number one or more not
letters or numbers so
backslash lowercase W is any a through Z
or zero through nine capital W is
anything that's not a through Z is zero
through nine and plus and I also I guess
the case sensitivity doesn't matter here
so let's just make sure that works so
I'm going to say console.log words just
so we can see that and I'm gonna refresh
this and we can see that looks good I've
got a now an array of everything is a
separate word why do I want to do that
because what I want to do is create an
individual HTML element apologies for
the camera shutting off an individual
Dom element HTML element for each word
and the kind of element I'm going to use
is a span element so one thing by the
way if you haven't looked if you're not
so used to this developer console I'm in
the JavaScript console right here
another thing that's gonna be really
useful is the elements tab of this
console because if you look at this I
have this paragraph here and I have this
paragraph here so and you can see here
look at this
this paragraph element it's all this
single body of text highlighted there
what I want instead is not to is to make
individual things okay so what I'm gonna
do is I'm going to loop through I'm
going to loop through the array of words
and I'm going to create a Dom element
for each one and I'm gonna call I'm
gonna make it a span element the span
element is useful because it's something
that I can style and have control over
but it rests in line is if the text just
flows like in a regular paragraph so I'm
going to say create span words index I
I'm going to take this out I'm gonna
take this out too so let's look at this
and now we can see submit look what I
got there so first of all I made all
these spans but there's no spaces in
between them but you can see there they
are they're all separate individual span
elements magic fascinating wonderful
okay this is great now here's the thing
I want to do two things here number one
is I want to put some spaces between
them so I'm gonna put some spaces
between them
and now we can see look at that I also
have these spanned spaces and there's
probably another way I could put the
spaces without having those be spans but
it's fine you can see it looks like an
individual block of text but they're
separate Dom elements that I can control
individually now the other thing I want
to do and this is a little bit silly is
that in my HTML file oops I meant to put
this down here I have this paragraph
called
output so what I want to do and let me
let me run this again and I hit submit
look at this output paragraph and then
all these spans I kind of want the spans
to be in the paragraph element just so
if I need to style it or do something
with it as a whole I don't want the span
to just be free-floating they should be
in a paragraph element so what I want to
do and this won't look any different to
you but what I want to do is say in the
code I want to say var span equals
creates you know I'm gonna say span 1
VAR span 2 equals and then I'm gonna say
span 1 dot parent output so parent I'm
by the way I'm using the p5 Dom library
of course I could do this with native
JavaScript append this document dot get
element ID this I could do this with
jQuery and have dollar signs all in my
code but I'm doing this with the p5
library because it's what I work on or
what I use and it's good for sort of
sketching and quick experiments so I'm
gonna do this same thing parent this so
now look at this
I now have I now have all of those spans
inside this paragraph and you know again
why is this useful you know if I wanted
to you know I could add some I'm not
gonna now but I could add some CSS
styling to style that paragraph as a
whole as well of access to those fans
individually now here's a thing that I
want to discuss notice how the original
text has periods
spaces and commas but this text does not
it only has the spaces because I split
by anything but then I didn't retain
that I just automatically inserted
spaces so even though this is gonna make
this a little more complicated and take
an extra 5 minutes let's rebuild the
text with the original punctuation I
think that's gonna be something you
might want to actually
do if you're gonna use this as a
template for a creative project so let's
come back to this and how do I do that
so one thing I need to do is in the in
the split in the split regular
expression I need to use capturing
parentheses now notice what happens if I
use capturing parentheses and I run this
again oops we should see oops no no no
sorry I put the parentheses in the wrong
place they go inside here right the
parentheses the capturing parentheses
are part of the regular expression
itself in between the slashes let's do
this again and it's submit now you can
see look there's some sort of
Frankenstein thing where there's extra
spaces and the periods it's because I'm
also adding those extra spaces I don't
need to do that anymore so now I can get
rid of this the array actually that
array if I say console dot log words
just to look at that array with the
capture in parentheses you can see that
this array actually keeps the commas the
spaces it keeps everything but here's
the question I don't necessarily want to
so let's let's look at something one
thing I could do in p5 is I can say I
can say spam dot style so I'm gonna say
span style and I'm gonna do background
color and I'm gonna just give it a some
arbitrary background color and I'm going
to I'm gonna run this again I'm hitting
submit and you can see look at that now
it also gives the bath round color to
every space in every punctuation mark so
what if I don't want that one thing I
can do is use a regular expression to
validate whether it's a word or a
delimiter so what can I do now remember
this regular expression that I used I
can use it again I can say if and I'm
going to just write a Reagan right here
backslash capital w plus dot test words
index I then only apply this styling now
this looks a little bit crazy and I
actually got it wrong
I want to check do I have too many no I
want to check if this regular expression
I'm gonna test it against this and
actually this is going to do the inverse
watch what happens this actually
highlighted for me only the delivers let
me go back and I'm gonna say if not and
you can see now I'm highlighting only
I'm highlighting only not the delimiter
x' and of course I could make them all a
random color I think actually p5 if I'm
a recent versions of p5 allow me to pass
in like an act three arguments is like
an RGB value let's see if this really
works no I thought it allows you to do
this or maybe I could do like a color
object that must be what it is there we
go watch this now so you know just from
this alone you can see how I can apply
an algorithm to how it's colored and of
course I could do something more like I
could color it by part of speech or I
could color it by length of characters
that sort of thing so there's a lot of
possibilities here and how you might
color this text but really what I want
to show you is how you interact with it
so how you interact with it is by giving
the span an event listener so I only
want an event listener for the elements
that are words and not the delimiters so
why I've kind of run out of space here
so I'm gonna comment this out I don't
need this line what I want to do is I
want to say span and I want to say mouse
over so I'm gonna use the p5 mouse event
of a p5 event mouse over this is the
equivalent of a native JavaScript saying
document I'm not documenting that
whatever the element dot add event
listener and I'm gonna pass it a
function I'm gonna call it a highlight
or something so what this means is I and
I could write an anonymous function here
but I'm gonna write a function somewhere
else called highlight
and what I'm gonna do just to make sure
this is working is I'm gonna say console
dot log hover so I'm gonna say console
dot log hover to see what happens and
let me run this hit submit now look at
this every time I move my mouse around
and go over a word we can see that in
the console the word hovers fit out so I
have these events firing for every
single individual word that's a good
news the question is how do I know which
word I'm hovering over there's just this
one function highlight for all of them
how do I know which one well there is
kind of an answer to this which involves
the use of something called a closure in
JavaScript and next week I'm gonna make
a coding challenge where I use that
because if I let's say I wants to make
an API call every time I hover over a
word I'm gonna need to employ some more
sophisticated logic but for right now I
can actually do something rather simple
because I'm using p5 so in you know this
cameras off in JavaScript there is a
keyword called this and I should
probably make a separate video just
about this but this is another way of
thinking about this is context and if
you ever just say this in kind of p5 and
setup or something it's referring to
something called window which is like
the global JavaScript context that
you're in and a webpage if you've ever
done something like write a constructor
function which you can see other videos
that I do where I say something like
function particle this dot x equals this
dot y equals when I say new particle
JavaScript behind the scenes creates a
new context which is a new particle
object and attaches the X&amp;amp;Y properties
to that that object there are things
like there's a function in JavaScript
called bind which I could do a video
about it some point which binds the
context the keyword this to something
arbitrary that you might want to
- so the key word this that JavaScript
can mean different things depending on
where you're programming what you're
doing and like where you're living in
the world p5 does something really
magical behind the scenes for you and it
makes working with p5 events Dom events
very easy what it does is it
automatically in here binds the context
and assigns the context to the Dom
element you happen to be hovering over
so I'm going to say console right here
I'm gonna say console.log this right so
I'm gonna change that watch this now
watch that it's submit hover hover hover
look at this all these different P five
elements are showing up here this
automatically equals what I'm hovering
over by the way just to prove the point
if I say console dot log this right here
and setup look at this that's like the
global context which is like the window
object which has all sorts of properties
and things that we could investigate a
look at so this doesn't mean something
different depending on what's going on
and it often a library or something that
JavaScript does we'll assign it to
something behind the scenes for you for
your convenience in this case the
convenience is it's the Dom element so
look what I can do I can say console dot
log this dot HTML this dot hTML is
html's of Dom element function in p5
that returns the contents of that
element so I I can hover over it we can
see the words in the console or whatever
I'm hovering over are appearing so now
what could I do I could do something
like VAR s equals this dot HTML replace
what and so I could use the replace
function to say hey search for so
anything any word that is any heart any
word that is five character no no no
okay hold on let me just do something
simple so I'm just gonna replace
actually I'm not even gonna do I don't
need to search because I'm in the word
itself I'm just gonna say this dot html'
rainbow and this dot html' dot style and
background color and I'm going to say
VAR c equals a color random 255 random
random 255 random 255 and I'm gonna say
C here so what I'm going to do is I'm
going to say hey any single any anything
you hover over change it to the word
rainbow and give it a color ooh
so this know this sorry this dot style
style just like hTML is a function that
sets its value style is a function that
sets its CSS styling dynamically so
whatever I hover over a word it changes
to rainbow and gives it a color so
here's my web app my repo web
application and I should probably do
something which you know makes it so
that the sets the property so that like
I like when I'm hovering it changes to
that Mouse hovering thing or I have to
click on it and I'll so come up with
your ideas of what you might do that's
more interesting how might you replace
the text how might you do use a regular
expression maybe with a callback to
replace the text to translate it how can
you interact with a body of text on a
word by word or sentence by sentence our
character by character even level so I
hope you take this code expand on it and
create some interesting web-based
experiments out of it and next week I'm
going to do a similar coding challenge
where when you click on each one of
these words I make an IP I query and
replace it with either its definition or
another word or something like this okay
so thank you so much for watching this
coding challenge and see you soon in
another video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>