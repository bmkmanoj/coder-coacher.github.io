<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coding Challenge #64.4: Inverse Kinematics - Multiple | Coder Coacher - Coaching Coders</title><meta content="Coding Challenge #64.4: Inverse Kinematics - Multiple - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coding Challenge #64.4: Inverse Kinematics - Multiple</b></h2><h5 class="post__date">2017-03-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/10st01Z0jxc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay I'm back this is my friend the
tentacle it's a quite a nice friendly
tentacle I feel like you hopefully could
make something where the tentacle is a
bit more colourful then you have some
cute eyes and it smiles and it reaches
for an apple and then hands it to
somebody else because somebody else
could use an apple and then they're
going to be happy you should do all that
stuff what I want to do with this video
is I want to take all this gobbledygook
all this code that is in the main
program here and I want to put it in an
object and I kind of did this before I
want to put it in an object in order to
why do I want to do this ah because I
want to make more than one of these
tentacle things so right now I have this
organizational structure where there's a
segment and the segment is one piece of
a tentacle the tentacle is an array of
segments so I actually want to make a
tentacle object which has that array so
what I'm going to do is I'm going to
make a new tab I'm gonna call it
tentacle and this is going to be the
easy part miss a class tentacle so I'm
having like a crazy deja vu here and
what I'm going to do is what is it
tentacle it needs these three things it
needs an array it needs a base and it
needs a length for this segment
obviously you can vary that to your
heart's content I'm going to take all
this stuff and put this in the
constructor for this object for this
class whoops
so now when I make it I create all this
stuff and this is going to be really
good because what I'm going to do is I'm
going to when I make the constructor I'm
going to be able to set its base I don't
know why I'm putting this first but so
the idea is the tentacles are all the
same now I could give it more this you
should do right I should give these I'm
going to make a tentacle take how many
segments is the length of the segments
your color I could I could bury it in a
lot of ways but I'm going to keep things
simple here then what I'm going to do is
I'm going to look at all this code I'm
pretty sure basically everything is kind
of can go in an update function so I'm
just putting everything I could separate
out some of this logic but I'm doing the
thing where I have it follow the mouse
and then I have it what do I have to do
a fact I then it update all its
locations then I like set it backwards
to its base I do all that and then I'm
going
to function and I'm going to call it
show and it just iterates through the
array and show and this is a place where
I could use an enhanced blue people like
it when I discuss different kinds of
loops so I would say tentacle T in
tentacle I kind of want to call this
segment because I think it's a little
confusing to call that tentacle so I'm
going to change that also I'm going to
try something kind of crazy and I'm
gonna say T dot show okay
let's just see if this works well look
what did I do here I think I messed
something up oh this is a segment see
this is why it's so confusing I've got
to be really clear about this right
every segment s this is why I want to
change so I'm going to run this and now
I'm going to refactor this in a second
I'll show you something kind of cool
that I think you can do in processing
now so I'm going to now make a tentacle
tentacle T I really should have thought
this limiting the size statistical test
cool I'm going to give it a base width /
- height then I'm just going to say T
update and T dot show and now I have a
single one it is it's just the same
exact code but I have now refactored it
so this tentacle lives somewhere else
it lives in all the code lives inside an
object now what did I want to show you
here's the thing I really don't like
that I renamed this tentacle causing me
to be confused because it's an array of
segments I think I should just call it
segment so one thing I can do is I can
go here and I can do rename look at that
rename now obviously I can just click on
this and type a new name but what the
renames tool in processing does is it
finds all the other places you use that
variable it's not a finding replaces the
word it actually is able to look to
where the variables being used so in a
comment it wouldn't change
so let's hope this work
really I've never actually heated
segments
ha ha oh my god I don't have my doo-dah
sound effect okay that's really exciting
that works that is brilliant
I love that it makes me so happy okay so
now I've renamed it I feel like this is
a bit easier to follow okay so great bye
no there's more what I want to do now is
I don't know what I want to do exactly
but let's try I don't know what's going
to be interesting kind of want to put
that in a pattern what if I put them all
around the edges of a circle that's kind
of crazy so what if I made an ArrayList
of tentacle objects they really have to
call this tentacles I think I do and
tentacles is a new ArrayList of tentacle
and I'm not going to add anything right
now or do any Sam to comment this out so
what I want to do is I want to say for
I'm going to use I'm going to make a
little circle a equals zero a is less
than 2 pi a plus equals 2 pi let's let's
see let's see how what's our change in
angle is 2 pi divided let's have 10 of
them divided by 10 this is like a weird
idea that I'm doing but just could be
any good you're going to have a much
more creative idea of how why you want
to do this and then I'm going to say
give me an X give me an X and X is the
center of the screen plus cosine of that
angle times 100 so I'm just going to
place all these points around the circle
and a why is the center of the screen
plus sine of the angle and height
divided by 2 and then what I'm going to
do is I'm going to say tentacles dot
push a new tentacle at X comma Y so I
just used again that same polar to
Cartesian thing you got all the points
around the circle I think that curling
noise and polar to Cartesian I need
little that's all I ever do I guess
basically and it's not pushed because
that's JavaScript with an ArrayList it's
add and then now I can go down here and
I could say for every tentacle T in
tentacle and I can get my update
and show up update and show back and I
can run this and you do whoa look at
this so I got all these tentacles
starting and they're all following them
out now this is kind of interesting I
think there's probably a lot of possible
ways you could expand on this one idea I
have first of all is to not have them
follow the mouth
I could have to follow a pearl annoyance
moving thing I could oscillate their end
points really what I probably would want
to do is give them each their own thing
to follow that's kind of around the
edges I'm playing what side they are I
think I might want to stop here now I
kind of but I do think it's worth kind
of noting actually what we could do is
and actually I think it's might be more
interesting if the tentacles themselves
were not so long so I'm going to make
them actually only have ten segments
right and that's they're still quite
they're still quite good I know what
does it look like something I kind of
want also them to maybe be further apart
all right so you can see this or what
I've done here I call this wine now I
also want to draw I don't know what I'm
making I want to draw an ellipse I just
want to be able to see the sort of
circle which is 400 by 400 so oh I guess
I better say no Phil there's probably
and there's probably a clever way I can
constrain them so you can see what I'm
doing here you could imagine this is the
beginnings of the design of some
creature now since they're all pointing
towards the mouse you're getting a very
kind of specific thing it looks kind of
like a spider web kind of like noodles
but one thing since we said robot R
let's get them to try to pick up
something and I want to make it appear a
bit more obvious what I'm doing so I'm
going to make the length of these 50 and
I'm going to give them just four
segments so now you can see they're much
more robot arm like and actually I just
I don't know what I'm doing exactly what
I just wanna have five of them let's try
that okay and maybe I'll let them even
be a little bit longer like what if I
give them I'm losing my life here
because there's really no point to what
I'm doing
okay so what I want to do is I'm going
to create I'm going to just say let's
make let's make a particle and I should
really make this an object but I'm just
going to give it a position and position
equals new P vector P vector I'm going
to start it in start it at zero zero and
I'm also going to make a velocity and
I'm going to say velocity is a new P
vector which points like you know two
comma one point three just to give it
something arbitrary and I'm going to say
now position dot add velocity and I'm
going to position that add velocity and
I'm going to draw a little circle at
position X this is going to be the Apple
position x position Y 16 imagine this I
guess I could make it kind of green a
green apple would it be like I don't
know what is that a color of an apple so
I'm going to do this you can see there's
my apple and I'm gonna say no stroke and
I'm going to make it a little bit bigger
and there's the Apple you can see it
moving on so what I want to do now is
have these arms follow the Apple and I
expect like the Apple should I want to
give it gravity and have it bounce
around oh there's so much stuff that I
want to do that I'm not going to do but
I will I will have it move a little bit
faster so now what I need to do is just
say okay if position X is greater than
width or position X is less than zero
we're just going to make it bounce
velocity X multiply it by negative one
and then we'll do the same thing with y
because because why not then we will
we're going to add gravity to this
because we have to so now we can see
there's the Apple it's moving very
slowly let's increase its velocity by
three times so you can see so let's see
it should move and shoot down Oh what
did I have a mistake great of it hiked
it didn't bounce off the bottom so let's
see that Apple is going to head towards
the bottom it's going to bounce around
so why am I doing this is because now I
could have my tentacles follow that
particle
so you can see they're all trying to
kind of grab it and I don't know whether
they're throwing it or passing it or
whatever but you can kind of see what's
going I feel like it's sort of the
positioning of it is kind of weird I
think it actually this would be more
interesting if they were positioned all
along the edges and also if the balls is
something a little bit more interesting
like if it actually had some force like
gravity and if I said gravity is a new P
vector that point you know down by some
amount and then the velocity always
changes by the gravity and then also I
should probably that this is going to
cause a problem I should also say it
pause dot y is greater than height this
is a little thing that I'm just just
scooch it back on the screen because it
kind of gets stuck I don't see the
gravity happening here why not or is it
just so weak yeah it's I think it's
there's also we don't need the we don't
need to actually check it if there's
gravity I don't need to check the top
anymore so this is why is what I meant
to do I can just scooch it back on when
it hits the bottom so come back so you
can see it's bouncing and I could add
some dampening let's have some dampening
I really often like physics lands here
for no good reason you everyone's
probably stopped watching this video by
now no one's going to see my end screen
oh that's so much dampening so you can
add a little dampening so it kind of
like slows it I know it would make sense
is only have the dampening happen to
wind hits the bottom so maybe that would
make more sense okay so you get the idea
but oh yeah probably apples in the chat
there's actually a person named probably
Apple to the chat says I might be wrong
I'm just spitballing here who knows I
just might be wrong but I don't think
this is probably Apple's voice it's my
voice but probably Apple still bounce
around like that and I think that's a
very good point so I almost feel like
this will be more interesting to watch
if there were only two of them and if
they were further apart to hold on just
bear with me for a second
what I'm going to do is where I make the
tentacle I'm going to have just two of
them and I'm going to make this 300 this
is silly because there's no point of
circle yeah so look at this now it looks
like they're playing catch which they
aren't but it's kind of interesting so
there you go
here is my inverse kinematics robot arm
playing catch with an apple on the
coding train I really want to say a
special thank you again to Keith's
Peters and coding math these examples
are really essentially exactly the same
as the examples that are right here and
you know what I'm realizing I better
show this one because I think I'm
getting this idea I know I'm getting
this idea from exactly this so this is
Keith Peters example that is in the
processing I did I thought my code is
quite different because mine is an
object or in the object oriented fashion
but this is there and you can see
there's some variation in terms of
segments and how they're working so
there's great suggestion to chat I could
do things about constraining the angles
I could make them not intersect a ball
there's lots of things I could expand
this I could think about design there's
so many possible things that I could do
to expand it but so thank you check out
the coding math channel if you want to
see somebody who knows what they're
doing
about massive coding that's a channel
you should watch great examples great
inspiration and you can see here we have
our robot arms playing catch thanks very
much and I'll see you in a future
episode of the coding training</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>