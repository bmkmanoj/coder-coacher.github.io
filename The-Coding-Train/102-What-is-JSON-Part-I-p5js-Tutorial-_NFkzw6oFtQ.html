<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>10.2: What is JSON? Part I - p5.js Tutorial | Coder Coacher - Coaching Coders</title><meta content="10.2: What is JSON? Part I - p5.js Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>10.2: What is JSON? Part I - p5.js Tutorial</b></h2><h5 class="post__date">2015-10-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_NFkzw6oFtQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay I'd like to do a little dance at
the beginning of this video in this
video I am planning to talk about JSON
exclusively what is this data format
JSON how does it what does it look like
what does it mean and if you happen to
have data in a JSON format how could you
use that data in a program that you're
writing something it runs in the web
browser and JavaScript using the p5.js
library okay so I have some information
I talked about in the previous video if
you watch that previous video by the way
thank you that was kind of you um so
okay so let's say well the scenario that
I'm posing here let's go the interesting
little you're interested in flowers and
you you looked all over the Internet you
couldn't find any information about
flowers but you have this book all about
flowers here's something you could
actually do novel concept you could just
type the data yourself into a file to
use in your program so let's first think
about how that might work so actually
even before I start doing anything over
here let's do that just even in our code
right so you know you you know how to
program or at least I do I think you do
if you were watching the videos
hopefully cuz I don't know if I'm doing
a good job or not but you might say to
yourself like ah I am going to make this
object called flowers and it's going to
have a name I'm just going to say it's a
flower it's going to have a name like
sunflower and it's going to have color
which is welcome to color and then I
realized there's a problem I should just
admit that there's a problem here so
what I started doing by the way was I I
want to use the p5.js color function
which is so nice but I could make a nice
yellow color which yellow is red and
green I think but that's not going to
work up here the color function is only
available once I'm actually in setup
once the page has loaded so I'm going to
make that global variable and I'm going
to make my object here sorry so named
sunflower color is and let's not name it
color because that's a key word let's
name it co L is color how do you make
yellow red green I think that's right
about like so red and a little bit more
green and right so I've now
whoops and there's no semicolon there so
I've now made data I've made an object a
JavaScript object it has data in it so I
could be you know add all sorts of other
data like what's the average height of a
sunflower and what season do sunflowers
grow and what's the latitude longitude
in the world where sunflowers appear I
could keep adding all that data as these
key value pairs and I could do something
like say like oh now I'm going to draw a
you know black background and then I'm
going to say fill by the flowers color
and I'm going to draw a text on the
screen with the flowers name at you know
pixel value 10 comma 50 and I could say
a create canvas 400 400 so you know if I
were to run this sketch we can see look
at that I've got my text called yellow
sunflower I have the yellow sunflower
text right there on the screen
so this is working with data this is
actually working with data in JavaScript
object notation because that's a
JavaScript object and the notation is
the syntax of JavaScript so actually
working with JSON data is exactly what
you already know how to do if you've
been programming your JavaScript so I
want to come back over here and then put
our brains back in this scenario so you
have your encyclopedia flowers and
you're starting to put all the data into
a data file so one of the pitfalls of
this here is this isn't this is this
works but so that's so great like what
if I had like a thousand different
flowers are huge amounts of data I
wouldn't want to have all of that just
in my code I want that to be somewhere
else you know eventually I might want
that to be served up by this like web
server somewhere that's an API that just
sending everybody in the world data
about flowers because wouldn't have be
nice but here at this moment I'm just
using it for myself the thing that I
would want to do is put the data in a
separate file so let's look at how we
might do that now there's one thing
that's different which is that and
somebody correct me on the internet if I
run
about this but one thing that you need
to do once you move the data to a
separate file first of all you need to
create a file and I'm going to call it
like flower dot JSON so our sketch files
have been called sketch dot J s because
they're JavaScript files files with
JavaScript code in them now I'm making a
new file it's extension as JSON because
it's JSON data but this is a data file
important difference there's no code in
here it might have this same syntax as
this but there's nothing to execute
there's no code to run in there it's
just information that can be loaded into
an object the point is this is no longer
going to be written directly here
flowers somehow gonna equal load this
particular file so the difference is
there's no variable name in this file
it's just an object so the file starts
with a curly bracket ends with a curly
bracket and then other thing that's
important is if you notice name is a
string so the names bout knits or name
is the property of flower and its value
is sunflower a string in quotes but in
the JSON file you'll want these property
names to also be in quotes so you'll see
that what I want to do is say named
sunflower and the other thing that I
can't do right I did this in my program
is I executed the color function here
but I could do something different like
I could say it's red value is 255 it's
green value you know is like 200 and
it's blue value is Europe so notice the
syntax here it's an object and this
should be in quotes it's a bunch of key
value pairs property name value so what
all the flower has a name it's sunflower
a flower has a red value 255 all of
these is a list of these properties all
separated by commas the last one has no
comma after it and then a close curly
bracket now as I go through more and
more examples your goal
to see that these this file can get
enormous ly more complex it can have
arrays built into it it kind of objects
nested in other objects and I'm so
excited to look at all of those
scenarios but right now I'm going to
keep it very very simple but I'll reason
why I'm mentioning the syntax so
specifically is one comma out of place
one quote out of place your program
won't work and often you're not going to
get such a great error message so you
know we have to sort of like think about
and look at like how you can deal with
that but one way of dealing with it is
just be really really careful as you
kind of enter your data into a JSON file
so you know I pretend reading my flower
encyclopedia I found all this
information I'm going to format the data
so I can use it so I've come back over
here how am i doing on time
seven minutes you're watching a video
for seven minutes it's really quite
impressive on the internet and I'm going
to go over here to this plus and I'm
going to hit that plus which is going to
allow me to add a new file and the new
file is going to be called flower I'm I
was saying flowers because ultimately I
kind of want this file to be a list of
different kinds of flowers but right now
I'm kind of being simple so I'm just
going to say flower JSON and I'm going
to do exactly what I said I'm gonna say
name son oops name : sunflower our is
255 G is 200 and B is a B is zero now so
you can see here now I have this file
called flower JSON and it's got the data
in it now I hopefully did that correctly
but let's say you're not sure if you did
it correctly well there happens there's
a lot of these tools online there's a
lot of tools online that allow you to
validate or check the syntax of a JSON
file to make sure it's valid so I'm
going to very quickly just copy-paste
this and go to Chrome I'm going to open
up Chrome and I'm going to go to JSON 4
I'm going to Google JSON format err and
just click on the first thing that comes
up I'm going to paste the data into this
box and I'm going to click a process
right here which is going to validate
and check my JSON and it says valid and
you can even see it's sort of like
syntax highlighted and did some things
with it and we might
look at this later some other ways you
could do this but this I'll try to
include a link to this particular tool
in the either an annotation or in the
comments below so so this is something
you might want to do and now once we've
done that the question the question is
now here under sketch j/s how do you
change right I don't want to say flower
equals this stuff right here in the code
I want to say flower equals the stuff
that's in that file how do I get the
stuff that's in that file so the way
that you do that is with a function
called load JSON so this process of
saying like ah I don't want to type the
code I want var flower to equal this
stuff is accomplished with this function
load JSON so I believe I talked in some
video link below or link in an
annotation I'd like to do that about
load image there's also a function for a
load table there's load sound if you're
using the p5 sound library so this is
just yet another way of grabbing some
sort of external piece of information it
could be a text file a JSON file it mp3
file a movie file an image file loading
it for use in your sketch in this case
load JSON takes everything in the JSON
file and essentially makes all of that
in as as the data stored in that
variable and then I can access it
exactly the same way I would normally in
JavaScript as if I had written all that
data into the variable itself hard-coded
in the code hope that makes sense
so now but there's a couple pitfalls
with this the question sort of now
arrives like where do you put that load
JSON code I'm it would make sense to put
it right here right instead of this if I
comment oops I'm going to like put this
down here and comment it out I would say
low JSON flower JSON so this would make
sense to you you're just going to say
hey instead of setting it equal to this
stuff directly let me load it from the
file and then of course one thing I
would have to change is flower our
flower G flower be right because I don't
have a color I have our RGB so this
should work it's not going to work I
don't think it's going to work let's try
it so you can see I uncaught type error
cannot
property two string of undefined that's
a very sad error it's a couple things
sad about that era I don't know what
line fifteen thousand eighty five that's
not I don't have fifteen thousand lines
of code so it's reporting to you
something that's happened deep into the
p5.js library and essentially the issue
is I am trying to access properties of a
flower object that doesn't exist but it
should exist I loaded it right there
this is a time where I'd like an o
meditate and remember that JavaScript is
always asynchronous sort of like I'm
trying to I'm trying to introduce
singing into the videos I think that's
probably a terrible idea
but we'll see um so in other words I'm
asked to load that data and that data
it's gonna take some time it's on the
hard drive the gnomes in the computer
have to go and like dig into the hard
drive and find and pull it back up a
draw boom is happening immediately so
what I need to do is I need to enforce
there's a couple things I need to
enforce that the data is loaded before I
start trying to draw with the data and a
quick way to do that which is ultimately
not the way that I'm going to show you
in all of the videos but at least we're
getting started
a quick way of doing that is using the
preload function so function preload you
know everything is event based and you
know the events that are happening here
in this particular sketch is preload
flower dot JSON uh-oh
reload it's the first thing that runs
and in everything that in preload when
it finish everything that's loaded in
preload when it finishes loading setup
that runs and then draw runs so this is
a way of guaranteeing that by the time
we get to draw that data will be in that
particular variable I hope this works
now and you can see it does and you can
see I have my text of the sunflower
there on the screen so a mr. sort of
wraps up a kind of very basic start of
ok there's a low JSON function for what
is JSON what is the syntax there's a low
JSON function that allows me to load
that stuff that's in the file into a
variable then I can use the stuff in
that file in the same way that I do in
just about any JavaScript any p5 sketch
that I've ever done before so what do I
need what what's missing here couple
things one is we need to
I think we need to increase the order of
complexity of the JSON file like this
isn't really getting us very far there's
not a lot of data here and and this that
you're not usually going to see JSON
files that look this simple they're
going to have tons of information in
them every you know 10 recent New York
Times articles who wrote the article all
the comments for each article an ID for
the article a word count for the article
there's like lots of information and
arrays a nested object so what I want to
do in the next video is look at some
more complex J's data and how it might
be formatted and how you can kind of do
some detective work to figure out how to
access that data what I would suggest to
you if you want to do an exercise before
you work go to the next video is pick
something that interests you try to make
a JSON file for it put some data in it
see if you can load that data and
display something based on that data you
know I'm sure you can think of something
more interesting than just what I've
done here and something else that I'll
mention which I'll show in the beginning
of the next video is there is a
wonderful github repository what's good
hub oh my god what's good that's a tie I
need to have make a video about that but
I don't know whoops I'm in the wrong
place here I'm trying to open something
it's gif oak romesco I was trying to
open this is a github repository
maintained by a Darius Kazemi hopefully
I pronounced his name correctly and what
it is is it's a whole lot of JSON files
all about different topics that people
have manually made or pull together from
different sources and contributed so
let's say you're interested in art I
could click here isms and this is like a
big list of all sorts of like kinds of
isms like electrician lumen ISM lirikl
extraction ISM so anyway I encourage you
up and pull it link another place you
can do if you're like don't want to feel
like typing out your own dataset is go
to this repository look at the different
JSON files there try to copy paste one
of them into your code see if you can
get access to it and I'm going to look
at one from this particular set I won
about birds that I have in mind that
look at in another example in other
context then you know this is perhaps a
for another time but you might think
about contributing back if you've made
the most wonderful flowers is there a
flowers one in here oh it's like a
flower code
oh yeah there's fireworks flowers look
at this ah this is I needed this so
here's a list of flowers anyway up you
might make your own data set and
contribute it back to this place for
other people to use as well so thanks
for watching in the next video I'm going
to pull another JSON file is a bit more
complexity to it because that's going to
help us overall we're on this train
we're going to get to this point of like
we don't have this local file we're
actually getting the JSON data from
Instagram or the New York Times or some
other source Wernick that you might find
okay</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>