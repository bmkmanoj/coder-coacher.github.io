<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Live Stream #109: WebGL with p5.js | Coder Coacher - Coaching Coders</title><meta content="Live Stream #109: WebGL with p5.js - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Live Stream #109: WebGL with p5.js</b></h2><h5 class="post__date">2017-12-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Gi9PuLHlzzI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good morning Tuesday morning a rare and
special bonus episode of the coding
train my name is something like rhymes
with fan and something like that I'm
here this is I'm saying bonus episode
it's not really a bonus episode it's a
little bit of a make up episode I am
trying to make a commitment to doing a
live stream per week one per week that's
about 4 per month and I have missed a
couple in the last couple months just
actually schedule wise and being sick
and that sort of thing so today is a
bonus one I hope to actually I hope if
all goes according to plan I will be
doing a bonus live stream on Thursday
and then a regular live stream on Friday
so three live streams in one week that
certainly is a record for me so I would
like to know just briefly if you are a
patron and in the slack group if you
could just let me know
audio and the video and everything's
fine that's something I like to hear and
while I'm waiting for that I'm gonna
talk about what I'm gonna do today so
today I've been working very hard on
being prepared which means I opened up
some URLs in advance and this is
currently my list for today
so I'm gonna be here till about for
about two hours I want to look at WebGL
which is 3d in p5 Jia Jas I want to do a
coding challenge a wonderful
computational artist bees and bombs
creates amazing gifts all the time
actually
this is simpler than I thought looking
at this now or maybe it's not anyway
this is a beautiful oscillating pattern
in 3d and I thought as a coding
challenge I would try to recreate this
in p5.js I know alko one of the viewers
Alka has actually already done this so I
did not look at outfits codepen in
advance but I will maybe pull that up
later today if someone can help me
remember so the things that I need to
cover in order to be able do this are
the basics of WebGL 3d and p5.js and
simple harmonic motion which is the
swinging of a pendulum the pluck of a
guitar string this nice smooth breathe
in breathe out breathe in breathe out so
so that's my plan so I'm gonna that's
what I've got on my list today if I look
back here and on Thursday I would like
to cover something called word Tyvek I'm
gonna do some data science stuff and so
some functions that I want to use for
that are the JavaScript array functions
math fill and reduce I probably won't
get to this today but that is on my list
if I can get to it I'll also do it
tutorial about that now a couple things
to mention before I get started with
some actual coding stuff which anybody
who's ever watched one of my live
streams before I kind of take a while to
get started so go out go for a quick jog
you know maybe ten minutes a mile two or
three miles jog have a cup of tea do
something like five minute meditation
back I'll probably still just like on
and on and maybe about ready to start
with some coding stuff but I do want to
two things I want to say one is for all
those of you who subscribe to my patreon
I know there have been a lot of a little
bit of controversy
I guess might be a word that you could
assign to it and a lot of confusion
certainly around some of the new fee
structures that patreon published last
week I'm kind of in a holding pattern
here I'm gonna wait to see what they
publish about that this week before I
make any firm decisions but it's my
opinion that patreon should not increase
people the amount of the pledge whether
its fees are the pledge without an
explicit opt-in from the from the user
so depending on what happens I may just
sort of suspend payments for this month
and think about what I'm doing going
forward but I just want to mention that
if you have any feedback about that or
thoughts of
that please maybe tweet me at Schiffman
would be the best place okay so there's
that then we got to talk about some
random numbers stuff so who was it
somebody in the patron group in this let
me try to find here pointed this out to
me it was Topher Jay Topher Jay in the
patron group pointed out to me a recent
episode of The Tonight Show with Jimmy
Fallon
so I have that here for you I don't know
how recent this is actually it's not
recent at all oh my god oh well so much
for my brilliant diet but I didn't I
didn't even look at the date of this I
was thinking Nessa I'm pretty sure I was
not doing this somebody just sent this
to me and I just assumed without looking
at it very carefully this is very recent
let's watch it go page turn this one is
I've read it twice and it's still bad
this is of course a small book of random
numbers by James McNally is literally
just a book filled with random numbers I
mean and this is helpful here there's a
big book of random bunch of blank pages
labelled notes in case you had any notes
7 it's in here sorry buddy that's not as
randoms list right here let's see if we
can find any that now yeah this is yours
is good for it what's that I put my kids
to sleep yeah
okay girls what man but maybe I actually
saw that it's gonna read three numbers
nine eight seven six eight two two six
nine six eighty three thousand three
hundred forty three twenty eight
thousand six hundred sleeping yeah I
thought maybe somebody was I lost that
page you know just you're a little
similar as I sometimes on the internet
to read to you from my favorite
storybook I don't even need to read it I
could just have my self this is very
strange grow page is that twenty nine
thousand let's see if I can follow along
alright so anyway yeah right which is me
live right now and enters me from before
alright yes alright alright nevermind I
this whole stick all plans work I stayed
up all night couldn't think of way to
dub this whole plan elaborate plan Jimmy
Fallon coding Train random numbers
musical number dancing singing it was
gonna be a wild extravaganza but cuz I
didn't look carefully enough this is
from almost two entire years later and
and okay so that's that that let's get
off of Twitter here Twitter is a
terrible terrible place
it is a Tuesday all right so let me
think how are we gonna get started here
do I have other things to talk about
that are important I don't think so
I should read some here's the thing I
don't remember I'll end this thing where
I was gonna actually try to read the
whole book and I don't remember what we
left because I got sick and I missed two
weeks I had a bookmark in here if
anybody has the free time right now to
go back and find where I last read I was
actually only on the introduction I was
reading the introduction I haven't
gotten to the random numbers yet anybody
could find where I last let off I will
do a little reading from this book later
today a million random digits with a
hundred thousand normal deviants okay so
let's get started let's actually let's
get started talking about WebGL and what
I'm gonna do is open up my terminal go
to the desktop
and I'm gonna make myself a little
project called P 5 web GL then I'm going
to open up Adam ID it opened on the
desktop and then let's run a little
server
okay it's working okay now what am i
doing I've got this open oh not in the
right chat room here and let's see one
thing that I should check here let me
get uh oh this is not good so pause for
a second okay so as you know I've been
recently using this little node module
called p5 Manager as you know I don't
know if you don't this but I've talked
about it I made a little video about it
and that allows me to generate folders
with like the HTML and the JavaScript
files I need to quickly put together a
p5 sketch I did just notice here that
it's it's Auto generating a p5 project
with kind of an old version of p5.js and
this is most definitely going to be a
problem for me right now because I want
to use WebGL and there was a ton of work
on WebGL that happened over the summer
which I'm going to talk about so what I
really need to do first of all we should
a p5 Manager github maybe this is
something we can help with oh because
probably the way that it works is it
pulls somewhere it pulls the libraries
which are here
so these haven't been updated for a
month so one is that I could we could do
a pull request on p5 manager to give it
the newer version of the libraries but I
think also there's probably where
somebody can help me with this in the in
the chat there's
probably a place where I could just
replace these files in my like secret no
directory somewhere on my computer so
let's try to do that so where would node
be sitting like user node where oh no no
user var or something like that right
is node gonna be somewhere in here where
does the node module live in my computer
is it in like pin maybe is node
somewhere in there and try to get to N
and node so somebody I'm waiting for
somebody to know this but I'm going to
look it up so where do global node
modules get installed NPM lists - gee so
that's where I can find them user local
Lib node it's probably so let's look at
that NPM list - gee user local Lib is
probably where they are so let's hide
this I have so many this I don't feel
like looking at this let's let's go to
user local Lib and a node modules so
let's open this up I don't know if this
is a good idea for me to do this but I
can go into here this is where it is I
can go under source note nope no not
source generator libraries so this
probably is where I can now put the
version to the libraries I want to use
so I'm now going to go back to the
browser
I'm gonna go to p5.js org I'm gonna go
to download I'm gonna download the
complete thing so now I am going to oh I
just closed that directory we open it
again I'm gonna go into generator into
libraries so what I'm going to do now
wherever I just downloaded those I want
to take this library and put it here who
I got to authenticate somehow replace
Who am I
- for 601 add-ons DOM and sound replace
replace can you guys hear the party
that's going on the hallway okay so now
I think I am going to delete this
project that I just made p5 WebGL I am
going to generate a new one it's there
and now I'm gonna go back and there we
go
look at this October 11 2017 so this
worked so this is something you can do
if you followed my workflow I do think
that it makes sense to probably
contribute to the node module itself so
that it can be automatically updated or
people are installing a new get a more
recent version of p5 but certainly if
you are you can you could go and kind of
if you have a global node module
installed on your computer somewhere you
could go and change that okay we need to
stretch all right so we've done that now
whoops so let me open I did this again
same thing let me open this up and by
the way you might be wondering what am I
doing here somewhere at some time
I installed a command-line utility that
allows me to type atom in terminal and
then the dot means the current folder
that I'm in so if I'm ever in terminal I
want to open up the files from the
folder that I'm in I can type atom dot
that's not gonna just work on your
computer some point I could do a little
tutorial out how to set that up I don't
even remember how I did it I probably
googled atom command-line utility
somewhere Oh
alka says there's a command
to update ah look this was useful to
look at so I'm looking and go maka
also in the chat point stuff so let's go
look at this let's go to p5 manager p5
manager update update update update
update update update update update
update libraries Oh p5 update oh look at
that
I shouldn't blip
that's the sad trombone for me going for
all this stuff and it's actually already
a feature of the of p5 manager so I can
just do this p5 update ok good work
creator a p5 McNinch sure all right so
that's taken care of now let's run a
server and we are about to start with
the first coding tutorial of today where
I look at p5 WebGL so these are I'm
gonna close this right now to close this
right now I'm gonna close this right now
ok so some oh it only updates
collections ok who knows I don't know
what to do anymore
you've seen the range of possibilities
it's important to keep your p5 libraries
up-to-date in some cases in some cases
not there might actually be something
that you've kind of released and
something changed that broke what you
did and so but you have the ability to
us to use any version of the library
from any point in history let us begin
so do I have a pen that works do I have
the ability to switch to my whiteboard
do
all right how are we doing timewise
it is 11:20 a little usually I feel like
doing these streams in the morning is
actually better for me I have a bit more
energy that's not happening to me this
morning
okay semver semver dot io what is that
he's a plain text in JSON tracks all
available whoa okay okay another day I
will investigate that so what I'm
looking for now is WebGL here we go all
right so I don't know this may end up
being a few different tutorials I'll
just want to make a list but I'll make a
list during this all right all right
here we go Oh where's my pal
hello this might actually end up being a
new playlist entirely sure but this is
the first video in what hopefully at
some point will be many videos about
WebGL in p5 yes so first of all this
video this first video I just want to
talk about what WebGL is how that
relates to p5.js how that relates to
maybe other JavaScript libraries like
you might have heard of like 3j s and
kind of like how do you just get your
sketch basic sketch set up to use WebGL
okay so first of all where do I go for
this I guess I'm just talking what is
let me let me go to the whiteboard
that's gonna help me organize my
thoughts there is something called WebGL
WebGL web obviously like the world wide
web GL stands for graphics library now
this term comes from another
you might have heard called OpenGL and
OpenGL is an open graphics library this
is a standard this is the library for
doing computer graphics that exists
across many different languages and
environments and contexts one of the key
things about OpenGL is the fact that it
is hard where accelerated meaning it
uses the graphics card the GPU the CPU
is the central processing unit I think
so the GPU is the graphics processing
unit now someday I'm going to come back
and talk about the GPU in a totally
different context related to like
machine learning that's not what I'm
talking about right now the GPU is your
graphics card that's been heavily
engineered and optimized to deal with
grids of numbers matrices of numbers
pixels images any image is simply just a
grid of pixels and OpenGL graphics
library is a standard to work with
rendering images to your computer screen
via the graphics card so you might have
used us you might have used P 3d mode in
processing that is using OpenGL that's
actually a java environment so it uses
joggle which is like java opengl you
might have worked with open frameworks
which is a c++ a creative coding library
which you can write OpenGL calls
directly in open frameworks in C++ etc
etc I'm not gonna go down the road of
all the different 3d environments and
how they make use of open jeona WebGL is
a standard for doing OpenGL in the
browser and there's you can you can
write raw WebGL code you could learn
WebGL and you can make 3d hardware
accelerated graphics things happen
the browser it's very exciting I am NOT
going to teach you WebGL in the lower
level WebGL on its own uh what a lot of
people do if they want to do 3d in the
browser well you can do WebGL directly
or you could use a library that kind of
sits on top of WebGL and wraps things in
a friendlier way with a lot of features
to like make all the WebGL stuff happen
for you probably the most well known
library for doing that is a three dot J
s maybe I could pull up the three J s
website and show you some demos 3 J s is
amazing it has it's been around for a
long time it's at many versions as tons
of features in is really robust so if
what you watching this video really care
about it's like I want to make the most
3d stuff ever in the browser you
probably want to investigate this
library P 5 as you know as I maybe you
know maybe you know P 5 is a beginner
friendly creative coding library for
JavaScript mostly focused around 2d
drawing but it also has a lot of other
features like there's a Dom library for
manipulating HTML elements on the page
you can get the webcam there's a sound
library for generating music or
listening to the microphone one of the
other somewhat newish capabilities of
p5.js is a WebGL renderer and kind of
coming back from the history of
processing one of the ideas the central
ideas of processing in the beginning was
the what you you could sort of flip a
switch you could write all this code it
renders in 2d you flip a switch to 3d
and that same code works in 3d a you
could start to add more stuff whereas
working with something like 3j s it's
really a whole different way of thinking
about things because 3d in the end kind
of works in quite a different way so
p5.js in the same way as processing the
sort of goal here is can you write a
p5.js sketch and sort of just convert it
into 3d and add some new functionality
and that's what I want to look at in
this set of videos so how do you enable
WebGL in p5 it's actually very simple
create canvas is the function
where you specify a width and a height
for a graphics context that you intend
to draw in and by default that graphics
context is a 2d html5 canvas if you give
this create canvas function a third
argument web GL suddenly this context
becomes a 3d context and there are new
functions that you can call I should
make a list of these things things that
I want to go over are 3d geometry camera
stuff what's the camera ooh
texture oh my goodness textures what
else a material lights they're all these
new in some ways your relinquish a lot
of that control when you've drawn 2d
your you really say like this pixel this
exact pixel set that exact pixel this
color working in 3d often becomes more
an exercise of setting up a scene and
placing the camera and adding some
lights you're kind of relinquishing some
of that so by pixel control by getting
an engine that can create this illusion
of 3d perspective for you so this is
what I want to in this video series I
want to look at all of these pieces this
is the overall picture so let me go back
to the computer and I'm gonna see and
I've got a chat going to see if there
any questions come up but first I want
to give credit to where credit's due so
lots of people have contributed to p5.js
so the Creator p5.js is Lauren McCarthy
and many other people have contributed
to p5.js the the WebGL library was
started by Kevin see you off I believe
Karen Peng did a lot of contribute
contributions to it as well and most
recently this summer to students whoops
and went the wrong way
Cate Hollenback and Stahl Jia Grigg both
worked on overhauling the 3d rendering
mode WebGL my shoe is untied
so why you're reading that text right
there about the amazing work that Kate
and algae that I'm tied
so did a ton of work and so I'm just
going to quickly click on these links
read more from Kate here Stahl Jia here
this is some documentation and whoops
and about all the work that they did
over the summer and the different
features what's still missing from WebGL
it is pretty new I'm sure there are bugs
but I want to make sure I should have
credit this work and then the other
thing I would mention here is this
tutorial
getting started with WebGL and p5 which
is a wiki page is pretty much what I'm
going to go through during this tutorial
we may find some bugs I did a video on
WebGL like probably a year ago which was
just kind of like looking at what works
what doesn't work so but but the work
that Kate ontology did over the summer
was tremendous and getting so many
features back up and running and working
so I'm excited to be a look at that with
you okay so let's just let's do
something really exciting oh no the
camera off let's do something really
exciting just before this video ends I'm
going to go to my code and I'm gonna say
create a wait oops create canvas 400 300
and I'm going to say background 51 and
I'm going to say a rectangle 0 0 50 50
and then I'm going to say fill 255 0 150
and now I'm going to go look at this
sketch in the browser
whoa first up I want to do let me let me
let me remove the reference to the sound
library so I'm not using it okay there's
the sketch okay
all right now now everybody stay with me
stick with me I am going to add to my
code I'm gonna make this sketch 3d okay
not take a deep breath it's all gonna be
3d now it's gonna blow your mind making
this 3d now here we go
I hit refresh
so one thing that's really important to
mention I'm being ridiculous here is
that what is what am I even trying to
say here Oh timeout let me do that again
III tripped over my microphone enough
you could hurt that messed up the sound
right so what I'm trying to point out to
you here is that the rendering context
has changed and suddenly the
functionality of p5 has changed as well
why do I not see the fill color here
well if I haven't thought about some
questions around things like materials
and lights maybe I can't actually see
that color without light being present
to sort of illuminate the color why is
this at 0-0 suddenly in the center well
p5 to WebGL mode considers the origin
point in the center of the canvas not in
the top-left so as I go through this
tutorial we look at all these basic
pieces and I go through what's and I go
through geometry camera texture material
lights we're gonna see how things work
in 2d versus 3d what works to mix
between those two modes
what kind of remains exclusive to 2d or
3d ok wonderful see you in the next
video maybe maybe it's okay yeah we'll
see alright alright so I'm oh thank you
so I've got a time code to the last live
stream where I start reading random
numbers thank you for that I will come
back to that later Simon put together a
gist so let me open this up gist
github.com
and tiger and then I'm gonna take any
WebGL questions or if I got in if you
take anything wrong that actually should
make sense that I I didn't open up the
3GS website I meant to do that so let's
look at this so this is thank you for
this Simon this is awesome so this is a
all the different primitive shapes thank
you that's terrific
okay let me look at the if any look see
where are we on time wise 11:30 okay so
I wouldn't move on the first thing that
I think that I will look at is just 3d
geometry I think so we'll see okay
get some water here you know I actually
I've had some recent inquiries from
sponsors oh I'm the wrong camera
but as you know currently the coding
train is brought to you by h2o it's
liquid you drink it and you live all
right all right okay I'm not seeing any
questions and not seeing anybody saying
anything like I completely botched this
explanation of oh I didn't mention
shaders that is kind of an aspect of
this but I guess I can come back to that
all right
it's very loud in the hallway right now
all right here we go it's 11:30 I got to
keep moving here so I think the first
thing that I'm going to do is look at
primitive geometry let's just look
really quickly so I can close this I
talked about I can close this I can
close this I want to keep this open this
is useful as well let's also go to the
reference page
we're gonna need let's see here models
is something to be 3d primitives here ok
and there's one other thing let me just
look at the examples learn examples 3d
just look at this so this alright so
that I basically want to go over this
very briefly in the first video I'll
make something like this ok great ok all
right
here we go alright alright I'm back so
this now in this video I'm gonna look at
three-dimensional geometry first of all
actually let's not even look at three
three-dimensional geometry just yet this
is three dimensional geometry it's a
rectangle let me do a couple things I'm
gonna just get rid of the fill so it's
fine that it's black right now we'll
deal with sort of color and that sort of
stuff later
I'm gonna just change the background of
255 so I can see it a bit more easily or
I like to see where the canvas is I'm
gonna make the background 175 okay now
I'm gonna also say rect mode Center and
let me make it like a little bit bigger
and I'm gonna actually make it a
rectangle so we can see oh look at that
whoa oh cool so look at this this is
such an exciting moment here why what
what what's that so one thing one thing
you will soon discover if you choose to
embark on this journey into three
dimensions is that shapes if you think
of like oh we're gonna make a sphere or
a torus which is like this doughnut
shape or a pyramid shapes are actually
three dimensional shapes three
dimensional geometry are really
collections of lots of small 2d polygons
all tiled next to each other and we're
gonna see more and more examples of us
and amusingly through whatever sort of
default rendering that's happening right
now I'm seeing the full what's often
referred to as the wireframe of this
rectangle which I don't know why
suddenly that appeared like when it
wasn't before
it seems like but so let's see if we can
let's let's see if I can say no stroke
to get rid of that there we go and now
it's white I'm just curious
let's give it a color now it's black
interesting I don't know what I did
before
let's give it yeah okay so I'm in WebGL
and this is the thing I can still work
with two-dimensional drawing in the same
way but how can I prove that I really am
in 3d so one thing you might have
noticed that no no that you can do let's
let's let's make a variable called angle
and set it equal to zero
and I am going to write before I draw
the rectangle say rotate by that angle
and then I'm going to every time through
draw increase the angle a little bit
angle plus equals zero point you know
zero seven or something some arbitrary
number so let's refresh now look at this
cannot what this cannot read property
transpose three times three this looks
horribly scary and awful let's see if we
can find somewhere mmm okay so it would
really be nice someday we're gonna
figure out a way for p5 to give us a
little bit of a friend your error
message and actually if you go back to
that processing or medium blog you'll
see that I'm Alyce Chun has worked on
this whole p5 Geoff's friendly error
system but that's a separate the reason
this is happening is that rotate in 2d
if I have a two dimensional plane this
is a two dimensional plane and I say
rotate there's only one way to rotate
but if I'm living in a three-dimensional
world I can now rotate by what axis this
is the x axis so this is rotating along
the x axis this is the y axis so this is
rotating along the y axis or the z axis
is the equivalent of rotating in 2d so I
could say rotate Z and refresh the
sketch let me move this over a little
bit
suddenly there we go I've got my
rotating square now are we really in 3d
I'm not sure yet
but let's change this to rotate X now we
can see the three dimension look at this
it's like I'm very worried it's gonna
hit me now the important thing to
realize I mean this might be seems so
ridiculously obvious but I feel
obligated must state it this is still a
two dimensional plane
there's nothing three-dimensional about
this all we have done is unlocked a
separate rendering engine which knows
how to create the illusion of 3d
perspective so who's to say whether I
you know have a square and make
bigger and smaller is the square growing
and shrinking or is it zooming in and
out in the third dimension but this is
definitely in effect you could as a
coding challenge I might say recreate
this without WebGL and you probably
could figure out like could you like
maybe oscillate these these the vertices
of this quad up and down to create this
shape that looks like it's spinning but
this is why WebGL exists so that we can
just kind of do stuff without it so I
can also now say like rotate Y and I can
say you know just can like have it
rotate maybe like slower along the y
axis and we can see now here we go I've
got this spinning plane and all we got
to do is put general zod and we have the
end of Superman 3 is that right flying
off into space and I can add rotate Z
angle times 1.2 and we can see now I
have all three axes spinning so this is
first step number one now another so so
that's a 2d 2d plane there actually is a
plane primitive in three so the question
is we can use two-dimensional shapes
that can live in a 3d world but we can
also and just like they're these
choosing parameters arc ellipse line
point quad rect triangle there are now
this whole list of other 3d primitives
plane which is essentially what I've
just done box sphere cylinder cone
ellipsoid tourists let's look at box so
I'm gonna comment out this rectangle and
I'm just gonna say box now what if I
don't put anything in there probably I'm
not gonna see anything I would think oh
look it gave me some default you can
kind of see that there's something 3d
there right a little hard to totally see
because there's no shading there's no
lighting so the three-dimensional
illusion becomes much more prominent
once we've added more stuff but one
thing you can see here that I can do is
with box if I say 200 now I have a box
whose what are the dimensions of a box a
rectangle has width and height a box has
width height and depth so I can actually
start to play with all those ten you
know 150 and you can see now I have this
spinning wreck
angular box that has a separate width
height and depth so this is the basics
of working in 3d which is that you can
just create chips now here's create
three-dimensional primitives you can you
you can color them and you can rotate
them here's the thing though how would I
move this throughout the 3-dimensional
space
well rectangle right rectangle I give it
an an X a Y and a width and a height box
i gave it a width a height and the depth
i think it's that order could I also
give it like an x and a y like negative
50 10 no cannot draw stroke something's
going on like crazy so that's just plain
wrong the only way to position these
three dimensional primitives in
three-dimensional space is with the
translate function so in 2d you can use
the translate function to move the
origin point around and draw stuff
relative to it
same thing in 3d but the translate
function is really required so if I did
something like translate Mouse X Mouse y
whoops and you can see I'm kind of like
whoa somehow it's sort of moving now
here once again this is the thing I've
really relinquished pinpoint accuracy of
pixels first of all it's did I did I
translate before I rotate it did I
rotate before I translated what I really
wanted to do was translate before I
rotate at least for the effect that
makes a big difference here because what
I want to do is show you like I can but
remember 0 0 is the center so if I
really want to move it with the mouse
I'd probably need to say translate Mouse
X negative oh my god negative a with a
little high if I'm true if 0 0 is the
center and Mouse X is at the center what
do I want to do I just need to subtract
that center out so when you say - width
divided by 2
- height / - and I now have this 3d
shape that I'm kind of moving around
with the mouse but again 3d right
I'm only translating along the X and the
y-axis something else I could do is I
could say zero zero don't translate x
and y but translate by the mouse along
this use mouse X to translate along the
z-axis so now you can see as I move the
mouse left and right
the spinning rectangle is zooming in and
out okay
yay I'm taking way too long to go
through all this stuff let's look at
some of the other shapes and by the way
coding trained viewers Simon Tiger
create a nice little github gist that
has a quick reference for all of these
so let me look at one of these like I
really like the Taurus Taurus is
essentially a doughnut and looks like a
radius and a tube radius let's try that
so a Taurus and let me give it a radius
of 100 and a tube radius of 10 and go
back to my sketch and we can see let me
not zoom it anymore just rotate it and
you can see there's my nice little three
dimensional ring so the tube radius is
there's almost like the thickness of the
doughnut right so if I were to make this
50 you can see this is a much more
delicious doughnut to eat because it's
fatter around the butt and the actual
radius itself is the radius of that
circle so I could make that 50 with 10
you can see now I have a smaller one so
I I could keep going through all of
these
there's cone I'd actually don't know
let's go back to that list there's plain
box sphere cylinder cone ellipsoid
Taurus I encourage you to explore those
on your own take a break see if you can
there's actually a nice example on the
p5.js website which I will go right now
learn examples under
webgl 3d I'm gonna go to geometries so
here we can very quickly see here or all
of them let's see we can figure this out
plain box cylinder sphere tourists come
so what I would say it's like as an
exercise see if you can recreate this
position all of these shapes rotate them
so you can get all these primitives to
work you will notice here why are they
there that's nice like rainbow color and
that has to do with material so I think
perhaps in the next video I want to
quickly look at material and texture to
see on how those work in 3d as well okay
thanks for watching
alright oh boy quaternion what if the
tube radius is bigger than the radius
interesting okay how are we doing here
you drink a little water normals full
you guys and all your 3d stuff okay yeah
I should mention your browser has to
support WebGL if the browser doesn't
support WebGL no this will work alright
let's see what am I gonna get you next
so let's do material and texture
you go to this tutorial I probably
should use the lights first but let's
let's do this
Oh interesting norm ters not it
automatically maps of geometries normal
vectors - or GB colors okay okay
reading this huh so it does however the
total color is affected by the light of
normal material okay specular
okay alright so let's try talking about
materials it's the kind of like material
isn't light I don't think it makes sense
to talk about material without light so
let's do materials and lights in one
video and I can try to use these and
let's see simon's helpful just here wait
we'll probably show up with those things
at some point okay it's a material
subject yes alright okay here we go hmm
where's my marker where's the good eye
Harris I think it's just workers
everywhere in this room is this the one
that I was using that's good enough all
right okay hello so in this video I
think I want to look at both lights and
material I'm not so first of all I
really barely noticed three these stuffs
oh thank you for correcting all the
things I'm saying and giving me extra
help in the comments I'm sure that's
going to happen but it doesn't seem to
me that it makes too much sense to look
at the different materials and what is a
material without having different lights
because material the kind of material
you apply to a piece of geometry affects
the way it looks based on the ladie
anyway so just going back to this list
all I've really talked about so far is
3d geometry and you can by the way
create custom shapes in 3d as well by
putting together multiple shapes or by
using begin shape and shape and vertex
maybe at some point I'll come back and
look at that but I'm really just
focusing on the primitives right now the
primitive shapes so what I want to look
at this is I guess out of orders I want
to look at material and lights so let's
look at that in
video so I'm coming back over here so we
have our tourist my favorite 3d shape is
a Taurus what's your favorite shape
primitive and I'm gonna go to the
getting started WebGL tutorial and I'm
gonna look first just under material so
these are the four kinds of material
normal material basic material ambient
material specular material actually this
is the first time working with WebGL p5
that I've ever really encountered this
terminology and material really
describes how the light reflects off of
an object and so let's actually just
change right now let's I'm gonna just
I'm gonna get rid of this fill you're
probably not really supposed to use fill
with the three-dimensional shapes you
should really use material and lights
but I'm gonna comment out this fill and
I'm gonna let's make this tourist a
little bit bigger let's see how it looks
whoops there we go okay so now this is
just the tourists with no fill no lights
no material now let's add a normal
material normal the way I do that is by
saying normal material and look so one
thing the normal material does and
there's this off oh boy I think I might
have to talk about normals Oh a detail
oh and the WoW okay first of all let's
come back to something do you remember
there was a time once in a previous
video where I had stroke in there I'm
gonna put that back stroke zero I should
probably use a sphere but let's stick
with the tourists look at this
and let's slow down this rotation by
quite a bit so look at this this is now
what a three-dimensional shape is is
actually a tiled set of polygons and
what you can see here these are actually
referred to as triangle strips because
you can see how there's strips of
triangles they're all flat shapes these
are all flat two-dimensional shapes but
when layer next to each other and bent
ever so slightly you can create the
appearance of a three-dimensional shape
now one thing that's really important is
the level of detail
here so one thing I want to just quickly
examine and we go to the reference let's
look under tourists and see if there is
a detail detail X detail why the use of
her I know so that I was talking about
lights of material but I think this is
important detail X and detail y refer to
the level of detail how many polygons do
we use to create that the default is 24
and the y the default is 16 so let's so
in other words if I add 24 and 16 here
we should see exactly the same shape but
let me now go and add 128 whoa ok cannot
draw strokes on a tourist object with
more than 24 detail so it's actually
like saying to be you know what I
appreciate that he I'm having all this
detail but I can't draw the strokes now
so that's actually that's interesting I
wonder if sphere would perform the same
way but let's do the opposite let's make
the detail much less so you can see and
you can see and let's change this detail
from 16 to 4 you can see that this still
has that tourist like shape but it is
much more jagged it's it's it doesn't
feel rounded anymore because the more
detail the more polygons the more the
illusion of it being rounded it feels
like it's kind of like drawing line
segments to make a curve the more points
you have along those line segments the
more curvy that might look so that's an
important thing for you to realize the
reason why I bring that up is material
so all all 3-dimensional shapes well let
I'm just gonna draw over here so let's
say you have one of those triangles and
I know I'm just drawing an arbitrary 2d
shape on here there is a term that
you'll see when you're reading
documentation called normal and the
normal refers to the perpendicular line
segment from the plane of that polygon
in other words this so this is the
normal and I could kind of try to draw
it you know with the illusion of 3d by
drawing like an arrow like that so uh
the normal is if you know if my head was
a 3d model and there's a little
triangular polygon right here
this might be the normal and that normal
is what can kind of controls how the
light reflects on it and how it appears
when you see it in a computer graphics
context we pause for a second because
this says I wonder I want to see if this
is actually going to be helpful oh yeah
so this is helpful so let me come back
where was I
something like this so there's a nice
Wikipedia page that I think has a
diagram called normal geometry and you
can find out more about this surface
normal here's a polygon there's two
normal vectors one point that way one
points another way but I'm not going to
get lost into this boat the reason why I
bring this up is right here you'll see
normal material maps a geometries of
normal vectors to RGB colors so what
does that mean exactly why is it why is
it like rainbows it because I didn't put
a texture on it or no lights like if I
like why does it show up with that
rainbow color it's because I haven't
textured it or I haven't does it is it
affected by the light so I need to
timeout for a second here like let me
give let me just see an ambient oh am bi
mature ambient light look let me add an
ambient light you don't need this
anymore
Oh XYZ control RGB that's what normal
mapping does okay so when do I want to
use when would be when do I want to use
the normal mapping just what I want to
see like it just for like debugging
basically
don't wait yeah just for like debugging
I guess testing thank you
I got it by the way do you realize that
like I make these video tutorials I
really don't know what I'm talking about
and then the chat gives me the night
content I know what I'm talking about
you know I guess like new stuff at one
point in my life but time moves fast I'm
an old old person programmer here
okay you know and I'm like a 2d numbers
programmer person okay okay I got it I
got it thank you all right so where was
I I was like here so loud in the hallway
I gotta take a break
this is just for debugging normal map to
the actual lighting calculations in the
shader we please get more polygons okay
all right we gotta keep this move in
here this is an exercise in making a
tutorial about WebGL learning WebGL and
making it tutorial at the same time okay
right so you know got it got it okay
thank you everybody I got this I got
this
so why would you use normal the truth of
the matter is if I come back here and
look at the okay wait wait wait I'll say
now I lost what I was saying okay I
gotta go back here so understand so
basically it's taking the XYZ locations
thank you to the chat for helping me
with this - to create RGB colors and
that's why the X is red the Y is green
the Z is blue and that's why once I add
back in this normal material onto the
tourists we see this rainbow color the
truth of the matter is this is really
just for debugging so if I haven't
figured out like what the lighting is
and the fill is and the texture is all
this other stuff I'm really gonna be
able to easily see that this is like a
3d shape because of
sort of rainbow color scheme and I know
this is like I got to add let me add the
polygons back in and we can see this
here okay so that's what a normal is
that's what a normal material is there's
our torus let's move on so let's look at
some of these other materials so basic
material is a material that fills the
geometry with a color so it's really
it's really what you should use instead
of fill so if I if I change this to
basic material and I give it green as a
color basic material is not defined what
did I what did I do wrong
basic material hold on a sec basic oh
this basic material not exist anymore so
interestingly enough whoa let's try to
time out why was basic material why just
basic material removed because let's
let's see if we can find a github issue
about this shoot I'm not gonna get
nearly as far as I had hoped
issues which no longer exist fill or
normal mature so fill is actually a
basic material so this happened over the
summer we can see the work by Kate
Hollenbach here you see if their default
stroke and fill basic material missing
let's look at this as fill does the same
job okay so
boy that's tutorial is out of date so
let's let's edit this tutorial
let's just let's correct this tutorial I
would go back where basic so I'm gonna
get rid of this I'm gonna just like at
one time there was also a basic material
which fills the geometry with a color
but is not affected by the late
functions which fills the geometry with
the color but is not affected by any of
the light functions however due to it
being the same as fill it was removed
and the function fill can be used in
WebGL to to map up to fill jump tree
with a color okay so let me get rid of
this while I'm here it drives me crazy
that these are not syntax highlighted
functions so if you if you can bear with
me here alright so let me save this okay
I'm material okay and okay I probably
should link to something there but
that's fine okay so you wrote the
instead of it what did I get wrong at
one time there was also a basic material
which fills the following geometry with
it which fills the with a color but is
not affected by any of the light
functions however due to it being the
same as fill it was removed and the
function field can be used can be used
it can be used with WebGL for the same
functionality that's probably what I
should say let me add this one more time
can be used with WebGL for that
functionality for the basic material
functionality okay all right okay
so let me come down here
you know I I'm like some day I'm gonna
have to do like a I don't find one seen
the old Phil Hartman siren live sketch
anal-retentive chef but I unfortunately
anal-retentive coder and I cannot bear
don't be like me don't be like me
save yourself I cannot bear to look at
this because there are no spaces but
before that zero but there are spaces up
here I have to correct that I'm so sorry
I also it's driving me crazy that this
uh that there's not a line break there
just everybody here hold please or
anything else I really need to correct
while I'm here alright that's better
okay all right let's move on now to
basic material drop it again let's move
on to basic material now you might have
noticed while you were watching the
beginning of this video
it said basic material there and then
all of sudden the tutorial changed I
took a little break and I add into the
tutorial because basic material I was
wrong something I said earlier was wrong
has actually been removed from the p5.js
WebGL rent mode rendering mode because
what basic material does is fill the
geometry with a single color and in fact
what also does that the function fill so
I changed I updated the tutorial to
reflect this and we can now go in and
say so I was trying to I was trying to
debug this here and I got an error which
i think is probably still in the video
I'm not sure so I can change this to
fill 0 255 0 and I can then go back to
see my torus and we can see there it is
there I now see the green Taurus I could
take out the I could take out the stroke
I don't need this wrecked mode anymore
and these things and I could so now we
can see now look at this here's the
thing now one thing I should show you
let's change this from a Taurus to a
sphere do you see a sphere look at the
beautiful round 3-dimensional sphere it
looks so much like a flat ellipse this
is because without any lighting a sphere
or without any change in perspective or
change in lighting it just appears
completely flat to me so one thing we
should try to add to this is some
lighting to see if we can see the
shading of the sphere so let's add let's
kind of look back at lighting and one of
the quickest way to add lighting to a
scene is something called ambient light
so I can go back and just right here at
the beginning
I can just say ambient light and let's
say the sphere is the sphere is blue and
I'm now going to add the ambient ambient
light of red let me comment this out
first so there's my blue sphere now I'm
gonna put the ambient light of red in it
looks no different so here's the thing
bill which uses a basic material does
not actually respond to the lighting in
the space so in order for the material
to respond we need to use a different
material and so if I come back to that
tutorial we'll see here that ambient
material is like I need to correct this
pause freeze-frame let's see if I can
put edit and look for ah shoot basic
material I'd say page
back magic
I'm sure the zoo was it doesn't match
but auntie material is like fill however
the total color is affected by the
lights so let's go back now and change
this to ambient material so the ambient
Journal is blue the ambient light is red
and let's see now what we get all right
interestingly enough why did that fail
oh the smudge at the bottle look at this
came off sorry
thank you how long was that there for
yeah yeah so okay hold on it's not a
green cloth it's actually just green
construction paper so let's go back and
add the ambient material mm-hmm all
right so what is going on it do I have
I've encountered a bug or have I done
something wrong
and materials like filled with the total
colour affected by the light functions
oops
all right so if I don't have any ambient
material I see the light reflecting off
of it if my ambient material is white
let's look at the ambient material
reference Oh No
gray red or q-value green so I think
something is broken I think something is
broken let's try to test some stuff
let's get rid of the ambient light okay
that didn't work
oh but without any light though then it
won't pick up anything okay
yeah that's working no I know yeah
you're right so the ambient material
won't actually see the shading I just
wanted to see the combination of the
color so but I'm confused why let me
give it white light whoa oh it needs an
argument so white and white should be
white white and gray should be gray okay
white and kind of like oh that's working
oh I know what's happening I mean I
thought it would mix the colors but I
think it's not able to illuminate this
is zero so this is basically just
illuminating that aspect of the color
because it absorbs all the yeah so so
baby this was a bad direction to go in
because now if I do this right it's
there so and I'm not gonna get any
shadows because it's ambient light so
okay let me back up here no color is
reflecting okay so I think I know what I
need to do now
sorry this is so often often what I do
is I do these like tutorials in a
workshop here at NYU I figure all this
stuff out then I come and do it as a
video but alright so so let me where was
I all right so I'm gonna have to explain
this what was I trying to do let me just
go back from the docks point like yeah
ambient light point light thank you it's
multiplicative yes yes yes that is such
a good point okay all right sorry let me
go back so I'm gonna go back to where I
had Phil
so I'm gonna change Phil now to ambient
light and look what's gonna happen
whoops
no not ambient light sorry ambient
material I'm gonna change Phil - ambient
material and look what's gonna happen
nothing I see nothing well here's the
thing ambient material means light to be
able to reflect back that color and in
this case it's it's I guess
multiplicative as a way of thinking
about it but you can see there's no blue
light so I can't see any of the blue
color if I gave it a little bit of red
here in the ambient material we're gonna
see just that red it's reflecting out or
if I made the ambient light all white
I'm gonna see that actual color but
here's the thing I said I wanted to be
able to see how this was 3d and I kind
of misled myself or misled you and that
ambient light is this kind of magical
light that exists in equal amounts from
all directions
so in that case we won't actually see
any shadowing what I want to probably
use to see some shadowing is a point
light so let's do that a point light if
I go to the reference it is a light that
has a color and a position so I can give
it an RGB value and an XYZ value and
yeah there's a bunch of different ways I
could give it a full color but let's use
all the let's use all the values just
for simplicity so let's give this point
light 255 255 255 and let's put the
point light at let's put it off to the
left so I'm gonna say like negative 200
zero zero so and how so what that's
going to do now is it should be you can
see the point light is somewhere over
here and you can see this shading out it
says if it's not a flashlight
that's a directional light but it's a
point light so it's a light that
emanates in all directions but from a
single source so for example if I were
to now make this
I read and then make another point light
that's like blue but on the other side
we can see hmm
and let me make let me give it the
material what did I do wrong here let's
put this one second
Oh weird so this seems a little bit like
buggy in that why can't I have what this
one seems to be let's make the material
all white maybe I maybe I'm not gonna go
down this road is this a bug have I
found a bug right shouldn't I be able to
have two point lights one from one side
not just the second one apply this seems
like a bug to me what if I put it like
no it doesn't change anything
yeah so I think the bug is having I have
a feeling that does some of the examples
are using different I'm gonna I'm gonna
just back up my - I'm sorry making a big
editing mess for you but I'm not gonna
add the second light because it doesn't
work and I'll have to investigate that a
different time so so we could also this
is what I had originally right point
light
wait hold on what did I have and then I
just made think I do this right did I do
that
remember where was I yet redefines the
current point light as opposed to adding
another point light which I to me as a
bug should add multiple you should be
all have multiple point lights let's see
what happens if we put the point light
inside the sphere whoa so you can see
it's kind of like coming from inside so
the other thing I could do is I could
try to give it like the mouse location
I'm writing to offset by the center if
I'm using the mouse and you can see now
as I
move the mouse around I kind of have
that point light moving let's switch it
back to the Taurus and we can see here
same effect so now we can start to see
that shading from a point light and
older version totally works all right so
we've got to file that as a bug mmm yeah
I wonder if I should just revert the
version and show this in the tutorial
and then we can fix this bug another
time ironically I hope making sure to
update my version I'm gonna just leave
it we'll come back to it and fix that
fix that by I'll fix that bug okay so
let's see all right let's keep going
okay so what else am I missing here so
far I haven't shown you a couple other
things one is there something called
specular material and specular material
is a shinier material it reflects the
light in a shinier way so if you wanted
to kind of like that sort of billiard
ball like quality or more like water or
metal quality let's just even see how
this looks here you can kind of see as I
move it it's a little shiner now
everything is so dark so let's make the
let's make the specular material white
and the point light kind of this like
pinkish color and we can see here yeah
so you can see specular material and you
can sort of it's definitely revealing
the level of detail in that Taurus and
the geometry I could also add by the way
just an ambient light that's just white
to kind of illuminate the scene a bit
more oh boy that ambient light really
took over I think the lights are broken
looks like you can only have one light
in the current version of p5 strange all
right maybe I should revert because this
tutorial I could secretly use the older
version for this part of the tutorial
and then we can make sure to fix p5 when
we make a commitment to that let me I
think what I want to do is just how do I
get the zero point five point seven I
got to go back to where is the just
right now here we go
so what I'm gonna do is here I'm just
gonna really just reference this version
of the library I'm gonna go all the way
back now
well this see there's other weird bugs
Oh
severe ambient material
I forgot what I was doing this is kind
of like where I was all I hate that this
error is here well that's annoying and
then just see that this works
yeah it totally works oh this would be
nice to demonstrate this would be nice
to demonstrate there's only one ambient
light in 3d worlds but shouldn't I now
if I were to add an ambient light and
make that light like greenish oh yeah
that worked sort of if I make it white
it takes over I guess it's so bright
yeah you can definitely only have one
ambient light I guess it's just the
because it's so bright it washed out all
the other colors so that's not worth
showing anyway i could disable this
warning
anybody know really quickly how I can
shoot how I can disable warnings
show only errors in chrome development
console that link is helpful but I would
prefer just the actual instructions
there's an option right there at the
console the down arrow at the top the
down arrow at the top here we go top no
default levels warnings okay great thank
you okay I don't know if this is a good
idea but what I'm doing in this tutorial
now is I am creating a story or I'm
quickly switching to an old version of
the b5 library to get a piece of
functionality working and then or to
complete the tutorial and switch back
with the idea that it is now I'm now
taking on the responsibility of making
sure the p5 library itself gets updated
so that when people watch this tutorial
and use the code that it actually works
so no I just that warning is like an old
bug from the old version of p5 it's not
relevant I just don't want us to show up
errors are important warnings I don't
I'm like a programmer is like it's just
a warning if it works ok stop don't
working don't be like me though don't be
like me I've got lots of problems ok so
the question now becomes how could I
possibly undo all the way back I'm gonna
try not yeah I am so sorry for
everything I have ever done
oh wait I went too far
yes okay here's where we were okay all
right all right now let's try adding a
second point light so what if I add a
second point light and put it on the
other side you can see it's illuminating
both sides what if now this point light
was kind of like reddish and this point
light was kind of bluish we could see
and let me make this let me make the
ambient material just white because this
really what I want to do here we can see
now that those lights are staying in Oh
interestingly enough the lights are not
being affected by the translation and
rotation however if I were to put the
lights after the rotate yeah now the
point lights the point weights don't get
affected by that I just get these ideas
and no one I'm not gonna move the light
okay so one thing one thing I think
might be helpful is actually to see
these lights move so another thing that
I could do is I could actually just say
let me put the lights now sex - with / -
mouse why - height / - so you can see
now that this whoa I did something weird
mouse X mouse why oh I guess the light
that makes sense the light oh is this
right oh because it's flipped the axis
is also flipped up oh my goodness so
back up again
notice that before just give me a break
here
drink some water oh my god it's 12:30
I'm never getting to this coding
challenge you know what you probably
better for me to actually just
completely start this whole tutorial
over but I guess I'm too stubborn okay
all right now let's let's demonstrate
moving some of the point lights around
so one thing I could do for example if I
let me get rid of the red one and the
blue one just keep the red one and I'm
gonna make put the X location at Mouse X
and I've got an offset by the center -
width divided by 2 so we can see now as
I move the mouse I can affect that point
light now though the Y is not changing
here's the thing I just realized
something
I am going to put that Y up Mouse Y -
height divided by 2 and look what's
about to happen
uh-oh so one thing I forgot to mention
is in addition to the difference with
zero zero being in the center for WebGL
rendering where's the top left for 2d
canvas the y-axis actually points up so
what I think that I want to do is say
negative Mouse y plus height divided by
two and now I kind of have this point
light that I could move around with the
mouse
I could obviously move the Z location
the point is the point light of it all
is that a point light is a single light
source that emanates in all directions
that I could give a location ok now
let's put this back let's put this back
back to being a tourist because it'll
allow us to see the
see the rotation stuff a bit more you
can see this now I still can move this
light around it's spinning so slowly
let's spin it a little bit faster again
so we can see here I can move the light
around I have this spinning Taurus
now there are two other things we
haven't looked at one is one is another
type of material called specular
material so specular material is just
like ambient material in that it
reflects the light but it's shinier so
if you want to do something like a
billiard ball or some like kind of metal
like looking surface you can use
specular material instead so I'm gonna
change this to specular material from
ambient material we're just gonna look
at what it looks like different like
okay so we can see you can see it has
this kind of shinier quality to it you
know I might want to put in do something
different with the lights you know maybe
what might be nice is to actually go
back to having these two different point
lights that are just on opposite sides
negative 200 zero zero and we can kind
of see you can kind of see here a bit
more about the sort of like shininess of
this material anyway so playing with
lighting and playing with a material is
going to make a big difference in the
appearance of these particular objects I
wonder if I add a fill I think it would
just take over right so one thing to
realize is if I add a fill like if I
just add like a green fill fill
completely takes over kind of its adding
a basic material you could only have one
material you can't have multiple
materials so the second one replaces the
first one however you can't have
multiple lights there are some there's
some bugginess between this hopefully by
the time you watch this video this point
light stuff will work for you if it
doesn't make a note in the comments I
don't try to reply to you but there's
one other kind of light that we can look
at as well and that is a directional
light so this is pretty tricky
directional light is um wait hold on
this doesn't seem right to me the
documentation looks wrong
red-green-blue position it needs to have
a direction you know what I'm gonna not
include I'm gonna come back and do maybe
a video with the directional light
because this is absolutely right this
cannot be correct with a directional
light Oh a fill with alpha that's
interesting I should try that a
directional light right a point light is
a single light that emanates in all
directions a directional light is a
single light that emanates in one
direction so you need the color you need
the position and you need a vector that
defines its direction I don't see any of
that in this documentation here so right
it would need position and direction or
does it just get placed by translate the
direction of the light oh so how do you
have to position it with the do you have
to position it with translate there's no
position for directional light it's from
infinity oh really
let's look at the tutorial oh okay
do not have any specific point of origin
and therefore cannot be positioned
closer or farther away so what's a like
a flashlight
I've where you have a directional light
in a position is it have a name is that
called something directional light is
like the Sun okay do you know this all
right all right all right all right all
right so let me just let's try this
quick let's just stick this in the code
so I guess I will do this
so that's directional light which is
which is quite nice actually flashlight
is a point light okay let's try the
directional light okay so what's a nice
way of saying the difference the
directional at welcome directional light
is ever spot light but is there a spot
light function and the reference yeah so
maybe someday that'll get at it yeah
okay all right all right everybody do
small do small
okay
I know spotlight is in processing I just
don't see it in p5 boy what a mess this
is I should just you know Matthew as you
watch this eventually I can I could be
very happy actually just like redo this
it will take me probably like 15 minutes
now that I know what I want to like show
and how to show it but we'll see if
something gets and if something can
actually be edited together great but I
could just this is a good learning
exercise for me I'm happy to just come
back and redo this if it's too much of a
mess alright so there's one more light
that I want to look at called
directional light so directional light
is a light that it's kind of like you
can think of it from like the Sun so it
comes from like an infinite place far
away but points in a particular
direction and so so what we need to
define is the color of the light and the
direction that it's pointing so let's
see if we can figure this out I'm gonna
get rid of the point light I'm gonna put
it back to ambient material and I'm
gonna go here we could see okay so
there's no light and it it looks black
because there's no light reflecting off
of it so again now what I could do I'm
going to add directional light so let's
just out of curiosity let me add a blue
a green directional light let me not
give it me just give it a color and see
what happens whoa that is kind of nuts I
don't know what sort of like weird by
accident behavior this is but the thing
that I didn't give it is a direction so
for example what if I want to say the
light points in this direction so that
would be a positive along the x-axis and
0 0 so let me let me say 1 comma 0 0
that's a vector that point pointing in
this way in the in the in the direction
to the right there we go so this is kind
of more what I expected interestingly
enough it seems to be coming from the
other side because one is that correct
you can see though at that moment like
it's really
only from that one side and I could add
another directional light that's like
red and put it whoops I could put it in
the opposite direction right so you can
see these are two directional lights
whenever this Taurus I you can see it's
like green on one side red on the other
one zero zero is right it's correct why
is that I'm thinking of one pointing
this way but the drew is the vector like
I'm saying where it's coming from so I'm
pointing from the scene to an infinite
location out far far away so that's why
and so what I could probably do here is
I could do a nice example of saying let
me look at the difference between Mouse
X and the center of the window and Mouse
Y and the center of the window and I
could give myself a red directional
light from that direction now it's
working but what did I miss here why is
it so it's so like unbelievably perfect
what did I miss here do I want to like
give it a little bit of Z what did I
just do
so okay why is this great oh you know
what it might be maybe I need to
normalize those values okay I'll just
out of curiosity just to be sure about
this go back to the more recent version
oh boy
directional light is totally broken in
the new version as well
Oh No ah okay I need to map it from 0 to
1 okay I need that vector to be a unit
vector probably right so and uh all
right I got it okay let me go back to
that so i I've done something and I'm
getting a weird artifacts because of it
and the thing that I've done is that I
have these like arbitrarily large values
now for dxdy
before when I just said you know 1 comma
0 it's coming just from one direction
and notice that these values don't get
higher than 1 so actually what I need
probably is a unit vector a vector that
doesn't have a length greater than 1 and
one way I could do that is I could make
a vector in p5 with the Create vector
function that's DX dy comma 0 so this is
a vector that has the x y&amp;amp;z direction
and then I could save enormous and I
think I might actually just be able to
give that vector as the third argument
see if this works
yeah so now you can see I can move my
mouse around and change my mouse is now
the Sun let's make it yellow what's
yellow red and green right so this would
be basically like a simulation of the
Sun of course the Sun isn't really
yellow it's like a bright white let's
just let's forget about all this color
stuff let's just say 255 255 255 and we
can see here I
this bright white light coming from a
particular direction and you can see
it's not gonna change it's just the
direction a point light would be
different because I'm actually placing
it like a point light I could actually
put in the center and it would be
reflecting off the center of the Taurus
but a directional light is just coming
from a point sort of infinitely far away
and pointing in that direction okay
whoa are you watch if you if you have
watched this video and you were learning
something from it you know you are a
mensch
a true Menge here okay I think that's
everything I think I have now gotten
through all of the lights and all of the
materials so here's what I would like to
ask of you think about one an exercise
could be what about making like a little
planetary simulation what if you used a
point light where there was actually
like a moving sphere so as the sphere
almost like it's a star and it's
lighting other spheres around it or
something so try to create a scene that
has different materials and different
lights point lights directional lights
and see what type of effects you can
create just with material and light
alone and in the next video I'm gonna
look at something called a texture which
is really going to open up a lot of
possibilities in how these
three-dimensional shapes look okay
thanks whew oh my goodness well I
certainly have learned a lot about WebGL
today
one thing that I'm curious about is the
same bug I hope someone's keeping track
of these bugs for me is the same bug
right true for directional light that we
found four-point light
you know you could make the argument
that p5 should internally normalize the
vector for you yeah same problem right
whichever is the second directional
light takes over but if I go back to the
older version of p5 I can get both
directional lights so this is definitely
something Oh 1245 so what should I do
quick straw poll here oh this computer
died my slack channels
died oh can I come back later oh not
enough time I might have to just
continue this stuff on Thursday the
question is I was gonna say like maybe I
should just do the texture now and come
back and do the coding challenge stuff
on Thursday because the texture I feel
like I was gonna say maybe I should just
try to do the coding challenge cuz I
have all the material I love all the
stuff to do the coding challenge I don't
need textures for it and I have 15
minutes I know which I have a feeling I
just want to get the slack chat back
open this computer computer died I was
gonna say I kind of know what people are
gonna let me get this back up and
running here textures now okay do the
challenge
all right there's your straw poll
everybody you've got about one or two
minutes to fill it out all right I
didn't miss any larger values make the
math boost to saturation that's
interesting the challenge by the way is
no way I'm gonna be able do this in 15
minutes though that's why the challenge
is this like I think I could do this now
without this doesn't use textures I mean
the lighting is sort of an an
interesting question
um how to get this this like different
colors oh and this uses isometric
perspective I didn't do what I haven't
done tutorial wise is well first of all
I think it's an open question whether I
need to just completely go back and do a
do-over with the sort of lights and
material tutorial so I'm considering
that I'm gonna wait till Matt Chia who
does the video editing kind of gives me
some feedback there so I need to do
texture and I need to do camera and I do
have that coding challenge the thing
about the coding challenge is I wanted
to kind of cover simple harmonic motion
in a basic video which maybe that's what
I'll do
oh there's so many yeah you can use a
video texture oh I did miss a bunch of
chat messages sorry alright okay so
let's see this is private feeling this
is gonna be obvious here but oh yeah so
it's pretty okay yeah I can
just I'm just gonna go with it all right
let's do it I'm gonna do this I'm gonna
run a little overtime but that's okay
and the chose isn't that hard yeah okay
so not everything is ten times harder
than you think it is and you'll see and
especially for me who's incapable of
doing any of this stuff you know like
quick and simple way all right all right
so Thursday I'm going to come back and
do the rest of the WebGL stuff and
possibly redo the materials in lights
tutorial and other you know whatever so
let's see if I can do this challenge
let me get set up here
oops
okay it's whole squares that only move
up and down okay okay all right okay
here we go
Twitter bees and bombs oops
people
okay
and keep wave alright everybody
Alka I know you're out there give me
some tips in the chat as I go here all
right this is my first coding challenge
that I'm going to attempt in JavaScript
using 3d rendering I am currently
working on a set of tutorials about
WebGL in p5.js I will link to those from
this coding challenges video description
but I bees and bombs on Twitter I highly
recommend if you're interested in
looking for like really geometric
algorithmic mathematical illusion gifts
that will kind of blow your mind
check out the bees and bombs Twitter
feed and look at this
oh yeah look bees and bombs is watching
this right now this is the gift I'm
going to try to recreate in P 5gs using
the WebGL renderer okay so we'll see how
this goes I'm just gonna get started so
first I'm actually gonna just work in 2d
because one thing that I need is just
this night and I really need this in my
life breathe in breathe out breathe in
meditation
I'm very high strong I really think to
work on meditation and this is actually
a nice calming soothing gift so I need
something that can give me that
oscillating behavior and the sine
function simple harmonic motion the
swinging of a pendulum the plucking of
guitar string I do have some other video
tutorials about that in processing that
I will also link to from this video so
first let's just make that happen in 2d
so what I'm gonna do is I am going to
have a variable I'm gonna call that
variable angle and I'm gonna stick I'm
not gonna I could add angle mode degrees
to think in terms of degrees but I'm
just gonna stick with radians I'm gonna
say angle plus equals 0.1 then what I'm
going to do and because once I get into
WebGL mode the center zero zero and
WebGL render is the center I'm actually
just going to quickly translate to the
center because I want to just do this in
2d real quick
let's draw loops let's draw let's say a
rect mode Center and let's draw a
rectangle so I want to draw a rectangle
who which position is zero zero and it's
with this some arbitrary thing like 10
and it has some height so if I were to
say let H equal 100 we would sorry we
would add them in the wrong place we're
gonna do here okay so that's that's one
of these days I'm gonna be able to move
between these okay so let's add a
background that's black and let's add a
fill that is 255 okay come on there we
go
every oh so there's that rectangle so
what I want to see it now is breathe up
and down oscillate up and down so the
sine function is a function that will
give me a value between negative 1 and 1
timeout for a second I'm going to need
to erase this where is my water bottle
this water bottle that is oh so sad
because when I continue the WebGL stuff
this will be gone but that's fine I will
recreate this drawing I've done that
before
by the way this works out like today was
something of a success if I were to
graph the sine function and the x-axis
here I could think of that angle that's
increasing over time I would see a curve
like this and that curve is going to
oscillate between plus one and negative
one so I could certainly use the map
function to I'm actually probably will
I'll use the map function the math is
not that complicated so I could take the
result of the sine function as a
variable value and if that's between a
range of negative one one and I could
map that range to zero into between zero
and 100 of course I go just like
multiply it by 50 and add 50 but let's
use the map function why not it's there
in p5 so I could say H is now mapped
sine of the angle which has a range
between negative 1 and 1 between 0 and
100 and what we should see now is this
so this is the behavior I believe this
is simple harmonic motion there's so
much that you could do with this right
think about layering these all moving at
different rates offset from each other
with different colors and sounds you
know the world is your oyster now and
what you could do with like simple
harmonic motion but here what I'm going
to attempt to do is I'm going to attempt
to try to create this now actually I
still think maybe I'm not ready for 3d
because I think what I want to be able
to know that I can do is put a bunch of
these in a row all oscillating offset so
can I take it make a 2d version of this
first let's see if I can do that so how
am I going to do that well I clearly
need a loop so let me say x equals 0 X
is less than with X plus equal and let
me go over by 10 pixels and then let me
draw each one of these rectangles at X
and
gonna draw it with a width of nine just
so I can see see it in between so this
okay so oh I forgot that I translate it
to the center so please go away terminal
so what I want to do is start X at well
I'll just say X minus with divided by 2
here
whoops what do I have wrong line 13 4
let X equal 0 right okay so there we go
now I have a whole sequence of these
oscillating but obviously they're all
oscillating together and if you see here
they're all oscillating slightly offset
from each other so what do I need I need
an offset so let's make a variable
called offset set it equal to 0 and I'm
gonna say I mean let's I just wanna let
me just say let a equal angle I'm just
going to break this up into multiple
lines of codes I think that makes things
a little simpler so this is this is the
same thing but now what I'm going to do
is say angle plus offset and then that
offset is going to change for each one
of those and maybe let's just I don't
know let's just try offsetting by the
same amount that the angle is increasing
so they're all just one step ahead at
the previous one there we go now this
has a totally different look to it and
it's actually like kind of it looks like
it's almost like this shape moving to
the right I mean I don't know I think we
could start to play should probably like
hook up some sliders here like with
different values I'm gonna get different
sort of things like is but is this the
right idea it's so funny because it
really looks like this thing moving but
what is it and maybe I if I make these
thicker like could I have less of that
yeah there we go so you can see this
it's really an optical illusion you know
by how I play with the size and where
there and also like the X should start
so I need some more variables here let
make a variable called W which is the
width of each one of these and I'm going
to set that equal to 24 and I'm gonna
say W minus 2 just to give a little
buffer between them and then this is
also where they start is wrecked X minus
width divided by 2 plus W divided by 2
and and let's have the offset and let's
have the offset just be perfect again
now we could say there we go so what you
can see this is all but now in the B's
and bombs gift there certainly is this
sense of the center going up and down
rippling out to the outside so I might
need to think about like how where what
angles are starting where the offset is
and that sort of thing but I think this
is close enough okay I think I can move
to 3d now so let's try moving this to 3d
ok so a few things I want to do first
thing first let's just add WebGL and
let's just take out this translate dare
I say if if WebGL mode works the way I
hope it will work I'm actually gonna see
the same exact thing right all I did was
change the renderer I'm still drawing
everything as 2d shapes I just changed
the renderer and now I don't have to
translate because by default the
renderer thinks the center is the sent
the center of the canvas is 0 0 alright
so I'm not seeing the shapes
oops hold on first of all this terminal
thing is driving me crazy
so what let's just see let me change the
background here yeah oh whoa first of
all look how slow this is crazy how slow
it is and the reason why I wasn't
getting the the color proper is because
well I really shouldn't be using these
the rectangle function here in 3d so
let's see if we can figure out let's
try to make this a little better right
now first of all let me put boxes in
each in this spot so what I'm gonna do
is I'm gonna say push I'm gonna add push
and I'm going to add pop and what I'm
going to do is I'm going to just
translate by the x value zero zero and
instead of drawing a rectangle I'm going
to draw a box of that size so let's see
what I get
okay oh and incidentally now what I need
to do is I need to translate X minus
width divided by two so they're all
those these are all boxes there are 3d
boxes you can't see that they're three T
because they don't they I'm just seeing
them from the side but you'll have to
bear with me here
just to prove that they're 3d what might
be worth doing is just saying something
like rotate X by that angle so that
angle that's affecting this side so we
can see that there there I'm gonna leave
that in there just so that we can see
this like slow rotation of the scene and
I'll even slow it down by like a quarter
so what I want to do now is let's see if
I can how do I affect the heights only
of those boxes so the box has a width a
height and a depth so I want lips within
the depth I'm just gonna have BW as well
so the width and the depth which is
along the z axis and the H is the height
so let's try doing that there we go now
they're spinning wow look at this I
think I'm getting somewhere
well this is kind of crazy looking oh
let me take out that spinning let me
move the whole thing down a little bit
and let me zoom out from it a little bit
so I'm gonna translate like everything
down like 25 pixels and out like 50
pixels so we're kind of like zoomed away
from it I want to see it from above a
little bit so if I
translate it down even further I guess I
need to think about maybe the camera but
or I might I could like sort of like
rotate everything by like a slight
amount like so I want to rotate along
the x-axis by like 45 degrees or
something oh no I want to say rotate X
and I want to do it the other direction
there we go so I just wanted to get some
view on it that somewhat resembles sorry
I lost this particular view now one
thing you'll notice have you ever played
the video game Qbert well what I what
this looks like to me I believe is
something called isometric perspective
oh no no no oh yeah orthographic
perspective let's look at the p5 just
reference for a second reference
perspective yeah perspective perspective
is a function that kind of says like hey
this is where the canvas is what the
camera can see this is its view of the
world and actually what I want is this
function ortho which sets up now there's
not a lot of documentation here but it
sets up so let me see if I can like
orthographic perspective let me do an
image search
so this of--this is perfect so you can
see this is a really nice image here to
kind of demonstrate the difference
perspective projection has this
realistic view of sort of distance and
of all of the this idea of like
perspective of drawing if you were
trying to learn a drawn perspective of
how the lines come together to a point
whereas orthographic projection so
perspective is the wrong word I'm saying
orthographic perspective that's not
right the idea here is the projection
creates this highly uniform look and the
video game Qbert is probably the most
famous
sort of example of this kind of
orthographic projection so I believe all
I need to do is say at the beginning or
so and then what I just want to give it
is a bounding box of what I want it to
see left left right bottom top near far
so I'm gonna say left and you know what
I'm gonna just have the numbers
hard-coded here left right bottom top
and you know what I'm just gonna have
the Z be the same I think this should
work and whoops
alright is the Y the other direction no
hmm near far isometric is orthographic
okay
alright what am I time out here for a
second mm-hmm
just type worth oh do I do I not need to
give it the arguments will do something
nice and default for me whoa what has
happened
no vanishing point is that the way to
describe it with all right let's try
getting some nice suggestions Thank You
artwork let's try this
my version doesn't use arguments hmm
could dare it be like a bug in the newer
what version were using Alka I wonder if
I need to go revert to an older version
of p5 yes
oh it's 10 after 1 this is bad point
five point six I I wonder if ortho is
broken I could do the whole thing
without worth it I felt that was
orthographic projection I felt like that
was kind of important let's try
reverting to an older version of the p5
library yeah okay so add this to the
list of things that are broken in the in
the newer version of p5 okay hold on we
have to back up in this coding challenge
yeah and why did I lose
I wonder if basic material is what I
needed to use the problem is now I've
lost or is that just because it doesn't
match because something else changed I'm
gonna do this yeah
and hold on Dolf so it changed the
direction of rotation changed because
this is what I had before right
or does ortho change that right this is
kind of like what it looked like it
should be quarter PI yeah mmm works in
point seven point eight it is broken at
one point six so let me maybe let's try
to get let's try to go to version 14
maybe we'll get other stuff more close
to what I had okay so something changed
something changed somewhere this is
all right close enough let's get rid of
the normal material all right close
enough okay let me keep going so let's
add orthographic projection so I can
give it a like a clipping plane or a
sort of it's called a frustum like the
bounding box of what I want to be able
to see with orthographic projection or
isometric projection but I think by
default if I just say ortho it's going
to change and we hit refresh and whoops
let me put okay so yeah so you can see
now it looks very flat now I need to be
able to start to see the different sides
of different colors so let me see if I
can add maybe at least some directional
lighting maybe let's see if I can just
add some lighting from the top let me
just say directional light 255 and let
me add the light from the top so 255 255
255 and then I want the light to point
down which is 0 negative 1 comma 0 so
let's see if this gives us at least some
shading mm-hmm and what if I do I
probably still have fill in here ah
right so I need to fill it's going to
take over I need to just give it an
ambient material ambient material will
allow the box to be affected by the
light there we go and I can make the
oops
and I want the light to be white and we
make a make the background black yeah so
I'm not really getting a lot of nuance
here in terms of but let be let's make
the boxes with a little less so there's
some space okay and I want to be able to
look at it
now maybe I should just give it ambient
light I could give the different sides
I'm lost now
all right so how come I am not let me
let me try rotating how can I see the
tops how can I see this shape I need to
figure this out
Oh ambient light by the way so I don't
want to use ambient light I could try a
point light I'm looking I'm thinking I'm
trying to maybe I'm gonna get a
suggestion from the chat I just want to
let me let me give it a normal material
so normal material is a useful material
for debugging because it just gives it
an RGB colors to all the different
vertices of the shape based on their x
y&amp;amp;z values let me give it normal
material and this now should allow me to
see okay let me okay so uh so Alka and
the chat is giving me an excellent
suggestion for how to sew orthographic
isometric pursue of orthographic
projection that's what I'm looking for
right so what I need to do maybe I could
find some documentation of this but I'm
just going to type what Alka just sent
me and see if this works and then and
then I'm gonna say rotate Y quarter PI I
knew I shouldn't have tried this with a
fixed amount of time and I have what did
I do here you another hold on let's
pause for a second let's let's edit this
part out
what I'm so the problem is all these
different I feel like there's all these
weird bugs in p5 so let's go back to
like a much earlier version and get rid
of this trans light and get rid this
rotate there we go that looks promising
yeah okay so hold on hold on everybody
I'm just thinking this through here for
a second I'm going to come back to it
what I want to do is let's try to get
let's try to get back to here
yeah same so that's interesting I guess
I'm going beyond the clipping plane
there is that why it's getting far clips
so far clipped so that's probably
something that I can do here like this
how crazy
oh I flipped it there we go and if I
make the background 100 there we go all
right now we're getting somewhere now is
this actually yes that is totally right
all right all right
okay hold on I got it back out of this
because I I'm gonna back out of this
Thank You Alka
okay
so here's the thing okay okay we're
getting close so what I would like to do
is isometric view isometric projection
okay I know I really would love to
donate right now but so there must be
some documentation of that somewhere I
just want to see those angles that you
sent me which is rotate X by a 10
quarter PI 45 degrees on the x axis
second rotation to bring this arctangent
of 1 divided by square root of 2 our
tangent of 1 divided by square root of 2
plus plus or minus 45 degrees on the
vertical axis followed by rotation or
approximately arc sine or arc tan of 1
divided by square root of 2 okay
our 10 so you did the cosine of quarter
PI into instead of 1 divided by square
root of 2 because that's related to the
magic angle okay okay okay okay so I'm
gonna refer to this ok everybody let's
go back here alright so actually I think
this is doing what I wanted to do now
I'm seeing the orthographic projection
and I and the normal material is giving
me RGB colors for all the vertices but
let me let me make the background 100
just so I can really see that there we
go so this is actually I'm now looking
at the correct thing but I'm not
actually looking at isometric view
here's the thing no I'm gonna leave this
like this right now let's try to nest
this Luke and let's have a bunch of
these okay okay okay so and I can
actually I'm going to take so let's
let's have a bunch so what I'm going to
do now is also add an inner Lu
let's let an outer loop let's add an
outer loop for why and what I'm gonna do
with why now is translate y- height
divided by two okay and let's make the
depth also a little bit smaller just to
have some spacing there so okay X is not
defined where what happened X is not
defined a sketch line 22 oh this has to
be why thank you okay all right now is
this doing what I wanted to do is is it
doing what I wanted to do and I just and
I just a weird sort of view of it so
let's try to start altering let's let I
want to see what's going on here a
little bit so what I'm gonna do actually
is rotate X by that angle whoa I've
really freaked it out let me take this
out let me let me make this just fixed
so what is going on for every X for
every Y draw a little box okay oh
they're all just right next to each
other in a line Oh cuz I don't want to I
don't want to go along the Y Pilar
probably time and I need to use Z of
course Z I'm not I'm not
of course I need to the Z plane is what
is allowing me to create this grid of
them Y is what's moving up and down so
oh I apologize for this so I'm actually
gonna do Z I'll just leave height I'm
gonna just I'm going to change the
variable to Z though just because I feel
like it's going to be confusing and now
yeah we should we see
now I have this grid of them and I'm
kind of spitting around it in a weird
sort of way and what I'm going to do
here is and I actually don't need this
offset to subtract backwards I don't
think I actually know that would be good
to keep that in there okay what I want
to do now hold on everybody is let me
take this out
okay now there's this plane of them
let me put H back in and interestingly
enough what's going on here sign Oh
angle equals angle plus offset so I want
the offset to happen right now just per
per row okay so I see this whole row
going up and down all right now here's
the thing I need to be able to look at
this I probably should have done this
before I really should have done this
before but if I look at ISO metric
perspective actually to see isometric
perspective what I need to do is first
rotate by 45 degrees all about the
vertical axis which is X so I'm going to
let's get rid of this translate which i
think is unhooking leave that in there
I don't need rec mode Center I'm gonna
rotate X minus quarter PI which is 45
degrees let's see what that looks like
all right that's kind of interesting
what's going on here now I won't know I
I'm kind of looking at it from this
weird like top to you I want to turn it
so the next thing I want to do is rotate
by Y of and let's look at this arc sine
or arc tan so I could do one of these so
I'm gonna do arc tan of 1 divided by the
square root of 2 and I should make this
a constant somewhere that I save
do let's call this magic angle and say
let's call this I'm just gonna call this
MA for magic angle and a equals a tan of
square root of 1 divided by square root
of 2
so let's now rotate Y by that Thank You
Alka for having suggested this there we
go ooh ok we're in good shape here look
I'm seeing this now here's the thing
I've got a clipping plane issue like I'm
not actually able to see the whole thing
so let's deal with that I can with ortho
I can say this is the range what I want
to be able to see so I want to see
between negative 200 and 200 between
negative 200 and 200 on the Y and then I
want to be able I just want to be able
to see like a lot along the Z okay
that's everything and maybe I should
zoom out a little bit just so it's a
little further away from me hold on
let's get rid of this translate and
let's let's say 0 to 500 there we go I
think then all right oh it's like I've
turned it over also boy what a mess so
maybe this should be 200 and negative
200 there we go ah kind of getting
somewhere
look at this kinda getting somewhere ok
now I need to deal with my clipping
planes and I actually think it might be
getting clipped in all whoops there we
go I want to look at it from further
away so I'm gonna create that so that
was too much
300 let's try 300 and boy I could make
these variables would really help there
we go
okay so I'm seeing this thing now it's
kind of like a little bit off weirdly
okay it's a little bit off weirdly and
so what am I missing and my is this just
need to be is it is that the Z that's
getting clipped yeah
okay so now I see the whole thing I see
the whole shape now what I need to do is
figure out the offset and what I think I
could do if I think about this is the
offset is not a value related to along
the X or along the Y but how far it is
from the center so what if I were to
come back here and inside my loop have
some kind of distance value be the
distance between X and Z and not zero
zero but with divided by 2 and height
divided by two that's how far there I
feel like I should actually have just
translated this whole thing off so I
would made it easier but because I have
all this like offsetting so that's the
distance and instead of having this
offset like increase what if I just say
offset equals map that distance now
what's the range I probably should
figure out what the maximum distance is
the maximum distance is max D is going
to be the distance between the center
and 200 200 really right that's kind of
like the maximum distance so D has a
range between zero and max D and I want
that offset I'm just gonna make up
something between negative 1 and 1 like
I want an angular offset for each of
those now let's look at this oh it's so
slow but this is the right idea right so
let's let's make this let's try to make
this run a little faster boy boy P 5 so
there's probably lot of optimization
that needs to be done for because it
certainly can do this in WebGL they're
all going to remake this so a couple
things I want to do one is let me make
this we make them bigger
what is the slowdown
okay that's a little bit better now I
want this
what's mapping
in terms of the height to be a lot
taller yeah so I could I need to do some
work with like pre saving all the
geometry but then I'm getting Elka's
making a good suggestion okay so I have
to go this challenge the challenge is
over let's have the offset be more twice
as much there we go Hey look at this
pretty close right pretty pretty pretty
pretty close so what have I not done
what is I really need to deal with
optimizing this too I really probably
want to be more thoughtful about you
know the perspective here like this is
nicer like kind of where how it's
centered and zoomed out the color of the
different sides I'm being told breaking
news that I'm being told that the the
first of all that this computer has
totally died probably you know what's
actually bad is that I don't have it
plugged in oh when we go back to here
okay let's look at this so the direction
am I getting the direction wrong
so what could I do really quickly to
optimize this put the push and pop in
the outer loop I've really killed my
computer this video should have ended it
is reversed because Y is the vertical
axis not the X you should change it no I
definitely want to change that there we
go okay so wait wait wait I'm trying to
understand
in two out is the original I'm having
trouble seeing the difference oh you
know what also there's a couple things
yeah it's this shrinking just zero which
is a problem yeah yeah okay
so first of all how can I pre compute is
it really just pre computing like I
doing a lookup table of the sign values
is the normal material like making it
really slow
you would think normal material be easy
for it to do it's clearly accumulating
over time yeah the fraction of the
period like if each cube was a particle
the wave seems to have minimal heights
at the top doesn't touch the bottom it's
in Reverse I'm gonna have to come back
I'm gonna come back later today to deal
with this just as a physician in
distance oh the distance but I don't
understand how this math could really be
causing so much slowdown right it seems
to me that there's a rendering thing
going on here you know if I if I floor
the height values is that like help it
it's also over time Oh interesting
look at that flooring the height values
completely fix the performance I think
and you can see going to zero as a
problem something is wrong with the
magic angle yeah
that's the same well I definitely fixed
the performance issue okay hold on so
let me
or I don't know what I did so one reason
it's running so slow I think is actually
its kind of unhappy with having these
floating-point numbers for the height of
the box so I think if I change this to a
two floor the values but I am getting
some weird artifacts here and that's
actually if we look at the B's and bombs
you'll see that it doesn't actually go
to zero it goes between some set of
values so it goes between maybe like 100
and 300 let's try that whoops there we
go so that is much more like now could i
zoom out on this more so one way I could
do that is by translating I don't know
if this makes the most sense to do let
me zoom out a little bit
No you know what I need to do is just
change the thing I need to be more
thoughtful about the orthographic view
okay so I zoomed out a little bit and
make more cute let me make more cubes
now so let me change this back to like
24 there we go how am i doing so this is
moving faster and that offset is even
more so let me let me map the offset and
actually yeah negative 3 let me let me
just I mean I probably should be
thoughtful about this and have that
offset be like you know some actual like
angle
but that's half pi actually let me just
have it between negative PI and PI let's
try that there we go this is starting to
look good and okay and now let me have
it go a little bit faster Dave are you
still watching how did I do
so here's the thing here's what's
missing and I'm gonna leave as a
challenge for you the viewer number one
is I've got the perspective slightly off
here something slightly wrong right I
don't have my angle exactly right right
why is there this weird kind of like
diagonal there it's also in Reverse
everyone's telling me it's in Reverse so
this has got to be an easy way to fix
that oh yeah whoo that's kind of nice
it's a little bit too fast so it's in
Reverse I fixed that the angle is off
like we've got to be the second angle
right right that's right something is
wrong with this angle in fact cosine
what's that the equivalent of this one
divided by square root of true is
actually the equivalent of cosine of 45
degrees or quarter pi that's just going
to get me the same that's gonna be the
same though so I don't know so something
is wrong
delete the distance and lower the height
even further everyone's giving me good
suggestions I have to go I'm like so
late for something right now and I
didn't even eat lunch so okay I'm gonna
come back later today okay okay get all
the way there but I got pretty close and
so the challenge for you the viewer is
to fix my mistakes something about the
perspective is off I probably need to
think about you know the speed and I
might like to color use lighting to make
it more beautiful what other types of 3d
shapes so I'll rotate X after rotate Y
did I just do this in the wrong order
whoa that's kind of cool
something different okay I gotta go
thanks for watching this coding
challenge and I'll see you all later so
the sound is dying okay
delete the gap between the boxes okay I
have to stop okay I have to go I'm gonna
try to come back and I don't know deal
with this later but I'm very very late
I've killed this computer and so I'm so
this stream is gonna end like really
abruptly I'm letting you know that right
now I'm gonna try to come back for just
like a half an hour later today okay bye
everybody</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>