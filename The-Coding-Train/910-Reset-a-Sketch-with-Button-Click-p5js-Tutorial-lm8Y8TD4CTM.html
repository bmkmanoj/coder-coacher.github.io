<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>9.10: Reset a Sketch with Button Click - p5.js Tutorial | Coder Coacher - Coaching Coders</title><meta content="9.10: Reset a Sketch with Button Click - p5.js Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>9.10: Reset a Sketch with Button Click - p5.js Tutorial</b></h2><h5 class="post__date">2016-03-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lm8Y8TD4CTM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi a question just came in in the live
chat how do you create an HTML button
that when you press that button your p5
sketch or restarts itself so I'm gonna
look very quickly at how to do that in
this particular video so I have one of
the p5 examples called flocking it's
running a flocking simulation there's a
lot of code involved with this but we
can see that actually what's in setup
and draw is quite simple and mostly all
the code is happening in other objects
how that works is not really the
contents of this video I want to look at
how we're gonna have the sketch restart
with a button so first of all let's at
least look how do we add the button to
this page so the way that you can add a
button in a p5 sketch is using the p5
Dom library and you want to make sure
that your you've got the Dom library
included if you're using this desktop
editor which by the time you watch this
video might be completely different or
obsolete but the main thing here is you
want to make sure in your index of HTML
file that you're referencing the p5 Dom
library which I am here as well because
I'm going to the button is not part of
just the plain vanila p5 library so
that's already set for me and as soon as
that's true I can say create button and
I'll pass a single argument to that
function reset so now if I run the
sketch you can see oh you can see here
I'm gonna shrink this down a little bit
there we go you can see all the way here
at the bottom there's a button that says
reset now of course if I were to click
this button nothing's going to happen
because I haven't actually attached any
event to it so I need to attach an event
to that button the way that I attach an
event to that button is first of all I
need a variable to store a reference to
that button so that I can say button dot
mouse pressed reset
sketch so what I want to do is that this
particular button that's on the page
when I press that button I want to
execute a function called reset sketch
which will somehow reset the sketch now
reset sketch isn't some function that
exists as part of p5 it's a name that I
just made up because I'm gonna write it
now your instinct might be to do this
just call set up set up as a
whenever I press the button call setup
again let's try that let's save our code
we might and let's see what happens now
weirdly that worked but look what's
happening like more buttons are being
added all sorts of things are happening
right because everything create canvas
was called again which is a little bit
of a problem so this is a bad idea
I don't even though this kind of worked
I don't want to tie the setup function
to a particular event which is why I
said I want to make my own function
called reset sketch so what does that
mean I need to then write a function
called reset sketch and in this function
is where I want to put all the code that
should happen when a sketch is restarted
so you might be gathering now watching
this video realize like oh there's not a
way to just do this automatically and I
would think there really isn't it's up
to you to kind of define what it means
to reset a sketch and then execute that
code at the appropriate time the good
news for you is I could say you know
what I think it means to reset a sketch
I think it means only to do this stuff
it means to make a new flock object and
to add a hundred voids to that flock
object so I can take that code and put
it into reset sketch and you know what I
can do even better than that I don't
need I you your instinct might have been
to do this oops to take that code and
copy it in there and now this is
actually good right you see the sketch
is running I hit the button every time I
hit the button
it's resetting the sketch so you could
say that we're done but I don't like
this I just duplicated this entire block
of code down here in this function and
what if I want to change what's
happening when I reset the sketch but
also have that happen in setup well the
fact that I made this resets sketch
function means I can also call it in
setup so basically now if we look at
setups code this is wonderful what I've
what setup does is it basically says
create a canvas
set up the sketch and by the way make a
button that if you ever press that
button set up the sketch again
so basically everything associated with
starting the sketch is in reset sketch
except for making the canvas which I
really only want to do once and making
the reset button which I really only
want to do once so now if I run this
sketch we can see there it is flocking
and if I hit reset every time I hit that
button
resets the sketch and this my friends is
a less than five minute tutorial video
and I'm so tempted to keep talking but
lest I go over five minutes I'm gonna
hit stop so hopefully you found this
useful if you make your own button or
something that resets A Sketch let me
know and share it in the comments or ask
questions the comments and I will get
back to you and this code will also the
code the code for this get four minutes
where guys the code for this sketch will
also be posted to github and a link will
be in the</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>