<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>7.8: Objects and Images - p5.js Tutorial | Coder Coacher - Coaching Coders</title><meta content="7.8: Objects and Images - p5.js Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>7.8: Objects and Images - p5.js Tutorial</b></h2><h5 class="post__date">2017-12-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/i2C1hrJMwz0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello I think at this point until I make
some more whose is the last video in
this section about arrays of objects and
one of the things that comes up a lot
especially when you're first learning to
code is it with p5 and doing graphics
animations everything I've been doing
pretty much in all of these videos has
just been with shapes and so as you can
see here here is one of the examples
arrays of objects where when I click on
the click on them they change color this
was one of my previous videos but I want
to look at is what would it take to have
each one of these circles each one of
these objects display instead of a shape
an image but JPEG or a PNG that I load a
file that I load and how could I have
the same object so how could I make a
bubble class where each bubble displays
an image but each bubble displays a
different image so the first thing I'm
going to do is just change all of these
into flowers okay so I have a directory
app I have a directory of images
associated with this project I'm going
to go over to my code and it looks like
this it has a bunt it has one image an
image in it called flower dot PNG and
has a bunch of other images called
kitten jpg the reason why I'm making
this distinction is PNG is a format for
images that allows for transparent
pixels and that's something that you're
probably gonna find very useful when
designing and using images in your code
that you can have an image not just be
that sort of like rectangular thing but
rather have part of the image be
transparent so okay so let's first I'm
going to one of the things if I want to
load an image into p5 there are a
variety of ways to do it and I'm sure I
have other videos in the future even
though I'm in the future but I made in
the past but are further ahead in this
playlist where I look at this more
specifically but a quick way to load
media it seems a little bit silly like
oh there's a preload function set up is
the function where all the code at the
beginning runs well I want to run load
images at the beginning to use I should
use those in setup but there's a funny
way about JavaScript the way that it
loads media files in large data files is
that
it Those it Canton I think a while for
those things to load so the preload
function is a way of saying I'm gonna
have a variable I'm gonna call it flour
and in preload I'm gonna say flour
equals load image flour dot PNG and this
could be double quotes or single quotes
they mean the same thing I'm kind of
like I like single quotes these days so
this right here is saying hey I know
you're about to set up a p5 sketch
before you do that I want to have a pre
set up to the set up where I want to
load this image so this will guarantee
that the flower image is ready to be
used by the time you get to set up now
the rest of our work is really as simple
as if I have this image that data from
that PNG files stored in this variable
flower I can just go all the way down to
my bubble object and look here this is
where I draw the draw the bubble as a
circle so I can just get rid of all of
this code and I could just change and
use this function called image so
there's a function in p5 called image
which says hey I want to draw an image
to the screen just like I want to draw
an ellipse at this dot X this that's why
now I want to draw an image at this dot
X this dot Y so now all I've done is
load that image in preload in a global
variable and then draw that image here
in the show function so let's refresh
and okay so what does this error file
not found
I forgot that I put the images in this
directory called kittens so I need to
make sure I reference that directory now
note I also need this directory to be
part of the same directory where my
index.html and skeptic jazz stuff is so
there could be some nuance here into
where you store your your image files
but in this case I just need to make
sure I include the folder name kittens /
flower dot PNG and now if I do this we
could say look they're like bubbles
aren't flowers now there aren't
different sizes and so if I wanted to I
could you know kind of go a little
farther with this and I could use this
variable R and I could give make that V
and height of the image one thing to
realize here I'm looking over there to
see if I can use my whiteboard which I'm
about to but I have to go erase it first
so when I drew a circle when I use the
ellipse function and I I have this
variable called this dot R I actually
assign that it's propor
rectangle of equal sides if I have the X
Y here this is its width and this is its
height the reason why I'm bringing this
up is because the image function I
switched from ellipse to image but it
would be almost a better example if I
were switching from rectangle which
requires an X a Y a width and height if
I were switching from rectangle to image
which also requires an X a Y a width and
height the only difference is fill that
rectangle with the pixels from some
actual image like flower so this is
really what's going on so I can
manipulate the size and that sort of
thing I'm not gonna worry about that too
much and I'm just going to leave it I'm
gonna just simplify this example but
let's just show it to you with R in
there you can see now they're all
different sizes I'll leave that in there
why not okay all right so now what if
what I want to do is click on these and
have them change transform from a
beautiful flower to a butterfly because
we all know butter flowers transfer okay
I've kids to a kitten I have her kittens
so okay so I do have this clicked
function changes the brightness let's
just first make this work let's back up
a second and what I want to do now is I
want to instead of having each image be
that each bubble object be the same
image I want to pick an image of a
kitten so I'm now going to add an array
called kittens and what I'm gonna do is
in preload I'm gonna say kittens index 0
equals load image kittens
kitten zero dot jpg so you can see here
right I could do this right I got it and
I had five of them so here's the thing
this is pretty horrible what I want to
be able to do is then if I have a whole
bunch of images and they're named in
some consistent way what I actually want
to do is could I write a loop to load
all of these so instead of having three
images loaded into an array 0 1 &amp;amp; 2
could I write a loop and one thing
that's interesting is I can do this very
easily with something called string
concatenation thanks excuse to bring
that up in here so as you might know two
plus two equals four however a plus B
equals the string a B or Cao plus bail
equals cowbell so when you use the plus
operator with text it joins the text
rather than the plus operator with
numbers adding the numbers and the
reason why this is so useful is what I
can do here is I can write a loop for
let I equals 0 I is less than how many
kitten images do I have I think I had 5
I can see them here 0 1 2 3 4 at 5 5 I
plus plus then I can just take this line
of code put it here I can say kittens
index I equals load image kitten now I
don't want to load the zero kitten into
each one well I could do that now for
just testing but I'm gonna keep moving
on I want to load this plus oh and
there's a new way to do this there's a
new way to do this in es6 I'll come back
at the end of this video if you're
interested and so this is the old way
that I can add the I in between I can
say take this string kitten / kitten
join it with the value of I which is 0 1
2 3 4 and then add dot jpg to the end
and that will load all of those image
files into kittens now let's just make
sure this works by going down here and
saying something like kittens index 0
that's
zero let's take a look at kittens index
three
that's kittens index 3 okay so now how
do I have each object have a reference
to a different kitten very important so
one thing that I think that I want to
have I'm gonna get rid of this
brightness thing this brightness was
from a previous example what I want to
do is have an image associated with each
bubble object so why not say this dot
image equals or this kitten equals what
image so when I make a bubble I want to
say I want a bubble to be at this X
location and this Y location with this
size and I wanted to use this particular
image so what that means is I need to
now up here I need to pick one of these
images now let's say I want to pick a
random one the nice thing is if you have
an array in p5 I can just say kitten
equals random kittens this random
function if I give the random function
in an array it will pull out a random
element from that array which is one of
those random kitten images and put it in
this variable and then I can pass that
in so this is me picking a random image
then passing it into the object and then
the object receiving it and putting it
in as a property and then what's the
last step I need to make sure I draw
that particular kitten image all right
let's see what we got here yay look lots
of random kid now it's hard to see them
because they're so small so let's make
these kittens bigger there we go
so you can see ya have a bunch of kitten
objects I could I do the thing where I
click and I add new ones or I delete
them but let's have all these kittens
every time I click change to a new
kitten so we already had this whole
clicked function and I'm saying if D is
less than this dot R why not just say
this image this kitten is a new random
kitten so we could see I could always at
any moment pick a new image to store
into that bubble objects image variable
and so now oh and this is bad though
this did this is for checking that funk
that that is math that I had left over
from before is checking to see if the
mouse clicks inside of a circle and
since the image is actually a rectangle
why don't we make those flew back to
flowers because the nice thing about the
flower is it was kind of like circular
thing inside whatever but I could change
this code I could change this code to
say if px is greater than this dot X and
px is less than this dot X plus this dot
R and P Y is greater than this dot y and
py is less than this dot y plus this dot
R right what is all this crazy
mumbo-jumbo that I just put in there
what I'm at what I'm trying to do is I'm
trying to say hey there's a point it's
clicked is it in between this X well you
can't see that this X and this is this
location is X plus R and the Y is
between this Y and this location is y
plus R so I'm checking to see if the x
and y the of the mouse is within those
boundaries and once I've done that we
should yeah look I could just keep
making different kittens yay it's not a
square it is a square it is a square
it's not a square I don't know um so
I've got something goofy here where I'm
just you could clean this up and try
different ways and what if I make it a
flower and there's a circle better to
check maybe I could just change it when
I click
to flower so these kittens are changing
into flowers when I click on them and
then if I click on them again or they
still are a flower so you can see the
range of possibilities you could also
make the argument here that maybe this
whole picking the random kitten here and
passing it in was kind of unnecessary
because what I could have just done is
right down in here I could have just
picked the random the random thing in
the constructor and that's also the same
thing so there's lots of different ways
of organizing the code depending on what
you're trying to doing generally
speaking I don't love the fact that I'm
using flower here or kittens here
because these are variables that exist
outside the scope of the class and the
classic that's gonna know about things
outside of its scope should probably
receive them as parameters to a function
but that's neither here an error it's
worked wait there's a bonus here at the
end of this video I don't know I'm
looking around as if someone's gonna
catch me I forgot I should probably make
a video just about this but while we're
here there's also a new way look at this
and I was told by the way it's just
giving some nice advice of I shouldn't
really be using the word join because
that's kind of used another but this is
string concatenation kitten slash kitten
plus concatenate with the value of I
plus concatenate with dot JPEG but
there's a new way to create strings from
actual characters and variables in
JavaScript and it's something called
template literals and this is in lots of
other languages but this is a new way to
do it in JavaScript and it involves the
use of the back tick so I put back tick
here and back tick here get rid of this
get rid of this now I don't want the
pluses anymore so this this is just like
a string it's a literal string literal
this is a literal string kitten slash
kitten JPEG but if I want to use a
variable in there while we're calling
this a template literal I can put a
variable in there with curly brackets
and dollar sign and then the name of
that variable hopefully of getting this
right so this is a way of saying hey I
want to have this string instead of
having to use plus for joining the nice
thing about this I'm pretty sure it lets
you do this over multiple
lines too which is really really nice
cuz with regular quotes you can't have
multiple lines line breaks so this
should work exactly the same way
template literal ah so close what did I
get wrong I made a mistake cuz by the
way I don't actually know what I'm doing
at all it looks like this the dollar
sign I knew it will should have syntax
highlighted that in some way the dollar
sign is an indication like hold on a
second I'm going to use a template
literal and so now saying what's inside
of here is the variable name and we can
see the syntax highlighting fixed which
is good there we go now this is working
and it's the same exact program
I should mention well what if I really
wanted to have so one thing if I just
had like dollar sign in the string it's
not going to think it's part of this
unless the curly brackets are there and
so if I really wanted it to be this I
could probably like use an escape
sequence or something but it's pretty
rare that you're actually going to want
to have this sequence of characters in
your string okay so that's a little
extra bonus piece of the end of this
video maybe I'll make a special video
just all about the wonder of template
literals because that's what I'm sure
everybody on the internet wants to watch
and I'll see you in the future
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>