<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>7.5: Removing Objects from Arrays - p5.js Tutorial | Coder Coacher - Coaching Coders</title><meta content="7.5: Removing Objects from Arrays - p5.js Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>7.5: Removing Objects from Arrays - p5.js Tutorial</b></h2><h5 class="post__date">2017-10-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tA_ZgruFF9k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello it's me back again with some these
bubbles again Oh a the bubbles someday
I'll think of something besides bubbles
but the bubbles kind of works so I the
last video I kind of looked at how I
could click on the bubbles and change
their color and now I just adjusted the
code a little bit so I could mouse over
the bubbles and you know I could show
you what I did I did this in-between
where I now I'm using this function
called rollover I rename the click
function to rollover I gave it these
arguments and I'm doing the same sort of
thing if the distance is if it's inside
the circle I turn it white if it's not I
turn it black so what I want to do now
is I want to click on the bubble and
have it pop I wanted to disappear how do
I do that well good news everybody I
kind of did I didn't all of that in the
last video except for the hole
what did I forget to do oh the deleting
from an array so let's let's think about
that so okay how do i how do I remove
something I mean one one way I could
remove something is just stop drawing it
or move it way off screen and there is a
door in the old days without the code
with like six feet of snow next to me
sometimes you had to do that did this
fixed array you couldn't take things out
you couldn't add things to it so you
would kind of like reuse elements and
move them off screen but here in the
land of JavaScript there's a really nice
thing you could do and I'm gonna come
over here I'm gonna erase this distance
thing and now what do I want to talk
about so I have this array one of the
things that I showed in a previous video
okay so let's say this array is called
bubbles because that's what it's called
the whole array when I'm talked about
the whole array I'm saying the word
bubbles when I am referencing a specific
element of the array I reference it by
its index often within square brackets
and the index numbers are 0 1 2 3 4 5 so
this is bubbles index 2 now one of the
things I showed in the previous videos
that there is a function called push
that function allows me to add
thing to the end of the array in fact
there is also a function called pop and
that function allows what it does is it
will take something off the end of the
Ray and pop it off so if what I wanted
to do is always delete the last element
of the array I could use the pop
function now there are lots of other
functions there's like shift I think
there's even like an unshipped I could
be crazy could just be making that up
shift manager snow but here's I think
where do these functions come from so
there's this question that comes up over
and over again in these videos and
you're probably sitting there asking it
to yourself wait a sec my learning
JavaScript I know what sort of made me
learning to code but I have my learning
JavaScript my Lenape 5 is the same thing
is it different well this is a
complicated question and I would like in
theory in my mind's eye I would like to
say that these videos are just about
learning to code and think about code
and think computationally I happen to be
using the programming language
JavaScript I'm using this library p5.js
to make the drawing stuff easier and it
all kind of mixes together so that was
kind of larger question aside this stuff
that has to do with an array is not
coming from p5 yes if I say ellipse this
is a special function that's in p5.js
what it does is it call some other
functions that are just part of
JavaScript without p5 GS but it's I can
only say ellipse because I'm using the
p5 just library these functions don't
come from p5 yes they come they're just
part of the JavaScript language so how
do I find out a list of these and how I
can use them come back over here with me
the place that I like to use is the
Mozilla Foundation Docs I'm just saying
Mozilla Foundation array JavaScript
that's going to be my Google search and
I'm gonna go here so this is here's the
thing one of the reasons why I like
using p5 Jessen tutorials is look here's
the reference here's all the stuff it's
kind of like one page of functions
actually a lot of stuff but it's kind of
self-contained and it's it has a smaller
world view so to speak it's like it's a
walled garden so to speak this is like
the Java Script
documentation there is so much here you
couldn't possibly mean you could but it
would be it would take you a long time
to read through everything but here I am
at least on a page that's giving me some
information about arrays and you can see
look oh boy there's this what is that oh
my god okay it's a for each loop someday
I'll have to come back and look at that
and what does that do and why would you
use it oh my god oh my goodness okay
but you can see here look pop oh
I'm not I'm not crazy shift on shift you
can see what these functions do where
are you you're over there and look
there's a whole list of them so let's
look through them maybe we can find one
that removes something from an array
Concannon trees every filter fine I got
it go for each
okay we're looking for own so here's the
thing us place
I happen to know wouldn't it be nice to
just be one that's called like delete or
remove but the one that I'm looking for
is place and this method changes the
contents of an array by removing
existing elements and/or adding elements
it can do a lot of different things I
want to use it for the deletion so if I
come back over here I want to use this
slice function so can I ran up here and
you can see it yes slice slice takes two
arguments and there may be other ways to
use slice but for the purpose of this
video tutorial the two arguments are
what matters the first one is an index
and the second one and I'm kind of
moving sorry doing that thing where I'm
drawing off the whiteboard yes if you go
down here that's a little bit better
the first one is it index the second one
I'll just call how many so if I say
slice index
- how many comma 1 what it does is it
just takes this element and slices it
out removes it from the array let me
show you what I need so one of the
things that I could do to sort of
investigate this is I could just use the
JavaScript console here in the browser
that I'm using right now and I could say
let's words equal you know rainbow and
unicorn and kitten I was they tried to
thing something else
turtle paper clip paper plinth words dot
push paper clip okay so now we can see I
have this array with five things in it
and if I were to say words dot splice
index 3 comma 1 what should happen here
0 1 2 3 I should look at this whoops
Charles so one thing is interesting
about slice is as it delete so kind of
like hands it back to you I'm not gonna
use that in this video but it's kind of
interest
that it does that it's probably too much
information here but if I look at the
array words right now you'll notice
turtle is gone it's just rainbow uniform
kitten so the idea here is that even
though I can do a lot with this slice
function if I just want to delete one
element from the array I can say hey
this particular number index just that
one and so that's what I want to do what
I want to do is how could I then with
this code example click on this and
remove it actually delete it from the
array well I know there's so much here
you know what I should do here's the
thing look at this function rollover hmm
there's something kind of interesting
about this function which is that I'm
doing two things at once one thing is
that I'm checking to see if the math if
that point is inside that bubble and
then I'm also changing its color and it
probably makes more sense for me to have
this function be much more generic for
it just to like return true or false
because I might want to reuse this ideas
it was a point over that is a point over
that object that circle other times so
I'm going to change this to return true
whoops if if it's rolling over return
true otherwise return false and then I'm
going to write a new function called
change color and I'm going to say this
dot brightness equals 255 so I wanted to
remove the idea of the change in color
from here because now I can say if write
that function you might not have you you
know I covered return what return means
in my functions video tutorial but you
know when do I ever need that well now I
need it what I want to say but not
remove I'm not removing it sorry a
change color I'm that's what I'm going
to do eventually right I want to say and
maybe I shouldn't call it roll over
anymore I should just say contains let's
call it contains and i'ma change it to
contains what I want to do right this
function is going to return true or
false and I know some of you are saying
I could just return this this statement
in itself violates true or false so it's
redundant to say if it's true return
true
if it's false return false it could just
say return its value true or false I'll
let you do that to simplify your own
code as an exercise but now what I can
do here this should be exactly the same
program oh I have an error contains is
not a function bubble index I contains
you know what is contain something oh
boy
am I not allowed to use the word
contains record scratch sound do I have
that hold on a second apparently I've
done something horrible oh look at this
this whole time this should say splice
apologies this should say splice splice
splice splice is the correct term so I'm
gonna change this to contains which I
just did and that didn't work but now
I'm back because I just didn't save the
file and whoops oh yeah no I do want
that page and so now we're back to
exactly what I had before but the point
of what I was doing was that now that
I've separated out the logic of just
checking if a point is in something I
can now in mousepressed I'm gonna just
grab this exact code and I'm gonna add
mouse press back in so in mousepressed I
can check hey does the is the mouse in
there now this is when the mouse is
pressed check again and then what do I
want to do bubbles dot splice I comma
one look at this beautiful look at this
thing a beauty here I'm able to reuse
that idea by saying okay just during
draw all the time check if the mouse is
over it if the mouse is over it changes
color I know I spelled splice wrong in
Mouse pressed when the mouse has been
clicked anywhere check to see if it's in
there if if if if you click on a
particular bubble and if so delete it
from the array which should cause it to
disappear from the page and there we go
now I kind of alright it doesn't oh I
lost my change-back how did I lose that
oh look at that I forgot she lookin
interestingly enough I had this feature
that one it doesn't and so what I should
probably should do here is give this an
argument so I had this feature where it
wait it changes to white when it's over
back to black when it's not
so I should probably give this change
color function and argument like bright
parameter right and pass that in I did
that kind of quickly but that fixes that
and then I should be able to just delete
all of them okay that's basically it now
I feel like there's so many things I
wanted to do with this that's not it I'm
missing kind of an important point and I
did cover this there's a particle system
coding challenge which does this but I I
think I should talk about it here which
is something strange just happened which
is that I was iterating over the array I
was checking element zero then I was
checking element two one sorry then I'm
checking element two and at that moment
when I checked element two if that's the
one that I clicked on and I should
really call these I'm gonna call these
a-b-c-d-e-f-g I pretend the particles
have a letter because these index values
are gonna change in a weird sort of way
let me explain this again
I'm checking a don't delete it
I'm checking B don't delete it I'm
checking C delete it so what happens
next when I delete see the array all of
a sudden looks like this one but it's
got one fewer element in it so we don't
erase with my fingers and it's got a B
no c d e f g 0 1 2 3 4 5 what was the
last bubble I checked the last bubble I
checked was bubble C in index spot too
right here so if I is going up by one
the next thing it should check is index
3 and but this is what the array looks
like now
so if I check index 3 now I'm gonna
check and see should I delete e what
happened I didn't bother to check D
because as soon as I removed C D becomes
2 got moves to index pot 2 and my
counter moves up so I could do something
like if I could add like an eye - - so I
could say like oh if I'm deleting
thing like set the index back to go
check the next one there's a bunch of
different ways around this probably if I
used that for each loop maybe that would
help me somehow but I but honestly in
this case it doesn't matter I you know
if I look at this like there's nothing
wrong nothing bad happens now you only
would it only would be bad if it so
happens that I tried to leak two of them
at once and the other one that I delete
happens to be the next one in the array
so none of these are overlapping right
now so let me try to delete both of
these they both delete it but yeah I
could get bad luck where the I'm
hovering over both of these and so only
this one gets deleted and this one
doesn't get checked so again I could
decrement the index but another way I
could do it is if I'm actually iterating
through the array backwards it doesn't
matter if I remove something and the
array slides could chunks back over I'm
still going towards the beginning I
won't miss any so you'll see that in a
lot of my code examples some people like
to say I - - I prefer generally speaking
- if I'm deleting stuff from the array
to start at the end which is bubbles dot
length minus one then have my iterator
go down - - and then where am I where do
I end I go all the way down to the first
element which is at index zero the last
element is the length minus one like if
they're five of them zero one two three
what four or five of them zero one two
three four so start it 5-1 four go all
the way down to zero so let's just make
sure that this works and it does still
the same exact result I can delete I can
hover over and delete all of them so
there you go this is a little video
about clicking and removing things from
the array there's some other things for
things I could do I you know here's the
thing the point of me talking about this
going backwards thing is more to say
that hey if you are manipulating an
array while you're iterating over it you
should probably be careful what if for
example I were adding elements to the
array want it
then I could maybe never get to the end
before I finish I want to add one I'm
just gonna redo this example a little
bit just to demonstrate one thing I'm
gonna put it back to the version of it
which sorry which had me where I added
bubbles
whenever I drag the mouse so I'm gonna
say Mouse dragged and I'm going to just
I'm gonna add bubbles at the mouse and
something like just give them all the
same size just for simplicity right now
so what I what this should do is give me
back to this I'm kind of drawing with
these bubble objects the reason why I'm
showing you this is this I think might
allow you to be bit more playful and how
you think about removing for example one
thing I could do is I could say just if
bubbles dot length is greater than is
it's greater than well ten bubbles dot
splice zero comma one
so I'm saying like hey only just only
ever have ten elements in that array and
there's maybe there's a bigger use shift
there to like remove just the first one
but and you can see this is gives me
this kind of like snake-like thing but
notice as I let go each one of these is
still an individual object now I've lost
the clicking on it thing but and I can
come back so that I think there's some
more possibilities there's almost like a
little object that's like a little thing
that's storing its history and the
reason why I thought of this is I have
another video this is a kind of a hard
exercise but I'm something you could
think about what if this were its own
object and you had a bunch of these on
the screen so I have another video that
about objects storing their own path
that I'll that I'll link to from this
video and so hopefully now you've got
some ideas about how to remove things
from an array thanks for watching
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>