<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>5.8: Box2D Joints: Distance Joint - The Nature of Code | Coder Coacher - Coaching Coders</title><meta content="5.8: Box2D Joints: Distance Joint - The Nature of Code - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>5.8: Box2D Joints: Distance Joint - The Nature of Code</b></h2><h5 class="post__date">2015-08-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4LYvltd07hk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello again this video we're gonna talk
about box2d joints now we've done a lot
with box TV already we've made circles
and rectangles and static and dynamic
and polygon shapes and multiple shapes
attached to a body but we've we've left
out a key a key thing that's possible in
box D we one of the things we can do in
boxing is connect two bodies together
this is what joints do in box D and in
this video we're going to look at two
case studies of joints in box today
we're going to look at a distance joint
and we're also going to look at a
revolute joint now I should mention
there are lots of kinds of joints in box
D I could keep writing prismatic rope
pulley gear a couple more that I had
that I can't remember right now at the
top of my head there are lots of kinds
of joints at box D to create all sorts
of kind of crazy wacky physics scenarios
so I but what but I think what's gonna
be most useful hopefully is to look at
these two joints what is the process for
defining and creating a joint how does a
distance joint work how does a revolute
joint works and then if you need some of
these other joints you may want to take
a look at the box2d manual as well as
the J box 2d documentation which will
kind of lead you towards some of these
other possibilities and eventually I
only have examples for these two joints
but eventually I would like to make some
for others as well so send me your
requests and I'll get cracking on that
okay so what is it what is it joint so
let's look at first at a distance joint
so a distance joint is essentially a
spring that we're gonna put between two
objects you know you we can visualize it
like this we have two box2d bodies and
here's a joint connecting them these
objects this could be a springy joint it
could be a very rigid joint it could
have it could be long it could be short
there are lots of ways you could
configure this but it is just that a
connection it's gonna bind these two
bodies together and when we run
processing sketch you're gonna see that
one as this one Falls it's gonna pull
this one along with it now one thing
that we should really emphasize here
with box2d joints is they have no
geometry
meaning if something else were falling
it would pass right through that a joint
is simply a force this distance is
simply a force that's gonna connect
these two now in my example I'll choose
to draw a line there but that shouldn't
trick you to realize that you shouldn't
think that there's geometry what I'm
kind of going ahead of myself here but
if you wanted to actually have geometry
with this one thing that you might think
about doing is creating a body a body
and a body and then putting the joints
here so that you can actually write so
this would be a connection between these
two and this would be a connection
between these two but that's so that'll
be your exercise actually that's a great
exercise when you finish this video and
you look at the distance joint examples
try to make this as your exercise and
see how that works okay anyway now okay
so what is the process remember when we
like had to make a box2d body we had all
these steps to find the body set up the
parameters to find the shape find the
fixture shape all that so we want to
look at the same thing for joints what
is the process for creating a joint
we're gonna walk ourselves through it
and then we're gonna look at code
examples that implement it kind of give
us a cursory glance over it we're not
going to type out the entire example
well hopefully this will just give you
an overview here okay so what is the
step now one thing the first thing we
need to do is have two bodies ready to
go exclamation point so you if you're
going to make a joint the point of a
joint is that it connects to box2d
bodies so before you even create the
joint
you should have variables that are
referencing the two boxes the bodies
that you want to connect and we'll see
that when we get to the code example so
once you have the two bodies ready to go
you need to define the joint now what
what does it mean to define the joint it
means to create a joint definition
object but it also means to set the
parameters so set the parameters so just
as an example what are the parameters
for a distance joint let's list those
the parameters for a distance joint is a
length this is the rest length remember
the
length of a spring if a spring comes
naturally to rest
what will that distance be between the
two bodies it also has a parameter
called frequency Hertz and it has a
damping ratio so frequency hurt you can
think of as the kind of speed of
oscillation the harmonica the simple
harmonic motion right is it what is the
frequency of that oscillation and
typically these are numbers between one
and five damping ratio you can think of
as kind of affects also the springiness
but like and you can think of damping as
what causes a spring to kind of come to
rest and these are typically numbers
between zero and one okay so by the way
if you wanted a completely rigid
distance joint you would make the
frequency here its value zero and the
damping ratio one so that would be
complete damping and no oscillation
whatsoever okay so once we've defined
the joint I look at my notes here I
guess I made that let's make that a
separate step so we have four steps here
well as we've defined the joint the
third step here would be to configure
all the parameters and they're going to
be different so with the distance joint
we were looking at length frequency
damping ratio for a revolute joint when
we get to that we're gonna see there's
motor speed and torque each joint is
gonna have a different set of physics
properties and the box2d manual is the
best place to kind of look up what are
those what are what are the what are the
parameters or what are the kind of
ranges of values for them so once we've
configured all the parameters then all
we need to do is that last step create
the joint right so two bodies ready to
go define a joint object configure all
these parameters for a distance joint
we've just got three we're going to
configure and then create that joint so
let's actually look at an example of
this in action now okay okay let's take
a look at this example so as I click the
mouse we can see these little springy
particle blind
circle things are connected so what's
going on here each time I click the
mouse we've made two box2d bodies and
one joint connecting them and you can
see the joints a little bit springy it's
a distance joint so obviously we're
implementing all these steps that are
over here in the code so let's find
where we're gonna implement those steps
before we could get there though let let
me just point out something that's a
little bit particular about this example
look at this class here this class is
the particle class this is essentially
what we have in all of our other
examples we make this particle or box or
thing object and that thing object has
as a reference into it inside of itself
a box to the body that controls all of
its physics that's what we've always
done now we need where do we put the
joint so there's lots of different
strategies here and we could make a kind
of our own joint we could make a class
called connection and that has a joint
in it and and and that would be a useful
thing to do this particular example does
something like that and what it does is
it has a pair clasp and the pair clasp
has two particle objects in it the pair
is an object that control that that
stores all the information related to
two particles and the joint that
connects them so it's just the way that
we're choosing to organize our code and
this is an interesting question that you
might ask yourself I have this scenario
where I'm using joints in this way
what's a nice object-oriented way to
organize my code ask those questions in
the comments in the video comments below
maybe we can have a little discussion
about some of those things okay so but
how's it working here we have two
particle objects we create them like we
create any old particle objects and then
we make the joint so down here we're now
making the joint we're following those
steps so I guess I didn't in the
comments here I could say step one is
create the joint right so that's just
that's just creating that joint object
step two we said is configure the
properties and one of the things we see
here is that remember a joint the whole
point of a joint is that it connects to
box2d bodies and this is what we're
doing right here we're saying body a of
the
joint is particle one's body body B of
the joint is particle two body and then
we're setting its length its frequency
and its damping those are those
properties right there and you can see
one thing that's really important to
point out about length is remember if
we're thinking about the length in
pixels we've got to convert it before we
just give that value to box2d it's got
to be in world scale back to the world
scale and you can see we're choosing
three we're choosing point one try
different values here's a great exercise
build little slider controls that allow
you to like set what the values of those
joints are before you create them and
okay so and then so this that's step two
and then I don't know somehow we had
four steps so we had okay this is really
oh boy I'm doing I'm really botching
this step one is have two bodies ready
to go right that was step one then we
can create the joint and can between
those two bodies maybe technically that
goes there right we can create the joint
between those two bodies configure its
properties whoops and then the very last
step is actually create the joint and
you can see there's some gobbledygook
code here but we're calling box 2d dot
create joint and passing in the joint
definition and there the joint is done
interestingly enough though look at this
distance joint DJ equals this is a local
variable which means it's gone the
moment after we create that joint and I
should just point out in this example
that's okay all we wanted to do in this
example was create a joint that connects
those two bodies we don't need to affect
that joint
we're delete it change its properties
later however if you did we would
probably we would see here as a variable
we would probably want to keep a
reference to that joint variable I know
now that I think of it this example
might be a little more clear if I always
did that even though we're not making
use of it in this example but then I'll
consider rewriting that you know what I
eventually fix all these videos and make
them pretty good okay so and then you
can see later how are we how are we
visualizing the joint we're just drawing
a line so that's why we don't you know
we can just we know that that joint
always connects those two bodies we can
make a line between those two okay so
this is the distance joint and we can
just to remind ourselves run this
example we can see there it is again
the joints connecting those two bodies
there's lots of things you could think
about this try to create a string of
things connected try to make you know a
mesh of stuff connected to use the
distance joint in a different way than
just this simple example that would be
an exercise okay let's look at a
revolute joint in the next video
hi I'm tacking this on to the distance
joint I forgot there is also an example
there's an exercise in the book exercise
5.6 which describes how you can make a
bridge like kind of by connecting a lot
of objects all connected with lots of
little distance joints between them and
you can see here we have this kind of
springy elastic bridge that I can create
all these objects that get kind of piled
up and it's hanging and waiting there so
this is something you might think about
doing obviously the answer is there in
the github repository exercise 5.6 but
this as an exercise you might try to
create something like this and one of
the key things to realize here is the
two bodies at the ends are static bodies
they're not dynamic if they're static
that means they're fixed and that's
what's kind of holding this bridge in
place okay that's all I wanted to
mention</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>