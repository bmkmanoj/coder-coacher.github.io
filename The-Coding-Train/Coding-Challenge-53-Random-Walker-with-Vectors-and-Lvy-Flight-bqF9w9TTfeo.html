<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coding Challenge #53: Random Walker with Vectors and Lévy Flight | Coder Coacher - Coaching Coders</title><meta content="Coding Challenge #53: Random Walker with Vectors and Lévy Flight - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Coding-Train/">The Coding Train</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Coding Challenge #53: Random Walker with Vectors and Lévy Flight</b></h2><h5 class="post__date">2017-01-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bqF9w9TTfeo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's that all the coding train is
pulling into the station yes it is and
it's bringing with it vectors and a
leading of a lazy flight so I'm not in
this video well that's not in fact I
think it was very embarrassing in this
video I am going to expand on my
previous random Walker example and I
want to do two things one is I want to
bring in the concepts of vectors so
instead of having a separate x and y
variable I want to have a variable that
keeps that x and y together as a vector
and this is going to allow me to feel a
bit more flexible about how motion works
and kind of play with the random the
quality of a random walk a bit more I am
also going to add something called a
lazy flight so there are so many ways
you can vary the probability and quality
of a random walker and I hope that maybe
some of you have already done that and
share some of your variations with me a
known concept don't technique is
something called a lady flight and what
the lady flight is modeled after so
something that actually happens in
nature sharks and other large sea
animals and maybe birds of prey and
different hunting quotes what what what
a lot of these animals do looking for
food is they'll look around to try to
find something to hunt their prey
there's nothing there then they'll take
a really long step and go somewhere else
and then make smaller steps to look
around
so instead unlike the current random
walk that I have right this random walk
can only ever move one pixel it never
suddenly just what if this random walk
looking around for no berries because it
likes berries
there's no berries over here let's go
all the way down here and now look
around if you can find berries and then
come all the way over here and not look
around would it be great if it would
just draw as I did that no get that
working someday go around go here and go
up here so this is one of the things I
want to add to this how do I vary the
probability of the step size to forage
for berries what's your favorite berry -
blueberry although I have this like acid
thing and I'm told that I'm not supposed
to have blueberries melon is good this
is off topic ok so let's look at first
we're going to make this easier let's
add
to this okay so what is the factor now
first of all if you want to do a deeper
dive into vectors I linked to my
playlist from the nature of code
playlist all about vectors which you can
look at and also the cadenza course that
I mentioned I'll link to it here which
is an online course and not on YouTube
but as videos for free I look at vectors
in JavaScript which is probably more
relevant to this particular videos video
my my ones on youtube are using props
any jobs but anyway what is a vector so
I mentioned that the random Walker has
an XY position right and I shouldn't
draw this arrow here because the thing
that I'm going to use to demonstrate
vectors is its era so this right here is
an XY point so a vector is an entity
that has both magnitude and direction so
typically that is drawn as an arrow its
direction you can think of it as the
sort of angle of orientation I'm just
thinking about vectors in 2d the idea of
a vector is actually just essentially a
list of values in some dimensional space
and this is a big thing in machine
learning and all sorts of but I'm
thinking of like a very simple idea of
just a vector in two dimensions it has a
magnitude direction its angle and it has
a magnitude the length of the arrow now
the components of a vector
this is the idea that vector it's this
arrow that's long or short the
components of it or a displacement along
the x axis and a displacement along the
y axis so the way that you can think
about this point as an X Y is actually a
vector that points from the origin to
that point so if you needed to travel
from 0 0 to where that spot is you would
need to go a certain amount of Y and a
certain amount of X and you would be
there and the vector positions you there
now vector doesn't have a particularly
low keishon a vector is just this entity
so we could also consider each step to
be a vector so before when we have the
random walk the random walk could only
ever move up right down left and this is
sort of a formal definition of like the
classic random walk but I'm going to do
a vector random walk meaning it could go
one unit in any given direction and then
that vector each length could be
variable so what is the probability of
it moving
one unit versus moving many units and
this is how we're gonna get that lady
flight ok so now I'm going to do my
vector of random walks back to the
computer this is a random walk okay here
I have okay so let's go to the code and
start implementing some of this stuff so
basically what I want to do is I want to
get rid of my x and y and I will instead
want to say I'm going to call POS paws
for position and instead of setting x
equals 200 and y equal 200 I'm gonna say
pause equals create vector 200 200 so
this function in p5 create vector just
makes a vector object a vector object is
part of the p5 library and now I have
this vector object in paws which has an
X and a Y and just so we can see it I
can say like console.log pause so we can
take a look at that what that object
looks like in the console it's like that
okay now what I want to do is instead of
drawing the point at x and y i want to
draw the point at pop but the point
function in the ellipse function the
line budgin they always expect the
separate x and y values and i can access
those by saying X and not Y so a vector
is an object and objects in JavaScript
have properties that you can access by
saying dots but they paws dog paws dog
paws duck song no maybe it's not really
ok so then I could also just say hey
paws x equals paused at X plus 1
paws dot X so I'm going to do this in a
faster way I kind of want this video to
like speed up right now pause that X
pause that Y pause that Y pause that Y
pause that Y and now I should have
exactly the same program by refresh we
can see it's doing exactly the same
thing the random walker is moving around
randomly and you can see here here's my
object by object is a p5 vector with an
and a wife by the way it has a Z so
what's some point I'm going to come back
and look at doing a random walk in 3d
the vector object NP 5 also in
processing has a Z built into it I'm
just ignoring that fact right now and if
I type in the console here clause again
I can see this or its current values
that's where it is right now 178 and 214
okay so that's pretty good now actually
though I'm going to do something here
I'm saying there's only four options one
two three or four zero one two or three
move to the right move to left move up
move down I'm going to just radically
change this completely I'm going to just
take all this code out and what I'm
going to do is I'm going to say var step
equals and what I want right now is a
vector that has a length of 1 and points
in any given direction and there's
actually a function in p5 that will give
me a vector like that already be
interesting to discuss how you calculate
a random vector using just a random
function but I don't need to because I
could say p5 vector random 2d this is a
little bit of a weird syntax here so why
wouldn't I just say you could sort of
say like why doesn't it just something
like this something like that right
why isn't there just a global function
random 2d vector that gives me like
there's a global function create vector
right create vector why isn't there
create random 2d vector well there could
be 1 and p5 the library could be
implemented that way but to be honest
there's a bunch of functions associated
with vectors that aren't so commonly
used and they would really pollute in
many ways the simple p5 reference that
has the core functionality so some of
the functions that are associated with
vectors are actually inside of the sort
of namespace so to speak of the p5
vector object you want to go to the p5
vector reference page which I'll link to
in this video to find the documentation
for this so to make a 2d vector I've got
to say p5 dot vector random to D and
then guess what now what I want to do is
say pause equals pause plus step right
because what I want to say is have a
random step and then take a step and
reframe take a step random step take a
step every frame so this is my pod add
step to it this is my pause add step to
it but let's see what happens when I run
this nothing so javascript doesn't even
give me an error message it just like
the reason why this doesn't work is
JavaScript doesn't know what to do with
it plus and these values okay it knows
how to do two plus three that's five ten
plus seven seventeen I could keep going
I could do addition very proud of
yourself it also knows how to do plus
with strength rain plus bow is rainbow
but it doesn't know how to do plus with
vectors and sub programming environments
allow you overload determines overload
overload an operator and tell the
programming environment how to do it
with a plus sign how it works
but but Peapod does in half javascript
doesn't have that there's ways around
that but so easily so the way that i
need to add is step two pause is by
looking at the p5 vector documentation
and you'll notice there's a function
called add so I could just say pause add
step so once I say this is a function
adds it's part of the vector library I
want to add the step back here to pause
okay and now I'm gonna hit refresh and
we can see there we go
now this is actually doing something
quite different than the previous video
because it's using floating point math
and if I look at where the pause is
right now you can see that it's at this
number now one thing to note is that you
know there are no actions there's no
like two hundred thirteen point eight
four pixel so when you say to draw that
number the browser the operating system
is going to sort of figure out what to
do sometimes it just like takes off the
decimal place sometimes it does some
kind of what's called sub-pixel
rendering by kind of using some alpha
values to make it like the illusion of
it in between pixels but we don't really
need to worry about that too much you
can see the quality of what we're
getting is essentially the same and now
what I want to do is add the idea of a
levy flight to it so at a future at some
point I would love to discuss a variety
of ways that we could control the
problem
of the step size right now to ask
yourself what is the step size what is
the step size you can pause the video to
try to answer it the step size right now
which I mentioned a few times was
actually one so random 2d gives you by
definition what's called a unit vector
meaning the length of that vector is one
but I could always change that length I
could say steps multiplied by five that
takes the vector and scales it up times
five makes it five times as long and if
I do that you'll see whoa
do I not hit save it did not say now
you'll see look what's happening - oh
I've definitely got something I've got
to fix with this I just noticed you can
see that the step size is bigger and the
dots are further apart so incidentally
let's fix this issue right now I want to
see a line from one spot to another now
that the steps are so big when it was
only one the points would always appear
next to each other so to do that I want
a variable called previous and I'm going
to say previous equals pause copy so
this is kind of an interesting thing
because these are objects they have the
vector object has built into itself
objects have this a function called copy
which creates a copy of it I don't want
to say previous equals pause because
that way if I change pause previous
changes they're actually pointing to the
same data I want to make a copy so I
want pause and previous to both be a
copy of the same spot and then what I
want to do is draw a line between pause
X pause y and previous dot X previous
dot Y then before I change the step
before I add step two pause once again I
want to say previous equals positive
copy that this is actually kind of a bad
idea probably doesn't matter but it's
sort of unnecessarily creating new
objects over and over again
so in this case I think what I actually
want to do is say previous set pause I
think what that will do is just say sets
the values of previous two pause the
reason why I couldn't do that up here is
the previous thing
just yet so copy makes a new vector and
the set function just takes an existing
vector and kind of copies the values
over into it I think this will work so
let's see now
we get we can see now it's connected
with a line I guess I have an alpha in
here that I didn't notice let's take
that out so you can see it's connected
with a line and I could just change the
step size now to like 25 and we can see
look a random walk is making really big
steps now 25 steps and then I could say
hey what if I make this a random value
so a random step between 1 and 25 now
what you'll see is the step size is
actually random so in order to complete
the lazy flight what I need to do I need
to have a probability of you need to
have it be most likely that it's going
to take a small step but every once in a
while take a big step and I'm going to
do that in a kind of quick and dirty way
which is just to say let me pick a
random number VAR r equals random 100 so
this is a nice way you don't have to use
a range from 0 to 100 but this is a nice
way to implement probability in your
code what if I want there to be a 5%
chance of something happening well if I
pick a number between 0 and 100 that
number is going to be less than 5 5
percent of the time I could have done
this by saying random 1 and say 0.05 but
just for readability right now if a
random 100 so let's just say there's a
5% chance of taking a step that is
actually some that is actually 25 pixels
so it's always going to pick make a
vector that is one step and just by the
way is making a new vector every train
let's big deal that's a unit vector and
but 5% of time it's going to go 25 so
let's look at this and we can see we've
now got this lead right now 5% is
actually kind of often you can see at 25
pixels is maybe not that long so maybe
what I'm to do is actually make that
step which randomly between 25 and 100
and I'm actually going to make it just
1% of the time and so now we're going to
see and maybe what I actually want to do
is always make the step size and by the
way there's a function called set mag so
what
I set nitrogen because right now because
it's unit sector is one if I multiply by
ten I'd get its magnitude of 10 because
1 times 10 is 10 but if its magnitude
was like 15 and then I wanted to be 10 I
would have to divide it by 15 and then
multiply by 10 so there's actually a
function called set Mac mag which set
the magnitude which I can do let me just
set it to 2 just so this native sizes
are a little bit bigger and now you can
see we've got the Leavey slight lazy
flight so this is one variation I you
know what what kind of ideas could you
have in terms of color and design or
adding a narrative to this that you
might explore or changing the
probabilities now up there we go oh
there we go so now you can see these
like large steps and so explore this
play with it if you make something with
it the code from this video we linked in
the description if you make something
with it share was be on Twitter at
Shipman or share it in the comments and
I I tried at least read and go through
all the comments you know generally once
a day I'm kind of like checking them and
reading them into joining it so thanks
for tuning in to this second random walk
ladies like video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>