<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Singleton Design Pattern | Implementation and Disadvantages | Clean Code Series | Coder Coacher - Coaching Coders</title><meta content="Singleton Design Pattern | Implementation and Disadvantages | Clean Code Series - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-Primers/">Tech Primers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Singleton Design Pattern | Implementation and Disadvantages | Clean Code Series</b></h2><h5 class="post__date">2017-12-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bPIRGre9JHY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">press the bell icon on the YouTube app
and never miss any update from tech
primers singleton design pattern is one
of the most commonly and be heavily used
design pattern due to its simplicity
what are the responsibilities of a
singleton design pattern in general if
you know about singleton design pattern
already you probably would have kissed
Singleton's are static in nature
the singleton needs to be thread safe
it will have a private constructor
so that we won't have anybody else
create the object of that particular
class we will be obviously having a
private instance of the class and
finally there should be no parameters to
the constructor
so these are the responsibilities of the
singleton design pattern and let's
create one singleton design pattern and
see how we can create that which aligns
to all these features I have already
created a project which is called the
creation and design pattern I'll upload
this to github as well you can take it
from there I have created a package
called singleton and I'm adding the
singleton design pattern classes here
main well whenever I create the builder
or the prototype design pattern I will
create a separate package in the same
project and you can get the examples
from the same project so let me create a
class for the singleton design pattern
so I'll just create it as a singleton
example so this is going to be the main
class way we are going to call the
singleton class so I'm going to create a
for simplicity since it is just a single
singleton class I'm just going to name
it as singleton I'm not going to name it
as anything else I'll just name it as
singleton and this needs to be a
singleton class alright so this is going
to be a singleton class
right so that if you are checking this
example you should be able to easily
understand right so what did we discuss
in the readme it should be static it
should be thread safe it should have a
private constructor so let's start
writing everything right
we need apply read static single done
which should be an instance
and what we can do is you can create
your instance here
we can create that before the object is
loaded so before even during the class
loading began created or if you want to
have it as a lazy loading then you can
remove this so if you want to do lazy
loading then we can remove this and as I
null so that whenever a singleton class
is accessed you will load that so we
need a private constructor so we'll
create a private constructor
but empty and we need private static get
instance which will return the instance
of that particular
so the instance return type should be
singleton
Sandra Turner instance so how do we
return the instance we need to check if
it is not right so ever since we have
added lazy loading we need to check if
it is none and we need to create a new
instance if it is so that's what I'm
doing here since we want to make it
thread safe what we generally do is we
generally accent comest here right if we
add synchronize your the problem here is
it will synchronize every call which we
make to that ket instance instead we
want to synchronize only when we are
creating this object right if for that
we can remove the synchronize in this
particular place and we can make it
synchronize here so we can make the
whole singleton dot class synchronized
that way we can get the synchronized
block book only on the particular set of
blocks so we don't have to worry about
this because this will never be true
until or unless we are doing a lazy
loading and also there is one more
concept of double checking we can do the
check here as well again we can do
double checking here this is done to
make sure that only this particular
block is locked if there is some other
thread which is accessing the instance
then it will not get affected so if you
notice here this is it is saying that
hide at all locations involve this
particular issue because it says you
should not use synchronized when you are
doing double checks until or unless you
add volatile to this object so if we had
overtime to that particular object you
can remove synchronized serum remove
synchronized and if you notice here this
is gonna the error which came previously
is gone now because we have made this
particular object volatile because if
you don't make it volatile there are
still chances of other threads which can
see half initialized instance of the
singleton so that is why we are making
this particular object as volatile so
this way it is completely thread safe
and you can use this particular instance
and if you notice your IntelliJ had
already warned me that I should not use
that lis but yeah now with your return
that is all fixed so this is how
you can create a and so we do whatever
we have done it is static in nature yes
it is static because you cannot create
an instance because the constructor is
private we have it has thread-safe
yep we made it a synchronized while we
created the instance it is trade safe
we had the private constructor yes it
had a private instance of the class yep
we have a private instance of the class
yes and finally no parameters to the
constructor yep we do not have any time
to the constructor so how do we access
this we can access it directly from here
we will be using singleton dot get
instance I think we made it as private
let's do this public because we need to
get it accessed outside right
so we can introduce a variable let's say
call instance and for simplicity just
let's print out the instance and I'm
going to create one more instance which
is called a second instance
so that way we would know whether the
instance is new or is it the same so let
me run this program to see if it is
creating a new instance or if it is
reusing the existing instance that way
we would know whether our singleton
class has worked or not
the general examples of singleton which
are used already in the JVM our runtime
dot gate runtime so if you notice here
this is the singleton example so I just
mentioned
example
right we can use this this is the
general example of singleton which we
directly use it in general we use it for
garbage connection or running a shell
command rate this is one example there
is also spring beans which are using
singleton by default if you know all the
spring beans use a single term so that
is another general usage of singleton
design pattern the other you say is
logger as well logger is singleton but
it can be used with the factory as well
you use factory to get that instance so
it is singleton but it it is generally
singleton class so that is one more
there are other graphic api's which use
singleton as well
so this is the single turn design
pattern hope you guys understood what a
single turn design pattern and how you
can create it there are some
disadvantages of singleton design
pattern for example let me put the
disadvantages here
so it is more often Lee used and because
of that people overuse it
so since people overuse it it creates
more hindrance when you are trying to
write unit tests if you have a unit test
and you want to test a particular class
and that particular and you try to
inject a instance in one particular J
unit and somewhere down there down the
line if you have another JUnit and you
are trying to use the same instance so
when you write mocking code there will
be problems when you are running it in a
single JP unit testing is a pain if you
have more Singleton's access to across
your classes and also it can slow down
your when you are using too many
singleton class it can slow down your
app depending on the usage because you
will be having too many synchronized
codes and if you know how to use the
thread-safe
feature like how we mentioned here the
synchronized block only when we are
doing lazy loading then we don't have to
worry about it but you should be very
carefully using this singleton because
it's going to be the same instance which
will be used across threads so we should
be very careful in designing these
singleton so you should not overburden
the singleton class
other problem is people sometimes use it
as a factory written argument so people
use a singleton with an argument so what
they do is they pass the gate instance
with an argument and then based on that
we create an instance so that is not a
singleton pattern which is basically a
factory pattern so formally most
probably it is it is sometimes confused
with factory design pattern
you
the other one which people generally
don't get is there is a API called
calendar dot get instance
so if you notice here this is get
instance however this is not singleton
because every time you do a get instance
is going to return new objects for us
this is generally a factory design
pattern however people confuse it as
singleton design pattern if I just show
you the system mode
you
you
let me run this and if you notice that
every time you do a candidate or get
instance it's going to return the new
instance of the calendar however they
just the name just resembles the cake
time if you notice here the calendar is
different completely if you see the time
is completely different right because it
calculates by nanoseconds so it's
completely different so you won't be
able to compare these two instances so
this is the most common misconception
which people have calendar or get
instance is singleton but it is not a
singleton it is a factory so every time
you do a calendar would get instance it
creates a new instance it is also
creation however it doesn't align with a
singleton design pattern this is the
different features disadvantages and the
usages of singleton design pattern hope
you guys understood what is singleton
design pattern and you will be able to
crack an interview based on the in-depth
understanding of what is singleton mate
again in the next video thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>