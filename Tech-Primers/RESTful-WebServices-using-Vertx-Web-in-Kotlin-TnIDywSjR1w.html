<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>RESTful WebServices using Vertx Web in Kotlin | Coder Coacher - Coaching Coders</title><meta content="RESTful WebServices using Vertx Web in Kotlin - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-Primers/">Tech Primers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>RESTful WebServices using Vertx Web in Kotlin</b></h2><h5 class="post__date">2018-02-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TnIDywSjR1w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">press the bell liken on the YouTube app
and never miss any update from tech
famous in this video we are going to see
how to create a HTTP server using vertex
in Kotlin in the previous video we saw
how to create it in Java in this video
we are going to create the same in
Cortland if you're familiar with Kotlin
you can understand this particular video
if you're not familiar with Kotlin do
check out my videos on how to learn
Catalan and the Catalan basics then you
should be able to understand contouring
better so let's get started by creating
the project using IntelliJ I'll get a
new project
I'm going to create a maven project but
from the archetype I am going to create
a Kotlin project let's search for the
Kotlin archetype
yeah so we have Cotterill here and I'm
going to create it for the JVM on the
JavaScript so let's do that and I'm
creating the version 1.1 dot 61
the group ID for this project is calm
take primers vertex because we are
creating a vertex project Kotlin -
vertex example
finally the archetype has created the
skeleton for our Kotlin project if you
see in the BA maximal this just looks
exactly like a Java project but it can
run on cotton using the cotton runtime
and you can see the Java dependencies
for the cotton so basically these can
run on the JVM but we would be writing
Catalan code let's go to the structure
so we have the Quadling file the hello
dot Kotlin in order to use vertex we are
going to use the vertex dependency if
you're not familiar about vertex do
check out my video on what is vertex as
well so that you can get a idea about
what is vertex
I'm going to use the artifact vertex
them and the group ID would be IO dot
vertex so the version number would be
three not 5.1 these are the
configurations required for adding
vertex into our project vertex is our
library so we can just add it like any
other dependency and then we can just
start off with it let the hello will be
there so in order to use vertex you guys
know we are going to use vertex dot
vertex so this is the static method
which is available in the interface
vertex we are going to use it to get the
vertex instance so this is going to
create a vertex instance and that's it
and I'm just going to call it as vertex
in order to create a history piece
server be able to use this vertex and
create it we can do a vertex dot create
HTTP server this will create a hash OTP
server for us and let's call it as HTTP
server now in order to start up the HTTP
server we need to start up this HTTP
server on a port so we need to say
listen it can listen on a put I'm just
going to use 1891 this is the port which
I'm going to use also we need to create
routes because I need to register some
end points into this server and I need
to access them right so in order to do
that we have to create routes so we have
to create a router and using the router
we have to create routes these are
something similar to the rest endpoints
and registering them to the controller
these are called as routes in vertex
let's create these routes we need to
create a router dot router in order to
create a router information
I'll just call it as a router from the
router you can create any number of
routes if I just say route it will by
default enable HTTP method for every
everything so basically I can do a get
and it will be called here if I do a
post will be called here so if I don't
specify any HTTP method we can directly
use the route option and we can get
everything working so let's try using
one once we do the route we need to add
some handlers where we can write some
code to do some processing I'm going to
add the handler the handler which we the
argument for this particular handler
would be routing context you can see
that so from the routing context we can
use the request and response and we can
manipulate the data so let's try doing
something with your routing context from
the routing context we need to get the
response and the response needs to be
modified because we need to send some
response back to the user or the source
which triggered it so let's use the
object response and just trice let's try
storing it in a variable called response
so I'm just getting the response and
storing it in an object called response
in the response object now I'm going to
do some write operation we can do a
write of hi let's say right and this
will be sent back to the UI and finally
I'm just going to end it so I'm going to
end saying ended meanwhile I will say
how YouTube backslash n right so these
both will be sent to the user
whoever has triggered it right
now in order to send this information
back we need to add some headers as well
into the response right so we can add a
put header you can just add a put header
and we can add something
for example content-type I'll just say
the content type is text less plain
because it's a plain text message which
we are sending and also I need to set
the chunked data because I need to tell
the vertex server that I can send
information any number of times so
because we are doing a write and n there
are two strings which we are pushing
into the response so I'm just going to
say send this as chunked information by
default the set chunk is false so I'm
just trying to enable it okay so while
creating the router we forgot to mention
the vertex because from the vertex in
instance we need to create the router
right so that's what we that's why the
IntelliJ was complaining about that I'm
just fixed that now so that's it right
so this is this will be like a index so
since I didn't give any path here by
default if I hit the vertex server this
will be hit so any URL if I hit this
particular information will be executed
so basically the handler which is
registered to your route will be
executed and we can register two
different routes we are going to see
that now meanwhile in the HTTP server we
have to stick this router we create on
the router from the vertex instance
however we need to attach that to the
HTTP server we can do that by
request handler and passing the routes I
will just pass the router and I'll just
say except this particular router with
the HTTP request which we have here so
by default I'm just going to use the
object reference to pass the except
function so this will now register the
router onto the HTTP server which is
listening on the port eight zero nine
one if let's say I want to do something
on this port and I want to check if the
port is up and running you can do that
as well meanwhile I'm just going to
directly run this let's run this program
so this should start a HTTP server and
we should be able to hit any endpoint
and we should be able to see hi YouTube
and the ended message and this is
running on 8:09 one so we should be
going to localhost 8:09 one the server
is apt now we should be able to go to
the browser and hit the localhost 8:09
one port let's do that 8:09 one this
should return me hi YouTube and ended
yep I can see that here so basically
this came here so we have the vertex
instance which is using the HTTP server
and it is running using the Catalan code
it runs on the JVM because the JDK
because Kotlin can run on JVM or the
JavaScript and we selected the JVM
project so it is running on the JVM now
I want to make some minor changes to
this particular route I want to do gate
operation and I want to do a response
with adjacent so what I will do is I
will just modify this guy so of the
route I will just say gate of its a
slash and I'll add one more route here
get off Jason and I want to send some
JSON information back to the UI so let's
see how to do that right so we have the
routing context again and from the
routing context we have to do the same
operation we will just do the response
we just create a
so from the response object we need to
now add the header saying content type
as JSON will just say application slash
JSON because that is the type of
response which we are going to send same
way we are going to say is chunked as
true also the message which we are going
to write that's what matters now right
so we are going to pass the JSON message
you notice in the JSON message
I need a data class so basically I need
a model
so in Kotlin we can create a data class
directly so I'm just going to create a
data class I'll just say data class all
I'm going to say response object right
and the parameters are I'll just say
name I want only the name I'll just say
their name and this is going to be a
string and I'll pass some default value
as empty so that it doesn't fail
anywhere now I need to pass this
response object on to the right here in
order to do that I can just do response
object and pass the name so what is the
name of the object let's say YouTube
and we need to pass this as a buffer in
order to do that we need to use the
utility json dot encode prettily this is
a utility provided by vertex in itself
where we can push the model into the
response as adjacent message so that's
what we are doing here and finally we
need to end this particular guy right
I'll just do a end I don't need
semicolon in Cortland right so that's it
we are having two different rest
endpoints now one is the slash and one
is this last jason slash will give the
plain text slash jason is going to push
the jason information which we are
passing here as the response object with
the variable called name and the value
as youtube let's restart the server now
and let's see what happens is it working
really the server is up let's hit the
eight zero nine one we should be able to
still see this message yeah we are able
to see this message now we need to hit
the slash jason in order to see the
jason information I'm just hitting the
slash Jason and you can see that I get a
response saying names : YouTube so this
is the response which we get from the
server because we are pushing the JSON
as YouTube
if I need to pass some dynamic
information I can do that I can just
pass the name here what I'll do is I'll
just pass the name here so you can do
that in vertex by doing : name like how
we got the response here B you can use
the routing context dot request object
and from the request object we can do a
get param and we can retrieve the name
from that I'll just store it in name and
this name I'll just pass it to the
response object here so that way
whatever
they pass it's going to add a let's add
some high right high message hello I'll
just say hello I'll just add a hello
along with the name so that is the
message which is going to come in the
Jason let's restart the server
so this these are nothing but path
parameters so this is how you can pass
the path parameter
and let's refresh this guy now it should
fail because it expects a path parameter
because last Jason doesn't exist
let's try passing tech primers they
should say hello tech primers yep we got
the message back if I just say hello Sam
it should say hello Sam yeah you see
that so this is how you can respond with
a Jason message we can use the utility
json dot encode prettily and pass some
modern and that gets converted into a
jason and then pushed to the UI so this
is how you can use vertex in the Kotlin
project so if you're using java you can
take a look at my other video where i
have shown how to create it in java if
you're familiar with Kotlin this is how
you do it in Cortland most of the
Android developers are using Cortland
and if you're familiar with vertex and
you want to leverage the reactive
programming using vertex then definitely
you can use this way of using HTTP
servers with Kotlin I am not shown the
exact reactive framework part but we can
see that in the next video I hope you
got what we did in this particular video
we used the vertex API to create a
vertex instance we created an HTTP
server using the vertex instance we
created a router in the router we
register different paths or resources
and we handle those resources using the
handler implementation where we can get
the response and manipulate the response
and then push it back and even we can
use the path parameter to read those
from the request and finally be
registered the router onto the HTTP
server which is listening to a port so
this is how we can use a vertex
inside a Kotlin if you liked the video
go ahead and like it if you haven't
subscribed to the channel go ahead and
subscribe to it meet you again in the
next video thank you very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>