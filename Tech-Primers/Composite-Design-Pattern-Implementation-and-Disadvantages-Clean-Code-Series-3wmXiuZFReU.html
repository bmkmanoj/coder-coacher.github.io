<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Composite Design Pattern | Implementation and Disadvantages | Clean Code Series | Coder Coacher - Coaching Coders</title><meta content="Composite Design Pattern | Implementation and Disadvantages | Clean Code Series - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-Primers/">Tech Primers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Composite Design Pattern | Implementation and Disadvantages | Clean Code Series</b></h2><h5 class="post__date">2017-12-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3wmXiuZFReU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">press the bell icon on the YouTube app
and never miss any update from tech
primers composite design patterns are
useful when you need a tree structure
and you want to traverse across the
objects in the hierarchy fashion
in general composite structure consists
of a component which will be at a higher
level it could be an abstract class or
an interface however you wanted the next
implementation or the conclave class
would be the leaf and there will be a
composite class this composite class
will contain the children of the
component the composite class will be an
implementation of the component however
it will also contain the children of the
component let's see how we can create a
composite class with an example
if you are already working in an
organization you probably know how the
hierarchy of your reporting structure
will be you are an employee your manager
is also an employee your managers
managers also an employee however the
reporting structure could be different
we are going to try and simulate that
particular example here
I'm going to create a employee abstract
class
so what are the different attributes of
an employee so he will have a name he
will have a employee number
what else do we need I am NOT going to
add anything else for example we can add
maybe salary
I'm going to create a constructor out of
this now that we have created these
particular attributes of an employee we
need to add a particular method to make
it abstract right or oral the class will
not be abstract I'm going to create a
method let's say for example I am just
going to call it
as to string for now I'll just rename it
whenever I need to do it just safely
for now I'll make just make it as a
two-string but let's see how we can name
it differently I need to implement this
particular employee first I'm going to
create a developer I'll just create a
developer who is also an employee right
in the to string I'm just going to build
develop
I'll just bring I just build a to
stringbuilder right I'll just create a
stringbuilder
by just
of developer
you
you
you
and an add the name
is this not protected it will be
protected
you
you
I'll just add the name and the ID to the
two string and then just passing it let
me create one more employee I'm just
going to call that as I'm Lee let's say
that I will create a lead project Lee is
to turn those I'll just create the sky
okay I'll just copy this
you
the whole implementation
you
I'm just going to call this as the lead
and this lead can have different
developers right as the report ease what
I'm going to do is I'm going to add the
different developers here
I'm going to add list of employees
you
new ArrayList and we are going to add a
method
called void add rate add employee we can
add an employee
to the employees list
this is going to add the report is to
the project lead so the lead we'll have
the report ease we also need
they're a move method so I have a a
dirty remote enhancement so now the lead
has add and remove right
the developer will not have that however
let's say there is the manager of the
lead as well right we need to again
implement the add and remove in that
case we can move this add and remove to
the employee class itself
however with some emblem the empty
implementation because the developer
might not have any trip ot so what we
can do is we can add some default
methods here so the ad employee and the
remove employ
in the lead we will have that as
overwritten methods
you
so the developer doesn't have to
overwrite that and it is already present
in the employee here we can have some
error messages or maybe you can throw
some exceptions for example you can
throw a unsupported exception saying
cannot add the report ease
you
you
cannot I report it to the poor
cannot our 240 by default let's hear it
so that way we know we cannot add report
ease to the developer or whoever it is
who cannot however bootys so we have
created a lead we have created a
developer now let's create one more
structure like the leads their manager
basically
you
similar to how we have implemented in
the lead we are going to
use exactly similar methods the only
thing is instead of having a list at the
manager level you will have at every
composite level so these are the
composite classes right the lead and
manager are the composites
developer will be leave an employee is
nothing but the component an employee
can be either a developer or a lead or a
manager lead and managers will have
reporting structures of the developers
that is why we have this particular
option of storing the employee lists in
the manager and the lead so now let's
create a implementation or the usage I'm
going to call it as composite example
public static void main how do we create
a developer let's create a developer we
are going to created a creator employee
so he is going to be an employee and
he's going to call be called as
developer
because we are gonna play developer with
a name called Peter the employee ID is
one salary is let say 100 M we are going
to create a developer to called Sam
whose employee number is 2 salary is 200
same way we are going to create Ryan
a salary is 200 as well we are going to
create a now and lead who's going to be
called as Mike his employee number is 4
his salary is let's say 2000 m and he is
going to be called us need 1 same way we
will have lead to we are going to call
him as Chris
let's create a few more developers
in five six and seven eighty four and
five so we have five developers to leads
we need to create a manager as well and
I'm going to call the manager's name as
Phil
and his employee number is let's say
eight and his salary let's say is 50,000
M so now how do we create a reporting
structure right we would be creating a
reporting structure for the lead for
lead 1 we will be adding employees right
developer 1 let's say I'm going to
create three people I'm gonna assign
three people to lead one and I'm gonna
assign lead to they just only one
developer
now these leads report to the manager as
well so we can add manager or add of
lead one
lead to and also there is one pending
developer right we can directly add that
developer to the manager because he is
also an employee you an employee can
report either to a lead or a manager
hide so I wanted to show that variation
that is why I added that developer
directly to the manager so now finally
I'm going to call the manager or to
string what this two string is going to
return is just the list of reporting
structure for that particular manager
right if you want to see the reporting
structure for each and every lead you
can do that here saying lead 1.2 string
we can see what do you got string let's
see what is output if you notice your
initially the lead one shows just the
leads information however it is not
showing the employ information I think I
know why because I did not traverse
through each and every list of employees
yep that's the mistake which I did if
you notice here I just did the build
order to string however I did not
traverse through every employee of him
right let's say builder dot happened I
just add an employee list
which he principle so we need to now
traverse through each and every employee
and for every employee we need to do the
toast ring and we need to add this into
the breeder
you
you
you
you
so this way I'm traversing through every
employee and getting the toasting for
him and we need to do this for
even the manager
so now let's see what is the output it
should now show the lead for the leads
name is Mike and his employer is that
much okay there is some let me add some
space no dawdling let me rerun that so
it is player for us
you
you
okay so I added it only for the manager
I need to add it for the leaders with
now I can see clearly that the Leeds
name is Mike and I think in the manager
I have not named it as manager let me do
that as well so that we can just verify
the data so the lead his name is Mike
and his employee ID is for his employees
our developers one is Peter the next guy
is Sam the next guy is Ryan same way
focus there is only one guy who is Ryan
did I name it as Ryan Oh twice let me
check
yep I am named Ian as Ryan I can change
it as maybe Ryan X right just to show
the differentiation just rerun
yep I have different Ryan's now I have
Ryan here I have Ryan B and then finally
I have Ryan X and if you notice your
manager will have his employees as leads
who are internally having developers
and finally he will have his own
developer as well this is nothing but
Ryan right so this is how you can create
a composite is in pattern so it is
useful when you want to create
composition you can use compositions
separately like how we have created a
lead you can create the lead separately
you can use the lead separately and you
can completely get the lead specific
data you can't have manager and then you
will have manager specific data so that
way you have different composition you
have different types of list that leads
to the disadvantage of the composite is
in pattern because we are creating lists
two times here right manager has a
completely different list and again the
lead has a completely different list so
this way you are duplicating the data so
that itself is the biggest disadvantage
of the composite is in pattern
it is very costly to create more
composite implementation the other thing
is it is very simple it is overly simple
which leads to creation of multiple
composite examples right the composite
implementation will be more so people
will tend to create more and more
composite implementation like how we
created Ravidas copy/pasted lee and weed
it's my small minor changes to thee we
just copy pasted the lead and we did
minor changes to the manager and we copy
pasted everything from the lead right
that way people can go ahead and create
multiple composite implementations
without even having to without even
having to call the employee or consult
in the employee saying can I create more
composite implementation so that way you
will end up creating more and more
clients or implementations or concrete
classes that adds to the disadvantages
because it's overly simple
that's it for this particular video I
hope you guys understood what is
complexities in pattern if you like the
video go ahead and like it if you
haven't subscribed to the channel go
ahead and subscribe to it meet again in
the next video thank you very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>