<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>What is MongoDB? Spring Data MongoDB in Spring Boot Application with Example | Coder Coacher - Coaching Coders</title><meta content="What is MongoDB? Spring Data MongoDB in Spring Boot Application with Example - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-Primers/">Tech Primers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>What is MongoDB? Spring Data MongoDB in Spring Boot Application with Example</b></h2><h5 class="post__date">2017-07-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/l5KC6OcbuOI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to tech primers in this video we
are going to see what is MongoDB and how
we can use MongoDB inside the
springboard application using the spring
data MongoDB so spring data has a
integration with MongoDB and it is
called spring data MongoDB so we are
going to see that with an example so
let's see what is MongoDB first right so
as you all know MongoDB is the document
database so if you are not familiar with
what is the document database so
document in tables is different from a
traditional relational database where
you create tables before starting
something right so before persisting
data into the database you start
creating tables with a predefined
structure however normal DB is different
from that so it is the document database
basically you can create data in
different structures so basically you
are going to purchase documents so
documents are nothing but like for
example Jason is a document so MongoDB
supports JSON format for storing
documents so it's similar to Jason so
it's that that's what they call as
documents so but into in terms of our
view it is Jason so you can directly
purchase a JSON into the mobo DB
database
okay so that is why it is different from
a traditional relational database so as
you see these are different features so
that's what they are mentioned in the
MongoDB I said MongoDB stores data in
flexible JSON like documents meaning
fields can vary from document to
document and data structure can be
change over time so that is what the
major advantage of MongoDB is also you
can do normal query processing indexing
real-time aggregation and stuff like
that the major thing is it is free and
open source and also it is distributed
so you can deploy MongoDB in different
clusters and you can scale them across
so that is one more thing which is why
people go to MongoDB so you can scale it
across so in a traditional relational
database you cannot scale just like that
until now right so MongoDB gives you the
flexibility of scaling across
distributed nodes
based on its mechanism so it has its own
mechanism to scale stuff like that and
also the major thing is it is free and
open source okay so I have downloaded
MongoDB from their website so since I
have a Mac I have downloaded the Mac OS
edition so it's just a tar file
basically so it's just a zipped file so
I just unzipped the MongoDB folder which
they came and then I just set my path to
that particular folder that's it
so now I can directly start MongoDB
using the MongoDB Kamat okay so that is
what I have done so you can check that
in the magari website if you have a
Windows machine you can download their
Exe file and then install MongoDB and
before starting anything you have to
start the MongoDB server so that you can
create your application to connect to
that MongoDB so okay so now let's get
started so let's go ahead and create
this create a project from the spring
initializer as you know I always use
spring initializer to create spring boat
applications so I'm going to give the
package name as comm tech primers Mongo
let's say MongoDB and I'm going to get
the artifact name as a springboard
MongoDB example okay so the dependencies
which we would require are we are going
to expose this as the rest endpoint so
basically I am going to integrate spring
MVC so I just saved up and also we need
more qotb
all right so I'm going to say MongoDB
okay so you can also use embedded
MongoDB but we are not going to use that
so people use their in-memory MongoDB
for testing so if you notice here it is
mentioned for testing so like a hit show
database you can bring up your MongoDB
instance inside the same instance of the
JVM but I'm going to not going to do
that I'm going to show you with a
traditional MongoDB connecting from our
application so let's go ahead and
generate this product okay I'll just say
this allergies it put okay it has go
tons it let's open it with IntelliJ
so I named it as spring boo - MongoDB
yeah let me open this project okay let
me maximize okay the project is open up
so if you notice here it has got just
the main class okay what we are going to
do is we are going to create relevant
packages so I'm going to create a
package called conflict so that we can
add our configurations their
configuration classes I'm going to
create a package control source so that
we add our roster source there
what is it create under this let me
delete it
so I'll create config I need one for the
document basically it is so I'll just
create one for document basically that's
the model for us and also we are going
to create repositories so we are going
to use spring JPA kind of notation so if
you are not familiar with spring JP is
spring JP is the standard with Java is
created the java persistence api
so we are going to use that so let's go
and create the first the configuration
so I'm going to say MongoDB config and
just gonna name this classes nobody be
conflict so what we need is we need to
undertake it with configuration so that
spring both bootstraps this particular
class before we start so when the
application starts up this has to be low
that's right so the next notation we
need to add is the enable MongoDB
repository so any like any other JP a
repository or elastic repository
searching spring elastic repository you
have to enable the manga repository and
also we have to give the part of the
package so we have to give the base
packages so I'm going to move you so in
fact you can give base packages or
classes so let's see which is simpler
so I'm going to just give the classes so
that I can directly click the class name
here okay so I'm going to create a
user's repository so I'm going to say
use a simple user information if I'm
going to give a user repository and I
need to create this user repository
let's create that in few minutes I think
we can say that now right okay so I'm
going to use the depository folder for
that okay something stuck
so right okay now I think we should be
able to I want to create a class and the
repository they directly on to the
contains of the Akihito's already
created is it right okay so we have
already created it but I don't know why
this is showing up as a different file
let me delete it and recreate it so
users repository unable to pass the
template class why is it up to not your
intake I don't know why it is saying
like that let me rename this to use the
repository okay fine I don't know what
happened I think the users repository
name got screwed up or I think it's not
deleted fine okay I have this created a
user repository
this is basically an interface so what
we need to do is we need to extend an
interface called mong-koo
repository so we have a mono repository
so like the JPA we already have Mongo
repository created by spring so so I'm
going to say that use my users model and
my primary key is integer so users we
have to create them so I am going to
create user so this is basically the
document which we need to create so I'm
going to put it in the document folder
now comes the major part you need to
document annotate this class with a
document annotation so that spring can
identify that okay this is the document
for the MongoDB database okay so if you
notice here this documentation is coming
from the MongoDB package so what all
fields do we need so we have said the
primary key is integer so then we have
to add name I'm going to say name team
name and I'm going to say salary
okay and also we need an ID right so
well mark this is ID I am going to mark
ID s ID and let's create some
constructors Gators and so does okay so
they created it now our document is done
repository is done so if you are not
familiar with what is the repository
what is the ojp a book you can check my
other videos on how what is their GPA
and what a Springfest and talk like that
you will have clearly explained what is
the JPA concepts there okay so I think
we have all the enrollments ready so now
what do we need to do here going to say
user repository all right here I am
going to use the command line interface
okay to inject some data into the spring
into the MongoDB so what we are going to
do is they are going to expose a rest
endpoint and using the present point we
are going to retrieve some data that's
not okay and I am going to inject data
into the Mongo database using the
command line Karma so this command line
Runner will be invoked by spring boat
then it starts up so what do we need we
need to implement this command line
runner it's an interface basically so we
need to implement something here all
right I will use the lambda expression
for it so what we need is the user
suppository in our case oh I'm going to
say inject the user repository here and
I'm going to say use a repository dot
save of new users I'm going to pass some
ID one let's say Peter I'm gonna pass
development is the team name and some
subtle all right okay so let me remove
this so that we can have a lambda
expression okay so that's it so what I'm
doing here is I'm going to inject a a
user into the repository so I can
include one more user so that we have
multiple users right so I'll just say
two
some operations okay so this is going to
inject data into the remover to move ODB
database when it comes up so when the
application comes up these two data will
be injected into the MongoDB database so
these two documents will be inside the
MongoDB so now we need to write the rest
endpoint right we need to value a rest
endpoint to give a red ring this data
back right so I'm going to create to the
source so I'm going to say use this
resource I am going to use spring test
spring MVC basically so I'm saying the
stress controller I am monitoring with
this quantity and I'm going to give this
pastor's class users okay and what do I
need so I need to expose a all rest
endpoint and I'm going to say I am going
to return list of users right okay tall
I am going to return okay I'm going to
return from the repository so let's go
ahead and create a deposit fee right so
I'm going to say users user repository
okay I'm going to add this is a
constructor so that this is Auto wide
automatically from spring Forge it gets
out of wire automatically you know you
don't have to add the at auto wire
annotation so I'm using that I'm just
saying find on touch it so what we have
done here is we are we are exposing a
resistant point called rest
slash user slash all and be acquiring
the repository for all the users which
are they that's it okay so that is it we
have added the configuration we are
adding data into the mobile data store
we have created the document store and
we have created the repository that's it
so now the only part remaining is the
configuration so now we need to tell
spring that I need to connect to a
database
instance right son give the name of an
applicant name for our application so
MongoDB example so now we need to add
some MongoDB related config side so we
need to add spring data MongoDB so since
we're using string data a MongoDB so the
config start spring data MongoDB and the
hostname we have to provide as localhost
so since I am going to run it locally so
I'm going to say it's localhost the next
one will be the port so I will just give
the default port which with which
MongoDB runs so the database I can give
as Mongo ok for now I'll just create it
as Mongo the next one would be we need
to tell MongoDB that we are going to use
repository so I'm going to say
repository is also enable - so basically
you are saying that ok I'm going to use
MongoDB repositories for persisting the
data so if you don't like the way
MongoDB repositories work so like that's
playing JP a reporter or opposition's
you can use your own client the Mongo
client ok
so in this example we are going to see
the Mongo repository so I think that is
it so we have added all the necessary
configurations so before starting this
server we need to bring the MongoDB
instance up alright so let's go ahead
and bring that void itself are equal so
let me go to the command prompt right so
I'm inside the download folder so we
downloaded the application to spring
boot Mongo example right here so I'm
going to start the MongoDB server so I'm
going to say Mongo T and I need to power
I need to provide the path so before
that I will create a folder called data
so that data - MongoDB so that the
MongoDB related data is stored inside
here so I am going to give this
particular path for the MongoDB server
to come up I am going to say Mongo D and
BB part is equal to dot so I am just
saying that ok start my MongoDB instance
and store everything inside this
particular folder
okay so if you know together the MongoDB
server has come up and the port it is
using is go to support two seven zero
one two yeah okay so we are going to
check the same port is being used here
yeah it's the same port so let me start
the springboard application so this
springboard application when it comes up
is going to now connect to the MongoDB
instance okay I have triggered a run
meanwhile we can go to the rest endpoint
on keep it ready and by the way we
haven't given any port number so let's
add a port number for us right I'm going
to say that okay start the Springwood
application under the port eight zero
one nine one nine five let's say some
new portal use okay so I'm going to say
spring boot to start this particular
server into port call eight zero nine
five
so I'm going to keep that ready so slash
slash users slash all this is going to
be a resistant point but right now there
is no server running that is why we got
the error so I can notice here the
spring booth application has come up
successfully so and also you can see
that the connection has been established
via Mongo silver so let's go to the
Mongo server and if you notice here
sorry guys let me drink some water yeah
so if you notice here we have persisted
Peter into the MongoDB instance already
right this has a part of our command
line interface we have already done that
so if you notice here this is the data
and you can see that peter has got
persisted already alright and same way
with Sam okay so
both later got persisted now we need to
query the rest endpoint so that it can
retrieve the data from the database so
I'm just refreshing the rest endpoint
and if you notice here so the data has
come up all right so we have received
this data from the MongoDB so little and
you can see that here it has it screamed
okay so this is how you use bring data
MongoDB inside a springboard application
so you can use the MongoDB queries
similar to how we use the JPA repository
so you can use all the capabilities
inside JPA for querying the
multiplicator days okay that is it for
this particular video so if you want me
to do any specific topic video on any
specific topic to let me know in the
comments below I can do that
for example this MongoDB I did because
many of you guys requested for it and in
the next video we will see how to
integrate spring security into this
MongoDB connection so we already use the
spring security with my sequel database
so we are going to see spring security
with MongoDB for authenticating you guys
okay so that's it for this particular
video video again in the next video
thank you very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>