<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spring MVC JPA using POST JSON Method Example | Tech Primers | Coder Coacher - Coaching Coders</title><meta content="Spring MVC JPA using POST JSON Method Example | Tech Primers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-Primers/">Tech Primers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spring MVC JPA using POST JSON Method Example | Tech Primers</b></h2><h5 class="post__date">2018-01-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nhH1PQF1698" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">some of you had requested me to create
ability on how to do host method using
Jason in a spring boat application which
uses spring MVC I'm going to create a
small project and I'm going to show you
how to do post mapping using spring MVC
in a spring board application press the
bell icon on the YouTube app and never
miss any update from tech primers I am
right now in the traditional website
where we do create our spring boat
application the start of spring dot IO
let's create a package from here I'm
just naming the project as comm tech
primers springboard or spring MVC post
example we need to add the dependencies
I'm going to use the spring MVC so I'm
just saying spring web also we need the
JPA to persist the data into the
database and I'm going to use h2 as a
data base in this project if you are
using my sequel you can using my sequel
JDBC driver here so let code and create
this project
let me unzip and open it in intelligent
let me maximize this window let's go to
the Palm D'Or XML and then witness the
dependencies which are there in the
project so the dependencies which we
added where the JPA
and the web along with the h2 all these
are present that's it we are good the
project also has got loaded I'm just
going to create different resources
services and model packages let me do
that quickly so service will be one
package model will be another resource
will be one
and beneath the repository so let's
start off with a resource I'll just go
to resource and create a Java class
called user resource this is the typical
example which we have been using in all
our videos I'm going to use the same
let's mark this as a rest controller
let's do the request mapping this is to
enable the rest endpoint for this
particular resource we have added the
controller now we need to add the post
mapping which we wanted to create let's
do the post mapping and we need to
create adjacent isn't it so we need to
say produces media type
dot Jason value and many to consume
Jason as well because we are going to
create a Jason and post it to this
particular rest endpoint so we need to
produce the Jason as well and consumers
way so we have created a producer and
consumer which is going to be Jason and
let's return some list of users for this
create operation and when we created how
do we store this Jason message into a
variable we can use the effect quest
body annotation this will convert the
message which is in the request body
into a Jason value
I'm going to use the user model we
haven't created that model we will be
creating that in a while meanwhile let
me return null here now we can go ahead
and create this user model
you
we have the model package created so I
am going to create it under that this is
going to be used to buy the JPA so let's
mark it as entity we'll mark it as table
so that this recognized as table by
having it which is inside JPA
the fields which will be having our di D
let's have a name
and let's also have a department and
finally let's do some salary
since we need a primary key I'm just
going to mark the longer ideas primary
key and I want to generate this value
automatically I don't want to generate
that so I'm going to say the generation
strategy has Auto so that this gets
generated automatically I haven't added
Lombok so I cannot do annotation
processing so I'm just going to use the
getters and setters creation from the
intelligent and I need a non-empty
constructor for the JPA
now user got imported beneath this as a
list we need to create a user service
isn't it so let's create a user service
I'll just create this under these
service package which we have already
created since this is a service we are
going to annotate it with service and
let's have two methods one for getting
the list of users get all users I'll
just say get all because it's a user
service I can just say get on because
it's a user for now I'll just return
null and let's create one more called
create and I'll pass the user here let's
not do anything here now we need to plug
the user repository or to does user
service so let's authorize the user
repository we haven't created the heater
user repository the JPA repository let's
create that as well we have the
repository package created before
so let's use that this is going to be an
interface because we are going to
exchange it Murthy extended from the JPA
repository the user is the model and the
ID is long that's it so we have the user
repository ready and we are going to
create here using the user repository
we'll just to the same to do or create
so this will insert the user into the
tables we need to retrieve that back you
just say is there a positive or find on
this is going to retrieve us back so the
service is ready now let's go to the
user resource and we need to create it
create the user here and we need to give
the list of users which are there
currently in the database so let's do
the user service dot create
for the user and finally we will return
the user service dot k-town also we can
add one more resistant point called get
mapping and they will return the list of
users
so let's format this class so we have
created the user and we have done it yet
all done let's go to the service and
just double check if it's all good we
have the repository and we have it we
have the methods called create and get
on which are going to create and then
retrieve all the information yep fine
and we also have the repository let's go
to the repository the repository is
extending JPA and we are good here let's
go to the user model we have annotated
with entity we have entered the table we
have also generated the IDS
automatically so I think we are good
here I'm just going to use a default I
am NOT going to use the default port
because my default port has occupied
already so I am just going to use 8080 -
if you're using 8080 that should be fine
as well and just using 8080 - because
that is the free port available in my
machine
I'll just trigger to run option I also
have the postman client let me open
postman as well so I have the postman
plug-in installed in my Chrome browser
so I have just opened that so that we
can directly use postman to to the post
request so the program is getting okay
it is using Java 9 and just stop it so
that my project is not using Java 9 well
use Java 8
I'll just do an install by default I
have Java and I'm set in my machine so
it is by default picking on pajama day
every time I create a project but I
don't want to use Java 9 because it is a
EA addition I want to upgrade it to the
production version but I didn't find
time to upgrade it to Java online
because I'm not using a Java and in a
project which I am just showing you now
so the claim is successful that should
be ok how to stop it and then meanwhile
run the project
the springboard application is up now on
the port 8080 - let's do a get on so the
port number is a HTTP localhost colon
8080 - slash slash user so that is the
rest endpoint which we were using since
this is a get request it should by
default get give us the JSON and it
should be empty yep if you notice it is
body 4 empty now we are going to convert
this into post and we need to say that
we are going to pass the content of type
Jason so we need to add this as a header
so that the server side also
acknowledges that this is a Jason
message so the content type I'm just
passing it as application slash Jason in
the header and in the body I am just
going to add the Jason message here the
name of the user let's say it is Peter
and we need to pass the department for
Peter let's consider he is from the
technology division and the salary which
he is getting let it be 12,000 that's it
they are not passing the ID here the ID
gets automatically generated that is
what we need to see here let's quickly
hit the send button and then let's see
the response yep the response is
received here with the ID so the ID got
generated and we have got the Peter
generated in the database and the list
of users have been retrieved Matt let's
try creating a new user called Sam with
the different information I'm just going
to create Sam with operations department
and his salary is 6000 bucks you can
notice that this is also getting created
now let's do a get and then let's see
what is the response I'm just using a
gate it should still return the same yep
if you notice here it is it'll trying
the same so let's go back to the code so
what did we do as a part of this
particular video so we have
user resource we created a post mapping
which can produce the JSON message and
which can consume a JSON message we used
a service inside the service we have
plucked it to the user repository which
is nothing but the JPA repository we are
using the spin chippy hibernate and we
are using the model called user model
and that particular model has the
auto-generated value as ID and that is
the ID and we have three other fields
these are going to get persisted into
the h2 database and they are all plugged
in in this particular fashion from the
user resource and b-bear using postman
to show that as well
so I hope you guys understood how to
create a post mapping if you have any
complex models you can still use a model
and then you can have nested objects
inside that it will still work if you
follow this particular style it should
work for that as well that's it for this
particular video I hope you guys
understood how to row post mapping in
the spring MVC world meet again in the
next video thank you very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>