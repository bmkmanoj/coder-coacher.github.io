<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MyBatis Spring Boot Example with MySQL | Select and Insert | Coder Coacher - Coaching Coders</title><meta content="MyBatis Spring Boot Example with MySQL | Select and Insert - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-Primers/">Tech Primers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MyBatis Spring Boot Example with MySQL | Select and Insert</b></h2><h5 class="post__date">2017-07-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZP8Um12Z_mk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to tech primers in this video we
are going to see how to use mybatis
into a springboard application so as you
guys know springboard does not support
my bar it is out of the box but mybatis
has created a startup which is
compatible with this playing butoh
plication so that's what we are going to
see here so before going into the
hands-on video so what is my practice
right so my bedroom is similar to jpe
so if you know about java persistence
api it is something similar to that but
it is not using the JPA standard so if
you know about spring JPA so it uses the
Java persistence API but mybatis doesn't
use that so spring the API uses
hibernate and then you use hibernate as
an ORM framework right but mybatis is
something similar but it is very
lightweight so it is not like hibernate
but it is very lightweight it uses the
concept of mappers so you can create
something similar to how we you used to
create in the spring JPA which you have
seen already it is something similar but
it is slightly different but it is
faster than hibernate ok so that is what
we are going to see in this particular
video so let's go ahead and create the
project so I'm going to use this spring
initializer as you guys know I often use
spring initializer to create the project
so I'm going to create a project here so
I'm going to say comm tech primers what
can be I'll say my patters and I will
name the project as spring both mybatis
okay so the dependencies which I need is
I am going to expose this as a rest
endpoint so I am just going to create
spring dead project ok the next one
would be I need a my sequel JDBC driver
so I'm just going to connect to a my
sequel database which is running in my
laptop so I am going to connect to that
particular database using mybatis
and finally we made my batters okay so
we need web we need my sequel and we
might even need my Paris that's it so
let me download this project
okay so let it download to my downloads
folder and then I'm going to unzip it
once it is unzipped I think it doesn't
zip it
yeah it doesn't zip let me open it with
intelligent opener so I am going to say
downloads bring both my bags right so
that is what we create in them so
trigger to open let it open so if you
guys are not familiar with spring boot
you can check my other videos on spring
boot or what a spring boot and stuff
like that and this video is going to be
strictly for the mybatis inside the
spring board application so if you are
aware about spring wood then you will be
able to understand or just check the
other videos which I have great so what
I'm going to do is for my batters if we
go to the palm I will show you whatever
all the dependencies got added so the
major dependency is this so if you
notice here this is created by mybatis
so all my battered spring boots so my
batters has created a starter and it is
using one dot sorry that is using 1.3
version of my batter okay and then we
are using the spring boot starter bib
for creating a test in point and also we
are using the my sequel connector which
is already by default coming in as a
part of the springboard chamber okay so
what I'm going to do is I'm going to
create a I'm going to start by creating
from the rest endpoint so I'll just
creator so then we will see how to
create how to connect to the database so
what I'm going to do is I'm going to
create some rest endpoint called users
so I have a table called users okay so
I'm going to create Java file I am going
to create a java class called users
resource okay I'm just going to create
quickly the rest controller request
mapping restless users and I am going to
create some rest endpoint
okay this is going to return me list of
users so I need to create this users
let's say it all okay so this is going
to return me for now I'll just make it
is let's let it be okay I'm going to
create this particular user so I'm going
to create it under the folder called
model because it's going to be a model
right so inside users I need to have so
let's see this case schema right so this
is the my sequel database which I have
and the schema is having ID name and
salary and if you notice here there are
two rows already so I need to connect to
this particular database I need to
update this database and I am going to
retrieve the data from the database so
what we are going to see here in this
particular example we are going to see
how to run the Select query and the
insert query in B my sequel database
using mybatis
from a Springwood application okay so we
have a string name we have long salary
and we have an ID right integer ID so
these are the different fields which are
there so I'm going to quickly create the
getters and setters okay so I have
created a simple POJO so basically this
is the Poggi which we are going to use
to retrieve the data so now the major
part comes into picture so we need to
create something called as mapper so
mybatis works on the principle of mapper
so in JPA you would have seen two
repositories but in my batteries we have
to create mappers so I'm going to say
users mapper okay I am going to create
this mapper and I need to annotate it
with the mapper okay so this will tell
springboard or mybatis that okay this is
going to be a mybatis class okay so in
order to enable that so what we need to
do here is we need to add mapper scan
okay so in fact if you add the act
mapper it shouldn't it should be working
but I will just add it right so tech
primers thought my battles dot what is
the package name why is it so big okay
spring both mybatis there's the package
and then we have a mapper so I'm just
going to give this my path and also we
have connect to the model we need to
tell the model as well to the map
to team I better so I'm going to say map
to type so that is the type which we are
going to map right so and I am going to
give the users glass okay so that is
what we need to do so this is the
configuration which is required for my
vertex to function so we need to give
the mapping class of the mapper classes
basically basically this as an interface
so just make it interface so it's going
to be an interface we need to give that
to the mapper scam and same very map you
type so what is the class which got
mapped to the particular whopper so you
can give a list s with this okay or what
we can do is you can go to the
application properties and then you can
add a configuration here saying my
batter's dot mapped typed location
basically type map location so there are
some conflicts there if you want to use
configs you can use the context but I am
going to use annotations here that's
what I have done here so let's go to the
interface here so what we need is we
need to go to the user resource now we
need to oughta wear this otherwise this
particular interface right so I'm going
to create that interface okay so I'm
going to create a constructor so this is
going to do Ottaway so if you see the
latest spring version as spring from
spring for they sort of is the user's
instance so when you have a constructor
it gets auto by automatically so now
what we need to do is we need to use
this mapper and then find all the
records right so what I'm going to do is
I'm going to create this particular
method here and you can annotate it with
the query which we require so I am going
to select annotation okay because I am
going to run a select query so I'm going
to say select star from users so users
is my table name as you go to the my
sequel database so users is my table
name and I am going to run the same
query which I need so this is what I am
doing here so let's quickly I think
that's what I that that's it let's go to
the application properties we need some
properties so I will just say I am going
to start it with 90
91 or let's say 90 95 fine
okay and we need to add some my sequel
properties so JP related properties
notice where so these properties are
required to connect to the my sequel
database so basically I am saying spring
that okay use this particular URL to
connect to the data source and we go
username and password and you exist the
property so this is just the
prerequisite for connecting to the my
sequel database so that is what I've
added here nothing else so that's all we
require so we have added the mapper scan
for the mapper which we created here for
mybatis and also we have added the map
type which is called the users here okay
that is what is required so we are just
doing a simple select query if you
notice yes we have not done anything we
have not annotated anything here
we just created the query here and this
is going to map automatically to this
particular users so let's see if it
works let's start
so if you have worked on JPA you can see
that it is almost similar to JPL but you
have to write queries in the mybatis
so in JP you don't have to create a
query happen it creates it automatically
on the fly but in my battles you have to
create the query on your own that is why
if you notice the my patent is faster
than hi Bennett okay it is very
lightweight okay hi server is up under
the port 1980 let's go to the browser
and then hit the URL local Lowe's 90
1995 slash slash user slash all that is
the restrain point which we created
right so this should now return to
record so if you notice here this is
what is there in the database
okay it has returned correctly okay so
be that basically means our rest
endpoint is working alright so our rest
endpoint whatever we created here is
working so let us create one more rest
in point so what I am going to do is I
am going to say update and I'm going to
insert some record as a part of this so
basically I will return the same list of
users I'll just say update okay finally
anyway I need to return dot signed on
however we need to update right so what
is the method we need so we need to
create users first so we need to do we
new users right and indi users I need to
set the name and the cell thing so name
I will be setting it as a YouTube
I will set the saltiest root of the tree
or something okay
also this and now we need to pass the
study users mapper
so I am going to say insert user and I
am going to pass these I don't need to
use let me in jail
make them insult users okay that's it
now we need to create this particular
method so let's go to the interface I
have already created some template so if
you notice here it is created so what we
are doing here is okay let me maximize
it so what we are doing here is we are
creating a notation called
add insert so mybatis knows that okay
this query specifically and insert query
okay and we can write the query directly
here so that's it okay apart from that
what we had as we had a ID right and
this ID is going to be generated
automatically so I didn't want the Java
class to created so what I have done is
I have created an annotation called
select key you can create a key so
basically you can run some queries here
to generate the key so that is what we
are doing here so my sequel has a last
insert ID so you can get the ID which
got inserted previously and then we can
use it right so that is what we are
going to close here so this annotation
is going to retrieve uni unique ID for
us and then it is going to map it into
the ID value so into the ID column
basically into the same users table into
the ID column it is going to create a
new ID okay this is how we auto generate
values inside mybatis
mappers oh can it this is going to be an
integer that is why we are saying the
certain type is integer that's it so
this is that is passing a user's object
the name and the salary will be mapped
here into this query if you see here it
gets translated into here so this is how
we have to define the values inside the
mapper so you have to say hash and then
enclose it within the curly brackets
okay touch it
so we need to call this right so - yeah
we have called on Teddy right so that is
it so we are doing an insert and then
that is going to insert it this is going
to insert into the table so let's see if
it works let me restart the server
okay we need to trigger the update so
let me keep it ready let me try it so is
ours down right now so it will not
return me anything anyway
so let the server come up so when we
trigger the update rest in point it is
going to add a youtube user name and
salary as two three double six two three
whatever right so that is what is going
to happen so let's see if it works all
right
okay the service is up now let's refresh
it so once i refresh it is going to add
a new username if you notice here it has
added and then it has a retrieved as
well so because we added it and then be
educated if I rigor again it is going to
add one more value right and it is going
to increment the ID value right so if I
query into the database if I query in
the database you should see the same
thing yeah see that's right so whatever
we inserted right now got inserted into
the my sequel database and that is what
we see here in the rest endpoint as well
okay so I will repeat what we did as a
part of the mybatis configuration so
what we need to do is we need to create
a mapper okay we need to create an
interface called mapper
and that mapper needs to be at it is
that add mapper if you don't want to do
as can you can do that so or else you
can do act mapper scan and then provide
the package name where all the map as a
present and then we need to add an
annotation for the map to type there you
can pause the list of classes which are
mapped so you can pause the list of
classes right now we have only one class
but you can pass many classes here okay
so this is required for the
configuration of mybatis
so once the configuration is done we can
go ahead and create the queries here so
for example if you need to find all I am
just adding a select query and then I am
doing a start from this if you need to
query any specific use
what you can do is you can say where
name equal to and then we can put this
so we can do this and here you have to
say path param and then you say name and
when you say final string name okay so
that is how you do it so this is another
way of passing stuff so I am NOT going
to do that but yeah I we just we're
querying everything but you can do that
so it is similar to how we do the insert
here so that is what we did in the
insert so the next one is the insert so
as a part of insert we had to generate
some unique identification so in my
sequel the command to create a
territorial ID is select last insert ID
so it gets the ID which is unique every
time so it increments the ID okay and
that ID value is mapped to the ID column
inside this users table so that is what
we are doing here and it is going to be
an integer so we have a result type
mentioned as integers here okay and the
argument which we pass to this
particular method of the users okay and
that uses has the name salary and ID and
that is all that is how my betters knows
that okay these are the value names that
are they so if you do something wrong
here my batteries will complain you as
well okay so that is how we create the
insecure so now you can directly access
that from the place where you want to
call so for example here we have
automated you have to auto where the
user's mapper or the implementation will
never get created so when you do the
auto wiring mybatis creates those
implementations so here we are doing
Auto wearing using constructor injection
so that is our visa Maps mappers are
getting loaded so we just say find on
and it goes and does a select query on
the users table and then retrieves all
the users list okay so that is what is
going to happen here same way if here it
is an insert is going to insert the name
of the salary into the user state okay
so that is how you configure mybatis
framework into a
in boat application okay so apart from
that I had some application properties
here so that is it specific for the my
sequel so that is it I think that's what
I wanted to cover as a part of this
particular video if you want me to make
any complex video on my batter to let me
know in the comment section below I can
do that
if you liked the video go ahead and like
it if you haven't subscribe to the
channel go ahead and subscribe to it so
if you want me to make a make any video
on any specific topic apart from my
batters go ahead and put that in the
comment section below I'll take a look
at and then I will try that and then let
you guys know so that's it for this
video I made you get in the next video
thank you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>