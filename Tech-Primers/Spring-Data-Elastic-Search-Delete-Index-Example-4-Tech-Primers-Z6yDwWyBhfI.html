<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spring Data Elastic Search - Delete Index - Example #4 | Tech Primers | Coder Coacher - Coaching Coders</title><meta content="Spring Data Elastic Search - Delete Index - Example #4 | Tech Primers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-Primers/">Tech Primers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spring Data Elastic Search - Delete Index - Example #4 | Tech Primers</b></h2><h5 class="post__date">2017-04-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Z6yDwWyBhfI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to textiles in this video we are
going to see how to delete any text from
an anarchic search instance we just
hosted using a spring data elastic so if
you have seen my previous video I had
created different examples based on the
spring didactic implementation so some
of the viewers have requested to create
a video on how to get an index from this
finger Diagnostics so here we go so what
I have done is I just cloned the example
1 which we have done some time ago you
can see the project was created a month
ago so I had created a video on spring
data elastic example one a month ago so
I am just closing this particular
repository and I am going to show how to
delete an index so you see here we see
the documentation I have clearly
mentioned that there are three different
rest endpoints one is going to give all
the list of users which I say they're
going to search all the users and return
it back to be the GUI or on the corner
the other one is searching by name such
a messaging so I have already opened
that project in IntelliJ here so you see
here the this is the project structure
so I have different configuration
because our elasticsearch configurations
there is a load of so this is what is
going to load the data into the elastic
system so there are three rows which are
fitting interval into the elastic search
instance into these elastics this
operations using the spring date elastic
so on the model which we use is the use
of Sun this is the index so if you see
here the index stitches right now here
in this particular project is user so
what we are going to do is we are going
to delete this particular index so I'll
show you how to do that so let's create
a new rest endpoint so I am using spring
MVP for gear so I'm going to say just
delete so what we need to do is we need
to give a response saying whether it was
to need to run so I am going to say
delete so in this case we cannot will be
positive because this records that week
is tied up with an entity so if you go
to this particular suppose we see here
this particular form repository tied up
with the users entity however we are
going to delete
users index altogether so we cannot use
that using t we cannot do that using the
repository itself so in that case we are
going to use these elastic touch
template so like how spring MVC provides
the rest template so there is something
called elastic switch template so it
will be here there is a elastic template
so you see here spring provides this
particular template and using this
template we can delete the index related
to the core dump it so what I'm going to
do is I'm going to do a template dot so
these are the different options provided
by the elastic search template so enmity
here delete delete' index delete you can
provide the next name along with the ID
- ID you can provide a class name except
you can point the city square you can
specifically delete a particular raw
data inside that index or you can even
create things like secrecy here you can
create things that you can put mappings
all these defenses okay so you can just
the documentation or you can even play
around with this but for now I will show
you how to do it you can just pass these
so your reviews will call the delete
index and you can pass these entities so
users dot class that's what I am going
to pass so as you see your users is
nothing but these document entity there
we have marked it as the index so we are
going to delete that particular entity
that particular index so that is what we
are going to see there so I'm just doing
a course to be elasticsearch template
with a deleting net that so let me start
this particular server so before that is
change the port number so I think I have
a so just running in motherhood so I'll
create a ago it is just start the
elastic source instance so that we can
see how it is deleted on whether it is
getting deleted or not or how sync data
elastic is px
so you can even create an index using TR
template if you had seen the different
methods like which were their
intergalactic system that you can even
create it create the index from here
without even having to you will be start
time to load up the ending indeed or
ethnicity the load of you leading the
operation and that is when you're
creating being exercise we are doing a
put mapping to create a knit that's not
before here so we can do that at rank by
using the elastic search structure so
this is a similar to these rest ensign
so using the rest of traffic on rest
that or ignore that end point there so
same way you can use the elastic search
terms it to create or delete indexes so
the application is up so let me be so
the in points which we have a search on
so I'm going to first hit the red search
on so this is going to return me all the
users which are there correctly in that
particular intent so the next stretch
turn point which we are going to call us
the delete so we wanted to digits right
so I'm going to stay TV so the delete is
going to return a true or false whether
it has got deleted or not so what we are
going to do is we are going to delete
the particular index or all these data
or not be there so basically nothing
should be this okay so we got a true if
you see here the response we got this
true okay so if I hit the delete again
what happens it's going to be written me
pause so basically it says that it
couldn't find the index and I I don't
delete anything so that is what is
happening so let's hit these so it's all
again so if you see here we are getting
an internal exception server exception
saying no such index so the index which
we created when we start the process
this the users in this has got deleted
when we did the elastic search template
or delete index and now as we queried
again because since we were using the a
repository right so if you see here the
red slash all using users repository so
when we did to use this opposite of Phi
naught this is throwing an exception
saying the user index is not four so
that is why we are getting that
particular exception here no such index
exception so this is how you delete an
so there are similar method inside the
rest empty intergalactic search complete
sorry so you can take a look at that and
let me know if you need any I can create
some more videos based on your feedback
that suppose this particular video thank
you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>