<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to create Custom Gradle Plugins and Extensions | Gradle Plugin Development | Tech Primers | Coder Coacher - Coaching Coders</title><meta content="How to create Custom Gradle Plugins and Extensions | Gradle Plugin Development | Tech Primers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-Primers/">Tech Primers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to create Custom Gradle Plugins and Extensions | Gradle Plugin Development | Tech Primers</b></h2><h5 class="post__date">2018-02-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PHTw0XWGkDw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">press the bell icon on the YouTube app
and never miss any update from tech
primers in the last video about griddle
B so what is griddle and how we can use
the Bulldog griddle to orchestrate our
builds now let's see how to create a
custom plugin and how we can use this
plugin inside the Builder griddle and
how we can control that or how we can
use it inside griddle I have the same
file which we had used last time it's
called the griddle example I had just
created it for just showing the griddle
build or griddle
let me check what happens if I run this
particular file I am just going to say
griddle W griddle W is going to do a
maven clean kind of task and since we
didn't mention any task it will just run
the default once so if you see it has
just from the V fault one saying hello
YouTube test message show this is
because we had some tasks called tech
primers and tests both these are running
that is maybe got that particular
message if you want to run sorry if you
want to run a particular task for
example let's say if you want to do a
build task so griddle W build is coming
from the Java plug-in which we had so
that is going to run lots of other tasks
like compiled Java process resource
classes and all these kind of tasks so
these are different tasks which are
defined in the plug-in in the Java
plugin that is why whenever we added
that build task it came up with other
tasks so now we are going to see how to
create a custom plug-in let's try
creating the plug-in in the same class
since this is all running in the JVM so
this is groovy write you can write Java
classes as well so I'm just going to do
a creation of a simple class let's call
it YouTube plugin
in order to use a plugin we need to
implement the plug-in interface so
plug-in is a default interface provided
inside Gradle and deep plug-in which we
are going to address the project so the
model is project and for this particular
project we are going to create a plugin
so we need to implement the apply method
which comes by default since we added a
project this is going to be the project
so if we don't need to have the Java
code you can remove this if you are
comfortable with groovy but if you want
to see the Java kind of syntax then you
can use this I am just going to name
this project for easy use it so now we
have control over this particular
plug-in here now we will be able to do I
apply plug-in we can just say apply
plug-in and then YouTube plug-in see
that we are able to access this plug-in
directly and this plug-in will be used
now in order to use this plug-in we can
inject a task into this particular
project so we have the project here so
right now if you do apply so whenever we
do and apply nothing happens if there is
nothing right it's it's like literally
empty so this particular plugin is
injected into this particular class when
it loads however let's try to register a
task what we can do is we can do a
project task and we can provide a task
to it let's see what tasks we can give
right so it's a YouTube plug-in let's
create a task called place so this
particular task is now plugged into the
YouTube plug-in and we can use this task
from this particular project so we can
literally override it like how we did it
here so in order to pass the closure we
can directly do this you can do a do
last and then pass that particular
closure I'm just going to say let's say
we want to print only the playing video
option let's say I'm just saying playing
YouTube video now let's try
this particular in the terminal I'm just
going to use the plugin called YouTube
plugin and I'm hitting the play option
once I do the play option yep we can see
that we are able to play the YouTube
video so how can we register a task to a
project using the plug-in is using the
plugin since we implemented the plug-in
interface we get the access to the
project directly here we can access the
project name and stuff like that from
here directly and you can assign the
name and stuff here so we can also plug
the tasks to the plug-in so for example
plays a plug-in tasks and we have
overridden the do last to print
something
there are similar functions like do
first do last let's check what is what
are all there right if I go to do last
there are lots of do first and see there
is a option called do first get path
these are all fine it stayed these are
internal has property property there are
so many other functions which we are
which we can see here so this is nothing
but the tasks Java class so you can
literally see what are the different
tasks which you can use you can do a
dependence on and stuff like that you
can have multiple tasks registered so
this is one task you can have another
task called project or task let's say
pause and we can do a do last again and
we can say pause the video so this is a
different task so that is one separate
task this is one separate task we can
now override these tasks so we have
created tasks inside the plugin we can
override these tasks here see
once I said PL IntelliJ suggesting that
there is already a task called play and
you can override it so I'm just going to
say println this is from the
build.gradle or project we can say this
is from the project right because we
have over done this now let's try
running this particular play task so
what will happen will it display this is
from the build or will it display this
the play option is getting printed here
but the option which is present inside
the plug-in is in the last so that is
what we did here we said due last that
is why the statements which I in say the
do last will be executed in the end
after the play task is executed so this
is from build.gradle project came from
the main build on Gradle or from the
project but whatever is mentioned inside
the plug-in was displayed in the last
because we have mentioned do last if you
mention do first if we do a do first
this will be printed first so if you
want to perform a particular task before
running anything in the project you can
control that from this particular
plug-in so see here the printed first is
printed and then the playing YouTube is
printed here so we can control the data
as well from the plug-in so how do we
control the data so right now we don't
have any data which is pushed right we
are just overriding it and then making a
way around and then we are performing
something how do we pass data in order
to pass the data we use the option
called plug-in extensions Gradle
provides something called plug-in
extensions which we can use inside the
plug-in we can just say
project dot extensions from the
extensions we can create extension so we
have an option called create we need to
provide a name to an extension let's say
features we can provide an option called
features and we need to pass the class
for that particular extension so since
this is the YouTube extension I am just
going to say YouTube plug-in extension
and we need to create this particular
class let's create this class here and
we can provide some values inside these
extensions
we can just say feature name or if we
need to use groovy we can just say de F
so there is something called feature
name so what is this feature name so
feature name is like a variable which we
can assign some values to so we have
created this particular feature now
let's introduce this variable name here
we can just call it as an extension and
this extension can be controlled inside
this do first and do last we can do a do
first extension dot feature name
directly we can do a println here
we can do the extension feature
extension dot feature name so this is
how you can print it directly in the
plugin here let's run this and see see
this right now there is nothing here
because we are not assigned any feature
name isn't it so how can we assign the
feature name the feature in them can be
now assigned from the project we can
assign the feature name here so in order
to access this particular feature we
have created this option called as
feature so since we created the
extension with the name called features
we can use this features dot and then we
can access it directly so we can just
say features dot feature name and we can
assign some values here what is the
feature name this is going to be play
the feature name is going to be play
that's why we are assigning it as play
let's run this again from the command
from here see this now the extent
my name is printer display so whatever
we have passed from the project can be
no accessed from the plug-in using the
plug-in extensions if you have multiple
values to be passed then you can have
multiple values as well so let's say
plug-in feature name we have provided
here now let's add something like length
video length right length of the video
or tags let's imagine the YouTube video
has lengths and tags which are newly
added you can do this as well or you can
use the closure option we can do tags
equal to tech primers and length of the
video as let's say 20 minute we can do
this and we can even print this option
here let's run this and see if it is
getting printed yep play tech primers in
20 minutes is getting printed instead of
doing this we can use this option
let me remove these and let's run it see
this even though we have not used
features dot feature name we can provide
it something like this so groovy
converts that automatically to that
particular extension format where it
knows that features is the name of the
extension and it maps that to the
corresponding model here and you can
directly use the key value pair in such
a way so this is why you can see
dependencies or also defined something
like this
same way with repositories and other
options so this is a easy way of
denoting stuff inside groovy
that is why Gradle is very easy when you
want to modify stuff if you see mavin
mavin is slightly difficult because it
is XML oriented if you had known maven
then you might feel this is confusing
however if you know groovy better then
it is easy for us to write Gradle
plug-ins rather than doing or working
around with profiles and goals inside
maven so if you can directly go and
create a plug-in in Gradle and then you
can use that plug-in in all the projects
rather than having a huge palm dot XML
in every project inside maven this is
how you can control the Gradle build
using plugins you can create plugins and
you can put this into a different class
let's try putting this into a different
class and then using it cut this I'll
create a new file called plug-in dog
Gradle and let's put the YouTube plug-in
there so we have put this now now if I
run this particular built or Gradle this
is going to throw me an error because
the YouTube plug-in is not identified
because we have removed that from this
particular file right because this
griddle W doesn't know there is a file
called plug-in not graded so it fails
see this right it fails so how do we
manage to get that we can say apply from
and say :
what is the file name plug-in dot Cradle
we need to move the apply options what
we can do is we can move all these
options on to the plug-in dot Gradle we
can all move all these options here and
we can have this neat and simple so that
way you don't have to see the plug-in
code if you have only one project but
you can put it into a distribution and
distributed via the Gradle plug-in when
you have multiple projects so see this
right where I'm just saying apply from
and then another Gradle file that just
imports that file in here so plug-in dot
Gradle is now identified as a Gradle
file as well because we have the apply
plug-in here so this is how you can
create a plug-in and you can access or
control the plug-in using tasks and
plug-in extensions so what we saw was
how to create a plug-in so in order to
create a plug-in we need to implement
the interface plug-in project project is
our current project which we have which
is nothing but the build or Gradle we
should be overriding the method called
apply which gets the project model from
the project model we can use the task
option to create a task in this
particular case we have two tasks one
called play one called pass using the
plug-in extensions we can create a class
or a model and then use that model to
communicate between the plug-in and the
project so that is what we have done
here project dot extensions not create
we have created a features extension
inside the
you tube plug in it and we are assigning
three different variables feature name
length and tags those are getting
printed as a part of a task called play
and inside the main built out girdle or
inside the project we can directly
provide the features in this particular
format we can directly assign it as
features dot feature name or we can use
closures you say features and then open
brace and close base and then you can
just provide the key value pass this is
how you can create custom plugins in
Gradle I hope you guys understood how to
create custom plugins in Gradle do let
me know if you want me to make any other
specific video on Brayden I can do that
that's it for this particular video hope
you found it interesting if you liked
the video go ahead and like it if you
haven't subscribed to the channel go
ahead and subscribe to it meet you again
in the next video thank you very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>