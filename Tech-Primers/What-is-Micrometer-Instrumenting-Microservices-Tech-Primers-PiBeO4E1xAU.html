<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>What is Micrometer? | Instrumenting Microservices | Tech Primers | Coder Coacher - Coaching Coders</title><meta content="What is Micrometer? | Instrumenting Microservices | Tech Primers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-Primers/">Tech Primers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>What is Micrometer? | Instrumenting Microservices | Tech Primers</b></h2><h5 class="post__date">2018-04-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PiBeO4E1xAU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">how do you collect metrics from your
micro-services deployment what kinds of
tools are you using to monitor these
micro services if you have developed
those using the spring cloud services or
any spring boot application specific
configurations let's see what is micro
meter and how is it helpful in terms of
monitoring the micro services using
these pink cloud services press the bell
icon on the YouTube app and never miss
any update from tech primers micro meter
is an instrumentation client which is
useful for monitoring our applications
which are mostly created using the java
virtual machine if you are having a JVM
which is a micro service you can collect
information from that particular JVM
using micro meter why micro meter is so
popular because it can support different
types of monitoring or instrumentation
systems for example it can stream data
to Atlas or it can stream data to JMX or
it can do to influx or Prometheus or
graphite or any monitoring or time
series database micro meter creates a
facade over your application and it
abstracts out the monitoring framework
and it can stream the data to those
services based on its implementation
so what micro meter basically does is
like a bridge between different
frameworks and it creates a bridge
between these different frameworks which
are currently used by different
companies for different purposes so a
typical example would be let's say I
create a spring boot application but
let's say I have 10 micro services all
these 10 services will be using micro
meter as a library and
these will be exposing some rest
endpoints for example in Springwood
application be by default I had an
actuator but actuator does a minimal
level right so what the actuator does is
it just exposes an endpoint if you hit
using a risk line you can just get that
information and you will have to
orchestrate that to hit for every now
one then however now with micrometer you
can stream the data to the distant
framework where you want to push the
data for example if you want to push
data to Prometheus right so you will
expose a endpoint and Prometheus will
pull this data every now and then and
you can even push the data to Atlas or
you can expose it via JM exports where
you will be pushing these metrics or
gauges or even the time series related
information and from these tools you can
directly monitor these data so how is it
different from other frameworks if you
are using log4j or log back or any other
logging frame bucket you know there is a
concept of SL for J so as selfish acts
as a interface between different logging
frameworks right so you have an
interface called SL for J and every
other logging framework has implemented
the logging interface of SL for J so
similar way micrometer is like an
interface you can imagine micrometer as
a interface and then it can bridge the
gap between different frame books so
that is what it is doing it can bridge
the gap for collecting information from
the micro service by pushing it into
different frameworks which can support
different types of information for
example Atlas has a different way of
collecting data Prometheus has a
different way it can also push data in
the form of JMX mappings as well so
micrometre can behave in so many
different ways so if you see this
particular example which is mentioned in
their website it can do Atlas data data
dog ganglia graphite influx JMX neural
ache Prometheus signal effects Stastny
and wavefront so literally your micro
service can push data into all these
different types just by adding a
dependency and then configuring it once
that's it so what we will be doing as a
part of actuator is in actuators we
collect some information and we expose
it
however using micrometers end points
these are just injected into the
concerned frame box or application so
for example if you are registering it
with Prometheus it will try pushing data
to Prometheus if you are registering it
with Atlas you will be sending matrix
information to Atlas automatically so
that is what happens using the mid
micrometers library prior to spring boot
2.0 there is a different type of
implementation with spring boot because
with spring boot 2.0 we are having
support for the reactive programming so
the way micrometer works has changed a
bit so there are two different libraries
used by micrometer one for supporting
the 1.5 X versions and one for
supporting the spring board spring boot
2.0 version if you're using spring boot
2.0 you can go ahead and use the latest
version of micrometer but if you are
using an older version of spring boot
then you will have to use their legacy
spring dependency in order to support
the metrics collection right so in
additional to collecting the metrics
about the process as such you can
collect metrics about the data which is
available inside the process for example
let's say you have a cache you can
collect metrics about that cache you can
collect metrics about query which you
are running in running from that process
so you can create measures and gauges
and you can ask your micro service to
raise an alert and push these alerts to
these frameworks automatically so you
don't have to write Chrome with a
specific code you just need to create a
guy and then you need to create a matrix
report and then register it with the
micrometer and micrometer will take care
of pushing the specific type which
Prometheus might require or Atlas might
require so you don't have to know these
framework specific implementation
because micrometer does that
for you so as as it is mentioned here it
is like a facade where you just need to
push the data in the format of
micrometer and micrometer automatically
converts that into the corresponding
frameworks type so that is what
micrometer is so micrometers sometimes
internally uses the drops is that
framework in order to talk with some
some specific frameworks so in the next
video what we will be doing is we will
be creating a spring boot application
and we will be adding the jar
dependencies and I will show you with
both spring boot 1.5 and spring boot 2.0
how is it different and what code
changes we need to do to our micro
service in order to collect information
so what I will do is I will pick up a
existing micro service which we had
designed some time back and we can add
this micrometre dependency and then we
will try to see how these metrics are
getting collected I hope you guys
understood what is a micro meter and how
is it used if you are very keen about
micro meter go ahead and try out a
program with micro meter before I could
try and do let me know in the comment
section below whether you were able to
achieve it or not if you liked the video
go ahead and like it if you haven't
subscribed to the channel go ahead and
subscribe to it way to again in the next
video thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>