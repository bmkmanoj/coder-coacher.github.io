<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spring Web Services (SOAP) in Spring Boot App with example | Coder Coacher - Coaching Coders</title><meta content="Spring Web Services (SOAP) in Spring Boot App with example - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-Primers/">Tech Primers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spring Web Services (SOAP) in Spring Boot App with example</b></h2><h5 class="post__date">2018-03-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mr_2-AWYCoc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">till now we have seen how we can design
web services using restful web services
with spring boot with lots of different
libraries in this video we are going to
see how to create a spring boot
application with soap web services
spring boot supports creation of web
services using soap request we are going
to use spring boot to create that
press the bell icon on the YouTube app
and never miss any update from tech
primers as usual I'm in the starter
spring that I owe using the spring
initializer let's create a spring boot
application so let's have the group
ideas comm tech primers let's have the
artifact as spring boot so example and
I'm going to use the version 1.5.0 of
spring boot and the dependency which we
require for creating the soap web
services our soap web services so there
is a starter for specifically creating
web services using soap we are going to
use that so if you type soap you can
notice there is something called web
services which come with contract first
soap service development with spring web
services
if you generally type web you can see
even the spring MVC which comes with the
rest by default but we are going to use
soap in our case so that's why we
created the web services so that's it I
am just clicking the generate option let
me unzip this project and open it in
IntelliJ I'll just fast forward that
so the project is opened in IntelliJ if
I go to the palm dot XML if we see here
we can notice this ping would start our
web services dependency this is going to
bring in the soap services and the
relevant libraries which are required
for creating these hopes Web Services
additional to these fling boots Tata Web
Services we need to add the WSDL
dependency there is something called
WSDL for J so WSDL is nothing but web
services descriptive language if you are
using the soap request you know that you
will be creating a WSDL for every
request something similar to the JSON
will be creating a WSDL in the soap
request so we need to add a dependency
for that so I'm just going to use WSDL
for J let me do input this is already
defined in the spring boot application
in the spring boot dependencies but we
just need it in our application so we
are just defining it in our project so
that spring boot can bring it to us
you
the next major thing is creation of the
WSDL so we can use our XS d to create
this model so I'm going to use the
existing file to create a schema so we
need to create an XML schema in order to
get a request right I'm just going to
use the users example so I will create a
users not XS T so this users not
existing is going to have the schema
definition for our request so as you
know you can do a XML X's schema and the
schema all by default comes up now we
need to use the XML XML namespace for
our project so I'll just assign the
namespace as let's say HTTP colon take
primals dot-com slash what is the
example spring - it is spring - food on
a spring so if an example right so that
is the so that is the namespace which we
have and let's create the target
namespace with the same name an
additional to that we just need to
define the element form and just say in
the month from default equal to
qualified so inside this we are going to
have the schema additionally what else
do we have we don't have to so we need
to create the elements inside the schema
now so let's create the elements so just
say XS : element the first element in
the list is the first element name in
the list would be let's say we want to
get some user information so I'll just
say get user request and it's Eric
right away let's name it that way
because in soap we used to do it that
way where we defined the type of request
or whether it is a response in the name
of the element so that's what we have
done here under the element we need to
create the type then it's called complex
type so we'll create a complex type what
do we need to pass we need to pass a
name right we need to pass a name to the
user list so I'll do a sequence so
inside the sequence I need to now pass a
element and the name is name I'll pass
that as a name and what is the type of
this object I'll just say X is colon
string so this is a test type of object
string so I'm just going to say string
so that's it right so I don't need
anything else so I'm just going to use
the name to the request so I'm providing
a name so so let's provide a name to the
gate to use a request so that we can
retrieve the users from the web service
similar to the request we need to create
a response
so I'll just name it as get user
response and in the response instead of
the name object we will be providing a
user object right let's create this
object so we need to create a complex
type in order to provide that and let's
give the name as
user so this is the same which is
getting referenced here so we are
creating a user with different elements
so we need to provide the user with the
name the name would be string so what
else the user will have the user can
have an employee ID so I'll just say M
PI D and that is going to be an integer
so I'll just mark it as int and we need
to have a salary of the employee and
I'll just mark it as double so these are
different variables which are under the
user so I will have a user model so this
gets converted into a model that's what
we are going to create next we need to
convert this exist e into a Java code or
a model or even a POJO which can be used
inside the Java code so why is this
creating an issue I think we named it
okay so we need to define this as XS
right so we commit to the XML namespace
but we need to just map it to the XS so
I think we are good here right the
schema is created now so this is the
schema now we need to convert this
schema definition into the Java pooja's
so we have already have defined the
namespaces ComTech premise pink boots
hope application so for example so let's
go to the palm and use the Jack's B
plug-in to convert this xst into a Java
code so I have already created a live
template to create this code so if you
notice here the code is automatically
generated so what I am doing is I have
defined the schema directory as SRC main
resources which is where our schema
resides and I am instructing it to added
to the output directory SRC main Java so
you can even redirect it to target
generated - sources we can do that as
well we just need to define it but for
now what I will do is I just needed it
to be generated right so I'll just
generated on the fly now let me check if
I have Java it induce Java it
and let's run the Maven clean install as
a part of meme and clean install this is
going to generate our pojos from the
users x SD we will be getting the user
request get user request get user
response and the user pojos and then we
can work on them
you
you
you
you
so if you see here the packages got
created yeah the only thing is I think
since I had mentioned - in the schema
definition namespace it is just added an
underscore here but you can just correct
that later right we can just even
correct it here so you can just correct
that later but for now I'm just not
going to correct it
we'll just reuse it from that so let's
try now creating our main code so before
going into the main code we need to add
some data so we need to store some data
in in a memory right so what I will do
is I will just create a package so let's
create a service I'll just create a
service inside the service I will just
store the information of users we are
not going to use any data base here as
such I'll just say user service inside
this user service we will just hard code
some values inside the hashmap or
something this is the service so I'll
just gonna treat it with a service
and I'll just add a post construct so
that this particular method will be
called once the spring good application
is up I'll just say initialize here we
can populate the data I'll just create a
public hash map I'll just create a hash
map which has lists of users so we are
going to populate this particular hash
map and when we retrieve it we are going
to retrieve from this so the service is
going to act as a bridge let's put some
values here we need a key and a value
right in order to do that we will create
a user let's call the user Peter we need
to say the name is Peter
we need to say the employee ID I'll just
said the employee ID as one one one one
I'll say the salary has some double
number right so I'll just say 4,000 and
let's put Peter don't get named into
Peter same way I'll create some three
more users called Sam and Ryan
you
you
so we have the objects populated here as
a part of our initialization and we need
to provide a service with which you can
get the user right so we'll do a get
users yeah
and instead of the string here we will
just return only the user
you
we'll do dot kit user get so let's
provide a name so we should provide the
name because that is what we designed in
the XML schema right we have the request
with just the name so the user will
provide the name and we will trim the
object using the name so that is the
reason we created the hash map with the
key as the name and the value as the
object
so since we have the key as a string we
don't have to override the hashmap or
hashcode or equals so we should be good
there so we have the service ready now
we can create the actual endpoint with
which will be hitting I'll just call it
as user endpoint we need to annotate it
with at endpoint similar to how we used
to do it with address corner controller
in the spring web or spring MVC
framework we are going to use at
endpoint so this is coming specifically
from the spring web services now we can
auto wire the service which we created
user service because we will be using
this service to get the data so get user
request is the request which will be
triggered by the user and under that we
will be doing a get user and we'll be
providing a name to it and this is what
we'll be returning right in fact we will
be writing what I will be getting a user
object so we'll be getting a user object
we need to create a response now get
user response so let's create this
response object and we need to set the
user in the response because that is
what we have done here right in D if you
see in the users not xst the response
object has the user object that's it
so we don't have anything else in that
object so let's set the response dot set
user of this particular we can directly
even set the service
and let's return this response so this
function needs to be defined as public
gate response into user response right
and what do we need to annotate it with
to identify it as a soap request payload
we need to add it as payload root so we
need to add the payload root annotation
in order to define the namespace from
which we can retrieve the data so we
need to provide a namespace value so
this namespace value is the same value
which we provided in the XS D so let's
or we can even use any unique value
which we are going to define so I'll use
reuse the same thing which we did there
so let's go to the user and this is the
target namespace so we are going to copy
this and add the same namespace here so
this is the namespace with which spring
web services is going to identify this
is my particular request or the service
and we need to add the type of request
so the so this is defined as a part of
local part we'll be mentioning it as get
user request because that is what we had
defined in the xst right so you can
notice that here
they get user request is what is the
name of the payload so that is the
payload which the services are expecting
so we will be using that along with that
we need to send the response so we will
just mark this as a response payload we
need to Ma mark this because we need to
convert this into a soap request so this
get user respond we automatically get
converted into a soap message type when
we annotated with AD response payload so
our endpoint is set only thing is yeah
we need to get the name right we have
marked it here now using the request
payload we need to receive the object so
we will just mark it as request payload
and the object would be a get user
request I'll just say request from the
request we can directly get the name get
name yeah so since it is of type get
user request we will be getting that the
request will be of type soap message we
already created this as a part of the
excess D and we will be using the gate
name from that and we are providing it
to the service we are retrieving the
user from that and setting that to the
response back so response is now sent
back to the user when they trigger it
now we need to get this service up and
working we have created the endpoint we
have created this service with which we
can retrieve now we need to configure
the web service in order to till spring
boot that boot of this web service
initially so let's create a conflict
package and mean to provide some config
data in order to make spring boot
seamlessly work with the soap web
service so let's call this as soap web
service config and this is the
configuration so we learn edit it with
AD configuration so that spring boot can
auto wire during the startup and we need
to enable the enable web services
because this is the web services project
note that web services is different from
spring MVC we need to extend the
configuration adapter so it's called
configure
adapter so the web server is configured
adapter is what we are extending we need
to override some stuff so that
Springwood can connect our application
so in order to make the web service
start at a particular option we need to
override the Service registration beam
so we need to override the message
dispatcher servlet
where we can add the WSDL location and
we can add the servlet registration beam
into that so we need to add a servlet
registration beam so this is to register
our application during the startup with
a particular path so we'll just call it
as message dispatch
and the application context is what we
require because that is where we will be
using in the disc in the dispatcher
message dispatch servlet so we will just
use a message dispatcher servlet will
create a new object here we need to
provide an application context we are
just reusing the application context and
providing it you're not changing
anything to the application context
since we create the message dispatches
so let me need to provide a application
context to the message dispatch to serve
it and we are not going to change that
and we are going to allow spring boot to
take care of that so we will just pass
the same application context to the
message dispatches servlet the only
thing we need to set is the
transformation object where the WSDL
locations will be set so we'll just say
through and we need to provide this
particular path where our application is
going to be started so this this will
automatically add a WSDL file onto the
web service and we will just mention
where I apply kitchen to me it should be
started so let's create a solid
registration bean and we need to provide
this message to dispatch a servlet along
with the path where we want to have so
we will just mark it as soap WS or how
do we want it so we can mark you in yeah
well just mark it as soap web service so
notice that what we have here is we have
created a new instance or we have just
over it in the servlet registration bean
with our custom message dispatcher serve
which just has the transformation of
wsdls enabled the locations basically
and we have provided the path the next
one is the the external schema so we
let's create the bean for loading the
XML schema basically the xst schema so
there is an object called access de
schema implementation it's a user schema
right so we'll just say user schema we
need to create a
new simple xst schema we can use the
class resource class path resource and
provide the file name here
it's called users dot x SD this
particular x SD will be loaded into the
x SD schema we need to do a return the
next one is adding these WSDL
definitions to the Springwood
application so let's do that so there is
a class called default WSDL 11
definition so this is the definition
used by if you notice here this is used
to buy Spring Framework so we need to
override that and provide our necessary
details where our application should be
coming up and where our servlet needs to
be registered let's create that we need
to get the schema definition so I'll
just inject this guy we need to create
the default definition so I'll just say
definition
we need to set the schema the user
schema then we can set the
location where we need to bring our
service up so we will use the same
location as the WSDL location where our
w steel file will be shown up so we will
be using the same so we will just say
soap slash slash soap WS so this is the
same location where our excess D files
will be hosted as well basically the
WSDL files the next one is setting the
port type name we just need to add a
type of service so since this is a user
service letter I'll just name it as user
service
and finally we need to set the namespace
we need to set the target namespace
let's pan and add the same URL where we
have edited added here so this is the
target namespace which we are going to
hit with this with this particular
location and let's return the default
definition so we have created our
configuration what we have done here is
we have set the WSDL definition saying
this is the path with which our schema
need to be used this is the schema we
have knitted the schema from the users
dot xst that schema has been loaded onto
the definition and it is going to expect
the definition in this particular URL we
have just added this particular
definition a name we have added the port
type name as user service we can even
add it as user service port so that we
know it's a port and the target
namespace we have just defined as the
same namespace which we have defined in
the endpoint so I think our
configurations are done I need to
override the port in which this
particular application is going to come
up because I already have eight 0h0
occupied so I will just use server port
eight zero nine one because I don't have
eight zero eight zero dedicated so
that's it apart from that we don't need
anything else hopefully
let's bring the spring boot application
up also I have postman running here so
let's use postman to trigger the soap
request meanwhile we need to create the
soap request right so we had the user's
dot xst we need to have the exes we need
to have the soap request the request XML
which we need to provide to the web
service so let's create that now I'll
just create it here so that I will
commit it into github in you can take it
users request the soap request should be
so Python so P and V let's say I'll just
say soap environment and I'll just
marketers and this is an envelope right
so we need to create the soap envelope
and just say examine name space :
soap envelope and I need to provide a
name space here so it will be schemas
this is the schema envelops namespace
and we are using the same thing let's
provide one more make someone NS we need
to add the name space for our service as
well so let's name it as user service so
us and we need to add the same path what
we added here so I think that's it so we
have the soap envelope ready and let's
add the soap in Ville a colon header
there is no header as such so I'll just
make the header as empty
so I just had a empty header we need the
body message so I'll just add the soap a
and B body so the body needs to have the
request of the gate user request from
the XS D so we use the same thing here
and we named it as us right user request
so we'll just pass it as user request
dot get user request and the name should
be provided so it automatically
suggested that there is a u.s. dot name
and we will provide that name as Sam
right so this u.s. is a namespace which
we added in the users dot x st that's
how we do identified that i have a get
users request and for that we need to
provide a name so this is the soap
request which we need to request
so let's trigger this guy now from the
soap see that the server is appear so
the spring bootie application is up here
on 8 0 9 1 foot let's use the same here
HTTP colon double slash local host :
8 0 9 1 and the server is now up under
the endpoint slash soap WS that's what
we have defined there I'll just say slab
soap /ws so now we need to provide the
header so the header is of content type
XML right so I'll just provide it as
text slash XML and the message we need
to pass so let's pass it as a post
because this is this postman UI is for
rest but we can reuse that by just using
a post here because we need to pass the
message to the web service and we can
reuse the post of the rest option and we
can pass the message here see I have
just pasted the soap request which we
need to pass to the soap web service and
the header has been set as text as XML
and someone and think it should be okay
let's try rigging it
so what does they say the namespace so
portion unable to create an envelope to
given because namespace was not
recognized so there is a problem with
the namespace I think we have to have a
different name space let's check what
happen
so it says so ponder unable to create
unable to create an envelope given the
source because the namespace was not
recognized okay let's go to the user a
question see what we did wrong Li okay I
think there is a problem here in this
open moment let's check if this is
correct
you
yeah it is the valid soap schema I don't
know why this is skating around URI is
not like someone named space and soap
and moment I think that's it
what else do I need to provide I think I
had to put a slash is that the reason
yeah so the looks like that was the
problem
/ was the problem that was unfortunate
but yeah so if notice here the response
came in as so pin moment header nothing
was there in the header and in the body
we have this schema definition what was
the scheme of that particular WSDL
namespace of that particular namespace
and we see that the name is returned the
employment is returned and the salary is
also returned with a get user response
so let's try changing it into Peter we
should be getting the value of Peter as
well yeah we see the value of P term as
well and we can see the Ryan's value as
well that is how we can use spring boot
to create a web service using soap so
I'll just summarize what we did so we
created a configuration we need to
override the web service configure a
doctor in order to have some
configurations created for our project
customly we have over it in the message
dispatches servlet so we are going to
use the servlet registration bean and
create a message dispatching servlet
with the transformation of WSDL location
as true hand we have just passed this
particular path so that the whdas can be
hosted in this particular path then we
have created the XS d schema we just
loaded this particular schema from the
classpath resource and we need to use
this inside the default definition which
we are overriding to provide the URI so
this is the URI with which we will be
hitting and we have provided the target
namespace with which we will be
responding it responding to the user so
that is what we have done here we have
just provided the target namespace and
the location you are a location and the
port type name the next thing which we
created was the endpoint the endpoint
has been created we need to provide the
namespace for the payload so this is the
payload route we provided a name Spade
what type of request would need be
receiving and it is called as get user
request that particular request has been
added as a request payload and will be
responding with a response payload of
type get users response and we are using
the user service to retrieve the value
from the cache
we are just creating a user's hash map
and this match map will be loaded in the
start of the application because we have
added an asked at post construct here
so using the get users we retrieve the
name from the hash map and we are
returning it back to the user and I have
added the request whatever we send the
request XML has been added in the under
the resources path the user request is
added here so you can take a look and
users not xst is the schema definition
which we are using in the web service so
this is how you can create a spring boot
application using soap using spring web
services I hope you guys understood if
you have any questions do let me know in
the comment section below if you want me
to make a video on any specific topic do
let me know that as well if you liked
the video go ahead and like it if you
haven't subscribed to the channel go
ahead and subscribe to it meet you again
in the next video
thank you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>