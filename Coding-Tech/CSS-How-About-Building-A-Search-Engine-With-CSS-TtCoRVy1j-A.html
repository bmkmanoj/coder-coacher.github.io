<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CSS: How About Building A Search Engine With CSS? | Coder Coacher - Coaching Coders</title><meta content="CSS: How About Building A Search Engine With CSS? - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Coding-Tech/">Coding Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CSS: How About Building A Search Engine With CSS?</b></h2><h5 class="post__date">2017-12-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TtCoRVy1j-A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone thank you for coming and
I'm really happy to be here opening this
awesome day of conferences and so as
Daniel was saying I'm going to talk
about a project I did that maybe some of
you saw already I did that last April
it's how you can build a search engine
using only CSS and more specifically
it's how you can hack CSS to do a search
engine when I'm talking about hacking
I'm not talking about finding
vulnerabilities that would be for dot
security what I'm talking about is this
definition of hacking I really like it's
overcoming the limitations of a system
to achieve new outcomes in my case the
system and its limitation will be CSS
and the new outcome will be a search
engine and what I mean by a search
engine is for me in its most basic form
the search engine is just a machine that
will take keywords as input and will
give you results as output but I didn't
want to build just any search engine I
wanted to build a great search engine so
I wanted one that was relevant fast and
easy to use meaning that my results
should be really relevant to the queue
other types
there should be no processing time
should be instant and I wanted people to
use it that not think oh yes it's just
clever CSS AK but oh it's just a search
engine so enough talking about what I
wanted to build what I'm going to do now
is do a live demo of what I actually
build so this is the part where
everything can just fail so bear with me
so I let the demos so this is the list
of all the algorithm employees about 150
percent and you can search through the
list by typing their first name the last
name of their job titles so if I want
for example to find Lucas that I know is
over there I can find I can search for
Lucas and you can see the results are
displayed really quickly the keyword I
typed is actually highlighted in the
results and I can even if I want filter
them by the one that is in the product
team or the one that is in the design
team I can find myself as well by
searching for Tim but I can also find
myself by searching by my Twitter and
all pics elastic okay
and fine and let's say I want to search
for Nicolas but I actually do a typo and
don't know if you can see that but I
actually typed nee or lass I forgot one
letter and still I can find the right
results and they are correctly
highlighted so this is what I mean by
it's relevant it's fast and it's easy to
use and all of that is done in CSS when
I started this project I knew I wanted
to do everything in CSS but I also knew
you also always need to have some HTML
alongside your CSS so I would need some
HTML and I still wanted to have my HTML
markup as minimal as possible and I
didn't want to use any JavaScript so in
the rest of the talk I'm going to
explain how all of this actually works
but first you have to understand the
limitations of the system the limitation
of CSS CSS has some limited support for
stuff like variables functions eye loops
conditions regular expressions don't get
me wrong I'm not saying CSS cannot do
any of the things my point is these are
not the core building blocks of the
language variables condition and loops
they are core building blocks of many
programming languages but not CSS and
the trick is not to focus on what CSS
cannot really do but instead to try to
understand what CSS is really good at
and focus on that and for me where CSS
really shines it's with selectors
sectors and CSS are really powerful you
can select by tag name class name IDs
the value of the attributes you can even
select based on where the element is in
the marker based on the ancestors or the
siblings and you can combine all of that
it means that you can have the most
dirty and semantic HTML but you will
still be able to craft the perfect CSS
selector to target exactly what you want
and this is for me what the main
strength of CSS is and this is what I'm
going to use because this ability to
select only the relevant items from a
large pool of choices when you think
about this definition it's actually what
you would expect from a search engine in
your search engine you have a large pool
of potential results but
you are only interested in the one that
are matching your keywords so I knew
there was something to do if I could use
the main strength of CSS to build what
search engine is there was something to
do so let's see the mock-up and how it
all started everything starts with that
you have an input that will act as a
search bar and you have an empty div I
just added an ID so it's easier to
select but it's just an empty div and I
put some value directly inside the
search bar then I can select
specifically this input based on the
value that is inside so even if I set a
value of team with a capital letter I
can still find it with an all lowercase
because if you use this lowercase I
in the selector it means it's case
insensitive so I can select my search
bar no problem if on top of that I add
the chilled a selector I can select the
element that is after it and if on top
of that I also add a pseudo element
before and content I can actually change
the content of this element and come and
style it completely differently so when
you get to that point what you have is
based on the value of an input somewhere
in the page you are able to style and
change the content of another element
somewhere else in the page that is
totally unrelated and this is really the
core of the wall hack on how everything
is built it's all great except for one
little drawback it just does not work
because when you wrote the page for the
first time I your search bar is actually
empty because you want people to come
here and type stuff but when they do
that it does not actually update the
value the value is still an empty string
and this is what CSS will see from CSS
point of view the selector is not
matching anything because the value you
typed is just a value for the display
it's not actually what is in the HTML
markup so at that point what I could
have done is okay we'll just press ENTER
it will submit the form and then on the
server side I will get the value put it
inside the inside the HTML and rerun the
that works but that clearly not fast no
instant so I needed to find another way
and what I actually did was to use some
JavaScript I know I said I didn't want
to use any but I couldn't find any other
way and I expect this room full of smart
people to come to me afterwards and tell
me how I can not use JavaScript on this
step but as for now that's the only
option I found but to be honest the only
JavaScript I'm using it's just a
one-liner it's non input endless so
eight minutes will be triggered every
time the value of the input is changing
and what it does is reading the value
because JavaScript can do that and set
it to the actual HTML value attribute so
when I'm actually now typing stuff stuff
is updated here and so if I'm typing
something that will match in CSS it
matches and I have my results display
okay that's nice but I might be the only
one named team inside the company but we
have several people named Alex Nala for
example and when I'm searching for Alex
on I just don't want to find only one of
them I want to find them all so I have
to slightly change the mock-up to take
that into account what I'm doing is I'm
keeping the same search bar but instead
of adding of having only one empty div I
imagine one empty div pair potential
result so 150 empty divs I'm pre filling
the content using CSS so the first one
will be all raw and the last one will be
so in between I have all the Alex on but
I am not displaying them they will be
eaten they will all have a discipline
known by default so you won't see them
you will only see them when there is a
specific query that is entered in the
search bar so only when alex is typed
then the blocks that are matching alex
on will be displayed but this is how
everything is walking so we can see it
in action here so on the right I have
the list of all the deer they actually
hidden and if I do type Alex on the RX
on our matching and so are displayed
this is nice
but you might have felt it what I was
doing it it seems a little slow it
should have been much better if instead
of typing Erickson I was just typing
Alex and everything was matching already
this is the moment in the hack that I
had to take a step back and really think
about what I was actually building so I
could do the CSS tricks plus okay but I
had to actually think about what am I
actually building I am building a search
engine so how does a search engine work
and every search engine is made of two
different parts that are called the
indexing and the searching searching
it's easy that's what you usually do
when you are faced with a search bar you
you're typing keywords in the search bar
and the question you are asking yourself
implicitly is what will I find if I type
Alex but when you are building a search
engine you have to ask yourself a very
different set of questions for every
single potential result you have to ask
yourself what should a user type so that
these results is actually displayed
what should use a type to have Alex and
as a result so you start making a table
okay to find Alex alone I have to type
Alex but in the company we have not only
Alex on words here also of Alexander
Alexander Alexandria and all of those
people I should be able to find them
just by typing Alex but it's not just
Alex actually should be even better I've
just by typing a or I'll or every
sequence of character that will lead to
Alex I would be able to find them and
more than that if we actually sequence
of character that would lead to the
final first-name should display them
so once you've built this table you just
have conquered that to CSS something
like that so it's a lot of rules but
what it actually means is if the value
of the input is a RL or which sequence
of culture leads to Alexandria then the
block of Alexandria should be displayed
and these sequences of characters in the
search engine world we call them engrams
so you just have to generate all the
engrams that will lead to a space
quick results and that's it well no
that's not really it because you have to
do it for the last name and the job
title as well I also have to end all the
accented characters one of my co-workers
is named Sebastian with an accented e
and not everyone has a French keyboard
and can do this character so I want
people to be able to find him by typing
his name with the accent or without the
accent meaning I have to create the
engrams with the accent or without the
accent that's also when you add synonyms
that's why I was able to find myself by
typing my Twitter end or I just added my
Twitter handle as a set of engrams to be
able to find me and that that's also how
I was able to find Nicholas by searching
for Neela's because you have to handle
the typos tolerance meaning that I had
to generate variations of all the
engrams where there was just one letter
removed so that's a lot to generate
everything is in CSS that's really
really large CSS file but still
everything is in CSS and you have to do
that 150 time for every single employee
but once you get to that point you have
a search bar where you can type almost
anything and you will get results here
I'm typing MA and I have everyone from
the marketing team I have the
salespeople that am in market and
everyone that has a first name or last
name that contains or starts with MA
even with some typos that's nice but
this display can actually be improved it
would be much better if it was displayed
that way those are the exact same
results they are just ordered
differently I have grouped all the
matches in the first name then matches
in the last name and matches in the job
title this is really important so you
can understand why results are in this
order and this fortunately is really
easy to do in CSS this time there is no
magic trick because all my display are
in Flex box I can just use the order
property to change the order of the
rendering regardless of the order of the
markup but there is a last thing that is
really important on that slider I will
be finishing on that as every single one
of you in the room you were able to
understand how results were grouped by
first name last name and reply
at all and that is because of the
highlighting the key walleye type is
actually highlighted in the results you
have the first three characters that are
matching your keyword it's just
characters but it's really important to
tell you users this is why this results
is matching and so I knew that for the
easy to use part of my project I needed
to have some highlighting but if you
remember correctly this is how I add
content
it's a pseudo element before with the
content and you cannot really add HTML
inside of that and you cannot really
style with CSS something that is already
in CSS so I had to find another way and
the way I found is kind of cheating
actually I took two phones the regular
one and the bodied one and I merge them
together into one new font but all the
glyphs all the bolded glyphs I put in a
specific name space of utf-8 that is
called the private use area it's a range
of characters that are not used for
anything where you can put your own
without overriding any existing glyphs
in other characters so I just put all my
custom character that I actually bought
did version of the regular one there and
then I can access them in CSS just by
using the CSS code point it's absolutely
unreadable but you just replace every
character you want to highlight with the
custom glyph that looks like the bolded
version and I think you start to see
where I'm going with that but you have
to do that with every single Engram you
generate so it really creates a really
really large CSS file and it's eight
megabytes at the end five once minified
just to search into 150 employees so if
there is one thing I would like you to
remember from this talk it's please
don't do it in projection there are way
better ways to do search than doing it
in CSS but the wall
point of this it was a proof of concept
it was to see how far you can go with
CSS and it might have seemed completely
crazy or even impossible at first but
impossible only means you haven't found
the solution yet and I can only
encourage you to try to take a language
CSS
any other language and try to make it do
something it was not meant to be doing
in the first place you will learn a lot
about what are the strengths and
weaknesses of the language and
everything you will do with that
language afterwards you will have much
more clarity about how to approach the
issue if you want to try any of those
online you can go on our goal that comes
last ESS large demo the demo it there
you can try it if you want to inspect
the actual CSS your browser may or may
not crash use at your own risk
but everything is on github the wall
code that generates the actual CSS is
available you can even pass your own
JSON data as input and it will give you
the large CSS files I would put if you
want to try with your own data and thank
you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>