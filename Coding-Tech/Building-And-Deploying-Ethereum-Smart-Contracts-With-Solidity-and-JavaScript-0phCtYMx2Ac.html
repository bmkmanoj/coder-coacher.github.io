<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building And Deploying Ethereum Smart Contracts With Solidity and JavaScript | Coder Coacher - Coaching Coders</title><meta content="Building And Deploying Ethereum Smart Contracts With Solidity and JavaScript - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Coding-Tech/">Coding Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building And Deploying Ethereum Smart Contracts With Solidity and JavaScript</b></h2><h5 class="post__date">2018-05-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0phCtYMx2Ac" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what we're gonna do just quick intro
about what is the smart contracts and
distributed application isn't realized
applications what is the set up that you
can employ to to use JavaScript to
communicate with smart contracts and
we'll do a quick demo of using one of
the decentralized application to
actually change some stuff and deploy it
on the blockchain and see yeah what are
the future steps if you are really
interested in that so the the current
landscape of the of the tools and
technology is quite wide that's why we
won't deep dive into what is the
blockchain or how the contracts is
compiled all those details you can find
later so what I would like to achieve is
that you can see that you can basically
build your own blockchain application
from scratch in quite a short time if
you know JavaScript and you know how it
works so let's move on
basically who here has some slightest
idea what a blockchain is please raise
your hand okay very good that's what I
was expecting too so I won't start what
it is
let's just go directly to one of the
most popular a blockchain
implementations it's etherium this
started around 2015 by a guy co-founded
by a guy named Vitalik boot Aryan you
probably saw this person in the talks
about decentralization cryptocurrencies
and all that stuff so it's open source
decentralized platform and one of the
key features why it's being so popular
it's that it features the ability to
execute contracts that any code you
would like let's say on the nodes of the
network so network of aetherium has two
types of accounts basically one is the
user which has ID and address and the
funding and the other one is which makes
it so different is the contract address
basically it's a arbitrary piece of code
which is attached to that address which
can be called by the user
and that how basically the the workflow
starts so the user calls a contract then
the contract performed some actions and
this action if it's approved by the
contract can be distributed throughout
the nodes of the of the network and each
node validates it and adds it if it's
valid to to the blockchain so what are
actually the smart contracts
besides the formal definition which is a
bit quite abstract it's basically pieces
of code written in a specific language
which can be executed on on the etherium
network examples again you probably
heard of those options to create a
pension or a trust fund network
democracy where you can every user can
cast a vote and in the end you see who
basically choose which option and all
this information is being stored in the
network it's being transparent and
validated by all the parties actually
the icos
is so famous last couple of years a lot
of them they use etherium as a platform
because of the smart contract okay so
what it takes to write actually the
smart contract it's as you can see
there's a specific language developed
which is called solidity it wouldn't
look very new to you if you used some
object-oriented languages like Java or
even modern JavaScript you have
basically options to import stuff from
other reusable parts you have the main
structure which is the name of the
contract you have sub structures which
define the types of data which contracts
works with and end you have methods and
events which can toggle the state of a
contract or let's say get information
from outside world or push it to the
outside world so here I have an example
of a really simple contract which
performs a to-do list where you can add
an item you can toggle an item to be
active or inactive and that's basically
what we're going to do in the demo you
will see later so how how does this code
basically start
it's working so the lifecycle is
relatively simple when you compile your
solidity code you have a bytecode which
is being deployed to to the whole
network to all the nodes basically and
after that moment the contract has a
specific address by which you can call
it and call a functions on it and after
that you can interact with your
contracts since it's being deployed so
one more level deeper basically the
decentralized apps those are the apps
like native or in a browser it doesn't
matter who use as one of the api's they
work with they use blockchain so they
use blockchain to store the data or
retrieve the data so this is basically
the definition but as you will see later
the apps is nothing more different than
a normal one besides the fact that you
can employ the power of decentralization
and blockchain so if we want to write
this decentralized app how we're gonna
actually can connect to the to the
aterial so there is a web tree provider
which is basically a wrapper
Anto which which can provide you
connection to aetherium network you can
see here the the snippets of code which
you may use in your app basically first
you connect to your provider then you
may set some default some settings
select an account and so on and after
that it's looks should look quite simple
quite the same as you would be using
let's say some Ajax calls or something
you just have your main object to which
you call the methods on it you check if
the status is connected or not you may
allocate if this address is address that
you can actually do something and then
you can send transactions check the
balances all that stuff it is quite
straightforward as I said connecting to
a network basically what is the network
is the the blockchain right there are
different networks in in aetherium one
let's say production one with real money
and right I don't know a bunch of test
networks which are there just for
developers to test their algorithms and
for a variety of test purposes and of
course for local development you would
prefer to have something running locally
for that there are several tools one
quite popular was a film a test RPC and
since last year it's being acquired by
say another company and now it's called
Ganic CLI basically it's a your local
assyrian blockchain running on your
machine which you can use to deploy and
test your apps and what is nice is that
they have also a GUI runner which we're
going to use in the demo you'll see
later so you're basically no fancy
console stuff you'll just see
transactions running nicely in in a
separate application ok as I said this
again H CLI is a part of a truffle
truffle is one of those projects that
produce tooling for block chain
developers and truffle is also
distributed as an NPM module you can
install it and then in it a project with
it so basically truffle takes care of a
lot of stuff related to creating an app
which communicates with a blockchain so
it takes care of deploying your
contracts of compiling your contracts
and it also basically is a provider for
for web tree that you use in your
JavaScript code so now just a quick
explanation where is basically how it's
happening the interaction as you can see
when a user clicks a button or add some
information you just initiate a
transaction which goes through the web
three-to-two into the blockchain let's
say cause the contract contract is being
executed if if it's correct you get the
this becomes a valid transaction which
is added to the list of things that
needs to be mined this here we come to
the basic concepts of blockchain and
when the block is mined all the other
nodes know about it and they add it as a
set in stone information then that any
other party also your app can validate
so retrieve so basically if I press the
button send the money to somebody and I
have enough money on my account this
transaction is being validated new block
is added which says I've sent the money
to you and then everybody in network can
see it and that's just another another
block in the network now let's go to a
quick demo what I gonna do will take a
simple to do list app and then extend
its functionality a bit so I have here
this again hu GUI runner basically when
it starts it gives you gives you two
addresses and as you can see there are
no blocks yet no transactions everything
is clean now we'll open the freshly
cloned repository with this to-do app
what is what is it it's basically a
really simple react app is it good
enough you can see it right okay so it's
a really simple react application which
has a basically list input field where
you can add to do and then you have the
list of to do's and then you can remove
one of them one by one so from UI
perspective is really simple but what
what is cool about it is that it as you
can see here it employs the web tree
connector and here you can see that it's
it connects to the provider which is
running on our localhost this is the
actual blockchain provided by again it's
Eli so he
we connect to this provider and then we
have a couple of methods such as get
info from from the contract and select a
contract to communicate with also
valuable point two to mention is that
the config file which is basically quite
simple you just can define some
specifics about where is your blockchain
running on which port or it's something
not on your machine that's also possible
so here it's really simple development
setup where you have everything on
localhost besides that if we take a look
at the app structure we have basically
here a folder for build files some
configs and settings here you have the
contracts which we'll take take a look
now basically the SRC folder is just
your normal JavaScript code as you would
have in any other application and the
config file for for truffle specifically
so let's take a look at the contract so
here we have again very simple to do
to-do list contract which I showed in
the beginning of the presentation which
has only one specific structure which is
called a to-do item which has a name and
current status we can edit we can list
it and we can remove it that's that's
the current starting point okay now so
what we're going to do now we're gonna
so we have a let's say raw contract file
and to be able to execute it in the
blockchain which we first need to
basically compile it as you can see here
I'm doing a compiling after compiling we
have here in this folder we'll get to oh
it's
checked it before but something didn't
work yeah of course that's part of the
part of the story yeah yeah so build
contracts yeah I think they're actually
there yeah
I forgot to refresh so in in a build
slash contracts we have those files
which is as you can see is specific JSON
structure which defines the contract
let's say it's intermediary between the
binary compiled contract which will be
put into a tibial and something that
that truffle provides you so now next
step will be into the migrate this will
put the the compiled contract into the
into the blockchain fingers crossed
yeah okay it worked fine and we can see
now in this GUI we had we had several
blocks added and several transactions
here you can see it is contract creation
unfortunately this one cannot be zoomed
so you have to believe me if you cannot
see this we created a contract here and
this is the the binary date of this
contract and this will be executed by
the nodes of the of our small local
network okay and as you also can see
that the balanced initial balance was
hundred theorem coins but the deployment
took some some some cash some imaginary
cash from it because this this is an
operation which also requires some
processing power so that's you can see
late it will decrease by each time we're
doing a transaction okay that was
deployment for contract let's take a
second part which is starting the UI UI
as I said it's just react application
shouldn't take long here were so here we
have this nice demo
Stickley it's now in idle mode let's add
some some to do of course let's add test
so in in a top right corner you can see
indicator that this is actually
connecting to the blockchain and
deploying it so add more tests
so and also you will see that there are
more transactions added here those two
just happen now and again there are more
blocks mind I'll just put it just next
to this screen so that we can see how
it's growing basically so we do let's
say these these you see that there are
more transactions in our small network
and now we can also remove basically
stuff which also takes transactions in
in our network also this GUI tool has a
detailed logging the same as what you
would see in the console so that's
really I think a good tool to start ok
that's really simple to do abnormally
you would also have the option to
basically check the mark and say this is
done I finally added the tests I can get
a coffee and have fun ok let's let's add
this functionality I will cheat a bit
because I have it here basically the
extension of a contract is to do to add
a toggle to do item function which will
just pick the item by its index invert
the status and basically put it back and
change in the in the UI is just add
another box which will be doing the
toggling like the check mark so here I
had a toggle button I'd know if it's
visible yeah I think yeah add a handler
to it and basically add some UI for it
now let's apply this change okay now we
will see
here okay since we change the contract
now we need to also update it in the
blockchain because it's still running
the old the old code for that one I will
have to do again here the basically
compile the new contract yeah
and yes yes yes well until I shut down
the the GUI it will it will be there but
if you talk about something outside your
computer it will stay there forever yeah
that's that's actually a point when you
let's say deploy something you must be
really honored to ensure that things are
working fine
otherwise you may lose real money and
that's yeah that's the whole big topic
of security of smart contracts but there
are ways basically to mitigate that for
example you deploy one like a wrapper
contract which points to a latest
version and then later you okay you add
functionality or you cover some bugs and
then you deployed through this wrapper
and the wrapper now points to a newer
version so that people of course found a
way to deal with it
okay so now we do truffle migrate but
with the result because we want to
override the first version external
service you mean what what thing what
specifically well you can do it from
your app or you want to do it
specifically know from the contract you
cannot call the let's say outside world
so the only way is that again some
standalone app like your JavaScript app
or let's say your native app or whatever
can check the contract status and there
may be like a status like I want to
check the weather in Amsterdam and then
the app should do the call and then give
the contract the new information okay in
Amsterdam it's again raining
and then the contract will react
accordingly so contract itself is just
fully fully limited in communicating to
outside wall it can only answer when you
call it that way okay
so meanwhile we've deployed the newer
version now let's check what we have
here so since it's a new one we will
lost all the previous to-do items let's
let's add them again right let's add go
to meet up so we have it here it's not
now we got this new UI piece which you
can toggle the item and again if we look
at the transactions here if now I check
the mark I basically get another call
which means I again toggled the
information in the contract then do a
presentation add another one get a beer
and so on so now I almost did the
presentation so I can check that one as
you can see that the blocks keep on
mining and the transactions are all
recorded again if I stop now the network
it will all disappear but thanks to
truffle you can deploy those things to
test a Tyrian network and really
everybody can can try to access it and
play with it okay that was a demo just
some quick word in the end so the demo I
showed you as you see it's quite simple
version of a contract and quite simple
UI but there is really a lot of tools
and tutorials how you can enhance it and
make your knowledge better there is a
special web IDE which is called remix
where you can check your contracts and
validate them and even deploy them
there are also reusable pieces for your
contract code this is called let open
Zeppelin is one of most famous projects
behind it so basically the the
battle-tested security audited code
which you can reuse
the same way you reuse let's say
underscore or I don't know some some
other toolboxes the same here
also something that is relevant to your
question the Oracle eyes which is a
service by which you can trigger events
in the contract from the outside world
so that's like you can make a contract a
bit more alive in terms of if the
weather in Amsterdam turns out better
then it can ping the contract and say
well it's you should change your status
or something like this and besides of
that there are more libraries that
provide useful tools for developers
there is for example the diesel one
again from the same truffle project
which has a really nice wrapper for apps
using redux so basically you have you
can have your state partly communicating
to to a blockchain those kind of things
so there's numerous improvements and
there is a lot of things to learn yeah
that that was it thanks for your time I
hope you have some questions</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>