<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>.Net Core: What To Expect Next | Coder Coacher - Coaching Coders</title><meta content=".Net Core: What To Expect Next - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Coding-Tech/">Coding Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>.Net Core: What To Expect Next</b></h2><h5 class="post__date">2018-01-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/511TidJCQc4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay first off we got to talk about how
we're doing how the text doing and so we
just shipped out net core 1.0 June of
last year we're super excited to say
that in only less than a year most loved
framework number three
not bad for for less than a year c-sharp
one of those popular languages and
growing very happy about that if I look
at things like the job market dotnet is
the number two most requested technology
for somebody to know if you're trying to
look for a job in computer science and
so when you make more dotnet people if
you think about Microsoft technologies
let's take a look at this chart that
I've got here and it shows after we open
source nets how we stand against things
like nodejs that that little small line
at the bottom and our probably our
biggest competitor java you can see
we're doing really really well being
mentioned on both Reddit and hacker news
and then of course we know we've been
open source for a couple of years now
and super excited to say that first off
you can see since we open sourced in
right there boom half of the
contributions to net now come from the
community not from us we've had
companies like Samsung embrace net
because it's an open platform in October
of this year they're going to ship their
Tizen SDK for building applications that
run on their televisions that run on
their devices and their appliances so
everybody has an excuse if you want a
new Samsung TV and in January tell your
wife hey my TV needs to run nets and
then of course we also have a ton of
people in our dotnet community we have
we have as this foundation and we've got
people like Red Hat Samsung unity Google
JetBrains all in our foundation so great
transition to open source but let's get
in and talk about dotnet this is kind of
the most exciting thing to me is if you
look at this top bar you can see all the
types of applications you can build a
dotnet today you can build Windows
applications like wind forms in WPF you
can build Windows 10 apps like uwp if
you're using asp.net core you can build
apps that run on servers on local
premise we've got great support for
mobile with iOS and Android
IOT we're doing some of that in Azure
and we've got a version of dotnet core
that runs on arm 32 obviously AI
something we care about we want to make
sure that dotnet and AI work well
together and then games in VR with unity
so you can do all those things with
dotnet and what's neat about this is we
just with the release of dotnet core to
have also introduced something called
dotnet standard - and this means for all
these platforms you see we have the same
set of API is consistent across all that
stuff I can't think of any other
platform where you can build all these
types of apps and have the exact same
framework sitting below all these things
and of course we have the same tool
chain as well whether it's Visual Studio
Visual Studio for Mac Visual Studio code
or the CLI you can do all these things
so let's talk about that net standard
sometimes people get confused by this
they come to me and they're like where
do i download it where do I install it
and the reality is dotnet standard is
not something you install.net standard
is actually just a spec just like your
browser runs html5 if you're running
Chrome or Firefox or edge all those
implements html5 all we're saying with
totnes standard is all of our dot nets
have to implement the list of AP is that
we built in dotnet standard to be dotnet
standard compliant and so at this point
I'm happy to announce that pretty much
everything in this list supports that a
few weeks ago we shipped the first
previews of dotnet standard 2.0 for uwp
applications and that kind of closes the
ring every every one of these things
supports that net standard the next
thing is what is what is cool about the
next version of.net standard we shipped
asp.net I mean got net core in June of
last year and we didn't have a time we
didn't have time to actually take all
the api's from dotnet framework and
shove them into that thing in an open
source cross-platform way at that time
botnet standard - we've had a chance to
go back we took all the api's that were
in xamarin and all the api is indicted
framework that intersected and put those
into dotnet standard that's how we
identified what it is basically all the
non-ui all of all the parts of dotnet
that actually can run on all platforms
this means that we added about 20,000
api's with that in standard - and in our
new get calm or
org packaging for infrastructure 70% of
the packages out there are compliant
with dotnet standard - today which means
you can use all these old things and all
new things old things everything's so
I'll show that in a second this is just
a quick highlight of some of the stuff
that came back without nastain or - all
the data stuff came back XML
serialization so if you try to move the
dotnet core and couldn't now's the time
to try again because all of this stuff
works across all the platforms so let's
do a quick demo of dotnet standard so
I've got a a dotnet standard class
library here or dotnet standard yes
class library so let's go here I'll show
you how I built this there's this new
node net standard and you select that
and build a class library and that means
you're going to build a class library
that works across all the different
types of nets so I've got one here and I
was looking on the web to go and and
crack open a zip file and I found this
sharp zipped lib example here with an
extract thing and so I want to use that
so let me go back to visual studio and
I'll quickly jump in here and I'll do
manage NuGet packages and let's browse
and add one here so let's type sharp zip
lib there we go and let me try to add
that all there was a failure
oh no what's going on there so let's
look so if I look at this error what I'm
going to find is this is trying to find
dotnet - man I don't have done yet - but
my app is done at standard compliant and
so it probably should support that
even though sharp simple it was actually
written in like 2012 so let's go take
our library am I cheated I made this a
dotnet standard 100 library let me move
that to - oh yeah yeah yeah yeah yeah
let me move that to - Oh make sure we're
healthy here okay and now if I go back
to nougat I should be able to install
that package ah getting further
success so now I took this library from
2012 didn't have to recompile anything
it just works but I'm looking over here
there's something funny here if I look
in my solution Explorer I get these
errors are these these warning errors so
what are those so if I look at my err
list it says basically this package was
stored with the version of that net that
I have and it's not 100% sure this is
going to work so we're gonna let you
install anything you want and if the
api's exists it'll work but how do I
check if the api's exists well I can
right click over here and I can go to
this analyze project portability it's
gonna run a test I'm gonna open that
report and look here it says everything
is compliant perfect so I know I'm good
to go
if you want to download this tool this
tool is available right here this is the
dotnet Portability analyzer and we'll
have a link to this in the deck so we're
gonna make the deck available afterwards
so you'll be able to come back and find
this code but now that I've done that
man I don't like this error so what I'm
gonna do is find and find my nougat
package here I'm gonna click properties
and I'm gonna say hey I've already
checked this thing out and it's good so
let's take that error 1 701 put it over
here and if I recompile warnings all
gone cuz I know I'm good so all the
errors are gone we're good to go I want
to show one final thing here which is
something else we tried to do with with
dotnet standard libraries he's make it
very easy for customers to build their
own nougat packages and so you might
want to build a package and then share
that package with your colleagues in
your office or it might wind up loads
nougat org and share it with more people
there's now a package node over here in
the properties for the project and I can
just give this a name author so I'll
give it a let's call this this my
company cool zip stuff save that
check this box up here it says generate
a nougat package on build and so I just
rebuild now actually you say that first
say this say that do a rebuild and as
soon as I do that I will have a nougat
package so super easy to build nigut
packages that are very compliant and
standard across all the Nets
there's my nougat package boom right
there
so never easier to do this with net so
that's not net standard let's jump back
and talk about some more features in net
core 2.0 we shipped the new CLI a new
SDK we've gotten a core 2.0 and first
off one of the biggest complaints
customers gave me around dotnet
framework was man I want more than one
of these on the machine at the same time
and today we only have like version 2
and version 4 on the box we don't put
more on because it ships with Windows
and Windows doesn't want to have to get
huge they want to say small so without
net core we leave that choice up to you
you can install as many SDKs side by
side and any framework side by side as
you want so we support multiple SDKs
another thing is we're trying to make
the CLI be able to do everything that
visual studio can do so any action you
can do individual studio you should be
able to do in the CLI so we've added all
the project templates from vs into into
the CLI and we've added support for VB
and quite a few of these templates into
two o wave and we've added commands to
the CLI for dealing with solutions and
projects and a bunch of stuff because I
never want you to have to edit the CS
proj file if you don't want to you
should be half commands to do that so
let's let's take a quick look at that so
I'll jump over here before we look at
that let's look at the machine here real
quick I'm gonna go to my C Drive I'll go
to Program Files and the way dotnet core
is installed in your machine there's a
folder called dotnet there's no registry
there's no system 32 everything that
this required to run Nets it's in this
particular folder and if I look in here
you can see I've got three versions of
the framework I've got a 105 a 1 1 2 and
a 2 o these can all be side-by-side I
said that's one of the benefits of
dotnet core but I also have
vil SDKs you can see I've got a one one
zero SDK and a two Oh SDK you might ask
how do i how do I control these things
so there's we offer a great way to do
that as well so what I've got here is
I've got it's good in my drive here
we'll go and create a folder make sure
console console app here and if I type
dotnet - - version you're gonna see that
I am running the - Oh
framework here now what if I want to use
one one instead do I want to use the
other SDK because I'm more I have older
old projects that I want to keep running
the way they are today I could easily do
that as well so all I've got to do is
jump back out to my source folder we'll
go into the console application and I've
got a file sitting on my desktop called
global Jason and you can put some
settings in here
so I'll grab that file paste it into
here and we can load up vs code over
here in a second
and there's my global Jason and you're
gonna see inside the school adjacent I
actually can set the version of the of
the SDK that I want to use if I change
that to 1.1 and save it and go back to
the console here dotnet version is now
going to say 1.1 so I can easily move
back and forth between these two SDKs so
if you have old projects drop one of
these files in a folder and you're good
to go now let's switch back to - oh
because that's what I want to use there
we go
and just let's just check good we're
back on - oh and I'm gonna say dotnet
new and we're gonna see when I do that
all these new project templates I was
talking about you can see here I've got
constant laughs class libraries unit
tests
pÃ¶lten of asp.net s-- new get web
configs razor files pretty much all the
things you want to build in dotnet are
all sitting right here and you can see
language wise if you're a vb person out
there and been waiting for VV VV support
without Nick or you can see some of that
coming in now so let's go dotnet new
console there we go now one of the
things I mentioned before we want to
make all the things you can do in visual
studio actually work here as well so I
can now do add reference I can do dotnet
and reference and I can go back and grab
that class library we just had earlier I
could easily edit the CS Pro Trail by
hand but I don't have to I can actually
just go and and do stuff like this what
if I want to make this something you
could open in Visual Studio as well
other than like vs code I can do dot
Nets add solution file did I mess up
here actually dotnet new SL and then I
can once I have that solution I can say
dot Nets SL n and the console project to
it and because I'm actually referencing
another class library may want to add
that as well and so I can just go back
as simple is so now I've
you got a project you can see I've got a
solution file here I've got my project
file I'm being basically able to build
all the same things I could do
individuals to do right here in vs code
in the editor I can do one last thing
here since I referenced that project I
can probably do something like using
let's go back and see our code oops
jump over here to our project jump into
the code oh I never wrote any code here
let's go put some code over here I'm
just talking about this zip sample here
let's grab the code from this grab that
stick that over here grab this function
here stick it in here there we go and
I'll probably make this class called
renames be unzip and I'll make this
static they don't have to in-state the
class you actually use this we've got a
few things we have to go fix here you
get so help me with that boom took some
code from 2012 built a class library I'm
good to go now I should be able to go
back to vs code and I'll say yes I had
the missing stuff and I should be able
to come over here and do things like
using odd knows about standard class
library it already saw that I can come
down here and do a standard class
library dot unzip Oh class one I rename
that come on and tell us since don't
fail me now this will be unzip extract
file and I
I've got a couple of files in the disk
here so what I'm gonna do is stick these
out and let's go back to the file
explorer I've got a sample folder here
with a sample file here grab that images
jobs if it's gonna win an app sign over
here to make it happy I'll do a null and
we'll grab that folder again and at this
point I've got a class library she's
gotten a stander too
I'm all built hung together here with vs
code and it just shows that workflow
which is pretty cool so let's jump back
over to the slides here and move on done
in court - what's the big stuff in net
core - we added a bunch more api's all
those all those api's from dotnet
standard to a bunch of new project
templates if you're a web developer
we've got angular and a bunch of other
ones in there as well react we support
more Linux distros than we ever have and
we'll keep adding more we have
simplified packaging dotnet core one we
actually required you to actually
install a package for each parts of
asp.net and a package for each of the
parts of net core we've simplified these
things in dotnet core to where you just
reference Nick or any reference asp net
in two lines and I'll show that in a
sample in a second here much better
tooling support for the CS proj and.net
core and dotnet standard and in the
update of es 2017 it has shipped and
we've got the same support for vs for
mac as well next asp net core - this is
20% faster in the Tekken power benchmark
that's our primary Mitch mark can go
after then nick asp net core 1.0 so
we've continued this push to have high
performance we've added a new framework
called razor pages and it's for if
you're a developer and sometimes MVC is
a great pattern but having to have a
folder with your code or folder with
your view and some weird conventions is
kind of complicated you just want to get
stuff done and so we've got a simple
framework called razor pages lets you go
a lot faster
we've added support for Razer for
c-sharp 7.1 Mads is gonna come talk
about c-sharp a little bit later on one
of the coolest things we've done if
you're publishing your app up it used to
be in the old days that every time you
published you would publish all the asp
net assemblies and if i go back and look
at my c drive and go up to dotnet let's
go back in here real quick one thing
I've got the shared SDK which is right
here and it's something Meg's but we did
something new with this version of.net
and I now have the folder in here called
store and what store is is basically a
place for us to put all the stuff that
we don't want your machine to have to
pull down when you build applications
and you don't have to publish when you
publish to something like Asher and so
we stuck all the asp net stuff in here
because of that when i publish an app
now it's 2 Meg's vs. 16 Meg's really all
you're doing in a published now is
you're publishing your application and
nothing else we've added great support
for Azure Diagnostics and live analytics
you can actually take an a spinet core
application put it onto a juror and all
the diagnostic stuffs just hooked up and
I'll show some of that later on if
you're building apps to do
authentication we've added support for
authenticated wraps I'm sure we all have
them on our phones and we use them to
log into stuff that's now built into a
espenak or two so let's do a quick demo
of a spinet core 2 now ok so I'll jump
out of here
and we'll go to web and I'll click asp
net core 2 and you'll notice here I've
got a few new options mentioned before
here is my razor web application
here's my traditional MVC you can see
I've got my loops my angular here and
I've got two reacts so we've got some
new templates or everybody I'm gonna
create one of these razor apps this is a
razor page app give it a second to
create after it creates I'll quickly
jump into the CS proj file I want to
show you what I'll show you what I was
talking about earlier if I come over
here and I look at the CS proj
you're gonna notice that it references
dotnet core and it references asp.net
and that really is one of our big goals
was not to have you know I want to be
able to type this stuff by hand you
can't remember 30 packages or how many
packages it was before so it's much
simpler now let's look at one of these
things so I've just got a folder on my
app now called pages and inside the
pages I just have pages if I reference
contact ICS just contact my app slash
contact it'll actually run the contact
page this tech is all built on top of
MVC so even though it's a simpler form
of MVC you can actually mix MVC apps or
VC pages and razor pages in a single app
so if you've got pages you want to do be
ready simply write them with razor pages
if you have existing code you can use
your MVC views so I can actually add a
razor page here we'll call this test
save that and I'll show you how this
this thing works here so I've got oops
edit a class not a page
so we'll call this test that looks like
a page so let me jump over here here's
my pages open that and I want to show
something really quick I'm just gonna go
and jump to the CS HTML file behind here
so unlike MVC this one has the code file
sitting in the same folder right behind
the the page and I could go add
something new in here that I can add a
class in here let's add let's do
something simple let's do a string I'll
call it date and down here we can just
do something like on my own get this is
the method call before the pages viewed
I can see date equals dates time now dot
two time string let's do that now it's
cool if I go back to my page and I'm in
here I can I can say at model anything
that I put in there is actually added to
the model for the page so I get Intelli
since there's my dates so it's simple to
build a page that's gonna run it's just
going to show the dates and then I'll
show ya after this runs I'll she had a
built in little bit more complicated
let's go here there's my page here's my
test page shows the date nothing crazy
let's go build a form real quick so the
first thing if I wanna build a form I
probably want some data so let me create
a model folder here up here add a new
folder
we'll call it models and inside the
model folder let me create a brand new
class library class here we'll call this
customer and what I'll do here is I've
got should have a snippet here there you
go
all this class is is a two strings and I
put some attributes on here I want to
have client-side validation server-side
validation requiring people to actually
fill these fields in I can control dot
here bring that namespace in now I've
got a model so let's go back to our test
page here and what I'm gonna do is I'm
going to add a form here so I built one
of those as well there we go and I'll
just quickly talk through what this is
so this is it's gonna complain right now
because I haven't added stuff to my
model but if you look at this code it's
regular HTML code I've just got got a
form tag up there
with a post I've got some divs with a
special ASP - validation summary that
makes that div become a special place
where validation errors would go for us
I've got a regular HTML label tag here
but I can actually put these asp fors in
and that makes some some magic happen
here where I can basically give it the
model and the view of the part of the
model that I want my input tag has one
of these as well so you see I've got a
first name and last name and I've got a
button so it's pretty simple I've got
these errors because I need to fix a few
things first off it was looking for a
message type here and that customer so
what I'm gonna do here remember before
if I want to add things to my model I
just put them right here in the class so
I can say I've got a message here and
let's add another one here I'll add
models dot customer and I'll call that
customer so I've got these two
properties
that should make the compilers all happy
in a second here yep
all happy now let's think about this
I want this customer data to be bound to
those labels and to those input tags and
so to do that I need to put an attribute
on this class telling asp.net to bind
this so I'm gonna say bind property
I want to bind this property to those
elements in that form and for this
message this message I'm gonna store
whether we succeeded or failed in this
message and I want that to persist
across the page to do that I need to put
that in something called temp data and
that means that will actually asp.net
will grab this field and persisted
across request and we got one more quick
thing to do here is what I'll do is I
need to create an A on this I need an on
pull on post so when the when the the
submit button is pressed this will be
called and because I'm doing data
binding the object will already be set
there I'm gonna change the this to be an
action result because I'm gonna return
something from this and then I would
just write typical MVC style code here
so I could do something like if not
model state is valid so basically I'm
saying hey if you filled in all the
fields you did not fill in all the
fields I want to show the error message
so I would just a return page and then
if you're successful I would say so like
save data here and then finally after I
save the data I would probably do
something like what would I do first off
let's save the data I'll cheat here just
a return page real quick save the data
so before I run this what I want to do
is I want to point out that this is
using the same tech as MVC so I'm not
gonna save that data but I want to be
able to show it in the output of the
application and so what I'm gonna do is
I'm gonna add a constructor here as well
so let's go up to here after the before
the aren't yet
oops and let's add a constructor
there's my model and I can say NBC has
this feature called lager factories and
logging so I can just add an ilogger
factory here so want to show this is
real and you see it all works exactly
like it does let's do that let's have it
bring a namespace in for me there you go
so this is dependency injected into the
page and I could have an ilogger right
here and what I want to do here is
basically say logger equals logger
factory with the right case
I can take type right here longer
factory and I'm gonna create a logger
and it's going to give it my type here
and that's gonna be a test model there
we go and so this gives me an instance
of a logger that I can use to actually
log stuff so I can now come down here
and where I was gonna save the data I
can just do something like logger dot
let's log something like an error it's
not gonna be an error but I want to show
up when I show I'm gonna publish this to
Azure I want this to show up in the
portal so then I would do something like
added user and I can use customer dot
first name comma customer last name
there we go
make sure we got a semicolon there and
then finally I probably want to do down
here at if I want to do some kind of
redirect so let's do redirect redirect
to page and normally I would say like
index but in this case let's just go
back to the same page anyways because
we're not gonna save the actual data and
I want to show a message here as well so
I could say a message that's that field
I put there equals success so at this
point I'm good I've got a fully running
RAZR page app so let's run this and see
what happens
okay
we were the test page here I just press
the submit
there's my validation working I could
put my name in here success I'm good to
go so let's get this up in the cloud so
this is that's how easy it is to write a
razor page app but it can be a little
bit cooler so let's put this in the
cloud gonna right-click over here and do
a publish we'll select app service and
we'll call this dotnet conf
CSS web and we'll put this in we're in
West Europe so let's put this in West
Europe it's still actually thinking up
there so it might move me around it just
did it's really trying not to let me do
that okay there we go so we're in West
Europe the data center closest to here
and we'll create this and publish this
while this is going on I'm gonna jump
out and go through some slides and we'll
jump back to this in just a quick second
next thing is I want to announce
something else it's not shipping today
but we we're working on something all
the windows compatibility pact for
dotnet core which not necessary to we
added a ton of extra api's but we plan
to add even more these are not going to
be in dotnet standard because they're
not some of these api's or not things
that actually can be cross-platform
across all the different platforms but
we know there's customers trying to move
apps to.net core they might be held back
by some missing things and so i've got a
few of these on the screen here we've
got win32 registry is one of these
things we have system code dom system
configuration configuration manager
drawings a big one that people ask us
runtime caching them anymore this will
be a new get package you can install on
your dock or apps to get even more
compatibility this is gonna talk about
what i'm gonna jump back to the to the
portal for a second for with vs 2017
we've added a lot more asher features as
your functions if you want server this
computing
that is you don't want to pay to have
your app running all the time you only
want to want to pay for it when it's
actually called you can write an azure
function in c-sharp it's only only won't
you only pay for what when it's called
we've had a great CI CCD support I can
actually take a nap put it in source
control and we will actually build it in
the cloud for you all for free using the
CI CD support there's a wizard inside of
Visual Studio you go through it and your
app goes up to either app service
service fabric or app service Linux
answer Diagnostics that's what I'm going
to show next a big piece of this is how
you eat your app to the cloud how do you
actually debug it and and deal with
those kinds of things and so we added a
bunch of cool work for that this slide
shows a little bit of it I can take a
nap see my app running in the cloud see
errors in it we'll install a profiler
and we'll look for common errors if
there's a common exception will actually
freeze this the process for a second
take a snapshot put it on disk and then
you can actually open that individuals
to do later on and see all the errors of
the detail just like you were live
debugging the application and another
big thing here is this is supporting
what we call our architecture page this
is do T dot n et / architecture you can
go here and we've got books on
microservices and containers with dotnet
we've got books on mobile if you want to
build mobile apps and we have cloud and
web here as well these are PDF or view
on web with best practices and there's a
sample app with each of these as well
showing you all these best practices so
let's jump back over and see where we
landed here so here is my app running up
in Azure and let's go to the portal and
try something here real quick so I'm
going to jump over here and let's go
find the app let's go look at app
services and one of the cool things we
did with this round of a vase net is
it's aware of asher and azure is aware
of it so a lot of folks when i talk tell
them this they don't even recognize this
but i can come down here and there's
this diagnostic features inside of asher
diagnostic logs i'm just going to turn
that on and i'm gonna set that to the
air level and i'm gonna press save now
what's cool here is i didn't have to go
add any any diagnostics
my application I didn't have to add a
new get package or republish I just turn
it on I can go to the log stream now
this log string can be viewed both
inside of Visual Studio and inside the
portal it's connected let's go back to
our app and if you remember I actually
added logging to that app when I when
you six when it succeeds it's supposed
to write to the logs so success go back
here you can see that wrote write to the
logs so raise your page app yeah thank
you so that the cool thing is this stuff
just works I can go back up to
diagnostics logs if I wanted to I could
do something crazy like let's turn it on
to verbose we added tons of logging
inside of asp.net in this round of
asp.net so if I go back to my my app now
and click around some of these pages
there'll be tons of stuff in the log
stream let me just actually bring a
luxury up connect a few pages tons of
data so it's easy to attach logs even
better we have this feature called app
insights and I'm gonna quickly show the
app inside stuff here notice I can click
a single button to turn app insights on
it gives you even bigger logging but let
me show you the quick version of that so
I've got me close out this visual studio
and close that out as well I'm gonna
open up a different app I've got an app
that I've already already had running in
the cloud for a while I have a pin sides
turned on and I want to show you one of
the coolest features we have so it's up
running in the cloud with all those
diagnostics features turned on already I
don't want to demo it live because you
have to actually wait about three
minutes after you put the app up for the
results that start coming in and I don't
have that much time so I've got the
uploaded in visual studio let's go look
at the app I in the portal so I'll go
over here
find my app services and here's my
asking of course snapshots I just want
to quickly show it's real I'll click
click the link to go to it and from here
I will go to the about page which I
actually put a I put an exception in so
it crashes on on default by default but
let's think about if I wasn't try to
diagnose that problem what would I do
i'ma go to app insights and I'm gonna go
to the roof the big view this is a quick
view showing me a little bit of data but
I want all the data so I'm gonna go to
the the big view and there's a new view
here called an app map and that's gonna
show me all the pieces of my app you can
see some of that those graphs are
showing some my data coming in and I can
see here I've got a bunch of failures
here so let's click this here's my top
ear it's an exception I show you the
error if I go back to visual studio and
I look at my home controller you see I
put an exception here throw new
exception the app crashed I can actually
click that in the portal it's gonna show
me a lot of details about where the air
came from what country Sweden what time
all that kind of stuff I can open that
snapshot and it's going to show me all
the stack but also all the variables
everything that was live in that is
available right from the portal even
better notice this download feature I
can download that snapshot to visual
studio so what does that mean
I've actually pre downloaded that just
for fast demos here it is I'm gonna
double click it and it's gonna say yeah
I know it's could be dangerous we're
gonna let this open up and so this is
really cool your apps crashing will
identify it when it crashes enough times
we'll make a snapshot you can then
download that file and then you can see
exactly what this looks like in visual
studio take a look at this it looks like
my app
just crashed I'm on the line that
crashed I've got my exception just like
you would see if you're running locally
individual studio and everything on the
stack is right here
they're not cool thank you okay and
that's just that's just a brief part of
that feature we have another part of
this feature called snap points where
you can actually go put breakpoints
directly in the brow directly from
visual studio in your running app in the
cloud and we'll take the snapshots when
those snapshots are actually hit I'm
actually running out of time but I was
gonna show one final thing that CI CD is
as simple as pulling this down and
saying configure configure it continuous
delivery you bring this up a dialog
comes up you press go and within 30
seconds you have CI CD set up either to
app service app service containers or
service fabric that said I'm gonna bring
Miguel out and let him talk about mobile
well it's an honor and a privilege to be
talking to you today we're here in
Sweden so mobile is an incredibly
exciting space the others billions of
devices running this thing and we've
been lucky enough that we can run dotnet
on these platforms the the commitment of
my team the team that is building dotnet
for mobile is that everything that you
can do with the native platforms on
Android iOS CVS or watches should be
possible to be done with dotnet but also
the other part of our commitment is that
we should bring all the capabilities
that you love from dotnet to this world
so we're blending these two worlds
together so I'm gonna give you today a
little bit of a taste of the things that
we're doing and some of the new things
that we're thinking about and how we can
make your life easier and make you a
happier mobile developer as you know the
fall is the is the season where we folks
at work and mobile say it's the update
season right both Google and Apple
released major updates to their
operating system Apple is pretty
consistent and Google sort of has a
bigger range of update times but Android
aurilla just came out and if you're not
we got your back everything in Android
Oreo is now supported by my design room
platform and dotnet and all of the
capabilities are so exciting about the
platform are there Apple is launching I
believe it's today I'm confused about
the time zones but I think it must be a
run now that they're launching iOS 11
and fear not everything new in iOS 11 is
present there's all kinds of new things
for example core ml is a framework for
doing machine learning and Microsoft
itself is shipping as Amram based
application that has migrated from its
own neural network to apples core ml and
another theme that sort of developed in
the in the last I would say six months
is this passion for your AR so let me
talk a little bit about this so about
two years ago we started work on this
project on porting an open source lab
worker or hoe dotnet and we made it very
easy for developers to create 3d content
and spice up their existing mobile apps
with some with some 3d this works on all
of our supported platforms Windows Mac
Android iOS and everything in between
and one of the things
we ended up doing is we supported
hololens and turns out that that was a
little bit of ahead of our time because
now that AR core and a our teeth are
public for Android and iOS you can build
your your air applications with with
c-sharp and visuals to you an f-sharp so
there's a session later that we'll go
into more detail about this but we're
very excited about this now as as you
know my team is also responsible for
Visual Studio for Mac and the idea
behind this is we wanted to have a full
development experience on the Mac or you
could not only build your mobile
application a lot of developers use the
Mac for building their mobile
applications but also to maintain and
develop their server-side components
right the back-end that you're talking
to so this year this year in the belt
conference we launch Visual Studio for
Mac it's a dotnet centric IDE were
focused on C sharp and F sharp and
anything that you need to build a you
speed of net application so HTML J yes
and all of these things and of course we
have a close affiliation with the azure
platform now I want to do a demo today I
want to show you something it's a
preview feature and we will show you
where we think we're going with mobile
development so if it could switch please
to my Mac so let me tell you what's
going on here
on the left side I have Visual Studio
and on the right side I have a
connection to my phone this is my
personal phone so I hope you know I
don't get some messages here while I'm
doing this and and in the traditional
way that you develop mobile applications
you typically will would modify your
code and then you will hit run it would
compile it will deploy either on device
or simulator and you would run the
application and this is the the usual
workflow your edit compile deploy run
right and you do this thing and you
debug but we thought but there's there's
a there's a desire now of getting a
little bit of the filling of developing
a web page where you type a little code
you save your reload and it
automatically does it so let me show you
what we're gonna do today
I'm gonna launch the xamarin player and
I'm gonna pair this little guy here Oh a
little me let me just get this thing let
me see if I can pair this thing I'm
gonna repair
I'm gonna disconnect this one and I'm
going to pair it like this alright
I hope this demo works like I said this
is a preview feature but the idea is
that usually you do these development
where you were you run and build so what
I'm gonna do is I'm gonna do I'm gonna
start my application actually they keep
it that's not what I want no no no not
that let's remove that typo here okay
and let me connect it to the live player
and this is the capability you select
one of your views in your application
and you're gonna live live run it and
what that does is that any code changes
that I make to the code happen
automatically without saving so I'll
show you you see that label that says
basic a zero this is an app that I'm
building so I can easily upgrade my
Asscher machine so I'm gonna just press
one key watch and it updated there was
no saving I didn't just two fingers but
we can do better than this right so for
example this this thing just looks
absolutely terrible this run and upgrade
buttons I don't know who it did it it's
a border width of three I did it so I'm
gonna change that to one so that looks a
little bit more elegant in fact I can
probably resize it a little bit more so
it looks a little bit better okay and
then I'm gonna you know there's a native
API here and iOS native API so I'm gonna
say about on that layer dot corner
radius and I'm gonna set it to maybe ten
and off it goes okay that's that's a
little bit too much let's change that to
three okay that's better now the other
thing I want to do is when I click on
the upgrade button I want to upgrade my
machine so I'm gonna make a web service
call now I don't have time to actually
make a web service call so we're just
gonna pretend so pretend along with me
and I'm gonna make it so that when you
press the upgrade button it actually
upgrades your VM right so I'm gonna
define a handler you guys are very
familiar with this API and now I could
just do something like you know like
fake it and say now I got a standard
and that's gonna set me back a couple
thousand dollars per week so so when I
press this button up great boom look at
that
but we can do a little bit better than
that we can also do an animation so I
can say animate for one second and this
is what I'm gonna animate so it's going
to execute this code to animate so I'm
going to do you see this little cute
image so I'm gonna say well the image
frame it's actually gonna be I have it
hard-coded so forgive me about this but
I'm gonna say just change the just
change this thing to be bigger so when I
press operate look what happens and
again every time I type the code it gets
recompile and re executed that's the
flashing that you see on the screen so
when I press upgrade look at that
beautiful thing did you see that that
was amazing
now of course there's a bug here I don't
know if you noticed that it's kind of an
obnoxious bug so let me just do this
you'll see that when I press upgrade
standard a 8 happens immediately I think
it should happen at the end so what I'm
gonna do is I'm just gonna put this on
the second delegate so I'm only going to
update the text when that happens so now
when I press upgrade my VM beautiful
beautiful it's a thing of beauty all
right well so this is one thing that
we're doing and the nice thing about
this capability is that you can you can
do this either is it you don't I don't
know if you noticed but I connected this
over Wi-Fi so you don't actually need to
do this from a Mac you can also do it
from Visual Studio on Windows so this is
very very convenient and as you can see
the in the the loop for developing is
very very fast so let's go back to my
slides now and let's talk about a little
bit about what the technology that we
have so essentially one of the big ways
of using dotnet for developing mobile
applications is that you can share a lot
of C sharp code either code that you
wrote or code that you're getting from
NuGet packages right so a third-party
component and then you build a native UI
just like the one that I built right now
as you saw does a funky API for those of
you that are not from here those are
native iOS api's right all of that cg
rekt UI view they're all native API and
you would build essentially Whicher your
code and then you have a UI
iOS Android and Windows now we've also
created this thing called xamarin forms
and xamarin forms gives you an eight an
abstraction layer where you say hey give
me a button and we take care of creating
a UI button and iOS a button which it on
Android and a uwp one and it's been very
popular and as you can see or our users
or users are very happy with it as shown
on the diagram now the there's a lot of
work that we've been doing here so form
started mostly as a technology for
building business applications but now
it has grown to the point where you can
build really polished consumer
applications so a lot of our focus this
for the past year has been to polish the
technology to make it better and to
support all the things that you need it
we also worked a lot of performance so
for those of you using Android you'll be
very happy to know that we improve the
performance tremendously by using a
technology called layered compression
we're also adding support for our
brothers and sisters in the Middle East
I'd like to write things the other way
around so instead of left to right they
do right to left and we have full
support for that and accessibility for
those of you that want to make your
application accessible
we're also migrating to the dotnet
standard this fall so you'll get it soon
now a lot of you are familiar with our
trilogy you know with did Android iOS
and uwp and you know like any good
trilogy there's a lot of fan fiction out
there and prequels so today I'm happy to
announce that we have a couple of
interesting prequels for you this
abstraction layer now also supports
Linux Mac OS and WPF so now you can use
one single codebase to target all these
platforms and our fan fiction would be a
Tyson and unity you can also target
these two platforms with a single API so
now it's a
so I Universal UI standard if you will
all right let me take you over another
thing in the past we you also had to
make a choice should I build a native
app should I build the forms up now you
don't have to make that choice you can
mix and match as much as you want we're
also delivering that in October in a
couple of weeks or next week something
like that
but it's about to come out so you no
longer have to choose you can take your
existing app and add some forms or you
can take a forms up and use some native
code well that was always possible it's
the other way that wasn't possible so
we're adding that support now the last
thing that I wanted to talk to you about
today is the following and just along
the lines of this theme of sharing is
that we are very fortunate as Doulton
developers we're very fortunate because
we have a fantastic language called C
sharp and F sharp they've led the
innovation in many areas async came out
of here iterators came out of here
dynamic programming generics and they're
just fantastic but not everybody says
lucky right we also have a fabulous
runtime high performance highly tuned a
great ecosystem of nougat packages and
we as dotnet developers and incredibly
fortunate to have these for us but not
everybody's so fortunate some people are
using primitive languages legacy
languages or your boss at work might say
hey listen I know you're good with
dotnet but we just somebody's gonna
maintain this piece of all legacy code
that we have in the company so and and I
thought that I'm on a humanitarian
mission here to help you all right
we need to bring joy to these
communities and you know some people go
through rough times so we launched the
embed inator for thousands and I really
like the name because I think that the
name describes exactly what it is and I
don't need to tell you what it is I'm
just gonna go straight to the demo no
I'm kidding
what embedded native $4,000 is he takes
your dotnet code right it takes your dog
net code it can be business logic or it
can be UI code and it will turn it into
a native library and it can be a native
library for the target platform and it
can also serve as API bindings
on your face on the target language so
for example we can take a dotnet library
and surface is an Android jar package
right an AI R or we can generate an
android jar package for the desktop or
we can generate a library on Mac OS that
surface is a objective-c API on Mac OS
iOS and TV OS or you can target Linux
and you can get bindings for C or C++ it
depends so we support both generating
frameworks for different platforms and
generating different languages so it is
an open-source effort and we hope to add
more languages to the mix but
essentially now you can bring you can
continue building dotnet code and bring
it over there so I want to show you how
this works real quick here on my Mac I'm
gonna close this project here and I'm
gonna open the done save and I'm gonna
open this other one and I'll just give
you a taste of what it is but here my
friend James Monta Magna build a little
little web service called when exam
weather fetcher and he has a very simple
API a constructor here for the Syrian
state it makes a web request it parses
the result right but additionally he's
built a native iOS view that would show
this on the UI so so when you build this
thing and in fact I'm not gonna build
because it takes it takes a little while
to package it you know what I'm gonna
build it because I do have a couple of
minutes so so this is running the embed
inator and the Betty knitter right now
is generating Java API smack API is an
iOS API so you'll see it you know it's a
little bit ugly but we'll get to that
we'll get to that
so as you can see this is generic and
native library this is an iOS native dot
a library and it is going to be packaged
I'm gonna sit real quick to my terminal
where's my terminal I have a lot of this
I'm gonna switch the big one all right
that's not a big one okay this we
completed it's complete and this single
is building this one has to do arm arm
64 arm v7 so it's building a lot of
different libraries for you so actually
let me just go here and Betty Nader and
I hope that you can see this but what
this just did you can see it here it
generated the iOS output right and it
generates a beautiful dot
work package that I us consume so you
can just drag and drop this weather
framework and it has the Heather's right
with the native API right so let me show
you what that looks like this is what it
looks like oh that's not the right one
yes there it is so we generated here a
beautiful macro s API so those of you
that are familiar with Mac OS will know
that this is you you declare the same
object so you consume an objective-c API
here but not only that but we also
generated a beautiful API for the view
right so we have this weather view so
that application that was a c-sharp UI
view native UI view that subclass and
native you have you now it's reexpose
back to objective-c
so everything that you can do with with
the native languages you can do it here
but sharing all of your code and and you
know I think I have a couple more
minutes yes or no okay so let me launch
my Xcode okay as you can see I don't
have the latest but I have the GM which
is good enough and let me go here and
let me do file open briefs in my weather
and this is a native project built in
objective-c right and this little guy
where's this little guy the view
controller it's here right here so this
is calling the API so this is an
objective-c application that is filling
the API and you can see here that it's
referencing the framework I don't know
how to zoom in here so for those of you
watching this you're just gonna have to
believe me but this is referencing the
library that I just created and and when
I run it and I'm gonna run it maybe I'm
errant simulator it might be a bit
faster well let's see what happens here
I'm gonna run the simulator simulator
which one is a good one iPhone 5s all
right this is gonna take a while all
right there he goes there he goes okay
we're gonna have to wait for this to
boot so I'm thinking questions now
all right you're just gonna have to
believe me ah there it is
oh but I I run the wrong thing anyways
I'm not there it is so city what is my
city Boston Massachusetts get weather so
this is the UI view right so this is the
VI view that we just embedded so it's 65
I don't speak Fahrenheit so I assume
that's good we're burning but but that's
it so I hope you enjoy the show there's
a lot more this week and I hope to see
you be very happy without net and mobile
all right let's change gears a little
bit and talk about visual studio and
about c-sharp so that was the embed
inator and this is something else inator
to the coordinator or something so you
know we ship Visual Studio 2017 back in
March or so I don't want to say spring
because it's actually fall in Australia
but we focused a lot on you know
productivity and performance there and
you saw an amazing number of things come
in that were very code focused so there
was those just core performance work
make sure you didn't have to wait as
long for things including like an
install experience that was completely
revamped letting you only get the things
you need huge improvements to navigation
in your code and tell us ins
lots of refactorings lots of quick fixes
lots of things at your fingertips like a
control dot away that would let you do
things inside of your code that usually
you had to kind of roam the menus for
and switch screens you know and whatnot
so there's a lot of focus on that we
introduced sort of as an extension of
that we introduced this whole new notion
of code style as something that
supported in the tool where you can
specify the your preferences about how
how your code should look like is it var
or is it explicit types I'm not
answering the question yet I'm just
saying you can choose and and lots of
things about naming and so on that you
can actually specify somewhere central
and the tool is going to hold you to it
it's going to tell you when your deviate
and it's going to give you fixes to get
back to get back in line
right and then of course there was live
unit testing which was this awesome
thing that would run your unit tests as
you were coding and tell you what was
currently passing which lines were
covered by which tests and were they
actually good or were they bad so that
was really also really strong release I
think and it was important for us in the
update 15 3 which shipped together with
dart nets
- oh and Nick or - oh about a month ago
it was important that we kind of build
on those things and make sure that we
keep pushing on that angle so we did a
lot of different things here again
project files we kept doing work to make
them simpler and simpler you have to say
a lot less now in a project file you've
blobbing and so on and also that they're
portable between the different tools
including the CLI the that you saw
before so also more navigation work more
intelligence work live unit testing
importantly now works with donek or it
didn't in the beginning but if obviously
that's going to be a very important
thing more Diagnostics that alive
telling you about things that aren't
traditionally part of the tool we ship
those as analyzers so we've gotten into
the business of writing a lot of what we
call analyzers rosslyn analyzers that
will tell you about your whether you're
following api guidelines sort of ethics
cup style in fact our goal is to replace
ethics cop with live analyzers so
instead of getting a report at the end
once you build you know you get that
feedback as you're coding so that that's
the essence of Visual Studio 2017 update
15 3 and that's the kind of thing that
I'm going to show you now because no
hang on a second there was one more
thing we also shipped a version of
c-sharp 7 and it wasn't a major version
so it's a major thing that we're
shipping a minor version of c-sharp
because we haven't done that like
forever and this is sort of part of the
idea that we don't actually there's no
big reason why we wait two three years
between versions of c-sharp if we have
something cool
why not ship it if we have a theme
that's cross-cutting between tools
frameworks runtime and language why not
be able to ship language features along
with that theme so we actually went and
and did our first little point release
and the point of this point released
primarily just is to kind of grease the
skids and feel out what does it feel
like to have
release there's some really minor
features in here that I hope you enjoy
okay so now it's demo time
I'll go to my demo machine and what you
see here is a little project I have a I
have a person class because person
classes are apparently in these days and
I have live unit testing running on it
there's a program that does something
with it like a console app there's a
very advanced database kind of framework
here that is optimized for demo and I
have a I have some unit tests so
important thing notice first live unit
testing this is the dotnet core project
so now you're not limited to traditional
done a framework but you can do this for
dotnet core projects as well so very
useful
another important thing with with the
live unit testing is one of the sort of
bottlenecks around it is that it does it
an analysis to make sure that you are or
to kind of map out which tests cover
which lines of your production code
right so that analysis takes time that's
part of the reason why we haven't been
starting up live unit testing
automatically when you when you open a
project because it's it adds to that
time that you have to wait before you up
and running though we went and make
changes so that we actually persists the
result of that analysis and put it in a
file on disk and whenever you stop and
start live unit testing instead of
computing it all over we just we just
refresh it from disk right so if I you
can see here it's it's kind of cheating
because it's a small project but if we
go and stop it and it goes away
immediately that's no surprise but you
come in and you start it again
and boom immediately you get the icons
and of course it takes a little time for
the actual test to run but immediately
it knows which lines are covered by
which tests so that's really useful and
actually enables us if we go and look at
the settings here for live unit testing
it enables us to add an option we
haven't made it on by default yet but
maybe we will an option to just start
live your new testing unload because if
that stuff sits there in a file
that doesn't really add much overhead to
the startup time and so you were able to
update to that as well so that's a
little bit about a live unit testing now
let's talk about some of the just show a
few of those code fixes and and things
that we added as well one thing that so
some of them as I said are part of the
tools some of them are part of analyzers
that we offer as extensions that you can
just go in and install as V Visual
Studio extensions so I'm going to show
some of both if we start out by let's
start out by actually fixing the bug
that's causing these unit tests to fail
I am I didn't just have the bug so you
could see that there were red crosses as
well I actually want to fix it and so
let's look at what's failing here it
looks like the tests are about first
name and last name and the behavior
around when they're being null and
indeed the intention here is that the
middle name should be allowed to be null
because not everybody has one but the
first name and last name should always
be there and so we kind of forgot to add
a test for that in our constructor so
let's go and see there's now a new fix
to add a null check you can when the
type of string you can additional and
you choose the sort of more advanced
checks to see is it empty
is it only whitespace we should probably
pick one of those but I'm just gonna add
the symbol null check because it's so
cool that it uses the new ability to
have throw as an expression that was
added in c-sharp seven oh and the the
null propagating operator which you know
is it's a very neat way of checking for
null and throwing an exception if it if
it is no okay so let's do that for the
last parameter as well and hopefully our
test will turn green yes okay all right
so we fix that one now another one
that's interesting let's go to the the
advanced database here you will see that
there's a tiny little set of dots on the
database here can you see the dots yes
you're nodding
you can see the dots out there on their
screens in the world you can also see
the dots they're a very discreet hint
that is added to a visual studio to
suggest something without kind of saying
anything's wrong it's just sort of like
hey if you want to do something cool
come on over here so we sometimes refer
to it as this much but I think the
official name is the suggestion dots and
what is it suggesting here it's
suggesting that this type is a static
Holda type but it is not static and it
is not not inheritable what that means
is this is we run afoul of a of a
framework design guideline that says
that if it doesn't have any instance
stuff in it it should probably be a
static class and so this is an example
of one of the FX cop rules not a very
interesting one but it's simple and I
can easily show you that is now a live
thing that you can fix along the way if
you if you choose to be in line with
these FX cop rules so I can easily fix
it with a fix that's built in okay a
final one that I want to show this this
is load people async method is async
it's aptly named it returns a task and
so our guidelines kind of say that you
should have a cancellation token an
optional parameter that's a cancellation
token so I'm going to include a
cancellation token here let's see it's
hard to spell hmm I wonder can you help
me I press ctrl dot and apparently I'm
close enough that it finds out what I
mean it suggests a type that's available
actually it could even find it if there
was a new get package that would offer
it and says is that the one you mean do
you want me to install that you want me
to add a using clause and correct your
your typo a along the way oh yeah thanks
cool man so so that's really nice but
also watch what happens when I press
space now ready there's help for naming
you get naming completion and it it
offers some really obvious names but
those are typically the ones that you
want right
and actually the naming follows you are
your coat style settings so if you opted
for having underscores in your names or
whatever camelcase all those things
it'll the suggestions will follow that
so it all kind of comes together so
that's just a little sampling of those
of those chewing things and that's
that's sort of what I wanted to show
there thought we also have some language
features and let's see let's actually
let's stay with what we had there in the
database and let's start looking at the
rows as I said they were small but
they're really awesome okay so also when
I have a cancellation token it should be
an optional parameter so I need to write
a default which means I have to say
classically I have to say default and
then a very long type name right after I
just typed the type name and that's kind
of annoying so we're letting you have
default default to a type that is in the
context if it's theirs we call it target
type default which means that if if it's
being assigned to or passed to something
that clearly has a type you don't have
to say the type again you can just say
keyword default it's small but hey I'll
take it you know and a few more let's go
to the program this awesome program here
you know what really sucks is writing a
console app that uses something async
right because you can't await in the
main method yet so you have to resort to
these things where you call this is the
ugly hack that you can find on a blog
somewhere this is what you do to wait
for the thing that's really a task like
load people async returns me a task and
I do that that's not really nice what I
really want to do is I want to weight it
okay I just want to weight it but I can
only do that if I'm in an async method
well let's make it a sink so you can now
make actually it's not so much that that
main methods can be async it's that they
can now return tasks that's this little
problem that I don't have tasks included
yet
again control dot using system threading
two tasks and you know everything gets
included the way the way I want it soon
so a main method with a task the runner
the the running infrastructure will now
just wait for that task to be completed
before it shuts down that you are your
program again
don't say async void main because then
you know it won't run about async tasks
main let's you just look like any other
async method return a task to the runner
and it will wait nicely let your whole
program run before it actually shuts it
down okay so that's kind of little nice
isn't it come on thank you thanks I'm
only gonna beg for that one okay so find
a little one here I'm a I have a query
here I career over my persons that I got
back from my database and I'm selecting
out a tuple like you you used to maybe
use anonymous types for this you can do
that too but I'm using new tuples and
I'm giving the tuple elements names like
you can but it kind of feels redundant
that this thing is called last name and
I still have to call it last name and so
in in c-sharp seven one we made it so
that just like we do for anonymous types
if an expression that you're creating a
tuple element from has a name it sort of
ends on a name we're just going to use
that name and name the tubule element
for you so we can just delete this and
the tubule element is still is still
called lastname you can see it down here
it's still we still infer the name last
name for that tubule element and I'm
still able to dot into it here as as
part of the code here so that was a
little selection of of things that we
added in the language and in the tool
and I think Scott would like to comment
stage and talk to the next few slides
thank you
top of the door
we go switches lights
so obviously you just shipped out two
core and vs 2017 15.3 download this
stuff today if you're not already
I hope you've already downloaded it but
if not it's out there dotnet slash core
or vision studio calm and next thing we
want to talk about is what are we
thinking next and we have a couple
things that masses we're going to show
and if we have time Miguel's gonna have
a few things as well but I want to talk
about the overall platform big thing
that we care about is inner loop this is
how fast you save something you can
actually refresh your browser and see
the results of what you did
so that's an error we're gonna focus on
building smaller standalone apps Nick
core the whole goal of dynacord
regionally was to have these small apps
and as we added all those api's without
any core 2.0 now what do you make them
smaller again so we're gonna introduce a
linker to let you link out the parts of
doc that's you don't use so you can
build small standalone apps native is
something we still want to look at as
well we we have great tech for building
native Windows applications can we do
use that same tech to build dotnet core
applications global tools is anybody in
the room probably already used npm
install to install something you can
then run on your app like we want to do
that same kind of thing with dotnet so
you can actually go install a new get
package and then just feel that use that
to add a command to the to the platform
machine learning and artificial
intelligence we've got a new section of
our website do tnat if you go up there
ai if you scroll about half way down
there's an AI link with how to use AI
with.net that's an area we're investing
in IOT we have an arm 30 as mentioned
this earlier with an arm 32 version
of.net core coming out later this year
they can run on raspberry PI's and such
that'll be officially supported and then
getting better diagnosis on Diagnostics
on linux but i want to go through this
really fast and let you talk about
c-sharp okay so see that's why I didn't
go upstage because I actually had had
some future things to talk about so
let's talk a little bit about where
c-sharp is headed next
so we kind of got appetite for these
point releases there's a project going
on that's one of those cross-cutting
themes that I talked about which is
about essentially having safe efficient
low-level code so that's not for
everybody but everybody's going to
benefit from
the idea is today you have to
essentially all bets are off you have to
go and write unsafe code if you want to
do decent Interop or some efficient
low-level coding you're essentially
saying forget all about being safe and
just be really careful and do lots of
testing right so you you're sort of in
seal and and and that's all right
but we want to do better we've we've
gotten a lot of experience from some
internal projects in how we can do
better and we've gone and put those to
work across framework runtime tooling
and language and so the idea there is
that we let you represent sort of one of
the core concepts at least just to put a
very high-level spin on it is we like to
represent memory segments that might be
from native memory or passed across into
our boundaries or wherever they're from
and we'll let you do it safely where
they come with a length so you can't go
overboard they come with a special
lifetime handling that that lies in the
language and that makes sure that you
don't persist these longer than you sort
of are allowed to they they don't sit
around in the heap and become stale and
point to something else than you thought
they did so that's going to be a really
exciting sort of collaborative release
across the different stacks and I look
forward to it then there's probably
going to be a c-sharp 7/3 if there is
it's probably going to be about pattern
matching so we ship a pattern matching
as part of c-sharp 7 and there were
certainly things that we wanted to also
do that we didn't do in the first
release either because we weren't sure
how to do them yet or just because we
didn't have time and that seems to be a
good kind of catch-up release and get
sort of more well rounded on the pattern
matching side and then we do still have
major releases here and there and I bet
that the next one is going to be called
c-sharp 8 I'm willing to put money on it
though that's probably forbidden since I
am able to influence the decision so
here we're thinking about major features
and this is just a short list we have a
very long list of major features that
we're thinking about you go to a github
site you can see what's tagged with a
toe that's sort of the list that we are
that's in the running
but I just wanted to talk about a few
here so one is it's a feature that is
sort of gaining popularity and I have to
be honest and say that we're stealing it
but we're putting our own spin on and
it's gonna be really nice which is the
idea that you know the problem that it
addresses is interfaces can't really
evolve because if you add a new member
to an interface everyone who is
currently implementing the interface is
going to be broken right they have they
don't implement that new member so in
order to break that deadlock we would
allow you to put a default
implementation on an interface member we
essentially allow you to put a little
bit of code in an interface that can
sort of express default behavior maybe
in terms of the other members of that
interface and then when somebody
implements it and they do not implement
that new member they just get that
default implementation okay so that kind
of lets you move the interface forward
as long as you tell as long as you say
how people who didn't know about it how
they're gonna deal with that new member
and then everybody who implements it
after that they have the choice of still
just using the default implementation
but also providing a better one for
their specific purposes there's a sync
streams we have we've had a sync for a
couple of releases now it's really good
for distributed programming but
increasingly we see a need to deal with
essentially sequences that are spread
out over time that I a synchronous they
arrive a little bit at a time okay
it's very common you have event streams
you have streams of data that come
across the wire these kinds of things
and so we want to embrace that in the
language where when you have that kind
of a synchronous stream you can for each
over it you could generate a new one
with an iterator things like that so
just like we embraced you can say the
you can say promises or tasks in the
language for with async and got rid of
the callbacks involved with that we're
going to do something similar and sort
of allow you not to have to do callback
based programming for streams and that's
also very interesting but what I'm going
to show you today is nullable reference
types and I'm going to switch to my
demo machine for that one I'm gonna
stare at it for a bit and hope the light
is good here because it went to the
light it's not good somebody turned on
the light thank you there we go good one
so I have the same person class that you
saw before but now I'm running it in
another visual studio way I installed an
extension that is actually publicly
available and we're going to make sure
that you can get the deck and the link
is in the deck if you want to go and try
it it's a little rough on the edges it
doesn't work so well with live unit
testing yet so that's why I have it in a
separate visual studio but this is a
prototype of a feature that we call Nala
barreras types now null is this thing
that it's just super integrated in
the.net world right null is at the core
of the runtime and there's no way that
we could live in a world without nulls
but it's also the source of the most
exceptions by far that people have in
production code so there's a bit of a
tension there and we we want to do what
we can in the language to try to ease
that tension and to actually let you get
a grip on your new usage of null it's
not that null is bad it's that you know
you just have to do it carefully and
safely and we want to help you with that
and the kind of the kind of philosophy
that we apply employee here is that you
can use in all all you want as long as
you tell us about it and what I mean by
that we can kind of see here in the in
the prototype so looking at the person
class you see this one little new
warning here and that's a warning saying
this null that you're passing for the
middle name for the for the string here
that one you can't pass that because
ordinary reference types should no
longer just accept null at least I
should warn you first we're essentially
pushing null out of the reference types
that you're used to and saying I better
not do that keeping those sort of like a
safe space in null free space just
gently nudging you away from that well
what can I do then well one thing is I
can say it's a new operator in town
we call it the
No ignoring operator or something but
it's probably more aptly named - dammit
operator like I do what I want okay it's
not a good solution to the problem the
better solution is to say hey I actually
have a different intent for the middle
name than I have for the first and the
last name my intent for the middle name
to sometimes be null so let's give it a
nullable type okay let's put a question
mark on there so that's a new syntax
there so okay I said that now I can't
assign that to the actual property so
let's go and make the property
nullable as well and now my public
surface area clearly expresses the
difference in intent between the
different properties some are supposed
to be null some are not supposed to be
now and now the consumer can act
according to those expectations and not
only can they act but they will because
we're gonna make them so so let's go and
make them do that so here's the little
program it's based on the assumption
that I didn't verify that Miguel has no
middle name it's not a middle name so so
Miguel hasn't a middle name so what i'm
doing here is i'm creating miguel i'm
getting the length of his middle name
and then i'm writing it out and get
lengths of middle name gets the length
of the middle name i now get a squiggle
because i am trying to assign the
nullable middle name to an unknowable
local variable okay thank you what
should I do about it
well this plenty of things I can do
about it but what I'm not just going to
do is to let it go through and and be
dereferenced without a null checks so
let's make the local variable nullable
here and you see we push the warning
around now the dot is bad because you
can't dot into something that might be
no what can I do about that well maybe
you know you maybe you apply and the
null conditional operator to it but now
I'm returning it that makes me return a
noble and and then I have to sort of go
in and say oh and if it and if that
result is null then it returns zero as
well so that's perfectly now it's null
safe right now we just fix the problem
but the compile is a little smarter than
just as local kind of fixing
another thing I can do is to fix it with
flow analysis so it's a whole flow
analysis just like with with definite
assignment where I can say if middle
name is not null then return the middle
name that length you know then then the
warning goes away because the compiler
saw that you checked it for null up
there and says fine then I don't think
it's null inside of the branch here so
just it does a hole flow analysis there
and now of course I have to return
something else I have to say else or
something I have to return zero
otherwise but another way I can do it is
to say if it is equal to null you know
return zero and then the flow analysis
knows that if you get down there then it
wasn't null because then we would have
returned so we're essentially
recognizing the ways that you already
checked for null you don't have to write
you null checks and new ways in order to
defeat these set warnings it should
recognize your null safe code and leave
you be but if you have a null bug it's
gonna warn you you can fix it you live a
safer life maybe we will see null
reference exceptions and null argument
exception to no longer be the most
popular exceptions in the world and
it'll all be a better place thank you
very much
and now I would like to bring Miguel
back on stage to talk a little bit about
other futures thank you thank you Matt
well that is fantastic
it's been the normal reference types I
have three minutes
I love novel reference types all right
afternoon so I'm gonna go very quickly
so one of the things that we're very
excited about is this launch of the
launch of webassembly which is a new
standard for running code on the browser
that is not javascript so we we've been
porting the monotron time to web
assembly also core RT is being ported
there and there today there's a we have
two modes of operation one of them
compiles the mono runtime and runs an
interpreter that is used for quickly
iterating again big on iteration times
and a release mode where we're gonna do
the full thing that we do on iOS with
linger program at compile your program
we generate a nice payload and part of
what we need to do is is exposed is
exposed to a layer for for you to call
from dotnet into JavaScript and from
JavaScript to dotnet where you can go to
this web page here and the github site
and you'll see the sample code on how to
make that happen
so right now we have both bridges
working one of the things that we have
not integrated working on is a well I'll
get to that in a second so right now
this is how it works from c-sharp you
can call javascript like this so we have
an api that you can from c-sharp invoke
out into the browser so when you're
running or assembly you can call back
out into the dom now as a c-shape
developer this is a little ugly right
there's a string interpolation and
putting things there this is just a
nightmare so one of the things that
we're working on is surfacing this as a
strongly typed API so the strongly typed
API that you love and care about will be
surface to dotnet C sharp and F sharp
and again if you want to go on and try
this out take it out for a spin that is
a website and I am done that's it
so myself Mads and Miguel all want to
say thank you guys very much and there's
a whole three days of content and dotnet
comp we have a lot of great speakers
please enjoy net yes enjoy don't matter
I love you very much thank you for
attending and there's a lot of sessions
and C sharp and F sharp teacher yeah
enjoy the heck out of it so thank you
guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>