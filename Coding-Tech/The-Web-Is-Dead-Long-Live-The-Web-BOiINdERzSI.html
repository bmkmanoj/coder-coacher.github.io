<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Web Is Dead! Long Live The Web! | Coder Coacher - Coaching Coders</title><meta content="The Web Is Dead! Long Live The Web! - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Coding-Tech/">Coding Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Web Is Dead! Long Live The Web!</b></h2><h5 class="post__date">2018-02-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BOiINdERzSI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone thanks for coming along
to the last session before the fun
lightning talks so I know everyone's
exhausted and we'll see how this goes so
I will say it's not on the slide but I
do actually work for Google and this is
somewhat my job so I feel humbled that I
can come to LCA and talk about that kind
of stuff
hopefully it's a interesting talk about
things that actually are quite open we
think the web is a very open platform
and we think that's very nice for a
quick show of hands who is a web
developer who's developed a website you
know HTML doctype so not everyone in the
room actually so that's actually kinda
interesting most people know what the
web is I suspect you may have used it to
get here so the talk is the web is the
debt the web is dead long live the web
which is a bit provocative of course
let's talk about a brief history lesson
so basically this is what the way I
looked like in the 90s this is actually
a site I made for a conference a few
years ago that was intentionally night
he's themed sadly it's not a gift your
the way you'd see a lot of things
flashing right now so the point of this
was really to show that this is how the
web started right it was this kind of
crazy place where people made really
dumb looking things and it was very open
and everyone can do whatever they liked
and it was fine but it was a bit of a
burden in that was a lot of cost what we
evolved into is things like Ajax and of
course Ajax is why we have the web as it
is today this blog post is from it's
just hard to read on the screen it's
from 2005 a joke was X was obviously
around before that but it was sort of
like oh wow everyone can use this it's
pretty cool a web site is no longer the
static thing it's a very dynamic thing
that does something interesting rather
than just showing you pure content and
that's fine right we kind of split web
things into two kind of categories right
now we've got web content and we've got
web apps you know web content being like
a newspaper or whatever we've got things
like web apps which are really like
Google Maps or equivalent kind of things
Google Maps is of course the most iconic
web app it's not really content I mean
it is but you don't access it in any
kind of traditional sense of the word
we've also got things like slack these
days where you use slack and you
honestly forget that it's really just a
web browser it's even more pronounced
when they ship it in things like
electron which is just a web browser so
at the same time we also develop these
wonderful things like Django which kind
of commoditize the web it made the web a
place that you could write a lot of
content very quickly
we went from just having simple you know
brightly colored websites to having
these things that you could run and
install and suddenly have a framework to
write a ton of content or you know share
with other people like maybe this is
like a wiki or something so this is
another thing that we had that was
really kind of a nice part of the web
that we had evolved at the last you know
15 20 years and of course you know I
have to actually include Google Maps as
an example right this is what it looks
like and the question I have for you all
is you know do you think of using Google
Maps at the web site on your phone and
who has done that ok so a few people was
it out of necessity or did you like
doing it so there's not a lot of noise
there right like some people like it but
font fundamentally what happened to the
web was mobile happened right this is
why we thought the web was dead and
you've guessed from a title that I want
to pay to propose to you that it's not
dead but mobile is the thing that
happened I've been informed that there's
an app for that it may actually be a
trademark so I'm hope I will attribute
whoever has trademark that correctly but
this is basically what happened we had
this culture of you had to get a native
app to do a thing you know and part of
that was those native apps had access to
things like special bits of hardware or
magical device api's which did way more
than you would expect from a desktop
quite fundamentally you know we started
having apps because web pages didn't
know how to get your location data they
didn't know how to do compass heading or
things like that native apps let you do
files let's do a lot of cool api's that
were very proprietary you know Apple and
Android 2 brought up these wonderful
ecosystems where you could write super
interesting things with tons of options
and this is why there's an app for that
really became a term that maybe it's not
said these days but it was a popular
term for quite a while and we kind of
know this I could put a graph here but
we kind of fundamentally know that
Mobile has overtaken desktop you think
of anyone new starting to use a computer
or a technological device not just in
the first world but even in the third
world you know that their primary
interaction with that kind of device or
with the Internet as a whole is going to
be on a small screen you know you ask
anybody the classical question if you
only had to have one computer for the
rest of your life what is it going to be
and you know the answer will be
someone's phone of course there's some
debate about how big that phone needs to
be these days but it'll be fundamentally
a phone
so we know that that's the primary way
that people are now discovering the
Internet and this is kind of what
happened and this headline is from wide
in 2010 if you read the abstract this is
I linked to this already so you might
have read this article but they
basically said the web is dead now we
just have the Internet and that is a
commoditized thing that you access
through proprietary applications but
what we see is that 0 apps get installed
per month and of course how is that
possible right like they're always not
you know less than one I had to have
apps on my phone but this is basically
rounded down you know this is obviously
Google stat and we use the statistic in
a bunch of places it's not from our data
I will say but we often repeat this this
figure at best we can find one app per
month right to give the argument
credibility right people do install
applications on their phone you know
they go to a play store they go to an
app store they download them and of
course it's different patterns right
people will like download a lot to start
with and all the numbers come out in the
wash but fundamentally people just don't
install apps and if you're a brand new
thing a brand new bit of content trying
to push your product or service or
whatever the an app is not necessarily
going to make you win big we have some
other stats too right you know 70 upset
instead of 78 percent of time is spent
in a user's top 3 applications does
anyone want to guess what they are but
actually yes the web browser is often
one of them but it's usually not the one
we think about any other yeah Facebook
no prizes sorry that's pretty obvious
yeah also owned by Facebook but still
fundamentally in facebook Instagram
maybe maps or some other thing they do
commonly maybe like you know whatsapp or
some chat application so we have the
start saying that you know even though
people have a lot of apps they
predominantly use a couple of main apps
all the time and as Katie pointed out
web browser is sometimes one of them
it's usually pretty high there's a
similar start which I have important
these slides which show that 10% of
people's time is in a web browser and
that kind of makes sense right it's
still pretty low but it's where people
get a lot of different content another
stat that I haven't put here is that
people tend to stop using their new
applications after about sorry 70% of
people which is a convenient figure
which because it's about the same as
this stop using an application after
three days so even if you get on
someone's
screen if someone's gone through that
burden and this is not what the talks
about but it's an interesting stat
nonetheless that most apps don't get
reused and so the fundamentally the
things I've told you here are because of
this barrier this is not a lemon this is
actually the Firefox emoji for the
sweaty face apparently Firefox OS made a
bunch of emojis before they died and
fundamentally these are these these
these buttons on sites are kind of a
brick wall to use as experiences and
these are the friendly versions think of
the very egregious buttons when you're
navigating you're on your mobile phone
of web web sites showing anti
interstitials saying please get our
application when I don't really care
right fundamentally I just want to get
at the thing I want to get at the
content you know we all know this is
annoying and probably some of us have
built these things because we're told to
we're asked to we have to pitch our
company's application or whatever and
we're told to put that into social
saying we really want to drive traffic
to a mobile app what's the best way to
do that I know let's be really annoying
and the flip side of this too it's not
just about a walk barrier of getting
people to click that button and go to
the Play Store fundamentally the way the
way apps are built the model for for
native applications on your phone is
this right
iOS Twitter and I didn't list Twitter
actually here I'm sorry is about 200
megabytes Android Twitter is about 70
megabytes and I'm not fundamentally
against that right like I use the
Twitter app on my phone it's not a bad
application but it preloads all the use
cases that I might ever want out of
Twitter it can't preload people's
content of course that's all photos and
whatever but it pretty loads all of that
code and logic and behavior and whatever
else it needs but what we see on the
right here this thing called a PWA which
I haven't actually defined yet but let's
pretend that I have is fundamentally the
website version of Twitter and this is
where we go to mobile or Twitter comm
this site from loading to posting a
tweet downloads less than 2 Meg's
and most of that is my friends photos
because I the first thing I see is the
stream and a pre loads a bunch of photos
so if I had no friends wouldn't be able
even smaller which is great it's good to
know that I have friends which is nice
but fundamentally the the flipside here
is that I'm not pre-loading use cases
that I don't care about I'm only getting
what I want and I'm getting it fast
and while Turner Meg's is not even that
much of a burden in the Foss world think
of
third-world think of places that are
developing think of places that have
poor not network connectivity and that's
pretty rubbish right so fundamentally
what I'm trying to get across here is if
you are developing something and it's
for other humans to consume which is the
content or other humans to I guess
consume and use like an application my
argument to you is that the web is the
most open platform we have every device
we have in our pockets can serve this
content can use the content and it
really is the easiest way to share
anything want any one thing with anyone
else without any of these high barriers
to entry and one thing I want to really
highlight is that the reason native apps
are picked up and I mentioned this
before with the kind of there's an app
for that is that this is the prediction
of you of the web we had this idea that
the web reached a lot of people that you
could access it anywhere just just work
through a simple URL and you know for
the longest time you know if we weren't
referrer an early adopter of the web
that's something are used to and then we
were told we can actually have this app
which has a ton of capabilities and
that's something that we have on on a
native app although the reach wasn't as
high because you had to have a certain
platform it had to install an app but
this really check this is what I want to
pitch to you today is that this has
really changed we're now really in an
age where the capabilities of the web
have actually caught up with its reach
which is kind of what's I think is
really exciting and kind of what the
meat of the talk is and this is what I
want to talk about today the sort of
things you can do on the web that you
maybe don't expect you can do although
you know new and shiny and this is kind
of what I was saying I want you to build
better web sites the capabilities the
capabilities we have have caught up with
the web's reach and fundamentally what
that means is things like native API s
and also performance web browsers of ten
years ago were much slower than we were
what we have now anecdotally I was told
a story that chrome at Google was
actually driven by the docs team who
struggled to get their JavaScript
running for their real-time editor in
Firefox and of course Firefox and Safari
and everyone will always always plays an
amazing game right now
you know browsers are amazingly fast and
I'm not going to say that chrome is the
fastest this is one of the driving
desires behind Google building chrome in
the first place which was fundamentally
a faster JavaScript engine we also have
this amazing evergreen browser space who
has to support ie 11 in their jobs ok a
few hands any earlier than I 11 some
some
some muted hands if you're lucky you can
now support things like edge Firefox
Chrome and Safari and these are all
functionally evergreen browsers they get
updates but you can still serve the old
content to old browsers they'll just see
it it'll be a bit weird right that's how
HTML works we kind of know that so it's
kind of the midpoint right what's old is
new again the points I want to make
before we're really you know when
rounded down when you approximate that
no one wants to install your application
right that's I'll peel that all that
it's really hard to fight and it sure if
you're a next new trendy social
application and you manage to get users
to install your app that's great but
that's not 1% or even less of people so
building an app is often wasted or at
least difficult at work for you to do
URLs still mean something and of course
then the final point is the web is not
dead so how do we do this so as part of
my job let's talk about what I do
briefly I'm what's called a developer
programs engineer at Google which kind
of means I have approximate knowledge of
many things part of my job is to give
talks like this and write samples and
libraries but I'm all across a whole
bunch of things sorry things like
polyfills I have an interest in emoji
the whole different topic that I could
go on for a long time I also work in a
thing called Santa tracker who's sort of
Santa tracker yay who's you Santa
tracker who's put their kids on Santa
tracker a couple of hands people have
kids okay that's great I'm glad you like
it
I can't design anything so don't I
didn't draw anything here but we make it
happen the reason I'm mentioning this
site is because Santa tracker is one of
these things we talk about that I sort
of hinted at before which is called a
progressive web app or a PWA and I'll
explain more to pw8 in this in a second
although I do want to show off this
slide because it has a few of the games
we wrote this year and they're pretty
fun so this is my self-indulgent slide
so if you like ski free which is the top
game I mean legally distinct from ski
free to be clear or you like a game
where you parachute into a land and then
try to throw snowballs at your fellow
elves until the normal land which is the
kind of subtle reference to a popular
game last year then you actually go and
play these games right now this is quite
well-received and these are both games
that work well in mobile
although the videos are from desktop you
can see the mouse cursor and watch they
work offline really well which I'll get
to in a second so what is the PWA I've
hinted at this idea
PWA is really a website that has app
like properties and this is a made-up
term I'll get to that in just another
slide but what that meant for Santa
Tracker is that a whole bunch of our
users who used our website access that
website through an icon on the home
screen and that's pretty exciting right
because I built this website of course
it works ballin Mobile has a responsive
design but fundamentally when people use
the site they didn't see a URL bar they
didn't know it was a website and it
actually worked offline really well
something's didn't youtube videos what
couldn't be embedded but we hid those
things from the UI so this is an
exciting you know whole site which is
very complicated and interactive and
something we actually build at Google
that works like a real application and
as a web developer hopefully that sounds
appealing to you because you built with
this tunnel this work you smell this
effort and we actually got quite a lot
of uses out of this mobile experience
and it's something like 10 to 15 percent
of all eligible users on Android loaded
our application through this icon which
for us is really amazing right because
there's a few steps to get there but
those were our most engaged users who
really wanted to come back every day and
use this thing not caring whether it was
really on the web or not but it managed
to me it meant that we could reuse all
that work we went to so as I said Santa
is the PWA and this is kind of a segue
this is a made-up phrase if you haven't
heard it before it's literally just a
conversation piece it's a thing that you
build as an engineer I can say it it
totally doesn't mean anything it's
totally just random words it's not a
came from a good place
but it has a couple of benefits right
it's obviously good to search for and
it's good to see it's good as a thing to
tell your manager investor boss whatever
that there's the thing you're investing
in or spending time on and this is why
we want to you know define it as a
concrete thing that you can think about
and as I mentioned before a PWA is
fundamentally there's a lot of
definitions but for me it's a web
experience that has an app polite
feature set and as we saw Santa tracker
has an icon on the home screen this is
the thing you expect out of an app it
also loads when the Internet's offline
which is the thing you expect out of an
application it can also do more things
that I'll kind of get to in a little bit
but basically we're talking about things
that you would normally expect only a
native app to be able to do through
those api's which as I mentioned have
now really become to the forefront there
are things you can use on the web now
match things that were previously only
available to native proprietary
ecosystems so fundamentally PWA is made
possible by this thing called a
serviceworker it's a JavaScript script
which runs in the background of a page
and it's actually supported quite well
we're quite excited because just a few
days of days ago Apple released their
iOS speeder and they support subs
working now which is really great for us
is for us at Google being there's a
Vince together of these features we can
now very proudly say that this thing
that you build is PWA will actually work
well across essentially all four major
browsers and that's really important to
us um and I have to say I've been doing
my job for the last two or three years
and we've been going oh yeah we'll do it
sometime we hope we great and now I can
literally stand here and say yeah
everyone's on board so this is lovely
right so the things I'm talking about
are real things you can do one basically
every mobile platform and hopefully the
derivative browsers like Samsung browser
and UC browser which are basically just
chromium based also pick up these
features and we see that they take a
little bit of time but they pick up the
same features as well and they're also
very excited um fundamentally the
serviceworker is a script that lives
behind your web pages it's a single turn
right it it runs a bit of JavaScript and
it essentially outlives the lifecycle of
your site so you use it loads of page
they do some stuff the serviceworker
will hang around and listen to events
and respond to things and I'll explain
how that works and what it can do in the
next few slides this is kind of the only
buzz what I have in the whole fray the
whole talk this is the way we describe a
serviceworker publicly we say it should
have or PWA sorry it should be fast
integrated reliable and engaging I think
what happened was someone thought this
would be a cool word to use for an
acronym and we made it fit sadly I
actually want to order them the other
way but let's start with faster because
that's what's first on the list so to be
a PWA we want to be these four things
fundamentally fast some more stats
depending on who you ask
between 20% and 50% of people will
abandon your site if it takes more than
three seconds to load this is a pretty
common idiom we're all bored we're all
distracted there's a squirrel over there
and so this that's really important and
it's super important if you're trying to
engage with someone we already have this
burden
of not installing applications so if
you're on the web don't do yourself a
disservice and take too long to load
just while looking this morning I was
looking for a great article about some
articles about you know new sites or
classical examples of sites that are bad
at this and so I kind of tried to redact
which site this is but the title is why
the web is so slow and what it tells us
about the future of online journalism
who wants to guess how long this I took
to load some one to twelve you actually
spot on Oh actually no sorry it was 15
seconds and it ran a few times it was
once 12 seconds once it was 15 seconds
so this this page to get the content and
if I'm not even on the page right it's
down below somewhere took 15 seconds and
11 Meg's of data I will give this this
site some credit the content did appear
really fast but things were still moving
in a place for about 15 seconds so a
user may not load it although they could
have actually probably accessed it a
little bit before that time was up so
this was kind of the irony here um you
know I could give a whole talk on why ad
networks are you know I work for an
advertising company but fundamentally I
could give a talk about how some ad
networks and some Croft added to sites
or was obviously gonna slow down your
load times it's a whole different time
and place for that kind of talk but
fundamentally this is what's happening
they want to add a lot of stuff to do
value ads but all I want is the article
and it's not even on the front it's not
even on this visible screen fast is
pretty obvious so I'd cover that pretty
quickly now we get a bit more technical
I want the site's to be integrated and
what that fundamentally means is what I
was talking about with Santa tracker so
it may not be obvious but this slide
deck is actually a website that is a PWA
so this is something I spent way far to
log on and that's actually riding a talk
so that's why there's not like crazy
slide effects or anything like that
which maybe people appreciate but if you
add this thing to your home screen it
literally has a picture of my head and a
little title which is great so this is a
thing that a PDA can be it can be
integrated it can have a definition file
which tells it how it would appear on a
user's home screen like this and it also
kind of means accessing native hardware
feeling like it's integrated with the
platform but the thing we want is people
who write content or applications is to
be on a home screen right that's a
valuable thing for anyone who builds
something I want someone to think about
my thing constantly
so I'm kind of talking about web apps on
my home screen is the house as possible
I kind of people often call this Add to
Home screen but what we really mean is
prompt to add on home screen because of
the web as I mentioned before with the
Twitter example for instance
fundamentally what we're talking about
is progressive enhancement getting more
features getting the features that I
want and not the features that you know
I have to download initially or as an
initial burden on my users right I want
to browse or something and get something
as part of that as the user experience
is my site and so we have a few metrics
that fundamentally if you do the right
thing what will happen on these types of
sites is if you tickle the boxes after
at least in chrome right now after two
loads will actually show you this
message will say hey it looks like you
liked the site would you like to install
it to your home screen and this has been
super valuable for us right because we
get a lot of engagement through that
people click that button and then the
user gets a icon on the home screen and
you know I could talk about a bunch of
other case studies but for us at least
building Santa tracker which obviously
is a fun site for kids of all ages as I
said we had a lot of engagement through
this button people would flick that
button and then come back to us
regularly and those users were our most
engaged users via either application
link on a home screen so this is what
you want to see and if you see this like
I guarantee whoever is paying your wages
will be very happy you do this through a
web through a files little web app
manifest I won't worry about the to much
right now but it's a file it's got a
bunch of stuff in it as you might expect
it describes how your app looks like
when it loads so we show a loading
screen very briefly because Chrome or
whatever takes a while to spin up Safari
I think will do the same thing now
though so now they've built the same
features edge for instance on desktop do
a similar thing as well they take some
of the properties and turn it into a
somewhat consistent home screen while we
wait for a HTML engine to spin up and
render render a page there's a bunch of
properties here I can cover some of them
but fundamentally I can ask a few things
of I can define a few properties about
my application that starts from a home
screen I can say you know what is its
theme color which is the color at the
top what is this name pretty obvious do
I want to be at a certain orientation
landscape or portrait and actually in my
display mode which probably the most
interesting one the thing people
want and the thing you can choose is
whether you have a URL bar or not and in
my case for building Santa tracker we
didn't want to have a URL bar we wanted
this to feel like a real native
application that had no way to navigate
but for many people they don't really
care right like you can load in a
browser or what looks like a real
browser as long as the icon is there on
the home screen and this is just a
choice you can make you can even go
actual properly fullscreen to an android
includes hiding the back button we don't
really recommend you do that unless you
have a real extreme use case like
writing a game but some people do like
doing that my favorite site is a thing
called progressive web flap so who likes
puns no one no our very course okay but
my favorite site is progressive web flap
and as you might expect it's a flappy
bird clone that's on your home screen
and it uses fullscreen because yeah it's
a real game right it shouldn't feel like
a website as I said integrated also
means using modern a few guys where
possible right we've got things like
payment request API is other media API
is I won't go into these into too much
detail but fundamentally the thing to
remember is that one of the reasons
we're slow on some of these things and
why these things have taken a long time
is it's hard to get consensus Google has
tried it and other companies have tried
to push proprietary IP to IP eyes onto
the web and I hope this resonates at a
Linux conference but all those API eyes
have typically failed for a bunch of
reasons mostly because they're hard to
maintain and we end up diverging quite a
lot from all those API set up to do one
of the reasons I can only stand here now
in 2018 and say the web is a great place
to build software is because we've done
a lot of legwork on committees on
whatever to make everyone agree on how
to do open web standards and so web
payment up sorry payment request API is
a web standard you can ask users some
money or the credit card works pretty
well and we weren't we're only there
because we've spent quite a few years
you know being on standard bodies
negotiating with the right people to get
everyone to agree to implement it with a
caveat actually that Apple has a
slightly different version that is
mostly you can had a bowl but we hope
they can all get there so a really
common question I get is why can't
access a user's contacts from my website
and this is yet again one of those
examples of something we can't do just
yet I would suggest them some
workarounds if that's something you're
interested in doing in your website but
I think it's one of the things we
haven't got consensus on yet between the
browser vendors so the next thing and
our fire point is reliable and this is
probably the most interesting point
technically so this thing I mentioned
the serviceworker lets us handle and
intercept all Network requests
fundamentally as I said it's a
JavaScript file which can proxy all the
network requests made by your site
it only gets installed after user first
loads your page so you let a page get
some resources and you get this thing
called a serviceworker and this is
essentially a proxy it lives between the
site and the web and I can do whatever I
like in this proxy so I can return any
any file I like any content I want so
installing it it's pretty simple put you
some api's I say yay and this is where
the most interesting slide is that when
I get a work request and this is just
the way any proxy would I can basically
say is this a certain URL if it is reply
with some made-up response which is
usually from a case or something that
I've stored locally or I can respond
with the network with the actual network
request this line at the bottom is
actually totally optional if I don't do
anything then the network request will
be passed through to the network just
like you'd expect in reality and this is
how this talk is written actually is
that you can there's a Castagna
convention for using a built-in cache so
we have in the serviceworker a place to
put a bunch of web content which is
pretty standardized so most service
workers will look like this you'll load
a site it'll handle the install event
which is fine to the serviceworker when
a page is added to your home screen or
in fact even when it's just loaded in
the browser that's that to us is install
it'll run a bunch of code like caching
files aggressively and then below when
we have a fetch request we can say and
the syntax is a bit weird if you haven't
seen JavaScript promises before but
essentially what all this does is opens
the LCH for cache tries to match the
request if there's a response returns
that or if not then I go to the network
so this is basically how a lot of sub
websites are doing this now and this has
a bunch of benefits right not only if
you're offline but these files are now
permanently proxied on a local machine
so if you you know in a slower
connection or slow area then this page
will load really fast if I reload the
page right now it takes no time at all
because it's actually loading entirely
from my cache
and I've kind of hinted at this but the
thing I find really cool about the
serviceworker is that it's not
prescriptive it's totally imperative you
can proxy requests in any way you like
you can go to the network you can go to
the cache you can even race the request
you can say well I'm gonna race the disk
and network hilariously we've actually
found that a network is a lot faster in
some cases we can also generate fake
images I haven't got an image as an
example but one reason people would do
an imperative request that handles their
returns an image for instance is let's
say I'm offline but I want to show a
dummy profile picture for someone's user
profile I could generate that in
JavaScript that could also generate
proxy which listens for that URL and
returns a fake image there's something
that you can totally do and if you're
interested in different ways you can use
serviceworker one of my colleagues Jake
Archibald it's got a blog post on it
it's a long talk yet again I could send
45 minutes on this and we often do and
those imperative things then beget
strategies right you can think about
seeing single files is caching them or
or will go into the network or whatever
but I can you know take everything for a
static site I could cache just the cool
HTML and assets and obviously the
articles might change so I want to let
them fire out to the network
The Guardian does this cute thing which
we offer often site which is if you're
offline it gives you a cross word which
is kind of cute you can case some things
and indicate what's missing which is
good for wiki's because the content is
not changing very much so you want to be
a tax S whatever you can and gray out
links that aren't there right now and
also maybe generate new HTML as
requested this is kind of what I was
saying the reason why this is so
important for this fire analogy is
because being offline is something that
people expect for am a native
application right no one is going to the
browser when they're on a plane that
doesn't have Wi-Fi and said I'm gonna go
to Google or whatever right but if soon
is it that icon is on your home screen
people have an expectation that these
things will work this is why it's really
important to do something and come up
with a strategy of how your site's going
to work what it's going to look like and
how is it gonna feel for the parts that
you can't maybe cache offline um you
know pro most people have dynamic
content how do I present that and you
know how do I catch most of what the
user wants so it feels nice you know
this is often what we call the app shell
and how do I fill in the blanks for
stuff that I can't get access to
on a plane or underwater or something
like that so quick demo time I'm just
gonna you know put my money where my
mouth is and actually drop out a full
screen if I can work out how to that
that's how I'm gonna turn my Wi-Fi off
yay
and turns out actually this is really
unsurprising I just reload it and it
works so this demo was way less exciting
that I thought it would be I also have a
handler called foo and what this
actually does is as well as freaking out
my slide deck template is come on furry
where are you okay Br Oh No
all right sorry alright this demo is
failing let's pretend I was on localhost
yeah so I'm not running my server you
are but this is a hundred centrally a
really boring handler just aside that
you know the handles are imperative that
literally return to fake response after
two seconds that would incredibly add
the delay so you get again just showing
off that service workers are imperative
that's just code that running rates
generates dynamic dynamic content for us
so back to the slides so the last point
engaging we want sites to be engaging
and what that kind of means for our
point of view is push notifications this
is super controversial because these are
really annoying
we know that and we've released this
feature to the world we're now in
literally every web site if you go in
Chrome is like I would like to send you
to push notifications and you go go away
block but we think when they're done
well that they're really valuable to
users to get it you ever good again give
a little bit of a live demo you can see
that I've got a so engaging message that
if the feed at the top there right now
when I hit that button and to show again
how service workers actually work is if
I close this actually close this tab
which is yet again a scary thing to do
it in middle of a talk and I click here
somehow no would it go of this talk so
this is all bad now I want to see the
thing what does it go alright we might
have to punt on that but I wanted to
show that I can interact with that with
that notification even when the site is
closed because basically it's not using
my site to actually do anything it's
using the serviceworker under the hood
to say you know when i click on to open
a new page or response or something or
do something interesting
so that uses a service worker again
because the web itself is going to push
the service worker and send the
notification even without the site being
awake and it's pretty simple in the
service worker I literally handle the
push event and I will do something with
that push event there's a little bit of
work to do with setting up push this is
yet again one of the teething problems
we had from moving from a purely chrome
based thing that we built ourselves to
an open standard so I would basically if
you are interested in doing web push for
your sites whether they be full period
pwace or just this thing you're working
on there's a bunch of libraries out
there which will help you there's a
thing called vapid which is an
encryption encryption mechanism which
basically means that different vendors
like Mozilla and Google can both support
the same clients talking to them pushing
notifications to their clients because
yet again these things work across all
four browsers right now oh actually not
Safari but everywhere else you know we
have this kind of checklist for push
notifications which I'll kind of cover
very briefly we want to be timely
precise and relevant a bonus if you're
doing push notifications is to make them
actionable what that means is on your
Android dev display or in my demo that
failed you'll actually get a list of
options of things to do when you get a
notification this is really basic
psychology but we find that if users
have an action have something to you
know notify a thing I have a camera at
my house which tells me when someone's
walking around or like I have a burglar
in whatever and actually says if there's
a person yes or no and so that
notification is actually prompting me to
do something with it this is something
we want you to encourage you to do if
you do use this tool which of course we
know people don't really like that much
push notifications are a hard challenge
and we're kind of working on the better
ways to surface this and to show that
off to people so that's the bulk of what
I want to talk about in terms of PWA s
but I want to briefly cover some other
random stuff that the web can do that
maybe you didn't know about I always
love this demo which will use my camera
to you know show off the fact that this
is just a thing you can do in the web I
can put my camera anywhere I like and do
something with that
I love the orientation demo but it
doesn't quite work I've got to go to
sensors and pretend like my phone
like upside down and then I will also
turn upside down so I want to firing
this works really well because you
rotate the phone and the image sort of
follows you around the screen which is
quite nice there's something people
don't don't know they can do we also
have this great API called web share
this is basically a thing in your in
your website where you press a button
and the native OS will take over the
sharing intent so this should be a gif
and I don't know why it's failing and I
I'm confused by this but pressing this
button will show a little pop-up saying
do I want to show to Twitter do I want
to share to Facebook what are the apps I
have installed so it's a good way to
integrate your mobile site whether it be
a real PWA or it hasn't a URL bar to
feel like a small part of the system
which is quite nice it's one of those
native api's we haven't had before I've
covered web payments API a little bit
already but fundamentally it's not that
dimmer different right you make a
request the payment application which
might be Google pay or Apple pay or
whatever we'll return with information
to that page so it can make a
transaction happen and turns out one of
the benefits of native app stores has
always been making money and we want to
help people do that on the web as well
we've also got sort of a laundry list of
other native api's that we find kind of
kind of interesting in Santa tracker for
instance we use geolocation but we
actually fall back to geoip most of the
time we found that actually even though
Santa tracker is literally a site where
sent showing you where Santa is and how
long it'll get to your house people
would not say yes to the I would like to
know where you are a button and so for
us we found that the best thing we could
possibly do is to use geoip geoip works
well works best in Western countries
where there's more IP addresses
basically and Santa tracker tends to use
more in Western countries so we were
very happy with that we could say that
you're in Sydney and that Santa has a
few hours to get to you before you need
to go to bed and get some presents but
we do we haven't done this yet but the
plan is at some point to have a button
saying oh this location is this started
not quite right click this button and
then we know that the user gets to
upgrade that experience they get to
improve their experience by enabling an
API which would give you you know more
fine-grained data about the user's
location using a geolocation API other
things we've got WebGL we've got web USB
where Bluetooth audio everything starts
with web so there's a lot of stuff you
can do right now and each one of those
points could be a whole talk in
themselves by
my message to you is that if you want to
do something that's you've traditionally
thought of only being available on
Android or iOS as a native API the
chances are there are some analogy or
some facsimile that's on the web now and
we think it's really amazing finally I
will not finish the talk without saying
that Santa Tracker which has been my
example is actually open-source so if
you want to go check it out you can do
that
the version there is not actually the
one from last year just yet that's all
my to-do list for some time in the next
few weeks but it's the one from 2016 we
did however make a video series about
how we did it and a few interesting
things that you might find interesting
if you do want to look at the source
code and go and build it yourself so we
have a few examples of how we did things
and why we did things in certain ways
there's a few more resources some
attributions but turns out working for
Google I can just say go Google for
things so these are my suggested things
to look to look for and the link at the
bottom of serviceworkers is a site by
Mozilla which contains a bunch a ton of
different really well annotated examples
of how things work in serviceworker land
you know you can do a push you can do it
offline and every example they have has
a great breakdown it's got three files
and you know each section of the code is
annotated so I find that a really great
way to learn how to do offline things or
push things if you that's something
you're interested in doing and that's it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>