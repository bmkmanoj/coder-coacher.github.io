<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>INTO THE WEEDS OF CSS LAYOUT | Coder Coacher - Coaching Coders</title><meta content="INTO THE WEEDS OF CSS LAYOUT - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Coding-Tech/">Coding Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>INTO THE WEEDS OF CSS LAYOUT</b></h2><h5 class="post__date">2018-02-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BIeJNFDXyMI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay hello my computer crashed twice in
the hour before this talk so it's kind
of a race to see if I can finish before
it completely dies so gridlayout got to
be a thing it won't be long it would be
celebrating a year of having grid in
most of our browsers and I think most of
us think it's pretty cool and some
others have even shipped sites using it
already and we've already got a first
public working draft of grid level 2
that was published yesterday I've kind
of given up trying to answer all of the
email I get about grid because I get so
many questions if I answered all the
emails I'd never get any other work done
and instead I try and write articles and
create videos and things to answer some
of the questions that I get and try and
do something that'd be helpful to more
than one person and I've found from
these questions though there are a few
places where people seem to get really
stuck with how grid works and how new
layout works really in general and I
think one of those places is quite
interesting in terms of thinking about
performance and that place is sizing
people are very confused about how big
things are with our new layout methods
they're confused about how grid and
flexbox distribute space and the reason
that's confusing is that we've spent
years using layout methods that are
pretty straightforward when it comes to
sizing because resize things with length
units so pixels or m/s or REMS we know
what 100 pixels is or 10m and we've also
sized things with percentages and that
uses fairly straightforward maths to
figure out dimensions to create flexible
grids we've been doing this for years
those percentages don't look
particularly pretty in our style sheets
but they're understandable as long as
you don't get more than 100 percent no
bad things happen and everything would
be ok and it got easier to be okay when
we got box sizing border-box
and all of that calculating and figuring
things out got that bit easier and of
course you've got all these grid
frameworks that are even doing the
calculating for us we can just say I'll
have three
column's please and we don't have to
worry about the maths at all and then we
got flexbox and gridlayout and they seem
to behave a little bit strangely in this
world where we're used to how big things
are sometimes things get bigger than we
expect they stretch out and we don't
really know why and so what started to
happen is that people started to create
flexbox based grid systems that go back
to using percentages that essentially
constrict the flexibility of flexbox so
back to something that we kind of
understand and even with grid layout
people see the fr unit and think that
that sort of behaves a bit strangely
I'll go back to using percentages I know
how pretenders work and I see this time
and time again in the code that people
show to me they've gone back to sizing
things either the length units or with
percentages because they understand what
that means so pretty much I've declared
this year the year of how big is that
box and all of my talks I'm going to
talk about it I'm gonna talk about how
big things are and why they're ending up
the size that they are because then
they're really important in terms of
working out how to create flexible
layout patterns they are patterns are
sometimes mean we can do without major
queries sometimes that let us get close
to those container queries that we all
want and are very hard for us to
implement you know we can get an awful
lot of that functionality with what's
built into grid layout but when we start
to dig into the spec and we start to
look at what that sizing actually means
and how it's worked out it all gets
rather complicated because to learn
about this we need to start scrolling
down the specification and we keep
scrolling down the specification there's
an awful lot of it I've read it all and
we keep going down and down to those
bits that web developers normally say
that stuff is for browser engineers
that's not for us and right down there
is the part of the spec that defines the
grid sizing algorithm and it's right
down there that we enter the rabbit hole
it keeps going and it's right down there
that we figure out how big things are in
general and you'll be glad to know I'm
not going to line-by-line explain that
to you today you can go and have a look
at it later you can ask me some
questions see if you can catch me out
and there's bound to be things that I
haven't
quite figured out yet but right down
there in the algorithm is is what
defines how the browser works at how big
things are and in that spec it says that
each track has specified minimum and
maximum sizing functions which may be
the same we need to know what the
smallest something can be and the
biggest it can be actually is and there
are three types of sizing so there's
fixed sizing intrinsic sizing and
flexible sizing now fixed sizing is what
I've just talked about fixed sizing is
length units so pixels or M's or the CH
unit or something and percentages
actually fall into that same sizing so
although I think we tend to think of
percentages as being flexible they just
resolve to a length you know you've got
20% of 500 pixels or so on that's an
easily resolvable length we know what
that actually is the browser knows what
that is
so percentages are treated very much
like length units and then we have this
intrinsic sizing well you might be
familiar with Auto but we also have
these new keywords and that's really
where I want to start because tied up in
this intrinsic sizing it's really how
big that box is so Auto if you use Auto
for track sizing it's the default size
for a tracking grid and it can generally
be thought of as being big enough to fit
the content so if you size row tracks
with Auto they'll just grow and all the
content will fit in and you won't get
any overlaps it's a little bit more
complicated than that
but generally if something's Auto sized
it's going to grow and in the content
well sort of fit inside it and not cause
overflow something that is useful to
know about auto and grid is if you use
Auto for track sizing it will stretch by
default unlike all of the other sizing
functions and you tend to notice this
with column track so this is the first
place that people get a little bit
confused because I've got a grid here
and it's sort of as wide as that top
example and I've used Auto for the final
column track and it's stretching to take
up the rest of the space in the inline
direction however the actual size
created by auto
is the one below where I've set
justified content to start and so it's
only taking up the space that it needs
so Auto will stretch and that can make
Auto seems slightly mysterious when you
use it because you're wondering why it's
taking up all this space I suppose it
will stretch by default so the default
for justify content is stretch and
that's why that happens
and so Auto tracks stretch and if you
don't want that behavior you set justify
content to start and it won't do that
so that's Auto but then we have these
new sizing keywords now they aren't only
for grid and main content max content
fit content you can use them where
they're implemented for Strings of text
and eventually should be I'd use them
for flexbox as well but these kind of
highlight concepts in grid layout as
well as being useful for track sizing
themselves so we'll have a look at those
so the keyword min content you can use
that as a track sizing and it will make
the grid track as small as it can be
without the content breaking out of the
track so if you've got a column track
that size with min content
essentially the tea it's got some text
in it the text will all rap it'll soft
rap at every possible opportunity and
get as small as it can to fit into that
track so essentially it will get as long
as the longest word so I've got an
example here I've got three tracks all
set to min content so if any item in the
track has got a width of some sort so my
middle track I've actually put a width
from one of the items so that defines
the min content size you've got a width
that's gonna be how big it is if we've
got an image in there or something else
that's got a size that's going to define
the size in the first track we've got
some text so it's wrapped as small as it
can and that's the min content size of
that track so you can use those keywords
in track sizing they're implemented
everywhere that grid is and so then
we've got the opposite so if min content
makes something as small as it possibly
can be max content makes it as big and
so if you've got a string of text it's
gonna kind of unravel and take none of
the soft wrapping opportunities and if
it's a really long string of text or
it's going to cause an overflow it's
going to break sort of
cause the grid to expand larger than the
actual container size so if we've got a
grid here we've got three tracks all of
Mac's content size and you can see what
happened so where we've got a string of
text that's all stretched out and got as
long as it possibly can do there's a
grid item there that's got a width
applied and to the grid item goes to the
size that you've set it but the actual
track gets as big as it needs to for the
max content size of the biggest item in
that track and this is interesting to
remember it's having to look at the
content here were doing this
content-based sizing we're having to
look at the size of the content to work
out the size of the track and then
potentially the size of the overall grid
and we also have fit content fit content
is really useful because it acts like
max content the content carries on
getting bigger it gets as big as it can
until it gets the value that you've
passed in so you pass a value a length
unit into fit content so you can say fit
content 10m and that's basically saying
act like max content get as big as you
can but if you get to 10 M just stop
there and then the content would start
to wrap like this so columns 1 &amp;amp; 2 are
both fit content 10m the first track
would have more text than would be 10 M
so it gets to 10 M and then it starts to
wrap the second track just has a single
character in that cell at the bottom so
it only gets to max content it gets big
enough to show that single character and
then it stops track 3 is 15 content 50
thick content 15 characters so it gets
as big as 15 characters if you had an
image in there that was bigger and it
was set to max with 100% it would just
shrink down as you would expect into the
track so remember these concepts because
we'll be coming back to this idea of min
and Max content but before that let's
look at the fr unit now this is just for
grid layout it's been designed for grid
layout and it represents a fraction of
the available space in the grid track
it's a flex unit if it's a flexible
length let's this portion of the space
and the grid container
so in a very standard example of the fr
unit we say well I've got some three
tracks here one of two fr and two of one
fr each and so the available space and
the grid container is going to be set
splits into four two parts given to that
first track and one part each to the
next two tracks now like this but this
does lead people to believe that the fr
unit shares out all of the space evenly
you know twelve tracks of one fr should
be 12 equal tracks and it's not quite as
we'll see as we get a little bit deeper
into this so those are all the different
ways that we can size tracks we've got
this handful of ways that we can create
tracks and grid layout so we need to
work out with these tracks that can be
flexible we need to work out the minimum
and maximum sizing function so we know
kind of how small they can be and how
big and we've actually got a function an
ingrid layout that lets us explicitly
state what we want the minimum and the
maximum track size to be and that's min
max which is part of the grid layout at
specification and it kind of gives us a
nice way to think about this minimum and
maximum sizing so if we use min max for
a track then the minimum size for the
track you can pass that in so you could
pass in a length unit and say well I
would like my track to never get smaller
than 100 pixels or never get smaller
than 10m so if you use fr units or thick
content in a way it's kind of like
you're using min max so the minimum size
of that track is auto and then we have
to look and see what the maximum size
will be will stay with the minimums for
now so for MF our units are fit content
the minimum is always auto and of course
you can just pass in a length or a
percentage in which case the minimum
size is the length or the percentage
that you've passed in so if we go to the
maximum size if you used min max for
your tracks yourself then the maximum is
obviously what you send in so that could
be 400 pixels or 20 mm or whatever else
that you send to min max it's not going
to get larger than that
if you use auto or fit content
then the maximum size is treated as max
content remember that max content is
when things spread right out as big as
they can get that could be the maximum
possible size that track would get the
exception to that if you're using thick
content your maximum size is stopped at
whatever size you've passed in so in
this case that's 10m so this is how
grids working out how big everything is
it's basically looking at the min max a
function which you can actually use
yourself and saying how small can it be
and how big can it be and then just
working out the space distribution in
between so you see the simplest case is
if you just set everything you see I've
got gaps of a certain size I've got
tracks that are fixed length unit and
the minimum maximum sizing functions
here are exactly the same if something
is 200 pixels the minimum it can be as
tuna pixel as the maximum it can be as
200 pixels it's just 200 pixels which is
why in the spec it says those minimum or
maximum sizing functions may be the same
because when you're passing in an
absolute like that that's exactly what
they are and this is pretty much where
our float based layout stop you can set
things in sizes and you can control the
size you're usually using percentages
now but but that's kind of where they
stop but with grid we sort of move on
from that and at very least you're going
to want to allow the row to expand to
contain as much content and probably
make everything equal Heights you know
one of the nice things with them with
there's things stretching to the full
height of the row it means all of our
columns go to the same height so the
browser has to work out how much space
is needed to fit the tallest amount of
text and then sort of line everything up
more likely I'm going to want to use a
flex sizing function so I'm going to use
the fr unit to define my column tracts
and then allow the contents to find the
row height because generally I just want
the content to keep stretching down and
this gets a bit more interesting because
grid has to work at how much space there
is to lay out all the content and that
actually might affect the fr unit itself
it might affect the size of the column
tracts because I mentioned earlier that
a set of 1fr tracks doesn't quite mean
they will be equal sized because if a
track is sized with Fr units it's as if
we've used the sizing function min max
auto because the minimum size is auto
for an fr unit with a maximum of one fr
the minimum size is auto so grid gives
the trucks an auto minimum and then
shares out the remaining space in
proportion so here I've got three one of
our tracks but they're not actually
equal width because I've added a very
long word to one of my tracks and that
means it's Auto is bigger than the other
tracks so we end up with this so one fr
does not mean you know an equal
proportion of space it means it gets an
equal amount of space if we've got three
one of our tracks
they each get an equal amount of space
left over after the auto has been dealt
with if you actually do want three equal
tracks you need to do that you need to
say min max zero one fr so then you're
saying that the the minimum size of that
track is zero and then you've got all
the space available to share out and now
of course in this case would cause
overflows because that word is very long
and it's not going to wrap but that
would give you your equal size tracks
and so the fr unit can seem a little bit
unintuitive that's got to be one of the
top questions I get people are sort of
creating like a 12 column grid system
with fr units they put in some content
and they're like why is that first truck
enormous and that's why because it's not
actually defining an equal amount of
space in the grid container is defining
an equal amount of the space that is
left over in the grid container it gets
a bit more complicated in that the price
has to do a little bit more work because
we can of course have grid items that
span over two tracks so if we do that we
go back to our one fr tracks and then we
cause that first item to span over two
tracks we don't need to have that big
first track because two tracks combined
give space for that long word to fit in
so we go back to distributing the space
seemingly fairly
equally and then we have everyone's
favorite trick the ability to add as
many columns as will fit into the grid
container so here we use that repeat
notation and we say autofilter autofit
and we use min max and we say a minimum
of 200 pixels the minimum size of my
track should be two pixels and the
maximum should be 1fr so what this gives
us is as many tracks as will fit into
the grid container of at least 200
pixels and whatever's left over we share
it out between them and so we can get
these nice arrangement of boxes then of
the lines on this so shown it with a
Firefox grid inspector so we can
actually see how many tracks we've
gotten our boxes are then arranging
nicely and as we take the layout wider
we get more tracks more flexible tracks
this is with grid Auto flow set to
sparse so we're getting spaces left as
the boxes are being displayed but we
could also set Auto flow to dense at
which point the browser would backfill
the gaps so we're able to create grids
of a flexible number of flexible columns
pack them densely and the browser just
does this stuff for us it does it with a
few lines of CSS it seems pretty magical
you could create your own tracks using
min and Max content you could place your
grid items and grid will use the size of
those items to work out the size of the
tracks and therefore the overall grid I
don't think anyone's really dug into the
possibilities of this as yet but as you
start to unpack this stuff and if you've
ever tried to do anything close to this
using JavaScript
you're probably thing is this not all
really slow and that's the next question
I tend to get from people is if I use
all this stuff is it just going to end
up awfully slow and janky and horrible
because it sounds like it really ought
to be fairly slow cuz the browser's
having to do an awful lot of work here
and to be honest I didn't know how in
performance isn't really something I
spend a lot of time dealing with so I
didn't really know I'm not particularly
tested it there had been some tests a
couple of years ago by and so on from
agalya who was who was doing their the
work on grid
and I remembered there was an article by
Ben Frey and he tested flexbox versus
display table and this is the article
it's from a little while ago when
flexbox was new and pretty slow and jake
also wrote an article explaining how
slow flexbox was and it's kind of an
earlier version of flexbox things got a
bit faster since then but I like this
article cuz it was very very simple it
was basically just creating an enormous
document and seeing which one was faster
that will I'll give that a go so I
started with bootstrap I mean who
doesn't want 999 rows of bootstrap
markup so I made a bootstrap crea so
this is using bootstrap 4 with flex
layout basically I wanted to have a flex
layout and a float layout and a grid
layout and I thought I'd use tools that
everybody else is using rather than kind
of creating my own specially optimized
or badly optimized well and I just
grabbed something off the shelf so this
is bootstrap and so I created this
enormous document which went on and on
and on and then everyone started talking
about some new framework for float and
flex based and grid layouts ooh the day
I have no idea why we need another
framework for float based layouts but
here we are so I thought well I'll have
a go with that and I used it to create
and if they float based layout exactly
the same again
9 to 99 rows of it and with row wrappers
and so on so very similar to the
bootstrap markup but we didn't have the
presentational classes there and then I
made a grid wanna sort of very simple
grid layout now the only difference with
the grid layout really in terms of
markup and so on is that grid doesn't
need row wrappers in your sort of
bootstrap layout and this column setter
layout you have to have a row wrapper to
basically stop things from popping up
into the wrong rows so the grid layout
turns out to be an awful lot lighter in
terms of the HTML document when you've
got such a big document and so that's
kind of the difference just there is
that you do lose markup and that kind of
reflects reality when I'm developing
using grid I find that I need
just less markup generally I'm able to
get rid of a lot of those kind of
containing elements that were just kind
of holding things in place so I've now
got my three documents and they
basically all look pretty much like this
except they go on for very long time and
I posted them to webpagetest
if they do it's a visual comparison and
it was pretty boring grid loads a bit
faster the Flex layered she was the
slowest I run this a few times pretty
much came out like this pretty boring
but what was interesting is I then
started playing around with my grid
layout and it really doesn't matter what
you do with grid layout it doesn't
matter whether you're using fr unit so
auto with stretch or fix lengths or min
content these would come out more or
less the same and I'd keep running it
and get slightly different results but
it does seem that whatever you're
messing around with with grid layout it
doesn't seem to make a lot of difference
in terms of how this thing was rendering
now it kind of wasn't interesting enough
to take it much further I was like
that's not gonna be very exciting and Z
yeah those documents are in a repo and
get home if you want to play around with
them and maybe animate stuff or see if
there's anything that you can do that
actually just blow it all up it'd be
very interesting to know I'd love to
hear if you do that but while I was
doing this it made me think of something
else that I get asked where is the grid
layout polyfill now the Internet is
asking this question a lot because due
to my site from this post on reddit I
get a whole bunch of traffic every day
masses a master trophy it's one of the
top links on you know top traffic
sources to my site is this thread on
reddit where the Internet is saying
where is my grid polyfill and I actually
broke my self-imposed rule of never
posting to Reddit to go to that thread
and post them a better link than the one
they were all coming through to to
actually find out some information about
it now you do not want a polyfill for
grid layout to polyfill all those
features that I showed you all the
ability to do space distribution to
dense pack things to equalize Heights to
span rows as well as columns if you try
and do that it is going to be horrific
in terms of rendering and I thought well
that might be fun
let's try and polyfill some features and
I thought no I'm not going there because
if I put out anything I mean my
JavaScript terrible
but if I put out anything right as like
don't do this I'll immediately find a
load of people doing it so I'm not doing
that so I thought well there must be
some features of grid layout that would
be would be sort of comparable I thought
well what about the stretch and the full
height columns and no people have been
doing that with JavaScript in the past
so I went and dug up a bunch of these
jQuery plugins and things that have been
knocking around forever I'm certainly
not having a dig out the author of this
plugin and there were loads of them they
all behaved in pretty much the same way
this just this one just kind of worked
nice and easily so I thought well let's
have a look at just doing equal height
boxes on a page so I took the floated
layout example added some content so
we've got a floated layout here and so
we've got different sized boxes because
that's what happens with floats there's
no way to tell box a to be as tall as
box B sort of thing and then I added the
plug-in and I'm gonna play this video
how you might have to wait a little
while again this is on on those enormous
documents I think it takes about 11
seconds to load this is actually a video
and I think it is playing yeah there we
go and that's just for equal height
columns and it's obviously slightly
unfair text we've got 999 rows of that
so I thought well I'll create a smaller
one and I'll pitch it against grid
layout that's 39 rows and that's after
throwing it at web page text test you
can see the documents appear at the same
time the grid version and the JavaScript
version but then we have to wait a very
long time for those things to all jump
into place so that's just the equal
height columns thing if you try and
polyfill all the other stuff that grids
doing I don't think that's going to go
very well I'm sorry
the thing is though you know that those
sort of damage obviously extreme to make
a point and yes you could use JavaScript
to patch up some little bits in the
display if you're careful but the point
is what you don't want is a polyfill
that people are just going to kind of
include in every page and hope for the
best you know in our drive to try and
get things to look the same for everyone
I'll try and get an equivalent
experience we can sometimes start to do
very suboptimal things and these
suboptimal things are worse because they
tend to end up happening in environment
that isn't the main one that we use you
know we tend to have much more powerful
environments and those of our users and
so you can test the site in the target
browser or something that it seems to
work all right I just not to junkie
that's okay
but most the time you're looking at it
on your well powered computer over fast
connection you don't see and work with
the poly field version every day and the
other thing is that when you're doing
that testing it's often not with the
final version of the site with all of
the content that's going to end up in it
so although it might work fine when
you've got four rows of data you're not
looking at it you're not working with it
every day once it's got 50 so we're
doing our testing caneva at a point in
time that's not the same as how people
are actually using it and so please stop
asking this question if you've you know
thought it'd be really nice we just had
seem to drop in these grid layouts you
know you really are barking up the wrong
tree by asking that question because the
thing is increasingly the browsers
without grid are browsers not running on
fancy high-powered devices but those
running on lower powered devices older
computers older mobile devices mobile
devices that are more limited and
particularly those that are popular in
other countries
places like India where you see browser
has got 30% of market share you might
not have heard of UC browser I actually
think that the new version is based on a
version of Chrome that will have grid
layout support but at the moment if
there's an awful lot of people using UC
browser
probably more than you know using things
like I 11 and people care an awful lot
about very old versions of ie but not
about these browsers that are very
popular and and widely used and are
often the only browser that people have
to hand and as it turns out it's not so
hard to support these browsers because
our new CSS is so amazingly lightweight
in terms of the required CSS and we
often don't need a lot of extra markup
we can actually make a better experience
of people who don't have sacred layers
by using grid you know the grid layout
that lets us do a 12 column flexible
layout with all the boxes sort of as
tall as each other that's four lines of
code plus a line of code for each
uniquely positioned item it's not going
to be a problem if a browser that
doesn't see this stuff has to download a
few lines of CSS and we don't need to
leave those older browsers or non
supporting browsers with no layout
because you can create fall backs just
using CSS for older browsers because new
CSS knows about old CSS surprisingly
enough you know all this stuff has come
along and and the CSS written Cooper
like yeah yeah we've still got all this
old stuff how do we deal with that and
how does it work when these things meet
and this lets us build a simpler yet
still usable layout for old browsers and
non supporting browsers and so just as
you build layout tailored to small
screen devices by using media queries
you build a layout tailored to non grid
supporting browsers using feature
queries they're the same thing we're
providing good experiences to users no
matter whether they're accessing content
on a low powered device or you know the
latest MacBook Pro see the things as the
same what features does this device have
what features does this browser have
they work in the same way so if we
consider what happens if our user has
almost nothing we structure our content
really well if that content just loads
in block layout that's going to be
useful for a lot of people particularly
those on small screen devices you know
that's just going to load content one
thing below the other that works really
well now perhaps that small screen
device does have grid this is my current
favorite trick with grid layout am to
create things like lines and so on
either side of a heading without adding
extra markup we use generated content
turn the heading into a grid and then at
this point I'm just putting a border
either side of my heading so I get
something like this in a grid supporting
browser with no extra markup and that's
just a nice little touch now with the
border trick actually you
don't need to worry about the border
showing up in non-sporting browsers
because we it hasn't got a width we've
basically said a border top on something
with no width without grid the fr unit
so what are causing it to stretch if you
were adding something that would display
like a little icon or an emoji or
something either side of your heading
you could do that and you wouldn't want
it to display when you don't have the
grid layout because it would display in
a very weird place so what I'm doing I'm
checking here with with the browser I'm
saying hey do you support grid and if it
does I then do my generated content and
we don't need to worry about the grid
stuff being in with the header because
browsers just ignore CSS they don't know
about so if it's teen it sees some CSS
it doesn't know it just throws it away
it figures you've made a mistake so then
we have mobile with no grid mobile with
grid and the image there well that's
nothing fancy it's a square image I've
just turned into a circle using border
radius don't forget that old CSS still
exists you can do quite neat things with
older techniques as you get a bit wider
I wanted to stay nice to our image I'm
going to float it left and cause the
text to curve round it using shape
outside margin box this is CSS shapes
like this and we don't need to do
anything with that with feature queries
because again if browsers don't know
about it for instance Firefox at the
moment doesn't support shapes
it just gets squared off Firefox will
support shapes very soon I think they're
shipping it sometime this year and when
that happens this is going to improve
for Firefox users and they'll get the
nice shape and then we start to get
wider and I've got this section this
sort of chunky block of text and I'd
like to break this into two columns
now I'm co-editor with a multiple column
layout spec which means I'm not allowed
to ship anything that doesn't include
some multiple column layout so I think
I'll have a go with that and the nice
thing with multi-core is it's a basic
level it's pretty well supported so
let's do column width 15 mm so we'll
only get two columns when the available
space is wide enough to support those
now the problem with multi-core is if
someone's got a very short screen for
some reason like those old EE pcs people
used to have a little dinky little
letterbox your screen what you don't
want is people to have to scroll down
and back up again to read your content
that would be unpleasant so I'll use a
vertical media query checking for height
and only do the multi call if I know
I've got enough space to show it so sort
of vertical media cruise we're very
useful we often think about screen width
with media queries don't forget that you
can also test for how tall the space is
that you've got so then we get something
like this and the columns only kick in
want is enough room for two of them so
we don't need to really worry about
media queries there so to finish off the
article component I want to do something
with the cards at the bottom of the
layouts they're still laying out just in
block layout there I'd like to have some
room for them to display more than one
in a row so I'm setting the resources
there m to max width 60 m and then using
the grid autofill functionality to fill
that container with columns and at a
minimum of 15 M so that means we only
get more than one column over 15 m it
actually means that it will line up with
the multi call elements because I'm
using a grid gap of one M which is the
same as the default for multi calls you
could also specify that with a column
gap with multi Col and so we get this
now that's only gonna work if people
with grid so then I need to make my
decision about non grid browsers now you
could leave it alone if you look at your
stats and you're like well that's hardly
anyone well you could just leave it in
block layout that's actually fine but we
could also use some of our older layout
methods let's try inline block so this
is using inline block and in the feature
query you don't need to override
absolutely anything everything you need
to override the things that will kind of
leak through into the grid layout now
because CSS grid layout understands old
layout and if you've used
display:inline-block and then you turn
the item into a grid item the inline
block just gets thrown away as does the
vertical line property so you can just
use those and then turn the thing into a
grid item what you're going to want to
do is set the width back to auto get rid
of any extra margins and this will give
us something like this now it's not
quite as Niek so if you don't get the
full height columns and so on that kind
of works using inline block means the
cards still run
to write an alternative if you don't
mind the cards going down and then back
up again would be again to use multi
colors of fall back which you do this
nice and straightforward and then you
get your multi-core version and the nice
thing with that as you do it sort of
looks a lot neater so the problem with
multi-core is that it always runs down
in columns which may or may not be a
problem for your content and the reason
I'm showing you this today isn't so much
to show you how to do fall backs with
grid although might be some useful tips
there it's because I want you to see how
little you need to do to achieve a good
experience for all of your users and if
as you develop your site you think this
stuff through component by component
it's a lot easier than if you have to
worry about the whole site or
application at once you know don't wait
until you've built the whole thing and
then go ah now I've used all this grid
and I've got all this broken stuff if
you think about things on a component
level get each component working well
it's then pretty easy to sort of fit
them together your entire layout it's
just a big component that all the other
component City and ultimately so just
thinking about things one thing at a
time you can create really good
experiences people with very little code
we can really achieve a lot with very
little CSS that really is the beauty of
a lot of this new stuff so going back to
so thinking about polyfills and so on
you know in the drive to try and make
new techniques and look the same in old
browsers we can start to do suboptimal
things so kind of the most important
thing in terms of performance is
thinking do I need to do this at all
particularly when it turns out that a
lot of the time the non supporting
browsers are also those on the more
limited devices or where people have got
you know less bandwidth for transferring
data and to do that you need to reframe
these conversation as the discussions
you have with your colleagues with your
boss with your clients the discussions
you have about browser support needs to
be reframed not to how do we make this
look the same but how do we give a good
experience we want to make the
experience of everyone using our
application our site good it doesn't
have to be the same as
the person on the top of the line Mac or
whatever and I think we're in a better
position now to provide great
experiences than we ever have been and
certainly don't let lack of support and
some browsers hold you back from trying
out all this stuff and from you know
creating fantastic experiences with grid
or any of your the new CSS that's coming
along but likewise don't let you
enthusiasm to do that and let you leave
other people behind cuz there's no need
to I think it's become you know it's a
bit of a sort of a trite thing for the
conference speakers to come along and
say you know the web is for everyone but
you know I truly believe that I've been
doing this for over 20 years and I am
NOT here to build shiny toys for rich
people I never have been and even the
way that you know this medium has been
used for some not great things of late I
still do believe very much in the power
of the web you know to change lives to
allow access to content to allow people
to learn and to share and I think that's
the thing that you know fifthly and
everyone it's smashing also believes
very strongly and it's why I'm so
pleased to kind of be here and be
involved with smashing so thank you very
much for listening all of my slides and
everything else of online thank you
thank you thank you so much Rachel that
was great all right how you feeling
yeah good it's good to get over with
early in the day I think yeah so I have
a few questions here my first one
relates to sub-grid so I've been hearing
about this term subgrant kind of
floating around on the Internet what
does that mean and what what like when
is it coming with the future
okay so sub-grid really is at the moment
if you declare a grid layout only the
direct children of that grid layout can
be positioned on the grid so things
nested further into your structure you
have to declare a new grid and so
they're all sort of independent the idea
of sub grid would be that you could
defend declare a grid or an overall
container and they're not just the
direct children but things nested inside
them could also participate in grid
layout which be pretty neat because then
you could have you know a twelfth column
layout and things that were you know
inside a form for example could also
layout on the same layout so that
sub-grid that's really what level two of
grid is about is about cracking the so
good problem and working out how to do
it cool so you did mention a lot of sort
of performance profiling of grid on
initial paint layout do you have any
information about what how grid effects
content that's added via JavaScript or
dynamic content on the page that's added
later so a bit of a fiddle around I
couldn't find anything that was
outstandingly interesting or evil as I
say it's probably worth it if so much to
spend a bunch of time messing about with
that sort of stuff it'd be interesting
to see particularly once we get I think
gaps have been made I'm a table by big
awliya and recently so hopefully we'll
start to have the ability to animate we
should be able to animate tracks and
gaps basically but only in Firefox you
can at the moment so that would be
interesting to see how that all behaves
as well do you have any sort of rules of
thumb when it comes to friend developers
deciding between using flexbox or a grid
for layouts really it's I mean flex
boxes for one-dimensional layouts if you
have a bunch of stuff and you just want
to like spread it out along a line along
a line or you know either a row or a
column that's a flex layout if you want
to kind of create a structure and fit
things into it and then line up in both
rows and columns at the same time that's
grid I think the other way to look of it
is do you want to declare the whole
layout kind of from the container
because if you're going to do that you
want to use grid so you can say this is
the layout and then everything is going
to fit into it
whereas flexbox is very much about
individual items kind of pushing each
other around so it really depends on how
you want to create that layout try both
you know see which works best so one
last question if you did have to support
order browsers say ie9 how would you go
about thinking through the layout like
would you think grid first would you
think about how to progressively enhance
from floated layouts and these days I
tend to work from both ends so the first
thing I do is make sure I've got a good
document structure because that's what
people have if they have nothing else
and then I decide what my top of the
line layout is because I think the
danger of starting with the floated
layouts
starting with the minimum and kind of
enhancing it is that you just sort of
stop at what is possible before what's
possible in the old layout so I'll get a
good content structure I'll then do my
grid stuff and then I'll say now how do
I make a decent experience for ie9 and
I've been in that situation am the / - I
works back to i9 and we ship the foot
purchase liebe for grid was a thing so
it's all flex layout but that all works
in i9 but we use masses and masses of
flexbox I use display table a lot in the
perch you I to fix bits up but yeah I
kind of make sure the contents there and
then figure out how you really want it
to be and then work out what what you
need to do few older browsers depending
on what you want to support cool thank
you so much Rachel</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>