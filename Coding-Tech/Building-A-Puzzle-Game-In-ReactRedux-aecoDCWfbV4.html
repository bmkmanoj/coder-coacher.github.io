<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building A Puzzle Game In React/Redux | Coder Coacher - Coaching Coders</title><meta content="Building A Puzzle Game In React/Redux - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Coding-Tech/">Coding Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building A Puzzle Game In React/Redux</b></h2><h5 class="post__date">2018-01-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aecoDCWfbV4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name is Mims everybody and I made a
game with reactant Redux just to try it
out and see how it works it's a basic
retro puzzle game and I'm going to show
you what it looks like now so perhaps
you're seeing something like this before
yeah that's my game every game has
something called a game loop in it and
it's basically some functions that run
that are just on a loop that are
constantly looping as long as the game
is running probably the most important
of those functions is the update
function and this is going to just
update the state of the whole game so
you're doing things like evaluating the
user input you're calculating the
positions of pieces updating the score
and so forth and then the update
function is going to call draw and draw
is responsible for just rendering
everything that's in the state to the
screen the last step is weight but
really what we're trying to say is that
we're going to constantly loop so in
JavaScript we're going to use
requestanimationframe for this and
that's the basic idea that we're now
going to try to cram into react so yeah
I showed through this before we have
update then draw but when we moved to
react instead of calling draw directly
from update we're actually going to call
react Dom render and then let react
handle the draw inside of a component
did update so it looks kind of like this
you have component did mount and
competitor 2 did update that's going to
handle both that first draw and then
everyone after that and I really thought
this was going to be super difficult to
implement but it turns out it just works
is really easy so let's see how we might
move the game state and to react for
this game so this is where we were doing
react Dom render from the update method
when we add Redux were actually going to
do it basically like you might expect
we're going to dispatch actions from the
update loop and then that's going to
pass on to redux which is going to
update the components and our state is
going to look something like this we
have the game board where the whole game
is played so this is going to be a
two-dimensional matrix which is an array
where every item is an array
containing numbers for each of the cells
in the game and I'm also going to model
the various pieces as 2d arrays with
numbers for each different color and of
course the first thing I did is try
making some really crazy shapes but I
soon realized that there is a reason
that those are not in any original games
so matrices really make it easy to
detect collisions and combine multiple
matrices together and of course in real
life the code doesn't move around on its
own it looks sort of like this we have
detect collision at the top and we have
combined matrices at the bottom and I
can't really go into all this right now
but you can take a look at this slide
later if it's interesting to you and
this is actually our whole state tree
that we're looking at here we have some
numbers for the score and the level we
have the game state whether it's paused
or running we also have an object
representing the next piece and the
current piece that you're controlling
the game board of course and at the
bottom we have a config object that just
lets us set some real time settings
while the game is running so you're
probably wondering should I be using
react for a game for my next game and
maybe it could be good for games with
discrete States like this game or with
maybe a board game it could be good for
games that are rendered entirely in the
Dom or for creating the UI around the
game but for most games that's probably
not going to help you that much however
I hope that if you have to learn
something new that you get to make
something fun for you and if you want to
play with this game I look at the source
code you can do that here thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>