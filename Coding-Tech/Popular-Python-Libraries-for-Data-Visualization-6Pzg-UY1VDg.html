<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Popular Python Libraries for Data Visualization | Coder Coacher - Coaching Coders</title><meta content="Popular Python Libraries for Data Visualization - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Coding-Tech/">Coding Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Popular Python Libraries for Data Visualization</b></h2><h5 class="post__date">2017-09-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6Pzg-UY1VDg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm going to talk about visualizing data
in Python and this is going to be a
fairly pragmatic talk about Python
libraries because if you're like me you
probably have a toolset that you use to
do everything and you hear about all
these other options and you don't know
whether you should take the time to go
and check them out and maybe change what
you're doing so I'm going to talk a
little bit about some libraries and I'm
going to flip over to the notebook and
do a demo I'm not gonna tell you what
Jupiter is cuz probably everyone in this
room knows and if you don't you'll see
it I'm not going to talk about pandas is
because did oh I will just say though
that Jupiter is probably a driver of
some of the interactivity we're seeing
in libraries these days because so many
of us now to our our data exploration in
the browser okay so here's the data set
I'm going to use as a demo this is the
national electronic injury surveillance
system it's got some fields that are not
listed here but here the fields I'm
going to actually use so this is a
panda's data frame or a spreadsheet if
you like every row is an incident and
injury incident and people these
incidents get reported what product was
involved in the injury it was planned at
the point of the database so you can see
we've got the age of the patient they're
their sex the date it happened on
product so there's the floor there's
basketball but it's ceilings and walls
where it happened what body part was
injured and the nice thing about this
one this is what kind of way I chose it
is that for most of the incidents we
have a little narrative and that's nice
for demonstrating some visualization
features so a 17 year old complains of
hand pain after punching a wall in anger
right
you can't you can't block that stuff but
if you have interactive visualization
you can explore it so just really
quickly matplotlib I'm sure everyone
knows of matplotlib is the oldest of the
plotting libraries in Python really it's
been going a long time it's still going
strong but usually now it's underpinning
something else it's original API was
invented to mimic MATLAB because it
helps people to switch over which is
probably not the interface we would want
now it does have an object-oriented API
sometimes it's hard to find in the
documentation how to do things one way
versus the other way it's very powerful
you can kind of do almost anything you
want in black blue but sometimes it
takes some effort and it's probably
worth mentioning that matplotlib 2.0
came out this year and matplotlib is now
a lot prettier by default so it's
updated the fonts the color schemes it's
colorblind friendly it doesn't have
black lines around shapes by default all
that sort of stuff
I won't spend time on that so the first
thing I'm going to show you is Seabourn
and then I'll show you a couple of
interactive things actually I'll tell
you now what I'm going to show you I
want to show you
Seabourn bouquet and holidays and I
picked those because I found them
interesting and they feel very different
niches I apologize if I'm not going to
get to your favorite tool or your tool
and if I have time I hope I'll talk
about some of the others but not
actually demo them there's definitely
others that are interesting on here so
focus there a lot of uses there so the
niche that seabone fills is it's been
around for a while it builds on that
plot layer but gives you all the control
that matplotlib gives you because you
can always fall back to matplotlib and
manipulate those objects directly it is
static unless you use something else to
add interactive activity onto it it just
gives you study plots it's very pretty
so you kind of get publication quality
graphs out of box with not a huge amount
of effort so let's switch over to a
notebook already and start looking at
some data now is that legible do I need
to make fonts bigger I think that's
probably okay
so this is our data frame it's got a few
fields I've added this incident count
field here which is just one everywhere
every incident has a count of one it
means that when I want to do some
research sticks the names of my fields
will make a bit more sense so to start
off let's ask a question like what
products injure people most often just
make a bar plot in matplotlib and you
can see that people are most often
injured by stairs I should say I've
there are lots of products in the dust
database I've restricted us to the top
12 just so I don't have to fool around
with that while I'm doing demos they are
second the second culprit is the floor
third culprit is basketball which I find
really impressive there must be a lot of
basketball going on and then beds and
then knives
and this is a straight matplotlib plot
you can see it's a lot prettier than it
would have been insane last year
matplotlib now has context managers so
if I switch to the classic style and
remake this plot you'll see this is this
is probably older than last year but
this is what men thought they looked
like once upon a time right it's pretty
clunky so looking at see born in that
flat Levi's kind of I had to add up all
the numbers myself to get a bar plot it
doesn't do that for me and then I had to
specify where the edges of the boxes
should be I had to say the bottom of
each line should be here and the length
of each line should be for some of my
counts and so on in Seabourn it knows
about pandas so I just say my daughter
is this data frame my y-value is I'll
pick the location my x-value is the
incident count and please add them up
right and I get this plot of where do
incidents occur and as they're always
telling you most accidents happen in the
home it looks like so home is the number
one place sports places a second
all right if I wanted I could go back to
our products and see that I could put a
huge power meter on so I could say give
me different colors for males and
females and it doesn't that Lesley you
can see that men get more injuries from
basketball women get more injuries from
stairs my personal theory is high heels
which evolved but maybe we could look at
narratives and find out so it's fairly
easy to make for instance something like
this let's say what parts of the body
two people injure with different
products using a heatmap
knives usually injure fingers the floor
usually injures the head the ceiling or
the wall probably the wall right usually
inches either the head or the hand and
the basketball usually injures your
ankle
let's do stairs so it's a heatmap and a
few things you can see here is that I
didn't do much and it's very pretty
Seabourn is automatically detected that
my numbers are positive so it's used a
continuous color scale from light to
dark rather than a diverging color scale
with two colors because I don't have
positive and negative data it's rotated
the axis labels for me everything's
legible it's nice like I could I could
put this in a paper write me a couple of
lines I'm just going to skim through
stuff because I don't have enough time
to spend on c1 by itself we could ask
how old are the people who get injured
by different products young people
injure themselves with basketballs and
footballs older people injure themselves
with chairs and floor and finally last
one I'll do for c1 this is a joint plot
it's just an example of putting together
a fairly sophisticated visualization
very little code it puts a histogram on
each axis and some kind of scatter plot
or density plot in the middle so here
I've done the day of the month so this
is one month in December and I've said
what day of the month did the injury
occur
and how old was the person just because
there's the continuous variables that I
had available to me you don't really
expect that age will vary with day of
the month but in fact because this is
December we can see that something
happens over Christmas which is that
young people stop injuring themselves so
much over Christmas which probably is
because they stop playing basketball and
I could have made this scatter plots but
it would be awful because it's the
classic problem of over plotting right
it's there's too many points in the data
set so some kind of density plots makes
sense hex is nice there's also a kernel
density estimation that will give you
contours okay let's go back so you won't
get to anything else so Seabourn is
really pretty but it's totally static
bokeh is an example of a library that
has interactivity built in every plot
you make is interactive at least a
little bit chips it's really a framework
it's all encompassing it ships with its
own JavaScript library has its own
widgets and things it actually gives you
quite good low-level control even though
it's not built on that lip they've
implemented my level control pretty well
I'd say one eye weakness if at the time
that the plaque on us talked was given
was that it couldn't export to SVG but
now it can and I'd say compared to I
think a competitor it's plotly it's
probably in the same space possibly be Q
plot Altair is up and coming one
weakness of Boquete perhaps is that the
BK charts package has less built in plot
types then it will just do for you than
some of the competitors like what Li but
of course that changes and one strength
of Boca is that other libraries have
built on it all of uses as an example so
that kind of gives you the higher-level
libraries so let's just quickly do a
couple of examples of that
so in this is the basic way that you
make a plot in book here I've said now
this is the bit where I start to get
nervous about Internet connectivity and
everything they do JavaScript demos in a
notebook I've said draw me some circles
make the x-axis the day and the y-axis
the age so it's conceptually the same as
this I've just taken a random subset of
my data so that it will work so that I
don't have too many points and I can
demo it so we get just a scatter plot
but because it is a JavaScript based
library there's automatically a pen tool
and a zoom tool even if I don't ask for
any other forms of interactivity and
it's pretty painless to switch on some
other forms of interactivity here I've
switched on a couple of different things
one is I've done male and female as two
different elements of the legend and
I've turned on the legend click policy
hide
so if I click male all the male points
disappear the other feature I've turned
on is a cover tool and I've said please
give me the narrative in my hover tool
which means hopefully if I hover over a
point I can see the narratives right so
we can choose whatever we want this is
an astonishing number of hand injuries
of the ones I didn't see that one I'm
gonna take your word for it
we are short on time so I may skip over
this there's a be ketchup package charts
package which lets you do higher level
stuff like heat maps and bar plots and
box plots and so on and one one thing
that is worth demoing is that it's
really easy in bouquet to link up to
plots so here when I made my second I've
got two plots if you wanted me to when I
make my second one I'm saying the X
range should be the X range of the first
one and the wiring should be the wide
range of the first time one so I've done
one for basketball and one for stairs
and the consequence is that if I pan one
of them
the other one should pend - because I've
specified that the x-axis should be the
same and if i zoom one of them the other
one should zoom - right there's also I
haven't got a demo of it but it's very
easy to link up what so that if you
select points in one the corresponding
points get selected in the other all
those things are really easy it also
ships with widgets and things to do
really sophisticated things with widgets
you need to not be using just a notebook
you need to run a boca server or you
need to write custom JavaScript
callbacks all right so I've got some
slides on portly and bq+ and I'm
actually not going to talk about them
unless we have time at the end you can
ask me questions later because we are so
rushed but I do want to show you and
demo Holub use because it's kind of
feeling in each step so far as I know
nothing else is really filling filling I
found it very interesting their slogan
is stop putting your data and I take
your data and let it visualize itself
which I found mr. playing but what it
really means to me is that once you've
set your data set up the code to produce
a quite complex visualization is very
concise so the idea behind all of you is
the reason it exists as I understand is
that if you're exploring your data you
don't want to write 20 lines of codes
get a nice visualization because it's a
distraction if you're producing a plot
for an audience it doesn't matter but if
you're just getting Cure and exploring
your data and trying to understand
what's going on pausing and writing 20
lines of code just to make a plot it
gets in the way holla bees uses other
libraries to do with actual rendering so
it can render to matplotlib it can
render to okay if you render to
matplotlib you get the advantage just
matplotlib like although they're pretty
controls if you render to Boca you get
interactivity I believe there's an
experimental renderer to katli its main
drawback if you feel it as a drawback is
that it's quite a learning curve because
it is different it's different
conceptually and syntactically so of all
the libraries I learnt in researching
this talk this one took me the longest
but I'm glad I did so I guess that's the
trade-off right that's whether you're
trying to find something that you can
just get into really quickly or whether
you want to do something
that's powerful but you need to maybe
put in some time to get your head around
it so I'll just show you a couple of
things that it can do so I hope this is
legible I can make it bigger if it's not
at the back of it no one's complaining
okay so the first thing I have to do is
I've got my tabular data I'm actually
gonna sub sample it slightly but okay
most of the points I need to make a
whole of use data set and I need to i've
got k diems k diems are the things i
want to look up my data by i might want
to slice it on them or facet into
different plots based on these variables
or color the points differently based on
these variables so I've put in sex what
is the product of me and what is the
body part that's my variables that I
want to go to look up Vadim's
the variables I might want to plot as
functions of these other things that's
the rough idea and so I've put in age
and day an incident count and narrative
once you've made your data set it's got
you can kind of look at what's inside it
right it's got all these things you can
see the data that originally made it and
all its parameters but if you want to
render something here I'm making a
scatterplot so first I've said just for
now throw away some of the variables
because I want to make a simple plot
first so just keep these dimensions and
then I'm saying make a scatter plot of
day against age which is what we did
before and the first thing you'll see is
there's a widget here and the reason is
that one of my dimensions was product
and I didn't tell hall of use what to do
with that dimension and I didn't use it
in my plot so howl of use automatically
turns it into a widget that I can select
from so every Kadem is here to look up
your data in some form or other either
it's inside the plot or it's a widget to
go over your plots so here I could
switch between basketballs
and doors this was day against age right
so we saw that basketball injuries fall
off over Christmas
I noticed when I was exploring this that
knife injuries seemed to spike over
Christmas I assume people are preparing
food stairs and steps so you can see
there's a kind of a different age
distribution for these things and in
some cases a different date distribution
so I'm going to repeat this but this
time I'll keep all my variables I went
through some away I went simplify it so
much and here I've used overlay six so
overlay means I want to see male and
female on the same plot and basically
they'll just be different colors I'm
slightly nervous every time I hit
execute because if we have a Wi-Fi issue
or something it's all it's all
JavaScript based it's thinking all right
okay so I didn't throw away any
variables so we've got both product and
body part are left over and so they've
both been turned into drop-down widgets
if they were numerical variables they'd
be sliders but because they're
categorical variables they're drop-down
lists so now we could ask for instance
oh and sorry I should point out I also
said in the specification of how to how
to present this plot I said turn on the
bouquet hover tool so I said render
easing the bouquet back end and provide
me with a hospital so now I can say how
are all these people using the wall to
injure their hand
they are this one is punching the walls
this one is punching the wall punching a
wall so and it's fairly young people who
seem to punch the wall or at least you
know not younger than middle-aged people
both genders but you can see it's nice
right I there were very few lines of
code involved in this there's basically
one line of code and I can ask questions
like when people are injuring their hand
with the wall what are the narratives
and I can explore it interactively so
I'll show you one more feature of all of
these and then I'll stop there are more
features what I've done here if you look
at when I actually put it I've said bars
plus scatter that means I've made a an
elements called bars an element called
scatter just put them next to each other
and the reason I'm making this bar plot
is I want to say well when I'm up here
when I look at say how are people
injuring their eyeball with the wall is
not many points right so I would like to
know for that for the products I'm
looking at what what parts of the body
are people enjoying with that product
which of these drop-down lists are
interesting which ones should I bother
to select so I've made a bar plot to say
aggregate over all the other variables
and just show me how many people get
injured on each body part for the
product I happen to be looking at now
and I won't go through the syntax and
when I say plus you can see it just puts
them next to each other it still gives
me the variables that I haven't used in
this case the body part actually is used
in this graph but it's not used in this
one so when I change the body part the
left hand graph won't change but the
right hand one will right so on the left
hand one here I can see that for
basketball it's usually ankles fingers
they're a bit of head and knee right
that's getting injured and so I could
choose that and then I could mouse over
to say how are people injuring their
ankles when playing basketball
ah we're nearly at time so I'm gonna
stop showing you things um there's other
nice features of a home use I guess the
the take home thing is the syntax is
different just stuff you may be used to
but it is very concise like I said I
might data set and I can do all these
things really well so in fact in
Tennessee's talk what would be good into
that I had two fun this would be
excellent so long as you already know it
well you wouldn't really learning this
in a data hackathon but it would be
great for exploring it that up alright
so let's go back so we've got five
minutes I'll use those five minutes
firstly to say this I think that this
may be what people really want and it's
a scary slide to write because it's very
personal
right and everyone's opinions differ so
these are just my suggested starting
points if you want to produce static
publication quality graphs I would
recommend C bond if you want to get
started with interactive plots and you
don't want a huge learning curve then I
think bouquet and plotly are both really
nice they have slightly different
strengths and weaknesses well Altair is
fairly young and its documentation is
fairly young but I think it's going to
be really interesting I didn't talk
about it much firstly because it's young
and secondly because Jake Vander pluses
involved in that project and he talked
about it fairly extensively in May so
you can go and watch his talk and hear
all about it
um I think plotly has the feature which
may be positive or negative in that has
this business model which may be a good
thing depending on what what area you're
working in whole of users invoker is
really good for interactive data
exploration I didn't talk about it but
there's been a lot of talk about data
shader recently as a way of handling
really large volumes of data when you've
got like millions or maybe billions of
points you can't just put those on a
graph because of performance and also
because of over plotting right once your
plot points get to a certain density you
can't see how many there are anymore so
you need something that works out
appropriate binning or density rendering
of your plot and
since the pixels to the browser not the
points and data shade is one of the
things that does that another is I don't
know how to pronounce it
they X and I've got to say that as we
get towards the bottom of the graph
these are less things that I have
personal experience in and more things
that I hear people talking about I don't
really work with geographical data
myself people have talked to me about my
leaflets so actually after this in the
questions if people have particular
recommendations especially for those
bottom couple of things maybe you could
share them and this very last thing this
is really interesting and I just didn't
have time to fit it in there's a few
things that let you build your own
dashboard or your own web app that
explores data where the front end talks
to the back end and it's pretty much a
fully featured app but it's very easy to
write plotly - is one that came out not
too long ago and people really like it
boki server fills a similar niche be
couplet I wish I had had more time to
talk about what it's works closely with
IP widgets which are the Jupiter
notebooks preferred way of doing widgets
so you know sliders and drop-down lists
and things putting a bigger pot pot
together with widgets and wiring them up
is a nice way to get a dashboard as well
and it's probably the most notebook
native way to do it right it's not a
standalone web app it's in the notebook
so I guess how long have I got
I've managed to rush through things
slightly faster than I thought so I'm
going to go back this is one I didn't
get to talk about what we it's been neck
and neck with Boca I would say in some
sense in that some people like it more
and some people like it less it has a
declarative JSON schema not Vega or Vega
white but its own schema and like like
pretty much anything that has a
JavaScript library at some point the
Python library has to specify the plot
as an object and hand it over to the
JavaScript library and in the best cases
that Sun in a transparent way so that
you can see the
specification and modify it and it's a
declarative object and it does do that
it was originally something very much
based around online use but they've now
kind of fully open sourced the
JavaScript library you can use
everything offline I think there may
still be some restrictions on unpaid
accounts possibly exporting to certain
file formats and it's cross platform so
it's quite nice if you're getting
started quickly and it has the chart
types you want it probably doesn't give
you as much low-level controllers by
okay that's my my feeling B key point I
was just talking about it's very
interesting it's much more lightweight
than say bouquet it's and it's probably
not intended for huge quantities of data
all right I have to stop but it's not
intended to do everything it's intended
to work with I fly widgets and other
libraries to accomplish what it
accomplishes okay so I think my friend
out of time so I'm just gonna say what
have we learned</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>