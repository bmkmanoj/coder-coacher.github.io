<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CSS Media Queries Level 4 | Coder Coacher - Coaching Coders</title><meta content="CSS Media Queries Level 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Coding-Tech/">Coding Tech</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>CSS Media Queries Level 4</b></h2><h5 class="post__date">2018-04-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7qGX8fhokQ0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm gonna talk about one specification
media queries and specifically level
four let's talk about the basic parts a
little bit to make sure we're all on the
same page first this started a little
bit in internet prehistory with CSS 2.1
and HTML 4 that's where the beginning
was and people saw that it was good so
we made a bit more of that media queries
level 3 which is what pretty much of all
of you have been using for the last few
years and since that too was good then
people used it we kept going media
queries level 4 as a specification is
just done it's just ready browsers have
started implementing some parts of it
many things I'm gonna talk about today
are specified but not implemented so if
you like what you see go tell the
browsers that you want it bug them file
bugs file all tweet to them tell them
you want it and if you don't like it
tell me and since level 4 is kind of
done we've started level 5 to put the
next IDs in there personally I got
involved around the time where we were
wrapping up level 3 so very briefly
because I think everybody sort of knows
what this is but to make sure we're on
the same page at media screen' and then
you put the butcher you put a bunch of
rules in there and they only apply when
you're on screen at media prints and you
put some other rules and they apply when
you're on paper so your links can be
blue and underlined in one case and you
can show the content of the URL in
another case that is what we got in CSS
2.1 and HTML 4 moving on CSS media
queries level 3 added media features now
we're not categorizing the device as we
were with media types we're asking
question about it and so if the width of
my page is more than 20 ms I want to
style my block quotes differently resize
so there floated now and it looks
different pretty basic still useful
media queries level 3 has more than
width though there's a bunch of things
you can test against a bit more than
half of them are not terribly useful
actually let's take the grid one for
example this has nothing to do with the
great gray
that we heard about recently this was a
UNIX terminal with a grid of character
not a graphical browser so if you're
running in a command-line browser that
supports media query it will tell you
yes you're on a grid a browser running
in a terminal that supports media query
does not exist so don't bother writing
code for it it will never run which is
why these things are stricken out they
exist and they're useless but the the
first ones are good with hight aspect
ratio orientation resolution all this
works and has worked for a while so if
you combine all of that together you can
write this kind of thing and you
probably should be familiar with that
you can nest you can put and then
corners and things in there and that's
what the world has looked like for quite
a while now but we should try and do
better in this so I'm gonna talk about
two things that are better in level four
let's start with syntax so this is how
you write things if you want to have
some style to try in the range of sizes
you have men with something and max with
some thing else and it turns out this is
hard to read it's not conceptually hard
but the min and the max seem to confuse
people a lot and people use the wrong
word when they mean another thing and
this is nicer
so the spec says you can now write
things in a much more intuitive way and
there's a whole bunch of more variations
if you want to do lesser than greater
than lesser or equal swap them around
and all of these variation media queries
level 4 gives you all of that which
should make things a whole lot more
readable another thing is you can
already do boolean logic with media
queries level 3 if you want to say this
or that you put a comma in between if we
say this and that you nest the media
queries if you want to do not you can't
negate a media feature you have to
negate the entire thing so you say not
all media and the thing you want to
negate and this is terrible so you
should be able to do that instead and/or
parentheses not nest as you will and
this this should make everything much
more readable
if you look at the last line in here as
well not pointer none double negations
are not nice it's kind of tricky to
understand what's going on here so
introduce the shortcut if you want to
test for this media query matches
something I don't really care which
value just not the non value when you
can use the syntax below so not
something is none you can just write
media query the thing between
parentheses and that's a lot more
readable so if you combine all these
things they look like small things but
try I'm gonna give you like 10 15
seconds try and actually read and
understand what's on screen now I think
you've already given up mostly try this
one now that's readable we heard earlier
that CSS easy to write and hard to read
that's true it's still gonna be true
after that but hopefully a bit less so
here is another one that should help
with error handling so if my page is at
least one pixel wide okay that's
probably gonna be true and weight is
less than 40 kilos mm-hmm
back in the days this would be a syntax
error and it would fail but it shouldn't
have to it's if it's at least that wide
or weighs more less than 40 kilos you
already know the first half is true true
or whatever is true it doesn't matter
that the rest is unknown same thing here
if the page is at least 5 miles wide or
tastes and tastes sweet you know it's
not 5 miles wide so it doesn't matter
whether it tastes sweet or not or what
that means or whether we actually have a
media queries like this in level 23 and
you're just using an old browser you
should be able to answer these things so
we've introduced in terms of syntax
handling for future proofing the idea of
unknown is you have an unknown thing or
something else true you can ignore the
Anoat part it's true unknown and false
is not unknown it's false and you keep
doing the the truth table here so once
you wrap up the
expression and you end up at the top
level if it's still unknown that we
can't do anything so we'll treat it as
false but but you can remove unknown sub
expressions when the results wouldn't
affect the final results and that's good
for future proofing because I've put
silly things like weight and weight and
taste but if you were actually you just
using a new thing that some browsers
don't support then it doesn't blow up
your entire stylesheet just because it's
not reported if it wouldn't matter to
the result then it just gets ignored
instead of destroying the things around
it and as far as syntax goes there's our
a few small things that I think will
make life easier but let's move on to
other things than syntax and talked
about media types and media features
media types or dead what's the story
here
so back when people were thinking this
at the first time so we're talking last
century literally back then people
imagine that the future might look like
something like this these are the types
of things we might display CSS on like
handheld I mean we were talking pine
pile of these days not iPhone and a list
of potential things that we might end up
supporting the browser just decide which
one it's on you match that one and
things are great so the future ended up
looking a little bit like this okay so
the iPhone is supposed to match handheld
I guess the TV matches TV the ningún
Nintendo DSi probably is a handheld to
the Wii maybe it's a TV the watch I
don't know the Kindle is it print is it
screen is it both at the same time the
rule says you can't be both but who
knows okay let's look at actual code the
first thing I showed if you're on screen
you're blue and underlined if you're
printed you have that other thing and
all of these devices are broken because
your phone is a handheld not a screen or
a print and it fails your phone is
broken you're sad everything's terrible
so we didn't do that Apple didn't want
to make you sad they wanted to sell
phones so they say well you know what
the phone is a screen the TV's our
screen the DSi the screen the
we use a screen that watches the screen
everything is a screen except paper and
now it works so the web works like this
if you're on paper on PDF it's print
everything else is cream okay so that
works but that doesn't help us because
these things are actually different from
each other so what do we do media
features we added a bunch more to help
you tell them apart
not by categorizing them but by testing
different aspects of it a laptop or a
desktop has a mouse pointer that is
accurate you can click on small click
targets and you can hover over things
and if you try and animate the screen
will update fast and if you have too
much content and it doesn't fit the
screen then it will overflow and you get
a scrollbar and JavaScript works a phone
well yes you can point at things but
with your finger and it's large and you
cannot click small things so the pointer
is coarse and you can't hover with a
finger so it's none the rest is the same
a Wii you know the Wii mote when you
point at the screen you can point you
can hover but you're pointing isn't
terribly accurate you're doing like it
from a distance so similar to the finger
you want big click targets but the rest
is the same a TV you just get a remote
control no pointer no hovering
but yeah animation scrolling oh that's
fine printing well now no mouse pointer
on the piece of paper
no animations either and if you run out
of room on your piece of paper there's
not a scroll bar that appears on its
side you get a new page that's different
and also yes when you load the page
scripts will run once it's printed they
will not run anymore
there is also an important difference
which helps us answer what do we do with
the Kindle because it's print it's green
who cares about the category what
matters is that just like paper you
don't get the mouse pointer you don't
get to hover when you run out of room
you get a new page not a scrollbar but
on a Kindle or a theoretical Kindle that
would implement media queries level 4
you would get script in running and you
would know about that and if you test
with these various attributes rather
than try and categorize things
if you run into a thing that you hadn't
thought about maybe because it wasn't
released when you read you wrote your
page like the video style project I've
been involved this is pretty much the
same as a desktop browser except you
don't get the scroll bar you get pages
but if you test it for various aspects
of it it just works out so here's a list
of media features that we have in level
3 4 and a little bit in level 5 so I've
already told you these ones are not
useful
these ones exists have existed for a
while we've added in the spec not yet in
implementations an infinite value to
resolution what the hell is that well if
you're printing to PDF what is the
resolution of a PDF there isn't one it's
a vector format so this is infinite and
now you can tell that through media
queries update which I mentioned is not
implemented but color gamut is so if you
got one of these fancy new Macs with a
great screen and good color capabilities
you can detect that the media queries
that lets you know whether you get a
scrollbar or a new page whether you get
a scrollbar oh you clip there spec
they're not implemented so go shut out
browsers if you want them these four are
implemented in several browsers at least
Chrome and I think Firefox and probably
agile so so is my pointer accurate or
not or do I have one at all can it hover
or can it not hover and then there's any
variant because some devices
increasingly these days have more than
one pointer so the any hover will tell
you out of all the things I can use to
work on this computer like the trackpad
and the touchscreen can any of them
hover if yes tell me hover that's so
that's for the any hover hover alone
will just let you ask about the primary
pointing device the one that you mostly
use so you get this things distinction
to tell them apart and we got a few more
in level 5 only one of which is
currently supported which lets you in
Mac OS if you there's a number of people
who get heavily distracted or even sick
when things move around
so there's a preference in the operating
system to ask things do not animate in
all that much and if people tick that
box you can know about it through this
media query and reduce the amount of
animations you use so this is a bit of
the state of the art today in terms of
spec and implementations but some
subjective suggestions about how you may
want to use all of that first actually
don't use any of this when you can this
is a little demo that I took from Jenn
Simmons who's a designer advocate at
Mozilla so on a small screen it looks
fine on the bigger screen it looks fine
too and there's no media queries in this
page CSS grid can do all of this without
any media queries so if you use grid
flex box
multi-column the viewport units and all
these things very often you don't even
need media queries at all so if you can
go this way usually it's better
sometimes you can't so be careful this
is a thing we saw a lot in the early
days of the iPhone I have a design for
the iPhone I'm going to turn it on when
the width is exactly 320 pixels oh
there's a new iPhone out well when
there's this width or that width there's
a new new iPhone oh and what about
Android and what do we do now don't do
this
breakpoints are good when you set them
at the point where your device where you
design would break so if you design your
thing and you know that when the window
is smaller than 20 pixel or 20 MS things
are matched up against each other that's
a break point so put your breakpoint
here and change your design not based on
the device based on the design also
don't do everything in pixels I mean
pixels are okay but when you're working
with text have the EM unit you have the
CH units if you're doing your design
with these and you probably should then
do you even do your media queries the
same way keep it simple if you want to
say there is some kind of pointer don't
list out all the values it could have we
put the shortcut syntax for that if you
want a kind of pointer write this so in
media credit level
seven if we introduce a laser pointer or
a thought-controlled pointer it would
not have been any explicit lists but the
catch-all will have it also yes this is
hard because you can't always do it but
hopefully if we do a good job it's gonna
get easier as we go don't use one thing
as a proxy for another one if you want
to say yes I'm when I'm on a phone I
need big buttons because thinkers are
large and otherwise it doesn't work
don't test for the width of the device
and say if it's small it's a phone it
might not be might be a small laptop it
might be a small window in a large
laptop or there might be large devices
such as tablets which haven't been
invented when you write your website
testing for the width so use the media
query that's made for that if you want
large touch targets use the pointer
media query and sometimes you will not
be able to do that because either the
working group hasn't done its job yet or
we have but browsers haven't caught up
but try not to and progressive
advancements that's not media query
specific but it plays an extra role here
this is a little bit of why you can use
this even when it's not supported
everywhere if the way you write your
website is to write something
complicated and then test for whether
you're in an environment where that
design wouldn't work this is fragile
because if your test fails if the device
is bad but the test failed to notice you
still have become the complex design
that doesn't work in this environment
but if you turn it on its head you start
with a simple design and if you detect
that the environment is capable of this
or capable of that then you can add the
fancy part of the design that only work
in that circumstances and if by bad luck
your website runs in a browser that
didn't know about this particular media
query then yes you will have a problem
but a smaller problem this device was
capable of a better design and you
served that the fallback which is much
better than serving it the thing that
wouldn't work at all so this should help
you use media queries that are not well
supported everywhere for
essential features four things that you
must have everywhere that's a bit more
tricky but this should help you a bit in
general and that's what I had to say in
general about what's coming so should we
move to questions</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>