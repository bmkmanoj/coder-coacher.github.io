<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PWAs vs Native (aka There's A Progressive Web App For That) | Coder Coacher - Coaching Coders</title><meta content="PWAs vs Native (aka There's A Progressive Web App For That) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Coding-Tech/">Coding Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PWAs vs Native (aka There's A Progressive Web App For That)</b></h2><h5 class="post__date">2018-04-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vhg01Ml-8pI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let me take you about ten years and
that steve job jobs kicked off the
smartphone revolution when he introduced
the iPhone and on the iPhone there was
kind of mobile browser but it's a pretty
poor experience of going online so a
year later it kicked off the App Store
and you've got the native apps and this
is a really good way of getting online
in interacting with online content and
I'm sure you've all use that loads of
apps over the last 10 years maybe
yeah the Gmail app for sending emails
maybe is Twitter for sending tweets
snapchat sending two delightful pictures
of yourself and then the spent view I'm
sure he waited many weeks and months
playing the king of apps flappy birds
but since since 2008 the mobile web has
increased dramatically when you're
asking about I'm sure that many of you
are looking at URLs in your Chrome
browser but native apps have a huge
benefit in loads of areas so first of
all we're gonna talk about performance
so native apps are fast and quick to
respond when you first got your mobile
phone you've got a really nice icon that
you can click on straight away as soon
as you click on that you get really nice
scaffolded app that comes up let's say
you go onto Facebook it's kind of a nice
blue look and you've got a Facebook icon
you probably got a load of cached
content so when I get my tweet Twitter
wrap up I've got load of tweets there so
I see those straightaway there's no
going into Chrome and trying to find a
URL and trying to load up a page they
also have a smooth consistent
self-contained UI so the native app
looks really good on your phone you kind
of enjoy using it it kind of feels you
know exactly where you are
and the killer piece for a native app is
it works consistently well offline so
whether you should be checking your
emails on the tube that's another matter
you can check your emails on the tube
they've been seized during the day you
can then sit back and reply to one of
those emails when you become a come
above ground off it goes and all works
well if you try and do that with a
moment with a normal web app it doesn't
work but why aren't native apps
everywhere why aren't we using native
apps that everything we do if we've got
all these benefits
anyone developing native apps here we
got one person here how is it cool great
okay so I'm not a native app developer
I've just heard a few stories that it
can be painful there's different
languages between Android and iOS so you
got Java maybe your funk in hipster New
Scotland
otherwise you're using Swift you can use
react native but you still have to
change the way you develop a whole load
of things so there's different we're
doing CSS even within react native you
have to do different stuff depend on the
platform you're on and even then you can
have to develop differently for the web
so you're already some developed
developing for three different platforms
it's expensive to develop expense is
very subjective so if your business
depends on an app you really need to
develop that app so you need to run
three teams and that's really part of
how your business works but if you're a
small start-up or you're trying to do an
app on the side of the bigger business
then this can be in credit spensive to
have sort of three different platforms
to support so at me last year we
introduced an iPhone app called a
monogram and it was completely different
from our main business and we had a
whole separate team to do that and
there's kind of an experiment into how
the social world worked and whether we
could make a social app work it was just
in credit expansion separating just
purely focused on what was an experiment
and I'm sure there's lots of startups
and companies out there which have
really struggled to support native apps
and all the different platforms and then
there's also the application process so
I think this has got a lot better maybe
ten years ago it's pretty painful but
the set of prices to get into the App
Store there's a different one to get
into Android and then even the release
process we've just seen if you want to
release stuff on the web it's out there
it goes to your customer straightaway
where the native app you have to rely on
your customers that they're constantly
updating their phones I don't know much
about that much about native app don't
there's a really good video from Kate
Hudson at the lead dev so if you're
interested these flows will go around
you can go and have a look at that money
this is a progressive web apps
so obviously progressive web apps to the
rescue and this is JavaScript roundabout
right so one of the best things about
progressive web apps is it used web
standard technology
he uses JavaScript ee thank God I talked
about JavaScript JavaScript Meetup
it's got most of the benefits of native
apps including performance again crow
but the performance stuff in there right
once work everywhere so everyone's
hopefully building responsive websites
fingers crossed it's a little bit
smoother aren't but most mostly we're
responsive but you just build it once
and hopefully it should work everywhere
you have one team maybe you need a few
tweaks depending on for mobile and yeah
you stuff to test it on ie am so by EA
$2.99 but let's see more on that for Mon
but what does progressive mean so
everyone in the JavaScript world's heard
of progressive enhancement hopefully
from back in the days so in the old days
we just have static HTML pages and then
JavaScript came around and we wanted to
enhance our pages said this'll design
pattern there was the JavaScript can
make the app faster and feel better
but if you didn't run JavaScript it
would still work really well and it's a
kind of the same thing with progressive
enhancement is a whole bunch of features
that you can add to your app there's 11
that Google lists and each of these
should improve the experience for the
customer but if their platform doesn't
have one of those features it shouldn't
break your app so again this progressive
web app is a case of extra technologies
they can add to the performance of your
app with more of the features you see
the benefits across desktop and web I
kind of always keep comparing against
native apps here but a lot of these
performances are also on the website so
if you have a website you don't really
care so much about your mobile customers
a lot these technologies can really
improve the performance of your websites
and here's the link so if you go there
there's a whole bunch of eleven really
cool things that Google lists
I'm going to talk about a couple of
those in a little example I've got you
can go there some of them are like you
need HTTPS on your site hopefully most
important websites got HTTPS there's a
bunch of stuff raging from that through
to your website should work offline cool
so we're going to give you an example
that's kind of enough like top level
talking we might even show you some
JavaScript as well and I kind of always
wanted to build a native app but it felt
like a huge amount
effort to learn the process and learn
the different languages and learn the
structure and get the app out into the
App Store I have built some side
projects some single page apps and the
other week I was like well I've kind of
always wanted to try and get one of
these baby be an app how hard can it be
so I'll write a few blogs about
progressive web apps and there's some
terms that I didn't understand but you
still sit there for a day and bang your
head against the wall and eventually
these things kind of play out and it was
a lot of the same technology as I use in
my day-to-day work so it felt quite
comfortable now the type of sort of side
project that works really well is a
single page app because a bit like a
native app you've got kind of a
structure on your page and you're
updating some of the content through
some API calls off in the background
it's my blog I apologize for the design
I'm not an amazing designer there's lots
of white space and some green stuff
around and just is about that technology
and everyone's using reacts but this is
handlebars and jQuery that was cool
it's isomorphic which means that you get
the initial render of the page from the
server it's fully rendered so we're
handlebars rendered on the server side
and you had the single page app so we're
gonna talk a little bit more about some
of the key features of a progressive web
app and why just having a few endpoints
really helps sort of do the testing for
that so there's three steps that sits as
any JavaScript sin the first step Jason
is chasing JavaScript let's say yes
first of all manifesto Jason this is
just some config if you can just about
read there it's basically got a name for
my app it's got a link to an icon I want
to appear on the home page of the phone
and it's got some theme colors so this
is back that UI
do you want a kind of consistent theme
color to your app when it opens up on
your phone I don't have a step1 step2
no JavaScript here but we want to link
to the manifesto Jason in the head of
your HTML so it's just a link with a
manifest type there the other part that
you put in the head of the HTML is a
theme color so you saw my output was
kind of white with a bunch of green
there this is for anyone knows the hex
that's kind of green and this is a
screenshot from my app on my phone
and you can see that that top bar is
already that green color which features
fits in with the theme of my app cool
step 3
serviceworker I had heard loads about
service workers and kind of got in my
head that they were really complicated
and there's a load of JavaScript with a
bunch of promises so if you know your
promises service workers they're kind of
not too bad start the script be a
JavaScript roundabout ie proxy server
good so the service worker sits between
the browser and the network it's a proxy
server and there's a bunch of JavaScript
logic and you can manage your cash
programmatically basically you get
access to any of the requests that come
in from the front end and you can do
what you want with it we're going to go
through a little example of just a very
simple one that I did for my app battle
retorted a bit about varnish and setting
headers and stuff some of that sort of
VCR language and the headers can be a
little obtuse and this is a more
programmatic way of managing that cache
in the browser count front are actually
gonna allow service workers to sit on
the edge so if anyone's dealt with VCL
varnish config language this is gonna be
a web - using javascript in your CDN
cool it's a progressive web apps first
so first of all we want to check the our
app all that our client can can use
service workers so this is just my main
CSS which is my main javascript file for
my app and just check that I can use
service workers and then we register my
service worker and I've got this Service
Worker file which is sat in the root of
my directory second bit we've got a
cache name and then a bunch of files
that I want to cache so the
serviceworker is this proxy server and
all i want to do is have a whole list of
files and assets i want to cache and sit
there the serviceworker will store that
and it means that when my apps are
offline i can hopefully use this cache
to serve that content to my customers as
you can see my art is not super
complicated there's an API which I can
get all my posts from it's worth noting
you can you don't have to be limited to
routes they're in your domain so here
I'm getting some goo
API stuff some fonts I've got a couple
other JavaScript files there that's the
first step the second step you get my
serviceworker there's an event listener
for it installing and I want to do some
logic when it starts installing misses
the keyline cache to add all the files
to cache
it's that full list as far as I had
before I try to add them to my cache my
service worker goes through that whole
loop goes off to the network fetches
content for every single one of those
roots and that backs into my cache for
promises so you've got e wait until this
is kind of promised it's waiting till
all those files are added into the cache
when that's finished it says my servers
workers serviceworker is installed ready
to go after its installed the next thing
i want to do is if someone in the app
requests anything I want to interrogate
that request and then I can do what I
want with the cache this is a very very
simple example that on any fetch request
I go through my caches caches don't
match and I check to see if the requests
that come from my server is in my cache
if I do have a response I'm just going
to send that straight back so if we're
talking about performance if there is
something in my cache now I'm going to
send that straight back to the time and
my page is gonna render immediately
otherwise I'm going to send off the
request out to the network and hopefully
it's gonna come back to me this is kind
of one caching strategy just a couple of
lists of other things you can do you
could cap return the cash immediately
and fresh that cache in the background
maybe you cool off to the network first
but if your network is really slow let's
say your user is on a 3G network maybe
you cool off and if nothing's come back
within one or two seconds you can return
whatever is in the cache you can do a
whole load of other logic in here so if
you know that your customers at certain
points in the journey and they will need
some other assets further on you can
cool off in the serviceworker and go and
get some images let's say they're
looking through at an album of photos
you can go and prefetch some of the
photos in the next page there's you know
some pagination you can go and get some
content from the next step you can even
sort of build up the door more build up
some HTML in the serviceworker so then
the next step in the app
is really quick for the customer cool
almost native I'm just going to show you
some screenshots here so this is what
happens when those three changes so I
did the manifesto Jason I did the little
contents in the top of the page and i
padded the serviceworker and this is
what you get so I open my app up in my
chrome thing my chrome thing my Chrome
browser and a little button pops up at
the bottom it says a really simple way
of allowing your your app to get added
to the home screen you have your phone
so instead of go into an app into the
App Store and installing it as soon as
you open up my web page you get this
little button
I built an icon
you could probably build a better icon
you can see there on the right it's the
blog nice little green green thing
there's a couple of other icons there
there's a hacky News one there which is
a progressive web app someone's built a
happy news with VJ s the rest of those
are all native apps as soon as you click
on the blog you get this really nice
green screen again with my terrible
iPhone in the middle and the name of my
blog there and once that's opened up you
get the whole page here the great thing
about this is you don't get the euro URL
bar at the top so you can see that this
screen on the right looks and feels just
like you did install the native app all
we've done is written maybe 30 lines of
JavaScript we have maybe 20 lines of a
Jason we could add a couple of things in
the HTML of the head
you didn't have to go through any app
store or any other kind of process to
get this onto someone's phone and it
works offline it's faster the snow
Network I'm gonna Karen with the sides
we can double check that it works
offline like them is always terrible but
it does when I'm on my phone I can go
read my whole blog I wrote it so
hopefully I should remember what it is
my mom gets to reading when she's at
home and she doesn't have an internet
connection so she's really happy cool
I'm just gonna show you a few tools that
you can use to help debug the the app
thing I get really stuck in my
development that I will use the same
things in the Google Chrome console it's
really cool to know there's other things
that are there I think it's loads of
things I'm Way off learning about the
application side there's a whole chunk
of stuff on the service workers and you
can see
a lot of the sub process and flow your
serviceworker in exactly what's stored
in the cache kevin discovered it yet and
chrome there's also an audit tab it's a
bit like webpagetest it does a whole
bunch of audits for your app so you can
also look at performance here but
there's a full schools and one of them
is a progressive web app store web web
app score I'm doing to talk about it so
thank God I got a hundred out of 100
there's a there's eleven past audits
here you can kick on them so if you've
got an app you'll probably pass a few of
them like if you have HTTPS you've
already scored one point out of eleven
there's a whole bunch of other things
there with little tips and links on how
to get your app to be progressive
imagine google they're starting to use
more and more that people's websites
work well on mobile for their rankings I
imagine at some stage in the future
something like this score on the
progressive web app will be part of
their rankings gotchas has always got
cheese what are the two hardest things
in computer science to cache
invalidation naming things enough by one
errors caching is hard get it wrong all
the time we get it wrong a Murloc
there's been outages in the two years
that I've been there because we screw up
headers and we messed things up caching
is hard don't cache customer user data
if we shouldn't be cached you really
want to give someone else's private data
to someone else that's my number one tip
today so if you don't remember anything
else don't cache people's data when you
shouldn't in chrome sometimes you have
two tabs open and the service records
work is registered with one and you try
and refresh and it doesn't refresh the
service worker and then you try and
change some other stuff and you close
with tabs in your code for Chrome and
you open up again it's still not working
and then you realize you've been
refreshing the live site not your dev
version but that's just JavaScript
debugging for you but there are some the
old gotchas with service workers that
you kind of need to get used to when
you're trying to work with it finally
work your app works offline always even
on localhost so I've been developing I
shut my app down I came in a couple of
days later I opened up Python simple
server was running on the same host I
went to my browser and it refreshed the
app that I've been working on three days
ago because it's been stored for offline
use so this new thing that I've been
working on was sat behind my offline app
so you just have to make sure
changing port number and remember that
this thing is stored in your cache
somewhere or delete it and get rid of it
cool so conclusion progressive web apps
awesome website and technologies it can
be improved used to improve the
performance yeah we got performance in
again and feel of your website build
once work everywhere yeah it's
JavaScript yeah cool thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>