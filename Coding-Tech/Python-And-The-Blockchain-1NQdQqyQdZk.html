<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python And The Blockchain | Coder Coacher - Coaching Coders</title><meta content="Python And The Blockchain - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Coding-Tech/">Coding Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python And The Blockchain</b></h2><h5 class="post__date">2017-11-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/1NQdQqyQdZk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thank you very much so it's a bit of a
misnomer the title there is not a
blockchain there's many different types
of blocks chains and Bitcoin has got one
of them so on the audience who here is
ever bought or sold Bitcoin let's see
the hands okay there's about 1/5
how about aetherium has anyone bought or
sold an aetherium or done a smart
contract it's like two people one or two
okay so it's a very big topic so what
I've done is I've done this presentation
at a couple law firm has been a Jones
and I've done it for banks and what I
tried to do is I've taken some of this
stuff and we're going to talk a little
bit about business II stuff and then try
and merge in some Python stuff and my
goal for you guys after you leave here
is you'll know enough that you can go
and find something if you've got a
project or something like that you could
pick a blockchain to use for your next
projects that's really the goal here I'm
not gonna go into smart contracts cuz we
could just spend a day just talking
about smart contracts and I'm gonna tell
a little bit of a story on how I picked
which blockchains used for a project
that I were I worked on so my first
Bitcoin I bought was I read about on
slash dot around 2010 ish there was no
way you could buy them you either had to
have a mining rig and you you make them
on your computer or I found a guy in BC
which I took like $10 and I put in an
envelope and I mailed it to BC in the
heat and then magically a week later I
got some bitcoins that arrived on my
computer so that was my first Bitcoin
experience and I thought nothing of it
this thing is ridiculous it's no one's
gonna ever use it and I kind of forgot
about it for a few years so wine forward
a few years and and I started reading
things in the news like Oh Bill Gates
tech bitcoin is a techno tour-de-force
creator of Gmail Bitcoin might be the
tcp/ip of money
even the chairman of the Federal Reserve
said that virtual currencies may have a
long term promise and finally my
favorite was an economist he won the
Nobel Prize he said bitcoin is evil that
one's the best hours in Canada the
Senate did a subcommittee and actually
did some analysis on Bitcoin and I'm
starting with Bitcoin here because it's
really the original blockchain when you
think about blockchain you got to
understand Bitcoin because that's where
it all kind of came from so once you
understand Bitcoin then you can
understand everything else that's
happening in the environment so Senate
subcommittee had a report in 2015 and
they said that what is Bitcoin it's a
form of money and it's a commodity and
it's a payment system all in one sort of
combined they recommended light-touch
regulation so actually in Canada were
compared to Europe or lots of other
places we're actually much more
progressive you can use Bitcoin ATMs
here that are fairly unregulated and
they're using existing AML laws meaning
that they have to check your ID or your
name against some black terrorist
blacklist and secure it I'll talk a
little bit about stocks and box chains
security laws in Canada are regulated on
the provincial level that's no change
there so this the Winklevoss brothers
are these two guys I don't know if you
saw in facebook they were like these
evil twins in the Facebook TV movie they
have a Bitcoin ETF that they're
launching it got a it's a at the SEC
level right now it should be launched
early next year and this is slide from
them and I like this one because it kind
of relates to something that I know
which is gold I've got a gold ring so I
feel like I can understand gold so how
is Bitcoin if you think about it again
on the business level how does it relate
to gold well it's just actually just
like gold except for for it's easier to
send it and if I wanted to send you my
dime my ring I have to go and physically
give it to you
Bitcoin I can send it to you on my cell
phone so I mean from my perspective I
like to think of big
coin is sort of an e gold kind of thing
and then what is a blockchain because so
Bitcoin is made up of this database
which is a blockchain and it's got
certain characteristics and these are a
couple that came to mind one is it it's
immutable which means you can't really
change it it's sort of a right only log
so if I sent you a Bitcoin after 10
minutes it's there forever as long as
bitcoin is existence it will be only
append-only unless you know the whole
world gets destroyed but it's basically
an append-only log it's distributed so
it's on about 40,000 computers right now
so that bitcoin then when I send it to
you my cup of coffee actually gets
distributed all over the world mostly to
China it's got a level of trust
associated with it and Bitcoin it's the
Claude trustless so I can send you a
Bitcoin and I don't even have to know
you and so that's why I kind of got
popular in terms of the Silk Road
because it was great for doing basically
drug transactions and that's sort of how
I got started one thing people don't
talk about it's kind of standardized API
which in the world of instant messaging
where everyone's got their own API it's
got one API that everyone has to use
it's got a single view of reality a
couple of people will say that that's
what a blockchain is I question that
mostly because there's these new block
chains which are zero knowledge and so I
could send you a Bitcoin but no one
could know about it
so that's questionable but generally
it's one way of looking at database
here's what a blockchain kind of looks
like another question who here under
knows hashes should be most people okay
yeah that's what I figure so basically
each one of these blocks comes out every
ten minutes
so bitcoin is it's a ten minute
blockchain block cycle so and these
computers all of the world and I'm not
gonna get in the details of it but
basically every ten minutes a block gets
written and in that block it's got all
the transactions from that ten minutes
plus a header
and the headers got a Shaw hash which is
called a Merkel root of all the
transactions in there and then it refers
to the last last ten minute blocks so
it's basically you to do a block
validation you can just go across the
headers and if you validate the headers
generally it's gonna be okay if you
don't if you want to play with the local
routes there's a nice Python library at
the bottom there to figure out how it
works okay and sometimes people you
might hear in the news smart contracts
and you might heard of this thing called
the Dow Nick says bo is really really
smart guy he's been writing since the
early 90s about smart contracts and I
took a quote from him because I thought
is really good this is the basic idea of
a smart contract is that many kind of
that many types of contractual call
clauses can be embedded in hardware or
software in such a way to make breach of
contract expensive and if desired so
prohibiting prohibitively so so he comes
up with an example of a gumball machine
so gumball machine he considers and
smart contract so you put in a quarter
and you've got a contract essentially to
get a gum some gum that comes out the
other side so when you think about smart
contracts it's basically something where
you're you're you're providing some
value and you're getting something in
return and it's and it's basically
automated
um but everyone heard about the Dow and
this is a favorite favorite xkcd thing
of mine where you know there's a car a
smart self-driving car and the guy takes
the the rock sticks it in the front seat
and the car drives off
that's a little bit what happened with
the Dow you know there's unforeseen
circumstance mark contracts I think
we're still kind of figuring out as a
society where a smart contractors part
law it's part programming and there's
lots of unforeseen circumstances that
can cause it to go kind of array so if
you heard about the Dow which was
started by a couple like I call them
kids like 20 to 21 year old guys who
wrote this contract that put out in the
in the wild and you could send some
coins to that contract which was sitting
on the blockchain they raise over 70
million u.s. dollars which then got
stolen again unforeseen circumstances so
now I've talked a little bit about
Bitcoin really high level look at what a
blockchain is again it's a database from
my project I was looking at there's like
800 of these different coins around and
so you go to this thing called coin
market gap you look at the mall and you
go home my god where do I start there's
like so many of these coins that are
available and which one should I be
using for my project so I'm hoping by
the end of this
you've got we're gonna look at three and
you can make a decision if any of these
are good for your project okay yeah this
is the process I went through so let's
start with a need my need in this my
case my use case for the users were
remittance which is sending money from
Canada from Europe to mostly Africa
India over the world our course Banat
banking system I've been working banking
with IT for a bit for more than 15 years
and it it really is awful Swift
messaging just like shoot me now it's
horrible system a friend of mine at TD
said internally to them each each
message cost them about five Canadian
dollars that's TD's costs to send a
message on this basically mq series
queuing system and sending it to the
correspondent banking and each bank in
the middle takes another five to ten
dollars so that's why I cost thirty
dollars to send a hundred dollars that's
way 30
percent of the money's gone is it's
because we've built this correspondent
banking system which is it's not
distributed so here's the use case that
we were trying to find and you know the
question is would Bitcoin be the one or
what is there another one that we should
look at and a lot of these people have
got cell phones they don't necessary
have a smartphone for them maybe average
salaries about five to ten dollars a day
so transaction fees are fairly a big
thing so here are the three blockchains
I started looking at and I apologized
for so much information on one slide but
there's lots of information to look at
so bitcoins the original ones start in
2009 as I mentioned there will be a
maximum about 21 million coins we're at
about 16 million now it's got that thing
that I mentioned is like a proof-of-work
I'm not going to go into how
proof-of-work works but that's what the
mining is basically the miners you're
about miners are basically validating
the transactions and they're getting a
war to do so and they're adding each ten
minutes additional block of all the
transactions that happen the last 10
minutes
the core is written C++
it's lots of gooeys if you're interested
the underlying thing it's a level DB
database underneath everything you can
actually go and query the database
directly aetherium was actually started
by a guy in turn from Toronto he's you
went to University of Waterloo dropped
out his second year because he got so
into Bitcoin and then launched it I was
there roughly at the launch and it was
like last year the price immediately
went up it's got this proof-of-work
thing where it's again it's a 15 second
block time so it's a lot faster it's a
lot more user friendly the use it
there's he said that it should be like a
browser he's sort of thought as the
payment system is like a browser and so
there's two things that he did that are
kind of interesting one is there's
multiple versions of the command line
interface ones written and go it's
called death there's another one that
seems to have taken off it's called
parity it's written in a trust there's
he wrote the actual Python
line tool and it works pretty well it's
not really used too much because it's a
bit slow but it's great for
experimenting and learning the system
the phone the final one I looked at was
this one called stellar stellar was this
guy jet from Jed McCabe
he started Mel Cox which I think
everyone heard of blowing up he had sold
it he started a triple which is it's a
for-profit company that's got a
blockchain it's kind of sold to me
because he was sort of there kind of
targeting remittance it's the same sort
of business that we were trying to
launch a guy David Mendes created the
the consensus protocol he's a professor
at Stanford University he's got some
nice smart guys behind the consensus
mechanism it's not trustless there's
some trust built in so one of the
advantages of having a somewhat trustful
system is that you can speed up the
block times and it'll go a lot faster if
you've got some bit of a trust versus
trustless underneath the database
underneath the underlying databases
PostgreSQL which kind of I liked as well
can query it and then what they've done
which is quite smart as they take
transactions instead of stuffing all
transactions that I've ever happened
there's one append-only bla database
they basically take them out and put
them in these these files called xtr
files which is if any one sort of it was
kraid by sun microsystems in 1995 and
it's a standard actually it's not ETF
standard for data data format
storage it's about five seconds block so
as I mentioned so Bitcoin here's a
little bit about the business business
it's tough bitcoins worth now about 11
billion the price is about 950 Canadian
so not that that really matters but the
interesting thing for me is what is the
cost of a per transaction so again for
us 10 cents 20 cents is not a huge cost
per transaction but we're talking about
people in developing countries and if
you're making $5 a day 11 cents on a
transaction is a little bit on the high
side so it's great as a replacement
potentially for correspondent banking
but not for
microtransactions there's lots of
discussion on scalability again because
it's one database and so the every
transaction ever done gets appended to
the database so this issues around
scalability it's close to 100 gigabytes
the database now and I got to talk about
some of the other things and there's a
theorem the other one we looked at I met
some guys in Taiwan they've actually
hacked aetherium to use it for interbank
settlement they got to the settlement
down to 3 seconds which is pretty neat
but wasn't too useful for us again
because they had their own version of a
theorem which is separate from the
public one and one of the things we
wanted to look at was a public
blockchain cost about five cents to send
funds in terms of etherium and it's got
this built-in smart contract programming
interface which I actually highly
recommend if you're interested in block
chains if you're interested in smart
contracts go check this out it's it's
really cool but it wasn't useful for our
use case stellar transactions so you can
do about 1 million transactions for
about 2 cents so this is like levels of
it's way cheaper there is some cost for
new accounts it's about where does
Bitcoin is free so it costs about 15
stellar which is about five or ten cents
to set up a new user account it's got a
built-in exchange so I'm gonna talk a
little bit about that in a second
actually I'll talk about it after so
Bitcoin if you wanted to go and build
some something in Bitcoin in Python what
would you use so I mean I played with a
few of the libraries there's a whole
bunch of actually really nice Python
libraries Richard kiss the guy from
Vancouver he lives down in Las Vegas he
wrote probably the most used Python
library which is called PI coin it
doesn't take you back from a lot of the
weird things that happen in Bitcoin like
you can still have malleability attacks
which are basically people someone could
steal your Bitcoin so you have to use it
with
be careful with it 21 Co is a company I
start out in New York that raised 130 I
think about a hundred thirty million
it's basically using Bitcoin for
Internet of Things they've got a great
library I highly recommend it really
easy to use you probably can get started
about five minutes sending Bitcoin and
then if you don't want to do Bitcoin on
your own machine but you want to use a
web service blockchain John infos got a
PI a python library bit go is another
one and coinbase is all written in
Python actually I played with their API
it was one of the best as well so if
you're going to write something in
Bitcoin I would either go to
twenty-one echo or one of these web
services if I was going to do it a
theory 'm is this it's basically when
you talk to a theorem using an RPC or an
IPC interface pi youth is a nice
interface library to that and i got a
typo there but a serpent is a way of
doing smart contracts in python and you
can compile them down and they'll act
you can actually insert them into
aetherium solidity is what 97% of
anyone's using it's kind of a javascript
e type of programming language that's
how mostly people writing smart
contracts stellar it's got this library
stellar base I snuck up on pi PI it's
got a fairly simple interface for doing
it these xcr files and then submitting
it through a web interface and so here's
the one thing that really kind of set me
off Bitcoin and I'll say it on camera it
was the environmental question most of
our users are for this project I'll be
in Europe particularly in Germany
this is a room in China there's probably
a hundred rooms like this of server
Vesak machines and they're burning coal
energy so you know when we say that it's
distributed there's a huge fairly bad
environmental impacts in Bitcoin and for
me that was one of the things that kind
of wanted to take it off the table
stellar doesn't have any of those issues
so we again we decided on stellar org
takes about three seconds to settle so
has anyone here used a Bitcoin ATM
before to one or two people so have you
ever sold Bitcoin to the ATM no so if
there's one in the Deloitte building
which is not too far from here
they put a nice big Bitcoin ATM right in
their building if you try and sell if
you want to cash out you want cash to
buy a coffee or something like that you
go there and you put the Bitcoin on and
then it says okay come back in 20
minutes
and you can get your cash so they send
you a text message in your cell phone
and you know you okay I can go get my
money now so its coins it's a little bit
broken on the on the ten minute block
time is a little bit too long for what
people expect
Stowe's around three seconds two to
three seconds so you can theory it's
kind of equivalent of a what you think
with a credit card it's got a built-in
central limit order book what does that
mean
stock markets got a central limit order
book of buys and sells so anyone on
stellar it's gonna can buy and sell
stellar against anybody else so we can
issue an asset and I'm gonna hopefully
show you in two seconds how am i doing
for time by the way
at 10 minutes roughly okay okay so I'm
hopefully going to show you a quick demo
stellar
it scales way better because all the
transactions the database is about two
gig so the only thing you're keeping in
there is account levels and all the
extra transaction history is in these
xcr files which are moved off to the
file system
it's got a nice clean API it's got an
offer prophet mission and helping people
in developing countries and just as a
kavett some of the issues that I
mentioned with Bitcoin could be fixed
with this new lightning Network but it's
not there yet
so let me do my demo if I get it working
there is
the joists have ubuntu
yeah this is non-moving over yeah I
tried earlier apologies okay no they're
okay I've got something here uh that's a
new tab there we go okay yeah okay so
yeah okay I hey I just got it showing
the one okay
so these are some libraries that you'd
have to import it's still a basic and
it's available on pi PI the first little
thing I do here is I generate a new
account i generate actually two accounts
here and this is what if you want to
look at what an account looks like
there's always two bits of information
associated with every account you've got
a private key and a public key the
public key is what you share with
everybody else it's sort of like your
internet an email address or something
you'd share your private key you think
about it sort of like your password to
your email account so if you think about
those two bits of information private
key you would never share with anybody
else in your public key you would share
I'm not gonna run it cuz that would just
be too risky so the second thing I do
here in line 14 is we're basically
creating an account from my second
account and we're submitting this
transaction and once you've done that so
you think about you've got a quote in
Bitcoin you is this concept of cold
wallets and hot wallets your cold wallet
you keep offline because someone can
steal your money from you your hot
wallet is online so what you do is you
when you're dealing with cryptocurrency
normally you always want to break all
your funds into something that someone
could hack into and take and the stuff
that can be not hacked into and and and
often you'll keep that on a laptop which
is not even connected to your network
you've probably heard of all these bit
Finex or all these hacks it's mostly
because keeping those keys private is
incredibly hard so that's why we're
right here we're creating a secondary
account and the stuff coming back is
just this is the is the xtr that's
actually what a next year file looks
like and ascii and then in this number
15 what I'm doing is I'm actually
creating a Canadian dollar and creating
ten Canadian dollars and I'm pointing it
in that person's account so this is an
asset in the concept of creating assets
you could create any kind you can create
an ETF so if you think about seller
think about future you want to keep your
money in Google stock because you think
Google's great but you want to buy a
coffee what do you do now I go to my
website I gotta sell this that account I
got a wire to the ACEF account I need to
then maybe a week later I can have the
money to buy the coffee
with stellar you could create a Google
stock here and I could go in that five
second cycle it'll sell it you could
sell the stock and settle the stock all
in that three seconds so you could
create a CAD you could buy something USD
so basically I could sell this CAD and I
could cycle out to USC in a three second
cycle and settle it
and it's an open distributed ledger
meaning that anyone can read and write
from this central limit order book of
bids and offers I'm not gonna go too
much in detail but when I saw this I was
like oh my god my mind's blown so here
is creating the accounts this is down
here at the bottom number 27 I'm
actually creating order in an order book
so think about stocks when you buy or
sell these are passive orders you send
written sending orders it's got built in
distributed order book so when as soon
as I post my offer anyone who's on the
seller network could actually buy or
sell from me so it's a distributed
exchange as well as a blockchain and
this is just a list of just to show you
that I got if this is me pulling in the
list of orders and it's all it's it's
it's JSON it's fairly easy to parse
here's at the end here I'm just checking
the balance of the account so you can
see that it's got five now Canadian
dollars that I've now and I've got I
sent myself a hundred of the illumines
which is the built in currency in
stellar so I just want to talk about one
more thing so Stella d'Oro got a and
this is a pitch anyone is interested in
developing a distributed app they've got
a because it's not for profit they've
got a award quarterly award for anyone
who wants to develop an app an open
source app you can get about three to
five thousand dollars and it's the next
award is in January if you know if you
just make a mock-up app and submit it
you'll get two hundred fifty thousand
lumens which is about a thousand dollars
if you want to buy stellar as you
there's a bunch of exchanges and I just
had one last thing that I wanted to
mention again this is thinking about you
making your own app is there's two
things you really have to concern be
concerned about that's probably
different from any other app that you've
made first off you're dealing with money
so are you okay man
money that anyone could take on the
internet so you got to think about that
monitor your server for regular
transactions and the last thing is if
you're the one managing these keys um
the regulator can come and knock on your
door and ask to see that you're doing
everything properly so like I know a
couple guys in Toronto made a wallet
using Richard kisses library this great
crypto key it's great wallet but they
decided shut down because FBI came knock
on their door and say you guys are
actually in the money transfer business
and please show us all your client
records so be ready if you're gonna
handle client funds the government may
consider it that you're actually doing
banking style if you're just selling
something for Bitcoin I think you'll
find it's more that if you're doing a
wallet or you're doing money transfer
and the company that I'm working with
this got a license for that so the last
thing I would say is you are you gonna
willing to manage the keys if not try
and think about using a web service
because management Keys is fairly
complicated and as soon as you lose a
client's keys you could lose all their
money so it's it's it's something you
really have to be concerned about so
this is summary I hope we did a quick
overview of blockchains and smart
contracts we looked at three of the
popular blog chains and wait a quick
look at stellar and again if anyone
needs any stellar coming I can send you
some if you want to build something
download the library email me I'll send
you some sellers you can develop an app
you could create your own trading BOTS I
mean we're looking for people to rank
trading BOTS to do market making a cat
against lumens or euros against lumens
or we've got Nigeria is up and running
in two weeks someone in China who's
going to be doing market making on the
for the distributed ledger fat thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>