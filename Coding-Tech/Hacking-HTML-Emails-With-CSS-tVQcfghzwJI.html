<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hacking HTML Emails With CSS | Coder Coacher - Coaching Coders</title><meta content="Hacking HTML Emails With CSS - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Coding-Tech/">Coding Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hacking HTML Emails With CSS</b></h2><h5 class="post__date">2018-04-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tVQcfghzwJI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I'm here today to talk about hacking
HTML emails with CSS and all the amazing
things you can do with it so I'm Kevin
Mandeville you used to do web design and
now I do strictly email design so I
converted to the dark side and I'm here
to tell you all about it
I do that at litmus where an email
testing an analytics company so you can
see what your email looks like in over
50 different email clients as you're
testing it's like a browser stack for
HTML email clients so you guys remember
the browser wars fun times right
remember that well I'm here to introduce
you to the email client wars which is
not that much better because there are
hundreds of email clients there's no
standards and next to no official
documentation whatsoever it's kind of
like living in Mordor and I've been
waiting to use that transition forever
so so just to give you an idea of the
state of the industry right now every
single month the email client market
share com we at let miss posted top ten
most use email clients that we gather
from our own customer data we track over
a billion email opens a month and the
stat that I want to point out today is
the rendering engine market share
fifty-two percent is WebKit right now 25
percent belongs to Gmail 13 percent
outlook and then it gets super
fragmented down to ten percent for
everybody else that adds up to it but
when you look at it WebKit outlook in
Gmail those three buckets add up to 90
percent of the market share so all of
our audiences are probably different but
they're variances between these three
categories and if you get a firm grasp
of the rendering in these three
categories you can really tackle HTML
email so for Outlook basics for those of
you who don't know and please for
anybody who didn't clap when they said
they've haven't built an HTML email
basically watch on them they might
hyperventilate about this by Outlook
2000 and 2003 uses Internet Explorer and
it goes by whichever was installed on
the machine so we're typically talking
Internet Explorer 6 or 7 and then it got
even better because Outlook decided to
upgrade to Microsoft Word as a rendering
engine for 2007 to current day which is
still in effect on their Windows
products so yes they're using Microsoft
Word to render HTML and CSS currently
but they also have WebKit for outlook
for Mac in their mobile apps on iOS and
Android so it's a mixed bag for Outlook
rendering the key takeaway is that you
need to use tables because of the
Microsoft Word rendering engine in
Outlook so you need at least somewhere
in your email at least one table to get
it to render properly and we can thank
Outlook for that gmail until recently
actually wasn't much better this is a
lovely flowchart that showcases the nine
different types of accounts across three
different types of rendering for Gmail
and I call this be CSS because this was
before they supported embedded CSS which
wasn't until recently so this level one
over here is basically minimal inline
CSS that it supports it doesn't even
support things like background level two
gets a little bit better with inline
support and then level three it does
have some hacks that you can get more
things to work with but until recently
we've needed to inline Styles CSS Styles
because of Gmail because they did not
support embedded CSS and this was the
the major client that was a big holdout
on that but I'm happy to say two months
ago
Gmail officially launched support for
embedded CSS and media queries and I
don't know about y'all but I was
fangirling a little bit over this it was
a pretty big deal
they had a great blog post about it and
they are the first official major email
client to release CSS documentation they
don't have HTML documentation but they
actually released CSS documentation
which is a great step forward and then
WebKit there's not too much to discuss
here it's not exactly the same WebKit
you're going to see in a browser but for
all intents and purposes it's a good
WebKit rendering engine there's some
differences like there's no support for
viewport height and some more modern
things but the WebKit rendering engines
and the families of Apple male iOS male
very very good and they're the best
rendering engines there is ok so now
that we sort of have that background
covered let's actually dive into some
examples here I really love talking
about the layout packs we've done in
HTML email you figured out how to do
responsive email without media queries
so the basic concept that you want to do
is you want to have a fluid to fix
layout structure so you want to start at
100% full width for mobile for clients
that don't support media queries and
then you want to scale that up and
constrain it for the desktop so in this
example we'll use 600 pixels so in CSS
it's really simple right if you just
have a basic div even if you wanted to
define the width you could define it at
100% and then constrain it with a max
width of 600 pixels but our good old
friends at Outlook do not support the
box model so they don't understand
widths on divs because of the Microsoft
Word rendering engine but what they do
have how many remember the internet
explorer reset style sheets you could
use yeah well they are still that
conditional comment but there's actually
a conditional comment you can use for
Microsoft Outlook
if MSO and this is magic every single
version of Outlook from 2000 and 2016
has their own version number and you
also can use less than or greater than
conditions along with it so you can
target groups so you can do things like
if MSO 12 and that's going to target
only 2007 if you did if G tems o 12
that's going to target Outlook 2007 and
above so basically the entire Microsoft
Word rendering engine so we can do this
to solve our layout problems by wrapping
our div in a conditional outlook table
so it only appears for Outlook and
nothing else and we can move to more
semantic HTML email I use if gt/e MS o9
so that's all of the outlooks plus the
Combinator if with Internet Explorer
just as a catch-all but that's just for
one column what if you want to get
multiple columns right that was easy
we're getting a little bit more complex
there's several solutions I'm gonna go
over one today it's called the fab floor
technique this was developed by Remy
Parmentier is a French email developer
couldn't be here today but amazing you
should absolutely follow him so this
relies on the premise of min width width
in max width and which winds out when
you use all three values so in this
example here when we have a min width of
160 a width of 328 e the width is going
to win because it's larger than the min
width but smaller than the max width if
we were to swap this so the width was
480 and max width was 320 the max width
would win because it's larger than the
men
but smaller than the width and then
finally if we put them in with that 480
the min-width would win because it's
bigger than the width and the max width
this is what and this should be in line
but this is what a fab for property
would look like for a column that we
want we would display:inline-block so we
can mimic floats to have things stacked
next to each other if we want we're
gonna have min width and Max width as
fluid percentages and then the width
we're actually going to use calc and
here's what these properties mean min
width is actually going to be the column
width so you want for desktop max width
the column widths for mobile and width
is basically going to be used to
determine which one wins out we're
simply using that equation to determine
a min width or max width winner so
though calc we use for width in the
equation is the sum of the break point
value - 100 percent times the break
point so let's take a look at an actual
example if we have a parent container of
500 pixels that's going to be 250 pixels
for the min width 500 pixels for the max
width and for the width that 100% is
going to be the 500 pixels which comes
out to negative 9600 in this case the
min width wins because it's smaller than
the max width but larger than the width
and we get a two column layout if we
were to do a 400 pixel the min width
will be 200 pixels the max width 400
pixels and the width comes out to 38
38,400 and the max width wins because
it's larger than the min width but
smaller than the width so we get a 1
column layout here if we were to use
this technique are we having fun yet
this is what it fully looks like to
accommodate for some email hack so I'm
not going to go through all that today
you can read the blog post for more in
depth sort of hacks around it but this
is what it will look like for the final
expression to deal with some rendering
limitations well let's get into some
more fun stuff so what can be dynamic in
email I want you to think about that
question as I go through this section
one of our most famous examples we've
used that limit is we actually use the
live Twitter feed in an email so keno is
crashing with this video so I just had
to give a still image but it was
basically an animated Twitter
feed that just kept scrolling with new
tweets as it popped in we had 15 tweets
and only five visible and then sort of
scroll them down one by one so I want to
look at the actual composition of a
single tweet and what it looks like
here's what the HTML looks like for that
tweet there's no text it's all using
empty HTML tags and what we did was is
we made every single piece of copy its
own div and use the content CSS property
to fill in the text here for all of the
different areas so it's not actual text
its CSS content it draws elements on to
the page and this is what's going to
help make this dynamic for us now I know
what you're thinking wait we just went
over this whole width stuff there's no
way content is supported when widths
aren't and you're right but we're only
going to use this in certain clients and
this is my favorite hack of all time had
to give a little slide to hype it up
beforehand it's what I've been famous
for popularizing and email the single
greatest media query ever created is
WebKit targeting so if you use at media
screen and WebKit min device pixel ratio
of 0 any CSS inserted into that media
query will only be enabled for WebKit
clients which means we can have seamless
progressive enhancement for HTML email
so let's take that CSS wrap it in that
media query and then we're going to put
it into its own CSS file external
stylesheet again because it's WebKit 58%
of clients actually do support external
stylesheets and we hook up the Twitter
API to that stylesheet to pipe in the
data to those CSS classes essentially
and then for non WebKit what we did was
is we took that twitter feed put it on
its own web page and dynamically
captured an image so even if you're
using a client like Outlook you were
still able to take part in the Twitter
feed you just didn't necessarily have
the nice animation or responsive design
that went with it
so again WebKit we add dynamic external
CSS non WebKit we use the dynamic image
and this was a fantastic hit for us as
we launched our conference we had 7 over
750 tweets in 24 hours over
60% of the recipients had the email open
longer for longer than 18 seconds so
this was great
and by the way this is we we have a
Heroku app simple one-click deploy you
can do exactly what we did here
available to you one of my favorite area
is to talk about is interactive email
and all the cool things that are
starting to happen here and using click
events only with HTML and CSS and the
way in which we can do that is we can
use a checkbox in radio buttons hack so
if you use label tag and then you nest
an input with the type of checkbox or
radio along with the check pseudo
selector you can mimic a click event
simply with HTML and CSS so here's an
example of what a basic checkbox hack
looks like if we just take a simple box
and we change its color from blue to red
you can see what the input is like but
even if the input if we hit it it would
still behave in that way so the simple
code for something like this is if you
have your label on the right with HTML
your input and then whatever the content
below that is going to be what's
associated with that input and you can
use a CSS to have a the checked state
along with it and then you typically use
the adjacent sibling selector a lot with
interactive email for targeting so this
is what just the basic basic checkbox
hacks looks like here's an example that
we use that litmus with the check box
hack we created a full product tour
inside of an email this was for limits
builder our own sort of editor IDE for
email design and development and we use
it to highlight the core features when
we launch the product and this all
happened right inside the email this
took 16 check boxes and this is where I
pretty much lost all my hair I think but
the end result is pretty cool to see it
working in an email 4 radio buttons this
is great for interactions like carousels
where only one option selected at a time
is going to be essentially active in
present so nest has some of my favorite
examples of image carousels they have a
gorgeous product great to look at here
by the way I have all the links to the
code for all of these emails
you can check them out after the fact no
problem mark Robbins he's the Godfather
of interactive email as I've dubbed him
he's really the one pioneering in this
space absolutely need to follow him and
what he's doing he created the most
insane email I've ever seen he created a
fully interactive shopping cart
experience inside an email that used 117
check boxes you could see different
product images you could see you could
choose color size you could add to cart
add and remove quantities they use CSS
counters to dynamically update the
pricing it even had credit card
information stored in there now this is
only a demo it wasn't live in production
but this is where things can actually go
in email and things are actually
possible right now he dubs this
technique once you get up to that type
of scale punch card coding because when
you look at the form inputs it looks
like an old punch card and you can see
how complex some of the the CSS
declarations get where you have things
like a 1 check B two checks C 9 not
checked etc but he's come up with the
systematic way to apply this styling and
it's absolutely amazing it's the most
incredible thing I've seen with HTML and
CSS myself and interactive email with
the checkbox and radio button hack has
61 percent support and email clients
right now because it goes even beyond
just WebKit it has a little bit better
support so these things are possible
target the target suitor selector
doesn't work quite yet I'm hopeful that
it will soon unfortunately it triggers
two clicks in the WebKit clients right
now one for focus and one to sort of
activate the event so I'm hoping that'll
make things a little bit easier than the
old checkbox and radio buttons hack 2
but I just want to show I mean
creativity it comes from constraint
we're doing all these things just with
HTML and CSS there's a lot you can do in
email and the ones who've really been
the most limiting factor has been
ourselves from not trying or not
experimenting so I'm here today to ask
you to please join the revolution I went
to the dark side it's not that bad
there's so much to do I think we're only
scratching the surface of what we can do
it's really a ton of fun and it's so
adventurous to me I'm having a blast so
I'm here today to really invite the web
developers and design
because that's where I came from and I
really want more of this community to be
involved because you're the one with the
front-end knowledge to really take email
to the next level so you can check all
my slides and resources littmus comm /lp
slash CSS i have a bunch of resources
that I wasn't able to cover today and
I'm so thankful for having you having me
here to let email crash with you guys
for a day so thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>