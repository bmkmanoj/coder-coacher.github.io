<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Functional Programming For People Who Hate Math | Coder Coacher - Coaching Coders</title><meta content="Functional Programming For People Who Hate Math - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Coding-Tech/">Coding Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Functional Programming For People Who Hate Math</b></h2><h5 class="post__date">2017-12-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SlfipOW_ilU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so today I want to talk about functional
programming and before we go too far for
anybody who does not know about
functional programming but as maybe
looked into it and been intimidated this
talk is for you for anybody who is very
familiar with functional programming and
is ready to judge me for my correctness
get ready to judge it's gonna be awesome
so before we do that let's talk a little
bit about me
sorry that's a picture before I shaved
so this is what I look like now and I've
been doing this for a while I started in
about 2003 I got my start on MySpace as
I think most people in my generation did
building custom headers and super sweet
little flash animations I'm really big
on process and efficiency which is one
of the reasons that I got into
functional programming and it's one of
the things that I do at IBM it's you
know kind of why they brought me in I'm
also very big on work-life balance
that's a whole different talk that I do
but the short version is that once upon
a time I I worked so hard that I got
stressed out enough that my beard
actually fell out of my head
I changed things and my beard is back I
got better I'm currently working as a
developer at IBM I've written a few
books on nerdy and I am really
really good at bear hugs I do a lot of
bear jokes and I'm sorry
so before we get too far into this let's
talk a little bit about what I'm not
here to do because there's a lot going
on in this talk and it can be taken a
number of ways so let's start with what
what I'm not doing the first thing is I
am NOT here to convert you I don't want
to make you into a functional
programming believer or a functional
programming purist I'm also not trying
to convince you to convert all of your
code to be written a certain way I don't
think that that's a healthy way to
approach programming I think that one of
the greatest things about JavaScript as
a language and a lot of the the more
flexible languages is that we can do
anything with them and if we take
advantage of that responsibly then we
can get a lot of really really good
things out of it so you should use the
good parts I fir I personally believe
that
best way to get stuck in life in general
but also especially in tech is to become
very dogmatic about the things we
believe if I'm only willing to do
something my way because it's my way or
because it's the way that I was taught
and everybody else therefore must be
wrong I'm not gonna get very far and in
web that's a great way to end up
becoming a legacy developer and that's
not a fun space to be in so let's talk
about what I am here to do I am here to
try to share some of the things that
I've learned through my experience in
building web applications to make your
life a little bit easier so I'm hoping
that through this talk you're gonna
learn a few techniques that are going to
improve your code quality in a lot of
situations but again this is not a
silver bullet so it's not gonna fix all
of your problems cool cool okay so what
is functional programming so functional
programming is kind of an interesting
thing who here has tried functional
programming or looked into it a little
bit okay of all those hands keep them up
if you kept doing it
okay so handful of hints came up okay so
you guys are gonna be super pissed to me
by the end of this talk
so what does this mean this was one of
my very first intros to to functional
programming who is looking at the
documentation this is from Ram Das and I
love rammed I use it all the time but
I'm gonna pick on him really hard for a
minute this makes no sense to me at all
I have no idea what it is and if you do
know what this means this would be a
great time to fake an urgent phone call
because it all goes downhill from here
so then you start digging into the the
examples and they don't get a whole lot
better so we're looking here at the the
lens which the what we were just looking
at this is called the signature of the
lens function now I'm gonna be totally
honest I still don't know what this
means but it's something about what goes
in and what comes out in those letters I
assume stand for strings or arrays or
something so it's not super clear but
then you get to the examples and the
examples rather than showing you how it
works
introduce I think six additional
functions that you need to look up
before you can understand how lens works
so it's really really opaque and it gets
worse because the jargon in functional
programming is horrendous when I first
started looking into it I thought okay
this looks useful I could try this and I
asked somebody hey what does uh what
should I do to learn functional
programming and they told me go study
category theory and then come back and
and start looking at code examples
that's like I'm not I'm not gonna do
that so you just start seeing all of
this ridiculous jargon and it just goes
and goes and goes for days and finally
you're like you know what I get it I
give up I don't want to do this at all
so I love this jiff by the way I could
watch this all day
so I gets overwhelming there you just
kind of start feeling like okay this is
like this is that stuff for the really
advanced like math majors phd's people
who are not me because I'm not I'm a
college dropout I have no education in
computer science everything I've learned
I mostly learned from w3schools so I
have like no formal training whatsoever
so when I start looking at you know
monads or category theory I just I go
blank right but I don't actually think
that's what functional programming is
and that's why this space pisses me off
so much because I feel like functional
programming is this incredibly powerful
tool that isn't that hard to get into if
you can avoid the jargon so let's try
this again with the jargon free version
and I'm kind of lying about backs I'm
going to introduce some jargon but I'm
going to explain it so functional
programming is code that is designed to
help make our code easier to understand
in debug it makes it cheaper and easier
to maintain I'll talk a little bit about
why it's more legible once you get your
head around the the style of functional
programming it's more reusable more on
that more testable which is probably my
favorite part of it and it's less
error-prone
and we can do that by following three
fairly simple rules so the first one is
we want to try to use fun
actions instead of loops whenever
possible and I know that sounds a little
crazy it sounded crazy to me when I
first when I first started looking at it
but it makes more sense as you look at
the the structure you also want to try
to always return the same result if you
have the same input to the function and
if you're rolling your eyes at me right
now I promise there are reasons and you
want to write functions that do one
thing no more big mega functions so
let's look at at each of these steps
kind of in depth and look at how so the
first thing functions in most cases are
better than loops and let's look at an
actual example so if you're looking here
this is a list of beverages and if you
if you notice there's a problem because
vodka made the list of beverages and I
realized as I'm saying this that I'm in
Scandinavia and I clear alcohol is
totally a thing here so I'm sorry
everybody but we want to use a program
to fix this this beverage list so a
little bit of jargon before we get
started there are two ways that we could
solve this problem
there's imperative programming an
imperative programming is probably what
we are most likely to encounter in the
real world an imperative programming is
an idea of your program explicitly
describes how something is done I'm
gonna make some American pop culture
references I hope they translate so this
is a movie called When Harry Met Sally
and the way that she orders food is
extremely imperative it's very very
detailed I like it heated but I don't
want the ice cream and I want it on the
side but strawberry instead of vanilla
it's very very very detailed and there
are a lot of places for it to break it
and it's also extremely easy to get this
wrong and it's hard for the people
reading it to follow so another way to
approach this is what's called
declarative programming and this is one
of the concepts that kind of sits
underneath functional programming which
is the idea of describing the result
rather than the steps to achieve that
result this would be a way of ordering
declaratively doesn't matter doesn't
care if they're sunny-side up or
scrambled doesn't care if they're
hard-boiled
he just wants them all does that make
sense everybody with me so let's take a
look at some code and actually fix that
beverage list so the first way we're
gonna do it is we're gonna look at doing
it imperative lis and so you can see
here what we're doing is we're setting
up a for loop then we're setting up an
if and inside of that if we're said to
make another for loop and then inside of
that we're setting up another if and
ultimately what we're trying to do is
decide for each person if the person has
beverages loop through the beverages see
if that beverages vodka and if it's
vodka fix it
that's a lot and it's something that we
lovingly refer to as the pyramid of Doom
the pyramid of Doom is that idea of just
infinitely nesting everything and you
can imagine in more complicated data
objects this pyramid gets deep and it
gets really really hard to debug because
what happens if that structure changes
somewhere between the first and seventh
loop right you have to rewrite
everything in the middle maybe probably
so this is not a particularly
maintainable way of approaching this
this problem so let's take a look at a
declarative solution so declarative code
is going to instead of setting up loops
we're going to write a function called
fixed beverage fixed beverage accepts a
string and replaces the word vodka with
whiskey okay
then we're going to write a function
called help if confused and what that
does is it returns it takes a person and
it returns the person but it replaces
the beverages with a fixed beverage if
that exists right and then finally we
map the help if confused to all the
people so instead of setting up multiple
loops we set up a to function like two
steps same as the the imperative
solution it's two steps get all of our
people
check for beverages get all the
beverages and fix it right we're doing
the same thing at the bottom we take all
of our people and we map a function to
it and then inside of that inside of
each person we map a function to the
beverages same solution significantly
easier to maintain because if something
changes and that beverages I
ends up being nested two or three levels
deeper we don't have to rewrite a
pyramid of doom to make that change we
just have to rewrite that beverage
function and we've solved the problem so
the result that comes out is identical
we get the list back and vodka is fixed
so for anybody who's not familiar with
it I use something called mapping
mapping is an extremely powerful way to
apply a function to every element in an
array or a list or however you want to
iterable what that means is something
like this where we have a function
called double which will take any number
x to a list of numbers and we want to
double each one of those what we would
have to do imperative ly is or I don't
even know if you'd call this in but you
know without using math is you would set
up an empty array you would loop through
each of the numbers and you would run
the the multiplication to get your
doubled list if you do that using map
you don't actually have to do that you
write the function you get your list of
numbers and you just map that function
it's a much cleaner it's a little e and
once you get your head around the the
terminology what mapping is it's a lot
easier to understand than a bunch of
loops and fours and things like that so
something that I would really recommend
for everybody try to get familiar and
comfortable with the different array
methods and I'm gonna list several of
them at random there are a lot more than
this filter is very good for getting if
you've got a list of numbers you can
apply a condition and if that condition
is true it keeps it in the list super
useful sorting if you want to get them
in alphabetical order or if you want to
apply a sorting function you can do how
you know however you want to do that
every means that if everything in the
list is true then it matches everything
in the list matches then it comes back
true or you know all sorts of good stuff
and there are many more of these so
everybody with me so far
all right I see some nodding heads
rule number two we want to always get
the same input given the same or the
same output given the same
and if you're looking at that thinking
well of course that's what code does if
you execute code it's always the same
and that's that should be the goal right
if we start our program it should be
predictable but there are a lot of edge
cases where that's not true
so let's do a little bit more jargon
let's talk about pure functions versus
impure functions who has heard that term
before see a lot of hands awesome ok
so let's look at another scenario let's
get it we're gonna tell people about our
favorite thing and I bet you can guess
my favorite thing is whisky so we we
have a function and this would be an
impure function we set a global variable
called whisky then we build a function
called describe my favorite thing which
grabs that global variable and returns a
sentence describing my favorite thing ok
so far so good
then we get a feature request ok great
so let's clarify I don't like any whisky
I like aged whiskey ok so good that's
that's a good thing I want that
however this then starts going through
QA legal gets involved and we decide ok
whisky is not a good thing this is a
family-friendly app so they change what
my favorite thing is and they change it
globally to scented bubble bath ok and
the problem is if we've got a
sufficiently complex app we might end up
with code that looks like this where we
set whiskey up at the top functions are
happening and down at the bottom it says
that I like to drink bubble bath that is
not what I intended when I wrote this
program and it was it's really difficult
to debug this because again you don't
know where these things are being
handled these functions are black boxes
black box functions are almost always a
bad idea so instead let's look at how we
can make these functions pure get the
same thing so if we take this and
instead of making it a global variable
let's just accept that variable as the
argument so really nothing changed
except you have to explicitly pass what
you're sending to that beverage or to
that function as an argument so when you
put in whiskey as the beverage it'll say
I prefer to drink quality whiskey
I put in orange juice it will say the
same thing only orange juice instead of
whiskey very predictable if we want to
clarify we have to pass in the thing
that we're clarifying and when we make
it family-friendly that's always going
to return scented bubble baths notice
that it's returning and not setting a
global variable and that makes it
significantly easier to debug so if we
are describing and I left off
no I didn't so we have our favorite
thing is declared as whiskey and we can
do it as a constant because we're not
going to modify it we then clarify it
using clarify favourite thing and we
also get a new favorite using make
family-friendly and when we call these
functions we can see what was passed
into each one of these so we're calling
it with my favorite thing so we can look
up in the code to the Declaration and
see immediately okay that makes sense
that's what we wanted and then when he
gets weird describe my favorite thing we
know that we should probably look at
what new favorite is because something's
not right
okay so our debugging just got
significantly easier and another bonus
of doing it this way when you have when
you have functions that always return
the same output for the same input you
get something that's called referential
transparency and this is a big word that
basically means same in same out and
what makes it so powerful is that we can
replace the function call anywhere in
our code with the result of that
function call and for testing this is
huge because it means we don't have to
test our entire app if you're testing a
series of functional calls you can test
each one as a unit test and know that if
that unit tests pass anything that calls
that function before it runs itself is
also going to pass because there's no
way that it couldn't if that function is
pure so that means that we're looking at
something where if I say you know I love
clarify favorite thing cheddar I love
aged cheddar those two declarations are
the same because of the referential
transparency of clarify favorite thing
clarify favorite thing with cheddar as
an argument will always result in age
the way that we wrote that function and
this is really really really good for
testing because we can literally test
that and we know that that's true and if
it's not true it means that somebody
broke our function or we broke our
function more likely added bonus this
allows us to do something called
composition composition is the idea of
plugging together multiple functions to
make super functions and a really useful
we'll look at some more useful cases of
composition here in a second but what we
can do is take this describe my favorite
thing function and the clarify favorite
thing function and we can compose them
together so a little bit of weirdness
with compose it might look like it's
going to run from top to bottom it
actually runs from bottom to top because
if you were to put those on a single
line function on the right gets called
and that result gets passed to the
function to the left of it to the left
of it to the left of it until you get a
result there's a way in RAM de if you
want you can use pipe which will reverse
that order if it's more logical for you
to go top-down for me with the functions
it made more sense to think about it
it's like each one calling the next but
what this does is when you compose we
pass in the functions as arguments
notice that we're not calling them and
what that gives us is you know a super
function that when we pass in whiskey it
will clarify whiskey so it changes it
from whiskey to aged whiskey and then it
passes that result aged whiskey to
describe my favorite thing so our result
is I prefer to drink quality aged
whiskey this is extremely powerful
because each of those functions is
individually unit testable and when we
start reusing these later in our code
it'll make our code base a lot smaller
because maybe just clarify favorite
thing could instead be clarify whiskey
and we have another one that would be I
don't know clarified juice and we would
change out instead of aged it would be
fresh-squeezed right so any of those
things could be done but we wouldn't
have to rewrite the I prefer to drink
quality blank that function continues to
be useful so composition like I said is
the same as calling it like this
describe my favorite thing with clarify
favorite thing as the argument and
whiskey being passed to it it's just a
little bit
easier to read the benefit being you
don't have to drop the data in upfront
so rather than having to build a gross
loop that would call each result you can
build this function once and then map it
to an entire list to get all of your
results okay so let's do each function
does one thing we have a scenario here
where we have a list of we've got four
albums I was too lazy to make it small
enough to read so just trust me that
there's four and what we want to do is
is filter by genre
so there's hip-hop rock and indie on
this list and we want to filter down by
genre and then sort by the artist now if
you can notice that when you're sorting
this isn't like a typical sort where you
would just be able to do a to Z because
we have to get into the artist field and
then sort by that this is another really
good use of the the array methods so if
we do this as an all-in-one solution
like a monolith function so to speak you
would end up getting the album's you
build an empty array to hold the
filtered albums you have to loop through
them run an if statement if it's if it
matches then you would do the filtered
push then you would have to also do the
sort and that takes another function
which is going to then give you the the
ordered albums and the way that sort
works is a little compute I have to look
it up every time I use it you basically
compare the two things and provide one
or negative one as to whether or not
they should go up or down or zero if
they're the same it's just just just
looking up like you're never gonna
memorize it but if you do it as one
function per step this gets a little
simpler if you create a function called
by artist descending you just have to
define your filtering function okay and
then I have another function called get
only in D that checks for the indie
genre and then I can run them just
chained basically the the you know we
could do this with with RAAM
dysfunctions that would allow us to
compose them but since the array
prototype lets us just chain them
together you know we don't need to bring
in a library for that so now we've got
we start by taking our albums we filter
to just the indie
then once we've got our list of indie we
sort it by artist ascending but this
gets more powerful because we can
actually make this even more useful what
if we wanted to allow our users to sort
by genre kind of arbitrarily well we can
take our initial filtering function and
run something called curry that I'll
talk about in just a second and then we
can build our different filtering
functions just by calling filter by
genre with the the genre that we want
and then hip-hop is albums filter only
hip-hop right super useful but what's
that curry thing and it's it's not this
curry it's this curry currying is named
after Haskell curry who was one of the
mathematicians who helped popularize the
concept and what it means is that you
can call the functions and stages so
imagine that instead of having to give
all six arguments you could call that
function six times each time adding
another argument to the front of the
list so let's look at an example of how
that works if we wanted to add two
numbers together we've got add numbers
one and two and it will return numbers
one and two if you tried to call it
without currying it with add numbers and
the number two it would fail it would
give you an error but if you curry it
then we can call it with add number two
and it'll give us another function and
that function then accepts the second
argument but it's already got another
number it's got the number four in it so
we're able to take a really generic
function and make a more specific
function out of it using Carine this is
extremely useful I mean this is a pretty
trivial example but as you start looking
into like let's say that I've got a list
of tags that I want to filter against
and so I need to send in a user object
and a tags object I could curry a
function with the tags object already in
it so then I just have to pass in the
user object so it makes it easier to map
against an array of users does that make
sense I see a couple people anybody
still awake okay so so let's take a
minute let's recap I think we got a
sufficiently nerdy so functional
programming is something that is going
to allow us to write
and this is just a straight copy-paste
so I'll go fast it's easier to
understand in debug it's cheaper and
easier to maintain it's more legible
it's more reusable more testable less
error-prone and all we have to do to get
all of those benefits
remember that functions are typically
going to be better than loops always
return the same result given the same
arguments no global variables no
side-effect I'm not going to talk about
side-effects basically accept an
argument only use things that were
passed as an argument always return
predictable result given those arguments
and make your function small right
functions that do a single thing now
this is just the very very tip of the
iceberg with functional programming and
if you go deeper you're gonna start to
see things like monads like category
theory and that stuff can be super
useful but you don't need it you you
don't need to be a PhD to start using
functional programming today you can get
all the benefits without learning a
single mathematical term so I hope that
that you guys will do that that's what I
just said that's all I got so thank you
very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>