<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>That Time I Used Ruby To CRACK My Reddit PASSWORD | Coder Coacher - Coaching Coders</title><meta content="That Time I Used Ruby To CRACK My Reddit PASSWORD - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Coding-Tech/">Coding Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>That Time I Used Ruby To CRACK My Reddit PASSWORD</b></h2><h5 class="post__date">2017-12-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rE6q2YsYfp8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">ah so I am here to talk to you guys
about the time I use Ruby to crack my
reddit password kind of so my name is
Hasib Qureshi I'm a software engineer at
earn calm and I I'm going to tell you
guys a story so I used to be addicted to
useless websites I still am but I used
to be too and you know I'm sure you guys
know what this is like here's just an
artist depiction of what a useful site
might look like we all have our own
poisons you know I probably have
something like this also I should note
that I have no self-control
to speak of so that's pretty bad so this
is actually a it's kind of a nightmare
but this is actually if you guys
remember your English class from like
high school or something when you read
The Odyssey there's a famous story about
when Odysseus tried to maintain some
self-control by tying himself to his own
mast my problems are not quite this
severe but they're kind of similar in
their own way and so you know keying off
the story of of the Odyssey I decided to
use that ancient psychological technique
that Odysseus used which is locking
himself out of his online accounts what
he did was a little bit different but
basically I feel like it's kind of the
same right basically analogous so let me
tell you exactly what I did to try to
spend less time wasted on on useless
websites so on most these websites you
have some kind of password system and
obviously you can change your password
so what I did is I typed into some
random gibberish so I just I just
grabbed my keyboard and started smacking
away came up with something sufficiently
weird and entered that in as my new
password okay and of course I don't
remember what this string is just a
bunch of random characters I hold on to
it though and I also changed my account
recovery email so now I have a new
password that I did no idea what it is
also I've changed my account recovery
email to a throwaway email that I just
created that I also threw away the
password to so there's no way to get my
account back save for this password okay
so this password is the key to my
kingdom
alright so what I do is now my plan is
to prevent myself from having access to
this password until some later date in
the future right
so you know for now I want to go into
crunch mode I want to study you want to
practice I want to do it
I got to do that you know these
time-wasting websites are keeping me
away from so I need some way to receive
this password at a later date
now unfortunately normally the way you
do this is through this mechanism known
as friends
not-not-not so I figure there's probably
some way to automate this right you
don't need friends
so I go and uh you know let you use the
Google to try to figure this out and I
come across this great wonderful website
called letter me later and this kind of
sounds nice like okay it allows you to
send emails at a future date and time
you choose you know no friends required
this is pretty perfect for me so you
know it's a little bit 1995 looking but
that's okay you know maybe they're just
really focused on what they do so so
what I do is I go ahead and compose a
new email to myself I create an account
and what I do is I fill in a subject
line I'm gonna call it password because
it's my password set a date in the
future where I'm going to email it to
myself
put it in my my password in there and I
set it on to hide mode and with hide
mode what that allows me to do is not
actually click on it when I log in to
letter me later and so when it's hidden
I have actually no way to see it until
it gets sent to me right so I got it you
know foolproof I know that I'm just an
awful human being and so the only way
that I will not access my password if
there's literally no way I can get to it
okay so for a while I actually used this
system to keep myself from wasting time
on highly addictive useless websites so
so my talk is actually not about you
know productivity techniques this is a
programming conference after all so why
am I telling you all this so actually
the story the story is a little bit more
involved so I use this for a while it
was pretty effective but later on it
ended up coming back to bite me so cut
to two years later so two years later I
was working at Airbnb and I had a job I
was gainfully employed surprise surprise
I don't I didn't really believe it
either but that's fine and so you know
what that means I'm working at
everything be there a huge rails app a
lot of chests and of course that means a
lot of waiting and waiting means that
it's time to start wasting company time
so what could I do to you know obviously
I can't do work well the test suite is
running that that would be silly so what
I do instead is I I want to go and you
know get
to get back into smile time voicing
activities so I want to go log back in
to to this website so I go back to let
her me later I remember that I you know
unlock my password away go back to let
her me later go retrieve my password no
it's been a while spend like a couple
years after so I guess like I kick the
habit for a good bit but now it's time
to you know go back and get another fix
so when I log back in I realize that
it's still grayed out
that's kind of weird because you know I
think usually I'd send it to myself like
a month later at a time you know like
give myself a period of time that is
focus and then a little bit of time to
you know get get back to the candy and I
realize oh I scheduled it for 2018
the last time that I did I put this
there I guess I didn't remember but I
gotten like so annoyed at myself that I
actually sent like some dates super far
in the future just be like screw you see
like you need to get a grip on yourself
and I was like I can't wait that long
this test suite isn't that slow so I so
III got something okay then maybe
there's maybe there's some way around
this so right here is letter me later
here's the actual real website and so I
you know I can log into my account I can
see here this thing is hidden there's no
way for me to see it it's scheduled for
June
other than that I'm screwed and so as I
was clicking around on this I realized I
was about ready to give up but of course
you got to try a few things first I
realized that there's this there's a
search bar here okay well what can I
search for so maybe I can search for my
name and see if my name isn't there it's
not so it's not indexing my name all
right fine
now what if we search for a okay so that
popped up right so maybe maybe you might
be looking for subject lines right and
so you can ascertain that pretty quickly
by typing password I can see okay yeah
it's definitely it's indexing the
subject line that makes sense but
remember the body of my of my my email
was just the actual password right so if
I search for a letter that's not in
password let's look for e he's not in
there okay what about one one is that in
there what about two two is in there
okay so what's going on here
what's going on here all right hold on
hold on let's let's let's think for a
second so I think what's going on here
correct me guys if I'm wrong but I have
a way to do substring queries into my
password I have an Oracle and my Oracle
will basically give me this query right
it will tell me if the body plus the
subject the subject was passed was the
body was the actual password itself if
any of that concatenated together
includes any string that I asked it okay
so when I realized this I ran home I was
I was off work at this place I didn't
just run home from work but III ran home
busted out a piece of paper and a pen
and it was like okay let me see if I can
figure this out how can I retrieve my
password so here's the algorithm all
right let's think about this like think
about a wheel of fortune' style okay so
I have this this big one thing and I've
this subject at the top and the body
down here and I don't know any of the
characters in the body but I do know the
characters in the subject right you can
imagine that I have like a word bank and
the word Bank is all the letters except
I've already you can imagine I've
already tried the letters password right
because if I do a substring query for P
and I find that it returns true I don't
actually know if it's true because it
was in the body or because it was in the
subject right the subject would
automatically give a hit but if you
think about it if I try all the letters
that are not in password then I know for
certain I have hit a letter that is only
in the body and not in the password okay
so if I just keep trying letters that
are not in the string password
eventually I will make a hit once I make
a hit I know I'm in I have one of the
characters somewhere in my password okay
on average this will take actually it
won't take it over to guess it'll take
so what last but you can imagine it's
sort of being somewhere in the middle of
the alphabet I'll try letters until I
get won't get a hit then what I do is I
try to append another letter and do a
longer search because I know that you
know that that letter plus the letter
after it will be a valid substring and
so I keep just iterating through every
single letter including the letters in
password because now any letter can be
appended to this to create a substring
and I just keep going down one by one
until I find the next character and on
average you'll find the characters
somewhere around the middle of the
alphabet and
then I just keep repeating that and
every single time it's gonna take a over
two guesses where a is the size of the
alphabet until I finally have a letter
where I can know other letter works and
if no other letter works then I know
I've fallen off the end that's the end
of this part of the string okay so what
that means I have is not the entire
string it means I have a suffix to the
string right but I don't know where in
the string I started with so what I can
do after that is I can just repeat the
process going backwards right
instead of appending to the end of
string I prepend to the beginning of the
string I just keep going until again I
fall off going in the other direction
and then I know okay cool
that should be my entire string so if I
do this now if you if you think like on
I sort of this illustration not exactly
correct because on the ends it would
take a guesses rather than here are two
guesses because I have to know I have to
exhaust the entire search space and know
okay there's no other letter that
fulfills this string going longer so to
lay guesses for the ends a over two
times n minus two for everything in the
beginning because there are n minus two
characters if you don't include the ends
where a is the alphabet and its length
so if you assume that a is a the
alphabet is a through Z and 0 through 9
all lowercase because that's how you
slam on keyboards also the password
length is 22 then basically that means
to do this entire thing will take about
432 queries that's actually doable
that's like it's like a reasonable
number of things that you can just you
know you used to do entirely serially
through API calls um let's do it how's
it sound yeah okay alright let's do this
okay so here's I'm going to do so I'm
going to create a letter me now dot RB
and let's go ahead and open letter me
now that is that's the wrong folder oh
it's because I'm in the desktop live
coding and let's touch let me now - RB
there we go okay so so first things
first I got to figure out how I'm going
to actually do this do this querying
right I need some kind of access to
Oracle so I'm gonna go ahead and build
that first so so you can see here that
the way this is set up it's like letting
me later calm slash account dot PHP and
then a query string and it's like you e
equals the query right so if I changed
this query to a B
then I can see QE becomes a B okay so
obviously this thing there's no API so
I'm going to scrape this thing directly
that's cool I can do that
so let's go ahead and start this woman
I'm going to create an API class and
here I'm gonna have a URL that I use for
the API class and I'm gonna remove this
part so I can put the credit ring in
programmatically so what I'm going to
use is I'm going to use the Faraday gem
which is just a nice simple gem for
making making HTTP requests and I'm
gonna have a deaf self get method and
it's gonna take in a query and what I'm
gonna do is I'm gonna say Faraday dot
get the URL and the second argument to
Faraday is gonna be the query string and
the query string here just can BQE
should be the query okay so what I'm
gonna do right now is I'm just going to
run this and kind of see if I can make
this work so let's open up pry I'm gonna
paste this code in and I'm gonna say API
yet and let's say I'm gonna search for
the string password okay so that didn't
work and the reason why didn't work of
course is because it's giving me a 302
redirect and it's saying you must be
signed in to see this page obviously I
don't have any of my cookies so in order
for this to work I'm gonna need to make
sure I pass those in in the headers so
that should be easy enough just go to
inspect go to network grab any okay
let's go ahead and refresh here and we
can go ahead and look lips we can go
ahead and look and see okay we've got
this cookie I can just go and grab it I
will make sure to sign out when this
talk is done that way this because you
invalidated but let's go ahead and do
this alright so the cookie equals this
alright great
it's always good when they're storing
the user ID client-side but oh well you
know any port in a storm
alright so first argument is the query
string second argument is the headers so
I need to provide cookie as cookie and
now if I am not mistaken this should do
the trick so if I do API yet hello boom
alright this looks like the actual
webpage so this is a 200 and you can see
just uh yeah yeah looks looks good I
don't see my name anywhere in there but
I'm sure it's somewhere in there okay
great so uh that's fine
now of course what I'm getting is I'm
getting all the HTML of this web page
that's kind of not really what I want I
want to know I want to somehow know like
did this query return true or false so
the way that I can figure that out is
the easiest way is to just look at okay
in the HTML that comes back is there
some unique string that I can I can find
that will uniquely identify that yes in
fact this return true so you can see
your there are a few things that show up
when it's like they're scheduled I don't
think it shows up anywhere else on the
page is also password that doesn't show
up anywhere else on the page whose use
password for simplicity and we'll say
instead of having the sub get will have
self dot itself not include query and
this will just return get query dot
include because I make sure this returns
a dot body and if the body of this HP
request includes the string password
then then I'm good to go and so let's go
ahead and paste this in one more time
API dot include now a sure it's true and
a B returns false
cool so I've got my Oracle all right so
now as I'm testing this I'm not gonna
want to use the real Oracle because
that's gonna be really slow and make a
bunch of HTTP requests I don't wanna do
that to myself or to them so I'm gonna
go and create just a stubbed API that I
can use while I'm well I'm testing that
I can sub that out later with a real API
so this one is gonna have a fake
password which is just gonna be some
random characters okay great and then
we're gonna have a def self-taught
include same interface that's just gonna
be fake password include the query okay
and so now I can use a stubbed API so
it's gonna be much faster right I don't
make an HTTP request while I'm testing
okay
so I need to build that algorithm so
let's let's go and do that so we'll have
a password cracker and the password
cracker is going to it's going to be
stateful it's gonna take in the API so
we'll inject that dependency just to
make things a little bit easier so we'll
have the API equal that will also set
the password to start off as an empty
string and we'll successively find the
password through different stages with
this algorithm and I also want to set
the number of iterations so I can keep
count of that and initialize that to
zero okay so what is this actually gonna
do so we're gonna have let's call
crack method and in the crack method
we're going to sort of go through each
of the steps of that algorithm so if you
remember the first thing we talked about
was getting the first letter right and I
need to like do some logic to figure out
what the first letter is so we'll just
do that we'll say find first letter okay
great
absolute spot a bang on it so fine first
letter okay so once I found the first
letter then I can keep building forward
appending different characters and
seeing if it works so we'll just call
that build forward okay
once I've built all the way forward I've
fallen off the end of the string then
it's time to go backwards right so then
we'll do build backward and then at the
very end I'll just return the password
so that's roughly the code that I want
obviously doesn't do anything yet but
let's let's let's fix that
oops okay so fine first letter so in
order to find the first letter I need to
know the alphabet I'm working with I
also need to know the subject line right
because remember I'm not going to try
any of the characters in the subject
line because they don't necessarily tell
me the character is in the password so
let's just make those constants so we'll
say a subject line equals password dot
chars those are the all the characters
in the subject line right if you guys
remember and the the alphabet for the
alphabet I'm just gonna use the letters
I'm gonna use a through Z all lowercase
because I'm gonna assume that everything
with lowercase if there was uppercase
this will fail and I'll try uppercase as
well and I'm going to also do 0 through
9 0 through 9 and then just splat that
and actually what I'm going to do as
well as I'm going to shuffle all this
just for that in case just to just to
kind of make the numbers more round in
the distribution in case you know the
letters are all on one side or something
okay cool
so that's my alphabet I've got my
subject line now to find the first
letter I want to iterate through each of
the characters that are not in the
subject line
but still in my alphabet okay so should
be easy enough so it's the alphabet -
subject line dot each do character and
for each character I'm going to look it
up in the Oracle so I'll say at API dot
include char so that's to check if this
is the first character let's say if
that's true then what I want to do if
it's true then I want to say at password
equals that character so I have my first
character and then I can return I can go
and jump out of here and if that
completely fails and I don't find
anything I probably want to raise and
say could not find a first letter okay
so this should be able to find a first
letter now all right cool
now one thing I want to do is I want to
keep count of how many iterations I'm
doing throughout this whole algorithm so
to make that a little bit easier for
myself I'm also just gonna have an
include method that both does all the
API calls but also logs the the
iterations whoops okay I'll say add
iterations plus equals one great and now
instead of include API to include I'll
do just include there so that should
return the same thing but just also
handle all the logging for me
cool so alright so that should handle
getting the first letter now what if I
want to build forward so to build
forward it's pretty similar logic right
so I now I'm not worried about the
subject line anymore
I just iterate through the entire
alphabet so I'll say alphabet each do
character and for each character in the
alphabet what I want to do is I want to
see you know try out the current
password plus one more character on the
end right so I'll say query equals at
password plus char just appending it to
the end of the current currently known
good password so once I have that query
I can say if include whoops include the
query then then I know okay great the
password should be the query now the
query is correct so I'll say add
password equals query take that char on
and the easiest way that I'd like to
just do this is do some cursive Lee and
it's actually quite elegant you do it
recursively so what you do is you just
bill forward again and once you're done
with all the building forwards and
eventually build forward finally
terminates then you just jump out of all
the stack frames and just return all the
way back up so because we don't make the
pass would be very long this is totally
fine and this is actually just really
nice this is pretty much all you need to
implement building forward now to build
backward because remember we have to
whip backward to build backward we
basically do the same thing except so we
can you know copy this code right here
but instead of the password plus the
char we prepend the char to the password
so we just flip this around we say char
plus
password and instead of bill forward we
build backward okay and I think this
should basically do the trick
so this provided that we were we didn't
mess anything up which is quite likely
but let's go and see so you can put a
password cracker dot new pass in the
stub API so we can see what's going on
and call crack okay let's cross some
fingers all right let er me now let see
what happens
oh that was at it
yeah that's it okay cool so that seemed
to work with the seven API that was a
little bit uh little bit underwhelming
okay so hold your applause hold your
applause so that's pretty good but we'd
like to have some more logging right
there was a little bit Angi film actor
just have that thing just plop out on
the screen so let's let's let's get it
let's get a little bit more context
going so we'll puts here a cracking
password beep boop okay cool so like I
like my I like my programs to talk to me
and sound like computers all right so
fine first letter so it'll put a found
first letter and we'll put the at first
letter right there okay so then we'll
say puts building forward okay so here
it's building forwards and we'll put
building backward builds backwards and
then at the end it'll say
congratulations your password was found
in at iterations iterations okay and
then basically as I built forward and
built backward I want to always mention
one site once I say okay great your your
password is elongated let's just print
out the password so we'll just put at
password every time that happens so cool
now one thing before a week before we
actually run this you know we're all
engineers here we notice there's some
code duplication let's let's practicing
let's dry it up so alright I think
there's a nice way to do that so we can
instead of doing built forward and build
backward we can just have one method
called build and build the bang goes on
this side bill will just take an
argument that's like forward okay we'll
have a keyword argument and we'll just
say if forward then we'll append the
charge at the end of the the password
otherwise we'll say it's char plus a
password
and if it's not forward if it's going
backwards right so pretty
straightforward and then basically
instead of doing this bill for we just
build and we pass forward whatever
forward was originally and now we can
just delete the two of these whoops yeah
we can delete the old one and now
instead of build forward this just
becomes this becomes a build whoops
build forward true and this becomes
build forward false so now we should be
able to try this out with the real API
so let's see what happens all right
fingers crossed hoping internet here is
good the quest will be in trouble all
right here goes nothing I can pass her
beep boop all right it's knocking this
here we go found first letter first
letters J here we go coming at J - all
right this is exciting we excited yeah
all right hi this is completely out of
my control at this point it's just all
it's all up to the internet connection
okay all right it's it's going look at
that we got a 249 - there's a little
sensory there that's kind of cool
okay we gotta get a G things are things
are moving I don't actually remember
what my password is so I'm just as
clueless as you guys are all right cool
it's it's still been the four it's still
going to nine okay I think it's like
20-something characters so it's we we're
not gonna be here all day I promise
there we're gonna get in time okay okay
good I get worried when it sticks here
for too long so much hi Jay nice what's
going Wow right still going yeah all
right you guys do it by the way you're
all right yeah we got we got a minute
here to just kind of chat and check in
with one another all right nice laughs
the end RP oh okay oh no no please
please oh okay okay so it's it fell off
the end now it's gonna build backwards
is it
it's figured out that's the complete
suffix and it's building backwards now a
okay it's got the eye things are moving
this is good it's a good sign
this hundreds of API calls made see
really not known as paralyzed so that's
this is poor guys who are running their
servers yeah I kind of suspect nobody's
actually at the wheel right now but
that's fine you know maybe maybe in a
few days when they check the logs we'll
see what the hell is going on okay ASD
okay oh and that's it four hundred three
iterations oh my god we did it yeah yeah
oh good oh my goodness oh my goodness
yeah okay so uh that was me cracking my
password now note I just want to quickly
go back to the math so we decided that
it would take 432 expected queries just
doing the math straightforwardly and our
actual number was 403 so we were within
10% of the actual answer so holy
math actually works you know sometimes
it doesn't so that's the thing about
math alright so uh takeaways I mostly
just a funny story but I feel like
there's something there was something
here so the cool thing at least to me
this was actually the first problem that
I really actually had other than
unemployment that I solved through
programming and like it's actually kind
of a magic moment in a programmers life
when there's like something that is like
just broken or lost or it is like you
can't do that's not you know your job
related or you know launching a web app
or whatever I think we kind of get
acclimated that sort of thing but the
idea that like I felt like I had lost my
keys in a desert or something like a way
that was totally unreachable and with
the power of programming I could fix it
I could solve it I could do this amazing
thing that before I was able to program
I was never able to do and that's just
it's just kind of awesome to have that
power and I think as programmers just
easy to to kind of get complacent or get
pissed off at our tools or our abilities
but there's something really awesome and
magical about that that I think you know
it takes an experience like that to
really
that in and drive at home and I think
she's just pretty crazy that we can do
 like that so that's that's it for
me so I wanted to share that story with
you all I'm Steve Qureshi I work at earn
calm which is a blockchain company you
should check it out if you haven't heard
of it you can find me on Twitter at
hasib you can do my blog where I write
about this and other stuff at Hasib q
calm and thank you so much for listening
guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>