<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CSS Grid In Production | Coder Coacher - Coaching Coders</title><meta content="CSS Grid In Production - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Coding-Tech/">Coding Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CSS Grid In Production</b></h2><h5 class="post__date">2017-12-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oPaYUjD_Fp4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we recently shipped our first grid
code in production and I'd like to make
a quick with respective on what was good
about it what was challenging and
basically how grid can help you solve
your layout requirements but fertilize
me credentials myself I'm a UI designer
and front-end developer I will get
stripe and for those of you who download
stripe we basically do online payments
the right way so we've recently updated
our site logo type and visual language
the goal was to improve the structure
and the content to refresh the brand by
making something unique and visually
interesting and to create a set of
patterns that would contribute to build
a strong identity and part of it relies
on these new tilted backgrounds made of
multiple stripes as we obviously call
them and that you can find on all these
new pages with a slightly different
treatment we also introduced a whole set
of new animations and interactions which
apparently inspired some sites anyway so
use all these animations and patterns to
create a consistent look and feel across
the site which means we often we often
treat these patterns to accommodate the
various styles of the pages so here on
the connect page for example the header
stripes in the background almost look
like light rays coming from the sides
and I'd like to take a moment to analyze
how we made them okay so first I've
removed all the content so we can really
focus on the background and try to
understand how it's built so the whole
background is actually just a big grid
container that's transformed using a
skew function so if you use the grid
inspector in Firefox we can clearly
visualize the grid we have five rows and
ten columns and we just tilt the entire
thing by 12 degrees I'm also going to
gonna disable the that rotation for now
to make the structure even easier to
understand so we can now clearly see
this big grid where we can conveniently
place as many stripes as we want exactly
where we want so using the inspector
again I'm just going to highlight three
stripes placed on the grid for example
I'm just placing the first stripe on the
first row and I simply make it span
three columns and then the same
principle applies to the other stripes I
can then just apply a background
gradient on all the stripes to create
the lighting effect and I'm basically
done so if we look at the code it is now
a lot easier than what we used to do so
first the markup super simple is just a
div and a bunch of spans representing
the stripes now for the CSS is just a
matter of defining a template grid and
placing each span individually in the
appropriate rows and columns so on the
parent use the grid shorthand poverty
and the repeat function to easily define
five rows of 200 pixels and ten columns
of one F R so the fr unit I'm using here
represents a fraction of the available
space so in this case it's exactly the
same as using 10% and then for the child
elements we just explicitly insert them
integrate so as we can see from this
specific example Greek comes with many
different properties and shorthands and
while you could always use the same
syntax for everything relying on the
appropriate shorthand or property or
long term long form probably make the
code shorter and more expressive so for
example grid areia lets you define the
start and end values for both rows and
columns into a single declaration so
that line means start on the third row
span three columns end on the next row
and on the last column so this last
value I'm using here minus one is super
useful in grid as it allows you to count
in Reverse which means you can cover an
entire track we don't know in the exact
number of rows or columns
so that works for placing all the
stripes in the grid backgrounds and know
that all the positioning is down the
last thing to do is just use cue the
entire background so to do that we just
transform the entire grid container to
create a tilted effect and we give it a
background gradient and that's also
compared to what we used to do this is a
lot nicer and to be clear is not just
easier to code it's also a lot more
robust and maintainable for example our
previous implementation relied on
position:absolute and that led to many
subtle visual flows like a one pixel gap
between two stripes caused by a slightly
different rounding on two percentages so
just by using a grid instead we avoid a
whole bunch of issues and additionally
the green implementation makes it a lot
nicer to build a responsive structure so
here for example we have a mobile-first
approach where we define five columns by
default and then when the viewport is
wider than a thousand pixels we update
the template to define ten columns
instead by simply increasing our custom
property inside a media query so that's
both super convenient and super
efficient and it allows you to
dynamically change the design
significantly with just a few rules so
that's one use case where grid really
shines and proves to be a much better
solution than any other method and the
more you use grid the more you can see
how it can elegantly solve any tricky
layer issues so for example this is
another use case where a grid made a ton
of sense so we have this structure with
a small introduction a paragraph and
then a bunch of animated chart
illustrating the various flows stripe
connect enables so if you use the grid
inspector again in Firefox we can see
that the whole thing is just to be grid
and we can clearly visualize the gap and
and grid tracks and the part I want to
focus on is
this specific area where we have two
elements in the same cell we have the
pattern in the background and then the
chart above it so these are two separate
elements because I needed to move the
chart left and right during the
animation without moving the background
with it and that's another thing that
grid makes super easy to do so we have a
simplified mark up at the top and then
the Styles at the bottom so on the
parent I just define my template grid
which has a fixed column of 340 pixels
I've fixed a fluid column sorry that
takes the rest of the available space
and then a gap between these two columns
of 40 pixels so the gap shorthand
property I'm using here is basically the
same as the previous grid gap shorthand
property but which is now also available
for flags box and multi columns so it's
kind of a big deal anyway so after that
I just select my two elements which both
have an ID
starting with diagram and I just place
both of them in the exact same spot by
forcing both of them to start on the
third row and second column so this is
effectively a replacement for
position:absolute you don't have to take
elements out of the flow anymore just
place them in the same grid area and you
can stack them easily and that means you
even have access to that index so if for
some reason I wanted my background to be
above the diagram I could simply give it
as an index and to be clear that's not
just a nicer way to stack elements you
can do many things with great that
position:absolute simply cannot do for
example with grid you can Center all
child elements horizontally and
vertically even with variable widths and
Heights and all of that in literally one
line of CSS so in case you're not
familiar with the place items properties
its new shorthand property for a line
items and justify items and if you only
specify one value in this case Center
it's just going to use that for the mess
value so that's super convenient and you
obviously have the same thing for a line
content and justify content with the
place content shorthand property so as
an example say you wanted to stack all
the elements in the center of the body
well you could simply place all of them
in the same cell and Center them
automatically no matter their sizes with
place items Center so as we could see so
far most of the work in grid is done by
the container so instead of dealing with
each element individually for their
positioning we do almost everything
right from the container and that is a
crucial difference between grid and
other layout methods like flexbox for
example so to illustrate that let's take
another example from the same connect
page so we have here three columns with
an icon a title and a paragraph if we
highlight the grid we can see the gaps
rows and auto columns that have been
dynamically generated to accommodate the
content so usually this structure used
to require some extra markup to wrap the
content of each column in order to
display them side-by-side but we agreed
that's not even necessary anymore since
the structure is now defined by the
container right in CSS we can keep a
very clean markup without adding several
wrappers only needed for the
presentation of the content so here we
only have the semantic markup actually
needed to describe the content which
means we have a very flat and a very
simple structure as far as he says we
don't even explicitly place our content
in the grid here we simply let the
content flow into the template rows and
auto columns define by the container so
the auto flow keywords means here that
we feel decreed by columns instead of
rows and that each generated column is
going to take the same fraction of the
available space so in this example after
the third element filling the first
column it automatically creates another
column of the same size and it keeps
doing that for the next elements
so that illustrates how in great most of
the work is done by the container and
how your markup isn't really dictated
anymore by your presentation needs now
if we come back again to our initial
markup you might be wondering how you're
supposed to create a fallback for all
the browsers that don't support grid
with with such a minimal markup because
in order to create these three columns
with Flex blocks of float or whatever
you really need a container element for
each column so you're probably going to
do something like this
now the previous CSS grid code won't
work anymore if we add these new deep
wrappers but it would be really
unfortunate to change our grid logic
just because of some temporary fallback
needs so instead what we can do is to
literally ignore these wrappers right in
the CSS grid code the thanks to display
contents these developers will basically
be replaced by their child elements and
so the initial grid will continue to
work as if there was no Rapper's at all
in the market so that's really good
because if you eventually drop support
for all the browsers or if you write all
your fallback roles after all your grid
code because you know maybe that was not
the priority for your target audience
etc well you don't have to change your
grid logic it just keeps working as
expected
now we haven't really touched yet on how
to create these fallback rules so the
typical way to handle that is to write
your fallback rules first and then to
use CSS feature queries to override the
fallback review properties and values
now the obvious downside of that
approach is that it forces literally
everyone to download all these fallback
rules that might be completely useless
for the vast majority of your customers
and additionally there's a good chance
that even if you decide in the future
you don't need all these fallback rules
anymore because literally 100% of your
visitors use a great friendly browser
well I bet you won't feel like manually
editing all your style sheet to see the
being shared between the full-backs and
you override and to remove all the code
that's not necessary anymore so don't
just make assumptions check e feature
queries are the right way to go for your
target audience but for us it was
crystal clear that this was not the
optimal way of serving fallback roles
our analytics made it clear we have a
fairly technical audience and honestly
almost everyone was already using a
great friendly browser so instead of
using scissors feature queries we chose
to create a separate fallback stylesheet
in JavaScript and to insert it
dynamically only if it's actually needed
we can't rely on the CSS dot supports
method because that might not be
supported by a browser that actually
needs the fallback stylesheet so we just
check if the grid property exists in the
style object so to be clear this
approach is kind of a trade off because
it's gonna be a little bit slower for
browsers that actually need the fallback
stylesheet but it's going to be a little
bit faster for modern browsers as they
only download what's truly needed and
additionally all the fall backs are
completely isolated from the main
stylesheet so we can just decide to stop
serving fallback rows in the future if
we want to so it's really up to you to
decide who you are optimizing for but
for us that approach made a lot of sense
so that was a lot of technical details
and maybe a lot of new properties and
values and you might be wondering if
it's actually worth learning all this
new stuff and potentially spending a lot
of time writing for back roads etc so my
recommendation is yes take the plunge
immediately even if you're not
comfortable at all with grade the
current page we analyzed was my first
Grid project my first real grid project
and well I knew the spec pretty well
before there is a huge difference
between knowing and practicing and it's
only after shipping a real project in
production you will really understand
the value grid bring Juliet to your
layouts and I can guarantee it's going
to be a breath of
air in your front and journey so enjoy
and thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>