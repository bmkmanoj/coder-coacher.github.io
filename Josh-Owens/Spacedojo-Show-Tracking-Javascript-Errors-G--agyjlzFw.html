<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spacedojo Show - Tracking Javascript Errors | Coder Coacher - Coaching Coders</title><meta content="Spacedojo Show - Tracking Javascript Errors - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Josh-Owens/">Josh Owens</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spacedojo Show - Tracking Javascript Errors</b></h2><h5 class="post__date">2016-06-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/G--agyjlzFw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to the space dojo show i'm your
host josh owens along with my special
guest co-host today and do good welcome
Ben hey so and then our guest of honor
today is JD Trask from Reagan welcome
Janie thank you very much for having me
yeah so we don't we haven't talked about
it a whole lot but I think one of the
things that you have to do when you like
release an app into production is have
some kind of air tracking and you are
the CEO of ray gun is that right it's
correct co-founder and CEO yep so what
exactly does ray gun do so we built ray
gun a few years ago basically to sort of
scratch our niche and also just to
recognize that software faults are a big
issue I mean our industry's been
innovating it's such a tremendous rate
that just as just as soon as we get good
at something we move on to the next
thing before we really dial up the
quality and I think we're starting to
see a bit of a change there I think you
know the likes of you Google's your
Facebook's and all that I sort of
setting the precedent that crappy
software is a bit unacceptable and so we
we built a product to do software error
reporting and it's across all platforms
is about 20 25 different platforms that
we support javascript is obviously a
really really big one these days so yeah
and then the company's been on a real
tear since then nice yeah so you guys
added there's something called pulse too
right yeah so late last year after crash
reporting had been out for a couple of
years and and we'd sort of manage to get
that rock solid it's absolutely a
best-of-breed product and crash
reporting and we decided that there was
a natural sort of connection to real
user monitoring which is an actual it's
an industry space where a real user
meaning that you're tracking the
performance to your actual users and so
you know if you go and look at my
website or my mobile app or anything
like that I want to know how long did it
take you to actually load up the page
and understand that the
the performance story there behind that
so we break that down into like the DNS
time the SSL handshake time that how
long did it take to the server to start
responding those sorts of things it's
far far better than just doing a
synthetic check from you know a lot of
people do the whole hey I tested from 55
different locations or 10 but these days
that's kind of like testing data center
to data center it's not so great that's
usually over fiber optics top top
quality connections between things not
not really how they uses the same thing
so we release that and it complements
the existing product and first and
foremost was the web support not the
mobile stuff and it's entirely driven up
our JavaScript library as well so with
the the real user monitoring like you
know I've done where you install
something on the server and it's kind of
looking at response times as far as like
returning queries from the database and
that kind of thing the real user monitor
is like more of a client side like it's
it's like you're getting all that
information from the browser like once
the user connects and everything like
the browser can tell you all that
information yeah so take for example a
modern web application if I'm strictly
using an APM tool that's tracking things
on the server and it says oh yeah we ran
these three queries they took this long
and the server generation took this long
then we returned it that is useful
information to a developer specifically
a back-end developer but what it doesn't
tell you necessarily is that the user
requested say / maybe the root of an
application and it first loaded the page
and let's say it was single page
application so made the first request
then it fires off some Ajax calls to
fetch other blocks and load them in
there and all that and that might also
have some server side impact but
effectively at the end of the day we
sometimes forget we're building software
for other humans and so it really all
that matters is how quickly does the
page load from my user how much
satisfaction are they getting I think
sometimes we can lose sight of that as
engineers we love the code we love the
tools we're working with but at the end
of the day it's the users not whether a
query took certain length of time on one
request
yeah yeah i mean that's that's a fair
point like coming from like I spent the
last couple years of meteor and like
they don't have a way to split up a code
base like the JavaScript the minified
javascript file and so like if you
connect a crater you're sending like to
megs of JavaScript over before the
application can really work and like
even in the u.s. that can be a little
bit slow but you know I think it's
interesting to be able to figure out
that it's it's like running really slow
for people that might be in another
country and you don't even realize it
well there's other countries and there's
also the rise of mobile where even if
you're in America and I mean
incidentally I seem to get a bitter 4G
connection in when I'm in our new
zealand office then i do over here i
assume just because it's less congested
over there but you know we break down
that's that story within our real user
maunder and say well how does it compare
between a mobile connection and it sort
of fixed line because yeah I could I
could be in America and have a 2 Meg
download and if I've just I've I'm
connected to a congested tower that
could take a really long time to
potentially load up on a mobile device
and with the rise of your tablets even
some laptops now coming with the you
know actual integration with cell
networks you never really know when
somebody be loading over those
connections yeah so you guys provide all
these feedback and these kind of
analytics of you know what real users
are experiencing you guys let's say you
know if I my customer using using ray
gun or using pulse I received this
analytics and I don't know what to do do
you guys provide like prescriptive
feedback that's everything yes and no so
in the in the know round so when we
first released the product late last
year we would record everything so we
can give you the waterfalls on loads
where you tell you the assets that are
slow those sorts of things and on the
year side is that we are just about I
think next week we're running and
internally releasing a an extension to
the product called pulse insights and
it's a it's a free add-on for erics
sting users and what it does is we
collect all of the data from the end
users who are doing things and that
effectively gives us this corpus of URLs
than the side and now obviously v1 this
works only on public facing edges but we
then go out and crawl it and we run
things like the Google PageSpeed and why
slow type rules on pages and when we do
that the plus side of it is I'm sure you
guys are aware you die if you're
diagnosing a software issue on a given
page you will go and run it through page
speed or something okay yeah unless and
there's no case is and what not
that's still single page specific right
so what we wanted to do is so we'll try
and scan all the pages we can and then
we can say to you something like hey Ben
you know this page is slow here's the
rules that were broken and when you're
trying to prioritize that you might sort
of see well actually this rule is
universally broken across your site if
you take the time to fix this you can
actually have a positive impact across
all of the pages on your side which I
think there's a lot more helpful so
that's where it's becoming a stronger
yes that we are trying to give people
help and I think that is actually where
we get into the next stage of these
sorts of tools for people is a lot of
them I I considered sort of the
stargazing data porn type products you
know I take Google Analytics I always
have to remember to go and look at that
thing because it never reaches out and
tells me something abnormal happened it
doesn't tell me how to resolve things
really and I believe that the second
wave of things actually saying hey you
should do this or this thing blow up go
and take the section is becoming what
people are expecting now yeah yeah i
think the whoops model is really cool
you see all these slack bots and slack
ops and chat ops and all these things i
think that's really cool yeah absolutely
i mean that slack and HipChat are our
top two integrations with ray gun for
pumping and messages to the team you
know we do email as well obviously but
we've seen a real decline and the people
wanting those because you'll get
something like take the error monitoring
error pops in there you know the whole
team kind of sees it and then they can
have that discussion around it and
they'll be like ah you know what Josh
pushed something last week and
easily goes our me a culprit that might
actually be me I'm sorry about that I'm
sure that never happens judgment no no
never totally yeah that's that's pretty
awesome like I think I think people
underestimate the value of Lake I well
some people do like if you look at the
old amazon story of like 100
milliseconds equates to like a million
dollars or something like that tools
like this kind of matter because like i
was i was reading something it might
have been one of your guys's tweets or
something but like um people don't come
back they really come back a second or
third time when an app isn't working you
know and that up first impression
matters that speed matters so i think
this stuff's like hugely important and
undervalued a lot like people don't
think about it when they're deploying
and this stuff's pretty easy to add on i
think i think you're bang-on I mean
there is the performance I the thing
that sort of blows my mind a wee bit is
still the arrow tracking because that's
been even less adopted then performance
monitoring and what we found when we
instrumented our own existing software
was it maybe get 1% of users ever tell
you something went wrong and then your
chance of actually being able to resolve
that on you know depending on the
audience can be pretty low and that's
you know it's kind of like saying people
might not fly somewhere if the plane you
know takes too long to get there they
definitely won't fly somewhere if the
plane blows up you know it's like so I
think crash reporting is massively
undervalued and then secondly
performance is largely undervalued
because it usually takes companies to
get to the size that they have data
scientists that start waving their arms
to say hey we've tracked this and this
sort of philosophical rants that i'll
try not go on here but largely that as
technologists and development folks we i
don't think a lot of us have earned the
right yet to or behave in a way that
actually gets us to sit at the
decision-making table because we don't
raise these things we we let things go
way too far before we say
actually we should have this sort of
monitoring i can give you this sort of
feedback and here's the data or the
story that dials back to why it's good
for our customers why it's good for our
business we do tend to focus a little
too heavily on just what we what we have
what we have in front of us right now
what we're working on I think we've got
to change that in the industry
definitely you don't know the question
man um yes I think like you were saying
just the the idea of area tracking is
really undervalued which is strange
because yes stuff is breaking people
should know um but it helps find a lot
of errors what about like so you guys do
track errors what about custom like
logging messages or I wanted to just log
certain things myself so you can you can
always throw an error with some sort of
details if you want a common one that we
have the people uses validation
frameworks where they want to record how
often people are failing validation but
they don't necessarily want it to be a
full-on crash report so we have the
ability to sort of split between the two
because we can give you the data like
what percentage of your users actually
have a crash rant era and you don't want
to necessarily say that just a
validation failure that that counted us
there but you want to know about those
so you can actually send data to us that
way secondly you can tag any of the data
that you send to us to do filtering and
then lastly you can also attach custom
data which could be anything you want to
be binary it could be another JSON blob
it can be what it was useful to your
business to help you diagnose things so
an example of this might be we have a
user at the moment who's testing the
software that uses a calculator to help
their customers understand their pricing
and they know that they have issues with
that and so what they want to do is they
want to actually attach the the model
that they've assigned to the calculator
to any error reports that are triggered
so that when their team is looking at
they think any are okay we're miss
handling this particular format /
version in the model that might have
been stalled by the clan
those sorts of things so we're trying to
give everything we can to people we also
store all of the data it's not just an
aggregated line of error rates it's like
hey look here's piles of data and thing
I always chuckle about what that is one
of our highest feature requesters please
give me a csv export and you know you
turn around and point out somebody that
you actually have 80 gigs of data for
them and it's probably not going to suit
CSV admit that's okay I actually haven't
thought about how much data this can
stack up to but I mean the great thing
with with error reporting you talk about
you know being undervalued we sometimes
have these discussions with somebody
usually smaller companies where they'll
say hey you know we don't think that
this should cost you know we should be
paying say a few hundred dollars for
this and again this comes back to that
develop a maturity thing where it say
well do you think that the bigger cost
to your business is the three hundred
dollars or the 400,000 unhandled errors
that you have a month you know like I'm
pretty sure the letter is going to be
harming you a lot more and you could be
making a lot more money can we use a
much better experience if you actually
just went through and resolve some of
the problems yeah I definitely agree I
mean yeah I don't know I the other thing
that's like sometimes helpful too is if
you are getting like 400,000 dares to
your inbox or something like it looks
like you guys have some kind of like
intelligent grouping or smart grouping
so that like I remember back to the days
of rails and using the I think there was
an open source a detractor you could add
on and it would just send you an email
every time there was an air didn't
matter if it's like when you have
200,000 people hitting your site in a
day like that that's really unbearable
to get that in Europe absolutely so what
we do is we do a sort of a fingerprint
on each hero that comes through we then
roll it up there is also some options to
customize the grouping if you don't like
how we do it by default but by default
we have a pretty good grouper and then
what we do is we'll send you an email or
post into your slack or however you want
to configure it
and we'll say hey Josh we just saw this
error occur it's brand new you should
probably go look at it and then we
monitor that for about two minutes so we
see if more errors that match that
fingerprint come through and if they do
we'll do a follow up with you and say
hey just been two minutes this eras have
cared another thirteen thousand times
and the rates accelerating you should
really go and look at this and then we
repeat that at the 5 10 and 30 minute
mark and that has worked tremendously
well but saving somebody's inbox they
get the rate the trends all of that but
they're not getting you know drownded
and this kind of comes back a little bit
too when we first looked at building
Reagan was I reflect on my time working
in the IT services company where the
good developers they would write their
own little exception handler which would
usually email themselves and showing my
age a little bit this was the days of
like you know you had a 10 megabyte
inbox you know so you deploy something
that was crap and suddenly no more email
for you but the big challenge was is
that once you had that volume as well
you started to train yourself not to
look at it because it was usually noise
not signal so we have all these things
in there to say permanently ignore
certain errors as you guys will be well
aware the browser is a pretty hostile
environment in which to operate so
there's a lot of things that will report
on and you can permanently ignore so it
won't count towards processing quota we
won't bug you about you don't want to
see it because you can't fix it I mean a
classic cases them the Chrome browser
extensions that run inside the same
scope as the JavaScript on the page so
occasionally we get in the air and be
late what's this talking about one
password for oh it's the extension had
an error turn that off because I can't
fix that those sorts of things so yeah I
mean trying to make sure that you're
giving people only information when they
should take an action or at least seems
important so they can choose to take an
action I think is one of the keys to
success in any sort of product for sort
of dev dev ops so I'm kind of curious
like I was just looking over the the
features and you have integration for
like github and bitbucket
do you guys like um use source maps or
like do you minify a file I guess you
can't really do that but like somehow
you're able to tie like hey this code
Brook here and like here's the line of
code in github do you have that feature
yeah so what we do is so in terms of
source maps we support our customers
having source maps we have quite a few
guides on building source maps and we've
even recently put up our own source map
validated because I think a lot of
people are only just discovering source
maps and seeing the value of them and I
know that source maps kind of have come
out almost as like a de facto standard
rather than a hardcore you know planned
standard as such and that has led to
their being quite a lot of different
ways of approaching source maps so we've
supported them for ages and we support
several different models of that too we
will obviously we receive an error we
know that javascript file will go look
for a map file and see if we can
automatically fetch it will check in the
JavaScript file to see we might pull
that to see if we can find the actual
reference to the map file which is
another way of doing it we also support
uploading it to us manually so you can
have private source maps generally I
feel like that's a little bit of the old
security through obscurity but you know
a lot of people seem to like being able
to post the source maps to us for our
private processing so that stuff all
works and then because we have the
javascript file we will automatically
try and put the code once it's been
processed by the sauce event processor
in there so you can see the code in line
with what was going on with the stack
trace so that'll happen regardless of
the sort of the source control
integration source control integration
is more about being able to create say a
github issue directly from Reagan
referencing the issue details or connect
it to an existing issue and github
bitbucket Visual Studio online and then
secondly we have a deployment tracking
system so you can actually Peng us so we
can start telling you which deployments
had what sort of health characteristics
so error rates went up new air is
introduced by this deployment these
things reoccurred and with that you can
put the get hash on there and we'll go
through and pull the
met detail so you could actually go in
and have a look and say I'll write this
actually rolled up all of these code
changes this looks like it shouldn't
have been in there maybe that could be
the issue so the integrations are kind
of multifaceted when you talk about
bitbucket and github we have also just
added get lab integration since that's
the cool kid on the block these days
yeah yeah that's a good point too
because like you know you hear stories
about places like actually github and
when they deploy their code like they do
almost like a soft deploy in the watch
airs for the first 10 minutes and if
they rise like though auto roll it back
and like notify person I had code in
those commits like maybe there was
something wrong so I guess you could you
could almost build something like that
with my god absolutely so we have a good
friends at octopus deploy so they build
a deployment system or usually done in
apps but really you could probably get
anything in there and we've been sort of
talking with them over time about the
idea of actually integrating with the
deployment system so that we can ping
the rate information to say yeah this
went to high order matically rollback a
deployment the only wrinkle you run into
that is you kind of want to ignore the
first one minute because oftentimes when
you change things over there can be a
spike but that following nine minutes
for example should be pretty calm and
that's the thing that we're trying to do
I think get how to have a fantastic
engineering blog where they talk about
the stuff but frankly you know not every
company has the engineering capability
of say a facebook at google it github
these these big companies that are
really focused on it so we want to try
and make our tools available to
everybody else to achieve a similar
outcome cool you guys provide like web
hooks to so let's say I if I wanted to
roll my own kind of deployment
monitoring system if you could just you
know receive all of the the errors and
then go okay like on my end I would just
reverse the deployment based on that
yeah so we do have a we do heavily
booked so you can hook up to them we
recently also made it so you can
register multiple we put in points so
that was originally just one
we're always improving that and we're
also looking at additional web hooks for
various events and things we do have at
the moment one we're working on the
ability to do that around a deployment
so that if a new error occurs you can
sort of identify who the person was that
did the deployment to alert them to it
so that that sort of scenarios is
becoming quite popular now yeah I'm seen
there's a AP I actually so you can just
post your deployment yourself and you
just give it like the API key and a
couple of things information yeah it's a
pretty simplistic way of registering a
deployment there's also the ability you
but the nice thing about that is if you
were to get started you can actually
kind of go through and backfill your
deployments if you're that keen on it it
also gives you a nice pretty chart as
well of the cadence of your deployments
because something like Reagan really
helps I believe in helping businesses
adopt that sort of continuous deployment
model because you've got this sort of
safety net if you will you know that's
usually when you talk to people about
why do you have a monthly release cycle
or two weekly release cyclin it's it's
out of fear they're going to break stuff
and say well if you can deploy it see
the error come through sit in like 10
minutes redeploy 10 minutes later and
sep or roll back while you do the
deployment you know that's that's pretty
cool it also has been interesting to
watch people so we have this real user
monitoring things so if you act but not
the I've gobbled up my my usage of the
language there but you can identify your
users if you want so let's say we do
this for three gun itself if we want to
identify the user who's logged in we we
provide an email address and their name
and that gives me a view then of all of
the users of our system I can see all of
the errors tied back to those users and
I can see the performance data about
that user great thing about that is i
can see somebody has an issue and we fix
it i can actually contact those people
and say hey we really sorry about that
problem you had it's not been resolved
go back and try again
you want to see a way of turning an
at-risk user who's not having a good
time into a huge advocate you do that
you know that it blows people's minds
like you know that's so trained to get
the Microsoft Word stop responding you
want to send this to Microsoft and
you're late or the first 10 times didn't
work so why would i but do you imagine
if you got an email from Microsoft the
next day saying you know hey pin so that
word crash yesterday there's gonna be a
hot picks up next week we'll solve that
you kind of go holy like that's a
totally different dynamic you know yeah
that's really cool I saw them in the
features I was going to ask you because
I think that's that is really just
killer yeah interesting point it's a
pretty big deal some companies obviously
due to their privacy policies can't use
it in that way what the what we have
seen people do though is say rather than
give an email address they can put in
any identifier so some of them will put
in a primary key for the user in their
database stuff they even need to go and
find out who it was they can but it
means nothing to us which is a great
halfway house for you know protecting
the user identity but being able to
track it back to your own users gotcha
and then you can still do all the the
pulse like that goes for both pulse and
the air tracking track oh yeah yes so
the way we hit we have the crash pudding
we have pulse now both you know eid for
products and then we have the users and
the deployments and I like to think of
them as being sort of the horizontal
products if you well aware the more
things you put on top the more we can
light things up so like deployments did
the performance change did the errors go
up users okay what crashes for them what
performance story and then whatever we
bring out on the platform down the track
will ultimately light that up further
and further so it's a it's the piece of
the product that just gets more and more
and more valuable than more bits you put
on top of it cool so I've got another
question you mentioned Google Analytics
earlier and how it's it's like the pull
model you have to go there to see things
yourself and they don't tell you when
things are happening and this user
tracking but what else is different like
what else differentiate from google
analytics this part
I think there's an element where large
companies understand real user
monitoring because it's a tool around
for a little while so to them they
already know what to look for that's
different for people that are just
approaching it it does look a lot like
an analytics product but it's not it
just happens that because you collect a
lot of the same data you can provide
that like the browser's the platforms
the user journeys those things where
real user monitoring as stand on its own
is around that performance story and
being able to slice and dice it by say
geo data and maybe you find that the
transfer time to say your customers in
Europe is taking too long so you want to
maybe set up a data center over there or
you know use your cloud provided there
to make a quicker we also collect you'll
be aware you know when you go into
google chrome and you look at the whole
waterfall model of what how the page
load so we collect that on every single
page as the users go through and we can
present that back and we can show you
the the media and the average the p 90 s
the p90 nines give you that distribution
of how the performance is working and
they're so that's super useful and
that's actually the big core difference
on being a Google Analytics type product
so it just happens that we have some of
their data as well it probably won't
last forever but the other benefits that
we have over that is that one we're not
script block yet like we're not part of
anybody trying to screw that out and
secondly we have developed the system so
that you can self host our JavaScript so
I remember there was a heck a news
article a while ago about self-hosting
your analytics and people kind of were
like yeah you get better data but
there's a royal hassle having to run
your own analytics system well I should
have the benefit that you could self
host the JavaScript and just have it in
with yours and you know you can report
on that and still get all the benefits
of a hosted system without the blocking
cool nice so you guys do like you do air
tracking on both the server and the
client is that right we can do air
tracking on the server the client mobile
apps with a native web everything so
we've kind of got we've got the crash
reporting space pretty well covered do
you I mean so primarily the the
listeners here are JavaScript a lot of
them came from a meteor background I
actually did a little bit of research
before the show and found someone
actually has a mediator package that
integrates ray gun so that's kind of
cool esli do you like what other kind of
front ends do you have packages for or
do I just install your script and I
don't have to worry if I'm using reactor
angular you usually don't have to worry
too much about the front end stuff we
have put handling in there for specific
scenarios like I think jQuery from
memory did some things where it was
wrapping the Ajax calls that would by
default mean that we weren't able to
record them as well with the stock
standard capability but the nice thing
is with JavaScript being such a flexible
language that we could actually put
things in there to look for those and
not necessarily have to a bloke the
library too much or be sort of have
these crazy dependencies going on so
that's been useful there is I mean there
is the stock standard scenario where for
example we can we can plug in and
collect errors pretty well but if you're
using the real user monitoring because
you don't have the same sort of page
view system we're not getting the
request response type behavior because
you've got a single page app there can
sometimes be a little bit of
customization I like to joke that maybe
you have to put in a second line to do
the integration usually into your router
rooters might call it over here to make
sure that we record those events of
navigation since you know in a single
page app normally it's just a sort of a
Dom event really sometimes it's not even
got a request going on we do track the
AJ stuff automatically but to actually
say hey they viewed this pay
age when it wasn't really a page that
does require a little bit of
instrumentation not a lot I mean it's
effectively the same as what you'd have
to do with a Google Analytics or any
other framework I so tall that you're
doing for tracking so with that like I
know that the big thing now is like
react native and native script and some
people are doing Cordova as well like
can I just still use the JavaScript
package for that or do I need to use
something else so we have customers that
are working with caught over and the ray
gun for jayus package comfortably I
haven't seen too much around native
script or I think we have had somebody
ask about react native but to be honest
it hasn't been the demand yet for it one
of the things that is important to note
though is that our providers are all
open source on github so we like to work
with people on that stuff so I always
encourage folks to say hey if you wanted
to get it working with one of these I'm
happy to allocate engineering time at
our end to working with you to make sure
that works but I've never been a big fan
of us trying to develop support for a
framework that we're not using ourselves
and just doing a half-ass job at it so
that's that's our sort of way forward
for some of those things as they emerge
gotcha so you mentioned HTTP requests
and kind of just understanding how they
work in the whole request response model
but with WebSockets is it a similar
story there but you have to manually
pull out to Reagan web sockets are
definitely a bit more involved again for
that so we use web sockets in the pulse
UI and so we use pulse ourselves to
track our own product and scenario for
when you're just feeding data in an hour
Matt gets quite messy especially because
they're often sort of a live connection
as such where you're feeding data
through so like in pulse you've got the
live page where we show you the activity
around the world that's occurring on
your website and the data is going down
what's it is just an active connection
you're not
actually saying that it started and it
ended your fan is wanting to almost
track was there any activity or maybe
was there a force to close event so what
we have done so far is we actually just
record almost as an error if the
connection is not available and there's
a fault from the server side to try to
connect to the to the end user which has
proven to be it's a challenging area to
work on because you do run into the
situation where you have things like
browsers where say you change to another
tab and sort of it you know the browser
will basically power down a range of
features often including the WebSocket
capability where you lose the connection
so some of those things become messy to
try and to try and manage so in general
I'd say best support is standard HTTP
requests good support is your modern
sp-a support where it's using Ajax calls
weakest supporters web sockets just
because they are fiddly and used in so
many different ways by people that makes
sense yeah yeah if you have a great idea
on how to handle that in a in a generic
way for people I'd love to hear it but
yeah yeah I don't know I mean if you are
using node so if you're running
JavaScript on on the server in the
client you might be able to
intelligently pay attention gonna be
pretty hard to do it generically yeah
and we do have a node provider
specifically written for node so it'll
try and pick up other things in the
crash reporting side anyway it'll look
at things like the CPU available memory
things like that that might have been
causing errors again estimates the
flexibility of javascript is that
occasionally we run into people who have
set up their node stuff using the
JavaScript provider rather than the
notes / sig 1 + yeah it all works we've
definitely got a lot of people using
node with it and we use node ourselves
as part of our API layer
is there any like performance costs of
tracking all the data I know you said
you guys are capturing the the chrome
graphs and stuff for everything is gonna
be slight but it's probably it's pretty
negligible so what we've done is so one
in crash reporting the overhead is
basically not unless you're throwing a
lot of years because we by default are
going to be listening for the unhandled
exception event which means that there's
the cost of wiring on to an event which
is basically nothing and then if there
are a lot of problems yeah that's going
to generate some body but we make sure
that we are defensive about all of us so
for example wherever possible and this
is just generically not JavaScript but
we will always try and make sure we do
things asynchronously we make sure that
we're aware that the internet may not be
available even in the JavaScript
provider it's got the smarts so no I'm
not actually connected right now maybe
Park this in local storage to try and
send later we also make sure that that's
a rotating log so we don't just fill up
all your local storage with the infinite
loop here those sorts of things so we
try to do our best to be a really great
sort of citizen inside your app fully
aware that it's actually a.m. it's an
honor that that customers will have us
executing and their app we need to
respect that the whole way so I don't
think we've ever actually had anybody
have an issue with the overhead of
things in the post side we do collect up
those stats and in a similar way that
designed to send the end there is a
synchronous as we can possibly make them
you know if they do fail they'll fail
silently those sorts of things we've
also worked pretty hard to minimize the
actual size the blob so if you looked at
it you know in the chrome devtools you'd
see that everything's been renamed down
to like one letter properties that we
then turn into the proper stuff at our
Inge but yeah
cool yeah that makes sense oh nice yeah
I are definitely like run into that
before I worked on another project where
they were having performance issues and
they had a performance tracker installed
on the server side and get that the
thought was that it was causing
additional performance problems but we
couldn't pinpoint it and so they just
removed it but then at that point we
didn't have any metrics so we couldn't
prove that it got better yeah so that's
that's a big challenge at the APM world
where you install an agent on a box and
the reason that that's usually very
expensive and it depends very much on
the on the language that you're
targeting like some languages are very
friendly to being profiled and some just
you might as well throw away half your
tough your CPU to just profiling it what
we've seen it we think that the we don't
do a p.m but what we see there is i'm
not sure why people necessarily run it
so much given the overhead of some of
the languages i think it could be done a
lot better we even recently we ran into
a similar thing where we found a
provider out there where they more or
less remove the timings from their own
recorder so that if you're looking at
the stats you kind of go okay there was
no performance overhead of Albert's and
actually wait a minute how could they
never be any overhead that doesn't make
any sense it must be getting removed so
it was worrying that's a heart that is a
really hard space to work in because
you're actually you're saying we want to
monitor performance and in order to do
that we want to take some of your
performance that's a balancing act
come to do you guys have any cool just
like zero to hero case studies where
people didn't know they were throwing
thousands of errors and oh yeah yeah I
mean so we've the classic thing that
happens with everybody and forewarning
to anybody coming and looking at our
product it's everybody thinks they're a
small plan there are 25,000 there is a
month there's no way I generate that so
there's a reason it's called the small
plane and it ain't because it's super
common to be less than 25,000 you don't
have to be big for that and so one that
blows people away we've had one customer
who has two thirds the active user base
of Twitter and they did a mass
deployment their entire app v2 and they
were generating a hundred and ten
thousand exceptions per second that we
managed to auto scale and handle pretty
well so that was that you know they
didn't need those emails doing the roll
up saying that the rates were high
pretty pretty obvious the most common
thing we run into is people say I put
this in I was blown away by how many
faults there were I then managed to
reduce our error rate by say eighty
percent in like three weeks this was a
huge win for us and now we don't know
how we how we ever operated without a
tool like that that's like the canonical
user case and in terms of people even
leaving the service we don't really get
people leaving unless their business
fails like they're a startup that was
looking at things because once you've
actually had that data why would you
ever want to fly blind again sir you
know I'm kind of curious like we've
talked a lot about the product but um
I'm curious what your stack looks like
to because I know that like dealing with
a lot of incoming air data or a lot of
incoming metric data big requires
actually quite a bit of scaling once you
reach a certain amount of people like
what what kind of stack are you using to
like run the app and handle front end
that kind of stuff
so the API notes are presently running
an odious we're actually a fairly big
Microsoft dev house so the web app is
written in asp.net-mvc it uses
marionette and backbone on the front end
we've got multiple different data stores
in there across my sequel postgres
elasticsearch Redis you know
particularly different layers of caching
hot data one data code data we actually
wrote our own storage engine last year
which has massively improved our ability
to deal with the volumes of data that we
have because our belief is that we need
to store the raw data because when our
customers are trying to solve something
they actually want to go through that
and secondly they often want to export
the data and do their own analysis so if
all we've done is taken the data and
done some aggregations and given you a
pretty picture that's not going to help
you actually fix things and so we've
we've got that in there which is exceeds
its it's fairly the spoke it has a lot
of similarities probably to the Hadoop
file system project if you're if you're
aware of that one where you know we
bring the data together we do collect
some aggregate information and then we
have those case notes to minimize their
number of rights and things we are
probably about to we also we also have
some go in the mix there so for iOS
crashes because we do support iOS
natively you have to run what's called
sumbala fication process to turn the
stack traces from effectively like
unreadable hicks addresses and memory
back into a human readable stack trace
and so we orchestrate all of that with
go on some mac boxes running a decent
modification process well this is a
modification process so it's a bit of a
mix and I think that that's um it's a
fairly common thing we see these days is
the sort of polyglot setups even in
smaller companies we people are now sort
of picking the better tool for the job
you know I saw it you retweeted Josh the
other day somebody saying that you know
if you if you have to butcher the quote
but if you have to crap all over the
previous language you learned as a
reason for
adopting the newest one and it's like
that it's kind of like imagining you
know somebody a carpenter or someone
going hey you know I've learned how to
use a saw so all acts as a now you
know and it's like no actually
everything kind of has its strengths and
its weaknesses you need to find out
where it works best for you so yeah
that's why we've ended up with different
bits and pieces in different places yeah
I totally agree like I I used to do a
podcast where I talk to people like
github or I don't think i ever got
anyone from twitter but like we would
just talk about like their stack and how
it was set up and like any company that
had to scale beyond maybe 10 15
employees and like you know a couple
thousand twenty thousand users like at
some point they end up leaving this idea
of like we just have this one technology
managing everything up they end up
moving into this like hybrid lake we
just gotta do what's best and what makes
the most sense like you know what i
think that's an underdone depending
driver along with many others for some
of the movement towards microservices
i'm not really a big fan of the term
microservices I just think making
services you know like if anything
microservices is just that you know the
new way of talking about service
orientated architecture but the idea
that you say we have an API of some sort
you don't have to care what it's written
in behind the scenes then team needs
that and who you know I've picked the
best thing for them which might be just
that that's their skill set or it might
be that it's the best language for that
particular capability and that's useful
and growing teams yeah definitely again
that's I to me like I'm super interested
in graph ql for that exact reason it it
gets like instead s'more disconnect
point between the front end and the back
end where you don't have to care about
like you know you can use any database
behind a resolver and it just L knows
how to get its data and return it to you
and like you can figure out behind the
scenes out of scale that was
so yeah absolutely totally agree excited
for for graph ql you do it's funny it's
interestingly with with anything around
with a yeah graph database to let i see
people when they start playing with
these things they either don't get it
but i like oh my god this is the coolest
thing i've ever played with you know
yeah alright well i think i think we're
at the end of our time here thanks so
we're coming on the show JD no it's been
a real pleasure great to chat with the
both you and bid yeah so real quick
before we do our pics would where can
people find out more info about Reagan
so we are at Reagan com reyg you in calm
we're also on Twitter is at Reagan I oh
so we recently changed from reg and I OB
in the domain to the.com and if people
want to ping me directly on anything I'm
Trask JD on Twitter so tra is k JD nice
well yes so every every time we do one
of these shows at the end we just go
through and do pick it can be one pic if
there's more than one like feel free to
say that too but doesn't have to be tech
related if it is that's okay but you
know just something that's that's been
improving your life in some way yeah
well it's it's slightly nerdy but i
recently got a the oculus rift i was one
of the original Becker's so they see me
one for free which was very very nice of
them and I mean I have 25 ideas of
coding behind me but I I've been playing
with this stuff and I just think you
know it is super early on it is super
early on but I've got a feeling that
like this is the the next biggest thing
that's going to happen I could see a lot
of stuff moving into VR a lot of people
at the moment don't think it's there and
I feel like that's the same sort of vibe
that you got with people with the
internet probably in
like 94 you know it was like oh yeah
there's some gimmicky tricks here and I
can better say this thing is is pretty
cool and you know the extra bits are
tech that they keep putting putting in
there so I grabbed the dk1 now it's on
the raft and it's got that sort of the
depth perception where I can move my
hand that'sthat's tripping me out I'm
loving that I'm super excited to see
what happens there yeah like my
co-workers got the HTC vive and it's
it's just like you put it on and it just
blows your mind like how we talked about
almost everybody that I talk to if I say
it this thing's gonna like change the
world down the track like not this
version but the trend and when I took
someone in the gay yeah I'm like have
you tried any of these right there's the
problem yeah yeah anyway that's that's
my pick it is a bit bit geeky but it's
cool anyway thank you very much for
having me guys yeah ya do I guess my
turn ya hey um so I've got a couple my
my fiance is my first pick holding us
down I'm getting married in December
pretty excited um well some man so
that's exciting and my second pick is
this there's this article i can pick it
up full-stack redux like we've been
doing a lot of redux on the client and
we're doing this crazy fool microservice
architecture where you have each node
has its own redux store on the back end
and there's like a bunch of nodes so if
it's super interesting but this is a
good really good tutorial on getting up
learning with that so cool nice yeah I'm
gonna I'm gonna have to go with the
Apple watch like I was not originally
sold on it like I've actually had it for
a while but um I don't know went running
the other day in lake so I've committed
to try to run every day at this point
and my phone had died and usually like
if my my phone's dead like I'll just
play I'm not gonna run cuz I can't track
how I did which may be stupid but um it
turns out like i just i used the Apple
watch instead and like it tracked the
run just fine actually it was pretty
since i tracked my run every day and i
tend to run the same route like I know
roughly where am I Liz and like it it
dinged me within a couple feet of what
my phone thinks Ismail so was I was
quite impressed even without a phone
like how accurate it seems to be so
starting to dig the Apple watch I'm
excited for have to watch os3 yeah it
looks like there was of a lot of the
shortcomings doesn't it yeah definitely
cuz like it's it's so frustrating to try
to spin up an application or something
and it just sits there like spinning
spinning spinning after war so I'm kind
of excited friends instant launch you
should go performance tracking for ever
watch totally totally cuz it's terrible
right now yeah I think everyone knows
their apps are terrible but like there's
not much they can do about it so yeah
maybe it'll get better and absolutely
all right well thank you for being on
the show JD really appreciate it it's
been great thank you yeah and as always
a big thanks to the sponsor digitalocean
if you need hosting check the mountains
ocean calm and if you enjoy these shows
you can go to patreon to PA tra un calm
/ meteor club and you can subscribe
there and and help support the show so I
recognize you next time see ya I this
video has been in space dojo production
you can click the learn more button to
find out more about us at space dojo com
or in click the subscribe button to get
notified about new videos who put out
each week
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>