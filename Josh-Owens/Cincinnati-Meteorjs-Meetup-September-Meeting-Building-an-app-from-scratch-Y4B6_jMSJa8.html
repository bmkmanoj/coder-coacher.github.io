<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Cincinnati Meteor.js Meetup - September Meeting - Building an app from scratch | Coder Coacher - Coaching Coders</title><meta content="Cincinnati Meteor.js Meetup - September Meeting - Building an app from scratch - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Josh-Owens/">Josh Owens</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Cincinnati Meteor.js Meetup - September Meeting - Building an app from scratch</b></h2><h5 class="post__date">2014-09-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Y4B6_jMSJa8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to the September medium jf meet
up for Cincinnati i'm josh owens we've
got some people here in the room too if
you're online not here you missed out on
some great conversation earlier we
solved all kinds of problems like world
hunger you missed out we're not sharing
um yeah all right uh so this month we're
doing a planning poker app if you're not
familiar with it let me share my screen
I'll show you kind of what it looks like
um this is really looking blowed up this
tiny image so the idea is that you input
user stories and you use those for
estimating how long you think something
is going to take so a lot of times like
pivotal tracker or something like that
they have a Fibonacci sequence of points
that you can use and so they like
everybody gets together and they say how
long they think this story might take so
as an admin I would like to add new
users so that they can log in and so
everyone kind of signs a number the more
points you give it the harder you think
it is and so the idea is like obviously
in this picture the 3 and the 20 are
pretty far apart so there should be a
discussion that happens and figure out
who's more accurate maybe they meet in
the middle maybe the five or the 13 is
is where the point the point should be
on this story but the the idea is that
you get people talking maybe one guy
knows about a bug you might hit or
another guy knows about a shortcut so
figuring out roughly what you think it
would take and so the thought was
tonight we could work through getting
stories inputted and then getting the
planning poker like picking your number
and revealing that going on and then if
if we had some bonus time we'd install
the release candidate 092 and see if we
get cordova working as well
which might be ambitious if we don't get
there then you know we can always try
for next month so all right so i used
the differential media of media
boilerplate which is on 091 i just did a
little bit of initial CSS work this is
all just bootstrap threw it in there
it's already gone accountant on it so I
went and signed up for a whoops I said
I'm gonna put the keys on the screen and
I did anyway um I win signed up for a
Twitter account or Twitter app and got
some low off keys so if you're not
familiar i'm using the count century it
was already in here just put in the API
keys and now we've got Twitter sign up
going on pretty easily and so we can
start with I guess once you're logged in
we can do a new planning session so will
input give someone the ability then put
some user stories usually start with the
router here
already made a template and call it new
planning session pass see I just wrote
an article about this the past should be
any session don't think you need that
you already broke my HTML
we go all right huh and now we'll put a
warm
you
yes we'll try I usually use simple form
for this kind of stuff work
simple form it it allows you to easily
build a form and it's kind of it's got
i'll call it one and a half way binding
so it'll it'll bring the database values
out and put them in the form for you
automatically if you have an object
bound to the context for your template
and then it's got a helper method that
i'll abstract that out so you can catch
the submit event on the phone or use the
helper method and then push that back to
the database if you want try this
collections helper too this is for
putting methods on your models your
individual collection items or not no RM
just his transform oops there we go
the other thing we want to do is create
an actual collection yeah hmm session
not coffee yes I'm gonna write in
CoffeeScript yeah yeah I thought I'd
give it a try i wrote an article and it
looked interesting a lot of people like
I don't know if you look to the comments
on that like a lot of people were hating
on Oh RMS in the comments
yeah just bouncing around the screen yet
all right now my own syntax it's a bad
yeah installing an hour so we wanna form
group on that oh thank or not not so
subtle meteor will puke yeah yeah it
actually it's got like a CS like an HTML
linter in there because they actually
compile all the HTML on their own using
blaze yeah so you can't like if you put
in valid HTML and it'll actually break
alright so let's let's tear here under
the pieces huh blaze oh yeah yeah when
plays came out I was a horrible update
process yeah
she loved to sound more so i guess here
we just want to create the planning
session when they had the URL well so
I'm we need to have something to key off
of so we've got planning sessions and
stories and then points or assigned the
stories so I guess when you say add
planning session it should create a
planning session and probably route you
there so rather than new she's gonna ID
we'll just call it spection factoring on
the fly not important guys like stop
signs with white borders you don't
always have to stop alright so the first
thing we should do go back in button
that disappeared on me there we go
and the clients views header and them
too there we go and so when we click
this we should have an event that we
catch a client complete that header
doubt events and a click
take event in the template as a function
parameter and then we will use for now
just create a new planning session in
session kre-o other name or do I just
trying to draw that uh no I want to
actually create one and then it'll give
us an ID and then we'll route that
Foreman yeah
new planning session new planning
session we're back maybe this is that it
is mom's a meteorite easier yeah I think
you're right that shouldn't be call them
from your getting to the bugger yeah
it's not it's like it's not far in the
cooking yeah where that was another app
I was just looking at if I was doing
something wrong maybe it's not creepy
click them in throw right on abundance
do 100 I see
yeah look at the look just give that
target
there we go I must have just typed it
wrong typing manners
you would think it would be um what was
the question yeah yeah it's kind of like
I don't know if you ever used backbone
but their event handlers kind of like
that um so they eating the tea they are
the event in the template so if you want
to like right now it's going to be
scoped to this template on the left the
header template so it's only going to
catch anything that happens inside that
template and then you also get the
template itself to and you can say like
T dollar sign and it will give you like
the jquery scoped to that okay boy
see my phone there yeah would you say it
should be one and then the name of the
template and then how do I give it like
the ID just secondary primer
insert just returns the ID oh I see
China use a plain old intern a long time
where's that coming from where is the
actual drop-down menu
yeah it doesn't like that come on
CoffeeScript is I think might just take
a stranger out what it takes okay
yeah or CoffeeScript ok
nice oh yes i should say if you want to
ask questions on the on the chat I guess
someone you can watch you watch seven
people the render function was the
biggest problem I think we will stream
our meetup to the next time and they
should people in the Hangout too there
we go there we go
here we go oh I don't be mad you can put
it on there but yeah all right uh so now
we're go to see where was our form again
already have to rename this file
collection
Just Cause 3 fiction stories
great work I was working stories and
stories even the project no stories
about the project clients client view in
touch painting session let's try to help
her event that's it submit
Oh
a simple form will just catch the event
and then we'll grab the you see here in
the data actually get a an object back
and it's gotten name set to the story
there so let's change name the text
a story answer the the media day user ID
and then we'll looks much better do it
another way
we'll just set the Creator beyond the
object and then pass that in
set the spinning such an ID to
we'll be over template Kinner already in
the debugger friends oh we're out maybe
it isn't round route Tom premiums as
angular's routing / all right
so I today uh stories I figure we could
iterate over and do a partial for each
story syntaxin blaze now for doing the
looping over we'll say each stories loop
over on our story template for text
so set up a data context here for ease I
wanna say I mean accession ID you said
crams right here can i yeah this free
check the database and make sure it got
there is robo Mongo which one the data
is what is set up on the context for the
template so that way when I call a green
here I'm calling each stories it's
setting stories to be this right here
every time story dot find returns
different data yeah Oh realistically you
put a weight on you put a weight on here
and so we're still using Auto publish
just so we can get through this quicker
but you put the weight on here and then
put your subscription right there in it
so then theoretically it would load like
once the stories are available
theoretically like in something
hmm only praying
yeah that doesn't make any sense I would
be window good point crashing
that's interesting oh and fall on that
you
like story oh yeah I'll being everywhere
on CoffeeScript tonight I'm in a
JavaScript plan for like the last month
on my client project kind of funny yes
it does here we go all right
ah at the end of this yeah it should
work let submit form yeah yeah proper
HTML for the win the other thing we
should do over here is just a simple
form not reset form
oh yeah what's resetting the form to the
dollar store you saved in the database
alright so now I guess what's our URL
look like for actually doing the inning
hmm one else anything I'll go with your
90 there as well it's cool to like set
up that same data there
so we need a template called plan
yeah so I I think it actually gets
compiled to JavaScript function by space
bars which is their version of
handlebars yeah uh you can't do it
actually i might get a pen to the body i
don't know a long time since i've tried
yeah it's been a long time or you do
want to do it everyone remotely he just
asked what happens if you put data
outside the template or HTML outside the
template
question as they asked for it that's
funny here we go I just reused our each
stories and story right there all right
yeah it's just not there Oh blaze oh
yeah I agree someone said a noob would
probably spend hours trying to figure
out why their stuff isn't showing up and
it turns out it's outside the template
all right so that's what we need to do
is maybe on story click make that story
active
no I don't need her out well just do it
all on this page ah but I don't know if
it'll catch the event the event would be
on this story handler know if we can
catch that click in our plan route yeah
it's just it's a partial template yeah
oh yeah yeah
alright
let me get that story ID off there
yeah all the stories I guess cuz I'm in
the parent oh yeah good call d yes all
right keep saying this type this one no
price is right
right
however i did this in need to basically
set this story to be active for like
anyone that's on the page the idea is
that will set wilkie off of like i want
to say like this story is active so
it'll be pulled out and then that's what
everyone's kind of doing their poker
bidding against so the thought is we
need a way so like if someone you know
maybe the Creator ID clicks a story that
kind of becomes active then everyone's
putting their points against that was
your ol slideshow yeah I did I did do
that well so normally like it was just
me that I want to see that it's an
active story i just said a session
variable I guess we could put it in the
database right on the on the planning
session well we just created yeah you
can create for the for the fighting
session
alright so we'll set the you're right do
we have access to that though didn't
they just change this oh but they're
playing session ID okay because I want
to do a dollar sign I said don't I many
little things that many mongoid has done
for me mini Mongo is what is called yeah
and someone so what I usually use
someone with a the question was what
what's on the back end Mongo and then
what was the library called in mini
Mongo was the answer um mini mongoid is
like a sort of like an ORM it wraps up
the collections and gives you like a has
many in belongs to relationship that you
can define and then it gives you like
first and last and create an update and
those kinds of things which are kind of
nice especially coming from rails
realizing that right now I miss them
you're on and there we go got an actor
story ID plan that covers me it'll get
picked up and apply to the template so
that the data context is just getting
applied to the template and the helpers
are doing the same thing so say active
story story I'm one
who's good
story ID I can't capitalize that right
oh good good point yeah was I used a
fine instead of a fine one so I need to
be consistent with my I'm calling the
data
give us an active story we could say
something like with story is that
context looping through each to
ex-squeeze mccaig
a broken active story home didn't it
like oh I guess I would say maybe this
let's just throw the buggy there and
we'll see Oh
yeah really they can might be harder in
your head but immerse yourself to raise
a lot of time you thinkin commies so
someone just said this this watching me
makes them want to try CoffeeScript
despite all my screw-ups but sometimes
when you write in JSON out and roll put
brackets put it in Bryce's intermingle
the two you really still kind of spell
it all out but as far as coding coffee
um what I'm typing yeah yeah I tend to
be explicit in some cases just because
like it yeah it'll get really ambiguous
like you can leave out a lot of commas
and and whatnot and I don't know there's
just there can be weird cases if you go
too far
no matter how much couples could be
right used to come back to something
else dfm to those from oh yeah yeah cuz
coffeescript returns for you
automatically with the last I you why
are we not working correctly we've got
there uh there's no air it's just not
showing what we're expecting on the page
so active story should be set oh wait oh
wait yes you're correct thank you
come on
that was the agreement remember
containing such magnitude my questions
you were saying ah no yeah that would if
you put that ad symbol in front of it
will be like this I see I'm gonna yeah
yeah okay you were correct in the end
there you go there we go now you got it
huh you should actually let's uh let's
figure out my opinion and do that now
the question was would they see this
actively a hit my IP so linux too right
pretty sure yeah get a big red car
beside that oh yeah you're gonna sign in
to get separate and you gotta hit the
right active planning session yeah oh
yeah good call out of it nice alright so
i left email authentication in there uh
are you in there what where can I pass
this to you yeah
she can find the right one it starts
with the KL q yeah I don't know if
that'll work because the fine one will
return the first one that it finds and
I've got like nine in there oh yeah I
could delete the other ones I guess yeah
yeah I'll just delete the documents and
then find one will do the right thing
there you go oh yeah nice so you're
changing the story on my screen yeah
awesome yeah alright so now we should
catch the click and make sure that the
meteor user is the creator salling the
Creator can switch the stories which
with auto publish an insecure you'll
still be able to switch them but yes if
ya be this should all happen you should
all happens server-side actually anyway
it's got a creator ID on it oh so we
didn't set up in session you know three
all right now try to click and change
his story thank you nothing oh yeah I'm
done too well we sent it on the data
context here I should have access to it
i would think that would get it there i
would think this oh it's set to the
story that's why
yeah yeah
our template should have the data
context is what someone suggested nice
okay so let me get out my debugger are
you seeing a change awesome and then you
can't change it only i can now since i'm
the crater okay i just did I just
wrapped it in if
so I'm just checking to see if the
current sign end user is equal to the
data context planning session variable
and then I'm checking the Creator ID so
when I create one like I'm saving that
user ID off as the Creator ID uh yeah I
can go back to that code yeah yeah yeah
if you do a new one it'll be a different
planning session and you'll be the
Creator but you can't oh maybe broke
something there it should work oh yeah
so we could probably like add a nice
little story form here that you've hit a
button bring that form in for us I'll
look at you you added stories to my
session huh nicely done yeah so the only
thing I would say is a you know this is
all out here this is all client side
code and soul I'm three and four like
we're trusting that they're not
with the user ID or the planning session
so they could get in here and like set
those variables themselves and like
trigger it to work so realistically what
i would do here is the like have a
meteor call and then check the user ID
server-side we want through that real
quick yeah yeah it so the someone
pointed out that there's a great article
from sasha on the discover media blog
about client side versus meteor methods
for doing your data insertion and
whatnot so highly recommend that
just because you can do it over the
server no we won't get a server I always
put this stuff on the collection that
I'm working with the media bids make a
activate story method take my be
basically we'll just move this code here
and so the nice thing is by putting this
into the collection folder we're
actually getting what they call what you
call that latency compensation so this
is this is this method will actually run
client-side and server-side and the
server-side ultimately wins out but the
client side will you know you can run an
emulations so right so my page will
update and then the server will update
and then Stephens page will update yeah
yeah this yeah basically I'm stubbing oh
yeah I guess this has changed too
because we're not this will have to pass
like a training session ID actually do
the find
yeah for like an end you mean or for
something else take a
there's also danger and just using find
one if you pass it a blank ID it'll just
find the first one and so that's
actually a good way to let people like
start inserting things where they
shouldn't be under find you by default
it just looks for an ID did she find
anything right
we just need to change this to a meteor
call the story and we'll give it the ID
before that
cleaning session and II broke it somehow
re puppy idea one fine who string is not
a function oh yeah that's like horribly
inconsistent isn't it string on the
server side yet it's a method on the
client side we'd hear development group
we did something broke it
yes but uh it shouldn't matter because
active story find one should be keying
off the data right like right down down
here on line seven it's on this I'm not
following you so there's like this table
with New Year's that's on the server
yeah distinguish multiple perfect almost
but these are ideas on this which is the
method comments yeah it should work
right guess I'm not following why that's
a problem yeah I guess I can change it
more coffee legs
so I actually get that up and quiet yeah
you see active story ideas no oh I guess
I gotta pass in an ID don't she know
everything day their context here again
was it story I'm just story here we go
it's working for you too nice alright
and so now we're server-side secure and
as soon as I remove the training wheels
bottle publish and secure them
realistically you should be secured at
that point all right um so now I've
never done this so we need to see active
users there is maybe a plug-in for that
presence
all got reset yeah it was like all this
this back data and so when they updated
to do it online the reset like the
entire package system i went from being
third party to being integrated and they
did that they like reset all the stats
yeah and they like they oughta migrated
all the packages as well and so you can
see like this package hasn't been
updated 409 that's why there's no like
github link right here so if you go look
at like counts entry has been updated if
the readme came over properly there's a
get up link all that stuff yeah let's
make a helper hold on yeah users it'll
find all the user so you would do home
yeah we just want to well but she lets
not quite right either because we only
want the ones that are online and on
this page yeah yeah and this yeah let's
uh bad ID I see yeah that's interesting
yeah then like he's suggesting you're
gonna have to UM destroy those somewhere
right like when you when you leave that
URL we're gonna have to also like find
those into short way those we don't want
to leave that active one like if you're
not in it we don't want to show you his
act on the room let me let me just look
at this presence in this game it's a bit
different if you cook independent
avoiding around patron or she probably
still showing as you might have just
checked him the page look to the story
played it played the game right and then
you know have to go to launches you your
session is not active
probably here you go so he's got if you
want to track more than just users
online state you can set a custom state
function so you can say present state
and then set the current room ID somehow
I don't know we'd have to look at this
package all right let's see if Lynn free
the town meteor and yes
I hot back here yeah yeah
yeah Mr Mr T stands for meteorite that's
the old packaging system did I type that
no I do okay oh yeah yeah so it's just
an alias for meteorite but that's like
it's all going away but unfortunately
like all the rabies and blog posts and
documents are all gonna be yeah they're
all gonna be scoped to show you mr t for
quite a while i think yeah that might be
a good idea the other thing is to like
this syntax change so they put the user
name colon in front of the package name
so it's all namespace so like even when
you find the old ones you'll have to
figure out who the owner is now what the
namespace is now yeah probably all right
so where does this set up
this is poor documentation I'm not
really sure I should put this presence
that state at it says in the climb like
weird I'm just wrapping a meteor not
start up you might be right maybe that's
interesting i've never thought to use
that as a way to detect presence huh
let's try only then in there i wonder if
that template destroido fire in all
cases are like what if i just closed the
one now we swing tested their route
equal to plan mmm that's interesting
people are telling us here what to do
and now no one's no one's made any
suggestions and questions meteor user
status hey look that so I'm did say
something do you think it'll do what we
want to do but it it puts status where
do you see that crying template okay
basic usage online last long in idle
last activity and they're doing the
status online true is it yeah
actually you know that's kind of
interesting i wonder if we could do like
on publication gosh I don't know I've
never even looked in there like on
publication connection and disconnection
like grab that user ID and then toss it
in somewhere I bet you could or not
we've got Auto publish turn on so we'd
have to have to lake all right we'll
start there so you're suggesting on
before action I'll do it and do what
share the route yeah right turn around
is plan so realistically we could just
set it in this particular one before
action and then we just need to have a
global that clears it yeah if it's not
that right okay so they close the
browser from plan right there's no way
to unset yeah
right that's where the are they online
right yeah all right yeah all right I
don't know it's 753 supposed to be done
at eight you kicked out of here so I'm
gonna call it we got far but not far
enough I will look into this and we will
get it working now will document it any
online questions before we sign off okay
you guys have any questions before I
wrap it up you had a package here at
coffeescript it is it uh yeah yeah soz
bootstrap right like if there's a few
weird ones that I don't she couldn't be
native core whether it is your nominee
it's all the communities groans I think
the only difference at this point is
like it comes along with when you do
like a kernel install or whatever it's
all part of that like gets installed on
your system and then like stats tracking
on atmosphere would be the other point
if they abstract it out to not be a
meteor core than it actually starts
showing up for stats purposes and
atmosphere which would maybe suck cuz
then like top packages would soon become
filled with all their stuff any more
questions
chat no more chats thanks for joining
everyone hopefully it was helpful as I
bumble through building map</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>