<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Cleaning up Code with Eslint - Spacedojo Code Kata | Coder Coacher - Coaching Coders</title><meta content="Cleaning up Code with Eslint - Spacedojo Code Kata - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Josh-Owens/">Josh Owens</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Cleaning up Code with Eslint - Spacedojo Code Kata</b></h2><h5 class="post__date">2017-01-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Vh_gOMfOod8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome javascript fans to the space
dojo code Kanna
I'm Josh Johnson today we're going to
learn about keeping your code clean with
yes lint so if you don't know what a
linter is it's an easy way for you to
set up some rules for how your code
should look and then run the code
through those rules and see if
anything's breaking it for instance with
JavaScript we could tell it we don't
want semicolons or we do want semicolons
and so you can plug in a rule it'll run
the code through it and then I'll tell
you hey this is missing your semicolon
and that warning you know if you if you
go through the trouble of setting this
up to run there's a lot of IDE
integrations so when you save the file
it can run and it can give you kind of
an instantaneous feedback and let you
know hey your code style isn't quite
right
I think the linter as someone's standing
over your shoulder watching you code
type type type type type and go hey you
did that wrong super helpful and when
you're working in a team or even by
yourself I think it's good to figure out
these these problems as they're
happening rather than finding them later
or in a code review or something like
that like this is a problem that's
easily solved with a tool like yes lint
and so we'll just dive into how to use
it and configure it and set it up for I
use them we'll also do a little bit Adam
and I just wanted to show you how all
that works so let's let's get into it so
as you can see here on the installation
page it talks about using NPM or if
urine is your thing you can use that and
you just install yes lint as a dev
dependency and I think this is important
you can install it globally as well but
that's supposed to get a little bit of
funky for me because you have all these
other dependencies that you might have
and they tend to sometimes be project
specific and
so you know I have one client that uses
the Airbnb style guidelines and you know
what if I wanted to use something
different like when you when you install
that globally you have to install all
these other dependencies globally and I
think it's cleaner if you can just
utilize yes lint that's installed in the
node project like through the the node
modules bin folder here and and then all
your other dependencies will be there as
well and you don't have to worry about
like going through all this like NPM
install - gee
yes lint yes lint Airbnb you can fav all
that kind of stuff so much much better
if you just install it as a dev
dependency free project so I've got a
project here that I've been working on
for crater cough it's built with next
j/s super awesome by the way if you
haven't used it yet
I love next yes anyway we'll give this a
try I use I use your arm but we'll just
go ahead and copy and paste the NPM
command they're interchangeable
and remember if you liked this video
please give me a thumbs up if we hit 50
I'll go ahead and do the next one pretty
quickly so there we've got yes lint
installed now and so we can just copy
this init command one thing I will tell
you is that I did run into problems with
this we'll see it once we use it I'll
say use a popular style guide once we're
on the in a command will do Airbnb yes
we're using react here you can choose
what kind of format you want we'll just
do JavaScript and so you can see it
wants to add a plug-in for react a
plug-in for JSX an import plug-in and
then the config Airbnb so now we should
just be able to do node modules Ben yes
lint and then we can give it a file
components so I've got a component
called de we'll run it there and see
this is where I I hit problems the JSX
plug-in is giving a weird error this
isn't what we expect to see at all so
there seems to be a problem with
dependencies I found this where they
were talking about just running through
the same kind of configuration the
dependencies were off in a little wrong
and so I found this this snippet it's
also on the es link conveying Airbnb
page they they tell you to run this
command instead and basically it's just
going to look at the dependencies and
try to grab all the right versions I
think we've got a wrong version
somewhere something particularly looks
like the GSX plugin
so we'll try it again there we go now
we're getting the output we're expecting
from es lint so you can see it doesn't
like that react isn't listed in the
project dependencies because we're using
next Jas it's relying on that we've got
it looks like class names variable is
defined but never used let's take a
quick look at Adam and how to configure
that to use es lint so I already have
Adam installed and the other thing you
need to do is install the lint or yes
lint package and then once that ends
once that's installed then we can start
using Adam and it should automatically
start linting for us as we're saving
files I think it actually even will do
it without saving a file so just to open
up the project here
and you can see here I just hit save
real quick because I wanted to see what
would happen and we're getting all these
red dots in the left-hand column we're
also getting a little dashes under the
words so if we click here on this one
you can see in es linear pops up now and
it says react should be listed in the
project dependencies I haven't looked at
that one yet to see how to resolve that
with next but here class name is defined
but it's never used so it looks like I
probably typed that out I thought I was
gonna do something and then decided not
to do it I'm guessing it has something
to do with the display here figured out
another way to handle it
so here we can start doing this kind of
stuff
all right and now we can just gonna
change this up a little bit equals I
like my exports to be at the bottom you
can do whatever makes sense to you I
guess anyway you can see like we're
starting to get this cleaned up it's
going to complain about prop validation
as well obviously like I don't want to
clean up everything on screen here it's
complaining because we've got double
quotes and set of single quotes so we're
starting to get the airs out of here and
that's good that's a good thing and then
you know so the the thing with adam is
that it's built on node behind the
scenes and so it's super super fast to
use es lint with adam because it's it's
already got an a running node process
and es lint is running in there so
there's like no startup times to worry
about so let's take a look at them real
quick so i've got
of MRC here I'm using bundle at the
moment and I've installed sin tastic and
that's just a it runs the linters for
you and then down here I've got es lint
configured as a JavaScript checker and
then I've installed this other thing
called es lint to underscore D so let's
take a quick look at that
and so yes lint yeah it's pretty fast
but it's not as fast as it could be and
so what's gonna happen is when we
install yes Lindy it's basically gonna
run a little daemon in the background
and every time we need to run es lint
it's going to use that running version
of es lint to run all the code again so
we're not we're not waiting for that
node load time anymore we're just
connecting in having it run against the
files we need and then we disconnect so
we can and the great thing is we can
install this globally as well
but what it will do by default is use
the local binaries from the node modules
folder so that's even better and that's
one of the problems that I was fighting
is like how do I like we don't always
know where those binary dependencies are
going to end up so yes Lindy kind of
takes care of that for us and has some
configuration magic in it so now I can
say yes Lindy stop I can tell it to
start and we can open up them you can
open up that same file we'll save and
you can see it runs and we get kind of
the same kind of view here and so as I
get my cursor over the D and day we can
see de is missing prop validations
unexpected block statement surrounding
aro body down here some easy ones
missing semicolons oops
you know these missing semicolons as
well again there we go and so we're
starting to clean this file up this one
here is too long so we can actually
break this down there's a span here
empty components are self closing so we
could do it like that
not liking about target
using trying to blank is a security risk
okay well we can figure that out later
but see I would have never known that
had I not been using the Airbnb config
so it's super helpful super easy and
then the great thing is and so we can
just go into the package.json here and
we can go and add to the scripts the yes
lint
and I will use am/pm run lint and it's
gonna run the linter for us on
everything right and the great the great
thing about this is now we have a
command we can run and it's going to
give us an exit code right and so if
everything looks clean we're gonna get a
clean exit code if if something breaks
we're gonna get an exit code other than
zero and so now we can add npm run lint
as part of our testing setup and so if
you're using something like circle CI or
code chip or anything like that
you can then add npm run lint as part of
your package and it's gonna ensure and
enforce that your tests aren't gonna
pass unless your linters clean and i
would recommend putting that first
before you run your old test suite of
course but ah super super handy super
simple to get going and great
integration points with your IDE I would
highly recommend you take the time to
set up something if it's not yes Lin
there's jazz hen there's other ones out
there but yes Lintz kind of the gold
standard in my opinion so I give it a
look today and just get it set up spend
a few minutes on your tools and it's
gonna be better for you in the long run
so hopefully that was helpful if you
like it again just give me a thumbs up
down below and super appreciate it and
we'll get another one out soon thanks
this video has been in space dojo
production you can click the learn more
button to find out more about us at
space dojo combos or you click the
subscribe button to get notified about
new videos we've put out each week
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>