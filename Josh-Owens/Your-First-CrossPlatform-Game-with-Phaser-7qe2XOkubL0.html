<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Your First Cross-Platform Game with Phaser | Coder Coacher - Coaching Coders</title><meta content="Your First Cross-Platform Game with Phaser - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Josh-Owens/">Josh Owens</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Your First Cross-Platform Game with Phaser</b></h2><h5 class="post__date">2016-12-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7qe2XOkubL0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome crater fans this is a talk from
crater remote cough mobile edition this
talk focuses on building mobile apps
using javascript you can find out more
information about upcoming crater remote
coughs at cough crater io enjoy the talk
alright welcome back to the fourth
session of crater mobile cough this one
i am also pretty excited for i actually
ran across this speaker on twitter and
he was talking about game development
and the sessions gonna be your first
cross-platform game with phaser and so I
asked Pablo Pablo to come and speak at
this conference and I'm excited like I
think he's gonna dive into a lot of the
gaming topics that maybe we didn't cover
in other sessions but you know we can we
can learn quite a few things and it just
it felt like a good fit so um yeah
without without any further delay here's
Pablo Farias tomorrow take it away
hello everyone um thanks a lot for being
here sorry for all the mess in this
place it is 6 a.m. in Australia now so
I'm recording this from home and I'm
super excited as well to give you guys
an introduction to phaser and to create
a little game and show you as well a bit
of the workflow how you can create this
cross-platform games and testament
devices so let's start from the very
beginning phaser which you can learn
more about in on facer dot io is a
cross-platform
game development library javascript it's
open source it's free it's being used on
several professional games such as
gaming for the Lord of the Rings and a
few other games and BBC website and
Nickelodeon website and so there's a
really good collection of games here on
the on the website and thing I'm showing
the mobile version especially if you go
to
I think it's eight news or learn and the
second section with a selection of
featured games which is quite
interesting so regarding this book
itself I wanted to make it interactive
and usually on these sort of events
sometimes a game development part is a
bit of a beautiful relaxed relaxed area
and a bit more playful so um I put a
repository on github which is farías
/pha said I should confer you can see
and I've included here a small
platformer game that includes a lot of
the important concepts that that are
important phasers so main that main -
final is a final file but I've really
like a starter file for you guys to to
work on if you want to code along if you
don't want to code along feel free to
just watch and you have the final file
anyway so let me get back to this if
people have questions I've never used
this the system before but I'll keep an
eye if people have questions and I'm
sure just you'll let me know as well so
what you need to do alright cool so what
you need to to brand phaser games is a
Weasley editor and I've included the
face or library already on the
repository I'll leave that on for longer
and also you need a local web server to
run the games because the loading of the
files and the loading of the assets
which could be level files audio files
happens uh synchronously and as you
probably know you're not allowed to load
files synchronously from your file
system if you actually could do that the
web would be a very dangerous place as
you can imagine so you need our web
server could be a local web server
remote web server a really quick way to
have one working for you is to look for
a chrome app called a 200 ok web server
and then you can specify a file so I'm
doing that at the moment and it's
basically a black screen what we have
now
how does faith show anything on the
screen
what does face a use for rendering there
are mainly two options you can use WebGL
or phaser will default back to canvas if
if WebGL is not available this all
happens thanks to a library called pixie
J's phaser is built on top of pixie and
uses pixie as the renderer and there's
also a headless mode so if you can run
it you can run phaser games without this
plug without rendering on the server
side for instance so don't start option
2 so let me get used to the basic
structure of a fire project we have
index.html in which I've included some
viewport tags that relate to disabling
scaling on devices just the magic here
sub games work everywhere including the
phaser library and also just adding some
quick relief quick sort of styling so
that I liked it better when to like a
background in the game looks a bit
better and you can include your
JavaScript file so after after I show
you this game I'm also going to show you
bigger projects to see how you can
organize your folders and your code in a
different way this is just the simplest
thing you can do so then if we go to the
JavaScript library itself I've actually
included some information and discount
code for the participants of the
conference for some of my video course
some of our video courses so you can
look at that as well and the main thing
here is that we start by creating a
phaser a phaser game object so you go a
new phase game and you give it
dimensions for the screen in this case I
had this from a previous example and in
here you specify the type of rendering
you want so you can set it to order
which means it will use WebGL if
available and if not you'll use canvas
but you can also force it to be canvas
if you want the other place that I
forgot to mention is the documentation
of phaser and also examples examples of
faces or i/o and the documentation
I have to look at this if I forget one
of the one of the parts that I've that
I've supposed to write so this is where
we define the the framework and then
what all the action takes place in
what's what are called States a game
think of a game as multiple states you
have you have a loading loading screen
then you have a home page on the game
main page then you can have the game
itself then you can have maybe maybe a
shop or a post screen with some other
features for each screen of your game
for each main part of your game you
create a different state you can also
create a game that's a single state such
as the one I have here so for that you
have to create a different object for
each state and that's just a JavaScript
object and I'll show you in a second
what that object usually looks like you
give it a key your so that you can refer
to it later
this could it doesn't have to be the
same name as this it can be anything you
want but you need to be consistent as to
when to you're you refer to this so
we're all we're doing here is telling
phaser okay we create a game and now
this is the game state this object here
that I'm going to show you and now open
that up get that state open that's where
the game would start so this is what our
simple state looks like actually the
only the only the only thing you really
really need if you want to display as an
image as our preload and create so
States as you see is just basic
JavaScript object and it has it can have
an init method anything that you put in
here would have to do with game setting
some game parameters like screen scaling
options and things like that which I'm
going to show you
hmm and that that only gets called once
before everything else after in it gets
called preload gets called and this is
where all the synchronous file loading
takes place so in here you'll be loading
all the images or your JSON files with
game data audio files and with that
process completes when all the files are
loaded on memory of your web browser or
web be
or whatever you're running this this
state method is called once sorry to
create the create method is called once
and this is where you would create your
sprite so you're loaded a bunch of files
but they don't have any properties and
now you actually create a sprite which
will have a dementia have scaling
rotation in here you can create some
groups some collections and got a few
initiating methods and then we have
update which is called this is called
multiple times per second so in here is
where you would run text on your game
that that have to be they have to be
taking place at all times while this
state is on for example collision
detection will take place here because
that's something you always want to be
checking for if two elements overlap or
elements to collide you want something
to happen also when the user process a
certain key on the keyboard you want to
be able to check that at all times so it
will go and update besides these methods
there are some more couple more reserved
methods which you can find them on the
documentation and also what you do next
is as we build a game we'll add our own
methods here - just to keep everything
in one in one javascript object now if
you can meet five seconds I this I have
a cheating guide that I printed and I
just need to quickly fetch so give me
five seconds
okay.i sorry about that
so what I'm gonna do now is talk about
right and show you how you can load some
images so let's let's look at some of
the images that are already present here
we have a folder called assets and then
um and then I just want to check if this
some some questions or some comments
okay and and then we have two folders
one of them is called data which has a
layer level file that we'll load later
and then another one that has images and
then we have a few images like the like
a little barrel this game will look like
Donkey Kong
by the way and I should have probably
started by showing you the final game as
I mentioned it's it's 6:00 a.m. Sun I'm
slowly starting up and then we have fire
we have a gorilla and we have that a
player that's a sprite sheet like this
that we also have grown and platforms
and then I'm also going to I'm not going
to type that light but I'll show you as
well how to add also touch buttons on on
the game so let's begin by showing a
sprite the first step is to preload the
file so for that you type this buttload
which gives you a gives you app access
to a loaded object that's part of phaser
and and then image now you have to give
your image a key can be in any arbitrary
key that you want but you'll have to be
consistent with that I usually just call
them the same as the file name but no
that's not always the case doesn't have
to be and then you specify the either
relative or absolute if it's a URL pass
to the asset in this case assets images
and this is called ground or PNG so I've
loaded the image now for this to
actually do anything I need to create a
sprite so the other
Chrome extension I'm using here is this
library loader so I don't have to save
the page I have to press f5 when I save
so you might see things appearing there
okay so now that we have the image
loaded into memory we can create a
sprite and I'm going to put this pride
on the Anna on the context because I'll
be able I'll be accessing it later from
a different method so this will crown is
going to be a sprite and to create
sprite you simply do this god add dot
sprite and then you have to give your
sprite coordinates the coordinates
system starts on the top left corner so
this way is positive on X and downwards
is positive on Y we'll place this let's
say 0 6 3 8 so I magically happen to
know that that's where I want to place
it right so if I save that there's some
some error here not sure if this is let
me place it in a different in a
different position there it is yeah I
just haven't said the size of the of the
game world just yet to place it so far
down so for example if I put it in 200
instead it moves down well that brings
me to another important concept of faces
which is that of anchor points the the
point that I'm actually setting the
coordinates to is the top left corner of
this image but what if I want to place
it by the middle because sometimes
that's why you may want to do for that
you need to change an anchor a property
called anchor and and then you can set
you can either set X Y manually or you
can use some method called set two and
if I set it to 0.5 it's well this is the
same setting at 0.5 0.5 basically the
middle on both X or Y and am missing an
end in there
you go now we're placing it by the
center we didn't really want to do that
but I wanted to show you what that was
what that was about
actually I'll leave it there because I'm
not going to show you some a couple of
more sprite tricks and then we'll jump
into the game these are basic basic
skills that you'll use you know all
sorts of the games so something else you
can do what if you want to change the
position super simple an X or change Y
and try keep moving somewhere else if
you want to change the size of this
sprite you can use the scale property
and you can set the scale on both X or Y
if you want to leave the scale the same
you simply type 1 so let's say that we
want to scale to twice the size on X on
Y and then they'll give us something
like that what if I want to shrink my
sprite on X instead of increasing it
then I can increase it to half the size
so that's that's that's quite cool now
what if I want to flip my sprite so
let's set scale back to 1 to show you
what it looked like what if I want to
mirror this on on and on X I want to
change its size I just want to change it
it's mirror now so I think you'll be
more clear once I say back again please
see how that part was there and now it's
the other side so that's that's those
are things you can do with scaling and
then the other thing you can do is
change the angle for example 60 degrees
and that count that is counted out
clockwise on degrees what if you're not
an angled person if your modifier and a
radiant person you can also do rotation
you can be one in that case you'll be in
radians and actually this is a good good
sure if that actually did anything so if
you if you want to yeah it did so if you
want to quickly see what update is about
let me show you that by by making this
rotate so we this is going to be called
our people time so we can if we want to
slowly increase this but that was not
going to be too slow but you have to be
this I think I think I'm wrong with a
radiant API you think it's actually a
rotate oh now this is what I was missing
plus one yeah there you go so that's
what that's what update does anything
that you want to be doing at all times
you have to do an update and then if
there is the windows no active it stops
anyway there's another way to animate
other than update which is called
between tween animations which when
we're might have time to show you as
well so now let's do something that will
actually be part of the game that we're
building so I mentioned before that we
we're going to talk about screen scaling
and that's a very important concept
across cross-platform games because what
how do see how should this game look
when you're there but what if you are
using some sort of different or a
different browser size a different
device you're not tablet if you're an
app portrait mode phone face it gives
you learn control for those cases there
are few options for what's called the
scale mode so what will the right place
to set those options is is on the init
method and this dot scale gives us
object access to the scale object so if
you go to the documentation and there
there is a scale property well there's
actually a guy to scale manager but that
that will give you some some more
information on scaling the screen but as
a quick as a quick mode to scale mode
and pace herbs user dot scale manager
dot this show all so all means that the
screen will be will be
fit to size so that either X or Y
touches the edge of the screen in this
case because we're using a black
background it makes it a bit confusing
maybe I should change that so that we
can have a better view of what's
happening here so this is the game area
and as you can see its feet it fits on a
Y but it could also happen that the
device for some reason is different and
then we are actually feeding on X and we
have empty space on Y but you're
probably going to be asking me okay my
game I actually wanted to keep the
aspect ratio which is what we're doing
here but oops also meant to close that
but I do want it to be be centered to be
aligned correctly so for that I can just
also do this dot scale but page align
vertically and page a line or it's on
tally and in both cases I can set it to
true I think the screen is interfering
with some of the shortcuts that I'm used
to I'm here so let's just do
horizontally and now the screen shows in
the middle so that's that's a step there
are also other properties such as exact
fit if you really wanted to catch too
much exactly and if you actually search
for facer Acer virtual pet example maybe
my my company name there's a tutorial
that I wrote uh which explains the with
examples the types of screen scaling and
so I'm just gonna quickly show you the
so you have all these options you can
have an exact fit in which case the game
will force will force to be occupy all
the area but then the aspect ratio won't
be respected so it will be distorted
then you have show all in which we
simply showing the the game as I'm doing
now so we we're occupying all we're
trying to fit in as much as we can
without modifying the aspect ratio and
then you have no scale in which it just
shows our pixel value so if you have a
massive screen the game will be tiny and
then you have recess and there are more
advanced options as well
scaling API if you want to learn more
about it in resize you can you can use
if you have a bigger screen you will
sort of show show more of the game so
that will be good for something for
maybe top-down games where you have a
tiled world or something like that so
that's all that's all for the four
screen scaling for the time we have and
now I'm going to show a couple of more
things I'm going to show you the basics
of the physics engine so basic comes
with two physic physics systems a basic
one called the arcade in which every
element is simulated as a rectangle and
then a more advanced one called the p2
in which you have more advanced
properties and you could create
something like Angry Bird or cut the
rope for the arcade mode is what we'll
use is what you you'd normally use in
simple games where you're on your need
collisions that involve angles or and
involve multiple things so let's start
by initiating these physics engine so
you for that we do this but game gives
us access to the game object this part
of a spacer API block physics dot start
system the system that we are initiating
is called phaser dot six dot arcade by
just by typing that we're basically
telling phaser okay this there's going
to be some physics here but by default
it's not applied to all of the elements
that you have you have the control
manually apply make elements have quotes
like physics properties so let me show
you what happens if I three six physics
enable that sprite that we create so I'm
going to go to to create and make this
and this okay so we're going to to
create and is dot game rock physics
again and arcade because now we have
died at our disposal since we initiated
the I initiated the arcade system and we
can enable something and what we enable
now is the sprite itself or this ground
what happens now I'll show you is to
enable and there's something else that
we have to that we have to do well that
that strictly speaking should be enough
to give it with gravity so I'm a little
bit cool
as to why it's not falling oh of course
we have to define that our world will
have gravity so this dot game dot
physics but arcade gravity and then we
can set gravity on X or Y so you can
make a game that has gravity on on X as
well or it could represent something
like wind so as you see now our sprite
is falling down what if we wanted to
stay fixed in the world in that case we
we said something like this dot ground
but re as soon as we enable physics on
the sprite we now have a body object at
our disposal and in this one we can do
things like allow gravity equals false
now it doesn't follow so the other thing
you can do is collision detection button
for that we need a second sprite so let
me add a second sprite and I think after
that I'll show you I was thinking of
typing everything but it's a bit older
than my hands are kind of freezing so
there are parts that I'm going to copy
and paste from the final one so that we
can do more on the time we have so let's
add a second sprite and I'll show you
how Alysha works so for the second
sprite and and then as I mentioned I'll
I'll change that and we're going to
reuse the same some of the same elements
that we have here I'm going to place it
I'm going to place this one below and
this one is not going to have gravity
but the first one will have gravity so
ground to not going to have gravity and
we are going to get rid of stuff line
here so I
you can see there's no collision by
default you have to specify the elements
will collide and for that you have to do
that in in update and the way to do that
is by calling this game dot physics but
arcade collide and then you specify
which two sprites are going to collide
and then you could also have groups
which we'll look at as well
so that you can specify that a whole
group of elements collides with another
group of elements or with a single
sprite so this dot Brown collides with
the collides with this third round to I
want to show you what happens now so see
that they collide but the inertia is
it's being is the momentum is passed to
the second sprite we probably didn't
want that when it's the floor the ground
should be something stable so for that
you can set you can set the the property
of a in model in model for the body and
if you set this to true then it will not
it will not move even if it's hit by
other elements so that's actually taking
a sample now so before we we move on
further with with physics again I'm
gonna go back to sprites and show you
and talk about sprite animations so as
you saw the the player image it's
actually a spreadsheet each each one of
these images has the same separation and
they're all in a single image file PNG
with transparent background so I want to
be able to play this animation I'll show
you how you can play it as well the way
it works is that each frame it has an
index so this is frame 0 frame 1 Frame 2
from 3 frame 4 and then you can specify
when you create your your sprite you
will specify what what index is the one
that's going to be shown and it will be
0 by default so the first
first step again is to load the image
and face it doesn't care if this is a
sprite sheet if this is an image you
just load it here and in this one you
create the sprites when you give it all
the light basically so this will be your
player and the image file is called
layer underscore spreadsheet so that
will give us face now we can create
sprite called cold player and and for
that I need to now add the at sprite so
let's create a layer
Ystad player these add got sprite and
the location let's give it somewhere in
the middle let's put it on top so it
will fall and now we can specify that
this is player so by default it's
showing all of them and now we can
specify which one we want so we just
want the first one oops and in one part
I have to specify that this is a sprite
sheet
I'm just looking which part I missed oh
yes oh my apologies about that we
actually do have to specify that this
sprite sheet and we do have to specify
some of the properties of the of the
sprite sheet so the the properties have
to specify are actually the width of
each frame because it's not going to
know it by magic and also the height of
the frame and also we have a marginal
separation between the sprites and
between the edges of the image and now
how many of these do we have actually
that was the parameter here we have five
we have five five frames so now actually
now is when we can specify the frame
here and it will give us that particular
frame you can also so once you load the
sprite sheet that doesn't mean that the
animation will necessarily create for
you that you actually have to create
your animation you're free to define how
the animation is going to work because
imagine you could have an animation of
the player walking and then you could
have something here where the player
jumps with the player and tax or where
the player dies or shoots a gun or
something so you could have all these
different animations here and you can
you can create animation objects for
each one of those sequences so the way
to do that is is by doing this but
player dot animations of add so this
animation is called working and we will
it will involve the following frames it
will involve frame 1 Frame sorry frame 0
frame 1 Frame 2 and then frame 1 again
this was just how I want to define my
animation and a you cure at a rate of 6
frames per second and I want this to I
forgot what the last parameter was let
me just quickly look at it
sorry we have to play the animation for
it to actually take at it place vld
animation as the back has to be oh yeah
yeah so the true at the end is the order
is the reverse so it will play like so 0
1 2 1 and then it plays to 1 0 so it
goes back just once and now to actually
play this animation we call a play oh
sorry this is the outer loop or a loop
option that's what it is that last
parameter is the auto loop option so now
we're playing this animation and it goes
on forever but if you set this to false
you'd play just once this would be for
example if the player if you want to
play player dies it will just play that
ok
we do want our work in animation to
always be playing so that's how you can
play that's a yes all you can do simple
spreadsheet animations and the other the
other concept that I wanted to talk
about was the that of groups so
and also the level the level data how
you load the level data and how so we're
going to start actually by simulating
that level data so let's say that we
have a group of platforms in our in our
game so these platforms will be this ad
group gives us an MP player group is
basically a placeholder for sprites that
can be used in some occasions as if it
was a sprite for example you can change
the X&amp;amp;Y of the whole group or you can
you can check collision between the
whole group and a single sprite or the
whole group and another group so you can
enable body scene enables physics like
this on the whole group from the start
by just typing in the name of the groups
the name of the group and then enable
body equals true the provided that your
engine is loaded this will make it so
the whole group can have collision cool
so now how do we add elements to do this
to this group it's actually quite simple
we can do lists of platforms but create
and then we set the coordinates x and y
of this element for example it will be
located in 50 and 150 and now what
sprite are we using let's say that we
using ground again that should already
be showing our ground so we create
another another ground in there and we
can add we can add more of this or not
I'm not using the duplicating key word
because it's interfering with something
that's on my screen at the moment so we
could put this in and in a different
location have all this all these
platforms what if you we want them to be
in mobile once the cool thing about
groups is that you have this set all
method that allows you to set the value
of a whole property
and you can even go in nested level so
we want to set body dot in model the
true for the whole group and we can also
we also want to disable the gravity for
the whole group so allow gravity is
going to be false for the entire group
there we go
so we could also check M collisions in
the same in the same way and what I'm
going to do now is actually go through
the grow through the final code of the
game and explain some some missing bits
and pieces show you the show you and how
to use a keyboard and then I'm going to
show you an a version of the game that
has on on screen on-screen keyboard and
then I'm actually going to let you guys
decide among a few options as to where
we head next okay so the final game what
I'll do here is just copy and replace
the stuff or maybe just change it to
main - final let's
there we go so as you can see we've got
a meanie I made two changes last night
so probably broke it you should probably
show you the I'll should probably let me
see if it's something quick or otherwise
I'll show you the other version so
another property must jump its third 147
yeah so forget about that yeah that
should work now there we go so we've got
a simple kind of Donkey Kong game you
can probably imagine already some of the
some of the things are being created
here as groups for example the
platform's the fire the barrels and also
show you how the level data is loaded so
let's start from the from top to bottom
and discover everything that that we've
been looking at and I'm just feeling any
gaps that are there so we started the
game we initiate our game level settings
we set up our our screen size our I mean
our screen scaling options alignment
option for the screen we initiate the
physics engine and this is how we I can
activate the keyboard we don't want the
entire key or we don't want to be
listening to all the keyboards too many
event listeners for no reason so all we
want is the cursor keys and this is a
way to initiate the cursor keys so that
you remember that before we try to place
the platform way below and it was
outside of the world so it wasn't
created uh there's something world world
bounds and this will help us for example
so that the player doesn't practice and
leave the screen so then there's a
couple of constants
I seen running speed a jumping speed if
you change those you'll be pretty funny
you can make the game the characters
jump higher jump lower and actually I
haven't mentioned it but all the assets
of this game were created by us so the
license of this game is the word that
you want alright so if you want to
modify this and turn to a full game
putting a website with with with more
levels or anything feel free to do
and if you do so actually let me know
because I love to see what people have
people change things that we buy with it
so we're loading all of our assets all
image loading section should be pretty
familiar now we're loading two
spreadsheets specifying the properties
and both of them if you get confused
like I did with the parameters there's
always the documentation I I never
normally code without the documentation
even when I make video tutorials I have
another screen with everything already
done for me so I with the documentation
or any cheating or or the whole game
actually finished so this is something
new I said this is where we load assets
and assets are not just images so we can
also load text files in this case we're
loading a text file that's a level data
the format of this level data is
entirely arbitrary it just needs to be a
JSON file this is just the data that is
how I decided to organize it you can do
it differently so what things did I
define here the start point of the
player this now comes from this file the
position of each platform X Y the
position of each fire the position of
the goal the grill on top and then the
frequency of barrels and the speed of
the barrel so you could make this game
much harder if you increase the speed or
the frequency and you can change the
position of anything here so all we're
doing here is just lowering that face it
doesn't know that what it says it
doesn't know what it's for we still need
to parse the JSON using simply json dot
parse as so if you have any errors on
your json file that's really gonna make
the game crash so you might you're you
you might need something also this as I
mentioned before all of these URLs all
of this can also be absolute URLs so you
could be loading your JSON file could be
coming from a server you could create
your levels on your server and load them
from here you could use something like
firebase and create your own levels and
share them around so possibilities are
endless and one of the main minds
russell face there by the phaser creator
which who's Richard Davey Davey Davey
is that fazer is to create explorers not
necessarily experts so it's one of the
great things about faces that it's just
so easy to go and change things and then
you start playing and and then the whole
day is gone and you didn't get much done
but you have a really good time okay
then moving on we create the ground of
which which in this case of hard-coded
the location but yeah you could also
load it from the external file from the
server so I'm going to keep on repeating
that possibilities here are endless and
this is just yes
JavaScript so you can integrate this
with whatever you want this is how
imparting the the level data so this is
how I access it game to the cache get
text and it gives me the string with all
the text and and then it parts it
I think I'm under the understanding that
some sometimes recently there was a JSON
loading in which case you don't have to
do this but then again this doesn't
really do any harm so there might be
some some some upgrades and yeah there's
always new features and I'm not
necessarily up to date with all of them
so it's but then again I'm using the
latest version as I seen like last two
this week actually so it all works we're
creating a group enabling body and then
I'm just iterating through our level
data and creating a platform for each
one of them so I'm doing this in a you
know in a way using add for each loop
setting them all fixed on the screen
similar things with fire but for fire
I'm also creating an animation for each
one of them and I'm also playing them
and then I'm also setting the mode so
that they don't have gravitated or fall
but they are as their goal of the game
is the simple sprite the player itself
just a simple sprite I did set the
anchor to 0.5 some reason here and I set
this property so that it can't leave the
bounds of the world so that it's
restricted otherwise you would come off
the screen it's this interesting this is
how I set the camera to follow the
player so that as the game so the game
Scrolls and the player is always
followed or the barrels I created
just an empty group and then and then
I'm using a diamond a diamond loop that
runs every every frequency of burials
times second this is a constant that you
can use here I think if you enter 1,000
it works to Anam and what I'm doing
every five seconds or every X seconds is
calling this method create barrel so
what what does that method have create
barrel it basically checks that we are
checking that that there's a that
there's a barrel that's dead
and if there if there is a barrel if
there's no barrel that's dead basically
it's out of the screen we create a new
one but if there is one we actually
reset it we actually read so this is
called a pool of objects we're basically
reusing objects so we don't create
unlimited objects and end up with a
memory leak and our game design shuts
down so then we set the velocity and
then the last part is just the update
function so we've got collision between
the player and the ground the player and
the platforms the barrels on the ground
their bars on the platform same thing
with the fire but now with core also
called back so overlap with the
difference between collide and overlap
design and light two things actually the
bodies crash so as you saw the momentum
gets passed along
whereas in overlap the the sorry I'm
just I haven't heard about I hadn't
heard from you guys in a bit so I'm just
checking that you're still alive so
apparently we're still live no I'm not
using there I'm not using the autumn
plug-in does for phaser is no it's not
that smart sadly it's because I already
have a final version that's why it's
getting all the all the hints from um
okay so let me get this little closer
okay sometimes I worry that I'm just
speaking alone in the in this universe
and everyone else is dead so the
difference between these two is that
collide actually the one body influences
the other body so they will both move
for instance or one of them the velocity
will stop where's overlaps is no
physical this note nothing happens as in
the velocities unchanged but we still
recognize the fact that
they are overlapping we acknowledge that
and we have a callback this case skill
player or win game what the what do
those look like very simple just out and
restart the the game state same thing
when you win alert you win obviously you
could have another state and more MORE
something else happening and then
regarding the the actual platformer
dynamics we checking that if the buttons
are pressed we are modifying the speed
of the player and we're flipping the
player as I mention as I already told
you at the beginning we can flip a
sprite without changing the scale by
using - we're doing exactly that and
also if the player is not moving so if
the cursor is not being pressed we stop
the animation and this is how we handle
in jumping and then regarding the the
barrels when they leave the screen when
they leave certain properties and these
properties yes it could come from a
little file or from the server we kill
them this is the right way to kill the
sprite because it still leaves like a
ghost of sprite that we can then reuse
on on this little stuff and it doesn't
break the game if you use another method
called stroy which used to be used more
in the past it would actually break your
game so beware if you see destroy in a
tutorial it might be a bit old in my
break in my cousin problems in your game
so I just - I eat my promise of it on
the on screen touch control and we only
have 10 minutes I guess another 5 maybe
since we started 5 minutes later
regarding the the touch controls I'm
just going to show it quickly quickly
show you what that looks like it's
basically the same cubes of you've seen
so far but we're loading images for
those buttons and then we had we had a
method here called create on-screen
controls and the on-screen controls are
simply our sprites are being positioned
in some part of the screen and they have
this property called fixed to camera so
that when you scroll they stay on the
same place we also set the Alpha to so
they're a little bit transparent and
then this is how we listen to click
events or touch events same thing here
it works for both you just any sprite
event
on input down add and then call back you
can be a call back right here or it can
be your easily passing a method or
something else and in here I'm just
setting Flags saying should the player
be jumping should they be moving left
I'll be moving right and then when the
player or sorry this is when the input
is up so at this one we press it and
this when we release it so we set the
property flags to true or false and then
on update it's the same as we just did
but we're just checking for a keyboard
or the flag so that this works both on
on a desktop or on the model so I wanted
to ask you now what should I do next
option one is take a look at the Intel
XDK
to complete that part option two is just
show you more games different games that
have other stuff other like maybe
multiple states or things like that
is it possible for the first game to
model up yes and that's that's why I'm
gonna that's what I can cover on the
hybrid so I don't know if this like a
really excel wave here to create a poll
and get an answer in literally like a
minute or two minutes it's not possible
Josh yeah yeah go ahead
okay um no puzzles you yeah I think I
have to create it so maybe if it says
more games or Intel XDK and in the
meantime I'm gonna respond the question
so what you know what I'm sorry oh yeah
the first option would be more games
second option would be enjoy the the
Intel XDK to deploy two hybrid apps in
native platforms and testing on the
device and that's the stuff okay so
regarding mobile the answer is the
answer is yes so it's all Kherson HTML /
javascript / open web technologies so
that can go on a web browser or it can
go on a webview which is a native
element it exists on on the on android
sdk and also on iOS which is basically
like a web browser without any menus
without bookmarks stripped out of all
these features so that it just renders
HTML CSS and JavaScript
there's an open-source tool called
Cordova which allows you to pack HTML up
like this into a native app and it also
exposes some native API so you can have
some things like like access to contacts
on the phone or notifications and a lot
of a lot more features so that that's
that the answer is yes and it'd be using
Cordova now how do you use Cordova two
main options you can download Cordova
running on the command line or you can
also use a tool like the Intel XDK which
basically compiles in Cordova
for you in the cloud if you don't if you
choose to download Cordova on your
computer you also have to download your
Android SDK and your iOS SDK that also
means that you need an Apple computer to
run the iOS SDK and then on the command
line you'll do things like build you
lose things like sent to the phone and
you'll be using all the native code it
from then onwards if you're using the
Intel XDK the building aspect gets built
on the cloud and there's also an app so
that you can test your app on the phone
it gets downloaded into this app and you
can run it that you don't have to use
the Intel XDK to build stuff to build
stuff in the cloud you can just use the
testing feature and the testing feature
is also available and alone thing then
would have used as well for hybrid apps
but I know someone mix it with phaser
but it's also HTML basically its ionic
has but then you have to you need to be
a game inside of an ionic app or
something like that and they would have
something similar but yeah I wouldn't
use something like that unless I want to
use ionic in that project so I think the
poll is already that's two votes so
we're only going to wait one more minute
to to the side so what I can talk in the
meantime is that the D SDK is the Intel
Intel SDK is a free tool created by
Intel that allows to it facilitates a
little bit the creation of hybrid apps
hybrid app as I mentioned it's a not
built with HTML with open web
technologies that is Park together as a
native app using Cordova
and okay so hits the gate XDK has
wondered the hole so I'm going to launch
that it's it's free and it works on all
operating systems
we actually yeah so this is yeah this is
lowering now and it's basically like
many apps in what its kind of a bit of a
monster in that sense you don't have to
use most of it you can use use a couple
of the things that are available for
example it comes with the brackets code
editor but I don't I personally prefer
to use atom or or maybe I want to use
something else so and also I'd like to
have like many projects open at the same
time not work on a single project
especially if I'm doing anything with
face because I just copy and paste stuff
from all the samples and games but the
some of the good features are indeed the
remote and the under online buildings
well easy so you can start a new project
no let's not do that now start a new
project and it can be a project that
will use Cordova features or agenda just
under HTML so you probably want to do
equal dollar 1 and so sure if I'm
missing something here so I'm going to
go to starting project yep start new
project I think there's some something
that's not shown in my screen like some
some button over here um see if I can
that's really really weird
okay asks for some reason I'm missing
something here to be able to actually
start the project I know it has to do
with maybe I can just make it larger
like this
ah that's very strange very very strange
well you can also do import your HTML
code base in which case I'll just do
that and so you can you can import an
existing app you can create a new one
from scratch and this actually comes
with a phaser starter not sure how how
updated it is so it's also good to look
at that if you want but I think I don't
like some of the folder structure that
they have and it's kind of rigid so I
just usually just import the files so
okay we've ordered this continue and
let's call this beta 2016 and so in here
we say yes we'll we'll want Cordova
plugins and this item Lee said no but if
you say yes it gives you like a I've
just like an easy wait like some
snippets somebody was asking about
snippets so so you've got all these
different tabs here the first one is
just a code editor the the second one is
called a ripple emulator this this can
also be downloaded as a standalone as a
standalone a chrome app written and it's
sort of like the mobile developer tools
so it's sort of like it's sort of like
this like if you go your game and and
you were to run the development tools
but the additional thing it has is that
it also has some simulation of some
Dover plugins like if you want to pull
them or you can for example fake
geolocation and it will assume that
that's the geolocation
I think it's downloading something now
so this is is kind of like the
development tools that you that you can
have here as well you can simulate a
galaxy phone or Nexus and you can
simulate the touch screen so it's it's
kind of like that so it's loaded now and
but it also has these other things so
you can you can you can manually trigger
some Cordova events
we can come in handy for some situations
accelerometer battery status it's like
that this is no real simulation of
devices this is really I mean it's not
every is not emulation it's just a
simulation so it's not going to it's not
isn't sometimes doesn't work too well
and then this part is actually quite
useful so you can push your files to a
testing server for free and and then if
you download an app called app preview
you can run your game your phone right
away and you can debug it as well so
that you can see for there's any errors
you get something you can also do that
without the without the the app itself
you can just no no actually this also
works with the app you connect your
phone via USB and it will show you and
it will show you the same console that
you that you see here basically crumbs
crumbs console and you will see crumbs
console in there so you can change
things you can you can see any errors it
comes quite handy this is used also to
do the profiling of the memory on CPU
and then this is also interesting part
how you can up and upgrade things upload
things to the cloud so basically what
this does it sends your files to some
server some Intel server and it creates
the bill for you the binary for your
phone or the apk file and then you
download the apk file and for for iOS it
does a similar thing and then you can
upload actually to a store but at one
point I think I remember you still have
to generate certificates from the Apple
website put them here I remember that at
the end I did have to use a Mac computer
but just for one step at the very end
this publish part I haven't I haven't
really really used I guess it can help
you with some method metadata so that's
I think that I think that already gives
you like a starting point as to what
this tool is and how you can use it I
don't know if we have a couple minutes
it is to show maybe one more one more
example really quickly like some other
game I'll do that so let's choose a
different folder maybe like a
five-minute max I don't know if I'm
I'm fine if you want to do that book in
Braille oh they gotta go okay yeah all
right I'm thinking which one would be
like a quick lot of sort of feet um
maybe maybe just something that is also
simple but that combines a second out
something else we haven't seen like
twins and switching between states and a
bit more in the text showing text on the
screen and so let's try this one so this
is just a farm animal game you have like
a children game where you just enter
animals and each animal has animation
and so the way that game works don't
scold farm
how to multi multi screen one okay okay
so yeah I think I'll explain twin
animations and that's how we remove
these elements like that so the
animation that we did before was really
sprite animation and we also change the
velocity of a sprite but another way to
do animations is called a tween which
you change a property of the sprite so
you've already seen that sprites have
properties like X Y or the scaling
things like that so so to create a add a
tween you basically you can give it a
name like that I can put in a variable
these games add up twin and you can you
put your sprite in here and then you
said what's the end of the twin at the
end of the twin let's say it's going to
be changed to X property but you could
put any property of sprite here anything
how long they start going to take one
second what happens when it's completed
we can set some other this is optional
of course and then when you want it to
actually start you call it like that so
in this case we this is for a new animal
a new animal is located off the screen
but it's new X is the center of the
screen and actually this is a quickly a
quick way to get the center of the
screen gives access to a game object in
a world object and that has a center X
property and so that's how we're
bringing in the new animals whenever the
user clicks here we're bringing a new
animal and we're also getting rid of the
current animal so that's another tween
animation where the ending of X is some
end X variable which you think is some
it's a yes so it's it's based on the
current width but it's really off the
screen and then we're starting that so
every time that the user that the user
clicks on these arrows we are oh yes so
the ending of the animal is calculated
because it could be either on the left
or the right but basically that's how
twins work so you say I want to change
the scale of my sprite or the angle of
my sprite and I want that to occur over
two seconds so I create dance a tween
and then something happens and I call it
and on the face or example page there
are many options you can have also
specify if it's going to be a linear
change or if it's going to be like
the easing different easing functions or
you can even create your own easing
functions for that aspect
how can we show text on the screen
that's also very simple these dot game
dot add the text you and you set the
location of the text and you can also
set the anchor point of your text that
usually sent it with middle in some
cases and that you give it as dial
object and the style object is pretty
much like CSS although this is not CSS
this is all being drawn on the canvas
but it's kind of similar to CSS then
well the last thing actually I'm going
to show you is this game is the sound so
we're loading audio in this way we have
to specify an OGG and mp3 file in an
array because some devices can't some
browsers can't play one or the other
so with those two you're always fine and
there's a free program called audacity
which you can use to convert them from
one to another or to even reduce the
size by reducing the bit right of the
image and then how we play how we create
that so we've loaded it and it's a
similar approach than the sprite so it
is somewhere here there's some game dot
game that's the middle set sound that's
where we load the files and then and
then this is where we create the whoops
or you have your audio this game add
audio and then you specify the key of
your audio asset and then just play you
just call it and take play and so that's
about it for basic games so um if I just
want to show you where you can where you
can look at some some tutorials for game
for a professor so in our blog game dev
Academy if you go to tutorials and then
phaser we've got dozens and dozens of of
written or facial tutorials like for
example how to procedurally generate
dungeons pathfinding how to create a
turn-based RPG so you know for all of
these games this sort all of these
content is is free and these are all
written by either me or
or other authors so they've got some of
them have like Creative Commons
copyright we always make those clear you
can download the source code and they've
got all the explanations and screenshots
oh that's that's yeah that's our that's
where we have our written tutorials and
then we also have which is what keeps me
off the streets thanks to a Kickstarter
campaign
I created this game at this course which
teaches how to create 15 mobile games
using phaser so you already saw two of
the games this is like a crossroad
JavaScript and then there's the animal
farm that you saw at virtual pet this is
the basic platformer then we've got a
spaceship game on an infinite runner
another platformer game where you buy
will we use tiled to create the levels
dial is a is a free program that you can
find a map editor org and then the other
the other game setup plants vs. zombie
defense game RPG game this is using
another physics engine Angry Birds
a town simulation game got a match 3
game point-and-click adventure hexagon
tile strategy game and dungeon crawler
infinite randomly generated right
dungeon crawler and chapters on app
monetization using Cordova and ads as
well so you can learn more that or
Academies em come this is a free program
to grade levels um it's it's open source
well and it works also for unity 4 it
worries it's used on many different game
engines so I think that's that's all I'm
happy to respond questions if we have
time
let me see if there's any questions here
questions topics
oh yeah more things here will you be
adding the coaches to it to the github
repo yes sure a lot a lot a lot both do
you how do you handle users accounts yes
so for that you need to so let's let's
let's make something clear regarding
phaser phaser is a tool to create and
render to the games on the browser but
we're
in JavaScript ecosystem so that you can
also do Ajax calls you can also
integrate with your own back-end you can
have your back-end build on on any
technology or or use a third-party
back-end like like firebase or any other
option it could be tied to ionic script
or react and yeah so you don't have to
tie to anything to use firebase because
you can always just do HTP Ajax like
h3xed xml request calls to a server and
we we cover these topics in the advanced
phaser colors which is currently on
presale at the moment because it's not
ready yet so two models are are out and
they cover how to integrate with
firebase but if you use firebase it
without react which it's really just
Ajax calls so that's you can you can add
anything here all this is is JavaScript
and we're modifying the campus on a
browser so you can integrate with
whatever you want you can create your
own back-end you can use local storage
to save your game progress you can use
any cool API or library that you find
there's actually an example that's
integrated with with ionic but it's if
you if you search it I think it's called
like iron phaser and it's a it's yeah
it's it's code that's for sale in the in
the ionic marketplace or in our in egg
and in gammaroid as well I think it's
like 15 bucks and that one it comes with
like an ionic project with some phaser
games inside yeah okay it kind of
definitely can be done there was one
other question I think are you using an
atom plug-in which has auto-completion
specifically for phaser or is it just
atoms to part default smart oh yeah it's
I'm not using the auto-completion
plug-in there is one though
I haven't tried it the the reason why
why the auto-completion seems so smart
was because I also had the completed
file open as well so it was grabbing it
from there sadly it's not as smart I
might try understanding that the Web
Store
and also Visual Studio can have pretty
good integration you need a type screen
definition file which comes with this as
well and then you can have that Smart
Folder completion are regarding your
question CK so from what you showed us
with the Intel XDK I did not see
anything about native desktop bills set
I within Intel NWS not familiar we Intel
and WS n wogs but what I can tell you is
the Intel XDK
that's the build on the cloud I don't
know if it's if they've added over the
last maybe three months that I haven't
checked like the latest sort of things
that we're added but I don't know if you
can also tie to a locally installed
Cordova Cordova instance maybe you can
now but my understanding is just
building in the cloud but then again you
can use all the other stuff and just
build it yourself in the command line
nice
alright well uh I just want to say thank
you like that well that was a great
session
I definitely Thank You Josh thanks
everyone for joining as well yes
all right and I put some links in the
slack chatroom and if anyone has any
questions um you know we'll be in there
and happy to answer them so with that I
guess we'll see you guys tomorrow for
the ability have any questions also feel
free to contact me on Twitter because I
know I have to I have another I'm not
gonna be this like channel 4 I'll check
it later though so much yeah I'll check
it later I'll make sure on anything I
also just feel free to ask um Twitter
sorry to interrupt
okay talking yeah uh I'll make sure to
post a link to your Twitter account in
there too so yes thanks hang in there
perfect alright well I will see you
tomorrow guys bye thanks for watching
this crater cough talk from the Mobile
Edition 2016 for more information about
upcoming conferences such as the one in
February 2017 go to camp crater dot IO
to learn more</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>