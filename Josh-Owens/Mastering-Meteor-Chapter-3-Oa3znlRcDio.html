<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mastering Meteor - Chapter 3 | Coder Coacher - Coaching Coders</title><meta content="Mastering Meteor - Chapter 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Josh-Owens/">Josh Owens</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mastering Meteor - Chapter 3</b></h2><h5 class="post__date">2015-10-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Oa3znlRcDio" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright so we've got the user accounts
now the thing we need to do is configure
it like I said this is new to the class
so I'm going to be trying out a little
bit of code here for the first time I
keep this in the lib folder as well just
a you a config jf you a stands for user
accounts and let's see I had some grab
some code earlier
we did I put that okay
so this is a big block of code so rather
than type it I'm just going to paste it
in
we'll start at the top actually I'm
curious let's look at the docs maybe
it's changed it used to be called
accounts template and then it got
renamed to user accounts so if we go to
core go to the guide
there is like yeah see it's still
account templates I think at some point
it will probably change the user
accounts document figure but basically
what we're what we're saying right here
is on line one we want to tell it to
give us a sign in route and then on line
two we're setting up a huge configure
block and we're setting a bunch of
options and I think a lot of these are
kind of the default but basically like
we're saying we want people to confirm
their password when they sign up we
probably don't want that we do want them
to be able to change their password we
don't want to forbid client account
creation so you could say like I don't
want to let people create accounts from
the client and then you'd have to
manually add users from the server so
it's like a small private app you might
turn that option on send verification
email is if you want people to verify
their emails that would be something
that you turn on so I mean there's a ton
of stuff here that you can completely
configure and even you can get down into
the text and what the buttons say and
you know if you're if you had the meteor
developer Oh off and it would use the f
a rocket from font awesome to kind of
make that work the major thing here is
the you know once someone logs in the
home home route path will be excuse me /
so I think this all looks right and then
the key to get this working is will add
the at nav buttons i believe it's called
which isn't super well-documented either
but it kind of gives you that whole sign
in sign out link let me just verify
that's the right call and that'll go in
our header so here with the compose
probably next to that we can add
something alright
they're with me I'm just checking the
docks ok so it sat nav button
so again it's just a template that we're
gonna render in at nav button let's see
what that gives us so we should see
something up here when it reloads oops
got a problem somewhere oh we got to
include some way for people to login to
do like meteor add accounts password as
well and there are a ton of options as
well they give you a lot of oh off stuff
that you can work with right out of the
box so you could do Facebook or Twitter
or Google+ github meteor developer
account they have their own Oh off set
up if you want it alright refresh again
here we go we're getting a sign-in
button but I don't think that's quite
how we want it to look we got to wrap it
in the LI tag
there we go and so when we click Sign In
you can see we get you know we've got a
route up top I went to a sign in page
and we've got we need to put a little
bit of some kind of global push on it
basically but you know you get the login
form here there's a register link and
now that that's working so we can
actually sign up and now I'm signed in
and you can see now there's a sign out
button right there and you can I mean
you can replicate all this yourself if
you wanted to but please yeah crush
right yeah yep all right um so the other
thing I'd like to figure out is how to
do like extra signup fields because I
was doing that with with the accounts
entry so we'll look at their docs maybe
I know they've got a way to do it so
basically what we want to do is ask them
like we want an email and we want a
username and we want like a full name
that will get put into the profile so
profile think it's the count templates
and field and there we go
there's probably an option as well to
say username and password so well and
this one there you go so basically it
should add a name should be a text box
the display name should be named it's
going to run a function for validation
looks like checking to make sure it's
not full name making sure they put
something in so let's sign out we'll go
back to the sign in page register and
now we're getting like the optional name
field here and then see if we can find
the config option for
and in here a lot lower case username
huh login with username or email okay
here we go
yeah not a huge fan of that actually
let's just we'll just add well howdy
user name for now see what that looks
like
so you need to change this guy to being
array get comma going on oops paste the
other block in what is it complaining
about oh we gotta close our array there
we go
missing key ID
huh
we got ID on both these guys
oh do 2 comma there I think that's
what's messing it up and I do want this
to be required true see if that fixes it
no still not liking it
need to say add fields and then notice
that's actually separate call if you
want to pass multiple fields
oh there we go look at that it's picking
up username or email automatically for
us now awesome does look like it's
ordering based on how we put them in so
my thought would be to move this up put
the comma there 163 ditch the comma
should reload and register there we go
so I tend to use robo Mongo if you're
not familiar with it if you're on a Mac
it's a great little app that you can
install it's open sourced and it just
connects to a local Mongo database and I
just want to go into the meteor
collections the user and I'm going to
blow away this account because it's
missing some data so just get rid of it
knowing sign up again
oh I see that's interesting it will only
allow full name so we probably don't
care about that validation right now
there we go all right and so now we've
kind of got the full user account
experience the way we want it any
questions about that oh okay I think at
some point I had taken it just straight
out of the guide I'd taken not that guy
somewhere way up above here he's kind of
got like a default want me there it is
yeah yeah I i had another project so i
just kind of copied and pasted it out
there but this is what it ultimately
came from and i removed some of this
stuff because like we're not doing any
hooks right now but you can do different
things on like log out or sign up or any
of that kind of stuff so it's really
really configurable and the the great
thing i think about this that i didn't
mention you know we we installed user
accounts bootstrap but like we're using
bootstrap because i'm familiar with it
and that's what i told the designer to
use but you know they've got
materialized they've got like every
freaking imaginable template system like
you know ionic or completely unstyled if
you want a foundation they've got
materialized they just don't have the
what it looks like polymer ratchet like
all of them basically they're all right
here semantics you I so I highly
recommend it and basically the it
installs a core user accounts package
which is what we were configuring but it
works the same across all these
different HTML kind of frameworks style
frameworks
main account package that's kind of part
of meteor and then there's this which is
like a an add-on but it's kind of like
the default standard of the defect too
is there something weird there or is it
is this becoming the well so I think the
problem is if you install so you're
talking about like account base yeah
yeah let's go look at those dogs real
quick um accounts yeah so like all this
stuff comes along when you install
accounts base you get a lot of this
account stuff automatically and then
when you install accounts password you
get all these other kind of API calls as
well for excuse me creating users and
emailing like verifying their email and
all that kind of stuff like all this
comes with the accounts password and so
the great thing is because they've they
built this accounts base user accounts
core is built on top of accounts base so
it's all still that core code that
meteor road and when meteor makes
changes you kind of know that you're
going to get those for free with user
accounts core which is a good thing but
the the the reason user accounts exists
in the first place an account sentry
existed in the first place is because
you know we build applications and we
want to be able to customize the look
and feel and I think that if you install
accounts UI which is the core UI for
account login stuff from meteor it's
pretty crappy honestly it's it's basic
its got like a drop down with a little
modal overlay it's very very hard to
control from CSS and so I started
accounts entry because our designer like
hated that he thought it was horrible
and hard to configure and so we made
accounts entry and we decided like let's
hook iron-router into it and you know we
can have sign and routes and that kind
of thing which is better for emails if
you look at how like account you I works
with the verification emails it's
really weird they're they're passing
stuff on the URL to try to get it to
work right like that just seems silly to
me we have these these notions of URLs
for a reason so and then on top of that
you know accounts template which is now
user accounts came out of like you know
account century looks great but it's
only for bootstrap how do we get it how
do we get something like this for all
the frameworks and so Luca was way more
ambitious than I was and decided to
create this whole organization that he's
managing now and he's done a great job
with it so does that kind of answer that
question okay correct sure all right um
so we've got that done and you can see
here like I'm going through the meteor
versions like it's definitely adding
accounts based an account password as
part of the the dependencies that it has
it's curious it added local storage too
I wonder why I did that then we added
the nav button to get that working and
then we added the the config
alright so we'll push that up and now
we'll get into the meat of building an
application where are my issues so
number four we're actually going to
build a feature now as a tweeter I want
to be able to post to eat so that I can
share what I'm doing right now and so
the goal here is to be able to hook up
this compose new tweets have it go into
the database be saved and then
eventually we'll we'll make it be shown
over here as a tweet so we'll be kind of
going through the entire gamut of
building you know a data flow</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>