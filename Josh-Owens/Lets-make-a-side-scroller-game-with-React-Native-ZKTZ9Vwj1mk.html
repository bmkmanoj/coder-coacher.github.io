<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Let's make a side scroller game with React Native | Coder Coacher - Coaching Coders</title><meta content="Let's make a side scroller game with React Native - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Josh-Owens/">Josh Owens</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Let's make a side scroller game with React Native</b></h2><h5 class="post__date">2016-12-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZKTZ9Vwj1mk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome crater fans this is a talk from
crater remote cough mobile edition this
talk focuses on building mobile apps
using JavaScript you can find out more
information about upcoming crater remote
coughs at cough crater io enjoy the talk
alright welcome back everyone to our
third talk of the day this will actually
be the last talk today james Baxley
could not make it to speak he had a
family emergency come up yesterday so
gonna talk to him once he gets that
resolved and see if maybe we can
schedule a makeup session next week or
the week after and get that talk because
I think it's really I hope he can do a
makeup session because I think I want to
see that talk of going from Cordova to
react native and see what that that
process looks like but our next talk
I've been super excited about I want to
get into game development and I found
Ken wheeler he was hip formidable he
works at Walmart on their various
projects that they have there and he's
been doing react native for a while and
so he agreed to do a talk showing us how
to how to build a game with react native
so I will turn it over to Ken welcome hi
my name is Ken wheeler yeah I work for
middle where we do all kinds of open
source and work Walmart labs through
formidable where I'm on the react native
team or we build react native
experiences for the Walmart iOS app and
Android app but I'm here today to talk
about something a bit more fun which is
game development particularly with
physics in react native ever since I was
a little kid I have loved video games
and I love video games to this day I
played fallout for like two hours last
night
I just love video games so much and I've
also been
programming's in childhood and have
always tried to make games I'm not that
great at graphic design or you know
authoring game experiences stories
mechanics etc I see that chat window
fallout 4 stop it
so I mean way way back you know I've
made video games and visual basic or
what have you
eventually you know tried some some type
of gaming you know perf wasn't like that
you know and and more recently I got
into react big time
you know reactant floats and all that
stuff and then react native came out wow
this is great
but you see like the lion's share of
mobile apps right they're uh they're
very like Twitter your Facebook II and
you know that's not to know take
anything away from it but they're there
for displaying information there for
displaying you know lists of things or
form in Pusser you know you have some
some more novel one some some really
cool stuff you see snapchat doing with
the real-time video manipulation of them
like that but a lot of the apps that I
was seeing where you know apps not games
and I always want to try to make games
so I said to myself how can I make a
game with react maybe just now I can
make you know games for the phone and
you know not have to write it in you
know unity or sprite or what-have-you
I can write it in not only in Java which
I enjoy but react which I really enjoy
but you know there's challenges around
it so we can explore some of those and
some some basic game does stuff my
screech oh yeah so I've been working on
this repo for a couple days now and we
are going to make this public right now
Wow
thank God I didn't have to type that in
alright so check this out originally
what I wanted to do was make like it
like a game kid framework that's still
kind of in progress
it hasn't been framework refined yet but
this is what we're gonna review today
and this is a great example of you know
how to do this I haven't seen anybody
else do this so I don't know what is
this is the way to do this but it's how
I'm doing it and how I guess the only
way to do this is now and I'm you know
maybe we can make a great starting point
someone else who can do it better and
knows more about making games because
I'd like to preface this with I am
marginally good at javascript and I'm
terrible at making games but you know we
got this work so let's check it out
first things first
there's a little bit of a difference
between you know making apps and making
games right so in an app you know it's
gonna load up and you're gonna do
something you're gonna have like a
router or you're gonna have a sink calls
out to servers it data you're not to see
the games I'll do that of course they do
but you know generally speaking like
that
the mean you know framework of the game
there the bad nice job at that first
start so let's just look at some some
game dev basics really quickly here
right so general mean that works off a
little loop right so you have you have
three phases you're generally speaking
you have the initialize phase you have
the update phase and then you have the
draw of things all right so down here
you can see a cool little graphic you
know you start your game and you enter
into this game loop right and then
you're gonna hop between states right so
you have your menu and intro and then
you have your level you Pete your level
you go to this level you go to the
ending this is a really high level
because the game controls your timing
the game controls your physics all of
this is tied in here to this loop so so
general game devs right you have this
loop going where it's constantly
checking and you know this is that
then you're gonna go to this state of
that state and and that's how you
progress through your game right so
exponent I don't know if you guys are
familiar with exponent but exponent J s
is great it's like a it's like a
sandboxed app where you can run react
native apps and just push them right to
your phone and play with them really
really cool stuff but they had a contest
and I entered the contest it was a
contest to make a cool app with exponent
and I was like yo I'm making a game for
this contest
and and not only that a game a classic
game an amazing classic game and you
know I got it to work I took this little
video here I basically made duck hunt
for iPhone using react native right so
if we check this video out here I called
it react hunt go here we have our dog
come out ducks go up you tap to kill the
dog then he comes up with the dog and
then if by chance you let a duck go then
your dog laughs at you which is my
favorite part just tons of fun but there
was actually no physic here a lot of
game development is is a lot of sleight
of hands so to say you know there's no
physics in this now we are using some
other core game concepts here like
states right we're looking at writing
right so let's take a look real quick
before I get into how physics work and
have a look here at what that code looks
like in react native right so this is a
pretty Spartan dependency wise we're not
even using flux you know it's just react
native I have assets here and then I
have our SRC we look at our main guess
and like we saw before with those game
states right
I have my initial my intro shooting in
the end right so we hop through here we
have a game stage top-down that what we
have here right and I'm saying render
game scene so in my render game State
I have case initial case intro shooting
and then you know we have a couple
different things like you know you tried
to shoot the bird or the state changed
right we just let you hop to the next
state here you have an initial one
but generally speaking this is what
we're talking about here you know this
is the regular render and then you
render the game state and there's that
so let's take a look at these states
right I have my initial state right
which is if we zoom this back right I
just have a view and a text with react
on I have a touchable opacity which is a
button around tap some ducks here right
you know we say on press for the button
they stop crops on state change bond
intro so this says hop to the intro now
so the intro all the intro is is just an
animation right the intro we watch here
is stop it
it's a just this dog walking out right
and then hops in the bushes plan so we
have our intro here we're using a mmm
animated right which is how you animate
things in react native so I come here I
say this state step 0 dog left is
animated value 60 and then here I
basically move the dog using animated
timing right this down here right and
I'll get to this in a second because we
have status sniffing and diving we're
going to talk about spriting so it goes
through does the animation and then it's
going to hop back right and then you're
gonna enter shooting right when shooting
very similar sort of stuff we hop down
or render method you know a touchable
highlight right
so the entire stage is a button here you
have a view which is our shooting area
and you have an animated view the
animated view wraps this dump right here
and this is going to go ahead and
provide the duck animation right
we have status which controls the
spriting and an on killed callback which
is when you click the duck right so this
entire game there's no physics it's
really just a bunch of callbacks it's
trickery at the end of the day right so
this the next thing that I want to talk
about probably more important is
spriting right so in addition to your
game update loop the probably second
most important thing if you want
anything they look like it's doing
anything
he's spriting right so you can see these
ducks flying in different directions and
the dog comes up and now as a good time
here he comes up you know the dog walks
out jumps in right so the way that this
actually works right is this is a sprite
sheet you're seeing here all right this
is one image right and inside of this
image is all the different frames of
animation that we have here right so we
have different colored ducks and they're
you know you're going forward you're
going you know backwards left and right
you got shot you know we have dog
sniffing he goes he jumps in this is
where he's laughing at you okay and the
way that I chose to do that in here this
this actually has a lot more complex
writing than the the main game we're
going to talk about here today but what
I did was I define an object and the
object skis are the different sprite
space that can work in this right so we
have sniffing laughs diving call it
right and then I have key frames here
and at the top right is the top position
from the sprite we're talking about top
here right this is the background
position so we have you know top zero
60 and then the keyframes are the
exposition of that graphic right and
then it's gonna iterate over this array
of X positions or left's so to say and
what that's going to do is really just
take that image and move it over on a
set interval and it looks like animation
I mean you know it is animation but it
you know it it's sprite based animation
so here with this dog here you know the
dog steeped it's passed down with a prop
right so I have a you know default props
is sniffing so it starts with sniffing
but you know you pass down a status prop
it's going to it's going to change this
dog state here and then you're gonna
have a set interval that is going to go
step through these keyframes and you
know there you have the door right here
so really what I'm doing here is I'm
moving this dog from left to right and
looping through this right at the same
time makes him look like he's walking
makes the Ducks look like they're flying
you know this is spreading and this is
how spreading is done and react but
again this is not how physics based
games are mainly this particular game
allowed me to do a bunch of pull back
trickery and I wanted something more
right so let's close this down for a
second
i sat in thought for a very very long
time about the best way to do this
reactor rendering is sort of expensive
especially if you're blowing everything
away right not not in a you know I
updated a form field kind of way but you
know a bunch of times you know
requestanimationframe style you know it
adds up so you know wrapping an update
loop around the entire render was out of
the question it's not gonna happen
additionally I didn't really have any
physics to work with so I had to figure
out a way that I wanted to do the
physics enter PJs and if he was familiar
with this but p2j is is a 3d physics
for JavaScript one of the only ones that
I found that was you know reasonably
sized and was not coupled to a renderer
and that's the most important part that
I can have this world exist but not
necessarily have to render it or I can
conditionally render however much I
necessarily want to right so this is an
amazing library we can go look at this
this is my favorite demo because I have
a Jeep it's the suspension but it does a
really good job of modeling physics it
also does a really good job or interview
now if you look at something on the web
right there doing immediate mode
rendering with canvas right but we're
working with views so the equivalent of
you know rendering to the Dom we're
gonna have elements right so I wanted to
figure out how I can get this and react
negative to play nice right so just for
comparison here I want to show you I
made a very similar game as a precursor
to this because I was thinking to myself
my first option right was to bridge over
sprite kit right so sprite kit in iOS is
a way of making games and I wanted to
bridge spring kit so that I could get
access to their physics get access to
all that stuff but then I realized it's
not cross-platform and that's not going
to work because I want to be able to
make cross-platform games that we're
using react native so these are this is
Swift you know it looks close enough to
JavaScript you probably see what's going
on here you know so I created a class
called game scene here which is a sprite
kit scene you create your you know your
character your floor your background all
that stuff and it's gonna follow this
pattern here your initializer here
you're gonna create your character
you're gonna create your floor create
your platforms etc well you're gonna do
that on did move to view that's when you
and then additionally this is your
update function right so on an interval
this update function gets called so in
the game I have a character that moves
up and down in the Y plane and Y space
right
but everything else is moving backwards
it makes it look like the characters
going forwards but in actuality
everything else is going backwards so
here in my huffy function I say Florida
position X - equals 3 background on
position of X minus equals 0 point 1 in
Swift this is great right because it'll
just update it right there you're good
to go and then here I could say if you
know the frame and the character if the
character falls down a hole right so the
character is outside of the frame here
CG read contains point then essentially
we're just gonna restart the game
because the character you know fell down
the hole right now this is how this is
done Swift I'm gonna show you how we can
do this in react native so this right
here is the repo that I just open
sourced and you guys can check it out
alone you can just watch me messing
around with this you have index is an
index that Android is both widgets same
thing right game here I important you
know react react native and every react
native app you know they say rid of this
thing here averages treetop Register
component is your react native
equivalent of react the Dom render right
so in here I have my main game and I
have dead which is you know that you
died state so I only have two states
here so it doesn't need much management
I have a that you died and you know
let's reset it and games day we toggled
you know dead to be true or false and
you know really just toggle between
these two games days right here and
that's what this main wrapper looks like
it's pretty simple we should probably
run this why my caps lock breath all
right we can run this game to get kind
of an idea of what we are talking about
all right
what's nice about newer versions a react
native is you can run it right from the
command line you don't even have to mess
around with Xcode I did for easily mess
around with Xcode so that I can lock it
to be a landscape orientation game and
hide the status bar but after doing so
you kind of just go back to business
here and run it from the command line
and then you can stay and Adam or him
all day alone I typically use them but I
decided to use Adam today because the
highlighting is a lot better and I have
multiple open projects like that so
what's a let's hide our terminal here we
have our simulator that's loading up
there this super fun react native
terminal what's going to town any day
folks any day
so here's the game that we are gonna
look at how its built today and he's
very very sneaky it's not a very
impressive game at all right however it
is already activated
there's no native code it's all
JavaScript let's go here right it's all
JavaScript and it uses physics real
physics has collision detection
everything you could possibly want when
when making a relatively simple game so
here we load up we have our character
here and this fella is using real
physics with collision detection not a
very impressive game however it is
running at 60 frames per second and
someone with better graphic design
capabilities and game authoring could
probably use this same approach to make
something pretty cool so let's see how
to do this right that's actually a funny
story about the character my
nine-year-old brother designed this
character with qixels
and came to me and asked me if I could
make him a video game I told him I
absolutely can so I went into sketch and
recreated it out of blocks funny so
let's see how to do this right so first
of all let's look at our desk right this
has a little bit more depth than that
other game right so we're using mob X
I'm not sure how familiar everyone is
with mob X but is the jam mob eggs react
which lets you look into everything p2
which we just showed before and then
reactor ragging we're using babel preset
react native stage era we should
actually probably be a dev dip but I
digress
because mob X is use of legacy
decorators
so let's see what's going on here first
let's looking at Bob axe
I'd like to hop into this worker because
this is what makes this all possible if
you're familiar with react you might be
familiar things like flux and redux but
mob X is pretty neat I think it's worth
talking about a little so you can create
a regular you get six class like this
right and with mob X you import
observable right and observable makes
class properties believe it or not
observable okay so unlike redoubts where
you have you know everything's based
around the concept of immutability this
is completely new double right so you
you you mutate these on the spot but
they're observed so everywhere that is
working with them it actually just works
I know I know it's crazy but it's
awesome I assure you you can use it with
immutable data table but you know it
doesn't use it the same way that
readouts does so here in our in our game
store we create an observable object
called character which contains our
character's position and angle right
another observable background X and then
we have a method here set positions
right position and background where we
set our character position and our
background x2 what's passed through the
arguments now I like to write these kind
of methods if I'm going to mutate these
I don't like to just mutate them in the
middle of somewhere I instead like you
use the method so that I know where it's
being mutated if it is because that
makes you feel any better
Wow so there's the other part of this is
having an observer right so your
components can observe this so let's
back up for a second here is our main
component here now the biggest thing
that I struggled with was how to
actually make
the physics and the update and react
native all played together well right so
I have my physics and a totally separate
file here and I have an eight method
right we come down here component will
mount I created a new store and then I
call it knit with the store the
dimensions of the window the speights
the step callback and the collision
callback spikes here is this that's
fights positions in our constructor
we're generating them so I have a util
over here that basically just randomly
generates
you know these positions these left and
top positions for our spikes you know
with the the random randomized left here
so in our constructor I do my binding
which if you're doing es6 classes you're
familiar with with you know I generate
my spike positions and then I pass them
into physics which is available via this
init method so let's back off of of
react for a second right so this is our
physics file we're going to do a couple
constants here we have our fixed time
step our physics to downscale
our character width and height spiked
bodies and the animation frame right
your options get passed through and then
they're each structured and now it's
time to create a physics world so the
way that I was actually able to get this
to work right is if you've worked with
react you understand that there's a they
use the virtual dumb right so they
create a fake down to operate on and
then you know diff it and then reconcile
the real Dom with the diff from their
fake down I'm doing a very similar thing
here right we're I'm creating a physics
world outside of you know what's going
on in my my render
and then I'm kind of just cherry-picking
from that and selectively rendering just
the pieces that I want if I rendered
everything based upon this he wouldn't
be performing at all but in order to get
that to be performing instead I'm going
to you know run that on the side and
then kind of just cherry-pick what I
need and render very very selectively
right so the first thing we do is in
create a world right so you create a
world here new p2 world gravity 0:25
broad-faced I'm gonna do an SAE broad
phase which is a faster but less
accurate broad phase which is a you know
how they detect collisions and things
like that you know we have our collision
constants so you're gonna create
collision groups these are constants for
those so the first thing that we're
gonna do after creating our world is
we're going to create the floor right so
we create a floor that's at the you know
absolute left and the you know absolute
bottom of our phone window then we're
going to create a shape which is a P to
clean it plane just goes on forever just
the floor we set our collision group and
our collision masks we say that the
collision group is floor and that it can
collide with characters and spikes we're
gonna add the shape to our floor body
and then add the body to the world right
and we're gonna keep doing this with the
character here we create a character a
little bit different now because it has
mass we have fixed rotation which means
that you know if I didn't fix the
rotation anytime that character hit
anything they start doing these weirdo
back flips which is not really what I
want in this game but if you wanted you
know like how we saw the car before
flipping over you can have that work
then in here we position them in the
center and right here we're gonna you
know basically kind of just set it so
that the character is standing on the
ground
I mean maybe I'll show the weird of
Eclipse will say so we create a shape
right so we use a box
shape here set our collision groups at
the shape add the body to the world I
create the same thing with background
then for my spikes for each of these I'm
gonna go through and create a spike body
create a slight shape set our collision
groups add them to the world and push
them as pipe spray bodies and now
finally we are at our game loop this
might have looked familiar from what
we're seeing swift before you have this
update method right so this gets
requestanimationframe here
requestanimationframe is poly filled and
react native see down here we start by
requesting our animation frame so in
here right we get our game step we call
the game step right here right which
makes the physics step ahead and then
we're gonna translate our position now
here is where the magic happens
this is what I'm extracting out of the
physics world right
anytime I operate on this physics it's
gonna do all this this physics business
that I'm not smart enough to understand
but you know it figures out where the
character is gonna be this character is
on a slant right and he's chillin and he
has mass he's gonna start slipping down
and fizzy's gonna worry about that I'm
gonna worry about here what I'm doing is
I am taking the physics to DOM scale
right and I'm multiplying it by the
character got interpolated position
right and what this gives me is the
state of this character at each take
right same thing with the background
here and then on my store I call that
method that we defined we're going to
set our character position and the
background X right so now I'm basically
just picking out the X&amp;amp;Y the character
and the X of the background and that is
giving me the coordinates that I need to
render the smallest part possible for
this physics work right then down here
I'm saying world on post step so after
each step we're gonna do this step
callback which I passed in and on impact
right we're saying if it's not the
character or the spice hitting the full
if it's character in spikes kill our
animation frame and called the collision
callback right so that's the basics of
how to set up the physics here there's
super simple physics even though you
know it's you know 131 lines of code you
know it's generally simple compared to
the things that you could do but this is
going to handle all of my physics for me
so let's hop back toward where at right
now right so where were we
so I import character I import spikes my
important background right you're not
seeing any mob X here because if you
observe those values and and try to
render them and you know have a have a
state based render up here they wouldn't
be performant at all because it would be
rerender everything every time and we
want it to be performing we want to have
a good time so we're not going to do
that so we head back down here component
will not creates a new instance of our
game store we initialize it right and
let's just hop down a render for a
second right again we have the touchable
opacity around the entire screen right
and that's basically a button so we're
saying every time you click that button
right every time you click this button
you want this thing to jump yeah so on
press
I'm calling this dot create force
alright so here's where I can start to
mess around with some of that physics
I'm saying this Force Q is equal to zero
and seven hundred that's going to put
seven hundred of vertical force on our
character the reason that it's cute is
because you have to do it in this step
callback right so you're gonna you're
gonna go update these values after the
world step has taken place and you can
make sure that you have the right
physics values so I say if if this stuff
works cube we have a four scheme
character dot force equals this stuff
force Q and then reset our force Q so
that it doesn't get reapply right also
in our step callback we're taking the
spikes well we are taking the background
and the spikes and we're pushing them
left words
we're not doing that in the in the Dom
so to say this is only in the physics
world right here right these spikes
never move these spikes are static and
they sit in the background we're only
moving the background but in the physics
world these spikes are moving so that
you know the physics world is aware that
these spikes are moving relative to the
you know the characters current position
so I mean we can sit here and screw
around with this force you want him
there and get a hundred you look
ridiculous
you will jump high enough and we'll
never be able to win the game man this
thing is really chugging yeah see that's
just a little punk force you can't do
anything about it we could get hop up to
a thousand see what's up over here now
he's moon physics holla there's a lot of
important things that I'm not doing here
like you know like I click throttling so
now you can click forever and you know
this guy will never come down but you're
making a real reasonable game you do
that then you let see some I'm not just
throwing some weirdo backflips just for
funsies so you can see what's going on
here you can see if you take something
like this rotation off there's so many
variables that you can tweak with the
physics it's ridiculous yeah well he
doesn't really have anything to run into
so you might not do the backups right
now but I digress where were we so then
down here we have a view styles equal
stage right so this is inside of that
button we're just sending out it's gonna
be the the whole width in the screen and
here we render our character and this is
very important we created that store and
we need to pass it as a prop to the
character and in the background so that
mob X can work properly it works when
you pass the store down and as a prop
okay inside of the background
we have spikes then I pass a spice prop
this Speights position so if we look at
just spikes for a second all spikes does
his render the spikes right you have a
view that is flex one and here you say
phone calls out here this stop props
that spike stop map and you're just
throwing a a spike out there we have a
look at a spike you're saying get
position so you know really this is just
our generated positions and it's gonna
render this spike image right here these
don't move they're very simple it's just
rendering this but we look at a
character now we'll be able to see a
little bit more of how that other stuff
works right so we import our observer
from mob X react native right this
shouldn't even be there that's
ridiculous we import sprite from sprite
and then we have this observer decorator
here so this basically wraps this this
class here and when you say this stuff
props that stored character dot position
when you have that observer on there
anytime that changes it's gonna update
this component so and anytime you mutate
the character position these updates so
that that's essentially what's happening
thing so we have a view right here that
just wraps our sprite and it's really
just used for positioning right we have
our character uses my hiding with and
then we're creating a transform of
translate X and translate Y that's based
upon the character position that is
getting updated in the store we have a
sprite you saw before we were doing
spreading this parade is very simple I
say she is an array of these these
sprites here now I have in assets I have
this little character walk cycle and
then here I mean it is literally just
going through calling a set interval and
looping through these indexes from
you know zero to three then down here
reading an image with you know the sheet
with the array index of our sprite index
and it really just loops through your
images and creates this animated
character walking so we have a wrapper
around it that's positioning it and then
you know it's it's kind of just an image
that's just cycling through an array of
images and that's how you get this right
here right head over take a look at
background again this has an observer
because the backgrounds moving and this
is kind of trickery right here I'll show
you I really you know the same way we're
positioning the character we have our
view here right when we move it left
words this entire thing is just moving
to the left right rather than moving
each one of the sections individually
and taking on that kind of overhead I
just wrap them in this background
component and move that and as long as
they think in the physics world that you
know everything is in the correct
position all your collision detection is
in the tape is going to be accurate but
you know the only rendering overhead
that you're truing is you know setting
this translate X on that view right and
that works great for static bodies right
so if you had like if this character had
like edges you could jump on or you know
there's like holes in the ground or
cactuses or something you know that's
fine I'm good you know that that all can
work right there they're all static
bodies if you have dynamic bodies like
enemies you're gonna have to set them up
like character because you know they
probably want to move around or have to
track themselves independently and that
is really the long and short of how to
very simply get physics working in a
react native game I hope somebody
watching this you know he's good at
making games are good at graphic design
and they can take how I figured out how
to
actually do this and maybe make
something actually playable uh-huh and
no then I'll download it one good time
now brief word from our sponsors before
you see the rest of the talk ray gun
spend more time building great software
and less time fighting it ray gun helps
keep a watchful eye on your web and
mobile applications and tells you when
problems arise you can learn more at ray
gun calm native script back by telluric
by progress is an open source framework
for building truly native mobile apps
with typescript and angular to use your
web skills to get native UI and
performance on ios and android enjoy the
rest of the talk
awesome thanks Ken thanks so much for
having me
yeah all right it looks like we've got a
couple questions here if you guys have
more questions
do remember to queue them up on the Left
we'll start going through these oh oh
the first one is may be related to
meteor so a lot of my audience it comes
from a meteor background I don't know if
it makes sense here the game development
with meteor and react made native a
significant departure from the
traditional game development I guess
we'll just throw away the meteor part
you usually yeah it's not really
designed for game development huge it's
not really game design for game all
right you know you really have to kind
of trick it a little bit to be able to
do this right you know if I was a real
game developer Frank knew anything about
game development I might do it in unity
or Swift or what-have-you but I mean if
you think something like sprite kit and
I've tried to write games with spring
kit you know this performs better on the
simulator than troika games do fairly at
least in my experience you know maybe
maybe I just write bad Swift or
something but you know it's it's a big
Archer as far as you know how this is
structure because you know most gamedev
is like immediate mode you're rendering
not maintaining this is tree if you know
you're much more integrated into the
physics world if you're doing something
like canvas or GL or something you know
it's not like you're you're doing like
tree Tiff's on you know like a Dom tree
so to say you know that's why I have you
know you see the canvas games and some
of those those canvas apples for p2 are
bananas you know they run crazy smooth
in the browser that's why so yeah should
you make games in react native some
games if you want to make a game uh-huh
you know you're not gonna go make a you
know Pokemon go or anything you know if
you would make a simple game especially
you want to do something easy like I
don't know you wanna make something
that's not so anime be like like 2048 or
something oh it's like a perfect choice
for something with that you know going
through your your game states there even
something like you know tiny wings or
flappy bird or something you know you're
good to go you know even some turn-based
strategy even works but you know as soon
as you want to do like 3d skateboard
simulator pro yeah maybe look into
something else yeah and like also say
tomorrow we get a talk from Pablo who's
gonna show us how to use phaser and he's
gonna walk through building kind of like
a mario clone that's awesome phaser and
cordova and that kind of thing so that's
gonna be interesting to see as well so
Brian asked I know this is this could be
a question but could you briefly explain
what get animation frame is and does so
it's it's requestanimationframe and in
the browser you know it's how you
animate right so so
requestanimationframe when you when you
call requestanimationframe
and give me the give it a callback or
what-have-you
you
is going to call that back on the next
available animation for never let you do
performant animations right so then you
know the idea being you call
requestanimationframe you do your
function right what do you want to do
let you use step a character left and
then you call requestanimationframe with
the same with the same function again so
you know it's a recursion so they say
not like a deep recursion before of a
loop and when it's going to make sure is
that your your your your operating on
the right ticks sort of performance and
then you know outside of that you manage
like different state variables like
something or even ins inside of it right
you like doing a decrement like bar X
minus equals five and then you know next
thing you know it'll give you 60 frames
per second
now that's polyfill for react native you
know I'm doing a time step that the
reactive requestanimationframe runs like
a billion times per second but there
anything a billion but yeah it is it's
significantly faster than the web
I can't hear you
I've muted sorry oh there's a train
coming mine so yeah that was a good
answer um Dave asks are there things
like a cod something that might make it
make its way to react native actually
hadn't seen this library before but um
yeah so here's the thing
is it gonna make it plain to react or
probably react native core you know at
least from what I've heard from the ring
native core guys personally is that you
know they want core to be small and
tight you know a tight set of core
component tree to work with and then you
know with the opportunity for the
community today to go ahead and you know
build really cool things for it right so
they're relying on the community to to
build up these different components
these different you know additions to
react native could that be in you know a
react native version sure absolutely
you know I've seen react native version
things you wouldn't believe we have a
formidable we have a charting library
victory which we did in SVG and it turns
out you have react native SVG which lets
you render SVG and it basically bridges
SVG code to well on iOS it does you know
core graphics code right so you know we
were able to reuse a ton of code and now
our charting library works on iOS and it
uses core graphics but it's technically
using SVG markup so yeah I think that
that could definitely make its way I've
seen some people do some some stuff with
react native in that respect so I mean
yeah sky's the limit with what I always
tell everybody especially you know it's
a you know there isn't anything that you
know you can't do with react native if
you're willing to get your hands dirty
with objective-c enough
crypto bag says okay cool now make
Pokemon go um actually I mean I don't
there's nothing really that like you
don't even need collision
I guess you doing I mean you know you
might want physics for the ball to go
yeah but I mean you have access to the
gyro you have a camera you can lay
things on top of the camera you know you
you have geolocation there's actually no
real reason that you couldn't do it yeah
oh I see the comments no that's
definitely physics is I've been making
some crazy trick shots crazy trick shots
yeah I mean you probably could do it
yeah so no I'm I'm curious I didn't I
didn't put this in as a question but
like if someone wants to learn more
about spriting and animation and that
kind of thing like where would you
suggest they go to get started on that I
would just Google game development and
there's a lot of like intro to gamed
about mean this is like you know core
game development concepts so it's gonna
apply to anywhere you're really trying
to do it so in that reaction game you
build that one yeah okay where did you
with the sprites like pre-made or did
you make those yourself for those are
the original sprites from duck hunt okay
yeah they look nice courtesy of the
Internet
courtesy of torrent yeah that's why they
game look so cool because it was the
original yeah graphics I wasn't in
charge of the art department so that's
why that one looked a bit more polished
oh nice yeah so someone just linked to
piss school which is a art name I mean
it's bright I have oh cool yeah yeah
looks like you can even like preview the
animations nice not to make some sweet
and walk cycles
indeed like my daughter keeps asking me
like how I get into the graphics of
gaming and I'm like I don't I don't know
I'm not I'm not an artist
I can write code that is it that's a
deep dive next thing you know you're in
Maya I'm out all right well it looks
like we got through all the questions I
just want to say thank you Ken really
appreciate you coming on and sharing
that with us and doing all that research
and then open sourcing it so for having
me talk yeah
and man if anyone has any questions ken
is in the slack chat room as well so you
can hit him up there and ask him or find
them on twitter and ever you want yeah I
love following you on Twitter yeah and
so like I said I'll let everyone know
what happens with obsession that should
have happened like right now but and
we'll pick up tomorrow at 1 p.m. Eastern
and sorry all right
see you guys tomorrow thanks for
watching this crater cough talk from the
Mobile Edition 2016 for more information
about upcoming conferences such as the
one in February 2017 go to cough crater
dot IO to learn more</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>