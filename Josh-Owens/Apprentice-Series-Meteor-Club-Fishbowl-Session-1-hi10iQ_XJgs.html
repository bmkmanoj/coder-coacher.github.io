<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Apprentice Series - Meteor Club - Fishbowl Session #1 | Coder Coacher - Coaching Coders</title><meta content="Apprentice Series - Meteor Club - Fishbowl Session #1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Josh-Owens/">Josh Owens</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Apprentice Series - Meteor Club - Fishbowl Session #1</b></h2><h5 class="post__date">2015-03-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/hi10iQ_XJgs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay some kind of functionality is usual
to work right we're gonna graduate in
dec it and implement its ceiling action
yeah actually I forgot that everyone can
you be yourself for a second like I'm
getting feedback for some reason alright
sorry yeah how do I do that okay maybe
me yeah oh there we go you got it all
right so um just to briefly review it
again the right now for people that are
watching the plan for this session is to
on the meteor jazz club website change
out this mailing list form and make it a
little more functional instead of going
to MailChimp I wanted to go to drift so
we're going to use the drip API and then
we're going to add some collection
functionality around here too so eat a
little more feedback so it's kind of the
goal of the session and we've got media
prague on the line they're going to be
my second set of eyes all right so just
do media run but I got something run and
let me kill it
he's them can you guys see okay just
give me a thumbs up with all right
awesome and the hotkey if you're on a
Mac is just command D in that all unmute
you if you I might make it a little
faster nordyke it works fine alright
awesome um yeah so I guess we'll just
usually when i open an app i've been in
here in a while so i just start with a
router which is in lib router and that's
so that you can do things like a 404
page you need to keep your router file
uh going to both client and server so
that's generally why i tend to keep the
router in lib router it makes it easier
to do server-side routing as well if you
need to but uh yeah so actually I think
we're on a branch we probably want to
now we'll just keep going on that branch
alright
this was the other part that I was
working on in another session was adding
like the QA support but I don't think
we're quite there yet this seems like a
more immediate need for me mailing list
alright so we've
scribers collection we've got a template
called home which is the front page and
you can see here when you submit the
form we collect the info out of it and
then we just make a meteor call to a
subscribe function which sends a Google
Analytics event if you're not familiar
this is CoffeeScript by the way on the
right and JavaScript on the left this
projects a little manic but um yeah so
on it'll run this callback once the once
the SUBSCRIBE call finishes we can I
think we can pass an air I pull up the
docks
why do you actually talk about it was
that you partner why did you actually
move from male tube what was the reason
um so I want to like right now when you
log into mailchimp they kind of they
have this notion of lists
and you can see like I've got 1,300
people on this list but then like the
eight days of meteor is a separate list
and it's got 57 people on it and I
actually moved that list already but if
we go here like drip just has this
notion of a subscriber and I can add
tags to a subscriber and then subscribe
them to like a drip campaign or I can do
a broadcast so I think this one fits my
model a little better because people
that get on my main list I don't there's
not a lot of heavy marketing it's more
just like trying to help them with
meteor and then at some point something
that I say might interest them they'll
click on it and then they'll start to
get into another campaign so to speak
like you know they're interested in
eight days of meteor or mastering media
or the idea is like I can track how
they're kind of flowing through two
different lists and that kind of thing
so I think it just gives me better
analytics and better tools I guess
that's the boiled down answer ah yeah so
I think based on what I'm seeing here in
the JavaScript API for drip we can
actually just make the call client-side
because we already i'm pretty sure we
already have this drip tag inserted for
other stuff so like here this is already
going to drip so it's just another page
but it goes to drip so i guess we need
to maybe figure that out if that tags in
their client use
layout we need a little cleaning day up
there it is layout HTML there's Google
Analytics yeah here's the drip tag so
we've already we've got a bar like a
window bar that we can call we can just
let me make this call client side just
like this you do it addy CQ push so the
identify method pushes subscribers in a
drip if the subscriber is not in your
account will create a new record for
them otherwise we'll update the record
with the information you pass in and so
the idea being like if they're if
they're on the main page they're going
to join kind of like the main media club
list and then if they're on the learn
page right here they'll join the they'll
join the the mastering meteor drip
course so I think basically what we do
is will comment this out we can start to
put a call in here somewhere so i'll
just copy this course it's a JavaScript
so I'm going to call identify and then
we're going to pass some stuff in here
we'll just put a tag on them for meteor
club I don't remember what it looks like
when they submit so we'll just put a
bugger there real quick and take a look
this guy up there we go and so because I
just said debugger right there like the
JavaScript console pick up on that and
pause my code and we're kind of in it
here so I can look at the subscriber
info we get an email a full name and an
options radio so i guess the smart way
to do the options radio here is I'm an
advanced meteor jas developer or I'm
actually I'm just starting out with
meteor so it's like beginner versus
advanced meteor developer and I I want
to keep track of that because I've got
different things like if they're a
beginner I'll probably send them like
JavaScript links and if they're more
advanced I'll probably start with like
here's here's some testing articles that
might be interesting to you or you know
here's some performance articles that
might be interesting to you whereas like
beginners are not necessarily going to
want to read that stuff right away so
it's an array
so we'll do something like will do a
ternary right here basically if it's
true return advanced then if it's false
we'll turn beginner all right yeah hi my
dogs are barking and so then we'll just
pack stage right here and the tags and
then one of the best way to handle name
let's look at these subscribers and see
what they look like
huh that's funny we actually made the
call I guess because we didn't pass the
I guess we did we passed a John attack
me to delete this one out um so we've
got fur
this one may be okay so I'm tracking
full name instead of first name just say
subscriber info dot full name and
subscriber info dot email alright so
we'll save that will get out of the
debugger
delete the subscriber all right ha
subscribe and then we'll check the API
see if it worked I think because I'm
already in here we'll have to go finally
ok
that didn't work because we don't see
the tag we added we get it yes subscribe
info I forgot an e gosh scriber
alright so no air that I'm refresh ah so
we got the meteor club tag but we did
not get this tags definitely not right I
not be doing my coffee script ordinary
right
and you just got to do it if else
new if and else
there we go so now I have tagged mine as
a beginner and it's got the meteor club
on here and so then what i can do is
like i can watch for that tag to be
added and then just automatically put
them into the the like i'll create a new
campaign in here
unless with the form later because that
will go on my blog but then you can
create these automation rules and I can
say apply to tag meat-eater club then we
can subscribe to a campaign I can put
them on a media club campaign activate
save rule and now they'll join that
mailing list and so there's some other
work I have to do behind the stages to
get all the other people imported but
then I can just like when I want to
email people I just send out a broadcast
and kind of control my mailing list that
way so the other thing we want to do
here is I wonder if we get some kind of
notification back that it worked or not
because I'd really like to up the UI
response game here a little bit and here
we go so we do get a response
so let's just just make a call back
right here let's ride the bugger here
and see if it works the way we want so
basically I think we're just going to
look at the sea sets boolean and then
decide what to show the people on the
page work
i see i have to put the call back inside
the properties so it says here we get a
success and a failure call back those
clothes
be more like the success your callback
response here bugger failure be a call
back once there we go so we're getting
the tix we're hitting the success the
bugger now our excellent object has
success crew gives us a user ID if we
want anonymous false email blah blah
blah so we can probably do something
interesting with that the first one
being let's reset the form so i use a i
use something called simple format the
package i wrote makes it easy to handle
form inputs and one of the helpers it
gives you this reset form so we just
give it the target which will be the
form but we're working with the other
thing that's probably interesting look
at what packages we have coffee script
there's another package I like coffee
alerts kind of gives you that that toast
or that bootstrap style alert on the
page okay use the command line meeting
your search coffee so that gives us
it is p Farid coffee alerts yeah if you
be able to know before you can do a
meteor search from the command line and
it will pull back all the same stuff
that's on atmosphere so again my spheres
running kind of slow so this over come
on turn these alerts off to there we go
now we won't get distracted alright so
we added those in and now we need to do
need the docks
so we need to add this partial somewhere
into our template it right here above
the yield whoops and then right here and
say coffee I think it was just alerts
dot alert actually want to say success
coffee alert success now make it green
for us Alfie alert stuff success
you
and then
we get this you've been subscribed up
here in the corner and it fades out um
can we maybe specify the amount of time
with a location maybe just specify
globally
just in client I'll make a coffee alerts
dot coffee yes
we use a meteor start up call to kind of
wrap it yeah I still going to do that
see what that looks like slide this guy
down
yeah okay so I mean maybe that's not the
best because it's kind of up in the
corner but without the at least without
this up I think the it'll be more
obvious to people pick that debugger are
there so let's see if we can trigger the
other one okay so we can't even trigger
a bad email so I guess what would do for
now is we'll just punt a log response
and then we'll coffee alerts that I
don't know what's going to trigger up a
failure here morning there was an issue
signing up and so I don't know like
maybe this is also a bad experience
because we're not able to tell them what
the problem was and we're really just
console logging in so I'm not
necessarily getting warned about this so
another interesting thing that I thought
we could maybe cover today or at least
start to get into it may be playing with
segments and we could create an event
that happens kind of win this when this
triggers when this air triggers so I
don't know I don't know how far we'll
get in 20 minutes but we can start
playing with that as well um the other
thing let's go look at the server method
right now the the server method that we
were calling before is making a
mailchimp call and subscribing them to
the list and then we're doing a
subscriber insert right here as well
so we can actually just change all this
to leave that in there for now
we can just put the callback Maynard I
called subscribe we'll give it
subscriber info and then in our response
we had something there access to it
anymore I want to put a debugger back in
here yeah
and we get a
uuid so we're just past that in as well
I'm stop visitor uuid at some point I
need to read up what that visitor uuid
does um ID but I'm assuming it has
something to do with like their IP
address and some combination of that
kind of stuff so I just want to track
that in my database as well all right
actually you know it would be
interesting we can just make a method
here it makes the response object to
subscriber air insert so we'll just make
a new collection and we'll insert just
the raw response because it's coming
back as a JavaScript object already and
so that's at least something I can just
go look at the database for now
subscribe our air no 1 i'm just call
your help call subscribe scriber drive
air ask the response and then just need
to make a collection drybar ears
there we go and so now at least we're
like if it's going to happen we're at
least tracking it in a way that's like
findable for me anyway also for now
going to continue to make this google
analytics call success
you
there we go and so I think we've we've
now created a better experience for the
user on the front page although I think
I'm saying I'm advanced but it's
returning beginner so maybe a flaw in my
logic subscribe it's good stage now we
can't look a stage water too far down
the stack just want to call back you can
look here at subscriber
what
Chris trip is going to have trouble
right when I'm trying to verify
something we can move the debugger up to
don't need it anymore my hair needs a
train yeah so that seems backwards
actually I think it's returning yes and
no perhaps yeah
when I'm CoffeeScript lame so we can
just make it read nice if subscriber is
yes then advanced else beginner to what
we get tau still getting you know
it's returning true so the output at
HTML yeah they'll put a JavaScript so
you're using coffee they keep an event
map so you can see the CoffeeScript but
then oh I see the problem is subscriber
info option radios yeah radio right here
but anyway I'll finish what I was
sitting there if i go to client two
views home to our coffees right here and
then home doc coffee Jas is right below
it and so you can see what the outputted
JavaScript looks like if you use on
coffeescript may spend an evening
converting that's all the JavaScript I
think it's an easier thing to teach so
my apologies for all the CoffeeScript
guys that's ignore for us
what pause right there so just
console.log stage already hitting
continue
there we go that time we said advanced
nice all right yeah so we can see the
advanced got set right here
all right I don't know that's probably a
pretty good breaking point if you guys
want to just have a chat about what I
did or thoughts or questions I think the
interesting thing here is we're in a we
were able to integrate with an API there
was a client-side API that we could use
and so we actually went from making
server-side calls to MailChimp to making
client-side call us to drip so you know
that's that's always interesting to me I
think it's kind of fun to be able to
work with the client side version of AP
is so to speak you guys are on music
yeah you have any questions regarding
this but there was a question before you
were typing that when you use meteor
methods if you're losing like to see
compensation automatically still keeping
it how does it work did you hear me yeah
sorry Beyonce say that again if you're
using meteor call methods if you're
immature matters if you I use are you
losing a lexical position automatically
business yeah so no right now I'm not
using any latency compensation that file
was in the the server directory so if
you wanted to do latency compensation
you'd have to make you'd either have to
move that somewhere that it's shared so
like the lib folder or you know the
collections I usually try to keep like
I'll probably move this because my
standard is to keep methods that are
working with a collection so in this
particular instance like subscribers not
insert or subscribers airs or subscriber
airs not answer
ohs I would move in to be just
underneath when I create my collection
so being like collection / subscriber
coffee and then from there like you're
automatically getting a stub so when you
write a meteor method by default if it
loads in the client it's going to try to
run that code as a stub so you may have
to use like meteor dot is client or
meteor that is server if you need
particular kind of functionality to
occur in one environment or the other
but I don't I mean there's not gonna be
a huge game here and latency
compensation I mean we're just making a
call to an API and you know if I if I
latency compensate and automatically
showed the alert but then it failed like
that's that's I think gonna be a worse
user experience so i'm not sure that i
would i would necessarily change any of
that does that make sense yeah okay any
other questions oh so uh if you put the
code in a server so in the server
directory the client doesn't even try to
do latency compensation am i
understanding it right yeah that's crazy
okay okay yeah so our work so well so
this mountain ox and look at the medics
not baddest cars and that that's an hour
late to come pick you up just alone no
you some sushi two cheese's though
adjusted right our next figure is ryan
walker and co-founder of differential
presenting alongside Greg night handsome
harbor and it's retro all right i mean
our no no no sorry just a most video for
a while but it's okay i don't know in
any question guys I think we can
continue on can you hear me yeah yeah
cool okay okay hopefully with someone
else somehow alright guys see you later
see you then 15</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>