<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Dux in the Channel - Using Redux, React, Phoenix and Elixir together - James Smith - Crater Conf | Coder Coacher - Coaching Coders</title><meta content="Dux in the Channel - Using Redux, React, Phoenix and Elixir together - James Smith - Crater Conf - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Josh-Owens/">Josh Owens</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Dux in the Channel - Using Redux, React, Phoenix and Elixir together - James Smith - Crater Conf</b></h2><h5 class="post__date">2016-03-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/NR4S_gET-Js" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is a video of a talk from crater
remote cough given to a live audience in
February 2016 this video was made
possible by sponsors like modulus I oh
ok grow calm and space dojo calm if you
would like to find out more information
about upcoming conferences be sure to go
to conf crater on Io and put your email
in the form that pops up in the lower
left corner enjoy the video alright
welcome back raider fan so as I
mentioned hopefully you're on the the
right URL we didn't have a little snafu
with the third talk so we're going to
advance to the fourth talk with James
Smith from gas light and we're going to
be talking about Phoenix and whatnot and
someone just commented like what will
that talk not happen it won't happen
today we're gonna reschedule that talk
and we'll have it on another day but all
I'll send you emails and you know ping
yuan slack and that kind of thing so um
yeah without further ado I want to
introduce you to James Smith he works at
gaslight I used to work there with with
James and he's been doing some really
interesting stuff he has a way more epic
better than I've ever tried to grow and
he's going to be talking about lyxor
phoenix and redox so welcome James thank
gosh hello everyone my name is James
Smith I work at gaslight a little bit
about myself I'm extreme or at steam or
how everyone will pronounce it on
Twitter and as Josh that I work at
gaslight our consultancy here in
Cincinnati Ohio and we've been doing a
liquor and Phoenix lately and we'll be
offering training for that very soon at
the end of March and San Francisco so if
you're out in that direction look us up
I also like to do funny things like
we're weird hats and played
banjo or take pictures of myself as a
wizard you know normal stuff but more
recently I've been really enjoying kind
of exploring my own personal stack which
for me has ended up being a lesser
Phoenix redux and react that's a lot of
things and this is kind of a full stack
talks but I want to do my best to get
through each piece and kind of introduce
you to what it's like to build an app
with all four of these technologies and
why I think they is a well together just
start off at but to introduce you to a
lick sir it's a language developed by
jose de the lean back in 2012 so it's
fairly recent language and jose a day
made the language trumped up some the
problems that he was experiencing and
maintaining rails mainly with
concurrency modularity and
maintainability a little history elixir
is built on top of the beam virtual
machine which is the virtual machine
that powers Erlang which was a language
invented in 1986 by Joe Armstrong Robert
burning and Mike Williams Erlang I has
been around for a very long time and
when they design the language it was for
Ericsson to scale large phone switches
and handle the demands of how the phone
switches need like high high amounts of
concurrency high availability fault
tolerance and Erlang has of the
primitives built into the language to
handle these sorts of problems which
turns out to be really nice for the kind
of web applications we're trying to
build these days
so I'm not going to go through all of
the syntax for elixir but I do want to
talk about some of the things that is a
little different that you'll find in the
language than other languages you might
be familiar with so first elixir is a
functional language and it has most of
the things that you would expect if
you're with functional languages like
immutability functions as first-class
citizens high-order functions are higher
order functions but one of the few of
the things so lips are different the
first is pattern matching which is a
feature that I've really come to grow to
love so the way pattern matching works
unlike the languages where you have the
assignment operator equals pattern
matching kind of turns out on its head
so in the first example here you see
work we're saying X you might think x
equals 1 is what's happening here what's
actually happening is bind X to the
pattern of 1 which it does in the first
case and in the second case there you
can see one does equal 1 so there's a
match but if we try to bind to 2x we get
a match error early you can use pattern
matching for things like be structuring
so in that second example here I don't
know if you can see my cursor on the
second example there we have a couple of
a B and C and we try to bind that to one
two and three and it will do structure a
B and C out to want the values 12 so
it's a little different than what you
may be used to UM you can also use
pattern matching to match types so for
numbers that
it'll match to the number so a B and C
is going to throw a match error when we
try to find it to a couple of two of one
and two same way with types if you try
to match a couple to a list you'll get a
match air and the last example there is
is kind of something you'll see a lot
when you're reading a what's your code
if you'll see okay the atom of okay and
result being by down to something to a
function that returns something okay if
it doesn't like it turns error in the
second example you'll get a match error
which is one way of detecting errors and
elixir in a lot of staring libraries
pattern the other thing you could place
you can use pattern matching is in
function heads so this is a kind of
interesting it means that you can break
down them conditionals into multiple
functions so here in this example will
declare a module called Fibonacci and we
have it looks like three different
functions fit 0 1 and n but this act
Isles down to one function and we're
pattern matching on the values of the
era t the number of arguments that the
function takes so if if fib is called
with 0 we return 0 long we're time one
otherwise we call the function again
within minus 1 and minus 2 and that will
produce the Fibonacci results but and
like I mentioned earlier you can view
destructuring and allows you to do the
the pipe operator there is matching
splitting the list off and to head and
tail kind of similar es6 spread operator
and allows us to be structured the list
so the other thing that was news to me
that i really like an elixir is pipes so
in this sample here we're mapping over a
list flattening the results and trying
to double it but if we were to read this
we have to kind of read it from the
inside out so we kind of start with the
anonymous function there the x times 2
and then we see that it's taking a list
and then we're mapping it over and what
the pipe operator allows us to do is
kind of express that in the order that
we actually think about it so in the
second example there you can see we're
passing just to list flatten and then
mapping over and passing map a function
of multiplication times 2 so this is
really nice too allows you to kind of
express your programs in a list of
transformations that need to happen on
input and the other really big feature
that you run into the mix elixir a
little different is a lot of application
design is done through processes and
processes may processes are not
operating system process is like you
would think so a process is a
lightweight out of concurrency in the
Erlang vm each processes I believe less
than 500 bytes in size which means you
can have a lot of them so it's not
uncommon to be running a million
processes a single machine and processes
are isolated units they're completely
isolated from each other they have their
own stack and they share nothing with
other processes so this is the
in a way that elixir handles concurrency
so this example we're spawning a process
with a function of one plus two and
asking if it's a wide it isn't because
it's already executed and in the second
example we're asking for our process and
our process from the rebel so the repple
is its own process so we can see really
early that almost everything and elixir
is built using TSA's the third example
there is we're getting our process were
spawning a new process and sending that
process we're giving that process of
function that will send us being parent
a mess and I forgot to update my slide
here to say breedings crater comp so
greetings care crater comes you know
since yet be sorry anyway that will send
us a message back each process has its
own mailbox so in the fifth line there
we're receiving a message and and what
that does is as good as through it goes
through our mailbox and tries the
pattern match on the messages and
returned to the first match so in this
game since you have tea with a pig and
we see that the pig we received a
message from was different than our bid
so when I say that things are built
using processes in elixir this is kind
of more ibly a example of how you would
build something using the low level of
process primitives there are higher
level abstractions I will show you in a
minute that makes this a lot easier but
just so you understand the the simple
case here we're spawning a function
involved called loop we're passing
pray and then Luke takes the array or a
list and when it receives a pop message
it will call product &amp;amp; state and pop the
results so this is a simple stock
example and you can see the at the end
of each of the messages that we receive
we're going to call loop again and loop
on ourselves so we're using recursion to
keep the the process and keep track of
state this is a more abstract 'add
version of the same thing so Jin servers
a behavior and the OTP framework that
ships with a wit sir and airline and it
allows you to build the same sorts of
services or some people have called the
micro services because they do very
similar things and they're much much
more so here we'll start our improve
stack it cause Leanne it function passes
the default state of list we have the
same sort of contract of being able to
push and pop things onto the stack so
this is the staple server pattern and
you see this sort of thing a lot anytime
you need a track state and one sir you
receive a message in the current state
and you produce the next state the other
interesting thing that elixir in Erlang
brains is supervision so supervision is
a way of offering high availability to
running processes and how that works is
a supervisor is just a process that
monitors another process when the
process
I'll that it's monitoring died as a
crashes it handles that it receives a
message and handles that by restarting
another child or doing some other
behavior you specify so this is a really
simple example using the strategy of 141
which just means if a child process dies
you restart a new one so that's a really
really quick intro to the litter and I
realize I breathe pretty quick so i
recommend going and getting the
programming elixir book if you're
interested in learning more about elixir
by dave thomas from prague prague it's a
really good book and there's one for
Phoenix as well so Phoenix is the web
framework for elixir it's an MVC
framework written by Chris McCord from
Dayton Ohio and it's being used in
production by several companies this is
a small list leg off the website
bleacher report makes heavy use of
Pinterest recently announced using it to
route messages in Pinterest so it's
being used in production the current
version is 1.2 and then you need to know
about elixir error sorry about Phoenix
is that it it's not rails it looks a lot
like rails and it because Chris came
from the rails world you'll see a lot of
the similar language and patterns that
you would see in rails but under the
covers because Phoenix is built in there
the the underlying architecture is very
different it's mostly as
series of clothes and what does that
mean so a an elixir is just a module
that has two functions the one that
takes the current connection and one
that performs the app and action and
passes the connection along with some
data down so this is a middleware piece
very similar to if you've done rack and
rails it's similar to that so Phoenix
basically is composed of a chain of
plugs so this is an example of a router
in Phoenix so we have two pipelines and
one for the browser and one for the API
by default and you can see we have a
list of plugs the first one except HTML
we fetch the session we fetch the flash
service do some protection from forgery
and then we put the secure browser
headers into the connection so this is
using the same pipeline kind of cons
call earlier where we just type a series
of functions to the next function and so
each of these pipelines feed into a
scope in the case of the browser it's
going to be the scope / here which will
then handoff control to the controller
and then the API somewhere we're going
to hand that off its to a controller in
this case the character controller or
the NPC control the other thing that
makes Phoenix a little different is that
it is composed of small modules that are
OTP applications an OTP application is
just a small unit of code that can be
started and stopped independently from
the running system this is something
that I took me awhile to grasp but what
this means is that things like that were
hard when i was doing rails like engines
are much easier and elixir because the
modularity is kind of built into the
framework because it's built on top of
rolling so in a typical phoenix
application just from starting a new app
you have five or six different OTP
applications running that handle
discrete sections of the framework in
this case we can see almost on the
screen we have a supervisor that
supervises the nation we have a read it
handles persistence and connecting to
our database and we have a supervisor
and a pub sub system they are listening
to messages so Phoenix is basically a
connection that gets piped to an end
point it gets piped to a router that
gets piped to a pipeline that gets piped
to a controller and that is Phoenix in a
nutshell so it fairly easy to get
started with Phoenix building JSON api's
and so that's what I've been working
with mostly JSON API is that talk to my
front end client side and framework
which right now I've been laying you can
react as as that front end service so
the nice thing that I've really enjoyed
about react is that it's just a simple
library
for only doing view the V in MVC of the
front end the nice thing about that is
that I can kind of concentrate on how my
components are going to be nested and
not have to worry at least at first
about routing and a lot of the other
things that other full fuller stack
frameworks make me make decisions about
very early on so that was really nice
and I and I used just react on for a
while but then I began to notice that
one of the things that became complex
really fast was storing state I had
state layered throughout my application
and lots of different places and keeping
track of that or knowing what how my
application would render was becoming
difficult and that's when I found
readouts which sadly doesn't have a
little go unlike my other slides but
they're working on that Redux is a
predictable state container library
written by Dan Abramoff and it's made my
client-side applications a lot more
enjoyable to work with because it's
simplified how state was going to
determine how my app was rendered Redux
is a really small library that consists
of just three principles the first is a
single source of truth all state in
Redux is stored in a single state tree
some of you may be familiar with the
flux architecture where you have lots of
stores
and you dispatch actions to the stores
Redux has a single store and what bout
you to do is keep track of state in sort
of an immutable way so it in time you
know what the state of your application
is going to be just by looking at your
state tree the second principle is that
state is read-only so the only way to do
mutate state and X is to emit an action
and actions are just predefined names of
events that happen on the store the
third principle is that changes must be
made with pure functions so um reducers
are the way that changes are made to
this to the state to the store in redux
and reducers have to be pure functions
so you'll read in the the current state
and the action pass produced in that
state so think of actions as a timeline
of events that happen in your
application they tell you what happened
in your UI the store is the current
state they're keeping track of and
reducers tell you how to change that
state ah so a reduced ur is just a
function that takes the previous state
and an action and produces the next date
then
didn't we see that already so earlier I
talked about simple state servers and
elixir and this is the same pattern it
turns out the OTP figured out a very
long time ago they want to be able to
predict state in your application then
you need to isolate it and that that
data needs to be immutable and passed
alone so I was listening to the podcast
recently called functional get free and
Christopher metal John had a really
where he said if you don't think you
have a distributed system it's because
you haven't realized that your client
side there's just another node in your
system and that's when I exit the at the
same time that's when it kind of hit me
that these patterns are the same and
that the same patterns that help us
maintain highly available systems on the
back end also are really beautiful on
the front so the other thing about Redux
that I've really enjoyed is that it's
allowed me to think of my react
components as two different types of
components on container components and
presentational components so a
presentational component might look like
this this is the state lyst AA syntax
that in 0 14 of react if you're not if
you are not familiar with the syntax but
my presentational components are
basically pure functions that read in
the list of crop and pass those down to
other presentational components
container components are components that
are concerned about connecting the
presentational components to the restive
system so here we can see we're creating
a store we're passing the reducer
applying some middleware and getting a
store which will be the stage tree for
our application and then we have our app
component that when it renders it's
going to provide a reference to the
store to the rest of our components so
this is really nice redux allows you to
separate presentation logic from state
logic in your components and has worked
out really well the other nice thing is
because you've separated out behavior of
how state is changed in your application
it becomes really easy to test that so
because reducers are pure functions in
nor gate if you want to test them all
you to do is pass an initial state and
then the action that you're going to
perform and then test the result so it's
been I've really enjoyed the flow of
being able to design my state tree and
think about the UI the state that's
going to take place in the UI and how
it's going to change and then begin
writing reducers that handle how how the
that's going to change and test those in
kind of a test driven way
so see how we're doing on time um I have
a quick demo of the app been building I
want to first say that I'm not a
designer so we have inception so one of
the nice things that you get kind of for
free with Redux is on the ability to
make use of the dev tools that provides
for doing things like time travel
debugging so this is a really quick and
simple example app for tracking the turn
order in a game in this case the
tabletop RPG uh-huh and it allows you to
add characters and add NPCs and then it
will sort those characters and NPCs
based on the initiative property how
fast the character is and so in our
debugging tools we can see that on the
right here is a list of actions that
were performed in order so at the
beginning we initialize our store with
the initial state we added some
combatants so the which was empty to
start with we receive a list of
characters and we receive a list of NPCs
we added a combatant so we can see here
we added Frank first and then we added
Joe so
oh this is kind of nice because you can
see the order of what happened in your
UI and down here we can actually rewind
that state and replay it in order and we
get all of this because of immutability
in the store so what the devtools is
doing is keeping a history of the
previous state and then just setting
that as the next state in our reducer um
the nice thing about this is if you
receive a bug or you experience above or
when your users to it does one of the
things you can do is dump the state from
that application that produced that bug
and and reproduce it locally by just
passing it into your store so this has
been pretty nice to debug my
applications and I know there's been
there's a lot more work that's being
done on these so one of the features of
Phoenix is channels which allow you to
do kind of pubsub functionality out of
box so go ahead and clear the last one
of the things you can do is subscribe to
that pub subsystem and do the same kind
of real-time features that you might be
used to in meteor or other JavaScript
framework excusing pub sub systems so
I've really enjoyed wiring up I apps two
channels it's a little lower level than
meteors DDP protocol but it hasn't been
too bad to implement and I can show some
up some of that off if people are
interested
prom this is my actions so you declare
actions you can separate your actions
into action types and action creators
actions are that's the list of just an
object that declares a action type to
actual simpler example an action type
and some data that's passed along so
these are functions that create an
action those get passed to our reducer
and you can see the action names kind of
match up to a case statement inside of
our reducer and then we mutate this we
don't meet eight states are we produce a
new state from the previous state so in
this case if the combatants is empty we
just return the states for add commands
if otherwise will weep over the
combatants and wool we're going to use
an object of sign so we don't actually
mutate the previous state and we're
going to add a unique identifier I know
that's probably not the best way to
handle that but it was a quick example
so then we'll order the list based on
initiative and ability modifier and then
we'll reuse the spread operator to take
the previous state and spread and add
our new combatants and produce a new
state so I knew that went a little quick
so hopefully you have some quest
oh there there are some questions good
talk thank you James all right ah so
first question is from of all this he
says what kind of tooling do you use for
your stack especially for elixir as it's
being on the back end I'm interested in
debugging code completion other things
that help ship code faster sure so as
far as tooling elixir ships with some
tooling out of the box it comes with a a
tool called mix which handles generating
tasks like you would expect in rake in
Ruby if you're familiar and also it
handles installing packages generating
boilerplate the other it also ships with
like a testing framework several things
which is pretty nice but in addition to
mix i am using space max as my editor
and it has an elixir layer that has a
tool called alchemist and that does some
code completion syntax highlighting it
gives you help for modules let's see as
far as the debugging elixir also the
rebel library IEX has a feature called
IX cry you can use so when you're
running an elixir system and Phoenix
which I can show how you do that you can
actually start that with the rebel
you'll have to reshare your screen ok I
turned it off
I tires okay so um this is how you start
Phoenix normally you would say makes
Phoenix server and it would just start
your server but you can also start that
in the rubble and then if you had an IEX
cry in your Phoenix app so let's say
let's look at our town so in my
application I have it I should have
mentioned this actually I have a game
server that is just basically the
implementation of stack I showed earlier
that just keeps a list of the combatant
so that if we close the browser you know
it keeps track of the state and that's
always running in the background so if
we wanted to for instance handle any
time it's cleared and say there was a
bug there we cut a pry and and that
would actually drop us into the running
system so actually we can just do that
characters again and then we hit clear
and you can see it didn't clear because
because i did not type something
correctly is IE x up cry and hopefully
that gets rewritten
not so what rich are sir anyway we kind
of get the jets it'll drop you into a
bugger like you would on pretty much any
other MVC framework hopefully that's
outsides any other questions yeah yeah
that's quite a few here so if you were
to persist those redox actions you
pretty much have event sourcing with a
single aggregate you'd be able to time
travel and replay events etc says yeah
pretty much in fact that's what the dev
tools are doing they're using the
browser history and just kind of keeping
on track of that the version of the deaf
schools i'm using a Chrome extension so
I think it just uses local storage for
that yeah and that's just that's redux
specific right like that's not Phoenix
or elixir specific yeah that's right um
so you could implement something similar
to that on the server and using kind of
what I did which was spawning a Ginsu or
some kind of process that's going to
keep track of the state and then passing
that back and forth either through a
post or their channels okay uh so Ben
asked how do you test plugs how can you
represent a connection and I es mix sure
um so one of the things that we'll see
if i have a test here I love screen Ian
happy let's see so let's look at a
controller for instance I don't have a
plug test itself so you have so this is
a generated test for my
I character controller so the way you
would test is there's some tests helpers
that are building to Phoenix for doing
things like creating a connection so we
can see here we're getting the
connection for this path and then making
some assertions on the on the JSON on
the connection but it would be kind of
similar you would you would get a
connection and pass it into the plug and
then at one of the things that plug does
is it returns the connection at the end
so so you would test whatever whatever
data transformations are supposed to
take place and put back into the
connection so the common thing is you
reading the connection and then you
assign something to the connection which
would be like a key in a map and so if
you're for instance adding like a secure
header or something you could test that
the secure headers there is that make
sense yeah hopefully okay well then can
say some in the comments or react a
question if it didn't work um what is
the nyan cat doing there in your space
max yeah so the nyan cat tells me how
far into the buffer I am so rather than
half a percent I have a nyan cat nice
there's me hearty goodness nice so we
were we were speculating that maybe it
was a test runner but that's that's cool
Oh No yeah i have seen nyan cat as part
of the test runner yeah yeah so in four
people you don't just i'll say this too
for people that aren't familiar what is
a space max so the editor wars of wage
for a very long time and there's been
our effort recently to bring peace so
on one side you had them one side you
how to emacs and space max is an emacs
implementation that uses the evil
library which is them key bindings
inside of Emacs so it is a custom Emacs
config for vin users nice all right ah
why Erlang is better than your leg so I
like that like that phrase uh that
depends on what you want to do right so
your length your leg might be better
than Erlang and some things for instance
ah erling is highly concurrent and it
provides lots of features out of the box
like being highly available because of
Supervisors and stuff but there are some
things that's not good at for instance
because of the way the scheduler works
on highly computational intense tasks is
not something that's good at and you
often want to offload that to another
language so to answer your question
really it's not always better yeah yeah
true of everything right like everything
in computer science there's a trade-off
here you're choosing one thing over
another it's a weight and if you're not
sure what those things are then you
should stop about programming walk away
lily I don't know do something make an
effort to find out where where your
school's fall down right mm-hmm totally
totally can you render your reacts
server-side in Phoenix so this is a hot
topic right now too yeah yes you can and
there is a blog post for that ah that I
am trying to think it might have been
one of the guys from cultivate Allen did
how to blog post about that recently
there is a hex package hexes the package
manager for a litter for rendering react
application server side so and is the
shorting a long answer is going to go
read the blog post I'll try to come up
with that and Link it to gosh yeah yeah
I'll put in the slack chat room for
everyone and so Redux is for client-side
say it only is a reason I cannot use it
on the server to which I think we kind
of talked about yeah i mean i have seen
there is a if you go to the awesome
redux repo there is a blog article
called a full stack test-driven redux i
want to say and II actually I believe
does use Redux on the server side in
node obviously i'm using a lick sir in
phoenix so I can't take advantage of
that hmm so I think that was those last
questions so I'm gonna maybe ask a
question here too I'm pretty sure elixir
comes with tests already built in kind
of like as a first level citizen part of
the part of the language um is that true
and if it is can you talk about that a
little bit too sure yeah like I said mix
ships with a testing library called X
unit e x unit and and a test runner so
you so when you run your tests just run
next test there is a pretty strong
emphasis on testing in the ecosystem
probably somewhat to that has something
to do with a lot of people coming from
the Ruby community we're testing is is a
big part of the community yeah
and i'm pretty sure i remember reading
like their examples are executable like
in the documentation like there's tests
right in the documentation you hit a
button and show that the test pass yeah
so there are doc tests included so on so
comments in elixir are marked down and
one of the things you can do is put an
IEX prompt in there with calling code
and it will pick that up as a doc test
and run it I think you might need to tag
it with like the doc test attribute or
something but that's one of the ways
that they've tried to make an effort of
making documentation just as big as
testing it's highly encouraged and
you'll see most hopefully most projects
documented fairly well because about it
yeah yeah I think that's something like
it that's getting better in a meteor
land but it's not it's definitely not
there yet they've there's certainly been
effort but not anywhere near and what I
think something like elixir has
committed to with testing so that's
awesome to hear so uh you know i'll pick
your brain here too you actually made a
library as well that allowed an elixir
app to consume DDP messages right yeah
it uh I was pretty new to meteor I have
not done a long a year so I think it was
you that kind of challenged me to ask me
if you could do that and yeah i wrote a
DDP client called la kind of play on
words on the the robot to wind it on the
comment um and it was a DDP client so
you could connect to a running meteor
server with it consumed messages
from the DP serve in the DDP protocol
and then do whatever you want with them
what I was doing it was just persisting
the collections and postgrads as a way
of showing he could replicate in to post
grows if he needed to yeah yeah that's
interesting so I you know that's funny
cuz like the way I think it would be
more interesting would be to have an
elixir back end and then consume that on
to a meteor front end but how did you
find that process like writing that DDP
library was a easy to do or was a
challenging or um it was easy in some
ways because of the documentation for
DBP was not too bad it wasn't as throws
maybe I would have liked in some places
but it was fairly easy and because of
pattern matching an elixir writing
functions that pattern match messages
like that is just something it does very
well so it was someone easy from that
and somewhat hard because I just didn't
know meteor very well and that's that is
probably why I ended up writing a client
instead of a server implementation
really hmm fair enough so um the other
thing I'm curious about right like it so
a lot of us that are watching oh here it
is yeah someone just asked the question
I was going to ask have you heard of or
used graph ql in regards to Phoenix
because that's that's like the next big
thing that md working on is like
reactive graph ql yeah so i have not
used graphic you out yet i am very
interested in that i think it could
potentially solve a lot of problems with
fetching data obviously Redux only helps
you storing current state clients it
doesn't really help you fetch data I
think that's one of the confusions
about it often people think that it's a
framework it's really just a small
library for maintaining new state but I
have not done graph qo with a lick sir
but Chris McCord did give a talk at Alex
accomplished here and I was there about
implementing graph ql ideas into Phoenix
diffent an implementation of graphic you
also so I know that people are doing
that there is a graph to a library for
elixir right now one of the things that
doesn't do it doesn't implement the
relay protocol so I'm kind of waiting on
that yeah it's funny like Brian sitting
here anticipating everything we're gonna
say he put the graph ql elixir left
right there as you were saying great yes
yes with me um so I think do you know
maybe well it's interesting maybe it's
less pressing for elixir or Phoenix to
have graph ql right away because um it
easily supports other databases right
yeah which i think is a contrast from
the meteor community which is pretty I'd
in closely to Mongo right now so graph
kilo is like the holy grail of escaping
from the Mongo imperialists I see I see
yeah I had no idea the resistance was
that strong um yeah it's a elixir has
several database adapters for it but i
will say that postgrads was probably the
most used so we use mostly one database
too ya know alright well thank you James
for coming on and rounding out our
first-ever credit comp really appreciate
that not a problem I appreciate not
getting too much grief or not being
new year persons no not at all like the
goal of Crater is to definitely expand
to a lot more content not just easier
related anymore so oh we got one more
question in here you want to try and
grab ql comparable to ecto query or
composable queries well I mean graph ql
basically is a way for the client to ask
for data it needs specifically and then
the server done template interpret that
and bring back some data so you could
probably use egg dough alongside graph
to L so active is kind of the orm for
elixir it ships with Phoenix and yeah
you can do composable queries because
it's a functional language it kind of
breaks down to a functional composition
really well that way okay awesome
alright well thanks again James we we
all appreciate that and so guys if you
did tune in I know that we're ending a
little bit early what i will do is
follow up with an email probably
sometime over the weekend or early next
week and we'll get to more talks on the
books and you'll get to see those those
other talks next week so thanks guys I
do have a question okay oh we're
previous videos recorded yes they are
all recorded so you can go back and
watch those if I know I sent you an
email James and I had all the links you
just click those links and they'll all
be there to watch eventually all these
will give put onto YouTube I really
really really want to share these with
the meetup community and like I think
this is going to be a great series of
talks that meetups can easily show and
we don't have to you know replicate like
all these people don't have to fly
somewhere to do that so thank you for
what yeah
alright guys well we'll see you next
week this video has been a space dojo
production you can click the learn more
button to find out more about us at
space dojo com or you can click the
subscribe button to get notified about
new videos we put out each week thanks
for watching
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>