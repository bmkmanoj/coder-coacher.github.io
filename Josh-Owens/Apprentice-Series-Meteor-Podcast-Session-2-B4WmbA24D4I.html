<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Apprentice Series - Meteor Podcast - Session #2 | Coder Coacher - Coaching Coders</title><meta content="Apprentice Series - Meteor Podcast - Session #2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Josh-Owens/">Josh Owens</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Apprentice Series - Meteor Podcast - Session #2</b></h2><h5 class="post__date">2015-03-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/B4WmbA24D4I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to the meteor club apprentice
series we will be working on major
podcast website this is session number
two with myself and Diego welcome Diego
hey thanks for having yeah all right so
before we got on the video I lindley
said I did not actually go back and
watch the other video and kind of see
where we left off so you share my screen
just kind of doing a git diff real quick
to try to figure out where we left off
definitely see you'd like can you see my
screen okay is it too tiny can you use
him in a little bit yep was that great
sighs just window down there we go ah so
we upgraded to 1031 looks like we had it
accounts password we were trying
Houston working oh yeah Houston the the
back end or the CMS yeah yeah like the
admin panel admin demo so we did some
refactoring it things a little more
media wish we did add a new episode path
I think that's where we left off like we
were just going to try to get something
working we added it looks like the added
user accounts but I don't see it in the
file so maybe we can try ahead user
account again I still want to like
figure this out user accounts so I
talked to let's see who was it i talked
to its Luca told me maybe some of the
special sauce I was missing was like the
configs
yeah I think we have to tell it to like
configure routes right here yeah I think
maybe that's the part we were missing
one alone see this seems to be this this
should set them up all right let's be
running oh well then there's one place
to start we broke it a point views
episode j/s slide 10
so it looks like trying to turn this
into JavaScript maybe looks half done
yeah yeah that's what we're doing it's
calling me from California mm-hmm do we
need to return any Premier don't think
we do actually
w dinner who all kinds of problems I
what's that guy's problem I see with
this neck
we go so someone
unlike scroll top this bit here
is that to be an object mm that would
make sense cuz it's got the colon inside
of there really doesn't like my okay
that's like a like a listen
Oh does 700 somehow go inside top that's
weird it goes like this there we go just
going to clear this out over on this
side well I spend too much time working
on that kind of crap let's see
put over here for some reason I think we
are trying to change this to work off
the ID she was setting the ID from the
ID the name for the ID on me the Dom
element right and we wanted to grab it
from the template TDOT for ID there we
go
it said like pointing that because we
only use it one spot so one line in
right here so T is oh I see it's coming
into the blood target yeah a template
actually oh the template okay yeah and
so if we just pull up template template
here it's just a blade template instance
okay right and it's got the data context
on it and then it's got all kind of like
the nodes that underneath it it's got
like a blaze view you can see the
template name is template up so okay no
you can't come on and there's the blaze
view all the methods on it alright let's
see if that works in 41 we want to
change to 41 there we go that looks
right that's so clean that up we ditch
the Jews toad coffee oh I think we just
made that one so just learning or git
repo yet
so we could either go for like getting
new or older working let's see what kind
of data do we have a new we probably
have to create a few more and then like
limit these and then get the pagination
working if we wanted let's one route we
could go oh that was your Mongo Explorer
yeah Robo mangu so we get it to that
back to three times one back Simon knows
you're working so we've got six here
yeah its 37th off page so we could work
on the pagination or we could work on
the user accounts my inclination is
maybe duh to look at the user account
stuff and maybe try to get episode
inserting stuff working again okay cool
all right so we headed user accounts
blow up the docs for that
alright so we added accounts boots try
user accounts bootstrap we've already
got accounts password in here from
earlier is that set a field in the
config file um I don't know what you
mean like when you add a accounts
password it adds it as a package yeah
yeah okay I see what you're asking yeah
it goes into Bob meteor / packages and
then there's also a corresponding file
called versions which has like the
locked version basically okay of each
package we have installed and it also
lists out all the dependencies well then
make your big
so he says we just need to make a call
where we just say can figure out and it
will set up the sign in or out with full
page form letting users access your app
so just do something like that not sure
where the routing occurs though we
started to add one into our router so
it's uh maybe ditch that guy here we go
okay cool make a quick of tau into your
form adjuster email already exists but
make one and so did to be documented yes
God rather like anytime we can pass this
stuff off I think that's better in the
long run and pass it off what do you
mean by past like pass off the code and
the functionality to a package oh sure
ya do you ever end up having to
configure like a styling or anything of
that like a sign in page or anything a
registration uh yeah I mean we could
spend time on that because it's not
quite good a sign out
well that's okay i was just curious like
when you when you have had when you have
used the built-in yeah but I think we
can specify like tell it to use a layout
yeah layout template Oh pass that in as
well and then we could we can whip
something up if we wanted to that kind
of had a little bit of chrome around it
like navigation stuff but since it since
it's just mostly going to be me or like
someone helping me I don't know if it's
worth it do probably want to make one
for well that's interesting there's not
one first sign out here taking more time
about that um so one thing we could do
as well maybe put some links down the
bottom down here and the footer let's
look at sea with maybe that's got look
like
that's what it's called
yeah there we go okay so we just get a
little sign in button down here it
should take us to the page there we go
all right I am ok with that for now but
then the other thing we probably want to
do is with the other configuration
options here and see if there's one for
like maybe a login code like we could
forbid client account creation and then
I just have to create the account on the
server but basically I don't want anyone
to like we either need to make sure that
they if someone is going to sign up like
they can't access the stuff we want
through an admin or we just deny account
creation somehow you know what I mean
yeah I think maybe it's less work to
just deny the account creation somehow
we've got something here already the you
a config with the purpose of this file
this is setting all the options so like
right here we keep going to home if we
change that when i log in and out it'll
just take us to slash okay cuz i just
made that change now when i sign in i
should go to the right five the great
thing is like underneath here it's it's
it's all using code that a lot of the
code that's being used is code I got the
cooler that the media development group
wrote so like the accounts password
stuff so like it's still using all the
same hashing algorithms so it doesn't
really matter what sign in/sign out
package you use a lot of kind of use
underlying code that comes from meteor
itself yeah a lot of this is just like
nice or rappers to get you a better UI
because they're their accounts UI is
highly opinionated it's all like modal
based up in the top corner type of thing
ya see anything super awesome quite yet
um just forbidding the account creation
maybe is the right way to go
oh this is interesting see out of the
hidden field call registration code Oh
interesting see I don't want to trust
this at all like yeah that seems highly
hackable what's he doing this see I
think we could add our own like on user
creation handler probably but again that
seems like overkill for what we want
yeah find anything else so maybe we'll
just go with true here sign out let's
see if little sign in button looks like
now yeah so now we lose the registration
part and so then I'll just have to make
users by hand in the back end basically
yeah i mean if you only need like one or
two and that makes sense good let's try
heaven now I don't want to create an
account next I wonder what happens if I
login I just pick that up I think I have
to have like a user role on my account
for Houston to let me in
seems like a bug it just let me become
an admin uh you think maybe that's
because there wasn't an admin before
yeah yeah yeah we should we should make
a note though to like make sure that's a
true case before I deploy this all right
so see I think this short cuts a lot of
what we were maybe going to do because
now I could just say new episode and put
in the various pieces we need right here
cool um yeah this forms not quite
awesome either so I don't like that we
don't get a date picker right here yeah
is that what maybe there's a way to
configure the fields yeah that seems
likely
yeah like right here that's a number
field that's like an html5 number field
that's when you get that up down let's
see this is a number but it's just a
text field there's no up/down arrow so
there must be a way to customize these
forms just customizing the menu you can
tell it which collections you want it to
include so it looks like by default it
doesn't include like users mmm but you
could add that if you wanted to
this is I router accounts bootstrap to
miss it
no that I don't know that's not really
obvious in here all right
you can't do it through the UI it
doesn't have like a settings option or
something let's look and see ya antsy
and I in added up mike won't i had its
kind of sucky
that's not
yeah like I don't want to manage
spotlight right I just want to
automatically spot like the one we just
installed I think oh I think we'll just
let's remove Houston still going it
doesn't feel quite right all right so
we'll go back to so it's new this is I
think this is where we ended was getting
these guys to insert here that tile got
our date picker description and adds an
episode so let's look at that code crown
views right now it's just doing an
insert wow we probably want to get
security on that guy as well what's this
way oh if we're gonna allow clients
identity want to make sure that we're
we're kept pulling that somehow but i
thought i read somewhere that meteor
does the scrubbing of inputs
automatically or something ah it can if
you let it to use our check if you're
going to use a method i think it it
scrubs the output by default not
necessarily the input but what we need
to do is actually just set up the
allowed nice stuff
you get on the collections don't um we
do a collection Don allow and basically
that's get on whitelist allowing people
right to the collection and so we must
do like episode stuff alone right this
just takes and I'm gonna leave all right
here you go so it's just like you you're
not these functions will run to kind of
like callbacks that run when you're
doing an insert and we just need to
return true or false and that will
determine whether someone can insert
something or know that make sense yeah
okay so just an insert function get the
user ID and we get the doc
so we got removed update an update gets
more stuff it's a huge ID the doc the
fields in the modifier so you know it's
modifier the field I think our works
changed and the modifiers like how it
looked up what it's going to change I
believe they say this plus 50
interesting
never noticed this locked bit in here
before on the docks
alright well just keep going and then
remove just gets the same stuff user ID
and dark need anything
what user ID comes back as if we're not
logged in i guess the duties it here so
for now we just rely on fact that the
user ID is there it's
they won't be alone I think what we
would do is come in here and modify this
like if we wanted to add user roles like
admin or something this is where we
would come back in here and change this
to look at the user like look up the
user and see if they have that I'm n
roll on them or something but for now
we're just going to restrict log into
only people hi add then when want the
words on it too much so this should give
us some security there so let's just try
that too
oh yes okay now we need to do some work
around this form as well
I also need to sort this guy by date
should show up here or at least down
here couple bugs there but what we can
do right here is we can give our insert
a call back and we can look at the
result or the air I think I think we'll
give an ID here in the result but
basically if we don't get an error we
could we could actually like rear out or
do something else like throw up a
success message or something
so
that's all um you look at our it's
hurting one so it's new
here we go the result is undefined but
ere I got them backwards the air result
something like a fair if not air do we
want to do be like router not go to come
back to that page right now then which
enum
one the package lists use something like
coffee alerts search
mm-hmm this will give us like that
toaster that bootstrap kind of like
pop-up that tells you something happen
something like that you're crazy with it
oh we can't we have to look up the you'd
have to pass that in somehow yeah I
would have to look up the record we have
to take the the idea here that we get as
a result it's probably more telling
right so we're just getting an ID so
then we'd have to do a find on the ID
and then look at the roadog and that
sure it's worth it feels like
diminishing time spent all right we do
need semicolon
I guess we could put an else here right
so there's an air just steal this okay i
can just alert the air yeah warning here
we'll throw that into the log for now
seems like an easy way to do it fix that
okay um look is it it doesn't do
validation on the whole thing you just
looks at one yeah it's just I think we
just made the one field required can you
do that because of your simple forms
flats okay well yeah but all simple form
is doing is just throwing the required
attribute on the input okay so that is
like that that's happening because of
html5 here we go and so now is
triggering on the first guy that's a
whole one all right ah just now we're
getting an episode added properly maybe
let's try baked testing an episode oh we
didn't get them we're going to put the
coffee alerts in the layout
what's the yield 14 uh it's similar to i
get to yield in rails so it's like it's
what's putting in the main content so
it's gonna that's where the templating
question is going to be put into okay
whereas this is like calling our footer
template where this is calling the
coffee alerts template okay you're back
justing to your date there we go okay
yeah we get this guy up here so that's
good so now let's spend even looking at
this sorting today
hmm ok what happens if we move this to
be a data context yeah
I messin oh we don't need that there we
go they'll get what we're looking for
okay so actually fetching all the
episodes I think what we need to do is
on this side just sort o 8 sending it's
a negative one should give us the
descending and then I think we need to
do the same thing on the other side as
well the reason I'm sorting on the
server and then the client is I want to
make sure that it's going to filter over
the wire in the right order I think we
could run into a situation where it's
going to look weird because this like if
it if it sent the other way I think we'd
actually see these episodes like
filtering and changing actually I want
to see if I can prove that
yeah oh maybe it's fast enough he's less
of an issue still inclined to just put
their teaching love to me oh okay we
don't need that okay yes maybe the spot
where we can stop will be like what to
do when you click these links okay so my
first inclination is like let's just set
a session variable and we've we've
actually got all the episodes so then
we'll just we'll change the range that
we're passing right here no so probably
like an offset a mongodb said that's
what we want
so maybe by the fall when you click that
guy put a note oh please turn to back to
do and skip support nation all right now
we've got something we can work on next
time we come back okay grace just need
to remember to grope for skip or to do I
guess how can I get access to the source
so I can start looking at it and
wrapping my head around it is a good
question I will actually I'm trying to
think is there anything bad if I open
source this would it be bad no I think
it'd be fine we'll just we'll go ahead
and open source this and then we'll all
i'll send you the link okay cool so
it'll be on the meteor club well just
make a meteor podcasts repo there and
i'll upload it and you'll get access and
i'll put all this code on there as well
and actually what maybe i'll do before
the next one is i'll put in some user
stories and that way we can pick up on
that and we'll know where the where to
keep going from all right all right
awesome all right well thanks man no
thank you it's always really educational
yeah we're good all right well I don't
know I guess we'll we'll sync up on
slack and we'll figure out what time
next week works for you sounds good man
alright alright thanks bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>