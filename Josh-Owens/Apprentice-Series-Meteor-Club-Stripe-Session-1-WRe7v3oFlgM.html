<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Apprentice Series - Meteor Club + Stripe - Session #1 | Coder Coacher - Coaching Coders</title><meta content="Apprentice Series - Meteor Club + Stripe - Session #1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Josh-Owens/">Josh Owens</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Apprentice Series - Meteor Club + Stripe - Session #1</b></h2><h5 class="post__date">2015-03-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WRe7v3oFlgM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome meet your fans I am josh owens
your host for this this session of the
apprentice series i'm joined by Colby
Colby cheese actually a pretty famous
youtuber huh yeah I get the thumb and
thumb circle gaming circle so that those
are the ones that I yeah alright so the
goal today is a meteor club I want to
get away from patreon because you just
heard the word and you're probably
thinking how do i spell that and so I've
been told by a lot of people that's a
problem and they're also just holding my
cash and like I keep asking them in the
send it to me and they're not sending it
to me so that's not awesome either so
instead we'll move to stripe I no
stripes quality people and I think
they're they're worth using I already
have an account set up and I haven't
integrated in other places for my
business such as when people take the
training class so I just thought why not
make a will make a page on the media
club website it'll just be meteor jazz
club / pro and when you pay I wanted to
go through stripe and then afterwards
actually I don't know if we'll get to
today but maybe in a second session we
want to get it integrated with slack so
that it's posting automatically adding
people because I'm doing that by hand
now too so oh wow at one of words yeah
it's not bad right now cuz i've only got
like 20 something people so over the
last two months I hasn't been that bad
but i really want to grow it like feels
like that would be great piece to
automate yeah i definitely getting at
least just some kinda like auto inviter
going I know I know I had a study group
it I had tons of people asking for
invites and that was a lot of it was
annoying trying to do that show yeah
alright so I've got the app up and
running cuz I've been working on it for
other things but uh so let's take a look
the goal is to have a page
oops not profile edit pro Chrome's being
too too smart alright but usually when I
want to add a page we'll just go to like
router for everyone screaming at the
screen like why are you using meteor to
do all this CMS type stuff but I don't
know this is a meteor club yeah you're
on n anything why not yes alright so
we'll add a pro simply call with the
past whoo to be a good pair I'll close
down those notifications alright and so
then we want to do like client use nah I
need to organize this better but for now
I'll just do a proton HTML make a
template here name equals pro close
template tags and I've been working on I
think we can steal some of the eight
days markup maybe use eight-day days
anything I do and not repeat yourself
right yes well too fancy with my
keyboard there to help them yourself
alright so we'll do like meteor club pro
and this is I don't know this boring I
cannot go back to this flip screen but
just put like
do something some marketing chat yeah
the copywriting pier session so just say
something like that and then close these
dues less covered really need to like
figure out like the HTML linter does not
like template tags at all yeah mine yeah
I had problem with that too just cuz
it's the HTML extension in it doesn't
read it as handlebars for whatever
reason yeah order space bars actually I
wonder if we could just get away with
striped check out right here stripe
check out it in the galaxy package is it
okay yeah um it says you've got striped
yes I check out and strike for know yet
you've got scripts for those free if you
looking at okay so let's go look to the
link to it right here they're already
ate at the top number one alright so I
had this guy
just really be writing to us I need to
get some pass up on this app uh-oh the
first payment making right she the one
you really want to keep he did for sure
all right so we got that browsers my
machines a lag in for some reason yeah I
wasn't sure if that was your internet
connection or secure computer could ask
engine audio lag but yeah I think I mean
it's uh it's my computer itself I've got
like a hundred meg internet so should be
zipping all right so it looks like for a
striped check out we just call a check
out config ah and then the chores the
one thing I saw that uh was i guess they
had a refueling you can't sit in this
stuff due to your server the credit card
info anymore right I don't know if that
so that again I'm sorry you're cut now
oh uh so I saw that I guess in February
they updated their api we do have to
make sure you're not sending the credit
card info to the server anymore oh yeah
yeah so I think that's kind of the point
is striped check out right is like it's
it's all put in place for you right like
it's doing this modal right here okay
yeah uh uh and they they handle all that
back and forth and I think what we get
in the end ah it gives like a token in a
lot for or something yeah um yeah so we
get a stripe token and we get a stripe
email yeah I don't even think we get the
last four anymore we'd probably have to
go grab grab that um yeah I was
wondering how they do like if you're if
you're doing like saving payments for
next time I whatever
I guess they handle that too no yeah
because this is really like a I don't
know maybe you can integrate check out
check out the best claimant flow on the
web check out built on top of stripe GS
to provide users with a streamlined
mobile-ready payment experience let's
click here because I feel like maybe
it's not is it for subscriptions or just
one-time payments now this is pro
account one year ah see when i preciate
words been stupid let me see yeah these
are like some of these are yearly
accounts like a pro thing you have to
pay extra for yeah yeah yeah I mean I
see where it says okay check out creates
a stripe jazz token that you can use to
charge a card so this is the funny thing
about like programming right you know
you're expecting to watch like us
writing all this deep code but really
it's just all slipping your docs and
trying to figure out the right solution
yeah it's like the solutions there you
just got to figure out where is that and
how to use it right so look at the see a
parameter is all traffic yeah they're
like saying we can set a data
description of data amount but I really
want
like the SAS version almost yeah I
looking at the I did you see that the
one from the meteor chef that he did um
yeah I looked over a little bit little
Ryan Glover now try to log into stripe
here well so what did he use he just did
he use stripe check out actually he
actually just wrapped the NPM package
okay so and then and then well and then
later he said after that post that's
when they changed API so he's like just
make sure you make the necessary changes
to be compliant with that you know you
know serve to where you're not sending
the credit card info to the server so so
maybe he didn't use check out yeah with
all yeah like a similar thing to where
you can have like he had it set out to
where you can be like mom uh so i have
different i logged into stripe here and
i think
to try making a plan here is ten dollars
monthly trial period zero a name in
description that will shows me due to
club a so weird when you do a live
hangout that's like public the weirdest
people will say they're gonna watch it
right I think this one's a Farsi I can't
even read the guy's name it's kind of
awesome all right so can we do like
stripe check out plan he already have
your API key set up ah no no I will put
that in the settings and then without
working but there's gotta be i wonder if
there's like a data ID we can set or
something let's go back yeah i just felt
something about that data was it did a
key you were kind looking at two thing
yeah well looking at yeah so that's
that's my key right but there's gotta be
one too like can I just point it at like
a subscription ID so it'll pick up here
we go ah date a Bitcoin you can pay me
in Bitcoin really dogecoin dogecoin
coming the coins dead to me hey no label
currency yeah it's check out
eps guide yeah I'm just not seeing
anything here about so my guess is that
we'll get the token back and then we
just make the call ourselves once we
have the token using the API so maybe
that makes more sense so this is really
just to input I guess you give it an
amount so that they have a nice-looking
form but realistically you could
probably just charge them it's got like
I guess stripe create token and you give
them all the info and then there's a
response handler and then I guess that's
they give you back the stuff you need to
store or whatever okay um okay so like
the response gives you an ID it gives
you I guess makes a card info and yeah
give the last four well i'm looking at
stretch guess that gives you a little
bit more info for this is a check out
one but okay I mean I guess we're using
both somehow
huh this is gonna get really weird too
because don't have a great way for
people to manage their plan and cancel
it either so maybe I'm not thinking
through the feature completely people
have to manually asked me to cancel hmm
yeah I wouldn't be convenient let's see
so because I had to log in yeah you
wouldn't want to log in so they can go
in and look at their their subscription
status and see if I guess how long they
have remaining and then yeah yeah okay
and I can do have like any other info
you decide that on in future goal yeah
all right so let's uh I think because
it's meteor specific i want people down
yeah I'll go pay that good idea you're
their development account yeah oh I let
me you're really just my password you
jerks that's funny i totally don't trust
meteor i used a lower security password
there yeah okay all right email address
apps here we go so i'm going to do this
off screen again alright so what we need
to do is your add user accounts
bootstrap and a cap counts meteor maybe
I think that
let me check just used it in a package
but already forgot the name let's see
alice dash media r dash developer that's
intuitive oh you got it thing down i
didn't okay yeah she's in the command
line it's a little faster than
atmosphere is slow sometimes i don't
know if that's what you mean yeah
somebody length another one that fact
festive feeling third yeah yeah i
haven't nothing but yeah it's nice but
you know it's just not they don't have
the same just fat i can head out any
good huh well but running it off of me
or which is like super slow anything
that runs up there well but i think Emma
sphere is actually separate from meteor
whereas besos spheres on meteor itself
and it actually seems much much severe
so I don't know yeah that's what I mean
like it would probably run even faster
if they weren't running it on oh yeah
video they're running faster on me here
yeah definitely all right uh sir Ibaka
Josh huh would you say as a perfect case
that's like it's positive oh yeah I
don't don't sponsor these things uh
sponsors media club itself like go join
the pro account there we go yeah alright
so we've got name oh wait I wanted I
don't know what to do
and the layout we want to put at nap
button maybe something like that just
closed my life tag what do you do
differently they check their an advanced
developer versus just starting out have
a moment litter yeah yeah yeah I'm still
trying to figure that out with drip so
before I was just like saving the data
off in case I wanted to set my people
out somehow but um so like if a
subscriber give me for exposing your
email whoever this is but when they sign
up uh see they came in that's the wrong
one they applied to mastering meteor
testing class um here we go so like this
guy signed up Bruce signed up through
just the meteor club website somehow and
it tagged him as a beginner and so then
I can I can segment people by searching
for tags so I can type in bikaner you
see 109 people have tagged himself as a
beginner in here that list should be
much bigger but I haven't fixed it yet
um but yeah so at some point I may send
out like the drip portion like when you
first sign up will be different based on
whether you've said your advanced her
new right because I think the new people
I can send them content like here's
where you get started and you know go
read this post and do these things like
that a day's course would be perfect for
that yeah yeah like yeah that's honestly
like what I'm doing is because I'll
probably end with like hey you know
you've seen some of the some of the
stuff out there here's like a guided
course eight days if you're interested
you know click here whereas you know I'm
thinking about other advanced materials
for advanced developers something that's
more interesting like scaling or
deployment or testing or you know that
kind of stuff yeah ah the official guide
now button I type that right button oh
it's gonna be template call there took
me forever to realize which bootstrap
package else was used when I first
started hmm but like why no why is it
normal bootstrap tag is not working
everyone tutorials paid a huge strap but
you had to use a pws one now yep yep
yeah meteor remove there's and then
there was another one for a while and
then they created this like auto
wrapping service that deploys bootstrap
for you like anytime bootstrap updates
it automatically gets deployed ab miss
fear now which is kind of cool okay
alright so we headed the budget it out I
was falling along with the but good oh
no I'm saying yeah I was falling along
with that that was said discover meteor
book and they had everything to tell you
to use bootstrap out I guess this is not
working that's nice all right so uh what
we're doing now is the accounts template
stuff is not configured so i just made a
quick config file and live here
okay and we're just telling to create a
route eyes it for the log and the custom
log on yeah okay yeah there we go so now
we're getting to a form register that
does not look right yup where's the just
become learn on a walk one yeah I'm
removing accounts password we don't want
that one okay there I'll start back up
if I have to like tell it to use meteor
developer account do I did register yeah
I must have to tell it somehow
hmm train to be lands right I used to
that from flipping into your podcast uh
yeah but I've got my window open today
so it's like extra loud yes I live right
next to a busy street so always have to
keep my window down when I call people a
lot of the train though kind of go
through see I set up a lesson login I've
stone number they do have to go it's
gonna be like okay so show add/remove
services I think I need to set that to
true oh and yea big I think so it's such
a true the text of the buttons will
change to sign in with no that's um yeah
that's that's part of it but still think
this is this magic here yeah I should
have a sec act just put it up bastard
here yeah I just did a meteor dot log in
with meteor developer account online
came up her off where'd you put that uh
just whatever they just in the secret oh
yeah just put that on like on them on
the button and logging in Phil I just
had like a log in with me or button oh I
see oh yeah maybe that makes more sense
cuz we don't need all this jazz uh but I
do that later off-screen to just turn
yeah like it should totally show seems
like a bug here babysitter's name user
account stuff yeah I mean I could I
could put a login link there and we
could just do login with meteor that's
fine yeah cuz it would match her I guess
your curtain link on there right yeah
style might be a little better than you
right here let's try that let's see how
that looks so just give it all this crap
and I'm gonna have to
figure the apps then I guess by hand yes
it to the do you open everything through
control p or do you have a opener tree
uh yeah just yeah just controlling yeah
yeah I used to have a nerd free but I
just stopped using it mm-hmm I don't
even think it's an iphone I didn't live
yeah I don't have to remember or if I'm
like opening up coming up this code like
I don't I don't know what to patrol
pmish forces so now we need a header of
a script file too because we're going to
hook into that so template dot header
right yeah header dot and and we will
catch the click on the login class
button function I still need to put a
class on there but again with is just
meteor developer account meteor
developer account outs with an S uh nope
just singular like
yep ok looks right and then I mean you
can look for the event if you want that
because like I say yep there you go just
do class equals log in right here come
on reload what um I've actually never
used this before but I have it in my
code I don't actually know what it does
me see if I can I'll show you you have
your slice open on your other yeah it's
there and go up there CD postcode in
there then it is on Google kind of Upton
what is ok that's pretty tough image I
what is that do the data logging I've
always seen this guy do it but no that's
like a like a different way of writing
it's the way I used it in my app then I
had I think that's just considered an
attribute there on the hf tag so did you
have to pick it up or did it just
automatically pick that up and work did
you have to leave all admit I didn't and
then I did that yeah yeah yeah that
makes sense yeah so that's just like a
an attribute on the element and so
you're just saying like click data log
in so you yeah it's pretty close to what
i did with the class honestly it's just
another way to target it so i put a
class on it but you can totally put an
attribute they're just like a different
convention for doing so
for something yeah it's like a newer
convention because honestly a cup of my
house like I just never seen killed it's
probably more semantic because honestly
classes and ID's are there for like
styling and and linking and stuff so no
private clean the Limoges I like I
haven't that's like a new thing I
haven't seen in a lot of tutorials don't
was like yes something still seems wrong
here that it did not point up the little
pop-up box for you know it's totally not
did you have to ask something else to
like maybe I have to add a count you I
or something I think I have a camp you
IM e che and the user accounts bootstrap
he's like seems like overkill here yeah
i wasn't i mean i figured you had what
were you using for your site overall
like for styling good trap but your are
usually much really clean this thing up
yeah i think accounts i may only need a
count bass but accounts you i might good
meal there seems like my packages here
I've got I've got just accounts Qi
accounts meteor developer and I guess
that's it really for this one service
configuration I don't know what that one
goes anymore that's for configuring the
developer account service configurations
so like that's your where you put your
oath keys i believe okay
it's still like not doing anything let
me see if I got anything else going in
it stomach the docs to remember do
anything did you maybe you use the login
button from account you i sat in your
HTML maybe Michael bank check no I just
did if there and I just have like a link
to log in with me or and then it runs at
that function so bizarre and my log out
to meet here at that log out well I know
whatever I did it you you have to like
with me or somehow with your app like
like did you go to meteor and create
your your application I haven't nor have
I had to add my application of eating or
yeah that might be what you need to do
because i think i had that problem but I
mean I'm surprised you're not getting a
little off of that just gives you an
error that's what I had it first and
then I had to go ad the application to
me or yeah I think that's part of the
problem because i don't have the service
configuration here so it's just like
yeah yeah yeah you might add that I
think that I'll just like my packages
just try figure out where I use it
just will put the login button center
for now let's see what that looks like
there we go all right now this is what
you're looking for yeah that's I was
like I don't know why I think not coming
out of it that's what I had to do to get
it working yeah so just putting the URLs
over here meaning i might have been what
I did first I guess we'll use a button
and then change it to the custom code
after that that do remember seeing that
button so I brought up setting it up
alright so I'm going to drag the screen
over while I put the key in save there
we go use this account think we're going
to have to request the email to all
right let's ditch this and see if we can
get the other way working now
you
let's kill that debugger call now I
think we're good okay now they got it
working yeah I think that was the secret
sauce oh we just had to give it the
service configuration and it doesn't
work until I do it's good BAM done now
you can wrap it in huh if current user
yeah people log out medio del log out
can you just say current user here ah
that's what I did thank you and those
they had a helper for that so huge it
fills and then we do in this block same
thing here do a log out oh well this is
kind of fun we can actually like add
another bucket somewhere on the forum
here and just say like you sure meteor
developer email and just hit a button in
like authorize it and it'll submit your
name to the mailing list you know but we
have that cut up we can make it a lot
easier for anyone to email over here
wham bam nice this you I can better and
better all the time
ux I guess that's you x right um yeah
usability yeah similar but yes you're
right so just a shoe I'm here we'll make
another one just close the that's what I
do I did through if current user yeah
read your profile name totally working
cool good and saying here we can just
hit logging in how I have it oh nice
yeah yeah I like that so you just add
the current user on to the in front of
the logout link i see ya this is kind of
like right there that look like should
pop my name in when i refresh is over
here you see it's not to see my chat
window whole time
top isn't are reloading oops nice ode oh
my editors over here yelling at me about
it too freaking comma so I used to use
JavaScript her coffee script yeah it's
not quite right but okay oh pretty yeah
I'll mess with the later oh yeah said
how we love you yeah I think the right
thing to do you would be like making its
own a lie and that would keep it in line
yeah it looks get in there nope it's not
I the real issue is this like not a link
here yeah it's like a bitch no question
your BFF I guess I get part of the link
yeah I guess that's that's true too just
put it inside the link in the nest bit
to the loan thing okay thanks for being
so flexible bootstrap no way they're not
going to click on her name
oh there we go that looks better very
nice all right and so gosh yeah like I'm
totally gonna like once you're logged in
I'll be able to detect if you're on the
mailing list or not and we could make
changes for mommy this is fun sexy in
progress yes alright so back to pro uh
so maybe what we do here on the pro is
if current user something like that
steal the login basically if you're
logged in we should see a button if not
you see a login button login to sign up
all right the other thing we need to do
is probably figure out how to request
the correct info from the service so
overly evil yeah because we want their
email request permissions do they talk
about who list of permissions
is your email they did not get NFL get
you have to actually email support to
give them an email address that the
external service will use to pre-fill
the login prompt but we don't we wanted
the other way around we want to get it
from them meteor meteor developer
account look at this they've got all
these nice links that tell you how you
can configure facebook and permissions
and all kinds of stuff what about their
own they're good yeah what the what guy
I made on top of oh yeah total there's
current user you're totally right okay
nice all right so maybe we can just say
request user like this okay now I'll do
it in a call back I'm getting uh no it's
just a it's just a thing we pass to
login with oh ok oh I see okay edit into
the logging yeah so let's try that
you
so broken and broke it code gosh
ginga-dono see what's wrong with my code
unexpected with that oh don't have to
put think I gonna put a well I don't
wait I don't think I need ya don't you
don't even have a hashtag but you don't
need a happy fidelity yeah but it didn't
like that either just thrown a different
there if grant you your hell are you
maybe oh yeah it's in the pro template
unexpected else but why I missing
something else what about but they also
say I did you close button heading and
close it had some pseudocode going on
it's totally it I'm gonna put some
styling on that sucker yeah fault
the fault it's just white yeah let's put
like success on their me no that's great
you might be like that button primary
right for the blue yeah that's what it
is thank you Mary there we go should be
0 to match the seat there we go that
they would be knee oh yeah that's my
text message that's all your teeny like
Star Wars like okay so that's good now
now we've got the join button there all
right uh I'm gonna have to call it here
though cuz it's getting to be dinner
time we'll have to set up another time
to keep working through this so I huh
well we made for the bugger yeah yeah I
agree so we just need to figure out how
to get the email address automatically
and then i'll probably just replicate
this on how to like pick up the log in
and do the right thing all right oh um i
guess i can message Charla or you can
tell me when you're when you want our
mess with it yeah yeah well just all set
at this time so okay how could no
computer I man haha yeah fun yeah thanks
for have a good dinner hang out</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>