<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Meteor Podcast #50 | Coder Coacher - Coaching Coders</title><meta content="Meteor Podcast #50 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Josh-Owens/">Josh Owens</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Meteor Podcast #50</b></h2><h5 class="post__date">2015-02-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SHMgfT9tHp0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this episode is for friday februari 13
2015 welcome meteor fans i'm your host
josh owens along with my co-host right
Walker back this week yeah nice uh yeah
so this week let's see I looked over I
was actually looking at the podcast
reviews today we have like 18 in there
it's a little little saddened someone
said were were boring and give us a
two-star review they said they wish
there was more substance to this show so
yes we're done yeah yeah I've heard that
too like some people have told me they
wish would go deeper on some of the
topics but yeah they like to hear our
opinions so yeah you try to give those
more so this week we're going to talk
about bleh is something that Slava
posted just last night we're going to
talk about meteor cluster a query chain
meteor promise a lot of packages this
week cucumber why you should use it and
a little bonus story usually we do five
but this time we're going to do six
we're going to talk about the the second
part of the building assassin meteor
which is a strike tutorial so let's get
into it the the blaze stuff that that
Sasha art Sasha Slava put up is all
about indexing so I don't like I'm sure
you've done this riot right like what do
you want to know like which which number
in the array you are have you ever had
to do that yeah yep yeah and this is
like it was a basic handlebars thing but
you know it was not it was never part of
space bars and I don't think they ever
imported the version of handlebars that
had the index turned on and the
explanation I always got was that it was
hard to understand like hard to read
rerun the index any time reactivity
changed a bunch of things
now that was why they said they weren't
going to do it but now it looks like
they are yeah because it's hard doesn't
mean it's impossible right true true um
so the video is short it's 53 seconds
there's no sound to it come on Slava you
can do sound um he did speed it up a
little bit but you can see it working
like he runs into each over a loop and
I'm kind of excited about this i hope
this drops in the next version of meteor
for sure yeah a nice little thing that
you eventually want and it's nice it's
there now i think we made like at each
with index type helper or I figure what
the heck we would do mm-hmm but I've
definitely hacked this before but I
haven't done it recently enough that I
remember how we did it uh yeah honestly
I don't think we've done it since blaze
mm okay oh yeah that might be true yeah
yep yep so that's nice one good all
right next topic we'll jump over to
meteor cluster performance test yes I
did spend quite a bit of time last night
on this one I think just yesterday that
he posted this I think so mmhmm yeah
februari 12 yeah I was yesterday all
right so Erinn Oda you know he released
cluster maybe we could go or so I don't
remember when that was either but now we
talked about it last week a little bit
ok but so here he's he's basically done
some testing to figure out if how a
cluster of meteor servers using cluster
which means they're all acting as their
own load balance or perform versus a
single instance and with the hope that
you know as you add more servers the
performance versus the control which is
you know a single server running doesn't
degrade very much and his test basically
shows that there is a little bit of
degradation like you know maybe seven
ten percent something like that but that
as you keep adding servers that kind of
holds true and now he went from from one
to three to five to ten you know I'm
curious to see what happens if you go
250 or 500 you know but
yeah if there's some other problems that
Satan higher levels but you know with 10
servers he's basically showing that you
can handle 25,000 this is like
concurrent subscriptions right you agree
with that yeah yeah yeah actually I left
something in the comments because it was
a little confusing like you see one
server is able to handle 2,700
connections right and then in the
subsequent tests he says they're able to
handle 2,500 connections but the thing
that wasn't readily obvious when I read
the article was that that was each
server handling you know 2,500
connections so you're right at a 10
servers he's handling 25,000 you know
concurrent users across those yeah now
I'm trying to think like I don't know I
would never let a single server try to
deal with 2500 concurrent connections in
in the wild would you would you let that
be the case uh well I think right like
you want to be able to deliver a quality
experience to the user but at the same
time like minimize your hosting costs
that's always a concern for you know
when I went when I was working out right
like our our entire team mandate was to
cut our server costs by like you know a
dollar per day user no and it doesn't
sound like a lot but that that crap adds
up over time so yes I'm thinking like
this is this is how many could handle if
you're like you've got the CPU pegged
you know it's it's basically pushing the
server as hard as I can so I don't think
it really means necessarily that if you
were setting us up in production you
expect 25,000 incurrence that you want
to have just 10 servers yeah I'd also be
curious to see like does the CPU level
out at some point like if you leave
those 25,000 connections total over 10
boxes for like you know 20 minutes and
they're not doing anything does the CPU
drop it back down like is it just the
initial connection that's adding load
there or what's adding that load okay
yeah I mean yeah yeah it comes down like
what are you doing with those
connections right how much data is
getting push and how much is duplicated
versus like if used to serve if you
serve the same query to all 25,000 use
that's gonna be different than if you
serve 25 thousand different queries to
each user yeah pretty sure that's true
yeah well yeah because it'll it'll cash
into the merge box right so I mean
that's that's kind of I don't not not
the greatest real-world test right
because I mean this you're talking about
maybe a blog or something is where
you're going to be serving the same
content to a bunch of users yeah so be
fun to see someone try you know use this
in production with real-world usage I
think it's still like one of the biggest
I guess questions I have that users have
a prospective customers and prospective
meteor users have about meteor is like
will its scale it will scale the highest
levels and will it blend yeah and you
know it's like it's still like I
honestly tell people like wood we don't
really have a lot of big examples yet so
you know I know that like mixmax is
really pushing the threshold a lot I
know what about what they're doing its
yeah but um yeah they're basically you
know forging new paths and anyone who
gets high usage is kind of in that
scenario right now there's not a whole
lot of people turn to no I mean this is
great i love what aaron it was done here
because it's given us a way to its to
start you know yeah yeah and so uh
Stefan whole house brought up some
interesting points in the comments as
well like you know what what happens
when you throw engine X into that mix
and you let engine X serve up the static
files like the HR the the CSS and the
the the JavaScript and you know offload
that from from the the cluster
essentially and then you know the other
interesting thing is he's talking about
doing new algorithms so because the
servers are communicating back and forth
with each other they can know their load
and then it can decide like hey the
server is pretty loaded with with heavy
users and it's under some traffic loads
so let's route the traffic to maybe this
other box and so it'll it'll be able to
like intelligently route your your
for you to a lesser used box which is
that could be pretty amazing yeah yeah
man I do kind of like the idea that
meteor is being its own load balancer on
one hand on the other hand I also wonder
you know is that creating an extra
responsibility for it that is you know
it's like too many responsibilities but
yeah it's it remains to be seen i love
the attempt i love that it's another
another angle to deal with scaling yeah
agreed all right query chain this is
another one of the packages that popped
up on my list this week and I thought
was interesting um this just popped up
this morning actually so I haven't even
had a chance to use it but basically
you're you're able to go in and say like
query chain da-ad um yeah it's not it's
the docs don't make it abundantly clear
but it looks like it just stores
basically the query chain that you want
so like they go on an example with
comments here and then you give it the
Mongo query that it's going to run so
it's going to look for comments that are
greater than zero you know and then
you're able to do like they've got
another one that's that's called from
Max and then the query is just author it
is Max and quotation marks and then you
can chain them together so you can say
posts defined from max with comments and
it's gonna find all the posts that max
wrote that have you know more than 0
comments on them mmhmm yeah I kind of
missed this this was a thing that rails
3 added i'm pretty sure and i don't know
i always liked it because you're able to
build those scopes they call them in
rails land and and then you were able to
chain them together and and get the data
that you wanted and i love that and i
miss it so I'm kind of glad that that
they've added this I don't know you
excited where the arrow what's called a
arielle with rails yeah
active relation yeah yep I got stuff to
my memory there yeah no I agree I mean
this is uh it's anything that you can
that can help you your code be more
readable without a comment without lots
of curly braces and semicolons is good
to me so this is this is nice readable
syntax so yeah what I'd love to see two
is you know can you I'd love to see it
take parameters to like rather than from
max I'd love to see from author and I
just give it the you know the the
author's name that I want to query
against I don't know if that's a doable
thing it's not enough not in the notes
here but that could be interesting as
well yeah well like this project is
literally two days old he's got six
stars now so check it out oh I gave one
he's a safe Kevin star pick up next
meteor promise okay yep our buddy
Chicago grooves Dean has built a this is
a package yes yes it's a package that
with the idea that right now like and
i've done this i have some code where i
have meteor calls that are nested
because i need to call back from the
previous call in the next you know the
next call so what you end up doing is
building us this beautiful tree of
nested meteor calls and that's kind of
ugly and people make fun of you if they
see your code so good luck on that time
I did yeah what the hell are you doing
no but me the the promise meteor promise
library basically lets us do something
to the effect of like meteor promise
like method wand and then you can have a
dot then and call another method and
then have a dot done and a dot fail so
if you know if you understand JavaScript
promises solve it solve its following
that pattern and maybe just a better way
of
nesting your media calls nice so does
this return the promise to the client
then too is this on the client I mean I
don't see anything here that says server
let's look at the package is I think
this I mean it's he's talking about
server methods yeah good question I
thought I saw in here that it returns
the jQuery promised to the client uh
course i read this yesterday and didn't
look at it again today yeah yeah so i
think the biggest thing you know for me
that's that's a pain also is like when
you when you do make a meteor method
call from the client like the meteor
call it just returns nothing right like
you get you get nothing in response and
if you want you have to like pass in a
call back and it'll call that call back
once the method finishes and fires so it
would be kind of nice if the if the
client side got the promise and then you
were able to do something on the promise
you know what I mean oh yeah yeah
actually it did you actually look at the
code for this too I mean he it's like
whatever like 12 lines of code so it's
pretty cool how much he packed into a
very small number of lines of code or
how little you actually have to do yeah
that's right yeah so yeah so that I mean
again I haven't tried this yet but it's
it's really just implementing kind of
the promised idea yeah yeah this is
pretty cool as always the Chicago geyser
or on it there's two stories from them
this week so they're quite the prolific
user group up there all right uh so next
up is a cucumber jsm meteor the why and
the how of it I wrote this article
myself just kind of
I don't know like monday I don't down I
just got I got this new standing desk
and I was sitting here like what should
I do now and I needed to write a little
bit documentation on like how you test
with cucumber for a client and then I
just decided like hey let's just I'm
gonna keep going and make it a whole
blog post and like I looked up and it
was lunchtime and I had like almost this
whole thing written so decided to go
with it but uh you know if you saw my
talk on the same subject it kind of
covers some of the same things but this
time I decided to go into telescope and
add tests in the telescope and try to
get that working by the cucumber tests
and you know the key takeaway from this
post is the reason you test cucumber is
because you want to make sure that the
user sees the things on the screen that
they need to see you want to make sure
that they have the user experience that
they want you know and yeah I don't know
like like going into telescope if you
don't put anything into either of the
login fields and just hit login or sign
in nothing happens and that seems like a
really bad user experience there's no
air there's no nothing pops up there's
no spinner there's nothing nothing
happens if you put in something in the
username and something in the password
and then hit sign in then it'll pop an
air so you know that to me that was
legitimate bug that I found in user
accounts well just just by writing these
tests and I think that stuff's important
I think I sea cucumber is the the
gateway drug into testing right like
it's kind of like it's it's at a high
level you can say load this page do
these things and then make sure I have
this result on the page so yeah I'm not
agree I mean I as you know Josh we've
had several conversations about cucumber
and over the past week it it is I agree
incites it's really easy conceptually to
figure out how to use cucumber the
challenges if you run into a weird bug
you're pretty much like get on the phone
with or get on the get
on your computer with chat with Sam and
Josh this to resolve it because that
there's no resources for how to
troubleshoot you know trav airy true
that's that's the one downside but on
the positive side both Josh and Sam are
super responsive about the stuff because
they wanted to work so so yeah I had
some issues and got got them resolved
some fun stuff related to really not
can't blame polymer it's something we're
doing to make polymer work to meteor
that was kind of crazy but I think we
got it resolved though as soon as we did
that like literally the next day by the
way like you know we were using a
session variable you know um he's
changed that to a reactive are greg did
someone mentioned that would be better
so i bet you my tests don't work again
am I gonna figure out how to deal with
that instead nice nice so yes this is a
you need see I right like he would have
broken the test and you would have said
sorry we came Roger your change to a
fixed test Greg true yes yeah I haven't
merged that branch in yet so I need to
do that it's see I set up man well yeah
cuz I think I mean this thing is like
all I had was a simple I mean I couldn't
even get a well i guess it was i was
testing there was copy on the home page
so technically it was test so yeah how
emerged that in will get that going but
definitely i'm trying to join the world
of cucumber users and more of us that
join the easier it will be to have a
good knowledge base of how to get
to work nice yeah all right was that you
that was you okay oh alright so finally
we have the meteor chef Ryan Glover in
the world world with a second post on
building a SAS with meteor this is a
another mega mega long post I really
envy people that can crank out blog
posts this long I just like scroll
through them like wow that's a lot a lot
of work so literally all the code you
need to build a full app is in this in
the previous post but yeah I mean he's
basic taking you through integrating
stripe
into a meteor app which is pretty
important if you want to do SAS you
probably want to collect money so you're
not alone you know he's got some good
sample code here to help you do that
have you spent any more time with this
stuff Josh uh I haven't actually I'm
just kind of looking over it I love like
he's got this this yellow box in the
middle and it says like a quick note you
know he's talking about like a lot of it
has to do with upgrading and downgrading
and like if they're already a customer
that kind of thing and he he's got a
note in here that says like you know
potentially your your uux might be wrong
like you should tell a customer why they
can't downgrade if they're not allowed
to right now and um but he doesn't he
doesn't go into how to fix it he just
notes that you need to I love that you
know yeah I mean otherwise the post
would be five times longer probably yeah
seems he was plausible uh George playing
nerf guns at me here while we're on the
air that's not good I think he pulled
back because of my coke can travel to
computer that would have been pretty
funny to like computers fizzle out on
the air nice so besides cucumber were
you guys up to anything interesting this
week I mean it's not very interesting
the meteor I basically took the role of
sales person for a week with user cycle
because we're trying to do customer
acquisition and sometimes that's old
folk have to show the youngsters how to
do it okay that's extra stress but I
mean as far as meteor goes you know we
we've just been cranking along and for
that yeah cucumber is definitely one of
the things any of the big problems all
the other stuff was minor easy stuff for
me yeah we're getting into d3 a lot more
that's pretty fun but again not really
the meteor so nice oh yeah but i have to
mention real quick like my boy rich case
this is be like story number three from
the Chicago user group he's done a
little blog post about basically
of summarize what mdgs doing each week
so I promised him I'd mention him on the
air today so nice nice you didn't make
the cut because uh you know it like I'm
trying to build these lists in the
morning so anything that comes in like
friday after like 10 or 11am doesn't
make it so yeah we want to didn't we get
through without saying his name or else
he would have ya been lying to him we'll
discuss it in depth next week though
like it's definitely gonna be probably
the first story cuz i found it
interesting like seemed like it probably
took them a lot of digging to get get
all those yeah those little updates so i
appreciate it yeah all right anything
else are you good um I think that's
about it uh so this week when I asked
you reciprocate anything besides
cucumber that you did this week but now
it's mostly cucumber that's what I'm
doing for the the client i'm working
with as well so i was like blog post and
client work is all around cucumber right
now but yeah my grandfather passed away
on wednesday night so it's been kind of
a hectic week these last couple days so
i haven't had a lot of a lot of free
time i did do last night late last night
i did i did my cordova talk again that
was kind of interesting i was able to
get it done in 51 minutes or something
like that so that was interesting i feel
like i need to go back and refactor that
whole thing now but you know we build an
entire cordova app in 50 minutes so yeah
kind of fun that's pretty awesome yeah
yep alright so real quick the patrons
this week i'm actually logged in ahead
of time so that's good Oh Dennis H
Mitchell w and I think I think that's it
so we added two more people cat rooms
getting quite busy in there and if
you're interested just go to
patreon.com/scishow club and you can
sign up there helps with the podcast and
crater and you know if you do the the
ten dollar reward then then you get into
the chat room and stuff and so a lot of
cool stuff going on in there
and then the the sponsors modulus and
compose you'll hear that the ads on the
on the front of the podcast but check
those guys out and support them they do
an awesome job of helping us support the
show here so actually have a podcast
editor this week so maybe it'll sound
good we'll see get some better reviews
on iTunes by the way go do your review
please if you're gonna give us a four or
five please go review no too soon yeah I
don't the podcast editor won't help with
the content just the quality of the
sound hey everything counts everything
it happens yeah all right all right guys
tune in next week we'll be here same
time say yeah</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>