<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MySQL Advanced - Building Table Views Part 1 | Coder Coacher - Coaching Coders</title><meta content="MySQL Advanced - Building Table Views Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Stefan-Mischook/">Stefan Mischook</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MySQL Advanced - Building Table Views Part 1</b></h2><h5 class="post__date">2010-10-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/1y51uYQdYhs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi there I'm John Levin salt and this is
the fifth video in the killer PHP comm
series on advanced MySQL usage and today
what we're gonna do is we're gonna pick
up where the introduction to many to
many relationships in the last video was
and we're gonna start looking at how we
can extend that and how we can also
create various views of our data and I'm
gonna start off very simply with a look
at how we can express our many-to-many
relationship and our one-to-many
relationship in a simple as possible or
a very simple way using what are called
views now before I get started with the
whole views I just want to begin by
saying that I have this little script
that I've put together and then I keep
adding to and every one of the videos
that we've been working on and so for
now I'm just actually gonna move to a
new document since now we're gonna be
modifying things and probably adding
some code that I think it's worth kind
of starting afresh with something a new
file that we can modify so I've got a
post category table a which is actually
a cross table or a many-to-many join
table where we basically store primary
keys of other tables we store the post
ID in a category ID and thereby are able
to link one table to another table this
does mean that the queries are a little
more complicated but the added value is
that we don't have any dependencies on
our post table in other words if we want
to link two things our post table
doesn't know anything about categories
and yet we can still get all the
categories for a particular post ID with
some relatively simple queries if and
the same holds true the other way around
if I want to get all of the posts for a
particular category you know if I have
the category ID then I can just you know
select off of the post category table
and find all of the necessary posts
there too
so let's get started before I go further
in in this example I want to add some
more post category records so that it's
a little more interesting so I'm going
to start off just by copying this and
pasting it a couple of times and we're
gonna add some links so I'm gonna start
adding some links to the more politics
posting so I'm gonna have I'm gonna link
it to three four five and I think we
have a sixth category yeah so I'm gonna
link it to a whole bunch of different
categories and I'm going to take our
Olympics article and I'm gonna link it
to the sports category and the
entertainment category all right
so I'm gonna select all copy paste it
and that looks okay now in my I'm gonna
start with a very simple query here
where I say select star from category
where ID in select category ID from post
category where post ID equals one where
basically we're saying okay select the
category ID from post category where a
particular post ID is given and then
give me all of the categories associated
with that particular particular post ID
so in the same way now if I wanted to do
something with the Olympics story let's
say I wanted to get all the all the
articles related to sports then I would
start by saying okay select star from
category and then I would find out oh
okay look at this Sports has an ID of
five and then I would say so
star from post category where ID where
category ID equals 5 so here I have if I
select post ID from the post category
where the category equals 5 that I know
that I'm only going to get the posts
that are going to have a sports relevant
piece of content so now I can take that
a step further and I can do a select
post ID comma P dot star from post
category and then join whatever I see
there left join to the post table with P
so now that P dot star is actually going
to be grabbed from P over here where
category ID equals 5 o P left join on P
ID equals post underscore ID there we go
so now we're getting essentially the
same thing as a one-to-many with the
left join so first we grab the post IDs
we figure out that 2 &amp;amp; 5 are the ones
that we want and we know that those are
going to be the ones that have the
category of supports that was very
simple so now what if we want to do
something with posts and authors now the
authors and the posts are actually a lot
simpler because it's a one-to-many so if
I want to create a view where I've
basically I've basically glued posts and
authors together and I don't want to
have to keep doing all these left joins
over and over and over again there's a
very simple way of doing that and that's
using a view so to create a view is
actually very simple we just say create
view then give it a name so in this case
it's going to be post underscore with
underscore authors as and then we just
put in the view that we want so in this
case it's going to be so
lect PID p dot title P dot content a dot
name from actually I also want the email
address a dot email from post P left
join author a on P author ID equals a
dot ID so now I'm just doing the left
join and I'm selecting a bunch of
columns nothing happens
which is a good thing so now if I do
show tables I'm actually gonna see that
post with authors shows up as a table
even though it's just a view and I can
say describe post with authors and it
will show me post with authors as though
it's an actual table I can even select
against it and get a nice join with all
the necessary content that I want for
that view the other neat thing about
this is that it means that I can start
using post with authors when I want to
build up larger and more complex queries</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>