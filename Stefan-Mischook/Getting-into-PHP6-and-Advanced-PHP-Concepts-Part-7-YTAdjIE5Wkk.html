<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Getting into PHP6 and Advanced PHP Concepts Part 7 | Coder Coacher - Coaching Coders</title><meta content="Getting into PHP6 and Advanced PHP Concepts Part 7 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Stefan-Mischook/">Stefan Mischook</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Getting into PHP6 and Advanced PHP Concepts Part 7</b></h2><h5 class="post__date">2009-11-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YTAdjIE5Wkk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">instead of you know just sewing the
saying echo user get a dress let's say I
just want to echo the user now normally
this doesn't work object could not be
converted to string however we can take
advantage of PHP's type system and
implement a special method called to
string I'm going to create a public
function called to string and it's going
to echo first name live first name space
last name lives at address
ah ok so again this is a magic method so
we need to use the two string property
and the reason that we're just getting
lives at is because these are actually
private or protected variables so we
have to go this first name this last
name lives at this address so now I get
John leben sold lives at Eiffel Tower I
wish so this is a great way of just
creating a lot of functionality in your
class without actually having to write a
lot of code so what I want to do now is
I want to abstract this concept let's
say I have a user object and I've got a
fone object ok so this whole public
function underscore underscore call
stuff you'll notice that there isn't a
single line of user specific code in
here and so you could argue that it's
not the users object user objects
responsibility to know anything about
calling anonymous functions so we're
going to create a new class and it's
going to be an abstract class and i'm
going to call it I'm just creating a new
file here i'm going to call it model
abstract so i'm going to say class or
abstract class i'm going to explain what
an abstract classes in the second model
abstract and the namespace for this
class is going to be let's see it's
going to be calm killer PHP models and
I'm going to save this as model abstract
dot PHP so you can see that it's very
easy for you to just kind of move code
around and flexibly change your
application without being bound to you
know oh you know is this file in this
folder that folder what have you you
just create your name spaces and then
you can just kind of build up your
classes as you see fit
so I'm going to go back to the user
class here and instead of having this
call function here I'm just going to
select it I'm going to cut it save and
then i'm going to paste it in the
abstract class and then lastly in here
under user i'm just going to say class
user extends model abstract now if
everything works if i refresh this
nothing should happen oh okay i'm
getting a parser error and it's because
i forgot or semicolon so save that again
good so our user class now is 15 lines
of code and it's nice and it's slim and
we're doing everything involving method
hiding we've got exceptions that are
thrown and you could argue that this is
a business rule you know that we're
basically saying that you know what this
class when I do to string we're dealing
with we're basically going to echo the
first name and the last name and the
address and you could imagine that email
would be the same thing as well so just
like I have a user class here we could
also create a group object and if we
wanted the group object to have the same
kind of dynamic assignment of variables
it would just be inheriting from model
abstract so I'm going to create a new
file here let me start with the PHP tag
and I'll have to define my name space in
this case it's going to be calm killer
PHP models class will be group and it
will extend bottle abstract
now the reason it's a abstract class I
just I'm going to have to save this just
call this group PHP now the reason it's
called abstract and that it's an
abstract class is that I can't actually
instantiate model abstract directly I
can't just create a new model abstract
object I have to inherit from it and
that makes a lot of sense because
abstract you know model abstract it
doesn't actually do anything except for
get and set magic methods get in set
using the the call magic method so now
in my group PHP file I'm going to create
a protected variable called users and
i'm going to create a protected variable
called name and let's say we've got a
protected variable called access level
now in my index dot PHP file just like
i've created this user i'll just create
user john just like i've created this
user and his name is john i could also
create a new group so i could say group
equals or actually let's say this is an
admin group equals new models group and
then admin group set name equals
administrators and then I should be able
to say admin group let's go back to
group here set users and I should be
able to pass in the user john now this
is all fine and dandy but I want to be
able to set a whole bunch of users right
because we want to build relationships
between these two classes oh and we also
want to set the access level right let's
say
set access level say I don't know it's
zero now if i do a VAR dump of admin
group let's see what happens i'm going
to view the source so it's a little more
visible so we can see that we have an
object here called group and it has a
property called users and inside of it
we have an object which is the user john
leben sold and then we have a name and
that's administrators with an access
level of 0 so if i created let's just
rename this for a second let's call this
actually we're going to create a
constructor here so this was a little
easier to write so i'm going to create a
constructor for user where i'll be able
to put in John 11 sold and eiffel tower
and i'll just change this to John and go
back to the user here create a public
function using construct name last name
and address and here you know we don't
need to actually work with the dynamic
variable assignment stuff we can just
say this first name equals F name this
last name equals L made and this address
equals address so we're just mapping
whatever we get in our constructor to
the properties in our in our class here
so now I I've taken this and I've got
this variable and I just called him John
and let's say we have another user and
her name is emily i'm going to say new
models user emily and i don't know let's
say her last name is Smith and she lives
in Seattle I don't know
then I could pass in John and Emily
which are instances of the user model as
users of the admin group so instead of
just passing in user here I could
actually pass in an array with John and
Emily and if I view the source you can
see that that array is now being set in
our groups object so you could imagine
that actually writing this code would be
quite extensive if it weren't for the
dynamic assignment of variables and if
you're coming from Java or C++ or any
kind of statically typed language you'll
you could imagine that this would
actually be quite complicated to write
not necessarily complicated but you'd be
writing a lot of boilerplate code which
you don't have to do in PHP that's kind
of neat so now that we've looked at
abstract classes and doing dynamic
assignment in the next video we're going
to be covering how we can apply this to
a controller and building our first
controller thanks for listening</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>