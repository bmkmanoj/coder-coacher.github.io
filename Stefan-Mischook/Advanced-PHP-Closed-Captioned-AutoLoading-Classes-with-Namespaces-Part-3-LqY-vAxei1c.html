<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Advanced PHP Closed Captioned - Auto-Loading Classes with Namespaces Part 3 | Coder Coacher - Coaching Coders</title><meta content="Advanced PHP Closed Captioned - Auto-Loading Classes with Namespaces Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Stefan-Mischook/">Stefan Mischook</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Advanced PHP Closed Captioned - Auto-Loading Classes with Namespaces Part 3</b></h2><h5 class="post__date">2011-04-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/LqY-vAxei1c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so here we basically shifted the
responsibility of shifted the
responsibility of creating a new user
object from you know the program are
writing the upper layers of the code to
it automatically knowing that it needs
to require once when I create a new
object and now if I create any other
classes in the comm folder they're
automatically going to get loaded just
like the user class did which is great
so this all gets a little more
interesting with namespaces with
namespaces you can start to define
absolute areas where your code is going
to be living and what I mean by that is
that if you for example create your own
fancy CSS printing class and you call it
CSS printer and then you go and you
start working with the framework and
that framework has a class that's also
called CSS printer it's quite possible
that there's going to be a conflict
where your CSS printer class and their
CSS printer class do separate or
different things but they're called the
same thing and PHP or PHP 5.3 and
soon-to-be PHP 6 resolve this using what
are called namespaces and this is why we
created a folder called calm and I'm
going to explain that now I'm going to
create a whole namespace for killer PHP
so I'm going to create calm and then I'm
going to create a folder here called
killer PHP and then I'm going to create
a folder called models this is the
beginning of our MVC framework and I'm
going to take the user class and I'm
just going to put it in the models
folder so if you could imagine it's
almost like we've got killer PHP com or
models killer PHP com so we're using the
same kind of convention that is found in
domain names and we're applying it to
our class structure so this is code that
was developed by killer PHP so and it's
a model so it belongs in the models doc
you'll be H P com namespace and other
frameworks once PHP six becomes more
readily available
are going to move to a names based model
that is similar so for example with the
zend framework you're going to be seeing
that the namespaces will probably end
with framework jenkem or Zen calm and
all of the sub components of the zend
framework will have will be within a
zend folder and it'll have the same kind
of idea where everything kind of fits
inside of a namespace so if i go back to
firefox here you'll see that it can't
find it anymore which is okay because
now we're going to define a default
namespace for our application and this
is where the PHP 5.3 stuff starts
kicking it so here i'm going to use a
new declaration called use so i'm going
to say use calm killer PHP models as
models now what this means is basically
we're going to be looking at the models
namespace and in order for me to be able
to easily declare that I don't want to
always have to write calm killer PHP
models in fact I could if in fact let's
start there I'm going to comment this up
for a minute and i'm going to say new
comm killer PHP models back slash user
now this looks very strange at first i'm
sure you've never seen a class declared
like this right now but you're probably
going to start seeing this more and more
now this initial backslash right here is
very significant because that is
indicating that it's an absolute path to
the namespace now if i go back to
firefox and i refresh this it says
require one's com killer PHP models you
know user dot PHP failed open it doesn't
know where to find it however this is
going to get run through our auto load
class and we can actually discern based
on the name space where that file is
actually loaded located so I'm going to
do file name equals str replace and i'm
going to replace the backslash
but we have to escape the past backslash
and what I mean by that is that if you
just do this you'll notice that bbedit
is still pink and the reason is is that
if you want to use a backslash inside of
a string in PHP you have to escape it
with another backslash seems a little
strange but it it works so we're going
to replace these backslashes with a
forward slash and then I'm just going to
put in the class name and I'm going to
concatenate the dot PHP and then here
I'm going to require once the file name
let's see what happens okay so now it
says class com killer PHP models user
not found and that's a different error
the reason we're getting that error is
that our user class still is defined as
an absolute with an absolute namespace
so we also have to define our classes
with a new name space as well and in
this case I'm going to define the name
space at the top by saying namespace com
killer PHP models and then I just have
to save that the semicolon and then it
works again so now we've got a great way
of organizing our code as it slowly
grows we don't have any more of these
ugly you know require once statements
and we're able to easily call out
different different classes in our
project so let's just try one more
little example I'm going to in the calm
killer PHP folder I'm going to create a
new folder called controllers don't
worry about the terminology right now
we're going to explain this in a minute
well probably in the next couple of
videos and here I'm going to create a
namespace this is an untitled document
so actually will have to create a PHP
tag and I'm going to save this as let's
just call this test for now we'll write
out proper class in a minute so this is
test dot PHP the namespace in this case
is going to be
calm killer PHP controllers and the
class name is going to be test and i'm
going to create a public function this
time we're going to use the constructor
so this is a another neat little
function that you might have seen before
it's basically two underscores and then
construct and this is the same thing as
writing public function tests basically
in case we decide to change the name of
the class in this instance we would just
use construct and nothing would change
in this instance however we would have
to change test here and we'd also have
to change test here so this is just a
little shortcut to keep in mind echo I'm
test class in controllers I'll hit save
and now let's say I echo a line break
and then I do new test let's see what
happens oh ouch failed opening test oh
yeah well we have to actually tell it
where test is right so I would go com
killer PHP controllers test refresh it
again and it's working I'm a test class
in controllers so this might seem a
little lengthy to write having calm
killer PHP models user calm killer PHP
controllers tests over and over and over
again now if you were only working with
a particular subset of your classes then
you could essentially define an alias
and that's what that use statement you
saw me right before does so you can just
write use and then here i would say calm
killer PHP models and as let's say m
or mdl and then here I could just say
new mdl user and that should work hold
on ah there we go okay you shouldn't
have a backslash there and then if you
wanted to you could just have some kind
of base path so in this case if we're
always going to be writing calm killer
PHP then I could just have calm pillar
killer PHP and then i'll just put KP and
then here i'll have KP backslash models
or models user and here i will have KP
controllers test and there we go</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>