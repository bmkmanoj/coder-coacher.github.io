<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Shopping Cart &amp; Paypal Closed Captioned - Finishing the Cart Template | Coder Coacher - Coaching Coders</title><meta content="PHP Shopping Cart &amp; Paypal Closed Captioned - Finishing the Cart Template - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Stefan-Mischook/">Stefan Mischook</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Shopping Cart &amp; Paypal Closed Captioned - Finishing the Cart Template</b></h2><h5 class="post__date">2010-12-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fyJYtujIla4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm John Levin sold and in this video
we're going to be putting together the
shopping cart row for subtotals and
shipping let's get started so that's the
beginning of our shopping cart we also
need to have a row for the shipping and
basically to have our total in our
subtotal and all of that fun business so
to do that we're going to have a very
similar kind of template except it's
just going to have the shipping cost so
I'm going to create if I go back to my
add to cart page after putting down all
of the line items I'm going to want to
render a row that's just going to have
the shipping cost so I'm going to just
do echo render shopping cart shipping
row and i'm just going to pass in the
shopping cart as an object and i'm going
to let whatever comes out of there to
get printed to this particular page so
just like I've rendered shopping cart
row here where we pass in the product ID
in the shopping cart in the line item
counter here we're going to just pass in
the shopping cart object and render
shopping cart shipping row is going to
render the shipping row for our our bill
that we're going to be showing our users
here I'm just going to create a new
function and we're going to call this
render shopping cart shipping row I'm
going to pass in a shopping cart object
called shopping cart now we could also
do this for taxes as well we could
render shopping cart tax row or if we
had like a promo code row then we can
also do that as well but the shipping is
just an easy example and you'll probably
have to do that for your shopping cart
anyways so now i'm going to say i want
to return a new table row need to close
that table row
and it's a three column table
and we're just going to return that now
we obviously need to get the cost so in
order to do that I'm just going to here
and I'm going to say ok we're going to
say shopping cart get shipping cost and
what that's that doesn't exist play yet
but basically it's going to go and it's
going to give us the whole shipping
costs for the shopping cart let's go
back to the shopping cart object and
let's create the code for get shipping
costs so we've got get shipping cost for
a particular price we've got get item
shipping costs so now getting the
shipping cost of the whole order is in
that per ticket just create a new public
function called get shipping cost pass
in we actually don't pass anything in
and we'll start with the total which
equals 0 so it was nothing and then we
go in and we say for each this items has
product ID and the quantity this is a
key value pair so the product ID is the
key and the quantity is the value the
total equals whatever the total was Plus
this get item shipping cost for a
particular product ID so it's just going
through and it's basically running the
same get item shipping costs which it in
turn is going to call get shipping cost
for and it's going to pass in the price
of a particular item so by describing
everything that we're doing along the
way these each one of these functions
can be you know three or four lines and
can do very very powerful procedures for
calculating our rules or business rules
and at the bottom here I'm just going to
say return the total so if I go back
you'll see that this is our essentially
our shipping costs so we've got 65 bucks
for cumin six times and a dollar 99 for
the pasta and 1791 for the tomato soup
cans and if we add all this up our
shipping cost is $85 and our cost of our
order is something around 100 or so
dollars let's just clean up the template
a bit and we need to add a dollar sign
here and we'll put shipping here if i
refresh this I'll have shipping perfect
now the last row is of course the total
I'm going to go back to add to cart and
i'm going to say echo render shopping
cart total row and i'm going to pass in
the same shopping cart object here too
we'll go back to templates i'm just
going to take this copy it paste it
render shopping cart total row and this
is going to look very similar it's going
to say total and here we're going to say
shopping cart get total and i think
that's going to be the last method that
we have to add to our shopping cart so
we're going to create public function
get total and we probably want to add
some tax here and stuff so i'm just
going to say add tax here and you can do
that on your own but what we want to do
is we want to return this debt subtotal
which we haven't created yet times or
plus this cat shipping costs so it's the
shipping cost plus the subtotal and we'd
also want to add the tax in here as well
so we need to create one more method one
more function it will be public function
cat sub-total and get subtotal is also
going to look a little like shipping
costs will start with total of zero and
then we'll go in and we'll say for each
this items as product ID and then
quantity
you actually don't need the curly braces
we're going to say that the total is
equal to the total plus and we've
already written this code so we'll take
advantage of it again which is this get
item cost and will pass in the product
ID so the nice thing about
object-oriented programming is that
you're actually reusing a lot of the
functionality that you're already
creating in different instances and then
I'm just going to return the total so
again very simple function we're taking
the subtotal in the shipping cost we're
adding it together and that's how we get
the total if I go back here we've got
the shipping and then we've got the
actual total here now I don't think we
need the shipping amount and the unit
cost for all of these anymore so I'm
just going to pull that out for now and
that'll clean it up a bit and there you
have it in the next video we're going to
create the view cart page and we'll
start looking at the paypal API or the
paypal integration and that should be it
thanks a lot for listening I'm John
leben sold</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>