<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Login - Part 14 | Coder Coacher - Coaching Coders</title><meta content="PHP Login - Part 14 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Stefan-Mischook/">Stefan Mischook</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Login - Part 14</b></h2><h5 class="post__date">2010-09-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IwfYxfvGgJg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so we've created the key we've
created the email message now we need to
create the email headers and to do HTML
based email we need to include a couple
extra headers that include a mime
version
like so and we need to include a content
type it specifies is text / HTML and the
Charter set
here we go
and I should mention while I think of it
I was reading earlier online and I
believe this r /n here this is the new
line character it has to be placed
within single quotes rather than double
quotes actually let me pause the video
and make sure I get that right so I
wanted to make sure if it's I'm on the
same page and I'm telling you incorrect
information so hang on one second I'll
be right back I just double check this
and just to clarify the / r /n needs to
be in double quotes not single quotes so
let me just make sure that everything is
correct here go ahead and do this
there we go so that should be fine out
and the last item in the headers list
excuse me in second last two item
okay so headers are complete now all we
need to do is send the mail and we do
that using the mail function we're going
to pass in the email address that we
want to send this mail message to
subject message and the headers and then
we want to update the database and we
want to insert this key that we created
and that we included in the email want
to make sure that's included in the
database now so I'm going to create a
statement variable and prepare and I an
update
numbers and set the password reset
column
and we're going to bind my prams and
we're going to give it two strings the
first is going to be that key that I'll
be put in the password reset column and
the second is the email so input
so then we execute it and we close it
out let me just go up and make sure
we've been closing out our previous
connections
I'm not sure if this because this is
going to be an issue potentially but
let's go ahead and copy paste it up this
up here let's just make sure that we
close this connection that we opened
okay so that should update the database
and the last thing that we need to do
for this section of the file is we need
to add an alert message let the user
know what's going on excuse me
you
and we'll ask the user that they please
check their email for that password
reset message
then will display the form i just copy
and paste it instead ok so let's save
that
believe we should be good for this
section so let's go ahead and test it
just to be sure 71
okay so that looks good so far let's
just double check if it asks us for a
valid email let's give it an email that
doesn't exist in the database looks like
it doesn't exist in the database and
let's go ahead and check okay so it
looks like everything's good so far
obviously we sent this to a temporary
email address I don't have control over
that admin at Edmond com domain but
everything should be working and I will
test that in a little bit on a temporary
server and make sure everything's good
to go okay so that's the first section
that we need and let's go ahead let me
actually get this set up on a temporary
server and so I can show you that it's
actually working and I'm actually
receiving email so if you give me one
moment I will be back and I can
demonstrate that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>