<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Login - Part 5 | Coder Coacher - Coaching Coders</title><meta content="PHP Login - Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Stefan-Mischook/">Stefan Mischook</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Login - Part 5</b></h2><h5 class="post__date">2010-08-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6UkSBrlfhgE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to part 5 and post three and
four we went ahead and finished the
login functionality and we were able to
successfully login and it redirected us
to the members that PHP page however you
will notice that the PHP page was blank
so let's go ahead and add some HTML and
CSS to style this up a little bit so
I've opened up my members view and
actually what I'm going to do is I'm
going to open up login dot PHP and
simply and copy and paste the content
there to members and I'm going to go
ahead and remove the form and change log
in to members only and changes here as
well ok and I should mention that it is
quite possible that you could implement
this in such a way that you had a header
section which you would be an include in
a footer section which would be an
include and that way it would simplify
things a little bit however just for the
sake of this tutorial I'm keeping things
simple and just leaving it like this so
when I remember is only page let's just
show a simple success message to the
user saying you've successfully logged
in and we do that like this so I'm just
going to add a P tag and
like so and then just below it and add
another paragraph tag and then include a
couple links first and include a link to
register dot PHP so register member and
then also i'm going to include a link to
the logout functionality there we go so
let's go ahead and preview this I'm
going to go ahead and open up login dot
PHP preview admin admin submit and we
actually need to go back in to memories
PHP and do a couple minor things first
of all we want to start the session so
I should start and we want to include
any important files okay so I include
the config and then let's display the
view
okay so now let's go ahead and preview
this one moment oh I remember what's
wrong this config actually needs to
include there we go okay so that's
successful now it shows a members only
page with registered member and logout
link and the one important thing that we
do need to check is we want to make sure
the user is logged in before they view
this page so let's go back to our
members PHP and let's check check that
the user is logged in so we're going to
do that by confirming that the session
variable is set okay so if not is set
session
so if the session variable called user
name is not set we want to then redirect
the user so we do that with a header
function and we want to redirect them
back to the login page there we go now
for the sake of this example we have
previously logged in so if we go back
and preview this this variable is set
and we won't get the redirection but
let's test this so let's add oopsie add
session destroy here so this will
destroy the session and make sure this
value is not set let's save it and
preview and you'll notice we immediately
get redirected back to the login page so
that's working as it should so I'm we go
back to edit let's remove this line like
so ok so that's working correctly and we
can't access the members page can't
access that directly it'll automatically
kick us out if we're not logged in so
that's pretty much all set let's go
ahead and work on the log out
functionality so I'm going to open up
logout dot PHP and as we've done pretty
much with all the other PHP files we're
going to include
the session start okay um I don't
believe we need to include the config
file let me just double check no that
should be fine okay so we just need to
start the session and then we need to
immediately destroy the session so
session destroy like so and then finally
let's display the view to the user and
we're going to do that with an include
okay and then we're going to display
this view to them ok so now let's work
on this page slightly so we're going to
go ahead and include some standard HTML
we'll set the title up here go ahead at
h1
you know div with an idea of content now
within this we want to add a paragraph
tag
okay like so so one thing I should note
here now we could change log out PHP to
instead of redirecting to a page that
tells the user that they be logged out
we could redirect them immediately back
to the login page it's up to you kind of
a personal preference thing in this case
I want to go ahead and show a logged out
message so the user is confident they
have successfully logged out so I'm
going to go back here we're going to
accomplish this redirect with a meta
refresh and that's going to be done like
this first of all we need to include our
link to our CSS file so views like so
and then immediately above that we want
to add meta refresh now excuse me it's
actually met I like so and this is
refresh
and the content that indicates how many
seconds to wait before we refreshing the
page I'm going to wait two seconds and
then the URL here indicates what page we
want to redirect the user to so I'm
going to redirect them back to the login
page okay so that's that and then looks
like this page just about done last
thing I'm going to do just for some
reason if the user has javascript
disabled I'm going to add a new script
tag here and we're going to display a
quick message we're going to include a
link back to the login dot PHP page in
case they don't have javascript enabled
and the redirect doesn't work for them
there we go okay so let's go ahead and
test this I'm going to go back to login
dot PHP in preview you log out and those
shows a message and then redirects back
in a couple seconds so just long enough
to show the user that they've been
successfully logged out so admin admin
so were you successfully logged in and
now let's log out</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>