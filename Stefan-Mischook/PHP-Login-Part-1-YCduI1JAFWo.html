<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Login - Part 1 | Coder Coacher - Coaching Coders</title><meta content="PHP Login - Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Stefan-Mischook/">Stefan Mischook</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Login - Part 1</b></h2><h5 class="post__date">2010-09-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YCduI1JAFWo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello all this is Ben Falk for killer
sites calm welcome to a couple part
series on building a simple PHP based
login system will be using PHP
connecting to our database using MySQL I
will also be discussing the MVC or
model-view-controller pattern and PHP
sessions although this tutorial is aimed
at beginners I do expect you have at
least a basic understanding of PHP and
MySQL I'll do my best to explain things
as clearly as I can first off let me
show you what we'll be building today
it's pretty simple it consists of a
login page which allows users to log in
and then a member is page this page
isn't accessible to normal users a
register of members page where the
member could go ahead and add in
additional users or finally a log out
page with a log out and then we be
redirected back to the login page so
what you need to follow along with me
well obviously you're going to need a
computer that has either wamp or a map
installed my case I'm using mail and
that allows you to use PHP and my sequel
on your computer so it's basically a web
server on your own computer and you need
some sort of text editor in my case I
use coda but you're welcome to use
whatever you're comfortable with as we
get started here let me briefly discuss
the different files in our application
and how I've structured them so we have
two folders we have an includes folder
in a views folder and includes includes
a config file and a database file and
the views controls the CSS and HTML that
we're going to be presenting to the user
then finally we have a couple other
files we have login logout members
register and tempe HP and in every case
for example login we have an opening and
closing PHP tag and a brief description
including the file name
and what this file does so let me talk
about how I've structured this
application I'm using a modified version
of MVC which stands for Model View
controller and that's a pretty popular
pattern because it allows for clear
separation between the business logic in
our case the PHP and what's presented to
the user HTML and CSS CSS so the M in
MVC stands for the model that basically
processes input and handles any business
logic so that's going to include most of
our PHP code we have the view which is
the V and that's usually HTML CSS and
JavaScript and that's what's presented
to the user and then finally we have the
controller see which handles user
requests and knows how to process them
and pass them on to whatever resources
are necessary to carry them out so the
big advantage of using MVC is obviously
the clear separation between business
logic and presentational HTML and that
means code is a lot more structured and
that's easier to test maintain and reuse
in this application I'm using a modified
version of MVC basically our model and a
controller combined so we're going to
have one main file for example login dot
PHP and this will include all the PHP
logic and then once this code completes
its going to be passed on to the view in
this case V login dot PHP so I didn't
want to make a incredibly complicated
system a lot of systems codeigniter for
example cakephp etc a lot of those use a
central index.php file and based on the
URL that index dot PHP file then passes
it on to the necessary model o view I
didn't want to get too complicated but
this does definitely help give us a
clear separation between PHP and HTML
let's get started building this
application
the first thing I'm going to do is I'm
going to go to PHP myadmin and I've set
up a database here that I've called
login and I'm going to create a new
table in that database called members
and it's going to have three fields the
first field is going to be ID it's going
to be an int and if you scroll to the
right here it's going to be the primary
key and auto increment so that means
it's going to be unique to this table
we're going to have a username which is
going to be a vow char with 32
characters and we're also going to have
a password with 32 let's go ahead hit
save okay so we got this table set up
now let's go back to your text editor
for a minute and open up temp PHP and
the next step is going to be to add a
user to PHP my admin so to populate that
table we just created with a little bit
of data what we do need to do first
though is I want to use a PHP function
called md5 which is a way to encrypt
strings so I want to use that to encrypt
our password string in our database so
let's start off by doing this we're
going to do echo md5 and the first
string we're going to put in will be the
password that we want to use so admin is
what i'm going to use and then i'm going
to also add at the end here i'm going to
add an additional string and this is
going to be made up of random letters
numbers and symbols intended to be
secure so i'm just going to type a
couple characters okay that should be
good five or six perfectly fine I'm
going to finish off this line and what
this is is it's often called assault it
makes our passwords more secure so let's
go ahead and preview this and we get
this string of 32 characters so I'm
going to copy it go back to PHP myadmin
hey let's insert some data we're going
to cert an admin user
and we'll paste in that value that we
just got okay so if we go to browse we
have one user set up with this password
let's close out part 1 by editing two
files so I want to go back to Kota and
let's go back to edit view first of all
I'm going to copy this random value that
we created and I'm going to go to our
includes folder and open up config.php
and we're going to add a quick user
authentication comment so user
medication and underneath it I'm going
to add a config variable and i'm going
to call this salt and i'm going to paste
in the value that we just used so again
the idea behind this is that adding a
salt to our passwords makes them
significantly more secure because for
example let's go back to our attempt at
PHP the way md5 works is it translates a
string into a string of 32 characters
and every time you translate admin it's
going to result in the same resulting 32
character string so there are things out
there called rainbow tables which
basically it's a long list of regular
words and their equivalent their md5
equivalent so it's important that you
add some sort of additional protection
in our case we're appending a more
secure string on the end to make it
harder for people to guess the password
so I'm going to go back to config so we
have set up this salt the other thing
I'm going to do is I'm going to set up
error reporting
and i'm going to set up my sqli arrow
pudding
like so so this line you'd probably want
to remove once the site was to go live
but it helps for testing purposes in
case you have errors in your MySQL I
code so that's the end of our config
file and the last thing for this part of
the tutorial is to go to the database
step PHP file and we'll just add some
database settings so we're going to
include server user pass
and finally dv4 database so keep in mind
that your exact settings may be
different from mine localhost probably
will stay the same if you're on a
Windows machine I believe the username
is root and the password is blank like
so but if i'm on a mac i use both root
root and if you've named your database
login that's what you use otherwise
replace this value with the name of your
database okay so with these in place
let's go ahead and connect to the
database so I'm going to do that with
mysql i equals new mysqli we're going to
pass in the server user pass and
database like so okay so in this part 1
we've gone over the basic structure of
our files we've talked a little bit
about MVC and we've set up our database
config and DB PHP files</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>