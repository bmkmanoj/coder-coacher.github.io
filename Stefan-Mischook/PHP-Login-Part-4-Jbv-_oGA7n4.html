<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Login - Part 4 | Coder Coacher - Coaching Coders</title><meta content="PHP Login - Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Stefan-Mischook/">Stefan Mischook</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Login - Part 4</b></h2><h5 class="post__date">2010-08-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Jbv-_oGA7n4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to part four they if username
and password or blank we go ahead and do
this otherwise we need to go ahead and
check if the user name and password have
matched against the database so let's
set up temporary variables so quick user
and we're going to want to make sure
this is clean so we're going to use the
HTML entities like so and we're going to
send it Pete you post username and we're
going to make sure that quotes are also
escaped by adding like so
and then we're also going to want to do
this to the password
and changes to password okay so with
that set let's create our database query
and we're going to do that within an if
statement so we're going to prepare the
statement so it's safe to be checked in
the database
so we're going to use the prepare
function will do you select star from
numbers username equals ? and password
equals ? okay so if that statement can
be prepared successfully we go ahead and
continue otherwise i'm just going to
include a quick else and we're going to
echo out an error to the user like so i
suppose this should be high school I
there we go ok so if it could be
prepared let's continue so we want to do
statement and we want to bind that
parameters and this tutorial assumes you
know a little bit about MySQL I I did do
a complete like a pro tutorial on this
that you may want to check into if you
haven't already looked at it so back to
the tutorial so statement we want to
bond parameters and the first value
includes SS because user name is a
string and password is a string and then
we want to pass in the input
user so what that does is this ? then
gets replaced with the input user
variable and then we want to do
something here we want to include md5
put pass and then we also want to add on
our salt okay like so and then we want
to execute the statement and finally
store the results of the statement I
just store the result there we go okay
so this little block here creates a
MySQL I statement and it selects all the
members and it checks for when the user
name and password equals they username
and password the visitor inputted and
this line here changes these question
marks into the variables and it makes
sure's makes sure that they're escaped
properly and safe to check against the
database to help prevent against
cross-site scripting and SQL injection
okay so after I store results line we
want to go ahead and check statement
number OHS larger than zero so if it has
results if there are users in the
database that match want to go ahead and
set the session variable and this
session variable is the thing that
indicates that the user is now logged in
so session and we're going to give it
the username so the session user name
variable will now equal
but user like so then we also want to
then redirect the user to the members
page so we're going to use the header
and location number each dot PHP okay so
let's save this and make sure
everything's working properly so i'm
going to enter in some quick fake value
here so let's hit submit okay and we're
getting a blank page so if we go back
let's actually change it slightly so if
we have results we're going to redirect
the user and if not we also need to do
something so this means that either the
username or the password is incorrect so
let's go ahead and load the user
so and then we're also going to then
actually I can just copy again we're
going to read display the form to the
user okay let's preview enter in some
fake data again and it generates an
error and it shows us that username and
password is incorrect so now let me go
ahead and enter in admin admin so admin
username and admin is the password
submit and we redirected successfully
the members PHP</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>