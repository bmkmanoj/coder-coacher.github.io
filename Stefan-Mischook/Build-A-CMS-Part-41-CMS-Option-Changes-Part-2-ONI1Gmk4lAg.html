<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build A CMS Part 41 - CMS Option Changes Part 2 | Coder Coacher - Coaching Coders</title><meta content="Build A CMS Part 41 - CMS Option Changes Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Stefan-Mischook/">Stefan Mischook</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build A CMS Part 41 - CMS Option Changes Part 2</b></h2><h5 class="post__date">2012-01-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ONI1Gmk4lAg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now that we have the links in place
let's actually build out the files that
these links link to so within the app
folder I'm going to include a new folder
and call this one dashboard and within
the dashboard folder I'm going to
include i'm going to create two new
folders views and models and models i'm
going to leave empty but views i'm going
to create a new file within that called
v underscore dashboard dot PHP and
within the main dashboard folder i'm
going to create a new file index dot PHP
so like i said last video i'm not going
to be focusing on any fancy features for
this dashboard functionality i'm going
to leave that up to you but i am going
to demonstrate at least how to build out
the basic pages to give you a framework
that you can work on so with the
dashboard section at least all the
individual pages in folder be spelt out
let's go back to the app folder and I'm
going to create a new folder i'm going
to call this one settings and similarly
and create a new folder within that
called views and you folder plug models
and a couple additional files a one file
within settings at PHP it's just going
to be password Pat PHP within the views
folder another new file fee under square
password dot PHP and then within models
a new folder or a new file excuse me M
underscore settings dot PHP and i'm
going to leave the change password
functionality to a little bit later and
work on building out the actual page
framework first but we will come back to
this so settings is fine for the moment
let me go back to the dashboard folder
and open up index PHP and let's actually
do a little bit of coding here I can
grab a bit of the code from our settings
that PHP file the old file I guess just
this section they include in it and the
check is a shin and then now that we've
copied that you can actually delete
settings PHP so we won't be using that
in the future so to go back to our
dashboard folder and index dot PHP I'm
going to paste that in place
so we have include innate PHP we need to
make sure this links correctly so that
links properly can delete this and I'm
going to do like I've done previously
doing if actually I don't even need to
do this at all know if statement needed
so we're just going to load the view
immediately so to do that FP template
load and it's going to be app path and
dashboard views v under square dashboard
dot PHP okay so that's pretty
straightforward and now for our views
and that to make things a little bit
easier for ourselves i'm going to create
two template files a header and a footer
that we're going to use we're going to
include within this PHP file and it'll
make things a little bit easier for us
so we don't have to repeat the same code
multiple times and different pages so
I'm going to start out with a PHP
and I'm going to do this load at path
and I'm going to load core templates t
underscore page under Squarehead dot PHP
i'm going to copy this and paste it down
below except this time i'm going to load
the foot PHP and now within this section
now it's time for actual HTML so div and
have an ID of FP and your square rapper
just to keep things consistent and then
we're going to start out with an h 1
this will be our header that goes across
the window and i'm going to have CMS
settings so what I'm going to call that
and div ID FP underscore content again
keeping consistent with previous code
that we've done and this is where it
gets a little bit different I'm going to
have a div the class of FP n 2 square
left this is going to be our left column
on that page and it div with a class of
FP under square right that'll be the
right column on this page and whoopsie
rung right there okay so within the
right column I'm going to have an H 2
i'm going to call it dashboard and below
it and have a paragraph tag it's simply
going to say welcome to flight path CMS
dashboard select
please select from the options to the
left and within this FP under square
left div this is where we're going to
have our navigation and we're actually
going to make this dynamic so I'm going
to show you how to do this probably in
the next video but i'm going to use PHP
going to do this and i'm going to call a
new function that we're going to create
shortly called CMS and the square nav
and we're going to pass in one value
that i am simply going to call dashboard
so what this function will do is it's
going to echo out navigation element and
we're going to set the main category
that we want selected in this case it's
going to be dashboard and like i said
i'll show you how to do that in the next
video that's the last item in this video
however let me go ahead and create our t
page foot and t page head files and I
wasn't completely sure where to put
these files to be honest but I think
that within the core folder and the
templates folder makes the most sense
these are going to be files that are
going to be accessed from other content
management system settings pages so this
probably makes the most sense so new
file t page head PHP and t page foot PHP
let me slide this over so you can see
let me close out a couple of these pages
okay so let me open up t page foot first
this is quite easy we're just going to
use it closing body tag and a closing
HTML tag then t page head let's grab the
doctype from our main index dot PHP file
here we go and just so I'm clear the
reason why we need a doctype and a full
you know HTML and body tags and all that
is this is going to be popping up in an
iframe which is basically according to
the browser it's a completely separate
page so we need all the usual HTML code
so i paste it in my doc type I'm just
standard HTML head tags and the title
I'm simply going to call it flight path
TMS we also need the meta information so
let me grab that here
and we're going to need a little bit of
HTML excuse me a little bit of
JavaScript here and the connection to
our main.css file but we can grab that I
believe from T into square head yep so
let me copy this entire file and we'll
just delete out the chunks we don't need
so I'm going to paste that in place and
I let me tab things in nicely
ok so this links out to F resources
that's good jquery and color box this is
fine probably want to include tiny MCE
just in case i'm not going to be showing
you any functionality that's required
for that or that requires tiny MCE but
it may be useful to you we don't need
color box because we won't be popping up
colorbox windows within our color box
window so I can delete that and all we
need within this jquery ready section
it's basically this last bit so i want
to add FP close to this section and I'd
like to give the user an easy way to
close the settings pop-up and to that
end we can't use this particular line
because this refers to a closing color
box that exists within the iframe except
we want to close the color box that
exists within the parent page so to do
that we need to modify this a little bit
so parent dot and rather than using this
dollar sign since we're using jquery no
conflict we have to use jquery like this
so basically what this section says is
if an element with an ID of FP cancel
where FP clothes is clipped on it's
going to close that I frame-based color
box and the last change at least for
this particular video if i go back to v
underscore dashboard PHP let's actually
add in close link i know that color box
does do this for us automatically if you
remember a couple videos ago when we're
talking about the login we actually
disabled that functionality because i
didn't want it um
how do I put this I didn't want the user
to accidentally close the window and I
didn't want it to be distracting when
they're doing the login process but for
a settings page like this makes sense
that you want to have some easy way to
close the page if you're done with it so
within this h 1 i'm going to add a div
and that div is going to have an ID of
FP clothes and i'm simply going to say
close popup probably makes it most sense
like so ok and so in the next video i'm
going to be talking about CSS styling to
actually style what we have here and
also this CMS nav function</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>