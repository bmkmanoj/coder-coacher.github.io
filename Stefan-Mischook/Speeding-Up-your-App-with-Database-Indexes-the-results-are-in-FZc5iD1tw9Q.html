<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Speeding Up your App with Database Indexes - the results are in. | Coder Coacher - Coaching Coders</title><meta content="Speeding Up your App with Database Indexes - the results are in. - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Stefan-Mischook/">Stefan Mischook</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Speeding Up your App with Database Indexes - the results are in.</b></h2><h5 class="post__date">2017-11-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FZc5iD1tw9Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys I thought you might find this
interesting I mentioned a few days ago
in a vlog that by applying a simple
index to one of the key database tables
in the app industry whether in the
studio web app where we were able to
increase the output if you will the
efficiency of the app by a tremendous
amount by at random tremendous amount
adding indexes to your tables is really
a basic thing that everybody should
learn and understand it isn't difficult
at all and what had happened in the
iterations of the app in its development
we've had several developers and for
some reason somebody somewhere forgot to
put proper indexes on the key table that
is used constantly as people are using
the system so if you look here this is
my cloud droplet I and it is a virtual
private server and you can see here I
have 8 gigs of RAM right up here cloud 1
8 gigs of ram sister gave hard your hard
disk and it is for CPU for core CPU now
as you can see here the data coming in
this morning this is the key thing this
is what was causing the app to crash
that crash to really slow down quite a
bit is that we were using so much CPU
power just accessing the database so
here this morning this is peak time
between 9:00 a.m. up we see we've had a
max of 31.8% CPU and the system is rang
really fast really nicely it's working
quite well now that's cool here's a
significant thing because of the
optimization of the database which took
all of two minutes to do applying the
indexes when you apply an index you're
basically creating a summary if you will
of the table that the database server in
my case is MySQL where it refers to this
index which is the summary of a table
rather than trying to just go through
the entire table and it just speeds
things up tremendous
tremendously is like going through an
index in the book instead of trying to
find the exact page by flipping through
all the pages of the book you go to the
index to find the page on a particular
subject that you want to read about same
thing with this so when you're applying
an index to a database table it helps
with the read operations it helps when
you're updating buddies has to post it
helps when your app has to pull stuff
out of your database that's the whole
point of it now on the downside it can
slow down the rights to your database so
you have to look at this on a
case-by-case basis but from my
experience over the years typically
applying indexes is a must it almost
always has huge benefits in terms of
performance now if you look at this
chart here again we're maxing out 30
percent CPU was significant here is that
I cut down the power of this particular
droplet this particular virtual machine
I had it it was at right now it's at a
gig and doesn't show here it was a 30 it
was a four quad-core CPU right now eight
gig quad-core before when I was getting
CPU up to 66% before I applied the index
the memory was 32 gigs and I had 12
cores 12 12 CPUs going that course 12
CPUs much bigger and it was not very
much slower so even though I was able to
reduce the power of the server by 75%
approximately about 75% I'm still
getting far better performance just by
spending two minutes to apply a proper
index to the key table the key table
meaning the tables that's being used all
the time by the application how do you
identify which fields or which columns
do you apply your indexes to typically
whatever fields or columns that are in
your where clauses so if you're doing a
select select blah blah blah from blah
blah stable where etc etc whatever
fields that you're using the where
clause on that's typically where you
want to apply your indexes also in joins
as well so there you go that was being
transparent here
we were having problems last couple
weeks because we just never I don't know
if we ever had the index on that table
the it was three indexes and we took
them off or whatever anyway whatever
this what happens when you're building
an app and you're responding it's kind
of a rad type of environment rapid
application development what are you
building the app trying to figure out
what the final app should be like based
on what your users tell you and as a
result we don't we didn't have certain
controls you would have in place with a
very mature codebase now that being said
with the new version of Studio Webster
before which were very close to
releasing a beta it of course because
it's based off of what we've learned
over the last seven years it is a super
it's going to be a super super refined
codebase with built-in alerts and so on
that will much more robust as far as the
app management is concerned but that's
just normal it's just par for the course
in the web development and the software
development world you start off quick
and dirty you get it out there you get
your user feedback you iterate you
iterate iterate and then when you know
you have something really solid in terms
of functionality and feature set and
then you layout if you have to and a lot
of times you do you layout a much
cleaner codebase from scratch based on
the criteria that you now know that are
set in stone you know exactly what you
need so you can design from it from the
ground up something super solid and
something that'll scale nicely</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>