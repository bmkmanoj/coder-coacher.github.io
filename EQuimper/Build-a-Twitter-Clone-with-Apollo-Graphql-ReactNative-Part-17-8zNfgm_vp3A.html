<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a Twitter Clone with Apollo Graphql &amp; React-Native - Part: 17 | Coder Coacher - Coaching Coders</title><meta content="Build a Twitter Clone with Apollo Graphql &amp; React-Native - Part: 17 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/EQuimper/">EQuimper</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a Twitter Clone with Apollo Graphql &amp; React-Native - Part: 17</b></h2><h5 class="post__date">2017-09-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8zNfgm_vp3A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello if you want welcome to the part 17
so we're gonna go over a rush of little
video so what we need to do right now
it's we did in the past episode how to
do like a favorite for a tweet server
side and now we just need to implement
that in the front end so what we gonna
do today is just when I'm gonna click on
this little earth icon I'm gonna add a
light to this number optimistic way so
this way like you will update plus we're
gonna just create it and process it
inside the DB so first thing what we
shall do it's we show first thing jump
over the server side so go over your
server just first start with everything
good what are we gonna do is just go
over your index at GS this one what
we're gonna do is we're going to
uncomment the March you're gonna say
we're gonna watch is working in the
server side so I want everything to be
right perfect is working I thought I'm
going to uncomment this line so this is
just for starting the mug so if it's
working now we shall have what's it and
now if we do this now we should go
inside the collection and I think I need
to drop this one because we don't have
it so we're going to add three user and
nine a tweet because three tweet by each
user so this is the mock what we did so
now we're gonna refresh this militar and
I get an error yeah I just forget to do
something it's I need to remove my my
Xing steroid so because we didn't do a
kind of if we get a 4-1 we need to call
something else so I'm gonna just check
what happen yeah so we get always unit
alright so this is what happened so what
we can do is we're gonna just go over
the app that GS inside the the front-end
and just for now inside the component
will mark what we
do it we're gonna go inside a sink
storage that remove item and we're gonna
just just for now
I know it's not the best practice but
just make we remove the value that's it
that was just this way we're gonna we're
gonna figure out are we gonna do this in
in the future but for now we're gonna be
okay
so I'm gonna just make this thing better
to see
so now what we're gonna do is we're
gonna just create the first user really
quick so I'm gonna just put my name as I
was a new user to my famous app so my
password gonna be password 1 2 3 and I'm
gonna put my username did I sign up and
now it's working so I'm a user so now if
I go back to my Robo Mongo that should
refresh and now in my user I should have
four user and now if i refresh my
connection I'm gonna have my favorite
tweet here who's gonna be an empty so
now nobody have like perfect this is
what we want so now the first thing
we're gonna do is as we do always we're
gonna create the mutation for the favori
to it so it's alimentation we're gonna
say tsavorite tweet that yes so we're
gonna create a mutation
so as we seen the last one this is
finally what we want is we want to have
the ID the favorite is family to be true
or thought because we're going to show
the earth is as I read in the next
episode and also we're gonna need to
change the favor VidCon so 0 is going to
be +1 so first thing we get imported G
quickly well from react Apollo after
that we're going to export default like
we did on other video that's it now we
need to do the mutation yeah that's
going to be standard with tweet also
we're going to add a variable called ID
who's going to be a type of ID and this
is required so this way we know
Apollonia we're gonna send something if
we don't pass the ID also after that
we're gonna create the the salary tweet
mutation we're gonna pass the ID by
calling the dollar sign underscore ID we
just create here at the top after that
here what we're going to do is we want
as a return is favorite we want the
favorite cog and after that we want the
ID because we need the ID just I mean
you can just don't say this but that's
gonna have some change we can do further
well now what we're gonna do it's now we
need to create this mutation by doing
something so what are we gonna do
it's remember what we did in the one of
the frizzy pizza is we create the cart
so it's going to be a good way to just
plug this car and we're going to pass
down the props inside the feed code
button with the buttons this is why
we're going to put the action
so now what we're gonna do what's inside
a free card what are we gonna do is
we're gonna import a graphical library
so to make to connect the graph QL with
this compiler like that
after that what we need - it's their
mutation so we're gonna import like I
like it to put my mutation in my Curie
from graduate in upper case from da
graph you'll be sure and have read to it
after that what we're gonna do is we're
gonna go at the bottom here and we're
gonna do export default SQL we're going
to put the favorite tweet mutation like
I told you I don't know why but the jaw
studio code don't like it and now we're
gonna put here the feed card like that
the thing it's you I have no action like
for calling this thing we know which
video to something like that week
reaction win poor action and we pass it
here inside and map dispatch to props
but the thing it's here what we can do
it's between we can create an action
right inside the Collier and I think
that can make the kind of cleaner so
this we will just keep track we just add
the code we need inside the component
here what are we gonna do it's we gonna
put a comma curly bracket here so we can
put some option one of them is going to
be props
well at their crops here I'm going to
add an arrow function and this props
they are going to return an object so
here as the props we have access to to a
panel is the props of the this component
so we have the own props so this is the
props of this component by default so
inside this one what we can add is the
text the user create a pirate correction
about plus we have access to the ID so
this is why we need also you know by
connecting the graph QL library we're
gonna have access to mutate after that
here we can create a function so I'm
gonna call it function
tsavorite in this function gonna create
the mutate action and as we did inside
the create new tree lighting new tweet
screen well we did add a variable in the
optimistic response we can do the same
but here I show you the wheel you can do
this right inside the component we would
take a lot of line and just like I think
that give you a bunch of code for
anything you can do this now add in the
bottom so it what we're gonna see it's
variable here I'm gonna say underscore
ID because it's an object's week pass it
on this ready and now I'm gonna call the
on props that underscore ID like I told
you we have props inside this component
and we have the ID after that
I can call my up T missed sick respawns
in it's an object so now it's gonna be
almost like we did on the second one
here we're gonna add some type name
we're gonna call the function and we
just say finally what is going to be the
new value so we I'm gonna say underscore
two time type name where I'm gonna say
it's a mutation after that I'm gonna
call the favorite tweet function so that
need to be the same name as you have
inside you're right there here I'm gonna
pass that the tag name and I'm going to
say I want to change tweet so remember
this is all that come and the time name
came from the server we are at call this
tweet after that we're gonna set the ID
is going to be equal to the own probs
that underscore ID after that we're
gonna say favorite calm now what we're
gonna say is we're gonna see if on props
that cover rip is favored real so that's
going to be a pop we're gonna pass
intruder episode but we're gonna just
manage it we'll just on prop that
favorite Krong it's minus 1 at minus 1
so if it's 2 that's going to be 1 if
it's 1 is going to be 0 and after that
we're gonna say if it's not very real so
that means we follow it if we're gonna
just say it's favorite calm plus 1 now
so you know like the same action going
on for real
so when I click here if it's all ready
for it i'm gonna unfavorite it should I
wrap and now here what we can just say
is his favorite
equal to on coop that is favor where we
are now we can use it because as you
know inside the on screen
when we pass sorry you're going to be
found by default because we don't have
itself that's why and now this section
here favorite favorite ear I can call I
can have access to it inside my plot so
I'm going to be structuring right there
and now inside my feet or bottom I'm
going to call an action call on 500 rip
press and I'm going to pass it
and I run a little prettier and now I
just need to go back in my feet core
button take this favorite favorite press
so that need to be the same name as we
passed it as a product I'm gonna do is
copy right there and now we go in the
button so the earth make sure this is
the earth and now I'm gonna save on
cracks and I'm gonna just call this on
top of it press that's it if everything
is work we should be able to make it
work right now so what I'm gonna do it's
now if I click
as you can see now I have the plus one
and as you can see we increment in the
server so now look site is working and
this will make sure if I go to my rubber
won't go so this is my favorite to it
because I've read a user and remember we
we create this favorite tweet collection
i documen when we create a user Auto
issues are gonna have one and now if I
open up I have one element and this
element is right there and now if I go
to the tweet so that's going to be the
last one you see now if every tweet is
one so now if I click again if i refresh
and I go eh you see now it's zero and
now if i refresh here now it's zero
because now i uncover with this thing so
the server gonna do the job about doing
two unfavorite or not and for us in the
back in the front end what we're gonna
do is we're gonna manage in the next
epistle all to sell is favor it or not
in the home screen this way we can show
like a red art if it's favorite or not
and here when we're gonna do that j
we're gonna just know if this tweet has
ten like and i have never liked you if I
click on it I'm gonna add 11 else I'm
gonna have nine so you see that kind of
logic so I hope you enjoy and I hope you
learn a bit so in the next one we're
gonna jump on the home screen to Sam if
we have like this one or not so just
make sure it's all working we can like
this tree I'm gonna refresh just to make
sure and looks like exposed to this tool
right now yeah and now one one one then
if I go there if everything is working
I'm gonna have to yeah man that's it so
I hope you enjoy and we get a talk in
the next episode bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>