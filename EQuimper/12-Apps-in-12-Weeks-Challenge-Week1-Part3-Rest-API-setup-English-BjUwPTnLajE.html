<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>12 Apps in 12 Weeks Challenge - Week1 - Part3: Rest API setup [English] | Coder Coacher - Coaching Coders</title><meta content="12 Apps in 12 Weeks Challenge - Week1 - Part3: Rest API setup [English] - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/EQuimper/">EQuimper</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>12 Apps in 12 Weeks Challenge - Week1 - Part3: Rest API setup [English]</b></h2><h5 class="post__date">2017-01-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BjUwPTnLajE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys so in this video the plan is to
set up no none and body parts are too
awesome to we're going to need for this
application we're going to set up the
URL module you're going to see oh I do
my app and all modular I make it and i'm
going to show you two other awesome tool
further there it's postman a robo
mongoose all 232 so we're going to start
for the first thing it's when i left you
in the last item we start with no index
GS but what I am so you see here what I
found is sigh i'm going to show you so
if i refresh here I see my ello if i put
hello world and i say anything at them
air it's the thing on that change air so
what I need is to have a tool we're
going to restore myself every time I
refresh so this tune is skull note month
so this totally just we just need to
change finally the package.json script
we have four note to no one if we save
this one and I do yon start again you
know see now i got my known month and
now if i do LOL with three dot we're
going to see my change right there so we
just make the dev more fun and less
painful so and like they say if we want
to restore the server by and manually
just type our F and third that's it
after that so we're going to create
today the the real basic boilerplate for
a application so what we need when a
user post something to the from the
front end to the back end we need some
kind of middleware middleware is between
finally between the front end and the
server just between each it's like
something at them before the silver
start to work on something so the tool
we need for today it's the something
called a body for sure so the only thing
we need the yarn add body for sir this
one got a course the body so because you
know when the front end send something
to the back end it's inside an object
called body inside the request and this
body it's not something don't came in
the form we want so this you tell me
though we're going to parse that and
make that like at Jason and so we're
going to push it to the database after
so we can after we install just restore
the server the only thing we need it's
the tree line of code we import body
force or from body poor sir oh sorry
after that I'm going to create your
comment what I'm going to see this is
where I'm going to put on my middle word
like I said because it is really small
I'm going to put everything inside this
on fire but inside on the directorial
i'm going to show you how to make that
much much more small file and much more
easy to follow hey what we need when you
use a middle war you put that inside ab
that youth here i'm going to have my
body for sir and I want that incited GM
and the other line we need its body for
sir and because i want to use both man
and i'm going to need to use X form URL
encoded so I'm going to add the URL and
cut it ear with extended going to be
fold so this two line of code yes it's
going to make the life much more easier
so what happen is someone see someone
just create this middle workers we
almost own need this one
after that and creating a module folder
inside this one is everything all my
features gonna be here so if i have a
user or tification you were like like we
are po something like that it's out in
module for me so i'm going to create a
folder called URL and then so when i
start i always start with the model so
what I'm going to be fair inside the
database here we need to import Mongoose
and the schema from Mongoose after that
we can create the schema always
capitalize my schema name and new schema
here so what we need in the application
so someone going to pay a long URL
something like that and we want to
resolve as something like really much
more but we need to keep the URL path
from the user so what we're going to
need to do is save this URL so far so
now i'm going to create this property as
long your area with a type of string and
we want this to be unique cursed finally
one for mangala pais like a youtube link
and ii this Ling is already used inside
the database we're going to just send
him back to we're going to send in back
the version already smaller we don't
gonna create 20 times the same URL and
Here We Need requires going to be true
this is just a little validation for the
this URL after that we're going to
export default the mongoose that model
I'm gonna call that URL this name is for
we don't really gonna use it inside the
this project but
like on the microloan project we're
going to use it I'm much more when we're
going to create and type schema ID and
now this kind of stuff so just keep it
like this one and we're going to pass
the URL schema after that we're going to
create the controller so the controller
is what manage everything coming from
the client etc so here we're going to
import the URL models we just create
after that we're going to create a
function called create short we're going
to take a request and a response and
this one gonna take this one we're going
to take the long URL coming from react
that body you know what I do it's
something called destructuring so what I
do right there is the same of if I do
long URL equal rate that body the long
URL but it's short and for me and I
really like to get my clothes smaller
after that we're going to create the new
URL with new you are like that and
inside this one we're going to pass the
long URL as you can see I don't need to
add key and value cards in es6 if you
are the same key value you can just as
this one that's after that we're gonna
save the long URL and because like I
seen the first video we're going to use
promises to enter my premises that take
to call back one is the end war of the
callback and the second one is their
error the resolve the first one is the
result and the second one is a bj so air
inside the resolve we're going to
receive the URL coming from the MongoDB
and we're going to send status 201 and
we're going to send in back the URL as a
inside of JSON object and here we're
going to take the error
if we get an error coming from Mongoose
we're going to have a status of four
andreea and we're going to send a JSON
object called error like that nothing
more when you could do here so now time
to create the route i create a file
called route but the GES poop make it t
cool so the GS here nothing crazy we're
going to just import letter from express
after that i'm going to import every
controller app so a what I do it's if we
control all right they're going to be
going to have your in front of them and
if I want to use it i need to do URL
that create short that just make life
much more easy we just need to import
find everything and they have the on the
front line URL we're going to create the
route star like that and air we're going
to create the first round where it's
going to take to a PIV one and i'm going
to call that short term and this is a
post request and we're going to take the
create short controller and a you just
need to export default this URL route
that's so air nothing crazy when we
gonna pose to this URL we're going to
eat this controller we just create a i'm
going to get inside this folder i'm just
square URL i'm going to create a index
dear cuz remember yesterday when I told
you there is javascript is small enough
to import a file inside a folder if you
don't give a relative stat so my plan
right there everything gonna make sense
when I'm going to finish with that so
you just follow with me I'm going to
have my URL route from URL route from
ralphs sorry and I'm going to export
this role as an object like that
so now what I'm going to do is since I
my module i'm going to create a file
talk in depth and i'm going to export
remember this activity from so xbox
everything from URL but why i do this
now is this is what i'm going to show
you it now i'm gonna egg import URL
route from module I don't meet you up
you are real and route and do this for
20 line of code it should ever I just
need to export everybody with something
from there so you have another feature
later out well I can do everything
inside the same import so after that the
thing we need it's we're going to pass
the the link we just the route we just
create inside the the application so app
that use and we're going to pack your L
well right there now for testing this
we're going to open two three two one is
called rebel mango so what boo mango
it's finally it's a UI for co database
so here you can set a database right
there we have my URL but I have nothing
right now after that I'm going to create
I'm going to open post nap so post
minutes you can download this in google
chrome etc so mangled education and that
lets you try you URL without really easy
so here I always create a collection so
you click right there you create a
collection I call this one so inside
this one have my post why create a
folder is because later in the
application when we're gonna test I'm
going to show you how to make a script
we're going to test every with that
every of every route we are just in one
column then we've so much much easy
after here we pass the URL we are
remember the route it's a local all
three thousand
so the route after we create well ativ
one short them so that why we need to if
this one after that inside the body I
can take this one it's w from your ln
korean because we set up this one right
there and after that i can say my
property long URL i'm going to type
facebook.com and now i can click them
and now we receive the results for the
result is coming from right there and
now if i refresh my but am I database we
receive the Facebook object you just say
and then this one you see mongodb small
enough to create an object ID for free
it's going to be unique and we see dash
dash ps4 version so that happen when you
idiot update your collection etc so
that's going to be this for this video I
hope you enjoy it click light issue like
this one don't hesitate to comment if
you have any question is the the repo
I'm gonna put the repo inside the
description and please subscribe if you
like this video so see you later yeah
bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>