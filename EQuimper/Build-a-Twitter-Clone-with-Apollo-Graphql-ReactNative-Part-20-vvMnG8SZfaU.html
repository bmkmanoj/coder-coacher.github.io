<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a Twitter Clone with Apollo Graphql &amp; React-Native - Part: 20 | Coder Coacher - Coaching Coders</title><meta content="Build a Twitter Clone with Apollo Graphql &amp; React-Native - Part: 20 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/EQuimper/">EQuimper</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a Twitter Clone with Apollo Graphql &amp; React-Native - Part: 20</b></h2><h5 class="post__date">2017-09-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vvMnG8SZfaU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone welcome to the point
number 20
so what are we gonna do today it just
add a placeholder on each tweet finally
we're going to do the loading while
doing this is because right now the way
we under the loading it's just by
showing like this kind of strainer right
in the middle now I just go too fast so
that's why you don't see it but the plan
of the video it's to finish with
something like that so it's gonna be
like this as you can see having the kind
of loading almost like what Facebook
have in there see so this is what we're
gonna do for doing that we don't get
ready to do this for from scratch we're
gonna make use of one library call sorry
Aaron placeholder so for react native
placeholder so it's a library built by
someone else who want to do the same as
we done and I think it just go really
well with the design we have so for
doing this we're gonna need we're gonna
need to manage so after installing this
library what we gonna do it's we're
gonna need to manage the feed car with
that so the feed car gonna receive the
component itself so what we're going to
do it's we're gonna go at the top of
this component and we're going to import
the place holder coming from air and
placeholder after that here inside the
props we're gonna receive two drops one
of them going to be called trail a so
door and you're gonna see why in a
moment
and the second one is gonna be is low
they're both wedges going to be a
boolean maybe what we're gonna say it's
if placeholder we're going to finally
return the same route as we asked we
have right there for the route so the
route remember it's the main car and now
you know what we're gonna do is we're
gonna add the place holder component
right there this placeholder you're
gonna need to have something in the
middle so we're going to create a
wrapper inside that so the wrapper is
going to be really simple it's gonna be
only a Flex one nothing more so a style
that view with a flex one inside that
that's a
nothing more so now this placeholder
you're gonna receive some value one of
them is gonna be on really and a we're
gonna say the honor it is going to be
the difference of the is load so when
he's loaded it's it's it's true that's
gonna be now it's ready so we're gonna
put that there
now we have line number so this is the
number of line we want to show right
there because we have to we're gonna
save to after that we're gonna say
animate we're gonna put shine so this is
the kind of animation we have and also
we're gonna say last line width so the
width up the last line and for us with
the design we have for the person's
gonna be perfect so this is this one so
this is err that's gonna be you like
100% and forty like you see the default
person what I mean but this thing is not
just placeholder is going to be placed
on that image contain
like that a lot if i refresh nothing
gonna really show and also for testing
this go to your server so go to your
server and what we gonna do finally it's
we going to add inside the server a set
timeout finally so we gonna do this
right there so we're gonna see here
middleware one finally we're gonna just
say set timeout oops
set timeout where we gonna put the next
but we're going to see 5,000 so that
will be five full so beyond so now if i
refresh that going to be really slow now
so you know see right now all the apps
filling you see this is really bad I
mean we can change this user experience
right there
so now that's why we're gonna jump on
the home screen and what are we gonna do
is we're gonna go here and we're gonna
do another render but this one we're
gonna call that render place all there
so this one gotta render the placeholder
when it's it's loading so here I'm gonna
say item I'm gonna see why it's here now
I'm gonna just say feed car
there's some food cars the other one but
this one's going to be the place over so
I'm gonna sit placeholder after that
here what I'm gonna say it's the T gonna
be equal to the item in the air meekness
is low then who's going to be equal to
the value of this that drops the data
that loading this is critical meaning by
default in the Apollo right there so now
what I'm gonna do here is I'm going to
change this activity indicator now so
now what I'm gonna do is I'm gonna have
another fact list here so this flat list
here I'm gonna say the same content
container and line self stretch but now
the data is going to be an average of
one two three just forgetting this three
element will take the full screen after
I'm gonna surrender item now we're going
to call this that render placeholder and
not that I'm gonna say key instructor so
I don't need to see the key here so I
can use here I can remove that now I'm
going to see key extractor equal at item
item this way so now if i refresh
you're going to see
I know you go like I asked you see the
40% is right there and now this is
animation the shine so as you see this
component make your life really easy to
make this kind of placeholder wasn't
that too complicated if you ask yeah but
why using this kind of fake value it
just because I have to really man if you
think you can put like five ni men in
the front on the screen at the beginning
just go with five not gonna go well so
after that everything gonna go like that
was before so I hope you enjoyed this
little part and we're gonna talk to her
have a good night bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>