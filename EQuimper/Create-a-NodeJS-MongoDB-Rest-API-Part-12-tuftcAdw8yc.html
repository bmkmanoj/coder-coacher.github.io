<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Create a NodeJS + MongoDB Rest API [Part: 12] | Coder Coacher - Coaching Coders</title><meta content="Create a NodeJS + MongoDB Rest API [Part: 12] - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/EQuimper/">EQuimper</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Create a NodeJS + MongoDB Rest API [Part: 12]</b></h2><h5 class="post__date">2017-06-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tuftcAdw8yc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone for today's video we're
going to continue the story on so what
we're going to do today is so finally
when we finished the last clip we make
the user can have a read a poll and we
increment or decrement the favorite code
of the phone but the thing is whatever
you like when I work with the front-end
it's when my back-end developer make my
life easier and one of the way to make
it is there it's sending which poses the
top of it of the user so what I mean
about that is example right now so this
is where we live the last time is I mean
when I send this is what I got I get ID
title text Allah and everything if I
have a writ a post I'm going to solve it
about here now if I sell here you see
that it is suppose now it's favorite
thing is did i sorry that because why I
want to to know that it because maybe I
want to show I read earth icon what if I
will and I outline one when it's not and
for now the difference going to be
pretty or two to make it maybe like if
you use kind of Redux you're going to
check inside is our favorite in the
state if this post ID is inside is
Trevor it but I think I've found a good
way to make the life much more easy in
the funnel and this is what we're going
to each other first thing for make it
happen we need to make the route of the
post to be identification which you can
make that and like I mean you can make a
world where you you make it work for the
world with not logging and everything
but for now we're going to make everyone
need to be lured and we're going to make
a post method a user method story and
we're going to work on the controller so
first thing go inside your module do
inside around going to be pretty simple
you
take the out GWT line 12 right there and
you paste it right here so we want to be
now here and we want to be like here
that's it nothing more just to make sure
we work I'm going to remove the
reservation on my gift and I'm going to
send it again janitor eyes now if I put
another authorization with my GWT
getting from my user login first don't
forget to make that now I send perfect
now I can receive my Oh perfect after
that drum up user model here at the
bottom now we're going to need to make
finally and little MacLeod why are we
going to just say if proposal check is
para rid of the user if you separate
this one so we're going to do is post is
several here then I take a post ID and
here what I'm going to do don't forget
the code to come here here what I'm
going to do is I'm going to do if this
that's have a ripped that post when I
say that if the disfavor it also I mean
favorite that post here inside the user
schema if this summary that pull that
index off sorry
X off with the for IBM like that is
bigger or equal to zero so that means
it's inside that I'm gonna return true
else I'm going to return false again
because I don't because a return air I
don't need to do else like that because
remember in JavaScript I return break
the statement here here that the segment
does air like an average my if statement
or yeah dot I'm never going to go there
and like perfect now we create the east
poses sorry as a method so now once we
can do
it's one of them we get a jump on the
post in a controller and now we're going
to work that first with the guest post
by this going to be pretty simple
because we get only one so another thing
here with what we have right now I get a
pole and I get a nice and I post the
thing is it's not like yes we made a
crud application but nothing like we can
make more than a crowd I mean we don't
need to Justin what we have in the back
in the database like we know we already
removed some stuff from the pose and
they use on eggs and buggy usual we
remove the password but before you push
to the freedom you can module not matter
but like you can change what the
database send you before you knew you
you give it to your user at the front
end so this is what we going to do so
I'm going to create I'm going to make
some place here and I'm going to just
change that before we remove it so now
here we get a make a promise that also
what I mean by that it yeah I'm going to
do our variable compromises where we're
going to avoid a promises that out and
this got out a taken every so promises
that only so which you have more than
one promises working at the same time as
I think same time that they go like in
one by one but I it's a good way to just
manage all your promises in together so
a I'm going to user that's fine by ID so
I need to have my user first any other
going to drag that you know that
underscore ID
so this is what are you get the user
don't put a semicolon to you because we
are in the high rate so that's why we
don't do like cars use our we don't need
to do this you're going to see in a
moment here now what I'm going to do is
I'm going to take this request here and
I'm going to paste it right there
perfect
so now
all can access what I'll hear gotta be
pretty simple
yeah I'm going to do current cover it so
yeah that's going to be a boolean you're
going to give me I'm going to do
promises that 0 when I set up the Rope
is this thing it's an array and you know
this thing that I always get the
position 0 this thing gonna be at the
position 1 because it's the index or
index 0 who is my user I'm going to call
that cyber rip that piece pose is sour
it and I'm going to put the rag that
param the ID so that's going to be the
ID of the folks
you can see when we can do too is I can
se passe compose equal promises that one
like that now I can remove this link but
now I need to now the thing is when
you're showing you look if I'm returning
because what I'm going to do I want to
maintain my post subject here
so example if here I send a post and I
send as I read like that so this is
something like I did when I start
working with this so if I do this and I
jump to postman example here so I'm
going to take an ID and I get here
look what will happen what it is this
thing what is that I mean then what it's
only thing okay here okay here I see my
fellow real I see my post but the thing
is what's happening here thing is here
we're returning it like a new post
so I mean don't return in any post but
we put the poster but we don't do any
mood that Jason like you don't form an
insert anymore so the way to add just
what we need is to count the metal
already on the post code to Jason all in
uppercase like that so this method we're
now going to make use and going to make
my post work like we expect but now look
what Adam solder is true
oh so now so if I click here again and I
click a and again back somersault you
see now so my user so this is the thing
you need to thing in your application as
the viewer me and you are in the
application and now we work we on the
front end we play with whatever we want
in the front end what I see it's my
application like I'm the viewer of my
side you see what you are in you side so
you don't see as mine so I'm a user add
my own stuff so for me this is what I
got here when I get out when I get my ID
I see cyber itself you maybe you get
true so interesting in the viewer so now
think about that are that going to be
prints I've done in the front-end after
that to just manage the Federation
unfavorite I'm going to do just if
summary is true I'm going to show this
icon it's not I'm going to put this icon
don't need anymore to do array like
maybe like area includes or indexes and
whatever you want
now my back-end send me what I need
that's it and now I'm not right I'm
gonna just pray almost with just HTML
and JavaScript just really plain don't
need to do any kind of filter or maybe
like just see if the stuff is inside the
array perfect so now they get post ID is
working now a German to get post is
going to be a bit more complicated
because it when you see that's going to
be pretty simple here I want even post
okay I do current favorite return me a
boolean because here that's got a return
is post favorites of this thing here so
if it's rather red I'm going to return
true it's not I'm going to return false
here my post promises one was only one
post with to be simple but now ever I
need to join up my poses again I'm going
to make some space better to work from
scare scratch now current premises yes
we can add other premises at all so yeah
I'm going to avoid promises below
promises the off
if create a policy that is resolved with
an area of resolving all of their
provide premises so you see so that's
why I love your Visual Studio code is
that can really help you with that here
easy 5id
we have that user that underscore ID
again good thing to put it in the same
place going to be pretty much easier for
you to see both at least so maybe I just
copy/paste what I have you nothing more
yeah but let's post post perfect now
although I'm gonna manage it
so I search method for that and I finish
with that I take a good one and I decide
to use videos so for the one we don't
know we do is I really encourage you to
go to the NPM website or Mozilla
developer Network and call me be voice
my next tutorial on my little JavaScript
quick tip and I'm going to show you how
it is worth but we do sit awesome
so here what I'm going to do is I'm
going to second spots open and I'm going
to just modify my post every again I
just do this but now I'm going to modify
it and then I think premise is that one
because remember zero and one here that
reduce I can do reduce because it's an
area here reduce take a call back and
start like that but we do is take an
argument first we do is take a and
you're going to take a the initial value
so the inside of contact take the
previous value the true value true index
and like the initial value right there
so the coma so any form they say that's
going to be an empty array like that I'm
going to have access to my array here at
the first argument so I'm going to call
that error for our so you see previous
value after that air am gonna ask
my one post at the time so that's going
to be my true value so now a what I can
do is I'm going to do like that I'm
going to copy and pasting this thing in
maybe that's completely in place don't
do this is not good
we're going to do constantly equal
promises that zero so do you know that
saga rate that is post favorite and I'm
going to pass the pose that underscore
ID because remember we oppose it's only
one is the true pose right now so it's a
looping reduce its we loop here the I or
other function you know what I can do is
art that push so I'm going to pull and
you object I'm going to get the pose and
I'm going to do cover it so we are get
the far away only for this post at the
time so this is like me that is one
really going to be solved okay going to
be true going to be soft you see like
that's going to look for an ear don't
forget to return sorry
so now I'm going to be really easy we
remove this like that
now do you think that's gonna work so
we're going to remove that hair and now
I'm going to send oh just happening
here what it's called this thing oh yes
I remember what you
oh here to Jason right there yeah you
see that and you just because man I get
I get struck so much last time because
of this and I find it and I just want
you to be sure
I don't want you to go in Google after
you we meet together I want you to to
know that they know whoa stop it fall
somewhere it falls power tools you see I
think this one I like it so that was the
first one at the top I liked it so I can
get everything again
now it's true yeah so you see now I go
I'm gonna like this one this one I think
that's going to be a good one we like it
then I'm going to send that true false
false false false false false true oh
yeah
so that was pretty like that so as you
can see a good an important thing I want
you to understand it because I get this
question a lot with my some of my
student it yes but I mean if you send
through there is that may be true for
you sir know the app it's for the viewer
it's for the one using it so don't get
in the ended about thinking about
everything you send to the front end
it's what everyone going to see no no
yes it's what if you're on galaxy but
you can manage it to make it work only
for this kind of this person so I hope
you enjoyed this episode so let me know
in the comment let me know what to you
want to see again and now I'm working
too on that story all about making it in
the front end for this one because I
almost done with my need up app react
native and I know I surely and some of
you have maybe disappointed I didn't
continue so what I add bill is some
building right now the mobile app of
this one so we're going to use this idea
we have already creating that there are
two just make both together in
because you touch me a lot of time so I
hope you enjoyed please subscribe if you
didn't sure and like and I will really
appreciate that and I wouldn't like but</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>