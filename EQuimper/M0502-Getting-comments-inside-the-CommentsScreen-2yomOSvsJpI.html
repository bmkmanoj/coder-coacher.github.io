<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>M05-02: Getting comments inside the CommentsScreen | Coder Coacher - Coaching Coders</title><meta content="M05-02: Getting comments inside the CommentsScreen - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/EQuimper/">EQuimper</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>M05-02: Getting comments inside the CommentsScreen</b></h2><h5 class="post__date">2018-04-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/2yomOSvsJpI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone welcome to the poor
number two of this micelle number five
so we sorry for the long wait I know
that's my mistake I didn't do well in
the past month so I'm sorry about that
so what are we gonna do today it's about
we're gonna finish the comment feature
and a lot of thing I've changed in this
month where I didn't do video one of
these it's gonna be a apollo react
apollo they have done a new curie props
who give us access to render props so
they give you this kind of career where
they give you as a prop saluting around
data so you don't need any more i order
component and I think it's Bellini so
will be really nice to use this one for
that we're gonna need to update also the
plan is now it's we want to be able to
show this kind of list inside finally
the application when we click here in
the add command so for today what we
want is just to getting the least at the
list inside the command screen and in
the next one for the one of tomorrow
we're gonna just design this thing so
what are we gonna do
it's we're gonna start by going inside
the terminal and first thing we're gonna
do is we're gonna run your upgrade
interactive we can do this with NPM or
whatever I just I don't really know how
to do this in NPM I use a yawn for most
two year now so yeah and make sure you
are in the mobile and what we're going
to update it's everything about Apollo
so you can just click in space we have
QL react Apollo you can also update
react a native typography and would be
nice so just click enter so they're
gonna all run after that item we're
gonna get a crash course of react native
vector icon so if i refresh my screen no
we don't have a crash pretty nice so now
what we're going to need to do its first
thing it's we're gonna open visual
studio code and one of the first thing
we want it's to create a command
screen and to be able to push to it so
what are we gonna do is we're gonna just
follow the same pattern we have so we're
gonna create inside the screen a new
folder called comments commands screen
and inside this one we're gonna have an
index a GS inside this one we can start
pretty simple with some Tex station
maybe also we can any the activity
indicator to the loading spinner and
we're gonna also need the scroll view
this is everything we got any for this
one after that we can create a class
right there so that's gonna be current
screen this one gonna just have a view
for now and we're gonna the plan right
now it is going to be just to show the
text hello well that's that nothing more
here I'm gonna just create the route
style and I'm gonna just say flex one
for this one here so style that route
and we can also say justify content
center and a line item center just to be
able to see the arrow well right in the
middle like that okay so right after
that what we're gonna do is we're gonna
jump on the index part of why we we just
start every screen we're gonna show
commanded just to copy this one in both
like that comment screen we're gonna
copy this navigation with just our
component we're gonna just pace comment
screen like that and we're gonna do this
thing for that so finally what we say is
we see to the navigation to readjust our
component with this unique string and we
just wrap the provider the one we have
created in one of the first Pizza where
they give us access to the Apollo and
we're at finally the command screen so
now what we want is this screen here
okay we have the fit curve right there
and what do we want its want to be able
inside this feed car when I click here
to jump to the car the command so inside
my photo car right there
I have something called here the comment
input the command input is this simple
right now with the touchable clear okay
so what we want it's we want this one to
receive the props navigator so we want
to pass down the navigator I don't want
to use like a higher-order function or
something like that so what are we gonna
do is inside the screen of the feed
screen inside this one while we rap
finally where we are finally this photo
call right there this one have access
that is that prep that navigator so
we're gonna pass that this that probe
that navigator to the photo car after
that the photo car ear gonna add it as a
props and we're gonna pass it right
there like that so now I'm gonna refresh
my screen open the debugger and what I
want is I want my screen right there so
if I search for command input you see we
get a navigator right there
so each photocard receive the Navigator
right there so this is really what we
want so now what we also gonna need it
we're gonna need to to receive the the
photo ID because right now this command
input receive nothing you don't know
about nothing in the photo car inside
the data we have the ID so we're gonna
pass it so we're gonna call a variable
called photo ID or whatever ID if you
want and we can just say this is that
prop that data that ID so now there's
come an input if I check back inside
this thing here if I check back command
input now each of them received a photo
ID okay so now this command input sorry
about that
this command input now this one here
we're gonna create a static method
called a go to comments like that and
here we can call this that prop that
navigator okay so the the navigator is
finally the react native navigation and
yet access to the push method this thing
take an object and take a screen the
screen name need to be the same as you
have inside you index inside your screen
so this one right there inside
clone command screen that's why you need
to be unique after that we're gonna pass
a title call comment we're gonna pass
some props we're going to pass a photo
ID we're going to be this that props
that photo ID and yeah I think that's
gonna be that set for that and now the
touchable right they're gonna have this
on press function we're gonna call this
go to comment so now if I click on my
command
I get pushed to this lol component right
now okay and now if I want to see my ID
I can just say this that prop that this
is that props that photo ID and I have
ID okay so now if I click I get lol ID
18 and if you want to check you can just
search fo comment screen and we get the
test ID for the e to testing and we also
get the photo ID right there okay so now
with this thing we can now call the new
Apolo electric item render props so here
from react Apolo we're gonna add access
something called three right there okay
also what we want is we want to import
chick well for today we're gonna just
put it all in the same file and what
we're gonna do is we're gonna say get
comment
it's a gql so it's a graph QL 3 and
we're gonna Securi we're gonna give it a
name of comments finally and I'm gonna
sing my variable photo ID
it's gonna be an ID and finally if you
don't know what I doing is this thing
right there okay so now I can get almost
copy-paste this thing we have and I'm
gonna paste it there but now the photo
ID we're gonna get that from the
variable right there at the top so now
what I can do this is the thing about a
career-ender it's now we can just
finally get the curry
so we can close it like that and this
one here receive a Kree object so this
is the gate comment you know also
receive a variable object and this
variable is going to be the variable you
pass right there so I'm going to say
photo ID it's equal to the disc that
prop that photo ID and what I'm gonna do
it's now here because it's a render
props we can finally get the loading the
error and the data right there
and now here I'm gonna do curly braket
not a fantasy so now I can do if loading
here I can return an ally a view with
the activity indicator I can say size of
large and for the view I'm gonna just
finally take this route right there
after that if we have an error we can
just return the view with a text and I
think we don't have a text oh yeah we
have a text I don't know why my
autocomplete don't work so I'm gonna
just like that and I'm gonna say here if
we have an error I'm gonna judge json
stringify this error like that if after
this pick okay and now here what we can
do finally it's if we have nothing
before no where everything that mean we
have the data so now we can pass the
scroll view and for just today what
we're gonna do is we're gonna do inside
the text reason that's stringify the
data object so now here return if error
I think is maybe it's gonna be better if
I do this like that yeah
yes lien it's more @p okay
now now just by doing this so here
Oh think about that it's almost like if
when we did the I order component like
that but now we pass the props in the
render prep so what I mean is the render
here the children receive that as a
props and you just I think it just
become more cleaner for the code so now
if I click on this add a command we get
the commands it's nothing so what we can
do here it's because it isn't stringify
we can just say no and to so we're gonna
get some teddy tabs we're gonna be a bit
more pretty so if I click on this one I
get come in with nothing but if I scroll
down and I get the number 1 the ID
number 1 if I click on it now I get my
array of all the comment I'm supposed to
receive so now we're gonna just need to
design this stuff think it's that's it
for this one
so at least we get this working we've
learned about all we can pass props from
the phone from the navigator and also we
learn also ought to be just another
screen and all to use this new career
and ever props I think it's pretty nice
and I hope you learn a bit so we talk in
the next one either goodnight Iran bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>