<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a Twitter Clone with Apollo Graphql &amp; React-Native - Part: 2 | Coder Coacher - Coaching Coders</title><meta content="Build a Twitter Clone with Apollo Graphql &amp; React-Native - Part: 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/EQuimper/">EQuimper</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a Twitter Clone with Apollo Graphql &amp; React-Native - Part: 2</b></h2><h5 class="post__date">2017-07-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tYiGpJGJatE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone
part two so and the last one we left
with the way to make all the tweet
communing from the database so we're
going to continue with this kind of
thing so today what we're going to do is
going to be the basic crud operation for
the tweet so what I mean by credits I
mean create read like other so I mean we
already get if it weed but I want to get
me only one after that I want to delete
an update so this is what we're going to
do today so in the last one we finish I
make a sketch here request and we get
everything inside a graphical graphical
idea so we get every tweet coming in
from the MongoDB database we have right
there where we see when we start the DB
we get the demos that I always so
perfect so now what we need to do so
first thing I think we get every tweet
so now why don't get 1/3 so all we going
to work with that we go to the schemas
first and now here we're going to do so
I'm going to make it at the top I think
it's better to put the singular one at
the top in here I'm going to make use of
get sweet again like the other one I'm
going to I want to return a tweet but
the thing is here all MongoDB can know
which one I want to toggle that's why
here we're going to pass an argument
right there what I'm going to say
underscore ID and now I'm going to make
use of something you maybe never seen
because here I'm using string I'm going
to put ID like that I did what it's ID
if it's another type I'll do the billion
on the SQL and this is for for like this
is the one who they got a cash Plus this
is for that really need to be unique so
that's why it's really good to put that
with ID and so the good thing to put it
there - because it's the ID and here I'm
going to add another thing I'm going to
add that next kamesh
so what I mean here is by doing this
inside an argument I'm gonna say this
thing ear it's required if I don't pass
an ID don't fetch so that's why we have
clearly three awesome with that too
it's you don't need to do like all the
kind of validation in the servants they
always don't why now this thing mean
that cannot be mule so for sure grass
people gonna know this one for sure
going to came to my front for sure i
100% what I mean by that if you're going
to see when we're going to create we
have no choice to having text and the
idea is always build on MongoDB so we
don't need to care about that
after that I'm gonna jump on my food
resolver so this is the way I work so I
do my schema surgeon after that I go to
my resolver so go to the raised over
again I'm going to keep the same the
same pattern so I'm going to make use of
like the same order so get tweet at the
top and now here what I'm going to do is
I'm going to make use of the sign by ID
function come in incoming groups so this
is function equally easy going to find
one item by is ID but all can access ID
so this is where we have this function
would take three argument the first one
is that I ran I'm going to talk about
that later but for now we don't really
need for this one so I'm going to just
put on desk all good at me I don't need
this one after that here I'm going to
have an arch ours is going to be what I
have inside my chemo right there
so that's going to be an object and
because it's an object I can just
structuring this thing by doing this so
I want to only get the ID of it so now
because it's a function I can pass my D
right there so for the one we don't
understand the structuring
right there this is a yes sixth feature
that just means I don't want to do arts
that ID here by doing this I can just
take the a key I create a variable with
the property of the object I just
chewing and now what I need to do I go
to my resolver and you're going to see
so much simple get tweet tweet resolver
get get tweet that's it so now I'm going
to check my turn nothing break perfect
going to recreate so now all I can test
that I'm going to fetch every one I'm
going to take one of the ID and after
that I'm going to make another request
by doing oops
I need to refresh so I'm going to do a
get tweet I'm going to put the ID and
the tag I'm going to take the first one
after that I'm going to make another get
tweet but now I'm going to take the ID
as you can see we actually saw some
already you know to complete for you I
click the ID here and now I'm going to
pass ID right there and I want to get
maybe it's text and it's ID and now if I
said that boom that's it we have it
already working perfect this is what we
want I mean we we add for wanted a tweet
they gave us a one tweet this is what I
want so now when you check out new dogs
and you check in your curry right there
you know get tweet gonna give me a list
of tweets and get Twitter you're gonna
need an ID and gonna return me only one
tweet why add an ID and a text who is
accessible perfect we are as made
another step perfect so now what we can
do so now we can get tweet but now why
not create one it's going to be pretty
easy too so what what we can do for that
it's now going to need to make a
mutation so what I mean by mutation so
I'm going to just type the name first
thing mutation
so think about Curie for the one coming
from the rest convention Curie it's all
about like getting information so think
about you realize it's all about yet and
mutation finally gonna be all about like
everything else so that's going to be
you put your patch you update you'll
delete whatever so when you want to
change data it's a mutation so here I'm
going to create tweet and I'm going to
pass an argument again and I'm that's
going to return a tweet because this is
what
create and now here I don't know the
past an idea like I do there why because
the ideas already built on MongoDB so a
what I'm gonna say is I want to put the
text and that going to be a string and
this is required so if you don't put a
text here I don't push the like there
the key language don't gonna accept
nothing so we know the server don't
going to receive it so now here what we
just need to do is put mutation here and
then we're going to put mutation like
that so that will go to Twitter resolve
our I'm going to put create tweet here
and now I'm going to sit tweet that
create so this is a function from
MongoDB but now which argument I passed
I don't need the parent again but now
I'm going to say arts so the object so
now what I can do look at this
bang I put the full object now so much
you're gonna say oh yeah but you can
maybe send something else no it's
impossible
rescue will block everything for us
you're going to see in a moment so now
we go back to index in the reservoir and
now we're going to test mutation like
that and I'm going to say create tweet
and I'm going to say tweet resolver that
create tweet like that so now I'm going
to research this thing I'm going to open
my dog now again my mutation and I get
my tweet so now maybe you don't trust me
on some stuff so here I'm going to see
mutation so this is how you do a
mutation a cure you can just open
bracket or you can give it a variable if
you want but mutations don't another
chart yeah I'm going to take retweet so
if I sent retweet like that and I know
that you know give me back a texting
like that now I get an error and I say
expect the name sound like IDs like
expect a name so finally did you say
finally we like we miss something so
here I'm going to choose sick text now
and I'm going to say hello
well and now if I type boom yes but do
that really safe I mean yes I see you
have an ID and attack but and that looks
too much easy to make it work and
going to go to my tweet right there and
now open that lol maybe even anything
I've made that before I'm going to make
all that I'm going to search like this
gonna come in air I don't know that one
boom in a world yes
that's crazy like that but the other
question is maybe oh maybe you're gonna
put air I don't know like email so if I
do this email and I send that oh I'll no
argument email boom man we actual it's
so awesome I love it so much make my
life so much easier as a back-end then
or a front-end dev make your life easier
in the to way so so here we are good we
are awesome we can create a tweet this
is awesome perfect
now we did the get with the create so
now may be time to update it because I
type always lol and I'm if you want to
change that again go to your schema go
there type update tweet in what we need
to make an update so if we think about
that that's going to be pretty simple
what we need first thing for sure if we
need to add a ID because we need to add
Vanessa in that identification of the
object with an update that need need to
be unique because exam 35 to use or call
a manual and I say I want to update the
user a manual if I don't use is ID man
we don't know which one I'm gonna update
so here I'm going to be ID and this is
required and now here what I can say is
I'm going to take text I'm going to show
you another way in the future I know you
dare another way but for now just this
one gonna work I'm gonna say tech and
I'm gonna say string but now don't put
this this explanation why because
remember this is require but maybe in
the future we're going to add more than
just a text to update and if we make it
with why are we don't get have other
choice and passing the text to so here
we're gonna say we return at week
perfect so we did one third of the job
here the salon third ear is that go
there we update tweet like that and now
this one's going to be again a function
and we have a beautiful
function call sign by ID and update like
that we can start already by having one
easy one we're going to go there we're
going to destructuring the ID and we're
going to pass it there because find by
ID and update page finally the ID first
and after that the object you modified
so this is the equivalent of sign 1 by
ID but you don't need to say ID equal ID
but now the thing is the thing is all
I'm going to manage all the other
argument to make it away easy to like
scale and do what our stuff so follow
right now I'm going to show you maybe
another syntax never seen I'm going to
say rest I'm going to go there I'm going
to say rest like that what did I just
did if you don't understand this part
I'll add the video in the description
why I talked about this spread rest
operator here but for what that mean
really quick is finally as my ID so if
you think about in the schema I'm going
to add here an object with the ID in the
text maybe I'm going to have something
else so effin unrealistic email string
like that if I see that the rest what
that means now this variable so this
variable yes gonna be this two thing now
so finally arrested all the rest which
is not destructuring so that's why it's
pretty awesome to make use of it here
because maybe I'm gonna have like a
tweet I'm gonna remediate like I don't
know like a number of fly or whatever
you want perfect so now add the stuff
I'm gonna go to my index I'm gonna go
there I'm going to say update tweet I'm
gonna sit which resolver that update
tweet now I go there so now we're going
to need to nine h2k first thing is we're
going to need to refresh second thing we
need to get on Twitter cuz remember we
need to have an idea for that
so after this one I'm gonna take this
one so ki-suh you see the good turn here
I'm going to see mutation let's update
tweet I need the ID I'm going to pass
the ID now this one I'm going to set
text of lol
maybe I'm gonna make it smaller like
that
now I want to get the ID and I want to
get the taste boom
what does that padding hear it when it's
not working what just at them why I
really don't understand but now if I
click again Oh what did you see exactly
now I get I get a no well not yet why
did I tell him to thing I'm going to
show you one thing I'm going to see now
if we go to the DB so I'm going to
refresh here yeah that's going to be the
first one here we get it oh well I'm
going to do a change here I'm going to
say hello my awesome friend I'm going to
sell I get I get it oh well but look at
what happening here if i refresh right
there hello my awesome friend so the
update work but what did just happening
here by default this fine buddy in a
date function don't return the new
object we turn the Oh larger finally so
the way to make it work like we won
because right now that discrete don't we
that make it would just say that I want
to receive the new object so now I'm
going to need to refresh and because of
my mud running on every request I'm
going to need to take another tweet I'm
going to say ID and text like that
perfect so now you see coyote but alas
oh this is the one I'm going to go there
I'm gonna see mutation I'm going to
update tweet as ID now I'm going to say
the famous hello well but now if
everything is work now I'm supposed to
get my arrow wheel back like that
bang now that work so why I take this
time to just show that is because man I
get stuck on this me too so don't worry
about that we all get stuck with all
Google perfect so now we did the create
tweet i think thats one going to delete
you need
pretty simple but and sometime gotta be
that vigorous resolve our we're gonna
make today so air now my daily so first
thing we're going to pass ID so we need
a unique identification to know which
one we delete because we don't want to
do it like a tweet who is not the one we
we just click and now what we're going
to return here that's a good question
because the thing is I cannot say we
turned me a tweet because MongoDB don't
exist anymore so for me I know this is
maybe not the best way but what what I
decided here
Amir I seek type status oops
and I'm going to say next page it's
going to be a string like that and
there's never going to be no but now
everyone I'm going to do and I want to
return this credit so what I'm going to
do is our I just want my friend to know
what happening because if I don't after
then maybe don't understand what really
happening when you delete you don't know
if that was good or not
or whatever so what I'm going to do now
that's going to be the good one so
please follow me with that and I'm going
to talk about that right after so here
that's going to be a delete tweet but
now we're going to put a clip back at
that because we can add more action than
just this one line in this one now we're
going to ask the famous I did a
structure in here but now all I want to
manage that is first thing I want to
make sure we have deleted tweet and
after that I want to return a beautiful
message so I'm going to do this is I'm
going to make use of easy right there so
that's going to be a asynchronous action
and then what I'm going to do is I'm
going to put that inside track app
because if I whenever I want to true the
error here what I'm going to do is I'm
going to avoid tweet that's fine by ID
and we both and I'm going to pass my ID
on it and if this one done so remember I
would stop there and when it's done now
that can go there so what I'm going to
do is I'm going to return and now I need
to return an object with the message
because inside the ski mo smsh
right there now I'm going to see my sage
and I'm gonna see delete success like
that do that do not work we're going to
see it in a moment so now we're going to
go to my index first because how was
almost forget did it week which resolver
that daily tweak died well now if you go
there we need to do an again to game we
need to get every stuff to make sure we
have here or maybe we're going to create
one so that's going to be easy so I'm
going to create one with the text of
hello well remember that we set every
time the the that setup okay so now I'm
in a well I forget to put the ID so I'm
going to just read that back text
now I need to go to the bottom we're
going to figure it out this thing is
after that because like here we have the
lattice then you one at the at the M
perfect I get my own lower right there
I'm going to see mutation let's see did
eat wheat I'm going to pass ID like that
and now I want to return a message
because it's my status again inside your
dogs you can open mutation daily status
really tweet insiders enough if I send
that and that work delete success yeah
but this is true or not so now we go
there we get a get tweet go there with
the ID and tech bang Oh looks like
nothing is there that's it that work so
that was the biggest resolver
so now we are good so we made a crowd
but now we have another kind of error
like I told you I create a new tweet the
tweet go to the bottom and this is not
what I want I want the tweet to go to
the top because that's going to be
easier for my friend and developer who
has all the latest tweet because if we
go to Twitter and you know we salute
with the the new to it going to be
editor because at the top you'd never
going to see some kind of twist like 10
years old
it's always the new one so all we manage
that is going to be pretty Center you're
going to need to go to the schema and
let's remember the TweetDeck schema
going to go there inside after the
liquid Burkett I'm going to say coma and
we're going to put a tank down and we
Nancy - so by default
MongoDB don't have time stem so you see
we don't have time stem but now if i
refresh because MongoDB remark again
remember now add access to update at 3
that so to bake so this day or finally
when we create and when we update so we
can make use of it when we get the tweet
every tweet by that by doing that salt
will take an object where we say the
thing we want to sort it out and I'm
going to say minus 1 so we're going to
get the latest one at the top if you
don't trust me I'm going to show you
again when i refresh so here we get I
get Miller wire that name I'll go
operation then you'll create it at so
and maybe make a mistake that's sort it
and I think that you what I'm a beating
if
like that yeah so finally some time you
need to will refresh more than just one
time so you see not a torch perfect now
get on my tweet now I want I'm going to
create one I'm going to mutation three
tweet text hello well I want to return
the text and the ID just for showing you
perfect it's create so now it all is
working when I get tweet I'm supposed to
get my latest one at the top
bang right there lol at the top my front
end get it map over every item and get
the the latest one other basis perfect
this is what we want that's going to be
much more easy for us to work with
pagination in the future but now we have
the we have the updated and create app
but we don't have access to it in the
front end and what I really like it to
give the most to my front end so we can
make use of it and we may be going to
make use of create app because what we
want to show the date of the creation of
the tweet so that's going to be pretty
simple but now we're going to go there
and I'm going to create app I'm going to
fix three I'm going to say updated app
going to be a string so now if I go
there and now I'm going to refresh so we
move everything after SQL now if that
word into my career I'm going to get the
tweet and now I get pre that and update
up I'm going to see if that works for
real I want to get the ID text create
app update up by perfect this is what we
got but now what happening inside a row
boom on go here on a date but here
because of just real we see this as a
string we got a like EE parse this as a
string so that become like this I mean
this is okay you can put it inside an
object in the JavaScript like a new date
and make it use of like modern GS or
something like that make your life
easier to get this stuff working but
what we can do so that's going to be
good thing to show it here inside of
maybe this
that this one I think that was and yet
this one you have a schema and type
linear if we search with date again I
say here we you can speak to three
specify custom scale or type so example
we can tailor at the type so why don't
do this so what we need to do because
think about that like it's all type of
create and here string I did everything
type created by vascular by default so
here what I'm going to do is I'm going
to say at the top Carol our date but how
can I assist card is going to be a date
going to be easy someone has already
make it for us we add we have QL date
like that
so this graph QL date it's a it's
finally someone has build a library
we're finally gonna say realized the
date and keep it as a big and not put it
as a string because we don't have access
to what they type in vascular so we're
going to go inside the index resolver in
here at the top I'm going to import your
ass QL date from graph QL date like that
and now your what I'm going to say once
a day equal gradual day by doing this
when the actual see the type date you're
going to try to find it inside my ear my
main type death so you see like when we
search these things coming at the
resolver but we add the type death
coming in there and now you're going to
take this date so just for testing that
what I'm going to do is I'm going to go
back to lock allows SQL graphical and
now if I sketch all my date look we're
gonna turn create apt hmm looks like Ian
works too oh yeah
because I didn't put date date
hold the date coming from here and now
if we refresh the stuff here get tweets
I D and just create up-and-up data
example bomb as you can see now the
state as the date and not becoming the
string jism format of the date so I mean
the output if you learn a bit here I
mean yes it's not again we don't have
dual again the mobile stuff but this is
the way we manage it we go one step at
the time the next one now we're going to
make we're going to create the user
certification system in the backend and
so that's going to be able to one I hope
you're going to have a good sleep before
this one so please like share it if you
think that can be good for someone else
and again I'm going to push it to my
report who is inside my description so I
hope you enjoy and we talk neither as a
good night bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>