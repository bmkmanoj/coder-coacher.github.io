<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>M05-04: Design the Comment input and stick it to keyboard | Coder Coacher - Coaching Coders</title><meta content="M05-04: Design the Comment input and stick it to keyboard - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/EQuimper/">EQuimper</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>M05-04: Design the Comment input and stick it to keyboard</b></h2><h5 class="post__date">2018-04-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XgtedCTtNeU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone welcome to the poor
number form this my son five so what are
we going to do for this one it's about
creating inside the common screen the
finally add a command input so right now
when we click add a comment we get there
and we can add any comment so first
thing we want to do also its we want to
hide this tab bar so we're gonna start
with that so what we gonna do is we
gonna jump finally on the on the screen
wherever finally we push this thing
inside a command input so if you type
coming input the component right there
here when we click on these that props
that navigator that push well we can add
it something called a navigator style
oops and we're gonna say tab bar Eden
like that okay and now by doing this if
i refresh my screen and i click here you
see i add this thing but remember now
this view all come in from here it's not
the same so we need to do this also so
now we're gonna save that go inside the
photo car so if you search for photo
card this is the same thing we're gonna
do right there okay so now if i go to a
screen where i've example some come in i
click here add I come in
I've nothing here and now if I click
here view I'll come in we get there now
here I see and never we say finale it's
a 400 so looks like like we missed some
value so looks like the thing is this
coming from this that probe that data
that ID so here we're gonna add that
data so now we're gonna try again I'm
gonna scroll down and click on View all
thirteen come in and now we get it
perfect so now what we gonna do is we
gonna jump back on the comment screen
and this is what we're gonna design that
we're gonna click also command D to
enable reloading so it's gonna be easier
for us to work with scroll down if you
want or screw you can do whatever a
screen you want and this is where we're
gonna finally
this stuff here first thing we're gonna
add is the fragment from react because I
don't want to put a view ear so fragment
finally it's almost like a figure so we
don't give you the design of that basic
view so example in the react web if you
use Frank man you don't get a need to
put a div so you don't get any get a div
inside your HTML so it's pretty nice
because we don't want to get this amount
of thing here after that I'm gonna
create a variable called input ID so
that's gonna be the ID of the input I'm
gonna and you're gonna see why I create
a variable in a moment so I see this
simple I gonna have an a value of 60 and
I'm gonna need to import four other
three other thing here I'm gonna need to
import a text input because we want the
input we're gonna need to have the image
because we're gonna add your guitar face
right there
and we're gonna also have the keyboard
avoiding view right there so when we
click we want the input to go with a
keyboard finally so now here what we
gonna do is we're gonna create a view
below the flat list and this view what
are we gonna do it's we're gonna call
this one star that input section okay so
the this input section gonna add the eye
of the input ID I'm gonna have a
background color because we want to see
it right now real and also we're gonna
put it a position absolute and button 0
left 0 and right 0 and I think right is
like right sorry about my need check my
English entire I mean we're gonna surely
add an area so right it's not just need
to check right or II things like that
okay
sorry about that so now if I click here
I get this thing right there okay now
what I'm gonna do it's inside this view
I'm gonna have my image with the source
I'm gonna put my figure that I have
inside my youth self constant folder
right there so remember to figure that
out just for now so figure that out
so here we can put the source you re
figure that out and now we can add a
style of avatar and for this one what
we're gonna do it's we're gonna need to
import the value from the youth SEAL
team and that's gonna be make a circle
and we're gonna make a circle finally
and we're gonna save 40 now if I click
we see the face right there okay after
that this input section it's gonna be
really important to add effects
direction of row because next to it next
to the image we're gonna add a new ear
and inside this one we're gonna have a
text input okay
placeholder we're gonna add a comment
with Twitter like that so now this is
where we are now I'm gonna create your
my input wrapper for this comment and
remember all our work I put some really
really a big color so that is we see
where we are
so now this input wrapper we're gonna
want it to other width of 85% of the
esperen also we're gonna want it to have
the height of seven T percent of its
parent like that after that ear inside
the input section we're gonna need to
put justify contain space between
because we want to push down you don't
want them to be next each other after
that we want to have the a line item
Center so now they're gonna become at
the center right there
and also we don't want them to touch
each side so we can put padding or easin
towel and we're going to put a 16 so now
they came much together and as you can
see because we use the will you get 85%
of espera and - the 16 so finally at the
parent get the many 16 so after that
what we're gonna do is we're gonna
create an input ear and the only thing
we're gonna do with the input is we're
gonna put a flex one and by doing this
the input now gonna take the full
suspect okay and now you see when I put
the keyboard we don't get it but don't
worry about that you can click command
key command key or control key item we
don't gonna see the input keyboard
anymore and now also we want this thing
so I'm gonna just remove the RAM we want
this thing to be twelve some
border-radius okay so the input wrapper
we want em to add a border radius of 25
25 we want the border weight to be
really really small so what we can use
for that a stylesheet that airline with
its really really small if you don't
know what is that you just put your
mouse here and this is for define as the
width of thin line of the platform so
finally the thinner line of the platform
and for the border color we can import
from the team de color and that's gonna
be the color that light gray we have and
now we can remove the yellow but now you
see the text touch the side but this is
not what we want so we're gonna add the
same padding or is on top right there
and now boom now I don't touch it
after that we want to have like a little
line right there at top so what we can
do it's we can have the same border
width but that's going to be border top
width so if I do this we get a border
top but we want a border color for this
one and that's gonna be the same one
here okay so now we have that but now I
want my keyboard to follow this thing
okay so when I click here right now I
mean this is not what we want
so with keyboard avoiding view what are
we gonna do
it's we gonna put that right keyboard
avoiding view we're gonna wrap the input
section with this okay
so right now if I do this and I click
nothing happen I need first thing to put
a behavior and behavior we have access
to ID position and padding so I'm gonna
click behavior and I'm gonna put padding
now if I click nothing happen again and
why it's because we're gonna put a style
here we're gonna call this one avoiding
view avoiding view and now this avoiding
view right there below gonna have this
position:absolute right there and
because this one is the pattern of the
input now when I click you see we see
him move back a bit okay
and now forgetting that because right
now thing about this is right there on
moves so what we can do is just put in a
keyboard vertical offset and putting the
ID of the input now if I click and I
click now you see it came with us so now
if we go example at the the the last
screen where we have the text and I
click you see now this is where we want
so here you you can scroll but now this
thing glue the keyboard okay
so first thing is that yeah but now I
would like when I click here add a
command this thing to open maybe you're
gonna say oh yeah just put that auto
focus right there it's not the best idea
right there so if i refresh and i click
on add a command look at what its gonna
happen
you see this flick the thing is this
auto aim the thing happen is the
component is mouth because auto focus a
pen on the component in mouth it's
before the screen appear and because of
this we get this flip so now one of the
question maybe it's okay so how can we
do this so we're gonna need to use ref
okay I don't like to use real but
sometime we don't have a choice and
we're gonna say this input equal real
for those who don't we say why don't use
create we're from react it's because
we don't use a 16 we use 16.2 and this
is 16.3 okay so now we have here this
ref what I'm gonna do it's inside a
component in mouth I'm going to control
load the input okay now I have my
debugger I'm gonna refresh my screen and
I'm gonna just I think do a stop visible
at willow and I'm gonna say enable live
reload to live reload is going to be
when I say so now if I click here then
input is on that phone because it's too
quick okay because we don't get the ref
yet so what we can do is we can put that
inside a set timeout and we dance it
just one second okay and now we're gonna
do something like that and now by
clicking here now I get my ref and now
inside my ref I'll all a function this
input can add and one of them its focus
so now if you just put right there this
that input that focus like that and I
save and I click now look what's gonna
happen I'm gonna click in the open after
one second so now you see at least you
open so now you can maybe go down a bit
so 500 oh no if you click now we get
that again so I think one so I'm gonna
be good enough I know this is kind of a
keyword but at least right now you're
gonna work for us
not our thing okay it's right now the
keyboard say return so we want to change
it I mean you don't make any sense so
we're gonna say return key type and
witnesses sin so sounds going to looks
like like you send this comment so now
if I click that and I let him open now
we add the same so what now what I want
it's what I click cell I want to be able
to send a comment but for that I'm going
to either keep track of what the common
value so what we can do is just create
inside the state come in you put the
value gonna be cool to the comment and
now remember what I teach on other
son eat if you do this you're going to
control it but you're gonna need to
allow unchanged because right now if I
type nothing happened because this thing
equal the state and their state equal an
empty string so what you need is to have
the unchanged text don't unchanged
unchanged text when we use react native
so the end they'll change right they're
gonna add here the comment and finally
we can do is that set state the comment
like that now if I say and I rerun this
thing and now I start to type we have it
and just for showing you that work we're
gonna add an a love it okay and we're
gonna create a function here called on
submit and this on some you're gonna
call the alert and we're gonna say your
command is and now we can put the
comment right there also after we submit
we want to put back the comment as an
empty string because maybe you want to
add another comment and what we can do
this is we want this when you click send
so we have access to this by clicking on
on submitting editing and we're gonna
add the on submit right there so now if
I click on add a comment I let it move /
I say hello world and now I click send
you're coming is lol that's this is what
we want and as you can see also we can
click outside and I close the keyboard
and this is really what we want so if we
go there we have the layer so I click
here and now if I click outside so you
get down perfect so my thing will be
this for this video so here we have
learned about all to finale and passing
props to the react native navigator a
navigation where we can finally add I'd
the tab bar also we have learned how to
get an input will glue to the keyboard
we learn also ought to use the wrath and
all to use this ref2 finally focus this
this keyboard and one thing it's maybe
you asked okay but why this focus take
this Saigon it just because right now
it's kind of a queue we because we are
inside the curry component okay so one
of the thing we can do in the last in
the next one if you want to so it just
to get this keyboard right there outside
of of him so I mean we can I'm pretty
sure we can do this right now so I can
just do a fragment you put the frame and
there below you take this keyboard stuff
you get out of the fragment right there
and now you can put this right below
right there okay so now if I think
that's gonna work that gonna still work
the same way but now you can remove the
1000 and use 500 so that mean no but why
it's better it's because like right now
this tree okay right there the way we
was and all that it's we was after is
loading so example if your back-end take
more than two second example you don't
get a city keyboard came out why it's
because this flat list right there don't
gonna be show like all this part don't
gonna be show so I think it's better to
put it below ear so I hope you've
learned something new and I've learned
something new with that ear so yeah so
al ago night and we talk in the next one
bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>