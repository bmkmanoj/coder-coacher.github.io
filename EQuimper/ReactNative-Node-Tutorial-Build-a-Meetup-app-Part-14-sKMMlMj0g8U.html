<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React-Native &amp; Node Tutorial - Build a Meetup app [Part: 14] | Coder Coacher - Coaching Coders</title><meta content="React-Native &amp; Node Tutorial - Build a Meetup app [Part: 14] - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/EQuimper/">EQuimper</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React-Native &amp; Node Tutorial - Build a Meetup app [Part: 14]</b></h2><h5 class="post__date">2017-05-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sKMMlMj0g8U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I know everyone we are in the episode 14
so what are we going to do today it's
this size thing right there so we're
going to set up the ETI for be able to
tall to the back end for the login part
after that we get that set up
finally all the redox flow so the action
we do sorry for the logging part after
that we can set up the Google out of
Education we forget in the backend
there's going to be a 10 line of code
after that we're going to make the first
logging and finally we can add the
loading screen and we get a step there
and continue in the next one
so we're going to continue so now time
to go to an API gso you can search a
PIIGS
right there so now we're going to king
some of the stuff here if you place what
we do a console we're going to the error
that may be a bit better
exactly yeah you're just missing a like
this I'm gonna king that perfect look at
it better as already opened I've already
opened the app so you don't going to
wait for me to run it so I'm going to
Google Chrome just to get me some cpu
perfect so now here we're gonna clean
another epi so I'm going to create it
right at the bottom so that's going to
be clouds use our API with a constructor
concept so we're going to just set up a
pad so finally almost like what we did
right here here sorry so here we're
going to seduce that Pat going to be
equal to that slash user like that after
that we're going to jump here we're
going to say async logging I'm going to
take from argument we're going to add a
try/catch when we have an error we're
going to true it and after that here
what we're going to do is current data
so we're going to destructuring the data
coming from the response from Axios I'll
wait X here that both so this is a post
and what we do back tip we're going to
put a variable this at Pat so slash
users slash out 0 though the role we
create in the back end after that we're
going to send the argument with this
that's the only thing we need to do here
return the data ok now access to it
after that we're going to export current
user equal new user API why do this
because we don't going to need to
initially the class when you're going to
import it after that we're going to jump
back after this to the action so we're
going to search for action oh I think we
didn't create or if you go each other
out we can a great action the GS in the
application folder in this folder is
going to be really simple
first I'm gonna import the user so the
thing we just create content API after
that here we're gonna do a login content
like that we can do shift command D from
here because I have to cursor that's
going to do I'm double like that I'm
going to put my mouth here I'm going to
do command D command D to get the other
one I'm going to do right arrow and I
thought I'm going to do slash underscore
6 here escape I'm going to take my login
I take the other one with coming be
right arrow error so that if you want to
jump from this line to the bottom you do
to come in and talk now I'm going to
create 3 function the first function
going to be when we add a successful
logging success you receive some data
and which we're going to return it's an
object where we're going to have a type
of logging success use are going to be
called data that user and finite token
going to be equal to Delta that okay
because remember data is going to be an
object after that here I'm going to call
another function called logging error
gonna take an error I'm going to return
an object with just a type of plugging
error and going to only return the error
with because es6 QR you say we don't
need to do nothing more after that year
we get an export function why we export
this one because we using the duck stone
so without storing let you able to calm
on and one function inside you find a
thing you dispatch so hey what I can do
is I'm going to import only one function
but this one's I'm gonna talk to the
both ear so login again I take the token
and a provider from ad are going to be
equal to Facebook or Google other I'm
going to return anything function with
the dispatch coming from redux tone and
remember this is a middle word so we
have access to this just because we have
at the tone after that year first thing
we do dispatch type of logging why I do
this because I want to maybe show us a
loading screen or something like that so
if I dispatch at the beginning here
that's going to be easy for me to say
loading through try-catch when I the
neuron I'm going to ear return dispatch
dispatch and I'm going to return my
logging error and I put my error in
because I remember to ever go there here
when I have a good when it's good
finally I'm gonna do cons data so this
is the data we receive always use our
that logging so finally we call without
here we need to same argument for gonna
send an object err so because this is
where this is what access want to sell
I'm going to send a provide our ear so
that's going to be equal to the provider
from here remember provide are going to
be called to Facebook or Google and then
finally we're gonna return the dispatch
login success and we put the data in and
because this is easing away this line of
code never when that's going to be done
that's going to join here so we know
we're going to get better because of
this thing here so perfect we set up the
action for this that time to jump to the
reducer so at the top of the reducer
we're gonna import the three function we
just add a three a type we just create
so we add logging logging ever and again
success
after that here I'm going to create a
variable called initial state I'm going
to be equal to is login so I'm going to
change blog yet to be is log it it's
much more exciting when you have a
boolean to add is log it so I'm going to
change here inside my app navigator so
you can type at navigator I'm going to
change my dis that prep user to be is
log it more easy to know oh this is a
boolean because the other is in front so
and I and I do example when I want to
have an airway I'm using it when I have
an average I'm using always a pre real
name I'm going to just close every
window and we're going to reopen the
reducer oh it's perfect so here we have
it again I'm going to do is loading be
false token to be no info so the user
info gonna be an empty object and ever
going to be no after that my states are
going to be equal to initial state so
now it's time for me to write some case
so here the first key is going to be
equal to logging the only thing we need
to do when it's lagging it to returning
the object or right now but we're going
to change is loading to become true now
because we want to show the login screen
so that's why I'm calling right here
after that case logging success going to
be returned can we edit with more stuff
say we keep the object so we're
returning finally the object lucky you
know right now but here we're going to
change easily get to be true now is
loading to be false token to the action
that token okay right here action that
so we can action that I action that user
action the toga and info going to be
equal to action the user
and finally when we add an error looking
around I'm going to return the duck
state is loading it's false yes we have
an error but deluding its finish and we
are going to be equal to action that
error perfect so now we have the reducer
create for this we have already plug-in
so now we're going to need to put it
inside the loading screen going to be
really really simple to do we jump here
at the top we import connect from redux
so import connect from you aqueducts
after that ear I'm going to do some
space I'm going to do we import logging
from action 5 here below below I'm going
to connect so I'm using the decorator es
7 feature is the same if you do a yes 6
you can do with the export default below
and but because I'm I don't want to
compare it's too much code I'm going to
do under fine and I'm going to do
logging so I don't need to this and this
structuring the login from the dispatch
after that there's going to be really
really simple we have already done our
fitting here so finally when we have the
success here the only thing we need to
do is this that probably logging and we
pass the token coming from here and
we're going to say the provider going to
be equal to Facebook L so we're going to
just put our else we're gonna throw a
new error just saying something wrong
with Facebook out just to let us know if
something happen but that ear inside the
Google remove here we're going to say
this that props the logging the token is
coming from result that access token and
you're going to see Google nothing more
to do so this is set up so now after
that I'm going to just start my back-end
hopefully I don't gonna get problem I'm
going to say
yarn build watch in the other it does in
the back end we're going to do a lot
more in the back here we're going to set
up wet back to run the server going to
be a bit better and we get a recycle
August of I did a lot of new GS in the
past three to three to three weeks and I
want to give you some of my knowledge I
got so I'm gonna show you all this so
now I can talk to my back-end so what
I'm going to do it's now I'm gonna run
connect with the Google and I'm gonna
just do something in my back end it's
online
yes I forget to do this is what I told
you we need to create a Google out here
so finally because we forget we did the
Facebook other that's kick at
application but we forget to make the
the backend one it's going to be really
simple we have already done yet on the
Facebook so that's going to be almost
like the same thing here we can already
copy/paste this two line here today what
we're going to do is export a sync
function Google out take a token and
here the only thing you do it's a
try-catch when we add an error we're
going to return this error and ear we're
going to rip current data equal avoid
axials that get and now UK TTS this
Google API some user info come use our
in for /v to slash me yeah so not here
you're going to put others out there is
a shin can be called too so this is
finally there are a certification there
so this is equal to beta
and to care then we return the data
returned sir you don't get user info
data and we put Google remember inside
get user info so you can do command
click individuals Duke John data in
provider so if it's Google we take the
give the name familiar name perfect so
now we have done this so now inside the
controller we just need to change one
thing first thing here that's going to
be is our we're going to do a log react
that body we're going to see the body
sent here we're going to just say I'm
going to do ship command D copy paste
this line and do Google out and air I'm
going to do user info equal avoid Google
out and I'm going to pass the token in
there after that when I'm going to
create a user I'm gonna load you sector
sector effects so the way we're going to
reflect that later I'm going to clear
I'm going to do a login so this is what
I sin I sin and now you see I get a
error don't worry this era we're gonna
change it it just because react
navigation has changed so much and I'm
gonna take almost like a 10 minute to
just change it but we're going to do at
this I'll do this in the next one but
here you see okay so now something go
wrong it I'm defiant Quimper that's
supposed to be my name but we get
something wrong here and air we have my
email and my provider my UID this is a
coming from the MongoDB so areas that we
use are we creating the MongoDB and this
is what we send so you see that's why i
loving my lord I put in my new pet it I
can see really easy so here is the token
I sent to the front end this is what I
got you got like the token and the
providers coming from the front end so
this is the front and center and this is
the back and receive and other back-end
send the information to the front end so
the GWT and now that's why now the
logging it's working so now if I open
the remote GS
so open I suspect are in Aisle all
you see my lawyer now Rock work I get
logging success but after I get the
error code of the reg navigation the
only thing we can add is we add some
waiting so now what I'm going to do so
I'm going to close the remote debug
because I have a really a bad computer
so I'm going to jump after that to my
phone in here in the login screen now at
the top I'm going to import from Chrome
on here
I'm going to import my logging screen
loading screen but before that I just
want to change something here I'm going
to put color props and I'm going to just
add this color props if I have no color
I'm going to just make it to be great
so like II already are so now here what
I'm going to do is I'm going to take
this space I'm going to do state maps it
to props right here
I'm going to do is loading I'm going to
take it from state the user that is
loading and I'm going to go right here
I'm going to do if this that props that
is loading I'm going to just return the
loading screen and why did the color
because here I want it to be red color
red colors now if I connect Gooding and
now I'm going to get the error perfect
so this is what we do today so we plug
the Google Earth application don't worry
the Facebook work to it just I don't
want to like show home but that's work
as we see but it's work too so finally
what we did is because of the refer to
function we create inside the inside the
module here we have a function called
final create so if you find the user we
send back the user but it is not we
create the user so so that's going to be
all we get add this is what we're going
to do area I just think we have an error
I should do let use on here
but don't worry are we going to do this
in the next one so hope you enjoy and
the next one we're going to set up much
much more of the back end I'm going to
work a lot more there to make it a bit
more better and we're going to jump to
in the front end to make the react
navigation working again because it's
not like it's not Michael I mean they
change a lot of their API so I hope you
enjoy please like subscribe if you liked
it and their share to your friend if you
think that can be a good for them and I
hope you enjoy and again inside the
comments I try to end for everyone so if
you have questions let me know
as a good day bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>