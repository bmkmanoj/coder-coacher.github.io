<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>M04-Intro: Milestone 4 intro | Coder Coacher - Coaching Coders</title><meta content="M04-Intro: Milestone 4 intro - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/EQuimper/">EQuimper</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>M04-Intro: Milestone 4 intro</b></h2><h5 class="post__date">2018-02-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-MAsg4UFzCs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone welcome to this milestone
for introduction so for this video we're
gonna check what we're gonna do for this
next milestone as you know and and what
I say in the last episode we're gonna
work on the fact that now we want the
user to create a new photo so this is
what we're gonna do for this milestone
so so finally here you're gonna learn
all to create pre-sign URL using Amazon
s3 and Alex AWS library so the plan is
gonna be about we're gonna work on the
back end first we're gonna make use
we're gonna create a user in the Amazon
a.m. and stuff like that after that
we're gonna install a library EAX AWS
we're gonna create a pre assign URL
we're gonna get it from a curry after
that inside the query we're gonna send a
present URL plus the real URL and
finally we're gonna create a mutation in
the front end we can save the image with
the URL after the image have been upload
using an XML request and so here for the
XML request I think it's the most easy
way to send an image from react native
for the pre-sign URL for those who don't
know all that work is its now you don't
send with that you don't send your image
to the back end and tough like that what
happened it's your back end create at
you a present URL finally a URL who can
be accessed for like maybe a minute if
you if you say like I want it to be just
a minute
and you use this URL and you push your
image right there so finally what
happened it's Amazon create already like
a file we wait you to be to upload so
it's almost like it's a put request you
put the new image and you just overwrite
what they have put there and after that
you will need to also have created a
real URL because this person URL after a
minute for us
gonna be a delete anything like that so
that's gonna looks like this you have
it's not it's a old one but you're gonna
see so this is what we're gonna get from
the from the query we can add have an
object press an URL in this one we can
add a URL in the upload URL upload URL
it's gonna be wet we're gonna push the
image to it so as you can see we see now
they we push an image with the ID so you
see a zero blah blah blah point GPA and
this ID is going to be the same when we
have inside the real URL so here is the
real URL we're gonna save in the
database so you see s3 amazon.com my app
we're gonna put that as a beta and now
you're gonna have an ID plus G dot JPEG
because it's gonna be any mate and this
upload URL here as you can see is the
one who can expire and finally it's this
code here I'm gonna go inside your XML
request and now you can push your image
to this this stuff so find anything
about thing about it's like your
back-end give you a pass and you can
enter it for this amount of time if you
miss it you're gonna need to ask again
another present URL this way I think
it's just much more secure because the
backend keep all the secret all the key
and everything like that and the
front-end don't care about that the
front-end don't even know what happened
you just get their prison URL and just
do whatever we ask him to do so I think
that can be pretty awesome and we're
gonna learn a lot and as you and you're
gonna see the XML request it's gonna be
pretty simple to send an image in your
native because I know a lot of people
didn't really know how to do this and it
and they talk about like using blob and
thing like that
yes I'm good with that but I mean for me
I think it's an L request it's much more
simpler and you're gonna see is gonna be
out almost twenty line of code so so I
hope you and you enjoy this serie and I
hope you're gonna enjoy this next part
so we're gonna talk together bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>