<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>M03-Part3: Getting a boolean for the ViewerLike field | Coder Coacher - Coaching Coders</title><meta content="M03-Part3: Getting a boolean for the ViewerLike field - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/EQuimper/">EQuimper</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>M03-Part3: Getting a boolean for the ViewerLike field</b></h2><h5 class="post__date">2018-02-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Smbuqy9Nqfo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone welcome to the porn
number three of this third milestone so
for this one what we're gonna do is
we're gonna manage to a boolean in the
front end to show if the user liked or
disliked a photo because right now the
thing work but all the front end can
know you have liked or not so this is
what we're gonna do so open your server
side and go inside the reaction inside
the reaction reaction so I mean inside
not inside the web interface but inside
the reaction business logic right there
inside your context and now what are we
gonna do here it's gonna looks like a
lot like this warm but some some like
you crazy gonna look almost the same so
it what we gonna see it current view
that God we're gonna create a function
called view or like follow this one what
are we going to need to add it's the
same thing as the one at the top photo
ID user ID here what we're gonna do is
we're gonna create a query so from the
in like photo we're feed that photo ID
equal equal the photo ID variable we
have it at the top and P the user ID
equality quo user ID like that and now
here what we're gonna do is we're gonna
create another result what we're gonna
say we pull down one and we're gonna put
curry
now if result equal quad Neil do and
else here else if you don't like it we
just return okay and false
no I mean else that mean you have it you
like it here if it's near that mean you
don't like it nothing more to do you see
it's pretty simple for this one so now I
just think what we should do is create a
function with this
called ear just to remove it so we can
say the FP deaf T and what we can say it
like photo exists or something like that
whatever you want and now this one gonna
take both attribute the photo ID oops
photo ID in the user ID we're gonna pace
down this function here but now what we
can do is we can just back like that
with the you can back like that with a
career like this all were what you can
do also is just type this one to this
function like that if you want I think
for this one I would yeah I will keep it
like that so now what we can do from
here its ear we can just call finally
this function we can pass the photo ID
inside this one like that and doing the
same as this one right there and we like
that so you see and now I like to have
all my private function at the bottom
oops like that just to make sure
everything work we're gonna just send it
back and now you see we get some kind of
error and now this are gonna mean we
pull at one is not a valid crew
expression so now what happen what I pin
right now it's three it's so what
happened it's so if we look I think the
program a pen it's cause of the way we
have and all that so if you want to do
this work you should put that here what
I'm gonna do for me it's just putting
that like that and now it should work
yeah okay so now this view are like
we're gonna return the same thing you
can use a case statement I think I'm
gonna maybe show that in the next
Pizza well we can do this with a case
statement and looks like more what Alexa
gonna ask you to do and like this kind
of way of building your application here
so now we have created the logic about
this so now we need to use it inside the
resolver so go inside your resolve our
reaction another one with the same name
you are like follow this one gonna take
all what we have here gonna say do this
one we're gonna do the same almost the
same thing so copy place the weight here
and that's gonna be again a message
gonna be I can a boolean but now even
that's gonna be the viewer like photo
like that so you see this is what I
really like about doing this way it's we
keep the resolve are really really dumb
the resolver just do whatever like you
do in the reaction finally just return
the result and hearing this is your
business subject and why we do this it's
because maybe you're gonna want to
create a REST API with a rest endpoint
because I don't know like you have
create don't know like you decide you
don't use graph QL and you in for your
admin example you want to use your admin
with REST API but you can still work
with this one here see what I mean
so now what we left to do it's first
thing we're gonna go inside the schema
and the post type and are we gonna add
inside the photo because the plan of the
this one it's when we say for photo we
want to have your light here so we're
gonna say feel viewer light and we can
say it's gonna be a no newer boolean and
now we can say adieu here so that's
gonna be a function and this one gonna
resolve the resolve our dot I think I
wanna post I don't know why my to
complete it's not working right now okay
I know it's because I need to well yes
it a yes Instagram where that resolver
perfect so now I can get resolver that
post no resolver that reaction that you
are light like that and now we say three
year because we're gonna pass it the
tree argument okay so now what happen
it's not if i refresh my screen we're
gonna get inside a get four to the view
wall are no it's not exist yeah I know
one it's because yet well you see we
make a typo you like but it's view or
like we want so we're gonna change this
one to be viewer like sorry about that
why don't you refresh your screen now
oops
now we have access in the photo to get
the viewer like so now if I run this
we're gonna get an error and now they're
gonna say here we don't get it to match
to matching anything like that like you
see like new function clothes in
Instagram reaction you are like blah
blah blah so now we need to manage this
ear oh the program attending it's the
way we haven't done that in reaction
wasn't that good because the photo ID we
don't get a get the photo ID as you can
see now the way that work is the post
type ear like it's a fill I mean it's
not like we have here an object schema
where I finale and that ear but ear yeah
like where you have your arc is actually
right this is not the way that works on
now that's why we're gonna use this one
here now it's going to become you unused
but the ID gonna came from ear so if you
have is you know like in graph QL this
nm an ear become like the parent so
that's gonna become like example if I
fetch ear these unusually one second
when I just put it there time refresh my
screen and do this ear so this thing
like this element ear become like right
ear
oh no you want to use this ID because
that's gonna be the same photo now
that's why now you can see if you were
like you know if you run it you see we
get follows true true false false fault
so just for showing you we get their ID
number one I'm gonna came here and I'm
gonna
like this this one and now if I rerun
again you see I get true so now we can
get that in the front end so what we're
going to do it's now jump in the front
end and now you know now then your data
so if i refresh my screen and I click on
the light ear we know the data and now
sorry you like me I'm gonna say this
that props so now we're gonna see it
so now if I clear that and now I like a
photo you're gonna see now inside my
data I don't gonna don't gonna help you
because I didn't what's up there is that
props that day I just get like photo
what happening right now so why am I now
trying to go too fast sometimes so this
that props that data now if I like yeah
okay so looks like my this that props
ear don't show okay I'm gonna stop the
debug GS I'm gonna be running it looks
like my code it's not it's not changing
anymore
oh can we test the tire route here one
gonna put a background color for now of
real just to see that gonna work as you
can see I have no in the back background
color it's not working anymore so I
think I'm gonna just check in my here
yeah so the web circuit have closed and
I rerun yet sorry about that
then every run from here sorry about
that
I think it's good maybe you can see all
2d boy I hope at least that gonna be
good I don't think so because we don't
have so the thing I've changed or what
you can do and something happen like
that
I think the best bet will be to clear
Watchmen and just we run start so you're
clear Watchmen so that gonna remove
everything you have done everything I've
been saving wash man and now you can
just rerun the application
and something is really really where I
know now I think the best bet goes this
one open it sorry about this
I have no error as you can see
I summon ether
okay we have see the background perfect
whoa
okay no it would be no who is supposed
to work okay yeah you see now we have
the data perfect inside that I have the
idea image URL and caption now you may
be asked okay yes but we don't receive
the viewer alike remember this is a
graph QL you need to ask him for that so
what you need to do is go inside you in
Delta GS not Ihram but inside the screen
feed screen right there while we create
the photo here put the viewer light okay
now refresh your screen I was in the
feed screen if you didn't know and now
if I click you're gonna see them now I'm
gonna get this viewer like right there
with foul
now if I click again now if I click
again now you're gonna see gonna still
be false but this thing we're gonna need
to manage it for for us but for now what
we can do with this one we can get here
and now as you can see we have the meta
so the meta its ear and this is the one
let the meta by the action BTN this is
the one who have the earth so what we
can say is we can say viewer live day is
that crops that you are large this thing
gonna give us a boolean inside the
action BTN s action be attained BTN s
now add this boolean so what you can do
it's now we can change this earth right
there you can change the color in
whatever so one of the thing I like to
do for that it's I can say like get like
icons where I finally this one what I'm
gonna do it
if this that props that you are like I
doing something else I do something else
now this one here was one we didn't like
it and when we like it when I want to
maybe do it's maybe I want to remove the
outline for now okay and now I'm going
to just remove this one here and I'm
gonna call my function like that okay
now if I do this and I refreshing my
screen now when we have like F
a photo I'm gonna refresh okay something
is wrong again these are props that you
are like
you're like it's true now or now we
should be with this value looks like the
earth is not changing maybe if I put a
color and I put real example we're gonna
see if we get a change looks like
nothing happening so looks like I have
something really wrong I'm gonna back be
back in one moment
oops looks like I'll figure out look
what happened I'm making me stay I take
that from this a prop that you are alive
but this is from data sorry about this
this is the life cutting this is what
happened and now we are supposed to get
it when it's like you see right there
it's like this one it's supposed to be
like now if I click and if i refresh my
screen we get it to be like now so this
is that phone I think the only thing I
don't maybe like this real and so I
think I like more when it's just plain
blue like this yeah so now we're gonna
remove this props all right as you can
see the light is working but man we
don't want the user to do something like
that click here and maybe you can do
this come back you see can click here
because this thing refresh the screen
you see boom let me refresh the screen
but refresh the there we go so hope you
enjoy really sorry for all this mistake
I mean it's that thing about like
wedding so in the next one we want to
when I click here we change this stuff
in real time I hope you enjoyed the
series right now yeah yep and we talk in
the next one bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>