<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React &amp; Redux Tips and Tricks: Redux-Persist | Coder Coacher - Coaching Coders</title><meta content="React &amp; Redux Tips and Tricks: Redux-Persist - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/EQuimper/">EQuimper</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React &amp; Redux Tips and Tricks: Redux-Persist</b></h2><h5 class="post__date">2017-09-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yaVs--Nhuio" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone welcome to this little
video about redox process so I've get
some question about redox process and
why I use it and stuff like that and I
was thinking about just making a video
about how awesome this library can be
with your project with react and redux
amo I mean you can use it with other
thing than react for sure because it's 4
V dog only so you know you can use video
to tangle or blah blah blah so you know
what I mean
so this library here it's for persisting
you store and we do it you store why use
it is because example if you use the
local store it or something like that it
can be pretty hard I mean to always get
your stuff in there simple units of
getting the is in storage and stuff like
that and as you know when you build an
app which Redux and you refresh the
screen you lose all your state so this
is where redox process can come you make
your life really easy with redox to
persist your stuff so this is what I'm
gonna do I'm gonna put this link in the
description don't worry about that
so here I've created a little
application where it's not an
application I know but it's really
simple it's using videos and stuff like
that it's here you see the initial state
so the app where they do its here you
can enter your name so for example Jon
Snow and when I click log now and now
logging and I'm a user name of Jon Snow
right there
and also I can increment and I can
decree meant the count why I'll show you
that is because I'm gonna show you what
you can do for filtering some reducer so
my plan with this little video it's to
show you then you can persist some some
reduce are the one you want only and you
can filter like the other one and also
or you can purge and make sure then you
you lose everything inside your store so
you see what it was you don't persist
why use it it just because you're gonna
make your life so much easy to process
some of you store your stuff and
redirect your store finally also I'm
gonna show you all to install yet so
this is what
we gonna do so just go to your command
line when you build your application and
the only thing you need to run its redox
persist yarn add Vidocq persist nothing
more it's that crazy one little library
that's gonna be just awesome you're
gonna see
so now after it's bill go inside your
store while you create your you doc
store finally another top of will you're
going to need to import from redox
persist the thing called Auto we e
direct so as you know that's gonna be
the thing about reiterating your your
store this thing you you're gonna put
that here inside this compose if you
don't use compost with they have told
what you can do it's take compost from
redox and change the compost with death
toll like that so that any you're gonna
just compose many function inside your
store just by doing this this compose
with dev tool it's because I want to run
my state right here inside the Redux
store debugger so now we're gonna see
that you know just work but this is not
the only thing we need to do now we're
going to need to go to the app so we're
the app it's starting and this is where
we're gonna do some kind of logic and
you're gonna see it's gonna be pretty
really easy logic so in what I'm gonna
do is I'm gonna import Percy's store
coming in from redox process so proof
sISTAR air it's finally the function
we're gonna process we're gonna finally
we do it you saw at the beginning of
your application so that's why I told
you go to app go to your main enter
point go to the first component of your
application after that here because I'm
using react net sealed I'm gonna use the
local storage but here they show you all
to use it like acing storage for being
let's see block alpha rage for the web
blah blah blah so you should really read
this stuff
so now I'm going to show you about the
easting storage is in storage is the
storage we have accessed in react native
so easing storage coming in from react
native I mean I see why because II what
I'm gonna do now is I'm gonna come on my
component in mouth so when the component
mouth finally and I'm going to call the
function persist or this function need
to add three argument the first one is
gonna take your store so the video is
also the same store as you provider
right there also we're gonna need to
receive an object inside this subject we
can pass storage and the storage is
going to be equal to my easing storage
so for you if you came from the web or
something like that that's going to be
maybe like local 4-h or something like
this after that here we're gonna have
access to our callback right there so
what I'm gonna do is I'm gonna just make
it a bit easier to read and now here
we're gonna have like a callback method
and here what I'm gonna do is I'm gonna
create a state here who's gonna be is
ready so that's going to be about my app
is really onna
what I'm doing this is because this
thing can take some amount of time so
what I'm gonna do here is I'm gonna say
when it's done - just set stay my is
ready to be true and what I'm gonna do
for now is I'm gonna just take the
uploading component from Expo if you use
the web you can just put a h1 loading or
whatever you want it just Erie I just
want to make my life easier
now what I'm gonna say it's if this that
state that is really it's false I'm
gonna return
the uploading component so now I'm gonna
do this and now I'm gonna save and I'm
gonna just check if my debugger I'm
gonna get some error one sec take some
amount of time I think it's maybe
because I'm because I'm doing a video so
we take my computer is really slow right
now looks that we have no error but you
see here we get we Dre the function I
get that because I have a Doc's folder
and you see here the Taillow the payload
was nothing
so now don't you baby sake I'm gonna
increment some stuff here so you see my
style it's 13 and now I'm gonna refresh
this thing and now what happened I keep
my 13 yeah because redox process now get
your state and we turn you what you had
before so my convoy rittany key pass to
thing if I now say your mind usual is
gonna be John snow and I'm logging and I
submit now my cones gonna be 10 and I'm
refreshing my app you see the videos
process 10 log true Jon Snow
so I get all the filled the feed and you
see it's all about because my payload we
turn the contour and the user info and
stuff like that
so by default if you do like I just show
you redox process gonna fill all your
reduce or when I mean like that it's
inside my index at GS where I do my
combine video so add access to to reduce
our user in cantar because I told my
redox process to juice nothing like no
option you're gonna feel everything but
this is maybe not what you want you want
maybe to just keep the user you reduce
or to be the the only one you save so
you're gonna say white list this is an
arrow and you call the name of your
reducer so
I'm gonna say user I'm gonna refresh I'm
gonna just what is the user now what's
gonna happen it's as you see now I'm
gonna get a pillow only of the user so
the user name in the is lugg now my
cantar don't work anymore if how if you
want to change sorry if you want to
change you can just say counter and now
that's gonna be the contrary so you get
what I mean
but now you say okay yeah black a
whitelist it's okay I mean it's can be
pretty good to just Whiteley's
everything but if you want you can also
black list and I'm gonna blacklist the
user I'm gonna increment some stuff here
and I'm gonna blacklist the user I think
this is all that type once then we're
gonna see and that's gonna be almost the
same yeah now the use or it's not there
so I mean if you want to keep all your
reduce are but only one you don't want
to keep you can't just black Lee it's
going to be me it's really easier for
you so for me what I like is the white
Lee I think it just easier for me to do
remember what I need to do but now the
thing is now you add all your stuff so
we gonna say we have contour to we are
everything just Whiteley's everything
what's X
gonna show you work so now I have
everything it's perfect its work but now
they think it's no I'm developing and I
have maybe like my reduce or change or I
want to test like at the user get logged
back like logging fouls finally so what
I can do to make it or I can perch right
there at the end of the function here
purge and what's gonna make the purge
you gonna finally remove everything you
have saving inside the Redux persist so
I mean don't you're gonna just remove
everything so now you see you get reread
rate in the payload is an empty object
so now everything start from scratch so
this way I mean sometimes I develop some
application and I just want to like to
test from a new user coming to my app
the user just download it from the App
Store something like that
and I always remember what I'm sure you
is going to work the same as you got in
the web the only only thing you're going
to need to change is the way to set up
the storage but it's really important
for you to like to read all to install
it and local forage air did you show you
all that word ear and that gonna make
sense I mean their dogs are really
really good and as you can see here I've
have nothing I didn't create nothing I
mean the the Pooh's is there if you want
to pull the persistence the perch is
there with the key and also you can have
the black list the white list the story
that I just told you the trends from the
debones if you want to have a diamond
like some kind of time and stuff like
that and just go in and try it and I'm
not alone look at that on all many star
I'm not alone using redox process you
just make so many sense if you work with
react not save and you work with some of
my troll you see I'm using it a lot so
that can be a good place for you to
install to class like some user
information or you want to keep that
between the kind of session and stuff
like that so I hope you enjoyed this
little pizza and we're gonna talk later
and please subscribe if you didn't and
let me know in the comment or you feel
about that and all the link about what I
have to take too long this I'm gonna
push it to my description so I hope you
enjoy and we're gonna talk together
either good night bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>