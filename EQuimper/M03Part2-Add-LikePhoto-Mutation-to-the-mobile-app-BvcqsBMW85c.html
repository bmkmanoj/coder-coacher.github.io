<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>M03-Part2: Add LikePhoto Mutation to the mobile app | Coder Coacher - Coaching Coders</title><meta content="M03-Part2: Add LikePhoto Mutation to the mobile app - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/EQuimper/">EQuimper</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>M03-Part2: Add LikePhoto Mutation to the mobile app</b></h2><h5 class="post__date">2018-02-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BvcqsBMW85c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone welcome to the par number
two of this third milestone so the plan
for this one is going to be about I want
to be able when I click here on the like
button to be able to create a mutation
with graph QL I think we have done in
the first part
you can see this is what we have done in
the last one where we can actually just
create a mutation and inside the server
what we got is this create our daily who
give us back to all folks for the light
so what we're gonna do for this one it's
we're gonna manage this button to create
this mutation but first look here what
happened if I click on the earth you see
I click on the command so I think we're
gonna need to change so starting here so
just go to action BTN yes then we're
going to see Flex is gonna be one point
four for the fake view who eats this
space here so getting a bit more space
between what we have and now you see I
think we have too much it's slope so
what are we gonna do is we're going to
take this 20 it's low
like that and we're gonna just save 10
now thing is gonna be better and now if
I came here now I click here to here not
to here I don't go outside so you see I
think it's gonna be better
sorry for that for this one we don't
really care because it's he's alone so
ok so now first thing we're gonna do is
we're gonna create inside the graph cue
a folder another folder called mutation
inside that we're gonna put some of the
mutation we're gonna add like just for
helping us to read reuse them when we
need it
finally so now as you can see we call
this one like photo so we're gonna keep
it like that like photo that GS hey what
we're gonna need it's gonna be a bracket
but G coil from
we have QL tag and after that year we're
going to export v-fold a GQ well who's
gonna take ear back tips and this one
this mutation we're going to take an
argument and that's going to be the
photo ID like we have right there so if
you want to make sure mutation like for
to take a photo ID so photo ID type up
ID and it's require and here what we
need to put after that it's going to be
the function we call so the function is
light photo
so we say light photo and this one we
say photo ID going to be called the
variable we just add create but not with
a hashtag
but with a dollar sign like that so this
variable here so this is the mutation we
have created for the photo like why I
don't see returning nothing it's because
as you know we're just returning a
boolean so we don't need so you see
boolean ok so now what we're gonna do
it's inside the photo car index IDs
right there this one we're going to
import the graph QL library rescue will
in cyclic it from react Apollo
and now we can wrap the graph you would
graph QL I mean the photo car and now
what are we gonna do it's here we're
going to import the mutation and another
thing I forget it's finally I would
create here inside my index inside my
graph QL mutation I would create an
index the GS or I finally I'm going to
just import all my mutations I'm going
to say like photo from like photo and
I'm going to export export
really like put like that so now by
doing this what happened it's now I can
say ear
give me my like photo inside reticule
mutation and give me right there my like
photo kind of simple like that so now we
each other mutation get them in the same
place so we have just one importing
plates so now we can wrap this great
career with the like photo okay now I'm
going to show you what that gave us so
I'm going to refresh my screen and I'm
gonna go inside my photo court even in
sigh my render and I'm gonna control
load this is my props these crops I'm
gonna say but now I'm going to debug gs
remotely so that's gonna open that right
inside my debugger right there okay so
now we have all this crops so now a we
have mini because we have mini card
that's why but now if we open one of
them we have an object where we have new
tape and now this meter is going to be
the function we can call to do
limitation but the thing is I don't like
a naming because if I had and order
another mutation can be pretty hard for
me to follow that so here what I'm gonna
do is I'm going to put name here and I'm
gonna say like photo mutation like that
now I'm going to refresh my screen and
now what's gonna happen
it's if I know an open one now it's like
for too many mutations so you just
finally change the name of the props
okay so now what we want it's here I'm
gonna create an a nut ear but here I'm
gonna create a function call on light
press okay inside this photo car you
know I can pass down this function right
there so on like create this is that
unlike prayer so I pass down to my
action BTM so now my action BTN can
receive right there
this props okay and so this one inside
the earth so this is the earth ear we
can now say on crest
this is the unlike dress like that
approach sorry crops okay just for
showing you what we gonna do it's young
women I'm gonna say you like me and now
I'm going to remove this one and I'm
going to refresh my screen and now as
you can see now if I click on one of
them you like me so we get it total
perfect so now you what left to do it's
calling this mutation right there so
first thing that's going to be any
synchronous code
after that though we were gonna manage
them it's now we're gonna need to
finally to call this function like photo
and ear we're gonna receive some stuff
you have to way to manage that you have
the way you do stuff here inside
asynchronous oh you can do this here I'm
going to show you this way if first
we're gonna see the other one
so you I'm gonna put that movie inside a
try-catch I'm gonna true the error
rather than ever
or maybe just control low down now here
what I'm going to do is I'm going to
sequence with equal avoid this that crew
up is that and now if your name like
photo mutation like that
one taken a take an object as a trade
agreement where I take the variable and
for your bodies on the object and the
variable is going to be what you have
put inside this one
so it's photo ID I'm gonna say photo ID
but now did I had access to this photo
ID and surely so what we're gonna do is
we're gonna just again remove all that
and now I'm gonna say these that props
here so what I'm gonna kick I'm gonna
add access to my prep so if I show you I
click here now I'm add access to my
props and inside data have access to the
ID of the photo if you follow what I'm
trying to do remove the practice for
removing some of the concern yeah I'm
gonna say photo ID it's equal to this
the props data ID nothing more to do
like that and now we're gonna come to
log the rest remember I'm logging so add
access to my context so now I'm gonna
clean this one and I'm gonna be came
here and I'm gonna click now on this
like button you know as you can see we
toggle the liking and now you see we
have the contact so this is me so as you
can see it's my name right there and now
I delete my like for to maybe because I
have liked it for the last one and now
if I click again I like dislike like
this slide you see what's pretty simple
I know I can like this one also like
this one and as you can see the value
change we have here the photo ID as the
first so is the third one and user ID is
always 8 8 as you can see but the thing
the thing change is just the photo ID so
now we have the mutation work so now ok
now what can we do with this value here
to show that's gonna be like at like
yeah it's like I mean right now we have
no idea about the state of what we all
right now I mean it's as you can see is
just a plain circle and we don't know
anything about that
so now what we're gonna need to do is
we're gonna need to manage that server
side and building a way to get the
viewer like photo boolean inside of
Fernet and this is what we're gonna do
indian exit desert so I hope you enjoyed
this little one you see it's pretty easy
to add mutation we have to and Apollo
react Apollo make your life so much
easier in the front to work with that so
hope you enjoy and get at ok the other
good day but</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>