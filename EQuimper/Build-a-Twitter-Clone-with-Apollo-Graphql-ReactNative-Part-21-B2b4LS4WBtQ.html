<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a Twitter Clone with Apollo Graphql &amp; React-Native - Part: 21 | Coder Coacher - Coaching Coders</title><meta content="Build a Twitter Clone with Apollo Graphql &amp; React-Native - Part: 21 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/EQuimper/">EQuimper</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a Twitter Clone with Apollo Graphql &amp; React-Native - Part: 21</b></h2><h5 class="post__date">2017-10-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/B2b4LS4WBtQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone welcome to this part 21
so like I told you in the last episode
we're going to manage to do the profile
section of this application so right now
we can fetch everything and now when I
restarting the app what happened it's we
have the placeholder this is what we
have done in the past video so this
thing here but as you can see now we
have this 5000 millisecond who did that
really slow so first thing we're gonna
do is we're going to start to go in the
server and we're gonna just change this
5040 row you can also remove it if you
want just to make the app refreshing
faster so it should be faster yeah so
now we're gonna do the profile page so
as you know the profile page is gonna be
like we can add like l-like others and
also here we're gonna have like the same
feed car we use ear so you're gonna see
all we can reuse some components gonna
be pretty simple so first thing we're
gonna do
it's we're gonna start with the profile
screen here and then we're gonna just
change some stuff here in the root so
the first thing we're gonna do is we're
gonna just say flex one in a background
color background color of f1 f6f a so
kind of a grayish colors I think too
much queasy for a year so now you're
gonna see nothing crazy
oops sorry I put a coma because it's
like CSS we need to put semicolon right
there
remember that stuck up I don't make it
like as a CSS perfect now we have
greyish color so now what we're gonna do
is we're gonna create another component
called profile others inside the
component folder this one's going to be
a plain function for react so we're
going to see in export default function
prof profile headers like that and this
one's gonna have some value is going to
be kind of
easy to to make it's gonna be just like
a plain rectangle so first thing I'm
gonna just import style really quick and
I'm gonna say current route equal style
that view just for having something to
put here perfect and now what I'm gonna
do is I'm gonna import this component
right inside my profile screen so I'm
going to say import profile editor it's
coming from my component folder and my
profile others right there and now I'm
gonna take this thing and i'm gonna say
profile headers like that so now are we
gonna start here is gonna be we're gonna
start with kind of plain CSS finally
what we want it's this thing to take
some amount of the screen and take the
full width but having like kanafeh ID so
for that we're going to use a ID of 140
also we're gonna see a line a self
stretch just to let the defects box to
take the full space in the width after
that we're gonna say padding cup we're
gonna see 50 and I'm gonna put a
background colors equal to my team color
white like that here sorry so now we're
gonna have this so now if i refresh I'm
gonna see what I mean by just by doing
this thing first thing I'm sorry with my
loader is really slow by JavaScript
bundle I don't know why about the
simulator if you didn't see this
simulator before it just because I've
been last version of Xcode is code
number nine so this is the new simulator
so now you see that take the 140 of the
space after that year what I want is I
want to have my auditory in some value
here so one of the thing I'm gonna do is
I'm gonna do this in two parts so first
thing I'm gonna sit here cons first
thing I'm gonna do command Z just to get
back my route perfect
I'm going to see currents Eddie going to
be a style that view and now this adding
right there it's going to have a flex of
one also we can have a straight
direction of row we want everything to
go from the left to the right not
uncommon from the top to the bottom
after that we want everything to have
and a line items and tarsal we want
everything to be at the center
now remember when it's going on the
center a line item center is going to be
the center from here like right there if
I see just a fat content Center I'm
gonna be right there now because it's in
grow when I say a line item Center I
mean sing right there and now if I see
just a fire content Center I'm gonna be
there but we don't get a seat justify
content Center we're gonna just say
justify just a file contain flag start I
know some of you gonna say yes but you
don't need to do this because by default
is flexstar but just to make sure and
for letting other developer to know
after that we're gonna have a padding
left of 15 and we're gonna have the
padding top of 5 and I thought I'm gonna
put a background color of real just to
make it easier to read right there like
this so now this adding what I'm gonna
add you're gonna add the first thing is
gonna receive an avatar so we're gonna
create a another tour just because I
don't have that or yet oh I'm gonna
style these things I'm gonna just use a
view because an image it's a plain view
too so I'm going to just say height of
60 weight of 60 and because I want that
bids as a circle I need to add a border
radius here but the thing it's here if I
want to change the size of this I'm
gonna need to change both sides because
it's a circle so now what I can see it's
ear currents add that our size sorry I
really don't know what happened today I
don't know how to type and now I can
just pass this value right there by
doing through the bracket avatar like
that but our sign curly bracket
and brother it is gonna be this value
how I can put this right there and I'm
gonna put a background color oh I think
yellows gonna be good so now we try
refreshing my screen now you do this you
see right there so here it's the full
adders but now add this value right here
so now what I can do is I want also to
have my full name like my first name my
last name etc in my username so so now
the first thing I'm gonna do is I'm
gonna create a username container so
this is where I'm gonna put all that
stuff about the username so where I'm
gonna have the full name etc so here I'm
gonna see current username container
equal style that view and this thing
right there is going to add a flags of 1
and also a padding left of 10 because I
don't want to be next to it I want to
have some space between this and me I'm
gonna say background color I'm gonna say
blue and I'm gonna put this username
container right there and now I hope
then you understand that because we give
this at a flex one and this is in a row
like this thing it's in a row if you
understand our Flex bookwork you're
gonna understand that now you're gonna
take okay because I didn't put any self
stretch if I do this you're gonna see
there now you take the full alert space
so keep in mind all that
so the the avatar right there take a
space and when we see flex one we just
see finally let the place to the avatar
let him do whatever you want but keep it
keep all the rest for you and now you
may be asking yeah but I thought our ear
this left thing it's yeah this thing
came because the aiding right there we
have padding left of 15 so we push up
so finally we just say I don't want one
nothing would touch the screen right
there so I'm gonna just push up and
in sight remember that in react native
the padding go inside so so now we're
gonna put the full name ear so are we
gonna do this it's now we gotta need to
have some text here so we're gonna
design the text sorry I'm really sick
today so now we're gonna say full name
equals style that text so here we can
have some text so I'm gonna say right
there full name and because as you know
I like to have some variable what I'm
gonna do is I'm gonna say current full
name equal and I'm gonna say mine well
that's going to be easier for me to just
put the value here after that here I'm
gonna add also the user name I'm gonna
say user name we're gonna create that
don't worry
and I'm gonna say this user name and I'm
gonna create a variable here oops
I'm gonna say user name and I'm gonna
see it Quinn power and now I'm gonna
create the same variable username if you
don't know how I did this kind of thing
is shift command D so I copy paste the
same kind of stuff at the bottom no no
if I click here I get a man'll compare
and equal per ear but we cannot keep
this kind of design here so we're gonna
say color equal to the props props that
team that secondary after that we're
gonna have a font weight of both and
also we're gonna add a font size of
eating so that for their username whoops
pleasure username we're gonna add the
same color but we're gonna have a font
size of 15 so we want it to be smaller
and also we want to have less opacity so
0.8 is going to be perfect now I can
maybe remove some colors so maybe this
blue and this will just to see all that
go
like here you see now that's pretty much
like oh I want it like a top and bottom
but now it looks really weird I mean
what is this thing I mean it's at the
bottom when we have nothing so that's
why we're gonna create a meta container
just below so remember the heading right
there now the ad is parent is the root
and root don't have a flex direction row
so by default it's : so now if I say
current meta container right there and
this one I say flex of 0.8 and now
because my heading was 1
what I Pam its you're gonna take the
smaller one at first so 0.8 so if it was
both one we're gonna get 50% 50% for
each of them and now because it's done
the the bottom is gonna get 80% of the
50% it should have yep
so here so now and this one's gonna have
the Flex direction of rope and I'm gonna
put a background color of red just to
make it easier to read so now I'm gonna
put this thing and I'm gonna do right
there and after that we're gonna have
some stuff like we're gonna have like
ears some made-up books right there so I
think we're gonna have to meta box where
we're gonna show the number of tweets
and the number of flag so we're gonna
have one box here and work box here so
I'm gonna create this meta box it's
gonna be pretty simple made that box
equal style that view and this one
finally is going to be flex warm so we
take so we because we're gonna add two
meta box you're gonna take 50% of each
side of the meta container who is this
param after that I'm gonna suggest a
fire just see just if I contain center
and also a line item centaur so what
that means it's the Box we gotta keep
everything in the middle of each of them
I'm going to set the background color of
maybe pink so now I'm gonna add two
minute bucks so one year and one a year
like that after that we're gonna have
another text and I'm gonna call that
meta text and you're going to see I'm
gonna just keep it like that for now and
I'm gonna just say meta tags here I'm
gonna SiC sample3 yeah tree tweet and
I'm gonna see the same but for the light
like that now I just I'm just gonna keep
this like this just true to let you know
how that go
so now as you can see so meta content we
don't see the red because this thing
take the 50% but now we see this is all
that go now it's this thing gonna go at
the bottom where there so now if I
remove some colors right there 3 tweet
in 3 light but now it's not a good text
first thing it's not a good like design
here so we're gonna change it really
quick color is gonna be cold to this
kind of color right there
after that I'm gonna say font size of 16
and I also going to say font weight of
600 so now we're going to look at other
the thing looks like that sweet we
didn't realize but I think it's I will I
like to have my number
having the same blue of this thing so
all we can do this it's gonna be really
easy we're gonna say meta number text
number maybe it's going to be easier to
be equal another style the text and now
this one's going to be finally color
this thing but now that's going to be
prime
we for the blue and now all we can do
this is going to be really easy we just
need to wrap finally the number with
that that's it for by doing this now so
you can add more than one text in
finally you can have another text inside
another text and the thing we get wrap
you're gonna get the color but with the
same font size and everything but the
Twitter's gonna have the meta tags and
now if I go there you see I got retweet
entry like right there perfect we did
one of the piece of what we need now
what we're going to do is we want to get
the real value from here so all we gonna
do this it's been anyway we're gonna
jump on the profile screen right there
and inside the profile screen what are
we gonna do
it's we're gonna connect which be darks
because I want to get the data from my
user state so yeah I'm gonna do a map
stage props I'm gonna definitely give me
info who's going to be equal to stay
that user that control that's yeah after
I'm going to see kirn's info equal this
that props so I'm going to destructuring
this and now I'm gonna spread my info so
by doing this now my info as you know
inside the meat here I'm gonna get user
name first name last name another tour
so now what I can do it's now here I'm
gonna have the first name after I'm
gonna have last name I'm gonna receive
my avatar and I'm gonna also receive my
username but I can remove user name
after that full name is gonna be called
the first name space last name so I'm
gonna just go here for now and now if I
do this now look what's gonna happen
so remember because we spread the the
perhaps here we don't need to say like
props dot you see now John snow so that
was my user am Johnston right now with
this avatar so now I can change that at
all so
I'm gonna do this it's I mean it's an
image so we just need to finally to
change that to any matrices what I mean
so you go there you're gonna change the
avatar here to be an image that image
you're gonna change after that source
and say you re avatar and now if I do
this because I didn't do an upload image
you're gonna get my face as an avatar
right there right there perfect so now
we did one of the thing we get the the
others for the Twitter profile but what
we want to it's to get the user tweet so
now all we can manage that
it's by doing another query while we can
get the user tweet so first thing we're
gonna do is I'm gonna create another
query called get user tweets after that
this one's gonna be kind of simple -
it's gonna be almost like the other one
so gql from react polo we're gonna
export the full this query but now you
may be asked yeah but all we're gonna
get that if you remember inside the
resolver inside that will resolve where
we did get use our tweet and finally
this resolve are right there in the
server so then you just return the tweet
the user that ID as the user and there's
going to be solved by the most recent
one so they're gonna have the same value
as other one so we're gonna say get user
tweet right there so what we need for
that it's gonna be almost like they get
tweet so what I'm gonna do is I'm gonna
copy paste this thing so go to side of
your tweet and take that so I need we
need the text we need the ID create app
is five for real and favorite cone
I'll need favorite cone it's for showing
all my name power grid it's our it if
you have favorite your own tween
username at that o last name in first
thing we only death now you may be asked
here but what you don't use order one or
why don't create a fragment
I can create a fragment and I'm gonna
show you that in an other episode it's
because now I wanted to keep it simple
if you don't know what is that Frank man
it's just awesome
so that's why I'm gonna show you that I
learned that like kind of I think three
week ago so so now are we gonna manage
this thing to make this get three first
yeah the first thing we're gonna import
this get use our tweet query from we ask
you well should we get user tweet after
that we're gonna need two things from
Apollo because we use a connect so we're
gonna say here graph QL and compose from
graph QL Apollo react Apollo sorry and
now what are we gonna do
it's say I'm gonna sit Campos try to
make it easier to read like that compose
and now what are we gonna do its ear I'm
gonna say graph QL get depends that like
this get user tweet after that so here
that's gonna do a fetch with the Gators
or tweet after that here we're gonna
receive this thing inside a variable
called data and now here I am gonna add
the data so how are we gonna do this
it's I'm gonna open my debugger see the
emo bar your on D bar and now what I'm
gonna show you it's first thing I'm
gonna just console.log there's that
drops I want you to see what gonna what
we gonna receive the ball GS remotely
sorry I need to doing some water I'm
really sick now okay so now if I click
on profile
Oh
oh yeah I know it's we need to pass a
graph QL first before there connect
right there now I think should be good
okay now you see this is the data right
there so we can I get this that probe
that data that Kate use our tweet right
there so now we have all the tweet of
the user and also as you know we have
data and we can add the loading - so now
we want to use the same feed car clicker
as we use in the last one sorry about
that
so are we gonna do this it's we're gonna
first thing import at the top from
relative the flatness the famous flat
list after that what are we gonna do is
we gonna import I'm going to do ship
them in the ear sorry I'm gonna say feed
car like that so I'm going to import a
fig car so I think it's the core that
feed car now you as you know there is
you remember the feed car is gonna be
this thing right there this feed car
right there so it's going to be almost
the same thing as what we done in the
other screen so we're going to create a
render item whew finally we're going to
receive the item and we're gonna shoot
the free car with the dot item that's it
after that we're gonna have a render
placeholder so we're gonna show the
placeholder like we did on the other
screen in the recipes are what your
friendly what I'm gonna do is I'm gonna
just say feed car I'm gonna call this
thing placeholder I'm gonna see key
equal to item you're gonna see in a
moment in air I'm gonna see is load
equal to this that proves that dollar
that get use or tweet that loading so
they
value right there so this that probe the
data and I don't even need this thing
like that so now it what I'm gonna do
I'm gonna have my I'm gonna do a quest
so here I'm gonna take my data I'm gonna
see if that I that loading so if it's
low I want this if it's not I want that
but the thing is I want my profile
others to be there after that I want to
remove this and now here what I'm gonna
do is I'm gonna have my flat list so
when it's loading what are we gonna do
is we're gonna sit data is gonna be an
array of one two and three just to get
three fake a item that's why we see a
key I turned but you're gonna see I can
remove the key here and I can just say
render I turn this that render
placeholder and now keep extract are
equal item item so that's gonna be one
two and three
no need to add a key after that I'm
going to contain contain our start and
I'm gonna just align self stretch just
to take the full piece of the code so
I'm going to copy page this flat list
and now I'm gonna paste it there but now
the data is gonna change when I came
from the dis that props that data may be
just we don't need to say this is a
problem because we have the structuring
here so that add that yet use or tweet
so that's going to beat this value get
user tweets or the average and the key
and that are going to be underscore ID
and now if I do this if I do this right
there
oops yeah that's going to be days that
render right there because if not that's
going to be that the the placeholder
always
I think goes to because I have my
debugger I'm gonna start the debugger so
like I told you in the next episode
we're gonna see the fragment so it's
gonna be a good one and now you see
magical we get the tweet so on think
about that it's almost the same thing
here but we just reuse what we have in
the other one and now you can still like
from here and if you like here you have
like here if I dislike here yeah dislike
here if you have like here you have like
ear so you see so now you can get this
value so I mean that's going to be one
of your homework because we're gonna do
this I'm gonna show you the result in
the next episode it's I want you to
receive this number here from the graph
QL and I want you to show the real value
so that's gonna be your own work for the
next one so I hope you enjoy sorry for
the time-being some video just I get so
many stuff like a wedding and everything
between like the other video etc so hope
you enjoy and we're gonna talk later
other than I love you bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>