<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Creating a Horror Game in Unity - Part 4.5: Battery Pickup | Coder Coacher - Coaching Coders</title><meta content="Creating a Horror Game in Unity - Part 4.5: Battery Pickup - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Creating a Horror Game in Unity - Part 4.5: Battery Pickup</b></h2><h5 class="post__date">2014-03-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/kitsO3dK1J8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys so this is gonna be follow-on
as before for my other tutorials which
were the horror series now today as I
said we're gonna follow on from we made
the torch and we made it go down
intensity over a period of time now
people requested that they wanted to do
the batteries so this is gonna be almost
a little step in between before I move
on to my next tutorial after which is
probably gonna be about trigger moments
or scary moments but for now what we're
going to do is we're gonna you know
create a rare cast so we can pick up
batteries but GUI on screen and then put
some more intensity back into the torch
now obviously you could do this by using
a ray cast tutorial but I'll show it
again for the sake of doing this horror
tutorial so all I've got is my box here
I'm a box has got a halo which looks
like a glow which is green then nothing
special I've just tagged my box battery
by adding the new tag down there so
first of all we're going to need to
create a script so we'll create a new
JavaScript and we'll call this battery
pickup then open that and want to
develop once you've opened that I'll
zoom in a little bit I'll delete the two
functions and then I'll write private
variable torch script as type torch
controller and talk to controller is the
name of art obviously that script that
we created in the previous tutorial now
we're going to create another private
cut a variable called GUI show as type
boolean equal to false then we're going
to have a private variable called
battery and then as type game object
with an upper case or lower upper case
in both instances of the word then we're
going to have a variable called rare
length equal to
ten then what we'll do is write function
start two brackets two curly brackets
below what we'll write is torch script
equals game object dot find open
brackets in quartz torch because that is
what we added the script to our that
object which is named torch then we'll
say dark getcomponent open brackets
torch controller close that up put a
semicolon
so from here then what we're going to do
is say function on GUI and then add two
curly brackets below I'm going to say
that if GUI sure is equal to true then
we'll add two curly brackets below that
and so that GUI dot box up and brackets
rect open brackets screen dot width / 2
comma screen doc height divided by two
comma say a hundred comma 25 close the
bracket up add a comma in quotes you can
make pickup batteries close that up and
put semicolon so we're doing there it's
pretty much set in the position so
screen dot width would take my screen
and divide it by two so it put it down
the center and the height divide it by 2
and we'll get this sort of midpoint then
we'll get a box in the midpoint a
hundred across 25 down obviously you can
adjust these settings accordingly to
whatever you want and now what we're
going to do is get into the meat of the
script so we're going to do the raycast
we're going to say function update then
two brackets two curly brackets below
and then what's a variable hit us call
on rare cast
hit with a semicolon there was a
variable forward equals transform dot
transform Direction open brackets vector
three dot forward pause the output
semicolon then what we'll say is if
physics dot raycast open brackets
transform dot position comma forward
comma hit comma rare lengths close that
up with two brackets this time because
we had one in between then we'll add two
curly brackets below there and say that
if hit dot collider.com object dot tag
is equal to in quartz battery and then
close that up
then we'll add another two curly
brackets below here and say that GUI
sure is equal to true then we'll say if
input dot get key down open brackets
then you could put a for picking up
whatever you want then we'll add another
two curly brackets below there and say
that torch script dot flashlight dot
light dot intensity plus equals null
point five or whatever you want the
actual intensity to go up by then we'll
said destroy in brackets battery and
then I will add GUI sure being equal to
false so we don't show it anymore and
then what we need to do is right at the
end we'll skip three curly bracket
because it ends here and we'll add a
couple of line breaks in and we'll say
else before I do that I'll zoom out a
little bit
we'll set else add two curly brackets
below there and say that GUI sure is
equal to false so we'll save that out
and I'll quickly run through all of this
for zoom back in so what we're doing we
reference in the touched roller script
and the we're starting it and to
find it when we begin the scene then
what we're doing is that if we're
setting GUI shots true we're going to
show you no GUI so we know how to pick
how to actually pick up the item then in
the update were setting a forward ray
cast and then what we're saying is that
if we're in the range of 10 meters or so
you know you can adjust that to however
far away you want to be able to pick it
up oh that's changed here that needs to
be a hit so and then as long as we're in
range I'm will in range of the game
object with its tag battery so the
battery they want to be able to pick up
then what we're going to do is set GUI
sure to true cuz we're in the range of
the battery so we want to show it then
only if we then press e well we add
something to the torch intensity that we
already have destroy the game object
which we had appear which will place in
the inspector in a minute then set GUI
shutter false so we don't sure the
pickup anymore and I've set an else here
because if you're not doing any of this
we don't want the GUI to show so make
sure you save out one thing that I did
do a little bit wrong in my script is
that needs to be a lowercase T
and then your arrows will go away so
when you go back into unity you can add
your new script to your main camera and
then what we'll need to do is add our
cube we'll rename this now to battery so
we know what it is we'll go back to our
main camera we'll put the battery in
there leave the rare lens at 10:00 and
then what we'll do is we'll play the
game you can see that my torch is on now
and I can find the battery walk up to it
and you can notice that when I lock into
the center of the screen the rare cast
is finding the object and we can walk up
to it Pressey and then it will add a
certain amount to with a torch well
because the torch was already bright it
makes it a little bit difficult to see
one thing you may want to do with you
torch is with the torch controller
script selected if I open though is that
you don't want the intensity to ever go
above a certain amount so say you wanted
the intensity start at 4 but you never
wanted it to go actually above far you
just want to say under here that if if
flashlight dot light dot intensity is
ever greater than or equal to 4 then
we'll add a new private variable called
max intensity and set that equal to 4
then we'll say that flashlight dot light
dot intensity will copy that line and
we'll say that it equals max
intensity with the semicolon so then
that means that if the light ever goes
above the actual fall that we sat
originally we can say that the
flashlight is always equal to that so we
can never go any higher
make sure it's just one one equal sign
and that's pretty much it
we'll go and test the script again you
see the mum torch is much dimmer we can
walk up to the object that we're looking
for now press E and you'll notice that
the tar got a little bit brighter so
that's just the basics of picking up her
bathroom displaying something in the GUI
and as ever
don't forget to Like comment and
subscribe Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>