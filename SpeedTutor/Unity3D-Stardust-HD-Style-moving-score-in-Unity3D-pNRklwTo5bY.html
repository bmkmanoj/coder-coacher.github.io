<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[Unity3D] Stardust HD Style moving score in Unity3D | Coder Coacher - Coaching Coders</title><meta content="[Unity3D] Stardust HD Style moving score in Unity3D - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[Unity3D] Stardust HD Style moving score in Unity3D</b></h2><h5 class="post__date">2014-11-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pNRklwTo5bY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so today what we're gonna be
looking into making is a if you've ever
played Stardust HD or again which is
more of an arcade style game where
almost the points all the power-ups
might move towards you ship or you
player
slowly I'm gonna just give you an
example of how we can do this so that
could relate to any sort of game where
you might pick power-ups as a sale point
so I'll just quickly mention that I will
be getting back onto the suvival series
and that's gonna be in the next week or
so I'll be looking into mining some
stone and then being able to collect
that and put it into your inventory and
then along with doing stuff like that
I'll give you an example of what we're
gonna create so if I press play on my
design you can see that we get if we get
class within range of an object and
we're looking at the particular object
it'll move towards us and we'll gain a
particular skull so it's very helpful
for an arcade a snail game and I've had
a few of the tutorials that I wanted to
you know sneak in here and there whilst
I'm on the way doing it okay so we're
gonna have three scripts today which are
gonna help us you know achieve this
thing that we want to create so I'm
gonna have a scar controller which is
going to control the scar of which we
collect another is gonna make sure that
the box in this scene is going to move
towards our player and then we're going
to have a rare cast which is going to
detect the object to make sure that it
can come after us you know when we
actually have visible or when we're
looking at it so it's it can very Daffy
to do the rare cast but I think it's a
nice way to do it so you're looking at
the points and then it will come towards
you so we'll start off and I'll mention
that my box is it's just a cube that
I've imported game object Korea or the
cube I've made sure I've got a quite
large box Collider around it if you can
see that there's my box Collider around
the object and then you want to make
sure that the trigger on that box is
tagged are ticked as is trigger so we'll
be able to
there's this collision so we'll be able
to collect the sky you want to make sure
that you've got a first-person control
or whatever you use in and you make sure
that's got a tag of player you can add
the tag in that okay so what want to
start off by doing is right-clicking on
the project panel choosing Korea
JavaScript and we'll start by naming
this scar controller will open up in
monodevelop this script is going to be
really sharp I'll zoom in I'll get rid
of the two functions that it gives us
automatically
I'll start by writing variable skull as
integer equal to zero with a semicolon
then we're going to say function on GUI
with two brackets after two curly
brackets below then we're gonna say GUI
dot box up and brackets wrapped up in
the bracket again say ten across ten
down then we're gonna say a hundred
lengths and say twenty in the Y this is
just for instance you can change those
will add a comment well add two quarts
then we'll add a plus and then we'll
write in our variable score so really
what this is doing is just drawing a GUI
rectangle in the position at ten across
ten down a hundred along 20 down so
we're gonna make a little sort of
rectangular box and we're gonna have the
variable which is scar inside it so what
we'll do is I'll add that to my main
camera score controller and then we'll
press play you'll notice in that top
corner we've got the GUI with the
variable inside know what we're gonna do
is we're gonna make sure that this box
is gonna move towards our place or
career a new script I'm gonna call this
move towards or you can make name it
whatever one score movement however you
want to name it so again we're going to
open up in monodevelop and then what
we're going to do from here is I'll
delete these functions again once we
also write variable target as type
transform so we're going to have a
target which is gonna be our player
which we want the Box to move towards
we're gonna have a variable called speed
and set that as a flow with the
semicolon then we're gonna have a
variable main camera this type game
object and that's just gonna let us
reference the scripts that are on the
main camera then what we're gonna do is
we're gonna have a private variable
called move towards has that set as a
boolean equal to false then we're gonna
what we're going to do is get a write
function start two brackets two curly
brackets below there and say that Skaar
script equals main camera so the
variable that we had appear dark
getcomponent open brackets Skaar control
so all this is doing is we're setting a
variable called score script making it
look for the main camera and a component
on the camera one thing that we'll need
to do is also make a private variable
here call this Skaar script and set this
type Skaar control then we're going to
write ourselves a new function so we're
going to write a function called
if visible you can name this whatever
you're like boots is going to be to
reference in the other script if visible
so if we've actually looked at the box
we want it to be able to do something so
then want to say move towards is equal
to true then what we'll do is we'll
write function up there to brackets two
curly brackets below and with inside
those brackets we're going to say that
if move towards is equal to true close
that off add two curly brackets below
we'll say variable step equals speed
times by time dot delta time with a
semicolon then we'll say transform dot
position equals vector three
dot move towards open brackets transform
dot position comma transform sorry
target dot position comma step with the
close up and add a semicolon so what
that's doing here is if move toward is
equal to true so if the function gets
called and we are visible it's going to
set the update function to true are the
boolean to true we're gonna were set in
a variable here there's going to be
whatever we set as the speed originally
and we're going to have that multiplied
by the time so it's obviously going to
make the thing move in a direction as
long as we have for the transform
position equal to that the targets
position that we're going to move
towards with the step volume so it's
really just using a transform command to
tell it to move towards the player
object that we want we need to make sure
that this transform is a lowercase this
transform is a lowercase cuz sometimes
unity might our knowledge develop might
change it for you then what we'll do
below this update function will write
another function called on trigger enter
because we want to be able to do
something when the box is hits the
player and we'll say coal coal on
Collider then we'll have two curly
brackets below there and we'll say score
script like up here so we set score
script up there we'll say scar scripts
coal plus equals 10 then we'll say move
towards is equal to false because we
don't want that boolean to be equal
false we don't want to be anything
moving in the background then we can
write destroy open brackets game object
close that up another semicolon so
that's gonna destroy our game object as
soon as it
we trigger the collision which is it
going into the player hey lads
10 to the scar some scar script I was
looking for the script appear on the
main camera and it's gonna add plus
equal to the scar here and it'll change
it on the screen now we'll go back into
unity and we're going to write the rare
cast so we can detect it and then once
we've written that it'll all work nicely
well have this is cold scar rare cast
then we'll open up in monodevelop again
if you don't have to do a rare cast you
can see a few of my tutorials that show
you how to write these so we're gonna
start off by writing variable rail
length equal to 10 then I'm gonna say
variable score item as type game objects
so that's the thing that's gonna
actually be the object that we're
looking for then we're going to say
function of debt in brackets to killer
brackets below also variable hit some
column rare cast hit with a semicolon
and we'll say variable FWD for forward
then add a colon then we'll say
transform dot transform Direction know
the first transform is lowercase and the
second one which is transform Direction
is a capital with both then we'll have
up and bracket the vector 3.4 would
close that up add a semicolon then we'll
say that if physics
dot a rare cast open brackets transform
this one's a lowercase dot position
comma FWD comma hit comma rail length
close that up twice add two curly
brackets below there then we'll say that
if hip dot now I want to develop change
that the hit needs to be lowercase hit
collider.com object dot tag is equal to
scoffs or whatever tag we're gonna have
on the skull we'll make sure that we
then add two curly brackets below there
and said that scar item equals hit dot
Collider docked cam object enclose up
add a semicolon
now again mono velop it's changed hit so
that needs to be lowercase hit collider
doc game object and then what we're
gonna say below there is that score item
don't get component open brackets skull
all a script that's going to become
moved towards and then close up the
brackets and we'll say that if visible
and then two brackets and a semicolon
we'll save that one mistake I did make
in the variable forward we need to make
sure that's actually an equal sign and
not a column then what we can do is on
our box is we can add the move to what
and then we're going to want to look for
the game objects which is main come so
we'll add the main camera in there we'll
set the speed to about
we'll set the tag as the first birth
control then on our main camera we
already have the scar controller we also
want to put the scar rear casting now
what we can do here seen as though we
wrote in the script I'll explain in a
minute we don't have to other game
objects in here because it will find it
when we're using the rare cast so we can
have multiple now we'll just test this
out so if we test it I can run towards
the play and when we get into a certain
distance you'll notice that I then
collected the object and it is equal to
ten the scar now so what we can also do
is it I could you look at this box a lot
of different times and you can notice
that I can as long as I'm looking at a
particular one I'll be able to collect
the scars when I'm in range and looking
at them and you could have several
different scripts which control the
amount of scar which is given by a
particular color so you could just have
this script again which is for a red box
which might give you 30 points but I'll
quickly run through what we've got so
we've got one script which is a scar
control which is very a variable that we
set zero in the beginning we did a
simple GUI then in our second script
which caused the box to move towards the
player we've got the target which is the
player that we want the speed at which
we want it to travel and then the main
camera so we can set the actual script
that we're going to be looking for later
we'll have two private variables one a
boolean which is gone moved towards so
we can say when it should or shouldn't
move towards the player we have a
private variable called scar script and
scar script is just there so I can write
a variable without having to write get
components car controller every time
then in the start function we're looking
at the scar script we'll find in the
scar controller we write a new function
which is called if visible and if we
call that in the other script we're
going to set move towards equal to true
and then in the update function we say
that if it's true then we'll do
something to transfer
is direction towards the target a
certain speed and then if our player
hits that Collider which is on the box
we'll add 10 to a scar we'll set move
towards equal to false so then once it's
equal to false it will be able to do it
again for other items and then we'll
destroy the game object now on the race
car wreck us for the main camera we do
it a length and looking for the object
itself we do a rare cast in a forward
direction on the main camera and we're
looking for the skull which has a tag of
skull then the scar right in which we
set up here which were looking for a
game object we're saying though we're
gonna find the name of the box which has
hit Collider dark game object so when we
hit the Collider on the game object it
will give us the name of the actual item
that we're looking for then what will
say that when we're looking at that item
we'll find the component this particular
component which is called moved towards
which is our other script here and when
we find that we'll set if visible we'll
call this function which then makes move
towards equal true and soon as that is
equal to true then we do all the process
that would I talked about just a little
bit earlier so like I said as you can
change all these elements up on the main
cam you can change the rail length so
yeah you can actually make it sorry it's
a hundred so you can see it a lot
further away so if I now play this
they're starting to come towards me
already because I can see from much
further away and similarly with the
speed of the particular objects we could
set this on a per object basis so that
miss moves at a speed of a hundred and
the rest of slaw obviously that was
really quick you could barely see that
but you can change that on a per object
basis depending how precedent all the
age was to be so thanks again for
watching and I hope you like tutorial
hope you learned something from it
and don't forget to Like comment and
subscribe Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>