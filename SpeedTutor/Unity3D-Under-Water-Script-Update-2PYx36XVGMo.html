<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[Unity3D] Under Water Script Update | Coder Coacher - Coaching Coders</title><meta content="[Unity3D] Under Water Script Update - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[Unity3D] Under Water Script Update</b></h2><h5 class="post__date">2013-10-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/2PYx36XVGMo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys so this is gonna be an update
to what I released a few months back and
people have had troubles with Ian watt
underwater script specifically when
coming to getting out of the water and
the fog changing and also swimming and
firing up in the air and things like
that so this is gonna be sort of an
update just to that and it's not gonna
solve all the problems because when I do
tutorials I show you how to do it and
then it's within your boundaries then to
take what I've shown you and make
whatever you need to make so I'm
updating this and it's only gonna be
pretty brief but it should hopefully
start out of a lot of issues that people
were having so if I open up my script
and this is what you may have if you
downloaded and stuff like that
whether you're using the projector
torille are not now what we're gonna do
is actually add a few new variables this
and this is gonna actually help us so we
can't actually fire ourselves up in the
air or press the buttons before we're
allowed to so what we're gonna do is
write a new private variable Karluk can
swim set two boolean equal to false then
another private variable called
underground and set that as boolean
equal to false and then we'll set
another vet as a standard variable
called ground level and set that as type
float now these gonna help us control
you know so we can use the buttons
before we've reached a certain level but
before we do that I'll soil the issue
that people were having with the fog
density now if I go into my unity scene
here and then go to edit then render
settings you'll see my fog density when
I'm out of the water is set to not point
naught naught two and set normal and
throughout the water sets it to not
point five so that will be really really
heavy heavy fog
a set underwater is set to not buy not
three so realistically what we need to
do is set the fog density to when we go
out the words to whatever you have when
you would normally so for me it'd be
naught point naught naught to F and then
what we'll do is we'll actually copy
what we've got down here pretty much and
just set the normal values to why it
should be in your character motor script
so we'll set gravity back to 20
we'll set max fall speed back to 20 and
then we'll set the other two two six and
six and then we'll save that out and
then we'll do in the update function I'm
gonna actually write another statement
which is going to control whether or not
we can press the actual buttons that we
need to so underneath the first if
statement what we'll do we'll write if
transform make sure that's lowercase
transform dot position dot y is less
than ground level close the brackets
inside the two curly brackets will say
can swim is equal to true and then under
ground is equal to true and then we'll
say underneath here else add two curly
brackets underground is equal to false
so what this means they we're going to
set a ground level so we're actually set
a number two when you feel that your
character controller is on the ground so
if it is on the ground level
we'll put less than are equal to the
ground level then we will be able to
swim up and down and ground level under
ground is equal to true because we don't
want to be able to go below and if
anything
it's the case if we're above it
underground all set to be false now we
had to need to change our ability to
press e argue so what we're gonna say if
is underwater and and can swim is equal
to true then and and underground is
equal to false and input get the key E
then we can actually do what we need to
do and then what we'll do we'll do the
similar thing here for the Q statement
so if we can swim and it's equal to true
and then what we'll do in set normal
will set can swim equal to false and
we'll save that I'll go back into unity
and I'll add my script that I've got now
water level was gonna be 35 and I think
I put ground level of seven so when we
go in go towards the water now I can't
use er Q to actually do anything but
until we reach below the value then we
can actually swim up with Q and then go
down with E but when we've reached a
certain point we can't press the e
against go any further down so you don't
actually see have a problem with
actually swimming either swimming
through the floor and then this actually
stops you pressing any buttons once
you've gone inside the water now I come
to the water level and you can see that
as long as I'm slightly above the water
love of the fog changes
so I'll go through it briefly again that
what we've done this was set three
variables can swim underground at ground
level we're saying that if were below
are equal to ground level then we will
be able to swim and we don't want to be
able to go on to the ground if anything
else so if we're above the ground level
then underground will be false then what
we're saying is that if we can swim an
underground is you know set to false
then we'll be able to press E then if
we're actually we're able to swim we'll
be able to press Q because Q mixes go up
and he makes us go down and then we're
set normal we won't be able to swim
anymore so that's pretty much the
majority of the script just a few things
that I needed to touch up and clean up
but that will stop you going underground
flying up in the air when you don't need
to changing it once you've got yourself
out of the water the fog will change the
correct amount and vice versa so thanks
very much for watching and if you liked
the tutorial don't forget to Like
comment and subscribe
Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>