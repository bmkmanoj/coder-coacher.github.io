<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[Unity3D] Picking up items using raycasting in Unity3D | Coder Coacher - Coaching Coders</title><meta content="[Unity3D] Picking up items using raycasting in Unity3D - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[Unity3D] Picking up items using raycasting in Unity3D</b></h2><h5 class="post__date">2014-01-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PntmX-3nvVw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys this is a tutorial that people
have been asking for for quite a while
and I've been meaning to cover it so
this is going to be about rare casting
and Brea casting is used when primarily
you want to you know either find
distance observe something or when
something is within a certain distance
you can do something with that so
obviously with picking up an item you
could do this or maybe opening a door
something like that or pressing a button
now I'm going to show you a simple
example and this is going to be about
picking up an item or just collecting or
just destroying a box now it works in
all concepts and you know it works for
opening the DA just have to change the
code slightly so you can make an
animation play once you have you know
press the button that you need to press
so in my scene I've got a first person
controller on the first person
controller is just as it would normally
I've got a box and its name pick up
object and it's got a tag cold pick up
now if you need to add a new tag you can
add a new tag here and then just to tag
it what we need to because we're going
to reference this in the script now you
want to make sure that the box has got
collider
and sometimes with rare casting in the
way that I'm going to do it is forward
rear casting so you need to make sure it
has a big enough collider so you can
actually see it cuz if it's really tiny
on the floor it sometimes my of you
might have troubles picking it up so
what we'll stuff by doing is creating a
new JavaScript and then we'll call this
rare cast and what we'll do open it up
and one will develop then I'll delete
the first two functions that we've got
all right variable test object as type
game object so this is going to be our
box that we're going to want to collect
and then we're going to write a private
variable called can hover set it call on
boolean equal to false then we're going
to write back start by actually writing
the
I'm rare cast itself so we're going to
write function update add to corpse then
two curly brackets below and then what
we're going to say is variable forward
equals transform dot transform Direction
open brackets vector three dot forward
close up and a semicolon then we're
going to say variable hit as type ray
cast with the cast will lowercase hit
and with a semicolon
and now we're going to start writing the
next part and FSA if physics dot rear
cast open brackets transform dot
position comma forward comma hit close
the two brackets then we'll add a curly
bracket there and say F hit dot distance
is less than or equal to and the
distance at which we're going to have so
we'll just say five you can change this
time V 1 then we'll set and and hit dot
collider.com object dot tag is equal to
pick up or whatever you've actually
named your item with the tag will add
two curly brackets below there and say
can hover is equal to true then we'll
set if input dot get key down open
brackets quartz and we'll say e for
picking up will close those two brackets
then inside there will then say destroy
open brackets test object so the
original variable were made put a
semicolon now obviously when you do this
you can do whatever you want so you
could maybe load a new scene or add
something somebody's inventory something
like that but I'm just leaving that up
and so that you can
you know write anything you want then we
can write else can hover is equal to
false so that just means that and that
we won't be able to see the GUI when we
write it and what you want to do is just
add two more curly brackets in there so
we close off what we had up there and up
there and then below here we'll save
function on GUI add two curly brackets
below and set if can hover is equal to
true then we'll say gy dot box up and
brackets rect open brackets screen dot
width divided by two minus 100 comma
screen dot height divided by two minus
100 then comma 150 comma 20 close that
up add a comma and writing quarts pick
me up or whatever you want to display in
the GUI and obviously this screen dot
which divided by two minus 100 sort of
sets it toward the center of the screen
and 150 is the width of the box and 20
is the height so what we'll do is save
this out and then go back to the unity
scene and I'll add the script to the
first person controller and we'll need
to add the object that we use in so if I
add the object to here once it's on here
we'll run the game and we'll look
towards the object and you can see that
it lets you pick it up and if we look
aware you can't see the GUI anymore now
we can look at the object and we're not
in within the distance that we require
now as long as we go class we can come
aware when we go away again you know we
can't see it so this is using rear
casting and nephropathy
well obviously delete you know
by the object pick it up whatever you
want to do and you know you can trend
change parameters however you like now
that's the basis of doing a forward rare
cast you know you can do them inside of
different ways but that's what you can
use you know - for as I said for a doll
for a pickup for anything so thanks
again and if you like the tutorials
don't forget to Like comment and
subscribe
Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>