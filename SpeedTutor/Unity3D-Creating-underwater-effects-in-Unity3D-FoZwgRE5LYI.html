<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[Unity3D] Creating underwater effects in Unity3D | Coder Coacher - Coaching Coders</title><meta content="[Unity3D] Creating underwater effects in Unity3D - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[Unity3D] Creating underwater effects in Unity3D</b></h2><h5 class="post__date">2013-07-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FoZwgRE5LYI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys I'm going to show you a really
cool tutorial today and it's about
changing render settings and water
effects when you jump into water this
might be a tutorial series and I'll show
you how to do swimming things like that
book for the basics here we're going to
rarely show make a script which actually
checks for your character's Y position
so the height of which your character is
and then once you jump into water and
you get past a certain height it will
change render setting so it gives the
illusion that you're actually underwater
so what you can see in my scene at the
minute is just a little airplane key so
I can jump into the water a first person
character controller some daylight water
a simple terrain with a skybox and a
directional light and all in my scene is
with a little bit of fog enabled so edit
render settings and then you can change
your fog so you fogged in sea and the
fog density is all dependent on your
scenes or mines quite low because if I
say any higher it gets really thick does
the fog so if I show you what happens
now when I jump into the water you know
nothing really happens you just jump
into there you fall down and you don't
really see any water it's just you look
like you just on some ground somewhere
so what first off what we'll do is we've
got daylight worty if we press control D
and we do clear that what we'll do is
set its Y position to 34 so it's just
slightly below our current water plane
and if we say it's X rotation to 180 and
then we'll play the actual scene again
and we jump in actual looks like we see
the water and we can see the sky from
the top so it looks you know it gives
the illusion that was you know
underwater a little bit but really the
the true test comes from the script that
we're going to create so if we right
click on the project and window we
create new javascript file
what we're going to call this is
underwater so this is going to be our
basis for detecting when we're
underwater and how we're going to do it
so when monodevelop loads of what we're
going to do is we're going to create a
will pretty much four new variables so
we're going to create a variable called
water level I'm going to set that as
flow so that variable is something that
we can change ourselves and not just
based on the script so then we're going
to create three other variables one
private variable called is underwater
and set that to a boolean then we're
going to create another private variable
called normal color and set that to type
of color but sometimes unity brings in
an auto suggestion which adult one and
then what we're going to do now is copy
this this same line because it's going
to be very very similar and set this to
underwater color so it doesn't really
matter what you've written in these
black segments because all the air is
variable names that we're going to
reference throughout the script so in
our start function what we're going to
do is write normal color so we're just
taking the variable and making it so
that is set itself to a new color and
what we're going to do is open up
brackets and tell it the color that we
want need to be set to so what we can do
is we need four numbers so what we can
do is just set them pretty much all the
same because that just means that the
zero five zero five zero sub five and
zero five means that it's actually going
to be the gray color that you'd see
normally it would be a distance and the
F just means it's a float value so
that's all and then what we're going to
do is we're going to copy that same line
and we're going to change normal color
similar to up there and we're going to
change that
to the underwater color but we're going
to change the value so point to two
point six five point seven seven point
five and that just sets it to a light
blue color you can change all these
values and test them however you want
but for the sake of this I'm just
running through as you know we want it
to go so now in the update function
we're going to write an if statement
that says transform dot position dot y
and if it's less than the water level
that we've set and then it's equal to is
underwater and then what we're going to
change then what we're going to do is
going to create two curly brackets
underneath so we can reference something
in the if statement so then we need to
set what it is under water is equal to
transform dot position dot y is less
than water level similarly like what we
had up the top and then we'll write
another couple of F's so if water if is
under water and then set to actually
under water and this is going to be
another function that we're calling then
we'll write if then exclamation mark
this time is under water again then set
set normal which is going to be another
function that we're going to call so the
update function does is if Y your Y
position is less than the water level
then it's going to do either of these
two cases if it's lower in the level
then we're going to set we're going to
call the underwater function yet if it's
still above the water if you've got an
exclamation mark up before it then it's
going to set the actual normal color
from that function so we're going to
create two new functions
so we're going to set not name function
like we've named above satin normal and
then we've got curly brackets in then
we're going to have another function
called set under water I'll leave that
as a lowercase like my other one and
then another two curly brackets
underneath so in the set normal what
we're going to do is we're going to type
render settings dot fog color equals
whatever our normal color was at the top
of in our start function not local a
semicolon and then what we're going to
do is simply again render settings dot
fog density equals and for me the normal
was not point not not to F and then
we'll put a semicolon I'm going to copy
those two lines and write them in the
set underwater function and then we're
just going to change the fog color
to underwater color like we did so there
so it sets the color for us and then
we're going to change the fog density to
naught point naught three depending on
what you want and this is all dependent
on personal preference so you can change
all these values and things so we need
to do now we save the code and if we go
to the main camera and we drag on the
water to it you'll see that we have a
variable set so if you remember the
actual water we had was set to thirty
five in the Y position we can go back to
our main camera now and set 35 here and
what this means is we'll actually get
this script to function correctly so if
we now run the game and we jump off the
edge what you'll see is now when you're
underwater
you actually get a type of fog which
comes close to you and looks like you
are actually underwater so it gives the
illusion that you're actually under the
water and you can adjust all these
amounts for whatever you feel but simply
that's all you need to do to change the
render settings so when you get below a
certain amount it changes that so it
gives that illusion I may do more
tutorials on this depending on what what
I find out and what other people want
but for now that's really simple so if
you liked the tutorial don't forget to
rate like comment and subscribe thanks
very much Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>