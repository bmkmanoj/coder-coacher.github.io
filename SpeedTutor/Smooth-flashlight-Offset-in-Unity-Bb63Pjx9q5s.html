<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Smooth flashlight Offset in Unity | Coder Coacher - Coaching Coders</title><meta content="Smooth flashlight Offset in Unity - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Smooth flashlight Offset in Unity</b></h2><h5 class="post__date">2017-08-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Bb63Pjx9q5s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to the unity 5 tutorial
today and this is going to be something
that's showing you how to create a
smooth flashlight for maybe a horror
game or something like that and you can
see in my example here that when I start
you can see that my flashlights on the
floor and you can see when I move it's
not instant it doesn't turn exactly like
it's parented to your camera there's a
little bit of sway and you can adjust
the speed to see how we're slow off fast
you want something to move so I'll just
give you the basics of creating a basic
flashlight and creating that sort of
smooth functionality which is just
slightly offset from the cameras
movement so what it's beneficial to use
here is that I all I have is the
standard assets and I've got a
first-person controller you can import
that from the asset store or you can
right click import package and choose
characters
I have also got the effects which come
with a series of light cookies and these
are just the things that put an alpha
sort of mask of the light which give it
a lock of a different thing as if you
would expect from an actual flashlight
itself so once you've got that we've got
the scenes pretty much set up as you
would expect
nothing fancy really going on at all
what I'm going to do is I'm just going
to place my main character here and what
we're going to do is we're going to
create our actual flashlight here so we
can do is go a game object and we can go
light and we think to a spot light and
you can see a spot light is as you would
expect a flashlight could be now what
I'm going to do is I'm going to select
my flashlight and I'm just going to set
its rotation to zero so it's actually
pointing straight ahead then what going
to do is I'm just going to roughly move
it in front of where my main camera
roughly would be and you can see it that
what we can do to test it is touch it or
parent it to our main camera and you can
see that when I move it you can see it
that and you can see that it's it's
parented and yeah that might be good for
what you want but you maybe want to make
a little bit more
or intro and make it a lot of our
interest ought to do is increase the
spot angle by you can either increase
the spot and glove on this side or pull
the little sort of bounding box so you
can make it nice and big and like I said
you can choose on this side the light
can choose to have a cookie so if you've
got those selling of assets installed
you can choose a light cookie so where
you type in cooking and we type in right
now you can choose one of these you can
choose flashlight irregular cookie and
when we press play you know you'll get
that sort of masked effect on the light
which might look quite cool for your
game this is all well and good but we
need to actually be able to pair and
offset this light based on the parent
that we've got we're going to right
click our camera and click create empty
and what that's going to mean is that's
then going to be parented to a camera
but what we can do is we're going to
unparent it from our main camera and
it's in exactly the same place as our
camera right now we need it to be in
that place because that's why all the
scripts going to do so we do is we can
then it parent our flashlight to our
empty game object we've got we can then
right click on our project panel and
choose C sharp and we'll call this we
can call this offset flashlight will
open up individual studio and we'll can
start by writing the script that we need
to do so we need three variables so NIDA
private vector3 we'll call this effect
offset with the semicolon then I'll have
another private variable and call that
game object and call it go follow with a
semicolon well then what I'm going to do
is I'm going to have a square bracket
serialized field and we're going to have
floats speed and set that equal to not
point 3f just for the sake of this or I
need to make that private if that
doesn't really matter but just keep it
consistent then what we'll do is write
void stacked two brackets and two curly
brackets below and we're going to start
by writing and what we're going to need
to you not be able to follow so we're
going to have girl follow is equal to
camera with a capital domain dull game
object so this is automatically going to
find our main camera that we want to use
and then we'll use vector offset a set
that equal to transform with a lowercase
dot position minus the Gulf follow dot
transform dot position so what this
means is that we're going to get an
offset position so we're going to get
the position of this base and then we're
going to minus the actual position of
the main camera that we've currently got
so that's all well and good things that
we need to start we need to say now
choose avoid up decks we're going to
update our flashlight in real time so it
actually does the offset movement so
then we need to say transform dot
position equals go at follow dot
transform dot position plus V vex offset
with a semicolon so it's just going to
transform the position of the flashlight
that we've got other like that we've
gotten our C based on that the position
of the can at any one time
plus the upset that we just calculated
then we're going to do the same for the
rotation so we're going to say transform
dot rotation equals quaternion dot slurp
and quaternions are used for rotations
in specifics and the slurpy just help us
go between our two values and usually
starting position and ending just so we
can have a smooth soft movement so then
we'll say in brackets transform rotation
comma guv follow dot transform rotation
comma the speed times by time dot delta
time and then we'll have a semicolon at
the end so like I said it's going to
transform the position of our current
line based on a rotation amount and
we're going to you know smoothly rotate
at move between and the current position
to the
position of where the camera is now move
- based on the speed times by the data
time Delta 10 which just allows us to do
the smooth movement so we'll minimize
that
so we'll do is we can click on our
spotlight that we've got add our offset
script what I'll do is I'll just change
this speed to eight to make it seem more
apparent and then what we can do is we
can press play and we can look down at
the floor and you can see that when I'm
moving my mouse now it'll be slightly
offset the value you can you know
increase or decrease the value of L so
if I knock that back down to three or we
press play you will see that when I move
my camera it'll take a little bit to
catch up but you want a speedy enough
value to sort of warrant actually using
it so this is just pretty much you need
to make sure that you've got again to
game object which is the same position
of your camera at any one time but don't
actually parent it just let it sort of
be by itself so even if I move its the
actual flash light still comes with me
so that's pretty much the basis to
create in your own offset sort of smooth
looking flush line so hopefully this
helps you create something cool for
whether it's your horror game and bench
again so thanks very much for watching
don't forget to Like comment subscribe
Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>