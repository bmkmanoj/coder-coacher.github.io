<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[Unity3D] Creating a Karma System in Unity3D | Coder Coacher - Coaching Coders</title><meta content="[Unity3D] Creating a Karma System in Unity3D - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[Unity3D] Creating a Karma System in Unity3D</b></h2><h5 class="post__date">2013-08-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mt8VZwmEPuI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys so I've got a new tutorial for
you today and it's about creating a
camera system something similar to what
you'd find in fallout 3 and things like
that where you do something good I do
something bad and it changes it
accordingly now this is probably really
simple way of doing it but it works
basically and you could be used in you
know RPGs things like that could be used
in Adventure Gear the making
consequences of certain actions and then
doing things dependent on what your
actual camera is so first of all I've
got is my test scene with the first
burst controller and then I've just got
two boxes one called game camera one
called loose camera because and they're
just going to be there to give you an
inkling about when we lose and gain
color by doing certain actions and it's
just to illustrate what we can do so
first of all we're going to write the
system itself so we're going to create a
new Java system and say I'm call this
GUI can then what we're going to do is
open up monodevelop and wait for it to
load what we're going to do is delete
everything in the script and then we're
going to write a variable and call it
come and set it an integer and say equal
to five then we're going to set a
variable called bar length and set that
equal to naught point naught then we're
going to write function start two
brackets and then we'll add our two
curly brackets below them and say bar
length equals screen dot width divided
by eight so that's it for that and then
what we're going to do is write a
function called adjust camera and then
in brackets or a DJ for a
then we'll put our curly brackets below
that and say karma plus equals the
adjustment value and then under this
will add function on gy without brackets
of the two curly brackets below and
we're going to actually write the GUI
elements for having cameras or GUI dot
box in brackets new rekt open the
brackets will say 530 fifteen and twenty
close the brackets put a comma and then
say camera and then close that up so
what that does is if we save that we're
going to unity we go on our first post
controller we've added the GUI comment
about we play the game you'll notice
that cam has appeared there so nothing
Crazy's happened so far and now we're
going to need to actually add the
elements which we can sure the cam boxes
so really what I'm going to do is
actually make some variables again at
the top so below here I'm going to say
private variable karma output good set
that to a string make sure its capital
for string and then set it equal to good
then put semicolon have another private
variable call it karma output newt for
neutral set that to a string always
remember to keep it as upper care so it
won't like it then set this to neutral
spelt it wrong and then we'll add
another private variable and call it
karma output evil set it to us capital
for string but every time I do it
changed it for me I don't want to
make sure that's uppercase and then what
we're going to do is actually create
three boolean's which you're going to
let us say when we've actually done a
certain things so we'll say accountable
God is equal to false private variable
camera ball neutral is equal to false
private variable cam of all evil which
is equal to false so that's that for now
and then what we want to do is we want
to say that in here in the GUI want to
actually start writing something want to
say if karma bull good is set to true
then we want to actually do something
which we're going to say g y dot box new
rectangle open the brackets and this is
60 30 comma then we'll say bar length
comma 20 cause of brackets put comma and
then say cam output good close the
bracket semicolon so what that means is
it will draw a box and 60 along 30 down
the length of what we set and then and
20 down in its size and then all it's
going to display is the camera up good
which is there then what we're going to
do is actually copy this we're going to
paste it in their best in there what
we're going to do is change com a ball
neutral and then come a ball evil then
we're going to do the same here change
these to come out put neutral and karma
output be evil and keep everything the
same so it means that if one of these
bullion's is set to true it's going to
display the output so
now what we're going to do is write
something the update function so we can
actually see something happen so what
we'll do is write function of there add
the brackets to curly brackets here and
see if karma is less than or equal to 15
and what we'll do is set karma Oh God
too true or set cam up for neutral to
false and we'll set camera for evil to
false as well and what we'll do here is
will copy this will paste it in three
times and we'll say if karma is less
than 10 then we'll set copy this and
we'll set neutral to true and then we'll
set good to false so when it gets to a
certain value it turns these balloons on
and off so it actually changes our
values in the M in the GUI and then in
our other if statement if it's less than
5 or set these two to false and then
evil to true and that we'll just adjust
our and values accordingly so what I've
tried to do we can change these values
up so if equal if it's between 10 and 15
here then you're going to have good
karma if you're between five and ten
here you'll have neutral come now if
you're five or below you love evil
camera and depending on what you do it
will change so i'll actually do
something to show you what happens so
i'll say if input dot get key down in
brackets
f and then what I'll say is adjust
camera minus one and then say debug dot
log up and brackets and I'll put cameras
so that's just going to when we press F
take the camera down by one and I'll put
it for us and then I'll also copy this
line you don't have to have this it's
just giving you an example if i press G
then we'll actually do positive one and
i will save this out actually when we'll
do it set the camera to 10 save it going
to unity press player you might want to
set you can with value to 10 because it
doesn't always change if we go back into
unity and you'll see we have current and
the camera current ladies neutral if i
look at this box so you can see it
better if i press f you'll see at the
bottom it went up by one and we went to
good so if i go up again we go to 12
with God if I FSG and I go down go to
neutral they never go down keep going to
five then we're an evil karma and depend
on what you do the value changes and
your status of karma adjusts and then
you could do something depending on what
kami you've got so if you actually
wanted to make it more inclusive within
your game what you can do is make
another script and call it karma again
and create JavaScript karma lost oops
and then what we'll do is we'll open
gain up and lost on what I'll start
first is the law script so I'm going to
delete these two things out I'm going to
pop private variable mouseover is equal
to false private variable pop up is
equal to false then I'm going to say
variable-length bar is equal to integer
set that equal to 150 i'm going to set a
variable called with bar and set that
equal to an integer and 25 a flat spot a
call i'm putting equals instead of go on
and then what we're going to say is
function on GUI put the curly brackets
in or set if mouse over is equal to true
then we'll put the curly brackets in and
say GUI dot box up and brackets new
wrecked then we'll say 200 along 200
down then we'll say the lengths bar and
wilkes a comma width bar close the
brackets put a comma and then we'll put
in quotes click to lose come then we'll
end up put the brackets and they're so
what that means is it's we create the
GUI to y200 long 200 down and then the
length bar is 150 long and the width is
250 down so it's actually the size of
the box specifically then what we
actually want to do is set the mouse
over values so function on mouse over
two brackets add your curly brackets and
say
mouse-over equals true and that's if
your mouse goes over the object that
were specifying or set from the and
billion to troop and then function on
Mouse exit so when you're not pointing
at the object that we're talking about
mouse of equals false and then or
actually want to do is say about
function on mouse down so when we've
clicked that we're going to actually do
something we're going to say variable gy
karma call on g UI comma equals game
object find Open bracket sports first
person controller quartz close those
brackets say get component up and
brackets GUI karma close the bracket
spot semicolon don't want to say GUI
karma dot adjust karma and then we're
putting the box minus one and then we
set a pop-up because we want to actually
when the pop ups and Ben and said that
yes we've gained the specific amount of
karma we want to change it so on the
function of here if pop up that's
lowercase pop up like this is set to
true then I'll copy this
and we'll keep it all the same apartment
all set this to 400 and then we'll say
that you lost karma so what we're going
to actually do is when we mouse over
we'll see that you can click to lose
camera that when we click we actually it
says that we lost a certain amount of
calm but we need to actually make it so
that when we click the GUI doesn't stay
there all the times isn't needed so
we're going to create a google boolean's
turn it off depending on what we do so
if Papa p equals true we'll add this
then what we need to do is wait for the
amount of seconds so make create a new
function called wait for because we
can't do yield in the GUI so under here
will create function cold where far then
we'll open those brackets put the curly
brackets and say yield wait four seconds
open brackets put a warning set a
semicolon and save pop-up equals false
but we need to put also reference that
down here so pop-up equals true so if I
go through this all it does is that when
mouse over is true some Mouse office
here so one watch it over an object it
will display that you can lose ecomme
when we actually clicks on milestone
we're adjusting the camera 2-1 and we're
setting pop up to true which makes this
you will lost camera appear then we're
going to go stretch this function which
where it's a second sets pop and pop up
to false which means that this will no
longer display any more until you
actually click again so what we can do
is we can copy this Taylor script put
into calm again and all we have to
change is that take away the minus and
it allowed camera to it and then what we
can do is go back to unity and we can go
to our box which says game calendar we
can put the script which is calm again
and we'll go the one which says lose
camera and we'll add the script called
camel lost what we'll do here is that
you'll see we'll start a neutral come
we hover over this will say it will say
click to lose camera we go to this one
oops what I forgot to change was but on
the calm again should say click to gain
karma and you get in camera save that
out go back in clicked again click to
lose so if i clicked again you again
camera now in good camera still in good
karma forgot to lose camera will click
we lost camera may click again we lost
camera so we went back down to neutral
you can click again we lost it again
click it again lost it again and again
and again there we go to evil so that
was just a very simple way to actually
and change the values up and affect
whether or not you've got evil neutral
or good camera based on depending on
what you click on what you press and so
that's pretty much it and if you liked
the tutorial don't forget to Like
comment and subscribe Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>