<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Creating a Horror Game in Unity - Part 6: Hiding System | Coder Coacher - Coaching Coders</title><meta content="Creating a Horror Game in Unity - Part 6: Hiding System - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Creating a Horror Game in Unity - Part 6: Hiding System</b></h2><h5 class="post__date">2014-06-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GTtW57u_cfg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys I've got another tutorial which
is a follow-on for the horror series
that I've been doing and I've left this
for a little bit of time whilst I've got
some things together and maybe people
can offer me some suggestions in the
comments on what things would like to
see you know if any at all for you know
that a next part for the horror game so
a lot of people did suggest that they
wanted sort of hiding mechanics now as
as always with makeup tutorials it's
going to be fairly simple and
straightforward and you know can be used
and created and modified however you
like to use them so it's going to be
similar to a game like I suppose like
outlast I think where you can hide in a
cupboard a closet I don't I haven't
really played it that much but you've
got the simple idea that here in my
unity scene I've got what you might call
a cupboard but it's just few cubes that
look Brown and I've got a camera inside
there so you can see if you can see my
camera preview here you can see that I'm
just looking out this hole so all I've
done is build a cupboard style ship
within unity and put the camera inside
so it looks just out and Webb done is
I've named that camera hide so we can
reference that in the script in a little
bit so that's really all you need just
your cupboard and object with a new
camera so we're going to switch to that
camera and then we're going to do some
things to be able to do that so we're
going to start off by doing is create a
JavaScript file and we'll call this hide
or whatever you'd want to call it now
you want to open up this and monodevelop
and once we've got that I'll zoom in a
little bit and I'll delete these two
functions and start by writing variable
main camera as type camera and variable
hiding camera as type camera and then
we'll set a write variable R a length
equal to 10
then we'll start by writing function
start open up the brackets add two curly
brackets below and then there will say
main camera dot camera dot enabled
equals true and then hiding camera dot
camera dot enabled equals false so we're
doing there is making sure that the main
camera of which is on our FPS controller
is the one we're going to see at the
beginning of the game so we don't have
any issues so what we're going to be
doing before like with a lot of
tutorials that I've done we're going to
be writing a rare cast and a rare cast
is a really good way to you know manage
to show G wise and things like that when
you're in a certain range so we'll start
off by writing function of debt I do two
brackets then you to color brackets
below will save variable hit call on ray
cast hit with the semicolon there was a
variable FWD for forward equals
transform dot transform Direction open
brackets vector three dot forward close
that up and add a semicolon then below
there will say if physics dot rare cast
open brackets transform dot position
comma forward comma hit comma rail
length close that up with two brackets
and then in there we'll add two curly
brackets below then we'll set if open
brackets hit dot collider.com object dot
tag is equal to hide and and is hiding
and and is hiding is equal to false on
one thing I did actually forget at the
top is that we're going to need some
that boolean
or two more balloons to actually be able
to detect when will hide them when we're
not so we'll write another variable
called is hiding and set that is type
boolean equal to false and then I'll add
a private variable called GUI shell set
that as type boolean equal to false as
well back down at where we'd say is
hiding is equal to false we actually
want to close up with a bracket not a
semicolon then what we want to do is add
two curly brackets in here and actually
this is changed to hierarchy type by
just one hit sometimes this changes it
then in these two curly brackets here we
want to say that GUI show is equal to
true then we'll set if input dot get key
down up and brackets in course P close
those two brackets up then below here
inside another two curly brackets will
write a little note saying disable
player so we remember what we're
actually doing then we'll say game
object don't find open brackets in
quotes first-person controller close
that up
with a Mac or and then a bracket and
then say dot get component open brackets
fps input controller dot enabled equals
false and then we'll say as well game
object dot find open brackets graphics
close that up dot get component open
brackets mesh renderer plus that up dot
enabled equals false you can obviously
delete that little graphics capsule from
the FPS control
but I'm just showing you how you can
disable it then we want to make sure
that because we've pressed E to go
inside the hiding spot we once actually
change cameras or add another note for
change cameras and then what we'll do is
like we did up here I'll just copy these
two lines paste them in and then I will
say that main camera is equal to false
and hiding camera is equal to true and
then what we're going to do is we're
going to need to be able to wear a
certain amount of time before we can
exit and this cover the end because
sometimes I've got a little bit of a
funny error so we're just going to write
another function called where to add to
crack its after it and add a semicolon
on and they almost the last curly braket
we've got was second-to-last Kellie
bracket you can see it by is from
attached to this one up here will add a
couple of line breaks I'll just zoom out
a little bit so you can see it then what
we're going to write is else and then
we'll add two curly brackets below there
and say GUI show is equal to false
because some ones are inside it we don't
want to be able to show the GUI and will
create that GUI at the end now
underneath there what we'll do is also
we're going to add another if statement
for when we're actually inside aisle
we're actually hiding so we want to be
able to exit the hiding step so that's
it will say if is hiding is equal to
true then what we'll do is we'll say
that if like before input get key down
open brackets and then in course II
close up twice add two curly brackets
below and what we're going to do is
essentially just copy this again here
then what we're going to do is paste it
in and I'll just make sure I shunt those
up what we're going to do is now make
the things that we set to false now true
because we're going to be able to take
control of our player again and then
we're going to make sure that the main
camera is equal to true and the hiding
camera is equal to false because we want
to be able to do everything we could
before whilst running around and then
under here we'll said that is hiding is
then equal to false because we're not
hiding anymore
now like I said before we had a function
that we call created though it was
called wet so after all of the curly
brackets that we've got now what we want
to do is create a function call this
weight and then add you to brackets add
two curly brackets below well and then
in there will say yield wait for seconds
then open brackets add not point five
cause I'll put semicolon then we'll set
is hiding is equal to true and GUI show
is equal to false so what's going to
happen is that will detect the raycast
and if we press E and we're in the range
and the tag of the object that we're
looking at is called hide will disable
the player elements and then switch
camera' so it looks like we're hiding
but it just so that we can then press
this button again and it not mess up and
never let us hide we just want to wait a
couple of seconds and then say I mean
we're a half a second and then say that
we are hiding and for half a second you
don't even notice it so it's not really
an issue
so one last part of this is we're going
to write a GUI functions a function on
Gy open two brackets up then two curly
brackets below and we'll say that if GUI
sure is equal to true
then we'll add two curly brackets below
and we'll say that GUI dot box open
brackets rect
open bracket again screen dot width
divided by 2 comma screen dot height
divided by 2 comma 100 comma 25 close
that bracket pop comma then in quotes
we'll say hide inside with a question
mark and we'll close that bracket and
add a semicolon so that's just showing a
GUI which should be remotely centered in
the screen so that's pretty much it for
the script one thing in the break ass'd
if you may have seen writer that need to
be a lowercase T so now if we go back
into unity and what we need to make sure
that we do is that I've got a cupboard
object and my club table jekt is just
the parent object so everything else
along with the camera and all the cubes
with inside that natural parent object
and I've made sure I've got a box
Collider overall so we can walk through
it and then I've got a tag called hide
and once you make sure that you've got
those things set up on your main camera
for your player you can add the hide
script and you can see that we need to
add the main camera in the hiding camera
so we'll add the main camera to the main
camera slot and then the camera hide
hope to the other slot and then we can
leave everything the same and then what
we'll do is we'll press play now we'll
walk up to our cupboard and I'll say
join a hide inside we'll press E and
then we'll hide inside obviously if you
want to look around whilst you're in
this place you'll have to add a mouse
look component so you can just go
component
camera control and Mouse luck and you
got that mouse look to your actual
hiding camera so you be able to look
around and obviously can limit looking
up and down left and right and then what
you can do if you press a again you'll
be outside of the actual object and you
can run around and do whatever you need
to do so there you go there you have it
there's a sort of simple way of doing a
hide mechanic and as ever thanks very
much for watching and don't forget to
Like comment and subscribe
Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>