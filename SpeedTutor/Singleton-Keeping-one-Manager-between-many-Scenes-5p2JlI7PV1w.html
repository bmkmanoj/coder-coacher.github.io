<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Singleton - Keeping one Manager between many Scenes | Coder Coacher - Coaching Coders</title><meta content="Singleton - Keeping one Manager between many Scenes - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Singleton - Keeping one Manager between many Scenes</b></h2><h5 class="post__date">2017-10-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5p2JlI7PV1w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to another unity 5
tutorial and in the previous tutorial I
showed you how to do and add some simple
background music just with adding an
empty game object adding an audio source
and then adding your actual audio to
that and we looked at don't destroy
unload so we could keep it across many
scenes now from the things that people
are mentioned in the comments if you
move from that scene and because don't
know strana lord keeps it between as
many things as you want if you go back
to the actual main menu you can actually
run into issues where it'll just
duplicated itself and you might get
essentially you know 17 different
versions of the same thing playing over
and over so that's not what you want so
we'll look at doing a singleton today
and it's something where it takes a
little simple bit of code you can go
more advanced features of a singleton
but it just allows us to keep one
instance of one particular object at any
one time so if we've got to say an audio
controller again manager we can do that
really easily so what I've got in my
scene is I've got just a normal scene
with an FPS controller I've got an audio
controller which is just which is just
an empty game object and you can go game
game object to the top career MT I've
got two scenes one called scene 1 and
scene to the both exactly the same I
just duplicated one that I'd made if you
got a file you want to go to build
setting you want to add them both to the
build settings so we can test this out
so what we can essentially do to our
audio controller is this is just an
example we can add a component and we
can search audio and we can add audio
source and what I'm going to do is I'm
just gonna add one of these fantasy
music volume to free music tracks and
you can find that on the asset store and
we can put that on loop if you so wish
to have that assault let your background
audio between many scenes so we actually
want to write the code to be able to do
this and so in your project panel you
can right click create and choose
c-sharp script and we can call this
something like a single Audio Manager
you know you can name this whatever you
want it's just something that you want
to do when you decide and what we do
when we go
script is I will get rid of the to
starting method so we're starting afresh
essentially so I'm gonna start by
writing a static reference to the
instance that we're going to create and
static just means that it's a variable
type which can be shared across all
instances of the same class essentially
so it's just a nice way to keep all this
together so we can write is static and
you want this to be the name of your
script because this is the thing that
we're going to directly reference the
single audio manager and have this as
type instance with the semicolon then we
have void awake because we want to do
this as soon as the actual game starts
before any other method just so that we
do this before anything else so there's
no problems down the line then we want
to say that if the instance that were
looking for is not equal to null then
we'll add two curly brackets below there
and we'll say destroy game object with a
lowercase G what that means is if the
instance is not equal to nothing so if
instance equals something we must have a
game object there that exists in the
world we're going to destroy that game
object so he can't make a duplicate of
it so what do we need to do if it's in
the case of making sure that if we don't
have the instance already we want to
make sure that we keep this object so so
now we want to do is go to the Ankara
and else statement I'm gonna have two
curly brackets below this statement and
then we're gonna say that in this case
instance equals equals this with a
semicolon and then we'll say don't
destroy onload in brackets then we'll
say game object with a lowercase and
then we'll add a semicolon so what this
essentially means is if you know we're
not going to destroy the object because
it didn't already exist as an instance
we're going to say the instance is this
game object and we're gonna make sure
that we don't destroy it and I've just
added in some functionality so I can
move scenes with one and two on the
keyboards have just used a input gate
key down one and two to move to my
different scenes so you don't have to
worry about that you only have to
about this section in particular but
this is just so I can show you the
example working and we go into unity go
into our audio controller that we've got
and we can add this to here you can see
that we don't need to do anything you'll
see that when I press play you'll be
able to hear the music and you can see
in the top hand corner here we've got
destroying load and you can see that the
audio control is there and if we move to
seem to you can see at the top we've
moved to seem to up here and if I press
one on my keyboard you can move back to
seeing one and you can see that the
audio controller we still only have one
of these and then you know if I open and
close you can see that I don't have
multiple I'll move back to seem to move
back to seeing one or we've on is still
got one of these audio controllers this
can go a long way with helping you just
get to grips with just creating an
instance destroying it if you've already
got something there if you haven't fill
the instance in and don't destroy a load
and just keep that persistent across
there's many scenes as you need to so
thanks again for watching don't forget
to Like comment and subscribe
Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>