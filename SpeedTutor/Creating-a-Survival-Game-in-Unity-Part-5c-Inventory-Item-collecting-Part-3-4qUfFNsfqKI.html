<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Creating a Survival Game in Unity: Part 5c - Inventory &amp; Item collecting - Part 3 | Coder Coacher - Coaching Coders</title><meta content="Creating a Survival Game in Unity: Part 5c - Inventory &amp; Item collecting - Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Creating a Survival Game in Unity: Part 5c - Inventory &amp; Item collecting - Part 3</b></h2><h5 class="post__date">2014-08-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4qUfFNsfqKI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to part 5 C of the
survival series that I'm doing and this
is going to be the third part to the
infant system so today we're just going
to look at finalizing the actual
infantry with a quick statement to make
sure that we can actually make our
health or thirst or whatever go up when
we've actually run out of items and
that's going to be a quick line on each
and then we're going to look into
picking up items that you might see
within the game world so I'm going to go
on by when we cut down a tree we're
going to be able to pick up the log and
we're going to add that to our inventory
so first of all what we want to do is
like before we want to open our infantry
script and I'm just putting this shot
that in the beginning of this video
because I've got to put it in the last
time I made a video so if you find your
obviously our infantry script and you go
all the way down to where you talking
about duis and added are taken away from
your infantry and healing some damage or
whatever we're doing we want to look at
the fish statement and where it says the
cooked fish - - and then we call the eat
function what we want to do is put a
little line break in below the curly
brackets which we've got inside the if
stem to the button I want to say that if
cooked fish is greater than or equal to
one then we'll add to one bracket person
aware and then one bracket first and
forward at the bottom a curly bracket
that is and then just tab these two
across to keep it nice and indented so
what this means is that I always show
the button so we can eat the fish but
only if cooked fish is greater than or
equal to one can we actually eat the
fish because I've obviously we've got
zero we don't want to add anything to
the health so we're going to do exactly
the same thing to every different one so
for the drink water section we're going
to say that if bottled water
it's greater than or equal to one then
we'll add the curly bracket and tab
across and then we'll add the end curly
bracket and again for the last section
in its if statement will say that if
bandage is greater than or equal to one
we'll add the curly bracket tab across
and add to kill a bracket to end
so now that'll mean that we can't
actually ever go below a certain amount
we'll always have to have some items in
our inventory so as you can see right
I've got there the health of the food
quite a ways down if I eat the fish goes
down to two goes down to one goes to
zero if I click it as many times as a1
we can never go back up and likewise
with the drink in the water and
obviously if the health had gone down
with a bandage so that's just that bit
ironed out so you make sure that you
just got a quick if statement within the
button to make sure that if it's above
one then we're obviously going to do
something so that's it for the main
infantry section now we're going to move
actually on to making the rare cast so
we're going to be able to collect the
pieces of wood that we've got in our
scene so what we'll do is we'll create a
new script and we'll create a java
script and we'll call this javascript
rare cast collect
doesn't really matter what you call it
actually we're only going to reference
it in the script later
so maybe just keep it the same with mine
so obviously I've got the rare cast
script open zoom in a little bit we're
going to delete the two functions at the
top and then we're going to start by as
I've done in many tutorials writing the
rare cast I'm going to say variable rail
length let's type integer equal to 10
then I'm going to write a private
variable called inventory as type
capital inventory another private
variable called GUI sure let's type
boolean equal to false
make sure that's got a semicolon then
we're going to start by writing the
function start and then two curly
brackets below then we're going to say
inventory equals game object dot find
open brackets first-person controller
close that up dot get component
inventory with a capital so that's just
so we can find the actual infantry
script then we're going to start by
writing our update function so in the
update function we're going to write the
rare case also variable hit call on rare
cast hit with a semicolon and variable
for word equals transform dot transform
Direction spell transform wrong there
open brackets vector three dot forward
close that up add a semicolon then we'll
say that if physics dot rare cast
open brackets transform but we want to
make sure that's lowercase dot position
comma at forward comma hit comma rare
length close that up with two brackets
add two curly brackets below there and
we'll say that if hit dot hit dot
Collider dart game object dart tag is
equal to foot so for this instance it's
going to be would will close that up add
two curly brackets below then we're
going to say GUI shell is equal to true
then within here we'll say that if input
dot get key down open brackets e close
the brackets and the quotes then two
curly brackets below and we'll say that
inventory dot would plus plus with the
semicolon that just means that we'll add
one would every time that we collect a
piece then we'll say destroy hit dot
Collider dart game object close that up
with the semicolon then we can also
write that GUI show is then equal to
false because we've picked up the item
then what we want to be able to do is
come after these two curly brackets we
want to say that else will put two curly
brackets below the else statement and
said that GUI show is also equal to
false because what we want to do is if
the we're a casted and we're not looking
at the tag would then we don't want to
show the GUI anymore then what we're
going to do is add a function GUI down
here so we'll write function on GUI two
curly brackets below and we'll say that
if GUI shell is equal to true then we'll
have two curly brackets in and say gy
box
of brackets rec to upper brackets again
screen dot width / 2 - 150 comma screen
dot height divided by 2 minus 150 comma
100 comma 20 close that up add a comma
and then in quarts write whatever you
want so we can write pickup then close
the quarte and pop semicolon so I'll
quickly run through this so what we're
doing is a normal ray cast at the
beginning so we're just rare casting to
find in a forward position and we're
looking for the tag would then obviously
if we're looking at the tag will show
the GUI then if we press E whilst
looking at the tagged item we'll add
something to our other infantry script
destroy the item that we're looking at
hit Collider game object is whatever
we're looking up and then we will make
sure the GUI is false if we're not doing
any of that GUI will be false because
we're not obviously looking at it and
we're just going to create a GUI way on
the screen hit add width and height
divided by 2 and then in the position I
mean a scaling of 100 wide and 20 high
to show that text so what we'll do
within unity will go to the main camera
well we've got our other would break a
script and we'll add ray cast collect
and then what you want to do is
obviously because our trees that we
created before in here creates the logs
that we're going to have so on your
prefabs for your logs you want to make
sure that's got a tag of wood because if
not obviously it won't work so I'll make
sure that the tree is got a tree health
of 1 so we hit it once it's going to
fall so if I go over to my tree and I
hit it once it's going to fall
and then what we're doing is see the
logs you can see that when we're looking
at it in the center obviously this is
only a small section it will look aware
we could do it we'll pick up one
pressing e we'll pick up another and
pick up the other and then we're looking
at infantry and you'll notice that we've
got three pieces of wood now my GU eyes
have gone down because I set them really
far really fast for debugging but you
can see that you can change any of this
for any items that you've got whether
it's so you can add all you can do is if
you want to then check for another
object what we can actually do is that
if you just add another if statement so
if you copy the entirety of this section
here you Pierce that in below I'll just
give a quick quick example and we paste
that envelope here what you want to do
is then if you've hit something else so
if you've hit coconut as long as your
coconut has got the same tag on it then
you can say and add whatever you want to
your infantry so you could add it to for
instance cooked fish if you know you
wanted to class that as food but
obviously this is just an example of how
you could do your own inventories and do
your collecting so that's pretty much
the entirety of showing you the basics
of just rare casting to then collect
items to then add to your infantry so
you can take that you know however you
wish so thanks very much for watching
and as ever don't forget to Like comment
and subscribe
Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>