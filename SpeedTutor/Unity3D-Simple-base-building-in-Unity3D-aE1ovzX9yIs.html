<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[Unity3D] Simple base building in Unity3D | Coder Coacher - Coaching Coders</title><meta content="[Unity3D] Simple base building in Unity3D - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[Unity3D] Simple base building in Unity3D</b></h2><h5 class="post__date">2013-09-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aE1ovzX9yIs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys so today I've got a new
tutorial and it's gonna be about a sort
of simple base building and what I'm
going to show is actually going through
steps of actually collecting some items
and then once you've collected the items
you'll be able to go to a certain
position and actually build up a base
now this is only gonna be really simple
and I'll show you here that I've got set
of 4 cubes that I've made each when I go
down v1 v2 v3 before they get bigger so
it's like making up a base whereas you
could start with your foundations and
then you could maybe add walls to a
castle and then 3 you could add and you
get fall it could be anything and it
could then sort of maybe increase the
health of a certain place and then you
know AI monsters could attack it and
then it go down but this is just a
simple way of showing you how to take
something from say very simple so
foundations and build layer upon layer
so if you are adding things to it I will
be doing a more advanced one which is
going to have an actual GUI that'll
appear in the middle of the screen and
that'll actually let you see how many
resources you've got and actually tell
you how many you need for the next one
let you click buttons but for the sake
of this one it's going to be a simple
where we collect it will go inside a
Collider and we'll press a button and it
will let us build the base so first of
all I'll show you what I've got in my
scene and in my scene I've got well 9
sets of boxes so I've got 3 in each and
then were supposed to represent a
certain resource so black is supposed to
represent wood white metal and red brick
so we have different types of resources
they've got to collect we start off with
building one which actually has the mesh
renderer enabled and it has nothing much
to it we have a Collider that we need to
go into which has just got a box
Collider and it's sector is trigger and
then we've got
building to building three building for
exactly the same press places building
one but the mesh renderer is on tag so
you can't see it until we do something
to it all I've got is my directional
light must things in my scene and then
my first person controller so first of
all we'll start off more create a lot of
GUI to hold showing you how many
resources you've got so we'll call this
GUI build and we'll open up in
monodevelop so in GUI build we'll write
three variables one called current wood
and set that as an integer equal to zero
then we'll have another variable called
current metal I've got as integer equal
to zero as well
variable current brick as integer equal
to zero then what alright alright
function on GUI then with the curly
brackets will say gy dot box open
brackets rect up in the brackets a 5
comma 160 comma 40 comma 20 close that
off comma there put in quartz wood and
then we'll up across the brackets and
put a semicolon then what I'm going to
do is actually paste this in three times
then change that 160 to 180 then change
that 108 160 dab to 200 and then what
I'm going to do is change that second
one to metal and the last one to look
brick so this just displays a GUI box on
a rectangle five across 160 down four to
width 20 height and it will display that
actual and text so what we got to do
here is we're going to copy these these
three going to pierce them in but
instead of putting five we'll put 45
leave everything the same
from what we're going to do is delete
each of the words inside it but we'll
leave the co-op's and we'll set after
the quartz plus current wood and then
here we'll say plus current metal and
then here we'll say plus current brick
so in actual fact all we've got is I'm
going to go back into unity and I've
gone to my first quiz controller I'll
add the GUI build and when I press play
you'll notice that I've got wood metal
and break that with which is simple GUI
to hold it so you can show it well what
we're going to now want to do is be able
to add to these values so when we
collect the items in the scene we'll be
able to add to the value so we'll say
collect what so I'm making three new
scripts collect would collect Rick and
collect metal then I'm going to open up
each of these
that's it so I'll start off with the
metal and what I'll do is I'll believe
them those two out I'll say private
variable material set that the type GUI
build so we're just going to reference
this other script that we've got we'll
save that and we'll save function start
add your two curly brackets below and
same material equals game object dot
find open the brackets quotation this
first person controller cause quotations
the bracket dot ket component and then
we'll say in the brackets GUI build and
end up with a semicolon then what we'll
say is function on trigger enter will
say call call on collider and then there
are two curly brackets and say if call
dot tag is equal to player then we'll
close that another to kill the brackets
we'll say destroy lowercase game object
with a semicolon then we'll say material
dark current metal plus + alt + + and
that's our care for that so all we're
going to do now is literally copy the
entirety of that script paste it here
change that to current brick for the
collect brick script current brick save
that and then we'll paste that in and
change that one to current what we'll
save that
and what will well then do is I will
select all my wood objects and then I
will add collect wood to them and I'll
just check that polite world is under
more yep and then I will select all the
metal and I'll put collect metal and
then I'll select all the brick and
collect brick to it so let's see so if
I'm here and I go up to these I collect
them and it adds one to each just like
that just like we've got so I find the
script if you know you go inside those
objects and it's tagged to play it
you'll destroy the object and then just
add one to whatever the current amount
is so now we're going to get into the
actual nitty-gritty of the actual script
itself so I'm going to write another
script and we're going to call this one
building script and then we're going to
open up the building script want to
develop and then what we're going to do
is we are going to delete that and we're
going to say private variable material
as type GUI build like we did before in
the other script then we're going to
have another private variable called can
build and have that set to boolean equal
to false then we're going to have three
variables one called building one
there's boolean equal to false and I'll
explain this as I go then I'll pass
these in two more times and how they
building building to building three so
what we're actually setting here is that
we're going to actually make three
stages of building we start with
foundations we'll build another layer a
second layer in a third layer and this
is so we can swap each layer when we
need to so now we're going to write
function start
and then the two curly brackets then
we're going to say material equals game
object dot find open brackets first
person controller cause the speech marks
cause brackets say get component GUI
build and then we'll end up but we'll
start off by saying building one is
equal to true so we can build the first
stage of the building then what I'm
going to do is make a ontriggerenter so
ontriggerenter call : collider close
that up add the two curly brackets set
if call dot tag is equal to open
brackets i mean open speech max right
player then we'll close the brackets two
curly brackets below and we'll say can
build is equal to true and I'll write a
little debug dot log and then inside
there I'll say we are in Collider so
that shows the one when the collider
will know or inside it and I will
actually just copy this paste in and I'm
going to make an on trigger exit and
then when when the on trigger exit I
will get rid of this line and set can
build equal to false so what I'm saying
here is that when we go into this
Collider which we can the only where we
can't you build on is if we're inside
this Collider and only when we're in
this Collider does can build equal true
so we have to be able to build before we
can as I say build and so this is going
to be the large portion of the script
now so we'll write the function of debt
add the brackets add the curly brackets
there add the function of in the
function update will set if can build is
set to true and building one is set to
true
then we'll say that if input dot get key
down open brackets a B close those two
brackets then we'll also add another two
curly brackets in there and say that if
material dot current wood is greater
than or equal equal to one and material
dot current metal is greater than not
equal to one and material dot current
brick is greater than or equal to one
close that then we'll add the two mark
curly brackets and I'll explain this as
I go but what we're now saying is game
object dot find and then we're finding
the game objects that we're going to
hide and enable so I'll be once that was
my building one that's the foundation
and I'll say don't get component and
then I'll say in brackets mesh renderer
close the bracket and I'll say dot
enabled is false and what I'll do is I
will copy this line paste it here and
say that we're going to find the object
which is the building too so the next
segment above and say that mesh renderer
equals true so we actually enable that
mesh render then below here what we'll
do we'll say I'll just write a little
not and set materials to zero so I'll
say material dot current would is equal
to zero
or to be honest what I could what we
could do is actually we could just say -
- so what we really want to do is
actually take materials away depending
on how much it's going to cost to build
building so say you had you know
required to wood 3 metal and five bricks
you would take that amount of wear and
when you do it but - - which means it'll
take away one once it's done and then
what we're going to set is building 1 is
equal to false and building 2 is equal
to true so I'll go through all this so
that when we enter the trigger will be
able to and set the can build to true
and then in the update it will be always
checking that if can build is true so if
we're in the collider and building 1
equals true we set that at the beginning
so we will be able to build the songs in
the collider then as long as when the
collider if we press B only when we
press B if we have the correct amount of
wood metal and brick can we actually
then build the next segment and then
from and the next segment with in a
disable and enable and two different
objects depending which one you want to
show and then the materials that you
currently have any GUI well set to - a
certain amount so I'll actually change
this so that's two metal and that is two
brick and then what we're doing here is
building 1 equals false there which is
here so we can build the same segment
again and building 2 is now or equal to
and fro so now we can build the next
segment so what I'm going to do is
actually copy from here that section and
then I will put a couple of line bricks
and then paste that in and now we're
just going to change a few bits so now
if building 1 is equal to true then
we'll say if we set B and believe it as
1
now what we're going to do is actually
set this to b2 b3 so be the second
installment the building's going to be
hidden and then the next section is
going to be built and we'll set wood and
that one brick or take away from them
and then we'll say building two is not
true and building three is so that's
going to build our next section and what
we'll I'll do again is copy that again
add two line breaks in and then what I'm
going to say is actually just shift that
up there and shift that up there so it
doesn't confuse me and say that if can
build equals true and building three
then equals true which does at the
bottom we'll be able to use one material
of each of long as we've got it
collected and we'll be able to say
building 3 and B 4 gets enabled and
disabled and then we will take away from
the current items we have and then what
we'll do is we will set building 3 then
to false so we can't do anything and
then we can delete that line because
that's the last step that we're going to
be able to create and we'll save that
script and then what I'll do is go on my
building 1 Collider add the building
script to that and then I will press
play and when I walk over here you want
to build your base so I'm going to go
over here into the collider you'll
notice at the bottom it says you're in a
Collider now when I press B nothing
happens so I'll run over here and I'll
collect some wood some brick and then
metal all go over here and long mmm um
as long as I'm in my Collider press B
you'll see we created a layer now we've
got no resources I'll go back over here
and I've got reserve resources again if
I press B doesn't do anything only well
much like in my Collider can I then
press B and build another segment to my
building
and then when I've collected my other
set I'll go over here again and in my
Clyde and there there's my full building
as much as it's only a scaling block but
that's pretty much there in the entirety
of making something build up section by
section this could be anything could
happen then add to turrets anything like
that so it could almost make a tower
defense type of game but in actual fact
this is just very simple where to build
a base if that's what you're going to
take you can take my script and you can
go as far as you want with it may not be
the best way to do it but in the end I
thought it was a pretty good way to
build something simple so if you liked
the tutorial as ever don't forget to
Like comment and subscribe
Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>