<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>4. Survival Game Tutorial in Unity 5 - Temperature System | Coder Coacher - Coaching Coders</title><meta content="4. Survival Game Tutorial in Unity 5 - Temperature System - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>4. Survival Game Tutorial in Unity 5 - Temperature System</b></h2><h5 class="post__date">2016-12-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Gxhu9FBI6lw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to another unity 5
tutorial today and this is going to be
looking into creating a temperature
gauge or something like that which will
track your body heat of the character
and depending what happens if you start
sprinting it will increase and lower and
do damage to the health now we can go
more advanced by when it gets tonight it
could go colder and your body heat could
drop I might focus on that in a more
different tutorials when I've covered
maybe a dare tonight's icon things like
that but I'll just get straight into
this what I've created is a sort of
circle UI element which I've just
created in Photoshop and all it is is
just a circle and it's a two five six
resolution and it's a PNG without a
background so it's transparent and all
of them is are brought into unity and
I'm just going to set it to a sprite to
D UI and hit apply what I want to do is
you can see in my game view we've got
all the bars that we previously had in
the other tutorials now I can go to the
scene and under the cumbersome panel
that we previously had what I'll do is
I'll just drag each of the elements that
we had and just sort of put them next to
each other like so but what I might want
to do is just slightly scale up the
panel if I pull that up now I'll just
drag my other things again with the move
move tool and just put them roughly
there wrap the stamina and just put that
slightly below as well I'm not really
concerned about the neatness of this
it's just a way to you know organize and
we go back to the game view and we can
see the stacks up there now
so what we can do is we're going to
create something which can actually lets
us have a sort of circle and display the
things that we want to do so what I'm
going to actually create is a on the
canvas inside the panel what I'm going
to do is I'm going to go to UI and have
an image a normal image is appeared here
that's all well
good what I will call this I will call
this temperature parent and what this
will be is this is where we're going to
power circles we'll drag our UI element
into the source image slot and we could
place it just here let's say and we can
go get back into the game view and we
can see it that nicely and now what
we're going to do we're going to need
two more elements so we're going to need
two text elements in here because we're
going to be create you know moving up
and down a solve heat value in degrees
Celsius and then another thing to
control the actual just Celsius that
won't move so what I'll do underneath
this temperature parent I'll go you I
again text and I'm going to rename this
to temp number and what I'm going to do
is I'll put thee you can see that the
text is there what I'm going to do is
I'm just going to put the text as zero
zero for now I'm going to set the font
size to about thirty and that's
absolutely fine but what I need to do is
only to scale up the actual number so we
can see it so you can use the scaling
tool on the end I'm just going to put it
towards the end of my or the edge of my
object I've got make sure it's rich text
now what we can do is we can create a
duplicate of that and we can call that
sort of degrees C and I can pull that
cross and I could potentially do a
degrees C symbol and what you can
actually do see you in Microsoft Word or
a text editing program if you want to
get the actual legitimate sort of
degrees symbol you can hold alt on a
Windows PC and type two four eight let
go of all and you will get the degrees
symbol so I've just copied it from
Microsoft Word and I'll just paste in
here so degrees C because you won't be
able to get that symbol otherwise and I
will just put that maybe towards
you know this end because we're going to
have a few numbers and with decimal
places so if you can see it again for
we've got that bad and if we press play
you can see that nothing happens and it
doesn't really do anything like
interesting but we've got the element
set up ready so what we're going to be
looking into doing is changing this
number and then changing the color of
this background depending whether you
know you cold or you all or anything
sort of towards those values so what we
can do is we can open up the play a
vital script so in here I will go up to
the top of my script and I'll start by
writing a few new things out so what
we're going to be in able to sort of
control the temperature so what I'm
going to do is below everything that's
talking about the stamina I'm going to
add a square bracket or two square
brackets I'm going to write head and in
quotes in brackets I'm going to write
temperature settings and then I'll just
save that and we'll start by writing
some variables so we write public float
and I'll have one called freezing temp
public float current temp I'll have a
public float normal temp a public float
heat temp and I'll explain these all as
we go along I'm going to have a public
text element and have that as temp
number and a public image as ten BG when
I explain this so we're going to have
all these public variables so we can
access them in the inspector we're going
to have a freezing temperature so when
we hit a particular value going to be
cold our current temperature is what we
would be at any moment a normal
temperatures when you know we're
perfectly fine and that's the normal
body temperature heat temperature when
we might be too warm
the temp number is going to be that
degrees Celsius number that we want to
change and then the background is going
to be that circle that we created which
want to change the color of what we'll
do is we'll save that out and if I go
into unity now and click on the first
person control you can see that with
that header I've just been able to sort
of block out the code of things in the
inspector so we can have a nice sort of
nice arrangement so you can add that you
do the same header and you can do
stamina settings and things like that
just to organize the code more
efficiently now we want to scroll down
to solve the update and function and
what I'll do in here is what I'm going
to do is add a few more statements to
sort of control what we're going to be
doing so I'm going to add a quick
comment and just have it as temperature
and section just for the sake of this so
we can keep everything somehow organized
so what we want to be able to do is you
know check when we're going to have a
temperature above or below a certain
amount and do something according to
that so we can start by doing it will
say that if current temp is ever less
than or equal to the freezing
temperatures
with a capital this time dot blue so
it's just going to set its color to
bloom now what we also want to do is
update our actual temperature and what
we'll do is we'll create our own
function for that because we want to
update the temperature every time we
need it to actually change something so
what I'll do here is I will write void
update temp brackets two curly brackets
below there and I will write in temp
number dot text it's because we're
accessing the
text element that we've got so we're
accessing the text element and we're
saying the text component in there we're
going to set it equal to the current
temperature adopt to string open
brackets in quotes zero zero zero and
then add a semicolon end and what this
is is that we can necessarily because
the text or the text input is a string
and it so just the number of characters
and the current temp is actually a float
you can put a float into a string
without actually converting it so we
have to convert the you know the value
of current temp to a string and we just
use zero zero is that's our and value so
our positive values and then we have a
decimal place value because we want to
be say 36 point four degrees Celsius for
instance and I've written this into its
own sort of function so we don't have to
write this line of code every time we
need it so what we can also do under the
if stem over if we're freezing we can
say the else if current Tim is ever
greater than or equal to eat temp and
we'll just do - not point one and then
what I will do
oh I meant to say that else if that's
what we want in there and I will say the
exact same thing tempe G dot color
equals color dot red with a semicolon
and we're going to just say update temp
again with two brackets and a semicolon
so we're just going to call that
function again what I've done is I've
just on the heat temperature if the
current temperature ever goes above you
know that the maximum or the time where
we might start taking damage I've just
an a minus one so it doesn't change the
color to red straight away
and this time what we can do under here
is say else with two curly brackets
below and say that temporary G like you
might expect color equals color green
with a semicolon and we're just going to
want to update the temp so what this is
pretty much saying is that if we're
freezing I'm going to change you to blue
and update the temperature if we're to
one we're going to change it to red and
we're going to update the temperature
and if or anything else we'll be
probably not so we're just going to
update the temperature and keep it green
so that's pretty much perfect now for
the masked part a palette from we're
going to need to add something to you
know the health so that if we ever drop
into too much into freezing or too much
into them you know the heat we're going
to want to maybe lose some health and
there's many ways we could do this but a
simple way just to give the example is
that I can just grab these two lines
again which mean we're going to do this
or that I want to actually say that if
current temp is ever less than or equal
to freezing temps and again and say that
if the current temp is ever greater than
or equal to and heat temp then we're
going to subtract from the health so
what this if stem and does is if the
health slider is less than zero or the
third sliders lessons they're where our
current temp is less than equal to
freezing our current temp is greater
than equal to heat M then we're going to
do damage to the player you'd probably
need to be able to check that say if
hunger and current temper together you'd
probably do it quicker or if thirst
hunger and you're freezing you're gonna
do it even quicker but for the sake of
this we're just doing it in a simple way
that if any of them ever reach the you
know the value that we expect we're
going to do damage to the players health
so what we want to do then is that if
say we're sprinting we're going to maybe
add two
heat that we've got all the heat that
we've collected so let's say for
instance that we've got our stamina
section and we've got the if character
controller and dot velocity and we're
sprinting we're going to have changing
the values that we did in the other
video but what I watched you want to be
able to do is do something to with the
temperature if we know we're doing
something sort will say that if stamina
slider dot value is ever greater than
zero we'll have two curly brackets below
and we'll say that current 10 plus
equals time a dot delta time divided by
five let's say so what this means is if
the stamina slider if you have some
stammer left I'm and you are sprinting
we're going to actually raise the
temperature by a small amount of a set
period of time and similarly here with
this else statement that we had stamina
going back up we want to do pretty much
the same thing so we'll say that if
current temp is ever greater than or
equal to normal temperature then we'll
have two curly brackets below and say
that current temp minus equals time dot
delta time divided by ten and what this
means is that we're dividing this by
five so it means that as the hair.you
temperature increases we will actually
and become faster come hotter should I
say faster than we do this sort of go it
getting cooled down so we can actually
test this to you know give the example
so I can go on to the player and you can
see this section down here we'll need to
add the temp number to the text
slop will add the temperature parent
over here what we'll do we'll say the
freezing temperature well let's say that
freezing temperature is 36 degrees
current temperature can be let's say 37
start with normal temperature can be 37
and heat temperature is 38 and that's
going off sort of real-world values
mickus 37 degrees is sort of normal body
temperature and if we go above and
beyond we know we can get problems so if
at any point you struggling to see your
numbers you might want to just scale out
this and the temperature number element
and when we press play from our things
we will then get you 37.0 see now we
could potentially just slide the 37
degrees or maybe put the font down just
so it fits on more nicely but you can
see that I can move around and 37
degrees normally and is green I can
start sprinting and the values increase
I'm going to put my Mac stamina at 100
just so we can sprint for a long time
ensure this is an example so that's
seven degrees as I'm sprinting my value
is going up so we can we've hit 38
degrees and we can keep going up and it
will start doing damage to the health as
you can see from the green bar but we've
not lost thirst and hunger so that
wouldn't be affecting it will keep
dropping and dropping until we get to
the sensible value which is 37 and we
will keep on going down until it reaches
the normal temperature which we'd
originally set because we said down here
that if we're technically not sprinting
that if current temp is ever greater
than or
equal to a normal temp we will detract
it but because we get back to the normal
temperature you know we get to something
that's absolutely fine so what I could
potentially do which is for the sake of
testing this I'll get rid of the if
statement here and we can do the the
fall down whenever we actually want so
we'll start and you'll get to 36 degrees
and you'll see that it changed to blue
when we got to a cold amount but we can
also start sprinting to bring the
temperature back up and to things like
that but like I said what you can do is
you can take your and temperature number
slide it all the way across you know you
can make your circle be change the font
sizes you can do whatever you need to
and we can press play again and you can
see that it fits on and we can count up
and down and like I said we can change
this in the future
so we're going to be able to when it
gets to night it's going to you know
make it more cold you'll have to sit by
a fire to warm yourself up but this was
just a small example to get yourself a
little UI on and put text in it add your
little element to see what type of
temperature it was change be able to
change the color of the UI element
depending on what your temperature
depending on what your temperature
actually is and have some quick if
statements to change it depending on the
actual values that you've got and when
you sprint you'd expect to get more warm
and work hard and as you stop your
temperature would slowly drop it's not
realistic in the sense that it wouldn't
increase rapidly so fast because these
are dangerous values but it's just a a
quick example to show you what you can
create with a few simple statements and
a way to control the UI to just get a
bit of visual feedback so I will be
advancing on this in the future
but for now this is it for part 4 so
thanks very much for watching don't
forget to Like comment subscribe Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>