<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>2. Survival Game Tutorial in Unity 5 - Survival UI / Player Vitals | Coder Coacher - Coaching Coders</title><meta content="2. Survival Game Tutorial in Unity 5 - Survival UI / Player Vitals - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>2. Survival Game Tutorial in Unity 5 - Survival UI / Player Vitals</b></h2><h5 class="post__date">2016-10-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/1GEiLBee0nA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to the Survival Series
in unity 5 and this is part 2 I will be
looking into doing the UIs and things
like that and here you'll see an example
in the bottom corner of the you is that
were going to create with the unity UI
system and it's a lot easier than how if
you saw my other video series it's a lot
easier in doing that before I'm gonna be
able to see it and knock down and then
change the health fall down over time
almost set some variables so we can
change these and you know degrading
values on the fly so without further ado
we'll get straight into the series so
you may have seen the part 1 and it was
just creating a terrain and showing the
basic element to going about make it now
I was looking on the asset store and a
few people had asked me to recommend
things that might help them in the
future
now there's a nice asset here which you
can see that I could play and play
around in so if you're looking for
something nice for your if you're going
to be creating your own survival game
and you want it set in some sort of like
nice wooded area model forest erode and
would a tropical island then there might
be a pack for you you can always look on
the stores yourself and this one here is
the realistic nature environment and
it's a written ice pack various and
trees and bushes 30 tree models plenty
of grass textures lots of different
bushes all really nice textures put some
image effects over the top of that and
you can make yourself a really nice
scene so what we're going to do today is
start by doing the you ice that we want
to create so what I'm going to do is if
I go to the scene view I go to D view
and we'll get the ability to do stuff in
the UI
so what I want to do is first create off
a little panel but our stuff can go into
so we can go game object to UI and we
can go to panel and it'll create a
canvas for us and can click on the
canvas and press F and or focus into
that canvas for us now we can select the
panel make sure we're on the scale tool
at the end and we can just bring that
panel all the way down there and you can
test it in game by flicking across and
you can see our panel there and that's
all very nice or you can do is we can
make this slightly dark of this panel so
you'll be able to see you eyes or it may
be a little bit better so from there
what we can do is we can select the
canvas again we can go game objects UI
and slider and from here what I'm going
to do is I'm going to put the slider at
the bottom corner here I'm going to go
over to this side and set the anchor
point to the bottom left just so it
always sticks in this bottom corner
nicely and then what we can do is if we
drop down the slider you can see there's
a few things that make up the slider and
you can see that if i zoom in all the
way we can adjust this slider and this
is going to be the basis to our health
bar first back hunger bar and what we
can do is we can initially get rid of
the handles so you can drop down the
slide area delete the handle if we go
back to the main slider you can see that
now we've got a lot of bar moves up what
we can do is we can rename this mints
lineup to health slide just to make
things consistent what we can do is we
can change the background and that's
going to affect the color on the object
that's behind so what we can do is we
can set that to of red and we can set in
the filler area we can open up the fill
and set this to a green and this can
represent the health that we're going to
have for this so you can close that up
and you can see that we get the bar that
moves up and down
one thing they will notice on the actual
slider is if we go all the way to 100%
all the way to zero it doesn't exactly
meet up properly so it can do is we can
leave it on all the way on the value of
100% what we can do is we can set get
the scale tool at the top here we need
to make sure that everything's at the
very edges of the things that we want so
we could do is we can select the fill
area or we can do is we can drag the
fill area out and just to the end of
where the red goes and we can drag the
fill area to the very edge of the
encapsulation so say we're here just
drag it all the way out to the end till
it snaps to the this bounding area then
we can just grab the fill and take this
back slightly so it again matches the
box that we've got and then if you go to
the slider you can slide it all the way
back down to nothing and then all way to
fill what might want to do is add a
little piece of text so what we can do
here is go game object UI and text we'll
get new piece of text and we can call
this have text and what we could do is
just rename this to my house we can then
set this to a white color so if you
select the color and set it to white
then what we'll do is we'll just grab
the move tool and pull it below that
like that what we can do then is create
go game trick to create empty and we're
going to create and again object and
convicts calculi so if you keep it all
nicely arranged together what we're
going to do is set the x y&amp;amp;z to 0 0 zoom
so what we're going to do is we're going
to put this healthy Y into our panel
then we're going to put our slider on
our text into the healthy y again object
so we've got everything inside
and again you'll be able to see health
but at the very bottom and that's all
one good and that's perfect so if we go
to the health by you I up now go to the
slider you know we can just this garden
now everyone to be that's perfect for
this we can go back into the scene view
again what we can do is we can duplicate
health you I pull this across and then
duplicate it again pull this across
again we're just going to get duplicates
of the same thing which is fine we can
rename this one to first Qi this one to
longer UI and open the thirst UI bracket
what we can do here is change this one
to first slider and I'm sure you see
what I'm going on I'm just going to
change this to first text is just so we
can keep it all nicely organized and
well I'm going to do is change this
hunger to hunger slider home the health
so I'll skip on so from there with us to
open you can go to the first slider up
and go to the background but before we
do that we'll select the slider to pull
it down so we can see it go to the
background and believe that red and what
we can do for the thirst we'll go to the
fill and we'll change this to maybe a
blue so then it looks like thirst this
time and we can close the up go to the
thirst text and just type in thirst here
all nice and neat and then we can go to
the help hunger slider pull that down
rename the hunger text to anger go to
the hunger slider go to the fill fill
and hold it could be whatever you want
we could have it as orange sake of this
and now you can see in our game view you
can see the health first and hunger you
eyes nicely in the car
before you test again we'll make sure
that you panel is also pivot is anchored
to the bottom left as well so you don't
get any strange sort of scaling issues
when you drop in to test your game
everything will be fine
so when we finish that we'll start by
writing the script to control how things
will degrade so what we'll do is we'll
make sure that everything's that hundred
percents will go on each of the sliders
and make sure that all the way up one so
we can have a so we don't actually get
any problems or we can do is right click
on the project go career and c-sharp or
cold x is player refine tools something
like that just so it encapsulate
everything that we're going for then
open up in your coding editor what we do
is we need to drop these curly brackets
down get rid of things in the beginning
and then what I'm going to do is start
by writing a few public variables I'm
going to be able to access the sliders
and change the values thereafter so I'm
going to do is going to write public
slider but we need to be able to get
access to the UI and so with unity so
the top eh so using unity engine dot UI
and then we're going to go back to the
public that we just created delete your
put in and then we'll have access to
slider and then we're going to convicts
health slider and then we're going to do
is we're going to add another one public
slider and we'll call this first slider
then public slider hold with the center
column and now that's perfect now what
I'm going to do is I'm just going to
drop in between these few and leave us
all the line break so I'm going to set
this card neatly out then I'm going to
have a public integer which is going to
be max health
and then we're going to have one below
that another public integer cold health
fall rate with a semicolon and I'll go
through this isn't grandma another
public integer and as you might guess
we're going to have it max first but
make sure you keep everything spoke
correctly public integer first fold late
and simply I'll just copy these two
lines again and paste it up here we're
just going to change this to our copy
hunger and Max hunger and hunger for
rate and I'll just put capital after
this song so from there what we're doing
is we're going to be able to reference
the slider that we need we want to be
able to set the max health so you never
go beyond what's at how quickly each of
the things fall so what we can do and
underneath the lust variables you know
start by writing avoid start two
brackets then two curly brackets below
that we want to say that health slider
dot max value equals max health with a
semicolon and then what I also want to
save is health slider don't value equals
max health as well so what this is going
to do is going to set the max value of
the slider to whatever we set as a Mac
self the roll so the value which it
starts at is going to be set to whatever
max health equals so it's just going to
initiate everything nicely so we don't
have to do anything then and as you can
imagine I'm going to say first slider
max value equals max thirst with the
semicolon and first and slider again dot
value equals max first and then simulate
like Oh
hunga slider dot max value equals Holger
max hunger and then hold a slider dot
value equals max on this n column well I
will save that and I'll show you this in
inspector that one we look at the look
at the first person control valve track
player vitals on to there I'll just
close everything up so we don't have to
look at what I saying is that we're
going to be adding the health the other
sliders in here setting a max first
because the thing weights have got to do
in your slider it's got to set min value
and max value and the actual value that
are currently arms so if we set the max
value 1200 it would be set to 1 because
the inspector says we've got to default
it to whatever we want based on this so
if we put this to max health 100 and
then what you added in the health slider
will do it for all of them so add all
the sliders insert then on our first
science later and added hunger slide
and we can surf these 200 as well and
that's 100 as well so what you can see
is that you see these in the inspector
so one on one if i dot my exercise on
play and press play you'll notice that
when we play it sets them both to 100
ready to go when we need in the script
so from here what we want to be able to
do is start by doing something so it
will start counting down so we're going
to add volume update and with two
brackets and then together bracket below
I'm going to start by looking at the
health and control part I'm going to see
how the health needs to go degrade so
we're going to say that if Holger slider
dot value is less than or equal to zero
and and carbon brackets first slider
value is less than or equal to zero then
the loan goes to brackets that we just
created we'll add two curly brackets and
say that health slider value - equals
time dot Delta time divided by the
health full red times blind to the
semicolon so what this means is that if
the hunger value that we've got on the
bar is lettuce there zero and the first
is zero as well we're going to set
number going to make sure that the
health slider counts down over Delta
tone which is of you know friend and
then we're going to divide it by the
full read that we want and we're going
to terms it by two to make sure it's
faster now we're going to do a similar
thing for if either of thirst or hunger
is down zero because one might start for
the other and health worn decrease as
quickly but if the both down
thing healthful decrees much faster so
now we're going to set else if open
brackets
hunger slider drop value is less than or
equal to zero we're going to have two
line breaks in here almost and it's
between Z and the shift key on the
keyboard and hold shift and you press
the box slash can you create these and
that just does two symbols me either
this or that so if the hunger slider
value is less than 0 or the first slider
value is less than or equal to 0
then what we're going to do is add two
curly brackets below as you would
imagine and we'll copy this line again
like we have there but instead this time
we'll just take away the x 2 so it falls
seamos love and then what we can do
below here that will say that if health
slider don't value is less than equal to
0 then our two brackets belong all say
that you know call a function called
character death with two brackets and a
semicolon what we can do is we can
create its function down here so you can
see boy character def two brackets and
two color brackets and can save in Abood
something clear whether this is
reloading a new scene or whatever you
needed to do and so that controls the
health and how that those health doesn't
fall down automatically unless you know
those are the two bars and are affected
so we can do is we can start by adding
another common table and we'll call this
hunger clean flow so we'll call it the
section we're going to control congas
then we're going to set up if column
gets wider block value is there a
greater than or equal to zero for like
two curly brackets below there
folder slide dr. pol you - equals time
Delta time / the hunger fall right with
a semicolon and that just means that if
the hunger value is ever greater than
zero so that means if you still go up at
the bar left we're just going to start
counting down so losing hunger over time
then we'll get a dip is we're going to
set else if hunger slider value is ever
less than or equal to zero
just it's added at the bottom we want to
make sure that the hunger slider value
is equal to zero so we never go below
zero to a point where we might go into
minus figures if we collected some food
and we added to it never adjust it so we
don't want to be able to go below zero
then we want another else--if statement
and we'll say that folder slider a
bottle value is ever greater than or
equal to and the mucks hunger that we've
set in the script or two curly brackets
below and say the hunger slider got a
value equals max hunger so just like
with the zero you couldn't go below zero
we're never going to allow it to go past
the maximum hog so we done in the break
and again all this really this
programming is is just a way to go about
stopping the player doing things that
they shouldn't be able to do and they
shouldn't be able to break again and
it's just a logic that goes behind it so
you need to think of what people might
do in your game and then I call this app
the first controller and we're going to
do something extreme listen to what we
did above so I will copy the entire and
three soft statements that we had a
pestilent below and what I'm going to do
is I'm just going to change that to
first slider so what I'll do is I'll
copy first slider
paste it in each time let's see slider
elsewhere but in these we need to change
this to first fall rate
so first full red that's all good and
then maximum first we'll copy that and
then paste it here we'll press soon so
we're just doing the same thing as
hunger so we'll be able to and make sure
it doesn't go above and below the
maximum amounts and false or false when
it's above zero so we can do is we can
minimize this script we can go back on
to our first most controllable we've
added our player vitals if you've not
added that yet you can do that now and
you can add in your sliders just by
dragging them from there
is the maximum health thirst and hunger
are all equal to 100 and we're going to
just add a value in to make sure how
these actually fall away so what we're
going to do is we're going to initially
set the health fall rate to 5 the thirst
to 2 and maybe the hunger to 4 and we
can see what these do over time and you
can see that the thirst is counting down
and eversource more quickly than the
hunger so the small of the value the
faster it will actually come down so if
I put that 1 we put that at 6 for the
first and the hunger will get their
thirst count to em you know sort of
going down much faster we can click on
these sliders and you can see over time
how it's affecting it and we can make it
quicker or more slowly by adjusting the
same likes there so say you want the
thirst to tick down quicker we can just
put 50 in the max first and have it
degrade at 1
and you can see that it's slapping down
much more quickly and the hunger because
maybe that's more realistic you're dated
a third before hungry so what we could
do is we could set both max hunger and
Max 3010 and have them fall down two and
six and it will go down much more
quickly so I'm gonna get down to the
bottom you will notice that the health
will start to degrade to to the thirst
so you can see the health slow degrading
all I can do is I can speed up the
longer degrading if I set that to one
and it takes down much quicker so really
that's pretty much the fundamentals of
creating the are you eyes with a simple
slider some texts Senate panel and we
can adjust the script by we've just got
some variables which control the maximum
mountain the fall rate and we put the
sliders in there then we just have a new
update function to control how and how
they fall whether they can go above and
beyond the amount specified and whether
or not the hunger and the thirst and can
go above and beyond the maximum values
and just stopping it in case you can you
know use and drink some water or
anything like that so this is just the
best to creating any solve survival
system that you that you want and it's
just a simple UI and thanks to unity 5
it's made it a lot lot easier to make
something a little bit more and
nice-looking and easier to customize so
again thanks very much for watching
don't forget to Like and subscribe
Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>