<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Creating a Survival Game in Unity: Part 9 - Basic Fishing &amp; AI | Coder Coacher - Coaching Coders</title><meta content="Creating a Survival Game in Unity: Part 9 - Basic Fishing &amp; AI - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Creating a Survival Game in Unity: Part 9 - Basic Fishing &amp; AI</b></h2><h5 class="post__date">2015-01-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Ae7XJ8Ai42I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to part 9 of the
Survival Series tutorials now I know
it's been quite a while as I always seem
to say but this time we're gonna be
getting into something fairly simple
fairly straightforward but it will help
you then go on to create something more
substantial if you gone to editor or I
might edit in the future if enough
people want it so we're going to go to
the basis of some fishing mechanics so
what I'm gonna do first of all is we're
gonna make a cube you need to imagine
that this cube is an actual fish because
I'm not going to bother modeling a fish
because so represent this in code we'll
just use a series of boxes now what
we're gonna do is going to have one cube
that's gonna represent our fish and then
we're gonna have a series of other cubes
which you're going to class as our
destinations so if you might imagine
what a real-life fish would do it would
just sort of swim around aimlessly
towards different directions so that's
what we're gonna sort of allude to in
this script it's gonna be really simple
and it's not going to be perfect because
say you have a model where the fish's
head is in a particular direction it's
not gonna turn that face to go into the
direction that its swimming it we're
just going to show the basic concept of
moving an object to different
destinations randomly depending on when
it's moved to that said destination and
then from there we'll be able to press a
button when we got close to our fish
object and we'll be able to pick it up
and go into our inventory so again like
I said you could use things like a loop
to make the movement of the fish more
smooth you can maybe use a look at
command so that you have the head always
looking at the particular objects that
it's moving to as I say I might go into
it more detailed but for the sake of
this I'll show you and then you can make
is advanced as you want so sorry about
that long intro what we're gonna do is
we're gonna create a game object create
other and then I'm gonna create a cube
and my cube is gonna be just here sort
of almost on way your son might be all
where ever you want this is just to test
it and so what I'm gonna do is I'm gonna
actually rename this and call it fish
and then what I'm going to do is I'm
going to create a new tag for this and
we're gonna call this fish as well
because we're going to reference that in
our scripts that we use so from there
we'll make sure it's tagged so we've got
a fish here pretend that's a fish I'll
scale it down slightly so maybe then
yeah look there now it looks like a fish
but what we're gonna do is we're gonna
set a series of destinations for it to
move to so what we're going to do is
we're gonna create another box which can
be just place anywhere place it there
and I'm gonna name now best one for
destination one then what I'm going to
do is gonna go create and they're never
going to create an empty game object
we're gonna call that destinations it's
just so that I can keep we keep the
scene nice and organized I'll shove my
stones from the other tutorial and my
objects so we can keep it all nice and
then in destinations we've got one
object here we'll duplicate it or put it
there we'll maybe put that a slightly
higher we'll want to rename that to
destination two and so on for the amount
of actual destinations you ever want
your AI R fish to good moving to so I'll
add one more and I'll put it slightly
higher and it's gonna move between these
four points
now we're gonna write a script which
calculates or it's gonna choose a
particular object to move to at any one
point so if it's move if the fish is
just standing still it'll choose a point
that he wants to move to and then I'll
move to it and then if it's already
moved to that point it will find another
random point and move to that one just
stop you get that random variation you
can have as many cubes as you want but
for the sake of this I'll just have four
destinations so what we'll do is we'll
right-click and we'll create a new
JavaScript file and we'll call this fish
movement
and then we'll all put up a funnel
develop so what we'll do to begin with
is I'll delete the two starting
functions that we've got and I'm gonna
write variable target as type transform
and then what we need to do is add two
square brackets I'm gonna semicolon and
this is going to start our actual a rare
that we're going to use sort an array
holds an amount of objects that you
specify within the inspector so it's so
it's aware so we don't have to write
variable target one as type transform
variable target to as type transform and
so on for as many sort of movement
destinations as we want so we're going
to be able to specify it within one
variable so it's a lot more neater and
faster to use so then we're gonna write
another variable and we'll call this is
moving and we'll set that as a boolean
equal to false and so that's gonna test
whether we're actually the fish is going
to be moving and then we're gonna have a
variable called speed and has that type
float equal to 5.0 F now this is the
speed at which your fish are your object
will move so you can set that in the
inspector depending what you like then
we're gonna have one more private
variable and we're gonna call this a new
target and set that as type transform as
well so what we're gonna do is we must
start off by writing function up there
two brackets then two curly brackets
below so we need it in the update
function because it's gonna need to
check every frame then we're going to
say that if is moving is equal to false
so we're saying that if our fish isn't
moving we're gonna have to killer
brackets below then we're going to say
that new target is equal to the targets
that we've set inside a square bracket
random dot
range open up a normal bracket zero
comma
target dot length you need to make sure
that the target is the same as you've
set at the top here it's just that it
changed it for me and then what we need
to do is we need to add a bracket to
income capsulate the other bracket that
we started with and a square bracket to
close up for our array so really what
we're doing is these square brackets
here and here I'm in reference to this
these two brackets up here so we've got
the target and we're specifying we're
looking for a random range of 0 between
0 so that's the start of the array to
the actual length of the array or I
spelt that wrong so that's gonna make
sure that our new target that we're
going to look for is within this array
of the variable target we're going to
look for a random target between however
many there is in there and then we're
going to said that is moving is equal to
true because when we found a target to
move to what we're gonna do is we're
gonna say that is moving is true so we
then can't then recheck for another
random target to move to so sorry if I'm
going over the same bits but I'm trying
to reiterate the ways of we're making
sure that we're not looking for another
target when we're already moving so
within here and then the update not
within any if statements because we want
to do this all the time we want to say
transform dot position equals vector 3
dot move towards open brackets transform
dot position comma new target dot
position comma speed times by time dot
Delta time close it up
add a semicolon so what this means is
that
we're gonna transform the position of
the object that we're gonna put this on
so we're going to put this on the fish
we're gonna set it to move towards the
position so from our starting position
to our new targets position which we're
gonna set at five times by the time at
which the game's running so it's going
to force it to move in a particular
direction towards the destination that
we've set from the random target that we
found so now we need to be able to check
that once it's got to its destination
wanted to find a new target to then move
to again so then if transform dot
position is equal to width two equals
new target dot position close that up
and we'll add two curly brackets below
then we'll say that is moving is equal
to false with a semicolon so again I'll
quickly go through this is that if the
cube is moving if the boolean is false
which it starts off as it will find a
new target between what we've set then
it'll set is moving is true so it won't
be able to do that if stammering again
then here it will always be moving in a
particular direction with one where we
set its destination
if the actual beginning position then
finds itself at the end position of
which we've set then we'll say that it's
moving is true so it will then find
itself a new target so we're just
getting some random bits of AI in a way
but very very basically so we'll add our
fish movement to our actual fish object
then what in the target will click the
drop-down and depending on how many
destinations we've got we'll put far
into the inspector or more got a few
elements Lots now what we're going to do
is add destination one and you can click
the little the little find arrow at the
side and it will let us find each of our
game objects you can also drag them in
from here over to the inspector
but for now that's okay now if we test
it out it's not on maximise on play
you'll notice that if I look at the
object you'll see that the fish moves
between the objects randomly it'll
randomly choose which object to go to it
might go to the same one twice it might
stick at the same object itself but it
will always move between a random object
depending on what it decides to find so
obviously a bit more random if you've
actually got more destinations to move
to but again this is just very simple
and this is just a case to show you that
yeah we can get something moved between
as many points as we want but it might
take some customization on your part to
make it look more realistic but from
there we've got the simple movement you
can make the speed slower if you don't
want it as quick what we need to do is
want to make sure that we can walk up to
the fish whatever we want to do and pick
it up or collect it catch it whatever so
this is not gonna be very complicated
again like I said I might do a tutorial
where you use a spear and we might soup
up the script almost and make it more
survival best but imagine it you're
gonna catch it with your hands when you
get close so on our main camera we've
got a script called rare cast collect
and rare cast collect is how we actually
collect all our different objects with
within everything that we need to do so
what I'm gonna do here is like my other
ones here that I've got if we hit the
game tag coconut we're gonna be able to
pick that up what I'm gonna do is I'm
going to copy that entire staring again
so it's if hit collide again object off
tag is equal to coconut what we're gonna
do is gonna Pierce that slightly below
there I won't gonna do instead of
coconut we're gonna say fish this time
so if we've hit hit the collider and the
game object tag equals fish we're going
to show the GUI which is going to set
pickup if we press E we're gonna then be
able to collect the item I'm going to
infantry dot fish because that's the
name of the variable that holds the fish
with net then what we need to do is we
make sure we destroy the fish or the
object that we're looking for and then
we turn the GUI off now if you need to
look or what the variable for the fish
it being cold if you go onto the first
person controller I'll look at these
scripts I provided on my website it's
that the infantry script if I open it up
in my on develop you'll notice that at
the top we've got a public variable fish
so that's all we needed to reference to
so what I'm gonna do is I'm gonna make
sure on my fish it's tagged as fish and
we've got a box Collider on it so what
we're gonna do is maybe I'll make my
fish move slightly slower so I can keep
up with it and then what we're gonna do
is we're gonna play the game we're gonna
see it and we're gonna be able to go
because this is not fullscreen it's a
little bit weird we can press E and we
catch the fish now if we look at our
inventory we've got one fish which we
didn't have before now if I play again
to show you that we've got zero fish and
then it will always do that in
particular now what you can actually do
is with all these destinations what you
can do is you can delete the Box
Collider off them because you don't need
them to be to be collisions and what you
can do is also delete the mesh renderer
so you can and obscene them so really
they're not gonna render very much in
terms of again so you can see that
you've got something that you don't see
it's destinations moving to yes it's not
perfect yes it's not the best thing ever
but it shows that you can get something
that works like I suppose a random fish
would move but actually has it so you
can make whatever you want within the
future so you can take this to an
advanced level if you really want but
this is that's just a basic way and
hopefully in the next videos I'll show
you
how to do maybe looking tomorrow
advanced stuff maybe look at it too
swapping weapons but one thing I did
want to do is that say we've collected
some fish like this we're going to be
able to open up a new solve menu our GUI
when we look at crafted fire and we
going to be able to cook the fish or do
whatever we need to do boil some water
for instance some again thanks very much
for watching and don't forget to Like
comment and subscribe
Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>