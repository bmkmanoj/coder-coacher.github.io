<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Creating a Horror Game in Unity - Part 4: Fading Torch | Coder Coacher - Coaching Coders</title><meta content="Creating a Horror Game in Unity - Part 4: Fading Torch - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/SpeedTutor/">SpeedTutor</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Creating a Horror Game in Unity - Part 4: Fading Torch</b></h2><h5 class="post__date">2014-03-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IfJXttE3h04" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys so this is gonna be part 4 of
my horror tutorial and it's gonna be
showing how to make a sort of fading
torch effect so in a lot of horror games
that you'll see you'll see a flashlight
or something on the floor and you know a
flashlights you know meant to build the
suspense and you know keep it quiet you
know you can't really see very far you
can turn around easily and see behind
you but a flashlight is a good way
because it makes it more tense so in
this tutorial I'll show you really easy
way to make your flashlight
I'll let the home help you script it so
we can turn it on and off and also make
it so it fades over a period of time and
you can adjust all the settings
depending on how quickly you want it to
die down or even not at all so just a
quick note before I start this video
I've been a little bit busy recently so
in d-zone has taken a backseat but
hopefully this week I'll be able to get
a couple of videos up and going so
people can start seeing some content and
seeing some games but anywhere we'll get
straight on to this tutorial so my scene
here is like I made in my part 3 which
was create in the forest now within here
what I've got is my first birth
controller and the forest obviously it
is dark but for the sake of this I've
just disabled the light elements so we
can see what's going on now what I've
done is I've created a game object to
create over and create a spotlight and
all I've done is position the spotlight
in front of where the player looks so
obviously you just want to position the
player you know whatever rotation you
want 0 180 0 and then select your torch
again and the make sure it's positioned
in the same place on up on the same
angle so you get exactly and the right
fact that you want and then you can
check it in-game you can see it's puns
you know wherever your players gonna
walk so then what you can do is change
the range and the spot angle and you can
do that either by adjust in these
variables that this side are you can
just select some of the nodes and pull
it in and out and depending what you
want with your game and I've just
renamed it torch so we know what's going
on and then what we'll do is make sure
your parent you torch to your main
camera so obviously now when I play my
game you can see my torch and you run
around and all day whatever anyway now
one thing that I have added to the torch
is a light cookie so if you actually
select your torch if not already and
then you can see a cookie sort of game
object in the inspector so what you can
do if you don't already have it is on
right click on your project panel import
package and then you can import like
cookies but anywhere is a standard asset
that comes with the unity and it comes
with a flashlight flashlight irregular
and just some sort of alpha materials
that you can put over a light to make it
look like a torch wood anywhere will get
straight onto the script now because
they were just some basics of setting up
your torch
well create a new JavaScript and call
this torch control then open the up in
monodevelop okay so people want to
emitter zoom in so they could actually
see some of the text sometimes when
they're not looking it in high quality
so I'll zoom in for now as we go through
so what I'll do is I'll delete these two
functions and I'll start off by same
variable and torch click let's type
audio clip now that's obvious if you
want to make a click sound when you you
know it turn your torch on and off so
that's just you don't act of this but
I'll go through it anywhere then we want
another variable called flash light as
tight light with the capital at a
semicolon now I want to say function
star open the two brackets
and add two curly brackets below then
we'll say flash light dot light with a
lowercase dot intensity is equal to
eight
now set this to whatever you want your
initial sends to intensity of your light
to be so you know it's depending on what
you want but I'd have a a so that's as
bright as it'll go I think so what one
do is actually copy this line again and
I'll paste it in above and then what
we'll do is we'll get rid of intensity
this time and set enabled equals false
so when we start the scene the torch
will automatically be enabled so you
know we can't use up our battery or
whatever you want then what you want to
do is create function up there add two
brackets add two curly brackets below
then want to say if flashlight dot light
dot enabled is equal to true then we'll
add two curly brackets below and say
that flashlight dot light dot intensity
minus equals not point one timed by
time.deltatime divided by five and put a
semicolon and then I'm just gonna write
debug log open brackets and then I'll
write flashlight dot light dot intensity
open close that up and add a semicolon
now all that's going to help us do is
let unity output the actual value of the
light intensity as it's counting down
per frame but all we're doing here is
that the flashlight intensity goes down
by not point one every second of Delta
time but we're actually dividing Delta
time by five so it doesn't count down
every second because we don't want it to
go too quick so obviously you know you
could get rid of this
/ five and it countdown that quickly you
could obviously do at times by 10 so it
makes it go down really fast but for the
sake of this it will go down very
gradually over you know that set period
of time till it gets to zero and then
what we'll do is below the curly
brackets that we've got with that infant
we can set if input dot get key down
open brackets add two quarts but an F
inside there whatever button you want to
turn your flashlight on and off then add
you two brackets at the end then add two
curly brackets in there and say that
audio dot play one shot open brackets
torch click so that's the sound that
we're going to use if you turn it off
and on and off then below that will say
if flash light dot dot light dot enabled
not enabled is equal to false close that
up
add two curly brackets below and say
that flash light dot light dot enabled
is equal to true and then under that set
of curly brackets we'll say else and
I'll just zoom out slightly
adding YouTube hella brackets under the
elves will say exactly the same thing
here but will actually set this then to
false and then and what I'll do is save
the script and I'll zoom in again so
I'll just explain what's going on so
what do we start off with we set the
variables that we want we set the light
to false so it doesn't turn on until we
tell it we'll set the initial intensity
of the light then in the update then
we'll say that if the flight is enabled
then we'll count down Delta time of the
intensity so it'll count down not by one
of an intensity every whatever time
we've set it
we're just output into the console
obviously you can delete that our
comment it out with a double backslash
but for now I just leave it like that
and then we'll say that if we press the
button we'll play a sound and we will
play we will make sure that the light
turns on and off depending how we've
clicked so as long as you've saved that
out what we'll do is we'll go back into
unity select your torch
object and then if you add the torch
control you might you're gonna need to
add your torch variable so I taught the
flashlight to there and then you can add
a sound click but I'm not going to add a
sound clip because you I don't have a
torch sound by anyway it's just a simple
you can download yourself now when I
play my game obviously you can see
nothing and you watch the console at the
bottom it'll output something obviously
we could see the sky there now if I
press F to bring the torch into view
you'll notice that the console starts
outputting a value and you'll notice
that the intensity starts counting down
so what we actually doing now if I press
F again to turn the flashlight off
you'll notice that the intensity
countdown has stopped so therefore you
can't actually then you know count it
down if you've turned it off so obvious
you can turn it back
and go wandering around in your game you
know and do it as ever you you know like
to make it one thing you could do is
obviously collect some objects to make
the timer go back up again but all you
need to do there is as I've shown with
other tutorials that if you walk over a
Collider then you just add a certain
amount of time to a certain amount of
intensity back to the flashlight so
either by picking something up on either
on a rare cast or when you on mouse look
and then you just add a quantity back to
it now obviously this doesn't show any
fading GUIs
so a battery indicator I haven't shown
that and they obviously haven't shown
how to pick up batteries now if there's
a big demand for it and people you know
still want me to do that I'll make a
sort of four point five and then I'll do
and making GUI buttons and may and be
picking up some batteries but see how
this goes and let people do this
so as ever thanks very much for watching
my tutorials don't forget to Like
comment and subscribe
Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>