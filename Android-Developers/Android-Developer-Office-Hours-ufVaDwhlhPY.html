<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Developer Office Hours | Coder Coacher - Coaching Coders</title><meta content="Android Developer Office Hours - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Developer Office Hours</b></h2><h5 class="post__date">2012-09-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ufVaDwhlhPY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone and welcome once again to
Android developer office hours my name
is Jill Mel and i'm a moderator next to
me as Trevor John's and then down the
line in his official Android workers hat
is Dan Galpin our engineer today is Dan
fan we have some great questions today
but I also encourage you to come into
our hangout or type in your questions as
well we've got lots of time to do that
today on we're bringing up hangouts as
quickly as we can so bear with us
meanwhile we'll hop into our first
question on moderator and that is
gentlemen should your app store all data
that's not sensible in / SD card as /
data is quite small on some phones but
on the other hand data in / SD card on
the Galaxy Nexus ends up in / data / and
personally I prefer / data what's the
best way to handle this I'm a little
confused about what he means by / data
versus / data / because that's the same
path I'm wondering if what he means is
that information stored on / SD card on
Galaxy Nexus is still stored somewhere
inside of / data because the device
doesn't have a external SD card right so
i'm not sure where else you put the data
in that case is i assume what he means
in this case is SS watch SD card /
android / data that's the only and it's
the only the only place that today's
actually words can end up getting record
and even its they like the only real
differences on Galaxy Nexus is one of
them has a case depend I'll system one
doesn't two and one of them is of course
excess
other applications so I and you know and
I think that if it's sensitive data as a
general rule you want to avoid storing
it on the SD card if you're starting a
lot of data you know the SD card is
safer and then the real question is how
do you detect the device like galaxy
access which is using continuous storage
both and is that it that is kind of an
interesting question you know it's a
general rule you know we don't really
suggest actually using a different
approach based upon the different
devices but you know the goal you know
going going forward it's really really
nice to have devices where it's all one
file system like Galaxy Nexus you don't
have to actually worry about this and
it's kind of a nice benefit of the
design again any any comments on on best
practice around that trevor is our way
to detect whether or not you have a
single file system or multiple yeah well
you can check the external storage state
which should tell you without there's
actually an SD card mounted or available
um that being said I usually you know I
think the rules just look at what type
of data it is like Dan said if it's
something that's small and or sensitive
it's usually best to place it inside of
yo in the apps private near tree within
/ data if its large and or publicly or
should be publicly accessible then you
should put it on the SD card regardless
of whether or not that's a real SD card
or not and then really the only other
thing you have to watch out for is the
case where there's not an SD card
present so you know a device that uses
external storage but the users remove
the SD card in which case you really
only have one choice which is internal
storage or I suppose you could refuse to
run but let's let's avoid that that
possibility normally you want your actor
on but yeah I think just looking at the
use case were what type of data you're
storing will dictate where you store it
and regardless of where the notice
actually a real SD card or not shouldn't
make a difference yeah that's the real
question is the word is in the in the
question is sensible
and I am NOT for a measure we need I
think he means sensitive there I don't
know if that's what I thought I was
always a bit sensible in terms of in
terms of large data you know it would
make sense so you know large data you
know generally you want to put on the SD
card sensitive you know data you want to
put on in the data space so i guess
that's that's the best we can do there
it's a city so I Galaxy Nexus that will
it always show up as an SD card mounted
or will never show up as an SD card
mounted well that's a good question i
want to say they'll show up as mounted
because that way that that's how you
determine whether or not you can
actually even attempt to write so it
should show up as always mounted right
right that's what I thought ok yeah now
that you do not select a watch out that
if the user is using an older device
that uses a fat file system for external
storage in other words it's using an SD
card when the user connects the device
to the computer and turns on USB storage
even though the SD card is still
attached it'll become unmounted as far
as your application is concerned so it
is possible for the SD card to disappear
even one is inserted in the device and
so on all over the vices it is it is a
lot more calm than I think a lot of a
lot of developers realized yeah and if
you actually have a filehandle open on
that SD card evil android will
immediately terminate your application
so it went when the SD card of unmounted
together the others the other side of
using it
okay thank you gentlemen our next
question is my activity has a spinner in
the action bar each item corresponds to
a fragment a use case where if I select
an item from one fragment I have to
replace the current fragment with
another fragment how do I manage the
back stack okay so i'm not sure if it
really even matters whether or not
there's our fragment there or not i
think the big question is here is what
was the correct user experience and when
it comes to something like a spinner on
the action bar I like to think of this
is similar to tabs the top and if you
look at pretty much every system
application that uses tabs when you
switch tabs back doesn't take you back
to the old tab it'll take you back to
the previous activity which you know in
many cases means just right out of your
application assuming this is your home
screen and so I think with a spinner the
paper should be the same so when you
switch tabs don't change what's in your
back stack and for those of you who
don't have a lot of experience with
fragments whenever you do a fragment
transition is up to the developer to
determine at what the new state of the
back stack should be so in this case it
would just be as simple as not doing
anything to the back stack leave it as
is whatever was in there previously will
still be your previous entry and when
you hit back over to that and any more
interesting question is is is the
question if you have a you have a
fragment and you click on something in
one fragment and replaces that fragment
with another fragment
and my assumption in this one nice my
assumption in this one is that if we
actually are again having two methods of
switching between these fragments one
that's that's using spinners and one
that's using the you know being able to
click on one fragment replace it it
probably makes sense and not put it on
the back stack it is you know feeling
again like a transition to a completely
different state than it may make sense
and I think that's that one's the only
thing it's tricky at that point is you
know what happens to those spinners in
the action bar you actually changing the
state of the action bar to disable those
spinners at that point and again there's
just not enough information this
question to give a really thorough
answer but I think I think again it
ultimately comes down to the user
experience as far as managing the back
stack itself you know you obviously it's
fairly straightforward to assign IDs to
the various fragments and you can
actually you know very easily look to
see whether that fragment is currently
in the back stack you can pull it out of
the backstabbers there's a lot of stuff
in fragments actually magic but you in
this case we're really talking about the
user experience rather than you know the
kind of mechanics of it right and I
think a good example if you need
something to look at it what correct
behavior would be would be gmail so
gmail has a spinner in the action bar it
has a lot of different activities a lot
of different states and so add to google
accounts to your phone fire up gmail and
play around right you'll notice if you
do switch accounts and you hit back it
doesn't switch back to that they're
counted it doesn't count that as a state
change but if you you know if you open
the menu a message and go back that does
now when you do open a message the
spinner disappears and it gets replaced
with the action bar it's updated to
reflect your new context which is
viewing a message rather than viewing
your account list in your message list
so a lot of subtle details there you
need to take into account but I think
that's a good example
okay thank you gentleman question I'd
like to put a viewpager on half of a to
pain layout can I put a viewpager in a
fragment and more fragments in that view
pager I'd like my left pane to hold
swipeable lists on the right pane to
contain details of list items that are
clicked so this is one of those cases in
which I would say that it's not strictly
necessary to use a fragment and in fact
you know as a general rule are our dev
team tries to discourage people from
putting fragments within fragments you
know the goal but that's really what
views are intended for you know the
fragment really is is is the idea of a
fraggin visually to maintain since state
you're going to be showing in two
different in two different kind of
application states whether that is you
know alone and by itself in a full
screen view that's going to have an
activity about a fragment stack
associated with it or if it's going to
be in you know side by side like tablet
layout it's it's trying to take those
pieces and turn them into reusable
components in this case I think it's
it's almost always a better idea to
actually just use the view hierarchy
itself the the actual pager actually
does not view pager actually can be done
without any fragments at all it works
quite well just with views and ergo view
pager and and not that's how I would do
it I don't think there's a particular
advantage in using a fragment here now
let's say that you still have some
reason that you want to do this there
are some caveats that you should be
aware from a technical perspective if
you try and display a fragment or if you
paid your inside of a fragment which
contains another view pager fragment
manager can get a little bit confused
about how to resolve all of that when
you do a transition and from what I've
heard even though I'm never going to do
myself you can you know the solution we
to make sure that you don't set your
view pagers adapter until after the
first transition is completed and then
that's as simple as making sure that's
done inside of an async task or a
handler something like that just making
sure that it's delayed a bit and then by
the time you're rendering that the
second fragment the first fragments
already there again though you probably
don't want to be doing this yeah I mean
you can definitely put a view pager you
know inside of a fragment and you can
certainly put whatever you want inside
of that view pager you know the real
tricky thing is of course is when you
get if these multiple you pager States
and there is a mechanism that's actually
in jellybean that actually does handle
some of this unfortunately it's not
which allows it to actually track the
scroll ability of an internal window
which allows a lot of like you have you
page within a view pager you can
actually do stuff like scroll to the end
of one and then have that once it's
finished scrolling it'll actually scroll
to the next in the primary pager stuff
like that but none of that is actually
available in the default implementation
that you're going to use for across all
the different android versions so there
is there's some work if you want that
kind of that kind of experience again
from your question it sounds like you're
more interested in just having a view
pager inside of inside of a fragment and
that's fine
okay all right and so Daniel is telling
me that we finally have hangouts up for
so for those of you who are joining live
feel free Dolph on those of you who are
joining us for the first time today just
as a reminder for everyone else you are
certainly welcome to go and hop onto our
hangout and ask us questions live we
loved hear from you and if your
questions already in the moderator queue
feel free to hop on to a lot of times
you know we can ask you for more details
and it's just we can give you a better
answer you're on here to have a
discussion with mice so we do have a
limit 10 people at a time so try to make
sure that you're only joining the
moderator are sorry if you're only
joining the Hangout if you have to have
a question to ask just to make sure we
keep those slots open and for those that
for everyone else feel free to watch the
livestream either on youtube or
developers.google.com/jobs in the
Hangout version so YouTube for watching
hangouts for life questions and
definitely help on and ask us questions
we'd love to hear from you agreed thank
you thank you very much next question
too frequently sink a database from the
Cloudant SQLite on Android should I use
a background service activated by a
wake-up alarm or a sync adapter and if I
use the ladder would only need a nun
account for or do I really so that
depends on the nature of what you're
thinking it depends if you need if you
have a cam credentials you don't
necessarily need to implement an account
it's entirely possible go and place them
is into a shared preferences file or
something like that what we said earlier
make sure your private data is actually
being stored on internal storage rather
than SD card make sure set to mode mode
private so no other apps can access
but you normally don't need an account
unless you're providing authentication
credentials to other other services on
the device so for example if you
implement the area if you want to talk
to Google services you can talk to the
google account and ask for an auth token
that's what it can manage your less you
do now going back to your original
question though should use a background
service or sync adapter if you use sync
adapter Android will periodically don't
sync your data on a schedule that it
determines this is a good things that
make sure the phone can do things like
optimizing for battery life it's really
bad to go and have all sorts of
different services thinking at different
times because that means that to wake
the radio up a lot if and go and batch
those into one big sync operation to
cost all apps on the phone sync it after
it's great for that it's good for your
users that being said if it's a fairly
infrequent task or if you have some
really odd semantics that would prevent
sync adapter from working properly you
know background service works perfectly
fine there's nothing wrong with that
other than like I said you don't get the
optimizations that sync adapter gives
you yeah I think I think the real
question because if you target the
latter is is do I need do we need an
account in order to use sync adapter
that's that's that's a great question he
was curious about I would say that um
weaning this and knowing about how sync
adapters used and things like contacts
provider my guess is that he is asking
things about an account because sample
sync adapter which is about the only
documentation we have for sync adapters
on uses auth tokens and the answer that
I would give in that context is that's
not required it's there to show you how
to use it but you don't have to use it
it's used there because um sample sync
adapter sinks to a Google service that
needs authorization and using the
structure that same sample sync adapter
abuses you
we have to provide like an account name
and a password once and then an
authorization took can distort you don't
so that helps using synced a predictive
sync adapter doesn't have to be able to
count on being able go back to the user
yeah there many open web services are
going to require account information
right &amp;amp; sig adapter is still a great way
make sure that the phone can kind of
optimized system can authorize for
battery life there are some there are a
lot of things that's sync adapter gives
you for free um as Trevor said it
schedules things automatically at a good
time batches up things together on it
will also check to make sure it won't
run um if you don't have network
connectivity so you don't have to go off
and test for yourself that the networks
available sync adapter will do that for
you so it's just a question of how
compatible your particular app model is
with what sync adapter does now that
answers the question do we have anything
out there and hang on land no yeah we
sure do oh good so gonna click to Jared
on go ahead one second jeredy all right
here she'd be like good hey
holos like we don't actually hear you uh
hold on Milan me try the red knob din
push the red button red knob on the hang
up slider right go ahead and try talking
again no see speakers are on speakers
are very on yes you're gonna be loud
trading volume up dan on the mac hello
oh boy uh-huh they're right we're
experiencing some technical difficulties
stand by for a second is it muted is not
needed all right reg slider is up red
knob of hangouts is up do you see any
audio coming in from the computer on the
level satellite
try jiggling the cable going to the
speaker it up in the board but see
trevor is a prime troubleshooter here
right hmm hmm nope as expecting some
noise there oh I ordered something try
popping again let's see if it near you
now know are you getting audio on the
computer like you see his level
indicator moving yes alright so the
soundboard is working do you have the
cables plugged with the reports is it
plugged in is it turned on hit the
volume adjust button let's see if we
kidding me are you here all the same
things I do it on you buddy aha alright
that's good alright we're talking now
but now we hear you excellent it only
took two days oh that's good so I'm
having some trouble with a spinner
action bar ok after using it for a
certain period of time it doesn't seem
to matter how long or there's no
constant on how long are having the
interactions with yeah but basically
will happen is the spinner will stop
working and Android outside of my apps
logcat will report that the windows
already focused and ignoring the focus
game and I've seen this all over stack
overflow but I haven't seen any answers
that pertain to an actual spinner
and it doesn't actually cost me public
sphere a port just messages in logcat
well the user input is ignoring doesn't
even make it to the app okay interesting
because the the warning its Android is
reporting a warning from the tagging is
input method manager service it says
window already focused ignoring focus
Nina of at com android internal view and
that that occurs in the system log kehte
if i look at my apps filter it doesn't
show up at all and what could let to
bite you on here to add a crowd favorite
version what this is a Galaxy Nexus
jelly bean okay that's a tough one and
then nearest I can tell is it happens
when I do a lot of changes to the data
adapter for the spinner like the
specific thing is that the spinner store
is a bunch of locations and if i delete
locations and then reset the data
adapter to the spinner after maybe three
or four of those it will stop
functioning or if i use other views in
the activity for a while and then try
and change with on the spin art stops
functioning now are you actually
changing out the spinners adapter or
you're just telling us that the data is
changed well I tried telling it just
that the data's change that didn't seem
to actually reset the contents so I'm
actually changing the adapter okay that
might be hint there then because when
you're going to change the date the
adapter there's a lot of work that goes
on under the hood
oh and update everything it normally
should be enough to make sure the data
is present in your adapter and then
telling the spinner the city has changed
that's that's the sort of the canonical
way to go and update anything sorry I'm
saying normally you want to make sure
you update your adapter and then tell
the spinner or whatever controller using
the data has changed that that's sort of
the canonical way to update any anything
that is displaying the contents of an
adapter on Android so I'm my guess is
your problem has something to do with
the fact that you're changing lead after
out entirely now the other problem is
and how do we fix that so that when you
call datas Chaney when we you notify the
data has changed that update has taken
effect and normally that should be
automatic as soon as you call that
method the update near the content
should change so something I find I'm
using an array list to back the adapter
and I change the array list then I
should just tell call notify data set
that changes on the adapter that's
correct and then so I need to register
the actual spinner with that right or
does that automatically call do that
automatically cause the spinner an
update the spinner should update as soon
as your adapter has been updated yeah
well the spinner is it would notice it
when notified dataset changed I think
you have to register them I think
notified data fit don't notify did set
changes is usually when you're tied to a
type of content right that's true that's
true right so so we're talking about it
fun so if you're not actually doing
generating this from a content provider
then then notified state data set change
is going to do anything because it's
gonna it's going to notify the
registered content listeners and there
are going to be any content search goes
no providers right which is exactly
I ran into I call it nothing would
happen yes now I wonder if he is
possible that you're actually making a
copy of the Ray when you try to update
it and the adapter still has a handle on
the old one is it is it is it possible
that actually happening somehow uh well
i have a class that keeps track of that
array list and it will reorder things in
the list remove things from the list add
things to the list and then after that
function returns is when i'm trying to a
big spinner okay so it probably should
still be the same copy then right
entrusting so right now the only way I
it works most of the time except for
after a little bit afterwards you know
so a certain amount of interaction like
because we're done for you same contents
that's why you're changing out your your
adapter though right right yeah I really
shouldn't have to go and change the
whole adapter I think I think that's
definitely not the right way to go
that's first off you even ignoring the
fact that this is breaking swapping an
adapter is a a relatively heavy
operation so you think it back the way
it's supposed to work your adapter
normally is tied to a sequel like
database you know nothing wrong with
hanging it to an array or anything else
but normally they're tied to a database
and every time the database updates
you're not going to go and rebuild a
whole new adapter and updated it should
just update in place so so then how do i
get the spinner to update when i change
the ArrayList that's a good question now
I'm aaj normally at my understanding was
just something the ArrayList should be
enough the answer was stolen and
validate the view maybe or you shouldn't
have to do that that's something that
the spinner should do itself
mm-hmm are you anything right definitely
didn't work staying yeah I think I also
gonna take a look at what what's
actually going on the code um you know
my my experience is that it is that it
should cease notifies gays have changed
it's been a while since I because
because because the problem is it is it
dates a change is based on the constant
observer pattern in the content observer
pattern is all right I mean the way this
is architected the spinner us review
should be independent eh it should be
you shouldn't care what's happening
inside of your adapter which is your you
know your which is responsible again for
that's your data observer essentially
actually I believe or is the data that
are where the spinner any case it's
supposed to be off to mark
compartmentalize your view is
independent of what the doctor is doing
and the adapter should you know as soon
as there's any updates to the underlying
data model you're using your ear your
array it should automatically propagate
those updates back up to the view and
some something fishy is going on here
with the between the interaction when
you're away and your adapter I think we
need to take a look at your code and see
what you're actually doing there well
I'm yeah I should probably probably get
this done stack overflow for you guys to
look at but basically the pattern is i
have a class that manages a list when
that class makes any changes to the list
it notifies the activity and they right
now the activity resets the adapter
which is obviously incorrect but it
technically should work I mean it's yeah
which is you cannot the way you know
what should i do but oh you should bed
with this problem this I mean this this
this seems like this it seems like there
you're running into some sort of
probably some Ray's case an issue where
there's there's that there's a the item
that's focused is not actually getting
cleared correctly it does sound like
there's some reason we're just somewhere
okay it is a little odd to that if
you're navigating around your views not
interacting with the spinner at all that
the spinner will suddenly stopped
working right like we implemented a
sliding drawer type of view and if I if
I use a view element in that drawer then
the spinner completely stops working and
this doesn't modify your way at all
right in your data forever same no no
changes to the data set I haven't even
modified the the data adapter okay let
me say yes you're not changing it there
so there's got to be a second issue of
play yeah I think we need to take a look
at your code something it's probably
something very subtle I mean your
overall approach here doesn't sound like
it should be causing this many problems
right that's kind of what I was feeling
I and I spent a week and a half trying
to find
and within trying to figure out what is
causing this issue so i'll post as much
as i can on Stack Overflow hopefully
it'll be enough okay yeah just be sure
to post a link to the question in the
comments either I was your question
about you this is a dick not the
question earlier about the spinner right
this is you're a different person I'm
the one at the top of the chat but not
on moderator ok ok um post a linkedin
actually checks going to get a race when
we log out can you put it as a question
on our the G+ link for this or the jeep
under yes your google plus you'll see a
post for this event leave us a comment
there and that'll that'll stick around
after the show ends just so we can make
sure we can find your question after and
then we can go ahead and get you some
more information offline ok does good
thank you yeah thank you thank you for
your patient we have anybody else out
there no ok we'll go back a moderator
here I want to use an HDMI capture
device to make a demo tutorial videos
from my apps before I in before I
something in a capture device well hdcp
prevent me from recording the hdmi
stream when the device is displaying my
app will results vary depending on the
android device so in in modern devices
we've actually added the ability to have
the concept of protected content versus
unprotected content and i don't believe
that there's a lot of older devices that
a little mirror that don't have this
flag so your application can actually
choose just to say that you're actually
the protected stream on on with the
latest version I'm looking at Trevor
like I think that's right sounds right
to me so as long as your app isn't doing
that you shouldn't have any issues with
hdcp you know we regularly capture video
on the Friday review and on the app on
the App clinic
friday as well so i think that i think
that's you know the real the real issue
is actually getting an HDMI capture
device it's going to work well with your
ear Android devices is probably the
larger issue there and you know it's
sometimes you know some sin HDMI capture
devices may not actually do a complete
negotiation of hdmi parameters so we've
run into that as a / as an issue so you
know beware eated really does need to
some of the Android devices really do
need to get a validated coming back from
the device they're plugged into and not
all capture devices will actually
present that so that would be my my only
my only concern there so my suggestion
is uh get if you get a capture device
make sure that you can return it because
you just until you've actually tested it
against your specific device you you're
not going really know whether or not
it's going to be able to do that
successfully yeah I think that that
pretty much summarizes it HDMI capture
in general is always sort of tricky HDMI
is a consumer protocol it wasn't really
designed to be easy to record and you're
going to find yourself you know then
it's not an Android specific thing just
nature of working with hdmi you're going
to find yourself fighting the system all
along the way as you try and record a
source unfortunately there's not a good
consumer replacement available out there
as far as here in the studio we convert
everything cameras tablets you know
everything we can we convert into HD SDI
and that's a much easier for Matt to
work with but like Dan said our HD SDI
converter boxes still have some trouble
decoding the signal from Android and
that's on the hdmi side and there's
tricks you can use to get around it up
there's some devices out there that'll
modify the eated and try and fix the
association bugs we've run into but it
is a bit of work and be prepared to
spend some time getting things to give
you a nice video signal I I'm just gonna
go and say curse to people who made hdmi
it when it works though it works
beautifully when it works right but
you'll be able to get a temp sure if you
didn't even need any links to a possible
hardware feel free to follow up with a
soft line we can give you some product
recommendations probably not something
we should cover on the error just
because I don't want to go mentioning a
hold us to brand names but we'd be happy
to help you off on a one by one base or
a one on one basis and let you know what
hardware we use here okay great thank
you anything else Dan know enough from
enough for me i was on what i'm looking
at the next question already okay good
super let's could you offer some tips
about using proguard for an app that
references many libraries I've spent a
lot of time on using proguard to no
avail the primary errors are duplicates
definitions and library classes
depending on program classless gentlemen
so I mean I think the first thing to do
is make sure sure you are actually
starting with our proguard file for our
probe our configuration file which we do
ship is part of the SDK and it's built
its added if every project that is
created using the Eclipse tools and so
that at least we'll make sure on the
Android side of things that you are
leaving the play feed pieces on
obfuscating that need to be left and
obfuscate 'add I think the the trickier
part is you know what's going on in your
specific situation involving libraries
and I assume we're talking here about
just uh you know
java libraries rather than library
projects my experiences at library
projects actually work quite reasonably
well with office keishon because
ultimately they're just built into the
same jar and it's all one thing that
pops cated all together I don't in terms
of what's interesting in the case of and
I think that's actually what you're
going to want to do is make sure that
all your libraries are all statically
bound into into one jar file and rather
than trying to obfuscate the jar file
and try to bind those into it
independently into the into the Android
file because otherwise it's all going to
get shoved into one giant dalvik mess
and you're there on all of the opposite
of names are going to collide I think
that might be what's going on here again
I haven't tried to do this from the
command line tools but that's that's my
current theory but again you know you
statically linked it into one bundle I
think it will actually do what you
wanted to do any comments there I that's
pretty much the same thing I'd recommend
otherwise you'd make sure you there
there are some things that proguard just
has a very hard time optimizing around
especially links between you know
classes that are not explicitly
referenced or things like that and
sometimes you just have to tell proguard
to exclude those classes from being
optimized but
or maybe it's going to depend on the
specifics free application so without
seeing your source code all we can do is
give you a very general advice great
thanks next question is when taking
pictures from the front camera I see the
images flipped mirrored what's the best
way to handle it and are there any code
samples to draw free lines on image view
like to draw something app but on an
image view all right let's leftover the
first question there so the way can the
camera flipping works if you are looking
at a front-facing camera android will
automatically flip it there's some notes
about that in the documentation and I
don't believe there's a way to override
that behavior do you know of any damn no
I'm not that I hope I mean the easiest
thing to do of course is to implement a
matrix and matrix to unload it when you
are displaying it that's and that's
that's pretty straightforward the this
the second question is how do I draw
lines on to an image you and the answer
is you don't but what you can do is you
can actually take and create and create
a canvas that is using that image as its
base and then you can draw lines onto
that canvas and then you can put and
then you can get in that canvas clean
based on a bitmap and you can put that
bitmap back into an image view so that's
one way of doing it another way of
course is to create a custom control
that that is that you could derive from
image you and then I would be very
similar the only difference is you're
going to indy ondraw method you're going
to call the standard image use draw and
then you're going to then take that
canvas and draw whatever else you need
on top of it so I think both of those
are our kind of reasonable approaches it
really depends on the performance one
thing that's interesting to note about
drawing lines if you're talking about
drawing lots and lots and lots of line
segments especially and sort of
continued
lines are allowing the user to kind of
add draw on to something if you're using
the built-in line drawing constructs you
will see that on accelerated canvases
things are going to start getting pretty
slow because every single time you draw
a line segment and add it to that
geometry you're actually going to
generate a new texture so it might be a
case where you might want to experiment
with using and a non accelerated view or
actually do Austrian off-screen drawing
both of a child approximately the same
impact but definitely you're if you're
talking the same where you want to know
sort of continuous drawing you DEP you
may want to play with that from a
performance perspective yeah and as far
as actual code samples I this is a
pretty specific use case I'm not aware
of any that overlay line segments on top
of a an image view but there are several
examples of drawing apps within the SDK
samples I know there's one in the API
demos it's not it's not going to do line
segments but it does do just points you
can take a look at that than we see how
to go and render things onto a bitmap
and then you know go and convert that to
something more usable that was a
probably good place to start it is also
a pretty good and review on doing this
wait wait wait we should we should we
should get our accident right
android yeah sorry there's an in the end
of divinity as a developer guide which
we refer developer training developer
train neuter do internally is being
enter at you thank you and in developer
training there is actually a very good
section on segment on making custom
controls and it actually draws pie chart
that's animated on any way of you and
it's pretty cool and so that might also
help
not exactly drawing lines but it does to
involve drawing ones in false drawing
all its drying yes right I would seem to
me that you probably would want to have
a custom control if you really want to
have something like I'm an imagery or
something like that as part of a larger
application whereas if you're just
trying to write an app that that you
take pictures and draw lines on top of
it you can probably get away with having
some sort of canvas and drawing lines on
top of that without necessarily happen
having to implement it using an image
view yeah I really depends on how you
wanted to come creating your screen
right you know it's helpful sometimes to
have that custom view it again you could
have that image be a background for your
custom on you it doesn't even have to be
an image you it really depends on the
kind of control you want to have over
the reproduction of that image if you
want to have to be able to use the
mission image view options for scaling
and positioning you know then you might
want to base it on image you you've got
a lot of options though there okay um
next question actually before we move on
sorry is anybody on the Hangout yeah
that's good no sir okay okay just a
reminder for those of you who are
watching live and have just tuned in
feel free to join us live by hopping on
the Hangout and ask us whatever injury
related questions you want we'd love to
talk to you and we have plenty of open
spots otherwise feel free to join us on
our moderator where you can go and vote
on existing questions so with that back
to the moderator queue okay next
question from moderator on implementing
in-app billing but when I tried to buy
some item in the sample app I don't get
a response to my app and after a few
minutes i get an error reason to too
long to deliver this bug was in known
issues for almost a year is there some
update
okay um I'll take that one I guess
there's a lot of things in play here
thanks for yeah yeah there's a lot of
different if you apply here which is why
that's been innovation own issues for so
long we fix some of them some of them
still are still outstanding and there's
been some new ones that prop it up
cropped up recently and collectively all
these will just really affect the rate
at which user see these errors the
number of years who see it is it's a
small faction of users but as a
developer you're likely to see you know
you're you're the one who's receiving
all these reports so it's probably gonna
seem a little bit worse than it actually
is I mean it's definitely a serious
issue we do take it seriously and we are
working to fix it oh well I can give you
a little bit of background for try to go
ahead back so nice presided questions
he's trying to buy one of the sample
items in the sample application is that
no this is an actual item right son item
in sampler that's how is it's an actual
item it's it it's not it's not the
Android test says of you the key thing
to make sure any way it is is you know
the one is that the application has been
uploaded to Google Play that you're
testing it's the same version of the
version that's you've also activated not
necessarily published but you've
actually activated the version that's
been uploaded there are a lot of things
that can cause errors no it wouldn't
cause that error though it'll come over
right let's just go ahead Trevor let's
yeah yeah so basically the important
thing to know here is usually when users
get that error is one of two things and
the most common one almost always is it
just means that the user has been
flagged for additional risk review and
we have a roughly 30-second timeout for
order to complete if it takes longer
than that Google Play will cancel the
order and the user will see that error
in the background we're still performing
our risk review if you if these are
comes back and performs that purchase
later our usual recommendation is wait
24 hours sometimes it's a lot quicker
sometimes it can take longer depends on
the individual circumstances the order
will go through basically we have to go
and vet that user and make sure that
the order isn't fraudulent we have a lot
if we have a machine learning-based to
approach this we have a lot of risk
factors that go into the into our
analysis and we're actually pretty good
at detecting when orders are fraudulent
a case you there's some false positives
and that's usually what you see here now
the other case is a case you there are
some technical issues like you know a
credit card processor goes down
something like that which can also cause
that time out this is rare but just so
you know of every now and then if
something like that does happen that can
cause a temporary spike in these error
messages to our advice to users is still
the same just come back try the order a
little bit later and it looked probably
and well it will go through if you try
it later so that's our advice again we
do take these errors really seriously we
handle it on a case-by-case basis and if
you do happen to see it feel free to
open up a ticket with Android developer
support if you go to
developer.android.com at the bottom
there's a contact link or contact us
link click that open it ticket and
provide us your order IDs the support
team going double check and see exactly
why that error happened and escalated to
our engineering teams if it's something
we haven't seen before okay it sounds
like the right thing to do next um we're
still okay on hang out correct alright
so next question from moderator I
develop OpenGL having an floating point
since the docs see the link say that
float and double or equivalent but
double is bigger why do you recommend
double anyway and so really we're really
talking about performance here you know
and so obviously there are cases in
which it's going to make a difference in
terms of performance to be setting a lot
less data is what happens if you're
sending you know single precision
floating point but there are times in
which having the additional fidelity of
actually having double precision is
going to make things look better I think
I think that in general what the doc is
trying to point out
is it because of the architecture of
modern CPUs you're really not going to
lose a substantial amount of performance
really any by going double most and
executed double essentially as quickly
if they execute a single precision
floating point you know a bit of
arithmetic i think that the trickier
part is whether or not you're gonna be
saturating memory bandwidth you know
what how much you how much memory you're
actually taking up all of these things
the other thing of course is when you're
actually getting into opengl into using
shaders on the other hand there is an
enormous difference between using low
medium and high precision within your
shaders so there is sort of there is a
kind of a second everything you're
talking about OpenGL and you're going to
be using low precision your shaders it
doesn't really make sense to be feeding
these things in with you know double
precision values necessarily but but in
general I think that you know the docket
is it just jumps simply saying that
floating point is is more expensive than
integer math and double precision
doesn't really cost you performance it
just costs to space and that's that's I
think that's really I think I think
that's pretty clear so okay all right
mm-hmm well i buy that answer yeah um
next question on moderator I've seen a
post of you on g I'm not sure who is on
G+ about new features of the ATT the
most interesting feature for me was the
ability to preview a layout in different
ways that is multiple languages side by
side did I miss the ETA or was none
present I believe that was supposed s
something we showed it off at at Google
i/o I actually can't remember off the
top of my head I know it's it's a there
where I know we showed up a whole bunch
of new features that are not yet
available I think those are those are
coming you know it you know but we
schedule the way the white stuff works
by the way with tools is we actually
develop the tools in the open so at any
time you if you don't see the future
there and we've announced it you've come
please go and pull the tools and build
them and see whether it's actually in
the version it's currently buildable on
AOSP the tools are really cool that way
I mean I've certainly told someone know
the bug has been fixed we have to
release it roll out a new version of the
tools but if you want go grab that so I
don't know what the state that code
currently is in you certainly can go and
grab it and see whether that can be
enabled if it was something we showed
off it google i/o but i don't remember
when we've talked about the side by side
previews yeah i can't remember the ETA
for that being released but again like
dan said my stall developed in the open
you can go ahead and you know take a
look at the code and see what the state
of that is I'm pop with it actually you
could just check the release notes on
the android developer website and see
what's actually in the official releases
we have someone I have you ever sure
dude okay great fire away oh he's my
dark hmm are you still there audio wise
hello hello yes I am yes I am oh just
barely hear you can crank the volume
pump up the volume okay that I was
wondering it is it recommended to keep
the size hold on hold on is not gonna
have the headphone key speakers hmm
we're having a sound problem again I
wouldn't worry about the screen I'd
worry about thought oh yeah sorry let me
sir put the headphones on and tell us
what he's saying are we all right I'm
going to listen your headphones this um
is it recommended to keep the side
drawer okay I think we just lost you
come o or hang after we started the
question I heard before it restarted was
is it recommended to keep the side
drawer I'm not sure what else followed
that so oh we're coming back online
alright uh you still there yes okay yeah
sorry we lost you for a second there
could you repeat that one more time um
is it recommended to keep the side
drawer constant the pattern and is there
any way to put it on the other side of
the screen okay so the question for
everyone else here on set is it
recommended to keep the side drawer
constant the pattern constant or and
also as is possible to move the side
drawer to the other side of the screen
so i imagine the side drawer is like in
google+ or youtube where you have a
navigation sidebar the pops out correct
yes ok yeah so yes that is okay so i'm
going to go ahead and put the headphone
actually i think i can keep this on i
look sort of funny but um yeah answer
your question as funny as i looked think
i'm gonna get lean down so I can hear
through his head no no I'm looking funny
um so that this site the sidewall
pattern it's definitely picked up some
pop popular lately besides your Google+
YouTube's used it I believe Facebook
uses that ever net uses it definitely a
lot of interest from developers but it's
not part of the official Android UI
guidelines yet it's it's basically
something we're experimenting with if
our design team decides that it's
actually something they like and they
want promote they'll add it to the
Android design website and then we'll
probably overly slab sample code for it
or at least code snippets but it's also
entirely possible to decide that it's
not the direction they want to see
Android going in right now we don't know
where we're still waiting for official
feedback from them so for that reason we
don't have much in the way of official
guidance on how to implement implement
this feature and for that matter what
when you again questions like can we
move it to the other side we're not even
sure does that make sense right it might
make sense for things you know maybe you
have a left-handed user I can see use
cases where to make sense to have it on
to the other side from a technical
perspective we don't have anything as
part of the framework that would do this
for you so it's technically possible to
places on either side since you have to
write it from scratch yeah my feeling is
that since the overflow menu tends to
sit on the other side that it makes
sense to have this sort of functionality
opposite that but if there's a really
compelling reason in your UI and you
know you think you think you're breaking
new grounds I said there is no official
pattern on this so you know I think ltb
comes down to you know does it serve the
user well now the user is actually you
know has a whole bunch of established
applications that are doing it the other
way so I think you know it's certainly
worth considering you know whether or
not it's worth changing their
expectations in this way and that's what
ever we deviate from the pattern you
know I think
and for any one of our patterns whether
it's one of the ones we've actually
established or one of the are or one of
the ones that is sort of implied by the
ecosystem I think that it's always good
to look at the user and say was the
users what are the users expectations
and and why would does it mean a white
is changing this makes sense in terms of
their expectations right and is it you
know like Dan said most the time when
you see a draw on the left it's always
on the left on top of that also your up
button is always on the left and users
read left to right so I think those are
all really strong arguments for most the
time placing that drawer that slide
after all on the left ok in yeah the
only reason I was wondering that was
because I because some users like prefer
having actions on the right versus left
and that was the only that that's the
only reason that I thought that would
make sense ok also want to give the
onset yeah basically the comment was you
know some users might perform prefer
having action on the right versus the
left and that would be D the reason why
he was considering doing that yeah I I
think that that's something it's
definitely a valid point to consider but
again you have to wait with what the
rest of the ecosystem is doing and
what's familiar by users so it's a very
fine line there there's not a one
hundred percent correct answer but i'd
say like the ninety percent correct
answer is it should usually be on the
left I was yeah I was going to add that
um google TV for instance has a pattern
in which they replace the top action bar
with the side action bar and the side
action bars on the left just because TV
displays have a substantially different
aspect ratio and form than mobile device
displays and as I said they're the
this bar is on the left on and there's
no option is usually provided on going
to give us feedback then yeah no options
usually provided to move it to the right
i would say that your specific questions
about should it use the same pattern yes
should it stay on should there be an
option to move it to the right i would
say that it's not really necessary I
mean it's you know in general most users
don't need to have that sort of option
it's it's preferable to have and at a
consistent you I rather than one that's
infinitely malleable yeah you know I
obviously put I mean see see what see
what response right if you're getting a
lot of feedbacks hang one on the other
side then I would say go for it you know
because you know always ultimately you
want to listen to your users and not
something we kind of believe here to a
pretty strong degree but but again you
know I think that there's a lot of
there's a lot of prior art that actually
has it on the left hand side you a
google TV allow the reason we have it on
the Left it's because of navigation
because you know we're using a 480
pattom so it's easier to navigate into
that from the left and it is to navigate
up and then moves for a bunch of options
so I think that was that was a lot of
the design decision around that as well
all right thank you yep you're welcome
thank you for calling in all right so we
have about two minutes left it looks
like okay don't think anyone else is
waiting on hangouts so let's try one
last question um could you recap my
question on the missing shortcut docks
last week couldn't hear most of your
answer due to static my main use case is
to replicate the place on home screen
menu item in the detailed view of the
People app is this possible with app
widget I think this is where we discover
that it wasn't really an app widget it
was a shortcut that's correct yeah yeah
and the docks were missing for those ah
yeah and if somebody who worked with the
docks do you want to take this one yes
on
the only thing that we can do at this
point is I you know have you file a bug
to say we need documentation on this
other than that um you know I can take
it back to the documentation team and
say we need more documentation on this
but um that looks like it was a feature
that was mostly exploited by the People
app because they knew something about
how the thing works and they could go
directly to the engineers and other than
that i'm not sure that there's anything
else that we could do yeah now the eagle
app is open source though so yeah I
always be screwed in the end up I always
hate like sending people off to the to
the USA go look at the source when
there's other options available but in
this case there really isn't much else
you can do at the moment so go to source
told intercom and you can check out the
Android source tree it's a bit large but
you can take a look at the people's app
and see how they implement this and
that's probably the best resource you
have available at the moment right yeah
I would agree with that at this point
all right I think we're out of time yes
let's yeah any much all right guys yep
there it is so yeah whistle tone thank
you for joining us so again for those of
you who are joining us for the first
time we are on every wednesday at two
p.m. pacific we love to answer your
questions you can submit them ahead of
time on our moderator queue vote them up
or join us live and we'll see you next
week wednesday 2 p.m. great until then
all right we'll see everyone hand
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>