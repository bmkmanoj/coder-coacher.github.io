<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Turbocharge app conversions with Android Pay - Google I/O 2016 | Coder Coacher - Coaching Coders</title><meta content="Turbocharge app conversions with Android Pay - Google I/O 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Turbocharge app conversions with Android Pay - Google I/O 2016</b></h2><h5 class="post__date">2016-06-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WCL6X92L7ZY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">grafton everyone welcome and thank you
for joining this session on turbo
charging app conversions with Android
paint I'm avnish military product
manager on android p i'm joined here
today by walter cacao software engineer
on the Android baking we're here to talk
to you today about the state of in-app
commerce and some of the challenges we
see with in-app commerce and how Android
bacon help address some of these
challenges for sales of physical goods
and services in your apps you'll hear
from one of our launch partners
opentable on how android pays enabled
Richard streamlined experiences for
their users outside of a traditional
check out and finally Walters going to
walk you through the android pap is to
show you how easy it is to add fast
streamlined payments to your app with
just a few lines of code so to get
started I want to talk about where we
are today with mobile commerce we've all
heard about you know the potential for
mobile commerce through the last few
years but it's exciting that we're now
at this inflection point where commerce
is going mobile first and leaving online
commerce in the dust it's not to say
that ecommerce isn't growing in fact in
the last year alone ecommerce grew it
about ten percent but m-commerce do it
about 3x that rate and a lot of that in
app and all of that commerce is
happening in apps over sixty four
percent of global smartphone users
reported making a purchase in apps and
this is the in-app commerce is happening
in a lot of the traditional shopping and
retail apps that you're familiar with on
on the web and that a lot of that is now
moving to apps but increasingly a lot of
in-app commerce is being powered by
innovative platforms on demand services
and marketplaces and you've all seen
apps in these categories they're
disrupting high frequency high spin
categories like transportation food and
grocery delivery hotel reservations
hospitality barking household services
and a bunch of other categories that we
haven't listed here you recognize some
of the top innovators in each of these
categories and all these apps as it
turns out about an Android pain
so that's the good news is that in a lot
of Commerce is now happening in apps but
the not-so-great news is that conversion
is still a huge huge challenge and if
you attended the session today on over
web and what how you know payment
request is solving that I think the
problem is still the same in apps as
well it's the long registration forms
the long check out forms with over 15
steps to add your full credit card
number your CV see your expiration date
your full billing address and if you're
shipping somewhere else your shipping
address as well so it's not surprising
that over fifty-five percent of users
drop off of a mobile checkout flow if
you look at overall card conversion it's
even lower lower than fifteen percent on
mobile and a lot of apps today are
trying to solve this problem by creating
sign ups getting people to sign up for
an account saving some of that
information so users don't have to
entered again the next time so what's
the problem with that remembering
passwords with seventy-six percent of
users report for getting their passwords
and having to reset them repeatedly by
the way how can we solve this problem we
think android they can help you can make
you can let users check out your app and
check out as a guest without having to
sign out in the sign sign up for an
account or produce any password and
that's because users already signed into
that Google account on the Android
device and with the Android pay when
they click a purchase button in your app
they can easily share their payment and
shipping information with the app with
just a single click I'm going to
demonstrate here like this is actually
this is fancy one of my favorite
shopping apps and one of the early
developers that added Android pay can
you switch to a vision please I'm gonna
fit of fancy there's this nice moscow
mule mug that I've been eyeing ever
since I created that slide so I'm gonna
actually try to buy it now
they're just a single click and you'll
notice how quickly that you I surfaced
up there at the native UI it's a new
bottle if you've actually check out
Android pain in apps today it's a
slightly different by flipper this is a
new flow we're gonna be coming out
within a few weeks and again as
developers when we make these product
improvements you get them for free
there's no you know reintegration
required to will be innovating on the
product and improving conversion over
time and as developers you'll just get
these benefits so i can actually
authenticate with my fingerprint here
you'll see that informations pass back
to the app they've used the shipping
fancies use the shipping address to
calculate the shipping amount here and
if it looks good i'm going to go ahead
and submit the order and if my card
actually gets successfully approved here
there we go so fancy confirm the order
that's amazing and what you'll notice is
right as they charge my card there's
also a notification from android pay
with the app logo and so your users we
take into an Android pay rich receipt
here they can see that your app logo and
they can open up your app if you want to
surface more information about their
order shipping times etc
I'm good next night sir
so you see now android-based actually
fast for users what what that means the
US developers is it's going to really
increase conversion in your app and
we've seen prob we've seen these
different results from like fancy for
example that reported over twenty
percent of their orders coming in from
Android pay and 2x the conversion with
the android p relative to other payment
methods in their app android p is also
super easy for developers to integrate
walters going to walk you through the
API is in detail but this is a data
point we hosted hackathons for some of
our early developers and almost all
developers is able to integrate android
pay and added do an end-to-end
integration with android pay in just a
few hours and finally android pay is
more secure for everyone in the
ecosystem secure for users because they
don't have to hand out their full credit
card numbers to our tube merchants and
worry about merchants getting breached
the way we achieve this is something
called payment organization so instead
of returning the uses actual credit card
number we're generating a virtual
account number when a user sets up the
android pay and that's the number that's
shared with merchant apps along with
that you'll also get a dynamic dynamic
security code that can that ensures that
token can be used only once merchants
benefit from the authentication that we
do on users users authenticate and set
up a device unlock including fingerprint
on supported devices like you saw there
so you've heard from me by the benefits
of android pay but i wanted you to hear
from one of our close partners and early
launch merchants opentable you may be
familiar with opentable as a
reservations app but i want you to hear
how they've enabled rich commerce
experiences with android pay so i'd like
to invite my qualms from opentable
thanks Amish opentable on behalf of the
table really excited to be part of
Google i/o so for those of you who don't
know opentable is the world's leading a
provider of online restaurant
reservations we see roughly 19 million
dinars a month across 37,000 restaurants
all over the world and as of since our
date of inception in 1988 we've seeded
over a billion dinars globally what we
enable users to do is search and find
restaurants based on their availability
and provide information such as verified
user reviews menus and other relevant
restaurant information upfront and allow
them to easily book through mobile apps
and sites and as avnish mentioned before
alluded to we we also support allowing
users to pay with pay their check
through the mobile app and the goal of
payments was really to improve that end
of meal experience and what typical
experiences usually starts with you know
the end of the meal and you request a
check from your waiter your waiter then
goes the point of sales prints it out
and then hand to hand you to check and
you hand your credit card over the kind
of credit card gets run brings to check
back you have to do some mental math
quickly to calculate the tip and then
you finally sign the check and so with
payments on opentable we're really
trying to remove eliminate all those
steps except for the last one so all you
have to do now is simply tap to pay so I
think a lot of you can kind of relate
with the pain points we're trying to
solve with payments particularly for
instance if you were planning a night
out you have you know dinner and a show
or movie or meeting up with friends and
you've come to the part of the night
where you've ended your meal
now you're doing the dance trying to get
you know the waiters attention you make
eye contact do the whole signing thing
in the air just so you can close out
your bill when so mighty med opentable
we kind of encounter that similar
situation what we went out for a team
lunch and you'll hear a lot of these
kind of situations where you know we we
went off our team lunch and we kind of
sort of forgot our meeting at one
o'clock and we're running late so we
were able to tell our waiter hey you
know we're gonna pay with opentable so
you see like all five of us get up and
like walk out the door and we just
simply tap to pay and that really makes
that seem seamless and streamlined
experience really relevant but you know
as ivanishin mentioned before getting
set up with pay there are some necessary
evils like when getting our user setup
for payments you need to have a payment
method so it typically involves adding a
credit card number x3 day CBC zip code
and we also ask for phone number to
verify your dedication Joe then we'll
send your code and then once your
verified you're finally set up for
payments and as you can see it involves
a pretty complicated process a lot of
friction involved but with Android pay
you really eliminate all of these kind
of hiccups in it and the steps get set
up so all you really have to do is have
your device setup for android pay and
will recognize that you are set up
properly set up and will automatically
set you up for payments so all you have
to do is make a reservation and pretty
much enjoy your meal at the end of your
meal you'll get your check on your phone
mmm you'll be able to choose a tip
amount and don't worry we'll help you
calculate it and all you have to do is
tap on Android pay
and as aventuras mentioning before
you'll get a push notification
confirming that your card has been
charged and with the added bonus of
being an Android pay you get to see this
charge along with all your Android pay
transactions in the end repay app so it
open table we really truly believe that
you know when payments with payments
with no cash or cards exchange hands
you're really free to enjoy the moment
and with that I'd like to hand it over
to Walter will walk you through how to
get your app setup thank you Mike so now
let's see how you can add Android pay to
your app in less than 20 minutes okay so
first let's go through overview of the
Android pee pee eyes and they need to
call in order to add Android pay to your
app usually when the user goes through
checkout experience using Android pay
they will go to three major steps the
first one is they will see the Android
pay button or some option to select to
select Android pay then they will click
that option and be prompted by us for a
credit card and shipping address if you
request one and finally when they're
ready to finish the purchase you can
request a payment credential from us to
charge the user okay so all these three
steps they are actually map 12 wanted ap
either we show here the first API is
called is ready to pay and it will
return you a boolean indicating if the
user has set up android pay in that
device and we highly recommend you to
optimize the user experience in case we
return through windows API because it
will lead to a faster checkout in
overall better experience example of the
optimizations could be you could make
the Android pay option be the default
one especially on gas check out just now
once you have shown the Android pay
option and the user has clicked the next
step is to actually call the load nice
quality API which will prompt the user
for their card and the shipping address
they want to use nepean will return you
some nasty information now this the
reason why we call this massive
information is actually that it doesn't
contain the
mercadeo so you can't really charge the
user at that point in time but you have
enough information to render a review or
the screen so you have something for the
card you'll see visa 1234 and you would
also have the shipping address you can
adjust the card with sales tax or
provide the user with different shipping
options depending on where they live and
so forth and finally when they are ready
to finalize the purchase and they have
confirmed in your UI you can call the
load footballer API here the third one
and get a payment credential that you
can hand over to your processor and
charge the user ok now let's get to some
code so just want to note that all the
guys are going to talk here they are
already part of the Google Play services
client library so you can start
integrating today if you want to now
let's talk about the first API there we
talk defamation is ready to pay so this
API returns a boolean indicating if the
user has android pay set up on that
phone and adjust the simple API call you
receive the result in an assonance call
back and once that result comes true we
highly recommend you to optimize your
experience just like OpenTable and
fancied it now you know that you need to
show the under pay option so how can you
show it we actually have made it real
easy for you to add an Android pay by
button with something that we call the
wall effect so the wallet fragment is
just a regular Android fragment that
when does this nice-looking button they
see over here and there are some nice
advantage to using it so the first one
is the sexual Android pay logo asset it
ships with Google Play services APK so
it doesn't occupy any space on your app
and they are fairly high resolution
assets also the button is highly
stretchable so you can fit a variety of
layouts and the buy with text there is
translatable so if you have a user in
Spanish locale they will actually see
this text translated and also it
contains default click listeners so when
the user clicks on this button it will
do the load nice quality either we
talked about for you so over oil just
make your integration simpler and we
highly recommend you to use it if your
flow has a checkout button like this now
we know there are several
all kinds of portuguese experiences over
there so if you if your checkout doesn't
have a checkout button like this you are
free to call the load mascot API
yourself but if you're using a button
like this we highly recommend you to use
the wallet fragment okay so now how you
use the wall effect it's basically three
simple steps the first one as you can
see here is to create the wall fragment
the second one is to initialize it with
the mass quality request so it can call
the load nice color API on your behalf
and prompt the user for the guardianship
information and the last step is to add
it to your layout as you would add any
other fragment through fragment manager
and a fragment transaction okay so let's
dive a little deeper on the mass polar
request so the mass koala request
contains several parameters that can be
used to customize our flow to the needs
of your app the only tree required ones
are the ones shown here in the screen
the first one is the currency code the
second one is the tomato total price and
the third one is the tokenization
parameters now tokenization parameters
are an interesting kind of perimeter so
they actually specify how you we receive
the payment credentials at the end of
your flow there are two ways that you
can receive a payment credential with
either pay the first one if you are
ready using vaulting services from
stripe Braintree or vente you can
actually have us both the payment
credential for you and return you a
vaulted token that you can charge has
you would charge any other voltage
credential with these services but there
is a second way that is the one actually
showed here in the slides where you can
receive the payment credential directly
in an encrypted form with a key that you
specify into tokenization parameters
later on you we need to decrypt or send
to one of our supported processors for
the decryption for you and Charlie use
but we'll get to that later now besides
these three required parameters there
are also some optional parameters that
you can use to customize our flow to
meet the needs of your app so you can
request shipping you can say if you need
a phone number you
say you can have us actually filter out
the cards that you don't support for
example if you don't support prepaid
cards you can specify in the request and
this provides a highly customizable UI
for your phone okay now let's just recap
the user has sold the Android pay button
they have click it on it they have
selected the card and a shipping address
and they are finally ready to commit and
finish the purchase so what's the next
step it's actually to charge the user
and to do that you need to request a
payment credential from us and to do
that you call our last API called full
wallet and to call that API you need
what we call the food water request the
full request is a nice little object
here that receives only two parameters
basically the first one is the google
transaction ID which is just an
identifier that is generated by the
previous call and you just need to
forward it to the second call to be able
to complete it and the second one is the
card containing the total price in the
currency code now once you call out for
wallet in the lac last line here when
the result is ready for you it will be
delivered through the own activity
result call back in your activity and
you can just check the request code that
you pass vehicle and extract the
footwall out of the tent extras and
finally out of the football you can get
the payment token that you can later
send to your processor or charging the
user now let's just dive a little deeper
on what the payment token actually looks
like so the payment token in the case
where you receive the payment
credentials rectly encrypted adjust this
nice little JSON blob containing a bunch
of keys related to our encryption scheme
not all that interesting but there are
some interesting things to be said
actually about the decrypted response
that you can see in the next slide so
there are actually two fields here they
all like you guys to pay attention to
the first one is the deep end the second
one is the 3ds cryptogram so the deep
end is it actually stands for device
personal account number and as you can
see it looks like a credit card but it's
not really a credit card it even passes
the low check to be
as a curiosity now when a user adds a
card to Android pay the payment networks
and the insurers they generate this
number called the deeper and that gets
associated with your phone and that's
actually what gets charged and this
number has pretty much no relation with
the real users credit card number which
provides some nice security properties
of Android pay for example if you lose
your phone there's no need for you to we
to reissue your card and cancel your
previous card because your credit card
number was not compromised at all now
the other interesting feud is the 3d s
cryptogram which is basically a
replacement for the traditional cvv that
you see in the back of your card it's a
dynamically generated security code and
we use it to provide this nice second
property about the droid pay security
model which is this payment credential
that you see here can only be charged at
once and this is a huge advantage
compared to a normal credit card because
if you lose your credit card number it
can just be charged multiple times ok
now we have talked about you can call
the api's and how you receive this
encrypted token now you can be equipped
to token yourself but we highly
recommend you to use the service of our
supported processors they will take care
of generating the key is managing the
keys and doing the decryption for you so
I highly recommend you to check their
documentation because they will just
make your life easier now I'm going to
head over and turn over to a finish for
him to complete thank you my right Thank
You water
it's Walter said you can actually like
work with any of these payment providers
come see us if you don't see your
payment provider listed here and we can
tell you how to actually get entered pay
set up on your app and going so the last
few months we work with several
merchants downward Android paying their
apps and see how they how the generation
looks we're now excited to announce that
entropy is available to all developers
stomach physical goods and services in
all the markets that entered phase
supporter we've launched in the US and
we recently announced that we've
launched in the UK as well we're coming
soon to Australia and Singapore so again
we're excited to cease to have
developers at and repair to their app
you can check out and repeat any of
these select apps that have added and
added android pay to see how they've
created better experiences better check
out for their users terms of what's next
if you haven't had a chance to actually
go see the live code labs you can
actually a cop you know used to go to
the online code labs here we also fully
documented on developers are google com
so check out our documentation you know
come see us right after the session as
well if you have any questions thank you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>