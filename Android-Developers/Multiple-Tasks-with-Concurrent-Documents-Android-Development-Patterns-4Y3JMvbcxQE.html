<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Multiple Tasks with Concurrent Documents (Android Development Patterns) | Coder Coacher - Coaching Coders</title><meta content="Multiple Tasks with Concurrent Documents (Android Development Patterns) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Multiple Tasks with Concurrent Documents (Android Development Patterns)</b></h2><h5 class="post__date">2016-05-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4Y3JMvbcxQE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is your recent menu also called the
overview screen some apps have more than
one card in this overview screen which
can make them seem special so how do
those apps swing it well the overview
screen is not actually a list of the
recent apps a user has used despite what
you may think rather it is a list of
tasks side note if you'd like to learn
all about tasks check the link in the
description below
ian has a lot to say tasks for a great
way for your app to distinguish between
disparate elements where a user might
want to switch between each piece
consider an email app with a task for
the inbox and a separate task for
composing a new email so that the user
can reference back to the existing email
when drafting their response this is a
beautiful use of tasks another useful
way to think of how your app should use
tasks is to consider the multi-window
implications in the multi-window world
each task will have its own window so if
two elements of your app should
logically exist independently but side
by side that's a moment for tasks we
call multiple tasks concurrent documents
this sense of your app multitasking is
where the concurrent part comes in
you've got a stack of activities that
the user probably wants to interact with
in parallel with another stack of
activities the document part is actually
shorthand for anything that you create
that lives separately from the rest of
your app so it could actually be a
document in a text editor but it could
also be that draft email or a separate
browser window or a specific
conversation view for a messaging app so
the first step in creating concurrent
documents is identifying what should
logically exist independently and to
that end multi window really helps
distinguish good cases for concurrent
documents anytime you'd want to see two
activities side-by-side those would have
to be separate tasks to add a task to
the overview screen there is a pretty
helpful manifest attribute you can
specify when registering an activity in
your manifest Android document launch
mode has four possible values into
existing reuses any existing alternative
document for this task but creates a new
task if one does already exists always
we'll create a brand new document for
the task
none creates the task in the same window
as the current activity a K on the same
stack this is the default behavior
and never serves to override any
specified flags and permanently keep the
task in the current stack what specified
Flags am I talking about well if you
prefer to determine whether the TAS
should be in a separate document
dynamically you can specify Flags when
starting the intent to be clear the
creation of a task isn't actually
special you'll create an intent and pass
it to start activity but the creation of
that intent is where you can get clever
if you haven't already it's time to meet
the add flags method flag activity new
document is fairly straightforward it
tells the system to treat this next task
as its own window in the overview screen
if there is an existing task with the
same base component name and data URI
the system will use it this means that
your new document could be replacing an
existing document however you can
override this default behavior if you
always want the system to create a brand
new task you can add the flag activity
multiple tasks in multi window mode this
gets even better as you can use flag
activity to launch adjacent in
conjunction with flag activity new
document to hint to the system that the
tasks should be launched alongside the
existing task so the manifest attribute
and the intent flags offer you the same
options into existing is equivalent to
using flag active the new document where
as always is equivalent to using a new
document and multiple tasks together
keep in mind though that an attribute
only needs to be specified once for the
activity while a flag will need to be
added to every intent so you'll probably
want to choose a path based on the
variability of your activities use case
but between manifest attributes for
default document behavior and flags for
dynamic task creation your app will be
dominating that recent screen just you
know be sure that domination is
thoughtful and useful to a user because
you don't want to go crazy and get
yourself uninstalled so now you're ready
for concurrent documents check out the
blog post linked in the description for
more usage information and for code that
you can copy and paste into your own app
to build better apps</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>