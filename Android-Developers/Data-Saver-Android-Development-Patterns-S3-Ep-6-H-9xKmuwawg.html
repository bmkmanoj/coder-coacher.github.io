<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Data Saver (Android Development Patterns S3 Ep 6) | Coder Coacher - Coaching Coders</title><meta content="Data Saver (Android Development Patterns S3 Ep 6) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Data Saver (Android Development Patterns S3 Ep 6)</b></h2><h5 class="post__date">2016-07-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/H-9xKmuwawg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">data plans aren't cheap and
unfortunately Wi-Fi isn't everywhere yet
but some apps get overeager when they
open a network connection so we decided
to give users a way to fight off apps
that are literally costing them money
with API 24 we're expanding on a
previous feature that allowed users to
block background network access for a
given app now users can put the entire
device into data saver mode which will
restrict any background activity on
metered internet connections until the
device is safely on Wi-Fi data saver is
easy to triggers that users can turn it
on and off as they see fit
and where users previously only had a
black list of apps that could no longer
use network data in the background now
they can restrict the entire device and
then whitelist the few exceptions they
wish to allow the effects of the
expanded data saver mode are largely
unchanged from the previous background
restrictions feature these restrictions
only apply to background jobs since
foreground services are generally
something the user has requested and
since this is all about saving data
these restrictions only apply when
you're on a metered connection not when
you're on unmetered Wi-Fi but the other
major improvement for developers is that
we have created an API to check whether
your app is currently restricted this
allows you to build better behaviors
into your app so that the user
understands what data is needed and how
it will be used when they ask your app
to do something while it is restricted
for example let's say your app wants to
sync with your server before you would
simply kick off a background task and
hope for the best but now that you can
check whether your network access has
been restricted your background work
patterns have shifted an obvious
solution is to identify any network
connections you are making that are not
time sensitive your app should always be
data conscious and these moments are a
great opportunity to only sync when on
Wi-Fi if you'd rather not manage this on
your own I recommend job scheduler you
can schedule your sync to take place as
soon as Wi-Fi is available and you won't
have to worry about it again now if your
use case is time sensitive or has some
other need to do work on a metered
connection you'll want to check if data
savers active for your app it's a pretty
simple method get' restrict background
status and the result will let you know
whether data saver is currently on
whether it is on and you've been
whitelisted or whether apps have free
rein over
our connections are right now checking
that status might look a little
something like this in your app if the
only network available is a meter
network we need a switch statement to
determine the best behavior for our app
although again if you can afford to
always wait for Wi-Fi you should use job
scheduler and avoid having to know
anything about the network connection at
all check out the links in the
description for how to set up a
broadcast receiver to listen for signals
for a data saver state change how to
request the user whitelist your app and
how to test data saver with the help of
a DB because there's always so much more
to learn about being data conscious in
general though there are a number of
good and bad behaviors your app may be
doing when it comes to network use the
rule of thumb is to respect that data is
expensive and honor the users
preferences when they are trying to be
conscientious it's their device in your
app is a small part of it we want to
empower users to know what their device
is doing and that means app developers
sometimes need to work a bit harder but
we've tried to make it easy for you so
now it's your turn to make it easy for
users as you build better apps
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>