<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Testing App Standby (Android Development Patterns S2 Ep 4) | Coder Coacher - Coaching Coders</title><meta content="Testing App Standby (Android Development Patterns S2 Ep 4) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Testing App Standby (Android Development Patterns S2 Ep 4)</b></h2><h5 class="post__date">2016-02-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RUP_xodP0wA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">when it comes to the idle modes in
marshmallow I've been saying that
developers don't need to worry and
probably don't need to change any code
either but you do need to test your app
I'm Joanna Smith and by now you should
know that you can't escape the testing
beast some quick background there's
nothing worse for a user than trying to
take a picture of their dog being cute
only to see that their battery is at 6%
and then turning on the camera kills
their phone
protecting the battery is why we created
an idle mode that the system can place
your app in if it hasn't been active in
a while and while this may sound scary
the best advice I have for you as a
developer is to do nothing because app
standby is smart it won't happen to the
apps that the user interacts with or
that have activities and services
running in the foreground or that have
notifications pending in a tray app
standby is designed to restrict
background seeing some jobs for
applications that the user isn't
interested in right now so when your app
is being used it doesn't need to worry
about this and when it isn't it
shouldn't actually notice that it's idle
which is why my advice is to do nothing
except you know test your app there
there is that testing how well your app
recovers from an idle mode is critical
to understanding what your users might
see so you need to be certain that any
expected notifications are generated
properly that downstream messages
triggered the correct response
immediately for high-priority are
delayed for normal and that delayed
messages and sinks are processed cleanly
both in the daily maintenance window and
after your app is released from idle
mode to help you we created a new ADB
service that will let you toggle in and
out of app standby so you need a device
or an emulator running marshmallow and
then you need to open your app and leave
it running and then to force your app
into app standby you first need to
instruct the device not to pull any
power from the cable connecting it to
your computer because being plugged in
means we aren't worried about battery
anymore then you set inactive true or
false to toggle into or out of app
standby and get an active will let you
check the current state by toggling the
status you'll know what to expect and
you can observe whether your app is
behaving properly theoretically there
should be no surprises since all of the
background work that doesn't happen when
idle should run as soon as the idle mode
is released and nothing is lost and any
foreground work means you aren't going
into idle mode in the first place but if
notice something funny while testing you
can modify your approach GC a message is
marked with a high priority tag will
reach your app even through app standby
so that you can react to important
information coming from your server and
wake locks and alarms are honored in
this idle mode so if you need to write
to a particular time you can but for our
most apps there should be very little
work involved which means that this time
all you need is to test your code and
then take a nap in order to build better
apps</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>