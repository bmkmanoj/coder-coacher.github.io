<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android themes &amp; styles demystified - Google I/O 2016 | Coder Coacher - Coaching Coders</title><meta content="Android themes &amp; styles demystified - Google I/O 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android themes &amp; styles demystified - Google I/O 2016</b></h2><h5 class="post__date">2016-05-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TIHXGwRTMWI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good morning everyone and welcome to
themes and styles demystified I'm Alan
Barrett I'm a tech lead on the UI
toolkit team and the engineer
responsible for the material themes hi
I'm Chris Bane's an engineer on the
developer relations team
I also work on app compat so I deal with
themes and styles quite a lot so it's
great to see so many faces in front of
me especially sunburned ones because
it's been hot here in Mountain View over
the past day or two so it's 9:00 a.m.
here and I can see quite a few tired
face in front of me so I thought start a
quiz so the first question I've got in
what Android version did seem that holo
appear right
so Android Eclair hands up honeycomb hey
too clever that's an easy one having a
dark action bar Varian honeycomb
honeycomb frequent to a few ICS a third
one how did selectable item background
changing KitKat did it change to a
ripple one I changed the monochrome I
rested on further summary I've got a
fourth what in what version can you use
Android foreground on a view Android 1.0
all got a few ICS a few again I'm at
marshmallow it's my trick question so
you got to use foreground on frame
layout from API one but we only actually
added it moved it up to view on
marshmallow that's always true anyway
hope you're right now so this talk is
all about themes of styles and we've
realized recently that there aren't that
many people who know it it's quite a
dense topic and it there's lots of full
intricacies into it all
so before we drive this tour 2 won't
give everyone like a level playing field
so before we actually go into like the
guts of it all I thought we'd take a
quick refresher course and see what they
actually are
so technically themes and styles are
exactly the same thing internally
they're both declared using style tag so
when your resources you create styles
and you'll notice that when you actually
create a theme you're still using the
style tag the only difference between
them is how you use them in your
application and we'll talk about more
about that later so at the simplest
styles and themes good of the same thing
are just key value stores so here we've
got a very very simple style and you'll
notice that the actual key is the
attribute so Android background in this
instance and then the value is color
blue so we've just mentioned the word
attributes there and they're the kind of
key to what themes the Styles are all
about now let's take a little quick look
at what they actually are and how they
work so as we mentioned attributes are
just keys they're declared in the
android framework and also in your apps
the important thing to know though is
that yes they are
keys but they also declare what type
that can be set against them and that's
important because it affects how the
data is stored so when the attribute is
read internally it can affect how the
actual values read and it also affects
things like type conversion so the
system can actually convert between
types for you and because of that we can
do some XML linting based on this so
you're using an attribute with a wrong
type of value we can put that into lint
and we can store flag it to you and make
sure we're not going to shoot yourself
in the foot so these are types of
attributes that you can format types
that you can put on attributes the ones
on the left are all resource types so
they directly map to a resource type
that you can set in your resources so
things like fraction flow string blah
blah the ones on the right are special
in that they are only used for
attributes flag is what exactly it
sounds like it's a bit all so you can
have multiple facts bit sort against
each other and then the second is enum
which is Zachary is it's an enumeration
of int you're going to get one value
back and then you've got the last one
which is reference and that's kind of a
catch-all for everything else so
drawable uses this it could be don't
have a drawable type but basically it
just points to another resource it
points to a resource ID
so how you actually declare attributes
is like this using the actual tag again
in your resources so everyone's quite
inside each other and here you can see
that there are two things you set the
first is the name so this is the actual
declaration for Android background using
the framework so it has a name of
background and then it declares its type
its format it had it can accept two
types reference and color reference
occurs it expects a drawable and color
because as we said earlier it can do
type conversion so what will happen is
it can accept a color in like an in
value and then the system will
automatically change that into a color
drawable for you so that's the type
conversion we talked about earlier so
all attributes provided by the framework
are in the android schema which is why a
type of all of your layouts you have to
declare this namespace
now the actual Android the name for the
namespace in this case Android which is
in bold is just a convention you don't
have to use this you can name it
whatever you want but I advise you to
keep using this clear clearly sort of
separates what are your attributes and
what androids attributes you can also
declare custom attributes in your app
and indeed are you're probably already
using libraries which declare their own
attributes now it's important to know
that all attributes that are declared in
your app so even libraries or in like a
global namespace now what that
practically means is that if two
libraries or two basic that there are
two declarations of the same attribute
name in your app your app won't build
because you'll get a conflict so it's
something to be careful about and I just
mentioned any attributes which are
created in your app or in your apps
namespace so instead of declaring the
Android namespace you declare your apps
one now you do that via this syntax and
you insert your package name now we know
that's slightly clumsy to use so the
tools have a quick shortcut so instead
of actually putting the slash your
package name it just do res Auto and it
will do all the hard work for you so
we've just talked about what they are
and now let's talk about the differences
and how you actually use them so themes
now themes are tied to your context
which is why it takes two methods it has
two methods on the Contacts one god set
theme which takes a resource ID point
into a style and as one thing to note
here it's a kind of a babbling named
method in that it doesn't set it applies
so you're you already have a theme and
your activity and then when you call
this method it will apply on top it
doesn't actually wipe anything
underneath and they have a get theme
which will return an instance of the
current theme now you're typically set
themed in your Android manifest so
you'll set it in what the Android tag or
whatever it is now internally all that
does is just before your oncreate is
called it will call set theme for you so
it's exactly the same api's with the
framework of calling now themes don't
actually do really do anything I like to
think there's a lot big configuration
stores everything else so let's take a
look at some of the things which are
actually in there and how what kind of
configuration things are on so the first
thing is default widget Styles so when
you create a widget in your layout say
edit text it will have a default style
applied to it and the way it finds out
what that default style is is from your
theme now each different widget has a
different attribute for its default
style and edit text is called edit text
style text view is called text view
style you get the idea but yeah so
that's the default style we have some
color values there are the ones you'll
probably mostly use of a tech colors so
it's cooler primary secondary tertiary
Allen's good talk more about these later
but there are others to expierence
styles
so again Allen's gonna talk about
expierences but they're basically mini
styles which affect only text now this
is where I think the bulk of stuff is in
themes and that is window configuration
values so when your activities created
and your dialog a window is created for
you internally and that is where your
whole view hierarchy sits and above that
is a lot of framework stuff so if you're
using an action bar it will inject a
load of views for the action bar and
this is so all the configuration values
and your theme is how that affects it so
there's also stuff like window
transitions all that kind of things then
we have to draw balls wouldn't be nice
to be Protestants of
the Shelf handy troubles to use and we
do the most important I think is
selectable item background that will
give you a really nice drawable to use
as a background for a review it like a
clickable view and you'll I'll give you
a highlight so on a material and above
it will give you like a ripple before
that it's kind of like a state list and
then lastly is a section a section we
call theme section I'm going to talk
more about this later but it's basically
there are certain components when
created allow you to override their
theme and they'll pick it out from your
master theme in your activity right so
that steams out the way it's talk about
styles now stars do a lot and they're
the things that did the bulk of the work
when styling your views they're really
handy for the sort of dignity
composition of common styling so you can
reuse stuff across different views look
an example so here we have a view and we
want to reuse this background tag now
this is kind of a trivial example
because you're right you're only reusing
one thing you wouldn't usually do this
you probably reuse three or four but it
is a bit of a wheel deal and we'll do
example if we do more so we're going to
reuse these background tag so here's
that style for it so we'll create a
style and then we'll give you an we'll
put an item in there
point into the attribute it's the name
and then we'll put our value within it
now each out suite you set goes into the
art intact then once we've done that we
can go back to our layout and swap the
Android background and replace it with a
style tag pointing to the style now if
you've got more items in that style
that'll be applied to bit of a pro tip
for you Android studio does that whole
flow for you in a really nice way if you
go to the design tab when you're looking
at a layout and right click on a view go
refactor refactor style it gives you a
nozzle UI where you can like pull out
attributes and put them into a style it
will do all for you but the or very good
thing it does is that it will try and
find other views in your layout and then
automatically reuse the style it's
pretty cool so hopefully now you know
the difference between themes and styles
let's have a look at sort of the
intricacies are actually creating them
so one of the things that you can do
with files is that they support
inheritance now themes and styles can
have from each other which
handy for when your clients of
derivative styles and you'll see there's
ample in a minute the important thing to
know it is that they overlay each other
there are a couple of ways of
implementing inheritance and styles the
first is implicitly using the dot
notation so the parent here would be
would you dump it tear it off button so
it's the star before the proceeding dot
you can also do it explicitly and that's
done for the parent tag so here we've
got a star called my button style and it
has set an explicit parent and as you'd
guess the parent is what you've set
there's a small gotcha in that the X
explicit Y always means I'd be implicit
so we've got style here which is using
by from dot notation as then in the name
but also has a parent tag and the
explicit version always wins now the
really powerful thing when using Styles
is that you can reference values from
your theme that's that in attribute
thing we're talking about earlier so
here we go back to our style that we
created which sets a background to my
Deauville and instead of using that we
want to use this set of lights and
background which we talked about earlier
which is that nods clickable highlight
so this is the syntax you use so that's
break that down low because it looks a
bit a little bit alien so let's break it
down first thing is the question mark
now that denotes that we're going to be
doing a theme locker the second bit the
Android colon is the namespace we're
going to be looking up so the name of
the app that the length space that the
attribute is in so if you're using the
custom attribute you can put whatever
add for you whatever the name spatial
setting to then we have an actress slash
now that's in notes the type of thing
we're going to be looking up now into
Android fashion we only have one type
which is that actress so you can
actually emit this which we'll see in a
minute and then we have the last bit
which is the actual name of the
attribute were going to be looking up
now as I said the type is optional which
is probably why you've seen this syntax
so the actual slash is emitted it was
the same so now I'm gonna hand over to
Alan to go through theme dot material
thanks Chris so Chris just gave you the
technical side of what is a theme what
is a style and how do we create them so
we're gonna go hands-on
with some of the material styles to
learn what we have is a base of building
blocks for our own styles and how we can
apply these in practice all right so
first we have themes themes in Android
are prefixed with theme dot in material
its theme material so everyone should be
familiar with these we've got the
material dark theme we have themes that
have window attributes for dialogues and
of course we have themes that do some
special things like give you a dark
action bar on top of a light theme and
if you look at the actual framework
definitions of these it's just a huge
bag of attributes for colors window
attributes things like that we also have
overlay themes so these are themes that
define a subset of values that as Chris
mentioned get applied on top of your
existing theme so for example material
dot light contains only the colors
relevant for a light theme it's not
going to change any of your window
attributes for people or who are
developing for older platforms you may
have noticed on API 21 and 22 that if
you set a color accent in your theme and
then you open a dialogue on API 21 and
22 you're still going to get teal unless
you explicitly go and create a dialog
theme that redefines your accent color
in API 23 we added a dialogue overlay
theme this only redefines the window
attributes specific to dialogues it gets
applied on top of your activity theme so
the host activity that creates the
dialogue we apply window attributes on
top of that so your color accent
anything else you've set gets propagated
to dialogues in API 23 and above overlay
themes look like this again it's just a
subset of the things that would have
been defined in the overall material
light or dark or whatever themes you can
create these yourselves very easily and
then just use a themed apply style or
set theme in your activity material
theme spec also defines a number of text
appearances so for larger text you
change the opacity a little bit for
buttons you may set all caps these are
prefixed with text appearance in
material text
parents dot material at the XML level
these are just sets of attributes
specific to text and these are either
defined in your theme with text
appearance small attribute or you can
apply them directly to a text view using
the Android colon text appearance
attributes so this is just going to
apply a set of text attributes to style
your text we also have a number of
default widget styles so these are
prefixed with widget dot material
they're going to implement things that
you'll recognize from the material spec
so for example in API 20 for Android n
we've added a seek bar discreet widget
material dot seek bar dot discreet which
is going to give you these little tick
marks along each progress point in your
seek bar you can check out API demos for
a longer example of some of the
different variations that we have on
widget styles but these you can apply to
your widgets with the style attributes
of style equals seek bar dot discreet
will give you these dots and these are
just sets of attributes that are going
to write defaults for your views so for
example the seek bar discreet has
implicit inheritance from the material
seek bar and we just redefined tick mark
so that we get those drawables at each
progress point so while we're here
anybody who's really dug into the
material theme may have noticed
something unusual about our widget
Styles and this is that the Lite themes
and dark themes are identical so our
Lite themes typically just inherit
directly from the default themes and
don't redefine anything but under
different parent themes so if your
activity is light or dark you're still
going to get correctly colored widgets
how do we do that well as Chris
mentioned we have colors defined by the
themes and we're going to use these in
the widgets so this allows really
high-level styling of what things look
like everybody should be familiar with
color accent from material this gives
you a little pop of color that shows up
in various places for the background of
button
color the foreground of borderless
colored buttons radio buttons etc and
one example of how to implement this so
for the colored button that we just
showed we have a background that points
to a drawable in that drawable which is
just a ripple wrapping a rounded rect
shape we actually don't use PNG s
anymore we have a tint and that tint
points to a color state list and that
color state list has an enabled and a
disabled State the enabled state points
two color accents so when you see that
colored button the default color is
going to be color accent tint on a white
shape drawable wrapped with a ripple so
let's talk a little bit more about theme
colors we also have foreground and
background colors so these are going to
be white and black or black and white
respectively for the light and dark
themes and what good does this actually
do us here you may not be using flat
black or flat white in your application
a lot well let's take the switch for an
example so the switch has a couple of
different colors and we could have
defined theme attributes for switch
foreground switch background and they're
all basically just variations on white
or black so let's dig into the XML for
this the switch track is defined as a
rounded rect shape again we don't really
use p.m. G's and it points to a color
state list for its tint in the enabled
States this is going to be a dropped
alpha sorry in the disabled state this
is going to inherit the disabled alpha
from the theme which varies based on
light or dark theme and it's going to
use the foreground color so in the dark
theme you have a dropped alpha version
of white this is applied on top of a
rounded rect that already has a dropped
opacity so we're gonna end up with
everything being a slight variation on
the foreground color and you can very
easily use this in your own widgets to
get something that's going to be
consistent with your theme we also have
text colors as Chris mentioned so we
have a primary text color
which is used to provide very high
contrast for things that the user needs
to be looking at immediately we have
secondary text color which is just a
dropped opacity and these are going to
follow the material spec so I believe 84
and 56% opacity and they're going to
follow the theme colors we also have
inverse versions of these which we don't
use so much on the platform anymore but
if you're going to be displaying content
against say a or accent color text
primary inverse or secondary inverse is
a great way to do that we also have
color accent primary and primary dark
which we added in material and are going
to provide your branding colors so if
you're pulling in color accent you get
that color pop you'll probably want to
use a white or use color primary inverse
on top of that so in a light theme
you'll have a dark accent in a dark
theme you'll have a light accent and you
can pull these into your drawables and
your color state lists we also have
color control normal and activated
control normal is great and I really
recommend everybody use this if you have
icons so for example checkboxes are
going to use color control normal by
default if you're pulling an icon into
your action bar and you tint it with
color control normal it's going to be
the exact right opacity and the number
of times that I've seen applications
where the toolbar icons are different by
like five percent alpha it kills me
every time so please use color control
normal for your icons so looking at an
example from API demos you can probably
guess how a lot of these widgets are set
up so we have compound buttons which is
color text color primary we have that
switch text right below it which is text
color secondary we have the accent color
in the activated state for our check
boxes and radio buttons and we have the
color background as our overall
background color background floating as
our card backgrounds so you can look at
at a screenshot of something or look at
an application and probably guess where
a lot of the colors are coming from
all right so now we have an overview of
what's available to us and how these are
used to build the framework themes and
styles and how we can apply these to our
applications and these are very powerful
tools in Android and theme attributes
are especially powerful starting an API
21 so starting an API 21 you can use
color state lists and theme attributes
to tint your drawables so you can
specify color control highlight for your
ripple which is what we have is the
default and you can specify a color
state list as a tint or as a color for
XML defined shapes so if you'd like to
step away from using PNG s all the time
maybe you have a bunch of different PNG
s four different colors of states you
can just directly put a color state list
in and when you press a button you'll
get a different color color state list
support theme attributes starting in the
next API version 22 and this means that
you can start pulling in the foreground
color the accent color setting in the
Alpha to match the theme in your color
state lists which is going to again help
you step away from having drawable
selectors or individual pngs for all of
your assets app compat also supports
color state lists starting in version 24
you can use app compat resources which
is going to write an alternate Inflation
path that can read theme attributes from
your color state list XML it does this
automatically internally and you can do
this at runtime for specific XML files
we also support view tinting so what
this means is for views that own
drawable assets things like the thumb in
a switch the track in a progress bar you
can tint these either from layout XML or
at runtime using some access or methods
so for example switch has a thumb and a
track and because it's a view it also
has a background all of these have
separate XML attributes that you can use
to set a tint these can take theme
attributes these can take color state
lists in API 22 they can take color
state lists of theme attributes and this
is a really powerful way to tint just a
one-off somewhere within your layout so
you need the switch to be red you can
make
red really easily you need it red with a
disabled state you can set a color state
list as I mentioned we have a bunch of
text appearances in the material style
these are just bags of text attributes
so you can apply these to your text
views using Android text appearance and
you can reapply these at runtime which
is actually something kind of unusual
for Android styles so for most views
Styles get applied once at inflation
time for text views you can restyle them
at runtime whenever you need to using
set text appearance which takes a style
which should be a text appearance or
something that inherits from a text
appearance it just defines a set of text
attributes all right so we've learned
some cool things about what's available
to us for creating styles and creating
themed drawables how can we apply this
to do something kind of cool
well we introduced the day/night theme
in the support library and this is
something that we've supported in the
platform for actually quite a long time
so night day night is implemented as a
resource qualifier this has existed
since API 8 starting in API 23 this is
something that any application can
toggle through UI mode manager so if you
write an application and you want to
toggle the global state of day/night
mode you just go into UI mode manager
and you can set night mode when that
changes it's going to be treated as a
configuration change like you would have
for changing device orientation which
adds the landscape resource qualifier so
this is going to really simplify
swapping light and dark resources if
your user either prefers dark or if you
want to set it up for automatic
wear at nighttime maybe your user will
see a dark theme and daytime they'll see
a light theme so the actual
implementation of this relies on
inheritance so we specify a day/night
theme and we have the same name in both
our values and night qualified values
directories and the only difference is
the parent that we're inheriting from so
under not night or the default qualifier
we're going to inherit from themed
material lights and under the night
qualifier we're going to inherit from
the dark metier
theme now the magic here is that when we
have this resource qualifier change the
application is going to go through a
lifecycle events will get a nun
configuration change and we're gonna
reload our theme using this new parent
which means everything that we inflate
is gonna have different theme colors now
you can also define explicit colors so
if you want to have a hard-coded color
and define that differently under night
or not night you can do that but it's
easier to rely on theme colors so the
end result of this is that because
everything gets inflated against your
theme and we're using a different parent
you're going to get either dark or light
resources and in custom widgets that
you've made where you're using theme
attributes you're just gonna
automatically get the right colors so
you don't have to do a lot of work to
switch between implementing a light and
a dark theme as Chris demonstrated in
our what's new and support library
talked yesterday
this has been back ported to API 14
through app compat so if you want to
implement a light or dark light and dark
theme support in your application
super easy most of the work is already
done for you you just need to add a
little switch that will toggle night
mode right so using themes and
attributes can helps with simplify
switching the visual presentation of
your application but what if you want to
change just a small portion of
presentation in your application so we
know that theme dot material can make
your application look dark
we know that theme dot material light
can make your application look light but
what if you want to have something like
a dark action bar but the rest of your
application be light well there's one
way you could do this you could use the
light activity light theme and then just
specify everything in your action bar
manually to be dark that's a little
complicated so maybe instead we'll have
a dark theme and we'll just manually
specify everything in our activity all
of our content to be a different color
that ends up being really really tricky
so please please don't do that
don't don't hard-code text colors
so there's an easier way and that is
through overlay themes and specifying
themes on portions of your view
hierarchy and this is what we do with
the dark action bar theme so we actually
redefined the theme that's used for the
tool bar section of your application so
everybody recalls we have overlay themes
we have light theme that pulls in light
colors we have dark theme that pulls in
dark colors and these are implemented
using the Android theme attribute from
XML so this gets picked up by the layout
inflator and it's going to replace our
overlay the theme used to inherit to
inflate a sub section of your view
hierarchy and the actual implementation
here is pulling the theme attribute from
your XML and then applying that as a
context theme wrapper which is exactly
what it sounds like
we take your inflation context we're
going to apply a theme on top of that
we're going to inflate all of the child
content against this new wrapped context
so what you will get is effectively the
dark theme in the section of layout that
has Android theme equals dark and light
everywhere else the actual
implementation of this relies on the
default layout that we provide for an
activity that has an action bar so if
you dig into some of the XML files in
the android framework screen action bar
is what we inflate if you've requested
an action bar in your activity and we're
going to set the android theme attribute
to inherit from the action bar theme
attribute defined in your theme which
has attribute and theme a lot of times
which is why we call this theme ception
so we're gonna pull in the dark theme on
top of the light activity theme we've
defined action bar theme in the dark
action bar theme as material dark action
bar this is the dark overlay which pulls
in the dark theme colors it switches the
text foreground and background colors an
action bar sets up a couple of special
things for displaying the let's say
accent color in your
Toolbar but the important part is that
we're pulling in dark colors on top of
your base light beam we also redefined
the pop up theme so that you get a light
pop up on top of a dark action bar on
top of a light activity so we have three
themes at work here all overlaid on top
one another we also support Android
theme through the app compat library so
this is gonna work all the way back to
API seven for XML that gets inflated
through app compat an inheritance of the
parent theme is going to work on API 11
and above and what this means is that if
you put Android colon theme in your XML
on API seven we will apply it to that
view only on API 11 and above we will
apply it to all of the views that are
inflated as a child of that view right
and now Chris is gonna cover some common
mistakes that developers make when using
themes and styles thanks Allen so as
Alan said we're now going to go through
some of the things we see quite a lot
both in Google Apps and also externally
on things like Stack Overflow hopefully
I'll be able to start repeating myself
because we we see this a lot and we
always say the same thing so the first
thing we're gonna go through is using
the incorrect style parent so it's
easier if we go for an example and show
you what this can actually do so here we
have an edit text well we have
multiplied text and what we want to do
we want to make every edit text have a
different font the medium font but it
could be anything so what we're going to
do we're going to change the default
style for edit text and then set it to
have a medium font so here we have
example and here's our style so our
style here is my edit text view style
could be whatever you want
but it sets one thing which is font
family and that says it's a medium now
once you've done that we'll then
reference it in us in our theme so it
gets picked up as default and then you
run your app and you see this suddenly
all of your edit text have gone you've
lost all your styling they're no longer
editable but you have changed the font
to medium
now the reason why this happens is that
you didn't set a parent on the style and
what that happens is that you no longer
pick up all of these system defaults so
you know not get the background the fact
that it's editable all sorts of weird
and random things which are in the style
so the way to fix it is you just set the
correct parent now the best way of
finding out what the parent is is just
look at the theme you're inheriting from
so if you're using theme that material
just go into it it's it is big it's
about I don't know two hundred lines ish
but that it's all quite nicely spaced
out they're all grouped together it's
not too hard to read and suddenly once
you've fixed it
it all looks good again now this is
quite a technical mistake you're all
really gonna mistake this if you're kind
of writing custom views but it's the
difference between default style atra
and default style res now there are two
places where you'll use this the first
is the for our constructor on view now
that was added 9521 so I doubt many of
you using it but the main place you're
going to use this isn't obtained style
attributes and that is the way you
actually read attributes in views so he
can see at the bottom the last two
parameters are default bar at row and
default style res and the problem is
that default structure should always
point to an actor so the default spot at
church should point to an attribute in
your theme to pick the default style
from the last wonderful star res it
should point to an actual resource so a
natural star resource and this point our
dot style dot widget a widget blah blah
blah now if you mix them up basically
things stop working now following on
from that there's some intricacies in
how obtained style attributes actually
works and it's to do with the order
preference of how it reads an attribute
so when it's when you're trying to read
a set of attributes this is the order
goes through so the first thing you look
for is the value in your attribute set
now that the attribute set is what
yahweh's contains all the absolutes
which are set on your actual layout so
if you have a layout and you've set
android background on it it will be
contained in the attribute set the
second thing he looks for is the same
value within any explicit style so if
you're using the style tag pointing to a
style it
then look for in there the first thing
you look for is in the default style res
if that's in the actual concrete pointer
to a default style
lastly looks at the attribute of the
default style and your theme and there's
finally it looks at the base value in
the theme now please don't rely on this
because it leaves on to the next mistake
which is using view attributes in themes
so this is a mistake which actually
someone our team made recently so here
we have a theme and we've set the
Android background tag on it
now Android background is someone you
usually use in a view but here it's
setting the theme now going back to the
obtain style drop obtain styles relevant
attributes it the last thing you looks
for is in the base value of the theme
which basically means that because
you've set that in your theme any view
which doesn't have a background Senate
will then have this use this value which
basically if you set a background in
your theme say - I don't know color pink
every view which doesn't have an
explicit pair and the background will
have this pink background and that's
that's a really big mistake which you
see quite often now we are actually
write more of these mistakes up into
like a blog post and so followers on
social and more like post them up
alright that's it
hopefully you've learned some stuff
about themes and styles thank you very
much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>