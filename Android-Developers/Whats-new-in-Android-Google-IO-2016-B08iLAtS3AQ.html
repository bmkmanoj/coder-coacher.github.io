<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>What's new in Android - Google I/O 2016 | Coder Coacher - Coaching Coders</title><meta content="What's new in Android - Google I/O 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>What's new in Android - Google I/O 2016</b></h2><h5 class="post__date">2016-05-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/B08iLAtS3AQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">sedima I'm a little worried about this
this intro I don't think we really
didn't rehearse this this is going to
come off completely unscripted even
though we went over and over and over
again I take it's very spontaneous I'm
specifically worried about the intro
hello and welcome to what's new in
Android well glad you could make it into
the room we're sorry that they put it in
the smallest room at Shoreline sure so
there is standing room out there if
there's a seat next to you if you could
raise your hands so that people know
there's still one available someplace
that would help I'm Chet Haase from the
Android UI toolkit team I'm Dan Sandler
from the Android system UI team and I'm
warming you from the Android team again
once again but not on this team never
again no no no no no that mutiny was
successful and we're not going to repeat
that problem so today we're going to
talk about what's new and Androids
specifically given the timing of all the
preview stuff going on let's talk about
what's new in n or hello there we go we
could even call it what's new in Android
actually what we should actually call it
is what's new ish in Android because
we've talked about some of the stuff and
hopefully everybody here has the preview
bits already and you've been playing
with it and submitting bugs and playing
with the new features and functionality
so we're going to go over that and we're
also going to go over some of the stuff
that's newer in the Developer Preview 3
and some other related bits so let's do
it so the big question is what is n
stand for of course I think it stands
for so we went we went Russian this time
of course nyet stands for not yet we're
not going to tell you what it actually
stands for today of course is and
preview and in particular it stands for
n preview 3 so let's talk about there's
a there's different ways to slice and
dice the features but we thought it'd be
useful to talk about the one
that the users can actually see and the
developers side of that and then we'll
talk about the developer facing features
the things that are more about the
implementation of the code behind it so
why don't we start with a demo yeah hey
so let's talk about constraints layouts
this got a brief mention in the key out
it keynote this morning Stefan's talking
about this and Roma is going to show you
what's going on
so constraint layout is a brand new
layout for Android it's going to be in
unbundled library that you can integrate
in your application without updating the
framework it's compatible all the way
back to Gingerbread so you can use it in
any app you want and it is our first
layout that was designed in conjunction
with the treu itself so as we were
building the layout manager for Android
we were also designing this user
experience for Android studio you saw
briefly in the keynote it was maybe a
little hard to see we have the system
that automatically infer constraints
there are different ways in this new
system that you can create a layout so
here for instance I have a button I can
see as I move it around we give you
guidelines it shows you it falls the
material design guidelines which will
show you the correct margin that you
should use between different widgets
shows you the correct margin between a
widget and the edge of the screen now if
I had a second button I can create a
constraint between those two buttons and
now they are aligned but what's really
powerful in this new layout editor is
that we run the algorithm behind the
Android layout on in Android studio at
60 times at 60 frames per second so when
I move the first button you can see in
real time what what's happening how the
layout is resolving all the constraints
so this should give you a lot much
faster feedback on what's going on we
can also show you before you create a
constraint so as I'm dragging this
constraint to the edge of the screen
will show you before I release the mouse
we animate to show you what's going to
happen if you create that constraint I'm
sure some of you have used relative
layout and then I might have been
surprised by what happens sometimes when
you just added extra widget and
everything just teleports to different
part of the screen so no more and so I
can really quickly create more
constraints and I meta
the buttons at the bottom you can also
use auto auto connect so if I turn it on
when I drop a new button on screen when
we see when you see guidelines constants
in the center of the screen if I drop my
button here the system is going to
create automatically the constraints for
me so I don't even have to do that work
you can of course edit the constraints
after the fact you can do flexible
sizing so you can take up all the space
on another space we also have percentage
based positioning so here the button was
in the center but you can say that you
want to be let's say you know 25 percent
from the top of the screen and it's
going to adapt to your to your screen
dimensions there are other features that
we're going to demo on Friday at 9 a.m.
for instance we have aspect ratio so you
can make it would always be a one to one
aspect ratio or sixteen by nine whatever
you want and finally the thing that was
briefly Prelude in the keynote so if I
drop a bunch of widgets on screen let's
say a text field from the top
it takes you for a label and you know
position a position then carefully the
way I want my weight to look like I'm
going to destroy all the constraints now
if I just press this little eyeball icon
it will figure out what I wanted to do
in a layout just works and you'll not
lock down you can keep adding
constraints you can keep changing the
behavior I could add another widget do
automatic inference again and you have
this iterative process to help you make
sure you I create rely faster
thanks rolling and sorry one more thing
this is a preview we call it the alpha
one it's real rough around the edges so
download the Android CO 2 point to
preview play with it please file bugs
I'll go personally look at the bug
tracker and I'll harass the engineers to
make sure they fix hopefully most of the
bugs and we have a lot more coming we're
still going to work on it this is but by
no means a final version of the layout
and the layout editor what one final
question how much does it cost a hundred
kilobytes but for you chat for million
dollars alright so yes go please play
with it give us feedback if we can go
back to the slides there's an awesome
demo that I'd like to sing an excellent
multi window one of the more visible
changes in N is the ability to actually
have multiple activities on the screen
at one time there's two major modes of
this that you may see around one is
split-screen side by side or if you're
running vertically top to bottom so if
we go into reasons we can see in the
screen record here you've got the
ability to drag from recents into one
half of the screen and then the thing
you were doing is in the other half of
the screen and you can tap one of those
to be your second activity as you drag
around you'll notice that the window
manager is simply quickly painting a
background color until you let go and
then you get a full configuration change
so one of the things that makes this
work basically out of the box for your
apps is the magic of Android layouts we
know how to do configuration changes we
know how to adjust layout based on new
sizes and form factors of the screen so
the window manager is building on top of
that so that when you go into the new
size and force by the side-by-side
layout your apps simply work so go ahead
and test it make sure that it works the
way you want it to in side-by-side mode
or split-screen mode and use the api's
if you need to so you can opt into this
you are automatically opted into it by
default but you can say that you do not
want to be a resizable activity there
are some parameters you can specify
about default in minimal sizing and
there are some api's for you to listen
to to find out when the system is going
into multi window mode or whether you
are currently in multi window mode and
then finally if you are in multi window
mode and launching another sub activity
you would like to be side by side with
yours you can ask for it to be adjacent
to yours
so go please check that out and also
check out the picture in picture mode so
this is the other half of multi window
mode where in Android TV you now have
the ability to have an activity playing
a picture-in-picture
so playing a video full-time while
there's some other activity like the
launchers who the user can pick another
piece of content to watch at the same
time while you've got this video playing
on the front screen so for both of these
features and lots more please go to the
multi window session today at 4:00 p.m.
there's a little bit of activity for
picture and picture basically similar to
what we saw for multi window mode to
find out when these things are happening
and what you can do about it there is
new drag and drop capability we've had
drag and drop in the platform since at
least Gingerbread and we have added to
that capability now because now you're
in a multi window mode wouldn't it be
nice if you could drag from one activity
to another which the previous drag and
drop mode did not allow because it
didn't need to but now you want to
actually be able to drag content back
and forth between these multiple
activities so we added a little bit of
API and capabilities to allow you to do
that so we can see some of the API is
here a lot of is around permissions
because maybe that activity didn't
actually want you to copy from the
password field onto your own activity or
maybe you don't want a that cat video
dropped on to your activity so there's
there's a bit of handshaking
back-and-forth to grant the correct
permissions and then there's also ways
to actually start the actions to cancel
the actions while they're on the fly to
update the drag shadow the very
inappropriately named drag shadow that's
basically the thumbnail representation
of the piece of content that's being
dragged around so you can update that to
whatever you want you can even keep
updating if you really want to animate
the shadow representation if that's a
thing so we can see a quick screen
record you can see this in action here
let's see yeah so this is a couple of
demos that we have internally this will
be published as an article and um other
you can run externally it just shows the
basic
action of dragging something it doesn't
have permissions versus granting the
permissions and then getting the
capability to drive between the apps
moving on so we have notifications all
right so you've all seen us do this talk
before I hope and you know this is the
part where I hijack the conversation for
15 whole minutes to talk about all the
shiny new stuff and notifications well
not this time because they gave me my
own talk so come back tomorrow at 9 a.m.
and we'll go really deep on all the
exciting new stuff in notifications in
Android N and in Android wear 2.0 which
you saw at the keynote I will just be
quick I'm not quite done hang on I do
want to just highlight a few things that
I want you to be aware of perhaps entice
you to come learn more or check it out
in the developer Docs first we have new
templates for the first time really
since honeycomb although we did do a bit
of a material update a couple releases
ago so new templates moving things
around a little bit creating new
attribution for the app that sent the
notifications you always know who is
putting stuff in front of your face we
also have bundled notifications
something that we originally developed
for Android we're finally available on
the handset and on tablets the ability
to group those notifications together we
also have direct reply the ability to
touch the reply button and actually just
type the text right in the shade so this
is again something that Android wear has
had for a while so you could talk to
your watch and have it sent as a text
message now you can do the same thing
even from the lock screen if the user
has allowed it while I'm up here and
talking about system UI things I would
like to talk to you about quick settings
we've finally done something that users
have been asking for for a long time
which is make them editable now allow
you to choose to add and remove the
quick settings that you want to see and
in fact you have this great new thing
called the quicker quick settings I
think I just came up with that the
quicker quick settings is the list of
five your five top quick settings that
appears at the very top of the
notification list anytime you're looking
at it so if you move those around to get
the top 5 in there you'll have access to
them one touch away anytime you're
looking at your notifications
but wait there's more so developers if
you've been playing along at home you
know from the end preview that you can
create your own quick settings tiles now
that any user using Android n can choose
to install so go ahead and take a look
at the API Docs around tile service this
creates a whole lifecycle around quick
settings tiles that allows you to know
when the user has added the tile to the
list when the tiles are actually being
looked at so if you need to do live
updates you can do them then and then of
course the all-important what to do when
the user clicks on the tile when you
call get us tile you get a pointer to
the tile object which actually holds all
your state unless you do things like
change the icon change the label go into
and out of an active state which lets
you dim it or not dim it based on
whether that resource is available and
then once you make all those changes
please don't forget call update tile so
this is perfect for at your your
settings some quick feature of an app
that you know the user wants to have
access to from the lockscreen
if you are busy building out your smart
home the first thing you want to do is
have a quick button from your phone
where you can turn it on make it you
know play your theme music as soon as
you walk home that's exactly what quick
settings is for the last thing you have
to do is blah blah blah stuff in the
manifest just to make sure you get all
the correct permissions so that system
you I know is that you're a quick
settings tile and knows what to do with
it let's talk for a little bit about
display size so this is actually an
accessibility feature that we're
introducing an N to up meant and even
replace font size so font size is
something you've been able to change on
Android for a long time developers you
know that if you specify your typefaces
in SP that multiplies in the users
chosen font size so you can let the user
say I need a little bit more help or I
want to be able to see a little bit more
text on the screen but what you as
developers probably also know is that
that SP is live very limited right we
don't really change layouts based on the
font size you can do wrap content to get
around that but there are certain parts
of the system like notifications um that
really didn't deal very well with that
because the size of the geometry just
did not change to accommodate all the
additional text so we have now in
Android n is a display size feature you
go into the display settings you hit
that and it changes the DPI of the
device at runtime it becomes a new way
to change all of the UI on the device
and to not to a new density not just the
text so you can blow everything up or
shrink it all down to make the
most use of that tiny little screen
you've got there so you can go from
point 85 all the way up to almost one
and a half I shouldn't have to tell you
this at this point but please avoid px
in your layouts because since this is
changing the density of the device
this is gets multiplied in when you use
dips in your layouts and your other
computations the other thing that you
want to do and I'll show you a video in
a second that makes this really clear
make sure your app works really well on
SW 320 DP I know I know we're all
carrying around these giant like you
know slabs of phones and they're very
few tiny displays out there but suddenly
if a user changes the density such that
the screen is effectively SW 320 DP now
your app needs to deal with that in a
graceful way so we've got a video here
that shows actually what happens this is
the live resize you go into display size
you move this slider around larger and
smaller and you can see that everything
changes size not just the text but the
navigation bar status bar and all that
good stuff and in fact I have the
breakdown here this is what default size
looks like if you just change the font
size some things get bigger but some
things are unaffected and then of course
display size changes everything so you
can finally make every part of the UI
big enough for you to see or small
enough for you to feel like you can pack
all that information in there let's talk
about locales let's do that alright
thanks Dan
multi locale I don't know I haven't done
it yet now what's awesome is is seeing
the the geometry and the shape of the
awning based on the empty seats in the
auditorium it is really hot back there
isn't it some reason to watch the 360
feet it's but it's not hot at home for
the live stream alright so for you
people playing at home let's talk about
multi locale this has been a much
requested feature for many releases now
and it turns out that outside of my
country people speak more than one
language through I have been told this
people who like you and for these people
it's very difficult to deal with the UI
because sometimes you would like some
contents or some apps to speak to you in
one of those preferred languages or to
have a different fallback then you know
some other system default when it didn't
have the appropriate resources whatever
there's many situations where you
actually wants a set of multiple
languages and locales that it can handle
so we now have that so you can not only
select all the multi-language but you
can reorder them based on what you want
to do in the device and you can also add
some of the new languages in variants
that we've added so we've got a little
screen record here where we show how you
select this you go into languages I only
had one selected I don't know why that
is
so let's go in and pick Joyce actually
means German not Dutch just for your
information and I like I picked the
Lichtenstein variation up because I
thought that was funny and then i
reorganize because now that has become
the primary language for the entire
system so multi locale please go out and
use it let's talk about doze mode so we
had doze mode in marshmallow already so
I'm going to do a little review
I stole a diagram from the system health
people so that's I thought it was pretty
self-explanatory
I could just pop the diagram up there
and you'll kind of immediately
understand what those mode is about it's
I mean it's sort of obvious but I'll use
some highlights and sort of point out
the important parts of this first of all
doze mode kicks in after a while the
screen is off this device is stationary
and it's running on battery so it runs
for a while and then it goes into this
doze mode down there that you can see
the little green section down there and
then there are these maintenance windows
that come along where now all of a
sudden activities are allowed to to
actually take part in the system and do
their normal stuff during these
maintenance windows and then we have
these recurring sort of an exponentially
increasing duration between these
maintenance windows and and so these
happen over time and then in Medan time
we have these doze modes where the
activities aren't doing much there's no
network activity there's deferred jobs
and and sinks there's no way clocks it's
all good it allows the battery to last a
lot longer so all of this is
self-explanatory but then let's go in
and talk about n so an N we have all of
that stuff
but then we also have this additional
sort of lighter weights mode of doze
where now you don't actually need to be
stationary so it's also a heavy that a
phone can be in someone's pocket
for a very long time and not actually
being used so wouldn't it be nice if the
activity is more
consuming a lot of battery at that time
so they detect this situation where it's
not stationary they wait for a little
while and then they go into the doze
mode and then they have these
maintenance windows you have you know
lessened activity not as restrictive as
the marshmallow but you know similar
concept here and again you know all
self-explanatory here we'll notice on
the diagram that you have similar colors
for some of the elements there it must
mean that they're dozing similarly and
then finally we have similar barcodes so
all of this makes sense let's point out
that the capabilities and the sort of
lighter weight those that I was talking
about that's actually a superset of the
functionality already we have all the
stuff from M when the device is actually
stationary plus this lighter weight all
at the same time so if we really want to
make sense of it then we put the
diagrams together and then it looks more
like this so I think as I said this is
obvious some people thought I should use
words and more so we'll go quickly over
that and marshmallow you have the device
the screen is off it's on battery and
it's stationary and at that time you're
restricted from using the network your
deferred job syncs arms no way clocks
service is restricted in n
lighter-weight all of the above but it
doesn't have to actually be stationary
it can be moving around in your pocket
or wherever and then you have a less of
a restriction because there are some
background activity that's still valid
to take place at that time please go to
the battery and memory optimizations
talk today at 5:00 p.m. to learn more
details about this as well as other
system health stuff and when I'm talking
about system health stuff let's talk
about projects felts so this is a
project that we started a couple of
releases ago to look at all the stuff
that is going on in the system that is
causing the battery to drain significant
significantly and then see what we can
tell developers to do to fix their
applications and address that need and
also what we can do on the platform side
so we did that and in the end you can
say goodbye to the following actions I'm
sure we'll all miss them terribly but
they had to go so there were these
situations that we detected in the
research that that team was doing where
something would happen like a
connectivity action
message would would occur and all these
activities would wake up because they
really really really wanted to know when
the Wi-Fi network change so you're
walking around your corporate building
moving from one router to the next and
all these activities wake up and they
say okay what's to do nothing and then
they would go back to sleep and in the
meantime the system is thrashing because
they're all waking up they can't all fit
in memory at the same time so we're
killing off old ones so that the new
ones can start and we just get into this
horrible thrashing situation similarly
for new videos and new pictures the user
took a picture and some expense report
application on your phone decides oh it
wants to know about new pictures because
maybe they took a picture of a receipt
so the activity wakes up along with 40
of its best friends and realizes that it
does not care about the picture of the
cat that you just took and then it goes
back to sleep so similar thrashing why
don't we reduce that stuff and make the
battery and lifetime of the device much
better for the user by simply not
sending those anymore instead the new
approach is to use jobscheduler which
we've been talking about for couple
releases now in particular there's a new
API that you should pay attention to
that allows you to ask for when content
has changed not immediately because that
was the problem with the old approach
but eventually when that job gets
scheduled then you can find out if
there's new media that you care about
again go to the battery and memory
optimization session to learn more about
this stuff and then that app can
absolutely let you expense that cat yes
yes it turns out that that belt was a
valid picture for the expense report
yeah good point
Thanks all right data saver it is now
possible for the user to tell the device
tell the system that it wants to
restrict the amount of data that
specific apps are using so here in the
place that I live I don't really don't
worry too much about Wi-Fi and I'm on a
data plan where you know I'm not really
capped it's not that big a deal that is
not true the world over obviously people
may pay really high premiums on on their
network access or it may be really slow
so they don't want everyone to use up
the limited bandwidth that they have or
maybe their metered so that we're giving
them the ability to really clamp down on
that and not only tell us to use less
data but also to tell
specific apps whether they are allowed
to use data restricted or not so there's
a place where you can go in system
settings now where you can basically
toggle this on a per application basis
on the developers side that means that
you need to pay attention to this and
because you may be restricted at any
time so there's mechanisms in the system
for you to find out whether this is
happening so you can query for the
connectivity service and then find out
whether you're a metered on a major
network at the time and B whether
backgrounds access is actually
restricted at that time jarick boot one
of my favorite new features in Android n
so if you have a pin code set on your
device and you've encrypted the device
if the device happens to reboot for some
reason because you took an update or we
have automatic update or because of a
you know spontaneous reboot you would
find your device sometimes sitting on
the the pin code screen waiting for you
to enter the pin code and you might be
missing text messages or emails or even
phone calls so now what the system does
instead it will boot all the way to the
lock screen before asking for your pin
code and until you enter your pin code
some applications will be able to run
and you can register your application to
be able to run in this direct boot mode
which means that sitting on that lock
screen you are you will have access to
some of the functionalities like getting
phone calls or text messages so if you
want to know more about it if you want
to know how what you can do in your
application to enable that mode please
attend the talk on Thursday at 9:00 a.m.
it's going to be in the Android security
talk another feature that's been widely
requested was specific access to
specific directories on the external
storage so if you are application needs
to look at the pictures or the music or
the videos or whatever on the X on the
user's excel storage up until now you
had to request access for the entire
storage and it was a bit of a scary
permission for users when they were
downloading the application from from
the Play Store so now instead as we see
here in the screenshot your application
can specifically request access to one
directory like pictures or just music
and combined with the new permission
system in n it becomes very clear to the
user what the application is trying to
do and what you what the application is
going to be able to access so android
for work I would encourage you get out
there
there's a lot of stuff going on there I
just wanted to call out a couple of
features in particular in Android for
work in this release so go to the
session Thursday 2:00 a.m. your apps at
work please do in into that but in the
meantime if you have a work profile
installed on your phone there's a new
feature called work mode which actually
it's about disabling work mode so it's
sort of let's put an exclamation point
in front of that not work mode
basically you can pull go into quick
settings and easily toggle it off and
you'll see I don't know if you can see
it on the screen the work profile
applications were just disabled so if
you click on one of those you'll get a
little dialog saying I don't know that's
disabled right now so it's easy to turn
that on and off so you can spend the
weekend actually not checking work email
if that's your choice
there's also something called work
challenge which can hopefully get away
from some of the ugly authentication
stuff that companies have had to do so
they require this extra restrictive
password stuff on the lockscreen they
don't need to do that anymore instead
they can provide a password that is only
used when one of the work profile apps
runs so we'll see a little screen record
of that so you want a work profile app
and it confirms your password here it
launches the app now if you go in and
run one of the other work apps it just
goes immediately into it because you've
already authenticated into the entire
system so now the real reason why we're
here there are features for developers
so the first big one was also mentioned
in the keynote it's changes to the
runtime so now we have a much faster
interpreter which means when your
application is installed it's not
compiled ahead of time like in lollipop
and marshmallow its first going to run
into interpreter in mode and when the
JIT sees pieces of code in your
application that runs that one very
often or that would benefit from a
higher performance it's going to kick in
and compare things just in time then
when your device goes into idle mode
we're going to use some of the
information gathered by the digit to
pre-compile ahead of time parts of the
application so we're really doing three
things interpret interpreter JIT and
ahead of time compilation so you know it
took us a few years we tried all three
in the past and now we're doing all
three at the same time I really
recommend that you attend the talk on
Friday at 1 p.m. from the art team a
devotion of art they're gonna give you
way more details about how all that
works
we also have new runtime libraries one
of the big new ones I see you for J it's
now a part of the framework ICU is a
library that's useful for globalization
internalization of your application it's
a fairly large library so it's now part
of the framework we use a different
package name so that we don't clash with
the existing package names and you can
now rely on it being in the framework so
you can reduce the size of your apk we
also added some new Java util packages
so they'll divide the total load
function that contains classes in EPS
that are useful for functional style
programming like predicates we also have
the new streaming API that is extremely
useful when you combine it with some of
the new language features so if you want
to use some of the new Java 8
programming language features you have
to change your Gradle build file to
switch to the new Jack compiler you also
have to say that you want source and
binary compatibility with the the 1.8
version of the programming language and
when you do that you have access to
lambdas one since so lambdas are
implemented using anonymous an enum
anonymous inner classes speaking too
quickly which means they have
backward-compatible all the way back to
Gingerbread so you have some examples of
what lambdas are if you don't know what
they are if you've never used them thus
tons of documentation and articles
online go look at them it's going to
make your life a lot better especially
if you use things like iyx Java or just
the Android UI framework anything that
requires a lot of listeners lambdas make
it make it a lot easier just be careful
though because those things create
anonymous classes there's a Leo they are
they are little more costly than this
seems than they seem but you know it
shouldn't matter much in most
applications
default and static interface methods are
two very useful features that are not
unfortunately backward compatible so if
you have an existing interface you can
now add new methods and provide default
implementations very much like what you
can do in abstract classes again very
useful to move your APS forward without
breaking everything or your clients and
you can even use them to create the the
famous adapter pattern that you've
probably seen with a lot of listeners
you have a listener that has several
callback methods and typically there's
an adapter class that comes next to it
that has just an empty implementation of
all those methods so that when you want
to
implement only one of the methods you
don't have to declare all of them so
it's very easy to do now with the
default methods and you can also have
static methods on interfaces repeating
annotations I'm sure many of you who are
using all those fancy frameworks with
tons of annotations will love that
feature it's also unfortunately not
backward-compatible but it means that
now a single annotation there's an
example at the bottom at exportable can
be can be written several times on the
same type so for instance here we have a
class that we want to be able to
serialize in different formats we can
just repeat the annotation instead of
using arrays of values in the annotation
the audio team the media team has been
working really hard in previous versions
of Android to reduce audio latency most
of that work previously was done in the
native levels of the system and in the
end they worked on reducing the latency
of audio in the in the upper levels so
you can expect depending on your device
of course a 40 to 70 millisecond latency
reduction when you play audio it's very
easy to enable there's an example right
here on screen when you create the audio
attributes for your forum your media
player you can just set the flag low
latency and we're going to give you
access to that new feature there's also
a couple new ApS that you can use to
improve the playback you can create a
number of under runs that happen while
you're playing your your your media back
and you can also dynamically resize your
buffers to take action when there are
too many Andorians if you want to know
more about it especially if you want to
know how to use the underlying native
api's to increase your latency even
further you can go to the talk on
Thursday at 3:00 p.m. when the script a
bunch of improvements so now in a single
source file you can have many kernels
that they can call one another it makes
it a lot easier to create complex
compute programs we also have reduction
channel so you can do MapReduce type of
API for instance if you need to compute
a histogram you can do that with a
reduced kernel you have access to
multiple images we are the allocation
that get byte buffer which is going to
help you reduce the number of
allocations that happen when you run a
render script kernel and finally if you
do a lot of if you process a lot of data
we have support for a 16-bit floating
points which helps you cut the size of
your data in half and if the precision
works for you you should definitely look
into it
for graphics people out there open gles
3.2 that's the newest version of OpenGL
ES that we ship with Android n it is
effectively OpenGL ES 3.0 one plus
something that's called the Android
extension pack the Android extension
pack was a bundle of OpenGL extensions
that if one if the extension pack itself
was was present on the device you are
guaranteed to have access to all those
extensions he was making a life of
OpenGL ES developers a lot easier so
that this has been folded into the
actual specification of OpenGL ES we're
going to accept one of the extensions
that you can see on the slide and some
of the highlights include advanced
blending equations so another hardware
can take care of doing all the blending
modes that you find in a Photoshop or
their image processing application you
don't have to write shaders for that
anymore it's part of OpenGL you can use
tessellation and geometry shaders those
are very useful to jarred geometry at
one time so typically what you can do is
you have a fairly simple mesh and as the
camera gets closer to the object you can
add more and more triangles dynamically
to make it look smoother on screen
without paying a huge memory cost or
performance cost when you don't need
those extra triangles there's a new
texture compression format called a STC
and a couple of other features that if
you use OpenGL ES who will care very
much about Vulcan was also mentioned in
the keynote so deal more details there's
going to talk about it on the well to
day at 6 p.m. so volcÃ¡n is a low-level
api to the graphics it's lower level
than OpenGL in some way you effectively
become the driver so you can do you can
generate comments for the GPU from
multiple threads which is going to help
improve the efficiency of your
application there's no not as much
overhead in the driver itself so you can
make more draw calls you can put more
objects on screen you can also pre
compile your shaders offline which is
very useful to do validation or to do
heavy optimizations because the drivers
on the device try to find a balance
between optimizing your shaders and not
spending too much time compiling them
it's also a cross-platform API so Vulcan
as it exists in Android n is the same as
the Vulcan you will find on Windows and
Linux the drivers are shipping today so
you can even write your code on your
desktop machine and then run it on your
on your mobile device it's also a little
more difficult than the OpenGL ES you
have to do Express explicit memory
management and synchronization so we're
going to probably see
job taking Vulcan in middleware so
engines like unity or Unreal Engine are
working on supporting volcano or have
support for Vulcan so if you're using
one of those engines you're good to go
your apps are going to be better for
free there were improvements to ADB in
terms of both functionality as well as
performance so we made it a lot more
full-featured more like a real shelf so
you can actually get a lot more content
from what's a LS you can also take the
results from things that haven't an ADB
and actually pipe them to other
processes on the host so much more
full-featured stuff that you can do with
that and then there were also major
performance improvements made
specifically to push and pull by a
really complex algorithm known as
increasing the buffer size so that's how
we do things here at Google so new ADB
you don't really have a choice but
you'll enjoy getting the process exit
status and being able to play the the
standard input the same input to the
remote device is particular useful to
automate testing for instance you can
run a lot of things automatically on the
device and get the correct results a lot
of changes to the NDK we've upgraded
clang it 23.8 and GCC to 4.9 but even
though we've updated GCC this is the
last version of GCC that will be
supported by the NDK so if you're still
using GCC in the NDK now it's time to
test your application with clang it's
time to move on I would say and we also
made the default the arm7
architecture the default as you can
forget about the other architecture so
your banner is should benefit from more
optimizations that are that make more
sense for today's devices VR we heard a
little bit about that in the keynote and
you're going to hear a little bit more
about that the rest of the week the I
wanted to talk about the massive surface
area of API they need to be aware of
first of all you need to know about the
features on the device the devices are a
little specific to the capabilities that
they have as we heard in the keynote and
then next there's this API that you need
to be aware of and I would say for the
rest of the details please go to the
session it turns out there are a lot of
them last time I looked like 18 sessions
on VR
so take your pick I think one of the big
ones where they going to talk about some
of the technical details are
Morrow morning at 9:00 perhaps but look
on the on the schedule you'll know if it
if it uses the phrase VR in it it's kind
of it was at home VR VR and notice
that's for quotes that's not just to
that it's for quotes yeah on side all
right I would just add if you're not
writing if you are experience a game or
virtual museum or whatever this API is
not for you do not turn it on in your
application just because you think it's
going to make sure I'll go faster that
is not for you it's only for the are
people all right not for you right
support library this is not new in n but
I wanted to talk briefly and quickly
about some of the things that have been
in recent releases so in the 23.2
release we had a bunch of stuff that
people were looking forward to there's
night mode capabilities the ability for
your application to quickly toggle
between light and dark themes the bottom
sheets UI for material design and vector
drawable and animated vector gobble
people have been asking this since we
released the original feature on
lollipop as if we we didn't quite know
it turns out it was actually really
tricky to implement because of the way
resources are processed as well as
drawables and making that work in a
backward compatible way took a while but
finally it's there goes back several
Lisa's so please check those out use
them and start shipping apks that are
smaller because vectors tend to be a lot
smaller than equivalent images pngs and
JPEGs recyclerview auto measure also
wrap contents that has been a much
requested feature for a while so that
was in that release and then a 23 one we
made slights API adjustments to recycler
view to allow much more performant as
well as feature-rich item animations so
check those out as well
speaking of Victoria Bull there's going
to be a talk by Colt don't remember when
it's about image compression and what
you can do to reduce the size of your
apks she's going to talk about vector
drawables but also what you can do with
PNG s and JPEGs and WebP ease to make
your applications just small and look
just as good yes that support library I
also wanted to talk about what I would
like to call the future there are some
exciting things going on the developers
are going to care deeply about but we do
have a session
called what's new in the support library
and instead of stealing their thunder I
would say go check out that session
today at four o'clock to learn about
some of the stuff that's coming up in
future releases the support library I
want to quickly go over these because I
like them this is kind of an
implementation detail nobody on the
outside is going to know but
vectordrawable performance improved
greatly in the end preview release
because we worked on performance
improvements on both the loading side as
well as the first draw side so we create
the bitmap and we draw it there and we
were taking a long time drawing that
path we sped that up we also sped up
just the act of parsing it if you have a
really complex path it turns out that
parsing that string at the Java level
was a very time intensive
so we'd have significant speed ups there
more of a reason to start using vector
drawables also float property in
property my favorite features because
because I checked him in and that's
really good the only code you wrote for
him possibly I'm pretty sure not
actually I wrote a lot of other code and
I checked it in and and there were
problems so I checked it back out not
only did I not actually write much code
for flow property in property but I
actually wrote it about two years ago
but it was hidden API but we realized
that people really couldn't access the
capabilities of using primitives with
the property object until these were
exposed as public API so there they are
please use them especially for
animations it allows you to have a much
more direct method of setting properties
without doing a typical mechanism we'll
use an animators where we dive down into
J and I orbit and back up so it adds a
little performance improvement what else
we got Android instant apps we saw this
in the keynote this morning you saw a
snow to the sandbox area and check out
the demos and also check out the talk
that they have tomorrow morning what's
new in Android Play for developers and
they'll have more details about that and
the most important thing go get the
release if you don't have it yet
Developer Preview 3 should be out there
now I don't know the timing of like you
know sessions with when the bits
actually hit the interwebs
but it should be there please go get it
has some helpful URLs in case you don't
know where do Android comm is there it
is
so go get the preview and
go set up the SDK and most importantly
please file bugs and do it really
quickly we're trying to finish this
release is there anything else Swedish I
just wanted to add a couple of things
about concentrate layout because I care
deeply about it there's also a code lab
you can attend if you want to play with
it already that we can take a couple
questions
maybe I'll query a microlight I don't
know how we're going to take questions
here just speak very loudly you know
what I will say for for the other two
thousand of you that had questions that
you couldn't ask we are going to have
office hours at the end of every day
there's an office hours called Android n
office hours there's actually going to
be a lot of platform people there the
people that worked on n it turns out are
the same people that worked on all the
other releases so please bring your
questions there and there's other more
team specific office hours for
multi-window and stuff like that so
check it out on the schedule and come
ask us questions then I think we're
going to skip the question it's just
kind of awkward there so why don't we
wrap it up and we'll say thank you
thanks
ah</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>