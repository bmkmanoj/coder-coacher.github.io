<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Developer Office Hours (May 9, 2012) | Coder Coacher - Coaching Coders</title><meta content="Android Developer Office Hours (May 9, 2012) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Developer Office Hours (May 9, 2012)</b></h2><h5 class="post__date">2012-05-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Pvx2jragu7k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome once again to Android
developer office hours i'm joel melon
the moderator and to my right I have
Alex Lucas Trevor John's Joe Fernandez
and Roman Nurik our producers today are
reto Meier and Robert Lee we'll start
with our first question in moderator the
question is what is the base context how
does it differ from an activity context
or the application context when should I
use it okay I can actually take this one
so there is a class in the framework
called context wrapper that you can pass
a context and what that once you do is
access certain methods of one context
from from a different one so that the
context wrappers method get base context
basically lets you just access the data
for another context so as opposed to
your application context or you know is
to get context felt which would get the
current context that you're that you're
actively in anyone have anything to add
all right has a pretty dancer didn't
good let's move on to the next question
the gallery widget hasn't gotten much
love in many releases I also noticed the
gallery app doesn't even use the gallery
widget if not using the gallery widget
what's the recommended way to display a
gallery of photos all right um well I
mean you can still use the gallery
widget of course alternatively you could
use a grid view but I mean really what
this a good world answer though is you
know it's up to you how you want to
display photos we don't have you know as
you mentioned we don't have a way to go
and actually give you the same view used
in the gallery which is the galleria so
if you are writing an app with the
displays photos you're going to have to
either use the gallery widget or roll
your own
you want to add to that just one more
thing I guess so you mentioned gridview
and that's that's perfectly fine but
there are a couple of issues with grid
view basically around spacing and and
you know having full pixel level control
over everything so one alternative is
you know if you are trying to get
something pixel perfect you could try a
listview and basically you just have a
listview that for every single row
instead of displaying 1 item from an
adapter you'd have to kind of create
your own adapter and display maybe a
couple of items like two or three items
whatever you want I think that's how
some of our system apps do things but
I'm not hundred percent sure so that's
kind of another another way to do things
if you want Vicks level control thank
you gentlemen next question what was the
thought process behind not showing the
overflow icon in an action bar when the
device has a menu button this causes
confusion as the user will see maybe two
actions but have no idea that there are
more all right um well so think of the
case where a user is upgrading their
phone from say froyo too or just
gingerbread to ice cream sandwich all
right they already have a phone with a
menu button they expect that menu button
to continue to work the way it's been
using before they upgraded so for that
reason we can't disable the menu button
pressing it still has to go and pop up
your your overflow menu now then the
question is do we provide two ways to
access that menu or one and that's
debatable but i think the logic here was
if we actually have two ways to get into
the exact same menu it's rather
confusing on top of that if i remember
correctly when you do open the overflow
menu from the menu button it pops up
from the bottom of the screen like they
did on older releases and that's right
right yeah so it is again trying to
maintain the same behavior going forward
so if you press the overflow button and
it popped up a screen on the bottom that
would be really confusing so i think
that's sort of the logic there there's
only one other thing I would add is that
the action bar before we even had this
kind of
concept of an on screen I guess
on-screen buttons like physical buttons
for on-screen hard buttons or whatever
we want to call him soft cotton soft
buns so before we even had the concept
of this overflow you know in Gingerbread
and Froyo and before that we still had
the action bar and our recommendation
back then was basically put your primary
actions on screen and have overflow
actions under the menu and there is no
other on-screen affordance for for
popping up that kind of that menu so
it's it's kind of in line the card
behavior is in line with our previous
recommendations it's kind of like you
said as a user goes from a froyo
gingerbread device to an ICS device with
a hard menu button they still see the
same kind of behavior they don't see
this kind of new random thing that's
popped up out of nowhere all right it's
called that workflow menu for a reason
all right there you use it when you run
out of room but you still want to have
most of your actions on screen thank you
the next question I'm new to fragments
from a performance point of view does it
make sense to use a fragment on each
page of a view pager or viewed page
indicator especially if every fragment
page will host a list view and given
that the user can add many pages things
so I guess the answer here is it depends
on how your application structured
there's no harm and using a fragment I
mean of course there is a small cost
when you do use them but on the grand
scheme of things is not that big of a
deal if you have a recent used bike
fragments by all means use them if you
don't think you're ever going to go and
display that content somewhere else you
don't have to use a fragment it's really
up to you and just whatever makes the
most sense for your code I wouldn't be
too concerned about performing one way
or the other in this case okay thank you
um for the next post we actually had an
answer do you want me to go ahead and
read it anyway what's the next post sure
source IDs oh sure why not okay i will
read the question and
response that we got from someone else
on moderator 30 source ideas are
generated by a apt tools when the app is
compiled are these IDs immutable
guaranteed to be the same from one
compilation to another and in future
Android releases things the response was
they are not always the same on
compilation to another simply adding
another app + ID above an existing one
in the layout file for example can cause
the values to change occasionally you'll
need to do a clean bill to solve a
mismatch if things get out of st. if
you're using eclipse any other comments
people want to make but before we move
on this sounds sort of subtext of the
question is like is is this a solution
to my problem and we just told them no
so if you're actually in the Hangout I'd
actually like to hear what you're trying
to accomplish that you wanted to sort of
use hard-coded resource IDs and maybe we
can give you an alternative approach
right but you know the answer given by
new on moderator is absolutely correct
though resource IDs do change they can
change any time you change anything in
your app so yeah like Alex said let us
know what you're doing maybe we can give
you a better answer it's not common to
try and reuse resource hi over to
hard-code resource IDs so it sounds like
you're doing something a little odd
there okay um we're next going to go to
someone who's actually in the Hangout
mark so go ahead yeah I have a question
about the preferences using preferences
the honeycomb flavor the preferences
fragments and specifically I'm trying to
reset all the values to their default
settings so what I've done is I
registered a preference that fires an
intent which starts a reset my
preferences activity I get a hold of the
preference manager and the editor I
clean everything I commit and then it
launches the main activity of the
application again just like as if the
user had launched it for the first time
all of this works fine the problem is if
the user
goes back to the Preferences he sees the
old values before there were white and
that is because uncreate isn't called
and I assumed that the on resume just
doesn't know that all the values in the
database have changed from underneath of
it I tried to remove the code to on
resume the problem with that is that
every time you go back now it literally
adds more resources and you end up with
the same set of preferences you know the
first time in once the next time in you
have doubled the next time in you have
three of them so what is the best way to
reset all the preferences and have the
Preferences you reflect that everything
is set to default again Roman you look
like you have a good answer I don't know
if I have a great answer I do have one
question though so you said that when
you so the reset preferences item is a
preference itself yeah it's a preference
that fires an intent and the implement
on my own activity to do the work
because there's more than just resetting
the Preferences themselves we also have
you know license keys on our servers
that need to be unhinged because I've
always are going to chew up a seat so
there's honey processing so all that
happens in acing tasks what they had in
my own activity okay and is the separate
activity is that kind of like the home
activity that has a special mode in
which it's resetting things or is it
basically like a dialogue that shows a
spinner or something in you know correct
so what happens is you click on the
preference the deactivate or reset
preference whatever its name is it
launches the feisty intent which
launches the activity immediately the
activity shows a dialog saying oh are
you really sure that you want to reset
yes or no if you say yes then the dialog
goes away always we show a determinate
progress bar for as long as we do other
things on the network and then once that
is done that activity finishes and
launches the main activity of the app so
at which so
you basically you go from the
Preferences to the the resetter and then
from there you jump straight back into
the home activity correct okay so what
you should do it seems like you should
actually destroy the Preferences
activity off the stack you should
basically clear it so what you could
potentially do is just reset the task
and remember all the intent flags that
you need but you basically reset the the
tasks that you kill or finish the
Preferences activity so it's basically
no longer needed that's that's my kind
of naive guess at how you would approach
this without looking at preferences
program details so leave so the intent
is only defined in the XML so you're
saying there is some sort of intent flag
that I can set that destroys the calling
activity yes yes yes it's clear top yeah
so clear you can look at a flat okay so
under the intent class look at flag
activity clear top that'll basically say
like if on your current task and your
credit task includes the home activity
and the Preferences activity and then
your resetter whatever it's called if
the activity that was to be started is
already on the task then don't create a
new one simply wipe everything on top of
it including the preference activity in
your resetter and jump back to it that's
a very kind of simplistic way of
explaining it but basically using intent
flags in your you know if you call the
intent that set flags or add flight all
right using that you can control
basically the history or the back stack
that you for your task so that's that's
probably the way to do it okay and that
and that flag needs to go onto the call
that's coming from the preferences
correct right so well it's no it would
actually be the call from the reset of
your recent activity when you go back to
the main activity the intention pyre
there you'll set it as the flag there so
based once your main activity comes up
clear everything I don't know if they
took out all of these okay so basically
when you call start activity on your
home just intent or your go back home in
10 that go back home intent should have
the flags to clear at your tab okay
great i'll give that a try thanks yep
thank you you know what I really love to
see is an animated guide to all these
flags oh my god that would be amazing
that rice of it some sort of like a like
a walk through that talks about every
yet because those are actually some of
the most complicated parts of and
redevelopment figuring out what being
all the different yeah but trying to
video exit from this block of text in
the documentation is a little tough for
some music there's more yes it is very
much a visual thing right you have these
stack of activities you're going and
swapping the round of manipulating them
I think it would lend us off pretty well
to an actual animated guide I really
maybe even thank you for volunteering
tripper not so bad what have I done love
that ready by tomorrow yes all right
good well maybe somebody out there
watching will do it for us okay somebody
you actually has more graphics design
skills than I have just you look like
little ms paint version with the Akula
lines I would link to it I'm listening
on persons praises let's move on to the
next question in moderator um having
some generic fragments that display DB
data based on some private provided
metadata is it advisable to use one
generic activity that displays the
proper fragment based on intent data or
is it better to have an activity for
each case and an answer has been
proposed here that's going to depend on
your needs if they all interact with
their host activity in a similar fashion
it makes sense to use one activity so
you don't have to reinvent the wheel
they all have specific purposes in ARCA
latent and the different activity
inflammation implementation might make
sense if its a mix you can have an
abstract activity class that holds all
the common methods and then make a new
activity extending the base activity
that has your specific needs for the
fragment well one thing that allowed to
this is that this this question really
closely parallels the sort of the
earlier days of like dynamic web
programming where people figured out
that they could have one web address
like my domain com and make any content
to appear up there that they wanted just
by have
the back end assemble HTML and get all
sorts of different content of one URL
but the immediate downside was that you
couldn't bookmark in claim because
everything's at the same URL so the the
Android equivalent here is that they're
sort of the problems you can't intent
directly to eat different types of
fragments you can only intend to act it
right so if they want sort of if you
want to have the ability for other
applications into specific parts of your
application then you should probably
have a couple different activities if
you don't actually care about that stuff
then you can get away with having it all
in the same fragment if that makes the
coding easier thank you Alex um I heard
some talking in the background be sure
that if you're not interacting with us
to mute your microphone it's definitely
okay for you to be in here you know
visually and on audio but make sure you
do a mute so we're not picking up
background police thank you does anybody
else besides alex have anything to
comment about this question okay great
um next question out of moderator
xamarin ported android source-to-sea be
sharp and they're reporting a huge
performance boost the does that mean
that the dalvik VM is inefficient can I
get even better performance than using
the net using the NDK and then there's a
link yeah I don't think we can say much
on the dalvik side you'd want to guess
when you from the dalvik team in here
that said as far as the question about
the NDK now of course whenever you write
native code there's the potential to
have you know close to you know whatever
your maximum performances for the
hardware right because you're
interacting directly with with the CPU
that said there's a number of drawbacks
with using the NDK first off I actually
have some Kate seen some cases where
garbage collected post
is actually does run faster than native
code just because as possible to mess up
your memory management not always but
sometimes but more importantly you're
going to lose the cross platform
capabilities that you get when you write
your code using Java language then
compile down you compile down into an
apk that way if you write the end of
code it's going to be targeted towards
one architecture or however many
architectures you said when you build it
and if you haven't built for an
architecture your apple and run there so
that's a pretty big downside to native
code the other thing too tight our thing
to note too is you don't have access to
all the capabilities of the system at
that level so then you wind up having to
do things like right Jay and I bridges
and whenever you go to Jay and I you're
going to lose performance that way too
so because of that depending on the
nature of your application it could
actually wind up quite a bit slower so
the short answer here is it really
depends on what you're writing ug ndk is
a good choice whenever you're porting
over a lot of really complicated code
from another platform usually gains so
if you have a cross platform game that's
written in opengl mostly interacting
with opengl libraries then the NDK might
be a good choice and game developers the
ones who use you need to go and squeeze
out every last drop of performance but
for most app sites they don't bother
it's just going to give you headaches
any other comments Thank You Trevor um
we have a questioning from the Hangout
then I'll go to first and then we need
to move backwards in the moderator for
question I skip so first from the
Hangout how can i change the theme
dynamically to my custom theme each time
the user starts the app so so basically
how can you change the theme dynamically
it is definitely possible I think you
have to do it you're on Chris Oh in your
activity right right before calling
super done create or set content of your
forgot which one it is but basically I
think you just I forgot the exact call
but there's a way to do it I think it's
sexy yes now what would actually be a
good example
honeycomb gallery yeah we have examples
we wrote for honeycomb displays a very
basic photo gallery and in the menu
there's an option to go and pick which
theme you want so we've already
implemented probably exactly what you're
trying to do so take a look in the
samples directory again it's called
honeycomb gallery if you can find that
just take a look at how it does it it's
actually pretty straightforward and just
copy that code Alex he wrote that I
think actually yeah I did oh it is
pretty straightforward the one thing you
have to remember is if the application
is already fully started up and gone
through the young create and then you
change the fame you have to restart the
activity so there's there's no way
around that but if you if you have like
in a preference or something which theme
you want to start one the applicant when
that give Utley starts up then you stop
to make sure to call septame before set
content view I want to say and then it
should be clear so is it for the
activity of that application from your
children I want the application no
actually I wanted for their application
because I'm providing users to wait to
set the theme and I want my application
team to change so instead of me having
to write it reduce setting in each
activity you'll have to do it free chat
now you do have to call this in each
activity you can't have a shared
preferences file this chair putting all
your activities and you know and send a
message to all of them saying you know
my my theme is changed please update and
relaunch but again the themes are
actually said on that proactivity level
so the code to actually go and set this
does need to be done on a pro activity
basis users don't have to see that but
as a programmer you do have to deal with
that reality and that's a good practice
is if you have to do this everywhere you
know you can you can minimize or
maximize code reuse but basically having
a base activity that extends from
fragment activity or whatever
activity and in there you have that code
in your oncreate and if you have to
extend from my list activity or Matt
back to original in the future you could
potentially have like a helper that has
this functionality so there's definitely
ways just like standard programming like
I guess they're good design patterns
around this but yeah he doesn't do it
for activity thank you you're welcome
thank you to go back here we have a
question from moderator last week my
question was answered advising me not to
use the graphic you I editor because of
bugs which made me think how does it
work for like with a UI designer on the
team I assume that means our team should
I just ask the designer to draw the UI
then reproduce it on XML I think that's
actually refer to their team so if they
have it if they have a UI designer right
who's not a programmer nicely how should
they go and right now should they go and
use the UI designer in Eclipse and then
you do that or should this do everything
in Photoshop and half and a developer
going to everything and you I think that
depends on the schools where you are I
design or two but I think generally
speaking when you're designing UI is I
find it's good to go and do it in
something like Photoshop get you know
some really well-defined mocks of what
you want to look what it look like and
then hand it off to a programmer to
actually go and implement those whether
or not you know you're you then go and
use the the UI editor or you use you
just write the external by hand whatever
works in that case us we didn't mention
last week i think i was when i said this
you know there are limitations to what
you can pull off with DUI with the the
UI designer in eclipse but yeah I mean
the problem is when you're working
inside of these wysiwyg editors you tend
to become constrained by what they give
you right you're only going to stick to
the standard widgets but a lot of times
would make sense to go into find custom
widgets to go and you have all these
nice bit naps to give your app that that
extra that extra bit of polish and if
you're designing everything inside of
see it takes a lot more work than it
would just go and throw that together in
Photoshop Roman you have anything to add
here is our resident you I expert sure
it's all agree with what you're saying
the other thing to notice that there's
really like four or five different I
guess concrete processes in doing UI
design there's first the interaction
design which at which point you kind of
create wireframes and like Amy grapple
or just on the on paper and there's the
actual visual design which is really
just in Photoshop or fireworks or
whatever and then there's the asset
production phase where basically you
take your Photoshop mocks and you create
your icons you create your buttons or
custom widgets if you have them and then
you know you spit out you know mdpi HTTP
I xhdpi versions and then after that you
take all that and you take your visual
design and all your interaction stuff
and then you do the front-end
engineering which is basically creating
your layout XML you know populating your
your image user image buttons with the
draw bowls that your designers give you
and so there's there's a number of
different you know processes and so I
think the question about you know who
does one in the team it's really up to
your team right if you have somebody
that's if you have the luxury of having
an interaction designer individual
designer and then do like an asset
production person and then yourself then
you know that that's ideal but you know
dealing out the different tasks to
different people is definitely something
that's common practice okay thank you
gentlemen I'm we have another question
from the Hangout I need to implement in
my app a way for the app to remember
after the user logs in once so that he
doesn't have to login again um he found
two options account manager and shared
preferences wants to know or ask which
one is better and where I can find an
example that implements this okay that's
actually a really good question because
both are valid approaches and it depends
on what you want to do now pert know i
think ack ack manager really shines when
you want to go and export your
Confidential's to other apps so take for
example
google your google account on the phone
any app can go and use account manager
to go and get a handle to your google
account and request a client login token
that can be used to go and access google
services on your behalf and that's
pretty powerful right it allows apps
that aren't your app to read from your
data and do so with that haven't asked
for a username and password on the other
hand the every time you had in the comet
right that's going to take up more space
in account manager and maybe users don't
want to see every app on their system in
that list on top of that to you know it
is extra work to go and add things into
account manager so if your app is
literally just storing a basic using and
password for your app not going to be
used anywhere else shared preferences is
fine for that you know of course make
sure to set the permissions on the file
so that this private of you know what
other apps reading that also I believe
this if I remember it as a question last
week where somebody was asking what the
best practices for storing a password
and I would strongly recommend storing
the plaintext password in actually
honestly anywhere on the device right
you should go and talk to your server
and exchange that for a authentication
token so that something does happen and
your credentials do get compromised you
haven't just linked the users password
which could you know could be used on
any number of other sites right losing
is possibly losing any authentication
potential as bad but loose losing a
user's plaintext password is extremely
bad but yeah I mean really it's up to
you it's the UI decision in a dispensing
with the use case for your app is both
are valid diploma I yelled we've shared
preferences though is the bloated
devices that could be a bit of a problem
as I remove the question with the
problem with shared preferences is they
that when you have a rooted device ah um
so if you haven't really device there's
bigger problems honestly if you've
stored an account manager in the device
is rooted I'm still not sure that you
have a high percent security there I do
know there are a couple areas on Android
are slightly more hard than others i
believe the certificate manager is one
of them I don't think account manager
though has access to hardware credential
storage so if the device is rooted your
credentials and attacked manager are
just as vulnerable it's the same reason
why every times when we asked me if I
recommend reading device I usually
recommend against it because it really
does defeat Android security model okay
so it doesn't matter if it sorted if it
device is I would be both vulnerable on
account manager and shared preferences
that's correct in faculty account
manager might even be a better target
because somebody who's trying to attack
the phone knows that account manager is
full of passwords were strict
preferences may or may not have
passwords and they can be stored in
different formats where's the camp
manager is a little bit more
standardized so yeah either way I think
if the device is rooted either one is
just as valid okay okay thank you very
much um next question out of moderator
capturing a video in portrait mode via
mediarecorder still record the video and
landscape even when with the preview
surface being rotated to show and
portrait is there a way within the
android sdk to have the video being
saved to also be in portrait yeah so
I'll take that one so the answer is yes
in fact we look this up over before the
show there's a couple different ways you
can do this on the camera object you can
do set display orientation and that
should set the orientation that it's
recording video in there's also in the
when you there's two different ways to
do this there's a camera parameters
object you can set rotation in that
object before as you when you set it
into your camera before you start using
it so it's two different ways to do the
same thing and that should that should
solve your problem
ok cool okay great thank you very much
dough um we have another I'd like to
interrupt and remind people that if
you've joined us please +1 us so that we
get an idea of who's coming into the
Hangout um and um oh I've been told that
I no longer need to do that all right
well he should step up on us +1 us like
my ass yes yes we do appreciate it even
though it's not as I'm the moderator
they never tell me anything so let's go
on to the next question in moderator why
isn't mediarecorder audio source voice
call implemented or specifically
mediarecorder audio source voice
downlink i would like to write an app
that records a phone conversation but
the receiving voice is never recorded so
if I offer currently the reason for this
is actually a hardware limitation the
phone the telephony stack on Android is
actually handled by a separate piece of
hardware and they're just literally is
not a path from that chip to whatever
handles audio recording on the device
it's been a while since I last looked
into this it was entirely possible
things have changed slightly but
historically that's been our answer now
I mean I will put a plug in here for
google voice if you do want to record a
call google voice does implement
recording but it does that through it
three things outside of the device now
if you really do want to do this you
could also use other services like
twilio and go and write your call
through them and have them implement
recording on your behalf as well too now
that doesn't now if you're handling
incoming calls that have to dial into
your twilio and if you're doing outgoing
calls you'd have to do the same trick
google voice does we just to intercept
the call and regret it so it's extra
work but it is possible but it's just
not possible on Android devices
themselves mostly for Hardware recent
yeah and I just wanted to add it on I
think we had a similar question like
this or I remember a question like this
last week I looked into this a little
bit and I've seen some apps that
actually claim that they record your
your phone conversation but I believe
what they're doing actually is taking
input from the microphone right that's
on the phone and try to record it
there's rain just capture the audio
through with your APN toys and you
gettin ready for quality recording yeah
so this has been a limitation for a long
time I've remembered several years ago
looking into this and this is not right
now I believe it's a hardware problem
it's not it's not something that we can
intercept and record so and then there's
all security considerations to if you
have an app on your phone that is
written by a ribbed developer and they
start recording calls without you
knowing it that could be pretty bad so
you know this is one of those things
that needs to be approached really
carefully also add if you are
implementing this I can't give legal
advice because I'm not a lawyer but
there are various regulations in a lot
of states about various oh sounds you
know tones that you have to play when
you record calls to make sure the other
person is aware you're doing it it does
vary depending on where in the world you
are but it's something you want to look
into great thank you very much we'll
move on and moderator actually I think
we have one waiting on the Hangout we do
doing Paul blundell oh I'm sorry okay go
ahead Paul
no do we have somebody waiting uh no I
don't all right I'll wait a minute I see
something that's written there but i
cannot see now i'll read it for you okay
Paul bundle says permission underscore
heavy heavy breathing fathers via the
pipeline yeah that's yeah the Canadians
when the hangout today I do that anytime
soon next moderator question will be
when will it be possible package library
projects as bundled jars instead of its
raw source phone as it is the case today
I believe you actually can do that its
intent well so it depends what you're
trying to do if you just want to go and
take just plain source code you can
bundle that up in the jar and include
that in your lips directory and that'll
work just fine what library projects
gets you is access to the resources
folder so there's that question about
resource IDs earlier and that's really
where library bundle or library projects
tend to shine right is it makes sure all
the different libraries can go and share
their resources and assets amongst one
another and if you are doing that I
don't think there's any real way you
could actually go and bundle that up
easily inside of it sure only thing for
a second there yeah I don't you couldn't
do it directly because the problem is
all of your asset ideas need to match
now if you want to get creative you
could probably find some way to go and
include your assets inside of the that
jar and extract them manually and then
load them in but that's a lot of work
but if you're not using assets feel free
to just go and put things in jar right
now it'll work fine there's a number of
libraries there already to disturb you
that way Google Maps I belief is
distributed as a jar file isn't
it's google maps is a little different
yeah because it uses stuff bits on the
devices no analytics that's why I'm
thinking of analytic sisters me as a jar
yes minutes um yeah so I mean it depends
on what you're doing but if it's just if
it's just code you can do it just find
this jar file or and if not it's a very
complicated question time machine we can
tell you when or if but I will say it's
complicated so I would Rathlin thank you
all right um we have a question pending
in the Hangout um Davey Doyle going like
a bag Davey thanks it's basically a UI
design question anything I'm developing
an app which will target both Android
and iOS where I have started a prototype
on iOS and now I would like to convert
it into like an Android kinda style now
with in iOS I don't know if you were
aware of this there's this grouped
tableview component that you can use
yeah I can show it to you look something
like this I don't know if you can see it
yeah yeah it's see it the microphones
cropped off by them yeah so which part
of the UI is that just to be clear it's
basically the tree sections on the page
that's referred to as a group table view
ok gotcha ok so in Android there is no
real out-of-the-box component which
allows you to group certain layout
components into a separate zone ok so i
ask you just to go in and relate to
something which people who aren't
familiar with I us to be more familiar
to sort of let sort of like a most
called in HD all the fresh that
something like that yeah I think I get a
salad element or something it's also
just like a like a fields or a group
something the group control yeah yeah
grouping things yeah yeah what would be
the best way to kind of partition an
android screen and in that type of way
where you have like three zones on a
certain layout is there like a standard
Android way to do that so the first
question asked is each of these zones
have titles or they completely not
something that you can provide useful
titles for not really useful titles nope
okay so let me let me answer the
question had you said yes there's no art
I'll get back for parking benefit of our
viewers Yeah right in front of other
folks basically the one way in which you
could do that is to have a like a
listview use a list view and a
potentially use a list view if it's
dynamic length of content and then use
list separators and for list separators
the list operators are basically
indicate the beginning of a new section
and for that there's actually a built in
style in the framework think it's called
list separator text view style and it's
a it's an attribute so it's Android dot
r dot ATT dr the list separator text new
style so that's and you can use similar
similar kind of visual styling if you're
not even using list view if you're just
using kind of like if you're on a tablet
let's saying you have three or four
panes of content and you want to you
know indicate what is what I think a
good example that would be looking the
contacts app we put a heading of each
letter like the eight on price exactly
max exactly so that's that's if you do
have titles if you don't have titles
there's no I wouldn't say that there's a
an exact kind of perfect way to do this
or a perfect kind of recommendation it's
really up to you but also at a high
level that I mean the the design of ice
cream sandwich the FC I guess from from
honeycomb and later this kind of
holographic you I some of the core
principles are around topography and
spacing and minimizing line so I mean
partly there
kind of easy answer to this but you can
probably achieve what you're trying to
do using spacing basically you know
increasing the spacing between two of
your zones or three zones to indicate
that these are actually proof controls
well the other thing you can do to if
you can't do spacing is actually make
them just visually different right so
you know if you can like put a picture
behind one if that makes sense in your
app right you know things actually make
them just visually distinct from each
other and you know create a grouping
that way yeah absolutely so I mean it
there's no basically two to simplify the
answer here there's no easy answer but I
would look to some of the built-in apps
like the People app to see how you can
do that and yeah that's that's probably
the best we can say on them yeah I mean
I was kind of looking at two approaches
one was the list view with the section
dividers I think there's like a
screenshot on the Android design page
right of course is the link and that
looks like really good on on Ice Cream
Sandwich I think I can do something with
that because even on iOS it's basically
a list view without titles I mean I can
put titles on there on the Android
version that's not that's not really an
issue so that was one option and in
other option i was looking at is that
there's like this third-party library
that simulates the iOS table view on
android so I would advise against doing
that I definitely was about to say it's
not the same thing as I must talk um but
yeah every time I seen have to do that
because I have seen a number of apps do
exactly that yeah and it's really
obvious that it's not an Android app it
just it stands out it looks it looks
wrong we are not nothing against that
that particular you I paradigm but it's
just this out of place on Android right
there pleasers have come to expect yeah
in particular the kind of heavily
rounded corners anytime you see heavily
rounded corners on Android it just just
feels kind of out of place now even with
previous but even with Gingerbread we
really toned down
things like that to make it seem a
little you know a little more specific
to Android let's not know I've already
decided to go with the list few approach
and like I said it looks pretty good on
Ice Cream Sandwich but I'm a bit worried
that it will not look all that great
unlike pre honeycomb devices that's
entirely by the primary market or divide
the way this list views look before
honeycomb because if I'm ready just draw
the gray bar across yeah it's basically
a great ball with white text on top with
bubbly a chef yeah now also for like
company branding that's not really
acceptable I mean it has to have an
Android look and feel but there needs to
be some kind of company branding so it
needs to look good as well all right so
is it possible to style the list view
across different android versions so
that it looks the same and you can
totally do that it takes a bit more work
but you can customize the way the
ListView works and that that's actually
what I was about to recommend is take a
look and see if you can go in either
pour some of the elements of the holo
theme which pertain to listview back or
create entirely custom team that gets
you that you're looking for and I had
some remarks from people that said you
know don't try to pour it over the holo
theme to older Android devices because
then it might look at a place yes there
certainly there's certainly parts of the
holo theme that make you a lot of place
for example like i'd say like textview
styling so an edit text box that have
that lets you you know edit text on ICS
and honeycomb that's a very very
distinct style and and it it's probably
okay you know to take that style and
bring it to gingerbread android devices
people will still get it people also
understand it may look a little
different but people will understand it
also make sense yeah if the question
between using an iOS look and feel and
using a hollow look and feel on a
priehala device I'd go with the hollow
option
yes yeah I know but the thing is like
for things like the the list separator
text view style in honeycomb and ICS
it's a pretty it's almost a universal
looking which it yeah it's not something
that's going to really confuse anybody I
mean obviously you have to make sure
that it meshes well with the rest of the
app you can I mean you shouldn't just
take it wholesale and apply it without
you know using you know without tweaking
it to mix to make kind of to fit within
the rest of the design but definitely
it's something that that is universally
understood kind of a text a piece of
text with a line underneath and then
some controls blood it's almost
universally inertia to the header all
right although in this case there
wouldn't be taxed because there's no
title right and even if it's just lines
if it's just lines separating things
that's fine as long as it looks good
with the rest of the science should be
fine yeah and I don't you know it
doesn't really have to be only work on
ICS or honeycomb sorry I see that again
I didn't catch you talking here that
type of stuff works also like on Android
21 22 23 there's nothing more like ICS
or honeycomb specific within that whole
list view section divider thing at least
I don't think within that there should
be I mean it's just a colored bar
there's nothing really complicated by
what is trying to do there I know I know
there are some other parts of hollow
Lexi action bars that are a bit more
difficult to port but list heading this
should be pretty straightforward no ok
thank you I think we should move on at
this point the next question I think we
should go to is this question here what
is a good way to implement cross APK
class loading and plug-in architecture
and android see the stack overflow
question ok we take a look at this
question before the show and so the
person's trying to go and do dynamic
class loading to pull in a Dex file from
another APK which in theory should be
entirely possible provided that the apps
are signed with the same signature
that's prerequisite to go and pull
resources out of another APK
unfortunately they're running into some
you know their approach team found but
they're running into some technical
issues that's preventing from doing it
there is somebody here who know a couple
doors down that has done this sort of
thing before unfortunately I couldn't
find them before the show to actually
ask them for more details so I don't
have a good answer for you have to talk
to my head given that this isn't a very
common thing to do i will say that your
general approach is correct right i mean
if you want to do a plugin you know make
another APK make sure their sign with
the same signature and then you know you
can try and pull in classes from that
other APK using dynamic class loading
now i don't you might remember right you
might have to actually take the class
and write it out temporary storage first
that i don't know if they were trying to
do that or not if not that could be the
problem because i don't think the
classloader can actually reach into the
other APK directly so and I do remember
this is a problem we've had before
trying to do some dynamic loading stuff
is that things do wind up getting Rinda
temporary storage for what you're doing
that's not a problem so I think that
might be the missing step with that if
you're on there i'd love to ask you more
questions about their brunch you're
taking but yea general speaking take
your class write it out to some
temporary folder and then use the
dynamic class later on that right um we
do have a link to it in Stack Overflow
so we can get your expert to post a
response to the stack overflow question
yes absolutely that's a good idea all
right let's move on now there's a
question in the Hangout should games
also aim for the hollow designer is that
only for non game apps stand there um I
think it depends on your game if it's we
see a lot of full screen usually NDK
power games friend like to use the sort
of popular example like Angry Birds or
something like that where they have
their own themes like across the entire
game they have their own custom UI in
every single element
it if you have a full screen game
generally that's the way you want to go
if it's a java-based game it has that
uses the standard Android UI components
and you're going you're going to make it
feel like an Android app in that way
that I would say it's like the language
you write it actually doesn't really
have any bearing you know whether it's a
native app or if it's written in the
Java language I think the bigger
question is what your gameplay
experiences like um games usually try
and have this whole immersive experience
they're trying to draw you into the game
and make the rest there will disappear
which is why usually we see game
developers go and do things like
implement custom buttons that use
whatever visual style the game is
defined right it's trying to make it
feel like you just have the game there
and I think that's actually usually the
right approach it gives you just a
better gameplay experience we do game
reviews every Friday and one of the
things I've seen game developers dinked
for multiple times is actually they you
know in a game this has this whole
immersive experience let go and pop up a
dialogue that uses the android standard
controls and it's taking you out of that
experience and is it actually it does
detract from the experience so you know
well you know I certainly want to
encourage people to use hollow whenever
it makes sense you know games sort of
always exist in this special world of
their own and a lot of the roles get
bent specifically for games just because
it's they're trying to be fun right I
would say that also I think it mostly
depends on what sort of game experience
you're aiming for I have some puzzle
games and card games and those really
are not expected to have an immersive
experience so Amy even a card game you
can you have the dealer's table well but
you're trying to hold her so you don't
have to well I'm saying is you don't
have to have in those situations a
totally total you I for one experience
versus the ice cream for puzzle game you
may have some things that are part of a
custom UI but you may also have some
things that are the part of the standard
UI that you use just because you're not
interested in making
totally immersive experience and you
don't think it adds anything in
particular to the game I think that's
there yeah I'm so for instance it like a
sudoku game or something you might don't
have an action bar across the top stuff
like that I guess the main the important
thing is to be consistent like what
Trevor was saying if you're in a fully
immersive game experience don't pop up
an android dialogue but if you are in a
more simple thing where you're going on
the Android UI more than you don't need
to go and have you know custom buttons
inside the UI and then Android buttons
sort of outside the UI right can't pick
one or the other right right um let's
see what we have here I did let's go
back we have this question here what's
an effective way to cash items from the
REST API now I understand that we
actually answered that last week notice
that's would it be a new question
necklace chanoch last week so I let's do
I know this has come before sound like
for example in my transit app yeah we
did cover this one last week how did it
move back in oh I must has this question
before it is a reasonable thing maybe we
should just tackle it yeah Nikoli okay
my let's go for um Therese sorry about
that to repeat what's an effective way
to cash items from rest api and check
their freshness for example in my
transit app by frequently find myself
needing to cash bus routes bus stop
features and refresh the monday become
stale we got an answer back from someone
that said i recommend storing data in a
local SQLite database using a timestamp
to identify the last update time you can
then perform a select using timestamp to
retrieve in the old data which needs to
be refreshed could also have a
background service which removes out of
date data using the delete with
timestamp less than a certain amount for
tiny solution at the SQL database and a
set of providers retrieve the data and a
customer door in a nap service to keep
the retrieval off the UI thread or any
other comments yes oh so a comment we've
given before on this is use a sync
adapter and have a background process
which goes and
data you know I say every 15 minutes
every hour or if you have so you know if
you want to use c2dm you could actually
go into the paint of the device assuming
it's a low frequency update the reason
why I recommend this is because whenever
you're working with web services you
can't guarantee that the phone will
actually have an internet connection
right the user could be on an airplane
that could be in a tunnel they still
expect the phone to work and if you have
this off this background sync process
which stores everything locally who tied
you know again like that person was
standing use a sequel database you can
go and you know make sure everything is
still there they can still perform right
operation to just queue them up to go
and do things later so things always
work and more importantly is there fast
if you're right into local local storage
that's a whole lot faster than trying to
you know communicate over whatever you
know slow edge network connection the
user might happen to be on it door
unlocking like yeah um and sync adapters
do take care of a lot of things that
you'd otherwise have to write yourself
as you said they won't connect if
there's no network available they do
check to see that there's no other
synchronization going on at the same
time and they scheduled themselves
regularly etc they Hank they can't you
can build into them on account
credentials and stuff like that there's
a sample app called sample sync adapter
which shows you how to do a sync adapter
for contacts provider which is a lot
more complicated than most data
providers would be so I suggest that I
would also add on the topic of checking
for freshness I don't I can't really
tell from the question if you are if you
have control over the server if you
manage the server side of the rest api
or not if you do then what you can do
instead of having the device poll is to
send is to look into c2dm and just have
it send a message to the device every
time there's more data for that device
to collect if you are not in charge of
the if you're accessing someone else's
REST API then look into how often their
their API or their their data set up
dates like if they only have updates
available every 30 minutes or so there's
no reason to check out
yeah they'll be dry for the c2dm right
just because there's an update doesn't
mean the user wants to waste battery
power download that date so in case
would be an RSS reader you know ignoring
the fact that you don't control their
RSS feeds you know let's say you have a
server that new every time an RSS post
appeared right um yeah and you know if
you woke up every time one of those came
in your phone would never go to sleep
but another in the user doesn't
necessarily expect absolute freshness so
you know I think in that case of 30
minute buddy pressure on our reality
like known you don't even necessarily
just oh sorry real quick you don't
necessarily need to go and download
every time you get a c2dm the important
thing is if you have received no see two
damns then you know there's no data and
you don't even need to s connect to the
server Esther um we're getting close to
the end so let's move on here we've got
one last hangout question from Billy
drop then go ahead hello that's you oh I
was just listening I didn't actually
have a question I'm sorry so do we have
any other questions from from hint from
anywhere in the Hangout well I've got a
question for a friend of mine if I can
ask sure sure and he's doing something
good that has do they call app that it
gets uses the upstream and downstream I
help for him you know to listen to the
stuff that comes in a phone call and it
was to manipulate that stream can it do
that so he wants to manipulate the
upstream audio for phone call and the
apps terminal downstream I don't know
which one but okay well so downstream
ties in with the question we answered
earlier and that's the do you actually
don't normally have access to downstream
phone call audio upstream I believe you
have the opportunity to record it for
the same reason that you can record from
the foams mic right if you have a voice
recorder app of course we still want to
let apps a close the mic that said I
don't think there's any way to go and
pipe that audio back into the telephony
stack again for the stable using you'll
have access to the down stream audio
it's actually a separate processor on
the phone
so there's no no way to go and relay
your audio there is that for devices are
just for a specific it depends on the
model of the device to my knowledge this
all devices I think there's a standard
design for how Android devices should be
at least at a high level of how they
they should be designed and I think this
is normally what it specifies don't
quote me on that I'm not on the hardware
team but that was at least my
understanding of things okay thank you
thank you are there any questions from
the Hangout yes what also we did skip
one more but a custom view in the action
bar right I'm going to come back to let
it um is there a way to map a custom
view in the action bar to work as an UP
button custom view in the out okay hmm
says a very good question so work as an
UP button is an interesting question
because the app itself is in charge of
implementing the UP button right so if
in your own option options item selected
for Android that are that ID'd at home
you say go up or something you can
certainly create another affordance
somewhere in your UI that also calls go
up right yeah so whatever your rating
that up button to do you could just make
another bun that just the same thing
yeah I mean not that you should do that
because really up is up and you should
have a single in general you want a
single affordance to do you know a
single action but I mean if you're
trying to create something like your own
up button first I mean obviously try not
to just use the action bar but if you
need to create your own up button really
all it is is creating you know showing
your app icon showing that up a little
left carrot and then calling whatever up
you know those only one should keep in
mind window flags so again bursar your
irritant flags right you right yeah you
want to make sure that I can't or what
flags or attack ended up action on so if
you're implementing up at all you should
look at the support library
latest version of support library has a
class called mad utils which helps was
implementing up so try not to implement
up by yourself there are a couple of
kind of nuances with with kind of
recreating tasks and things like that
basically look at NAB utils I'll solve
all the in tenth flag stuff well alright
and I think we're out of time yeah I
think that's it pretty much um we will
see you once again next week until then
adios folks i guess thanks for joining
us
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>