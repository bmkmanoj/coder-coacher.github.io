<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Better share targets with Direct Share (Android Development Patterns S2 Ep 7) | Coder Coacher - Coaching Coders</title><meta content="Better share targets with Direct Share (Android Development Patterns S2 Ep 7) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Better share targets with Direct Share (Android Development Patterns S2 Ep 7)</b></h2><h5 class="post__date">2016-03-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/B6wEvu-hbrU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">when I go to share something it's
probably because I had a fleeting
thought about how cool it was which
means that if it takes too long to
actually share I'm gonna hit the back
button and give up I'm Joanna Smith and
I am your least favorite user to help
you create Magic mountain's sharing
android marshmallow introduced a new
feature called direct share with direct
share you can define direct share
targets that launch a specific activity
in your app when the user initiates a
share to be clear here consider the
current flow if I found a funny article
to show my sister and I select your app
from the share dialog your app launches
that's great but a direct share means
that I can select my conversation with
my sister and your app opens to that
conversation with the article already
waiting in the message text view for me
to hit Send now that is a good user
experience to enable direct share
targets you must define a class that
extends from chooser target service and
then this new service of yours you need
to implement on git chooser targets this
method is the one that will offer up
those share targets to the system so
that it may populate the share dialog on
git chooser targets is where your app
can get us fancy has its little heart
desires maybe makes the most sense to
offer up the 10 most recent
conversations or perhaps your app offers
a way for users to track who they care
the most about and you can provide a
list of those BFFs instead or maybe you
know which conversations like group
messages for example are most prone to
using attachments and those are your
likely share targets this magic is up to
you we just made the framework so that
you could build a better app now we need
to update our manifest as with any new
service we need to declare it but what
is special about our declaration is the
bind chooser target service permission
this will let us interact with the
system to exchange those implicit
intents and share targets properly oh
and of course the intent filter that
associates this service as I choose our
target service
that covers everything you need to
populate the system share dialogue but
what about when the user selects one of
your options you'll want to start the
proper activity when your app is
launched and to do that you need to tie
those specific activities to the correct
implicit intent so you'll need some meta
data to do this but it really is as
simple as that
so to play with direct share in your own
app take a look at our Superfund sample
which is linked in the description below
or check out our documentation but most
importantly just continue to build
better apps</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>