<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Network Performance 101 (Android Performance Patterns Season 3 ep9) | Coder Coacher - Coaching Coders</title><meta content="Network Performance 101 (Android Performance Patterns Season 3 ep9) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Network Performance 101 (Android Performance Patterns Season 3 ep9)</b></h2><h5 class="post__date">2015-09-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/l5mE3Tpjejs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we live in data hungry times users want
more data more often and are spending
more time searching for it as a
developer of the next great social
application this might seem a perfect
match for your business plan but unless
you construct your networking requests
the right way your business flam might
be a huge flop my name is Colt McAnlis
and unknown to most developers each
individual networking requests can have
a load of performance problems for their
users at its core networking performance
is about reducing the amount of time
between when the user wants data and the
networking returns it and there's a ton
of things that influence that variable
for example a bandwidth latency cellular
connection speed small mammals
apparently these are the typical things
that users know about and generally
understand when it comes to networking
but there's also a second set of
performance concerns that developers
have to be aware of which are a little
bit more pragmatic for example using the
cell radio for networking is the number
one killer of battery performance for
mobile devices and the more data you're
transferring generally results in costs
and charges for users see most of the
time folks unlimited bandwidth devices
don't appreciate you bringing down 2
gigabytes of image data for your social
media app but in the end this all boils
down to two key things that developers
need to focus on number one reducing the
amount of time you keep the radio active
and number 2 reducing the size of the
data that you're fetching now lowering
the request count is actually a complex
equation but for the sake of sanity you
can generalize it into three primary
buckets firstly is the stuff the user
asks you to do so like a update now
secondly is the stuff that the server
needs to update you about like a
returning response or a letting you know
that there's new social data available
and thirdly is the stuff that needs to
be uploaded frequently like uploading
analytics or checking device location or
something else that's interesting
now these second two categories are
really the prime candidates for
optimization for example you should
never ever ever ever ever pull the
server regularly for updates now you're
basically just wasting bandwidth and
battery for the server to tell you that
nothing's changed instead it's a better
idea to leverage other services like
Google Cloud messaging which will let
the server signal the app when
new content this will reduce the amount
of battery turn the phone is doing as
well as reduce the overall number of
server responses that you need to worry
about and for those situations where
cloud push can't be used it's critically
important to reduce the frequency that
those requests are made for example
rather than pulling the server every
five seconds asking for data try to use
a back off pattern to reduce the number
of requests and get mostly the same
results and rather than letting your
request be strung out over time try to
batch them together so they happen in
short bursts to optimize for an active
cell radio which of course will reduce
battery waste and even try to think
about prefetching your data so you can
reduce the need for executing future
requests when you can do them now now
stringing all of these optimizations
together is a surefire way to reduce the
number of overall requests which will do
wonders for battery life and costs for
your users and the good news is that you
can update your app to adopt these
patterns without having to write a
massive amount of code GCM network
manager is a Google Play services API
which helps this scheduled network
oriented task and handle batching for
you this greatly simplifies the
implementation of common patterns such
as waiting for network connectivity
Network retries and exponential back-off
basically all the good stuff you need
with a single helpful API now of course
the second large perf target is reducing
the size of the data in your requests
which as far as problems go it's kind of
a personal favorite of mine down let's
see if we can get all of this on one
side shall we
firstly watch the compressor head series
of videos so that you understand more
about data compression in general and
the algorithms that make up the science
then make sure you take the time to read
my article on image compression and go
through and be hyper aggressive about
the quality and format of the images you
are sending from the servers remember
smaller is always better oh and if
you're a game developer then check out
the texture wranglin talk or the crabby
image format to get some better results
for ideal textures and once that's done
go back and check out my gzip is not
enough talk to get a better
understanding of lossless compression
for text-based data there's a there's an
article on that too followed of course
by a hard clear look on how often you're
sending around XML and JSON packets
which hopefully will depress you and
you'll realize that you shouldn't be
sending around raw text data and instead
should be leveraging protobufs or flat
buffer
formats which I got a video on that too
I talk a lot about compression anyhow if
you're ever wondering how your app is
using or abusing the network make sure
to spend a lot of time getting familiar
with the networking tool inside of
Android studio it'll show you how often
you make requests the size of those
requests and how long it took to
complete the round-trip
basically if something's going wrong
this tool is the first step in tracking
it down but as we all know this is just
the beginning for a deeper discussion on
any of the topics I just rambled on
about check out the rest of the Android
performance patterns content and don't
forget that there's a whole horde of
developers out there solving the same
perf problems as you so stop by the
Google+ community and ask advice when
you get stuck anyhow
keep calm profile your code and always
remember perf matters
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>