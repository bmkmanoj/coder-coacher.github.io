<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ADL+ 2013-01-24 Maps API v2 part2 | Coder Coacher - Coaching Coders</title><meta content="ADL+ 2013-01-24 Maps API v2 part2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ADL+ 2013-01-24 Maps API v2 part2</b></h2><h5 class="post__date">2013-01-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_8pzhc7zjTQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome everyone to an Android developer
lab plus for those of you that are
joining us for the first time Android
developer lab classes is a show where we
go into we sort of do deep dives in
Android topics so this week we're
talking about the max API version 2 that
we launched for Android late last year
we did a sort of an introductory dive
into it and this is a little bit deeper
into some more advanced topics so
firstly let me introduce myself on Ankur
Kotwal and I'm a developer advocate on
the Android team and I'm joining you
from Sydney Australia I'll pass it over
to young Felix who's next yeah i'm yun
Felix market I'm a developer programs
engineer on and what I'm also based in
Sydney hi my name is tony chen i'm also
a developer advocate um coming here from
hong kong so hello great yep great
thanks Tony and yung felix so yam felix
is one of our newest recruits you've
probably seen him on the Santa tracker
video and if you haven't please go and
have a look at the Google developers
live presents Santa tracker for Android
which heavily uses the map view API that
we're going to be discussing today so
that that particular session kind of
goes into more the process behind
building the app the vision and really
how we made full use of the map view API
library so with that being said let's
now move on to today's presentation so
uh yeah I'm Felix are perhaps you can
get a start if you are you able to see
the slides just to confirm yeah yeah it
was all good from him ok all yours ok um
so um yeah so the last the last AR plus
was giving you a bit of introduction
into the map you kind of getting started
getting the first project up and running
getting the IP IP and stuff
and so we before this this week we will
look at some of the more advanced topics
so we are if it go to the next slide
you're going to actually show you a bit
of code going to show you a few examples
as well so we're going to look at talk
about info windows because they're
different tires in different base you
could you can create info windows and
we're talking about poor lines and yet
polylines you're talking a bit about
camera animations because that's one of
the really cool features and something
really close really impressive in the
new Matthew we're going to talk a bit
about Marcus's fell in the particular
custom icon said that you could have a
Marcus the all the demos and all these
samples are actually from the map map
view and demo project so if you want to
follow along want to look at it later on
you can just get the get the demo
project from the SDK and just look at
the code from them okay and I think with
that we can dive into our first topic so
info windows I'm sure most of you have
have seen this before so an info window
it is basically a pop-up that's attached
to a marker so and when you click on a
marker that's when the info window pops
up and one thing he'd remember I said
you can only have one info window at a
time you tap on a marker and you get one
of these pop-ups um so let's have a
little this we look at the demo there
are different types of info witness you
can set up so you tap on it and you get
that was it afford implement you can get
is a custom infowindow contents and you
can also have a complete custom
infowindow and we're going to talk about
them in a bit more difficult now to show
you how you can actually go about
creating them and and setting them up so
they aren't lyrics sorry to cut in what
I might do is just play that one more
time because they go a little quickly
yeah well sure it's just rockness
through that video again could you yes
I'm sure so um so the first thing we
have a default info when we have a title
on the snippet then we have a custom for
content maybe have the it looks like a
normal infant window like the Ford one
but the other own content layout and
this is the custom interview where we
have our own layout of our own
background it's completely done done by
us but we have some more examples later
on in the presentation you can see
exactly what looks like and what the
differences are
so let's let's look at the let's look at
infinince in modulus as I said there
three different types default and the
default one is basically where you have
a title its snippet just basically this
plain text and you can't be the
customers at any other way you can
specify tart you can specify snippet
when you tap on a marker that pops up
custom contents that's where you can
actually replace the content that goes
inside an info window so you keep the
bubble that's the default inframan oh
but you can actually put your layout in
there so you can arrange the text in any
way you want you put your views in there
and so on and a custom infowindow is
will be completely replaced the entire
info window since you can you know Kathy
on info bubble use your own background
and make it look and style how you want
it to look like so let's let's look at
let's start at the beginning that's
let's look at an example for one of
those default info windows on the next
slide and slide here basically all you
have to do is you have to add a marker
obviously I eif to set the position and
you just set a tight end of the snippet
and as soon as you set the title the the
map you knows that that you want to use
the default implementation of the info
window so in this case it automatically
notice that you have a title in bold and
you have a snippet there in the larger
gray color and that's that's all you
have to do and that's your default
implementation so it's really easy to
really easy to get started with that but
what if you want to do something a bit
more advanced and you want to put an
image in there you want to style text of
a different layer you also have
different text views in there you want
you want to update that's where the
custom content comes in and the basic
idea is that you keep the default in
favilla bubble so you have to worry
about adding you know adding the outline
toward making sure it's sent an all the
kind of stuff you just supply a view
layout that that's basically what's
thrown inside inside that info window so
if you look at some code um let's let's
look at the layout so so basically what
what we're doing here is we are using
normal layouts xml file that you've used
before in this case you have a linear
layout and we haven't we have an image
view in there and then you have another
image sorry another linear layout of the
text for you and no text
unit and basically all we're doing if
you go to the next slide is your basic
isn't fair inflating that and returning
that and the way you go about this is by
using a an infowindow editor and then
you basically have to register this info
window at a democratic movement of them
and basically there there are two
methods there is the get info contents
and get info window when you just want
to avoid the content office of it all
you have to do is return the view you
want to go you want you want to have in
in your info window and from the get
info contents method so whatever you
want to put into the info window you
just have to return from get in for
contents and in our case here the render
method that is not showing here all
you're doing this just inflating a
layout just just as usual you're setting
our text view we are updating the
imageview setting the image and it's all
video then get us returning the view at
the end and that's how you can have a
custom custom content in the info window
um if you go to the next slide you can
see this a custom window and you can see
the fruit of a gradient in the
background so the included gradient
infinitely the corners around as well
and basically it's the same idea you
just supply view and that you gets
thrown s the info window so you don't
get the default bubble around it you
just get you view that you've returned
so if you look at the code the only
difference you know the only thing we
have changed is basically add a
background to it and the trick is to you
use a nine patch for that so nine patch
means that the the image gets scaled up
automatically and stretch in a way that
makes sense in our case here you're
stretching and so that you always have
to grade at the bottom and you're not
stretching it past the past a little
Paterno's at the bottom there that sits
on top of the marker and that's that's
trick to it and and that's your that
sense your custom to custom infowindow
if you look at the code for this again
we're using an intrapreneur editor but
this time we have to return the view
from the gift get info window method
instead so you have to return now from
getting for window contents otherwise
that's the one is going to be used so if
you return now there and you return the
view and get info window
that's all you have to do and thats gets
think that's what gets drawn instead
yeah so that's really really quite
simple right so though so you know you
know how to inflate the layout you've
used layouts and views before if but
there are a few issues with info but if
you thinks you have to be aware of and
one really big thing is that intervenors
are not life so it's not like any other
view or you know it's not like other
views you've used before so basically
the info window gets rendered to a
canvas beforehand so you can't change
the text on it life you can't change the
image of cons you can't have custom
controls unlike other buttons or
something so you have to be aware of
that so you can't change the text on it
unless you recreate the into a bit of
your hide and display it again and
because it's it's it's rented in such a
way you also can't have other listeners
on it so all you can do is you can get a
you can register on info window click
listener and basically you get an event
back when somebody taps on the tips of
the info window so by default just high
staying for window but but that's that's
how you would hook into that yeah that's
that's it all about info Venus and I
think now we have Tony telling us how to
draw an Android in sunny actually I'm
Felix before we just go ahead I'm just
going to go back a couple of slides just
point out a couple of things here the
the interesting thing is on this custom
window you showed you mentioned that we
have a gradient and we can we can
provide our own you know border for this
and you showed us a nine-page here the
important thing to realize here is
things like the shadow for the for the
window is something that we've added in
a nine patch itself it's something the
library won't add for you right yeah
yeah that's right so so if you order for
shadow behind do anything else you want
to take the back one color you have to
leave it yourself we basically have to
provide a different different image
there yeah yeah so it takes your your
image verbatim including the little
triangle that you see at the bottom that
shows that this is the marker that is
coming from
so just keep that in mind as you use
these more advanced in info windows that
you provide everything the more custom
you go the more you have to provide as
well yeah yeah that's right okay thanks
for that turning yeah thanks um he likes
an anchor um so for polylines and
polygons we do have some samples in our
in our sample project but there's kind
of only showing ley lines and rectangle
or circle are so I want to do something
a little bit more interesting today and
so to show you guys how to draw and
enjoy figure on the map so let's size
feet please so our before that was
that's called a thing a look at quick
demo so so this is an Android centering
on Sydney so we can just plain wrong and
move it and also we can treat the color
the transparency the Alpha a little bit
right now changing the color and then we
can adjust the width of the folder with
the bottom line as well so it's just a
quick demo showing of what you can do
with polylines and polygons this slice
piece so basically what polylines and
polygons do is allow develop you guys to
developer to your shapes on on the map
one thing is very important is the
location of points you specify is in the
particular order so we will talk about a
little bit more about that later
basically all these location coordinates
are left latitude and longitude
polylines will display as a line
segments and for polygons it will gather
on just four more lines and closing an
area and create a shape but pretty much
both of them are built up from
coordinates for
point on it's like yeah both polylines
and polygons they share some common
properties for example you can change
colours the width and the visibility of
those are objects and for polygons
because it's a it's a shape so you can
also change the fill color as well looks
like so um here's a quick post inflate
to show you how to add a polyline on the
map quickly and follow the same pattern
like just like adding markers and so you
have a google map object and then you
just do Aunt Polly line and and you
specify a polyline options in this case
here you are you you have to coordinate
and then you will draw the line for you
looks like um here is an example how you
change color and live one thing you
notice is the polyline options our
object is we turn itself after you set
up a third parameter so that allows you
actually to change all these methods so
convicted in this example here I can
change the color and the width at the
same time in 1 divided of code it's like
yeah here in and that example to how to
add a polygon so for polygons is also
follow the same patterns you specify a
public on options you just need to
provide a list of lat long so here you
can provide more than 20 points and it
will draw the polygon for you so we'll
go both diving the living more email our
polygon is shown in integers like it
spicy foods so tony i have a question
here yeah i'm as you can see the labels
show up on top of the polylines
we I believe markers are the same right
markers will always show on top of a
polyline rather than the poly or polygon
rather than the other way around yeah I
believe so and also I also there is in
in the API there is a scene that concept
so if you have multiple polygons of
things like them and you can actually
arrange these polygons you can either
particular order using the T index
that's really useful to none thank you
um so one thing I want to point out for
polygon is the point you specified must
must be enough in a counter clockwise
order of you know the folder for the
fill color to work correctly so let me
use the diagram here to explain a little
bit or so if you draw a lesson let's say
you have a sphere a circle and if you
draw us a line a circle within the area
um if you draw a counter clockwise on
the thing actually end closing in that
counterclockwise circle is is is the is
the area actually the car is going to be
filled so in in the in the case here on
the right you can see the circle is in
the clockwise order so if you if you try
to imagine you're looking from of it
from inside arm from from the back so is
actually the outside area is actually
enclosing uh if you give you if you try
to imagine by watch it's actually and
closing within the giving if you draw a
circle of anti anti rights so
so so that's why when you draw try to
talk but um a polygon you always have to
think about drawing it from from a cop
and a contact a counterclockwise order
so that the right area is going to feel
the the color you want so
it takes up a little bit of thinking to
try to imagine the right-hand side but
so but this is a key something you want
to keep in mind next alike for polygons
are you can also change the color and
width and the method signature is a
livid the name is a little bit different
so for polygons it's a few color and
then stroke stroke with next slide one
thing interesting about polygon is it
allows you to create some holes though
in here we call hollow polygons are
within a polygon so so one thing I use
this concept to to actually chew all the
eyes of the Android so for the for the
eyes you just need to specify some
points so that the API will draw the
circle for you and after that after you
create those two circle polygons you add
it to the original polygon using using
the method at home and that's how I
achieved the you kept having a
transparent I both for the end or looks
like so here is a live as I mentioned
before we're going to talk a little bit
more detail how to draw the android body
so the diagram here show like what kind
of points are you need to specify in
order to achieve the effect of having a
enjoy figure body so the first point is
actually on the right top right and then
you try to draw the semicircle shape
using a whole bunch of points we will
talk about how to generate these points
are using using the equation later and
then after you draw the same
semi circle you need to create a
straight line on the left so that's why
you need to specify another coordinate
on the lower left corner and then the
last point is the look of the lower
right corner and after you specify all
these point are the API will just
connect these the thoughts together and
then fill the shape with the ecology
specified because remember we're using
the counterclockwise principle and
that's why the enclosing area is in
Crete in this case looks like so now
gets to the equation part so how to draw
that so much semi circle so it turns out
like if you go to the kinky here and try
to figure out a way to draw a circle or
semi circle you will find an equation
like the one showing here it looks
pretty complicated but the but it will
help give you when you look at the
apogee like this so so this is a general
ellipse equation and the thigh angle is
if you try to actually shift the you
lift saw from the x-axis so in this case
the B is the short distance are both for
the form from the thunder from the top
on the center point of the ellipse to to
the to the to the thigh of the year lips
and a a a is added a longer longer with
a side of the apogee lips and a c-myc is
the center for delay of of the of the of
the of the 3d lips but the good news is
if you are not trying to draw a curve
actually with with an angle you can
actually greatly simplify this equation
are much further so thanks likely so if
we set the thigh 20 and then actually I
everything to become much easier
the a lot of the sine cosine parameter
would become zero and cancel out so this
so we have a much simpler equation here
which is just the center point plus a
cosine theta theta and B sine theta so
that the fatal part is to allow you to
draw or to select some points you
sampled are so that you can use those
pawns to Joy on the map so on the next
slide we shall use some code how to use
that equation so here i have a i create
a polygon options so let's say I want to
draw 400 points are for 22 are to get
the curve right and so in usual case if
you want to draw a circle the phase a
variable you probably want to use 2 pi
divided by number of points but in this
case I just want to draw a semi-circle
so instead of 2 pi I use PI developed by
number of points and and then you have a
folder going through all these 400 for
powerpoint and apply the equation that
it is an exact same equation you saw on
top but the code so if you use
the center of the city you want to point
out in this case I am using signal V and
then so X c-myc is the cause coordinate
of Sydney and then our a and B is is the
pistol is a width and height office of
the Android head you want to have so it
just some some some numbers and then
multiplied by sine theta and cosine
theta in this case in the equation so
this this way you can generate all these
point for you the jaw are they enjoy the
Android thicker so I hope that helped
you guys understand how to use a polygon
and oil
I noob active thank you ya think thanks
Johnny that that looks really quite cool
and yeah so so now that we have have a
few things on the map let's talk about
animating the camera we have an example
here little demo that shows you some of
these features that you can use this is
again sweating the API demo so basically
we you can go back and forth between
Sydney Bondi and the camera animate so
we change the orientation change the
rotation we change the the tilt you can
zoom in and zoom out and everything is
animated but if you don't want
animations you couldn't turn them off as
well so you can jump straight to a
particular location and that's what
they're going to talk about next so if
you go to the next slide um so moving
the camera so they're kind of two ways
of doing it so so either you can animate
the camera or you can move the camera an
animating means the camera actually
moves from point A to point B so it's
animated and to do that you have to use
on the animate camera method on a google
map object and basically you supply
camera update that's mandatory and the
camera update basically says this is
where the camera should point it next
and if you'll talk about that in a
second the next the next thing if you
can't apply separation so you can say
okay how long should the animation last
four and you can also register call back
so you know 25 and animations cancer
doors finished but if you don't want
animations you can also move the camera
that's in the next slide so we can
basically say on my google maps object
move the camera and all you have to
supply there is is just the camera
update which tells you where the camera
is going on dad so if you go the next
slide that's let's talk about these
camera update objects a bit more so
basically a camera update object tells a
Google map how the camera should move
and enviable Turkish pointed and to
create one of these you just use a
camera update factory and basically
there are a couple of methods you can
use to create one of these objects so
for example if you just want to change
the target so what the what the map is
putting important what's what the center
of the matters you can use the new lead
long method you just say
a point to this led bong if you have a
couple of points you want to have fun on
the map you can use the net long bounce
method and basically just supply lists
list of let long positions and the
camera update makes sure that all these
points are a part of the part of the
camera you can also specify at that long
and the zoom level you can also scroll
the map so here here you specify the
number of pixels you want to scroll over
map and it's animated than this well if
you see an image camera method you can
zoom in or zoom out and that basically
means zoom in one zoom level so you
don't specify how much you want to zoom
in by or zoom out are you just say zoom
in or zoom out just like you would do
when you press that one of the plus or
minus buttons if you've seen before you
can also use zoom by and zoom to and
basically zoom by means ok zoom by this
mini zoom level so you know assume by
3.5 zoom levels or 10 or something like
that or you can also specify just a zoom
level rather than specifying anything
else and that's that's how you create
one of these camera update objects that
you then use for the animate or the move
camera methods and here's on the next
slide we have to get a few simple
examples so if you want to move the
camera to Sydney so we want to keep its
current orientation then it's tilden
zoom level and and also in this case we
change mobile as well so if you want to
move the camera we basically called the
new dead long zoom method on the only on
the camera update factory and you have
to specify a deadline objects in this
case that's the center of Sydney and we
can also specify zoom level because we
are using the lead long zoom method and
all we're doing is we basically go to a
Maps object and say move camera and
tears or camera update and and then the
cameras move there straight away this
list animation or anything if you want
to animate it so here's an example we're
using this time we're using the zoom in
as we mean camera updates so we are
basically zooming in one to level it all
you have to do is again on the Google
Maps object call the enemy camera method
and just supply a camera update in this
case we're using a zoom in camera update
object if you're getting from the camera
update factory so
case we're not supplying a length or
anything else so that's cool but we
actually have full control over the
entire camera so you can specify the
target you can specify the bearings of
the orientation of the camera gets
better fighter tilt so what what angle
should the camera be pointing it and you
can also specify zoom level so if you
want to specify all of these things with
few of these things you have to use a
camera position builder and the idea is
you use a camera position builder to
build a camera position and then you use
the camera update factory to create a
camera update so on the next slide you
will see an example that makes a bit
more obvious so the basic idea is first
we create a camera position so we say
okay using a camera position builder and
they can chain all of these statements
together that's quite nice so first you
have to specify tag so what should the
camera reporting it you can specify zoom
level you can specify the bearing you
know the orientation we specify the tilt
you know the the the angle and then we
just build the object and so there they
actually are they're not all mandatory
so you can specify just a few of them so
if you want to specify just a zoom level
or just just bearing or tilt or
something you can do that as well so we
create our camera position using the
build method and then we basically just
passed that camera position object to a
camera update factory method so in this
case the method is called new camera
position at all you have to do is supply
that object into the new camera position
message you get a camera up date back
that you can just use in your animate
camera or your move camera method it
sounds really confusing but it's
actually not too bad me think about it
gives you credit camera position and
create a camera update from the position
and then you can use it to animate your
move the camera um so so now the
animating the camera but we also
sometimes you also interested to know
when the animation is finished or when
somebody elvin the animation has been
interrupted and if you want to if you
want to use those features you have to
register a concert cancel call back and
and the basic idea is you create one of
these callbacks you have an unfinished
and on canceled method method so
finish and on canceled and they're cold
when the animation is interrupted or
when the animation is finished and you
just have to supply dead call back when
you actually fire off the animation so
when you use the animate camera method
you have to supply a camera update and
you can also supply the call back there
and that there could you get notified
when the animation is finished or
interrupted yeah that's that's it about
camera camera animations and that we may
try to have a use of that for the center
tracker application so if you find want
to find out a bit more about how we use
some of these features have a look at
the GDL a cemetery Android session so
there's quite interesting so um let's
talk about Marcus a bit more so a marker
is a marker space it basically specifies
a single point on a map so think about
it like a pin you put a pin on a map
somewhere if on the next slide you can
see some of the properties you can you
can define so we've see we've seen the
position before so if to say where they
the market should be obviously you can
specify your ties and snippet that's
what's used for the default info window
implementation you can also specify with
it draggable or not so that means you
can pick up the marker from the map and
move it around and you have an example
of that a bit later on you can also make
a market visible or invisible and then
we have the icon so you can actually
change the icon that the market has so
basic in the image so you can specify
and you can specify different image you
want you want to use photo/marco instead
and if you use different different icon
you also probably want to look at the
anchor and the anchor basically says how
is the image placed in relation to the
position we've specified because it's
right on top is a bit to the left or to
the right and we haven't we have an
example of that as well so let's talk
about custom marker icons first because
I think that says quite interesting so
when I can actually comes from a bitmap
descriptor so it's not just a bitmap
it's a bitmap descriptor and and you get
one of these you have to use a bitmap
descriptive factory so another another
Factory and the few factory methods
you can use so you can use a default
marker solely for Marcus basically the
the standard marker you've seen map we
have an example of the next slide you
can we can load it in from an asset you
can load it in from a direct admit if
you've generated it you can get it from
a file or you can exclusive music from
the resource using the standard Android
and resource resource folders that you
can use so on the next slide you can see
there is ample implementation using the
default marker so if you just use a
default market I can you just say okay
here's a new market objects here the
marker options and here's a position and
you don't specify anything else you're
going to get a red marker there on the
on the map um but the default marker
factory method from the bitmap
descriptive factories actually five cuts
MA so you can actually specify the color
you want for your default matter so you
don't necessarily have to always
implement your own bitmaps or your own
icons you can you might even this be
able to take advantage of this in this
case here we've specified if I did blue
matter so you just say okay what which
you mellow well you do you want you want
to use so if you want to specify a value
a color value we just use the bitmap
descriptor factory default marker method
and there you can you can specify color
between 0 and 360 and that's what what's
then used for the for the argon um but a
bit more interesting is even you can
even you add your own image so as I said
before you can get it from a resource
you can load it from the assets you can
get it from a fire near from a bitmap
and here's an example where we load an
image in from from the resources so we
basically have a drawable this for
justice just an arrow here every you see
picked up the script a factory dot from
resource method to load it in and that's
that's that's that's quite easy but
there's an issue with that um because
custom these images look and behave Matt
look and behave differently from the
ephod matter so you might have to
specify an anchor
so since an anchor basically says okay
and in relation to the position of the
market so that long position we've
specified where should we place the
image so by default if you think back to
the default marker you have a pin that
kind of points to a positional map and
when the marker actually touches the map
is at the bottom center right so so at
the bottom and fifty percent on the left
in the center and if you want to specify
your own anger what you have to do is
you have to specify the ratio of where
we're should be placed so we have you
and me various leaders to specify um and
this is coming from the ratio of the
image 200 is the top left and then 11 is
the bottom right and here's an example
that shows you how you can use these
values so the top right for example is
is 10 and he's an example that i put
together that shows you the impact of
these of these anchor values and what
they do so we are using the default
marker here just a stock sandyford
marker but we are changing with anchored
to the to the to the to the lead long
position so the default is point five
and and one so that's the bottom bottom
center and as you can see that's exactly
where it's touching the map and on the
images here you can see the actual
latitude longitude roofs that we've
specified that's that's the that's blue
circle where so if you make human people
0 which means we're entering the icon on
the top left you can see exactly what's
happened here right so the image the
icon is actually anchored to the
position from the top left and if you
put a smack bang in the middle so point
5 in point 5 it's drawn right on top
right on top of the lettering magnitude
and then here's here's a bit offset of
the rod and the point 1 point 7 so you
can see when so if you take advantage of
this feature of having your own images
it should be cut careful to make sure
that the marker is actually drawn at the
correct spot and especially when you
move around um so let's let's talk about
Dracula markers so you can
actually pick up a marker and you can
actually move it around so when you set
a marker as being draggable you get a
few events back that tell you if the
markets been picked up if the market has
been moved and that's what we're doing
here so again this is coming from the
Maps API demo if you want to have a look
at this so it is actually really easy to
do so the next slide you can see some
code so the basic idea is you have to
make the mark a draggable so there's a
set regular method that you have to set
it true or you can specify it when you
create the marker and then all you have
to do is you have to implement the oil
market react listener which as a name
suggests suggests egg gets callbacks
when you move the marker you have to
actually give to register the drag
listener so on your Google Maps object
you just say set on drag mark allison on
you to specify the object and then use
listen for events so there are three
events you get back so you get a call
back when the when the user has started
moving moving the markers with back in
the market across the map you get a call
back when the users finished when he
when he's taken the finger of the of the
screen and the market has been placed
somewhere and you also get dragged
events so you know exactly where the
market is ms the market moves moves over
the map so if you want to find out where
the marker actually is when s is moving
around all you have to do is just get
call they get position method on your
marker and and that way you know you
know where it is on a map and yeah that
should give you enough information to
get start with regular markers and yeah
that's that that's all we had for only
half for work for this week so if you
want a bit about info windows you feel
about proly lines and motive on android
in on a map you've talked about Marcus
in a bit more detail and drag poor
Marcus so yeah thanks thanks young Felix
and Tony so we do have a couple of
questions that have been submitted on
moderator but given that we have a
couple of people here that have joined
the Hangout let's give them an
opportunity to
questions first so we have Linden and
Gavin and if either of you are talking
right now we can't hear you or maybe
they just shy and that's not a problem
what we can do then is go to the
moderator questions so let me just bring
those up and here we are okay yeah so
first question comes from max I need to
draw a single polyline with a colored
gradient onto the map API version 2 does
allow I need to set a color a single
color do i need to create a custom tile
provider and do the drawing on my own
how can I project get Kyle XY zoom
parameters to geo points and Tony I
believe you looked into this one yeah
sure um so basically for this are what
we are trying to achieve I think that
our provider is probably not the right
class you should look at I think are we
I suggest you to take a look at the
grand overlay class and so usually
that's how people use this class that I
achieved the heat the effect you are
talking about arm so you can draw into a
bitmap and then at the bit to the to the
overlay position the overlay and then
overlay that on the map um so with the
grand overlay doesn't need to worry
about all the projection coordinate so
so in the ground overlay class there are
they are lat long parameter you can
specify to uh to specify the position
geopoint great you gave us a great demo
of overlays Tony by hiding behind your
overlay then of your name but thanks for
them okay sorry about that
all right we can see you now all right
next question google map view within a
view pager running on seemingly any
samsung device and i'm told any pre ICS
device yields a lingering black visual
artifact when moving to another page any
methods you know of to mitigate this
problem and this is Linden who's from
bloody straya which is another way of
saying Australia so Linden and just a
couple of quick questions on this
firstly you said it was any Samsung than
any pre ICS device but you said
lingering black visual artifacts sort of
describe that a bit in a bit more detail
because we went through our bug trackers
and we couldn't find this particular bug
so it'll be great for us to post this
bug on the official bugs list for maps
api version 2 but also get some more
information so we can reproduce it and
Linden might not have a microphone he is
typing away in the chat so he said any
non-nexus Samsung device so what we'll
do is we'll give it a shot and see you
see here we go we haven't had a chance
to actually go ahead and write code to
reproduce this issue we've read it
pretty late so if you grab Hart fan and
run it on a tablet in landscape you'll
see it I assume Hart fan is some open
source app or something along those
lines so all right thanks for that we
will we will look into that and we will
try and get back to you at the neck in
the next episode and also offline but as
I said it's something that I wasn't
aware of and when when the three of us
looked on the bugs the bug list it
wasn't it wasn't immediately obvious
anyway okay next question can we have
three cookies sure I don't know how to
do that over a hangout but sure offline
map fragments with latitude and
longitude attack
so currently there is no api for doing
the offline support i'm not sure what
the plans around that are currently what
the team is basically been doing is we
put version one out there well the first
release of the version to version two of
the api and you know there's a couple of
developers lived and included have been
sort of putting it through its paces and
reported a few bugs so i believe that
the next release will mainly be a
maintenance release but yeah we need to
look into this so i'll raise it with the
engineering team as with these sorts of
feature requests what we can do is we
can we can let the engineers know that
this is a something that users are
developers are asking for and and they
can prioritize the work accordingly i'm
sure they know about it already it's
just a matter of its how to do it and
when to do it so yeah free cookies gonna
pop on down sometime and we'll see what
we can do for you um alright last
question in the is it possible to create
a shadow of the marker and it's info
window on the map so actually this is uh
we sort of alluded to the answer to this
question in the presentation itself in
that if you have a custom infowindow you
have to draw the shadow yourself and you
can do that as part of the image or as
part of the view rather that you provide
in when you set up a custom infowindow
and the same thing actually applies to
custom markers when you specify the
image for the marker you can go ahead
and actually put a drop shadow or
whatever in there and the library won't
do that for you so yeah just a
transparent image and put the shadow
where you need to yung felix attorney
did you want to add anything to that now
that's the only thing you should keep in
mind is the that if you add a shadow to
a marker you
obviously to make the image a lot bigger
than s along with your fault marker so
you definitely have to have to make sure
that still centered at the right spot
using some of the tricks i was i was
talking about at the presentation so
make sure you anchored at the right
position Roger thanks now I Linden has
also asked another question so given
holding a reference to a marker as a bad
idea is keeping tabs of hash code of
markers the best way to keep track of
them so you know which marker got
pressed sorry infowindow not markers so
I mean Linden the way I would probably
do this is a use different listeners or
some sort of identified to track within
your your info window listener to to
work out which one got pressed having
said that yeah I'm Felix any anything
else you want to add on top of that yeah
so we actually had to had to do that for
the Santa tracker app as well and
basically via meters keeping track of it
the same way so we have registered a few
listeners and he basically just have a
tag for each of the markers so we know
which which mark has been pressed so
yeah because you can only register one
listeners your kind of multiple
listeners but but if you if you listen
for market clicks so you know when you
want to display the info window and when
you dismiss the the intravenous or on on
info window click let's copy the way to
do it does that answer your question
London yeah you said cheers all right
let me just do one last refresh of the
moderator and doesn't look like we have
any new questions so thanks very much
for watching oh oh before we we end the
show oh so I want to answer one of the
questions asked earlier in the Imperius
show about a week of a VPN support it's
a question asked by phone them all so
that I let me with repeat the question
here so his question was n Troy 2.8
support ipsec VPN you think
yes a a bae n ms chat but it is not in
android photonics why is it removed and
is it possible to intimate a VPN flying
with support path and ms chat or the
support if we move from her in the
system level so so we always we we don't
always have the answer but most of the
time you try we try very hard to try to
get everyone answers so so we follow up
with the engineering team and we get the
following answer so so one thing is that
we haven't changed anything we did it to
authentication protocol since two points
so if chap and if half and chap is
supported in the system and it will be
still supported in all the nexus images
in ICS we do we move out to TP only VPN
support but we but we also had like
three new common commonly use IPSec VPN
support so if you experience something
like happen chat is not supporting in a
particular device they are a couple
scenario we can think of one s I the VPN
server you are connecting to actually it
doesn't support those are protocol yeah
other possibility is the band are some
OEM may take took away such support in
their OS images and go or images so
that's the I hope that answer your
question well thanks yeah thanks 20 and
I'm glad you reminded me that we were
going to answer that question so anyways
that concludes a the the series that we
had for the Maps API so this was part
two of the the map series but actually
the and we're going to add it to the
playlist the Santa tracker episode that
we did on how we built that app
he is is basically like a part 3 um it's
a little bit more high level there's not
as much code shown but hopefully you
you're able as developers you're able to
get some value out of it and see you
know some of the tricks that we employed
and how we went about it so we'll be
back again soon with another topic and
please do let us know if there's a
special areas that you'd like us to dive
into and we can prioritize those those
suggestions as well so thank you very
much for for joining us we'll see you
next time okay see ya thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>