<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android APAC Office Hours 2012-05-03 | Coder Coacher - Coaching Coders</title><meta content="Android APAC Office Hours 2012-05-03 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Android APAC Office Hours 2012-05-03</b></h2><h5 class="post__date">2012-05-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3RXJ2Au59TY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to a another office
hours from the APEC team my name is
Ankur Kotwal and I'm based in Sydney
Australia I'll let the other guys
introduce themselves as well hi this is
the rice keep from Hyderabad hi I'm a
little going again I'm verify the book
and this is tony from calm great so it's
good to have the whole group of us here
again today so thank you for for tuning
in again and as usual we will be
fielding your questions we posted a
Google moderator link with the two it'll
allow you to to post questions and I can
see that we have quite a few questions
today which is which is really fantastic
if you'd also like to join the hangout
and ask your question live if you're if
you're following the live stream then
please message one of us on on google+
or just reply to the thread below and
we'll invite you to the hang up and
finally to help us collect some
analytics with this it would be great if
you could just +1 the the stream and
that'll allow us to gauge how many
people are viewing and also help us
better tailor these these hangouts for
the future so with that being said let's
get started with the questions I can see
that we have 21 at the moment so if
there's any more by the end of it we
will we'll check the google moderator
link once again so feel free to post
more questions ideally you want to do it
in the in the thread alright so the
first question and what we're going to
do is we're going to answer these
questions in order of votes I hope we
can get to all of them and let's get
cracking so the first one I think
anirudh would you like to take this yes
to the question is through the DDMS tool
it's easy to capture a screenshot is
that an equally easy way to capture over
here running the app through the
emulator is too slow and pointing a
video camera at the phone scenes of bit
clunky so the answer is it's not
straightforward dbms to does not provide
a video of you natively but there are
some tools available developed by the
community which can help you do that my
screen recorder i think is one of those
and there are many others also if you
want high quality video you can use HDMI
capture hardware or software the ones
that have hdmi out and you can capture
the video using these tubes and these
are hardware cards and stuff yeah so one
thing which you might want to keep in
mind if it using the external
application along with EDM stool so
there is a delay of at least one frame
so whatever you are doing on your floor
or on the emulator trying to capture it
in the tools there is a delay of some
time at least one thing okay fantastic
all right ah so next question is Tony
how about how about you for this one
Tony you're on mute so how we can't hear
you I'm sorry so the question was the
galaxy out the gallery app on the Galaxy
Nexus managed to share both images and
video with one share action so how does
it achieve this specifically what is the
mean type set in the intent so the
answer to this question is are there
there is an intent on action call action
send multiple so if you you could go to
our developer site go search for staff
in 10 there will be some more specific
details on how to use that particular
content so with that in turn you can set
multiple kind of
I'll cut a min type in that intent okay
right okay the third question is and
I'll field this one when working with C
to the N or cloud-to-device messaging
how should I handle handset uninstalls
of my app on the server how do I know
when I can remove the App Engine record
for that user will Google c2dm serve and
notify me somehow so if you look at the
CT diem documentation at
developers.google.com/live android / c
to the end you will see that there's a
section on there talking about in the in
the users part of the page and i'm just
going to quote this it says uninstalling
the application also has the effect of
unregistering so basically what that
means is that you should get an
unregistered event to let you know that
that particular device has uninstalled
the application I also did some digging
up around some groups just to make sure
that that people were confirming this
behavior now there were some developers
that said that there were some they
didn't always receive that message now I
don't know how out of date that
information is but a trick that one of
those developers are posted was that
when you receive the notification next
time in your app you can actually
compare against the registration ID so
that particular developer scenario was
where a user uninstalled the application
and then reinstalled it so effectively
kind of had to registration IDs and they
reported that they were actually getting
messages twice one for each registration
ID so it's important that when you
receive the c2dm messages that you do
compare the registration ideas that they
match your current installation but
having said that and as I said the
documentation states that you should be
you should be receiving the the
uninstalled message so I would expect it
to work that way okay ah I knew it okay
so the question is when using sequel
like on Android many of the online
examples have been sick like open helper
inside some sort of 4d your class are
there any problems making that reference
static inside the dl so that when
ondestroy is called i can simply call my
dear door closed yeah that's so that's
one solution you can you can keep a
static reference and call the close
method when you are done using the open
beyond destroy is called for the for the
secret helper but what you have to take
care here is the locking so when you're
using the deal across your app
components like the activities of
background services that may be
interacting with the database you have
to take care that when you're actually
accessing the database or opening a
instance of the database for reading or
writing but only one so it's not
natively multi-threaded so only one one
operation can go through so a good a
good frame of peace that you can use
here is the content provider the content
provider provides a uniform way of
accessing your data in SQLite databases
so if all your app comes in components
including the background services and
the foreground activities goes through
the content provider I you'll have a
seamless block free operation going on
with the case okay thanks on your right
sleep I think you can take the next one
yeah okay so i have to do monthly
reporting on crashes i have experiences
will the Google Play Developer console
include the ability to see crashes major
date criteria currently I have to click
reentry to see if it's happened at the
last month okay so right now the
developer console doesn't support what
you are asking for but we give this
feedback to the dev team so that they
can explore you you to give this feature
depending on the priorities okay thanks
Raj asleep I have invited andrew kelly
to this hangout who's actually posted a
number of these questions and so
hopefully he'll be joining us soon as
well and so moving on to the next
question turning yeah so the Depression
was any words on when we will be able to
access the NFC secure element in order
to upload critical information for using
google wallet style application so the
answer is at least for now a problem has
to engage directly with us Google to
build prop against service to connect
with a wallet so if you are interested
in building an application you have a
priest go to our website of google com /
wallets / partners there is a contact
form there you can fill out to so we can
contact you to talk about polish great
thanks Tony and I believe that there is
another one for you Tony regarding JSON
objects oh ok so for JSON object there's
are questions are the two string method
doesn't pee LOL ok a size for the
stringbuilder to use for conversion
please cooperate with sizes and memory
copies which are hurting my app without
swapping swapping implementation is
there fix I can use so um so we did some
research and so for high performance
JSON we we kind of like a measure
there's a google dash cheese on project
which is a project started by a couple
engineers in
cool uh it should handle issues like
that and also there is another open
source project called Jackson which is
also a high-performance our JSON
implementation so do i will suggest you
to looking look at these two projects
and see whether that help in your
improving your performance in your case
okay great thanks Tony uh welcome Andrew
hey how's it going guys good thank you I
see you posted a number of the question
in fact I think so far we've only been
answering your questions they were they
were the most voted on by by others so
thanks for joining us I'm just going
back quickly to one of the ones you
mentioned earlier with the cloud to
device messaging and if the device
uninstalls the app where does the google
server send the uninstall message to is
it to my server how does Google know
where my server is how does it send the
message um because if the user is just
an installed the app you can't send it
back to the device because my software
is not on the device anymore yes I
believe what should happen is that it
should send it to the server and then
when your server tries to then notify
the c2dm server i tries to pass the next
message through you should get a message
on there that says basically unknown
registration or something like that
right so it's it's when I try and send
the message to the device that I'll then
get the error message back saying it's
no longer there correct cool okay um was
there did you have any other questions
while we've got you one we might get any
other questions that you might have or
insert don't have the listing front me
let me just open another window here a
second sure I mean we'll still go
through the the list on Monday all mine
one that list so yeah okay great so I
think there's there's one question on
there that we haven't answered yet so
let why don't we get to that now and
I can feel this one it said is the
expected behavior when I launched an
async task from a method called via the
JavaScript interface of a web view that
the thread used to run the task is a
webview core thread and not mean so
that's a fairly long sentence I one
person there yeah do I need to wrap the
execute in a run on UI thread Klaus now
my understanding of this is so correct
me if I'm wrong if I with your
understanding with an async task you
shouldn't make any assumptions around
which thread the actual work of the
async task is running but there are a
few callbacks that are guaranteed or are
supposed to be running in the UI thread
so things like on pre execute yeah on
progress update on post execute an done
canceled I think that's only true though
if the async task itself is created on
the main threat if you don't create the
async task on the main thread those on
pre executing on post execute seem to be
executed not on the UI thread but on the
same thread that created it which is why
I'm seeing this kind of strange behavior
that if I launch the async task from a
web view it doesn't run on the UI task
it runs on the sort of web view task so
then in my post execute something that I
have to fill out lots of run on UI
thread things inside where normally I
wouldn't have normally have to so that's
interesting so you saying then when you
do the run on UI thread and it does
actually execute on the run on you I
yeah it works fine but if I don't put in
my post execute if I don't wrap it in a
run on UI thread and then i get the
error saying that you can't modify the
view from the you know from a background
thread eating from an enabling a button
or disabling a button that fails because
the onpostexecute isn't actually being
run on the UI thread it does mention it
in the documentation that it should be
created on the UI thread all the time
but I was just trying to work out which
thread was being used when it gets
called from the JavaScript interface yes
according according to the documentation
there's a section called threading rules
yeah basically it does say that one
to create the task instance for your
async task in the UI on the UI thread
yeah and when you call execute on the
async task you also need to do that on
the UI thread so I again I wouldn't rely
necessarily on trying to make
assumptions around which thread that
async task will run on other than the
fact that in order to get it on the UI
thread you need to create the
instantiated and executed on the UI
thread other than that I i would say
because we haven't documented the
behavior i I wouldn't rely on what
you're seeing now because that could
change yeah I just wasn't too sure if it
was a bug in the version of Android I'm
running against or whether it was
expected that anything that runs from
the JavaScript interface layer runs in
the context of the webview for example
no I like I said because it's an
undocumented behavior if you could
change I wouldn't want to harbor any
guesses about that we hope the contract
is basically instantiation and execution
on the UI thread and then you get you
mean work done in the context of the UI
thread yes is that a lacing task
basically it eases the use of UI thread
but in your case what is happening is
might not be an expected behavior maybe
we can dig a little more two more
research and figure out if this is a bug
or is this an expected behavior which is
undocumented yeah let's say whenever I
start an async task on the UI thread it
works fine it's just that these ones
were being launched from the JavaScript
interface calling me back and then I was
running a background task and then
trying to embed the UI it was all kind
of failing miserably until I started
wrapping things in UI thread sir so did
you but when the on poster execute is
called video check the thread yeah yes
LEM so I was doing some working there so
they there was a different trips with
and the background the doing background
thing and then the onpostexecute was
actually being executed with the web
cool thread view I think it was the name
of it looks AAC it was it was definitely
not running in the UI thread yeah so
this then looks like a nice case
but I think we'll have to do a little
more analysis okay thanks Andrew I think
you do have a couple more questions
further down so feel free to hang around
while we enter there okay Tony do you
want to grab this next one okay so oh
let me take a look oh ok sorry I think
it's on your rejection okay alright so
the question is I'm able to share local
photos and videos using a share in 10
just fine with Facebook Twitter SMS and
email but my media does not attach man
attempting to share with Google+ are
there any additional requirements for
sharing to function with G+ so there are
no special requirements to use G Plus as
one of the share chooser I do but I
would suggest if you're if you're
actually accessing trying to access the
file the image or whatever you are
trying to share using a absolute local
path maybe you can try using the media
content a URI which would look something
like content conquer and slash slash and
then the image location for the media
store so this is one thing you could try
it's kind of hard to figure out oranje
done looking at your code so if you
could share your cause that'd be great
the the other thing that we can look is
actually adding a permission which is an
intent flag the flag name is flagrant we
you are a permission to your intent
before you actually dispatch the intent
to choose to allow the user to choose so
these are a couple of things you can
look at but if you still find some
issues a pre share your code with us and
we can take a look at cool right asleep
would you like to take the next one yeah
I think the next question is again from
Andrew on the web view get certificate
method when accessing an HTTPS site
through the view the gates
good method of the very tons not even
though the site is secure how do I get
the certificate signature of a secure
web page if this method returns not so
andrew is this happening for all the
sites are up for a particular site and
it's also a video I narrowed it down
further today with some more testing and
it seems to only be well on the limited
number of devices I've got on android
2.3 point 3 I get no return from the
certificate and on android 4.0 a 404
sorry I get an actual certificate back
so it seems to be related to the version
of Android rather than the particular
site itself yeah i saw get certificate
typically it turns null when the site is
not secure but i think i'm just checking
the documentation severs just give me a
sec so intro gesture while received is
looking that up just to confirm so
you're saying when you run the same code
on two point three point three verses
four point oh four you're getting
different behavior there yeah yes this
device are you getting this is it a call
a virgin specific Oh Android it seems to
be android version specific rather than
device specific one of them it's a
samsung galaxy s2 neither one's a galaxy
s because this method has been available
since APA level one yeah so what you are
saying should not have expected behavior
is it should return the ssl certificate
yeah with the certificate that it
returns the only returns a super limited
a bit of information about and the
certificate you know the issuer the date
from the day too is there any way to
kind of get the thumbprint or the
signature of the certificate
I think it's basically wrapping justice
a certificate class yeah but I don't
think you can actually get the
certificated signature from the class
all right he's not using the published
methods okay so will it be possible to
share on which devices you're getting
this null so that we can go back and say
yeah well that is the samsung galaxy s2
running two point three point three was
the one who's returning now ok let me
know that all right is there anything
more i sleep i know that's it i think i
will have to check but as i said this is
a the expected behavior is that just
like a state or in this case where is a
certificate should return yeah ok thank
you so we have a question here from
archie from new zealand that says now
I'll grab this one how do you go about
implementing an arrow pointing to a list
item similar to how the Google Mail has
an arrow from the viewed mail item item
to the item on the list now I was not a
hundred percent sure of what Archie was
actually asking here so I played around
with the app and my assumption is that
he's actually talking about the gmail
app on a tablet and basically if you
look at gmail on Android tablets when
you're looking at a specific
conversation you get your list of
conversations on on the let me put it on
the left hand side and on on the right
hand side you have the current active
conversation now in that list on the
left hand side the current active
conversation is highlighted with a
background color of blue but on the
right hand side you'll see there's like
a little indent it kind of looks like an
arrow so what it sort of looks like is
that there's an arrow coming out of that
list item and opening up to the
conversation on the right hand side
so there's basically a number of
alternatives that you can use to get
that sort of effect so three that I
guess I could suggest and you should try
these out see which one you find easier
to implement and which one gives you the
best look but a couple that we came up
with in the actual list item itself you
are you're you know we already highlight
which one is a current active item so at
that point you can just add a little
arrow or a triangle effectively on the
right hand side just put a paint in
there or something along those lines and
and and put it on top of your list item
and it will simulate the look and feel
of it it's a little bit of a trick there
the other trick you can employ is that
between that left-hand column of
conversation and the right hand side of
the actual conversation you could put a
transparent view in between them and
that you can have an opaque part of it
so depending on which is the current
list item you can move that opaque part
up and down to match and the third way
that you could do it is basically on
that right hand side which is that
conversation so if you implemented it as
let's say a fragment or even a view you
could anchor that view to the right hand
side and basically add a bit like an
arrow on the left hand side and again
move it up and down based on whether on
what is the current active conversation
if you ask me personally it's probably
easiest to do the first of the three
which is the current list item and just
because it'll be less effort you you
have less sort of information kind of
going back and forth between the the
different fragments but you know pick
and choose what works best for you and
go with that all right if well we have
another question from Andrew here which
I will field and then we'll try and talk
to some of the other guys that are on
the Hangout as well so on Android 3.2
when i send the c2dm message to my zoom
on the network
sorry to my zoom the network icon
flickers but the message is never
delivered if my app isn't running if my
app is running the messages delivered ok
all other devices and OS versions of
work when the app isn't running Android
this is actually one that I haven't come
across before so is it possible for you
to give us like a small sample I mean my
Porsche the world oh gosh girl school
getting awake our cable at each other
I'm just gonna mute this person sorry um
yeah Andrew yep well yeah essentially
i'm writing a game at the moment and it
sends notifications to the players to
say hey it's your turn to to play and
the idea was that if the app wasn't
running and they were doing something
else but a little notification icon in
the status bar to say hey there's
something to go and do and on all the
android devices that i've been playing
around with the only one that doesn't
work is the zoom which is running
Android 3.2 so I'm not too sure whether
it's the zoom or the version of Android
that's not kind of responding the year
when the app is running everything works
fine and on my s2 and my HTC legend and
all these other devices I've been
testing against when the app is not
running at all the notification still
gets delivered and presented in the
status bar so it's just seemed to be
some kind of add an obscure bug or
something weird with the zoom I'm not
too sure what it was yeah it is it
possible for you to send us a like this
a little sample app or something that we
can try out and we can try running it up
against a zoom yeah should be able to
package something small together yet
that'd that'd be much appreciated so
just ping one of us on on Google+ with a
download link and we can take it from
there no worries alright so we have
Zakir Ahmed on
on the Hangout hi jokky welcome hey did
you have any questions no I'm just
following the discussion here okay no
problem oh alright if you really
understand could you just mute your
microphone when you when you're not
talking so we don't get too much
disturbance but thanks for joining okay
actually I have another Android
developers but I'm security specialist
so maybe I'll try to discuss about
Android application security sure well
if you come up with any specific
questions that we can answer them then
maybe we can get to it but I I'd love to
continue going down the list him anymore
ok ok I just with my microphone there
alright thanks lucky ok the next
question is for Tony yeah so the
question was I want to make my maggio
using tab with action bar however action
bar is not available on 28 which is
still taking ninety percent of market
share which is the best way to handle it
using tap hose is there a row map for
some support for the support package ah
so yes using tap holes to be a solution
for our two weeks at the moment we
understand this is important to develop
her out to have a better competitive
action bar so um so is reassure our
engineering team is looking into this so
in the meantime so if there are some
other solutions by other than tap close
by for example we have some pretty good
things about open source project like
action bar shallow so you can feel free
to look into that but we can speak of
the quality because we haven't used it
but we heard good things from other
developers great I think the next one
key was to Tony okay so um could the
stats in developer console show showing
both version names and version number
first of all thanks for the feedback
but we also want to know is there any
particular reason why showing version
name is also is not sufficient so one
thing I keep in mind is the full version
code is is is is unique while version
name is not so so I think that's an
another reason we want to show something
you need to in order but a console I
mean that this one is one of the ones i
think i've ever done as well because it
sir i think it's quite a good idea it'd
be nice just in the stance where you can
see the little checkboxes to say i want
to see version 5 stat6 dachshund version
7 of you you know the version code if
you just had next to that what the
version name was as well because i love
the time and now that we can hand out
access to the market to sort of non
developers to have a look at the stance
and log on and they want to know what
version the customers going to see so
they can sit then say okay let's see you
know how many people are running version
1.2 if the app and that might be version
code three you know without those having
to go backwards and forwards telling
them all the time what the different
version ko's map to the version numbers
it would be kind of handy just in that
displayed hmm okay cool yep take on this
life yeah just on that one as well I've
noticed that the market for some apps
that I have when a version gets down to
sort of 0 users because they've all
upgraded and that version no longer
seems to appear on the on the chart so
if I've got first in code 3 version code
for and version code five of my app and
all the people who were on version code
for have upgraded to version 5 version
code for doesn't appear in any of the
this of the bar charts so you can't see
when they upgraded or how over time you
know how long it took them to move from
version 32 version 4 and so on okay
that's that's an interesting piece of
feedback we will take that up with the
the market teaming has even even in list
of checkboxes the check box disappear so
it's not like i can just click
box and bring it back is you know it's
just something that seems to be missing
so sure will will will consult with the
play team and get back to you coo all
right before we take the next question
we have Rajesh Kumar on the Hangout as
well did you have any questions Rajesh
now I don't have any question but I'm
just here for some discussion and just
new on in Android field okay all right
well thanks for joining um I'll just out
if you have any questions let us know in
the meantime I'll just meet you from a
background noise perspective as well
okay fine thanks alright the next
question is running the ICS so Ice Cream
Sandwich emulator with a large screen is
slow and then there are some questions
about will there be a nexus tablet or an
x86 emulator Ice Cream Sandwich wrong
well let me so there's a few things in
there let's start with the first one in
terms of running Ice Cream Sandwich the
the emulator for ice cream sandwich with
the large screen just recently we
actually updated our our emulator image
so that it can actually enable Hardware
video acceleration so what that means is
when we normally so the android emulator
the way it works is that it actually
emulates the entire arm infrastructure
in cpu graphics the whole lot right and
off that time that's spent in that that
that emulator spends a lot of time is
actually being spent rendering the
graphics and so as a result that's why
you get slowed down especially when you
talk about large screens because those
resolutions are starting to get really
really high now in that most recent
version of the the Android tools what we
did is we enabled support for hardware
acceleration so the graphic rendering of
the emulator will actually be done by
your local machines video card that's
something that we've just introduced and
I we
registered as a sort of a better future
but it's something that as a result of
being a better future you need to enable
yourself so what you need to do is
basically go into your your ABV manager
and go edit the make sure your firstly
you're using the 404 are to image or 403
are to image sorry and in there in the
Advanced Options make sure you select
GPU acceleration and actually turn it on
and then you know save it and start it
up again so once you do that hardware
acceleration will kick in and I expect
that you'll see a much more improved
performance within your your emulator
itself we've we've been able to you know
run things like games in the emulator
now and get reasonable speed out of them
just keep in mind that when you enable
hardware acceleration that at the moment
enabling hardware acceleration means
that you cannot enable snapshotting for
that particular image so that means that
when you shut down the the emulator when
you started back up it will start up
from scratch it won't do the you know
the hibernate process that that
snapshotting allows terms of all the
other questions that were a part of this
which is you know what's going to happen
in the future you know that's something
we don't know we can't really talk about
but we are you know we definitely heard
the feedback about the the emulator
being slow for for tablet-sized
resolutions and you know we would love
to hear your feedback to to see whether
it addresses your concerns all right
right deep next question yeah I get some
errors like this preparing to install
archives basically downloading google
USB driver revision for okay so the
question is basically that Shami is
cutting a file not found error when he's
trying to install the windows driver for
android sdk so i think they exist
solution to this is the Android SDK
manager has to be run as an
administrator when he's trying to
install the driver I think most probably
that would solve the problem and if if
he is doing it from within eclipse then
it should draw an eclipse as an
administrator so that will solve this
problem with a lot of other problems
whoo thank you i believe next question
is also your chart sleep okay the one on
the web view sorry hello you yeah it's
the generic adb driver okay is there a
generic adb driver that i can install
for devices that do not ship with a
driver i need to use a USB debugging how
about a new aakash tablet which will not
ship with a USB driver CD my device
micromax funbook also has no driver CD
well unfortunately we are we cannot ship
drivers for all the devices in the
market so the best option is to check
with the hardware manufacturer who is
actually building the device for the USB
drivers for their device so you might
want to check on micromax the support
forums or the relevant forums for a cash
tablet and figure out what is the best
way of reading the driver for those
devices ok I knew it yeah so the next
question is when will the tutorial in
developer.android.com update I think the
hello view is outdated so yeah I just
want to say thanks for the feedback and
we will actually go back and take a look
and see what needs to be updated do keep
in mind that many of these tutorials and
samples are meant to run starting api
level 1 or the initial devices so they
Solomon backward compat agreed not using
it once api's but we go back and we take
a look at some
tutorials attack need to be updated we
go ahead and update them yeah i think
this question is particularly
interesting because i think what the
person is saying here is that the the
look and feel of the the apps kind of
outdated at the as far as i can tell the
examples are still working but if if i
think its formal and if he's if he or
she is able to confirm whether there's
any other specific problems that would
be great too okay next question so since
the Galaxy Nexus is having a 720p screen
resolution is it possible to add a
tablet mode into developer options and
so it is more like developer devices
helping us to develop tablet
applications and generally what we found
is that tablet mode for a Galaxy Nexus
would not would not really be very
useful and when you look at the slides
of a Galaxy Nexus compared to the size
of a tablet it's obviously a vast
difference so with the screen i believe
the Galaxy Nexus is like 4.6 4.7 inches
you wouldn't really be able to interact
with the screen the way you do with a
tablet so rather than try and pursue an
option where you force a phone to
pretend it's a tablet a better option
for you is either to use the the new GPU
accelerated emulator and or grab an
Android tablet if you if you're building
software for tablets there is absolutely
nothing that's going to give you as good
and experience as testing your app or
running your app on that physical device
so yeah I really don't think that that a
tablet mode would be would be something
that would be useful in this case what
we'll do is before I answer the next
question Tony why don't you answer the
one afterwards and then I will come back
to that one yes I was good oh so this
question is coming from manish from New
Delhi so sir my organization won my
email ID and password after my resume
email create on gmail server not a zone
server so a Google Apps domain for
official use is it legal or not how can
I find that I ID company is register or
not please help me so so this question
is kind of complicated because we can be
sure about the legality in your country
and also it depends on the contract you
sign with your former employer for
example so this is not something a
Google can do make any recommendations
so I will suggest you to cut the contact
or console a lawyer okay great um all
right now we've got one question left
and the reason that I tried to save it
to the end is because we've got some
slides to go with it so let me read out
the question and I'll just walk you
through some very short presentation and
the example and documentation for in-app
billing references states that the
certificate if ax català Dacian should
be done on the server along with the
nonce generation if you have a sent a
sequence diagram of how the server and
client would interact in this example so
I let me and Andrew it's actually your
question so lettuce it'sit's great
timing here so what I'm going to do is
try something we haven't tried before
i'm going to share my screen and Tony
can you just confirm that you can skip
this slide okay great I can see it okay
so Andrew this these are some slides
that we presented in the past about
in-app billing and I think that you'll
be able to see some of those the
sequence diagrams that you were after so
basically if we if we look at a client
version of in-app billing because
there's a there's an implementation that
you can do where everything is sort of
done in your your app itself on the
device and that's what I have at the
moment so I'm trying to get my public
certificate off the device and enter
my surface my is my goal okay great so
we'll start with the client version and
then we'll just migrate to the server
version and then see if you have any
questions around that so okay so
basically what we have here is we have a
dotted line you'll see so everything
above the dotted line is is the the
Google Play server or the back end there
and everything below the dotted line is
the Android device itself and you can
see we have the Google Play client which
and the Google Play billing service is a
part of that that play client and then
you have your application down at the
bottom being you know since we're
implementing in-app billing our
application has a billing service and a
billing receiver component as well so
the way it works is that with in-app
billing what you would do is register
your private key that the private key is
registered with the Google Play server
and your application has the the public
key in it and Andrew as you said this is
your your current scenario the way it
works is that your billing service makes
a billing request and that building
request is actually serviced by the
billing service that lives inside the
Google Play client on the device now
what that client does is for words on
that billing request to the Play server
which then gets a response which is
signed with the private key that
response is sent from the place over to
the Play client and the Play client in
turn then sends that signed response
back to your billing receiver through
the on receive method now what you do is
basically use that public key and you
can verify that the red under before but
now you'll see that we have another
dotted line towards the the bottom third
of the screen so the middle the top
section is the Google Play server the
middle section is on the device and that
the session that the section at the very
bottom is your server and the way it
looks like in this world is that the
private key still stays on the Google
Play server but the public key is on
your server now so it's not part of the
application now let's just go through
that flow again the billing service will
invoke the Play client
through a bit making a billion request
again that building request is passed on
to the the play server in a response is
passed back to the Play client and again
signed by the private key at this point
the Play client will still send that
signed response back to your building
receiver but what you will do is your
app will then take that response and
send it to your server now we're going
to split to the next slide which sort of
sorry will elaborate that on that in a
second so after you send it to your
server your server will then in turn
send back a session token and we're
going to look at that in a little bit
more detail now so basically your server
will have got that response those
credentials passed in a session token
back to your app and then your app can
start basically communicating with your
server using that token as as it's sort
of identification just to say that it is
the right one so that's that session
token it's important that you you you
know that it expires over time and that
it's something that you you create a new
one every every time you sort of start a
new session but you're using that token
to kind of go back and forth between
your server and your app so I think that
pretty much sort of concludes that
that's how to fly this did that make
sense danger yeah I mean it's that was
kind of where I was up to kind of
following the examples on the web the
problem I was kind of facing was and one
of the things you have to generate
before you can send off your request is
this kind of unique random number this
does nope no one's thing and then when
you get the response back from google
play you check to see if that random
number is in your list of stored numbers
and if it is you go okay that's
genuinely a response from the Google
Play Store brilliant I'll you know set
the flag in my database for the person
to have the content it just seemed to me
that there was an awful lot of
communication between
in the device and my server if I was
going to have to generate these random
numbers on the server send it back to
the device send it off to Google Play
get it back check on the server deceived
that random number was one of the ones
that was in the list that was sent out
decrypt the packet with my public key
and then set the flag in my database to
say that the users bought the content it
just seemed that there was a lot of
places where the process could fall down
you know halfway through and then I
wasn't too sure as well because my
service running this or the google app
engine if I've got more than one
instance of my applicator off my
application is running on more than one
instance of a server the example in the
book is a static hash map of random
numbers if my app is running on two
servers and the second request goes back
to the you know the the other node it's
not going to have that list around the
numbers the same as the other node and
that is it just seems fraught with
danger and going backwards and forwards
oh just wondering how if there was a
best practice for that kind of stuff
well in that case if you kind of want
some sort of you know you want to
persist that that table of yours and you
want to make sure it's replicated across
there however many servers you have so
from what you're saying it sounds like
you're doing the right thing other than
the fact that it's an in-memory hash map
yeah so I mean that must be the place a
the solution is to make it into a
datastore and that can be shared across
all the different nodes in the cluster I
guess yeah absolutely yeah cool on a
good good question thanks for that and
all right at this point I think we are
we run out of questions I'm just out
doing a refresh on the moderator link is
is there anyone else on there on the
Hangout that has any questions that
doesn't look like it all right Andrew
just going back to one of the questions
that was mentioned earlier is there a
way or something in the pipeline perhaps
whereby if I write the world's greatest
app and then need to kind of kind of
give it away or sell it to Facebook for
example is there any way I can sort of
transfer an app from my google play
account to somebody else's Google Play
account and look I guess we don't really
talk about what may be coming with yeah
we certainly don't have that today let
me say that yeah okay cool welcome now I
think you just caught us right at the
end of this did you have any questions
no it's just I was just watching the
YouTube stream and it's a bit for Andrew
he sounded like he was trying to
validate the nonce on the server but you
need something that's done on the client
is that right on cool golden two sugars
I thought yeah the server part when it
does the verified purchase and sort of
decrypts the packet with my public key
also then does a check for the nonce so
I thought that must all have to live
together that was all you you can do
that but it's not a necessity mostly
it's for making sure on the client that
you've got a valid response there it's
the signature verification on the server
that's the important side of it cool all
right then I'm not too worried then
about the number generation partner
server that was the main kind of main
concern going backwards and forwards
with the random number generator just to
get that I thought I understand your
pain I've been there several instances
of App Engine and trying to use big
table for storing nonces is a is
something you can do and it will
increase security but it's not an
absolute requirement signature
verification should be enough cool Billy
excellent chesley advice no worries
awesome thanks for that out lower it
well I think that pretty much concludes
it for today thanks everyone for joining
Andrew you've had a really good set of
questions for us a busy week okay we'll
be back again we'll be back again next
week and guys just we are we'll
definitely be back again this week we'll
probably aim for the same time slot but
if we I just had a question on the
thread that says do we have more hang
using during Asia working hours I'm not
sure you know what specific part of Asia
that person is strong so that that can
vary depending on what what those hours
are so please just give us just be
direct with feedback let us know that
this will be a more convenient time and
we'll try and accommodate it as best we
can but until then thanks everyone for
joining and see you next time just goes
thanks Raj boys yeah</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>