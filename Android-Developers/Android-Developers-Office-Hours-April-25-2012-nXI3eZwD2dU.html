<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Developers Office Hours (April 25, 2012) | Coder Coacher - Coaching Coders</title><meta content="Android Developers Office Hours (April 25, 2012) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Developers Office Hours (April 25, 2012)</b></h2><h5 class="post__date">2012-04-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nXI3eZwD2dU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good afternoon everyone and welcome to
this week's edition of Android developer
office hours we come to you every week
this time at two o'clock on Wednesdays
here today joined by two of our
developer programs engineer Trevor and
Alex at everyone and hopefully today
we'll be able to answer some of your
questions so we are we have a moderator
queue which we're going to go through we
encourage those of you who have
questions to join us in hang up so if
you're in our circles you'll be able to
join the hangout just check out the
Android developers stream for the
invitation and and we'll try and
preference the questions from the people
who join us as they come on board it's
good to see some people joining on
already we're going to kick off with the
first moderator question this is from F
pinal in Venezuela who says we are
developing an application we need to
block our clients outgoing SMS while
driving we got the accelerometer working
but not blocking about going SMS is it
possible is there a hint you could point
to us thanks so to my knowledge I don't
think there's actually a way to do this
for the same reason you can't block
outgoing calls we don't really want
people to go and try and you write a
malicious app that keeps people from
calling people it's generally found upon
so that's one of those things that you
don't have much flexibility you now you
can set up apps that will go and
intercept you know the send text message
intent and give the user the option to
bring your up to the foreground but you
can't go and prevent somebody from
saying a text gotcha so we can't pump
block it but perhaps approach you can
take is is too strongly suggest to users
who are doing it not to so yeah if you
have your own app come up with an option
and then suggest that they use that as a
default then I guess that's this one way
of sort of doing it but there's there's
no real way of stopping them at all
unfortunately huh okay cool yeah I mean
there are some apps out there which do
go and provide child lock functionality
by doing some Turks that we can't really
recommend will go and look through the
list of running out
so when they see other apps in the
foreground will go and put their app on
top of theirs not again nothing we
generally recommend so there might be
some work around if you really want to
do this but nothing that can actually
give you as a best practice mad and Chet
actually asks if airplane mode is an
option it's an interesting idea but I
don't believe you can programmatically
set airplane mode yeah that's right I
think ultimately you down to the if
someone wants to send a text message
when they're driving even though that's
clearly a very bad idea the only thing
you can do as a third party programmer
to prevent that from happening without
citing to do things which has travis's
are probably not the best approach so
some sort of warning message or
something like that which tells people
hey you shouldn't be doing this it's
probably your best option at this point
let's say let's see if any of the guys
in the Hangout have any questions we've
got a few Matt mark do you guys have any
questions that you'd like to put to us
yeah sure um so I have another download
manager question um currently we're
downloading from our own servers that
it's just using sockets so not using
HTTP so we rolled our own on everything
but now with the data are moving to the
cloud we want to make use of the data
manager so we download just fine the
issue that we're having is if for some
reason they don't finish the download we
would like to inspect the download
manager when the app starts the next
time to finish the download so I'm
wondering is it possible with HTTP
headers in a range to tell download
manager to start at some byte offset to
finish some download that had started
previously okay actually I think your
question is a little bit further down on
the question list but I said yeah so
we'll probably get to that a minute but
since you're there right now we can
actually just answer it right here so to
my knowledge the way download manager
works it should automatically resume the
downloads the download manager runs in
the background not just in your app is
running so it should just if these are
ancestor your app doesn't know something
else that I'll should continue if they
lose them for chronic
it should go and resume the download the
next time the network kind of backup
download manager is the same you know
the same utility used my android market
to go and download market apps and those
automatically resume when you come back
from from a network failure so it should
work the same way so are we missing
something in what you're trying to do
here yeah I wasn't sure what the rules
were and how long it's going to try to
resume like imagine some of our
downloads are fairly large like 500
megabytes and up so assume they start
something there on some Wi-Fi and then
they work out the door get in their car
and they lose network connectivity and
they buy home for an hour and then they
get you know on the network at home so
you're saying it will automatically once
its back in the network restart it
regardless of the time that was passed
in between yes that's correct yeah okay
great let's now also mention two other
things are at download manager one it is
open source so if you do want to go and
double check the logic is using there
you can go to the the Android source
code just search for download manager
and take a look at it yeah there's one
problem with that we're running on
honeycomb and though manager khoder ice
cream sandwich is different so that
Danny Cohen source code is available as
well we just have not tagged it a far
more quickly but it is in there so if
you can just look through the commit
history and try and find where they
actually changed the version string to
go to read honeycomb that should get you
take a look through the preneur there's
eight a life how that gives you
constants for all different but it
should almost be easy if the download
manager didn't we introduce that in
honeycomb I think we didn't know its
enterprise gingerbread okay all right
yesterday yeah so there's a problem has
constant screech OS released if you take
a look in their interest see where we
actually added the constant for for
honeycomb actually tell you which
commits to look at all the honeycomb is
there we just haven't made it easy to
find because it's sort of a mess to be
on that shirt um but so the other thing
you can do too is so Dan Galpin a member
of our team wrote or took the download
manager
food and then back poor rooted for any
device friend i'm going to say all the
way back to 16 yes let's say was yeah
see the 16 for too long yeah so he took
all that code and made it into a library
that can be installed on basically any
device and that's shipped as part of the
large APK support for android market so
if you go into the android sdk manager
there's a download there for large APK
support and that'll let you you know in
addition to all that it gives you the
standalone copy of download manager
which you can certainly go and take and
head into your own app which not only
will that give you a you know whatever
the latest function your latest at from
shali edit ice cream 10 which is as part
of your download manager implementation
it'll it will give you backwards
compatibility so if you want to run us
in the global hey come you can and more
importantly it'll give you your own
stable own copy of download manager that
you can modify so if there's something
about its behavior you don't like you're
certainly welcome to change it what's
telling us that it's backwards
compatible 2233 okay wait no that's
ginger bread though I thought download
major was added in ginger geyser what to
check their 10 or pechocho I suspect
it's not just a follow up question you
said you have 500 megabyte files do
these but he's like media like movies
and stuff to change frequently are these
actually like part of your app like
sound and image assets there are part of
the application the application doesn't
really make any sense without the data
and they change every two weeks okay
okay yeah so you make money look into
them every time it changes do you have
the users we downloaded we download the
app means we download delta sense so
that's okay yeah so it's it's not on the
cloud right now but from our own
proprietary servers we have Delta sets
you know what version you're on yeah
then we will measure and compare us ok
this is to do stuff and we only send you
what's absolutely necessary okay
seriously you might want to look into
large APK large APK support but in that
case there might be a little tough so
with if i don't know if you've looked
into large apks you're in addition to
your APK which should be up to 50
megabytes we give you two slots for
large files you can bundle with it and
the use case there we imagine is you put
your initial payload into the first slot
and then the second slot is for your pap
set but the idea here is more you have a
patch that if you need and if you keep
pushing out patch that's over and over
again you'd have to go and keep pushing
a new appa-snot might not be ideal
that's what I was thinking when I asked
I think when Lee releases it became
Android expansion files right is the
term but this is much more of a
subscription model so the app is
actually and pretty much usually it has
some demo things in there but in order
to actually use it you have to have a
subscription with our company and then
we pursue the data cool again definitely
take a look at the download manager
implementation we bundle with that it
might be useful okay great thanks only
alright see a couple of moderator
questions whatever happened to the
Android Google moderator app its
inconvenience made the questions man
owns no idea what happened today a very
good question because I installed at 15
minutes ago on this device and here it
is running just fine you probably can't
see this tool because the lighting here
but it seems to work just fine for me so
I have no clue what happened for to it
for you I will see I don't think it's in
it's in the android market or Google
Play I think you have to actually to go
and download it from the open era site
but it is available for download and it
does work so that may be the entity
question is it's moved it's not on
google play its audio open source light
for the app yeah it's one of those
things i believe it's written by a
Googler but it's not in a fishel google
app it's just a google eroded in a free
time in their free time so we don't
really keep track of it you'd have to i
believe toasted on code.google.com which
means you can feel free to ping the
developer if it's not up to date or it's
not visible for whatever reason it's
actually not bad yeah yeah all right we
got another question which we can't
answer are you planning to fix google
play store to show prices including that
in ee you not really question for us to
answer unfortunately we're sort of more
focused on the developer side but
certainly some feedback we can provide
the Google Play team and let the new
your concerns
let's see we've had a couple more people
join the hangout Jared or Josh do you
guys have any questions you like to put
to us Jared answers with a paste nice
working on a register-based 3d app need
to have support for complex multi-touch
gestures soon we'll have google earth
works so rotating about three axes three
axes given the 3d effects are handled by
renderscript should I try and interpret
these gestures in registry should i
implement yes few things yes I don't
really have much experience with
renderscript intuition would tell me
that gesture detectives would be the way
to go like it would probably be quite
complicated to figure out in
renderscript given they've got some
shortcuts available to you already you
can adjust your detectives that was my
thinking why I want to make sure that
the I'm actually not too clear on how
the motion events work at what frequency
do they update with the emotion
detectives yeah the field yeah it's no
not really no as far as i understand it
the the frequency if the aid back should
be as as quickly as the touchscreen is
that which is black or anyone okay well
that would certainly be fast enough and
so for I know there's the basically like
a app and swipe gesture detector built
in Android as well as the zoom one where
should i go about trying to extend that
for stuff like 3d rotation waging trying
to not sure engine well for example in
Google Earth you can do like a two
finger rotate mm-hmm where it rotates
about the center point of the two
fingers right is that something that is
already in parent to an existing gesture
detector or do I need to extend one of
the base gesture detectors for that
right I don't think that there is
anything like that built in yes my
advice I think our gestures a fairly
straightforward sort of you know swipey
pulley sort of stuff rather than sort of
complex 3d lutherans so yeah I would say
that you'd need to extend the existing
yes your detectives to use their logic
but try and be a little clever about how
you interpret those sorts please okay
and I I know google earth isn't really
open source but is there anything that
Google has that might incorporate some
of these features as like a best
practices sort of web and will not evil
buddy over gave it to him I feel some
usually open your source Anna sign up I
think but it's specialist tied up i know
is open source so the sky map and
possibly your body um both of them have
sort of more complex you know 3d guest
is so those those two
they check out okay pre here let's see a
way to use shit action provided that
disable the shortcut action that is
added once an item is pressed the last
answer is no but in researching this
question i pinged the member the
framework team that build traction
provider to ask as I didn't know the
answer and he said currently no but I
put in the feature request on your
behalf because yeah thank you later yeah
because initially I was sort of thinking
like why would he want to remove this
obviously useful piece of functionality
but in a smaller screen where real
estate is at a premium I like it there's
a good case for it so the feature
request is in but I can't say anything
beyond that your other alternative is to
two rather than using default action
provider to just use like a share ever
share view or something along those
lines right a slightly more cut down
version which doesn't have all the same
functionality version in honeycomb yeah
which was the was it called the the
chooser I think so they are you talking
about the pop-up dialog I'm not sure I'm
sure that there was something you could
add to the action bar which did much the
same it didn't have all the quite the
same in fact we use it in to be used to
thanking our did we have a share button
there I don't remember off the top of my
head so if was in honeycomb as a good
chance it still exists so Yankee Beltran
you should check this isn't honeycomb
gallery we should add it a share button
of some sort oh yeah probably should
probably share action provider but we
should probably change the name because
it's backwards compatible now it's not
specific to Honeycomb anymore it's true
rapidgator fragment gallery or we could
call it pretty Google picture gallery
that's much better than Google picture
gallery yes rolls right off the tongue
all right let's say we've got a question
from a Gregory cook on the stream and he
asks why are fragments hosted in frame
layouts related ken fragments be hosted
in other layouts why do samples declare
fragments as public static inning inner
classes and well okay so there's three
questions let's focus on the first wire
fragments host
in frame layout and can they be hosted
in other layouts so the answer to both
of those questions is they don't have to
be friendly as it can be in any layout
that you like friendly I've just happens
to be convenient because of the way
fragments are usually used but yeah if
you want to go and leave them at some
other way I feel for you it'll work just
fine absolutely yeah so generally you'll
see friend layout used in a lot of
sample code because it's the easiest way
to put it in something like that here
why don't you serve a linear layout too
at the same reason because you like him
just a few fragments side-by-side nicely
yeah linear lad is another really common
one so yeah you should see examples of
both of this why do the samples declare
fragrances public static in classes
that's a good question I'm guessing it's
for simplicity to keep things all in one
of us yeah we're having things sort of
spread around the place but I don't
think that there's any need to do it i
think it's just that yeah just easy i
think it's just a convenience of sample
code as opposed to production code we
try to make our code easy to read and
digest but we're not always optimizing
for something that should be copy pasted
into production yeah and it's a really
good point with sample code a lot of the
time there's a big priority is to try
and make it easily possible so that you
can download one file and see everything
in sort of one place rather than having
to try and figure out how things go
together particularly because I think a
lot of the time when people use sample
code they're not necessarily creating
the same project they're just getting
some files and it's not obvious how they
all fit together yeah so that's often
why we will tend to use things like
public static inner classes where it's
architectural early there's no real
reason for and see the last question is
are there any plans for an official map
fragment related is local activity
manager being deprecated at one time I
would have sworn this class was much as
deprecated I use this to implement my
map fragment class is that dangerous a
local activity manager you know i'm not
actually familiar with that class I'm
not either I've heard of that oil
interesting so we'll look into that I
haven't come across it so I can't
comment on whether it's ever been
deprecated but we'll check it out and
we'll get back here on that in terms of
the official map fragment that's
definitely something which we've heard a
lot of
back from people wanting to be able to
have that fragments in their support
library enables fragment-based class
apps so it's definitely something I've
passed on to the map team into the
framework to enter hopefully we'll see
something but without a working time
machine can't tell you if or when that
will happen okay let's let's go back to
the moderator let's see this is from a
lad in New York and says my company is
developing a large-scale Android
application and we would like to get
some usage stats more specific than the
ones available on the developer website
will you be releasing stats like most
popular phone sliced by country I think
it generally don't really release stats
like that because it encourages the
wrong approach of taking the you know 10
most popular Android devices and going
the rest or something like that what you
want to do is take it is grab test
devices that are representative of
certain classes for instance like a 10
inch tablet an ICS device a gingerbread
device like a small screen a medium
screen small density high density etc
there was actually a really good blog
article that Netflix wrote about how
they support hundreds or thousands I
remember what they said of devices but
their their core their core of physical
devices that they test on is like 10 you
know well but the book they picked them
really well based on the types and
classes that they wanted to support and
covered a broad range and you know
tested high density stuff on high
density devices etc etc so you know the
if Netflix can do you can do it right
many a netflix has to be pretty
complicated out yeah ok let's see a josh
in chat has asked me he mentions that at
last year's i/o i was using a pretty
nifty presentation app his words not
mine using a tablet to do the
presentation and I maybe should call it
that that should be the fact about
Freddy yeah I like that pretty nifty
presentation at awesome that's what it
will be called uh-huh inventions that at
the time I said that it would be open
source did something happen with this
did you just miss it you didn't miss it
I haven't
open source it is still on my to-do list
and the fact that the next door this
year's google i/o is now only a couple
of months away is embarrassing so I plan
to use it again this year and I do plan
to open source it so mate my plan for
lack of a better word is to fix it up
get it tidy to the point where it's not
an embarrassment to me and my team if I
show it to the public and hopefully get
it out there before or shortly after I
oh so no promises but that is still the
plan the only thing which is delayed it
is my own laziness scott kennedy has a
question Scott you want to hit us up
with a question silence alright well it
will let Scott get to us in in its own
time you can certainly type it as well
and we will respond to it as soon as it
comes up I have a request for Fred
behind the booth oh because of the way
that moderator presents things if you
scroll down things will pop up of us so
you need to use the arrow key to drop
down to 10 new questions so that they're
always in the right order ya done that
one ok android backup service
registration doesn't work and then there
is a link to an issue so i can answer
this one i fixed it yesterday it works
yeah yeah yeah we had a bit of a snafu
where when we switched over from android
market to google play some of the
redirects weren't working properly so
we've updated all the links and pushed
out all the changes so everything should
be working properly now if not let us
know but to our knowledge everything is
a ok now which means trevor is so fast
at fixing bugs that he goes back in time
and fixes it before it's reported to
them exactly that's um I guess that
means our time machine this fit well
yeah he's using it for good instead of
evil sick thanks Jay that's I would have
used it for evil so we didn't let you
have sports betting lottery numbers I
would have used the time so if we see
you next week like wearing a solid gold
suit we know what's happening
you're pretty much well I might just do
that anyway that sounds oh if I like to
pull don't be evil thing right yeah well
you can't use a Google time machine to
evil I'll have to go out to go and get
my own oh go back in time and change
like the mana right way stretch out the
don't okay exactly um on that note we've
got a couple of people with questions in
the Hangout you guys want to speak up
yes I can start them I've got i
implemented a UI a time and a countdown
you know that comes down minutes until
it reaches zero and then it goes boom no
it doesn't matter him the problem is
when I do the updates for the timer if I
set it to interval of a one second it
only updates do I every two seconds but
if I do the the interval every one
second is a millisecond it updates
correctly the UI interesting so we can't
keep up with a second but it can if you
said it's less than a second then it
will do it not less than second more
than a second just a millisecond tumult
in a second oh like one second then one
millisecond and then it will update
every second yeah 001 seconds will work
at one point 0 0 1 but one will work it
too interesting and that's very strange
yeah that sounds like an odd timing
collision issue where it's just coming
up at slightly the wrong interval not
quite fast enough that strange that it
would go the other way that more free
well less frequently would make it
actually update more frequently yeah
it's a Firebug about that yeah so
android com so like bees and bugs be
Dyan recom is the link to our bug
tracker and yeah they're definitely an
open issue there and has social me from
the team can look into that I had a
feeling i am not sure maybe I shots with
you it is a maybe because it's one
second it basically loads already the
two updates together and then it just
pushes the newest one on the degree if
you see what I mean because if like you
place too gooey things over each other
it only shows that
just one if it updates the way yeah that
seems reasonable but again that would
then only work if you did the update
more frequently than one per second so
if you had if you made it point nine
nine nine nine nine instead of one and
then that works then I would buy it but
if you're making it one point zero zero
one and that makes it work and that
would seem to be counter so it
definitely seemed something buggy so
first a bug on bags Tokyo yeah
definitely will keep track of that one
as well that seems very strange you
seeing that across multiple devices a
just on their the devices the day of
which is which are the galaxy s2 on the
Galaxy Nexus right that's two devices
that's that's enough to suggest that
it's not hardware-specific yeah
definitely post a bug and we'll keep
track of that one as well okay thank you
yes Matthew you are up next as the chat
window says yes or I had a question I've
been looking at the source code for the
honeycomb calendar app lately and so
I've noticed that so calendar contract
was introduced in four point oh right
and then I noticed in the honeycomb
calendar app that they're using almost a
very similar class called calendar just
has a different name but has all the
exact same constants and whatnot I was
wondering is it possible to use the
constants from four-point-oh to use the
honey oh sorry the calendar API in
honeycomb I think that depends on
whether or not we did our job properly
and if we did that class to be marked is
not exported or that contemporary I
should be not exported in which case
answer is now I mean you can firmly
welcome to try it at this point you know
there is a public API in 40 and 30 isn't
changing so if you can get it to work
cool of course we can't really recommend
that you use private api is if it is if
it is accessible I mean you usually a
lot of the way our api's walk is we go
and test them internally as a private
api and then we're happy that things
look proper we'll go and you know do the
extra work to go and turn it into a
public api that gives it's time to go
and
experiment and see what works what
doesn't once you go and make something a
public API it's locked down so there is
a good chance those classes are almost
identical I think the big question here
is whether we've actually gone and set
them up as you said be surprised if they
were it's as you say it's generally the
case that will you'll see snippets of
things which later become public API is
in earlier releases but yeah it's
generally a case that you can't actually
do anything with them till those later
releases okay cool that sounds good
Thank You rose let's have a look let's
go to moderator queue why is there a
noticeable latency in Android Audio how
can we avoid this in real time
applications ie audio video chat so the
answers to why is a very complicated
question probably we need your
oscilloscope I think we need in a
skilled source code plan to that yea
orsa me from the media team that'll work
yeah I mean there are people whose job
is nothing but to go through and work on
our media subsystem and they worry about
things like Layton's quite a bit as far
as how to go and avoid the crank latency
in real time application there's really
not much you can do to get rid of it but
there are ways to go and walk with it so
in particular you'll want to make sure
that wherever you know you're using for
your video and audio stream is properly
mixed together when you're sending to
get displayed so you're just sending a
single rtsp or an HL 0 stream if you're
generating data locally it's entirely
possible to start out a local webserver
and just stream content from the device
to itself I've seen a lot of people go
and use that to go into stream live
video from within an app and what
that'll let you do is make sure that the
media system which is already designed
to go and deal with latency make sure
that audio and video play together you
know is doing a stop in making sure
everything place together if you try and
predict the late and see that's a little
tough because it does vary between
devices I've got nothing to add to that
those complete it ok
yeah if if you have an app where low
audio latency is an absolute requirement
at the moment so much you can do you can
set that as a required feature on
Android devices which will just
effectively good so no we did add some a
poz once a is an open al or what was
name yeah we did add a feature that
allows lo love locks the sound system i
want to say is called open al don't
quote me on that but if you take a look
through our docks I'm sure you'll find
it it's you know it is low level access
so it does require additional work but
if you really need real-time performance
that'll get you closer to it let's see
we've got a question from Daniel in
Berlin he asks given that he needs a
regular alarm using the alarm manager in
different attitudes 11 15 minutes so
five minutes for example is there a way
to get the same power saving behavior of
an exact repeating but with shorter in
verbal with interval shorter than 15
minutes I think the answer is no so
looking through the looking through the
docs they you know split a list the
allowed time intervals 50 minutes at the
shortest one there part of the reason we
do that is because system goes and we'll
collect alarms from different activities
and try and merge them together into
single events that fire so that way if
you have you know three apps to each
request an alarm in 15 minutes but they
request them you know just slightly
before and after each other right you're
going to go and wake the device up you
know three separate times or how many
separate times 13 Jack right but if the
clothes you can go and just fire all
three at the same time that's what's in
this to go and try and improve your
performance they're trying to prove
battery light
you
okay think we're back I hope we're back
okay so we're back in to hang out at
least yeah we're back in to hang out now
it says that we're still broadcasting
hopefully you guys are seeing the right
video feed uh it's right you might she
open up a window and check and see us
actually broadcasting live a lot
sometimes when this happens you control
now you guys you're good okay awesome
hot all right nice work hangouts and
thank you for the feedback okay where
were we yes you were discussing the fact
this so I'm thinking less than 15
minutes yes alarms right thank you yeah
so basically this a short version is
that the reason why you get power
savings there is because it's going to
cool us in these events and this you go
and make this time interval short
shorter why is that become harder to do
you're just waiting to throw it out more
often anyway you're going to hurt
battery life so i don't use any way to
do it yeah once you're talking about
five minute intervals says there's you
know there's not a lot that you can
phase shift to your already being
inefficient you're already destroying
battery life so there's not there's not
much if if they're all your apps so you
know if you know that your apps and they
work together and they should be
updating it around that frequency you
might be able to use things like
broadcast intents to notify each other
of a planned update so that you can then
hold off the actual you know so you can
essentially batch them yourself in the
same way that the inexact repeating
alarm would work but there's no system
feature which would let you do that yep
also what I mean you haven't said why
you use it while you're trying to wake
up more often than 15 minutes but if
you're doing this to try and fetch data
off the network you could also look at
t2dm so c2dm is our push messaging
framework it allows servers to go and
wake up devices or monthly to go and
send the messages and then they can do
additional processing as well and that
way you don't even have to go into an
alarm just have you know have you know
pushing message to the device wakey that
happened do any processing as needed
yeah but five minutes is really
aggressive you're going to be going to
find that has really bad effects on your
battery really quickly yeah 15 minutes
frankly is too often for an app which is
regularly doing that
the other thing you can try and do as
well which might be useful is to set non
wake alarms so you set that for five
minutes but only if the phone is already
awake it's still not a great idea to
have alarm so she'll update that
frequently but at least that way you're
not physically turning the device CPU on
in order to do your updates something
dickinson all right we've got a bunch of
people in the Hangout do do any of you
guys have live questions that you would
like to put to us ya ever question mum
so two questions first of all um so does
an app called timed tasks and they die
you guys are speaking a little bit about
this earlier about how you weren't sure
if you can put something on to airplane
mode by force you can this app does it
well but uh whenever you come out of it
it just it says it's off of it but um it
actually doesn't show any service so i'm
not sure if that's a problem with the
programming or whatever ok that's
interesting oh yeah i would suggest that
if it forcing it into airplane mode
without a user sort of action to enable
that and they're going to be doing
something sneaky they're probably
calling a private api probably and
that's probably why they can't
effectively doesn't sound like they can
effectively turn it back off airplane
mode after so that way you finding that
connectivity is broken after the appt
supposedly puts it back into the remote
so right what once you manually turn it
off airplane mode everything works fine
now right right they found a work one
way but then that's working with us
that's a good example of why didn't
methods a little dangerous and then one
other things that I just can't resist
from asking so the new Google Drive app
that just came out it do you think that
an instant upload feature will ever be
kind of like how dropbox does that's a
good question i have no idea again a
time machine for consider being able to
answer and effectively but there is a
developer relations team around google
drive and they may have some insight
into
features which the app has or may have
in the future but chances are they're
not going to be to be willing to tell
you what's gonna work that my question
all right thank you very much look at my
key feature it really does oh I'll put
in a feature request for that yeah what
exactly does that do instant upload so
you drop a file into the folder like the
way the dropbox were actually drop the
file and folder and then they would just
appear on Google Drive okay gotcha but
yeah I think you already have it for
Google+ but I think a lot of users I've
heard want to have that available for
Google Drive I feel like they feel like
there's redundancy how there's an
instant upload folder that's not also
present in Google Drive and also they
feel as though that there's not a music
folder in Google Drive that connects
with google music so I think they're
kind of trying to integrate it off let
me go interesting but there are three
claudia i like the idea integrate a
little bit different functionality
together yeah all the clouds is all
together in one place i think the only
challenge in the with respect to music
is that google music does not organize
it in sort of a filesystem hierarchy
it's just sort of the several thousand
songs that you organize your search
still be nice to be able to drop it into
one yeah we'll drive folder labeled
music and it just knows to stick it into
I mean it's already been combined with
dark so no right also make very easy get
my music off of google music right
that's true oh yeah cool know the great
ideas will definitely send them on to
the team team right thank you probably
let's see let's have a quick look on on
moderator i am targeting honeycomb for
USB host and I am concerned about the
current adoption rate of ice cream
sandwich is there a current remedy for
getting USB host on gingerbread phones
i'm looking for something warm and fuzzy
from you guys about ICS this is from
chris in boise ok so i guess given that
you want us to say something warm and
fuzzy about ICS yeah the thing about
adoption rates for the newest version of
the software so they always start off
pretty slow and then ramped up really
really quickly so yeah I like within the
first how long is it usually three
months six months if the
usually as a certain sort of ramp up
where all the different manufacturers
and carriers are getting the new
software making sure it works on their
phone putting it through all the QA
processes and then suddenly they push it
out to a bunch of their existing
handsets and obviously all of their new
ones as well you know obviously
honeycomb was kind of a special case in
that it was never developed for phone
specifically so ICS I think you're going
to see come out on a lot of different
devices phones and tablets both new and
old we don't have any specifics but
based on on prior experience I would
expect to see that ramping up really
quickly and probably quite soon based on
when ICS came out i think this device
trevor has actually runs ICS it does
indeed i saw a little ICS icon on the
box and this is not this is a device not
uh it's not a nexus it's not a google
designed device now so it's a totally
third party that actually runs MIPS that
I had never seen before today so yeah I
mean I like rato said there's a there's
a certain amount of latency that I think
sometimes gets mistaken for lack of
interest from the hardware manufacturers
but especially because we easily we
typically release a device like we
release the ICS device like I want to
say a month or maybe a couple weeks or
something like that before we release
the source code and then once they get
the hands on the source code then you
know there's all the testing and stuff
that rate I described but definitely
coming yeah yeah there's no luck with
honeycomb that was a kind of a thing
it's like me we knew it wasn't going to
be on phones we knew there was going to
be a certain you know difficulty there
but that's kind of the whole point of
ICS is to bring everything together and
then get as many fans as possible way in
the same version I would say also we
have a we maintain a pie chart on the
developer site that has p breakdown of
android users by platform version and
let's see gingerbread was released the
last last december and now it's
ubiquitous so i did just as a just as a
data man isn't my december yeah oh my
god yeah it was a look at your in Chains
away so it feels that weight and years
no sent before
say like weird words it all the time
girl three months so like 14 months ago
and now it's completely doback with this
looking at it at the moment we got here
okay so a key yeah yeah the gingerbread
is like yeah yeah somebody was asking if
usps suppose was actually had in your
bed and just double check it looks like
we added host mode in android three ones
that is honeycomb yeah but that does
bring up another good point here that to
about USB which is if you want to go and
use USB and you are concerned about the
compatibility a better option is USB
accessory mode and so there's to root
for first off I think USB host but even
on newer devices is optional right it
has to the device has to support
something like USB on-the-go yeah but
USB accessory mode will work on any
device going back to I can't remember
how far back it goes Middle East
gingerbread for sure but I think does it
go on open devices if I'd left to check
for me um lotro yeah but but so you
speak accessory mode is sort of
interesting that it runs the device in
reverse so your accessory is actually
the USB host and the Android device is
you know in USB slave mode like it
normally would be the OS has a special
protocols used to talk to the devices
which also get a you know okay I think
even in a host but you can have your pop
up but accessory mode mostly it gives
you a lot of options as far as
compatible is concerned so certainly
something to look into and if you just
want to play around with the two we do
have the android accessory development
kit as well as many similarly compatible
devices which speak the open accessory
protocol my favorite one is a little
bored called yo yo ioio which is a
little teeny board about this big like
the size of a pack of gum and yeah you
just plug it into your device and you
get tedder pins for whatever accessories
you want to go and wire up its and
actually one really cool thing i should
mention about that board to if you buy a
little bluetooth dongle you know just
like a little lawyer
cheap liked we are things that you'd buy
formats or something the latest version
of the yo-yo firmware well has a
essentially an implementation of open
accessory over bluetooth I'm just
peregrine devices together and then
whatever code you wrote clock will
suddenly start working with the yo-yo
over budget I said oh it's very cool
awesome like that yeah so that's
actually built by another engineer here
here man via so yeah assess was
something to check out okay let's say
look I got a question from young shaky
on the stream he says he'd like to
create a Google+ app using the Google+
API it's like the friend caster up for
facebook can I do this or could he do
this I think that comes down to figuring
out what api's are available for google
plus i don't think that there is an api
to allow you to write to the stream no
no there is so that may be may be tricky
I'm not sure what the friend caster up
for facebook does so if it's it's
reading streams than that that may be
something possible if it's writing as
well then probably not anything from
castor f is the exact same thing as the
facebook has just updated a little bit
with a different UI oh so it's just an
alternative Facebook implementation okay
yeah so probably not oh we can't do that
for Google+ because there's no way to
write to the stream but if you do want
to get more information about that there
is a Google+ developer relations team as
well and they also do office hours like
these weekly fact I think they do them
at Wednesday at eleven-thirty that's
right it was earlier today so check
check them out on google+ and maybe send
them alone and they'll be able to give
you more info on exactly what's possible
with the API let's see a question for me
how good is there a way to get the new
android development book in digital copy
outside the US i will answer that
offline okay i have a particular doubt
in regards to the recognition algorithm
used by the gesture overlay component
does the component only as a version of
for used to protractor algorithm or is
it also supported by older versions so i
think that's more of an implementation
question and probably not something were
the best folks to answer you'd want to
speak to the engineers who actually
wrote the gesture recognition stuff
alright or barring that up look at those
guys look at the source yeah that's good
yes it is open source you can find it
you can take a look yeah our engineers
are hard hard working people and
sometimes it takes less time to dig
through you find the source code than it
does to track them down and wait for
them to reply to you and I way for them
to reply budget which is for the best we
work encoding and that's actually kind
of a good tip as well like when you're
contacting anyone but particularly the
engineers who are working on things
should you have the opportunity to speak
to them the more specific you can be and
the more you can show that you've
already sort of looked yourself and
couldn't find an answer the easier it is
for them to respond in a meaningful way
I think a lot of the times if you just
go hey I couldn't figure this out and
you haven't sort of done any research
then they'll be sort of less inclined to
spend time trying to help answer so it's
a particularly good tip for those of you
who are coming along to i/o this year
because it will more than likely be some
Android engineers around oh yeah yeah
the more specific the more research
you've done the more likely they are to
really get stuck in and trying to get
some deep dives on your questions and i
gotta say i owe this year's looking like
it to me pretty cool is Arlington Iowa
to it and just just so you guys who
aren't coming know that you're not being
excluded everything's going to be okay
there's going to be ways to watch a lot
of the content online as well so it's
going to be really exciting yes yeah
okay let's have a look let's see Greg
from Atlanta says the documentation for
the gradient drawer will attribute
States it's available since API level 1
but it only displays correctly in
eclipse of API level 7 is this just a
problem with the Eclipse plugin I have
screenshots if that helps Oh possibly I
mean if you use it and you run it on a
device running at API level 1 what
happens um my advice you're never this I
know that it does work okay I've done
this so yeah it sounds like it's just an
eclipse problem because I've definitely
experimented with gradient drawables at
API level one yeah point nine and one
and everything since yeah that sounds
like it's an eclipse thing so one very
nice thing about the way android does
it's a simulation is it's actually a
real emulate
so it's emulating a unit by default of
the lemonade and arm processor running
the same Android source code we button
or the same android binary images we
place on phones so if you're ever in
doubt is to have something works just
create an emulator of the API level you
want and take a look and that'll give
you you know for pretty much everything
with a few exceptions like say sensors
were of course is very difficult to go
and you know emulate a gyroscope on a
computer right you don't video so that
works now yeah the latest emulator lets
you know know it's a lets you plug in
your own device oh yes you're beautiful
sensing okay though interesting fish use
like peavy hard drive accelerometers
that would be some someone wrote an app
once that let you that would make
lightsaber noises when he's formula i
don't see next i haven't I can't even
estimate how much how much damage like
how many dollars of damage that that man
did with that just awesome awesome
little app yes actually an API no html5
no to also you can write web apps it'll
use the accelerometer that if it's in
your laptop just for you got there in
their enormous you can detect when you
drop them but it can be used for other
things and of course it looks on phones
well ya the ablest feel as far as I know
I've never tested it was surreal with
laptops of game studio I worked for like
production ground to a halt for half a
day's people were having like laptop
battles and so man who won't use it was
a little absurd but it was pretty
awesome and you can do that now that's
right hours you'll use it wisely all
right another question from Greg how do
i create a project targeting
compatibility back to google api level 7
plus its android 2.1 with google maps
with the support library seeking
confirmation of best practices for men
and target SDK settings so if you want
to go in target going back to level 7
that makes min min SDK very easy that
should be seven right now as far as
target or our recommendation is usually
set targets equal to whatever api you're
currently developing against so
typically that's going to be the latest
SDK that's available
15 yes assuming you've downloaded it and
you should maybe 15 or if you're
watching a pre-recorded version of this
and then it might be 16 now who knows
exactly whatever it happens to be be
watching this yes there's actually very
little risk in in compiling against the
setting the target SDK for the newest
version of the OS and a lot of benefits
so the big benefits is things like what
we like to call the menu button of shame
so a lot of apps will have a menu button
which appears even though you're using
action bar and everything else just
because you haven't set the target SDK
high enough and then you just change
that and miraculously it goes away and
everything kind of works which is kind
of the point of the way a lot of
development goes for Android the idea is
to make sure that everything just works
when a new version comes out which
doesn't mean that you shouldn't be
testing it doesn't mean you shouldn't be
improving because with each new version
of Android there's new libraries there's
new API us which you're able to use to
make things better but even without
making any changes a lot of time you
have a lot of benefit just by changing
the target SDK yeah and yeah there's
actually even easier now to because
we've added winter sport which will give
you a linter warning when you use API is
that could potentially be a problem and
make sure that you go and wrap those
with code to handle backwards
compatibility properly very nice yeah
links really useful for that little help
you to avoid a lot of the easy gotchas
that either just by not thinking things
through again sort of in the flurry of
first coding yeah now all that's said
there is one thing about this question
showing us and the person said they were
using the the version of android with
google map support and there is
something to watch out for there and
that is that if you're using support
fragments you i believe you don't have
access to is it map activity that's
called a no use map progress if you're
using avi's in the support library and
yet you you have to derive your
activities from that from franklin
activity thank you 33 total rather
different map activity which is a
requirement to be able to use matthews
right that's a good point so yeah in
that case probably what I do is actually
a semi really tough fact probably I
would recommend in that case
is if you are running on a device that
needs to go and display or if you're
running on a device it doesn't have
access to math pregnant have a button to
go and pop up the map in a transparent
activity yeah that's what I mean you
still won't be able to display it in a
fragment on older devices but you'll be
able to get something that's not too
obtrusive yeah and I'm how did the
interesting thing I mean you will
definitely lose the advantage of being
able to reuse fragments across multiple
activities if you do what I'm about to
suggest but most of the case well in
almost all of the cases the devices
which which are pre honeycomb our phones
which means that is less need to have
multiple fragments on screen so you can
just have your map activity as a
separate thing and then you can have
separate activity which has your map
plus whatever else you want for the
tablets which are running honeycomb
above so it's it's not ideal as a bit of
duplication it's not quite as neat but
at the moment that's kind of the best
way forward I guess until until we get
past gingerbread being the dominant
platform you have a couple questions
online sir ok yeah we have a couple
questions so one from Matthew my from
josh we'll start with you Matthew you've
written could you copy the fragment
activity saw scope and make it explode
and make it extend map activity that was
sorry that was actually just I had
another question but that was in reply
to what you guys were previously talking
about you yeah yeah it gets it gets
really complicated so I know that there
are some third-party libraries which
attempt to do this sort of thing
pitchers but it's it's non-trivial and
it tends to result in bad things
happening uh-huh so yeah I would
probably recommend against that kind of
approach at the moment at least ok what
other question you can yeah so when
obviously a lot of our apps we targets
the most recent version of the SDK and
then provide a min SDK back to let's say
2.1 or 2.2 I find it even if I am using
a holo theme and I put the minimum SDK
version back to 2.2 it uses the old
widgets and not the hollow widgets have
you guys ever experienced that yes it
uses the old widgets on every platform
or just on the old platform on which
devices do you see this on Galaxy Nexus
so and it is on all platforms so on the
Galaxy Nexus 4 point now I see the old
widgets show up even though i have the
holo theme on what is hitting the target
SDK trick for point out so 15 I don't
know why that would be yeah I'm not sure
I can you you go through that process
again for me I just know not sure that
the mission shares so I make an appt set
the theme to hollow and and then so I
set the target SDK to four point oh so
if you I'll over 15 and I set the min
SDK 27 I if I run it on four point oh it
shows the old widgets rather than the
hollow widgets interesting and if you
change the munis decayed or something
other than seven minutes if i if i
change it to 11 which would be honeycomb
it does show the hollow widgets that's
unexpected yeah I've never heard of it
before good yeah let us I think we're
gonna have to see that for ourselves to
try and figure out what's going on so
we'll take that as an action item off
the back of this and go and make a
sample project which just does exactly
that are you seeing it for anything
other than when you say widgets you mean
like home screen widgets yeah oh no no
no i sorry i'm at like views like
buttons spinners stuff like that exactly
okay that should be easy to test all
right yeah let us look into that that
seems surprising it seems like maybe
something else is going on or I feel
like we would have run into that earlier
it seems contrary to the way that I have
seen it work
so yeah let us let us look into that
yeah we'll get back to you as well if
we're not seeing it happens straight
away or I guess either way I must have
looked into it we may want to get back
in touch with you to get a little bit
more information as to exactly what's
happening just in case we can't
replicate it ourselves yeah it just came
up so I think I might i'll test it again
i might file a bug report if i still
have it oh yeah and do a ping android
developers as well so we can keep track
of it that way to cope like okay thanks
man um Josh she had a question yeah mine
was with regards to gradient drawables
so we're declaring them in XML and
dealing with radial gradients basically
when you try when you set the radius the
the actual attribute is an int rather
than a dimension and so density scaling
becomes kind of tricky especially since
I don't think it will even take
references so I can't just you know
declare that in the values XML I haven't
have to have a separate copies in each
one is there a better approach to that
so it's a really good question so I
noticed this myself a little while ago
and mentioned it to someone and their
suggestion was that it's using that
pixel value only for you know
effectively for a to provide a baseline
for a relative radius sighs have you
actually tried it out to see whether it
does get bandy and bad looking on higher
res devices or if it just magically
scams so I have a suspicion that it
treats it like a dip even though it's
it's asking for it as a pixel but I
haven't I haven't tried it out myself
may have lost Josh um we will try that
out so I I'm not sure because I agree
that seems like it's it seems like it's
a bug or it seems like there's an other
side there yeah percent for some reason
it rebooted me but no I was trying it
out and it definitely behaves like
pixels
I tried on higher res devices if it
actually does get smaller like
physically smaller meaning it no longer
fits my assets which are defined in
depth yeah right yeah no that's that
that is what I initially suspected so
yeah so I guess the answer is that there
isn't a really great best practice for
that you would just have to create
multiple drawable xmls trying to use I
guess you can probably use references
for the colors so that you can end up
this defining the colors in one place
than having multiple for Oracle's with
different gradient radiuses isn't a
great answer but I think it's the best
we've got at the moment a big all right
I think that takes us up to exactly 3
copper color perfect so thank you
everyone who joined us on the Hangout
it's great to get the live questions so
yeah thanks very much for participating
and to everyone watching thank you very
much for watching we're here every
wednesday at two p.m. pacific time we
have the moderator queue it's the same
should be the same q next week so i do
continue to throw your questions in
there and we will do our best to answer
as many as we can natick thus have the q
of just locked itself so once you're
going through out unlike we will not get
a sense is empty yes absolutely so I
come back to it later today the the
video for this fingers crossed will be
available for later today or tomorrow
barring a technical difficulties which
uncommon moment with hang out so I do
bear with us that in any case thank you
for watching and we'll see you all next
week right please thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>