<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>DevBytes: Play Games on iOS Lesson 1.6 | Coder Coacher - Coaching Coders</title><meta content="DevBytes: Play Games on iOS Lesson 1.6 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>DevBytes: Play Games on iOS Lesson 1.6</b></h2><h5 class="post__date">2013-09-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QORiAqP2aYM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so welcome back in this lesson we are
going to start the process of signing
the user in now the first thing we need
to do to prepare the sign-in process is
managed our GPP sign-in shared singleton
instance this is something that is a
singleton and you can access it from any
class and before you use it to sign the
user in you'll want to set a few
properties with it now there are number
of places you could do this your app
delegate might be good plays because you
can make sure that everything is set
before anything else is loaded however
just to keep our code a little simpler I
think we can do this in our intro view
controller as well so I'm going to do
this here once we're in our view
controller the first thing we're going
to want to do is import the google + /
google+ header this will include
everything we need to access sign in so
next I'm going to create a method called
let's call it initialize GPP sign-in and
this is where we're going to access that
shared singleton instance and set up all
the properties for it now the first
thing we're going to want to do is
create a string that references our
client ID so in a string game client ID
and and this is that string that I told
you to copy and paste a couple lessons
ago but I also told you that if you
didn't copy and paste it like I didn't
you can go back to your Google Play
Developer console and grab it so I'm
going to do that let's go to Chrome here
and under play google com / app /
publish I'm going to click the little
game controller icon on the left here's
guess my number under linked apps again
I can view the iOS linked app and here's
my wats to client ID so i'll just copy
and paste this and put it in here and
let me fix the typo here there we go
this
feels like maybe something that I'll
eventually want to pull into a constants
file or something somewhere but I
suppose this is good enough for now I'm
feeling a little lazy next let's grab
our sign an object so we'll just
reference this as local variable sign in
and this equals we'll get that from the
GPP sign-in shared instant singleton
method so this will grab our Google+
sign-in object that we can then set
various properties on so for instance I
can do sign in client ID equals our game
client ID we're also going to want to
set the Scopes remember that these are
these special powers that our valet key
has that gives it access to certain
things in the user's account so for this
sign in scopes equals and this is an
array so we'll call NS array array with
objects and we want https colon slash
slash dub-dub-dub google api escom slash
auth / games and yes i do realize we
should probably make this a constant
somewhere in our library and we'll leave
it like this even though we're only
including one object I still like to use
the plural array with objects method
because at some point we'll probably be
asking for more scopes we also need to
set our language and this we can usually
get by going to NS locale preferred
languages object at index 0 we want to
set our delegate to self and this is
basically telling our site an object
where it's going to report that the user
has finished signing in and finally sign
in should fetch google user ID will be
yes what this does is it tells the
Google sign-in object that we are going
to need the users ID you'll recall back
in our earlier presentation when we got
our access token back from the system we
then use that to make another call
saying okay now that I have this Oh auth
token who is this user and the system
will return a user ID this is
essentially a shortcut saying hey Oh F
to library since this is something that
we request fairly often why you just go
ahead and make a call to get the users
ID as soon as they have authorized our
application this is kind of nice and it
turns out this is also required by the
game service it's going to need the user
ID and it's going to grab it from this
signing an object so you probably
haven't used this setting before but it
is required to get game services working
now you'll notice that at this point
we're getting a warning and this is
because we've set signed in delegate to
self but Xcode is telling us hey wait a
minute this class is in a GPP sign-in
delegate so we can fix that so up here
at the top of our view controller m-file
next to this interface line we're going
to say that this class conforms to the
GPP sign-in delegate at this point we
get out another warning saying well okay
you said that it conforms to the GPP
sign-in delegate protocol but you
haven't implemented this required
finished with auth error method which is
required in this GPP sign-in delegate
protocol so we can do that as well so
we'll add finished with auth error and
basically this is the call that our sign
an object is going to make it's part of
the delegate protocol that says hey the
user is finished signing in hopefully
there is an auth object attached to it
and if not here's an error object that
explains what went wrong so for right
now let's just print something out to
our log file so NS log I am finished
with off off is this object and error is
this and we'll add our oath and error
objects so that hopefully we get
something interesting in the debug
output so now we can run this
and nothing interesting happens well
that's because I didn't actually sign
the user in anywhere we've initialized
our GPP sign-in object but then we
haven't actually done anything with it
luckily this is an easy fix and we will
tackle that in our next lesson
hahaha
haha</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>