<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Developers Office Hours -EMEA | Coder Coacher - Coaching Coders</title><meta content="Android Developers Office Hours -EMEA - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Developers Office Hours -EMEA</b></h2><h5 class="post__date">2013-03-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qBfL9zaIV7U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody welcome to this week's
Android office hours life here from
London today is the first birthday of
google play for those who don't know so
I think it's a good day to have a
android hangout so this is Stefan in sir
I'm Matt gaunt and in hang out down here
we have Rick and Nick hi there yeah
we're not in the London office today
because we've just got back from a trip
to Israel where we were at the campus in
Tel Aviv or in the new campers Tel Aviv
hoodie whether you can read it from that
so you'll see down the bottom corner
there we were actually SAT with him
about 10 hours ago we just got back to
the UK and uh there was a lot of good
talks on multi screen applications and
multi-screen development over at campus
in Israel are you talking about Nick
yeah hi everyone and i gave a talk on
how to make responsive how to design
responsive applications on Android so I
hope you enjoyed that and i'll be
posting my slides online seen so watch
out for that absolutely i'll be posting
might as well so we so as usual normal
disclaimer we are not announcing new
features or product timelines or
anything like that is purely to answer
questions and help out wherever we can
so we've pretty much got a full house
already so has anyone got any questions
in the Hangout no question from a
hangout okay so you're gonna kick off
with a moderator question yes okay we
have a question down here on using the
crop intent or using a customized one um
yeah I think it's um it's a difficult
question I'm because if you have used
the problem 10 before you might have
noticed that it will not work on all
devices and it's I don't know how
actually how official it is but if you
want to use it you should make sure that
you have
kind of a fallback option to what you're
doing so you can use the crop intent um
but you still have have to have a
fallback solution if this is not working
so that be stronger and had stronger
guidelines Nancy is actually not
documented intent right so it's well
known but it's not actually a guaranteed
to be there by the platform so boy you
could try and use it like you're saying
and it's not guaranteed to be there a
better approach might be to copy the
functionality from the gallery
application and do it yourself or do it
on a server side even even there might
be a good of you to do well you probably
want to be extra size on the client side
and right and choose the cropping area
and then performing the actual cops
trivia all right good I mean all the
coaches are in the galleria it's all
open source but and you know you know i
think it's gonna be there if it oh my
modified version of the gallery or so
forth which is exactly what kind of
happened with the question like they're
saying that there one particular device
just doesn't work and comes back with
something weird I mean I think you also
got to think if you can get away with
not involving these are at all that's
also another viable option like I've had
applications where we needed to crop an
image just to make it square and nine
times out of ten you do we need to get
the user involved so ya think of a
different way of doing anything is the
way to go should I just jump in work
right with the difficult one I'm going
to do it so we had a question can
Android destroyer stopped activities of
a nap if it's still in the foreground
the doc suggested can but hack quad
replied that it wasn't necessarily the
same case and essentially what Diane
hack bonds kind of stated is that if you
have an application in the foreground
and then you keep on creating activity
after activity essentially you'll get to
a point where you'll run out of memory
and the activities won't be played
because the application is in the
foreground so essentially the best way
to get around this was to start using
fragments and essentially that where you
can start managing memory itself because
you're essentially able to swap out the
fragment to remove them etc
sort of managing things that way I think
it's slightly ambiguous in the
documentation in terms of whether the
activities will be cleared when they're
just in the background even though the
applications of the foreground or not
and I think that's where the confusion
has come about so yeah but you have to
be very careful if you're running in the
foreground and creating activity over
activity over activity I think this is
kind of an architectural problem this is
I also wide again said use a fragment
API because you don't want to create a
new activity every time or what you can
do is you can handle at a stag you can
use flex like single top and grip
refresh the views refresh the adapters
um yes but I think this is how how you
should approach yeah like an au pair but
is how you Jen should approach the thing
so and and to know if your applications
in a background the framework will be
able to to kill your your activity but
not if we're running in the foreground
so yeah and that was for moon it a an
original FS to come in and he's
rightfully come back saying given this
Diane Hank but if Diane Hackman says
it's true then probably go word over
mine yeah mmm next muffin when do you
think the ability to reply to comments
will be added to developers so again
this kind of Falls neatly under the
we're not announcing new features etc
Google Play of giving it to some
developers but ultimately i think the
move to have comments be backed up by a
google plus profile means that you could
reach out to users if you wanted to help
them out directly but at the moment
there's no news as to what the Google
Play team are doing with that feature so
I'm going to jump straight in exile by
the way if anyone has another question
anywhere then feel free if you've got Oh
Stephen if you've got a question in the
moderator or yeah yes somewhere which
one
link to it as well also if anyone's got
any favorite apps from the first
birthday celebrations that they've been
downloading good to hear about them
there's a movies books applications
games all for sale at the moment in the
Play Store for 1st birthday the play is
one celebration yeah um your question
was the one with a UI Automator I see um
yeah we still don't have any news on
that I saw you open up a different one
it should not happen like I said last
week but we don't have an answer for you
ready I'm sorry um yes should we take on
the private api key question let's do it
um yeah this is also something that's
very sensitive I think because you
should obviously protect your API keys
so what should you do about it there's a
couple of things that you could do there
was in general if you want to have have
a read there's a blog post on the
Android developers blog on secure and
passwords and maybe use some advice from
there and apply it to secure your API
key but in general you should think you
should think about how sensitive is it
to protect your API key I'm in general
do you have do you have to pay for your
API use it and how important it that it
it leaks or not been genuine you should
protected I'm the end android system of
course and we have you should always use
the flag private to store the APK API
key internally of course unruly devices
this will be accessible so you can if
you really have to protect your API key
you can do some some kind of root
detection i also posted a link on a
uterus class waken to root root
detection last week this is something
you can use to detect rude and only only
run on unknown rooted devices if this is
something you can do
um yeah and you obviously I don't know
what's your take on it you can you can
do a lot of things yeah I think
generally you've got to think how hard
do you need to actually make it for
someone to get the API key and I think
that's going to be dependent on the use
case essentially i think the way a lot
of companies will get away around this
will be to do a combination of
server-side support as well as clients I
which the blog post kind of covers the
client side of it so yeah I think
generally there's going to be certain
methods that are going to work better
than others but generally it's a case of
how difficult you need to make it for
someone to then not be interested in
getting at the API key so yeah it will
depend on the scenario yeah we were
conferring mr. good on what is kind of
the best practice to do it on different
levels of security okie hmm also the
more recent API keys now also require a
package name to be associated with so
the Maps API for example your API key
can only be used by you because it takes
your your signature and your package
name so when for our API is at least for
now featuring them through that
mechanism as well other people they may
not use that for let me actually blind
but things like the Maps API key in
plain text inside you on your
application yeah but other developers
can take advantage of that same
infrastructure right we have the ability
to verify back ankles so that's exactly
what the Maps API is doing is it's a way
to verify that the traffic is only
coming from a certain package so if you
wanted to you could routing through a
server off of device and use this and
the Google bezos's token to verify
there's only coming from your
application that isn't some random web
traffic as if you search for Cloud
endpoints on Google Play Oh Google+
Cloud endpoints you'll find it on here
console we're talking about things on
the API console now it's worth
mentioning that last week a new feature
for lunch which now allows you if you
use Google+ sign-in on your website to
have the install now button in your
Android applications so users can
install the Android up your
an application from your website
directly onto their device as if they
were in the Play Store you don't need to
forward them to the Play Store anymore
it's part of the Google+ sign-in as I
say and you get some great metrics
through the Google+ platform insights as
well so have a look at
developers.google.com forward slash plus
and then look for over-the-air install
and it's not actually the install when
it's part of the sign-in process allows
the user to install your application
kind of corny future added some more
work for me to do to my website now if
you've got any ask hidin you've got
Google+ sign-in already then you just
need to add the add the app package name
into the intern ascription sortie de
nice and sunny bad turn on the API
featuring a console cool so Nick we got
a question for you in the last Android
design in action Nick mentioned the they
rarely recommend to use dialogues why is
that I think it's a useful way not only
to get input data but also show a
relatively small amount of info that
doesn't really fit anywhere in the app
so about two to three lines yeah my
general hatred of dialogues is just due
to their blocking nature it's just you
really disrupt any flow you might have
within an application I just think if
you can display something in line like
two three lines could be given in line
some house or somehow some in mind user
interface element that you don't have to
go to through and like an explicit and
dismissal or anything like that and it's
just I thought I find that's better yeah
I kind of really I think one of the the
most obvious use case for a dialogue is
when you're in the middle of a sign-in
process you've got the user name you've
got the password and then something
fails and then it comes with a dialog
saying error something doesn't work it's
much nicer if you just show a message
above the actual form so that way they
can edit what if they want to do or
retry there and then there's no by
putting up a dialog you're almost
already kind of flagging up the fact
that something's gone wrong and blocking
them from trying again yeah so you
should only use it in cases where you
need the users attention and you you
need the user input
but not in the other cases I would
suggest there there are other other
things in the framework you can use to
notify the user tell them what's going
on but I think dialogues dialogues
interrupt user flow as a road on a
moderator and this is why you should be
really careful when using them and so
what else do we have okay ask a question
please go right of course thanks is it
possible to detect if the app is open
from a broadcastreceiver um I think you
can you can I don't know if it's
possible from a broadcast receiver but
what you can do is you can grant for the
get tasks permission and you can from
there get the running to us but it says
maybe you have to be very careful
because you're requesting the guitars
permission but I think this is the the
only way or I think there are one or two
ways um I did that on another project
but this is one way you can detect if
your application is still there and also
if it's running but not exactly in in
rare cases because you're obviously
going to request this permission and
people are going wondering player
because not exactly i would like to know
if i would like to know if the app but
he's a open if the UI he's in the front
and not just if i can find in the task
because you know the app can be in the
task but is not open at the moment but i
mean but i think if you can do it with
that just check on on Stack Overflow
they're just type in all set over there
a couple of answers on it but you can
definitely if I if I remember correctly
you can definitely do it from there I
will check for that thank you know a
couple of questions on and what would
you just know what you also can do I
think one solution is to register
dynamic broadcast receiver and from them
send messages which you can then receive
this is something you also could do
because this broadcast receiver will all
will only be active if you're running in
the foreground and have a user user
focus thank you very much so one of the
questions on the Google+ stream is do
the menu items on the action bar support
the checked state we tried this but
seems not to work from jen's or yen's
hall um so the best of my knowledge it
doesn't support necessary the check
state but what you can do is just swap
out the icon depending on the state so
essentially when you created the menu
it's safe to keep a reference and the
actual menu itself and then that point
use find item by idea i think it is or
something along those lines to actually
get reference to that particular item
and then change the icon depending on
the state so that's the best way that
I've I know how to do it don't anyone
else with any other comments on that one
yeah greetings to egans I know him he's
a very smart guy Oh from Robert Reeves
where would you suggest a new developer
to start so yeah I think Yvonne ease
already kind of responding to the best
place to start which is the Android
developer training site losa tutorials
and just generally helps you kind of go
from really brand new developers right
through to the really advanced stuff so
that's probably a really safe place to
start and yeah just start coding come
and ask us questions then we've got a
little conversation with Andrew Kelly
the one-man moderator machine rich so
one of the other questions we got on the
moderator otherwise anyone else got a
question in the hangar mood no still
quiet so so the question starts off with
some of you can't comment on which is
will an update of Google Maps API
include long press call back for info
window something like on wit info window
log click listener or is there any
workaround to do that now
I would really need that and to
essentially on the Maps API you can
create a little marker when you click on
the market comes up the window and if I
window above that and what McCann's
trying to do is when you don't click on
the info window get a different call
back so Steph line you can kind of
looking into this yeah um there's no
part of the box solution for this so
it's not supported I mean if you read
through the ducts you will see that the
image that is shown or that the view
that is shown there above the marker as
an info window is actually not a real
view it's an image so it's not very
interactive but there was one
interesting post on stackoverflow I'm to
be honest it's it's a little bit hacky
I'm I put it in a moderator so um give
it a try what he basically does is um he
wraps his whole layout for the whole
activity uh he makes a custom he makes a
custom layout and what he does he's
intercepting touch events there he's
already on on this page touch event and
then is looking if the touch event
actually was on the info window and when
it was on the info window he's going to
manually dispatch the events down to the
info window and so the info window is
again kind of a live view this is what
he said successfully managed to do but
it's still to me it sounds like like
kind of a keen you should you should
have a good reason to do it um yeah
we've discussed this before a long press
on on a pop-up in a map view I think
you're my personal opinion is you have
to have a very good reason to do it um
yeah but if you have to do it look at
the moderator and try to intercept the
touch events and route them yourself
justice what you can do yeah i think it
is morally things i think is probably
missed out for the api because we kind
of intend people just to click on it and
then go through to another screen which
I actually have all the information at
all the features that you can
and do from that point so having an
onclicklistener I don't know I struggled
to see a situation where the experience
is gonna really benefit from having a
long thick but yeah I'd be interested to
know what your we're trying to do with
it really okay what else do we have
should a good quality of images kind of
on I'm just when I'm just reading
through the comment okay yeah um yeah
what you can do is um I don't know where
you get your images from but what you
can do is I mean you're obviously will
know the width and the height of the
image in your gallery and to to make
sure you have the images are always at a
good quality just fetch a slightly
bigger image from the server and what
you also can do is then scale it down so
i sold it will fit so there are a couple
of strategies I think optimizing images
for the gallery is often done on the
server side so you you request different
representations from the server for for
different devices yeah but what you
never should do is download like very
big images and sample them down and and
and using them with not simply again
down because this will obviously take a
lot of memory you can you can download a
big image if you don't have an image
scaling facility and scale it down and
then put it interview but what you
should never do is take in a big image
and putting it in in a gallery and also
recycle your views so yes it is just a
reference that that was referring to a
question that we had on the motor on the
Google+ tree that was actually how do
you maintain good quality for images
when writing custom gallery
implementation I think just to further
or staff I say like the main approach
that I've seen
people take you this essentially they
only have access to really big images
and therefore when you're doing custom
gallery the best solution that I've seen
is just to scale it down store a
reference to the full image as well as a
smaller one and then just use a
thumbnail within the list you and then
that way you still got access the large
one if you if you need it for whatever
reason but you do have to be careful a
memory manager because you're dealing
with bitmaps yeah and andrew kelly just
pointed out to Joe zipper this is what I
was talking about and with getting the
running task permission you can refer to
running air process info and you can get
the importance from there this is where
you can tell if you're in the foreground
or not but still be very careful when
using it thank you so this is a question
that may be rich or Nick will have a bit
more insight in and so this is from fill
our unced ripped system libraries
available for download to assist in
diagnosing Android app crashes below the
dalvik VM so essentially what Phil's got
as he's got a java application there's
no NDK and somewhere down in the dalvik
VM there's actually a sexual and he's
kind of posted to a Google+ link which
then posed to a Google Group
conversation with someone's actually
said they've got unstretched binaries
which then gives them access to an extra
set of information so I've posted a link
to the nexus drivers not really sure if
that related or not but it might help a
day do you guys have any insight i'm
looking through that the segfault moment
sometimes you can tell sometimes they
commented you can find out what's going
on
but on this I can't see much at all yeah
so I bench this crown I'd be interested
to know what you're doing field to kind
of caused it I think somewhere along the
lines there was an example of using a
bitmap in one thread recycling in
another and Linnet yeah I tried that
memory allocation tools run a debug off
the app collect the memory usage in
their relative the mat and see if you're
the memory and analysis tool the point
when it crashes and see if you can
figure out from the the memory
allocations what's going on okay yes I'm
and games ask another question which I
think rich can hang can comment on he's
asking for suggestions on a web cast
recording tool from the device they want
to record their app on the device and
show them the video to their customer so
I think you're experienced in recording
video from device so there's a number of
if you want to record it into a PC or a
Mac there's a number of hdmi recorders I
use a black magic one I was using one a
couple of days ago the works very well
you get the full kind of 1080p and 720p
strings directly through your
Thunderbolt or USB 3 so if you have a
compact magic as website they have a few
tools there that work quite well the
only thing to be careful of is that your
phone or tablet doesn't have hdcp keys
on it so think we want to use like the
motorola xoom or the galaxy tab or the
transformer prime or a Galaxy Nexus all
these things will work fine but then as
soon as you go up to things like the
Nexus 4 in the nexus 10 and some of the
newer devices that support hdcp the most
recorders won't record HTTP encrypted
content from C so just be careful with
that but yeah I reason imagine it works
at City perfectly for me
05 alternative if you can is there to
use an emulator or like a desktop
software like bluestacks also another
Android and use some desktop reporting
software as well you get quite good
trail mix there ok we have an
interesting question I think from Stefan
from Berlin he's asking what's the best
approach to me great a phone app no
fragments to a tablet app ok this is an
interesting question um what's the best
approach um I think I'm the best
approaches to go over over the the
sequential screens on the phone and ask
yourself how will you lay out these
screens on a tablet and after you've
done that you should probably continue
on taking each activity and refactoring
out every code that has to go from the
activity to the fragment and put put all
screens in fragments and then after that
you're going to start rearranging it on
a tablet but that's what what I would do
is I would think about which which
activities or which views visible views
to the to the to the user go we're on a
tablet and then I would refactor out the
fragment and then I would do all the
rearranging for for the phone and to
tell that so you can do it step by step
um what can be very helpful when doing
it is to using something like an event
bus because it allows you to 2d couple
things of that so you can still use the
old code while also running running a
fragment because everything that against
tend to make code more loosely couple so
this is an approach am I have taken on
which work very well because you can
still keep the app running and and
having some fragments there
mmm yeah but generally take on the phone
code extract some fragments and then
rearrange it for the tablet version yeah
I think that sounds about right like I
think you you just need to genuinely
think about how you want to sort of
chunk up the logic of the application
into fragments because obviously gotta
want to be through around and once
you've given that out start moving those
those bits of logic you already have
into the fragments and I Stefan said and
you get to go okay there's a short
question I mean you be white on pages
like Android developer android com have
no links to example Sam and what what
you can do is you can I think what can
you get the sample apps you can you can
get it from if you just a shuttle tool
no actually the important thing you
mixed out when you bet that link is then
you're talking about the design side
that bit under construction okay sorry
they're specifically on linked code
stuff so that specifically resources
targeted most designers and they're not
specially back set by implementation
steps okay you're right so I think
generally with this kind of stuff when
you start looking so if you're finding
something in the action bar that
mentioned the design guidelines when you
actually then stop looking at the
documentation for the action bar you'll
actually start finding guides that I'll
explain how to do each particular part
that will be kind of reference the
design guidelines so yeah I think they
are the couple for a good reason but
generally the documentation is still
there to back it up and help you in
whatever way you need to so i think it's
it's quite a good way of doing it like
Nick surges it's mo things anything they
get design us to start thinking in an
Android way when they're not really used
to it it's good and scaring them off
with code and certain things like that
like if they're not into that then it's
fairly yeah I think it's getting bad
right like a I want all developers to
read the design guide right and I can
see the benefit for having links fruit
juice and some examples so i can see the
argument i get it completely waving from
bay at the same time like matt says we
want to be completely accessible
22 non-developers as well to designers
and people who might get you know scared
off by links for each other's stuff so
there's like an express eyes and this is
the way we fall on what's open right now
to the reserve Andrew Kelly's asked a
question in the absence of oh I'm going
to ask this one last question the
absolute of being able to use the google
map fragment inside an app widget would
you see any problems using an image from
static Google Maps API instead I'd like
to link to peer or periodical location
updates show places of interest nearby
so Stefan's linked to Android design in
action next week which I believe you
guys are covering widgets Nick that was
just like when I guess there there you
go we've already done it um so what
would you say to this cuz i personally
don't think it's that bad idea i think
dealing with the densities is might be a
bit of an issue but i'm sure and you can
deal with it no something it sounds
doable i can't just be careful about how
frequently you gonna do turn that up
yeah of course if using static images
from google maps make sure you abide by
all the relevant terms and conditions
and put the copyrights and licenses at
the bottom of the pictures we have a
static image generator yeah nope
clapping at mulago exactly it would just
just give it a try and let us know yeah
to find out so unfortunately that is a
half hour we have staying through so
many questions is untrue but thank you
for joining us and can I think with all
questions you've got any more then stick
them in the moderator for next week we
will be doing another office hours
Giuseppe elsewhere in the commenters I'm
not touching with a bargepole yeah near
oh my how long will it take the google
i/o tickets to set up you tell us it
depends anyway um thank you everyone
right guys and we'll see you next week
yes guys oh my gosh yes my guess</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>