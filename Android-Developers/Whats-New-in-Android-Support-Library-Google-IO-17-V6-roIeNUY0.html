<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>What's New in Android Support Library (Google I/O '17) | Coder Coacher - Coaching Coders</title><meta content="What's New in Android Support Library (Google I/O '17) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>What's New in Android Support Library (Google I/O '17)</b></h2><h5 class="post__date">2017-05-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/V6-roIeNUY0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good morning everyone welcome to what's
new in support library I'm Alan Verret
I'm tech lead for the Android support
library team I'm Clara Valley I'm a
technic on the Android UI toolkit team
and we're going to talking about what's
new in support library from 25.3 through
today's released 26 0 beta 1 so has
anybody here not use the support library
to develop an Android app Wow one person
do you actually develop Android apps
okay so everybody here is pretty
familiar with the support library it's a
collection of utilities and classes that
make it easy to target older versions of
the platform use some new concepts like
mature
material design widgets and it's a very
essential part of Android app
development so we're going to start by
talking about what's old in the android
support library before we move on to
what's new so last year you may recall
that we drop support for SDKs lower than
9 so donut declare and Froyo went away
and this allowed us to focus more on the
API levels the developers are actually
targeting so a lot of compact code went
away and we reduced our method count by
quite a bit and when you're targeting
platforms earlier than 21 you're worried
about the 65k Dex limit this is really
helpful so today we have fewer than 1%
of active Android devices according to
play store check-ins on api's lower than
14 so you may guess what I'm about to
say is anybody still targeting
Gingerbread one or two people you
probably have a sinking feeling right
now so as you might have guessed we are
removing support for API is lower than
14
and the support library team is as happy
about that as you are so we've got some
great benefits from this but the main
thing is that if you're min SDK is not
already 14 it will become 14 if you're
still targeting in older versions the
three of you in this room that are still
targeting Gingerbread you can still use
the existing versions of support library
so 25.3 is going to continue to work on
Gingerbread and honeycomb but if you
want to use some of the new features
that we're talking about today you'll
need to maybe have a separate code
branch where your min SDK is 14
all right so some of the benefits that
you're going to get from this we've
dropped over 1,400 methods so we're a
little bit backing off from the Dex
limit and we're going to be removing
even more classes and methods so just
public methods and classes and
interfaces
we're deprecating 30 classes over 400
methods that are no longer necessary
because they're compact on 14 above so
for example view compat set pivot X is
now going to show up as deprecated and
you can replace that with a call to the
actual set pivot X method because that
exists there are some methods where we
have workarounds for bugs in existing
versions so it may still be useful to be
calling view compat but anywhere that's
been deprecated you can go ahead and
migrate away from and we'll be removing
those methods in a later version all
right so we've made it easier to develop
with the android support library we're
also going to be improving the way that
you get the android support library
we've modernized our distribution method
and added the google maven repository
so every time we update the support
library with a bug-fix you don't have to
download 500 megabytes of internal maven
repository so we're including support
library as well as constraint lay out
the application application architecture
components that you may have heard about
yesterday
through this maven repository we're
including every historical version of
support library including 26 beta 1
which is only available through the
Google maven repo so you can go ahead
and make this transition even if you're
not targeting 26 yet and it's as simple
as just adding the Google maven
repository to your maven repositories in
your build.gradle and then everything
else continues as usual so you just set
up your compile dependencies and you're
good to go and I'll just a moment well a
bunch of people take photos the slides
will be available later so any links
that we're showing you can look at later
is it alright so we've made it easier to
obtain the support library we've made it
easier to develop with the support
library we also want to make it easier
to develop the support library itself so
we're improving workflow with our issue
tracker we've moved from Google code to
our new issue tracker Google comm and
this is providing a much much better
tool for us to track bugs manage hot
lists and respond to you and let you
know that we're following up on what
you're what you're telling us about bugs
but this is also better for you it's
more stable and this is going to provide
a faster response time when you file
bugs but thank you so when you file a
bug sometimes maybe we're slow to
respond we try hard but there are a lot
of bugs so if you decide that you want
to handle a bug yourself we have support
for developing support library from AOSP
in Android studio so if you check out
our minimal branch of AOSP an unbundled
support library branch that is I think
around 6 gigs right now instead of the
full hundred
big Android checkout you can open the
framework support route in Android
studio
everything works you don't have a bunch
of weird red arrow lines if you tried to
develop Android studio a OSP code
framework code in IntelliJ
if you've probably had a rough time but
we have vastly streamlined the
experience for developing support
library and we want to get patches from
you so we have a guideline for external
contributions now available on Android
Google source comm in the framework
support section so if you send us a pull
request you send us a Garrett CL review
for bug fixes only right now we're not
taking API changes for bug fixes we'll
look at those we'll give you feedback
and hopefully we'll be able to integrate
those into our main repository alright
and now over to Klara to talk about some
of the actual new features Thank You
Ellen it's an exciting year for text we
have four main features that we're
presenting today they're an Android oh
and they're all in the support library
26 beta 1 let me start the first feature
i want to present today we're calling it
fonts and xml if you've ever tried to
use a custom font in your app you might
be familiar to a painful process that
looks something like this you create
your custom textview you load your
typeface well you get it from the
typeface API you load it onto yourself
and then the worst part you use your
custom typeface everywhere in your XML
that's not fun we've seen some more
clever ideas out there like people using
data binding to solve this but we
decided to fix this in the framework so
starting now fonts are a new resource
type we have created thank you
you can now put all of your fault files
into the red flash folder we will be
taking care of creating IDs for you we
are also adding support for font
families thought families are when you
have more than one file to define a font
so for example you have a regular above
that italic and a bold italic file and
you want to treat those as a unit we are
adding support for that as well so we
define new XML attributes you can define
XML with a family tag and font tags for
each of your fonts in the family you can
see here I defined a family with a
regular and a bold font creating this
you tell us what the style and the
weight is for each of the files and then
this for example would generate our my
font this is a family it can be used as
a unit and everywhere
the framework will take care of
selecting the font it wants from that
that group so you may be familiar with
the Android font family attribute in
Texas this has existed since way before
it takes strings so it takes things like
San serif cursive or moto space well
we've extended it now to take font
resources so you can now say Android
font family font my fonts and it just
works
we've also added support obviously for
textiles so textile already existed it's
my font here were a family and you tell
us to use gold we will automatically use
a bold font within your family this also
applies to text spans so if you're using
spans within your text to define
different styles we will automatically
select the font for you and take care of
everything as you can imagine it also
works with styles just to find in
yourself set it on your text view
everything works and if you want your
research from code we've added resources
compact get fonts just give us the ID
we'll give you a typeface back this is
all available to you today API is 14 and
above thanks to the support library
so let me move on to another font
feature we have downloadable fonts
we notice that lots of you bundle fonts
into your apk and fonts are really large
files even more like you are probably
bundling fonts that are not even
optimized for mobile and it turns out
that Android doesn't need about 50% of
the file we don't need it for mobile but
you are still bundling it into your app
we made a little analysis and we found
that the top 25 apps on the Play Store
that do bundles fonts are bundling an
average about 500k in fonts that we have
in the google fonts catalog couldn't we
do better with that also never to
mention the fact that you are bundling
the same font in several different apps
and the user is downloading the spot
over and over again
so this is where downloadable fonts
comes into place we've created the
concept of a font provider and a
provider is the separate entity that is
not your app and its own mission is to
fetch fonts cache them and serve them to
you and to every other app that wants
fonts so then hopefully you can get rid
of your bundled fonts and just rely on a
font provider to give you all the fonts
you want the way this works is all apps
can access a font provider via the fonts
contract compat api's this means that
you all have one entry point into the
font provider the benefits of this are
sorry can you go back one benefits of
this is we have one copy of the fonts we
only have one copy of the final memory
saving memory for the user we have one
copy on the device one copy so that you
don't have to bundle it in your apk and
we're only downloading it once from the
network if you are also downloading it
yourself we're very proud to announce
that our very first font provider
available today to you is the
collaboration with the google fonts team
we are providing the entire google fonts
catalog through Google Play services
that your app can use all of the google
fonts that is more than 800 fonts just
out there for you
the way this works in code is you need
to create a font request that just tells
us what font you want so you will give
us an authority and a package for the
provider the actual query of the font so
say you want Comic Sans maybe and then
the array of certificates that the
provider is signed with this is very
important
fonts are kind of a security loophole
they can load code and they can execute
code so we want to make sure you have a
trust relationship with your font
provider you don't want to be loading
fonts from anywhere for example we can
assure you that all the google fonts
available in google play services we
have verified them we know they are
secure and we know they are mobile
optimized next you will create a
callback and the callback has two main
functions one for when the typeface is
successfully retrieved and one for women
is a failure and what the failure was
once you have these two components you
will call fonts contract compat that
request fonts and that just takes the
context the requesting the callback that
you just generated and a handler
requesting fonts may take sometimes we
are making a connection into a font
provider so we want to make sure that
you have control over where this is
executed please do not give us a UI
thread handler we may block your UI
thread so it's all under your control
because I just talked with fonts in XML
isn't it obvious that we tie these two
together you can obviously specify your
downloaded fonts in XML we've added four
attributes to the font-family tag for
the authority package query and
certificates this is equivalent to
creating a font request you just
specified in XML use it in all of your
layouts and we will take care of
fetching the fonts and displaying it for
you obviously if the font takes too long
we may timeout and render in this
default system font so bear that in mind
next I want to show you the Android
studio team have done a great
collaboration with us as you can see I
have a textview here if you open the
properties in ended studio you'll see
there's a family section usually it
takes things like sensitive personal
space now if you open it there you go
and you scroll all the way to the bottom
there is a more fonts option that opens
the new font picker
font picker will show you fonts that are
already in your project because you
bundle them fonts are in the Android
system and downloadable fonts right now
you may notice on the top right for
source since google fonts we are ready
to integrate with any other font
provider that comes out right now it
shows all of google fonts so if you
scroll up it you will see that in the
entire catalog right now I want to
search for font so for example Pacifico
is one of my favorite fonts so I will
search for it selected just hit OK
Android studio generates all of the XML
for me and even pre renders it to show
me what it will look like notice that it
we opened the XML that it generated it
generated the four attributes we needed
and all of the certificates needed for
Google Play services all for free if you
want to know more about the ended studio
go check out what's new in Android
development tools it's today at 11:30 in
the amphitheater for more information on
downloadable fonts we do have a sample
app that is published on github since
yesterday we have public documentation
that you can access again the slides
will be available later so don't worry
about the links we have google fonts
documentation that will tell you how to
use the google fonts font provider
specifically and the one caveat to use
the google fonts because we've done it
an integration in Google Play services
v11 that is not out to the public just
yet but you can join their beta through
that link over there and get v11 so that
you can play around with it as a
developer until it actually rolls out
downloadable fonts available to everyone
api 14 and above thanks
necklace talk about emoji have you ever
seen one of these boxes with a cross in
the middle we call this tofu and it's
what we render when we can't render a
glyph you've asked for this is extremely
common in emoji every year the Unicode
defines more emojis and it turns out
that our emoji font is bundled in your
system so we can't actually update it we
can't actually give you all of these new
emoji so you start seeing these maybe
you with a new device will send an emoji
to your friend who has a KitKat device
they will never actually see that emoji
and that's really bad so we've decided
to fix it the emoji compatibility
library is a support library that has
access to a newer emoji font so what we
do is for each emoji that you're trying
to render we check if a system font can
render it if so we just leave it a B if
it can't we substitute it what we call
an emoji span and that means that we can
use our available emoji font to actually
render that for you there are two ways
to use the emoji compatibility library
you can either bundle the font into your
app or you can let us use downloadable
fonts to actually get the latest emoji
font for you from Google Play services
and google fonts so to look at this when
you want to use the downloaded
configuration you will use a support
emoji dependency you will then create a
fun request we've just seen in
downloadable fonts you will be able to
get these values from Google Play
services and google fonts to actually
use their emojis on and then you
initialize a merge compat with the font
request mode you can pack something and
this just tells it to go find the
downloaded font if you do this in your
application on create then you're set if
you say oh but I actually target non
Google Play services devices I can't use
this that's fine we have the bundled
configuration for you you use a
different dependency you use support
emoji bundle dependency and what that
does is it pulls the latest font we have
at that moment into your apk do note
that font is about seven megabytes so be
careful with this and of course once
you've shipped your app it will not get
updated so it's up to you to ship a new
update on your app to get the newer font
to do this extremely easy you create a
bundled emoji compact config set it
initialize on emoji compat and you're
set
then to actually use the emojis in your
app we provided some widgets for you so
we have emoji textview emoji edit text
and emoji button these automatically use
emoji compat render all of the emojis
for you some of you might say oh but I
have my custom class I don't want to use
this one or extend this one I have my
own thing go read the documentation we
have very detailed steps on how to
integrate emoji compat into your own
custom class as well hopefully you will
stop seeing tofu especially if you're
something like a messaging app this is
really important to you you will start
showing emojis to your users again some
links we have a sample app it's
available on github we have public
documentation on how to use this and
because if you use the downloaded
configuration you are using download
fonts it has a same caveat we need
Google Play services v11 beta so please
sign up to the beta to play around with
that this is available to everyone
API is 19 and above finally I want to
present our fourth an important feature
we've made textview auto-sizing what
this means is you might have run into
this case where you have some text we've
carefully measured your textview you
know your text fits and then your
translations come around and they're
longer and they don't fit and you start
seeing that your text doesn't fit into
its bounce well that's where auto sizing
can help you what we do is auto sizing
and we choose the size of the text
depending on the boundaries of the
textview so as you can see we will
increase your text size as needed to
fill in its container using this is
really really simple you use this auto
size text type attribute on textview and
set it to uniform what this will do is
it will scale the text both in X and
y-axis uniformly some of you may say oh
but I need more control I can't just let
my text be any size my UX people would
kill me that's fine we have more control
for you you may give us either an array
of preset sizes in which case we will
take the best match out of the sizes you
give us for the given boundaries or you
can give us a minimum a maximum size and
a step or vulnerability what we do with
this is for example in this case you say
from 12 to a hundred and steps of two we
will take values such as twelve fourteen
sixteen eight
and so on and we will snap only to those
sizes auto-sizing text is available to
you today in support library for api's
14 and above now let me hand it back to
Alan to talk about animations right so
now that we've made our apps beautiful
by switching everything over to Comic
Sans and adding new emoji let's also
make our animations beautiful so support
library 26 adds a number of
backwards-compatible improvements to
graphics and animations and first among
these is dynamic animation so this is
going to be a library for direct
interaction and animations in response
to that so these are based on velocity
instead of duration you may have had an
animation where a user touches the
screen drag something down and the touch
has some sense of velocity so you want
to fling something off the screen and
you want the velocity to match their
initial touch movement and you can run
those calculations and you can figure
out an interpolation curve that's going
to roughly match what they were doing
before the animation started but it can
be a lot of work so dynamic animation is
going to help you create natural-looking
animations in response to direct user
interaction we've provided two
animations right now spring animation
and fling animation and these are
respectively for behavior where you want
to drag something down and maybe it
snaps back and eventually reaches an
equilibrium point or maybe you grab
something and you fling it off the
screen and you want it to slow down as
though there's friction so what that
looks like in practice is I have an
Android view a bug droid view and I
touch it and as I'm pulling it down we
start feeding touch events into a
velocity tracker so this knows how fast
the bug droid is going to be moving when
I let go of it as I'm moving it down
we're tracking the y translation so that
it follows my finger and when I remove
my finger we're going to start our
dynamic animation our spring animation
on our bug droid view so from code that
looks like this we're creating a new
spring animation on our bug droid view
we're going to be animating the
translation Y the vertical translation
that we've been using to track our user
interaction and when I let go of that I
want it to return to an equilibrium
state of zero translation Y so when
Springs up it's going to overshoot
it's going to overshoot and eventually
it's going to settle on zero translation
why is equilibrium spring animation uses
physical properties of Springs so the
damping ratio is how quickly the spring
is going to come to rest damping ratio
of zero would oscillate infinitely a
very high damping ratio will stop
animating very quickly stiffness is how
quickly the spring is going to snap back
so a very high stiffness when I pull the
spring down it's going to snap back
immediately a very low stiffness would
be like a car with a loose suspension
it's going to just bounce back and forth
slowly alright finally I want to pull in
the velocity that I've been tracking
this is the direct interaction portion
so I pull it down very quickly when I
lift my finger up I wanted to keep
moving with that energy if I move my
finger very slowly I'm going to lift my
finger up and I want it to start moving
back because there's very little energy
that my finger is putting into it and
finally we start our animation and we
end up with an android that snaps back
Springs a little bit and eventually
comes to rest at equilibrium you want to
learn more about dynamic animations you
can check out Android animations spring
to life that'll be tomorrow at 2:30
Stage two right here we've also made
some improvements to drawing with vector
drawables we've added feature parity
with fill type so fill type if you've
ever received an asset from UX that has
hollow areas in the middle so here we
have a light bulb that has a single path
defining the entire area and it has some
empty areas so this looks great in
Photoshop when our designer exports it
this looks great in assets to do which
is rendering as though you're on the
latest platform but once you load it
onto a device running API lower than 24
you see that there's some weird
artifacting at the edges and the
reasoning for that is the format of SVG
that gets exported by our tool in this
case Photoshop uses a fill rule and this
defines what the inside of our vector
path is so you'll notice we have a
single path that defines our light bulb
we have a rule that tells the renderer
which is inside fill and which is
outside fill which is
transparent so this was added in the
framework in API 24 and we've now back
ported it to API 14 so the assets that
you're using generating from Android
studio the assets that your designers
are generating from Photoshop you can
just use across all supported API s so
you write one XML and it looks correct
across all platforms nobody has to go
and hand edit things so that you can use
a single fill rule right speaking of
vectors and parity we're adding parity
for the ability to morph between
different paths and interpolate along a
path for animated vector drawable compat
so again these are some new features on
the platform that we're back porting to
API 14 you'll be using the same XML on
API 24 API 26 that you would on API 14
and here for path data morphing we're
going to be able to take an initial path
spec so the the long string of numbers
and letters and commas that you may see
if you actually dive down into your
vector drawable paths one caveat here is
the path formats must match and this is
something that can be handled by tools
we use alex locks woods shapeshifter
tool for this demo that we're about to
show so here's what path morphing looks
like on a device a very common case of
morphing from a buffalo to a hippo to an
elephant that I'm sure you're all
familiar with in your Android apps
alright so let's look at what's going on
at the XML level we have vector drawable
defining our starting image a buffalo
and here I've extracted out our path
data for the buffalo so that long string
of letters and numbers that defines our
vector path I pulled that into a string
resource and we're going to be reusing
it in our animation and this also just
makes things way more readable so we
have our starting vector XML that we
want to a mate from and we have our
object animator now the new thing here
for API 14 and above is the ability to
specify path data as your property type
so we're going to value anim the value
from our buffalo path
back to our hippo path spec and this is
actually going to transform the points
and give us that morphing animation that
we saw we pull this all together into an
animated vector which points the
drawable to our starting buffalo the
target we're taking our Buffalo path
from that drawable and we're going to be
morphing the path data from a buffalo to
a hippo so we're going to take this a
little bit further and take advantage of
a feature in a apt to use a bundled XML
format so you may not have used this
before but it's really cool this is
supported on a through a apt so it's
backwards compatible we're going to take
this and we're going to take our
drawable and expand that out into an
after element and this replaces the
Android drawable attribute in our
animated vector element and we're going
to inline our initial drawable our
buffalo vector drawable XML in this
element so now we've gotten rid of our
Buffalo XML and we've centralized things
in our animal animal morph bundle dot
XML so if you're not reusing Buffalo XML
you just need it for this animation it
can really simplify and clean up your
resources directory
we're gonna do the same thing with our
animation and now we have everything
neatly contained in one file so the only
thing that we're going to reference from
our layout XML or reference from code is
our animal morph bundle drawable and we
don't need to keep a separate animation
XML in some other resources folder
somewhere if we're trying to send assets
between developers are from designers to
developers and vice versa we don't have
to bundle everything into a zip and then
tell everyone ok this goes in the annum
directories us goes in everything is one
file very clean supported all the way
down to API 14 through a apt alright
we've also back ported support for
interpolation along a path so this
provides parity with the platform AVD
again and this is going to allow you to
set the interpolator on your object
animators to be a path using a spec
similar to what you would use for SVG
and what we support in vector drawable
path data so here's an example of
combine path morphing and path
interpolation
this one's pretty complicated so we're
going to take a slightly more simple
example to break down how it came
together let's say our UX designer is
not feeling particularly creative and
they want us to shrink down a square but
they wanted to have an interesting
acceleration curve as it's shrinking
down so we're going to shrink down real
fast bounce back a little bit and then
slowly reduce it to a point so our path
interpolator that we use on API 14
through current API 26 is going to look
like this we define our path data as a
SVG like path a vector drawable path
data and if you render that it looks
like this
so we're our curve is quickly reducing
from 1.0 we're bouncing back a little
bit and then we're slowly tapering off
to zero and this is what you see when it
shrinks very quickly and then gets a
little bit larger in shrinks down to
zero it's very easy to use this in our
object animator again compatible same
XML for API 14 and 26 we just set our
interpolate err to be our new path
interpolator once again I'm going to
pull everything out into an XML bundle
because it helps clean things up and
then we get this quick shrink and then a
slow fade to zero all right so far all
the screenshots and videos that I've
shown you are from phones but support
library 26 also introduces a number of
changes for alternative form factors
like watches and TVs so on the watch
side of things we're integrating the
Android wearable support library into
the mainline android support library so
what you're going to see is a number of
provements in core UI elements things
like improved circular scrolling with
wearable recycler view better support
for responsive layouts on round screens
and square screens with box inset layout
and consistent user interaction models
from classes like swipe dismiss frame
layout so you can learn more about
developing for wear devices that the
Android wear UI best practices talked
which will be at this stage on Friday at
3:30 p.m. tomorrow
we've also made some improvements for
developing TV interfaces so the Leanback
library has added playback transport can
control glue which adds a siik interface
for videos and if you're writing an
interface for Leanback this is probably
something that was painful to do
yourself so we have a prepackaged seek
with preview and we're also allowing you
to embed a video view inside of a detail
fragment so if you're writing something
for browsing media you want to be able
to play that media inline while you're
showing people the description of it or
the ratings of it that's now very simple
to do with details fragment background
controller and if you want to learn more
about developing for TVs you already
missed the what's new for Android TV
talk however you can check out their
office hours at 6:30 this evening in
section three right so we have a number
of other smaller behavior changes in new
classes that I think it's important for
everyone to know about in the twenty six
release of android support library so
first of all preference data store for
anyone who's storing their preferences
in the cloud you may have had to do
something a little tricky if you're
using the normal preference fragment and
presence manager so this allows you to
customize the way that you're put and
get calls for preferences or handles so
the implementation of this let's say we
want to store preferences in the cloud
will extend preference data store the
new class and we'll override here just
get boolean and put boolean so when we
put a boolean preference in we're going
to start some asynchronous call that
stores it in the cloud now because we
want to be able to retrieve a value
without having to wait for cloud
interaction we're going to store this
locally as well and an important thing
to keep in mind with this class is that
calls are going to happen on the main
thread so if you're doing some long
transaction you're doing something in
the cloud you're persisting something to
disk you want to do asynchronously and
have some way to handle quick calls
after that to get boolean so something
like local caching to set this up or on
our preference fragment we're just going
to grab our preference manager we're
going to set an instance of our
preference data store on that and all
subsequent get and put calls to our
preferences are going to go through our
new preference data store
we also have some changes in preference
in fragment manager that are important
to know about so transaction calls
things like execute pending transaction
commit now can be dangerous to call if
you're already in a transaction if
you're already in a state change these
can be re-entrant and have some
unexpected behavior so we want to make
it a little bit easier to do the right
thing more difficult to do the wrong
thing and these will now be strictly
enforced and throw exceptions if you're
trying to do reentrant transaction calls
and for developers interested in
learning about their UI performance
we've added frame metrics aggregators so
this allows you to attach to an activity
and get information about rendering
milestones during the rendering of the
lifecycle of a drawing frame now if you
don't know what a rendering milestone is
or you do know and you want to learn
more about assessing the performance of
your UI you can check out the Android
performance UI talk if you don't care
about performance of your UI talk but
you saw Chet talk yesterday speechless
and you just really love Chet talks
it has Chet so you can check that out
Friday 1:30 p.m. on stage 4 and last but
not least this is actually from 25.3 API
but I thought it was really important so
action bar drawer toggle is this class
used to animate the or implement the
hamburger button the navigate the button
that you use to open the navigation
drawer the three lines and you may have
noticed in some apps that when you start
to pull your drawer out over the
hamburger button it animates and this is
officially not the thing that you're
supposed to do but I see a lot of apps
that have done it I see a lot of apps
where it looks like you've probably
fixed it so that looks like this when
it's wrong we pull it in the hands of
the hamburger turns just a little bit
some lettuce is falling out so you
noticed it wasn't great right maybe you
fixed it maybe the way that you fixed it
took a couple hundred lines because it
was really difficult to do it don't
don't do that stop at and instead do
this we now have one line to disable the
drawer slide animation and get the
correct behavior so use that and also
check out some of the next talks that we
have some of the talks that we've
referenced today so we have what's new
in Android developer tools if you want
to learn more about things like the font
tool that's integrated into Android
studio Android performance UI if you
want to see Chet on stage again Android
animations spring to life for direct
interaction and Android wear UI best
practices for learning how to create you
is optimized for watches so thanks
everybody thank you we'll be around for
questions afterwards</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>