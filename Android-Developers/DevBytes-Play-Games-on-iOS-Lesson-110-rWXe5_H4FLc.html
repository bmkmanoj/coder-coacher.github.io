<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>DevBytes: Play Games on iOS Lesson 1.10 | Coder Coacher - Coaching Coders</title><meta content="DevBytes: Play Games on iOS Lesson 1.10 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>DevBytes: Play Games on iOS Lesson 1.10</b></h2><h5 class="post__date">2013-10-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rWXe5_H4FLc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in our last lesson we were learning
all about rest services and I suppose in
theory now you have enough information
to write your own rest library you could
probably figure out in your language how
to make a call over HTTP you can
remember to kind of take your access
token and append it on to any call that
you know you can use your JSON parser to
get back that data and do fun things
with it but generally speaking you
shouldn't do that just about every major
language out there has a library to deal
with interacting with rest services and
they in general have dealt with all the
difficult corner cases that you probably
haven't dealt with yet what happens if
the network goes down or what happens if
the token is no longer valid or has
expired how can we make sure we trap
that information instead of you know
crashing so you should definitely use
these libraries and typically they come
in three types the first thing the first
type of library basically abstracts out
all the networking bits you still have
to have a pretty good understanding of
the rest calls you're going to make this
is an example from the PHP client
library where we're just using the
Google HTTP request method to take care
of some of the networking details but
you'll notice I still have to supply the
full address of the endpoint that we
want I have to specify that this is a
post call and I have to supply the
values to this post call in an array
what this library does for me is it
remembers the oauth2 bearer token that I
pass to it in an initialization step
somewhere and then it just kind of deals
with making the call getting the
response and returning it back in this
bottom line here so pretty low level
still kind of close to the metal the
second type of library takes advantage
of something that Google does and maybe
other companies as well which is we
create this thing called a discovery
document which is a very very detailed
description of everything that goes on
in our rest service you know we have
various tools that analyze our rest
service produce these very detailed
discovery documents and then within each
of our languages we have corresponding
tools that read in this discovery
document and essentially convert that
into kind of
native objects and calls that can be
made within that language this sounds
kind of confusing and abstract so let's
just show you an example this is the
exact same call that I made on the
previous slide the big difference is
this PHP library has a google game
service PHP file that is generated by
one of these tools it's analyzed our
rest service is realized that I have a
score / submit call that is a post that
takes two values the leaderboard ID and
the score value and basically turns that
into a method that i can call directly
so I'm basically accessing this variable
called game service which is a google
game service object that then allows me
to submit a score to a leaderboard just
by calling a couple of public methods on
it I don't have to know that this is a
post call although I can probably guess
and thanks to the magic of code hinting
my ID can probably tell me what values I
should be supplying here I don't need to
look it up and the rest you know call or
the reference documentation and look up
what the actual key is for each of these
values or anything like that it's nicely
integrated and then the third type of
library is the hey let's completely
abstract this stuff out for you and this
is what the play games library for iOS
does so here I'm creating a score object
by calling the gpg score class method
score with leaderboard ID I'm assigning
it a value and then I'm sort of telling
the score value hey go submit yourself
and here's a completion handler that you
can call when you're all done submitting
yourself and in this completion handler
I'll have some information about the
score i submitted as well as any errors
that need to be surfaced and so you'll
notice here unlike the PHP library I'm
not even kicking off a network call I'm
sort of passing it on to the library to
say hey start this up at an appropriate
moment and so what the library does is
first it takes these tasks they want to
perform and converts it into the
appropriate rest calls it also deals
with all the networking auth junk for me
at some point I had to initialize this
with my GPP sign-in object and you'll
see that coming up but then that point
the library kind of takes care of
managing my access token for me I don't
have to actually know my users access
at any point it does some smart things
like intelligently cache data for me and
deal with situations for instance where
I'm offline in this case actually I can
still submit a score with completion
handler and if the user is offline the
library will be smart enough to hold on
to that score and wait until I come back
online again and then it will attempt to
submit the score in the background
what's even better is by the way if I
submit a better score with the same
leaderboard ID the library will be smart
enough to disregard this first score and
just use the second one once I come back
online so there's a lot of extra logic
that this library handles behind the
scenes for me when it takes all this and
converts it to rest calls which is great
except that it doesn't really do that
and I guess this is the big lie I've
been talking all about rest services it
turns out that right now the objective-c
client library uses a completely
different service called JSON RPC and
JSON RPC is another set of rules that
can be used to talk to back-end services
in some ways it's similar to rest in
some ways it's different I think one of
the biggest advantages of JSON RPC is
that it's a little simpler to make batch
calls all at once on the other hand I
think with rest it's easier to cache
data you get back from from a get column
that sort of thing and if you're
wondering hey wait a minute why did you
just spend the last ten minutes teaching
me about rest when the client library
does something different the answer is
that I would actually like you to forget
this technicality and pretend that the
play games library for iOS is also using
rest behind the scenes and there's a
couple reasons for it number one just
about every other client library already
uses REST so Android all of the server
libraries Java PHP Python Ruby and I'm
pretty sure at some unspecified point in
the future will actually be changing
things on the back end so that even the
objective c library is using rest
instead of JSON RPC and frankly this
change should be completely transparent
to you if using these libraries which
you should be for all the reasons we
just went over so for the sake of
keeping things simple let's just pretend
that the play games library for iOS also
uses rest in the back end and
somebody wants to tell you otherwise
it's you know it's like that guy who
tells you hey peanuts aren't really nuts
they're actually legumes you know what
shut up they're not nobody cares and the
objective c library it uses rest as far
as I'm concerned so now that we have a
better handle on the games library and
what it does underneath the hood let's
actually add it to our project and we're
going to do that in the next lesson</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>