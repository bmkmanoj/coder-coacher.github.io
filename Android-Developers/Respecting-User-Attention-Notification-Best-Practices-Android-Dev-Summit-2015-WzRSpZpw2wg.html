<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Respecting User Attention: Notification Best Practices (Android Dev Summit 2015) | Coder Coacher - Coaching Coders</title><meta content="Respecting User Attention: Notification Best Practices (Android Dev Summit 2015) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Respecting User Attention: Notification Best Practices (Android Dev Summit 2015)</b></h2><h5 class="post__date">2015-11-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WzRSpZpw2wg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi this is great
thank you for coming it's an honor to
just be able to speak in front of you
about such important topics I'm glad
you're all here I in the back so my name
is Christopher Wren do I have slides the
slides please they asked me to reduced
myself so being from the East Coast I'm
going to do something I'm uncomfortable
with which is to talk about myself so
I'm Christopher Wren the little letters
after my name represent about a decade I
spent at the MIT Media Lab studying the
interaction between people and computers
and then after some time I ended up at
Google and only about four years ago I
ended up getting an opportunity to join
the Android team so I work on the
Android system UI and I've done that for
about four years my first release was
jelly bean so that's pretty exciting
we're all the way up to marshmallow now
and today I'm going to be talking about
notifications which is one of the things
that the system UI team builds and
particularly I'm going to be talking
about how notifications affect people
and how you should be thinking about how
you're affecting your users so having
said all that introduction I'm a little
nervous about the graphic on the screen
because I'm worried that people will
think that like I'm on the mountaintop
and I have all the answers and and I
definitely do not so so put that out of
your head
it's definitely the case that I'm
climbing the same mountain as you the
way people use these devices the way
these devices are changing and the way
we interact with each other while we're
using the devices is all changing
rapidly right now so we're all trying to
figure it out but I'm going to tell you
what I think is currently the good stuff
to do so let's get to it so the first
thing of course I did in the last thing
I did before I got on stage here to talk
to you about notifications was turn off
my notifications so because wouldn't it
be embarrassing if I was up here talking
to you about how not to disrupt user
attention and my phone went off
I certainly hope I actually remember to
do that
that was in the script of it so being
added don't do that being at a developer
conference obviously we're developers
were thinking about the software we're
thinking about the device we're thinking
about API as and editors and that was a
great thing this morning with the
instant run how many like like instant
run do you like that yeah that's great
okay
so so we're obviously our head is in the
device but I want you to pop out of that
a little bit so this talk is about what
the devices are for people will tell you
they can't live without their phone what
they mean is they can't live without the
things that the phone connects them to
the people they love the issues they
care about the places they miss right so
this has become a portal for us to other
people in other places and so that's
important for you to remember so this is
sort of the backbone of the talk there's
like who's sort of Maslow's pyramid of
needs right so this is sort of my
pyramid of needs for notifications and
at the well the top but at the base the
first thing if you can't do anything
else when you're making a decision I
want you to ask yourself if you're gonna
annoy the user right don't do that
and then we walk up the the pyramid we
want to respect their life and their
story and how we're fitting into it we
want to empower them to do the things
they care about we want to delight them
because we want them to love our apps
and at the very top if you can if you
can reach it you want to help them
connect to the people they love and the
issues they care about and the place is
famous okay so let's go through these
one by one
don't annoy the user so why don't you
want to know these first of all starting
in jellybean we gave them a bunch we're
starting to giving them more and more
tools to push back against this sort of
flood of attention-grabbing information
and so one thing they can do in
jellybean and on is they can block your
notifications and you will not know we
don't tell you that your notifications
are blocked
we just sort of band and they just go
into the ether so this is in some ways
depending on how your app is structured
and what your app is doing you're kind
of dead at this point you have no way to
get back to the user
so you should be thinking whenever you
make a decision whatever your product
manager says we got to do this thing I
want you to have this in your head that
you could get banned if the user doesn't
know how to ban you or they just don't
feel like doing it or you haven't
created a value proposition another
thing they can do of course that every
user knows how to do is uninstall you so
this is what's just poor little
ice-cream guy there he is my app is
happy no don't do it okay so let's just
watch that one more this is a wash over
us just delicious
just watch it go there it goes it's your
app it's gone okay so don't annoy the
user and if you didn't have motivation
before hopefully you do now this is a
bass bass thing so this is so important
that of course we try to help you with
this so one of the things we do in in
lollipop and on is we have a mode called
Do Not Disturb so you don't know as the
app you don't know my story you don't
know if you're gonna be interrupting me
and something that I care about it but I
can give the system signals I can say
listen I I do not want to be bothered by
unimportant things for the next hour and
what will happen from the app
perspective is that your notification
won't interrupt the user it'll still be
posted it'll still show up in the shade
it's not like being banned it's to be
there but you have to know that this
might happen so that the notification
might get posted and might not have made
the noise you wanted it to make for
example and that's a good thing because
if you'd made the noise at the wrong
time you would have annoyed the user
right so what do you need to know is the
developers about this this is what the
system does right the user has a lot of
ways to control this they can say
because all the information channels
that users user as I said they're
evolving fast right they're changing
rapidly
so they're kind of idiomatic some people
still rely on phone calls a lot some
people use SMS is there's a lot of
variability there so the user is able to
control this by sort of a channel basis
and as the developer you need to tell us
what channel you fit in so this is going
to be my go-to
code snippet we're gonna be modifying
this all through the talk I made it nice
and big so you can read it and I'm using
so this is the Builder pattern have
you're all using the Builder pattern yes
build around you should be using the
Builder pattern because that makes sure
that we have all the information we need
to treat your notification correctly and
this is all about getting the
notification at the right place so this
is the Builder pattern very basic
obviously you get some icon text title
and you build it and you get a
notification I will try to use
notification compat everywhere in the
sample sometimes it doesn't fit on the
screen but if you're using the Builder
you should be using the compat builder
because this will at least compile and
run all the way back to four I don't
know if anybody targeting four anymore
but so for all intensive purposes all
androids right so it will fall for
features that don't exist it will fall
back gracefully and then you don't have
to worry about it so that's nice as we
do that for you so here's the the media
thing so for category very simple you
just there's a builder method that you
set the category and you just have to
pick the right one that's the hard part
so here's some categories so these are
the ones that relate to that screen I've
showed you before the ones that the user
right now has direct control over so
alarms reminders events messages calls
there you'll notice that they're pretty
tightly defined so alarms are like alarm
clocks the thing that wakes you up in
the morning so you have to think again
about what is the user going to expect
when they say they want to be
interrupted by alarms and make sure that
you're not gonna surprise them when you
tell us that it's an alarm okay and one
of the most subtle ones I think is this
category message which sounds pretty
generic like a message okay but this
particularly means synchronous messages
so SMS is instant messages things like
that on the next page there is email
which is asynchronous messages so email
we wouldn't necessarily consider that a
synchronous message in social updates
for example that are undirected like not
a lot of mention of me but like just I
posted a thing that's usually not sort
of a notification event and then this
last one they put up here there are a
whole bunch of other reckon
in the API Doc's categories in the API
Docs the recommendation when I put up
here particular because if you're doing
development for TV then you're already
using this to get recommendations into
the into the recommendation bar and
there's no reason you shouldn't do that
on the phone as well if you're if you're
gonna post something that's
recommendation ish put the category on
it okay so you may have noticed the
sharp I may have noticed that there were
little icons those aren't just my
reminders although they do help me what
I'll try to do in the rest of the talk
is I'll highlight everything with the
version on which it will work so
remember if you use the compact library
it'll come run but it'll actually exist
on these devices so a lot of things
we'll be talking about are lollipop and
right now this is relatively fresh data
it's about a quarter the devices out
there that we're seeing and then many of
the other things we're talking about
will be jellybean on which is at this
point a huge fraction and then if it's
relevant to all devices mostly those are
sort of policy things like when should
you post things on market with the Droid
so keep your eye out for those little
icons if you're wondering like am i
targeting the thing that will this is
useful for me that's how you know okay
it's on to the next jacket respecting
the user so let's see so there's one of
the main features you can set in the
Builder is something called priority and
that sounds pretty good people usually
think a priority is where I am the list
and often I imagine that people want to
be two toward the top of the list but
priority is about a lot more than just
where you are in the list so you'll
notice at the bottom here there's this
thing priority min which actually gets
sort of a different visual treatment so
in this case it's a little bit grey
that's sort of de-emphasized
these have implications about how the
user is going to end up being
interrupted and this we should run
through a couple of those and try to
understand them so again trying not to
disturb the user annoy the user one
thing you should do is use things like
priority lower or priority min and this
is how you set them except
there's a Nina or a constant and the
reason you should not always want to get
users face is because you may have
information that you sold to them at
some point in the future you don't know
when to post it to them and there's been
some studies you can look in the
academic research I think there was one
I can't remember a reference right now
anyway if you look for them you'll find
the studies the show that people are
more receptive to notifications that
they get at the right time
so this is a way for you to sort of do
that on the cheap right you posted in
the low priority bin so that they aren't
grabbing attention but these will see
them when it's time so here's an example
of my lock screen for example there's a
chat message from Mike and it looks like
I have one notification it turns out
that I actually have two notifications I
have this file upload notification and
that was something that the app decided
wasn't enough to like bother me though
right so this is another way that we the
presentation is keyed to priority so if
you post a min priority notification
what you're saying is don't bother the
user if they go looking in the shade you
can present it to them because then
they're probably bored you might be
picking up something but we don't put it
on the lock screen because it's not
important enough to like bother you
while you want on your way somewhere
else but the the mists instant message
yeah I might I don't want to know about
that I don't know I missed it
so another place that minimum priority
notifications don't show up is the top
here so you'll notice the status bar has
one chat icon there is no file upload
icon right so it's another way that
while the users on their way somewhere
else you don't necessarily want to
bother them with this update that maybe
not maybe not critical another way to
get the user the information they need
is to use this thing called set alert
once set only alert once nothing days
use that yeah so okay so you should be
using it so this is a situation where
again it's not an it's not an instant
message notification OTT one that I'm
gonna like I hear the beep and I pull my
phone out and look at it right away
it might be something like what's the
weather or what's latest stock boat or
you know how far away something those
are the kind of things where you're not
gonna alert the user you don't have any
finally information to give them but you
have information they might be able to
take advantage of if they happen to see
it and this is a way if for example you
did want to alert them that you were
posting it but you do want to keep
bothering them while you're updating it
you can update it in the background so
set only alert once says don't make
noise again if you've already made noise
don't do it again and then the system
tracks that because that's something
that would be difficult for you to track
this is another way we're helping you
okay so what am i thing okay so this is
this instant message we keep seeing a
lot of the notifications you're gonna
see on my screen shots are from an
example app and I have a link to the
code at the end and my clarin is my
director so I have in the past scared
myself
so I'll be working on something and I'll
forget and I'll run the test app and
look at it and I'll go home and I'll
come back the next day and they'll be
like oh my gosh I'm like I missed a
thing from Mike or I missed a call from
whoever or whatever okay so there's this
notion of stale notifications when we go
talk to people we see you know they'll
pull down their shade and let me like
ten notifications from this app the most
recent which was useful but the other
ones are totally not so you should this
is very easy you should just cancel them
out right if you think that you've
posted information that the user isn't
going to care about an hour from now
don't show it to them right get out of
their face their attention is worth more
than than your extra effort for coding
right so you can do them that favor and
they will appreciate it so that's one
thing you do so this is the this is the
alarm service it's again existed back
from the beginning of Android and so in
this case I would craft this little
pending attempt which in this in this
instance to the code sort of indicates
that it may cancel all my notifications
so I call no man cancel all if you want
to track individual notifications you
would just make a pending intent with
the ID for example okay so I've been
talking about how to get out of the
user's way sometimes you do need to get
in the users where you need to alert
them so we should talk about that a
little bit okay so this is another
situation where the system UI is helping
you so it used to be the case that if
you were reading a book on Android and
got a phone call he kind of got smacked
in the face with who would the resulting
activity right make me blah right so
you're reading away and you're focused
and all sudden this phone call comes in
and the person who called you didn't
know that they were gonna interrupt
something
or maybe you were playing a game even
right like he could have been playing a
game about to get a high score and then
ba right so that's not good
so one thing we did in lollipop is we
introduced this idea of a peek so
there's a peeking notification so the
nice thing about this is that the user
doesn't get pulled out of their task so
attention sometimes is about focus
sometimes about tasks and because you
don't know what task they're in this is
something the system will help you do so
in this case in this example the phone
call comes in the user gets a chance to
maybe finish the sentence they were
reading and then answer it or ignore it
or whatever they want to do and what we
realized was that it was still an
interruption if you're reading to hear
the noise even if it wasn't a phone call
let's say was just an instant message so
you're reading or planning game in here
put it like ah I need to go see what
that was like it might've been something
important and then you go see what it
was and turns out well anything
important so what we what we did is we
allowed high priority notifications to
bubble up into this space so you can
elect to use this space by setting your
priority high so this is another way in
which priority changes the way you're
presented and making sound so we could
have in fact one of the early designs
was to have a specific API where you say
I want this to be in the heads-up and
instead what we did is we took this sort
of implicit API because we wanted you a
developer to make the conscious decision
that you're going to annoy the user so
if you're gonna make noise right you
have to at least make noise you can't
like the show up in the heads-up without
making noise you have to make that
commitment that you're gonna annoy the
user so you have to have that calculus
in your head and say well this is going
this possibly could have no the user so
I want to make sure that it's gonna be
appropriate I wanna make sure that
they're happy about it okay so and again
like if you annoy the user like don't
use the peak unless you really think
it's worth it because you will get
uninstalled so there's the poor poorer
ice-cream guy okay so empowering user so
we're moving up the pyramid here so
we're gonna feel a little better about
ourselves right so one of the things
that you need to do is to make sure
notifications are supposed to be
actionable I'm supposed to be able to
take some action on them right if it
wasn't actionable then I can go get it I
can browse it later right but if I need
to know and take action on it then it
makes sense as a notification and like
my kid already understands this ice you
know the tablet was out there were
notifications I was like hey how do you
feel about notifications it's kind of a
weird I'm like maybe and the response
was I'm in the Moroi I was like oh why
oh well I can't do anything with them
right so you're not fooling anybody even
the kids understand and that and
particularly in that case there was a
notification about a game it was one of
these sort of farming games and they're
like the squash was right for something
and there was a notification about that
and that was actually appreciated
because now it's time to go back and do
something the other notification was Oh
wouldn't what you like to buy that
powerup
well of course I would click on the
notification turns out you can't do that
yet because you don't have enough beans
or whatever it is right so that's not
actionable that's a that's very clearly
an ad to pull you back into the app this
one is is at least I mean it's certainly
pulling it back to the app but at least
it's doing the user a favor and even
children understand the difference
between a suit so definitely think about
like and then we had to talk so that was
when we had the talk and we talked about
how to install install apps and stuff so
so how can you empower the users so it
turns out that people are different one
thing you can do that we have allowed
you in lollipop is to get to this long
press space if you have a notification
in the settings activity right a certain
activity where the user goes just tell
you how they want the notification to be
presented dude should they make noise do
I even want those kinds of activities
and you should have one of those if you
don't you should and if you do then you
can tell us and the system will surface
that in various places where the user
might be looking for it cuz they may not
know how to get to it in your
right there maybe in some many or
whatever and they don't even think about
it
but for example in this case we surface
it right in the long press so they can
say I don't like that notification and
there's a gear and that gear will appear
if you do this so this is your manifest
you have your settings activity which
you already have you should and you just
add this category so notification
preference category and we'll go look
close up and wherever they make sense to
surface will show them to the user and
that'll take them directly deep into
your app and then they can do all the
stuff so another thing actually a friend
of mine found out I was giving this talk
and he asked me to tell you one thing
which is that if you have a settings
activity for your notifications which
you should and the user expresses some
desire about how notifications should be
handled please save that like don't drop
it on the next upgrade don't you know
move it between devices you should
definitely send it to your server or
something and I think that the key idea
there is that any time the user tells
you or gives you some formation about
how they like or dislike your app that's
goals right you're never gonna get that
again and I'm gonna tell you again right
so any chance you get where they give
you their preferences you should
definitely treat those something to save
and cherish and back it up and restore
it and make sure it's still there okay
so if you don't have a settings activity
for your notifications and you should
this is how it looks so it turns out
it's really easy I told you I was
climbing the same mountain as you
actually had never written the
preference pill so I learned this with
the talk but you write some xml's
checkbox preference so this in
particular controls my example app like
a I want my example SMS to make noise or
not so this is sort of what the XML
looks like and then very simply you just
pull it out of preferences and if it's
not true you don't you don't set the
sound right so that's that's pretty easy
so we should be doing this definitely
okay the other way to empower the users
is to like I said they should be able
notification should be actionable
so obviously you should add actions to
them so actions are this way to add more
than one intent to a notification so
normally you would click on the
notification it would take you far and
intent usually that just opens your app
and drops you in the appropriate context
to see the thing but sometimes the user
might be able to make a decision from
the shade and that for the user
perspective that's much better
right so in this case an incoming call I
can add an action button that lets me
drop the call right and now imagine that
this is in the peak it slid down I'm
reading I'm playing a game or something
I don't want to talk to that person
ignore I didn't even have to leave the
game right so if I had to click on the
notification go into the phone app and
now I'm in a different context and I've
lost like my sort of mental space back
there like to go back to it so this is
something you definitely do the users do
for the users to give them more choices
and give them more actionable
notifications and this is how you add
them this is actually I think the
deprecated call but it fits on the slide
so if you try to do this it'll tell you
to do something else slightly different
but the basics are the same you give us
a small icon you this a very tiny string
and the the pending intent that you want
to fire and often that pending intent
will go to a service right it won't
actually start an activity it'll start
us it'll go to a service that'll say
drop the call for example and the thing
you should think about is that that the
more actions you add the smaller the
buttons get so if your what might look
good in your language if you
internationalize it might not fit so
these are this is a very limited space
so you have to sort of craft those
messages and think about exactly what
the actions are another way to make
notifications actionable is to give the
user the information they need so
instead of you'll never guess what
Rahman posted show the picture right
that's the main body of this message so
the user should be able to see it and
take action on right there and I think
this is about building trust right like
the user if you don't always pull the
user into your app to perform every
action then these are going to trust
that when you do pull them into the app
it's for a good reason and they're gonna
have a better experience and this is
also there's a style builder that that
started in jellybean so you would build
your again using the Builder pattern you
would build your notification and that
would render is a small regular
notification and then if you wanted to
have an expandable version then you
attach a style so in this case there's a
picture style that all it it just wraps
the bitmap and then there's a text
example the same sort of thing you can
wrap the text example and this is again
it's just sensible right like I'll be
there to click on it right okay instead
I can pull it open and yeah I'll be
there in five minutes oh great okay
that's fantastic so give it giving the
user the information they need when they
need it so they can make sort of live
their life and tell their story is a
good way to make these are happy with
you okay so this is another little story
so how many people use Google Calendar a
lot of people as possible when I was
sitting back there and I saw people that
open how many people you've been using
it long enough that you remember when it
used to stack up notifications like
you'd have your next meeting in your
current meeting and like all the
previous meetings so now if you have
this is a case where this is this month
I'm not really gonna talk about multi
device very much this is a one time
we're talking about device it is the
case that some of our users will have a
phone and maybe a tablet and so my
experience was that I would have my
phone at work and I go to all my
meetings and dismiss them and then when
I got home I got like a little memoir of
all my meetings right sitting on my
tablet like great I was there thank you
so this is something one of the
advantages working ghouls I get to like
paratroop into the calendar team and
help them out by building this global
dismissal so this is two devices I get a
calendar and figuration independently on
each one I dismiss it on the right one
and the left one auto dismisses it so
this is about remember I said every user
action is sort of precious you want to
really value those interactions and this
is a case of making the most of that
interaction I told you I was done with
it so there's no reason to show it
elsewhere and okay so this is multi
devices getting a little complicated but
if you're already creating this problem
you almost certainly have a server
that's that's causing these events to
come out and probably you're using GCM
so if you're already doing that then the
flow is pretty simple the server does
some event happens somebody creates a
calendar event it sends over a shot to
the two devices they post notifications
you catch the dismiss intent so you know
how to set the I'll show you in a second
how you set a dismiss dismiss pending
intent so that the person dismisses the
intent the application gets that
callback it sends the GCM message at
server and says hey is dismissed and the
server says oh well I should send that
out to all the rest of them so it sends
it all their devices again and the phone
says I already got it
but the tablet's like oh that's good
information I'll cancel that
notification so the user doesn't have to
worry about it okay so this is how you
do it so in your GCM again if you're
creating this problem you're probably
already using GCM in your GCM handlers
you just add a clause that says you know
you have to come up with some API for
yourself but post sounds like a good one
and the key bit information here is that
the post message from the server will
include some sort of unique ID you know
you heard about this in the previous
talk where you have this this the server
managing these unique IDs so you can
refer to things so this is the same
thing servers going to send down at
unique ideas so that all the devices
agree and then the deutsches
independently are going to create these
delete intents so this is basically a
pending intent wrapper around this
unique ID and then it's going to post
the notification okay so when when the
notifications dismissed
there'll be some intent service you have
and depending a tab will fire into that
service and you'll have a dismiss action
and you pull out that unique ID because
I'll you have it back in your hand right
you don't really have to save it
anywhere it's sort of as part of this
state okay so then you build your
message send it off again if you're
using GCM there's well there's more
stuff around this but you probably
already have it so this is just a couple
lines to add and then again back in the
receive we already have our post
receiver we're just gonna add a cancel
receiver and again we'll get the unique
ID in this very simple sample we're
using the
as the notification I do so I can just
call directly into no man to take cancer
that you can imagine a situation we do
it look up and mash keys or something
more complicated okay so the last thing
in this section is about ongoing
notifications so ongoing notifications
are these things that you cannot dismiss
right you sort of swipe em they're stuck
there and this sounds like a great idea
right like I can pin something to the
top and make it unless miss Abul and
then I've always got that spot it turns
out that this really annoys users so
there are how many do we hear like 1.4
billion users a lot of them are not like
you and they use their phones in ways
that you have you would never have
predicted and so there's a lot of
different workflows that people use in
the shade and one of them for example is
to just deal with the top thing you deal
with it get rid of it deal with it
you're out of it the nice thing is that
the next one pops up automatically and
you get the action buttons out and the
full view right so in some sense the
notifications aren't actionable until
they pop up at the top in that workflow
now you can always open them but if you
if you've taken that top spot with a ton
dismissible thing suddenly they work for
us totally broken yes they can pinch the
things open and do the stuff but you've
interrupted their workflow and nobody
likes that right so you got to think
really hard about sticking something at
the top and there's certain cases where
you have to do it if you're starting a
foreground service you have to put one
up there because we'll kill your service
if you don't things where there is an
external obligation like another person
who is waiting for me that's an ongoing
event that's not an ongoing event in
your app it's an ongoing it on the phone
it's an ongoing event in real life so
that makes sense to make that an ongoing
because the risk of dropping that losing
it like accidentally swiping it away and
not being able to get back to it before
the other person gets bored and goes
away is very high but for almost
everything else you should prefer a
model where you can instead of making it
ongoing say oh I don't care about this
now snooze and then post an alarm for
yourself and if it is that important
post it again later
ten minutes now an hour from now
whatever makes sense the other thing you
can do is if you whatever really believe
that you need to have an ongoing
notification stuck in the shade is
either make it lower priority or give
them a way to bump the priority down so
so here's some examples of ongoing
notifications that sort of do the right
thing they give the user an actionable
way to get rid of the notification so
the top one is a music playing app I
think it's Google Music and you notice
that while it's playing you can't
dismiss it but the user can once they
pause it then they can dismiss it so
this is a nice pattern right the user
they know why it's stuck there oh yeah
okay and then the bottom one is very
explicit this is connect bot anybody
send ssh client okay it very explicitly
says the way you get rid of this
disconnect at the start of the session
okay so you should do that kind of stuff
or get removed people will definitely
remove you if you know them okay so
delighting the user so delighting user
this is a tough chapter because once you
get up the pyramid it's like it really
depends on what your app does right how
are you gonna make your users happy it's
kind of like what you're doing right
that's sort of your thing but I do have
one specific thing to say about this
that I've seen by talking to people a
lot of people turn off sound on their
phone always that's one thing to know
and they just live on vibrate
other people have sound on and for those
people a lot of them really love sound
and they will love to change ringtones
right they love to have this happy that
sound and this happy that sound that way
they can know right so they when their
phone makes noise they know if it's
sometimes they even know it's that
person because there's a person who uses
that app and nobody else uses it so this
is another thing I actually learned
while I was setting up the talk so back
in our notification settings remember we
were here so we can get to your Settings
app it turns out that there's this
ringtone preference does anybody use
this it goes all the way back to one
very good so you would think so when you
look at the notification API
it just says give us a URI right and
you're like where am I gonna get a you
our first song well it turns out you get
it from here so if you just drop this
little snippet into your preferences
you'll get this nice little dialogue you
don't have to do anything else they get
to pick you say please give me
notification ringtones that's those are
the short ones so I don't pre-filter
everything for you they pick one when
it's time to make noise you just ask the
preference manager hey give me that
string I asked for and it comes out as a
string URI and you parse it and pass it
and I'm like you don't even have to know
about songs you don't have to know about
mp3s or whatever just just that's it so
this is this is surprising to me that it
was so simple because something people
love so much and often you don't see it
in apps so if you want to delight your
users in addition to everything else
you're doing right this is another thing
you can add on so the last thing I
wanted to talk about is this very tippy
top so I'm particularly interested in
people I think people are particularly
important to us and so in the system we
built a way for you to help connect
people right so so one thing that that
happens now one thing that's changed in
our society is that this device is the
way that people get in touch with me
right and but it's also the way that
everybody gets in touch with me so
that's the problem
it's the way the games get in touch with
me it's the way that politicians get in
touch with me it's the way my mom gets
in touch with me and one of those I care
about right and it's my mom
so so I can't turn this phone off I
cannot turn it off like people say I'll
just turn my phone off when I can sleep
I can't do that huh I can't do that
because what if my mom called me in the
middle of the night like it would be
important right I would want to get that
call so I can't turn it off I can't turn
the volume off what do I do what I do is
I use prayer I go back to part do not
disturb mode and I don't know if you saw
it last time so this is this is my phone
every night from 10:00 to 7:00 in the
morning I'm in priority only mode and
the way I have it set up is you can I
don't know if you noticed this before I
didn't mention but in some of these
categories you can actually select what
kind of people you want to hear from
anyone do I want all calls or I only
want calls from people I know
calls from people I've starred so stars
are things that this system is teaching
has taught people to do because that's
how you get people into your quick dial
list right
some people usually somehow figure that
out they're like how do I get that in
the quick tell list and somebody teaches
them how to star so I use stars and what
this allows us to do is that now my
phone will not make noise unless it's
from somebody I care about so that means
I have the peace of mind that I'm not
gonna miss something but I also get
interrupted when it's important to me so
my attention is properly focused so you
have to help us so there's three parties
involved in this grand scheme there's
the user right the person who knows
which people are important to them and
they only know that there's you the app
developers right who know what this
event is about and then there's us the
system which knows what state the users
in like are we and do not disturb or not
right and so you need to help us by
giving us information again so you need
to annotate your notifications with the
appropriate metadata that tells us about
the people there's a we we tried to make
this easy possible so we gave you a lots
of different ways we accept many
different kinds of you our eyes so in
the most simplest level if you use
telephone numbers as an identifier which
people do just give us that that's it so
if the person is important to me it is
almost certainly the case with their
phone number ended up in my contacts
somehow but you may not have put it
there but somebody did maybe I did so if
you have if that's all you have don't
ask for contacts permission just give us
that and we'll check it and it doesn't
hurt to add it if they have that
person's not in contact so you won't do
anything right doesn't matter
and then also same thing if you have an
email address you can do that so if you
send us mail to URI will see that we'll
say oh I wonder if that email address is
what we know about we'll look it up okay
and the last one is more complicated so
if you're already dealing with the
contacts database for some reason let
your social app and you're doing
contacts thinking or whatever you
already have tons of code for the
contacts manager right so there's no
this is a highly abbreviated sample
because otherwise it would be like five
slides but the key bits here are
when you go to do a look-up on a contact
you have to ask for this thing called
the lookup key and that's something you
normally wouldn't have pulled out and
once you have it then you have the ID
and the lookup key to this static
function called get lookup your eye and
that builds a URI for you and then you
hand us that and the reason you want to
do that is because the lookup URI is
more stable to certain kinds of
rearrangements of the contacts database
so things might be moving around in the
contacts database you want to make sure
that you give us a URI that locks you
get back to the right person in a stable
way so there's all those ways to tell us
about people ok so just to recap every
single time you write the code
notification manager notify I want you
to think is the user gonna be happy
about this or am I gonna annoy them and
if I know them too much how long does it
be before they've an or install me okay
and that's that's like the first thing
the pen really you got to be thinking
about how you know when they installed
your app on their phone they're sort of
inviting you into their pocket you're
sharing their life and you have to sort
of be respectful of that and you have to
think about well how am I gonna fit into
this story and you have to give us the
information we need to help you do that
because there are things that you can do
like the categories and the people and
then I want you to make sure that you're
empowering user like no please don't
post you'll never guess what weird I am
your friend just that you write don't do
that I tell them tell them the
information they need
give them the actions they need and
you'll build trust and you'll build
happiness and then you'll have happy
users and that's what we all want and
then on the delight and the
actualization level help us connect them
fuser help them help them connect with
the sounds they want and that's it so
the source code that all the source
samples were pulled from this thing
called notification showcase which is
the worst way to get you sample code
because it's part of the framework it's
like the thing that we used
things that I believe there is an effort
afoot to make it a real sample out of
this I'll be helping next week probably
with that so this link for now you can
go look at the code and hopefully we'll
have something a better story at some
point in the near future so thank you
tonight I talked superfast so we have
some time for questions if you have
questions I can't see it slides up Larry
hi right here my question has to do with
what happens when the user turns off
notifications for an application yes so
if they ban the notification they just
don't get delivered basically the
notification manager will drop them on
the floor right so does GCM still
deliver the notification the phone and
then the phone not show it or oh yes yes
can I get to know at the GCM level that
my push was reject so if you're using
the GCM library it's a post your
notifications for you yeah they'll still
get dropped on the floor GCM won't know
either because GCM is kind of inside
your package so it doesn't know anything
more than you do know but if it's sent
from my server with my server gets some
kind of right so my understand I maybe
we should follow up afterwards but my
understanding of it is that the GCM
thing is a library within your package
so that's actually doing the posting of
the notifications like they don't get
posted by Play services they get posted
by you and so they I think there's no
information there I don't think GCM
would be able to know I'm specifically
asking about notification that my
back-end
will send to their device using GCM oh I
see so that's yeah the user doesn't know
about those that's not a user feature so
they wouldn't block those that's a it's
a may be a releasing the term
notification so the message that comes
from GCM is a back-end thing the user
has no sort of visibility into that at
all really notification blocking is
about the UI in the shade where their
shows official thank you there's one
back here I think so to see
thank you do you have any best practices
for the watch notification says it
doesn't work any different watch watch
oh yes yes I was I had some slides on
that and I ended up taking them out
because I thought I was going to be
overtime so there's a couple things
about that
I think a lot of the same principles
apply right if you're wearing a watch
you know that like the vibration is
pretty oh no you can't ignore it it's
it's an even more grabby sort of way to
interrupt someone so you should be
thinking extra hard about whether you're
gonna annoy them but you should be
thinking about that anyway some devices
are louder than others and you don't
really know whether how annoying it's
gonna be the one extra bit is that
there's this set local only flag on the
Builder that if for whatever reason
you're generating notifications kind of
trapped in the device like it's about
the device maybe and there's no reason
to send it to the watch like like
usb-connected
for example that's a great one right and
you plug it in you don't see that on
your watch so you call set local only
true and that then it won't get bridge
to the watch that's your way to sort of
keep it from getting to the watch thank
you yep that's what in the middle
yes I can hear you about the livestream
oh so so I noticed you mentioned trying
to take advantage of setting the
priority to something like minima or low
right which wouldn't necessarily know
users right would that end up leading to
lower click-through rates but on the
other side they let me get your app
uninstalled right that's sort of the
trade-off okay so I don't think so
because well like I mentioned there was
some academic research and I'm blanking
there was a paper by Maria Oliver out of
the Spanish telecom company that was
recently at a conference about this
exact and I think I think that's the the
trade-off you're assuming is that that
I'll lower my click-through rates versus
annoyance right that those things aren't
leaked it turns out that if you present
the notifications at the right time you
actually get a higher click-through rate
so and this makes sense if you think is
sort of mental model mental experiment
if I'm driving down the road and my
phone tries to tell me to read an
article not gonna do it right but if I'm
sitting the doctor's office waiting
right and I'm bored Oh an article yeah
I'll totally read that right so you can
totally imagine how that would play out
in real life so I don't think this is I
don't think they're on been done on a
seesaw there they're unrelated so I
think it really depends on what kind of
content you're posting and exactly what
the interaction is gonna be and you
really need to think about it but it
might be the case that if you stick it
in the shade without drawing attention
to it that they'll just find it at the
right time the time that's right for
them when they pull down the shade in a
sort of triaging
so that might be your golden moment
right
okay I think we're okay on one more
won't work
lastly okay yeah hopefully this week
quick basically I'm wondering why not
tell the developers that their
notifications are being blocked by users
so basically like user turns off my
notifications I might want to know
because maybe I need that feedback that
I'm right right right yeah okay so so
that's a good that's a good question so
how do you know if you're annoying the
users before you get blocked I think the
reason we don't close that loop is we're
worried about sort of retribution or
wherever we don't want to obviously
you're having a bad time you and the
user we don't want to get in the middle
of that but I think there's signals you
can get before that happened right you
can you can post delete intents you can
post you know of course when they launch
your other intents and I think if you
are clever about watching how soon they
react to your notifications and things
like that you can get some soft
engagement numbers before the bad stuff
happens all right thank you very much
I'll be around for office hours</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>