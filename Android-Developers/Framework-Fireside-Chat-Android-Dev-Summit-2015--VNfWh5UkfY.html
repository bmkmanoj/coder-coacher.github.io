<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Framework Fireside Chat (Android Dev Summit 2015) | Coder Coacher - Coaching Coders</title><meta content="Framework Fireside Chat (Android Dev Summit 2015) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Framework Fireside Chat (Android Dev Summit 2015)</b></h2><h5 class="post__date">2015-11-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-VNfWh5UkfY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">
DAN GALLUP: Hello, everybody.
I hope everyone is excited
about the Android Fireside chat
we're about to have here.
Now some simple
logistics things first.
We only have one microphone
left that is not in our system,
because we have so many
people, so many great leaders
from Android to answer
questions for you.
So first thing's first.
I'm Dan Gallup, and I've
been a long time developer
and advocate for Android.
And developer of
our Udacity courses.
And we have amazing people
from product engineering,
and UAX here to
answer your questions.
So first we're
going to start off
by having our panel
introduce themselves.
Now two things before I do that.
One is, again, there
is one microphone.
You see it there.
If you want to ask
questions, please line
up behind the microphone.
And please do ask questions,
because this is all about you.
We've also taken some
questions from the internet,
which we will be asking
our panel as well.
And the second thing
is please don't
ask about things
in the far future
that you know our
team can't comment on.
As well as try not to actually
call out individual panelists.
They know who they are.
And they can answer questions
very, very well themselves.
So let them figure out
who's going to answer.
So without further ado,
our distinguished panel.
And we'll start
from right to left.
Stage right, yes.
Stage right.
JEFF SHARKEY: Hi,
I'm Jeff Sharkey.
I'm a software engineer
on the Framework team.
CHET HAASE: Chet Haase.
I am an engineer on
the UI Toolkit team.
YIGIT BOYAR: Yigit Boyar, also
an engineer in the UI Toolkit
team.
DIANNE HACKBORN: I'm Dianne
Hackborn, an engineer
on the Framework team.
GEORGE MOUNT: George Mount, I'm
a UI engineer on the UI Toolkit
team.
ROMAIN GUY: Romain Guy.
I used to be an engineer
on the UI Toolkit team.
CHRIS WREN: Chris Wren.
I'm an engineer on
the System UI team.
RACHEL GARB: Hi,
I'm Rachel Garb.
I'm on the UAX team.
RACHAD ALAO: Hi,
I'm Rachad Alao.
I'm an engineer
on the Media team.
ADAM POWELL: Hi,
I'm Adam Powell.
Engineer UI I Toolkit team.
CHRIS BANES: I'm Chris Banes.
And I'm an engineer in
Developer Relations.
RAPH LEVIEN: And I'm Raph
Levien, an engineer on the UI
Toolkit team.
DAN GALLUP: So we have
an amazing panel here
for you guys.
It is so exciting to be
up here with these people
that I've worked with for
the last five plus years,
in many cases.
So when I pull a question
from the internet first.
A nice one.
So this is from David.
Why did the build that
version codes convention
change from the full
tasty treat name
to just the letter
in Marshmallow?
DIANNE HACKBORN: So
the answer for that
is those names in there are the
code names for the platform.
And we don't have code names
anymore because what happens
is that early on we said we need
a code name for our platform
so we can call it something
before we're done.
And marketing gives it its
file version number numbers
that they want to
go public with.
And code names, over
time, as you've seen,
they become more of a marketing
thing than the actual version
numbers.
So by M now, basically marketing
has taken over the name.
We don't know the name before
we're done with the SDKs,
so we ended up with M.
DAN GALLUP: M. It really
helps us from leaking things.
None of us know what's going on.

Another question from the net.
Again, please line
up behind the mic.
We'll also take some there.
So they would like to know why
the permission for drawing over
other apps is considered
dangerous and cannot be
requested?
DIANNE HACKBORN: I guess
I'll take that one too.
So the run temp permissions
are designed around access
to personal information.
So you'll see pretty much all
the run temp permissions are
like, the user can
understand them,
but like can the application
get to the stuff about me?
And so we thought that was
really important for them
to be able to
answer these prompts
that they're going to see a lot.
The draw over applications is
actually a really tricky one,
because it's a source of a
lot of malware that we have.
It can be abused
for a lot of things.
It's one of those things
that's like with great power,
you can mess up the
user really well.
So we really wanted
to protect this more.
So we really felt
it was important
that for the
application to get this,
they need to go through a little
more invasive UI where we can
to explain to the
user what this is
and more discourage
applications from using it.
DAN GALLUP: OK.
Here's another one.
Why do you choose
statics for your APIs?
It makes testing so hard.
I think I put the
right inflection there.
Anyone?
RAPH LEVIEN: It would
be interesting to know
what they're talking
about in particular.
I know we use
static methods a lot
in support library as
a way to then shim down
to the appropriate
runtime version.
That's a mechanism for
us to then delegate
to the appropriate runtime bits.
Other than that, I
don't know specifically
what they're talking about.
GEORGE MOUNT: I thought it was
just because we hate our users.

I this is specifically relating
to dependency injection,
and why we can't--
DAN GALLUP: Yeah.
There's a very serious
side to this question.
I do not want to trivialize
this question because I
know that a lot of
people want-- what they
do want is to make their
code more testable,
and we want to-- really
do want to help that.
Even though I wrote it-- because
the question was kind of whiny.
The actual content
is quite serious.
ADAM POWELL: So I think
that the comment of what
more specifically the
questioner was referring to,
would be really useful here.
Just to sort of see how they're
trying to instrument this,
and what they're trying to do.
Most of these things we
deal with kind of on a case
by case basis.
It would be great to find out
a little bit more information.
DAN GALLUP: Absolutely.
Then this is one of the
challenges with taking
questions over Twitter.
DIANNE HACKBORN: If you can
get back to them, we'll wait.
DAN GALLUP: Yeah, exactly.
Yeah, please feel
free to tweet again.
All right, so let's actually
take an audience question now.
Since I see a few
people lined up.
AUDIENCE: Thank you.
Thank you for putting
this event together.
It's really great to have this
focused on pure Android event.

So my question is actually
very little related
to the previous session
about our permissions.
And I think it's important for
everyone to know the answer.
So one of the solutions to
avoid asking for permissions
was to use some of
the system intents.
For example, if you wanted
to capture a picture,
use a media capture
action instead
of like asking for permission
to access a camera.
Or if you wanted to save
a contact, et cetera.
It's been a while since I
touched the camera stuff,
but if I remember, a few
years ago basically each OEM
that shipped their own camera
application would treat
would respond to that media
capture action differently,
so like one of them would
return a thumbnail of the image
in the data part of
the intent, another one
would return a URI, which was
probably the expected behavior.
Same with I think
like even attaching
something, like
some email clients,
or some third party
email clients or apps.
Like when you try
to attach something,
expect it in one
way, versus another.
So have any of these been
maybe added to the CTS
to ensure that I get
consistent behavior when
I use the media capture
intent, for example,
or the other intents?
Or if not, then how do we
really work around that?
JEFF SHARKEY: Yeah,
that's a great question.
So for the action, the image
capture stuff, you're right.
As far as CTS, what's
in there right now,
all it does right now is
assert that somebody is
there that handles the intent.
But what we've tried doing
with some of the documents,
UI things.
So the Create Document
Get Content intents,
we've actually started
using UI Automator,
to not just to
launch the intent,
and to start interacting
with whatever UI the OEM has
presented there, to
actually try picking a file,
and to make sure
that we get back
the file we expect, and
we're able to work with it.
So we've had good success with
it there, with those intents.
And we're starting to look
at, how do we extend that
to some of the other ones?
Like the image
capture, so that we
can assert strongly that
you, as a developer,
get back whether it's a full
resolution image or a stronger
contract between you
and the camera app.
So we're looking
at improving it.
AUDIENCE: Thank you.
DAN GALLUP: Next
audience question.
AUDIENCE: I hope this
is a simple question.
So what's the recommended
way to sync data
from an app to the server, and
back from server to the app?
Because the talk this morning
was talking about a way other
than the sync adapter.
And I was looking at
the Udacity classes,
and they were saying
Sync Adapter was the way.
DAN GALLUP: Just one thing
on the Udacity classes.
We wrote the Udacity class
before Job Scheduler existed,
or GCM Network Manager existed.
So that is one thing that
we haven't updated that part
of the class since then.
But I'll let the
rest of the panel
handle that from beyond that.
YIGIT BOYAR: I don't
think we have one
sort of way of doing things.
Job Scheduler
provides a great API
for when you want to be done.
You want to like--
battery full, or there's
wireless network, that kind
of stuff is good for an app.
And there's also things like
my user just send a message
and want to send us the server,
you better send it yourself.
That's the best way,
because you really
want to send this
as soon as possible.
And if you rely
on the rest of it,
we tried to batch things, that's
why the Job Scheduler is great.
Otherwise do it yourself.
I don't know.
ADAM POWELL: I
think that if you're
looking for something that's
a little bit more turnkey,
and that gives you some higher
level constructs for working
with that, I think
you might want
to talk to some of
the Firebase folks
out in the Sandbox area and
Q&amp;amp;A area for office hours.
They might be able to point
you in a direction that
has something a little
bit more higher level
than just the raw
platform constructs.
Just because those do provide
some of the other server side
component and integration
that you might look
at for something like that.
AUDIENCE: Somebody was
mentioning something
in Google Play Services,
that helped sync.
I guess Rado was,
when we were talking?
DAN GALLUP: That's the
GCM Network Manager Code.
And the nice thing about
GCM Network Manager
is that it actually does a
lot of the power saving things
that we added to
the platform later,
but it brings it back to
earlier versions of Android.
So it's a very friendly
thing to use in that sense.
It doesn't do everything
that Job Scheduler does,
but it does the most
important things.
And a lot of people
Sync Adapter might
be a little bit overkill
for, because they don't
need the accounts part of it.
They just want something
that's going to start up,
that's going to survive
boots, and it's going
to get them reliable syncing.
And so something like
GCM Network Manager
is useful because it can do
that across many versions
of the platform, even
before we started
doing some of the battery
optimizations we did later on,
around sync adaptors.
YIGIT BOYAR: Just keeping my
drill depends on your use case.
If you're trying
to send analytics
information use the Job
Scheduler GCM Network Manager.
But if it's time
sensitive, those things
work well because they batch.
They're lazy.
It's good for the device.
But if you have time sensitive
information, do it yourself.
There's multiple
solutions out there.
AUDIENCE: Thanks very much.
DAN GALLUP: Actually, I'll
do one more audience question
here.
ADAM POWELL: Looks like a few.
AUDIENCE: So if I can just
hijack the previous statics
question.
It wasn't actually my
question, but it's something
that I've run into lately.
I think Google Play Services is
a really good example of that,
where for things like Location
Services, GCM, GCM Network
Manager, they've all seemed
to sort of standardized
on static methods
on everything, which
does make testing really hard.
Especially for things
like geo-fencing,
that type of stuff.
CHET HAASE: Can you say
that in a whiny voice?
Why are they static?
ADAM POWELL: There we go.

That didn't work.
We didn't get us an
answer any faster.
JEFF SHARKEY: But I liked
the question, though.
ADAM POWELL: Sir, thank
you for pointing out
some of the Play
Services libraries
in particular for that.
We'll definitely take
that feedback to the team.

ROMAIN GUY: That's
a great non answer.

DAN GALLUP: So Joe asks, could
you discuss the new Bottom
Navigation Bar in
the new Google+ App,
that is only mentioned
as something--
that is mentioned as
something not to do on DAC?
Rachel, do you want to
start with that one?
RACHEL GARB: So
the Google + team
is experimenting with
new UI approaches.
And they do this
from time to time.
Doesn't always result in
a material design pattern.
It hasn't resulted in a material
design pattern in this case.
So the feedback that you have
about it is going to be very
helpful to the Google+ team and
also the Material Design Team
as they decide what
to do moving forward.
DAN GALLUP: So who
here doesn't like it?
It's just a show of hands.
OK.
There's an interesting
feedback there.
So go on, Adam.
CHET HAASE: So is
iterating like this,
referred to as bottom up design?
RACHEL GARB: That's a good one.
ADAM POWELL: So in all
seriousness though,
I think that's really kind
of the way to take it.
Google's a very
large organization,
and we have a lot
of other apps teams.
And as you all know from
working with your teams,
and your designers,
and your product teams,
all of these people have
all these other ideas
that they want to put
forward and try things out.
And I think that there's a lot
of that same sort of sentiment
within Google, and within other
Google Apps teams as well.
It's part of the reason
why we don't always
integrate everything.
Every Google App team does into
something like the material
design spec, or into
a support library,
or into any of these
things immediately.
Because these teams
really do just kind of
want to try some things
and see what sticks.
And see what people like.
And this is something that
we've gotten a lot of feedback
on since that particular launch.
So thank you for providing that.
That really is part
of the process.

DAN GALLUP: Next
audience question.

AUDIENCE: To be backward
compatible vendors need APIs,
whether be in Support Library
or Google Play Services.
So one of them is open source,
one of the other is not.
So for example, Fused
Location Provider.
It's just about location, and
not about Google Services,
actually.
It requires GMS of course, but
which determines for Neve APIs
to be on which?
DAN GALLUP: So what
determines whether an API
is part of Google Play Services,
or part of the platform?
DIANNE HACKBORN:
I can address it.
So the location stuff in
being in Google Play Services
actually had nothing to do
with backwards compatibility
or giving to older devices.
It came about because as
we developed the location
services, originally, we
just had-- there was GPS.
So that was your location.
And then we did the cell.
And as it evolved, you do Wi-Fi
based location and realized
you can't really
do modern location
services on these
devices without having
a lot of interaction
with back end servers
that have a lot
of data that they
used to do this location stuff.
So we realized the
platform location APIs
were becoming these hollow
APIs that didn't actually
have any open source
implementation behind them
because the platform
couldn't do the stuff that we
were saying it would do.
So that was actually
the reason why
Location went into
Google Play Services,
because we realized
actually Location is really
a Google Service it's
not a Platform Service.

And if you want to see why
the difference between Support
Library and Google Play
Services is really about that.
Google Play Services is
Google Proprietary Services
that basically are dependent on
back end Google Services this
is for libraries all open
source code that can operate all
by itself.
AUDIENCE: Thank you.
DAN GALLUP: So what is this
about performance, and enums,
and int def?

There's definitely been
a lot of talk about it.
Anyone want to comment
on the panel on this?
ADAM POWELL: Can we get
everyone for one side on one
side of the room,
and the other side
on the other side of the room.
ROMAIN GUY: I can do it.

Let me try.
OK.
So originally, we
just wanted to let you
guys know what is
the cost of an enum,
so that you understand when
you use them what the cost is.
Just like if you use
a double with a big D,
and you put a million
of them in hash map,
what is going to be the cost?
Once you have that
information, you
can make an informed
decision about whether
or not to use them.
Enums are great.
They're super useful.
You can put methods on them.
There are many cases
where they are useful.
They exist in the platform.
If you look at the source
code of the framework,
you'll see them used
in a bunch of places.
So it's really about understand
the cost of everything
so you can decide on
a case by case basis.
So if we ever say, never
use them or always use them,
that's not what we mean.
ADAM POWELL: So
what I just heard
is, says, always use
them, or never use them.
ROMAIN GUY: It's like
one or the other.
There's no middle ground.
No, it's just like
with everything,
understand what you're doing.
Don't do it blindly because
you've been told in an article
to never use them or
to always use them.
Just understand what's going on.
RAPH LEVIEN: I think the
most important thing by far,
to do is measure.
And I think the thing may be why
enums are so controversial, is
that if you have
assumptions about Java
on a desktop or a server, those
assumptions are not necessarily
going to apply on the
platforms on the device.
But the real answer is measure.
And if the answer is it isn't
really performance critical,
make your code clean.
And if the answer is, it is
on a performance hot path,
then do something different
than you would on a desktop.
ADAM POWELL: Part of the
reason why this ends up
being such a topic
of discussion,
is just because it is
one of those things that
tends to come out in API.
And it ends up coming
out in API in places
where many, many parts of your
code are going to call into it.
And it's one of those areas
that really does contribute
to performance death by 1,000
cuts, or memory death by 1,000
cuts, in one
scenario or another.
Any one of these
things really isn't
going to hurt you all
that much on its own,
especially if it's just
kind of off the beaten path.
But if it adds up
and you do measure,
and you find out
later on that, wow,
I really do have a problem here,
then what do you do about it?
I mean, you see you sit down
and you say to yourself, OK.
Well, I'm going to go
ahead and fix this.
What does that
refactoring look like
if you find out that a
million of these things
across your codebase
is causing a problem?
So that's part of the reason
why it's one of the things
that we've harped on,
is just because it
does tend to have that
quality of high visibility
across your code base, such
that if you find that you have
to make a change later
on, it can end up
being a very expensive change.
So it's part of the reason
why we say measure up front.
And really kind
of think about it
and know the costs
from the beginning.
GEORGE MOUNT: I thought
it was defensive.
We're never going to use enums.
We always use ints.
So you guys have to do the
same thing we do, right?
ADAM POWELL: We can also,
just again, like Romain say,
never use them.

GEORGE MOUNT: Always use them?
JEFF SHARKEY: Yeah,
the public APIs, we're
being conservative, because we
don't know what types of apps
or how you're going to
be using these things.
So we're careful.
We don't let ourselves using
enums, but in our public APIs,
but that shouldn't
let you from using it.
Like, keep you from using them.
ROMAIN GUY: This is
where we use both.
So the [INAUDIBLE] drawing
API is a good example.
Some of the parameters, like
the transfer modes, the blending
modes, they'll define
the enums on the side,
but when you create an object
with one of those enums,
we turned the enum
into an int internally.
So we use both at the same time.
GEORGE MOUNT: Wow.
Don't follow that example.
CHET HAASE: Actually,
the framework usage,
or lack thereof of
enums is a good example.
One of the places that
we really wanted people
to understand where it may
bite you or your developers,
is in developing libraries.
The reason that we don't use
them in our APIs in general,
is that we would then inflict
that damage upon your app.
And we do not know
what your app is
going to try to do
with all those APIs.
So wouldn't it be better if
we streamlined our APIs so
that you didn't
suffer repercussions
that we couldn't foresee?
On the same hand, if you're
developing a library that
is then going to be used by
tons of application developers,
you should think very carefully
about using things like that.
Because again, you are
making a policy decision
on behalf of the users, the
clients of your library.
So there it becomes
a lot more important,
instead of in your application,
you want to use an enum,
knock yourself.
I really couldn't care less.
If you're writing a library,
be aware of the danger
before you do that, and measure
to make sure the real effect.
ROMAIN GUY: And if you
want a great example
of how not to use them so
recently PY from Square.
A friend of mine.
We used the library
called fragnums,
where it shows you how you can
replace fragments within enums.

It works.

DAN GALLUP: Let's go to
another audience question.
And please, if have
questions, line up.
We really do want to
answer your questions.
This is an incredibly
rare thing.
We haven't done one
of these since 2014,
so please come and line
up and ask your questions.
AUDIENCE: I don't
have a question
I'm here to plug my talk
tomorrow about Android testing.
[LAUGHTER]
We will talk about--
DAN GALLUP: Couldn't see
you from that distance.

AUDIENCE: We will to be talking
about testing in isolation.
And in fact, if you're
watching this on YouTube,
just switch to the
YouTube video right now.
ROMAIN GUY: Then we
need a net blocker.
DAN GALLUP: Exactly.
I know.
And actually there
are questions that
are going to be answered in
a whole bunch of great talks
we have for tomorrow.
So don't let that stop you from
actually asking questions now.
AUDIENCE: So yeah, the
short answer is isolation.
Isolating from the framework,
and EMS core and everything.
DAN GALLUP: Next
actual question.
CHET HAASE: Or you
could provide an answer
to someone else's question.
DAN GALLUP: Exactly.
AUDIENCE: So I asked this
of the people on stage,
but I want to broaden the
question to all of you.
So will there ever
be style guidelines
for XML resources and all
the XML we write, basically?
Because the SDK uses
different versions.
We have Camelcase
and we underscore.
I've seen tons of
different variants.
ADAM POWELL: This, I think, uses
a pretty consistent convention
for some of this stuff.
It uses the conventions based
on the type of resources
that they are.
So Dianne, if you
want to jump in and--
DIANNE HACKBORN: You want me
to explain the convention?
It's too complicated.
[INAUDIBLE]
ROMAIN GUY: I can
examine some of them.
So in attributes, underscores,
in tag names, dashes,
but if the tag name is
a view, then camel case.

AUDIENCE: That was
perfectly clear.
DIANNE HACKBORN: And that's
not even actually right.
So part of the convention came
because a lot of resources
come from just files on the
file system, so we realized,
oh well, you can't
use case for those
because you can be on caseless
file systems and stuff.
And so a lot of those get
forced into just pure lower
case with underscores,
which we don't like.
So we use different things
elsewhere, because why not?

For attributes, we use
the convention that where,
because attributes can either
be for the child or the parent,
we have the convention
where it's layout,
under score, and then a name.
Or else the other name
with camel case, so
that you can distinguish them.
Yeah, the conventions
are very complicated.
ROMAIN GUY: And the
attributes mostly
have of the names of the
setters and fields in Java.
Mostly.
ADAM POWELL: So what
I'm hearing is maybe
we should have a more
discoverable point
of documentation for this.
CHET HAASE: We'll make a
transcript of this video
and publish that.
ADAM POWELL: Hey Chet, can
you put that on your blog?

DAN GALLUP: Next
question please.

AUDIENCE: So without
getting into another enum
type of discussion,
which I don't want to--
DAN GALLUP: We can enumerate
the enum discussions.
AUDIENCE: After.
I am curious.
So what do you guys think of
Kodaline in the ecosystem,
and potentially
having second language
becoming predominant
within the community?

GEORGE MOUNT: Kodaline
is completely supported.
It completely supports Android.
So that's not really
an issue there, right?
ADAM POWELL: There's a big
difference between having
official supporters, and
go tick the box in your IDE
and get the plug-in installed
and it works, versus
having really idiomatic
API support around it.
I assume that that's
what you mean, right?
AUDIENCE: Yeah, exactly.
ADAM POWELL: Yeah, so-- Yeah,
I guess we can all kind of riff
on parts of this.
I mean, as a language
itself, several of us
have kind of looked at it and
spent a little bit of time
with it, just kind of some
Sandboxy types of environments.
And it's pretty cool.
They've made a lot of
decisions that I think really
are in keeping with certain
patterns of efficiency
that we look for for
something that would
be targeting mobile like this.
Any one else wants
jump in from there?
YIGIT BOYAR: I'm
probably the person who
likes the language most here.
But the problem is
it's not like we use it
in data binding while parsing.
And we use it to prototype
a lot internally.
But to put a framework
support behind it
is a significant step for us.
That means like what do
you know the people who
wants to use Java.
And what do we do for
the people who really
cares about the differences?
So this is a big
decision, and I don't
see the benefit of doing
it while you can just
use Kodaline.
I know so many people just
writing their apps in Kodaline.
And I think it's in a
good state right now.
I think further is
big commitment for us
that not easy to take.
AUDIENCE: Does it
sound like it's
one of those things where if
it becomes largely supported
within the community, it
would at least be something
that you would try to not
actively try to break?

CHET HAASE: That was
like a triple negative.

GEORGE MOUNT: I don't
think we're going
to actively discourage you.
AUDIENCE: There's no animosity.
ADAM POWELL: No, no, no.
I think that there was like,
for example a few versions ago,
part of the language
specification
was such that the code
generated by Kodaline
made it very difficult to do
things like write custom views.
Because you couldn't have
enough overloaded view
constructors to allow
the inflation process
to happen idiomatically.
And they've since
addressed things like that.
And those are things where I
think that they've definitely
got their eyes on
Android in a lot of ways,
just as evidenced by
changes like that and some
of the discussions that went
on around that type of change.
So I think that it'll be
kind of interesting to see
where things go.
ROMAIN GUY: But several
years ago people
were asking the same
question about Scala.
And it's going to be a bunch
of different languages.
So it's always going
to be something new.
And the thing is, the
Android [INAUDIBLE]
works, it takes Java
bytecode from Java C,
so if the language I would say
good bytecode, should work.
At least you didn't ask for C++.
So that's nice.
AUDIENCE: Thank you.
DAN GALLUP: Awesome.
Next question.
AUDIENCE: Yeah,
it's good to hear
about the new Android
Development Studio
features coming out.
But I'm curious
about what's being
done for the sort
of pure editor,
you know, Emacs,
VI kind of people.
Like, stand alone, layout views?
Is there any focus on that?
And especially guides as well.
Like about how to do things
without immersing yourself
into that experience.
ADAM POWELL: Just stop worrying
and love the bond, man.
CHET HAASE: We can
channel Stephanie
from this morning's keynote.
There is no better time
to start using Android.
AUDIENCE: I've been using
Emacs for like 20 years.
DAN GALLUP: I mean Gradle is
pretty usable from the command
line.
I've certainly done that.
If you absolutely want
to use your own editor.
But the thing is
what's great about what
we're doing in Android Studio is
all of this runtime, real time
code updates--
things that you can't
do very easily with
those kinds of tools.
So I mean we could
build integrations
for each one of them.
But I think that it
really is a great time
to go out and try what we're
doing with Android Studio.
Anyone want to comment on that?
ADAM POWELL: Joking
aside, I would definitely
pose the same question to some
of the tools folks tomorrow.
That was the other thing
I was going to say.
We have a Fireside Chat with
all the Tools team tomorrow.
So if you really want to
get this kind of support
available for other editors
and other tool chains,
definitely ask the
question to them as well.
And now they'll be
prepared for it.

DAN GALLUP: All
right, next question.
AUDIENCE: Hello again.
This might be covered in one
of tomorrows talks maybe,
but I was wondering if the
update on Jack and Jill
might be provided?
And also, what the
implications of
that would be on using a
language such as Kodaline?
Thank you.
DAN GALLUP: Anyone want
to comment on this,
or do want to punt
it to tomorrow?
It's up to all of you.
DIANNE HACKBORN: Tomorrow.
It's punted.

DAN GALLUP: I think that's a
better question for the Tools
team for tomorrow.
Again, for the
Fireside Chat there.
So thanks thought.
We'll definitely come back.
ADAM POWELL: Are we
taking some of these
down so that we can just feed
it into the initial questions?
DAN GALLUP: That's a good point.
CHET HAASE: Anybody else
have any other questions
for tomorrow's session?
DAN GALLUP: I can type.
Next audience question.
All seriousness.
Audience: Yeah, we've been doing
camera work since early 2012.
And life hasn't gotten
a lot easier for us.
I think that the camera
2 APIs are great,
but even on phones
that support those,
some the functionality is kind
of invisible, it doesn't work.

I understand that
it's very difficult
to support such a
large ecosystem,
but I'm wondering if you guys
view that as your problem
or kind of our problem?
Because it's something that
family members, friends sort of
refuse to use the apps we
build because oftentimes
the connection to
the media player,
or the connection to
the media hardware,
recording is just unpredictable.
And I'm wondering what you
guys are doing towards that?
And if you do view
it as your problem,
or if you kind of think of Nexus
as sort of your little world?
RACHAD ALAO: It's definitely
an Android problem.
And that's something
that we spend a lot
of time trying to resolve.
So our first step was
bringing a new API
that could enable you guys to
develop great applications.
So that's the
first thing we did.
And the second thing
is basically make sure
that it's adapted and
B, it's well tested.
So on the testing side, we
revamp out testing and pressure
to do add additional mandatory
tests for around image quality,
and also around the APIs
that are being used.
If you're familiar
with camera 2,
the API surface is really huge.
And I think what you're seeing
there is because the surface is
so large, it's hard to
test all the combinations
of every single instance
of other parameters
you can configure.
We're making progress, but
the coverage is far from 100%.
But for us it's a top
priority, because without that,
you cannot have a consistent set
of applications being developed
and have those applications work
across the ecosystem perfectly.
So we're on it.
It's one step at a
time, but clearly it's
a top priority to make
sure that that coverage is
as wide as possible to cover
as many use cases, as possible.

DAN GALLUP: All
right, next question.
AUDIENCE: Can you
give us a sense
on how big the end the
Android Framework team is
and how it has grown
the past few years?
RACHAD ALAO: It's all of us.
That's it.

ADAM POWELL: We
have to constrain
the size of the team to how many
people we can fit on the stage.

So really the size of the team
is mostly just constrained
by the size of the
buildings that they give us.
DAN GALLUP: It's not
constrained by that.
They figured out more
ways of smashing people
into smaller spaces.
That's all I'm saying.
ADA M POWELL: Well, yes.
I mean we did have one
of our other team members
visiting from a remote
office where there's
photographic evidence
of him setting up
a temporary desk, which
consisted of him stacking two
empty cardboard boxes,
one on top of another,
next to a white
board, on which there
was a drawing of a
little house plant.

So we got some constraints that
we're optimizing for in that.
CHET HAASE: The team is a lot
smaller than you would think.
JEFF SHARKEY: Yeah,
and I would say
you could actually derive
the answer to that by looking
at the git logs.
Probably work and figure out how
many people are making commits,
and who the core members are.
ADAM POWELL: And the rest
of us are going to meetings.
DAN GALLUP: Next question.
AUDIENCE: My question is not
only about Android, but also
about Chrome.
Very many women Googly may
merge the Android system
and the Chrome system together.
Can you share something
more about it?
And when do we really able
to build an Android app,
and also able to run
on the Chrome System
DAN GALLUP: We have
Arc Welder already.
So let's just say that.
If you really want
to run your Android
app on top of Chrome OS, we
do have a solution for that.
And as far as the other
answer, no comment.
JEFF SHARKEY: That would
be one of those asking
about the future questions.
AUDIENCE: I wanted
to ask whether there
will be ORM support
for Scaloid on Android
because we have been writing
a lot of boilerplate code
around it.
And if it was there,
it would be useful.

YIGIT BOYAR: So this
is the [INAUDIBLE]
or something I personally
told I want working well.
It's a little bit
inhibitive, because there
is a bunch of really
good solutions
that work well, like
there's ORM libraries.
I use one of them for the demo.
It's a company called DRAM.
They're doing really cool stuff.
So we are debating whether
the community's are coming up
with good solutions, and
we really bringing one more
solution to the table on this or
we do something better doesn't
seem to add a new value.
So if we think that we
can do something better,
we will provide it.
Otherwise there's a great
open source solutions
that you can choose from.
AUDIENCE: And which one do you--
YIGIT BOYAR: I cannot name any.
AUDIENCE: OK.
And I know you asked, you
told that there should not
be any future feature
questions, but will they
be a new SQL
Solutions for Android?
YIGIT BOYAR: Same as you could
use leveldb I mean there's--
DAN GALLUP: Yeah.
There's open source
projects that are there.
And I think that without
expanding the framework
tremendously, I think there are
great opportunities out there
if you don't like
what we have built in.
YIGIT BOYAR: Yeah.
It's more like we
have a limited-- like,
we have 12 people
in the Framework.

We tend to spend our
resources more efficiently.
So writing a key value
database for Android,
doesn't really make
sense while there
are great solutions there.
CHET HAASE: It's more about
providing the infrastructure
that other people can build on
for domain specific solutions.
So if what we were
providing was so limited
that nobody was providing
these other things,
or they were inherently too
expensive for people to use,
then clearly there
is something that we
can do in the infrastructure
to enable that ecosystem.
If that ecosystem
is already enabled,
what value are we adding by just
adding something else to it?
I mean, again,
leveldb is something
that's pretty brilliant.
And one thing we could
do is make it easier
to integrate that with Android
as a tool kit that's available,
but again, it's out there
and it's a really well
supported open source project.
DAN GALLUP: Next
question please.
AUDIENCE: There's some
things that I end up
doing in Android that kind
of make me feel dirty,
and like there must
be a better way.
Oh no.
There must be a better way.
I look on Stack Overflow.
DAN GALLUP: Is this
safe for this event?
AUDIENCE: Yes.

And I look on Stack Overflow,
trying to find a better
solution, and I can't really.
And the consensus
there is just--
so here's the example it
relate to the database.
It's just like creating
an application just
to get a static context that
you can pass the skill database,
if it's accessing data,
and its life cycle
is longer than an activity.

I mean, that's the consensus of
how to do it on Stack Overflow.
Like, if you just use
the application context,
and the application goes through
its lifecycle, that turns null
and your database crashes.
DIANNE HACKBORN:
That's not true.
AUDIENCE: Yeah, it does.
DAN GALLUP: I was gonna
say, wait, hold on.
DIANNE HACKBORN: The
application context is created.
It's a global to the process,
so it does not go away.
The other process goes away.
DAN GALLUP: Emac, yeah.
In fact, that's
the biggest problem
with using the
application context is
that it doesn't go away.
So you've got to be really
careful that you put in there.
AUDIENCE: OK.
Well, I'll take it up
afterward if I'm wrong.
And know I feel really dirty.
ROMAIN GUY: She does
it to us all the time.
DAN GALLUP: But most of
the time-- a lot of times
when you're using
application contacts,
there's probably
a better solution.
That would be my other thing.
If you find yourself
using it, there's
a good chance you are
doing something very--
DIANNE HACKBORN: There are
good reasons to use it.
If you want to keep things
outside of your activity.
But you just need to be
aware that you're doing it.

DAN GALLUP: Next question.
AUDIENCE: I have a
question about permissions.
So how to gracefully
handle the situation
when the user permanently
denies the permission,
which is critical for your app.
Let's say camera permission
for the camera app.

DIANNE HACKBORN: I
think at that point,
you're beyond
graceful solutions.
It's like you now have a
fundamental disagreement
with your user about whether--

AUDIENCE: Well, OK.
If the app uses the camera
permission in the app,
and it's not that obvious
that it's camera app.
Or for example, as I understand
there is no technical way
to see if the permission
was apparently denied.
Is that correct?
DIANNE HACKBORN: Oh, you
can find out if it's denied.
You can just check if
you have the permission.
DAN GALLUP: You can always go
and say, hey, this permission
is required to run the app.
I mean that's certainly within
your purview as a developer.
And make very clear
messaging around that.
AUDIENCE: You don't
get any kind of hint
that this permission was
permanently denied, right?
Because in case if the
permission is permanently
denied, you can
show the dialog, you
have to open the Settings page,
and user have to manually check
the permission box.
DIANNE HACKBORN: Right.
So I mean you can to try to
get the permission again.
And you'll be told
that it was declined.
And you can tell the user I
can't do this thing because I
don't have the permission.
But the idea behind this is that
if the user is gone, and said
stop bugging me about
this permission,
it's like you've kind of
passed the point where
you're having a good
interaction with that user.
They're getting annoyed
with your application,
and we're just
trying to mitigate
the situation at that point.
So you should be trying to
be more proactive about when
you first ask for
the permission,
making sure they understand
why you're asking for it,
and that they will agree to it.
And if they don't
want to at that point,
they'll probably just say no.
And if you keep
on bothering them,
then yes, they may at some
point say, stop asking me.
But I think at that point you're
kind of passed explanations
the user about what's going on.
RACHEL GARB: From
what you're saying,
it really does seem like
if the user doesn't accept
the permission, they're
probably not going
to use your app anyway,
because they're not
going to get any
functionality out of it.
Is that right?
AUDIENCE: Yeah.
Because everything
is around the camera.
ROMAIN GUY: They're going to
leave a one star review saying
your app doesn't work.
AUDIENCE: I was thinking
how to-- like because it
can happen by mistake.
Because as you said,
the first time you
ask for permission
without any explanations,
you just ask, because
it's safe, right?
Second time you explain,
but maybe this explanation
didn't work, and
user permanently
denies your permission.
And then you're in this state
where you don't really know,
is it permanently denied or not?
And what to do.
ADAM POWELL: So I think you
can use some parts of your UI
to really try and communicate
a little bit more with the user
before you get into that
completely crazy state.
So the option to
permanently deny
isn't available until the
second time you ask at least.
So at the point where
it's denied for something
like a camera app
for example, you
can imagine your normal camera
preview window having instead
some text that either
looks like a test pattern,
has an explanation,
something clever,
and says this is
a camera app, you
need do let us access the camera
if you want this app to work.
And try and pitch
your explanation
as sort of like a zero
state or empty state,
whenever the user is
looking at the data set
that they would normally see
if you had the permission.
And this kind of applies even
for beyond just camera apps
as well.
I was having a conversation with
developer outside just before
this, that was specifically
around calendar events
for example.
And same thing.
If an application needs
to access the calendar
events for the day to
show some sort of agenda
and it can't, then you can
show something meaningful
in that empty state
and sort of try
and explain to the user hey,
normally you would see this.
You're not seeing this right
now because this permission was
denied, click here to fix it.
And you can kind
of guide the user
through the steps of getting
back to your intended state.
Or not.
It may just be that they--
if it's not something
completely integral
to your app, then
maybe they're going to go
write a review about it.
AUDIENCE: It's just
I just understood
there is no onboarding of
this permission settings
page for the users.
So if the user apparently
denies the permission,
he or she doesn't really
know how to turn it on back,
because it's not really clear
that you have to go to the app
settings, and then you have
to open this permission page,
and you have to check--
CHET HAASE: Then
that's maybe a language
you need to provide to them
if they get into a state
where clearly they want
this functionality.
ADAM POWELL: I mean
you can move from
an intent into the Settings
page for some of this stuff too.
For the application info.
YIGIT BOYAR: And
to be realistic,
this is very, very
unlikely case.
Real cases really wants
to use your application,
but said no twice and said
permanently disable, by mistake
all of this happened.
I think it's fine they see a
pop up, it shows how to do it.
And I think it's fine.
RACHEL GARB: Focus
more on trying
to get people to say
yes the first time.
That's what you
really want to do.
CHET HAASE: And in
the specific case
of not being able to
display a picture,
you could optionally provide
a thousand words instead.

DAN GALLUP: Next question.
AUDIENCE: First, thank you.
It's about being with
a lot of analysts here.

Today we can do a lot
with the persistence API,
but why don't we have
a relational mapper?

YIGIT BOYAR: I want
to do quick poll.
We were wondering about this.
How many people think that
we should provide something
similar to N or M, or more
abstraction on top of the data.
Can I see hands?
How many people think
we should do this?
DAN GALLUP: Who
want an Android ORM?
Let's just be clear.
ADAM POWELL: I count seven.
JEFF SHARKEY: Ten.
YIGIT BOYAR: OK, how many
people say no because there's
solutions out there?
ROMAIN GUY: Yeah, I think this
is kind of what we think too.

ADAM POWELL: We're data driven.
DAN GALLUP: Next
question please.
AUDIENCE: The next question
is about the blue tooth,
so probably you don't
want to hear it.
So we have to switch from BlueZ
to Bluedroid, and it get worse.
So basically everybody who is
using the boolean on Android,
they have really huge problems.
So we have behind us
a lot of projects.
And in all of them, we have
huge problems with Bluetooth.
Do you have any kind
of improvements?
Because I mean a lot of people
just complain about a Bluetooth
on all the possibilities,
groups, and so on.
And this especially on
Bluetooth low energy.
RACHAD ALAO: We complain
about it internally as well.
We are actually-- I
mean, we hear you.
And that's something that we're
actively working on to improve.
AUDIENCE: Because we
discuss about beacons,
we discuss about smart devices,
and we work on [INAUDIBLE] with
a lot of devices, but we cannot
provide the experience that
people there expected from
us because we come back all
the time and all the devices
they have a really bad
implementation.
And I heard a
discussion that BlueZ
will come back in Android.
Do you have any idea about that?
OK, I can see your faces.
RACHAD ALAO: I can't
really comment.
Yeah, I can't really comment
on what's coming back,
but I can tell you that that's
in a real fact of development
right now.
DAN GALLUP: If you have
any ideas for CTS tests
to contribute, this is
always a great time.
JEFF SHARKEY: I think it's
a little difficult though.
Like, CTS is very easy to
write for a UI toolkit,
where you have a known input.

For a known input
and a known output.
So for example, the holo
tests that you guys have.
Put some widgets
on the screen, this
is what the pixels should look
like coming out the other side.
Because there's CTS tests
for that, that assert, right?
CHET HAASE: On
every single device,
knowing what that image
should exactly look like?
JEFF SHARKEY: OK.
So, not perfect.
CHET HAASE: It was a fair
assumption by someone
who doesn't know UI
toolkit very well.

YIGIT BOYAR: Fireside Fight.
JEFF SHARKEY: So like a
database engine, then.
There's no database up here
so we can pick on them.
Like a database engine, you have
known inputs and known outputs.
But something where in
an RF environment, where
you have multiple devices, even
in this room, there's so much
RF signal and interference,
it's like sometimes you
want that as part of a test.
Other times you need
the radio silence.
So that's really hard
to come up with tests
that operate in the real world.
AUDIENCE: OK.
Thank you.
DAN GALLUP: All right.
So I think that's
it for our session.
Does anyone want to make
a closing statement?
I certainly don't have one.
CHET HAASE: I would
say, at least most of us
are actually around the
conference both days.
So we're kind of here
to talk to people.
So find us.
DAN GALLUP: And
also, we're going
to be having another Fireside
chat tomorrow with our tools
teams.
So don't miss out on that
or all the great content
we have streaming tomorrow.
And again, yes.
Come see us.
We have office hours all day.
And it's great to have you here.
And thank you to
everyone on the panel.
[APPLAUSE]
All right, let's just file out.
[MUSIC PLAYING]
</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>