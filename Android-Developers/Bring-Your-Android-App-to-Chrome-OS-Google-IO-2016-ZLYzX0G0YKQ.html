<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Bring Your Android App to Chrome OS - Google I/O 2016 | Coder Coacher - Coaching Coders</title><meta content="Bring Your Android App to Chrome OS - Google I/O 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Bring Your Android App to Chrome OS - Google I/O 2016</b></h2><h5 class="post__date">2016-05-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZLYzX0G0YKQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone welcome to Google i/o my
name is Masetto Chavez and I'm one of
the engineers in the Chrome OS team
maybe you thought place earlier
announcement that we're bringing Android
apps to Chrome box so I'm super excited
to be here because I can finally tell
you guys what we've been working on for
the last few months so it's not a secret
anymore all right so first of all let's
talk a little bit about why we're doing
this and why it should be interesting to
you first of all
Chrome OS is a growing platform well
overall PC shipments are declining
Chrome OS continues to grow in fact last
year we had 33 percent year-over-year
growth the numbers get even better in
certain segments for instance
Chromebooks are the number one device in
K to 12 edu in the u.s. there are
millions of active users with more than
50 different devices from 13 OEMs in 44
countries we've got lots of amazing
Chromebooks coming out okay so we have a
large growing platform with a large
number of potentially new users this is
where you Android developers coming to
the picture all liner developers want
more users all Chromebook users want
more apps but they just don't want any
app they want the apps they know unloved
so we believe that bringing Android apps
to Chromebooks provides a middle ground
that helps both groups of people ok if a
developer wanted to bring their
application on Chromebooks what are
their options let's start with a non
solution you can write a Chrome OS app
this is essentially writing your
application twice this required you to
learn a new platform which might yield
an application that looks more native
but it's a lot of work it's a lot of
upkeep and you need to maintain to
potentially separate code bases so it's
not an option for most people another
option was to build an html5 application
this might yield a an application that
looks and feels native in Chrome OS but
you would need an Android HTML wrapper
which doesn't look super native it also
doesn't take a lot of advantage of the
net and replayed platform so it's still
not a great option another option was
app runtime for Chrome we in the Chrome
OS team released this two years ago in
2014 as a way to run Android
applications in Chromebooks we were
running full Android instances in a
Native Client sandbox unfortunately it
had some challenges for developers
access to some of the system resources
were restricted due to the advanced
nature of Native Client sandbox for
instance we had to do full filesystem
emulation because it was not available
to us and some apps didn't work rate
with this Native Client also had a
single process execution model which
cost some applications to not work rate
especially the Google Play Store finally
some of the features that are critical
for developers like in-app payments
required extra work on your behalf
having settled that we still believe
that getting Android applications
running as fully integrated native
Chrome OS apps was the right idea
so we made a lot of improvements and
we're building a whole new platform to
run Android apps on Chromebooks
all right so many of you might have
missed the today's earlier demo so I'm
going to give a shorter one right now
okay so first of all this is standard
chrome OS desktop but you can see we
have the Play Store now yay
and of course I don't have internet so
there's no play store but fortunately I
already installed a few apps like Gmail
that I'm so one of the things we're
doing here is that we do have multi
window support and not only that we can
also change size of the window we can
also maximize it stuff like that neat
things
we also support in integration with some
Chrome OS s native notifications for
instance
hello world and of course as I mentioned
before I don't have internet so let's
keep that oh there you go so as we see
we can have offline access in android
apps now right let's go back to the
lights ok we already saw what it looks
like so let's talk a little bit bit more
about how its implemented first of all
we're not using a native client anymore
we're using a brand new sandboxing
mechanism it uses it uses existing Linux
namespaces to isolate Android and Chrome
OS this are you're already using Chrome
OS and in some of our cloud offerings
we're using a mount process user network
and IPC namespaces the Chrome OS
security team also developing new
features for this since Android is
running directly on top of the Linux
kernel this increases the attack surface
a little bit more about than we were
comfortable with so the Chrome web
security team developed a new way to add
alternate syscall tables this is more
efficient and configurable than existing
system call filtering techniques like
second BTF which by the way the Chrome
OS team also developed having both
Android and Chrome OS do their own
compositing would make everything slower
so we have a shared compositing model
where there's only one overall
compositor this makes things a lot
faster and more responsive finally since
we know that a lot of Android developers
target NDK for armed only we're
providing just-in-time binary
translation so that they're already
existing armed applications can run on
x86 devices like the Google Chromebook
pixel with no work required on your part
so Disney approach still maintains a
high level of security in both operating
systems you get to keep all of chrome OS
s security features like verified boot
user data encryption continuous updates
in Android still has a Linux running
there are no virtual machines or
emulation going on so you get full
native performance and finally since
we're running the whole Android system
you get to run all of 100 marshmallow
within Chrome OS this includes a Google
Play Store so something that we learned
with a great app runtime for Chrome is
that integration matters the more
integrated the apps are with the rest of
the operating system the better they
look and feel so we only grant direct
hardware access to Android in very few
occasions the rest of the time the
hardware is still managed by Chrome OS
but still we added a lot of integration
points so that Android the Android
developers can still call the same API S
and those API is underneath will make
calls to Chrome OS this allows both
operating systems to share the same view
of the system instead of having split
views ok so what does the double
translate into and how does it impact
your applications because we're running
a full Android system it means that most
applications can be run in Chrome OS
without any code changes at all of
course
since this is a new platform you might
want to still make some optimizations in
Sault weeks but your app works like
Chrome OS app most of the things you
expect the Android system to do will be
now provided by Chrome OS instead of
having been instead of being constrained
to a little window every task runs in
its own window you get any notifications
together with Chrome OS s there's just
one app launcher and shelf signing
information will be shared between
operating systems so you don't have to
log in twice you're also able to share
files in the Downloads folder as well
hardware is also integrated so you still
get connectivity to Wi-Fi and Bluetooth
camera microphone audio and video still
work all of Chrome OS s input mechanisms
are still plumb through your application
so keyboard and trackpad events will be
delivered to your application and also
touch events if the Chromebook supports
it meanwhile your application still
behaves like an added application since
we're running a full Android stack the
whole marshmallow API is available to
you this includes Google Play services
so things like in-app payments will be
available in consumer Chromebooks we're
also not adding any new API so there's
nothing for you to learn this time all
system services are running and all the
interactions between the system services
and your application are exactly like
you would expect this includes things
like the application lifecycle events
finally the hardware is subtractive so
that you don't need to worry about
anything I'm going to be clear where
while apps can be run in Chrome OS we
still require Chrome OS users to opt in
to use this feature we understand that
there are some scenarios in which people
don't want to enable this just yet we're
also providing enterprise in education
users with additional policies that can
enforce if and which applications can
run on devices they manage right what is
going to be available for your
developers where we're enabling this
feature on Chrome OS 53 this should be
available in the dev channel in June
m-53 should be generated available for
you for all users in the stable channel
in September so you still have some time
to prepare we'll start by supporting
three devices the Asus 10 inch flip the
Acer Chromebook re 11 and the Chromebook
pixel 2015 we'll gradually bring support
to more devices in later milestones and
so stay tuned and that's the URL where
you can check which devices will be
getting supported
on which releases so stay tuned okay
it's great that most applications will
work out of the box without any changes
so let's let's take a look at the best
practices you can take into account so
your application works even better on
Chromebooks there's a wide variety of
Chromebook form factors all of them have
a physical keyboard and trackpad most of
the devices will be rolling out support
to have a touchscreen as well some of
them are even convertible so they can
switch between a laptop and a tablet
form factor while we're testing
applications most of them we found out
that they already work pretty well with
keyboard and mouse still not all of them
did so it's better that you developers
take into account testing with a
keyboard and mouse also since there's
essentially new hardware available to
you might as well make the best of it so
productivity applications can have
things like hot key support that will
make users even more productive some
games even lend themselves to be
controlled using a keyboard and mouse
okay now now now for the important
coding part by default to all Android
applications set the touchscreen
Hardware feature to be required now I
mentioned before that not all
Chromebooks will provide touchscreen so
it's very important that on your Android
manifest XML you set the Android
hardware dot touch screen feature to be
not required this will allow your
application to appear in the Play Store
for all Chromebooks instead of just for
the Chromebook that support touch if you
go out of this presentation with just
one thing in mind little bit this all
right best practices for multi windows
on laptops everybody yes is multiple
windows for productivity given that
there are more pixels available in the
screen now I did mention a couple of
times before that we're supporting
marshmallow API and marshmallow doesn't
have the API for multi window I also
mentioned that we are not adding any new
API ice so how does it work
in order to minimize the amount of work
needed for everybody we're only
supporting a few layouts that your
application already most likely supports
first of all we have landscape this is
the default layout this uses a nexus 9
aspect ratio and device density will
support portrait which uses runs just
like a nexus 5 we also have maximized
windows which take up take up all
available pixels on the screen
finally for convertibles we have touch
me mode
which is more or less the same as
maximized but hides the window
decorations and the chef at the bottom
so it's similar to androids image that
world we had some window controls to
toggle between all the available layouts
this allows both users and developers to
choose the right balance of information
density in the sizes and layouts the
applications were originally designed
for now some things you need to give you
were aware of similar to ends multi
window implementation we're not changing
that the application light
technical model exactly one application
will be on the young resume state and
this is the window that's currently
focused all the rest of the windows and
applications are in the on past state
also the atom memory killer is
integrated with the rest of the
operating system and it takes the Z
order of the windows into account when
calculating the final score so
applications that have been listen least
recently used will be killed first okay
so since a changing orientation also
changes the physical size of your window
or the device you need to declare the
correct Android screen orientation so it
only uses the ones that support now it's
also important that you go read this
document the handled runtime changes in
the official Android documentation there
will be some things that you don't
expect to change whenever changing
orientation for instance the screen
width and height will change in a ways
you don't necessarily expect because on
normal devices they only flip between
them and here you can have totally
different values also the density dpi
setting can change when you switch
orientation also very important
make sure you invalidate any cash
resources since once you change
orientation you're effectively changing
device you need to make sure that you
load the correct resources after the
orientation has changed now this this
two things are still important for
Android and so might as well do them in
right now
also use the correct task affinities as
essentially in the demo it's possible
for a task to launch another activity in
a new task this will render a new window
but if your intention was to have a
model window you should put that up
activity in the same task otherwise
you'll get you might get into Africa
application files that you weren't
expecting finally respect the unpassed
date while your application might be
passed it's still visible so make sure
you're not doing any rendering because
that might look awkward for the user and
it will also consume a lot of battery
using backup and restore effectively
it's also very important one of the best
features about Chromebooks is the juices
can just throw out their machines get a
new one log in and all their
applications and settings will be there
so it's not totally required to support
backup and restore but it's a very good
idea and users will love it make sure
you read the official documentation and
backup and restore
there are also some scenarios in which
Chromebook users I mean Chromebooks can
be shared amongst a large number of
users for instance in education students
don't get their own personal Chromebooks
they are shared between students so if
you're writing applications for for
gauging purposes make sure to take the
scenario into account and be mindful of
the local storage you use in general
Chromebooks support less amount of
sensors compared to mobile devices for
instance most application most Android
developers are used to having a GPS
device to get accurate location
information Chromebooks don't have a GPS
device but they can still get course
location information - the use of Wi-Fi
this might be enough to get the best
friend restaurants around you but it
might not be enough to get just grab a
Chromebook put it in your car expect to
have turn-by-turn navigation so the
recommendation is to make sure you don't
require hardware that might not be
available of course if your application
does require some piece of hybrid that's
not available
will respect your decision and not show
that application on the Play Store for
Chromebooks there are some other
software features that are not not going
to be supported in Chrome OS C to want
users to have the full chrome OS
experience applications that customize
some parts of the UI will not be
available applications that provide
custom input methods app widgets live
wallpapers or home screens won't be
supported also Chrome OS is going to be
the device manager for Android so
applications that the clear themselves
to be device admins or manage users also
going to be supported
we will be shipping initially whenever
with Android marshmallow but it's still
a good idea to focus your efforts to
focus some efforts in upgrading to n
eventually because it will bring a lot
of features that will improve desktop
productivity to users for instance you
will have the ability to fully resize
activities instead of being constrained
to one of the four layouts we support
right now you also be able to use
drag-and-drop between applications and
there's going to be a new mouse cursor
API available so in order to learn more
about em you can watch these two
presentations that aired yesterday today
here in i/o
the what's new in Android and multi
window both also you can consult the
official Android n Developer Preview for
documentation ok if we have any more
questions about this you can consult the
official documentation for Android apps
for Chromebooks you can also ask
questions in Stack Overflow or post
questions on the Android G+ community
now before I go a lot of you try to get
to today's earlier announcement but
couldn't get to it so we're going to
redo the demo that we gave earlier today
so here's Katie that will present to you
the earlier demo all right thanks a lot
Louis and can we see the demo ah please
okay all right very good so apologies is
foreing that we were a little short on
space so we thought with these extra few
minutes we could go back through our
demo flow so unfortunately it'll be a
mildly different second rendition
hopefully a little bit better but here
you've got a fixes to it looks like a
regular Chromebook it got a Chrome
browser here but you obviously now have
the Play Store on the shelf here so go
ahead and launch that so here we can
actually browse through our apps looks
like we've got just like the regular
Play Store so let's go ahead and install
something so I think we decided
bejeweled was a pretty good game search
for that and we'll go ahead and install
oh look at that coincidentally
apparently kans wife has asked me to
make a poster for cads child's birthday
party ah so being good employ let's go
ahead and reply to cans wife I love to
the great thing about the way we've
integrated Android is we get the nice
inline reply that you'd expect on your
tablets and phones so I'll go ahead and
send that off now great so uh let's go
ahead and do that I've already installed
Photoshop mix from the Play Store so
I'll go ahead and launch that now so
that's actually a picture of Cannes kid
I think feeding a pen to piglet odd
anyway I've been told that it would be
more appropriate to put ice cream there
instead so we'll go ahead and try to
find some ice cream here so luckily from
Adobe stock they've got some great
photos of ice cream it's actually very
bizarre like half Neapolitan ice cream
with some pistachio but that looks kind
of big so why don't we go ahead we can
use the touchscreen just like we'd
expect we go ahead and shrink our ice
cream go down oh that's a little bit
better than a pen I suppose one of the
problems here though is obviously now
our cone is kind of over her head so
we'll go ahead and and cut out that we
can zoom in and zoom in a little bit
more we go ahead again use the
touchscreen oh that was a truck head we
didn't want go ahead and move with that
and there we go we'll go ahead well
there we get that photoshopping live not
not my finest work probably
probably come up in my next performance
review but okay let's go ahead and say
that anyway alright we're saving that
that looks great on so I've been told
that he wants a poster so let's go ahead
and open up a word for that what's
really nice about this is I can now just
go and I've got kind of regular work
here throwing some photos for the
beyonds birthday party there there we go
that that looks pretty good so want to
now get this back to Cannes wife so
let's go ahead and we can click that we
want to share this as an attachment go
ahead open up the Gmail we here that's a
pretty good product and go ahead and
send this off to nad that looks great
let's go ahead and send that off Oh what
do you know just coincidentally someone
is attacking me on clash clans so again
with how we've integrated the android
framework chat heads just work this is a
Shaheed right here we'll go ahead we
better go check out our our village so
clash of clans its we go ahead and close
Photoshop we don't need that anymore
ah sorry go ahead get clash of clans
rolling for us oh dear you guys have
never ever seen a demo not work on stage
uh all right uh go ahead uh we actually
have a slide known bug here uh any case
so alright we'll go ahead and and
continue on from that
apologies that another great game other
than clash plans which I also like a lot
is galaxy on fire here we're able to get
the nice use of the desktop GPU
everything super smooth out our folks
super nauseating to y'all in the
audience but uh anyway a very good
performance here as well with that I can
also do in-app purchase
as well as we go direct you can go to
buy an add-on and go ahead and click buy
and now this will be available on my my
phone payment successful great as well
as my tablet as well so again this was
just a quick view of what we we also
showed this morning we are of course
very excited to be working with all of
you to bring your apps you pro book so
thank you very much
all right that's it from both of us
enjoy the rest of the show if you have
any questions ask them on the spacious
app or we'll be hanging out down the
stage thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>