<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Scoped Directory Access (Android Development Patterns S3 Ep 7) | Coder Coacher - Coaching Coders</title><meta content="Scoped Directory Access (Android Development Patterns S3 Ep 7) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Scoped Directory Access (Android Development Patterns S3 Ep 7)</b></h2><h5 class="post__date">2016-08-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XBfQC4owUJg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the storage permission is a fairly
far-reaching permission giving read or
write access to basically your device's
entire internal storage instead of
requesting the world consider using
scoped directory access to request
access to just what you need whether
it's on internal storage SD cards or usb
attached storage scope directory access
relies heavily on a new class called
storage volume there's always a primary
storage volume that corresponds with the
environment to get external storage
directory then there can be any number
of secondary storage volumes for SD
cards and USB devices for instance to
retrieve a storage volume you'll use
Storage Manager you can either get just
the primary storage volume or get a list
of all available storage volumes now
this is where scope director access
comes in you can use the storage volumes
create access intent method with
startactivityforresult
to request access to a specific folder
on that storage volume for secondary
storage volumes you can also request
access to the entire volume by passing
in null so if you want access to the
standard pictures directory for instance
you'd pass in environment directory
pictures assuming the user accepts
you'll get a callback to on activity
result with a document tree URI for the
directory you request it with read and
write access to the directory through
the documents contracts methods or the
helper documents file class now unless
this is a one-time operation strongly
consider calling take persistable URI
permission with you or I you receive
this will ensure that you won't have to
ask over and over again for the same
directory in addition many of the action
media broadcasts sent by the system have
been updated to include extra storage
volume to tell you exactly which storage
volume was just mounted or unmounted
super useful for updating your UI or
kicking off the scope directory access
flow the important part to keep in mind
with this is that your app gets to pick
what directories it needs access
- if you want the user to be able to
select any arbitrary directory you'd
instead want to use the action open
document tree intent so don't scare
users away by requesting access to their
entire device access only what you need
with scope director access but most
importantly just continue to build
better apps</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>