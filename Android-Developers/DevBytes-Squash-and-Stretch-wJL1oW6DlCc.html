<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>DevBytes: Squash and Stretch | Coder Coacher - Coaching Coders</title><meta content="DevBytes: Squash and Stretch - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>DevBytes: Squash and Stretch</b></h2><h5 class="post__date">2013-08-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wJL1oW6DlCc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi I'm Chet Haase an engineer on the
Android team at Google
I gave a talk with Amagi at Google i/o
recently called a moving experience in
which we talked about various cartoony
animation techniques that you could
apply to user interfaces one of those
techniques is called squash and stretch
and we're going to show a demo today
that shows some of that as well as
another technique that kicks in called
exaggeration so the idea with squash and
stretch is that objects in the real
world deform to some extent especially
when they hit say a wall if a body hits
a wall or hits the ground going very
fast it's not going to say in exactly
the same shape that it was before it hit
that unmoving object so maybe it's good
if you want your objects to have more of
a real-world feel or more organic and
natural feel to actually give them some
elements of this stretch ability as well
and the other element is exaggeration
which is the idea from cartoons is you
want to make it very obvious what's
going on and also at a playful aspect so
not only would things deform slightly
but maybe they would deform much more
than that just to exaggerate and enhance
the effect and really let the user know
exactly what's going on so let's see how
this works in a demo we have a very
simple demo where when I click on the
button the button is going to fall down
to the bottom of the screen with gravity
but before it bounces back up we've got
this feeling that the button is is of
this more elastic and rubbery material
and so when it hits the ground it's
actually going to hear a little bit and
squash and stretch out before finally
snapping back and then bouncing back up
to its starting position I've enabled a
menu item so we can slow this thing down
so we can see it in a little bit more
glorious detail and you'll notice that
we're actually deforming the button as
it falls as well so it's not just when
it hits the the floor at the bottom of
the screen but also as it's falling the
object is actually stretching out
according to gravity a little bit it's
very subtle it's hard to catch when it's
running at full speed but it also
indicates to the user the subtle aspect
of this button is interacting
nicholae more with its environment than
buttons typically do so let's take a
look at the code it's actually fairly
straightforward animation code using
object animators and property values
holders to animate these things in
sequence so first of all we calculate
the animation duration based on whether
we've enabled the scaling option there
so that we can see the animation run
really slowly we set the pivot point
this is not necessary but it made some
of the code a little bit simpler so that
we didn't have to sort of change the
translation and scale around a
particular point so we set the pivot
point that all the scales will happen
around to the bottom of the object and
then we use property values holder to
animate several properties on the same
target object in parallel we're going to
animate the translation Y as well as the
scale X and scale Y properties on the
way down so we're going to move the
object down and as we move it we're
going to stretch it out in wire we're
going to squish it in and X as it goes
we're going to create the down animation
with a single object animator using
these three property values holder
objects we're going to set an
interpolator to an accelerate
interpolator because we want it to look
like it's reacting to gravity and
actually going faster the further down
it falls and then we're going to set the
duration according to the duration we
calculated before once we hit the bottom
then we're going to stretch out in X and
squash down and Y like a rubbery object
might if it hits such a hard thing as a
floor so we're going to use again
property values holder is to animate
scale X and scale Y in parallel the
stretch animation is going to use those
property values holders directly we're
going to set a repeat counter repeat
mode so we want it to squash and stretch
out and then we want it to snap back to
where it was so it's the same animation
running in Reverse according to the
repeat count and repeat mode here we're
going to set an interpolator of
decelerator so as it stretches out I
wanted this feeling of the rubbery
material having this tension the further
out it goes is slower it's going to go
until it finally reaches the end and
then snaps back and as a snapped back
it's going to use the reverse of
deceleration so it's going to accelerate
which is what again this elastic a
rubbery object would do and then we're
going to animate back to the top so
again we're just animating translation Y
and scale X and scale Y basically the
reverse of what we did before including
using a decelerate er to give the effect
of pulling up against gravity and then
slowing as it reaches the top of the
curve ready to go again we're going to
use an animator set to put these things
together we're going to play them in
sequence so first we animate down then
we stretch and squash out repeat that
back to where it was and then we run the
up animation and that's it thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>