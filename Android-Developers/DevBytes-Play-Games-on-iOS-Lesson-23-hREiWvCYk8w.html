<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>DevBytes: Play Games on iOS Lesson 2.3 | Coder Coacher - Coaching Coders</title><meta content="DevBytes: Play Games on iOS Lesson 2.3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>DevBytes: Play Games on iOS Lesson 2.3</b></h2><h5 class="post__date">2014-01-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/hREiWvCYk8w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so now that we've created our
achievements let's look at how we can
start unlocking these things within the
game now I'm going to go back into my
game and maybe the best way for me to do
this is put all the achievement
unlocking logic into a second class so
I'm going to create a new objective c
class we're going to call it achieve it
manager this looks like a good place to
put it and we're all done now I'm going
to start off by declaring just one
public method here and we'll be unlock
achievement with ID and it will take an
NS string that is our achievement ID and
to implement this it's actually pretty
straightforward let's jump into our
achievement manager m-file here once
again warning us that this method is not
found and still looking for that hotkey
where you can create a stub method to
implement this someone help me out
someone tell me in the comments but in
the meantime we've got some very easy
tab completion and we're going to assume
that in this method we're going to be
passed in that achievement ID that
string that the developer console gave
us to uniquely identify our achievement
within the system so the first thing
we're going to want to do is take this
achievement ID string and get an actual
achievement object out of it and so this
achievement is represented as a GP g
achievement object and we'll call it
unlock me and we can recreate it by
using the gpg achievement helper method
achievement with ID and we'll pass in
our achievement ID and at that point
this unlock the object which is an
achievement object associated with
particular ID we can now call its method
unlock achievement with completion
handler within our completion handler we
get back two parameters the first is a
boolean saying whether this achievement
has been unlocked before and the second
is an error object so you know we can
just add in some tests for those if
error NS log oh no got an error and you
know we can see the error localized
description something like that
otherwise if newly unlocked again we
could probably unlock something that
says hooray achievement unlocked and
otherwise we can just log something that
says looks like you've earned this one
already closed brackets by the way this
checking I'm doing here for if newly
unlocked then do something otherwise
don't do anything this is purely for
logging purposes it's purely informative
there's nothing I need to do with this
information both the fact that the
achievement has been unlocked will be
recorded on the server and that little
toast that pops up that says hey
congratulations achievement unlocked
here's the icon and description that's
handled for you automatically by the
games library so there's not actually
anything I need to do here I'm just
demonstrating that you know we do get
some interesting information back to us
by the system so now let's call this and
so I'm going to go into our game model
and I guess the first thing we need to
do is let's import this gmn achievement
manager and we're going to make a
property non-atomic strong achievement
manager and I suppose we can we can
perform some lazy instantiation here so
let's do our we can say if
not two managers nil then achievement
manager equals alloc init and then we
can return she would measure there we go
some nice lazy instantiation and now
that we have our achievement manager
what we can do is in our player guest
area if it turns out that you know the
player guess correctly let's unlock the
first time or achievement so achievement
manager or self achievement manager I
guess unlike achievement with ID and
we're going to have to go back to our
developer console here and we're going
to have to copy and paste this first
timer code now this is admittedly
terrible style hard coding this string
right in the middle of all of our code
and we'll fix this up in a little bit
but for now I just want to get something
working so we can see what happens so
there we go that's all we need to do to
unlock an achievement I suppose if I
wanted I could just embed all that code
right here in the game model but I kind
of like having it as a separate class
just because I do feel like it's it's
own bit of logic it deserves its own
class maybe is a further refinement we
can make a singleton or something if you
know at some point in the future we need
to access it from a bunch of different
classes but for now we've got this in
let's see it in action and see what
happens I'm going to run this
I'm signed in once again let's view our
achievements it looks like I haven't
earned any yet let's play an easy game
and 50 lower than 75 I've gotten really
good at this game no more than 56 250 30
in the 53 we think 52 or 51 252 hey and
look at that we got our achievement
unlocked toast that appears right on
screen and then fades out after a little
bit we can go back to our main menu here
and view our achievements and there it
is unlocked and it's now moved to the
top of my list because the unlock
achievements generally pair at the top
and I've now been informed that i have
unlocked a total of one out of four
achievements so there you go that's
unlocking achievement now that we're
able to do that maybe the next step is
to increment an achievement and we can
look at incrementing the send a guess or
achievement in the next lesson so I'll
see you shortly
hahahaha
haha</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>