<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Material improvements - Google I/O 2016 | Coder Coacher - Coaching Coders</title><meta content="Material improvements - Google I/O 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Material improvements - Google I/O 2016</b></h2><h5 class="post__date">2016-05-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EjTJIDKT72M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello thank you very very much for
coming everyone my name is Nick butcher
I'm an Android designer and developer
and I'm here today to talk to you about
the material design principles about
understanding and building them we've
got a lot to cover I want to teach you a
lot of stuff today so let's get started
so material design who's heard of it
hopefully everyone and so introduced at
Google i/o a couple of years ago right
and an amazing design system for helping
you build incredible consistent usable
apps and one of the things that I
personally really really like about
material design and I think sets it
apart from other design systems out
there is this it has these principles it
has these kind of it strives to go
beyond what a lot of design systems do
out there it tries to answer the
question what is the the material that
your UI is actually built out of it
provides these guidelines which describe
the world that your UI lives in it's
kind of like how we have the laws of
physics in the real world which you know
once you understand the laws of physics
they can be applied to other situations
it's the same in the UI world if you
have this kind of level of consistency
underneath things it means that patterns
learn in one place can be applied
elsewhere while material design is very
wide-ranging it kind of gives you a lot
of patterns and components to to work
with to build your UI eyes with no
design system can be like comprehensive
it can't kind of think of every single
situation every use case that your app
is trying to solve for but by having
some underlying principles some kind of
like consistency underneath if you try
and stick to these when you solve your
particular use case and it'll feel
consistent with the other components and
patterns out there making for a better
experience for everyone but the problem
with the principles is that they're
somewhat abstract I feel sometimes it
can be hard to understand exactly how
they apply to your application so like
today to talk to you about this this is
an application I built and called plaid
and which attempts to embody these
principles so by discussing some
concrete examples of applying the
principles I hope to help you to develop
a better understanding of what they are
to understand how they can actually help
improve your application
as well as teach you how to build them
on Android so um a couple of things this
app is completely open source so you can
grab the source code on github or you
can join this India at the moment on the
Play Store which you can join up that
top link this app also I want to call
out uses a minimum SDK of 21 it's a
lollipop and Beyond app I did that
mostly to kind of unburden myself and
backwards-compatibility to see what we
could build but there are efforts going
on actually mostly driven by amazing
third-party contributions so there's a
backport branch which actually brings it
all the way back to api 17 and so yeah
let's crack on with the application so
let's go through the material principles
one time and let's see how we can
actually make the application better and
how to build those things so the first
material principle is the idea of
material tangible surfaces so this is
the idea that everything in your UI
lives within a surface and these
surfaces can have you know different
sizes and shapes and elevations and so
on now surfaces really really help you
to they tap into pop your brain which
recognizes that one thing is separate to
another we call that kind of tangible
objects that means you can see that a
button is going to be you know a tap
target or that one surface is going to
move past each each other it's also
really helpful for providing hierarchy
in your application we're really good at
knowing that kind of things which are
closer to you or larger are more
important we just notice in the real
world and you can use that in your UI to
direct attention to the most important
information here's an example so in the
application and I show some images from
the awesome and show-and-tell site
called dribble and the image is like the
primary focus of this application of
this screen so so it gives this like big
old prominent area at the top but once
you you know once you've seen the image
you might perhaps want to take some
other actions so there's comments or
descriptions and so on right
I kind of want to get it out of the way
but still have it accessible so here's
how we do it in plaid hopefully you can
see it kind of collapses with like a
some parallax to keep it centered but at
a certain point the image kind of pins I
like to think of it and lifts up to let
the content pass below it if we're to
take a 3d view of what's going on here
it's kind of like this if it collapses
to a certain point and then the surface
itself lifts up into a separate surface
and there's another surface going on
here the floating action button we're
saying that this is the most prominent
thing I think that you know liking a
shot is one of the most prominent
actions I want to call out so having
that on its own surface which moves with
certain physics and then snaps when it
reaches the bottom of that layer there
again helps it direct attention so how
would we build this well I decided to
use a stateless animator because you
could imagine doing this yourself so
listen to the scroll position of the
list and when you reach a certain you
know minimum height for the image then
just elevating it but that would put on
you the burden of having to like run an
animation workout if the user is like
quickly scrolled and quickly scroll back
that you have to cancel it and reverse
it instead using a stateless animator it
helps you to it does it automatically
for you so all I do is I basically set
this state of pinned to true or false
depending on them how far these are
scrolled and then just run an animation
over the translations ed property and it
will produce this lifting up and pinning
effect are use them surfaces again in
the same screen when looking at comments
on a shot so for each of the comments in
the list below there's certain actions
you can take so that replying liking the
comment and so on so forth rather than
you know an alternative presentation
might have been to have these comments
visible or overflow icons and so on so
forth but that would have led to a more
kind of cluttered kind of look and feel
I wanted to sing a bit cleaner so using
the idea of surfaces here I think helped
because as you tap on a surface we have
this idea that raises up and get some
elevation a little drop shadow and
underneath and the comment actions
reveal themselves so again I fill
surfaces help to make it a cleaner
presentation and building it was pretty
easy and the three steps to it which
I'll walk you through so firstly it's a
comment is an adapted way so in the the
list fees adapter we work out with it we
can hold on to the position of the
currently expanded item and based on if
it's expanded one we just set the
visibility of those little actions there
then in the onclick handler handler we
work out we store the position of the
one you were trying to expand and then
we use one of my favorite API is on
Android which is transition manager
begin delayed transition this is like
you know deceptively
simple cuz it's doing lots and lots of
work for us here so by saying the Linda
later the magician and crucially we pass
it the whole of the list view rather
than the individual view you clicked on
that will then watch for any changes
that any views underneath the list view
so that's going to handle collapsing one
item and expanding and ever items like
smoothly for us we then called notify
data set change which will then rebind
both of the items and give set the right
visibilities you notice we also set the
activated state based on whether you
know the currently selected items
expanded we then just pretty simply to
use a stateless drawable for the
background and two of my favorite
attributes which most people don't tend
to set is you can set this enter and
exit fade duration so this will
automatically handle the color change
for you so when you select an item it
fades in nicely from the background
color to a pure white to show it in the
selected state or fade out the one which
is getting deselected all again
automatically for you and similarly we
use a stateless animator again to do
some translation Zed to lift up and out
so hopefully you can see just you know
some pretty simple stuff there's no like
major custom work going on here it
cheves is quite smooth nice effect and
makes for a cleaner layout so I think
services really helped with this here
next up is this a section of the
material spec which I really really like
which is talking about navigational
transitions and it talks specifically
about navigating from a parent to a
child screen and it shows this video
here I love this idea that when you
click on an item it lifts up out of the
kind of parent screen and expands out to
fill the screen I'll come back to the
motion part of that I've doing that a
little bit later on but part of the
thing I like about this is the idea this
like permanence idea that they cut the
previous content is still there and that
the new screen is kind of lifted up I
think's sitting on top of it I use this
idea to in plaid so for example here is
a grid of images we're looking at when
you tap on one item it lifts up but
crucially what I've done here is that
when you over scroll down I start to
translate and scale the Khan
sent downwards but peak and you can see
the screen behind so again this is
reinforcing this idea that this new
screen of content is sitting on top I
feel like it gives it more of a sense of
place you understand where you've come
from it's like hard to get lost because
it's so kind of continuous and
experience so to build this out let me
get back again
and notice also that when you try and
collapse it it's a single gesture so you
in the content here I'm scrolling down
keep on scrolling from the same gesture
leads to this and backwards behavior
it's not like you have to scroll and
then scroll again or anything like that
one single experience and that's all
built on the awesomeness of nested
scrolling so you haven't checked out a
nested scrolling it's really really cool
so here's a it's a custom view I wrote
to do this which extends frame layout
and what Nessus scrolling lets you do is
listen to scroll events that the child
of that is doing so inside the frame
layout there is a ListView here which is
sending scroll events and basically and
you just override a few api's so the
first one is on start nessus Chrome so
this is basically asking are you
interested in listening to monastic
Scrolls here I'm saying anything that's
scrolling vertically I'm interested in
please send me more events so if you
return true tip from that one and every
time the user Scrolls in the list
I'll get this on nested scroll event so
you can do stuff with like working out
how much the list is scroll by itself
but the one I'm actually really really
interested in here is that last
parameter which is dy unconsumed that
basically tells me if the list has
scrolled to the end of its scroll range
but the user carried on trying to scroll
there were some unconsumed scroll events
so I want to take those and I'll then
just use set translation Y and set scale
to actually translate and scale down all
the content moving it away and then
finally when the user let's go I can
work out did they scroll past a certain
threshold if so I'm going to finish the
activity and run an animation to kind of
collapse it otherwise I'll settle it
back into its natural position
the final part the puzzle here is that
the activity was like sat on top of the
previous activity and you can see
through to it the one behind the way
that you do that is you say you set this
flag window is translucent and what that
means is that you're telling the system
don't finish the previous activity so
we'll go into on pause but it won't
actually go into ondestroy
because you're saying that the content
on top is translucent it's going to be
able to see through to you it's kind of
like if you showed a dialog on top of
your app rather than showing a new
activity it won't finish you and then
you set a semi-transparent window
background and for those of you who
don't read hex colors that's like a semi
opaque gray at a bullet so that was
surfaces again I think made it more
understandable so another example of
services in the application is this is a
dribble profile screen and so here are
used services with great prejudice to
basically show content hierarchy so here
when you scroll the content I actually
trip made the decision to leave the kind
of the profile information statically
and have the images scroll completely on
top of it completely in front of the
content so this is me like being
opinionated in saying I think the images
are the most important part of this I
want to direct attention to those and
and that's how you do it so how would
you build this you can consider that you
know a frame layout lets you overlap
content so you might put the and the
profile information in one layer then a
recycler view of images on top and
that's all well and good what about the
clicks if the recycler view is on top
how do you let clicks pass through so I
kind of cheat a little bit here so I set
a non-touch listener on to the recycler
view itself and then I work out where
the top of the first item is which have
I've set down with some padding so then
if the touch point where you're touching
in the recyclerview is above the first
item I directly call and dispatch touch
event onto the content behind this is
the description field behind and so
that's four words on the touch event so
again like kind of letting the touch
pass through the recyclerview onto the
content behind so lets you do this kind
of layering trick I'm a last example of
surfaces is I love the idea that
surfaces you know while they're inspired
by paper and things in the real world
they're not limited to them I love the
idea that we can try
form from one shape or object to another
so here for example a couple of actions
which use the floating action button
pattern and pattern and when you touch
it sometimes you have more actions to be
taken so if you're trying to like a shot
and you have logged in that kind of want
you to log in or if you're trying to
upload a new shot and a poster designer
news you have to kind of give details of
it rather than you consider you could
could imagine a different presentation
where you just show a new screen or just
show a dialogue on top of it I feel that
by transforming the surface itself it's
clearer that you're trying to act on
this thing and it requires a second step
I think their transformation aspect of
it helps you to kind of like have a
continuous experience I haven't got time
to show you how I built this particular
shared element transition that's what it
is but if you come to my talk tomorrow I
actually go through it so that's a
window into transitions so that with
surfaces second principle when I talk
through is using bold black graphic
design inspired by tall they're kind of
in a great design literature out there
so this talks about using and classical
things like color typography space and
imagery to kind of really provide a nice
clear and beautiful presentation so
earlier builds our plaid I tried to use
color like you know color primary and
like distinct blocks of color but I
found that displaying a lots of imagery
with as well ox of bold colors and
somewhat clashed so in the end I kind of
ended up backing out a lot of color in
fact if you look at this screen here the
only thing I'm kind of contributing is
the kind of floating action button a
little green button at the bottom the
idea here being that content was the
main thing I wanted to kind of like
reduce my color personalities to make
room for the content to shine that
doesn't mean you can't use color in
interesting ways
so I instead use like some dynamic
colouring in order to make the app still
film alive and thoughtful so here for
example is you're clicking on an item
you can see the touch response to touch
ripple you get is determined by the item
you're clicking on so the lightest of
the gray and red one gets a nice red
ripple and the one below gets like a
bluey purple report hopefully that comes
out so where you do that is from the
awesome awesome palette library so
pallet runs over an image and picks out
the palette of colors inside the image
and one thing I want to call out is it
offers this and
filters API is a palette by default it's
kind of built for working on landscape
imagery and so it will actually ignore
certain color ranges I'll never give you
pure white or pure black for example I
actually want that in this application
you know imagery that I'm dealing with
here is actually different to kind of
the landscape so you have this API to
clear the filters which will give you a
wider range of colors that it will
actually pick out from the image worth
knowing about once you have a palette I
then have this little method to create a
riffle drawable for me now palette will
give you these named swatches in
particular I really want to use like the
vibrant color so you know picking out
that red from that first image we saw is
a great way to kind of like tie the set
ripple back to the item so what I do is
I walk through the swatches one at a
time you have to go through them each
because you know you're not guaranteed
that there's going to be a named swatch
so for example if I were to give it you
know a black and white image it's not
going to be able to return me a vibrant
color from that so you go through them
one at a time in a preference order work
out what color to use and then create a
new ripple drawable and then set that as
the foreground onto the image you
touched on actually take this idea of it
further and when going into a details
view of an image so here I am like quite
zoomed in so as I click onto each image
I want to have this kind of like
immersive kind of seamless feel to the
application so what I do is I again use
color and picking I pick a color out of
the image and so it's a sighted spot
color you could have achieved something
similar by using like you know a
semi-transparent lino partially black
perhaps status bar color and having the
content run behind it
but because the you know the detail
screen is all about the image I wanted
to overlay as as little as possible to
not have anything on top of it so
instead I use this color picking but
what about a situation like this so
here's an image which is you know a cup
of like major color blocks if you were
to run palette over the entire image
like this it's likely going to pick out
the kind of purply blue in the middle
right because it's the most dominant
color but that's not what I want but I
don't want to have this you know a
purpley status bar then I block a Y then
another purple in the middle it's going
to look quite discontinuous what I
really want is to run palette over just
a subset of the image just the top part
such that that's going to be the best
color to and set it against as the
status bar so you could imagine the
situation you could like you know
a second bitmap and run palette over
that that's really quite inefficient
palettes already kind of like walking
over the bitmap a better thing you can
do is use the region API so palette here
offers that API that says only look at
this area of an image when you're
picking colors from it to consider so it
can be much more efficient and also want
to call out that in fact that palette
lets you set the maximum number of
colors that you look at that you
consider in the image basically what its
parts doing is walking through trying to
bucket the colors into a smaller and
smaller bucket sizes until it comes out
with this palette of clothes which are
in the image and you can control that so
here I found setting this and allowed me
to pick the more dominant colors quicker
and lastly you might have noticed I'm
using the awesome light status bar API
on marshmallow so that basically lets me
set dark icons and for the the Wi-Fi and
the clock and the battery and so forth
the way you do that is I basically pick
a color from the image for the status
bar and then check if it's light by
essentially converting the RGB into HSL
hue saturation and lightness and then
looking at that third component just the
lightness and seeing if it's over a
certain value then saying yep that's
light and if so setting the status bar
icons to dark so it's all about creating
this kind of like immersive feel where
the content is kind of contributing to
the UI next up material recommends using
certain grids so here I'm overlaying and
some of the key lines which we work with
on material and I think this really
really helps
like in providing a kind of a regular
rhythm to application making it easier
to kind of scan it and kind of parse it
and you look at it one section of the
material and specular ship and I found
quite interesting was that it says that
you should use an 8 DP grid for most
items but typography should sit on a 4
DP grid it does this mostly by setting
and line Heights recommending and
letting or line height that you should
work with which are all multiples of 4
DP but unfortunately Android doesn't
kind of offer a built-in way and text
you right now for doing that so how do
we do that how do we make sure our text
all sits perfectly on this 4 DP grid in
order to get this nice regular rhythm
and just for comparison sake
on the left is without the 4gp and
baseline grid and on the right is with
hopefully you can see that this is kind
of you might consider it a small thing
like maybe you're having types it on the
grid but I really think it helps and the
readability of the screen you can Park
scan down it and read it and hopefully
it just feels a lot more regular to you
so what we really want is be able to
specify that line height so here's the
style where I've set a specified line
height to match it and we call out
especially that I call it line height
hint rather than just line height
because width type and we all know we
should be working with SP units right so
that you can take into account if the
user has bumped up or down the text size
for their particular needs so I call it
line hind hint because I this lets you
specify the line height in the same
units in sp such that if the user is set
their text to be larger you want the
line heights to grow with it then I
created a custom view which extends text
view and just some magic for us first it
basically takes that line height you
specified and rounds it up to the
nearest 4 DP and essentially making sure
it's going to and the line height is
going to be a multiple of 4
I then work out the height of the the
font and then call an API which textview
does give you set line spacing which
wants to take the line spacing edition
so that's the line height I want minus
the height of the font is the addition
and that will give you the for DP
Griffith you want the custom view
actually does some extra stuff it makes
sure the padding top is the right so
that the first base line sits on the
grid and it's just the padding bottom to
make sure the entire element is a
multiple of 4 DP as well and so a bit of
work but I really think it really helps
give you this nice regular type of
typography speaking of typography I also
make use of some of the more advanced
features of Roboto so I hope you know
that fonts often come with lots of
variations in them so for example here
I'm using the small caps presentation
and this is what we they call old-style
numbering which gives you a different
numbering format I feel that using these
different typographic variations help
you to kind of express hierarchy and you
know give some visual interest to the
screen you have more range of them
presenting texts so rather than using
lots of different text sizes or colors
using different presentations like this
help you to kind of say what information
easier is so more important making it
easier to scan through it you can set
these font feature settings really
easily they use it's kind of web syntax
where SMTP for example means use small
caps or owner means use all solid
numbering as a whole bunch of things you
can fill with but I encourage you to
check out the different range of like
type of typographic options as the font
you're using and gives you and what
grids are awesome and I also think it's
interesting to break out of the grid so
here for example we have this floating
action button which kind of straddles
this title and description field there's
kind of like breaking out the grid draws
attention to it but you can come into
issues when you're doing this kind of
thing so you don't want the the fab to
be you know on top of any text you don't
want it to be obscuring any it get
important information so what are you
going to do you could for example just
add some padding to the right which
might you know prevent any overlapping
of the text but you're going to end up
with this kind of less than ideal
presentation we have these big empty
spaces what we really want is my slide
to advance
there we go and what you really want is
to be able to lay it out to the full
bounds but then kind of flow around any
overlapping areas like this which is
what we do let me go back so and so
everyone knows that the textview doesn't
have like a flowing api unfortunately
but hopefully you know that and text you
uses something else under the hood to
actually lay out its texts it which is
called a layout funnily enough and but
layout got an interesting but so static
layout particularly which is what's used
for unchanging text got interesting
addition in API 23 which is called set
indents so this API takes an array of
intz and specifying the indents to use
per line so we can use the API to work
out where which lines of text in the
title field overlap with a fab and set
an indent so on that second line send
indent on the right and such that we can
build this kind of flowing behavior so
create a custom view again which again
works out where the overlap between
these two views are and it calculates an
array of these overlap these indents
that we want to set so essentially the
second line in the right index is going
to
have an indent and then you create a
allow through the Builder object passing
those indents again letting you wrap the
text around it this is kind of cool
approach I think it's quite a useful
thing but it comes with a giant warning
so as you can see this extends view
unfortunately textview it doesn't have a
set layout method so you can't just
create your own static layout and pass
into textview so I'm having to extend
view and then in ondraw having to draw
the layout onto the canvas
so it's a pretty cool technique but that
means you're not I text you so if you
have to do things like rights left's
poor accessibility that you're kind of
on your own
there so great power great
responsibility one of those api's right
when I'm talking about layouts as well
and one of the things I wanted to do on
the grid screen is provide a bit more
visual interest well a regular grid is
kind of fine
I actually wanted to provide a bit more
visual interest and kind of you know
highlight certain items so here for
example and I the middle image is
actually spanning two columns so it's
maintaining aspect ratio but spanning
two columns again to provide visual
interest to certain items recycle if you
use grid layout manager makes it super
simple to do you basically set a grid
span and the set span sighs look up and
to return how many columns it should
span and I basically delegate that to my
adapter which knows more about each item
the problem with this approach is a grid
layout manager will happily leave gaps
so if you say you know the I want to
span two columns but it's actually in
the second column it will actually just
leave a gap and put it on to the next
root line which isn't what I want so
here's some pro tip on how to you can
avoid that I essentially work out hold
on to the positions of the items that I
want to expand across multiple columns
do some bookkeeping to basically work
out where in the row that will appear
because I want to span all the columns I
know that the item has to appear in the
leftmost in column 0 row 0 and row
position 0 in order to span otherwise
it's going to leave a gap and then
essentially swap it with the next item
it could appear in in order to not leave
any gaps
I want to say that this approach has
some drawbacks oh right now here is how
it looks on a tablet so here are using
four columns but essentially spanning
four columns maintaining aspect ratio is
an ideal it's leaving to this whole
thing so here's a sneak peak of
something I'm working on right now so
this is a custom recyclerview
layout manager which allows is allowing
me to span both columns and rows
simultaneously so that you can have this
item which is appearing you know taking
up four cells as it were and other items
are flowing around it so this will be
getting pushed open source real soon now
promise and next I'm going to talk about
what you probably guess is one of my
favorite and portions of the material
spec which is talking about meaningful
motion it's when I give it a massive
shout out there's a really really good
session last night by John slammer
talking about the recent updates the
motion design guidelines if you haven't
checked out I highly encourage you to do
so
so the most meaningful motion section
talks about using motion not just for
kind of fish showbiz but for actually
guiding focus and giving like a spatial
model for providing interaction cues and
character so let's look at what this
principle mean how they helped me in my
app so here for example is a list of
players a list of people to dribble
users and when you click on one of them
it expands out and to go to a detail
screen so you again that could have been
just let you know a new screen with a
default transition but I think that an
motion really really helped the design
here it's going a bit far so let's slow
it down and look at the things that's
happening when you click on a user first
thing I raise it up so it's the idea
that this item is lifting out of the
list and then grow so you see how the
whole card itself and grows out from its
original position while also the image
the main kind of point of focus during a
transition smoothly transitions from its
previous position into new position and
then finally the rest of the content
enters so how would we build that
the first bit rays on touch that's easy
that's the my friend a stick list an
animator we looked at earlier
here we're keying on whether the state
if it's pressed or not pressed and we
say we want to animate the translation
said based on if it's pressed or not
that's pretty simple
next up the expanding road that this is
a shared element transition using the
API twelve transitions API there's
actually two shared elements going on
here the first one the image is pretty
obvious right yusei's the images here
and it's going to here and this change
bounds transition will handle the size
and location change for you the second
shared element is actually the
background so the background of the list
item I say is the shared element and I
want it to transition to the background
of the details view and it grows out
like this so one drawback of this
approach is that by default transitions
will use what's called the shared
element overlay that means that they're
on top of everything else now if you put
the background on top of everything else
you're not going to see any of the rest
of the content so we wanted the
background to come in and the content to
come in at the same time and so you
actually have to turn off that shared
element overlay using this flag in your
in your theme and that will yet prevent
that issue next we want to call out is
you hopefully you notice it's using this
kind of arced motion approach so things
that move linearly can often seem
robotic like using arc smooth and curved
motion paths feel more natural and more
kind of organic to us and this is super
simple to do in a shared element
transition you literally just add this
and tag here inside your transition
definition the same arc motion and it
will do this arced path for you so easy
I love it and the last bit is a custom
transition which I wrote called
which I've called lift off now it's
easiest to show you what this does by
showing you it and with and without it
so here's two versions of the same video
so you touch on the item oh yeah one's
weird ones we're happy to see that I
hope you can see there that as they
start expanding one of the items is
casting a shadow using my custom
transition Jakarta shadow and one isn't
so it's not gosh guys it's bit easier to
see on the way back actually
this is because if you haven't seen
transitions all happen in the in the
destination window they're all happening
in the details view so in the details
view the background has no elevation or
anything it's the background so it by
default won't cast a shadow so by
running a custom transition which will
actually set some elevation on the
background while while it's
transitioning we can actually cast this
shadow this might seem you know maybe I
was being bit too nitpicky and you know
this is actually add anything but you
might not see it at full speed but it
just feels better it feels right
like trust me this is like the easiest
transition I've ever written in my life
you basically passed it in I could have
value elevation to use during the change
and you just animate the translation Z
property to start off from that elevated
value and settle down back to zero over
the course of the transition and
actually run this to a slightly longer
duration than the miss even sure I run
it for a slightly longer duration than
the change bounds as well so you see
actually kind of like changes into
position and then settles down so it
gives its effect this effect of lifting
up and growing and collapsing and
settling back in last piece is that the
image is moving upwards so I wanted the
content to enter upwards with it to make
it this kind of cohesive experience so
rather than like you know the image
coming in and the content just popping
in I wanted it to kind of like feel like
it was all moving in the same path so
mostly it's handled with this window
content transition so there's both a
shared element transition and the window
content transition on the same screen
and it's just using this slide and to
slide the content in from the bottom and
as we saw before that this screen is and
some static content and then a recycler
view of items and so that led to this
weird feeling where some of the content
would slide in and then the recycler
view you know there's a network request
gets the images and then they kind of
just load in which wasn't ideal so
instead I wrote a custom item animator
for the recyclerview which will then
animate the items in upwards as they
load so just extend the default item
animator that recyclerview gives you for
free and I overrode the anim add method
which we where you basically do some
setup you basically I translate it
downwards and set it to
invisible and then when you run the
pending animations you animate those
properties back to the natural place so
you fade it in and animate it upwards
and do some stuff so that was one
transition another transition I want to
talk about is and the search view so
this is what searching looks like in
plaid and again there's quite a lot
going on here so let's slow it down and
step through it a little bit firstly
when you come into the screen I expand
out this scrim and then also do like an
animation on the icon itself to change
it from the search icon to the back and
then fade in the search field and then
once you've done a query we load in the
results so the goal here was to is
really about directing attention so when
you touch on the search thing and I want
it to feel like this transient kind of
experience so that it's just coming in
transiently over the top of the content
which is why I do that
scrim coming in slowly and gently and
but the next thing I want you to do is
to enter a search query in the search
field which is over on the left so
that's why I feel the animation over
from one side directs your attention to
what you have to do next
similarly once you've entered your query
and you can see that the container
expands downwards to make room for the
search results to come in
again that's priming you for the
attention for you to say okay I've done
that now I'm looking down here to where
the content is going to be it's all
about directing your attention like the
previous screen and this is doing
obviously doing network phrase going out
hitting an API with search query and
getting content back and loading the
images I feel like this animation also
kind of helps hide some of that work
going on it's kind of like distracting
but the animation is stretching
downwards is kind of like buying time
while I'm doing this networking and
coming back to make it feel more
responsive than it like perhaps
technically is now I'm not going to go
through every single step of this
animation because it's using a lot of
the principles we've talked about before
using animators and so on one thing I
did want to focus on is on the icon
animation I feel like and doing the icon
animation as well as directing attention
also kind of and is a playful element it
kind of like and embody some kind of
character to the application I feel and
also have to call out some credit to my
founds it was inspired to build a son
Tsang also on dribble so it feels quite
apps a dribble Klein referencing dribble
anyway and how would we build an
animation like this so this is a
animated vector drawable so hopefully if
anyone here is wet with vectors you can
know that you can basically draw lines
and fill paths and so on and so forth
but not many people think no about their
trim properties you can set on a line so
here's a line which is stroked which
goes from left to right and you can set
these trim properties which basically
say how much of what portion of the line
you draw so they set a trim end of not
point seven-five it means from 75% of
the way to the ends won't be drawn like
instantly if you set from trim start of
naught point five then the first half
won't get drawn peddling so knowing how
that works we can see this is actually
just four lines so there's one line
which joins up those kind of that stem
as I call it and there's two lines the
Arrowhead and one line for the circle or
at the top and all we do is we animate
the trim star end values in order to get
it to kind of trace out this animation
so the arrowhead in the circles going to
go completely clipping it to make it
hide whereas the stem thing has is
always part of it's always on-screen so
we never actually trimmed the whole
thing as it worth it just animates
between the two states notice also that
the stretching out of the line so as
it's kind of stretches out this is
really really easily achieved just by
setting different durations for
animating the start and end so here's
how you build it so this is one vector
drawable like I say there's four lines
so each of these path objects is aligned
so it has a name so you can identify it
later on and a couple of pro tips for
building these things I found really
helpful is to create a resources far
like a regular resource as far like you
put your strings and ins and stuff in
and reference that for and put the paths
and the fraction of the trim values in
that because you're going to refer to
these a few times it makes it easier to
only have it in one place and then you
define object animators for animating
each of those properties so here's one
we're animating the trims start and end
and then here referencing out to those
fractions that I want to trim too and
again this is we're setting a different
duration allows you to have that
stretching out and come back together
feel really really simply then the last
piece of puzzle is the animated vector
which pulls together the draw
robell and the animator and runs and
says what to run it on so here you
identify it by names on that stem run
this animator and then finally to use it
you just load it as a drawable set it on
an image view and call start so I hope
you can see maybe a bit of effort but I
think worth it for and you know the
quality like put some character to the
application so I want to go out this is
the way to run an abd for like a
one-shot type operation just to run the
animation but a nice way you can do it
is often to do state changes so for
example here is them when you like or
unlike a shot on dribble I basically
have animations between those two states
so when you like it it's basically this
two versions of heart there's a stroke
version with a filled version on top and
then you apply a clip which you animate
the clip up and down which gives you
this filling up and the unliking is
basically two paths and you just rotate
and fade them and then do this the trim
line thing to fun little animations you
can write but Android yet obviously this
animated selector which makes it way
easier you don't have to manually run
all these animations all the time it's a
bit like a drawable selector so you know
you have States like for example the fab
is just checkable so when you press it
it's state checked and but the animated
selector unlike its regular sector
factor cousin lets you define a
animation to run when moving from one of
these states to another so when it's it
goes from checks to unchecked it will
run and that animated vector drawable
the AVD heart break and you'll get that
nice little animation
so here's just a few more examples of
where we've used little like their
little animations I really really really
believe that these like a real
opportunity to bring character and
whimsy to your application and make it
more fun to use have more personality
they make you might think it's you know
these necessary are these strictly
necessary to make your application like
functionally like good probably not but
I really really think it's worth it and
I encourage you to look into using it
and they're also really really fun to
write so that's it that's hopefully
given you a appreciation of the material
design principles I really feel that and
they helped make my application better
like the posters talk today wasn't to
say you should all copy all the code
from my application and put it into your
applications although you can it's open
source what I really want to encourage
you to do is to see it's worth it I
think it's worth putting in the effort
of them going the extra yard the extra
mile to really can I bring some quality
some character and to your applications
and go out and make something which is
awesome so it's a few links to follow up
again you can get the source code or you
can join the beta and there's also an
awesome code lab for anyone wants to get
their hands dirty with material design
goodness and always you should scribe up
to Google design and that is it thank
you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>