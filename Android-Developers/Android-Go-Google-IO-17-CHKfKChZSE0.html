<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Go (Google I/O '17) | Coder Coacher - Coaching Coders</title><meta content="Android Go (Google I/O '17) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Go (Google I/O '17)</b></h2><h5 class="post__date">2017-05-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CHKfKChZSE0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everyone I'm ARPA's I'm the lead p.m.
for Android go and I am Patrick I'm the
technical lead for rounder go alright so
I want to start first by sharing a
personal story back in 2010 it was a
spike in farmer suicides in India
following a really really terrible
monsoon season I was very moved by it a
bunch of friends and I got together and
we started a company to serve better
insurance to the farmers of India we
travel through states of Maharashtra and
Andhra Pradesh to meet these farmers
talk to hundreds of them and test our
prototypes out what I learned was very
astonishing it it appeared like the cool
innovative products like rain index
weather insurance already existed but
very few knew of it then if you carried
it and you know the vast majority didn't
know about it and it wasn't for the lack
of trying that didn't know about it haxe
existed in the market even the poorest
tenant farmer had a feature phone that
gave him daily text messages about the
commodity prices that evening so what
I'm trying to say is the thirst for
knowledge is alive and kicking and yet
the access to information is lacking and
that access is only a smartphone away
but the jump from a handed down feature
phone to the smartphone with internet is
too high for billions of people out
there and it is our moral duty to lower
those barriers the
we at Google believes that this access
to information should never be at the
cost of quality and that is the reason
we started the project we internally
called Android go Android go is the next
phase of Google's investment it after
project swells the original Android one
program to connect the people who don't
have the access to power of computing
today
and are not connected today there are
three hurdles to that access today and
the first and the most important of it
is device affordability ok I'm going to
take a poll how many of you here use a
cell phone that is less than hundred
dollars raise your hands yeah that is
true so now what I'm about to say you'll
understand much better which is I
personally dog food a lot of entry level
devices and I can tell you the
experience is very humbling so what
we're doing that to figure for device
affordability is the first thing we need
to do is optimize our OS to run on the
lowest common denominator of SOC s
memory chipsets and screens memory as
low as 512 megabytes of RAM but you all
know here your developers OS is in the
game right the access to information
comes through apps so we're not just
optimizing our OS we're also optimizing
our apps and in sometimes writing new
ones to meet the requirements of the
next billion users so let me
the most important factor in all of this
is not the apps be bills but the apps
that you all build and Patrick and I
want to take this opportunity talk to
you about how can you write your apps
for these next billion users the next
biggest hurdle to information after
device affordability is dat
affordability so when I talk to people
who aren't connected yet they tell me
they want to use data they're willing to
pay for it but they're very afraid data
is still very expensive in large parts
of the world it's like money to them
it's MBSR like the new social currency I
kid you not there are young people out
there who give their lovers 100mb data
packs I'm not joking about it that's
actually true it is like currency so
these users are willing to come online
they're willing to pay as long as they
get control over where they're precious
and bees are spent and that is the
reason why we're building features into
our OS and in our apps that increase the
level of data data transparency as well
as can give them additional controls to
control their data the third biggest
factor and hurdle that we want to
overcome is linguistic flexibility now
this is not simply adding more languages
to the OS our users are increasingly
wanting an exposure to a second language
people want their OS to be in English
but they want their special messaging
app to be in Spanish the same complexity
exists in typing preferences in
searching preferences in in my farmers
case in browsing government websites so
we're building features into our apps
that accommodate for this evolution of
language and the preferences of the next
billion users so let's jump right in
let's
let Patrick tell you how we're solving
for date for device affordability
through for for performance data
affordability through better controls
and transparency and how we solving for
linguistic flexibility through
multilingualism in our app thanks thanks
orbit so let's dive into what we're
doing to optimize the phone experience
we're proving everything from the
kernels to third-party applications so
let's start with the kernel we are most
our work in this area being around the
integrated Android lifecycle management
with Linux first we spend time on tuning
the kernel to be more optimized for the
entry level devices this seems like a
simple task but it involves a lot of
nitty-gritty details like tuning cache
sizes tuning swapping tuning all kind of
threading parameters as Linux for a long
time has been optimized for the server
side even though Android has done a lot
of changes there's still a lot to do
there then we implemented prioritized
reclaiming of memory I'll go into more
details about that soon as it's a key
part of our done and we've done better
integration of memory events from Linux
allowing us to be much more proactive
with cleaning up apps in the background
and making sure we have more memory
available so our goal we use Linux
control groups they need a better
resource management C groups are holding
Linux isolate C's application and allows
Android to prioritize memory collection
and swapping for each application we
have then integrated that with androids
activity management and that allows us
to be much more aggressive of swapping
away memory for low priority processes
and very of selecting what processes to
stop overall this results in a more
member being available for important
applications
hence yours
and leading to a smoother user
experience even on the 512 megabytes to
one gig device to use the number of
memory pages androids are using
we've optimized Quebec files or laid out
in memory as the currently tend to
consume quite a lot of clean pages
leading to more swapping on entry-level
devices we're using profiling to redo
the Dex layout and co-locate them so
we're taking as you can see in this
picture we're taking code pages that use
and then bundling them together and
therefore we're also creating more clean
space for the kernel collect this
improves will startup time and memory
usage it's also allowing than the kernel
to be much more aggressive or collecting
code pages that is not used on a
platform so we are doing innovations in
the u.s. design let's talk about reasons
as an example 95% of the time our
entry-level user only switch between
their four recent applications so we
redesigned the UA to be enabled for
switching and C memory by reducing
memories and the bitmaps this is just
one example of optimizations in the UI
that we're doing to make it smoother but
also to fit the form factor as it's very
different and of course like you will
hear many times through my talks save
memory so we are Rios architecture and
Google Play services we're splitting the
API services into dynamic modules this
reduces this footprint which is also a
critical thing on these devices but also
take a guess
reducing the memory footprint this is
very important as there is still a lot
of API in Google Play services not used
on entry-level devices in these markets
and of course we're working on making
applications
to take less space less memory and
consume less Network we designed some
brand new google apps like YouTube go
we're also optimizing our existing apps
like Chrome and play and a lot of the
pre-installed apps these new google apps
aim to take less than 10 mega VPK size
and also more y 10 Meg later on our OEM
and carrier partners are also joining
out and will be creating optimized
versions specifically for the entry
level devices to make sure that we keep
the promise of the quality we want to
deliver for this platform alright so
I'll talk about how we're solving for
data for affordability I thought I
talked to you about how important it is
for this set of users to have better
controls and transparency about the data
told you that is the key so today users
have to type in a really complicated
gold star hash one to five sum number
followed by another complicated set of
characters to find out their data
balance we want to make this super super
easy we want to make this directly
accessible with a down swipe from your
quick settings now to do that we're
creating an API where third-party
developers or carriers could provide
this information to the users by each
data pack so for their 4G data pack that
3G data pack their social media data
pack and so on so all those balances
would be available to the user right at
their fingertips now the next thing once
they come online we want them to stay
online right so imagine it's your
regular Sunday afternoon you're on your
little messaging thread video family a
heated political debate comes up your
uncle just says the most provocative
thing ever and you have a bit EECOM back
but bam your data runs out like you
don't
that to happen it's happened to me you
really don't want that to happen
but jokes bug our users actually travel
four kilometers to recharge their phones
or top up their phones and oftentimes
when they reach that far they still
don't know and even the seller doesn't
know what the latest promotion by the
carrier is so what we want to do is
create an API for the carrier's to
provide this latest information to the
users and I'll label you to top up your
data plans right there on the phone so
that's how we plan to do that
the next these users see apps using data
in this in the background as a whole in
their wallet they hate it they hear is
so much that they will either turn off
the data altogether in the phone which
harms the whole point of this which is
to get them data information or they
delete your apps they just absolutely
delete your apps which is horrible
because you work so hard to make them so
what we want to do is give them controls
so that they can choose which apps get
their their MVS or which apps use itwhen
so that's how the OS is working hard to
make sure that it's transparency and
controls but our apps also pitch in
let's talk about chrome chrome has
already launched this feature out and
today it is already saving seven hundred
and fifty terabytes of data a day for
the early adopters on Chrome data in
Android go Chrome's data saver features
would be turned on for defaults so they
don't have to opt in and what it does it
transcodes data on its servers before it
reaches you therefore that's how we save
your data second it also detects when
you are in a lost connection and then
gives you previews of pages or that way
helping you load the page and get the
information faster that just showed a
chrome I want to talk about my favorite
one of this YouTube go is an app that we
had to build from scratch
to meet the hard requirements that we
put on ourselves when she start putting
in the requirements of the lowest and s
disease and memory and the needs of the
next billion users we had to build us
from scratch now how many of you like
look for music videos on YouTube go well
all of you right like so isn't it
frustrating when you want to download
and look at the latest Adele song and it
turns out to be another fans karaoke
video yeah right so imagine that
frustration even with people who have
little data balance that's really really
disappointing for them so we built the
preview feature so that people can
review what they're about to watch
before they spend their precious few MB
is doing that and again in this next
billion users you can't assume the
similar or constant data rates
throughout the day you can't assume the
same level of connectivity so we want to
give users again additional control to
choose the quality of the video they
want to watch next some of the users
might have a free Wi-Fi in their office
so we want them to have the ability to
download these videos and watch them on
their bus ride back and the best of all
I don't know about you but when I see a
funny video I have to share it right so
but I don't want these next billion
users or we don't want these next
billion users to have them pay for that
video and have their friends pay for it
- so was building offline peer-to-peer
sharing of videos within YouTube so that
you don't have to pay for cellular data
so that's how he's aiming for data now
let's talk about solving for linguistic
flexibility when when you want to
compose when you want to express your
thoughts than your ideas Google keyboard
will come to your rescue and this time
I'm not going to talk over it I'm just
going to show you and we'll have some
fun doing it Patrick I'll need your help
all right if we can switch to my cell
phone
alright so let Patrick is here and I
grew up in India so I speak Hindi so I
want to switch over to typing
phonetically in Hindi but I'm going to
write to him in Hindi so let's say KC
hold those which means how are you
friend in I'm typing in English letters
phonetically going to him and it's
typing out in Hindi script that it goes
to him but it so turns out that he's
Swedish he doesn't get mine D right so
that sucks so what can I do
so again Google keyboard to the rescue
I'll switch to translations now I'm
going to type in English letters in my
native script and still so let's send it
down so let's try this again Casey hold
those it translates to Swedish for me
and there you go so if that doesn't get
the geek out of you then nothing else
would like so
so that would Google keyboard right so
this is how you can express yourself
better and beyond that Google keyboard
has 191 languages support 22 Indian
languages supported so this is all good
but what if you want to consume
information right and at that point
chrome Chrome comes so Chrome will
automatically detect or Chrome it
already detects what your OS is
languages and anytime you access
information on a page that is different
from your phone's language it gives you
proactive suggestions to translate it
and I has an example of that so that'll
help you consume information it'll help
that farmer I talked about consume the
information in the language that's most
comfortable to so that's all the
translations but you may ask why does it
matter why should you care so let's dig
into that so one third of the global
shipments in 2017 will be sub hundreds
all of the voices this is a must segment
for developers so smoking on the growing
user base or focus on the mass market so
you may be thinking this is zero state
margin market problem but it turns out
that's not true this is not yes a margin
market product u.s. is the second
largest market for sub hundred-dollar
devices as it's a huge prepaid market
therefore we're announcing starting with
om r1 all devices shipping with one gig
or less Ram will get undergo
configuration and going forward other
releases will have a go configuration so
this is a sustained effort that will
continue developing over time so
optimized Google Apps is a good start
but
it's your apps that will really solve
the needs of the next billion users so
let's see some hands how many in here
are optimizing fancy level devices today
yeah that's quite few how many in here
things they need to optimize for low-end
devices going forward that's a lot more
that's very positive I hope I see more
hands next year during the first
question and to be honest several of you
have already jumped in like Skype and
line lines and I hope many more of you
after this talk will start thinking
seriously about these devices either
develop new apps or optimizing your
existing apps so we that ergo we have
added targeting into the Play Store to
help such apps get better distribution
and will continue surfacing these apps
in more ways into Play Store for
entry-level devices we've also optimized
to play store to save more data as data
it's very important this market so will
be supporting secure peer-to-peer
transfer and installation of apps and
will also support delaying your download
of the apps to a point when you may have
a better data plan because it's quite
common in this country so you have much
cheaper data during night when it's less
congestion on the networks so that's a
feature you will be able to say hey
download this automatically when I have
a lower cost date of time and that will
take care of understanding when in time
that is etc so all of this is what we
are doing and it's a continued ongoing
effort as we speak let's dive into what
you should be doing is app developers
first let's talk about data connectivity
3G and LTE is growing around the world
and we're very happy for that
and 80% of the smartphone's growth is in
the emerging markets but 2d will still
be over a billion devices in 2020 so
therefore it's important to design apps
that can have those low inflation
connectivity and it's important to
create a useful experience for the users
without Sauron bad networks and don't
forget to adjust when that changes
because networks in these countries and
where is quite flaky and comes and goes
so you may have a very fast 4G then you
end up a Wi-Fi then you have no
connectivity so think about optimizing
for this and you say the eyes exist in
the platform to detectives one way to
improve this handling as shown here is
to prioritize take over have images so
show something relevant to the user
while you can because you don't know if
the connectivity will disappear become
bad or worse
so low-end devices will continue to be
memory restricted for quite some time
going forward so be efficient of how you
use memory have short lived services
eliminate unused unneeded wake-ups use
firebase your dispatcher to handle
network tasks it it's both Network and
battery aware you can set policies
around saying hey I only want to do this
task if si is on an unlimited network
have this same retry policy so you don't
consume a lot of power and battery
without gaining anything for the users
use activity manager is low Ram to
adjust experience and memory usage of
your application as that will be one of
the ways you we will signal your own
Android go platform and that's includes
optimizing your images as they can be
quite big and this devices are normally
small displays not a high resolution not
the best screen so there's like no need
to save the images in super-high
resolution
but also five two caches correctly think
about how much you're cashing and
anything else that may take memory it
will be a constant trade-off on these
devices so think through what you're
trying to give what kind of experience
you trying to give you users and also
test there is a lot of tools out there
that allows you to simulate being on a
2g connection it's quite revealing to do
at Google we have Wi-Fi networks that
simulates a poor 2g connection and it's
a horrible experience today
so I recommend doing that so this is an
example of using Android studio memory
monitor to memory the map to measure the
memory usage between two apps one of the
apps is using the or the app is using is
low ram flag to detect if you are on the
Android L device it's automatically
adjust some image sizes and under and
caches internally and therefore it's
quite easy to see the memory difference
between them the reason I have this here
is to remind everyone in this room in
that other studio profiling tools are
very powerful there's been a lot of
talks about them this week and I
strongly recommend you to check them out
and use the tooling that we provide to
help optimize your app we've tooling
around the ability to look into your
network traffic you can see the
distribution of network CPU profiling
and memory profiling so get on top of
your app and see where are you consuming
memory oops our research tells us that
uses but uses the C apt greater than ten
Meg as too heavy and that means the user
has a tendency to go and delete the app
if they're running low on space so 10
Meg is kind of the breaking point where
they think it's acceptable for app size
in these markets image and language
resources are the biggest offenders
we've seen enough and therefore optimize
your images think about where you're
trying to
liver and be smart about translation
there's been quite a lot of talks again
this week about this I'll refer to some
of them later remove code that you're
not using it's a simple talk but
important we are optimizing the kernel
to be much better of collecting these
code pages but it's much easier if you
haven't allocated them from the start
and don't forget to optimize for the
smaller screens that's something we
spend quite a lot of time on and I
strongly recommend you do the same and
you may want to use multi-decade to get
better targeting around this so you can
target these devices specifically and
one of the torques I strongly recommend
is engineering for high-performance with
tools that will sell this morning if I
remember correctly so we've implemented
a lot of new functionality in Android o
to help improve memory and battery like
background check that improves the
system's ability to control and manage
background services it gives its Exene
limit of house and you can pull Wi-Fi
and location etc depending on the
conditions you're in and therefore for
under go we strongly recommend you to
target under the API level 26 I know
this is very hard for existing
applications but it will give the user
quite little benefits on this platform
if you do so important to say is that
the changes I've been talking about is
really good even for existing apps today
there is a lot of low entry devices out
there in the market as we speak and the
experience of them is quite poor assess
so this is something you really should
be thinking about today and the market
is just growing and having said that
we're planning to preview undergo in the
end of this year and with the first
devices shipping first half of 2018
and you should start now and we're ready
for undergo and that's it thank</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>