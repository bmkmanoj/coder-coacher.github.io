<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Textual Layout (Android Dev Summit 2015) | Coder Coacher - Coaching Coders</title><meta content="Android Textual Layout (Android Dev Summit 2015) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Textual Layout (Android Dev Summit 2015)</b></h2><h5 class="post__date">2015-11-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GZ0eKqvzJa8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">i'm rafe Lavigne I'm on the Android UI
toolkit team and I'm going to talk to
you today about Android textual layout
and I hope you'll find this an
interesting talk and I hope you brought
lots of questions as well and I'm happy
to address those after the session and
also at office hours this afternoon so
I'm going to talk about it it's kind of
a grab bag of a bunch of different
topics around text and typography on
Android I'm going to talk about some of
the challenges and opportunities just a
little bit of an introduction to
material design which I'm sure everybody
here is quite familiar with then I'm
going to go into some of the details
about the robot 0 2 and node 0 fonts and
especially the kind of more recent
changes around these to better support
international typography a huge amount
of the work that we do on the Android UI
toolkit team is is supporting all of the
languages of the world or or most of
them then I'm going to go into some of
the really I think exciting newer
features around opentype typography
control and high quality paragraph
layout which rolled out in lollipop and
marshmallow so so what are some of the
challenges and opportunities i mean i
come from a print background and a
mobile doing typography on mobile is
extremely different than doing
typography on print there are some
things in common but there are some
things that are that are really
different you have to be very focused on
the performance a you know of of the
text stack because you've got only so
much battery and only so much ram but
you really do have very powerful compute
resources you've got you know multi-core
multi gigahertz processes in there so if
you want to do sophisticated advanced
typography you do have the compute power
to do that 60 frames a second is
absolutely a requirement and this is
again both a challenge and an
opportunity that that you can do these
really rich animations and transitions
and do this kind of interactive motion
typography that that really is you know
completely impossible in a print
background but
have to make everything fit in that 16
millisecond budget you've got a very
small screen and this has some
interesting challenges in how you create
your layouts how you do the paragraph
layout but but a flip side it again is
that on modern devices you have this
very high resolution then as I mentioned
you know we have this requirement to
support all of the languages of the
world all the scripts of the world but
we have a lot of really good resources
both in fonts and typography control of
how you do that and then you know I'm
going to talk about some of the line
breaking improvement some of the
paragraph layout improvements in
marshmallow and those were really
motivated by a need to get this working
in very small screens like watch faces
so I'm going to just kind of introduce
this concept of you know like the
advance of display technology this was
the first mobile device I ever had when
I was 12 years old and I mean as you can
see it's got a lot of the elements of a
modern mobile device you know it even
has a really nice big keyboard but the
display technology at in this generation
of technology is kind of the bare
minimum that you need to get text
displayed at all and I think that that
evolution you know kind of carried that
there was a very primitive approach to
just get the the letters drawn on the
screen and not really think about
typography another good thing about the
screenshot is you get some sense of like
the difference in computing power
available today as you know back then so
you know before I work on Android I was
working on Google web fonts google fonts
and the upper left corner is kind of
your classic laptop or desktop screen
and this really ruled what we did that
you have a very small number of pixels
to represent the text and you have a lot
of constraints and how this letter forms
map into those pixels and that also
includes like the spacing you see kind
of very poor like the ANP or crunched up
together and the piano are separated
because you only have so many pixels in
so much precision but as you go into
more modern display technology you have
so many more pics
and so on the upper right you have a 4k
monitor which is starting to replace
laptops and on the lower left this isn't
even the most recent device this is a
two year old device in it has 468 PPI
and you probably can't even see the
pixels here and then comparing that to
for example an inkjet printer you
actually have on these mobile devices
you have a much higher precision higher
quality representation of the shapes of
the litter forms and the spaces between
them so it really enables typography and
all four of these screenshots or
captures are the same 12 point times
roman and so this is what we have to
work with today this is our lead device
the nexus 6p it's an amazing device and
it has an amazing screen to match match
the overall device it's at 515 PPI when
one of the ways I think about screen
resolution is you know when when Star
Trek you know when they were doing the
Star Trek TV show they had like a book
that had all of the specifications for
all the technology like how many tara
jewels were in a phaser pulse and one of
the specifications is what is this great
what is the resolution of these little
devices that people are carrying around
and the answer is 400 dpi so you know
we've blown way past Star Trek so I mean
as I say everybody here knows about
material design this this will just
touch on it that you know the the UX
team it started really about two years
ago that they were looking at these kind
of more powerful devices higher quality
display technologies and they were
really thinking how how if we were
redesigning this from scratch if we
really could do anything what would we
do and the result of that exploration
really synthesized into a set of
guidelines into a coherent design
language that incorporates many
different elements it incorporates you
know colors it incorporates the material
metaphors with paper and kind of a
three-dimensional effect and it also
incorporates typography and so you know
one of the sex
in the material design spec I really
recommend it it's very you know has a
lot of good good information and a lot
of good guidance about how to do
typography with in material design and
of course another part of that is a much
greater expanded palette of different
weights and of different sizes and how
you kind of use the weight and size
instead of having just one size of text
one way you use this to indicate the
structure of your app the structure of
the information in your app so the the
cornerstone of typography in material
design is the robot 02 typeface and so
this was an update that happened in
lollipop and you know it was pretty
subtle a lot of people probably didn't
even notice it but there was actually a
lot going on in this update so one of
the things is the expanded Unicode
coverage it actually increased by a
factor of three and we have full support
for Unicode 84 Latin Greek and Cyrillic
script and that covers a lot of the
languages in the world that arm you know
that are maybe less familiar to us like
other African languages use a lot of
kind of unusual Latin characters we also
expanded the weights and styles that we
ship on the device so we're doing thin
light regular medium bold and black so
there's a tremendous pallet of the
visual effects that you can get and all
of those include Truitt Alex and we also
have a family of condensed which is
better for better information density
and also can give you some contrast you
know two different styles that you can
that you can work within your app in
addition the robot 02 font is completely
open source and that includes not just
the final truetype font files but the
entire bill chain so you can go in there
and customize it and play with it and
and send us pull requests and you know
we really treat almost everything we do
in a very open open source manner so the
design updated as well and this is just
a little bit of a kind of a before and
after and you can see there's it's a
little subtle but like there's kind
a stiff sides to some of the characters
like a capital o and that has become a
more refined gentle curve some of the
shapes were maybe a little bit unusual
like the k's and the capital r and those
have become kind of more simplified and
more streamlined and we also went from a
square dot on the eyes and JS to a round
on so it's just it's an evolution it's a
more refined form of the original kind
of you know design it's very central to
to Android and very central of course to
material design so you know I talked
about the global reach of the Android we
talked about a lot about the next
billion users and you know they're there
like we heard in the previous you know
talk about you know how do you reach
them through the Play Store console but
there's also a lot that you have to do
with the presentation of text and
language in these devices so again
Roboto to dramatically increases the
Unicode coverage and you can see this is
just a sample this is just one of the
pages of kind of additional extended
Latin characters and another thing I'll
point out just you know for this slide
somewhat like if you look kind of near
the middle on towards left hand side you
see some oohs with some EE stacked
accents and that's a very common pattern
in a lot of languages but not not
European languages that we're used to so
you see it in Vietnamese and some of
these other languages so you really when
you're when you're designing your apps
when you're testing your apps you really
need to be careful to test them in some
of these other languages to make sure
that you've got enough vertical space
this is kind of one of the one of the
real key takeaways that if you just
design in English you've got these
letters they don't have anything going
on above they don't have anything going
on below but that is not the experience
of you know the millions hundreds of
millions of people around the world so
in addition to Latin Greek and Cyrillic
there's this huge diversity of other
languages and in fact this is the list
of scripts not even languages there's
many scripts that support multiple
languages
these are the note o scripts that we're
supporting in marshmallow so it really
is you know huge expansion compared with
previous versions of Android and it
really covers a very large fraction of
the languages that are spoken in the
world and so here three scripts that I
just kind of picked out you know as
representative I you know I find I find
these just really beautiful and you can
see you know kind of attention between
classical forms but also trying to make
them consistent with the kind of clean
you know Roboto design and so I think
these are these three are either new in
either marshmallow or lollipop um so
then in addition to uh you know this
kind of large set of scripts cjk Chinese
Japanese and Korean represent a very
large fraction of the of the users of
Android a lot a lot of the users in the
world and so in a lollipop we launched
Noto CJK which is a joint project with
Adobe so it's also out there you know
they released it as source Han stands
and that's also an open source project
and it has a tracker it's very active
people you know find issues and and you
know it's it's being revised and in
addition to just the the fonts that
project also kind of brought with it a
high quality render for something called
cff compact font format and this is this
is based on the adobe code but it's now
been open source as part of free type so
you can you can you know go look at the
code use that in your own projects as
well so no doubt cjk is is a very
ambitious project that it really is is
designed to be a comprehensive support
font to support all of cjk and that
includes the different the different
local forms so there's a difference
between simplified and traditional
Chinese those are different from
Japanese and then there are some glyphs
that appear different in Korean and it's
very important to these users to see the
correct form in their language if you
see it wrong it's
just it really is a Polish problem so
notice ejike has a unified design
there's like a consistent like there's
some releases that we've done where the
Chinese and Japanese really don't look
like they're part of the same family of
fonts and in Noto CJK we really have a
unified design but we have the different
variants in the different regions so no
discussion of text is is complete today
without talking about emoji and we
really treat we really treat emoji as
you know a type of text so an app
doesn't have to do anything special an
app doesn't have to say oh you know show
me some color images here or something
like that it just you just represent
text and you ask for the text to be
drawn or in a text view or edited and it
just automatically shows up using this
color font technology which is now
standardized in opentype 197 so and and
there are actually many tools many font
editors actually will create fonts in
this emoji form so if you want to or i
should say in a color font form whether
it's used for emoji ornatus is really up
to you um and you can um you can
incorporate these custom fonts in your
app and get color color representation
of either emoji or text just by dropping
in the font this also supports flags and
key caps it's a it's a more expanded set
of of emoji and one of the new API is i
should say this is a marshmallow api
that a lot of apps you you want to know
what emoji are present because you want
to make a decision do you present this
as a you know as a palette for users to
choose and this has always been a
problem because you know different
phones will have different emoji sets
and you know as we're upgrading it's
hard to know is this emoji present or
not or does this flag exist in the case
of the flag emoji and so we've got this
new API that will tell you it's very
fast and we really recommend we really
want you to be using haskell if so you
know what emoji are on your on your
device what you can use um so then I
want to talk about some of the
typography features we've really been
expanding this you know the goal my goal
certainly is to make Android typography
match what you can do on the web and
match what you can do not just in print
but like really high-quality print and
so I'll walk you through some of the
things that we do here I'll just go
through this list and then I'll show
some examples that we we have kerning
and ligatures we've actually had those
since I think jellybean mr2 but now
there's more control so if you want to
turn those on and off there's
fine-grained control to do that we have
this font feature settings attribute
where you really can go in and control
the open type features i'll give you
several examples of that and that's
using a CSS compatible syntax so we want
to make this stuff so you know if your
designers are you know used to
controlling typography on the web we
want to make that kind of impedance
mismatch as smooth as possible so so you
can just take that knowledge and apply
it to android apps and then this is a
little bit more technical thing but we
use opentype integrally to give you
these localized forms that they're many
languages certainly not just the Chinese
Japanese in Korea and where there's
going to be subtle differences the same
basic script but differences in the way
it's presented and we use opentype to
control that and I'll talk a little bit
also about what you want to do in your
app to make that work perfectly so
Kernighan ligatures so the FI ligature
is a little controversial in Roboto not
everybody loves this but but it is
definitely a sign of kind of more
sophisticated typography that you don't
just put the letters that in some cases
you have these combinations and you have
a specifically drawn glyph that
represents more than one letter and this
is certainly you know this exists in
Roboto and it's very important part like
especially in serif fonts you really
need those ligatures for the font to
display correctly so if again as you're
using custom fonts in your app you want
those ligatures and the same is true for
kerning you almost never want to turn
this off the only time you might want to
turn it off
is if you've got some kind of technical
alignment where things need to have the
consistent with you know no matter what
the characters are but in any case as of
em with the font feature setting
attribute you can control these these
are actually implemented as open type
features and with as with any open type
features you can turn it on or off with
font feature settings and that's a
that's actually a lollipop plus API
another kind of great hidden feature is
the use of proportional and old style
numbers and these are really important
for kind of a more refined sophisticated
typography that the default numbers are
basically the same size as capitals and
they're all the same width and being the
same width is really important if you've
got some kind of animated display you
don't want it to be juddering back and
forth or if you've got kind of a tabular
presentation of numbers like a
spreadsheet but it's not always the
prettiest display and if you're doing
like running text if you're doing you
know paragraphs of text then
proportional is a maybe a more subtle
change where you just give the one a
little bit narrower so you don't have
all these space around it and then if
you're really trying to do something
that looks more like a book something
that looks more like traditional
typography then you've got these old
style figures and those are in Roboto to
those are present in the font and you
use the Android font future settings to
select p non-proportional numbers or own
um old-style figures and again highly
recommended if you're bringing custom
fonts into your into your app that you
have the complete access to all of the
open type features in those fonts and
this is again an L plus feature another
another feature that I think is really
powerful tool for bringing kind of more
sophisticated design to apps is control
over letter spacing so there's a default
letter spacing it's really tuned for
legibility people are getting
information on their phone they need to
be able to read it quickly and that's
that's
what the default letter spacing is tuned
for but if you've got something that's
kind of larger more of a branding and
less of a kind of a functional element
then spacing it a little tighter might
kind of highlight that and then you can
also use wide spacing as may be a form
of emphasis or just bringing a little
bit more breath to your design so you
have your you're no longer stuck with
just the default spacing that's that's
set in your font and again that's an L
plus feature so in marshmallow this is
really one of the things I'm most
excited about that we we really stepped
up the paragraph layout and you know the
old algorithm kind of used you know you
fill up a line and then once you get to
the point where the line is full then
you just break at the word boundary and
you keep going but in marshmallow we
have this high-quality paragraph layout
mode and it incorporates a couple of
different elements it incorporates
automatic hyphenation and it also
incorporates this concept of whole
paragraph optimization so it kind of
moves pieces around to get like a best
score to get a you know there's a
there's kind of a score that tells you
what is the quality of this layout and
it's really trying to optimize that
across the entire paragraph both of
these algorithms are based on tech which
is a print typography package it has a
very long history and you know high-end
print publishing tools use this same
approach but the parameters you know
like when do you use hyphens hyphens are
a little bit weird people are not used
to seeing them on a mobile device
there's some contexts where they're
where they make a lot of sense like if
you're displaying an e-book for example
and there's somewhere maybe it makes a
little less sense like you I strings or
maybe chat messages people are not used
to seeing hyphens there so we tuned the
parameters we you know it's it's
heuristics and we kind of chose these so
that a couple of things that people were
noticing that if you high
fin aid and you break a partial word on
to the last line that is really weird
that's something that people have a
negative reaction to so there's a
parameter in the tuning the kind of
doesn't do that very often but on the
other hand one of the reasons why you
want to do this hyphenation want to do
this high quality paragraph layout is
you want better information density this
is especially important when you have
very narrow settings like an especially
true on very small screens like watch
faces that if you break a word and you
leave a huge amount of empty space
that's waste that's an opportunity that
you could have used that space to
present information so we really look at
this question of wood hyphenation bring
you a you know n lines down to n minus 1
by doing the hyphenation and in that
case we say yes you do want that you
don't want to waste that space you want
more information density and that
increases the chance that you'll get a
hyphen on there so this is this is kind
of a different tuning than you would
expect for something like print
typography which is where there's kind
of the most tradition of doing
hyphenation so one of the other things
we looked at is this question do we want
to have like a opt-in where you know
your app says yes I want high quality
mode but maybe it's considered expensive
you know it's too slow to run or you
know we don't want to always have it but
we we tried turning it on across the
entire system as a default and we really
liked what we saw I mean that you you
want a higher quality presentation of
paragraphs of course if it is not right
for your app then please turn it off or
control the tuning parameters but we
also had to do a lot of work on their
performance so you know it's doing a lot
more work it's there's a lot more
sophistication that's going on in there
but overall the amount of time that it
spends drawing text is about the same as
lollipop there's some use cases that are
faster there somewhere too you know like
maybe some of the benchmarks where we've
gone backwards but we've really tried to
to make that usable for everybody and so
here's it kind of a demo of the kind of
profound difference you can see that you
really see on the left hand side which
is the pre M paragraph layout it you can
still get to this by setting break
strategy equals simple in your in your
XML but you see these huge gaps where
you know like the word conversation it
doesn't fit so okay it just goes to the
next line and with the with the high
quality layout it says okay we can
hyphenate that and we can actually get
this block of text that's very you know
the clean lake it really looks much more
like a book and less like kind of
computer text display and on there on
the right-hand side you can see it's
actually pretty eager to use hyphens and
that's a control there's a default which
is a little less eager it uses hyphens
when they really improve the density
when you really improve those huge gaps
and then there's this a setting of full
hyphenation frequency equals full which
is really appropriate if you are
displaying paragraphs of text if you've
got an app like a book reader where you
really you know displaying paragraphs
then we recommend using full instead of
the default and if you want to turn
hyphenation off you can actually have
you can mix and match you can have a
high quality strategy in terms of the
optimization of where the line breaks go
but just no hyphens and that's another
option um in the same kind of um you
know increased control and has control
over line breaking we wanted to we were
looking at this particular problem a
very common pattern for you I strings
you've got a string that just doesn't
quite fit into the space into the width
of the set and then you get this word
you know you I strings are often very
short so this happens like quite a lot
where you just have one line but you
have like one or maybe two words that go
to the second line and it just doesn't
look nice it's not a very pleasing
visual presentation of this text so you
can select break strategy equals
balanced
and that tries to line it up so that all
of the lines are the same are roughly
the same length you know in a
traditional paragraph you try and get
all of the lines except for the last the
same length but balance just really just
tweaks that one thing and says just make
this whole thing lineup this is based
again for designers who are familiar
with web technology this is based on
Adobe's proposal for text wrap balance
that hasn't become a standard I don't
think it's widely shipping yet but you
know again we're trying to make the
design of typography on Android similar
to the design of typography for the web
so I wanted to also I mentioned when I
was talking about the different
languages and the kind of different
things that we do to change the way we
present text that um this is really one
of the most important things that apps
can do is to get the low-cal of the text
that the app is displaying correct
because if it's wrong things will be
you'll still get the text displayed but
things will be degraded they won't be as
nice they won't be as polished as if you
set that locale correctly so there's
three different ways that locale flows
into text in android in android
framework text there's the settings
which are which are system wide which
control a default locale and of course
this is their fault this is what happens
if you don't do anything and you hope
it's right but unfortunately there are a
bunch of cases mostly when you have
multilingual users we in America there
aren't any but in the rest of the world
there's a lot of people that speak more
than one language and so that so the
language that that that they're viewing
the app in the language that they're
interacting you know there may be
looking at user content might not be
might not match the the system setting
up so we have a set text locale API
which you can use on a text view and if
you know if you have metadata if your
server knows the language that that text
is then we strongly recommend that
text locale on the text view that
displays that text so that the so that
the locale is correctly identified and
then this may be a little bit more
specialized like for something like a
Translate app where you may have a
single string that contains multiple
languages it might say the translation
of this word into this other language is
some other word and you might have a
language that's just just a Stan and for
that we've got a locale spam and you can
set that on just just the text in your
app that that represents that span so
what does it look I'll do I mean like
I've said it's important to set it but
but what happens like how does that
actually control the way text is
displayed and before jelly bean there
was no difference at all like it text
just displayed but in marshmallow
there's four different ways that locale
affects the presentation of text it
changes the font that's chosen and
that's especially important for
distinguishing between traditional and
simplified chinese as well as japanese
in korean those are different fonts that
are unified it affects this local
opentype feature look up so that leaked
there are differences in Devanagari
script between you know Hindi and
Marathi and it makes sure that you get
the correct forms of those letters
things like Persian numerals and so on
or not well Persian numerals are
complicated but the point is that you if
you know the language then setting it
will get the correct lookups to happen
on the font the locale also affects line
breaking there's some languages we're
deciding where the boundaries are
between words where you can break the
line is actually kind of a complex
question ty is the most common certainly
that you'll see where there's no spaces
and so you really in the case of Thai
you need a dictionary you need to say
you know this is the word so that I know
where the boundaries of the words are
and that is completely reliant on
knowing what the language is if you just
put tight x through but don't identify
that the language is thai then it gets
confused and you get line breaks in in
potentially very bad places that don't
don't line up with words at all and then
of course lastly
now that we have automatic hyphenation
that knowing which dictionary of
patterns to use depends on the language
and if use and this is like most of the
things that I just talked about you know
are kind of more exotic languages to to
this audience but automatic hyphenation
is important between you know for
example Norwegian and English they're
both in the same script but if you use
the wrong patterns you'll get you'll get
weird hyphens and then there's an a you
know like there's this like how do you
know what the what the language is and
fortunately there is an open source
library I mean this is actually mostly
developed by google but it's out there
the compact language detector library
which is now in its second version as
open source and it's designed to be very
performant very fast it's not a huge
dependency to take on so if you've got
an app where you know you're displaying
messages and you really don't have the
metadata you don't know what where it
came from what that language is but you
want to ensure that it's displayed with
the highest quality and of course that
metadata can be really useful for lots
of other things then then we really do
recommend this this compact language
detector and and that'll you pipe the
output of that intersect like two into
sent text locale and that really
improves the quality of your of your
display so that's that's kind of all of
the prepared topics that I had I want to
open it up to questions uh I'm happy to
answer any questions you have and please
wait for the mic to come to you
hello on the topic of custom funds so
you can achieve custom fonts via like on
simple view such as text view but it's
pretty difficult to do for framework you
are classes there's like navigation view
or like toolbar is there a recommended
way by the frameworks team to achieve
like custom fonts globally was in your
app yeah that's a good question I there
I don't think we have a mechanism for
like applying a font you know globally
across the app so unfortunately I think
that is something that you have to do
you know with with code but but that's a
that's something you know that we're
interested in looking at making easier
hey I get a lot of requests from design
for situations where they want the text
to be exactly this size possibly because
it's aligning with an image or something
like that is there what is your
recommendation for what I really like to
do is have the text shrink down if it's
in sale language that it has more text
there yeah what is your recommendation
for that that's a very common request
and we do not have support in the
framework for that yet it is something
that we are really looking at there are
a number of open source libraries one of
the reasons that we haven't um
implemented something like that we I
looked at it and one of the problems
that you get into is that you get kind
of how do you specify what that behavior
should be so you just specify kind of
one point in there where you want it to
be exactly that size but there's a lot
of other use cases where people are
trying to you know because you're trying
to line it up basically with other other
graphic elements there's a lot of other
cases where people are just mostly
concerned about making it fit so they
want kind of different logic they want
something that says make it a standard
size make it 14 SP unless it doesn't fit
and then we excuse me and then we want
to have it shrink down to some other
size but we don't want to have it shrink
bound to you know below like eight
because then it becomes illegible so you
get these cases where like specifying
how you want that behavior to scale is
kind of complicated and that's that's
kind of you know we when we
if and when we do implement something
like that in the framework we really
need to make sure that we get that we
cover the range of behavior in a way
that makes sense until then you know i'm
not going to recommend any specific open
source library but there's a bunch of
them out there and it's likely that
there's something that just subclasses
you know text view and and and overlays
that behavior that there's like it's
likely that there's something that will
fit what you need early on i saw i
mentioned for CSS styles being applied
to text is that something is done
through styles or is it you through the
use of HTML text ok so i I'm sorry if
that was misleading that it's not CSS
styles in general that we're applying to
text that there are specific attributes
there's specific parameters and that
we're in that particular slide I was
talking about font feature settings and
it's like the syntax because you know
specifying all these open type features
is kind of a complex thing it's not just
like a number or something like that and
so we adapted the syntax from CSS it is
compatible with CSS so if you have that
particular feature other features that
we've got like letter spacing the name
of the future the meaning of the future
we're trying to make it consistent with
CSS but we haven't like implemented a
web browser and android framework you
know text you can use web view but
that's you know there's there is not
like a generic CSS translator it's just
these specific features that are low
impedance or compatible with CSS ok what
is the performance cost of the high
quality text layout strategy with
hyphenation for example if you like want
to actually change the text view
contents so what is that going to cost
you at a later time well you you you
know measuring text performance is
really complex I mean the the order of
magnitude is that it's about the same as
simple text in lollipop so you know it's
doing more work but we actually took a
wrench to it
and did a lot of optimizations to make
it go faster there's going to be some
specific cases that are going to be a
little slower there's other cases like
if you're editing a very large buffer
that it's going to be a lot faster
because we really did a lot of them a
performance improvement in that area so
ultimately if you're really concerned
about performance like if you've got if
you've profiled your app and you've said
oh my god I'm spending all of this time
doing the layout of the high-quality
layout and if you've decided that the
visual improvement of that is not worth
it in your app then by all means that
simple we have not come across I can't
really think of any apps that i know of
either first party or third party where
people have felt a need to do that but
it's certainly an option and we will
continue to improve the performance
there's you know it's this is a very
important area for us it's got to not
jank also will there be a support
library for this no unfortunately a lot
of the stuff that happens in framework
text is at such a low level that you
can't really fill it in with the support
library
hi um I know better than a ski what are
you guys are going to do in the future
but I wanted to ask a little about I'm
static layout and the new method that
lets you and set custom margins per line
yes I know it's not ready to do full
wrapping around a path which is what I
imagined my first heard about it but I
am wondering what were you guys
imagining when you added it is it just
the circular watch space or is there
something else cool I don't know yeah oh
great no and like that's a slide that
almost happened in this talk and I
wanted to keep it simple because I
wanted to you know talk about things
that you know would would be for most
developers so certainly the circular
watch face so just so maybe I should
just explain that that there's layers in
of the text stack where text view is the
one that most of you interact with but
underneath text view is static layout
and statically out does a lot of the
things around line breaking and
paragraph layout and then below that is
like draw text in the kind of very low
level api's and instead of a out we have
a new method that lets you kind of
address the shape by controlling indents
on the paragraph and so yes the watch
face was absolutely a motivation for
that we are seeing other applications
people are adopting it in cases where
people are you know doing custom views
rather than just relying on text view
one of the really nice ones is when you
just get to flow around an image where
you're basically doing something like a
you know like a web style float and you
know it is possible to do your own</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>