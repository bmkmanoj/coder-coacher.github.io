<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>DevBytes: Optimising Layouts with Hierarchy Viewer | Coder Coacher - Coaching Coders</title><meta content="DevBytes: Optimising Layouts with Hierarchy Viewer - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>DevBytes: Optimising Layouts with Hierarchy Viewer</b></h2><h5 class="post__date">2013-08-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-FUw8HMbmBQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to death bite my name
is Yan Felix market and I'm from the
Android developer relations team in this
episode we are looking at the hierarchy
viewer and how you can use that tool to
help you optimize your layouts and views
in your application and we're going to
be using the bacon reader sample
application again that you've seen in
one of the other devbytes before let's
have a look at our hierarchy viewer
again because I noticed there's
something strange going on in one of our
layouts so we have our main article view
where we have some text we have a title
and we have a background picture in any
of our main body of text here this is
happening here and top in the top of the
column you um and our hierarchy looks
very very complicated if a relative
layout and then we have a frame layout
and then we have an image for you and
then have some text views down here so
we can definitely simplify that and each
of these steps in our layer adds extra
time that's needed to measure and draw
everything to the screen so if you go to
our layout here so this is where we're
defining what the image and what the
tiser looks like so this is very very
confusing you have a relative layout
here frame layout linear layout let's
simplify this so the way this is
structured is that we have an image view
that has our main the big picture in
half in the background and then we have
this this gradient on top of that and
then we have our title and then a
smaller subtitle as well as subheading
let's simplify this a lot what we can do
is we can simply have the image view you
know the big picture and then we can
just use one simple view on top you can
use a text view on top and the text ream
you can specify the background as the
gradient that we have I think it's sadly
the the gravity of our text you to
bottom which means which means that the
text that we put inside the title is
drawn at the bottom of the bottom of the
image this is all we have done here
speaking of a place all of this the
values of layouts you lay everything out
this simple frame layout if you have an
image for you and get the text view on
top and the text view contains the
background and the entire text but you
are saying look
we this title this headline actually
contains two different or three
different types of textiles we have our
main headline and there's some smaller
text down below to do that you have to
use text appearance spanner bolts and if
you have one simple text view but you
can set you can style the you can study
from parts or if you text you
differently so here we have these text
appearance span objects and you're
loading each of them in with a different
texture parent star that we have defined
in XML that's a normal just a normal
style the loading this in and then then
we set up the the views that we set the
title this is where we are saying they
were loading in this is where we're
loading the the text here to be using
expendable string to do to do this an
expendable string allows you to set a
text and then you can aspire then again
you can apply different spanner bolts
for parts of the text so in our case
here the first thing we do is we compile
our text you want to display cream
newline characters and then we apply
each of the different text appearances
to a part of this to a part of this of
the string in this case here we have the
title appearance we have the by text
underneath that and then we have the
author appearance as well and we
basically to specify the start and end
characters the normal character count so
once we've done that we basically set
the set the spendable string to our to
our text view using the expandable
buffer type so it gets applied properly
you keep our settings modes method and
we can remove our you can remove our old
way of ever setting the title and if you
start our application again you will see
that it basically looks exactly the same
but we have much much fewer views than
what we had before simply by using a by
using text appearance panels and
combining them together into one single
text view so let's see what it looks
like here and as you can see it looks
basically identical to what we had
before but our layout hierarchy is much
much simpler so I really hope you're
going to try out our give your your own
application and see what it looks like
and how you can optimize the application
to make it perform much much better</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>