<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android TV: Building TV Channels | Coder Coacher - Coaching Coders</title><meta content="Android TV: Building TV Channels - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android TV: Building TV Channels</b></h2><h5 class="post__date">2016-04-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rtnObmsbs8k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the traditional way of watching TV is
channel surfing you pick up the remote
lean back and flip through channels to
see what's on on Android TV app
developers can create TV channels so
your content can be part of this
experience to the user your channels
look and feel like regular TV channels
but behind the scenes they stream video
off the internet you can create a TV
channel from a video playlist and have
it appear alongside other channels in
the program guide the feature that makes
this possible is the TV input framework
this defines how android TV works with
channels provided by a physical TV tuner
as well as streaming based channels
provided by an app to create a channel
there are two main classes to implement
the set up activity communicates with
the system to provide information about
your channels like what programs are on
and when the TV inputs service on the
other hand receives events from this
system these events inform you when the
user interacts with your channel for
example when they tune to it or change
the volume the best way to learn how to
build a channel is to check out the
sample app which you can find linked in
the description below install it you'll
find it provides a TV input source which
you can configure through the live
channels app this creates a variety of
channels that fully integrate with the
program guide each of these shows off a
different feature some stream video from
the internet using MPEG DASH or HLS and
others show how to use features like
closed captioning in multiple audio
tracks
another great feature the sample
demonstrates is called app linking with
app linking you can provide a direct
link to your app from your channel and
this is a great way to increase
engagement now let's take a look at the
implementation at a high level if you
have an existing app then you can add
support for the TV input framework into
your existing apk as usual start by
updating your application manifest the
first step is to declare your TV input
service add the bind TV input permission
and declare an intent filter that
specifies the TV input service within
the service declaration you'll also need
to point to your setup activity and you
can do that by providing a link to
metadata in a separate XML resource once
your manifest is updated it's time to
implement your service to do that you
extend the TV input service class your
service is started by the system when
the user Tunes to your Channel and when
that happens the oncreate session method
is invoked inside this method you'll
return a TV input service session object
this contains callback methods the
system uses to inform you of different
events like when it's time to begin
playing back your content the first
important event is on set surface this
is used to provide you with an Android
surface object on which you can play
your content and you can do that using
androids media player EXO player and
other media players and by the way if
you knew the exo player it's a Google
maintained open source alternative to
androids media player API when the user
Tunes to one of your channels the on
tune callback is invoked this signals
it's time to start playback on that
surface there are additional callbacks
you can implement to handle things like
closed captions and parental controls
and you can find more details about
these at this link now in your setup
activity you'll need to provide
electronic program guide data or EPG for
short this is just a list of your
channels and programs it tells the
system what shows are on and when just
like other media data Android TV keeps
channel and program information and
content providers inside your setup
activity you'll map your program
information to the fields Android TV
expects you can find details about these
fields of this link and see a complete
example and some utility classes in the
sample app over time you'll probably
need to update your program data you can
do that in the background by using a
built in solution like job scheduler you
can register your job and run the update
during idle times say every night at
3:00 a.m. for more information check out
the developer training and the sample
app and visit the Android TV community
to ask questions and share ideas thanks
very much for watching and I'll see you
next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>