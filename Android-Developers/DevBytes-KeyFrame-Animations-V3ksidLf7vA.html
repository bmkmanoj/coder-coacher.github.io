<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>DevBytes: KeyFrame Animations | Coder Coacher - Coaching Coders</title><meta content="DevBytes: KeyFrame Animations - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>DevBytes: KeyFrame Animations</b></h2><h5 class="post__date">2013-01-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/V3ksidLf7vA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi I'm Chet Haase an engineer on the
Android team at Google I work on
graphics and animation and today I
wanted to talk about some animation
capabilities of drawables specifically I
want to talk about keyframe animations
using the class transition drawable this
is a way of specifying not only what
image is going to be displayed at any
given time but how long you're going to
display it before displaying
the next in a sequence of drawables
you've actually loaded into this thing
so let's take a look at the demo
fascinating demo where we see a gray
rectangle with some text on top when I
click on this it's going to start
running this animation with the
drawables that I've pre-loaded so click
on it we say frame 0 1 2 3 all that
click on it it stops a very exciting
application it's a little more
interesting in code so why don't we take
a look at that now so we see this class
called keyframe animation that I created
and there's an image view in here which
is centered in there where we load in
these drawables so we create an
animation drawable object where we're
going to load these things and for each
of these we're going to add a frame so
basically to create this keyframe
animation you're going to keep adding
frames to it and this represents the
series of images that it's going to
animate between so we add frame calling
get drawable for frame number and we
pass in I so basically I'm just creating
these simple drawable images that have
the number embedded in them there's some
code down here to show you how I did
that
so we just create a bitmap of a certain
hard-coded size we have canvas we draw
this gray color into it and then we draw
the text into it at an appropriate place
and then return a bitmap drawable based
on that bitmap so for each one of those
we add a frame to the animation drawable
set one shot to fall so we're just going
to repeat this infinitely until the
thing gets clicked on again we're going
to set this as the image drawable on
that image view and then we're gonna
have a click listener and listen for the
user to actually click the image and
then we'll start the animation running
or stop it so if the animation when they
click if the animation is already
running we're going to call stop
otherwise we're going to call start
fairly straightforward I'm not doing
anything interesting here if you had
something like an image resource with
actual timings embedded in the metadata
you could create a animation drawable to
mimic that exactly here I'm just using
the same hard-coded 300 milliseconds to
animate and move on to the next image in
sequence and that's it for animation
drawable thanks for tuning in</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>