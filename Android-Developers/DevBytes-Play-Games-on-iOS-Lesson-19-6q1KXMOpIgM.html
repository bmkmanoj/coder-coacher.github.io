<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>DevBytes: Play Games on iOS Lesson 1.9 | Coder Coacher - Coaching Coders</title><meta content="DevBytes: Play Games on iOS Lesson 1.9 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>DevBytes: Play Games on iOS Lesson 1.9</b></h2><h5 class="post__date">2013-10-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6q1KXMOpIgM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so now that we have this Oh F 2 point 0
access token I'm going to show you
something cool we can do with it so I'm
going to switch to my browser here and
I'm going to open up an incognito window
now don't worry this is still safer work
and I'm just going to go to gmail com
now you'll notice that in this browser
window I'm not signed in google has no
idea who I am but let's do something I'm
gonna go to https colon slash slash dub
dub dub google api scom oh here it is
games / v 1 / players / me and well at
this point I'm getting back something
that looks like sort of an error and I
guess that's not very interesting but
let me show you something I'm going to
add in ? access token equals and we go
back to Xcode and I'm going to copy this
access token go back here and paste it
into the URL and look at that we get
back information about me we get back my
ID my name the URL of my avatar image
now we're getting this information
directly from the Play game service and
maybe this seems normal to you or maybe
you're saying you no way mate you're
able to access the play game service by
hitting up web pages in your browser
what kind of crazy Brett magic is this
and that brings us to dent adana a
somewhat oversimplified and inaccurate
in places but good enough for most
intents and purposes guide to rest and
as an added bonus this presentation kind
of adds with a bit of a lie and we'll
get to that in a bit but first let's
talk about what we mean when we say that
the play game service is a restful
service this is a phrase we throw around
a lot here at Google because we are kind
of a web services company and this is
kind of second nature to us but I
realized that too many of you out there
you know your game developers you're
focused on client site issues like AI
and physics engines and multiplying
matrices and stuff like that and you
know you're thinking server side stuff I
don't got time for that I'm too busy
trying to figure out pathfinding or or
whatever so we're going to go over what
it means to be a restful service
if it feels too basic for you you feel
like you have a basic understanding of
this feel free to skip to the next video
I won't be offended too much but let's
talk about what arrest service really is
I suppose at its very basic core rest is
simply a set of rules about
client-server communication that very
typically is paired with HTTP as its
application protocol in theory these two
things don't have to go together but in
practice very often if somebody's
talking about a rest service they're
talking about a service that uses HTTP
which you know is that application
protocol that your browser uses which is
great for us because it means that just
about any language that kind of wants
some basic web browser like
functionality already has some really
nice support for making HTTP calls and
by extension has great support for
communicating with servers in a restful
way so the play game service typically
uses four types of calls get and post
should be pretty familiar to you if
you've done anything on the internet two
other calls that we use a little less
frequently are put and delete and let's
go over what each of these means get is
generally used to query the service it's
used to get information about a
particular thing or get a list of things
post and put are both used to create a
new object or to update an existing
object on the server this is used say if
you want to add or modify data upon the
play game service and delete as it they
might suggest is used for deleting
things in case you're saying to yourself
hey post and put look kind of similar
what's the difference the main
difference is that put is an item potent
call and what does that mean well that
means that if you make the same put call
over and over again the result on the
server will always be the same let's say
for instance that I had a call to add an
item to shopping cart if every time I
made that call another item were added
that shopping cart that would not be
idempotent I would go from 12 to 23 24
25 bottles of shampoo and that would
then be a post call on the other hand if
making that call repeatedly still only
put one bottle of shampoo in my shopping
cart then that would be a put call
perhaps another way to think about it
is post is typically telling the server
hey here's this update I'd like you to
apply go ahead and supply your own logic
because maybe there's other side effects
that that this call is going to make
whereas put is generally telling the
server hey just copy and paste this data
over what you've got try not to think
about it too much another analogy I've
heard that I kind of like is put is sort
of like setting an instance variable
directly you know we're going to call
some value equals 5 whereas post is kind
of like calling the setter maybe all
it's going to do is set that value but
maybe there's other stuff going on that
we don't know about whichever analogy
works for you go with it and again this
whole thing somewhat oversimplified so
it's time for low pop quiz here's a
bunch of calls we're going to make to
the service see if you can guess what
types of calls these would be so listing
all achievements well that is simply
querying the service and getting back
some data so that's a get call getting
information about particular player well
that's also a get call a giveaway might
be the fact that we use the word get
right there on the left so keep that in
mind incrementing an achievement that's
a post call and if you think about it
that kind of makes sense if we had an
achievement to say earn 100 coins and we
made a call to increment achievement by
five coins you would expect that every
time we made that call it would go from
five coins to ten coins to 15 to 20 and
so on right that call is not idempotent
it would be different every time we made
that call how about unlocking an
achievement now if you were to say put
you might be right and our judges will
give you credit for that because if you
think about it if you were to make that
unlock achievement call multiple times
that achievement would still stay
unlocked basically nothing else on our
service changes that and so that would
be an item potent call however in play
games case this is actually a post and I
believe the reason is the team wanted to
leave things open for future
functionality imagine that we had an
achievement that you could unlock
multiple times by keeping this as a post
we basically leave the door open to add
that feature in the future you know
without breaking backwards compatibility
but maybe this is a good time to remind
you that if you're ever wondering about
these calls don't try and guess don't
figure it out yourself
we have API documentation that you can
review and you should always check that
out and updating cloud save data in this
case it is a put because generally
speaking the service doesn't know much
about this cloud save data that we're
giving it all it does is it copies and
pastes this blob of text that we're
giving it on top of the say game slot
and if we ask to save the same set of
data multiple times that data doesn't
change on the service so let's go back
and review that call we made at the
beginning of this lesson this was a
plain old get call to Google API scom /
games / v 1 / player / meet you know
technically this looks like we're
accessing web page but really we're not
instead of hitting web server we're
hitting a rest server it just so happens
that our browser which communicates via
HTTP knows exactly how to make a get
call to that service and that service
spits back data in this case JSON that
our browser knows how to render and
display in a human readable way and if
it seems weird that we're kind of
blurring the lines between accessing a
rest service and hitting web server this
is basically a good thing one of the
nice advantages of accessing rest
service over HTTP is that you can do
things like ping the service directly in
your browser or make a curl call and you
can analyze the data that way without
having to write your own client that's
just made to access you know the play
game service so that's kind of cool
you'll also notice by the way that this
call did not work until we added our
access token and remember that is our
valet key that does two things one it
tells the service who this me string
actually refers to the service is able
to say oh this key is associated with
Todd Kerpelman Z count therefore we must
be talking about him second it tells the
service that I've given the guest my
number application permission to find
out who I am and retrieve basic
information about me like my avatar
image and my player ID and remember that
I did this all in an incognito window so
this access key was basically the only
thing the service had to go on to know
that the person who made this call was
Todd Kerpelman and this means you have
to be pretty careful about these access
tokens if someone else were to see this
video in the next 60 minutes and they
copied that access token they could
essentially hit the play game service
pretending that they were me because
they have my access token that token is
really the only thing that identifies
who I am there's a reason you know it's
called bearer token and that's because
the powers of that kia are associated
with the owner or bearer of that togan
and so you need to treat these things
with the same kind of respect you would
treat a password that means for starters
don't go displaying it in youtube videos
where anybody could copy and paste it
that would be a terrible idea in
practice this means you would not add it
as a URL argument the way I did you
would more typically send the access
token as an HTTP header and most
importantly any call you make where you
use an access token should always be
over SSL in fact if I go back to my
browser and I were to replace this HTTPS
with HTTP I'll get back an error telling
me sorry you have to make this call over
SSL there are a few other interesting
characteristics of rest services I
suppose your definition of interesting
may vary the first is that calls are
stateless meaning the service doesn't
remember who you are from one call to
the next in some ways maybe this seems
like a drawback because every time you
make a call the service you need to send
your access token you need to resend any
information that the service should know
about the player there's sort of no
shortcuts to hey remember it's me here's
another call I'd like to make the big
advantage is that this makes calls in
particular get calls very cacheable and
typically speaking a lot of calls you're
making through the game service tend to
be get calls so this helps speed up
things quite a bit I suppose somewhat
related that fat is the fact that get
calls will have no effect on your data
if your player were to view their
achievements 50 times there would be no
effect on their achievements these calls
are considered safe as mentioned put
calls or item potent as our delete calls
you can delete an object multiple times
and you know calling delete a second or
third time won't undelete the object
it'll just stay deleted typically what
you get back is human readable JSON or
XML I don't know if this is a hard and
fast rule this is sort of by convention
and again this makes debugging really
nice and easy you can see exactly what
you're getting back from the service
without having to you know interpret it
or run it
any other tools or anything like that
and perhaps more importantly libraries
exist for managing all this stuff and
you should use them we'll talk a little
more about these libraries and the types
you'll be encountering in the next
lesson so stay tuned
but the fire</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>