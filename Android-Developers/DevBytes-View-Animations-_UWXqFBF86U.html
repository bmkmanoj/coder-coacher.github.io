<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>DevBytes: View Animations | Coder Coacher - Coaching Coders</title><meta content="DevBytes: View Animations - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>DevBytes: View Animations</b></h2><h5 class="post__date">2013-01-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_UWXqFBF86U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi I'm Chet Haase from the Android team
at Google I work on graphics and
animation stuff here and today I wanted
to talk about some animation stuff
surprise surprise
specifically I wanted to talk about view
animations which is the set of animation
API is that are available prior to the
3.0 release so there's some more modern
api's that we'll talk about in future
episodes but for now we'll talk about
the API is that you might want to use if
you're running on devices that are
running platforms prior to the 3.0
release so view animations were created
specifically for animating the visual
properties of views it's not a
general-purpose animation engine but a
way to achieve specific visual effects
for your user interface so let's take a
look at a demo which I called view
animations we have a few buttons on the
screen that's are named after the
animations that are going to be run when
you click on them so we have an alpha
animation a translating animation that
moves the button around rotate animation
scale animation and then a set animation
is basically a way to choreograph
several animations on the same object so
we run all of those types of animations
on that one button to really to give it
a really horrible effect which I expect
to not see in any of your applications
now all of these animations that we're
running here were created and run in
code but you can also load them from
animation resources which we'll see in
the code in a minute so we can get
exactly the same types of effects
loading from XML resources instead so
now let's take a look at the code so we
have this class called view animations
it's an activity we have a checkbox that
controls whether we load from resources
or create these on the fly in code we
have the buttons that are created here
we have alpha translate rotate scale
sets and then we listen for clicks on
those buttons and run the animations
appropriately this is the interesting
part about how the animations are
actually created so this is how you
create some of these animations in code
so here's an alpha animation we say we
want an alpha animation that's going to
go from 1 to 0 that's basically saying
from fully opaque to fully transparent
and we're going to set the duration note
that view animations don't have a
default duration so you need to set a
duration to have any animation at all
otherwise they'll just happen atomically
and immediately which is probably not
the kind of animation effect you're
looking for we have a translate
animation that's going to be moving in
both x and y and you have the ability to
move in absolute coordinates or relative
to self or relative to parents you can
basically say I want to move for half of
my parents wit for example again we set
the duration and that animation is done
rotate animation again we have the
concept of being relative to self
relative to parent we have a pivot point
that we're rotating around here we're
pivoting around the center point of the
button itself so it's just going to
rotate around its center set the
duration and we're done
scale animation we're going to scale it
in both x and y from 1 to 2 which is
saying from my normal 100% size to a
200% size and the set animation is a way
of combining all of these animations to
run all on the same button to give that
really horrible effect that we saw we
set up each of these animations which is
just a method that I created to say you
know either using animations we created
above or create them from resources
which we'll see in a minute and then we
listen in on the button when the button
is clicked then we run the animation
appropriately so that's the code side of
this the resource side we can take a
look at and it should be fairly
straightforward if you understand how to
create these in code you'll understand
what the attribute names are in the XML
resource so here's the Alpha animation
we say from an alpha of 1 to an alpha of
0 duration we're going to make this a
little bit faster in XML resources
rotate we've got 2 degrees 360 so it's
basically going to spend an entire cycle
and it's going to pivot around half of
its own width so it's got a center point
right in its center for the rotation
scale animation here from X&amp;amp;Y of 1 so
that's from its normal 100% size to an x
and y scale of 2 so going to 200%
duration of thousand and here's this set
so this is how we choreograph animations
and do several things either in parallel
or in sequence we're actually doing all
of these all together so they're going
to happen all at the same time to give
the the most egregious effect possible
but you can stagger these in time as
well by using a start
set here we have an alpha animation
that's going to kick off at the same
time as a rotate animation same times at
scale animation and at the same time as
a translate animation so to load these
we can go back and look at the codes and
instead of just running the animation
that we created in code above we do a
animation utils load animation and load
it from the resource ID that we
specified so the takeaway from this
today is it's fairly easy to create
these things and to run these animations
and get some simple effects basically
moving things around on the screen and
and fading them in and out which can be
a very powerful tool to help your users
understand what's going on in your UI
fade the things in that are coming into
view fade them out if they're going away
move things into position and basically
give a more immersive and intuitive
experience to your users in future
episodes we'll see alternate ways of
doing this kind of stuff as well as
other more powerful animations thanks
for tuning</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>