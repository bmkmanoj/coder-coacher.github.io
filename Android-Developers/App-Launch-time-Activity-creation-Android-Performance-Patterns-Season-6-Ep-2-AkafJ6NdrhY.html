<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>App Launch time &amp; Activity creation (Android Performance Patterns Season 6 Ep. 2) | Coder Coacher - Coaching Coders</title><meta content="App Launch time &amp; Activity creation (Android Performance Patterns Season 6 Ep. 2) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>App Launch time &amp; Activity creation (Android Performance Patterns Season 6 Ep. 2)</b></h2><h5 class="post__date">2016-08-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AkafJ6NdrhY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">as developers there's nothing we like
more than an amazing activity that
delights and entertains our users but
sadly initializing all the subsystems
resources and layouts to provide that
experience takes a bit of time and
memory meaning the users are going to
have to wait for their transcendent
experience my name is Colt McAnlis and
one of the most important things that
you can do for the health and
performance perception of your
application is optimizing the
performance of loading your activities
remember when the user launches your app
they'll be shown a start window while
your app is loading and getting ready to
display now most of the time if your
user is spending too much time staring
at the screen the problem is most likely
to be in the creation of your main
activity I mean a bunch of stuff happens
here you're setting the theme data
inflating view hierarchies loading
bitmaps deserializing Network fetches
writing user preferences you know all
the stuff you need to display your
activity but if you're not careful each
of these little operations can fall into
their own performance pitfalls things
like multiple garbage collection events
or waiting to inflate views or blocking
on Network requests all things which can
delay the time it takes for the first
pixel to be shown to the user so if
you'd like to streamline your activity
loading to give users the best
experience possible here's what you need
to do first figure out if you actually
have a problem which you can do with the
method tracing tool this will give you a
snapshot of your call stack and let you
visually see what functions are taking
longer than others if the oncreate
function of your activity is taking
longer than 16 to 30 milliseconds then
it's worth exploring more to see what
might be causing the delay and this can
be done by inserting trace commands at
various parts of your code when you do
this the timing between the begin
section and end sections will be logged
and then displayed in your sisterís
captures so that you can see more
information about where your time is
going now if you found that your load
time is taking too long hopefully you've
been able to narrow it down using the in
line tracing code if not here's a couple
of common problems and how to address
them firstly the most common problem we
see with slow activity loads has to be
the time it takes to inflate a view
hierarchy see the larger your hierarchy
the more time it's taken to inflate it
and the more bitmaps or resources it
requires to load also adds to it loads
time as such anything you can do to
flatten the hierarchy reduce complexity
or stub out portions that aren't visible
right now will help to reduce the time
spent doing this work at the creation
time of your activity secondly try to
structure your code to rely on lazy
loading and async processing as much as
possible commonly the oncreate method of
your activity becomes a junk drawer for
all sorts of different initialization
routines some of those things do need to
happen right now others can be delayed
until later this includes things like
doing additional minimum loading of your
hierarchy loading all of your initial
images in an async fashion and waiting
to initialize heavy so systems until
they are absolutely needed
really the lazier you can make the
creation and loading of your activity
the better your performance will be but
that doesn't mean you need to be lazy
about the rest of your application
performance which is why you should
check out the rest of the Android
performance patterns videos and don't
forget to join our Google+ community too
so keep calm profile your code and
always remember perf matters</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>