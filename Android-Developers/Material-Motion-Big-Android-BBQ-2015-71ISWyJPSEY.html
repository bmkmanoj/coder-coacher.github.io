<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Material Motion (Big Android BBQ 2015) | Coder Coacher - Coaching Coders</title><meta content="Material Motion (Big Android BBQ 2015) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Material Motion (Big Android BBQ 2015)</b></h2><h5 class="post__date">2015-10-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/71ISWyJPSEY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name is Nick I'm one of the Android
developers at RetailMeNot and sometimes
I pretend to be a designer this is gonna
be one of those times if you want to
follow me on Twitter just my first
initial and then last name very simple
don't try to pronounce it though you
won't be able to
so this talk it's gonna be really simple
we're gonna be talking about animation
user experience and brains so first
we're gonna start with a little bit of a
natural motion and what that means I'm
gonna be talking about holding users
focus then we're talking about framing
attention then we'll get over to
material motion title of this talk and
finally we'll finish off with some goop
so how many of you guys went to the
other material design talk here great so
now you're all experts in the mind and
material design right sweet this is talk
is gonna be a little bit more designing
with some Android implementation so but
there's still gonna be a lot of Android
stuff in this talk so for those of you
who don't know what material design is
though I'm gonna explain it in three
cards first thing is material design is
material so views look as if they're
made out of something real and natural
right so a paper or plastic or gel the
views then respond in the way that that
material would respond right so you
don't expect a piece of plastic to fold
over on itself so why would the view if
it's made out of plastic
respondent uh fellow would fold over on
itself and animation views animate in
meaningful ways and guide the user
through the app so Google kind of gives
us some nice little guidelines on this
right so for material they kind of give
it this nice animation right so things
kind of morph into one another you can
kind of sense what material you'll the
view is made out of something by how it
looks and then you can also kind of get
a feel for how that material behaves
based on the interaction with it right
so in this case we kind of got a slip of
paper and it's getting picked up off the
page and moved around right and it feels
natural it feels like a piece of paper
should behave and finally we have
animations and google tells us that
animations should be meaningful and
guiding but what does that actually mean
what is meaningful and guiding actually
entail for your app well the first thing
is it's got to respond to the user right
if the user doesn't tap on a view then
it's not meaningful why did it animate
right why did the why did your animation
kick off before the user interacted with
it the second thing is in order to
actually be meaningful it has to guide
the users focus your animation has to
have a purpose then it has to serve that
purpose and that purpose is always gonna
be to guide the users focus and finally
while you're guiding the users focus
you're going to be creating new context
for your animation you guide them to
what they're supposed to look at and
your users kind of understand what
they're supposed to look at and they get
this new context based off that
animation that you played for them so
let's talk a little bit about natural
motion so what is natural motion what is
unnatural motion and why do we care
right so natural motion keeps motion
believable right things animate on the
screen in a realistic way right so in
order to do that we kind of have to
calculate right where an object should
be in the animation given the time right
because time flows linearly but your
animation might not so we need to
interpolate it and that's what motion
interpolation is so give it a formula we
animate our time or whether we interpret
our time into a set of values that we're
then going to use to play our animation
so there's a couple of ways to
interpolate motion and I'm kind of going
to go over four of them real quick to
give you guys an idea of the basics that
you guys need to know in order to make
your animations natural unbelievable the
first is linear animation and quite
simply linear animation just means that
one time flows your objects move
linearly right so as our time increases
our object moves just with that time we
can also do what's called easing in and
as our animation moves forward our
animation will actually Excel
so here's kind of an example of that so
by the time it reaches the end it sped
up a little bit we also have the
opposite of that which is our animation
decelerates while it's moving so it
starts off really fast and kind of slows
down towards the end and finally you can
combine those two and you can ease in
and then ease out right so your
animation starts off slowly speeds up
and then slows back down so watch that
blue dot spit up and slow it down so why
do we care about any of these things so
in order to keep your motion believable
you kind of have to apply these
interpolations in a way that makes
unbelievable
so the first one is easing in and the
reason that you would use an ease in
animation interpolator is for objects
that are leaving the space your object
is stay still on the screen then it
starts speeding up leaves a space
because it's sped up and it's going off
the screen and the reason that you want
to do this is because it's actually more
natural object speed up as they're
leaving the space your user has the time
to notice that object is moving but by
the time it's actually left to space
it's sped up fast enough that the user
knows that they shouldn't care the user
can kind of predict that that object is
going to leave the space similar thing
for easing out or rather the opposite
thing for easing out your objects are
entering the space so as your objects
are entering the space you want them to
slow down user will have a little bit
more time to figure out where that
object is in a end up easing both is for
when your object is moving within the
space right so if your object is gonna
be moving across the screen you want to
speed it up or you want to start off
slow you want to speed it up while it's
actually in motion and then you want to
put it where it ends up and finally we
have linear don't use this it's super
unnatural it's super robotic this is
what unnatural motion is unnatural
motion is linear motion if you want to
keep your motion natural use one of
those other three depending on what your
animation needs
however I will qualify this by saying
that an object in motion stays in motion
and that part is natural so if your
object is
flinging across the screen flying
through your application or in general
just coming on the screen and then
leaving immediately
go ahead and make it linear that's fine
your object shouldn't be slowing down if
it's not stopping on the screen or if it
didn't start from a standing position so
how do you do this in android
turns out it's ridiculously simple we
have these things called time
interpolators and Google has built them
all for you you don't need to do any of
this ease in is just an accelerate
interpolator because that's all it does
it just accelerates the object ease out
decelerate interpolator and then when
you want to use both accelerate
decelerate interpolator just how you
would expect and when you're animating
the view right so how do we actually
animate a view well we grab the view
from our ID we call animate on it we do
whatever animations you want translation
X translation Y translation Z you can
use that for this and you just call set
interpolator and just pass in a new
animation interpolator if you want to
have these what's it called
static in your app that might work but
you just pass that in and hit start and
boom that's it your animation place it's
really that simple all right now I want
to talk to you guys a little bit about
evil and talk to you guys about the
square root of all evil I want to talk
to you guys about premature optimization
so what is premature optimization
premature optimization is when you take
a thing that you think is going to be
slow but you don't know it's already
slow you just think it and then you go
ahead and you make it fast
without ever knowing whether or not it's
actually slow so for example if you were
to build out your app and you had a spot
on your app that you know you were
sitting there and you were like hey you
know what really makes sense of this
place Annie knew but uh Cole told me not
to use any news so I'm gonna go ahead
and make this in dev and so now you've
made this a new manned earth now you
made this
inu and your codes all messy and
everywhere is ins and you're using the
annotation processor for tight safety
type checking well when your intern
comes in trust me he's gonna screw that
and that's all because you did some
premature optimization oh and by the way
while you're all doing your enums and in
depth your networking class is leaking
memory because or rather creating
thousands of objects as you're using
JSON so how do you avoid premature
optimization well it's actually really
simple fix the slowest thing first don't
fix something you don't know is slow
find out what's slowing your app and
then fix it so with that what's the
slowest thing in your app call it
what's the slowest thing your app
anybody your apps are all super fast all
right great
because you're wrong there is a slowest
thing in your app the slowest thing in
your app is your user your CPU operates
on the order of milliseconds your user
takes 200 milliseconds between the time
that they decide to click on the button
and the signal from their brain goes to
their finger taxi to click the button
that's how slow your users are your user
might take 2 seconds to figure out they
wanted to click that button in the first
place so how do we fix this
that guy's got the right idea but
singularities a little bit off well it's
the same way that you would fix any
optimization problem in your code hit
the fast brain code paths what brain
code paths are actually fast so just in
general you have a couple of things in
your brain that are faster than others
the first one is colors and shapes
colors and shapes you recognize really
really fast if you've got a bunch of
colors on the screen you can identify
those colors really fast if you've got a
bunch of shapes on the screen you can
identify those shapes really really fast
if you have a bunch of text on the
screen that's really slow that requires
a lot of processing the other thing is
actually groupings right so you guys as
soon as that animated on the screen you
guys saw all what does that four by four
of those sixteen dots on the screen as
one group great that's super fast if I
split them apart your brain kind of
automatically just generates that
there's four groups on the screen now
super fast
always always group things together your
brain optimizes that for you and finally
peripheral vision stuff that's coming
out from the side of the screen or not
directly in your center of vision is
gonna be processed twice as fast by your
brain then stuff that's directly in your
center field of vision right and you can
actually find out a lot more of this
this is just scratching the surface
there's an amazing talk from Google i/o
2013 called cognitive science and design
and this is exactly where like I'm
pulling all this from and there's so
much on that talk everything like the
guy goes on that talk like I'm gonna
miss half the stuff that he talks about
but these are the core things that
matter to this presentation so this is
what I'm gonna mention but if you guys
are interested in how your brain works
go watch that talk it's on YouTube it's
amazing he also talks about Tigers
alright cool so now that we know what
are the fast pathways in our brain how
can we abuse them in order to create
animations that are going to be more
meaningful to your user
well we create animations that are
guiding so we have this super awesome
animation from the Google Play Store
right that Instagram logo just pops
right up to that top
as soon as you click it why would you do
that why would Google go through the
effort to make that animation
well it's because your that animation
guides your eye right there to that
point in where the arrow is right well
guess what that's right in line with the
install button and because they put that
little divider line right there your
brain groups out together your I already
lands exactly where Google wants you to
be which is next to that install button
they can actually probably improve this
further by moving the install button on
the other side of the screen and then
your install button is right underneath
your logo that they animate it to so
that provides context to the user right
but there's something else that we can
do and that's that motion attracts
attention right so remember what I said
about peripheral vision well whenever
something moves on the screen your brain
kind of snaps to it right and that way
your user is very similar to a t-rex
because both of their visions are based
on motion but there's an alternative to
this don't move anything that you don't
want to attract attention to right you
don't want to attract the attention of
that dinosaur in the same way that you
don't want to attract to that attention
of that user you don't want to attract
attention to anything that you don't
want people paying attention to so don't
move it right don't move stuff across
the screen if it's not the core focus of
your application or of that screen and
then also don't move more than one
element at a time like this is really
important there all should only be one
thing moving on the screen at a time so
let's take this animation that we had
kind of in the beginning of a talk and
this is a really complicated animation
that we have but it still follows that
principle of not moving more than one
thing at a time
even though there's a bunch of
moving on the screen so first of all
notice that those tail bubbles they fade
they don't move they just fade away
that one bubble moves and then expands
out but then those orange blocks they
still move one at a time by the time one
of those orange blocks finishes moving
that's when the next one starts and
they're also fading in so even though
we've got a lot of motion on the screen
we're still only moving one thing at a
time which means your user knows what to
focus on because they're going to focus
on that
that's moving that's the thing that's
going to attract attention all right
so motion attracts attention more motion
it attracts less attention subtle motion
attract less attention so if we don't
want to attract something
attention to the screen but we still
want to move something on the screen how
do we do it well we do it subtly so why
do we actually need subtlety right so
here we have the Google Play Store or
sorry the Google YouTube app and
whenever you swipe through this app
right we kind of got a lot of our
attention going on in the sliding
content right in the center of the
screen so that's all great but then we
got this thing in the top corner that
keeps shifting around right that
subscription to account and your brain
kind of notices that right the sudden
flickering your brain pays attention to
that and then well you notice it now in
Google's case they might actually want
you to notice that they might want you
to know which tab you're on but maybe
for your application you don't want them
to notice what tab they're on right you
just need that title up there because
some PM told you to write like but you
don't want them to actually pay
attention to that well you could do a
lot to reduce that first thing you can
do is fading right
but we'll get into in a minute so let's
use everything that we kind of learned
to build up our UI first thing is fade
on important elements in and out right
when you look at this animation that's
playing notice all of the other icons on
the screen they fade out they just fade
away they don't move they fade away now
how many of you guys have seen this gift
how many you guys notice that that's a
different guy right so your brain kind
of has this bit of an optimization when
we interrupt your brain with like a full
kind of bleed image and we'd completely
erase your field of vision your brain
kind of forgets what was going on we can
use this to our advantage in a great way
so you see all those tabs up at the
screen at the top of the screen well
besides fading we also completely clear
those away with that giant circular
animation so we can use reveals to kind
of transition our app into different
states that we need to transition them
to right you can use a huge reveal to
wipe away the screen wipe away whatever
the user thought was there before and
your user won't even notice it right
because most people aren't going to
notice the fact that the tabs aren't
there anymore
they're just going to notice the giant
Instagram logo that's moving around all
right next thing small animations can
help a little bit with transitioning
your UI so we have that little animation
at the top of the screen that little
arrow animation how many of you guys
noticed that that that was playing this
whole time like every single time you
play it yeah one guy just just for the
record for everybody
one guy noticed that yeah that animation
is playing up at the top but it's so
subtle and it's so small that everything
else going on on the screen completely
obliterates it right but at the end of
the day we have a back button there we
used to have a menu button hamburger
menu button right but now we have a back
button hey that's a lot more useful now
for this screen cuz we don't need a menu
button on there we need a hamburger or
sorry we didn't need a back button you
can have hamburgers later right small
emotions are obscured by big ones cool
so let's make this stuff easy if you
learn nothing from this talk if you go
home forget everything the one thing
that I want you to remember from this
talk is this one line of code right here
animate layout changes equals true this
code is magic as far as I'm concerned
Google has literally taken
99% of the animation work and done it
for you with this one line what is this
one line look like that that entire
animation that's playing right now is
done by one line
well one line and then setting stuff to
be visible and invisible right so
whenever anything changes inside of your
app inside when everything changes
inside of your layouts if you have
animations layout animate layout changes
equals true on your entire app will
animate on its own that transition will
happen the layout will figure out what
to move around what to do and how to
move it in order for everything to fit
on the screen in the case of linear
animation or linear layout this actually
works phenomenally well use this
everywhere if you just need an animation
that plays slap that line in there boom
you're done now what if you want to do
something a little bit more complicated
well you can start doing some manual
stuff so let's talk a little bit about
fading you can all animate the object
alpha and this is actually really easy
right you just take the view dot animate
alpha if it's visible then you want to
yeah if it visible you want to set it to
one and then if it's invisible you want
to set it to zero oh and don't forget
the interpolator because you want this
to still be natural even though we're
animating colors here we can still
animate them naturally linear animation
or sorry linear fades still look worse
than interpolated fade so how does this
look right here's button fade in and out
right again one line of code color
changing let's say you wanted to change
colors in your app right say a button
needs to go from say gray to blue say
for example if you're enabling that
button well turns up we have this great
thing called object animator and we can
call object animator of RGB we give it a
what's a call we give it a bitmap or in
our case drawable and we tell it what
property to animate in this case we're
animating the tint and then we give it a
background color or our current color
the fade color set the interpolator
and then we hit start and that's it
there is one caveat to this this is the
API 21 but that's not a big deal you can
do the exact same thing an API 16 and
above all you have to do is instead of
passing in instead of saying Ave RGB
you just got to give it a new a RGB
evaluator so that's just API 21 just has
something as a syntactic sugar for that
but yeah otherwise Oh also perf matters
don't use set background color use tint
if you're actually trying to set the
background color with this tint animates
on the GPU so that's a GPU animation and
set background color is going to reset
and invalidate your your drawable so
that's going to be a lot slower than
just setting the tint and if you're
animating that matters you want your
animation is playing at 60fps so here's
what that looks like
right have that button we click it
change its color everything goes it back
to normal
great animated vector drawables all
right bear with me here these are these
are complicated but they look fantastic
so also they're API 21 you guys can go
bug Colton chat and ask them when
they're finally going to drop this into
the support library how do you do an
animated vector drawable first thing
that you have to do is you have to
declare a vector drawable you give it
your height your width same way that you
would any vector drawable then you also
have to define your viewport width and
your viewport height that's actually
going to depend on the data that you're
gonna pass into this vector drawable so
in our case this vector is going to have
a path and that path is just gonna have
1 it's going to have its name it's gonna
have its fill color and it's gonna have
its path data in this case it's string
slash circle what is string slash circle
string slash circle is this giant SVG
file well in our case it's not actually
very big but you can get these pretty
large so in our case is just an SVG file
so yep there it is there's that circle
and again the viewport width depends on
that string so you gotta ask your
designers if you have any what the
viewport height is and what the the
basis of all the numbers are because
it's all relative
so then we
find the animator vector right we got
our vector drawable we can define it as
an animation we tell the Android which
drawable to use well use my vector we
tell it what the path it's animating is
called well in this case it's
compression and then we tell it the
actual animation which is path morph
what is path morph path more if this
here right so this is just a standard
animation set we give an object animator
we pass in the value from and to so in
our case the two value is string slash
compressed and then in this specific
example we actually go backwards after
that so you pass in the duration and
this what this will actually do is it'll
play those two animators sequentially
and that's because we set the order to
be sequential and then we also set the
interpolator in this case it's the
decelerate interpolator but cool so
right that goes to that what our
animator drawables vector drawables look
like well remember that animation that
we had earlier with the back button that
is actually an animated vector drawable
right so they have three lines there and
in one case they have three lines and a
certain formation and then they have
another vector drawable with the three
lines and a different formation and that
formation is the back arrow and then all
they do is they interpolate between the
two Google handles all that for you all
the complicated SVG transformation logic
that's all done for you you don't have
to worry about it you just create your
animated vector drawable and then the
example that I actually rolled well
that's what that looks like it's just a
circle it kind of gets squeezed together
or rather it's stretched out and then it
goes back to where it was so alright so
we've talked a lot about motion we've
talked a lot about animations let's put
everything that we've kind of learned
together so we've got our natural
movement right accelerators decelerators
interpolators and then we figured out
how to use that guide to guide our users
well if we combine those two together
well you actually end up with is fluid
motion so what is actually fluid motion
well fluid motion is
elements appear from other elements and
then they disappear into other elements
right so things don't just spawn onto
the screen
willy-nilly right that's why we're
animating these things the motion is
natural and the motion is subtle right
so when things are elements we might
want the user to notice that when they D
spawn we user probably doesn't care
we're gonna be subtle about that we're
going to go ahead and are gonna combine
everything that we've kind of learned
into this one giant heap in order to
create the animation that we need in
order to guide our users focus in a
fluid manner so here's an example from
my app right RetailMeNot so we have this
navigation toolbar this home row and in
some parts of the app we don't actually
always need this right so how do we get
rid of this home row without kind of
throwing the user off right because this
is like our core central navigation
feature and we want to hide it in some
places right how do we do that well we
do that like this we fade away the
background and the colors end up on
white and then we just swipe away the
the colors turns out people don't notice
that animation whenever we need to play
this animation we need to play it
because we're transitioning to a screen
that doesn't need that home row
navigation well because we're being
subtle about this because it's fast and
because it's fluid people don't actually
notice that this animation plays and
that this entire row is gone so it
actually is it being really awesome and
like we can transition from just the
toolbar to the toolbar with a double row
with the secondary navigation but we can
make this better
quite frankly we'd like to have that
animation play and then we'd like to be
able to tell the user when the animation
is back right when those buttons come
back we don't want it to be that subtle
that's not necessarily the right way to
go the way that we can do that are sorry
actually I forgot to mention something
or other I talked about it already right
the reason that we want to do this we
established the element with the
hierarchy between elements clearly that
toolbar right there is much more
important than the secondary navigation
in this case right so we establish that
that toolbar is on top
it's more important and is always going
to be there the secondary navigation
slides in and out depending on whether
or not we need it so clearly it's not as
important right tabs are secondary but
then we also build and change seems
scenes seamlessly right so we hide
elements that we don't need at the
moment right unobtrusively great so now
then going back to what we were talking
about let's say that we wanted to have
the user pay a little bit more attention
to the actual animation when it comes
back in how can we do that well the way
that we do that is by blending colors
right again this is one of the fast
pathways in your brain this is going to
be really fast for user should notice
users are going to notice this right so
let's say we come in and we have this
toolbar and we want to bring back those
navigation buttons right how can we do
that in a much more seamless way there
we go we can blend the colors together
right so we're using that circular
reveal to kind of come from that new
top-level toolbar and then we're going
to animate in and we're gonna animate it
in all those tabs and this tells the
user again those tabs are back first of
all it makes them notice that and the
second thing is that tells the user that
those tabs are related to that
navigation bar right so even if we have
other stuff on the screen that's going
to be purple the users are still going
to notice those those toolbar come back
in cool right brain perf group stuff by
colors all right so we kind of had this
weird animation in the beginning of our
talk and right so this thing and it's
kind of interesting right so what is
this actually doing well this is
blending shapes together right so
outside of blending colors which is one
of the fast pathways in your brain you
can also blend shapes another fast
pathway in your brain turns out your
brain actually does this really fast and
it kind of understands this but this is
kind of a weird example I don't know if
you guys remember but this was one of
the examples that I use to define what
material is right but what material
actually behaves like that right like
plastic mmm not really well it actually
turns out that this material behaves
similar the way you'd find in a lava
lamp right that is to say something
gooey
so with that if we take that gooeyness
we can literally create fluid motion
right so don't just have fluid motion in
your app be fluid motion have your views
animate as if they were a fluid right
make your views gooey so what is gooey
what does that even mean
well you simulate your views as if they
were a high viscosity fluid right so
something that doesn't necessarily flow
like water maybe something more like
molasses your views looks say solid when
they're stationary so your views seem as
if they were actual buttons or whatever
the user needs for that specific case
but they move as if they were liquid so
that they can transform into each other
they can move they can flow through your
app and before we kind of go on I want
to show you guys this animation by Jake
Ubuntu leak and I apologize a pronounced
that wrong but this animation kind of he
posted this on his Twitter and this
animation kind of exemplifies everything
that I'm talking about in this talk
right this is kind of the inspiration
for this entire talk and sort of
everything that I've been doing for the
past month so I just want you to watch
this right everything flows seamlessly
from one scene to the next more
importantly everything here is providing
the user with the context of what
they're actually doing within the scene
buttons transform you understand what
you're doing right that blue button
transformed into a selector that
selector transforms into an OK button
you know exactly what you're doing on
the screen you know exactly the order of
operations you know exactly what's
happening because all of these views are
morphing from one to another it
sequentially follows that views that
morph from one to another relate to each
other so
let's talk a little bit more about goop
goop easily changes shape which means
that you can take something like a
square button and animate it into a
circle and it changes that shape and it
goes smoothly and it's natural right if
your views behave as if they were gooey
it's a natural animation views also can
easily create other elements from each
other right so as you're moving along if
you need to spawn more views you can
spawn more views from one another and
it's naturally understood by the user
that those views relate to each other
right you wouldn't put three separate
buttons on the screen that animate in
that format and then not have them
relate to each other they should all be
meaningful right so if you have for
example three menu options you animate
them from one menu button and you get
three different buttons that all relate
to each other and the user kind of
intuitively knows that those things
relate to each other because again that
happens faster in your brain then if
they were to scan each and every single
one of those buttons and decide whether
or not they relate to each other right
so will eight elements of one another
using this sort of GUI animation so how
do you actually do this in Android right
this is not a trivial task we're getting
into sort of this really interesting
part of Android that hasn't been done
for you by Google everything that I've
talked to about to this point has
already been done for you well we can
kind of categorize this goop into
several different situations and the
first one is simple simulations right so
something that not too hard to kind of
fake and the way that you can do this is
with vector drawables and canvas
animations and we'll talk a little bit
more come out canvas animations in a
second if you have something a little
bit more medium complexity right then
you might want to have an animation list
right so if you have views that kind of
transition between each other or if that
animation is reversible so you can play
it forwards and backwards you can use an
animation list to keep that to animate
that but that's a little bit more costly
for you because you need a designer for
that but we'll talk about that later
and then we have our hyper complex right
stuff that just like we don't know what
like we can't do this in any other way
and for that we actually need true fluid
simulation
so let's talk about the simple stuff
first right so if we have a static
animation that's always gonna play and
it's always going to be the same
animation then we can just use a vector
drawable right we define our group in
sort of a vector we can animate between
those vectors in the same way that we
had before and then we can continue
onwards if we want something more
dynamic though we're gonna have to use
canvas animations so good job magic move
cuz of course I meant the animations
from the other one okay so canvas
animations are when you actually
override your views override your
drawables and you create your own paths
and you animate your own paths so this
is actually like making and drawing
views and invalidating them this isn't
as performant but it still works on
high-end phones but then again we're not
exactly trying to match this stuff to
really low-end phones like this is some
some hardcore animations here so it's
not gonna run on a low-end phone right
so we have this canvas and we drew this
path this is what this path looks like
simple triangle right but if we wanted
to make that triangle look and behave a
little bit more GUI we can add a corner
radius and that's what this corner
radius kind of looks like so here we
just kind of iterate through all these
values and I show you what the corner
radius kind of looks like when you apply
it right so at some point in time the
corner radius just goes way overboard
and it doesn't do anything anymore but
before but at the end at that point we
can actually start to use it and it kind
of starts using looking a little bit
gooey right so we can kind of use these
canvas animations to animate our views
and applying corner radius we can get a
pretty reasonable simulation of what a
GUI should look like if you were to
start animating your paths that is to
say take that path draw it to the screen
and then start changing values every
single frame well you can animate this
really cool sort of GUI like effect
again you want to use interpolators in
this because goo does behave in a
nonlinear fashion we can all use we can
also use animation sets right so for our
views they're a little bit more
complicate
we can't really do that in a simple
canvas animation we can start using
animation sets so this is a little bit
more costly because you have to render
your animation first right
this is pre-rendered animations you
render it and after effects you take
your frames from that animation and for
the record about 15 frames as 250
milliseconds which is what I usually use
for my animations the longer animation
the more frames you're gonna have but
hopefully your animation is reversible
so you can reuse these frames in Reverse
we add all these frames to our animation
list right and we set the duration to be
16 milliseconds per frame and then we
just apply toward goop or whether we
apply it to our view and we can draw
these animations to the screen I don't
actually have a example for this because
quite frankly in a talk like this that
would just look like a gif right that
would look like any other animation
because it's just you're straight up
what's it called movie like that's how
movies work right alright so what if we
want to get kind of complicated with
this right what if we wanted to actually
simulate this stuff on the screen as an
actual like actual fluid simulation so
usually fluid simulation extremely
expensive right but even if we could
simulate it right how do we apply that
to our drawable well we do that using
what I call bitmap mesh right so Android
has this great feature called draw a
bitmap mesh right this is available from
API 1 so this was here from the start
and the way that it works is you take
your mesh right in the same way that you
would have an OpenGL mesh square grid
and you can apply that mesh to a bitmap
and what Android will actually do is
it'll transform your bitmap depending on
that mesh so if you take your mesh and
you stretch one corner of the mesh all
the way out your bitmap will stretch in
the same way so we can use this to our
advantage
right what if we could use a mesh and
make it behave like a goo well maybe we
can right so this is exactly what I'm
talking about
we have
mesh we made its Emilia coupe and we
applied it to our bitmap so up on the
top screen this is what it looks like
without the mesh and underneath I show
you what the mesh actually looks like so
what Android is actually doing is it's
deforming that circle bitmap which in
this case is actually just a circle
drawable and it's deforming it in the
way that that mesh indicates all right
so turns out that's actually pretty
simple and if we take an optimized
physics simulation that kind of is
optimized for this rebounding animation
and this deforming we can kind of
simulate this stuff right so we just
render a drawable to a bitmap right so
we can take any view any button anything
that we actually want to do render it to
a bitmap deform the mesh that we draw
underneath that bitmap Android pipes all
of that down by the way that bitmap mesh
is really really fast that goes straight
from your canvas code straight into
OpenGL because what Android does under
the hood is it just creates that mesh as
an actual mesh and then draws the bitmap
over it as a texture in the same way
that a 3d game would that's really
really fast and like I said this is
available from API 1 so this can run on
something like a nexus one or a t-mobile
g1 or whatever it came before that right
and then we can render that bitmap to a
canvas and then we can actually draw
that canvas as our view underneath it so
that's where this comes in GUI bits so
I've started working on something like
this in fact the animation that you saw
up on the screen was actually rendered
by this library and demo app is coming
soon probably sometime by the end of the
year and I would like to stress that
this is an early experimental proof of
concept stage library this is not ready
for primetime don't try to use this yet
trust me I'll tell you when it's good
it'll be v1 there's no version yet so
you guys have kind of download this and
you can check it out and play with it a
little bit but it does work and it works
really well the fluid simulation part of
this is actually already finished at
this point in time it's just best
deformation and bitmap deformation right
so at this point all I'm really
is just trying to get all of the
different behaviors that you would
expect from a piece of goo to draw into
this mesh and then apply that mesh to
your bitmaps and then move that mesh
around in the way that you would expect
goop so I expect to be able to be able
to rip apart two pieces of goop and have
two separate pieces of goop so oh I
guess that's twice in there all right
cool so this is like the bleeding edge
of design right this isn't something
that you guys are probably heard of
because it's not something that's been
seriously propagated throughout the
design space but I see this as kind of
moving forward with the natural material
design this if you want to follow this
this space in general there's a lot of
designs already up there not a lot of
implementations although some designers
have gone out and made a couple of
implementations there's some really good
ones you can check them out material up
for those of you don't know is this
fantastic material animation like
repository where a bunch of designers
just drop their material animations in
there right and you can look at them and
go like wow that's really cool let me go
implement it material up calm it's very
simple you can type in GUI into the
search box and you'll actually get a lot
of animations you can also follow me on
Twitter
Simon shameless self-promotion because
I'll be tweeting about this quite a bit
more moving forward throughout the year
as the animation library moves forward I
see a couple people taking photos so I
expect one two three more followers yes
up and that's almost my talk but before
I go I want to show you guys this I know
if you guys know Luke but Luke's really
popular in the Android space and the
mobile space but this is kind of my
first exposure to GUI was thanks to Luke
and I just really liked that line on the
second tweet GUI is the new flat so GUI
is the new flat guys get cracking</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>