<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Cyanogen Themes: Your phone, your canvas (Big Android BBQ 2015) | Coder Coacher - Coaching Coders</title><meta content="Cyanogen Themes: Your phone, your canvas (Big Android BBQ 2015) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Cyanogen Themes: Your phone, your canvas (Big Android BBQ 2015)</b></h2><h5 class="post__date">2015-10-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/q7qZOLc3mvU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thanks everyone for attending our topic
today we're gonna be talking about
cyanogen themes your phone your canvas
so we have three speakers here today
obviously so i'm michelle the senior
product manager for themes before that i
actually was working at xiaomi also
working a bit around themes and helping
the company expand abroad we have clark
who officially has been hacking on
android since the release of the g1
prior to signage and he worked on
chameleon OS which is a sign engine mod
based rom which supports the new UI
themes unofficially he is our theme
wizard and then we have dave who is the
product designer in our team and he
prior to that he was working in cove dev
unofficially he's actually our in-house
theme design guru and one we haven't
added we have over there Andy he's one
of the original members of themes he
works on our theme store and a lot of
service stuff but he actually built out
the theme store too so yeah he's right
over there
ok so we have one of the most awesome
teams but we're here today to talk about
themes and personalization so what are
so we're gonna talk about what our
themes how themes work designing themes
and we're gonna preview one of our next
big things we've been working on so what
are themes at sign engine we believe you
should be able to make your phone as
unique as you are after all everyone's
different everyone has their own style
their own passions their own interest
so theme was this solution to this it
allows the end user to easily change the
look and feel of their device you have
the ability to change
the lockscreen boon animation icons
fonts ringtones pretty much anything you
name it so we actually take themes quite
seriously and we're glad the media also
recognizes it as well we're actually
going to I'm going to talk a little bit
more about the theme products so for the
end users we have theme store theme
chooser and app themer for developers we
have the theme studio the theme store
houses signage and themes it streamlines
the discovery process and optimizes
search results so that you can easily
search just icons controls wallpapers
and fonts all of the content in the
store is all created by the community
the theme store offers users a deeper
level of customization so users can
select a theme separate it into
components then swap the components with
another theme so like mix and match so
to speak this allows the users to create
endless combinations of themes that is
completely unique to the individual then
we have app theme er which takes it even
further so this allows the end user to
just customize one app and the rest of
the device remains in its original theme
lastly we have the theme studio it's a
platform where our theme developers can
upload their theme to the store and it
allows them to track the downloads and
manage their themes so the products I
just talked about this is like a
framework that ties everything in start
off so it starts off if you can see here
on the theme studio end where the
developer theme developers published
their upload their theme then it gets
published onto the theme store where
then it gets selected by the
user and then it gets applied and Clark
will talk a little bit more specifically
in detail about that so the theme store
actually we've launched it about a
little less than a year ago and I want
to share with you some general
statistics majority of the themes right
now we have are all paid so about 85%
are paid and a 15 or 3 it's all
community driven and we have about a
five point five percent weekly growth
rate so which components to users like
to customize we have a lot of different
components and a lot of people actually
tend to think wallpapers might be the
most often that people like to customize
but surprisingly it's actually boot
animation and font
I mean fonts is actually the most
popular followed by icons and then it's
boot animation okay
now I'll pass it to Clark to explain how
themes work guys hear me okay all right
so being an engineer I like to know how
things work so anyone any engineers out
here right now software engineers any
again alright well we got a couple so
hopefully guys I'm here to at least
explain a little bit how themes works on
the backside and our framework so let's
get started how exactly does nothing
work when you actually are using a theme
how does what happens in the back end
actually makes it change the visual look
and feel well as my boy Shia would say
it's magic while I would love to say
this because that would be the easy way
out I'm not going to do that so let's
take a look at it a little bit so we
lovers a thing called the runtime
resource overlay Roo for short this was
something that introduced by Sony a
couple years ago and it's actually an AO
SP right now
so we Andy masse actually I'm gonna put
him on the spot again this guy started
the foundation before I started here so
he actually started working on the RO
before I ever had a chance but we
leveraged something it's already named
SP it made sense right we don't want to
reinvent the wheel so we took that and
went a little step further to make it
work with our theme engine
so what does ro do well it replaces
resources at runtime hence the name so
it does that by mapping resources from a
theme to the application so whenever we
want to get a resource from an
application it'll find the theme version
and give that back to us and so this
magic is really happening down at the
native layer we're doing this is in the
order of microseconds so we can fetch
these themed resources really quick so
we don't see an impact to the user so to
understand what's going on here we have
to have a little background on what
resources are so what are resources in
application so they're not these
resources sorry what they are resources
are just assets that application can
access besides the code it's got access
to things like what are called draw
bowls these can be bitmaps that can be
vector drawables which were introduced
in lollipop they can be shapes colored
drawables there's a plethora of
drawables that are accessible to an
application and themes can also
interchange these drawable so it can be
a lot more flexible if I draw was a
bitmap we can turn into a vector draw we
can turn it into an animated draw bolt
so it becomes something much more than
it originally was
there's layouts layouts to find the UI
to the for the application so this tells
where the views are in the in the layout
where buttons are and stuff like that
there's XML which is usually just
generic XML that's specific to the
application there's no set format for it
it usually can define certain
information maybe States or configs and
stuff like that specific to an
application and then some of the meat
and potatoes is in an area called values
these are XML which define various types
of values like arrays
colors dimensions they can be used for
padding text size and stuff like that
the strings the text that you see on
your buttons and in the UI is usually
defined in this XML values as well as
Styles now Styles is basically think of
it as a collection of attributes that
determine how a theme or how an
application looks or a UI element looks
so we we've got this thing called a bag
that just takes all these attributes
puts them together and then displays
those to the user so while we have
access to all these resources there's a
few that we do not allow the theme and
there
good reason for that layouts we don't a
lot of theme because applications update
all the time
and if an application gets updated and
they add a new view or they change their
layout if we theme that they're gonna
now try to get that part of the UI
that's not there now because it's been
themed and they're gonna the apps gonna
crash so it looks bad and usually the
user doesn't see the theme is the
culprit they see the application and the
app is the culprit so we don't want
application developers to be blamed for
stuff that our theme engine could be
doing so that's off-limits
XML just doesn't make sense because
that's generic to the application or
specific to the application so there's
no need to do that a raise a raise will
usually a collection of values and those
values can be other resources like color
so those can be themed elsewhere so we
don't touch arrays we don't touch things
like boolean cuz billions can change
values true or false and a theme could
potentially enable something the
developer didn't want enabled because
they were using a boolean value and then
string strings we should be changing
text anyways an app theme could militia
be malicious and maybe fish and change
text and they change the icon of an app
and now they change the text to make it
look like a banking app or something
like that and then there's a whole
aspect of translations and locales I
mean if you theme a string you're
basically gonna have to provide all the
translations for it too and it's poor
user experience so those those types of
things are off limits so now that we
understand what resources are there's a
couple way that an application actually
asks accesses these resources one of
those is via XML so here I've got an
example this is actually a vector
drawable that was introduced in lollipop
this one happens to be of our
CyanogenMod mascot Sid and if you look
here in the red there's a reference here
called at color cyan that's a color we
defined elsewhere an application it's
one of those resources and so now
whenever this icon is drawn it's gonna
fetch that color and it's gonna be drawn
in that now a theme could now change
that color and so Sid could be instead
of cyan he's now purple or maybe pink
you know depends on what the theme ur
want the other way we can access
resources is via code so an application
developer might want to access certain
resources so they can do that one
important thing is they need to import
this our Java class so Java has to let
Java know of what classes and stuff
you're going to be using in your code
you have to import it so this is a
specific class that gets generated at
Build time for the developer so a lot of
this is ik
distracted to them they don't really see
what's going on in the hood so I'm
actually gonna provide a little details
for that for you but in this case we're
trying to get a string in a drawable via
code and we're accessing them using that
art class and for Strings we're using
our dot string and for drawable so we're
using our that drawable so it's an easy
way to get those resources both in XML
and to the application in code so now
we're going to talk about resource IDs
and we did have a problem here earlier
getting access but SIDS is helping us
out so we've got our idea we can get
past this now so resource IDs this is
the meat and potatoes of how resources
are provided to an application at
runtime now as I mentioned these
resources like these are generated at
Build time from a tool called a apt and
that's Android asset packaging tool this
tool will take look at your resources
generate the r.java for you so you can
access that via code and it also creates
this thing called a resource table that
has all those IDs stored in it in a
format that it can quickly access at
runtime so it's a very efficient system
the resource IDs are unique to the
application but they're not always the
same IDs across different applications
it can vary so research like it's just
an integer it's a value that tells the
system a few bits of information the
first one on the left is the package ID
now androids got this concept of package
packages for resources every application
gets the android framework resources
which is package ID one application
third party apps end up getting a seven
F which is at the bottom of the spectrum
and then everything in between there's
libraries and other types of resources
that can be loaded in with their own
resource ID that get tagged on so you
got a package ID that tells the system
ok which groups on which group am I
going to grab this resource from now the
next value is a resource type this is a
value that was generated runtime as well
that says ok it's a drawable it's an
integer it's a string it's whatever this
VAT l's it exactly where to go in this
table and then last once it's found that
area where those types are it's got an
entry index and that just tells it
really quickly where to go in memory to
fetch that resource for you so using
these three values it can quickly grab a
resource at runtime and bring it right
back to the application to be used
whether it's in
outs code so okay we've got resource IDs
we have resources now how do we get the
theme to mix to work with all this right
so there's a tool called ID map this is
a built in with Android system it's a
binary that runs at when the apps
installed when the theme is installed
and basically what it does is it creates
a mapping from the application to
resources that map it to that one in not
theme so it's using those resource IDs
it basically goes through the theme
looks at all the different resources it
has and first it it looks at the type
okay
the type needs to match a drawable needs
to match to a drawable a string to
string so FAR's you can't make some
match you can't have a dimension being
mapped to a color so that stuff that's
the first constraint the second one is
the name of those resources have to
match so before you saw in my example I
had like my app icon and stuff like that
so those names need to match and once it
finds that matching between those two
values it'll say okay the applications
resource ID is this the things resources
ID is this so now it knows that whenever
I asked for this guy it can just point
directly to this one and fetch that
resource instead of the original
application and the way this is stored
it's enough just like the resource table
it's an efficient structure where we can
quickly grab these mappings and be able
to fetch the resource as if it was never
themed I mean it's really good so how
does this work once we've got all this
in place all right so our application is
gonna say hey I want to get this
drawable called app icon okay so we ask
the system Kay can you fetch me this
drawable so it goes down and there's a
thing called an asset manager and it
will actually try to grab that resource
for you it's taken that ID that we've
provided to it it's gonna say okay which
packages in it's in 7f all right we're
gonna look it up or we find the resource
but we see that it's got an ID map to it
so what do we do well we're now going to
point to the themes resource table and
ultimately the theme is going to be the
system's gonna return the themed
resource so even though we were asking
for this app icon what we get back is
the theme version which happens to be
this food PNG so we've got everything in
place we've got these resources being
mapped and stuff so what's it look like
once we start doing this on the left
here we've got the quick setting tiles
from lollipop this is what everybody
used to seen like an arrow espy this is
the standard look and feel but let's
apply one theme
so we got the same thing and we still
got our quick-setting tiles nothing
changed there but now we've got some
different look we got some different
color some different iconography even
some of the dimensions can change within
there just to give it a better a
different looking filter for that
particular user and if we do it one more
time once again everything's still laid
out the same way but we get a visually
different look so if the demo gods are
going to play nicely with me I'm gonna
actually just a show you guys real time
a couple theme changes so you can just
see that we are doing this runtime and
it's really quick sorry it's see that
for the most part so I'm going to go
from our settings application we can go
right to our theme chooser and like
Michelle said we can mix and match
themes so we're not we don't have to
apply a theme whole cell so right now
here's what my status bar looks like and
then like quick settings drawer so I'm
just gonna change my system UI I'm gonna
go to one of our other themes here
called hex oh and I'm just gonna hit
apply and now I've got a different look
and feel there another cool thing that
I'd love to play with is our app theme
er so I'm gonna use this instead so
we're in settings I just want to change
settings I don't want to change anything
else and this is where app themers
really awesome for that now that I'm in
settings I can click on this little fab
up here and I get a button so let's go
back to system so there you see we're
right back at the system theme just like
that runtime don't like that here's our
new Zuk z1 theme so again its settings
but visually it's slightly different you
can see that we can change a lot of the
elements to give you a look and feel and
but we're not reorganizing stuff because
like I said we don't change the layout
so the user is still going to be
comfortable with the UI they just get a
different look and feel they make it
their own and that's what themes is all
about so now that we see how themes
works and we know how to apply a theme
and see well it goes
Kocher here is gonna let you guys know
how to make a theme and actually get it
published
alright so Clark just told you about how
themes actually work oh now we're gonna
talk about how to design themes so what
goes into a theme we have nine different
components that you're able
to include inside a theme on cyanogen so
we have lockscreen boot animation
notifications ringtones alarms fonts
overlays icons and wallpapers some of
those are really simple swaps where it's
one-to-one so something like the lock
screen right now we currently allow you
to change the wallpaper on the lock
screen so it's as simple as including a
new wallpaper within the theme and when
the user applies a theme you'll have
that wallpaper that same type of
one-to-one swap happens with the boot
animation notification sound ringtones
sound alarms fonts it can get a little
fun so you can include a completely
different font and have that work
throughout the system but the cool thing
about fonts now is that you can actually
change the font per weight so if for
your bold characters you might want to
have like a different font you can do
that you can include a font and have
that one called out specifically maybe
for italics you want to get like a nice
script font you could have that too so
you could have that kind of diversity
within the system that'll work
throughout the entirety so if an app
says hey I want you know this italic
weight you know your font will be
provided there so that's a really cool
thing that we offer of all of these
components the ones that have the
biggest visual impact for users are the
overlays the icons and the wallpaper so
wallpaper is pretty simple just like the
lockscreen if you include a wallpaper
within your theme it'll work and
actually in our latest 12.1 release of
cyanogen OS you can actually include
multiple wallpapers now that a user will
be able to choose through in the theme
chooser that we saw earlier so let's
talk about icons now we all know that's
how we have to interact with the
applications on our device if you want
to get into Twitter you got to click
that icon you want to get into Facebook
you click the icon so that's a really
big piece of the visual landscape when a
user is interacting on your device so
with themes you can actually create
unique icon sets that work to match the
rest of the look and feel that you're
going and it's literally you know
however your imagination wants to be you
can sit there and go and create just a
whole different look for each one and
craft each one individually to have that
unique feel now let's say you don't want
to have to make a thousand icons because
that's just a lot of work we offer the
ability to compose icons using a couple
images and they'll be able to cover a
limitless unlimited amount sorry of icon
so what you see here is essentially
sandwich of layers all right so we start
at the bottom with our little backplate
down here and what happens is you can
create this back plate and that's gonna
be the first thing that gets put into
the canvas the next thing you're gonna
see would be the icon that is provided
by the separate application so again
like Facebook that's the icon from
Facebook and then you can create this
masking layer so what a mask does is it
allows you to essentially create a space
that you only want to show so if you
wanted like a star you could create the
star in the star inside is the only bit
that's gonna show and then it's like you
scissor out the rest of it so for in
this one it looks like a fingerprint
that's what's gonna see and I'll show
you that in a second and then on the top
it would be an overlay so maybe you
could do something like you want to
create like a divers helmet so you could
have the background of the divers helmet
have that ink icon on the center part
and then you could actually stamp the
visor over it and have this kind of
glassy look that would cover the top of
it giving you this really cool look so
you've made all of those layers how do
those work it's really really simple
within the icons component there's a
file called the app filter and with just
these four lines right here we can
create this system where we have the
icon backplate that we made earlier the
mask as well as the overlay and then
there's an additional attribute called
the scale factor so you can actually
scale the stock icons up or down to fit
your needs
so if you want them to be up to fill out
the space that you're gonna be cutting
out with the mask you can scale them up
a bit like we've done here to make sure
that some of the edges are not still
within the masking so what would that
look like on device well those layers
that we just had two slides ago this is
what they look like when they get
composed together so for four images
you're able to get a unique icon set
that will scale up to however many apps
that a user has installed in their
device so it's just a really simple way
to get maximum coverage and still have
like a themed look on your device so
we've talked about icons let's talk
about overlays what's an overlay well so
for every package on the user's device
there's going to be resources that are
specific to that package so the theme is
able to break these down so you'll have
your tree structure which will have the
assets your overlays and then you're
gonna be able to call out so every every
app has a package
so if it was you know the system UI
which is your pulldown bars
calm Android dot system UI and the same
thing for the phone and for Settings
each one of those is going to be a
separate overlay directory where you'll
be able to house the specific resources
for that one so we'll dive into that
just a little further right now but I
want to talk about common first now
common is a unique feature to our theme
engine that allows you to have a central
location that's accessible to all of the
other application overlays within the
theme so if you're going to be using a
single color throughout your theme maybe
you want to make a blue theme what you
can do is you can include the blue color
within your common overlay and then
reference that value in all the other
ones so instead of having to say like
your hex code is you know whatever it is
you don't have to put that in every
specific overlay you can put it in one
location and then tweak that in the
future so you know you've been working
on this for a couple weeks and you
realize that that blue is just not
saturated right so all you have to do is
update in the one location and it'll
populate throughout the rest of the
theme and you won't have to worry about
it after that and again this common
folder is magical it works with
everything drawable Styles colors
dimensions you can put anything that the
theme engine can cover you can put in
there and that's gonna allow you to save
space in your theme because you're not
gonna have to duplicate the same thing
over and over
so let's look up how an overlay might
get put together so here we have
settings so what are some of the items
on here well we have the action bar in
particular this action bar is actually
going to be controlled by a style within
the app so we look here and so a big
part of creating a theme is actually
having to dive in and look how each
application is made up and luckily
enough most of the sources available
right on github so you can go in and see
how settings is made how dialer is made
and so forth so for this one for the
action bar the theme this one what we're
going to do is the pre-existing style
theme that action bar is part of the
settings because we want to have a
reusable action bar that we can use in
some other different styles we're
actually going to create our own style
called Sinjin dot action bar and that's
going to allow us to cover all
different visual aspects of this so
we'll be able to change the background
normally this is an elevated action bar
but you can set that elevation value to
zero and be able to get that back down
on the same plane as the rest of the
settings and so forth you don't even see
we make use of the common styles over
here so that's for the text rate up here
we actually have that put in the
comments so if I want to go into like
the messaging app I can reference that
same style and I'll know that my title
text is going to be the same across
every single app that I'm female what
are some other aspects that we can do
well so we have all of these icons right
here so in this case these are actually
vector drawables and we have those so
each one of these is going to be a file
that has all of the point data that
makes up the shape and you again you'll
see that we actually have that common
folder again so we have a color so each
one of these is going to be using a
color and we just reference that in the
common folder and again so if you don't
like the way that green looks anymore
you can change it one time and it's
gonna work in all those files so you
don't have to go through you know 30
different image vector drawables and be
like I didn't like that one let me
change the hex code again nope nice and
easy and simple with the common folder
what are some other things well let's
look at how this is really composed so
this entire screen is going to be using
this style called theme that settings
base there's a lot of different things
here so I know it looks a little but
once you start doing a lot it actually
starts to make sense so there's
different effects that you can control
like the color background right so I'm
pointing that to a common value theme
background so that way in every app I
can make my background color the same
because again I'm using that common
folder I think you're gonna start to see
the theme here same thing with
everything else like the theme edge so
that's like when you do the over scroll
it does like a little bit of a color
that's something you can also control
it's pretty much every aspect on the
screen is tweakable within a theme and
you can really create this custom look
that just really just is different so
there's some other stuff too we've been
talking about colors what about
dimensions so you can do things like the
elevation so normally in the lollipop
theme the all those categories are
actually lifted up as cards but for this
one we've actually set those against the
background so we did that by changing
the elevation value there's other things
like padding
and margins and you just tweak each one
just a little bit and allows you get
this different look so we go from this
look back to the stock and then back to
what we just stayed so you can see it's
actually really different you can see we
can press each of the line items
you know we've got different colors all
the spacing is different and it really
gives you just this unique look that
you're able to achieve that you can you
know if you don't like it anymore you
can turn it off and you don't have to
you know run any like a new ROM you
don't have to like reset any settings
it's easy it's just switching it off and
so sometimes there's gonna be some
cross-pollination and when it comes to
elements that are something you have the
themes so in this instance majority of
what's on the screen is going to be
within the Settings app but there are a
few things such as these switches and
that search icon which aren't going to
be within the settings app for something
like that you're gonna also have the
theme framework because controls like
radio buttons checkboxes all originate
within the android framework so you
don't always get to do just one overlay
to get the home tire look sometimes
you're gonna have to go outside the box
and say well I also have framework so
you need to consider how it's going to
look in all the different ones that you
are theming so that was just really like
a big brief overview of what goes into
creating a theme there's a ton of styles
and colors and values that are out there
for you to tweak and it's really just
about diving in and seeing all those so
here's a couple things to keep in mind
should you want to get started and do
this you want to try to reuse your
styles and colors via that common folder
again this is unique to our theme engine
and it's really useful for making sure
that you don't have to do more work in
the future when it comes to tweaking
things and this even allows you to
create variants of a theme maybe you
want to do a red version you really
liked it so if you set everything up
correctly using this common folder you
can just go in tweak everything within
there and have like a different color
available just like that vector
drawables these were recently introduced
with lollipop API 21 and they are
fantastic if you're not familiar with
how Android handles different
resolutions it creates these different
buckets so you'll have like drawable
hdpi that'll be for like an HD screen
you'll have drawable double xhdpi
that'll be for like a qHD and so what
vector drawables
do they allow you to create a single
image that you play some draw wall and
that's gonna scale up and down based on
your resolution needs allowing you to
create only one drawable and then have
it look like pixel perfect on every
device otherwise you're gonna have to
sit there and make each version if you
want it to look good you could opt to go
for a larger one and have it scaled down
but this will give you the the most
crisp results framework styles now I did
mention that you have to do some things
in framework your controls there's no
other way to do that but there are
styles and frameworks such as like theme
material themed material light you don't
want to mess with those because those
can cause conflicts and apps that you're
not specifically theming so maybe you
had settings which was using theme
material light and you're like oh I want
this text to be white here and you go
and change it in the framework what'll
happen is you may get like a reddit app
that's also using that and then you're
gonna end up with white text on a white
background and that's not gonna look
good for the user so you want to try to
avoid messing with the framework styles
and handle everything within an app you
can still point to those framework
styles but you want to make sure that
you're doing most of you reddit's within
each one so that way you don't do
anything any conflicts with apps that
you're not specifically covering and if
anybody is an app developer out there
you can help themers by not putting your
resources with directly within a layout
so if you have a textview don't just put
a hex color right there inside your
layout file or point to like a framework
color that you don't want them to change
point it into colours XML or dimensions
or something like that because otherwise
themers can't touch it and that's that
makes everybody sad so seriously keep it
out of layouts but so yeah so that's
pretty much a basic overview of themes
there's a lot to dive into and see and
basically the best way to get started is
just to dive in so we have a template
available on github
that's github.com Sinjin android
packages themes template ah you can if
you just search signage in theme
template it'll come up in Google search
first word result but yeah that's it I'm
gonna turn it over to Clark who's going
to tell you about the next big thing
coming to cyanogen OS those who are they
here
just want to say this is the first time
that we're showing this publicly so you
guys are privy to something that hasn't
been seen outside of cyanogen our
offices itself so I'm really excited I'm
humbled to be able to be the one to
present
this because I I love this feature it's
really cool I hope you guys are gonna
feel the same so let me just go ahead
and get started and let me start by
saying there's there's one part of the
OS we saw that users interact with all
the time you see this this screen this
layout on a regular basis I I don't have
statistics but you're probably doing at
least once an hour if not almost every
five minutes or so I mean so that is the
lock screen so work but we've proposing
is a project called live lock screen now
we took a look at the standard lock
screen and said well what can we do with
it well we need to understand how it
works and what's well what's the
problems with it and so forth so first
thing is functional so that's that's not
a downside that's a plus it's functional
it serves a purpose you've got your time
you've got notifications you've got
stuff that's important to you so it has
that for it but it's static right you
turn it on you see the same screen every
time you see your clock you see the same
image with CyanogenMod we did allow the
user to change the block screen
wallpaper but again you're seeing that
same lock screen wallpaper every time
you turn your screen on until you go in
and change that so it's always the same
and to us that's boring like we're all
about customization and personalization
and we want to bring that to the lock
screen we want when you turn that phone
on we want you to at least enjoy that
even if it's for a brief moment like it
should be fun it should be entertaining
it should be Lively
so this is where we come up with a live
lock screen it still has to be
functional that's that's there's no
doubt about that right we still have to
provide a lot of information that you
see on your normal lock screen or we're
accustomed to that but it doesn't have
to just stay at that point we want to be
dynamic it can be lively like that the
idea is the lock screen comes to life it
becomes something more than just that
screen that you see when you turn your
phone on and with this the customization
it's really limited by the theme
designers imagination I mean we're
trying to make this so that it's as open
as possible so that these guys can
create some awesome content and so when
you every time you turn your screen on
we want to be fresh and fun and
depending on how they implement these
lock screens it can be different every
time that you turn it on it doesn't have
to stay the same
so we're trying to go from what's on the
left here to something that's on the
right where we've got vivid colors we're
gonna have animations we've got time
we've got stuff that we need to see but
it's gonna be in a way that we enjoy
looking at it
so we were looking to the LifeLock scene
we were looking at a lot of different
technologies how can we do this and we
need to keep in mind who's our user in
this case for making a live lock scene
well that's theme designers that's guys
that have done stuff like this but
they're not necessarily coders they
don't write code but they might have
done something that similar code are
they're just coding that is flash and
ActionScript so a lot of stuff we did we
actually went with a webview and we're
using a lot of frameworks and projects
that have been standardized and provide
syntax similar ActionScript so we want
guys that are doing maybe flash
animations and stuff like that on webs
to be able to just jump right in the
barrier to entry we wanted it to be very
small so the reason we web G with a
webview is because we can use WebGL we
can use a canvas WebGL backed we can use
all these exorcising libraries that are
a flashlight but not flash because flash
is dead and just in case the hardware
doesn't support it this is also going to
use a canvas for WebGL our I'm sorry
html5 canvas so it's a normal canvas if
the device doesn't support it but if it
does it's gonna be harder accelerated
and most of our demos we're doing 60
frames per second and once I show him
it's pretty awesome and that we can do
that one thing is though it needs to be
sandbox it's a lock screen right we
don't want to open up a security hole
where somebody can access your
information or they can access the
Internet right so even though it's a
webview there's no internet permissions
we've kept the permissions down to the
bare minimum to facilitate what we need
to do for a lock screen without
compromising the security so we were
able to achieve this because Android in
newer versions of Android they
introduced a JavaScript interface API
this basically allows us to say hey we
want to allow these methods to have
access in JavaScript but nothing else so
we can actually lock this down and say
give them the api's that we want them to
have and just that there was a time in
Android where somebody could actually
cleverly do some JavaScript and get into
any other class in Android that they
want access to and that was bad so
that's where the JavaScript interface
came into place so we we make use of
that and we use it for things like
creating unlock methods so it's a lock
screen they're gonna have to unlock it
but the way they unlock it is still it's
up to the theme designer so it could be
swipe left to right draw a circle do
push a button who knows what that is and
so they just once the user performs that
action they can unlock it they can also
unlock the common apps like MMS Browser
phone your camera things that you're
used to getting to from your lock screen
in addition to that we provide some of
the basic data to that to the JavaScript
side we have the time the date now the
time and date they're formatted in the
locale for the user so we return a
string is already in the format that
they need if you have a 24 hour clock
you're gonna see a 24 hour clock on your
screen even if it's the live lockscreen
and if you're a different locale
different language it's gonna be
formatted in that format and then we
have things like battery level battery
are you charging so you can get stats
like that so the theme could show
different animations based on battery
level they can get things like missed
calls and so they should know different
text maybe a little bird flies in and
says you haven't missed tweets something
like that so because it's a dynamic
lockscreen we need to have data that's
dynamic it needs to have some way to be
able to create this different contact on
the fly that changes with time date
weather so some of those things like I
said there's battery in state and level
but there's also we provide weather so
we can give the the JavaScript side
here's the weather format in text gives
them the condition the city they're in
but we also have some constants to find
we're using a Yahoo API right now for
the weather and so there's all these
different constants to say what type of
weather is it's a thunderstorm it's
snowing outside the theme could
potentially use that information and
change this to what they're showing you
on the screen so if it's thunderstorm
and lightning you could have some
animation of lightning going on and
maybe you have to swipe the lightning
bolt away or something like that but I
mean it provides a lot more dynamic
interface time of day one thing we added
in this we actually found this Jim Steve
our CTO found this in one of his
projects he did there's this thing
called the Twilight service now I
unfortunately not open up to application
developers but what this does is it
takes the user's geolocation in time of
day and it can tell us when the sunset
is when tomorrow's Sun rises and stuff
like that so we provided API is that the
lock screen can use this stuff so if you
can know when the Sun is going to be
setting so if you want to show a night
scene you will know hey it's past sunset
so I can go ahead and show the night
scene if Sun is rising you can show an
animation maybe the sun's starting to
come up on your screen as you turn it on
stuff like that we also have location
it's generic it's just a geolocation so
if somebody wanted to act on a on a
specific lat/long to show something we
provide that and then addition to that
since you Laxmi we want to show things
like missed calls mixed text sorry
unread text messages unreal emails so we
have api's for that they can't read
those messages they can't read the
emails or anything we're just providing
that those numbers to let them know hey
this is what how many unread emails this
guy has so if you want to display some
UI with that go ahead so one of the
things we didn't want to do we didn't
want to reinvent the wheel we wanted to
use things that were already out there
in the street that have been proven and
there are very popular robust and that
also fit the criteria we want something
that was flash our ActionScript esque so
people would be able to use it quickly
so some of the technology became what we
ended up implementing whereas we have
pics ejs which is a graphic frameworks
it's supposed to be the fastest kid in
town so we went with that one there's a
couple api's from this green socks that
provide animations so we have a tween
light library and a nice pack that
provides smooth animations and it can
also change the rate of the animations
to make them nice and smooth and provide
a much better visual experience and then
because some watch means may want to do
sounds we brought in this buzz library
which also facilitates plain HTML sounds
without them having to do the work of
adding an html5 audio element so it's
all been abstracted and related to use
so real quick I'm gonna go over some of
these so picks ejs like I said it's they
say they have the fastest kid in town
and so far from the stuff that we've
been doing with these live off lock
screens they are we're getting to 60
frames per second so these things are
really fast and it's being rendered on
OpenGL so there's a lot you can do on
the GPU to provide multi-touch so all
that's available via the JavaScript so
you can do touch events you'll be able
to do single multi whatever you want to
do where they also have a thing called
WebGL filters these are basically what
we want to know is GPU shaders so they
can change the way the images are being
drawn on the screen maybe make something
look pixelated they have filters for
that they have one that makes it look
like newspaper print so you can apply
these right on the fly without just a
couple lines
and make it change they provide tinting
and blending so you can do all the
things you're used to with graphics
fading stuff in and out blending things
together with different colors tinting
them there's a spritesheet support so I
don't know if you guys from everybody
familiar sprites but it's common in 2d
video games where you can have a whole
set of animations that define the
different cells for that animation so
maybe a character running across the
screen
that's all loaded in one image called a
sprite sheet and pixie allows you to
load that kind of stuff up
it doesn't via this asset loader which
does it in the background so the locks
can do other code while images is
loading so they don't have to waste
cycles just spinning around waiting for
stuff and of course it supports text and
text can be your own fonts system fonts
and bitmap fonts so some some times you
may not want a font to just be flat or
just colored or maybe shaded you want
more texture to it so you could provide
a whole bitmap that's got all the
different letters in it and pixie will
actually draw your text using that
mapping of letters so so like I said we
have a couple api's from green socks we
use between light and ease pack and this
provides nice smooth animation similar
what Android does as well when you're
doing application development tween
light it basically takes a couple
properties and it'll tween them from an
object so say you have an object X Y
it'll move it to this new position and
you give it a time and it'll do that
transition for you all you do is say hey
I want you to go from here to here and
this time and it performs the animation
without you having to do any other work
this works in conjunction with ease pack
which actually provides ways for that
animation to be smoothed out a lot
better so instead of being linear and
just quickly moving from one spot to the
other it can ramp up its speed it could
bounce it can stretch it can do stuff
that makes the animation a lot more
lively and stuff that we're used to in
real life because things don't just move
and then stop at the position that I
usually slow down so ease pack helps
make that easier for the team designer
and then buzz like I said that place
sounds it's a really easy API to use I I
was reviewing a couple other ones and
this one was like the simplest out of
all of them it it provides basic
functionality you can load augs waves
mp3s AAC's and as well as control all
the plane of it so you can loop it you
can pause it you can stop you can mute
it you can fade in the volume control
the set it to pursue guys
it provides a lot of stuff that you're
gonna need for for something like this
and it's easy to use so with that said
this is an early stages but I'm gonna go
ahead and demo this is like this is the
first time we get to show this off and
this is really what laughs lock screens
shines cuz slides can only say so much
so advisor will come back up again okay
so I've got a few little live lock
screens here that I've done when I was
trying to do a proof of concept for this
I'd came up with a little demo I'm not
Dave Kover I can't draw I'm an engineer
I write code I can't do anything but I
realized I can do rectangles and I can
do rectangles really really good and not
only can I do rectangles really good but
I realized if I put these rectangles in
a certain way I can make it look like a
city so I've got this little cityscape
lock screen and I can swipe on it Oh
moves it's got like this little pop-up
book look and feel you know and I guess
Y it and it'll animate back on when I
let my finger go that's using tween
light so this is the first demo so this
is mine this looks really like an
engineer did it everybody can I say and
then I can unlock just like a normal
lockscreen the next demo I came up with
pixie Jas actually had a demo of using
those WebGL filters as I mentioned in
the tinting and stuff so I took their
concept and turned it into a live
Lakshmi their concept was this little
fish pond it was like a cartoonish
little fish pond like I think I should
have that slide of it for you guys I
mean a lock screen and so we get this so
now we have something that's vibrant and
actually animating so you see a lot of
motion on there but you still get some
information right so I still got my
clock but it's it's fun to play with and
as I swipe my finger down it'll actually
distort more so you get that little
distortion effect going that I was using
their WebGL filters it was a
displacement effect so I can play around
with that and tweak it and when i unlock
it all does that one now we've been
playing with this internally a couple
weeks ago we've actually put this in our
internal dog food builds where we test
our stuff internally and a lot of
engineers there are getting excited
about it and they're trying to come up
with stuff too and one of our engineers
Dinesh he found one there was
actually a demo by the guy that wrote
pics ejs and it was done a couple years
ago so I was actually using an older
version of pixie J s but he ended up
getting it running on a live lock screen
this one's actually really funny so we
have here's one of those party poppers
you know where you actually pull them
apart and you get confetti blowing out
so he found this and then as I move my
finger you can see it'll stretch it's
got the rope effect and stuff like that
now when I swipe all the way away so
every time you know I mean it's just one
of those things that's it's fun like
you're interacting with your phone you
might as well have some fun with it
since that's the part you're gonna see
every day alright so the last time was a
little bit of a two-parter this is
something that I cooked up a couple
weekends ago and so this is a social
media where we're playing around with
maybe providing away API for to get
social media images and stuff like that
onto your lockscreen so this demo is
actually gonna use Instagram so what I'm
gonna do is I'm gonna type in a hashtag
and I'm gonna go I think it's it's my
tags ba BB q 15 all right so I'm gonna
enter ba BB q 15 just say fetch I don't
through my Internet's working and I'm
gonna switch over to the social media
gallery lock screen and if all goes well
hey thank you no okay
I thought that was Ray so as we go it's
just fetching a few a it pulls in the
most twenty recent hashtags for that
particular tag that I entered and you're
able to see those images actually
flashing and I can I can swipe this up
and let it go
there's that bounce so that's using
those animations again so this one's
still early we're still playing with
this one but it's it's shows the
potential of how you gonna block screen
so now not only do you have animations
but you have different backgrounds every
time you turn your screen on and it can
change throughout the day I know that
guy
believe demo gods are with us this time
so that concludes our presentation we
have some time so if anybody has any
questions go for you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>