<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Wear: What's New &amp; Best Practices (Google I/O '17) | Coder Coacher - Coaching Coders</title><meta content="Android Wear: What's New &amp; Best Practices (Google I/O '17) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Wear: What's New &amp; Best Practices (Google I/O '17)</b></h2><h5 class="post__date">2017-05-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/97U6W-5iF_o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good morning hi folks and welcome to
what's new and Android wear my name is
David singleton and I lead the wear team
globally it's been a really busy year
for us and I'm really excited to be able
to share some updates on Android wear to
toe and also some of the new watches
that are coming later this year with you
today so even before the Android wear
code at Oh lunch we were seeing really
nice momentum in this market during the
holiday period last year we saw 72
percent growth in new devices activated
compared to the year before and you know
since the launch of Android wear we've
always said that people should be able
to wear what they want and part of this
is the choice that users have between a
host of different designs and styles of
watch and we can only deliver that
through partnerships with iconic brands
the number of brands supporting Android
wear doubled from 12 last year to 24
this year and the choice of Android wear
watches has doubled from 23 last year to
46 this year and we've seen continued
support from our consumer electronics
partners I'm neither joined by their
fashion counterparts and this means that
whatever your style our partners have a
watch for you
for example tag or have updated their
lineup with the connected modular 45
it's a really innovative hardware design
which means that you can change
everything from the horns to the
bracelet and the clasp another partner
that's refreshing their lineup this year
is Michael Kors with their new access
Grayson for Men and access Sophie for
women I love these watches they've done
a really nice job with the design and
with watch faces including one that lets
you put Instagram photos right there to
see throughout the day as well as
existing partners we're also welcoming a
bunch of new partners this year and
we're excited to see partners like
Movado one of the most iconic
watch brands bringing their trademark
minimalist design to Android wear
aside from watch hardware we're seeing
app developers like many of you in the
room and on the live stream take full
advantage of Android wear 0 we know that
people love to stay connected while
they're out and about via their Android
wear watches and our partner telegram is
taking full advantage of the standalone
functionality in wear 2.0 not only does
the app work the same way if you're
connected to an Android phone or an
iPhone
but when you're watching a cellular
connection it even works without the
phone and so sending stickers like you
can see in this little video to your
friends has never been easier
another great experience made possible
by the rich display on Android wear
watches is getting coaching while you're
working on so let's take a look at this
app from our partners seven minutes work
ID it sounds really great I really love
using it it guides you through 12 30
second long exercises and you don't need
any fancy equipment just a wall a chair
and your Android wear watch and you can
use it to stay fit and healthy another
feature that we added to wear to dotto
is the ability to have complications
support so users can now select the
watch space that they love the look of
and have the important information that
they care about available at a glance
throughout the day here you can see
Robin Hood the financial investments app
is showing your overall portfolios value
right there on the watch face and
tapping on that if it's maybe changed in
an interesting way takes you to their
watch list you can then tap on
individual stocks to see their current
value in the trend over time so we see
that the best Android wear apps really
focus on users needs and what they care
about and then play to the strengths of
the wearable form factor as you can see
here as part of the wear to todo launch
we also announce that the Google
assistant is now available right on your
wrist you can find answers and get
things done by starting a conversation
with Google and we have some new
features here so for instance you can
now long press on the crown on your
watch and say send a
message to Felicity who's my wife and
the assistant we'll deal with the
interface presentation message dictation
and deliver to whatsapp just the data
that it needs to complete that action so
we're testing this functionality right
now with selected partner apps and it's
going to be open to all actions on
google developers in the coming months
in the meantime if you can't wait to get
started you can develop your actions for
the google home and the phone today and
your actions will automatically be
adopted for where when actions on Google
is enabled for Android we're coming soon
no additional work is going to be
required and that means that going
forward as well as notifications watch
spaces and native apps you have another
option to bring your service to Android
wear and we're super excited about the
new capabilities that this is going to
bring so in the rest of this talk Jen
from our user experience design team
will give you an update on material
design and what we're doing to make
designing and developing an Android wear
easier after that Griff will highlight
some of the Android o features that are
of particular interest to Android wear
developers and finally Nancy will talk
about power and what you can do to
conserve battery so with that I'd love
to hand it over to Jen
all right hi everyone I'm Jen and I lead
user research for Android wear so today
I'm going to talk to you about some of
the changes that we've made to wear 2.0
as a result of research and feedback
that we've received over the past year
so I'll go over some design guidelines
some common pitfalls and how we're
working on improving the developer
experience to start off I just want to
say thank you so much for all of the
feedback that you guys have given us
over the past year on the Android wear
Developer Preview so we've made many
improvements to the platform as a direct
result of your feedback like bringing
back theater mode and swipe to go back
so thank you ok today I'm going to cover
three topics watchface complications
Android wear UI design and developer
feedback all right so first let's talk
about complications so a quick refresh
of terminology a complication is a piece
of information on that watch face that
tells the user something other than the
time so like these highlighted bits here
so last year at Google i/o we introduced
new EP eyes to help developers build
complications then they enable any apps
to supply information to be displayed on
the watch face and they'll also allow
any watch face to be able to present
that information to the user in a way
that fits its style so we found amusant
research that people really like
complications they like being able to
choose the data that they want to see at
a glance and which actions they want to
perform quickly so here's a series of
watch faces from one of our user studies
now these are actual screenshots of
watch faces that participants had set up
after they've been using their watches
for a week so we didn't give them any
instructions on how to set up their
watch faces they customized these all on
their own and I'll point out a couple of
interesting examples so when this watch
face on the bottom the user wanted quick
access to their music so they set a
complication to launch the Google Play
Music app
and then this complication on the top
the user wanted quick access to their
schedule so they've got a complication
to show the name of the next meeting
want to show the time of their next
meeting and one to show their unread
notification count so when user research
we also learned something that
frustrates users and that watch faces
that look like they have complications
but the data is actually not editable
the users quickly become used to being
able to change the data on the watch
faces to be whatever they want so if
you're a watch face creator then don't
just display a static set of information
on your watch face adopt the Android
wear complication API to let your users
choose the data that they want to see
and if you're an app developer then
think about what information that your
app provides that users might want to
see at a client
all right so we learned that
complications are great and users love
them so why haven't all watch face
creators implements them the answer that
we hear from you is that it's hard
especially if you're implementing
everything from scratch so watch face
developers have the freedom to draw
complications however they want but that
means they have to handle everything
themselves including the text size
position style and layout so to make it
easier we've added two components to the
wearable support library text renderer
which auto resizes text to fit the area
that you specify and complication
drawable which goes one step further and
completely renders the complications for
you
if you tell us the location style and
size that you want
yay
all right and one other thing that makes
it really difficult to create
complications is implementing the
configuration screen like this one that
you see here which can show the user
exactly where the complication is laid
out on the watch base and all of the
different things that they can customize
so to help you implement this part we've
created a watch space setting example
hosted on github that you can take and
easily adopt to change however you want
it to be and after coding then comes
testing and so to help you with that
we've created an open source test suite
data provider so this makes it easy to
check that all types of data are going
to look good on your complication on
your watch base and you can send this
open source you can also supply your own
data if you want to test for a specific
use case and if you want to find out
more about all of these tools and go to
the Android wear UI session tomorrow or
one of our lead engineers Ollie's we'll
talk about the complications API and
walk you through a bunch of these tools
there it is all right so the second
topic I want to talk to you about is
Android wear app design so last year we
introduced a number of new UI pattern as
part of the Android wear 2.0 Developer
Preview so we've learned a lot from your
feedback in the past year and we've
updated the guidelines on when to use
certain features and when not to so for
example take the wearable navigation
drawer so this should be used for
infrequent context changes like
accessing settings
logging out or switching users if your
app has a small number of discrete
functions however then instead of using
the navigation drawer it might be better
to use multiple app launchers so say you
have a fitness app that has two discrete
functions activity tracking and
historical analysis you can put these
functionalities under two different
Launcher icons and so a number of
questions number another question that
we get asked a lot is how many Launcher
icons can you have the answer is as few
as possible but as a rule of thumb we'd
say no more than three and in addition
to those updates on the material design
spec we're also launching two
to help both designers and developers
build wearable apps for designers we're
providing a sticker sheet on the spec
site yeah stickers unisex I expect and
definitely utilize this because not only
will it help you make your app we're
native but it's also much easier to try
out different layouts and designs and
something like sketch rather than in
code and for developers we're starting
the journey to open source the Android
wear UI library what this means is you
can expect three things consistent and
staple api's frequent releases and
better responsiveness to feedback and if
you want to find out more please go to
august sessions tomorrow on Android wear
UI and yes this is the same session for
ollie we'll be talking about
complications and last but not least I
want to mention developer feedback so in
the past year and a half these
periodically sent surveys is that where
developer community trying to identify
the top pain points to developing apps
for wear and so as a result of that
feedback we've made improvements to the
emulator we've simplified the API like
in the work we've done with
complications and the UI library and
we've adopted more examples into the
developer guide to help developers get
up and running on their projects and so
we want to continue to make improvements
to the developer experience so if you
have any suggestions on what we can do
better then please file a feature
request and we will get on it and thank
you again for all of your feedback thus
far and with that I will hand it over to
Griff
hi I'm gross Hazen I'm a software
engineer and tech lead on where's
developer platform I'm here to showcase
a few of the new Android platform
features of particular interest to we're
developers but first I have a general
where developer announcement earlier
this year we launched the Play Store for
where as part of we're 2.0 it allows you
to search for and install apps directly
on the watch we also automatically
suggest phone apps or sorry apps to
install if the user has a mother phone
they also have a we're version
developers upload their watch app to the
blade developer console just like phone
apps the same app can include watch
phone or apks from other form factors at
the same time using the multi apk
feature when the user installs an app on
their device Play Store will
automatically select the right apk to
download this works great on web 2.0 but
if your app also supports where 1.0 it
can get complicated the old way to do
this for where 1.0 required the
developer to embed their wearable app
within their phone app when the user
installed the phone app the wearable app
was extracted and sent to the where 1.0
device this setup caused a number of
complications including increased phone
apk size and a coupled release process
i'm happy to announce that we're
starting to roll out a new way to
distribute improve way to distribute
your app for where 1.0 the new flow
coming soon uses multi apk it allows you
to distribute your where app the same
way for both where 1.0 and where 2.0
when a user installs your phone app if
you have a compatible we're up in the
Play Store it will automatically be
installed on we're 1.0 this feature is
currently being tested with a few apps
well we will be opening it up to all
third body developers you'll soon be
able to stop embedding your where app
within your phone app if you're
developing for web 2.0 already you'll
want to make sure that your app works
well on where 1.0 if you set a low
minimum SDK level all right now back to
my main topic which is
Android oh and where the what's new in
Android talk yesterday covered many of
the updates to the Android platform for
Android oh and odo also has a lot to
offer we're developers and I'll showcase
a few of particular interest
notifications auto sizing textview and
background limits first notification
notifications posted by phone and watch
apps continue to be a cornerstone
feature of where Android Oh has added a
few new API s to make it easier for
users and developers to control them the
most prominent one is notification
channels notification channels is a new
API to organize notifications of the
same type so they can be controlled by
the user together all notifications in a
channel should the same behavior when
posted like vibration interruption level
etc on an android o phone when the user
long presence of notification they can
quickly toggle future notifications from
just that channel they can also tap to
get to the full notification settings
for that app where they can control
other channels and notification
behaviors starting with Android OH all
notifications need to be posted to a
channel here's an example from setting
one up first create a notification
channel object and provide a unique ID I
use the visible channel name the initial
importance level next set some optional
properties like vibration pattern and
description and call create notification
channel to create the channel once this
is done you can start posting
notifications with that channel ID the
end aware SDK for ou does not yet
include a settings UI for channels but
the api's are available now it's for
testing and will be providing updates
and future previews the next feature I'd
like to cover is an update to Android
text to control to support the automatic
sizing of text and aware devices have
small screens and real estate and
readability are important considerations
with user provided or localized text
take extra care to make sure the content
well on the screen and is readable in
Android Oh in the support library
textview has a new feature that allows
it to automatically select its text size
to fill the available space
the screens above show the same text
view layout adapting based on the
contained text this API includes two
ways to control this behavior the first
is to provide a minimum and maximum text
size and text si will select the size
within that range the second is to
provide a list of preset sizes here's an
example using the list of preset sizes
in XML to turn on auto sizing first set
the new auto size text type property to
uniform then provide the presets by
setting the auto size preset sizes
property to an array of text sizes both
methods can be configured in XML or
programmatically and also previewed in
Android studio the support library has
been updated to include compatibility on
older versions of Android including all
where versions so you can start using
this in your apps today my final topic
is background limits as our next speaker
Nancy will detail shortly preserving
battery life is one of the most
important considerations when developing
a we're out we all want to create
responsive and useful apps but also make
sure that the device can last through
the day and erdo brings with it a number
of platform changes to help accomplish
this and it allows apps to run and
respond to events in the background but
when too many apps are running or
execute for too long it can overly
consumed limited resources like RAM and
battery background services and apps
targeting Android ou have new
limitations on how long and when they
can execute in general if an app no
longer has a foreground activity or
service running will be considered idle
at which point all of its services are
stopped in past versions of Android and
app could also register for implicit
broadcasts in its Android manifest this
made it a bit too easy for many
processes to spin up for common events
this is no longer supported in general
but your
can still register for these events at
run-time a few best practices to
preserve app functionality the job
scheduler and alarm manager aap is can
still be used to run background work at
appropriate times there's also a new
class in the support library the job
intent service which uses job scheduler
on Android oh and a fallback to just
regular services on older platforms when
your app receives a firebase cloud
message it will also have a window of
time to execute before being considered
idle if you really need to run you can
start your service in the foreground a
notification will be displayed to the
user while it is running receiving
location updates and background apps is
another area where there's a behavior
change in Android L it was found to be a
major contributor to power issues with
background apps being allowed to
register for high rates of updates in
Android Oh background services are not
limited to receiving a few location
updates per hour instead of having
unlimited access as a best practice you
can switch your app to use the batch
location API your app will still receive
location updates at a reduced rate but
each update contain multiple location
events if your app needs to continue
receiving a high rate of updates for
example it's a fitness app and your
during a run it can start a foreground
service and continue getting the hostler
rate this is a brief look at a few
android o features relevant to where
there are more detailed talks available
for example the background check talk by
Ben poise and there's a notification
talked this afternoon at 4:30 p.m. if
you'd like to try some of these api's on
a watch form factor the antidote
Developer Preview has been updated to
include a new version of the Android
wear emulator thank you and with that
I'll hand over to Nancy's talk about
power
Thank You Grif so hi everyone my name is
Nancy and I'm a software engineer and
tech lead of the where power team so
over the last year the Android wear team
has been doubling down on improving the
battery life of the Android wear
platform and we've developed a set of
best practices that we'd like to share
with you today that can help you improve
the battery life of your wear app to get
started
I like to give you a sense of how much
battery we have to work with on the
watch so here is a representation of
battery capacity on the pixel XL and
pixel phones now compare that to two of
our recently launched watches the LG
watch sport and style as you can see
here our watch batteries are about 1/10
the battery capacity of their phone
counterparts so that's really not a lot
of battery we have to work with here but
despite this where users expect their
watch to last all day long because often
times having a dead watch on your wrist
can be worse than having a dead phone in
your pocket or your purse but what are
some of the things that use battery on
your watch well one of the key drivers
is the display now an Android wear
watches we have a lot of different types
of displays but for the next couple of
slides I'm going to focus on an OLED
display as an example now here we have
the power draw when the display is off
compare that to an always-on display
and again compare that to an interactive
display as you can see with each step
the power draw increases substantially
and that means that the battery life
will decrease so the takeaway here is
that reducing interactive display time
will save power one way to do this is to
reduce the amount of time that the user
has to spend in your app by making it
quick and easy for the user to do what
they need and move on with their day but
sometimes you might need to continuously
show information to the user and in
those cases you should implement ambient
mode so in ambient mode you should
switch your UI to a black and white
color theme and only update the display
once a minute and this will allow the
application processor to go to sleep in
between and conserve power another thing
you should consider is using dark themes
now in our experiments we notice that an
all-white display can use up to seven
times more power than an all-black
display in interactive mode and so if
you re creating a watch face or an app
where you expect a lot of user
interaction time you should switch to
using a dark theme now aside from just
color animations are also very expensive
and remember that display power chart
from a few slides ago here's how it
looks with animation power usage in the
mix now before you panic remember that
most animations only last fractions of a
second and so aren't usually cause for
concern it's a different story however
if you're working with a long-running
animation such as a loading spinner
this is why in where 2.0 we switch our
framework loading spinner from the one
on the left to the one on the right the
difference here is that we're only
rendering one out of every three seconds
in our low-power spinner and just by
doing this we saw a 3x power improvement
so if you use the default framework
spinner on where you will also get these
battery savings which you should do
another example of animations is with
the watch face watch faces that have a
sweeping second hand like the one on the
Left uses substantially more power than
watch faces that use a ticking second
hand so if a ticking second hand works
with your watch way stylistically you
should stick with that one to save power
aside from the display another major
battery hog is network usage so perhaps
the biggest battery issue that we have
on wear devices today is unnecessary
background syncing now let me give you
an example of an anti-pattern that could
happen an app could periodically sending
data between the watch and the phone or
the cloud periodically let's say every
15 minutes when the user is not actively
using your app there should be no reason
for your app to be syncing periodically
in the background the only exception to
this is if you need to alert the user of
something like a message or notification
and in those cases you should use FCM
push notification having said that if
you really can't avoid background
syncing you should at least try to batch
your data and we can recommend batching
to transfer once per day and preferably
when the watch is on the charger and you
can do this using the jobscheduler api
now I've talked a lot about network
usage but you might be wondering how
much of an impact is it on the battery
really well I'm glad you asked
assume you want to transfer ten thousand
one kilobyte chunks of data throughout a
user's day if you do this in one batch
in one 10 megabyte batch once per day
you'll use about 1% of the users battery
which is okay but if you do not batch
this data and send this in 10,000
separate batches you will end up using
over 100 percent of the battery on
certain devices so the difference is
night and day
so always batch your data now another
scenario I want to discuss is if you
have to transfer a large chunk of data
an example might be if the user wants to
download some music or if they want to
download an app from the Play Store for
example if you are transferring more
than a few megabytes you should use a
high bandwidth network such as Wi-Fi or
cellular here's an example of the cost
of transferring data over different
radios we have here Wi-Fi cellular and
Bluetooth so with one megabyte case the
difference is not so huge but let's look
at what happens if we're transferring 30
megabytes as you can see Bluetooth is
much more power intensive than Wi-Fi or
cellular
so to transfer data over a Wi-Fi or
cellular you can use the network request
API shown here unlike on phones starting
and where a 2.0 using this API will
actually turn on these radios if they're
not already on and of course there is a
cost to turning on radios so you should
only do this if you're transferring a
large chunk of data in your network
request you should include a network
callback and once a network that needs
your needs is available you should get a
callback and bind to the network that
was provided and then you can make your
desk data transfer there and when you're
done don't forget to release your
network request this will allow the
framework to turn off these radios to
conserve power so for more examples of
how to use the network request API you
can visit our developer guide by
searching for Android wear networking
now aside from the display in the radio
there are also other expensive features
on the watch that you might be using
such as vibration location and music now
I don't have time to go into all of
these today but just remember to use
these features sparingly because they're
very expensive also if you want to debug
your app further and look at how your
app is doing on battery life you might
want to try out battery historian you
might have seen previous IO talks about
how to use battery historian to debug
your phone bug reports for power as you
might have guessed battery historian
also works great on Android wear so give
it a go and let us know what you think
now want to mention one more thing in
many cases where we're seeing a user not
get a full day of
battery usage it's often caused by an
app doing some background network
processing or location processing overly
aggressively this is why in future
versions of Android wear we're planning
to put further process restrictions on
background processes and watch faces
this is in addition to the Android Oh
background restrictions that Chris
mentioned earlier in the talk and such a
prayer to prepare for this you should
make sure to implement the best
practices that I mentioned here today to
get ahead of the game and always
remember to test your apps before you
launch it so we talked about a lot of
things today and just to give a quick
recap watches have tiny batteries one
tenth of phones displays are expensive
so try to reduce interactive display
time implement ambient mode use start
color themes and reduce animation usage
you should also be careful with network
and make sure to avoid background syncs
batch your data and to use high
bandwidth networks for large data
transfers and finally don't forget to
try out battery historian for wear and
with that I'll hand it over to David to
wrap us up
Thank You Nancy so to recap we're making
complications and we're user interface
is much easier to build so there's no
better time to get started second as
part of the Android family we're getting
a whole host of new features from
Android Oh
so be sure to check your check those out
and test your app especially the
background limits and finally battery is
really precious
so please conserve it using the tips
that Nancy presented apart from this
session we have two more sessions on
Android wear at Google i/o so firstly
we're hosting office hours at 5:30 p.m.
today where you can ask experts from the
team and a thing about the issues that
you face or the opportunities that you
see while designing or developing for
Android wear and second we have that
other session that Jan already mentioned
tomorrow focusing on the new UI tools we
talked about today and we'll go through
in more detail the new simpler
complications rendering system that you
can start to use if you would like to as
well as the new wear UI library that
we're open sourcing thanks for attending
this talk and if you have any questions
the presenters will be over in our
sandbox right after the talk and we'd
love to talk to you then the sandbox is
where you can see right on this map
thank you very much
Oh</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>