<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Create UI tests with Espresso Test Recorder | Coder Coacher - Coaching Coders</title><meta content="Create UI tests with Espresso Test Recorder - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Create UI tests with Espresso Test Recorder</b></h2><h5 class="post__date">2017-03-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/JRkDVvB106k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm vertical chinky this is Android tool
time and let's talk a bit about the
espresso test recorder and how it can
help with adding UI tests to your app
let's first a short explanation for
those unfamiliar with espresso espresso
is a testing framework designed to
provide a fluent API for writing concise
and reliable UI tests however it is
often the case that developers are
reluctant to add UI tests to their apps
or simply don't have time to learn the
framework this is where the espresso
test recorder comes in and lets you
create an ADD UI test to an existing app
in an interactive way you might have
previously seen the beta version of this
feature but in Android studio 2.3 we are
promoting it to stable with a few
enhancements to get started with the
test recorder click on record espresso
test under the run menu the device
selection dialog pops up and after you
make your choice the test recorder runs
your app in debug mode simply progress
through your apps UI as a regular user
would by clicking button
swiping and typing into input fields and
the all those actions will appear in the
test recorder window you can also click
here get an assertion to your test at
any time during recording which will
trigger the test recorder to dump the
current view hierarchy to select the
view you want to assert on click on the
screenshot that appears in the recording
window and choose between the assertion
type from view exists doesn't exist or
check that it contains the specified
text when you finished recording your
test the test recorder generates the
equivalent test code to run your actions
and assertions and puts it at a new file
in your projects instrumentation test
folder it also checks if your build file
contains the required especial
dependencies and adds those is needed
when you look at the source file that
espresso test recorder created you will
see that it's perfectly normal human
readable code so if you need to further
customize your tests or alter them when
your app changes you can simply open the
file again and make the alterations you
need as you can see the special test
recorder is very simple to use but it
does come with some limitations as of
Android studio 2.3 only
see most common assertions are available
through the recorder you I see if you
need anything more complicated than that
you will need to edit the generated code
by hand also at this stage the test
recorder cannot handle all situations
where additional synchronization is
needed to deal with delays and async
operations in your app I highly
recommend getting familiar with the
espresso idling resource API and using
that in your tests to signal what a
long-running operation happens for
advanced users who want to tweak some
aspects of test cogeneration there's a
settings page for the test recorder in
androids to your preferences here you
can change the maximum view hierarchy
depth that will be used for view
identification and if app data should be
cleared every time you record a new test
the espresso test recorder is a great
way to start adding tests to your app
whether you want to learn espresso by
examining the generated code or simply
to quickly build a test suite which you
can customize later we look forward to
your feedback on our social channels and
happy testing thanks for watching and
for more Android studio videos click
here</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>