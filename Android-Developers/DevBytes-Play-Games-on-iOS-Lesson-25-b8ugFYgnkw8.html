<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>DevBytes: Play Games on iOS Lesson 2.5 | Coder Coacher - Coaching Coders</title><meta content="DevBytes: Play Games on iOS Lesson 2.5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>DevBytes: Play Games on iOS Lesson 2.5</b></h2><h5 class="post__date">2014-01-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/b8ugFYgnkw8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so when we last left off we had
successfully learned how to unlock
achievements and increment achievements
by a certain amount and this is great
this is progress but you may have
noticed that I did this by embedding
these achievements ID strings directly
into the code and for a lot of you this
probably made you wince and you're like
what are you doing you're like embedding
strings directly into the code this is
terrible style and you should be ashamed
of yourself and I am so I'm just going
to take a few moments to fix this before
we go ahead and implement the remaining
two achievements now probably as a game
developer you're going to do something
even more sophisticated than what i'm
doing you're probably going to you know
save all these IDs and a properties file
somewhere you can easily read in in my
case I'm just going to do this by
creating an enum so let me go over to my
GM and achievement manager here and
let's create a little enum so I'm going
to use our typedef NS enum macro that
Apple has provided for us it'll be an NS
integer and its name will call it a GM n
achievement ID and this will be defined
as i guess i will enter these
achievements in the same way that they
are entered in the play console so we're
going to say achievement ID lucky guests
and we'll make sure this is zero then we
can add achievement ID sent to guesser
achievement ID first time and
achievement ID at nay otay there we go
and now we can go ahead and change these
method signatures so that instead of
passing in an end a string we're
actually going to pass in our gmn
achievement ID enum so i'm going to
change this here from in a string to GM
achievement ID and I'm gonna do the same
thing here and then in our dot m file we
can go through the work to actually
translate these into real strings so
again you might be doing this by looking
at some kind of file in the device but
for me I'm just going to go ahead and
create a simple array here so we're
going to declare static and a string
Const achievement IDs and I guess I can
go ahead and copy and paste these and
directly from our developer console
let's look it up here here we go guess
my number and achievements all right
cool we just copy over this first one
and yes this is kind of a pain but we
only have to do this once
and there we go we now have an array of
achievement ID strings where each one of
these strings is placed in this array in
a way that corresponds to their enum
value so looking up an actual
achievement ID string from the enum
should be pretty easy so now we can
finally update our methods so I'm going
to change this from NS string to gmn
achievement ID and then we will say our
NS string achievement achievement there
we go ID as string equals achievement
IDs achievement ID ok that's a that's a
lot of achievement IDs sorry for not
naming these better but now that we have
this thing I can now just copy and paste
it in here and we're done and you know
what let me just do the same thing down
here in our in our increment method pop
that in this is now a gmn achievement ID
and you put that in here whoops actually
before I go on I realize I need to go
into my game model and yep yeah we got
some errors now let's go ahead and
replace this call with our achievement
ID first time and then we can similarly
replace this one with achievement ID
sent to guesser and by the way gosh
isn't it nice now that we that we have
this auto completion for us that lets us
know exactly what achievement we want to
be adding here anybody that's reviewing
this code can immediately figure out
what achievement I meant to increment
just by looking at this very logically
named enum instead of some you know
completely opaque string that has no
other context so I like this a whole lot
better makes the code cleaner and makes
it easier to read and we get
autocomplete hooray all right so now
let's run this thing
see that we're still getting errors and
yeah this is actually because in between
the last two recordings I upgraded my G+
library from 14 to 15 and it turns out
and now wants this other framework to
access the address book I'll show you
why it needs that in a later lesson but
let's go back here go into our
frameworks and let's add address book
build this all right everything's good
let's try this again all right see we're
back I can check out my achievements
everything seems to be working let's go
ahead and implement these last two so
I'm going to stop this where I go back
to my game model and I think these last
two is actually pretty straightforward
here let's add the ott na otay i pray
one we can do that right here basically
what i can do is i can look at the
guests and say you know if the guess is
either less than the player min what we
know is the minimum logical value for
the player or our guess is greater than
our player max then that was not really
very good guess and we can do self that
achievement manager unlock achievement
with ID achievement ID on Nate you tay i
love that auto complete and our lucky
guess achievement is also pretty easy to
add right here in this section where we
discover that we've won we can just look
at the number guesses and if it's equal
to one and whoops sorry not is chibi if
there you go then we can say hey self
dot achievement manager let's unlock
that achievement with the ID achievement
ID lucky guess and now we can go ahead
and test these
now I am NOT going to test the lucky
guesser achievement we would be here a
very long time if I did or I guess maybe
I could cheat but there we go there's
our achievements looks like we still
have her first timer 1 don't have her
lucky guess one let me play easy mode
here and I'm going to say I'm guess 50
and it's saying it's lower than 50 hmm
well what if I were to guess 60 well
that's not a very good guess there but i
have seen now that the achievement
unlocked banner appears and if i were to
go back and look at my achievements it
now shows up there in my list of
achievements that I've earned so that's
pretty good one issue you might be
noticing though is that it's hard to
test these more than once right like at
some point you're probably going to have
a test plan and one of those things that
your testers should be doing if they're
not they should be doing this is make
sure that you can earn all these
achievements and you know you don't want
to be creating new test accounts every
time you want to test a new set of
achievements so I think it's important
to at least for testing purposes to
figure out how to reset your
achievements and we can look at doing
that in the next lesson
haha
ha</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>