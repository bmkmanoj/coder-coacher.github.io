<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Minimizing Asset Payload (Android Performance Patterns Season 4 ep5) | Coder Coacher - Coaching Coders</title><meta content="Minimizing Asset Payload (Android Performance Patterns Season 4 ep5) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Minimizing Asset Payload (Android Performance Patterns Season 4 ep5)</b></h2><h5 class="post__date">2015-11-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ts5o6t7enOk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">no matter how aggressively you've
optimized your networking code for
performance there's still a huge
problematic per fish you that you
haven't seen bloated asset files my name
is Colt McAnlis and if you're not
aggressively attacking the size of the
assets that you're transferring to your
users you're basically stealing time and
money from them
see sending bloated assets to your users
has three big problems number one is
network speeds bandwidth is still a
really big problem for most of the
people around the world I mean not
everyone is on 4G and the slower the
network the longer it takes to download
the data which directly translates to
number two battery drain the longer the
cellular radio is talking to the network
the more battery it'll drain to do so so
bloated files basically burn more
battery and let's not forget number
three cost a majority of folks out there
aren't on unlimited data plans which
means that every bit that they're
transferring to their device from your
application cost them money which if you
ask me is kind of a raw deal for a free
application and unless you've taken a
hard grinding look at the size of the
assets that you're sending to your users
they're going to be larger than they
need to be and the two biggest
candidates that cause the most bloat
images and serialized data now for
images sometimes the easiest solution is
to just change what file type you're
using I mean if you don't need
transparency avoid using PNG files
because they don't compress as well as
JPEG and WebP II counterparts and if you
are using JPEG or WebP II remember that
small changes in image quality can have
huge changes in file size ax C you can
crank down the quality settings of an
image a significant amount before users
start to notice any issues so
aggressively finding the right trade-off
between quality and size can be a huge
win and this goes doubles for different
types of images uh thumbnails occupy
much smaller portions of the screen and
thus it's harder to notice visual issues
there you can get by with a much lower
quality than say a full screen version
where it's easier to see compression
artifacts and resolution is especially
important for screen sizes and needs I
mean there's really no reason to send a
four megapixel image down to a device
and only have it used as a thumbnail or
smaller screen devices that can't
possibly display it at that resolution
which is why you should store different
qualities and resolutions of the same
image on your server
so that you can optimize for the
smallest possible file to be sent to the
users and if this sounds like too much
overhead for you remember users are
paying to download your bloated files so
shame on you
now just as problematic as images is
serialized data JSON and XML are
horrible types when it comes to
compressed size I mean they are super
super bloated look at all this extra
stuff that's jammed into these files
just to make them more readable for
humans at kamas spaces quotes carriage
return listen your users don't need to
pay to send that data to their device
instead you should be leveraging binary
serialization format so protobufs nano
buffs and flat buffers are all
accessible on android and can reduce
your data footprint significantly with
their own nuanced implementation
trade-offs oh and by the way remember
that any of the data you serialize is
going to be gzip compressed by the HTTP
stack meaning that you should be
adopting a struct of a race format to
help bundle similar typed fields
together so that the LZ stage of the
gzip compression can do a better job of
finding symbol matches if you're
confused about the sizes of the assets
that you're sending around and what it's
costing your users check out the
networking monitor tool inside of
Android studio or the aro tool from 18d
both provide great information that lets
you track issues down and tracking down
performance problems is what we are all
about which is why you need to check out
the rest of the Android performance
patterns content and also join our
community on Google+ for great advice
from people who have already solved
these problems so keep calm profile your
code and always remember perf matters</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>