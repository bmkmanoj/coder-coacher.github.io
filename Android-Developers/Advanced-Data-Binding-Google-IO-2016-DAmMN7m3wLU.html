<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Advanced Data Binding - Google I/O 2016 | Coder Coacher - Coaching Coders</title><meta content="Advanced Data Binding - Google I/O 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Android-Developers/">Android Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Advanced Data Binding - Google I/O 2016</b></h2><h5 class="post__date">2016-05-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DAmMN7m3wLU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">oh good morning everybody welcome to the
advanced theta winding session I'm Heath
Boyer I'm George mount and we're from
the Android UI toolkit part of the
framework team and Android and today
let's talk a little bit about data
binding alright so how many of you have
used data binding in the past all right
how many people think that's still in
beta all right yeah yeah that's the
problem yeah we we didn't do a great
announcement last fall when we released
it with Android studio 21.5 but it is
production now and you are welcome to
use it its production quality it's
actually doing very well in the public
so if you haven't seen it I put a little
link here for our previous Android data
binding talk at Android dev summit and
you can just click on this if you're
watching at home that's a great thing to
do right now pause it go go see that
link and because we're going to show you
about four minutes quick version of what
we did for about 40 minutes back then
alright so what is data binding well
when we have a layout like this this is
my my awesome store and what I want to
do course I want to get data into my
layout and of course I have to find the
views that are in my layout and then set
the data all right this kind of sucks
right I hate doing this
so wait you're Sandra Digga binding so
let's look at that laid out again okay
we want to get rid of all that setter
logic that kind of sucks fine fine view
by ID really is lousy
but we have to do something a little
different in the oncreate instead of
calling set content view we have to have
a different set content view which will
create a data binding and then we have
to set the data object on that binding
we can't do only that though we have to
modify our layout just a little bit
first thing we have to do is add the
layout tag to the outside of this and of
course we move the namespace stuff up to
the top and the layout tag because
that's the right thing to do and we have
a data tag as well it has all the
variables that we're going to use in
this case it's prod for our product
owner and that that kind of does our
import of our sets of the variables that
we're gonna use in our layout and then
we also have to reference those so we
assign the values directly to our sort
to our source or text or thee or
anything else that we have in our layout
and here you can see that we can use any
expression we want and we just has the
curly brace to denote that it's a data
bound tag let's see how it works so I
think it's so beta when it looks way too
magical and we want to briefly explain
that there's actually more magic and
like there's well defined steps how we
prepare that is good for you to know
because then you have an idea what's
that going behind the scenes if you eat
the problem you had idea where it might
be happening so when you when you hit
run in Android studio the adversative
starts compiling your application and it
merges your resources and then live
layouts files are merge we go pick those
layout files and then we move everything
about data binding so like everything
you prepare about data binding gets
deleted so if you put layout with
something data binding you lose it and I
mean next step we pass these expressions
so that they are grammatically correct
we don't know what you put make sense or
not but they need to be grammatically
correct
so now reverse we understand okay
there's some like identifiers here it's
accessing a field we have no idea what
that is at this stage but we know is
correct and ifs not we all throw an
exception a next step your application
code gets compiled like the Java code
you write gets compiled while is being
compiled we an annotation processor that
gets the output from what we parse from
the layout files and tries to understand
what it means so say you had something
like user dot admin now you declare the
variable we know there was some usual
cost that we're going to find that cause
when we third figure out okay what does
easy admin mean like is this a method
call is this a field we figure that out
we will result things like a like this
is a is a be method or you could just a
user that admin we will still understand
that this and is at my bully method and
I figure out okay this grammatically
correct expression resolves into a
boolean value now we will look at the
attribute and we try to find okay what
is the setter we need to call like is
this like visibility teacher or like
enabled whatever we resolve it and all
of this happens while your application
is being compiled once we decide what to
do we write the binders the dregs of
code that updates the UI and you prof
so really briefly this is a like beta
bond layout file at the time of compile
we literally do this like delete
everything we try to keep the files like
the lines match as much as possible if
you go check your build file you will
like find the script files so we get rid
of that layout tag now we get rid of
everything data winding because apt
doesn't know about them we clean them
and then we add some text so that
alright okay so that when we when you
inflate layout we can understand which
business this is right like even if you
don't put IDs on those views we find
them so George is some presents for you
so that's what we did released back in
the fall let's see what new things we
have here two-way data-binding now I
know I've heard a lot from you guys out
there let's say you know this is great
but without two-way data-binding data
mining is useless right I can't believe
I heard that but I think I think even
one-way data-binding is pretty awesome
but so I saw the few people trying to do
their own thing for two-way data-binding
and they do something like this where
they have they do the one-way
data-binding with the with it bring the
data binding field and then add another
handler for the for the text change and
then they have to check of course
whether the change really happened or
else you end up with this cycle of loops
of you know the text changes in the in
the field in the view and then goes back
to the field and says a text change
message so it's kind of a mess and they
also you end up having this change
handler for every different bound view
in your layout and really kind of sucked
so we wanted to sitting a little better
than this get rid of all that stuff that
we get used to and we can do this all on
her own by just saying at equals instead
of just a curly brace that equals it's
just a kind of a nice quick and very
visible indicator that this is a two-way
data bound field now we can bind to the
Android text field in a very simple way
now you may be wondering how does this
notification happen right what's going
on underneath the hood this is kind of
important if you were going to write
your own data bound fields so first
thing you have to know is what kind of
listener should we add all right we
don't want to use text watcher right
because that's something useful for text
views or edit text we don't want to use
but I don't know what time change time
change yeah they change visit or
something like that that wouldn't be
good so we have some kind of generic one
it's called the inverse binding listener
this is basically telling us that
there's been a change on your view and
what happens is your binding implements
this listener for you and this is code
almost straight out of the generated
code so you can see here that what's
going on is it's getting the text from
the view and then it does of course the
null checking right you guys have to
make sure to do all all no tricking
everyone here to always tell check their
their variables right that's right
hoo-wee has no player exception thank
you nobody huge and then it finally sets
the field you can see here that it's
actually setting this field as an
observable field and actually you might
be interested to see that this this
comment here is actually in the
generated code so you could if you
wanted to look at the generated code
you'll see this comment and seeing what
the inverse of this expression is to
help you try to debug if you have the
problem with it so let's look at how you
get the fields value we've just talked
about we just saw that getting the
fields value and one thing to do is to
try to annotate click this annotation
which will give you getter for your for
your view so here we have a text view
type and we want to know what is the
getter for Android text now we have this
method we can just say to declare it's a
get text but
if you don't have if you don't to supply
it there's a default and it just uses
the attribute name so even if we didn't
supply anything it would use get text
because the fields is it actually it is
Android text so it's kind of smart that
way and we have this synthetic attribute
this is for the event this is the event
that notifies that there's been a change
in that view and again there's a default
here if we didn't supply anything it
would be Android text attr changed and
so most of the time you wouldn't supply
anything here at all now I want to talk
a little bit more about this so we of
course have to get notifications from
the textview and so this is what you'd
normally do for a textview right you
have to set a text watcher and so we
have these these event attributes you
know in the binding adapter and so we
just add this other attribute and we're
going to the synthetic attribute now the
synthetic attribute you can't use this
in your layout we check against it so if
you try to do that it's gonna mess up
it's going to throw up a nice exception
for you or error message for you
but anyway so you can sit now set this
in your binding adapter and this is of
course all done for you for all the
deals that work and of course what you
have to do you have to remove the
previous one and then you have to add a
new one and you have to notify them only
if they're not known right we don't want
to notify no things because we of course
want to do no checking and we also have
to notify our on change Lister so now we
know that when that text views changes
it's going to call our generated on
change now if you have a more complex
getter well this is not very good
complex but this is a little more
complex right the textview doesn't
return a string it returns what yeah
treci looks right and who here uses char
sequences nobody uses char sequence if
you try to assign a char sequence to a
string type cast error so this is a
little more convenient so you have a
text string which will I don't have to
convert your char sequence into a string
and so this kind of thing will help you
with that and again we have this
attribute and the other field is also
the event and it's automatically
defaulted now we talked a little about
these cycles before where if you have a
text view or an edit text and it makes a
change of course it's going to change
your data field and if you have a change
in the data field it's gonna change your
edit text now that really sucks because
what happened user typed a and now it's
just set the text on that again and you
lost your cursor that's something you
will realize if you set the text on a
textview even to the same text it'll
still call the change motors it will
still anywhere that the layout because
inside takes you is actually a different
spendable string it has some other
format so we have to do that yeah so
beta winding gets to cover it how is
that yeah well actually it's gonna do it
more now because it will be just but
just recognize that there's another
change and of course it's going to send
another text change and it's gonna keep
on going on and on and that's kind of
sucks nobody wants to see infinite
cycles in data binding so let's solve it
we're gonna solve it once and for all
right well unfortunately no but you
can't solve it and we just solved for
all the ones we've implemented you just
have the check in the binding adapter
that says when you set the text field we
check the previous value and make sure
that it hasn't changed
I mean if it has changed there Moses
said it if we don't hasn't changed then
we don't set it and that breaks the
cycle before we can get this kind of
infinite loop
so these kind of solutions we do in data
binding like so changing the framework
there's an option for us but it'll only
work in the new devices by doing these
workarounds we can support data winding
a page someone that's right so this work
on all attributes well no clearly not
because we need events we need to fence
to note whether the field has changed
with the attribute has changed and so we
only work with the ones that have
attribute change events so like text
watcher like checked changed so these
are external events these are not on
whatever changed events so the good
thing is that almost everything you care
about already has a changed notification
on it these are the things the users
clicking on right they're used typing on
the in the Edit field so this is great
so we already have notifications for
these so that will work for almost all
the views and all the attributes that
you really care about but if you affect
if you have your own views you need to
do this have an external event that you
can set a listener on all right talk
about a little bit of expression
chaining now here I have a layout with
three views and they all have the same
expression in it it's kind of ugly code
like it's not it's all UI code but it's
a little ugly and I really don't want to
do that I'd like to have it once and
then reuse it elsewhere
so what I can do is create a an ID that
I can later use in my other expressions
so now we can just bind to another field
it's pretty nice
what is doing under the hood of course
is just saying oh I recognize that one
we already had a bound expression there
I'm just going to substitute that
we also have implied event updates so
you combined for example to a check
field in another view because checked is
a two-way data-binding field so we can
just say oh look that that field over
there was if the user clicked on it and
we get an update right away we know what
happened a little bit lambda expressions
so tour data mining is one way of
grabbing the data from the layout back
to your data model and other ways the
Kolb excited this already wrote is you
get a view you set a click listener on
that so we wanted to make a little bit
better
so in today's data but like before we
introduced this feature what you will do
with data mining is that you'd give it
away when I did and then your Java code
you will get that idea from the binding
well we're already create the view for
you and then you set a click listener on
that so what to make it more intuitive
we got rid of that we introduced method
references so that you can say hey when
we don't want kalikasan events you saw
weather does presenter come fro there's
actually another variable you declare so
there's still no magic it's not like the
don't click event you have in the
activity in the framework so in the
presenter what you would do is so what
we call this method you will receive the
view because the onclick listener
receives the wheel you will get the
binding so the cool method like data
binding it'll has a fine binding methods
from any wheel and I you get the item
from there and then do whatever you want
to do with that but this was still a lot
of unnecessary code so we wanted to make
this a little bit easier we introduced
lambda expressions so you get rid of
that you canister just say when
man on click happens just call presenter
save with the item where does the item
come from is the item that you declared
there so in your same with it in the
presenter like you can do whatever you
want now you have the item what is
vehicle exceed the reason why we push so
we
in the timeline but we push this feature
a little bit earlier because the testing
team was releasing these like
architectural demos from Google and for
the nvvm there were they want to
something like this one you do this the
presenter has zero Android code you
personally so your layout file and lose
everything specific to Android you can
just test your presenter the way you
want this so beautiful separation works
very well and makes it very clean and
another very cool thing here is that it
addresses vo today you can go in a like
role over the same function there click
on it and go to the presenter so much
easier to navigate the code while you
are developing so I see like let's get a
little bit more details so it's a lambda
expression you can also write this right
now the own click receives a real so if
you look at the description of the on
click callback pass this is how it looks
like so you can actually reference that
video in the lambda expression if you
want to use it and the real insight the
expression refers to the one that you
declared in the parameter section just
like this your weight love the functions
now let's see you have you can actually
name it whatever you want so I name it
it we like it doesn't the name doesn't
need to match anything so let's look at
the other example focus change so you
want to know when the focus changes you
want to call your presenter with you
know whatever the new focus is
unfortunately you cannot do this because
if you look at all focus change methods
of exchange cause the method receives
the wheel and the focus state so even if
you don't want to use the way occurs the
V parameter you have to declare it so
the rule here is you either declare all
of the arguments that the method
receives or you do play or not
so the like we figured out like not
declaring and argue is a very common use
case like in the colliculus a you almost
never got the V anyways so we want to
provide that no arguments shortcuts
another example is a or one click now
the difference about unlock click is it
actually expects a boolean value as a
result so that we know we want to
populate it or not
so for this work the presenters showed
many rated also needs to return a
boolean value so we are not going to
like if you put some lambda expression
that doesn't return the value expected
by the komak is not going to comply like
we don't wanna you know oh it's by
default or false and like something
breaks in the feature you have no idea
so if things don't match we don't try to
do magic we fail so now there is two
ways to do the same thing is the lambda
expressions and the metal preferences
they're both useful well I want to go
over what the difference is because they
actually behave differently so the major
difference be difference between the two
is lambda expressions are related when
the event happens oh we whatever
expression you put that we related my
user clicks on a button or the text
changes or whatever the method
references on the other hand is a
related by me refresh to you I like when
something is invalidated when we refresh
the UI we relate the expression we
figure out which method wants to be
called I set a click listener that
directly references that one so let's
look at an example it's all more clear
so the previous one where we had a
presenter let's say I set up to now and
the presenters not say that it was
linked into the Save button so if you
look at say what - not get click
listener so in this case when the
presenter is now does the same button
have a click listener if you are using
lambda expressions no it actually still
has a Save button like this this not now
even if you don't have a presenter
there's a callback in that view but if
you're using method references yes is
now like we don't set it so sometimes
setting even clickable has side effects
that is important for you you will need
to use the method references but we will
take care of now surfaces so you are not
going to crash and if there's a code
make but the kobra class we forgot
there's no presenter I'll just drop it
so the way it works is when you inflate
the layout if you using love the
expression leaflet the layout we set the
click listener it won't sauce and I've
had the click APIs me relate the
presenter
emulate the parameters at the ralads if
you are using a method reference Mari
execute by mix this is the method that
we generate that updates the UI but we
run that method we will figure out the
presenter and if there is a presenter we
will wrap it in a listener class which
calls the related method and if there is
not we said to call back tomorrow
and the listener class Vijay it looks
like just something simple like this it
receives the presenters so we keep a
reference to that one and then we could
call it back that presenter comes from
the presenter be related and other
differences you can use expression
system of beginner on teach for lambda
expressions that you can use any
expression inside the lambda versus you
cannot do that in metal text versus so
you can say like presenter same user
spread and we will evaluate it or you
could say like data that presenter you
could use anything that's valid in data
mining you can use it there and we will
emulate it versus the method extras
expressions you cannot do that and the
method has to match the event but you
can see still say like data that
presenters say metals so you can have an
expression to the beginning of it but
you cannot change the call parameters
the Kobuk parameters in both of them you
can access it so if you are using a
presenter you have to declare it
yourself like ever access the wheel so
you declare the parameter so your button
and if you are using the method
references it already works you have so
much now you can use a few extra
variables now in your lambda expressions
that you couldn't use before one of them
is view IDs okay you could use even
reference your views right in the
expression and it's it's your view ID
and it's reference says the camel Casa
Fayed version and this is the same as if
you had the same field that you use in
your date than your binding so we can
will classify it just the way we did
before and you can also use the context
we found that many of you wanted to
access the context without accessing a
specific new so we just give you the
context of the route and you can use
this as
kind of a generated synthetic variable
that you can use right there in your
layout right there if you create
something that's called context that we
won't do that they tell you that please
don't do that now it will override our
context if you do that all right let's
talk about animations animations
everyone that everyone wants these
animations in their new eyes right
that's right that's right you get a
little motion in your UI well one of the
things you see with the data binding is
you without any kind of special work you
get this kind of weird thing where you
click on something and it just pops into
place and that's you know that's kind of
unfortunate but we can do something
pretty simple to get a nice animation
and that's these transitions how many of
you use transitions yeah this is
something introducing KitKat it's very
useful you could kind of automatic
animations with it and what you can do
is add this on at the on rebind callback
which in one of the fields in there one
of the very function there is the on pre
bind and that's the thing we really care
about this is evaluated before the
binding happens before the bindings are
evaluated and we don't know what's going
to happen we just know that something is
going to happen on when you get them in
this is called and what we do is get the
scene route and then of course call the
blue candle a transition and then you
get a nice effect pretty nice pretty
easy pretty simple maybe we should make
this API that's a good idea yeah we
should do that but this doesn't work
with everything let's look at this ad
here when we changed the field here that
which changes the age of the user it
just still pops in and out all right our
transition system doesn't handle every
transition you might want right it
handles the most common ones changing of
the fading in and out or changing the
position of the view those kinds of
things and you can do your own
transitions but sometimes you want
something very custom then you just want
to do an animation for that so what do
you do well in this case what we can do
is do it with setting when the value is
actually set
on the field we can capture the state
there and animate ourselves so we create
this finding adapter and we course get
the old value and the new value you
don't have to take the old value if you
don't want but in this case we do want
it and then of course if nothing has
changed we have to of course not do
anything we don't want to do anything if
nothing's changed but then we can just
animate the change right then and there
and you can do whatever animation you
want I don't know what you'd want to do
on a text field but you can do whatever
you want there maybe crossfade I don't
know dependency injection all right
again show of hands how many people love
dependency injection all right all right
this is you guys this is for you all
right when you're writing tests of
course what do you do when you're
defining adapters you you know have an
if statement if it's my testing settings
or your not testing settings you can do
one or the other right but we're
dependency injection fans we don't want
to do that that sucks so what we do is
create a binding adapter that is no
longer static so we have an abstract
binding of course this could be an
interface it doesn't have to be an
abstract base class and we implement
that interface with your test version or
your production version
but we don't know which is a call right
we were a worrier of data binding we
don't know whether you're gonna call
something on your test or your
production and so we need to know what
you're gonna do
so we create this data binding component
whenever we see an instance method like
that we know that you are going to give
us an instance and so you implement the
instant it implement the component this
is a generated data binding component
that has that generated get her in it
and you implement that and you do
whatever you need to do to get your
component but then you have to send it
as well so this is the default setter
you can also do it on each inflate call
if you want but probably you only want
to use one or the other but you can do
it on every time you inflate of you or
bind of you but you can also do it when
you're in your static binding adapters
you don't have to do it just when you're
doing is suspending adapters now I'll
show you an instance where this is
useful so we have this system where
we're going to load an image and we want
to load the image using an image loader
right we have met have cached already
and we want to get that image loader
instance of course so we give force get
the component but where did that
component come from well we could get
the context and then we can find try to
find it in the context by casting it and
solve us kind of a pain so instead what
we want to do is introduce data binding
component of course this is our instance
one that we have in our application and
we can introduce it right there at in
our binding adapter and then we can use
it if you're using tag or two of course
what you do is you create a module and
provide the method and then you create a
component and you set your default
component just like that
all right so binary like if you're using
data binding but did never write a
binding adapter like play with them
they're amazing you can create your own
activities I'm saying so many like we
have to create them so we come back
fourth day timing but they turn out
there like most widely abused in a good
way features of the authority so so one
question we get mainly is like how do I
start using data binding because you
know you already have an app like when
you start from scratch it's very easy
but if you already have an app it
doesn't make sense to rewrite your
layouts it's like it's unnecessary if it
works keep it but in the new layouts you
can start using data binding I mean so
we wanted to go through these levels so
to start using data binding you just
enable it in Gradle super simple three
lines and then one thing you could start
doing today in like any new layout you
create is get it off might be by ID
there is like 2530 libraries that try to
get to the right way by ID analyst 31
I hope yeah I think turtle is the last
one I have never seen anybody else
creating it after we release date how I
think this is like something we
should've released seven years ago or
like eight years like you know when we
really saturate so you just wrap your
layout into the layout tag and then
you're done nothing else you have to do
now in your code yet these are find me
by idea already's annotations that you
put on the wheels you get rid of all of
it
you get one binding class for that
layout and it already has all the views
that has an ID as a field these are
public final fields and they are type
safe like you don't need casting if by
mistake like there is one common mistake
happens is you use the same ID multiple
places in different layers right someone
changes an ID in one place your code
doesn't crash because the same idea was
used somewhere else but at runtime you
get a crash because you cannot find Emil
anymore with data binding this cannot
happen because we created per layer if
someone by mistake
changes the idea is not going to compile
so other the second part is binding the
UI this like very simple way that you
can start using data and get you you
should like
in my opinion it's no brainer but of
course I'm biased in every single you
are you have this thing like your
presenter or whatever once you load the
data you go through the later go through
your views and set each of them like you
need to handle but now you know you need
to catch them voila
this is just like so much unnecessary
code that you have to write you don't
need right so just get rid of those IDs
declare your variable in the layout like
this is this is a layout to display with
specific information
it's totally intuitive to declare the
inputs of the layout there so you say
this layout displays a user you define
it and use it inside so as someone in
face your layout and wants to do on it
they already have the binding class they
can see all the setters they know what
the input is for the layout and on your
updateui method you get to do all of it
the only thing you do is set it on the
binding and it takes care of it all of
this happens without any performance
penalty the third thing is callbacks
that is always the case like you know
you get the binding you get the fab and
I said to click listener this also saw
necessary just like just declare the
presenters just say like when this
button is connect all this thing the
nice thing about this implementation is
you can just find your in under studio
it happens all the time right like
you're going to lay up okay like what
happens if user clicks on you try to
like search references of that UID and I
see where the colliculus is that there's
a couple of steps here you could just
click on go to that method and find
implementation so especially if you're
starting a new app from scratch of the
route that might be very very handy so
instead of having this simple user cost
you committed may extend based on
observable there's also an interface if
you don't want to extend you make it
bindable
and now whenever the value changes you
notify this change and we will take care
of updating the UI
I there is this like one of the new
features like highly requested features
two-way data-binding now like to a data
mining when you're like complex model is
not very easy to use but like all of us
have like logging phones like all these
simple form kind of layouts that people
has to feel and there's that uh logic
going in there instead of writing that
code you could just let data why delay
to a data mining handle all of it and
return your object so for a layout like
this all you do is like create the
smaller cars make all of them observe
will feel like game only one instance of
that class it doesn't matter how
expensive it is so make everything all
zero fields and then let me do that our
layout will look like this so we have
like we have a well data that enables
disables the button or whatever logic
and you have the form model for each of
the input fields you use them so you say
this is the name notice that this is a
two-way binding or you have a button you
say if it isn't if my mail data model
enables it make it in a boat you do this
so like you cannot do this in every
single layer so you need to be careful
but like something that's like you could
you know encapsulate is about forms or
like my place to migrate data it's so
much cleaner so much simpler and you
will save time so you just do this so
you know you have a binding layout that
gives you an object that has the data
and then then you do whatever you want
to do with that data so we'll quickly go
through some of the best practices
because the data mining is very powerful
but just because there's a way to do
things with data winding does not mean
that you should do everything with a
Hawaii so something you need to be
careful my music data binding is what
expressions you put there so like if you
put an expression like the same and user
click this button send the money you
should not do this right it's so wrong
because like sending the money is
completely about your application this
is like is your business logic
it has nothing to do with your UI the
only thing you care about is that music
clicked on that button this one response
root of
my next stops so you get rid of this
don't do that is that put something like
presenter on soundclick so they're like
that presenter class can be tested by
itself and that you will have a reliable
application I know it's not very clear
where you want to stop like how much how
much can i data wide and how much I
should be in the java code well you use
your intuition I you know use what works
best for your saying change the name of
our class or function right yeah that
was the goal yeah yeah aren't you just
program okay
whether they do I think work to program
because we do everything in the compile
time it's the detail so another thing is
like if it is related to you I just put
it there I mean you don't need to oh my
god I should have put any logic in my
examples it's like that doesn't make any
sense if it is about how you that layout
looks if it is simple just keep it there
because the important thing is when you
look at the layout file
three months after in Android studio
then you have an idea what that layout
bus
that's the point here like they should
be softest they should be declarative
they should explain themselves but if
you put an expression like this there
like there is no way you read it and
understand what stay ahead it's just
confusing don't do something like this
they need to be simple expressions so
get rid of it you know like create a
method that gives a short name and I use
that one is that like if they are not
readable but if you realize they are
getting long that you're probably doing
something wrong so so method we created
yeah we can also something that mention
those we can also do string functions
there so if you want to do string
substitutions you can use the string
format right there and your expressions
as well so another thing is recyclable
by the two days ago we just published
like sample application that uses data
binding and recycle it we won't get up
and I set it into the spaces link so you
can find it there but one thing you need
to be careful about is if you're using
data binding with recyclerview
which you should because it generates
viewholder for you when you bind a video
you should always call execute Patek by
the
so if you don't do this binding will
defer it until the next layout and
recycle you'll get unhappy because the
weave doesn't tell us how like what the
height is so there's a couple of things
like these are come up little examples
that people did with binding adapters
mostly not to mention them you could do
this this is like HTML I have a text
view or and is the usual that should be
probably in which view but is it would
you're out it just works
you know abiding it up there it passes
to that everything is five properly
plotted and you know what that it would
shows you'll need the idea or whatever
to make it self-explanatory it's a
visible or here is the revision so you
can never have multiple points like
binding it up too scary see multiple
parameters you could say okay this is
the placeholder and this is the material
you have a binding get up there that
receives these two attributes we call it
with these truth values even like
quartet drawable interaction drawable
you don't need to do it yourself and
that you can have your logic it works
very well with testing because you're in
testing you just provided dummy adapters
that possibly anything and then now all
your tests run faster without making
that work because the other thing fault
this has been requested on the text view
for many years we have a dinner activity
at the data ID now you could just create
your own attributes call it a fault
and that it works there's actually a
project on Geetha from Lisa that passed
this super cool super convenient and you
can use vector drawables so now today
you cannot use vector drawables in exam
aright know if you lose data why do you
can actually use vector drawables just
create the binding adapter for that and
do it another one here is like it's so
common in applications yes I died
mention like image margin and I here
have something like dementia picture
size by mention picture size and picture
margin so that you can align your views
so you create all these dimensions you
don't need too many well you could just
use data winding to say hey this
his picture size plus picture budget
they sit like this should have been
there already but it wasn't like once
you start the externality like these are
things we did not think about maybe the
image URL there was something we thought
about and I was it like people came up
with this form the margin T so you get
like it's just if stuff you could do
with data writing so go ahead and
explore up with it thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>