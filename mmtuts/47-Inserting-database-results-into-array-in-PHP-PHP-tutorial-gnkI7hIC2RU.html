<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>47: Inserting database results into array in PHP - PHP tutorial | Coder Coacher - Coaching Coders</title><meta content="47: Inserting database results into array in PHP - PHP tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/mmtuts/">mmtuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>47: Inserting database results into array in PHP - PHP tutorial</b></h2><h5 class="post__date">2016-11-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gnkI7hIC2RU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in the last episode we talked about how
to take data and put it inside an empty
array in this episode we're going to
talk about how to take data from a data
base and insert it into an array so we
can actually use it for later now as you
guys can see already have a couple of
documents here with some stuff in it so
before we get started I'd like to
explain what exactly I did so far inside
my index page I have included a database
connection at the very top the database
connection is right here inside my other
page and it's just a very basic
connection to my local host database
which is called test now inside my test
database as you guys can see I have one
table called data and inside my data
table I have a couple of different rows
of data I just have a very basic ID for
you to data and I also have some basic
text so right now as you guys can see
each row has a just one word hi there
friend you seem like a cool person
now what I'd like to do is I'd like to
take this data and put it inside an
array so I want to have an array that
either spits out one row of data or want
to have an array that spits out all the
text data we have going on vertically
now if we go back inside my index page
you guys can see that inside my body tag
I also wrote some code now all I did
here was I ran a basic select statements
I queried it inside my database and then
afterwards I create an empty array now
you don't actually have to create this
empty array but out of habit I recommend
you guys do it now I chose to call this
array data's which is my way of writing
data and plural which I know is not
correct but just for the sake of this
exercise I call it data's now underneath
my empty array I ran a if statement they
said okay if we have more than 0 results
from this select statement which means
that if we have any kind of data running
to select statements then is to run this
loop down here now this is just a very
basic while loop this is okay while we
have results from the database spit it
out
or at least do something with it so
inside my while statement I just did
like we did in last episode where I
inserted my data from the database with
right now as you guys can see a called
D'Allesandro is equal to the actual
database results I went ahead and took
those results from dollar sign row and
put it inside my
data's array so right now our data's
array is full of data results from the
database so how do we actually get this
out inside out browser because right now
if I save it go back to my browser you
guys can see we have nothing in here now
in order to get out inside our browser
what we can do just to test what exactly
is going on in here we can do a print
our function so I say print on the score
our parentheses insert my data's
variable inside of here without the
brackets we can actually see the array
that we have going on here now right now
this can be a bit messy but if you take
it from one end and just kind of analyze
what we have here you guys can see we
have an array which is our data array
and inside the array we have number 0
which is the first piece of data and
inside our C row we have another array
that has all our data from the database
inside of it which is right here now you
might be asking why do we put all the
result from our database into the first
data of our array well right now when we
take results from the database which we
do right here when we say the wild
segment and we actually print out all
the data it automatically gets seen as
an array so when we have an array from
the database we get from the database
and insert it into another array then we
get an array inside an array this is
what we call the multi-dimensional array
now in the next episode we're going to
talk more about multi-dimensional arrays
but just for the sake of this exercise
we're going to go ahead and just run
with it so basically we have an array
inside an array now that's important
because we want to get this data we need
to make sure we go into the first piece
of data from our original array and then
spit out the result from that array so
as you guys can see right now we have an
ID that's equal to 1 we have the next
data in the first row which is text
that's equal to hi and then we have the
next data in here where we have an ID
and another piece of text ok so if you
go back to our code we can go ahead and
just comment out our print R because we
don't need it right now we're going to
go down to the next line and down here
we're going to go in
spit out first of all just the first row
from our database now the way we do that
is the writing a for each statements now
for each statement like we talked about
before is when we want to loop results
from an array if I can expel that
correctly there we go parentheses curly
brackets now inside the parentheses we
need two pieces of data we need to have
the original array that we have a
vehicle of data and we need to have the
new variable that we need to call on
inside the loop so inside the freed
parentheses I'm going to go ahead and
say we have a variable called data which
is our array that we have right now and
now we're going to go ahead and say as
variable data because we want one piece
of data from our data's array now this
data variable here I just created it's
not anything that I created before so
this is something that we just created
inside out for each loop what it
basically says is that each time we go
inside out for each loop and call on
data for example here if it were to echo
this out then we're gonna get the first
result from the array so right now if I
were to just do this it's not gonna work
because as I just mentioned we have the
first array that has an array inside of
it inside the first data so right now it
doesn't know what this is we need to
actually call on the rate that we have
inside the first data inside the first
array now again multi-dimensional arrays
we're gonna get to that in the next
episode but basically we don't want to
loop out data from the array we have up
here we want to loop out from the data
we have inside the first result from our
data so if I were to go down inside out
for each loop and say brackets after
data and say zero we're now looping out
the array we have inside the first
result from our data array again I'm
hoping I don't make this too confusing
for you guys so if we refresh you guys
can see this as one high which if we go
back inside our database is the first
result we have from the first row inside
our database we have one as an ID and
high as the text now this is all good if
you want to just loop out one
but whatever want all the text pieces
from all the different rows we have been
here what we can do then is we can go
ahead and delete the brackets we have
our after datas and then i'm gonna go
ahead and go down inside my echo and
after data
I'm gonna save brackets and say that we
want text which is a string so we need
to have single quotes around it and what
it basically does is that it goes in and
looks through this array and sees okay
do we have any kind of columns from our
database called text okay it's gonna go
ahead and spit out every single data we
have inside this column called text so
if I go ahead and save this refresh my
browser you guys can see we get hi there
friend you see seemed like a cool person
which is what we have inside our
database again I'm swimming out here
going downwards so this is one way to
write it out again I'm just gonna go
ahead and copy paste it so you guys can
see both methods so one is by removing
this we can say data's zero and the
other one is by running a for each who
went just calling out the text column
okay
so depending if you want to get one row
with all the data inside that single row
or if you want one column inside the
database we can do it both ways if I go
ahead and refresh the browser you guys
can see we now get both of them we get
one high and then we start by getting
the whole column now if I want to have
space in between here we can just go and
go inside our loop down here and say
after our variable data that has to call
them as text we can go ahead and say
punctuation double quotes space because
now we have a space going afterwards so
if I were to refresh this you can see it
says hi there friend you seem like a
cool person okay so it's very basic now
some of you guys might be asking me why
do we need to take the data from the
database and put it inside an array
before we use it at least in some
examples because essentially we just go
up inside our database connection up
here and if we go ahead and just comment
out what we have in here already and
underneath inside our while loop I'll
write a code dollar sign Road brackets
and then I call in the column called
text and go ahead and refresh my browser
you guys can see if you get the same
result up here
now the reason might want to do it the
other way is if you're using
object-oriented PHP programming which is
something else where you don't write the
code directly where need to use it like
we did here right now I need to have all
the database resolves right here so I
wrote the code here but an
object-oriented programming one of the
benefits is that you write the code
differently inside a separate document
so that the users on the website doesn't
see the database connection so for
security reasons when you use off date
oriented programming I use arrays in
order to get the data from a database
and pass it on to where need to use it
from a separate document so passing the
data to the next page is easier for me
when I use arrays so that's one example
of why I would actually use it using a
race I hope you guys enjoyed this
episode in the next one we're gonna talk
about multi-dimensional arrays so you
guys can make sense of what we actually
did down here and then you guys can go
back if you feel like you want to go
back and see what exactly was going on
in here with this multi-dimensional
array we had in here hope you guys
enjoyed I'll see you guys next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>