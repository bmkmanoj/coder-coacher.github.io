<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Change user comment in database using PHP - PHP tutorial | Coder Coacher - Coaching Coders</title><meta content="Change user comment in database using PHP - PHP tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/mmtuts/">mmtuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Change user comment in database using PHP - PHP tutorial</b></h2><h5 class="post__date">2016-02-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DhgXNPfzESc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">today we're going to talk about how to
edit out comments inside a comment
section of this website here and before
we get started I want to give you guys a
small disclaimer to what it is we're
going to be doing for this episode now
typically when you go to some kind of
website let's say YouTube or Facebook
and you want to edit a post now when you
hit the edit button typically in a
website you're going to be able to edit
the post directly where the post is or
they might actually open up a separate
window we can edit the post now because
I want to focus purely on PHP for this
series we will not be able to do it that
way
typically we need some kind of front-end
language like JavaScript jQuery which is
JavaScript
in order to do this sort of thing you
know to make it look fancy but because
this is a pure PHP lesson series I want
to stick with PHP which means that when
we do actually hit the edit button in
our version of this website we're going
to get taken to a separate page where we
can see the full post and we can edit it
and once we hit the submit button or the
you know edit button we're going to get
sent back to this front page where we
have the comment section and you can see
the edited post here so that's how we're
going to do it for this episode now if
you guys disappointed by this because it
does actually look a lot nicer to just
be able to edit a post directly down
here or have a small window pop-up and
we can edit the post then I will look
into it when I get to a JavaScript and
jQuery tutorial series on this channel
but for now we're gonna have to stick to
this method here so the first thing we
need to do is we're going to go ahead
and open up our coding files and we need
to actually create the edit button that
we're going to use and click in order to
get taken to a separate page where we
can then edit the post and submit it so
what we need to do is we do actually
need to go into our comments section
which is inside our comments that Inc
the PHP because in here we have a
function called get comments so inside
here right after we end off the
paragraph tag right before we close the
div inside the echo here we're going to
create a form because we want to create
a form that only has a
button that can send all these values
that we have in here to the next page
that we need to edit in so inside my
echo here I'm going to go ahead and open
up a form and close it of course like so
we're going to create a button to start
with and close so now that we have this
we can actually go ahead and give it a
name so we can say edits and we also
need to include a couple of inputs now
these inputs are going to be hidden
which means that we can't access
anything inside the website but once we
hit that button we're going to send all
this information to the next page so we
can use it so let's go and create an
input or just simply copy/paste
something we have somewhere let's go to
the front page let's take this input
here called which as a type is hidden
and just simply copy yet now inside this
input we just paste it in I'm going to
go ahead and change the name actually no
let's go and keep the name the same
because we do actually need the UID to
pass on to the next page but let's go
and give it a new value which is going
to be equal to what we have inside
dollar sign row UID because we need to
make sure we pass on the information
from the database that we have inside
this function here I'm just going to go
ahead and paste it in make sure we do
actually end everything off correctly
with double quotes around it and
punctuation marks so if you guys don't
understand what we're doing here we're
basically taking all this information
passing it on to next page so we can
take it and edit it and then when we hit
the submit button or the edit button
it's then going to update the database
with another function based on whatever
we wrote inside the next page okay so
let's go and paste this down a couple of
times I think we just need to do it four
times and what we're going to do here is
the second one actually we're going to
keep the second one as UID the first one
we're going to set to ID because we want
the ID of the user so inside dollar sign
row we're going to simply say ID inside
the first line
inside the third line we want to copy in
the date and I'm just going to go ahead
and change it inside our dollar sign row
also and in the fourth one we need to
include the message so go same message
and paste it inside out dolls and row so
now that we have this we need to tell it
that once we hit the submit button or
the edit button down here we need to go
to another page so inside our form tag
we're going to first of all set a method
that tells us how we're going to pass
this information to the next page we're
going to set it to post which means it's
going to be hidden inside the URL and we
need to set an action I'm going to set
it equal to let's say edit comment dot
PHP which is probably not a very
creative name but that's what we're
going to call it for this episode for
practice purposes so now that we have
this let's actually go ahead and see
what we have inside the website so far
so as you guys can see we do actually
have an edit button now because of the
styling I did actually went ahead and
just styled all edit buttons the same
way as you know as we have our pendant
we can write comments so we might want
to tile this a bit differently so let's
go ahead and give this form a class as
edit - BTN as edit button go into our
style sheet and go to the very bottom
here we're going to go and create a
class called edit button yeah so the
first thing we're going to put inside
the edit button is going to be position
because we need to position this button
up in the top right corner of our
comment section here and the way we're
going to do that is we're going to go
ahead and oh do I have an undefined UID
we need to change that but let's take
care of the edit button first so we need
to put the button up here in the right
corner in order to do that we're going
to use a position:absolute which
basically means that we need to put it
somewhere based on the box it's inside
of so I'm going to go ahead and say
position:absolute
top seer pixels which means it's going
to be zero pixels from the top right
zero pixels and now when I hit buddy
call it refresh it's going to do this
thing but we don't actually see the
button anymore and the reason for that
is that when we scroll up to the very
top here you guys can see to have it up
in the top right corner now the reason
it's doing that is because it's not
recognizing our comment section as an
actual element which it's going to move
up in the corner of that way we change
that is by going to a comment box
styling we're going to set comment box
the class to position:relative which
doesn't really do anything unless we
actually tell it to go from the top or
left the right or bottom it's not going
to do anything other than allowing for
this button here to recognize it as an
element we can actually move it
somewhere inside up so now what we need
to do is let's go ahead and go down to
our edit button now this doesn't really
make sense that's actually going to
change the name here I apologize for
that let's say edit form and then go
ahead and copy this paste it below here
and let's change the name as well inside
of our comments that Inc the PHP now
this is actually a form styling which is
why I want to change to form nothing
that's going to break anything it just
makes more sense to write it this way so
down inside our edit form we're going to
say space button in the one we just
pasted it in or like copy pasted and
we're going to go ahead and set a new
width as maybe 40 pixels now I haven't
actually checked this yet I'm not
entirely sure if we need to put 40
pixels or not but let's go ahead and
give it a height
as ten pixels
I'm guessing color as hashtag to a to a
to eight and let's go ahead and remove
the background color so we're going to
say actually no for now let's keep the
background color because we need to see
what we're doing here if i refresh you
guys can see that it was not quite
enough the height so we need to give it
more than ten pixels let's give it 20
which is roughly where we want it so now
we're going to change the background
color background color is going to be
hashtag FFF because it's on a white
background already or you could set it
to transparent it's up to you there we
go so now we have an edit button let's
do one last thing to this button which
is that we're going to go ahead and say
when we hover on it we want to change
something so we're going to say copy
paste : hover and we're going to go
ahead and remove everything from inside
the styling now inside the original
styling of the button on top of here
we're going to set an opacity to 0.7
we're going to copy this opacity paste
it inside the hover effects and set it
to 1 so now when we do actually refresh
it becomes slightly transparent but when
we hover on it you can see that we get
this nice little you know indicator that
we're actually hovering on it so now we
have this let's actually going to fix
this IT mistake here 24 let's actually
check the database because I might be
wrong about yes it's not called ID is
called CID which is why we can't find it
so then we have our ID input we're going
to go ahead and change the to see ID
inside the row and inside the name as
well I guess that would be nice to do
now we have no errors so what we're
going to do now is when we hit this edit
button you guys can see we have edit
comment to PHP object not found so we
need to actually create the page we can
edit this comments so we're going to
create a new page in here I'm going to
save it inside our root folder as edit
comments dot php' so now that we have
this let's go ahead and copy the entire
front page or the entire index page so
now that we pasted everything in we need
to start deleting some of these things
because you don't need everything from
the front page for example we don't
actually need to get all the comments so
let's actually go ahead and delete that
function we don't need the iframe and I
think that was basically it so now we
have this we're actually going to go to
make changes to the form that we have
down here which is basically the comment
form that we have inside the front page
so I'm going to go and delete our well
actually let's just keep this for now
but I'm going to go and get the values
from the URL which has been passed on by
a post method from our comments that Inc
the PHP file here the function called
get comments so we need to get the cid
DUID the date and the message so once we
go back to edit comments we're going to
go ahead and right beneath our PHP tag
I'm going to say dollar sign underscore
post well actually let's go ahead and
copy some of this stuff because we have
done this plenty of times before and
inside this document we're going to go
ahead and copy our parameter so the post
parameters to be passed inside the URL
for the set comments function because we
can reuse those let's go ahead and go
back to edit comments and just simply
paste those in it's actually going to
make this look nice like so we need one
more thing though because we also passed
on the ID of our comments so we need to
change this to CID by copy-pasting
either one of these I just chose UID so
now we have all the different values so
what we can do now is we can actually go
out and edit this form down here so it
matches something we would use in order
to edit a comment and this can be styled
in any kind of way you guys want I'm
just going to go ahead and do some very
basic stuff to it down here so we still
need to set the method as post we are
going to set a new action which is going
to still be a function but not set
comments it's going to be called edit
comments and we haven't actually created
this function yet down here we have the
input we're going
go ahead and keep our UID hidden but
while also going to go ahead and include
our new value which we got from the UL
up here which is called UID so we're
going to write double quotes punctuation
twice we paste in our PHP code down here
where we have the date we're also going
to pass on the date so I'm going to go
ahead and say copy or we could just have
copied this part here that would have
been easier actually no that would make
no difference let's just copy this one
up here there we go and paste it instead
of the date down here inside the text
message we're going to go to set this
one a value so I'm going to say value
equal to actually no we don't actually
need to do that let's actually go ahead
and put the text inside the text area
that would make more sense so let's just
go ahead and copy our variable up here
now I just realize we do not use the
variable names up here either but you
can do it either way I'll just serve as
what I mean in a second so let's go and
paste in the message here and change
these parameters you put in here with
the actual variable names we might as
well do it since we have already created
them there we go and there we go now
does essentially the same like I said
it's just it looks nicer so now that we
have this let's actually go ahead and
say down with the button let's go ahead
and name this one edit instead and now
if we were to go in and refresh our
website hit an edit button we're
probably going to get an error message
because it doesn't actually find our
function so if we go in and actually
create the new function we refer to by
copy pasting let's just go ahead and
take this function called set comments
because it's closer to what we want it
to be and change the name to edit
comments so now we do X have a function
named this correctly so now if we go
back to the website continue there we go
we have a text area that says this is a
test and you can edit it so we can
actually write in here and do stuff so
now we have the actual text box and like
I said you guys can style it either way
you want to I will keep this darling for
now
even though it does not look very pretty
and it looks identical to the front page
like I said you guys can start any kind
of way you guys want to now that we have
that and we hit the really called the
button in here to submit button we're
going to go ahead and go into our edit
comments function and do whatever that
function tells us to do so basically
what we need to do is take the function
we copy pasted in here and change the
name to edit comments we take this one
and instead of writing an insert
statement we're going to write an update
statement now that's basically all we're
going to do here what we're just going
to do one more thing which is do
actually need to get the ID of the post
or the comment so we're just going to go
ahead and create another post get from
the UL a post from the UL called CID
like so and now we can change the SQL
string down here so we're going to go
and delete everything from inside of it
and we're going to go ahead and write
update so we're going to update a
comment section if I remember correctly
or set comments I think it's comments
I'm pretty sure it's comments from our
database we're going to update comments
and we're going to go and set a specific
column to another value so we need to go
ahead and say we want to change the
message of this one so we're going to
say message equal to single quotes and
it has to be equal to the new message
that were passing on from this form we
have inside edit comments the PSP so
once we have this we can say space and
now need to determine where to edit this
because if I were to just go ahead and
run this code it would change all the
comments inside our database to whatever
we edited in here so we need to specify
specifically which comment needs to be
edited so I'm going to say where and
then we're going to go and say CID is
equal to the CID we passed on from the
previous form inside edit comments which
have the CID passed on to it from our
front page by the axial comment section
we hit the edit button so we're kind of
doing a in
reception thing here we're passing on
information from the front page to the
Edit comment page to the function in
here which might seem a bit weird but
that's how we're going to do it like I
said without JavaScript and jQuery so
we're going to go and graph this
variable up here paste it in here so we
have CID equal to dollar sign CID and
that's basically it the last thing we
need to do is to actually take us back
to the front page so I'm going to create
a header function and inside the
parentheses we're going to say location
well first of all we're going to say
double quotes then location with the big
L colon and then we're going to say
index dot PHP so now if I go back to the
web site and let's actually go back to
the comments to the actual front page
refresh and now hit an edit button so
let's go and say we want to edit this is
a comment which is the second comment we
have inside here but at least I have in
here then you guys can see that it says
this is a comment I'm going to say this
is a edited version exclamation mark and
I want to hit edit we get taken back to
the front page and we didn't actually
get it updated for some reason so we
need to check for an error message okay
so I did actually find the error and
this is actually pretty silly one to
have so you guys might have caught this
one we did actually write the code but
inside our form inside our edit comment
a PHP file
we forgot to include an input for the
CID
you know the comment ID so I'm just
going to go ahead and copy paste my UID
input and change the names to CID inside
our name and value so now that we have
this it should actually work so if we go
back to our website refresh and I'm
going to go and edit my first post which
did actually work down here because that
actually tested if I hit edit and change
the post to this is a edited version you
guys will see it works so now post is in
fact edit it so this is basically how
we edit post inside our comments section
and in the next episode we're going to
talk about how to delete post so we're
going to go end it off here it's already
been way too long this episode so if you
guys enjoyed and I'll see you guys next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>