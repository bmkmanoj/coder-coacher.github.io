<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Delete user comment messages from database with PHP - PHP tutorial | Coder Coacher - Coaching Coders</title><meta content="Delete user comment messages from database with PHP - PHP tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/mmtuts/">mmtuts</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Delete user comment messages from database with PHP - PHP tutorial</b></h2><h5 class="post__date">2016-02-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/W-FkqWUz0eE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">today we're going to talk about how to
delete comments from our comment section
and this is going to be very similar to
the previous episode but we did actually
go in and learn how to edit our comments
as you guys can see if I go into the
website here we can go down to a comment
hit edit and write something random and
as you guys can see we did actually edit
the comment now when we have to delete
the comment it's going to be very
similar the only difference here is that
we don't actually need to go in and
create a separate page as you guys can
see when I hit edit I go into another
page to actually edit the post now with
the leading we just simply need a button
that says delete and when we click it we
need to activate a function that just
deletes the comment so this is going to
be a very very quick episode compared to
the previous one so what we need to do
first is we need to create the delete
button so what I'm going to do is that
I'm going to go in and find the plays
we've did actually create the comments
so I'm going to go into my comments that
Inc the PHP file and then what we have
to get comments function as you guys can
see this is actually where we spit out
all the comments we're going to go down
to we've have the edit button I'm going
to copy the edit button which is this
entire form down here and paste it right
on top of it now I'm going to take this
second form and I'm going to change it
so it matches whatever I need to use it
for when I have to delete a post so
first of all we need to take a look at
the input which one which ones we do
actually need to delete a post now when
we think about it the only information
we need to actually delete a post is
figuring out what the post you know what
kind of ID the post has so the only
input we need down here is actually the
one that goes in and references to that
specific post which in in this case is
going to be the one called
CID so we can actually go in and delete
all the other inputs so I'm just going
to go ahead and delete them here and
afterwards you guys can see that the
only thing we have in here is an input
and a button so now we have this we can
actually go ahead and just rename what
the button says right now it says edit I
would like for it to say delete
and I'm also going to go ahead and
change the class name from edit form to
delete form now the next thing we need
to do is actually change the action
because right now as you guys can see we
do actually tell it to go to a separate
page when we hit the you know the delete
button so what we want to do instead is
to tell to run a function so I'm going
to go in here I'm going to go ahead and
highlight the path delete it and then
I'm going to go ahead and write double
quotes two of them to punctuation marks
in between here so now what we're going
to do is we're going to write some PHP
code which is going to be the name of
the function want it to actually run so
in this case I think we should call it
what did we call the other one we call
the other one edit comments so I think
this one should be called delete
comments for the Big C because that
makes sense and that's pretty much it so
after we've done this let's actually go
to the stylesheet
and go down where we have the styling
for this form which is called edit form
I'm just going to go ahead and copy it
all three of them we do actually have
the primary styling then we have the
button styling and then we have the
hover effect styling so after we've done
this we can actually go ahead and say
that we want to change the name from
edit to delete and now we need to think
about what you know how we want it to
look like now in this case we don't want
it to be positioned in the top right
corner because that's what the Edit
button is if I were to actually go in
and refresh the browser you guys will
notice that what we do actually get an
error message but that's because we
didn't actually create the actual
function yet so let's actually go ahead
and do that so we don't get the error
message if you go back to common
studying to PHP we need to create the
function called delete comments which
reference to so I'm going to copy it I'm
going to go down beneath my function
called edit comments and I'm just going
to go ahead and create this function we
have in here so I'm going to say
function delete comments open up the
curly brackets and that's pretty much it
cuz
we should not get an error message so if
I go back in here refresh you guys can
see that now it looks normal
what is almost normal because you guys
will notice that the Edit button and the
delete button are right on top of each
other we don't want that so what we need
to do inside the styling here is where
we have the delete form set as tops your
pixels right zero pixels we're going to
go and change the right positioning so
I'm going to say let's say 40 pixels
just to see how it looks like and as you
guys can see we did not do it just
enough so let's go ahead and say 60
pixels and there we have it so now we
have a delete button we can actually
press and then it's going to run the
function but as you guys can see when I
click it nothing happens because we
don't actually have anything inside our
delete function so what we need to do
now is simply tell it what to do once we
hit that delete button so I'm going to
go into my function called delete
comments and I'm just going to go ahead
and copy whatever we have inside our
edit comments because it's going to be
very similar to it so once we copied it
and pasted it inside our delete comments
we can actually go ahead and tell it
that we want to change the is set
function or is set checking in here so
instead of checking for comments submits
I would like for it to check for comment
delete of course we need to change this
as well so if we go up to our form up
here I'm going to go ahead and go in
here and name our button comments delete
now we don't really need to do this but
I think it's just a good exercise to
name every single form as you guys will
notice we didn't actually name the form
down here which edits the the message or
just simply takes us to the Edit
comments but the reason we didn't do
that is because we didn't actually run a
function directly so I didn't think
there was a reason to give it some kind
of name down here but since we're
actually running a function directly
inside our delete form then I think it's
a good idea to first of all name it and
let's go ahead and set a type so I'm
going to set the type as
submits just to have it in there so now
what we need to do is go down and
continue with our delete comments
function and as you guys remember we
actually deleted all different inputs
except for the CI D so I'm just going to
go and delete these down here as well
because we don't need them afterwards
I'm going to go into my SQL function
down here on my SQL string and change it
up a little bit so what we're going to
do in here is we're actually going to go
ahead and just delete everything we have
in here because I don't see a reason to
have it and then we need to write delete
from and then we need to tell which
table we're going to delete from and I
do think we call it comments I can spell
that afterwards we're going to go ahead
and tell it where inside the comments
say we want to delete some information
so we're going to say where and then
we're going to set the cid
equal to single quotes equal to the
variable we have up here called cid so
now we're telling it we need to delete
something from the comments table where
the cid is equal to the comment ID of
our post so now know specifically which
one to delete inside our table so after
we've done this we're actually pretty
much done because after this we just
simply run the query which goes into the
database actually runs to SQL sentence
which means that it deletes the post and
then it returns us back to the front
page so now if I do actually go back to
our website refresh whoops we do
actually want to completely reverse this
like so and if I go down to the one
called
this is a comment to 2 2 to 2 2 to 3 3 3
3 3 then I can actually go and click
delete and we do actually get an error
message so let's go ahead and fix that
ah ok so we do actually need to pass in
the connection as well because we didn't
actually have a connection in here so
let's go ahead and go back to our
function so what we need to do is we
need to pass in the connection just like
we did with the Edit comments because
otherwise it doesn't know
what what our connection variable down
here is so we need to pass it inside the
parentheses up here as well for to
actually know what this is so after
we've done that let's actually go back
and try this again and we do get another
error message this is very typical so if
we go back to our common setting to PHP
you guys will actually notice that we
did actually forget to include the
connection inside our delete comments
parentheses up where we did actually
reference to it inside the form so we
need to include it in here as well which
I don't know why we forgot to do I just
didn't think about it so after we've
done this we can actually go back
refresh and as you guys will see we give
no more error messages now if we hit the
delete button as you guys can see we
have deleted the comments I can also
delete the top comment up here and as
you guys can see it's delete it so it's
not as difficult to delete comments it's
actually more simple than editing them
and this is pretty much what's to it so
with this information you guys to be
able to do something similar like this
inside if you were to create let's say a
forum where people need to be able to
edit or delete a forum post it's just
like doing it this way so be as enjoyed
this episode and I'll see you guys next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>