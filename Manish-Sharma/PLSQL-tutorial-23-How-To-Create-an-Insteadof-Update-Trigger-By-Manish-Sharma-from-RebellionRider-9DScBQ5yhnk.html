<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PL/SQL tutorial 23: How To Create an Instead-of Update Trigger By Manish Sharma from RebellionRider | Coder Coacher - Coaching Coders</title><meta content="PL/SQL tutorial 23: How To Create an Instead-of Update Trigger By Manish Sharma from RebellionRider - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Manish-Sharma/">Manish Sharma</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>PL/SQL tutorial 23: How To Create an Instead-of Update Trigger By Manish Sharma from RebellionRider</b></h2><h5 class="post__date">2016-03-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9DScBQ5yhnk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">What’s up Internet? I am Manish from RebellionRider.com
where we make learning SQL, PL/SQL and Oracle
Database fun.
So in the last tutorial we learned about Instead
of Insert trigger. Today we will take a step
further and concentrate on the next type of
trigger which is Instead of update trigger.
As this tutorial is in the continuation of
the previous one thus I will use both the
tables ‘trainer’ and ‘subject’ also
the view ‘vw_rebellionrider’ which I already
created in the last tutorial. Thus I highly
encourage you to first watch the previous
PL/SQL tutorial for better understanding.
So without further ado let’s start the tutorial.
Similar to insert operation, the update operation
is also not allowed on a non-modifiable view
in oracle database. This is due to the involvement
of multiple tables over which your view is
created. But this restriction can easily be
surpassed using the Instead-of Update triggers.
Similar to the Instead-of Insert trigger,
Instead-of update trigger will override the
default behavior of your update operation
when you execute the update statement and
will let you update the data of the underlying
tables over which your view is created.
Let’s do the practical.
DESC vw_rebellionRider;
Here is our view. Let’s try to write an
Update DML statement and update some of its
data and see what happens.
UPDATE vw_rebellionrider SET full_name = 'Tony
Stark' WHERE subject_name = 'Java';
As you can see when I executed this update
statement, I received an error which clearly
indicates that this trigger is not modifiable.
But we know that using Instead-of Trigger
we can make a non-modifiable view modifiable.
So let’s write an Instead-of Update trigger
on our view and see how we can make almost
impossible looking thing possible.
But before that let’s close this script
output and clear the screen great now let’s
write our instead of update trigger
CREATE OR REPLACE TRIGGER io_update
INSTEAD OF UPDATE ON vw_rebellionrider
FOR EACH ROW
BEGIN
UPDATE trainer SET FULL_NAME = :new.full_name
WHERE FULL_NAME = :old.full_name;
UPDATE subject SET subject_NAME = :new.subject_name
WHERE subject_NAME = :old.subject_name;
END;
/
So here we have our trigger. The trigger is
very similar to the instead of insert trigger
which we saw in the previous tutorial except
those Update DML statements which I suppose
are the only things that seem confusing. This
is because of the :NEW and :OLD specifiers
or say pseudo records which, I guess, we have
already discussed in PL/SQL tutorial 16.
Anyways let’s see these update statements
here.
These 2 update statements are updating the
respective columns which we specified here.
Using 1st update statement we are updating
full name column of trainer table and using
2nd update statement we are updating subject
name column here.
Now what are these “:new” and “:old”
specifiers doing here? The specifier :new.full
name will fetch the new data from the update
statement which you will execute on this view
vw_RebellionRider and set that data as the
new value of specified respective column which
in case of first update statement is full_name
and in case of second statement is subject_name.
Whereas specifier “:old” lets you fetch
the data which is already saved into the respective
tables and that data will be used by the WHERE
clause to find the match. If there is any
match then the Update statement will execute
and update the data otherwise 0 rows will
be updated.
I highly suggest you to watch the PL/SQL Tutorial
16 there I’ve explained the use and working
of Pseudo Records in detail. Link is in the
description.
Let’s execute the trigger. Trigger compiled
successfully. Now let’s try to execute the
same update dml once again and see whether
this time it will work or we will get the
error again.
UPDATE vw_rebellionrider SET full_name = 'Tony
Stark' WHERE subject = 'Java';
Update statement has successfully updated
the rows where subject is java without any
error.
So that’s how we create an Instead of update
trigger in oracle database.
Hope you enjoyed watching. Comment below and
let me know how you like this video. I feature
the best comment everyday on my social media.
Next comment can be yours. Also give this
video a thumbs up and share it with others
on your social. Make sure to subscribe.
Thanks for watching. This is Manish from RebellionRider.com</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>