<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PL/SQL tutorial 33: Table Based Record Datatype In Oracle Database by Manish Sharma | Coder Coacher - Coaching Coders</title><meta content="PL/SQL tutorial 33: Table Based Record Datatype In Oracle Database by Manish Sharma - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Manish-Sharma/">Manish Sharma</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>PL/SQL tutorial 33: Table Based Record Datatype In Oracle Database by Manish Sharma</b></h2><h5 class="post__date">2016-06-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8WqpqKUj9l8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">What’s up Internet?
I am Manish from RebellionRider.com and I
am back once again with another PL/SQL tutorial.
Today in this tutorial we will learn how to
create a table based record in oracle database.
We have already discussed topics like what
are records and their types along with the
syntax of creating records in previous PL/SQL
tutorial.
I suggest you to watch that tutorial.
Find the link in the description.
So without wasting much of your time, let’s
start the tutorial.
So as we already know that record datatype
variables are composite data structures made
up of different components called fields which
have the same name and data types as that
of the columns of a table using which you
created that record.
So let’s do the examples and learn how to
declare a record datatype variable and retrieve
data from it.
But before that let’s quickly go over a
simple example of SELECT-INTO statement which
we have previously seen in PL/SQL tutorial
3.
DECLARE
v_fname VARCHAR2(20);
v_salary NUMBER(8);
BEGIN
SELECT first_name, salary
INTO v_fname, v_salary
FROM employees WHERE employee_id = 200;
DBMS_OUTPUT.PUT_LINE(v_fname||'
'||v_salary);
END;
/
Here in this PL/SQL program, as you can see
we have declared 2 variables v_fname and v_salary.
Both these variables have different datatypes
and data width.
And in the execution section of this block
we used both these variables for storing the
data of the employee whose id is 200 from
corresponding columns of employees table.
So what we understand from this program is
that we need to create variables which have
same data type and data width to store the
data retrieved from the columns of the table.
As we have here variable v_fname for first
name column and v_salary for salary column.
This sounds very simple and practical especially
when we know the structure of the table and
we are sure that no one will ever change it
over which we have programmed our code or
say the app.
But what if, we don’t know the structure
of the table or one day someone in your company
decides to change the data type or data width
of the salary column of this table.
Then this program will become useless.
In fact not only this program but every other
PL/SQL program which is based on this table
is useless.
So what is the solution?
The answer is very simple.
The solution of this problem is Database Record
datatype variables.
So let’s see how Database Records can help
us in dealing with our problem.
First let me open a fresh worksheet.
Now let’s do the example of Record type
variables in Oracle Database.
SET SERVEROUTPUT ON;
DECLARE
v_emp employees%ROWTYPE;
Here we have the declaration section of this
anonymous PL/SQL block where we declared our
record type variable.
Declaration of a record variable is very similar
to the declaration of simple user variables.
First we have the name of the variable which
is v_emp, you can give whatever name you want
to your variable.
Then we have the name of the table which is
employees in our case over which we want to
declare our record variable and then we have
the %ROWTYPE attribute which indicates that
the declared variable is a Record type variable.
Whenever you declare a record type variable,
oracle engine will declare a composite data
structure with fields corresponding to each
column of the specified table.
This means that if we have a record variable
created using Employees table then that variable
has 11 fields corresponding to 11 columns
of the employees table.
Also all these fields have the same name,
data type and data width as of the columns
of the table.
So let’s move ahead and write the execution
section.
BEGIN
SELECT * INTO v_emp FROM employees
WHERE employee_id = 200;
This execution section is almost self-explanatory.
Here again we have a SELECT – INTO statement
but this time we are selecting data of an
employee with employee id 200 from all the
columns of employee table and unlike the previous
example we used only one variable v_emp which
is the record type variable for storing all
this data.
On execution of this select-into statement
all the data of the employee with employee
id 200 will be stored into the respective
fields of this record type variable which
is v_emp.
So that is how we initialize a record variable.
So now we have seen how to declare and initialize
a record variable.
The only thing which remains un-answered is
how to access data from the records.
So let’s complete this execution block and
learn how to access data of a record.
DBMS_OUTPUT.PUT_LINE (v_emp.first_name ||' '||v_emp.salary);
END;
In this output statement we have displayed
the first name and salary of the desired employee.
Let’s see how.
In order to access the data stored into a
record variable we use the dot notation.
In which we first write the name of our record
variable followed by a dot and then the name
of the column whose data we want to retrieve.
Such as in this example we displayed the first
name of the employee and for that we first
wrote the name of the record variable followed
by a Dot (.) and then the name of the column
which is first name and similarly we retrieved
the salary of the employee.
Using this way you can retrieve the data of
the desired employee from any column of the
table.
For example along with First name and Salary
you also want to see the hiring date of the
employee.
For that either just add the column into this
output statement or add an extra DBMS Output
statement.
DBMS_OUTPUT.PUT_LINE (v_emp.hire_date);
That’s all you have to do.
Now let’s execute this code and see the
output.
Here is the name, salary and hire date of
the employee whose employee id is 200.
That is a brief PL/SQL video tutorial on Record
Datatype variables in Oracle Database.
There are few more things related to this
topic which you can learn from my blog on
“Record Datatype variables in Oracle Database”.
Please do check that.
Find the Link on your Screen &amp;amp; also in the
description down below.
That’s it for today.
Do make sure to subscribe as I will be back
soon with another interesting tutorial.
If you want to stay in touch with me then
follow me on my Twitter, Facebook or on Instagram.
All the links are in the description.
And if you want to help me then simply help
others in learning by sharing this video on
your social media.
Thanks for watching.
Stay tuned I will be back soon.
This is Manish from RebellionRider.com</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>