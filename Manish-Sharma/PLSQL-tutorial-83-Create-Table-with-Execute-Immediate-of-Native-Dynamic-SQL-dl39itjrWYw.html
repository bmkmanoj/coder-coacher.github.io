<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PL/SQL tutorial 83: Create Table with Execute Immediate of Native Dynamic SQL | Coder Coacher - Coaching Coders</title><meta content="PL/SQL tutorial 83: Create Table with Execute Immediate of Native Dynamic SQL - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Manish-Sharma/">Manish Sharma</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>PL/SQL tutorial 83: Create Table with Execute Immediate of Native Dynamic SQL</b></h2><h5 class="post__date">2018-04-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dl39itjrWYw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">What’s up Internet?
I am Manish From RebellionRider.com.
In this video we will learn about the second
way of writing a DDL statement for Execute
Immediate of Native Dynamic SQL.
I know in the last video I said that I will
be teaching this second way of writing a DDL
query in its corresponding blog, but I didn’t.
This is because I feel that this topic could
be explained in a much better way through
a video.
I am really sorry for the inconvenience.
Anyways, now let’s quickly look at the second
way of writing a CREATE TABLE DDL for Execute
Immediate in Oracle Database.
As this video is in continuation of the previous
one thus I request you to please watch that
video first for a better understanding.
That being said, let’s start the tutorial.
First let’s prepare our CREATE TABLE DDL
which we want to run using EXECUTE IMMEDIATE.
CREATE TABLE tut_83 (
tut_num NUMBER(5),
tut_name VARCHAR2 (50),
CONSTRAINT cons1_col1_pid_pk PRIMARY KEY (tut_num)
)
Here is our CREATE TABLE DDL statement.
Using this DDL statement we are creating a
table with the name tut_83 which has two columns
tut_num of NUMBER datatype and tut_name of
VARCHAR2 data type.
This time we have added a primary key constraint
over our first column which is tut_num.
Once again, you would have noticed that I
haven’t ended this DDL with a semi colon.
Come on, don’t say, you don’t know why
we did it?
I have explained it in detail in the last
tutorial.
See that’s why I asked you to watch that
tutorial first.
Its ok, you still have time.
Go ahead and watch that tutorial.
Also,
If you want to learn more about primary key
constraint, then I have done an awesome blog
on it.
You know where to find the link.
Yep, in the description.
Ok, now let’s move ahead and open a fresh
worksheet where we will write our PL/SQL block
for all the Dynamic SQL action.
Here we are.
Let’s start.
SET SERVEROUTPUT ON;
DECLARE
ddl_qry VARCHAR2(150);
Here is the declaration section.
In this section we have declared only one
variable which is ddl_qry.
It will be holding our CREATE TABLE DDL which
we will be running using the Execute Immediate
statement.
As we learnt in the last tutorial that Execute
Immediate treats all the SQL statements as
a string of VARCHAR2 data type.
That is why we had declared our variable ddl_qry
as VARCHAR2 data type.
Let’s move ahead to write the execution
section.
BEGIN
ddl_qry:=
Here we have started the declaration section.
Similar to the previous example the first
statement of this declaration section will
be an assignment statement where we will be
assigning our CREATE TABLE DDL to the variable
ddl_qry.
So now let’s copy the CREATE TABLE DDL which
we prepared earlier from the previous worksheet
and paste it here.
CREATE TABLE tut_83(
tut_num NUMBER(3),
tut_name VARCHAR2(50),
CONSTRAINT cons1_col1_pid_pk PRIMARY KEY (tut_num)
)
Here we are.
Now let’s break this DDL down and prepare
it for Execute Immediate statement.
If you remember, in the last example we enclosed
this whole create table DDL into a pair of
single quotes.
But to break this, we will be wrapping every
single line of this DDL into single quotes
separately and to join them we will be using
concatenate operator.
Let’s do this.
ddl_qry := 'CREATE TABLE tut_83('
'tut_num NUMBER(3),'
'tut_name VARCHAR2 (50),'
‘CONSTRAINT cons1_col1_pid_pk PRIMARY KEY
(tut_num)’
')';
Here we have enclosed all five lines of this
CREATE TABLE DDL into single quotes, next
we will join all these lines using concatenate
operator.
Let’s do that also.
ddl_qry := 'CREATE TABLE tut_83('||
'tut_num NUMBER(3),'||
'tut_name VARCHAR2(50),'||
‘CONSTRAINT cons1_col1_pid_pk PRIMARY KEY
(tut_num)’||
')';
Also, don’t forget to end your assignment
statement with a semi colon.
Make sure you are putting the semicolon outside
the single quotes.
Do not enclose the semicolon inside the quotes
unless you are writing a PL/SQL block for
execute immediate, which we will be learning
in future videos.
Done, now this DDL is well prepared for dynamic
execution.
So next we will write the EXECUTE IMMEDIATE
statement and close this PL/SQL block.
EXECUTE IMMEDIATE ddl_qry;
END;
/
That’s all.
Now let’s execute and see whether it works
or not.
PL/SQL procedure successfully completed.
Which means this PL/SQL block has created
the table tut_83 into our database.
Now you must be wondering what is the need
for such a syntax to build the query for dynamic
SQL?
I find this way of writing a query for dynamic
SQL more convenient especially when my SQL
queries are larger in size.
This is because I like a nicely indented and
formatted code.
That makes tracking and rectifying syntactical
bugs a lot easier.
Also if you are preparing for certification
exam then learning both the ways is beneficial
because you never know what you will get in
exhibits.
This is why I thought that you must know both
the syntax of building a DDL query for execution
with Execute Immediate statement of Native
dynamic SQL.
Also head over to the blog to learn how to
check whether the table is created or not.
There I have discussed two different ways
of checking the object creation.
You can find the link in the description.
Hope you enjoyed this tutorial.
If you find this video helpful then please
hit the like button and subscribe to the channel.
That is the tutorial on how to build a CREATE
TABLE DDL query for Execute Immediate statement
of Native Dynamic SQL.
Thanks for watching.
This is Manish from RebellionRider.com</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>