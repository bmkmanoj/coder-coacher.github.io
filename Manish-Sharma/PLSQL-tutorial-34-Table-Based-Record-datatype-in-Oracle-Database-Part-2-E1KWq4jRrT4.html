<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PL/SQL tutorial 34: Table Based Record datatype in Oracle Database Part 2 | Coder Coacher - Coaching Coders</title><meta content="PL/SQL tutorial 34: Table Based Record datatype in Oracle Database Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Manish-Sharma/">Manish Sharma</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>PL/SQL tutorial 34: Table Based Record datatype in Oracle Database Part 2</b></h2><h5 class="post__date">2016-06-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/E1KWq4jRrT4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">What’s up internet?
I am Manish from RebellionRider.com.
Welcome to the “Table Based Record Datatype
Variable” PL/SQL tutorial part 2.
In this video we will see how to initialize
a record data type variable in Oracle Database.
In the previous tutorial we saw, how to initialize
a record variable by fetching data from all
the columns of a table using SELECT-INTO statement.
But what if we want to fetch the data from
selected columns of a table?
Can we still use the same process for initializing
the record variable?
If not, then what is the proper way of initializing
a record variable by fetching the data from
selected columns of a table?
In order to answer this question, let’s
write the same anonymous PL/SQL block which
we wrote in the last tutorial.
But unlike the previous tutorial where we
initialized the record variable by fetching
data from all the columns of the table, this
time we will initialize the record variable
just by fetching data from one column of a
table only.
Let’s write the PL/SQL code
SET SERVEROUTPUT ON;
DECLARE
v_emp employees%ROWTYPE;
BEGIN
SELECT first_name INTO v_emp FROM employees
WHERE employee_id = 100;
DBMS_OUTPUT.PUT_LINE(v_emp.first_name);
END;
/
Here is our code.
Apart from the SELECT-INTO statement the whole
code is similar to the one we saw in the last
tutorial.
Let’s try to execute.
The execution of this block returns an error
which indicates that we did something wrong.
So you ask, Manish, if this is not the correct
way then what is the proper way of initializing
a record data type variable by fetching the
data from the selected columns of a table?
Good question.
To find out the answer of this question we
have to understand the problem here.
Remember in the previous tutorial we learnt
that Database Records are composite data structures
made up of multiple fields which share same
name, datatype and data width as that of the
columns of the table over which it is created.
And the data which was fetched gets stored
into these fields.
In case of initializing a record variable
by fetching data from all the columns of a
table, we don’t have to do anything, oracle
engine does all the dirty work in the background
for you.
It first fetches the data from the table and
then stores that data into the corresponding
field into the record which has the same data
type and data width, and for that matter also
shares the same name.
But when it comes to initializing a record
datatype variable by fetching the data from
selected columns we have to do all this work
manually.
We have to specify the name of the column
from which we want to fetch the data and then
we have to specify the name of the field where
we want to store that data.
And to specify the name of the field of the
record variable we use Dot (.) notation where
we first write the name of the already declared
record variable followed by a dot (.) and
the name of the field.
And luckily both the columns of the table
and fields of the record share same name.
So let’s modify the code of this PL/SQL
block accordingly and see how to initialize
a record datatype variable by fetching data
from selected columns.
The only thing which we have to modify here
is this SELECT statement while the rest of
the code is correct.
First let me close this Script Output so that
we can see things clearly.
Great,
SET SERVEROUTPUT ON;
DECLARE
v_emp employees%ROWTYPE;
BEGIN
SELECT first_name INTO v_emp.first_name FROM
employees
WHERE employee_id = 100;
DBMS_OUTPUT.PUT_LINE (v_emp.first_name);
END;
/
I just added the field name with the name
of the record variable using Dot Notation.
Here I just initialized the record datatype
variable by fetching data from 1 column.
If you want you can do so with 2 or more columns
also.
For example you can initialize the record
variable with first name and hire date.
Just modify the SELECT statement accordingly.
SET SERVEROUTPUT ON;
DECLARE
v_emp employees%ROWTYPE;
BEGIN
SELECT first_name, hire_date INTO v_emp.first_name,
v_emp.hire_date FROM employees
WHERE employee_id = 100;
DBMS_OUTPUT.PUT_LINE (v_emp.first_name);
DBMS_OUTPUT.PUT_LINE (v_emp.hire_date);
END;
/
Don’t forget to separate the column names
and record variable’s field names using
comma.
That’s all you have to do.
Let’s execute this program and see whether
it works this time or not.
Here is the result.
That is how we can initialize a record datatype
variable in oracle by fetching data from selected
columns using SELECT-INTO statement.
You can read more on the same topic on my
blog.
Link is in the description.
If you learnt something new and enjoyed watching
then do make sure to give this video a thumbs
up.
You can also help others in learning as well
as support me and my channel by sharing this
video on your social media with your friends.
Most importantly Subscribe.
As many other interesting PL/SQL tutorials
are yet to come.
Subscribe to this channel and be the first
one to watch.
That’s it for today.
Thanks for watching I will be back soon with
another interesting video.
Till then take care.
This is Manish from RebellionRider.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>