<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PL/SQL tutorial 4: Anchored Datatype (%TYPE) in PL/SQL By Manish Sharma RebellionRider | Coder Coacher - Coaching Coders</title><meta content="PL/SQL tutorial 4: Anchored Datatype (%TYPE) in PL/SQL By Manish Sharma RebellionRider - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Manish-Sharma/">Manish Sharma</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>PL/SQL tutorial 4: Anchored Datatype (%TYPE) in PL/SQL By Manish Sharma RebellionRider</b></h2><h5 class="post__date">2015-07-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Zt0vlmTqhP4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">What’s up internet?
I am Manish from RebellionRider.com and welcome
to my 4th PL/SQL tutorial for beginner series.
The topic of today’s tutorial is Anchored
Data-type in PL/SQL.
In this tutorial we will learn about Anchored
data-type, how to declare them in PL/SQL and
its uses.
So without wasting much of your time let’s
get started.
So what are Anchored Data-Type in PL/SQL?
Anchored data types are those data type which
you assign to a variable based on a database
object.
They are called anchored data type because
unlike the variables data type it is not dependent
on that of underlying object.
Let’s take a quick look at anchored data
type syntax.
variable_name typed-attribute%type
Where variable name is user defined name given
to a variable and type attribute can be anything
such as previously declared PL/SQL variable
or column of a table.
And at the end %type is the direct reference
to the underlying database object.
In order to better understand the concept
of anchored data type let’s do some examples.
Ok so here I am on my SQL Developer.
For the demonstration I have created a table
by the name of Students which has two columns
stu id with data type number and data width
2 and First name with data type varchar2 and
data width 8.
I have also inserted two rows into this table.
Next I will write an anonymous block where
I will declare a variable with anchored data
type and then I will initialize that variable
by fetching value from this table.
So let’s do it.
SET SERVEROUTPUT ON;
DECLARE
v_fname students.first_name%TYPE;
Here In the declaration section I have declared
a variable by the name of v_fname with identical
data type as the column First Name of table
Students.
This means that the data type of variable
v_fname will be the varchar2 with data width
8.
Which is the data type and data width of the
column first name of our table students.
What I just did here is that I simply wrote
the name of our table which is Student followed
by Dot (.) operator and the column name first
name followed by the keywords %TYPE.
This will assign the data type and data width
of column first name to our variable v_fname.
That’s how we declare a variable with anchored
data type.
Isn’t it simple?
Ok
So let’s add execution section to this anonymous
PL/SQL block and initialize this variable
v_fname by fetching data from the table students.
BEGIN
SELECT first_name INTO v_fname FROM students
WHERE stu_id =1; DBMS_OUTPUT.PUT_LINE (v_fname);
END;
Here in this execution block I have a Select…
Into statement using which I am fetching first
name of the student whose stu id is 1 and
storing it into our variable v_fname.
If you are confused about this Select…Into
statement then I encourage you to watch my
previous video where I explained this Specific
topic in detail complete with easy examples.
Link is in the description or on the right
hand corner of the screen.
That said let’s execute this block.
And here we got an error that’s because
I must have done something wrong so what I
am also a human being let see where is the
mistake?
And ohk here in the declaration section.
The name of table is students not student.
Ok let’s close this script output and try
to execute this anonymous block once again
Ok here is our result.
You must be thinking what are the applications
of this kind of data type?
Why do we need them?
To answer this question let me quickly write
another block.
Then I’ll demonstrate you application of
anchored data type.
But before that let me close this script output
ok done
SET SERVEROUTPUT ON;
DECLARE
v_fname VARCHAR2(8);
BEGIN
SELECT first_name INTO v_fname FROM students
WHERE stu_id =1;
DBMS_OUTPUT.PUT_LINE(v_fname);
END;
This is a same code as of the previous one
except that this time we have a normal variable
declaration with data type varchar2 and data
width 8 instead of Anchored data type as we
had in our last PL/SQL block.
As we are initializing the variable v_fname
by fetching value from base table students
hence making this variable dependent on column
of the table whose value we are storing into
it.
That means this variable must have the same
data type and data width as of the base column
which in our case is the first name column
of student table.
Now this is the problem.
What if you don’t know the data type and
data width of column of the base table?
Or suppose you knew the data type and data
width and you designed your block according
to that but now after a few months someone
came and changed the definition of the base
column.
Now your code will not work.
In this case, this type of anchored data type
helps.
No matter what happens to the base table or
its column it always keeps your code and its
variable in sync.
Let’s see.
Let me execute this code.
This will work fine since the variable definition
is according to the base table.
See here is the result.
Now I will change the data type of the column
first name of our table students from VARCHAR2
to CHAR and data width from 8 to 10.
So let’s first close this script output
and make some space so that you people can
see things clearly ok done now let’s write
the code
ALTER TABLE students MODIFY first_name CHAR(10);
Let’s executetable students altered
Now let’s try executing our last anonymous
block once again.
And here it is.
This time we get an error.
Now to solve this error let’s change the
data type of our variable from Normal varchar2
to anchored data type.
v_fname students.first_name%TYPE;
ok let’s close this script output and try
to execute this anonymous block once again
Here is our result.
That is an application of Anchored data type
hope you enjoyed it and learnt something.
With this I will wind up today’s tutorial
if you like this video then please give it
a thumbs up and share it on your Facebook
or other social network with your friends.
You can follow me on my twitter and Instagram
links are on your screen or in description
box.
Don’t forget to subscribe.
I will be back soon with another tutorial
till then stay tuned and take care.
I am Manish from RebellionRider.com.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>