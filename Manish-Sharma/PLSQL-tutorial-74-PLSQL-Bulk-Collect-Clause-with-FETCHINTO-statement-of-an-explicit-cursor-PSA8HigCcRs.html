<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PL/SQL tutorial 74: PL/SQL Bulk Collect Clause with FETCH-INTO statement of an explicit cursor | Coder Coacher - Coaching Coders</title><meta content="PL/SQL tutorial 74: PL/SQL Bulk Collect Clause with FETCH-INTO statement of an explicit cursor - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Manish-Sharma/">Manish Sharma</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PL/SQL tutorial 74: PL/SQL Bulk Collect Clause with FETCH-INTO statement of an explicit cursor</b></h2><h5 class="post__date">2017-11-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PSA8HigCcRs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">most of internet i am manish from
rebellionrider.com welcome to the third
tutorial in pl/sql bulk collect series
in this tutorial we will learn how to
use bulk collect clause with fetch into
a statement so without wasting much of
your time let's start the tutorial in
the last tutorial we learnt how to
compress multiple context switches by
using bulk collect clause with select
into a statement that tutorial made one
thing very clear to us and that is
context switches are good only when they
are low in numbers if they are not then
we must do something to minimize them
otherwise they can degrade the
performance although in the last
tutorial we managed to compress multiple
switches into one single context switch
using pulka collect with select into a
statement but as we all know select into
a statement is not very flexible like
other standard SQL queries for example
with select into a statement we cannot
decide when to fetch the records or how
many records we want to retrieve at once
sadly those controls are not in our
hands in order to overcome these
shortcomings we use explicit cursors you
can refer to PL sequel tutorial 27 where
I have explained how to create explicit
cursor in detail link is in the
description anyways today in this
tutorial we will use bulk collect clause
with explicit cursor but you said that
we will learn how to use bulk collect
laws with fetch into statement like
select into a statement here also bulk
collect Clause works as an attribute of
fetch into a statement where fetch is
the third step in the life cycle of
explicit cursor does technically we will
be using bulk collect with fetch into
only so don't get confused but again I
highly suggest you to check out
tutorial on explicit cursor because
working knowledge of explicit cursor is
the minimum requirement for
understanding this tutorial that being
said let's write the code and learn how
to use bulk collect clause with fetch
into statement in Oracle database
here we have the declaration section in
this section we first declared an
explicit cursor with the name exp
underscore C you are using this cursor
we will retrieve all the data from the
first name column of the employees table
of HR user after that in order to hold
the data or say to store the data that
we are retrieving using our cursor we
declare the collection which is a nested
table with the name ante underscore F
name along with its collection variable
F name that's it for this declaration
section now let's move ahead and write
the execution section
here we have our execution section I
have tried to keep it as simple as
possible so that there will be no
confusion in understanding the concept
of bulk collect with fetch into a
statement anyways let's take a look at
this section and see what we did here
the first statement in here is an open
statement using which we are opening our
cursor e XP underscore see you are in
order to work with a cursor we first
have to open it followed by that we have
a loop and just to introduce the variety
in this time I am neither using a for
loop nor a while loop rather I am using
a simple loop yes you heard it right
apart from while and for in pl/sql we
have another loop which is simple loop
you can read more about simple loop in
pl/sql tutorial 11 inside this loop we
have two statements first is a fetch
statement using it we are fetching the
data and the data that is being fed are
the ones that we have specified in the
cursor declaration above and then they
are being stored into the collection
Antti underscore F name remember there
were 107 records in my employees table
there is no change in the number of
Records since the last tutorial
it means this fetch statement will be
fetching 107 records once again but it
will not be using multiple context
switches rather it will compress all the
context switches into a single one as
here we have used the mighty bulk
collect Clause right before the into
keyword so this pl/sql program is well
optimized and will work efficiently now
let's move ahead the second statement is
an exit Venn statement it will make sure
that loop will terminate when all the
desired data has been fetched from the
table and store - it's a specified
destination in simple words this
statement will make sure that loop will
terminate when there will be 0 elements
meaning in the collection that's all we
have in our loop right after the loop we
have closed statement which will close
the cursor and relinquish all the
resources used by it it is a good
practice to always close dhikr so when
we are done with it if we will run this
program right now it will execute
successfully but it won't show you
anything as we have not given any output
statement in this entire code before
writing the output statement first let's
try to execute and see if everything is
okey and error-free procedure
successfully completed this means no
error
now let's code the output statement but
first let's close this script output
panel done now in order to code the
output statement in this program we have
to write another loop which will
traverse through our collection and
print all the data it consists that loop
is going to be a nested loop which means
we will code a loop inside our already
existed simple loop let's do that we
will write our loop right after the exit
when statement let's do that
let's scroll a little bit down so that
you can see the entire execution section
okay this time we have used a for loop
this will execute from the first element
till the last element of our collection
whose collection variable we have
specified here which is an T underscore
F knee
can you guess what will it print yes it
will first print the index number
followed by the first name of the
employees now let's execute this code
once again and see whether we will get
any output this time or not but before
that I'll take a quick second to ask you
to hit that thumbs up button and like
this video your every single like keeps
me motivated for creating more such
interesting tutorials also to make sure
to subscribe as many such videos are yet
to come in that being said let's execute
this code here is our output all the
first names along with the index numbers
I printed the index number deliberately
so that I can show you guys how many
rows we have felt using the cursor
apparently it's clear from this output
that we have fetched a total of 107
rules as we have used bulk collect
clause with different statement it means
that context switching will not be a
problem as we know bulk collect Clause
compresses multiple switches into a
single one so no further performance
bottleneck but does it mean this code is
well optimized and need no further
optimization or for that matter query
performance will never be an issue for
us in the future
stay tuned to get the answers to all
these questions as well as to learn how
we can further optimize this pl/sql
program I will upload this script on my
gate page so that you guys can use it
for your practice you can find the link
in the description do make sure to like
and share this video most importantly
subscribe to my channel as in the next
tutorial we will be exploring bulk
collect Clause of an advanced stage you
don't want to miss that one anyways this
is the tutorial on how to use pl/sql
bulk collect clause with fetch into
statement of explicit cursor in Oracle
database thanks for watching this is
manish from rebellionrider.com</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>