<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PL/SQL tutorial 84: ALTER &amp; DROP table DDL with Execute Immediate of Dynamic SQL | Coder Coacher - Coaching Coders</title><meta content="PL/SQL tutorial 84: ALTER &amp; DROP table DDL with Execute Immediate of Dynamic SQL - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Manish-Sharma/">Manish Sharma</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>PL/SQL tutorial 84: ALTER &amp; DROP table DDL with Execute Immediate of Dynamic SQL</b></h2><h5 class="post__date">2018-05-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/y51KLs02hrg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Now that we have learnt how to work with CREATE
TABLE DDL using execute immediate statement,
let’s take it up a notch and talk about
the rest two which are ALTER and DROP.
What’s up internet?
I am Manish from RebellionRider.com and I
am back once again with another PL/SQL tutorial.
In today’s video we will learn how to write
an ALTER TABLE and DROP TABLE using Execute
Immediate of Native Dynamic SQL.
So without wasting much of your time let’s
start the tutorial.
Let’s first learn how to modify a table
using ALTER TABLE DDL with Execute Immediate
of Native Dynamic SQL.
For the demonstration let’s use the same
table which we created in the last tutorial.
In that video we created a table with the
name tut_83 that had two columns tut_num of
NUMBER data type and tut_name of varchar 2
data type.
Let’s quickly see the structure of the table
tut_83 using describe command.
DESC tut_83;
Here is our table with two columns as we discussed.
Now let’s say we want to add another column
tut_date of date datatype to this table and
that too using native dynamic SQL.
In order to do that we need to use the ALTER
TABLE DDL with Execute Immediate statement.
So let’s first prepare the ALTER TABLE DDL.
But first let’s close this script output
and get rid of this describe command, great!
ALTER TABLE tut_83 ADD tut_date DATE
Here is our ALTER TABLE DDL.
This statement will add the column tut_date
of DATE data type to the table tut_83.
Once again, note here, that we have not ended
this ALTER TABLE DDL with a semi colon.
I suppose you know the answer to why we did
that?
If not then I suggest you to watch the tutorial
82 where I have explained this semi colon
concept in detail.
But for the time being just remember, do not
end any DDL statement which you want to run
using EXECUTE IMMEDIATE with a semi colon.
Now let’s move ahead and open a fresh worksheet
where we will write the PL/SQL block for executing
this DDL dynamically.
Here we go, now let’s write our PL/SQL program
SET SERVEROUTPUT ON;
DECLARE
ddl_qry VARCHAR2(50);
BEGIN
Let’s copy the ALTER TABLE statement from
the previous worksheet and paste it here.
There we go.
ddl_qry := 'ALTER TABLE tut_83
ADD tut_date DATE';
Now we have to enclose this DDL into a pair
of single quotes, done, next we have to end
this assignment statement using semi colon.
Great
Ok now let’s write the dynamic SQL statement
and finish this PL/SQL block.
EXECUTE IMMEDIATE ddl_qry;
END;
/
Here is our PL/SQL block.
Like always in declaration section we have
declared only one variable which is ddl_qry.
We will be using this variable for holding
the DDL query which we will be executing dynamically.
Then we have the execution section of our
PL/SQL block.
The first statement of this section is again
an assignment statement.
In this statement we are assigning our ALTER
TABLE DDL to the variable ddl_qry.
And the second statement is the Execute Immediate
statement using which we are modifying our
table dynamically.
Let’s execute and see whether we get our
modified table or not.
PL/SQL procedure successfully completed.
Let’s once again check the structure of
our table and verify whether the modification
has been done or not?
DESC tut_83;
Here is our table but this time we have three
columns instead of two.
The column tut_date has been successfully
added.
This means our PL/SQL program worked as expected.
So moving further I just want to tell you
guys that, in the last couple of days I have
received a lot of questions regarding Ora-12505
TNS error.
So I have posted a note on my Facebook page
explaining the possible causes of the same
and their solutions.
You can check it out.
I will leave the link in the description.
That being said, now let’s move ahead.
So, we have dynamically created a table &amp;amp; have
modified it successfully.
Now, let’s learn how to delete it from the
database.
To delete a table from a database we use DROP
TABLE DDL.
Now we will see how we can use a drop table
DDL with execute immediate of Native Dynamic
SQL.
You know what, the PL/SQL program for DROP
TABLE is going to be the same as the ALTER
TABLE one, which we just wrote.
So, to save our time let’s copy this ALTER
TABLE with EXECUTE IMMEDIATE program and paste
it on fresh worksheet and then modify it.
What do you say?
I think it’s a pretty good idea, let’s
do it.
Let’s copy this program.
Done.
Now let’s open a fresh worksheet.
Here we go… ok so let’s paste that program
here.
So here we got our PL/SQL block.
The only thing which we have to modify in
this program is the DDL statement.
The DDL statement for dropping the table tut_83
will look something like this.
DROP TABLE tut_83
We just have to assign this DROP TABLE DDL
to the variable ddl_qry.
That’s all we have to do.
Let’s do that.
SET SERVEROUTPUT ON;
DECLARE
ddl_qry VARCHAR2 (100);
BEGIN
ddl_qry := 'DROP TABLE tut_83';
EXECUTE IMMEDIATE ddl_qry;
END;
/
The PL/SQL program is modified from ALTER
TABLE to DROP TABLE DDL.
So successful execution of this program should
drop the table tut_83.
Let’s run it and see the result.
PL/SQL procedure successfully completed.
Now let’s once again write the DESCRIBE
command for the table tut_83, if the above
program has deleted the table then we will
have an error stating object tut_83 does not
exist otherwise we will get the structure
of the table displayed back to us.
So let’s check.
But first let’s close this output panel.
DESCRIBE tut_83;
Let’s execute.
Here we got an error “ORA-04043: object
tut_83 does not exist” which means our PL/SQL
program has deleted the table successfully.
So today in this tutorial we learnt, how to
modify as well as drop a table using Alter
Table and Drop Table DDL with EXECUTE IMMEDIATE
of native dynamic SQL.
Hope you enjoyed watching, please give this
video a thumbs up and share it with your friends.
Also, make sure to follow me on my Facebook
as I am working on something interesting for
my Facebook page.
You can find the link in the description.
Most importantly, subscribe to my YouTube
channel, because in the next video we will
be learning something new.
Thanks for watching, this is Manish from RebellionRider.com.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>