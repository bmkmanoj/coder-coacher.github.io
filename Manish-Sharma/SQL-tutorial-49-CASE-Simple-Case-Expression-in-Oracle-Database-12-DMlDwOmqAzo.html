<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SQL tutorial 49: CASE - Simple Case Expression in Oracle Database (1/2) | Coder Coacher - Coaching Coders</title><meta content="SQL tutorial 49: CASE - Simple Case Expression in Oracle Database (1/2) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Manish-Sharma/">Manish Sharma</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>SQL tutorial 49: CASE - Simple Case Expression in Oracle Database (1/2)</b></h2><h5 class="post__date">2014-11-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DMlDwOmqAzo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">What’s up Internet? Welcome back once again
 I am Manish from RebellionRider.com
Today in this SQL tutorial we are going to
learn Oracle CASE expression. Using Case expression
you can achieve the IF-THEN-ELSE logic in
Oracle SQL that too without invoking any kind
of SQL procedures.
CASE expression can do all the work of a DECODE
expression. Several books recommend using
CASE over DECODE because CASE expressions
are easier to read in comparison to DECODE
expression and also CASE expression is ANSI-compliant
and forms part of the SQL/92 standard.
In Oracle there are two types of CASE expressions
1. Simple case expressions
2. Searched case expressions
Let’s try to understand these two CASE expressions
with the help of some Queries. But if you
want to make some notes and read more about
this topic then refer to the blog on my website
which I have done just for you. Please have
a look, link is in the description.
Ok Let’s move ahead
First let me connect to my database using
my HR user. Here I am, let me show you the
user. And as you can see the user is HR
First is Simple Case Expression.
As the name suggests it is the simplest version
of CASE expression in other words we can say
it is a flexible and easiest version of DECODE
expression.
The syntax of “Simple Case Expression”
is
CASE search_expression
WHEN input_expression 1 THEN result 1
WHEN input_expression 2 THEN result 2
...
WHEN input_expression N THEN result N
ELSE Else_result
END
Simple Case Expression uses search expression
to determine the return value. Means simple
case expression evaluates all the input expressions
against the search expression. Once a match
is found the corresponding result is returned
otherwise Else result is displayed. Furthermore
the Else statement is optional so in case
you omit it then Null is displayed when the
simple case expression cannot find a match.
Let’s dig deeper at this concept using some
queries.
For the demonstration I have created a table
by the name Products. Let me show you As you
can see this table has 2 columns product id
and company name. But there is no column saying
anything about products manufactured by these
companies. So let’s see how we can display
the most manufactured product by these companies
by using Simple Case Expression.
Ok let me close this script output. Let’s
write the query
SELECT PRODUCT_ID, COMPANY_NAME,
(CASE PRODUCT_ID
WHEN ‘p1’ THEN 'Cameras' --Canon
WHEN ‘p2’ THEN 'Eye Wears' --Luxottica
WHEN ‘p3’ THEN 'Mobiles' --Nokia
WHEN ‘p4’ THEN 'Cars' -- Ferrari
WHEN ‘p5’ THEN 'Knives' -- Victorinox
ELSE 'Sorry, Un-Recognized Category'
END) AS Products
FROM product;
Ok let’s format this query first. If you
want you can enclose this case block inside
the parenthesis , Like this
Here in the Case Block, product id column
of the product table is our search expression
and all the data of product id column is our
input expression. The oracle engine will try
to evaluate all these input expressions against
the data from product id column, if there
is any match then it will return the corresponding
result value. For example when there is a
value p1 in product id column then oracle
engine will return ‘Cameras’ as the result.
For a better understanding let’s execute
this query.
And we got an error let me check oh sorry
I forgot to put the comma here. Now let’s
execute once again and here is our result
Ok as you can see the column name of or case
block is looking really ugly for that what
we can do we can provide a column name to
our case block ok lets execute once again
ok now everything is ok
Here is our result as you can see the company
corresponding to product id p1 is Canon which
produces cameras and similarly company corresponding
to product id p2 is Luxottica which produces
eye wears and so on. But if you look at the
last row of the result where product id is
p6 there we have the result returned from
ELSE statement because there is no match for
product id p6 as there is no WHEN-and-THEN
pair for product id P6.
Ohk let’s move ahead and write our second
query let me close this query result
Query 2: String as Search Expression
Whenever you specify a column name of a table
as search expression as we did in our query
1 the oracle engine treats all the data from
this column as an array and matches all the
input expressions with every element of this
array and if a match is found, it returns
the corresponding result values.
In case you specify a string instead of a
column name as a search expression then oracle
will find the first best fit match and then
return the corresponding result value.
So what is a first best fit match? To answer
this question let’s write a query and see
what does that mean
Ohk let me first make some space here. Ok
let’s write our second query
SELECT
CASE 'Dog'
WHEN 'Cat' THEN '1 False'
WHEN 'Dog' THEN '2 True'
WHEN 'Cow' THEN '3 False'
WHEN 'Dog' THEN '4 True'
ELSE 'Sorry'
END
FROM dual;
Ok let me again format this query first and
again enclose this case block inside parenthesis
Here in this simple case, the search expression
is ‘Dog’ along with 4 When-and-Then pairs
The input expression of 2nd and 4th pair is
a string “Dog” which is a perfect match
for our search expression but on executing
this query, oracle engine will return the
result value from the first best match which
in our case is 2nd pair. Let’s execute
As you can see the result is from our 2nd
pair.
Let’s take a look at the Else statement
of Simple Case. As I have already told you
that when there is no match for search expression
then oracle engine will return the else statement.
For the demonstration let’s change the input
expression of 2nd and 4th pair from dog to
Monkey and frog respectively.
Let’s close this query result ok
Now let’s execute. As you can see our result
is Sorry which is our ‘else statement’.
But else statement is optional and if you
omit this then oracle engine will return Null.
Let me first close this query result
Let’s delete this ELSE statement and then
execute this query. And as you can see this
time result is NULL.
There are a few things which you must take
care of while writing a Case Expression.
• The data type of all the input expressions
from 1 to N should match with that of search
expression as well as with each other.
• Similarly the data type of all the results
from 1 to N along with else result should
be the same.
For more examples and in depth knowledge of
the concept, go ahead and read my blog.
That’s it for today hope you learnt something.
Please hit the like button and don’t forget
to subscribe. Will see you soon with the second
video on this topic, till then take care this
is Manish.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>