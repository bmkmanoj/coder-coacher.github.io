<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PL/SQL tutorial 75: PL/SQL Bulk Collect with LIMIT clause in Oracle Database | Coder Coacher - Coaching Coders</title><meta content="PL/SQL tutorial 75: PL/SQL Bulk Collect with LIMIT clause in Oracle Database - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Manish-Sharma/">Manish Sharma</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PL/SQL tutorial 75: PL/SQL Bulk Collect with LIMIT clause in Oracle Database</b></h2><h5 class="post__date">2017-12-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8DM7rukXprA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up Internet i am manish from
rebellionrider.com in today's tutorial
we will learn how to use limit class
with bulk collect in Oracle database so
we're not wasting much of your time
let's start the tutorial now we have
already learnt the process of
compressing multiple switches by using
bulk collector with select into and in
turn get greater control over the query
by using the same with fetch into a
statement of an explicit cursor but the
questions remains that is there still
scope for further query optimization so
my dear friends in today's tutorial we
will learn how we can further improve
the performance of our query using the
limit clause with bulk collect in Oracle
database you must be thinking haven't we
learned enough about query performance
using bulk collect in the previous
tutorials yes you are right but I won't
say we have learnt enough there is a
still a bottleneck which requires our
attention that is the memory overhead
caused by the bulk a collect so what is
this memory overhead whenever we
retrieve a fetch a large number of
records using bulk collect Clause our
program starts consuming a lot of memory
in order to be fast and efficient that
degrades the performance of the database
this means that our query must surely be
performing well but at the same time our
database may not we cannot have a well
optimized query by compromising the
performance of our entire database so
how can we overcome this problem this
problem of memory exhaustion can easily
be overcome if we can control and
constraint the amount of data fetched
using the bulk collect if we can do that
by using bulk collect with limit Clause
let's move ahead and learn how to use
bulk collect with limit clause in Oracle
database
server output is acting funny today let
me check the spelling as e r ve r UT P
UT it's correct maybe it doesn't like
the blue color anyways so here is our
declaration section which is quite
similar to the one we coded in the last
tutorial once again in our declaration
section we have two database objects
first is a cursor with named exp
underscore C you are using which we are
retrieving all the records from the
first name column of employees table and
second object is the collection which is
nested table with the name ante
underscore F name and its collection
variable F name this collection will be
used for holding the data fetched using
the specified cursor now let's move
ahead and write the execution section
here we have started our execution
section and in its beginning we have two
executable statements since we are aware
of the fact that in order to use the
cursor we have to open it first
hence our first executable statement
here is an open statement using which we
are opening our cursor followed by that
we have our fetch a statement except for
the limit keyword the entire statement
is same as the one we saw in the last
tutorial the working of this statement
is also pretty much the same it's
fetching the data from the cursor exp
underscore CU r and is storing it into
the collection anti underscore f name
using its collection variable f name but
this time we have added an extra
attribute to this statement which is
limit limit Clause restricts the number
of rules fetched using pulka collective
it fetch a statement always remember the
limit Clause can only be used when you
are using bulky collect with fetch into
a statement it cannot be used when you
are using bulky collect with select into
a statement in order to use this
statement you first have to write the
keyword limit followed by a number this
number specifies the number of rows that
the bulker collect Clause will retrieve
in one go in our example we are
retrieving 10 rows using limit clause
that's how we use limit Clause with bulk
collect seems like we are done with our
cursor does we must close it it is
always advisable to close the cursor and
relinquish the resources when you are
done with it though this pl/sql block is
complete but we can still write a loop
to display back all the 10 rows we
factor using the limit clause with bulk
collect let's do that also
here is our loop it will print the index
number followed by the first name which
we have fact and stored into our
collection now we are all set to execute
our program and see the result
but before executing it a quick reminder
for you to hit the thumbs up button and
like this video your every single like
keeps me motivated for creating more
such interesting content also if you are
new to this channel then go ahead and
subscribe as more such interesting
videos are coming your way that being
said let's go ahead and execute our
program and here is our result tan rose
fetched and displayed back to the user
but there is another little problem with
limit Clause if you execute this same
program again then this fetch into
statement with limit Clause will not
append the collection with next ten
records rather it will truncate the
table and populate the nested table
again from the index number one you can
go ahead and read my blog to see how we
can overcome this problem so this time
instead of fetching all the records and
exhausting an expensive resource like
memory thanks to the limit clause we are
retrieving only the necessary rules and
that too without any resource wastage
this way we can take our query
performance uh notch higher with bulk a
collect you can read more about limit
Clause on my website I will leave the
link in the description do make sure to
LIKE share and subscribe this is the PL
sequel tutorial on limit clause with
bulk collect in Oracle database thanks
for watching this is manish from
rebellionrider.com</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>