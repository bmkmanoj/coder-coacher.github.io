<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>You Have Real-Time Data. You Just Don't Know It! | Coder Coacher - Coaching Coders</title><meta content="You Have Real-Time Data. You Just Don't Know It! - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Pusher/">Pusher</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>You Have Real-Time Data. You Just Don't Know It!</b></h2><h5 class="post__date">2015-07-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rk5Jm1IHxlI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so this talks when you have real time
just don't know it I were frequently
called pusher and we're a hosted service
that makes it easy to integrate
real-time functionality into web and
mobile applications now we're one of
many real time frame works and real-time
solutions so i've been working in real
time technologies for since 2001 when i
graduated from university and so real
time technologies have been around for a
long time but what I often see is that
people now discover these this vast
selection of real-time technologies and
they say something like that real-time
framework is awesome now to find a use
for it and I've I had a dollar for every
time that I heard somebody say that then
I genuinely be be rich I'm not kidding
I'm seeing that all the time so what I
really want to do in this talk is
convince you that you have real-time
data in your applications and I will
show you what you can do if it provides
some examples of what you can do with it
talk about how you can achieve some of
those things a very reasonably low level
a reasonably high level in terms of just
exposing that data and how you can use
it and add QA will do Q&amp;amp;A in terms of
the video so comments comments below so
the first thing I really want to address
is what is real time specifically in
terms of real-time web real-time web
frameworks now you wouldn't use a
real-time web framework to control
something like the enterprise warp core
that would require something that you
would class as hard real-time something
where if an event is generated some data
to say hey shut down the warp core
system eject the warp core then that
needs to be instantly executed if you
miss the deadline in terms of responding
to that event then there's obviously
going to be a bit of a problem we're
going to see the explosion of the
enterprise but I guess the enterprise is
the enterprise maybe they use some
sort of dotnet or Java solution so that
probably happens quite a bit for them
joking aside what we're really talking
about with these frameworks is soft
real-time that's the best way to think
about it where it's still very fast you
can still use it for business-critical
solutions but you need safety fallbacks
you need to be aware that messages in
terms of the delivery from when they're
generated to when they're delivered it
might be a little bit longer than you
really need so you need to be aware that
you're using the internet as your data
delivery platform and it's out of your
control it's not closed environment so
it's perfectly suitable for four loads
and loads of different solutions but you
just need to be aware that they're going
to be potentially spikes in latency that
you wouldn't see in a hard real-time
system so where do you find this data so
I've kind of explained what the
technologies that we're talking about
but I want to say explain how you find
this data within your application so
back in 2011 there was a guy called Mike
reboot I can't really pronounce that
sorry that gave some talks a bunch of
different talks in 2011 on the invented
web now in that those talks he spoke
about things like web hooks and comet
and web socket and but that wasn't
really the main things that I took away
from it now that those are things that
kind of power the real-time web there
the technology is that the protocols the
transports that the help power the old
paradigms that help power the real-time
web but there were two particular slides
that kind of stood out for me and the
first one was this it was 2011 so I'm
sure if Mike what to do the slides again
he have an animated gif for this but
there's a there's a gentleman here
that's saying I've got it when something
happens i'll call you now there's two
things there when something happens now
that identifies that there's an event
has occurred something has happened
there's an event and i'll call you is an
exam
full of kind of push so instead of I'm
sure that many people have seen
discussions on web sockets and comet
technology and serve a push where
instead of there would be the example
would be there's a shelter in the back
are going are we there yet are we there
yet are we there yet and the parent
responding no no this is the idea of
polling kind of are we there yet know
we're there yet no but instead what it
should be is when the parent knows that
they've arrived it the parent would turn
around go we've arrived so we're pushing
as soon as there's new information we
push so that's kind of what's happening
here I'll call you the slide following
on from that Mike shows this clear
example of push so there's a change that
occurs change would be someone makes a
change in code base and they push in
their code base in their app and they
push information to github now get up
then triggers a bunch of different
events and informs different part third
parties about that change that has
occurred it interacts with Jenkins for
build for boxcar for a push notification
resolves an issue in JIRA or or even
hits an endpoint on Google App Engine
and that custom script does whatever it
wants to do so we've got change we've
got interactions so if you think about
events within your application there's
loads of events so where'd app where do
these events occur within your
application and if you can identify
where they occur you can find the real
time data so changes and interactions or
a really good place of finding this this
real-time data now data changes are a
really good way of finding this
real-time data these events these
changes so standard crud you'd probably
remove the are and you just have could
create new data has been created update
existing data a bit has been updated
delete data has been deleted so anywhere
you find database interactions whether
it's you know looking in your code you
find sequel statements hopefully not
hopefully they're stowed away in stored
procedures and so on but if you find
sequel then there's interaction with
databases in
update and delete statements or if
you're using some object relational
mapping solution anytime you see into
interactions with those models you know
there's interaction potentially with the
database here we create an activity
would get an activity object we change
it and we save it system interactions
now in the inter system communication is
also a some sort of interaction might
might identify data changes very simple
examples are when web been endpoints are
accessed just two examples here in
Sinatra and a post request has been made
to to an interac ten point or using
Express again there's a post request
being made to an indirect endpoint so
any time that you've got a web service
and those web services are interact
interacted with or if you're consuming
web hooks so callbacks via their HTTP
based systems or by any other systems
make an HTTP port 80 to be called to you
to tell you that new data is available
or data has changed that's more
real-time data more events logging now
it's a really simple example but you're
logging information for a reason you're
logging information at different log
levels so if you're logging something at
say the info level then surely that data
is potentially interesting to expose and
to do something with maybe the
information at different levels is also
interesting so anytime that you're
logging that's an event that you could
potentially expose and do something with
so the system interactions are things
like web endpoints logging cron jobs
incoming email all sorts of things any
time the two systems are interacting
with each other or two components within
the system so user interactions is the
next thing to consider obviously our
applications of full of user
interactions if they user-focused just
simply accessing and viewing web pages
or views within within an application
now they are the same as probably
interacting with user endpoints but
again it's kind of user driven in the
context changes it's not a system access
it's not system it's actually user based
so you get the idea that there's a user
that's doing something so if you have
information about that user
then that's potentially even more
interesting and more useful other ways
that users interact with applications
all the time it could be that you don't
have n points you have views that change
within your application so it might be a
single page app and the views change but
they could click on the UI they can type
information into forms and input
elements and text areas they can drag
information around depending on the type
of you I that you're building it could
be that they're dragging elements around
on the page you could be simply the
mouse moves where that mouse is or where
the touches are occurring on on the app
is it an interesting piece of
information and as I said navigating
views and then there's use it to user
interactions now these things feel
clearly more real-time because they're
true user to user interactions if you
think about what your application is
doing if you have some sort of
commenting then other people that have
commented on that thread they'll be
interested in finding that new infant
getting that new information as soon as
it's available any time a user is
mentioned then clearly instantly notify
them that's an event dimension updates
to share data so everybody's probably
use Google Docs ultimately you're
updating share data but if there's
another piece of shared data within the
system you know the users that are
interested in that data when it's
updated that's an event that occurs and
you can potentially expose that to other
users so accessing viewing web pages any
interactions with the app and then the
user to user communication they're all
interactions events and changes in data
so I hope you're feeling like data now
and you're excited that we found the
real-time data in your application you
probably knew it was there anyway it's
just it's just thinking about this over
again and trying to expose and think
about the interactions and the changes
so data changes system interactions and
user interactions so now you found that
data what can we do with it the first
thing that you can do is yourself you
can go okay what's happening in my
application right now so we're just
thinking internally we're not thinking
about our customers we're thinking what
can I do with that data right now
the most obvious use case is some sort
of system analytics so system stats
memory CPU usage in errors so what's
happening on the machines that you're
running your application on and then
there's and then there's what's
happening in your logging so within your
application what's happening right now
you can access this information and
build analytics on top of it and
understand exactly what's happening with
your app right now you can catch errors
early so say you just deploy the new
version of your application you start to
see spikes in memory or you start to see
increased error rates then you can roll
back that version in that application or
quickly push your fix because if you
look at these logs later it could be too
late and you could have already had some
sort of big problem affecting customers
affecting you know business so the lower
lots of tools for the sort of thing
already there things like graphite or
liberato or stats d that allow you to do
this sort of thing but of course if
you're exposing these events yourself
you can potentially build your own
solution something that exposes
specifically the data that's useful to
you the website analytics now I'm sure
most of us use some sort of website
analytics tool and they expose things
like what are the popular pages which
uses more online right now that sort of
stuff genuinely really useful and you
can build those sort of things yourself
as well in it as with the system
analytics build custom solutions
specific to you some examples some real
kind of use case examples here I'll say
you've got an advertising campaign
that's going on you're trying to drive
traffic to your site or to use your
application and you're seeing that maybe
the the ad goals that the goal of the
advertising campaign is being achieved
reasonably well but you can make tweaks
right now to try and improve that
conversion rate or it could be that
you're finding that that it's not
converting at all and you're spending
lots of money on this advertising
campaign that just isn't converting so
you can cancel that the advertising
campaign and save money right now an
obvious example of this is something
like Google Analytics or where they
haven't now a real time option and
there's loads of other solutions
available but again you can
potentially build your own by exposing
this real-time data yourself and
building your own very specific
solutions so in other words we've spoken
about how you can use that the data
internally and the benefits you can get
from exposing that real-time data and
using internally and what can you build
for your customers what sort of features
can you imagine your applications that
make that let you benefit let your
customers benefit from that real-time
date of you you're exposing so wanted to
cover the use cases so that the general
use cases for real-time technology that
we've seen a pusher are the people will
start off building simple things like
notifications and signaling so something
has happened data has changed you know
the information that users are
interested in so alert them to do
something so you're no teton notifying
the interested parties in this example
here this is ITV they've they've
basically got an activity stream looking
page and they're showing that the
well-known status bar for new updates
available the point is that they update
that and they you can click on it and
the new data will slide in we see that
on the top of twitter com as well if
you're using their their web application
then there's activity stream so activity
streams is kind of the the
quintessential real-time you I we've
seen that that sort of stream of
activity on you know Twitter on Facebook
on Google+ the example previously ITV
News it's also an activity stream sports
have activity streams we're starting to
see the the activity stream basically
everywhere and what they obviously are
is things have happened so what's
happened previously and what is
happening right now and that's the right
now part is the bit where you were
exposing the real time data that you've
got within your applications the
examples we see in Twitter and Facebook
of what people that we follow doing
right now whatever on facebook what are
our friends doing right now or what are
the products that we're interested in
what are they publishing right now and
what's happening here so in both
these examples by knowing who people are
following by knowing brands that you're
interested in they're ultimately
subscriptions to data subscriptions to
these real-time events that take place
so we've already got this idea of who's
interested in what we know who to
deliver that data to data visualizations
are kind of actually the first example
of real-time technology I think about we
used to have flashing displays in the
financial industry that I worked in
previously but now that we've got these
really nice UI libraries we can build
really rich real-time data
visualizations so in this example we've
got a real-time example of the votes
that are taking place in the results in
elections but with sort of charting
libraries that we're seeing now and
these nice visualizations we can do
really rich things with this sort of
stuff chat is basically the 101 of
real-time it's the first thing that
people try to build normally when they
build real time when they try to use
real-time functionality because it's
beyond just simple notifications of data
it's more of an interactive experience
that you're building you can use it to
offer assistance to people within your
applications you can also build it as a
feature than your applications to let
those users interact with each other and
we're starting to see it everywhere we
know how well atlassian ado with HipChat
but HipChat were everything we required
by atlassian how well slack are doing
and we're starting to see chat as a core
part of many many applications whether
it's a standalone app where the focus is
chat or as a part of applications things
like gmail has hangouts in built into it
chat facebook has facebook Messenger
inbuilt so that's a cool use of
real-time functionality and chat is
where an example where real-time really
matters enhancing the collaboration
experience beyond just chat and we've
probably all use things like Google Apps
and I mentioned the shared data earlier
we're interacting and with this shared
piece of data so that's a good example
the the example on
green now is sprint Lee which is a
project management solution and we're
seeing lots of people build project
management solutions and using real-time
functionality in those to identify
tickets being updated or the status of
tasks being updated or comments on
specific tasks being added and creating
conversations or even real-time IDs like
cloud 9 where users can collaborate on
code together or recently we published
something called Adam pair which is an
an atom plugin that lets you collaborate
in real time with other developers and
multiplayer games it's not something I
think that if you find data within your
application you're going to build a game
out of it you could I guess but I wanted
to highlight that it's a use case for
real-time technologies and API is if
you're expound this data and you're
exposing this data either internally or
building applications as part of it if
that information is interested to you
and users are interested in consuming it
there's also the potential of exposing
it as a real-time atapi for your
customers giving them access to the
real-time data in their app but in your
application associated with them so it's
obviously focused on more technically
inclined customers but more business to
business related a use case for this
this type of technology and you might
think there aren't many real-time API is
available but actually if you dig into
it there are a lot of real-time API is
most people have probably heard of the
Twitter fire hose and how well they're
doing with that companies like DataSift
get unique access to the Twitter have
fire hose offer additional functionality
on top of that in terms of filtering and
identifying specific things about the
data and augmenting that data and loads
of other customers have real-time API is
Dropbox Instagram uber slack meetup a
real-time fire hose of RSVPs paypal web
hooks hit chat have web hooks and so on
so all these companies offer real-time
API so
maybe you could too so finally I want to
talk about how you how you do it how you
use this real time it has you expose it
so you have real-time data in your
absolutely we've identified that you
know how you can use it there is some
use cases for it but how do you
technically do it so we've already found
that data in our applications we know
where the real-time data is so you might
not be able to expose that data as it is
in its raw form it might need some
additional finessing some additional
work done to it before you then publish
it to the interested parties you need to
describe that data so what is the data
that people are interested in our
systems are interested in you need to be
able to publish that data distribute it
to the interested parties and the
interesting part is enable to be able to
consume and use that information so you
could consider some of this your
information your real-time information
architecture so let's look at analyzing
the data it is very simple data then it
might not need anything done to it if it
in its raw form is useful then you can
simply use that there's no processing
required for more complex data then you
might need to consider processing
asynchronously so instead of within that
web end point where you you found that
real-time data doing some processing
there you're going to hold up this this
web request that's come in the web
endpoint request has come in so push it
out elsewhere and asynchronously process
it and you might need to cure it or
store it use existing database solutions
things like Hadoop or other kind of you
know big data processing solutions take
advantage of querying solutions I'll
provide an example in a moment around
querying and triggers so some database
solutions or storage solutions will have
things like triggers when data changes
that you can hook into or change feeds
the example I want to provide is using
something called reefing DB so they
offer their database in this example we
might be I'm updating a score so we have
a bunch of games that are being
aid we get a game ID and we update the
score of that game we execute that
command so that's happened in the normal
and a web endpoints been hit we've
updated that data elsewhere in the
application we can have a long-held
query now what that does is we in this
example we're querying the game plays
we're saying owner order by the score
and I want to limit to five so it's
basically the top five scorers and I
want to execute that command now that
changes function that's been identified
is this idea called the change feed from
there we can then have a call back
anytime that that data changes we can
then loop through the cursor loop
through the update basically get them
get the top five new results and publish
that data so that it's a really nice way
of having a query and being informed
anytime that data changes so what do I
mean by describing the data people need
a way of and systems need a way of
subscribing in their interest in data so
they need to identify what is the data
so the common things this is giving a
name for it and in publish-subscribe
terminology that that can be a channel
or a topic or a subject they can be
simple string identifies what is the
data that I'm interested in and then
what's happening to the data i think is
a very very interesting and important
abstraction so what is the data and what
is happening to it so the idea of what
is the event that's taken place so
within simple data it's quite easy to
identify what you're going to call that
data because it could there could be an
existing database schema or a document
that you're updating so the table name
or the document name that's being
manipulated is a very good name for that
channel or if you're using an our own
solution the model name itself is
another good name for that channel so it
could be if it's an activity stream you
can have a database or a model called
activities for complex data I think it's
probably best to create a name that's
based on the analysis that's taking
place on that data or the query itself
so in the complex of gunplay provided
earlier we were executing
query on the table which is I basically
identify the top five games top five
scorers so we we could call it top five
games and then in terms of we want to
publish that information so we've got
that new data we've processed it we've
done whatever we need to it we want to
distribute it to the interested parties
so for data changes in this example
we've got our RM we're creating a new
activity we're setting subtext we're
saving it in terms of using our API the
pusher API we would trigger an event on
the activities channel called new
activity and then send the activity
that's taken place if we were to update
something we would then trigger an event
on the activities channel activity
updated as the event and pass the
activity and deleted you've guessed it
activities channel activity deleted
really simple but the event abstraction
so the channels plus the event in
abstraction I think is really powerful
for the complex example remember we've
got this query that this long-running
query we're am growing the game plays
we're saying order by score I want the
top five any time a change takes place
in this example I'm I've got an array
I'm looping through the the updated
result I'm building up that array and
I'm triggering the top five updated
event on the game plays channel passing
that array of top five so I would
basically in the UI I would update my
top five table just for completeness I
want to provide examples of how you
would use the similar API and these
different exactly in these different
scenarios so in the end point I would
trigger maybe on the endpoints journal
and your interaction and say which end
point it was that had been in had been
hit and the post data that was sent to
it in the logging in this example I'm
using that the winston logging library
and basically i've just wrapped a
created a generic log function and in
there not only do i log but i also
trigger an event on a logging channel
with the level of logging that took
place and their data now a lot of
logging frameworks provide ways of
adding other lovelessness so you might
actually create a different log listener
you might have a log to file in a real
time distribution local listener it
could be that in this situation you
would you would have a channel / logging
level instead that could be a different
way of changing your real time in from
it information architecture so what
about consuming and using so remember
the data changes are exposed in this
example with activities we've got the
activities new activity activity updated
activity deleted so on the client using
our API now obviously with other real
time frame works they'll have similar
ways of subscribing and binding to
events i'm using the pusher api because
obviously i'm familiar with it more
familiar with it we're subscribing to an
activities channel within binding to the
different event types and having
different call but handlers for each of
those event times so for new activity
for activity updated and activity
deleted really simple but that's the
point of this nice channel and event
obscure abstraction again for
completeness here's the web end point
where triggering that event were binding
to the we're subscribing to the
endpoints channel we're binding to the
new interaction event and then we update
the UI in terms of logging again it's
really simple we're subscribing to a
logging channel binding to info events
warning events and error events so we
can partition those type different types
of events and do different things with
them so hopefully we now know how to
identify the real time data within our
application we've got an idea that we
will might need to analyze and process
that data we might need to take it out
of the kind of synchronous processing we
need to push it off asynchronously if
we're doing heavy data manipulation we
need to describe the data through
channels what is the data i am
interested in the events what's
happening to their data we want to
publish the data and use those same
things we want to publish on channels
the event identifies what's happened to
the habit of the data and the payload
the the event data itself I mean you
consume it in the same way so we
subscribe to channels we bind to event
and we use that data payload to update
our UI or do whatever react within the
application in the way that we want so
in conclusion you have real-time data I
hope I've convinced you these changes
and interactions I he'll really help you
identify the real time data within your
application need to analyze describe
publish and consume that data within
either internally within your
applications or your systems or building
notifications activity streams chat data
visualizations or more kind of
interactive experiences for your users
you can obviously use the data
internally for analysis but I do think
that as I've said that that the use case
the value in offering these sort of
experiences to users is something that
particular interest million and
hopefully you so I hope you found this
screencast interesting please do get in
touch I'm Phil a pusher calm or at
Leggett ur on Twitter or comment below
thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>