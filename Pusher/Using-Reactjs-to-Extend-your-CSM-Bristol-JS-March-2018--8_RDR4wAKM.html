<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using React.js to Extend your CSM - Bristol JS - March 2018 | Coder Coacher - Coaching Coders</title><meta content="Using React.js to Extend your CSM - Bristol JS - March 2018 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Pusher/">Pusher</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using React.js to Extend your CSM - Bristol JS - March 2018</b></h2><h5 class="post__date">2018-04-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-8_RDR4wAKM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi my name is Nicola I'm a web developer
I work at nudge so nudge is a digital
agency based in Bristol so we've got our
offices over in desk Lodge and we are a
drupal agency I've been working in edge
for the past five months and I've also
been a web developer for the past five
months this is because I guess these are
people laughing because they know why
last summer I decided to change career
so I used to work in marketing used to
be marketer and a copywriter and and I
decided to undertake a three-month
coding boot camp run by a company called
develop me down in the paint works and
nudge were kind enough to hire me
straight from that course and I hoping
working there ever since and so I'm
going to talk to you tonight about the
first project that I ever worked on and
nudge first project actually ever worked
on as a developer and I was pretty lucky
with the project that it was so a lot of
the work that we do at nudge is three
people back-end Drupal front-end in the
same application and I ended up being on
a project which had a headless tree pull
back end and a decoupled react front end
so the first project is a pivot bit of a
learning curve but it was a great one to
be involved with which is why I decided
to talk about it tonight
okay so Drupal and who here is familiar
with Drupal yeah great okay who here
works with Drupal okay so I assume you
are not doing the updates yet if you are
here okay so for those of you who are
not so familiar with it I'm going to be
talking about it's the broader context
of this talk is just CMS's in general
but this project focuses on Drupal so
I'll just explain to you a little bit
about what it is and so that you have a
bit more context so Drupal itself is an
open source and free CMS and it's really
good at structuring content for content
driven websites and actually what you're
able to do on the back end of that is
have some quite complex data structures
and you're also able to access that
information quite easily with the way
it's structured and so the way that it's
the way that you put does this the way
that Drupal makes it quite easy is that
it has this idea of nodes and within
these nodes we can set fields once we've
got that actually it makes it quite easy
for us to organize our contents and when
we then think about expanding this and
thinking about taxonomy terms thinking
about menus actually what we have now is
quite an efficient way of structuring
but also a way of filtering our content
within the backend so Drupal 8 which is
the version that I'm predominantly going
to be talking about tonight it comes
with support for exposing the entities
like nodes like users like comments this
is through its restful api service so
already out of the box we've got a lot
of possibilities with exposing that data
from Drupal 8 backends if we want to go
look with deeper and we might want to do
that if we're being a bit more custom
with what we're doing we've then got
entity fields and form api's which again
it makes managing that content injury
poor quite a pleasurable experience for
us so as a CMS Drupal is designed to be
flexible and extensible and this is due
to the modular approach that it takes so
what you're getting with Drupal is
you're getting the building blocks to
build your CMS system and then you
decide how you want to piece those
together so you've got the tool kit you
build it how you need to build it the
other side of this is going to be react
and say anyone work with react yeah more
hands that's what I was thinking okay so
with react then so it's a declarative
efficient and flexible JavaScript
library for building user interfaces so
for me there are three main selling
points of react and there were three
aspects of it which became quite
apparent during development things that
really helped us as we were building
these apps I'll go into these a little
bit so first is the lightweight virtual
Dom which allows it to be performant and
quite fast second is being component
based they were able to scale our apps
if we want to and then the last one is
the unidirectional data flow and I'm
going to be talking about that in the
context of debugging so the first one so
thinking about updating the Dom so when
we update the Dom it's normally quite an
expensive process but react is able to
mitigate this by actually creating a
clone so it claims the real dumb this is
what is referred to as the virtual Dom
so the process that happens here
so when I want to change an element and
we render it out what react is doing is
it's updating all of the nodes in the
virtual Dom it's then performing a
difference oh it's looking at the Dom in
its new States comparing it with the Dom
from the previous States finding out
what's changed and then it makes those
changes in the real DOM
so actually what this allows is for it
to be quite lightweight quite fast it
can batch those operations so it's
speedy and and this is quite a contrast
to working with Drupal I just say I love
working with Drupal but it has got its
mmm fullbacks I don't know how to
describe this so when you're thinking
then about a monolithic Drupal build so
this is where you've got back-end in
Drupal front-end in Drupal and it's part
of the same application so they are
intrinsically linked together they're
not separate things at all when we're
thinking then about speed in this kind
of context Drupal is not necessarily a
fast performer so you've got quite a
large code base with Drupal and you've
also got a little bit of bloat there
because Drupal is so flexible you have
got so many things in your toolkit but
you're never going to use them all so if
you kind of think about maybe using
about 40% of what you've got available
you've still got all that other
functionality that's just waiting there
until you need to pull it out it's a
little bit slower by nature components
so react is essentially a component
library so this allows you to break down
your user interface into composable
pieces and the granularity of that
really depends on what you're building
and what structure is going to suit that
particular project I'm just going to
show a really really basic overview of a
react up and kind of to put it into
context with how this could be scaled so
sitting at the top of this then and it's
a hierarchical structure I have got my
main app container so this is where my
UI is going to be rendered from this is
pulling everything into it so sitting
underneath my app I might have some
parent components and these are
essentially wrappers so these are
probably creating a little bit of logic
they might be pulling in data from API
calls and they're feeding all of that
down into essentially what we could call
dumb components so these are just pure
UI they don't contain logic
all they do is take data and provide the
tools for that app at the top to render
it out so what we've got here then when
we're looking at those dumb components
at the bottom is depending on how we
built it hopefully we've built it with
the notion of scaling it up we've
hopefully got reusable components so
this means when we want to adapt it when
we want to change it when we want to
make this bigger it's easy for us to do
because we've already done the work it's
there waiting for us
comparing the center you the Drupal
build if we are looking at doing the
same kind of thing with Drupal in terms
of scaling it up it's not quite as quick
it's not quite as easy we might have to
think there a little bit about structure
in Drupal and the configuration of how
I've got it working because we have got
that back-end bolted on for the
front-end they're not decoupled in any
way they're completely linked a little
bit more tricky so the last one the
unidirectional data flow so I said I was
talking about this in the context of
debugging so we've got these dumb
components sitting at the bottom they
need to get their data from somewhere
and that data is going to come down from
the top so we've got this unidirectional
data flow is always going top down and
it's being passed through by something
called props so when we're thinking then
about debugging what this is enabling us
to do is first of all we know where our
state is going so inside this reactor we
have a notion of state this is anything
that we're changing and we also know
when we're changing it because we're
calling a set state functional so when
something goes wrong in my app I already
know where the state's coming from I
already know where I've modified it so
I've got a bit of a head start and
working out where it is I also know
where it's not going to be because I
know it's going downwards thinking that
about debugging with Drupal not quite so
straightforward so we've got various PHP
things we can do we've got Kintz which
we can print out all of our variables in
Drupal so we can kind of work out what's
going on with that we can also debug our
theme templates and but essentially we
are going to have to go to a few more
places to try and debug exactly what is
going on there so those are three main
points with react and why it was a great
experience working with it
okay so I'm going to be talking about a
headless CMS which I'm sure you've
probably heard this term at some points
and I'm just going to contextualize it
so this is exactly what I mean when I
say headless so I want you to imagine
that you are going into a shop you may
be interacting with products you are
browsing and maybe picking them up
having a good look at them and you might
even interact with one of the store
assistants there but there's one part of
that store that you are never
interacting with and that's the
storeroom at the back that's the thing
that's containing all of the data it's
actually facilitating that store
actually being there and running and
operating that's what I'm talking about
when I'm talking about headless CMS but
a little bit more separated so it's that
data store it's the content repository
that is sitting at the back it doesn't
have a natural front end bolted on to it
which means that if we want to then
expose that data we're gonna have to
think about using an API to access it so
if we're using Drupal we're using purely
the backend we've got an admin interface
on it we need to use the API to access
any of that data because our front-end
is not connected to Drupal and this
means then that for our users they are
interacting with our framework they're
not interacting with Drupal and what
this means for us as developers is that
we are able to build immersive
experiences modern front-end experiences
that users are wanting that users are
accustomed to and it also means if we
are working with a CMS we're not forcing
that CMS to do something that it's not
designed to do we're choosing the best
tooling for the job okay so at nudge
we're quite excited about headless
technology and I'm quite excited about
it as well so I'm going to drive this
point home and hopefully by the end
you're all going to be excited about it
too
and I think about exploring it in some
more ways so reasons why it is exciting
there's more than this but I'll just
pick my top three so first of those is
that if we are using our CMS as a
datastore
it means that we're able to take a more
service orientated approach to how we're
architecting things on the backend and
what this is meaning is that we're able
to actually break down our services so
we can distill man
and we can kind of pull them out maybe
even less subcomponents and what we're
able to do once we get into that way of
thinking is that we're able to pull out
quite individual experiences for our
users and we're all known to do this
with with one CMS just one back-end
we're able to pull out all of these
different services so when you've got a
single front a single CMS on the backend
that can serve multiple front ends and
and the platforms that you choose on
those front ends that's totally up to
you so it could be frameworks or if
you're thinking about the Internet of
Things it could be anything so your
possibilities here at endless you've got
the data you've got the API it's your
choice now what you choose to do with
that and how you display it there are a
few benefits then to this idea of
decoupling so decoupling is the idea of
complete separation so when you've got a
headless CMS you've decoupled the
backend okay they're not connected at
all so benefits that I'm going to be
talking about first one is that and you
are able to make changes on the back end
or on the front end completely
independently of the other end so for
example if I need to make a change on
the back end on my website so I need to
get at sorry man app I need to go into
Drupal I make my change and as long as
my data is still available in the way it
needs to be available my front-end will
never ever know and I don't have to
change it at all and then vice versa if
I want to change the theming of my app
or I want to make a UX change again as
long as I'm still using the data in the
right way I can do it and the backends
never going to know I don't have to do
anything with it so they're completely
independent of each other what this also
means is that when we're thinking about
choosing the best technology for the job
we might decide down the line that we
actually want to change the technology
so we've got react apps that we've built
in Dutch couple years down the line we
might want to change that my only is a
different framework on the front end and
we can as long as we are still
interacting with that API in exactly the
same way we can change it we can plug
out react we could plug in a new app
like Waze on the back end as long as
we're still using the API in the right
way giving it the right data in the
right format
at the right time plug out the Drupal
put something else on the back end so
again we've got a versatility on both
sides of this the final point here put
fakers tolling and simultaneous
development so what I'm talking about
here is that we've got two technologies
then so for us Drupal react this gives
us then the possibility of having really
strong developers working on both sides
of it rather than a couple of developers
working full stack and maybe being a
little less confident with react a
little more confident with Drupal and
and what we're doing there is we're
allowing ourselves to have the best
possible product at the end of it best
possible interaction and experience for
our users at the end which it's all for
them really so we might as well make it
the best that we can make it with them
being independent of each other it also
means that these two developers are able
to work simultaneously so they're not
having to wait for each other to catch
up they can actually just plow ahead
with their own developments and we'll
have a little look later actually how
about worked in practice so yeah I lift
the tell-tale so I got through it and
it's still kind of going but most of its
done so and this has come from a project
that we did as m-net and it was
extending an existing Drupal build so
there was an existing Drupal website so
as a Drupal back-end Drupal front-end
joined together same application this
website was it's a room booking web
sites so the basic functionality that
we're working with here is the ability
to search for a meeting room to book a
meeting room for a specified duration at
a specified time to add on extras if you
wanted to and then to email out the
meeting details to attendees so that is
what we're working with and we are now
thinking about distilling some of those
services and extending them in our apps
and we had two apps that we needed to
build so the first of those was a room
service app so this was an application
that would be on an iPad it's a web app
it would sit inside the room and it
would collect data from the user as to
what they wanted so food and drink it
would then send that data to the CMS it
would scurry around a bit look for the
reception
details of that venue send it back to
the reception they can then deliver the
order to the room second app which is
the app that I was working on it was a
quick book app so this is the one that
most directly extended that booking
functionality of the websites and and
this was and on the door app so it'd be
on the door or next to the door of the
meeting room so everyone would have one
of these and the kind of process for
this one was that it needed to retrieve
the latest booking data as soon as the
user interacted with it they need to
then collect the details of that
particular booking what time they wanted
to do it how long they wanted it for and
if they needed to send that back to the
CMS log it in there and then show a
visual success or failure notice to the
user and with this up
this app is existing in a public space
so we're not we didn't build it with the
idea of any long-term user sessions so
that kind of side of things wasn't
really concerned for us when we were
building this we had some requirements
so the requires of these apps was that
they were lightweight that they were
quick and they were optimized iPads and
this is what led us to choose react we
had another criteria which was that it
needed to use the existing data and
that's why we went down the route of
headless CMS and there's no point where
you left in the wheel we have all the
data there we just need to try and get
it out and use it so this was the first
time I noticed that we had done a
project like this so it's the first time
we had decoupled Drupal and bolted on
react on to the front end of it
so that naturally meant that we needed
to have a bit of a think about the
relationship and the communication
structure between these two ends our
react apps then were pure UI so they
would need to use API calls to get the
data out of Drupal and in order for us
to be able to actually design these up
because when you think about it like
that the apps are really designed around
the data they're really tailored to what
they're going to receive in order to be
able to do that design process we needed
to know what the data was that we were
going to get and when we were going to
get it so we knew exactly the structure
of what we were building so I'm going to
give you a little overview bit of the
basic structure of this app in terms of
the communication between react app and
API so
over on the right hand side this is my
react app right left on the left hand
side we've got my headless TMS and we've
got the Drupal 8 API which is sitting
with it so in this instance the API is
bolted on to the react CMS so before a
user even interact with this app we want
to have a visual signifier of exactly
which room we're talking about on the
screen so we're going to make an initial
API call this is going to collect the
room name this is now the app in its
static state so as soon as it's
initialized it gets the room name and it
sits and it waits that is all it does
until the user interacts
we then know that there are a few bits
of data that we're going to need in
order for them to book any kind of room
so the first of those is that we know
we're going to have to get the time
slots so we need to know when the room
is available so that's one of the API
calls we're going to have to make write
the beginning we also know they're
booking a room they're going to need to
know price so we know there's gonna have
to be an API call to calculate that and
to show it back to the user within this
system people can only book rooms if
they are already registered within this
booking system so there's gonna have to
be some verification that goes on to
check that they are actually already in
our CMS so we've got a user verification
API call and then the last one that we
know we definitely need is we need a
booking confirmation we need to know
that it's been logged in the CMS we need
to show the user that there's also some
additional features that we want to add
on to this so now we have to start
thinking about what cause we're going to
need for those and actually where we're
going to fit them in so the first of
those is that we want to be able to show
our users if they can Quickbook the room
so we want to have a visual tag which
shows if it's available right at this
minute or if it is not available right
now so we're gonna have to check for the
availability at the time that someone
has interacted with the app it's another
cool link to this we also want to be
able to show the user which other rooms
in the same venue also have a quick book
so we're going to run this available now
core but we're going to run it across
the different venue across the different
rooms in the same venue so that the user
can have a look at that and decide if
they want to go for that room or a
different room
then the last one that we know we're
going to want is users can book now and
they can book for today but they can
also book seven days in the future so if
they choose to book next Wednesday we're
going to have to renew our time slots
call with that new date passed into it
so they've got accurate booking data of
when they can book next Wednesday so
this is the basic communication
structure and these are API calls and
later I'll show you the app I'll show
you the API calls and this will all make
more sense once you've got a bit of
context I hope I hope it makes more
sense all right so thinking about the
experience then of actually going
through this so when I was brought in
the app and I was two weeks into being
web developer and I had a really limited
knowledge of Drupal safe anyone who
knows Drupal there's a pretty steep
learning curve say I was terrified
because I was thinking oh my god okay
not only am I gonna have to build a
reactor and I've only had three weeks of
training I'm now gonna have to do stuff
with Drupal and I've got no idea what's
going on here what was brilliant I
didn't have to know anything about
Drupal so I was purely working on the
front-end it was decoupled so I was
working on my own independently and this
worked really really well with the other
developer who was also working on the
project because he was working more on
the backend what this enables us to do
was we were able to go pretty quick with
our developments and to kind of give you
a bit more context with this so I was
working on my own on this quick book app
my development speed bearing in mind I'm
quite new to this was considerably
quicker than the other developer who was
working full stack he was developing the
ream service app as well as working back
end on the Drupal CMS so when you've
decoupled suddenly your speed gets a lot
quicker when you are working developing
on one person one specific side um there
was obviously the issue with this app
only being UI and obviously I needed
some data which you've just seen from
that communication structure so what was
really beneficial during this stage was
that we had got this idea of how they
were communicating and what API calls
were being made and and we also had
decided what format that day
was going to be coming to the react taps
in so we decided on JSON objects it
meant that I was able to build the app
with mock data so we put some fake data
in I was able to build it start to
finish and then when we got to the end
and we actually plugged in the real API
cause it was all a pretty seamless
transition because those react apps
already knew when the calls are going to
happen what data was going to come back
and also what the format of that data
was says all it was a pretty slick
operation and working with those there's
another aspect to this which is the
flexibility and the freedom of
decoupling so working on a decoupled
front-end gave me total flexibility with
the mock-up so no longer was I tied to
how a CMS wants to render out the front
ends all of a sudden I have complete
control over what I'm putting on that
page and I also have complete control of
the structure and hierarchy within my
react app which gives me a huge amount
of flexibility when we're thinking about
scaling it up so I've already got the
foresight of thinking if we want to add
in features what's the best way for me
to build this app so I can future-proof
it as much as possible this also gives
the ability then to have a very clean a
very efficient front-end app also
potentially the option to have no
redundant code or no access nothing
there that you don't actually need
ultimately what this is translating to
is that when you've got that flexibility
on the front end you're able to create
some really beautiful experiences and
these can be for any platform because
it's up to you so to you how you build
it and how you architect it as well okay
so I've kind of talked about Drupal
headless CMS and react up in isolation
but obviously there's kind of a
handshake that's going on between them
they've got to get information somehow
so when we're then thinking about
tapping in to that that content
repository in the headless CMS and we've
got an API so working with Drupal 8 and
there's a reason why I focused on Drupal
8 is that creating the endpoints for
those API calls is it's really really
straightforward kind of emphasize enough
how straightforward it is with Drupal 8
and that is because in Drupal 8 in core
you have got two modules to do this you
have got one which is your restful api
web services and you've got another
module which is your admin user
interface allowing you to control that
mmm from a very pretty view actually if
you're used to doing it in code contrast
this to Drupal 7 say Drupal 7 doesn't
have it built into core so if you are
looking at doing a headless CMS you've
got to go out and get your modules and
configure them yourselves it's possible
it's just a little bit quicker and
easier with Drupal 8 and actually when
you're using these modules it's entirely
possible then to go from a fresh Drupal
and install to making an API call
literally within minutes it's that
simple to get started so this is kind of
what part of the user interface looks
like when we're working with Drupal and
so when we are working with our API
calls setting up our endpoints we are
able to specify the verbs that we want
to be allowed with any specific resource
and we're also able to specify the
format so you can see here I've got
these formats so JSON and XML
they come in built into core and I think
if you want this little guy here I think
you have to download a module and but
essentially we've we've already gotten
control over how we are presenting this
data we're also able here to specify our
authentication so if we need to think
about cookies and about user sessions
were able to do that and right if you
are you I am and essentially what we've
got here is we've got a really user
friendly way to interact with our API
and to modify things so we can actually
build a functioning API just through
this just through the UI and if we want
to go a bit more custom if we want to
add a bit more functionality which we
probably will want to do at some point
we can then do that in the code okay we
can doing the code and it will appear
here so actually those examples that
I've got there are kind of more custom
calls on the left-hand side ok this is
exciting bit and I really hope this
works and so I am going to demo the app
so you can actually see it what got here
is so this is the app just sitting here
this one with the gray background and
this is iPad view so this is actually
what it will look like on the left hand
side
my console and so what I've done for
this recording is every time an API call
is made I've added a console log message
so you can see when it's made and when
the response is received so you'll be
asked to actually see exactly when this
app is interacting with my head the TMS
and when it's actually not interesting
at all it's just using the data that
it's collected all right so this is the
app in its static State so what I'm
indicating there at the top that's the
room title API call that's already been
made and this is now sitting here it's
waiting for a user to interact with it
so that's not going to do as soon as I
click into it then I've got three API
calls that have been triggered so this
is getting the initial information to
start my app up to give the user
essentially something to do the most
prominent of those is this timeline so
these are the available times that the
user is available to book if you click
on one it then shows you the possible
duration so this data has come back with
the time slots there's also the feature
then to book seven days in advance so if
I select next Wednesday it's gonna redo
that time slot school so you see it on
the left okay
we've done it we've got a new updated
timeline now we can see that some of
these times are greyed outs it's because
they're not available on Wednesday and
if I go ahead and I choose a different
time we can see some of those durations
are also not available
so it's updated this and this would keep
going if you kept changing the date
every time and you call so no matter
today okay so there's this indicator
then in the header so this is what I was
talking about with the quick book so
that says currently available if it
wasn't it would be grayed out and it
would say not currently available and
then these are the other rooms in that
venue which I could potentially book if
I wanted to so they also have a quick
book feature okay if I then decide to
book my room now so I get my possible
generations slack message I didn't turn
that off and they did this that's smart
and so I've got this and then we've got
a few things happening now so we
immediately had an API call for the
price this has rendered out here that
comes from our back-end and now I'm
going to try and book it so what we're
going to see happen now is we've got
credentials verification to show that I
am actually
user in the system we can see here that
the response has come back saying true
so we know I am if that came back false
we'd be presented with a failure message
saying that you are not registered in
the system please contact your
administrator once we've got that true I
can then send that into the booking
system and then again I'm waiting for
the response so you can see here I've
got a true response which means I've got
my success message if it was a false I'd
have a whoops there's an error your
booking hasn't been made so hopefully
this gives a bit more context with how
it's working with the API calls and how
it's actually getting its data and now
hey perfect okay no no okay look look
notes done okay no yes
okay great okay so thinking about then
extensibility so with this particular
project we obviously only had to react
apps but there's actually nothing
stopping us from adding three or adding
four we can extend this as many times as
we want in as many different directions
as we want and there's actually nothing
tying us to using react either so we
could choose to use a different
framework and that's really where this
starts become a really powerful way to
build things because it's so extensible
we can do whatever we want with that
data we can take it in any direction we
could do it on any platform and we can
have as many front ends as we want
because those front ends they're
completely unaware of each other so what
it allows is that essentially they could
be super lightweights and they're just
dumb clients so they're rendering the
data that they're getting which allows
us to have these performant apps as well
sitting on the front end of what could
be quite a complex structure complexly
no it's not weird complex structure yeah
complex backends okay with a lot of
content and a lot of different
structures going on and we're also not
just confined to JavaScript frameworks
obviously I talked about react today and
buttery little example so this here is
my lovely CMS it's headless it's my room
booking CMS and I decide that I want to
extend it out
to a few apps so okay again I've an
angular app probably gonna choose to
have a view why not and I'm also gonna
have a react app so I'm super skilled
right now I can do Drupal I can do all
of those it's great for five months and
I'm at this point there is absolutely
nothing stopping me from taking this in
a completely different direction
say for example a smart fridge got the
data available I've got the API set up I
could get that data and I could show you
that day's meetings on the office fridge
don't know I'd want to I could do it if
I wanted to do it that's kind of how its
tensile and how flexible this idea is of
headless CMS's okay so final slides I'm
going to talk about these are a few
takeaways so it was the first time we've
done this naturally things came after
that that we would do differently if we
were going to but if we were going to
redo this and there are also things that
if you are thinking of exploring this
that please don't make the same mistakes
essentially as a mistakes that I made so
my pain you'll gain first of those is
this idea of resourcing so I talked
about decoupling as being a really
positive thing because I said you can
have experts working on both ends and
they can work independently and it's
super quick it's great problem is if you
don't have those experts how are you
gonna build these things so you've got
to make sure that you've got that
resourcing in place or that you can get
that resourcing if you're going to do
this so our apps are built with me doing
one of them and with another developer
who was learning react on the job so as
he was going he was learning and he was
modifying it was thought of this is that
we had a hell of a lot of struggles
along the way of building these and some
of the code is perhaps more clunky than
we would like it and in fact it's now
when I look back at the app I think oh
my god what was I doing
that's definitely not the best way to do
this and want to naturally we factor the
whole thing which probably not gonna
happen it also has a an impact on
maintenance so if you've got a clunky
codes that ongoing maintenance is going
to become a bit more cumbersome kind of
become a bit more difficult plus if
you're react developers leave the agency
who's going to maintain it
who's gonna maintain that technology you
need to make sure you've got that
resourcing there the second of these
takeaways is to ensure that you are
choosing the best technology and the
right tooling for the job so if we were
creating multiple experiences from the
same content repository so using react
and using Drupal as a headless CMS was
definitely the right thing for us to do
but actually when you really look at the
whole project including that website
which is Drupal backend Drupal front end
completely integrated the whole project
probably should have been headless so we
kind of we forced that Drupal front-end
to do things that it probably wasn't
necessarily meant to do and it would
have just been a lot easier on us and a
lot more flexible if we decide to
decouple the whole project I said that
react was the right choice for us it was
yeah it was a great choice but we built
it built both of our apps without any
state management so for those of you who
know me ax you know that just having the
state's floating around it's probably
gonna cause you some problems down the
line and it did it did causes quite a
few problems actually um so I think in
our situation the the decision to have
state management tooling was just made a
little bit too late we didn't have time
to implement it so if you are doing this
and if you are choosing our technologies
make sure you've got the expertise there
to know that you're doing it in the
right way that's actually going to be
easy and straightforward for you because
that's the whole point of doing this
it's supposed to be something that is
flexible and adaptable
okay applets point down here and clear
separation of concerns so if we were
thinking about kind of not going down
this monolithic CMS roots and not having
a Drupal back-end Drupal but a front-end
or WordPress or endeavor CMS we need to
think about which end is doing which
because if we've got a monolithic build
where they're all kind of working
together a case we don't have to
actually separate out that much but when
I've got a headless CMS and I've got a
react up on the front I need to know
which is doing which so I know what to
tell it to do
so for us we we came a cropper a little
bit with this so we had an issue with
our price calculation for the quit book
app so our back-end it had the price per
price per hour for these rooms react app
had the duration and see we're kinda
thinking like oh hey where does this
logic actually happen where do we make
the calculation this is something which
kind of slowed us down a little bit as
we made that decision and then
implemented it's definitely something
that could have been avoided had we
thought about that little bit earlier
that situation is in reality not quite
as simple as I've perhaps suggested so
we in this project we didn't just have
react app sitting with a headless Drupal
CMS we actually had a reactor sitting
with a headless CMS which was then
connected to a third-party CRM so
whenever we were making calls we were
thinking about the API call going to
Drupal maybe it'll come straight back if
the data was in the CMS if not Drupal
would then call the CRM it get the data
back it was send it back just be the
react app so it's a bit more of a
complicated structure in terms of
separation of concerns we've got now our
different things to think about and but
actually thinking about those apps and
kind of at that more complicated sense
what it really reinforces actually that
when you have a clear separation of
concerns it's fantastic because we did
have quite a complex structure on the
back of ours and it was pretty difficult
to work with but actually by decoupling
and be had by having those reactor react
front ends completely unaware of what
was going on it allowed us to really
leverage all that data without having
that cognitive load so they wear
lightweight they wear fast and and that
is because they were decoupled it was a
fantastic thing okay final points this
is the one that I probably labor most
heavily I think this is super super
important if you are going down this
routes and trying to make something
extensible and it's flexible and that is
to have a clean and consistent API
design so the point of this is
extensibility so keep your API clean and
document it meticulous
so our API ended up being a bit more
custom than it did being restful which
kind of means that we really need to
document it pretty well so we know that
actually what's happening there
we didn't document it quite as well as
we need it to and all this really means
for us it's just implications in terms
of time now so in the future when we go
to extend this even further we're gonna
have to just do a little bit of legwork
working with those API endpoints so
we're gonna have to figure them out
essentially work out what does what what
data we're going to get what data we
need to give so final bit of advice that
I'd give you is that if you are going
down this route of having a headless CMS
so that you can extend it in multiple
frameworks on the front end invest time
in your API design because that is the
part if there's any of all of these
that's going to prevent you from making
this extensible and easy to work with
okay
and if we've got any time for questions</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>