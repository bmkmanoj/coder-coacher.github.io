<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Reactivate London, Go, React, Go!, December 2017 | Coder Coacher - Coaching Coders</title><meta content="Reactivate London, Go, React, Go!, December 2017 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Pusher/">Pusher</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Reactivate London, Go, React, Go!, December 2017</b></h2><h5 class="post__date">2018-02-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ofKEnZ-GyPA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everyone as Ellie said I'm Paul jolly
and I'm co-founder of a an early-stage
company called model logic we're looking
to build a financial modeling platform
ultimately to replace Excel but that's
totally dull so I'm not talking about
that thankfully instead I'm talking as
Ali said about using go which is
normally a back-end language to build
front-end applications and Ellie gave me
the title for today's talk as well which
is fantastic so what we're going to look
at is as I said building a front-end
application in go using react as claudia
was alluding at the beginning react is
to my mind a really good pattern for
building front-end applications and for
me go is a really good language for just
writing any code doesn't matter whether
it's front-end or back-end so this
represents the the meeting of the two of
you like just so I can see how many
people have actually used go before just
even writing a small amount of code so
maybe 30% ish okay great
I'm not gonna go it's not going to be a
deep dive into the language I include a
number of links at the end of the talk
for you to go and look to learn more
about go the language yourself so I'm
not here to actually convert everybody
to using go to stop using javascript and
just just start doing everything and go
it's really just to present an
alternative as Claudia said really
presented an alternative tool and if the
go and react combination works for you
for whatever reason then use that tool
if it's the best for the job so as I
said we're going to have a brief
overview of the language today we're
going to write a browser based
interactive front-end app in go we're
going to use a the wrapper that I've
created around Facebook's react library
we're going to use a code generation
tool called go generate which is part of
the the the go package itself they go
the distributed go package we're gonna
see some of the benefits of writing
fronted apps and go and end up with
happy front-end Gophers and the gopher
is the mascot for the go language and
this is a gopher that's been rather
dressed up down on the bottom will see
some more dressed up Gophers later on so
let's just quickly start with some
definitions for the purposes of this
talk everybody in this room is almost
certainly a more experienced
and developer than I am so I will defer
to your better experience and
understanding of these things so these
are just my definitions for today so by
fronting I'm talking about a browser or
equivalent on a client device so that
does include things like electron based
apps rendering of HTML and CSS for the
actual visual part of the application
the back end could be non-existent local
remote doesn't matter I'm not focusing
on that for today
interactive again every page HTML page
is effectively interactive if you
consider clicking on a link as being
some sort of interactivity but for today
I'm talking about intra page
responsiveness and the visual changes
that come in response to things like
keyboard events or mouse clicks whatever
there may be may or may not involve
back-end calls as I said we're not going
to focus on that today and buy an app
what are we talking about an HTML page
or pages that are themselves interactive
could be a single page or multiple pages
so why is any of this important again
I'm sort of preaching to the converted
here because everybody here is sort of
on that bandwagon already browsers an
extremely good cross-platform way of
building front-end applications billions
of devices out there almost zero cost to
adoption from that perspective so again
there should therefore be a low cost
from a development perspective as well
so this the presentation you're looking
at here is actually an HTML web page
that's being served from a web server
that is a go tool called present and
given it as HTML Lite you can actually
inline iframes within it as well and so
some of the examples of interactive
front end nets were going to look at
here are actually go react applications
they're very very simple but just to
give you a bit of a flavor of what we're
looking at today so I can drive my mouse
over here this is a very very simple one
clearly this drop-down at the top here
is provide the some sort of state
associated with this drop-down here
which is then driving the lower part of
the panel here this button very very
basic nothing particularly exciting
about this page here this is an example
that you'll recognize potentially from
the react homepage itself where the
input box the textbook the input
spots at the top there is markdown and
there's a client-side markdown Pazza
that's then being used to then format
this output and then in the second div
that's there the infamous to do
application very very basic we can just
keep on adding ourselves to do items
again nothing particularly exciting
there but these are all just your
canonical react examples that they come
from the reactor homepage so this is an
example called gopher ëismí and I have
to credit Ashlee McNamara I'm at Rio for
creating this they actually created
theirs as a JavaScript based application
not react based and so I've created a go
and react based version this is entirely
front-end logic here there's no back end
to it but you can sort of imagine how it
might be connected to a back-end so
let's just have a quick play around here
the left hand side is essentially a
preview of the gopher that we're trying
to create very nice we can shuffle we
can create all sorts of different styles
of gopher here and the right-hand side
there's clearly some sort of shared
state here because you can see the
current body is brown here and we can
then just click around here we can just
customize our gopher however we like so
you can sort of imagine how given
everybody here is used react how
actually you might structure where the
state would sit what the props would be
etc so this is perhaps just a bit more
of a fun example but this is not a
complex reactor application by any
stretch of the imagination here this
example here credited to TJ Holloway
trick who some people in the room may be
aware of from the Express framework
absolutely amazing designer as well and
so with his kind permission i've cribbed
and borrowed this example here again
it's a rewrite in go and react of a
project that he has for testing website
license or URL latencies so this is kind
of a faked version here because I
actually just have it created creating
some random timing values instead of
actually testing a URL where it make a
call to a back-end service where it can
actually test the latency for you I'm
just faking some values here so again
the idea behind this is just that yes
you can make back-end calls but
fundamentally your interactive
interactivity can just be HTML and CSS
based which this one is here there's no
interactivity of
just clicking on the button start with
so what what with all of this is
everybody here is aware you we've got
JavaScript as being the language for now
at least that allows us to create this
interactivity ie sort of a response to a
click event or a keyboard press
javascript is the language that allows
us to actually respond to those events
and provide the interactivity but if
there is a bit that a wider option space
than just writing in JavaScript is again
everybody here is probably aware so
let's just quickly scan down the list
here
CoffeeScript yes okay you could write in
CoffeeScript typescript a very popular
one because it's introducing a level of
type safety in there so a compile step
sort of pre the application being
distributed to the front end closure
script the list goes on and any other
language that might actually compile to
JavaScript or in the future
a SMGs or web assembly but sort of
ignoring web assembly for now or indeed
ASM Jess I'm just gonna focus on
JavaScript is essentially the target
today and just briefly talk a bit about
typescript because this is really the
reason why I start with created this
project and that I've been working on so
this is a brief and a very incomplete
analysis of typescript is based on
around two and a half years of
experience we have with a medium-sized
typescript application I would say it's
the typescript is at how many people
have used typescript again just a quick
so again that's the sort of roughly
similar number so typescript is a quite
a large language in terms of its
specification in fact the specification
is extremely long our experience with
that was that there's quite a lot more
edge cases when actually using the
language itself and not only that it's
then quite a bit harder to write tools
that work with the language so for
example in cogeneration whatever it may
be you're having to parse some
typescript code you have to handle quite
a lot of cases within your parser and
whatever you're trying to do whether the
the abstract syntax tree that results
there are some quite painful hangovers
from JavaScript as well the plus
operated being perhaps the canonical
exam
love how yes you have type safety within
the typescript well but it can and is
abused if you like within the typescript
world to just you can add anything you
like and yes the result is well you have
to then go and read the specification
and there's too much guesswork involved
to my mind with with that whether
there's that sort of hangover there's a
lot of compiler options as well to sort
of satisfy people coming from different
backgrounds so if you're starting out
with the typescript application which
compiler options should use okay again
it's not very clear from from this from
the get-go how you should be starting
the compiler is single threaded as well
which leads to slightly longer compile
times now pre there were some very good
optimizations released about three or
four months ago that helped with this
but we had compile times that were
around ten to twelve seconds for just a
medium sized application so that makes
your development cycle quite long if you
making a change you don't want to
compile and then test the result if
you've got 12 to 10 to 12 seconds each
time you're doing that that starts to
get very painful if you multiply it by
however many developers you might be who
may be working on the project at the
same time so that low development
velocity doesn't lead to great developer
experience to my mind they have made I
will say that they have made some
improvements which we have note because
you know really still in typescript for
now but this was the largely the reason
why I started looking at okay hang on a
second we're using go on the back end
where it's lightning quick in terms of
its compilation it's a much smaller
language we're writing lots of language
tools hang on can we actually start
using go in the front end so this is why
we ask the question is there another way
to do this we ultimately have to taught
the target JavaScript for now as I said
I'm ignoring web assembly so we have to
go what we have to end up with is
JavaScript so what can we use as a
language as a starting point so this is
where the Gopher comes in as I said it's
the mascot for the language and there's
a language go addresses or doesn't
suffer if you like from a lot of those
points that I made about typescript as a
language so a very quick rundown of what
go is
for those who haven't used it before
it's a compiled language it has native
support at a language level for
concurrency i allowing you to have
fictive li have more than one thread of
execution at the same time like
javascript is garbage collected but
unlike javascript it's statically typed
as well so i at compile time you have to
have annotated all of your code with
types and those types has that your
program then has to actually compile
other types have to be compatible it was
developed at Google to address problems
of large-scale development I had loads
of C++ at Google that just became a
nightmare to manage build times were
very long etc etc so it was very
specific engineering solution to the
very specific problems that Google had
but that they actually thought okay the
solution to this is going to be general
generally useful to other people as well
in contrast to typescript is a very
small language so you can go and look at
the the language spec and read it in not
much time at all and actually understand
it as well because the language is much
simpler
there are far far far fewer edge cases
therefore because the spec is much
smaller there's an extensive
well-defined standard library now this
does not exist in the JavaScript world
instead you have to be installing
packages in order to get function X or
solution Y the go standard library gives
you a huge amount to start with and in
fact you could I dare I say sort write
almost anything with just the standard
library itself of course you in reinvent
a number of wheels by doing so but the
standard library is an extremely good
starting point it's a very easy to read
language it's easy to document as well
so when you're writing code you can
easily document your code and instantly
using the go doc command you can then
see the results of that and they're
nicely formatted HTML output nothing
there's actually no rocket science about
it but if the language is easy to read
plus it's easier to document as well as
encourages people as cloud knew it was
saying to actually document things and
make it more easy for other people to
understand there are fantastic language
tools you can automatically format your
code again that's not unique to go but
there is just one tool that does that in
the go well this cold go front and
they're there for everybody's code
formats and exactly the same way there's
no options that's it and but that
actually makes it much easier to read as
well because cloudy made the point there
as well that's effectively an idiom if
you then can look at some code it will
always be formatted in the same way it's
much easier to read as I said it's very
because the language is much small it's
very much easier to write your own
language tools for example if you want
to write a code generator it's very easy
to parse some go code that you have and
then do some cogeneration off the back
of that the packages that are in the
standard library make that extremely
easy to do and easy to understand as
well very fast to compile and run which
is why it's a language that's favored on
the back end so docker which almost
everybody will have used or be familiar
with is entirely written in go
kubernetes a number of these sort of
systems based tools frameworks whatever
are written in go because it can't be it
compiles to native code which is
extremely fast optimized for your
processor architecture so it's found a
lot of favor on the back end for that
reason
hopefully we that's just about visible
this is a very simple example your
canonical hello world application here
goes code is organized in terms of
packages and the package main is a
special package that allows you to
define an entry point into your program
and func make much like C code is the
entry point itself so what we can do is
we can just run this here and it's not
going to surprise anybody we actually
see as a result there but you can see
very simple func this is the definition
of the function that is main here we've
imported a package here front which is
allow us it going to allow us to do some
formatting and this situation formatting
front package allows us to just print a
line and that prints it to standard out
very very basic and the go tour gives a
really good sort of introduction to the
language itself so to encourage
everybody to take a look at that this is
a slightly more interesting example
because as I said go has as part of the
language itself effectively
if I can call it native support for
concurrency and has the go keyword which
you can just see within the main
function that allows you to concurrently
execute this function here concurrent to
what then follows which is the also
calling the the SE function here as well
so you can sort of guess by just looking
at it if I tell you this is gonna
concurrently execute say world with say
hello here what's actually going to
happen we're going to get some sort of
interleaving of hello and world and as
you can see from the loop above here
which again looks quite see like it's
just a simple for loop five times is
going to sleep for 100 milliseconds and
then print whatever the argument was to
that function so there we go nothing
particularly exciting about that but
again it sort of gives you a bit of a
flavor for how simple the language is
hopefully by just that there we did
something concurrently without needing
to talk about a thread library or
anything like that just as a primitive
within the language you have concurrency
and the go tour itself goes on to talk
about other primitives within the
language that are channels
and channels are the the main way in
which you communicate between concurrent
parts of an application but we won't
look at that today so there are other
aspects of go that I've got listed here
that are covered entirely in the go tour
but I'm not really focusing on a
language it's not a language tutorial
today this is just to give you a bit of
a flavor for the language but
predominantly how simple it is as well
which as I said is the reason for why I
chose to to actually try and wrap the
react library with the go programming
language so but there's a bit of a
problem because we can't run go within
the browser
javascript is and again I'm sort of
ignoring webassembly the the one
language that you can run within a
browser-based environment that's the the
only virtual machine that a browser has
and that's to run a JavaScript code so
if we have some go code how do we
actually get JavaScript out the other
end
well this is where a fantastic tool
called gopher dress comes in
you can sort of tell whether name has
come from here it's an outstanding piece
piece of work by Ricard mutual and the
go for Jas team and it is a compiler
slash transpiler if you want to get
pedantic about definitions that takes
your go code and spits out JavaScript
with the principle target being the
browser so if I written some go code I
can then take those that go package and
compile it using go for Jas and it will
generate for me a JavaScript file that
effectively represents that compiled
result so this is effectively exactly
what we're after in this situation we've
got like okay we want to be able to
write go code under and run it within
the browser
so this is where go for Jas fits in so
what does go for GS support go for Jes
as I said is this compiler transpiler
it supports every feature within the
language even though it's sort of very
small language spec almost the entire
standard library so then the standard
library includes things like net HTTP
that allows you to make HTTP calls
encoding Jason to deal with anything
that maybe you need to encode to JSON or
decode from Jason encoding CSV you can
sort of guess where this is going and
all the entire go standard library is
extremely well documented as well the
performance is pretty good in most cases
it's not as nowhere near as optimized as
some other compilers and transpilers out
there but it's pretty good then there is
an html5 game engine example that's
written using Java GS so that gives you
some idea that actually the JavaScript
that it generates is pretty performant
as well source map support add-on
package for interacting with the Dom a
JavaScript interoperability package so
if you have an existing JavaScript
library ie react the ability to interact
with that and that therefore gives rise
to the final bullet point there which is
bindings you can then write bindings
packages that effectively wrap an
existing JavaScript library and allow
other people to then write pure go
against your bindings and have that
compiled to JavaScript at the end of the
day so that's exactly where the react
things come reiax other things comes in
react needs absolutely no introduction
to everybody in here but my itcb did I
slash reactors a go package that is
those bindings the wrapper if you like
around the react package so that then
just allows anybody else to write go
code using this package use go for js2
then compiled the result and have that
result then run within the browser so as
I said it says that there go for Jeff's
bindings for Facebook's react it wraps
the JavaScript library that Facebook
distribute and presents this go
interface and I use interfacing quotes
there because an interface is actually a
thing within the go language so by
interface I mean just how one interacts
with something um the package also gives
you react gen which is a tool much like
create Raptor create react app or any
sort of initialization tool for getting
you started but it also acts as a code
generator to help you along the way as
well to to save you having to write a
whole load of boilerplate code when we
declare our components props and state
so let's get straight into it by
therefore looking at how we create an
interactive front-end app so I've
skipped over a whole load of
prerequisites set up etc this is all
covered in blog posts and on the wiki
that I've got feel free to ping me with
any questions on sort of getting started
but it would be incredibly boring to
actually go through that setup today so
I have skipped it and so here we're just
creating ourselves you can sort of
ignore the go path environment variable
there again that's covered in the go
tour quite well we're just creating
ourselves a directory and then within
that directory we're calling react gem
with an init flag here because I just
want to create myself a nice-looking
bootstrap
based react example ok so what does this
actually look like again this is
effectively a live example within the
presentation very very basic HTML based
our app that results here with just a
heading and a paragraph of text not
particularly exciting so in terms of
files what did react gen generate well
unser unsurprisingly there's an an HTML
file that effectively represents the
entry point for our application right
because it's that HTML file that gets
loaded within the browser that
bootstraps the the loading of a
JavaScript file which
straps react etc right but you can see
there's no JavaScript files obsolete
been generated here
that's where gopher dress comes into it
but it has generated three go files
there so let's just take a look at each
of these files very very briefly this
isn't going to surprise anybody in the
room here HTML which has a div which is
effectively going to represent the route
of our reactor plication nothing
particularly exciting there the script
that gets loaded at the bottom however
is the result of the go for GS
compilation so it takes those go files
up to a single javascript file which
gets loaded at the end of the page ok so
then that is the bootstrap of our
application to be like main go like
before this as I said the main package
is a special one because it represents
the entry point into our program our web
application in this situation you can
sort of ignore all the bit at the top
there and focus on the I can just
highlight this bit down the bottom here
hopefully the actual main itself down at
the bottom here where again this looks
kind of familiar if you've written react
apps before where we're trying to we're
using the Dom package here specifically
the document a reference to the document
that is the the page itself to get an
element by ID I the the div that we
declared on the previous page and then
render within that div a particular
react component so that sort of said it
looks very functional here in the way
that we're actually creating an instance
of the what looks like a component
called app there so let's take a look at
the definition of that component so this
is where there's a bit of that there's
obviously a marked difference here
between the way that you would declare a
component in JavaScript and then go so
I'll try and provide that contrast as we
go through the next couple of slides
here so if you're creating a new
component in JavaScript that's different
declaring a class that extends react
component or typescript that the
equivalent thereof right and then you're
declaring a method within the class that
is the render methods the get initial
state whatever it may be component well
mount all of these things right so we
we're gonna have something
it's quite similar to that here but we
don't have classes within go there's no
such concept instead we have type
declarations and at the top here you can
see this is we're actually declaring our
app component and we'll come on to the
to the naming conventions in a second
but the best thing to do is to look at
the bottom of this slide here where you
can see the render method and that kind
of looks a bit more familiar at that
point right we're declaring a render
method which has which is declared on
the app def type so this is saying right
fine for this particular component the
app component this is its render method
and you can see it returns a react
element which in sort of the the
typescript equivalence is returning a
JSX element and unsurprisingly given the
page we saw earlier on it's rendering a
div that contains an h1 and the P I
exactly what we saw in our previous
pages and but we also had a what looks
like potentially a code generated file
that was generated for us as well the
gen underscore prefix and the underscore
react gen suffix this file exists to
save you a hot writing a whole load of
boilerplate code because goo is a fully
typed language you need to end you
actually need to write quite a lot of
boilerplate code effectively to write
components in a react way and so reacts
gen helps you do that it creates those
types of type safe methods that says
there and yeah saves you a whole load of
what would otherwise be quite monotonous
code that you don't have to do in the
JavaScript or the typescript world
because the language is those two
languages are quite a bit more
expressive so let's just take a quick
detour into the world of go generator as
I said it's a cogeneration tool and what
it does is it starts from go code
cogeneration and goes to something in
this situation we're going from to go
files here and we're creating a third go
file so it what it does it what this
reacts Gen tool is going to do is it's
going to try and find our components
declarations and then create all this
boilerplate code for us and just spit
out these files as well as we're working
so if you have a file watcher running
for example you can just
be coding away they're declaring okay
I've got a component here save the file
the code generator will run and generate
a whole load of boilerplate code for you
so that's where this this code
generation step comes in and the idea
behind again writing these sort of
language tools is that you write such at
all in order to write less code yourself
so that's sort of the motto behind them
so let's let's go back to our reactor
components here and look at how we would
write our own react component very
simple one as I said the there's a
naming convention that's used here where
we have a Deaf's
name soft def suffix excuse me - the
name of the component so here we're
going to create a component called fubar
okay so what we do is we have a type
declaration here that is fubar def and
this structure here where it is of types
it is a struct type that has a
particular embedded type that is all the
that's the only signature that's
actually required in order for the
reaction code generated to see okay this
is a component you're trying to declare
so if you save this file at this point
it would spit out a whole load of
generated code for you let's say we also
want to add some our component to also
declare some props unsurprisingly that
has a sort of prop that has a prop
suffix so here we can we define another
type declare another type excuse me
fubar props
it's a struct type and our props are
going to be very simple it's just going
to take it's just going to have a name
field which is of type string you can
sort of guess what therefore we're if we
want to declare state how state types
are declared as well fubar state struct
type again and just a single field in
this situation with age so this is a
fairly well rehearsed example you can
sort of guess what's that what this page
what this component might actually do so
react gen with with us having saved
those let's just assume we put all of
those three type declarations in one
file and save it it's going to spit out
a whole load of methods for us to help
so it's declared here three methods on
our fubar components remembering that
the fubar def type is the component
itself it's got a props method which
gives us the type that
the fubar props back the state method
and the set state method so again very
familiar and there is the equivalent
obviously within their types Krypton
and JavaScript world so now let's get
really concrete by defining our render
method and so in this situation here you
can see that within the render method
what we first will do is get the name
the current name and age based on the
props on the state and you can see we're
using those code generated props and
States method that's there we're again
using the front package in order to
format a string using that name and age
and then you can see we're simply
returning from this a div that has a
paragraph which contains that formatted
string and then beneath it a button
which has got a click Handler and the
click handler all we're going to do is
bump the age I increment the age by one
here okay so let's just take a quick
look at the click handler itself and how
that's implemented again a lot of this
stuff is based around type declarations
and go which is where it's at I don't
want to say it's the equivalent of class
declarations but they're because they're
they're very different concepts but you
can sort of imagine them as being quite
similar and so here we actually declare
our click handler as a separate type
here and you can see we're declaring a
method on click on that new type and
that's this type the age click type here
there then implements the on click
interface so that that means we can then
use this type as a click handler so very
basically it's just wrapping the foo bar
def component you can see it gets the
state bumps the age on the state and
then sets the state back so nothing
particularly exciting there so in much
the same way that we have declared the
component we actually need to create an
instance of this component we actually
want to use it and that's where we just
write ourselves a very simple function
foo bar here and we'll see how that
function is used in a second and
obviously if you want to create an
instance of component you need to pass
it in some props and so we declared that
that has a single argument that is of
type foo bar props so now let's see
the app dev the app component that we
had Co generated for us with reaction to
actually you include an instance of the
fubar component here so you can see
previously that this is exactly the same
app def render method but you had before
with the heading one and the paragraph
and now all we're doing it again just
using this sort of fairly familiar
pattern of composition is creating an
instance of the fubar component by
calling that constructor function
passing in an instance of the props and
this situation we just passing in the
name Peter so as as cloudy I said
earlier on react it's very functional
very compositional in in the way it
works and that's exactly the same with
it with the go wrapper that we have here
so here is what can I just find the
mouse here is the here is our extended
application where it's using the fubar
components unsurprising is just bumping
the age each time and then setting state
in exactly the way that you would just
write any react application that wanted
that state local to that component so if
we were to look at this within the
browser
react dev tools work in exactly the same
way because don't forget all we're doing
is generating JavaScript here so react
tools that work with a JavaScript based
react at work equally well with a go
react based application because again
it's still just generating JavaScript so
you can see here the component hierarchy
from the page that we were just looking
at where there's the outer component
there's the app component that has the
h1 the P and then the the nested fubar
component within it so that's a useful
thing to have is being able to reuse
existing tooling that exists for regular
JavaScript react applications so let's
just go back to our the example of
gopher eyes meet from earlier on and
just talk a bit about the structure of
this application because it's it's it's
kind of a useful example so as we said
we've got this preview area on the left
hand side where we've got our gopher
which is clearly being told okay what
what eyes should you use what bodies
should use you've got a couple of
buttons shuffle reset at the top here
which must have some sort of handlers
associated with them and these sections
down
right inside panels down the right-hand
side here that allow you to configure
what the Gopher looks like so let's just
put some glasses on for example so what
does this component look like it looked
like in terms of the component structure
there's going to be no real surprises
here but we can look at in terms now of
the actual types that we would have to
declare in the go world so this is sort
of you can think about how you would do
this in JavaScript typescript whatever
language you use for reacts but this is
the types that are then used as far as
state and props are concerned for the
components in the go world so the outer
component is the one that holds that the
come the configuration of the current go
for ie what does the current gopher look
like let's just also assume the some
configuration that we have made
available to us that says well here is
the list of eyes here is the list of
bodies and these are the images etc that
go with those various options so that's
the config option in this situation the
preview panel on the left hand side just
needs to be told well what does the
current gopher look like so its props
type there as you can see receives a
gopher type as part of its props the
choose a bit which is on the right hand
side well that also needs to know what
the current gopher is it also needs to
know what the config is because of
course it's the thing that contains all
those panels down the right hand side
and we also need to provide some sort of
way of updating what the current gopher
looks like because let's not forget that
state is maintained in the outer
components so you can see the props for
the chooser component look roughly like
that the chooser also has some state of
course which is it such as flick back
one slide here which of these panels is
actually open so that state is something
that is local to the chooser component
on the right hand side there so then
within the chooser component there are
all those panels that you saw and I
won't go through all the details here
but you can therefore sort of see how
the props for the panel then come about
in those situation in this situation
oops so what
the one thing we haven't talked about
much about here is we've we've got this
sort of config thing that I've waved my
hands out and said well this is where
you get the list of eyes the the list of
bodies etc where does that actually come
from well this is where we can just
briefly talk about just sort of before
we wrap up back ends because of course
we've only talked about front-end logic
here and the JavaScript the results from
compiling from go to JavaScript the
beauty of having the standard library
while hanging let's just summarize where
we office also we've as I said we've
written an interactive front-end app and
go it's very very basic but we've used
reactant you can sort of see how to
declare the components the props and the
state and sort of relate that back to
how you would do it in JavaScript
typescript whatever so it's exactly the
same concepts as Claudy said it's sort
of reusing that idiom of component props
and state there's no chain as far as
that's concerned
my ITC we do react is the package that
went along with the reacts gem that
allows you to do that it's effectively
the wrapper around the Java library we
can sort of see how cogeneration fits in
and why cogeneration is useful it's just
saving us having to write a hole in a
boilerplate code which it's only a good
thing but we don't have any data on our
application I sort of said that I this
config has come from somewhere I haven't
sort of said where so this is obviously
where you would get that configuration
from a back-end for example so what is
that option space for backends well no
back-end at all I you could hardwired
into your front-end app what this is the
list of faces this is the list of bodies
etc with hardwired links to this is
where you get this image from et cetera
okay you could do that some sort of JSON
rest-based API you could use Google's
protobuf over HTTP 1.1 G RPC which is an
RPC based framework over HTTP - the list
goes on and on but the beauty is that
you can use any sort of back-end because
the go standard library allows you to
well you've got the entire power of the
standard library so if you want to
connect to a JSON based back-end very
easy over HTTP 1 or HTTP 2 you've got
net HTTP in order to actually be
connecting to that back-end and you've
got the JSON package to do the encoding
and the
coding for you much the same way with
protobuf as well if you wanted to use
that far more efficient than than Jason
but all of this is except available to
you within the ghost standard library I
you don't have to install any other
packages unless that's actually sort of
more convenient for you so there's a
really good example that I've linked
from this slide here to a gr PC based
back-end and your hand brown horse has
done some fantastic work that connects a
go guess front end to a just a regular
go back end and of course the benefit
you have there is that you have go code
that can be shared between the back end
and the front end which is obviously an
another really nice benefit of having
the same language on the front end and
the back end so I think that's pretty
much it
that was a bit of a lightning tour
through things but as I said just sort
of going back to this to the recap slide
here we had you can write interactive
front-end apps and go and using the
gopher dress compiler with a wrap around
the react library that sort of reuses it
all the same idioms that exist in in the
standard react JavaScript library but
you just have to get used to the fact
that okay this is going to be in a
different language the tooling is
slightly different and therefore the
development the development approach is
slightly different so that's it there's
a whole load of links etc that I'll post
it's just sort of getting started link
to the go tour and the gorgeous slack
channel where there's all sorts of
people who are available to help and
happy to help with anybody who wants to
start writing some go and have that run
within the browser so I think that's
probably it unless there's anybody and
it has any questions yeah that's a
really good question and so no there
isn't
so the go is a language is let me just
go back to this example here for example
right because this is typically where
you would expect to see JSX
so no there isn't because this is just
compiling just taking a go and compiling
that to JavaScript so go has not been
extended as a language in fact it's kept
extremely tight so for there to be the
equivalent of JSX you
would essentially be looking to extend
or I don't want to say fork the language
but effectively to say right I'm gonna
add this syntax in to give JSX like
support so I have some sort of fake JSX
support we're using a string constant it
that string constant contains HTML it
parses the HTML and spits out the
equivalent as if you'd written that as
go code but that's sort of fake because
of course true JSX
you can actually it's not a constant and
you can have variables interpolated as
part of the JSX so you would have to and
as you say create a preprocessor or an
additional compiler that takes and
understands that JSX syntax you could
effectively rewrite that into go and
then just compile that on once more but
no there's not just X support other than
as I said that sort of fake constant
string based JSX which is which is by
definition quite limited cool</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>