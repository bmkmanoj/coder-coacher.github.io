<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Vue.js Vienna, Vue js and GDPR - Creating A Custom Cookie Component, April 2018 | Coder Coacher - Coaching Coders</title><meta content="Vue.js Vienna, Vue js and GDPR - Creating A Custom Cookie Component, April 2018 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Pusher/">Pusher</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Vue.js Vienna, Vue js and GDPR - Creating A Custom Cookie Component, April 2018</b></h2><h5 class="post__date">2018-04-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yFSSgHj9C-0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so um yeah as I said I'm working here as
a front-end developer and today I will
talk shortly about gdpr
especially how it affects some modern
websites and how we use cookies and then
I will do live programming session and
where we create a cookie message warning
component yeah and also and we will
integrate Google Analytics because
otherwise it wouldn't make sense to do
such things okay so this came up all you
hear about gdpr
is my personal opinion so I'm not a
lawyer and it's just a recommendation
how you should do it
so just for reference and so the next
page so so GDP oh I think almost
everybody heard about this term because
it's in every newspaper and everybody's
in Harry and like and it's something
like chaos here and in companies like
okey oh my god what do I have to do and
do I need something to do
so G PR stands shortly for general data
product protection regulation and it
starts and in the end of me and it
generally covers all topics how to
handle personal data in companies and
how we should also secure them so it's
not only for developing focused
companies but also for auto repair shop
for and a hairdresser so everybody who
handles with person data has to be
cheaper GDP I'll confirm so so you might
think ok yeah I just have a normal
website and I don't really have any
personal data from my users so why
should follow me why should I research
for it or whatsoever yeah well maybe
some of you think ok I already have one
of these annoying cookie warning
messages on my website so I'm also fine
so get at me gdpr so my first question
is and I hope that you raise your hands
or not
who thinks that for example this cookie
message Waunakee SGD our GDP are
conformed ok good
what about this one so in this case you
don't even have a button to click so it
just says ok we track your personal data
and that's it so I think y'all know okay
this is doing completely one so yeah so
we have to do something till the 25th of
May so yeah the GDP our guideline it's a
huge paper with 50 pages or longer and
especially regarding cookies there's
only one paragraph mentioned and I think
the last one here is important may be
used to create progress too often it of
the natural persons and intensify them
but yeah who knows exactly what their
meaning I think nobody really saw in
plain English this means ok implied
consent is no long long enough it must
be easy to with to our content as it is
to give and soft opt soft opt-in is not
as sufficient so cookie one with just
one button where you can click ok I I
read the info I can't do nothing against
it it's not sufficient enough so you
have to also have to provide a button
where you can say ok now don't really
want to be tracked and all the tracking
programs like Google Analytics so Adobe
Analytics be stopped so ok we have a
problem here we have to do something
against Ted and now we are coming to the
live cramming session so now we create a
short a small futures project with the
new if you apply worse
free interface we will also use the NPM
package view analytics and yeah and
obviously create one component so let's
do this so I also have a cheat sheet for
that because my first talk so I don't
want to mess ups too many things okay so
what do we have here so we create a new
demo app with the future
so select minimally we don't need
typescript or whatsoever so it's really
vanilla and we want package file and now
we might need some elevator music
because npm takes some time okay damn it
okay but in the meantime oh okay
someone disconnect from the villa from
the Wi-Fi so it's fast enough okay short
question who is using NPM and who is
using yarn okay okay interesting
okay I'm still the NPM guys so yeah
okay just a few hours and then you're
finished
oh wow
okay let's do some magic
no fake presentation here all life
okay so we are ready to go so we go to
the application so we have our files
here and now I will open my terminal and
in the oops the background we will also
on so we will see what we are doing
really here
what I'm doing here okay so yeah as you
already know standart
default view oops there it is so um yeah
we have one hello a few hello world
component we have to app dot view and
what we are basically doing now is I
call it cookie message or annoying
cooking message component whatever you
want to call it and now I have to cheat
because otherwise we are sitting here
till 11 p.m. I don't what I want to
leave early so yeah and yeah are we go
shortly fluid so we have our HTML here
so are you sure it's okay so um what we
have in here is we have free tips we
have found some CSS classes we have one
condition if is it open so this is
required so banned the use of visits the
page for the first time we get the info
if it keeps on the button it goes away
we also have a slot message and enter
button for to accept the cookies and or
to accept to be tracked and also to
denied how also defined some crops which
is pretty straightforward so for example
we also have a proposition for
in the end I can say okay I wanted to to
be displayed in the top on the bottom so
this is computed here with this method
so I'm calling this here in this class
and then it sets in cookie - manners and
the position so cookie - Maris button
for example and of course I have CSS for
that when the component is created in
the lifecycle I check if we have local
storage item and if it's true so if we
accepted it it gets hidden the component
and we have to the methods here so the
one is accept which sets the local
storage item GPI accepted - - otherwise
it's false and this is here just just to
return it and I also used some CSS crits
which is the latest shit as you yeah
everybody's talking with I tried for the
first time I struggled a little bit but
yeah I hope I get better for next
futures Meetup who knows and so we have
our component here what we will need
here now is to import it
cookie message
and also included here looking message
and also and if I have done everything
right the moment of truth
Hey okay we have our cookie warning
message Wow okay what I mentioned is we
can use now our props for example on
position so bottom and if i refresh now
it's on the bottom
and yes stuff like that so it's pretty
straightforward the interesting part is
coming I hope so so so we can I will
check the local storage here so it's
empty just from that pack 1 if we click
on accept obviously it gets written to
the local storage and the notification
is hidden and vice-versa so could hear
it and it's working so the important
thing is here that we want to say the
use okay um please accept the cookies
because we want to track how you use our
website so therefore we will use Google
Analytics so I will go oops
okay so we are here now a demo app and I
will use the NPM package view analytics
it has about 700 stars on github and the
maintain is very active and is pushing a
lot of commits so I can recommend it
it's just a Google Analytics API wrapper
so what we will do is in p.m. install
few and the tick's loop so elevate the
music again hopefully not this long
tulip tulip and then so okay edit
we have here a package.json now with few
analytics and we also would want to
import it so thank you item so no magic
here and normally we would just so how
should I do it so don't look at the
screen please
so normally we would use if you used to
in your initialize tip the plug-in I
created evaluate Google Analytics IT and
also the debug flag that we see okay
it's working and this year is the
important stuff because we've disabled
we can set okay please do not write any
cookies and we want to really disable
Google Analytics and this is you use it
with you analytics like this and if you
just copy and paste normal JavaScript
script file into your HTML file you have
a window property you can set to disable
it and yeah so but we want to have it
depending on if the user accepted or
denied it so the problem is here we'll
figure out yesterday evening so I'm
really happy that it's working I hope so
that you can't set this this flag here
during the runtime so you have to do it
when you initialize the package so my
little trick is that I get the status so
true or false of the local storage item
and depending on that so if he accepted
Google Analytics with our fancy cooking
message component or whatever you want
to call it we set it up normally and say
disable force which can be also you
don't have really have to do that
because it automatically set up
otherwise it wouldn't make sense and if
he said okay I want to denied with set
it to disabled true so we save this one
and I hope I didn't mess up something so
if we so the local storage is empty
so we click on accept' into a reload now
you see ok the Google Analytics plug-in
is some loading we have our debug
messages and if we check our cookies now
and refresh it we have our cookies
automatically set by Google ok works
fine but now we have a user who says
okay I'm totally paranoid and I don't
want to to track or to be tracked so he
comes again says ok I want to deny it
let me kick it again and now you see
from Google Analytics that yeah the use
has opted out of how tracking yeah the
cookie writing has failed we do not have
any cookies here and hopefully your GDP
are compliant and gone don't get sued
which is about 4% of the yearly even a
revenue of a company's so could be a lot
and yeah that's it so far so any
questions</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>