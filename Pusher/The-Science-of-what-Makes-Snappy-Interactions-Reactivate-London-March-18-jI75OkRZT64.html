<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Science of what Makes Snappy Interactions - Reactivate London - March 18 | Coder Coacher - Coaching Coders</title><meta content="The Science of what Makes Snappy Interactions - Reactivate London - March 18 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Pusher/">Pusher</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Science of what Makes Snappy Interactions - Reactivate London - March 18</b></h2><h5 class="post__date">2018-04-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jI75OkRZT64" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi my name is Monaco I have a hashtag
for this talk which is what purse and
only because I said I tweeted this on
Twitter and then some psycho on came
back to me like that's mine and he was
like can we do over it and I don't want
to die so please make it happen to me
please help me make this mine and not
some because otherwise Sam's going to
take it so performance why am i
interested in it so almost to this day a
year ago I was just wrapping up my gig
as a JavaScript engineer who does
JavaScript stuff and then heading out to
do a job with developer relations at
Google so I was writing web application
but I was in enterprise web application
and it was quite a heavy a lot of
JavaScript interesting engineering
problems to solve but I was never in the
situation where speed was a big issue
for business like just to say that like
if our site is kind of slow it didn't
need any matter because it was
enterprise application it was a clinical
part of the users and like use a heart
to use those application there was no
way they were abandoning it so I never
really considered myself for like even
though I wrote a front-end engine phone
and code I was like mmm I can't really
like very well front-end engineer
because you know if you go to web
developer relations at Google the
colleagues becomes like you know the
person who tweets like you know colorful
chart all the time or the person who
like they called the screen of whatever
the depth was that they were doing and
like you know stir what I mean I'm at
you or quite literally the person who
wrote a browser networking
high-performance puzzle networking so I
was like very intimidated when I joined
I almost like I don't know anything
about performance then he investigated
so warning if you are that kind of
engineers who cares about performance
and cares about milliseconds of how fast
a user get to it this might be that they
doesn't information
but hopefully there will be interesting
angle because I have a lot of drawings
so hopefully this is good for everybody
so speed right when we say speed and
internet is slow or the web is slow like
you know the website is slow many times
we are talking about speed of the actual
Internet what that means is that you
have a server and you have a client and
then the data travel through the pipe of
Internet and then that pipe may be wider
or narrower depending on your broadband
network and then that pipe might be
filled or not filled and the size and
the flow of the Internet that what's
happening in the pipe determines the
speed don't the Internet today we're not
talking about that because that's quite
that's out of from an engineer's hand we
were talking about speed in web
application so what does that mean well
first we have some kind of speed
component in the server like you know
how fast can you respond how fast is
your SQL query those kind of thing so it
always flows diary optimization putting
on CDN those are the speed that happens
on the server side and then another one
the second one is what happens when data
travel through the pipe from server to
client so those are like you know what
kind of request protocol you use and how
you do you deliver the asset and how are
you gonna split the code and then the
third one is what happens inside of
browser once the data hits the browser
so those are like how do you render
thanks what how do you handle event how
do you optimize the code so today I am
going to focus number two and three and
just skip over all the server-side stuff
because there's so many stuff on speed
and when we talk about those two stuff
there is a numbers that people keep
referencing worse or this power of 10
and this car this comes from a usability
engineering
pop published in 1993 but then the book
itself laugher and stirred data coming
from 1968 100 milliseconds is feels
instant so when something responds in
100 milliseconds that means oh this is
instant and this doesn't maybe this
isn't only for web application you can
be designing and I'm not trained to
getting system you know when at the
train ticket booth when somebody push or
do something if something happens in
hundred milliseconds that feels instant
and then the cells in millisecond once
again is that's the focused attention
span of a user so that's only time that
you have 100 percent attention from this
user and then beyond that you have 10
seconds to have a partial attention span
so this might be you know if this was
you're buying I don't know the train
ticket system and then the the the
machine is not responding to you my
check your phone but you still care
about what's happening on the machine
and then beyond 10 seconds you
completely lose it you just like give up
so those are the science of number
coming from 68 publishing 83 and when
you read about performance this number
gets referenced a lot and seems like
from my research only one place from 68
is the place that comes from of course
when we talk about our web application
performance we talk a lot about 16
milliseconds 60 frames per second where
animations are smooth and this doesn't
count into that so loading when let's
talk about what happens in that number
two and number three seconds right three
part right so each app loading you need
to load a data from server to client and
do something on the client within 10
seconds and hundred seconds oh sorry ten
thousand and thousand milliseconds span
of things and inside of the loading
there's like two parts to it so the
first part is getting data to the client
so what happens in between server
users computer right and this gets a
little confusing at the moment because
we we as industry is in transition or
particles so let's see it so if you are
using HTTP one point x one point one
most likely the way it works is that the
browser receives data and then look at
it an HTML okay okay okay I need these
like image and script and CSS
so then client and server does this
response and apply actions of like hey I
need this thing and I'm browser says
here's the thing and then you know you
get the status calls and everything the
modern browser open up up to six of
those response and back connections
power domain so which means if you have
I don't know 100 images to load then
only six can happen at a time and when
somebody requests it that connection has
to wait for the spawns to come back
otherwise they can't move to next one
that means there is a performance
optimization technique like image
displayed where you know instead of
loading tiny hundred phones for icons
and you know making hundred requests
let's just make it in one and then just
like number by CSS to do it save those
or domain sharding so you know you you
can only open six connections but domain
so like you know have different domain
or JS continuation instead of having
hundred modules on the browser let's
concatenate into you know one or two and
then save that loading part of the
budget however if you are using HTTP to
which it's newer version of a protocol
then this basis it's broken like
completely different so HTTP to only
opens tcp/ip connection between client
and one domain part one per domain so
that means you only have one tube
between you and the domain or the server
and then inside of that flows age chunk
of data so it's doing
like mixing you the quest I need this
thing and then I need that thing and I
need this thing and then while server
gets your request server also the place
back here here's a little bit of a
here's a little bit of oh here's a
little bit of yellow yellow yellow
here's a little bit of blue coming in
here is he a little ya again or like
green green so like its data is coming
in stream and data is coming in more
multiplexing and this also gives this
ability to do something like so push so
let's say you are serving HTML if you
wrote a server code and if you're
serving HTML you damn sure know what
kind of form that this site is going to
use so sometimes you can use like oh you
requested me HTML I for sure know that
it's in order to lend with this HTML you
need this font so you can kind of like
send the data before the liquid comes in
and that's called pÃªche however this
thing requires HTTPS so if you were not
so HTTP to spec itself does not say you
have to use HTTPS but no other browser
implements HTTP - without HTTPS another
way you can get to get the data faster
to user it's something like
serviceworker where the data that
previously requested are cached in users
computer so when user makes a request it
asks for cash like it's this data so
exist in your cache then if it is you
don't even need make a network call and
then you just get the data from the
cache so that makes it faster again
serviceworker requires HTTPS so here are
the two minutes of why HTTP is required
on those things and it did not make
sense to me until I learned what this
thing is and warning warning drawing so
HTTP the not secure version the regular
version it's kind of like sending
postcards like you sign you know a nice
letter to Ellie and then send it from
New York to London
like postman can lead my postcard
problem it's just this data is falling
in between flat right which means that
like somebody who is not even you know
trying to do bad thing can leave those
data so this is called man-in-the-middle
attack where somebody is eavesdropping
and then maybe modifying leaves you're
pinging collecting the data or modifying
the data to do a bad thing on your
computer this is not something you want
to do when solver have a plant power to
push some data without asked like you
requesting or sir we have a power to
send the code that lives on your cache
so this is why HTTP is required for many
of the modern modern API so I guess and
in the powerful api's so what's the
difference when you move to HTTP HTTPS
it's weird to explain but so the people
who can still see that data is flowing
in between me and Ellie right I they can
see I sent something to her or seasoned
something to me however immediately or
the only one who can read those data no
other people can see what's inside of
the data that's flying and on top of I
get this certificate where this is
definitely from me or this is definitely
from her so I have a peace of mind that
assurance that like okay this data it's
not being read by somebody else and not
be modified by somebody else which it's
nice if you think about those powerful
api's that require its DDPs
like you have a peace of mind of like
okay this is actually kind of important
and security information that I would
like to keep it to myself or you know
somebody who I asked for it and not
anybody else
so now it was two minutes on HTTPS and
the previous wall was how to send the
data another one is getting data on the
screen like what happens once you have
all of the code coming into your browser
how do we draw a pixel on the screen
right so imagine you are going to make
this basic basic website
just shows hello wold and big bold text
in blue right first as with anything the
browser requests HTML gets HTML back and
then say ok ok so you know ty okay you
have a hitter okay I found CSS so let's
go get CSS so browser go get CSS and
then go Ali like ok ok parses through
build the CSS oh yeah and then ok done I
know what the CSS is needed for this
page so move on to next line on HTML and
they were like oh I found JavaScript I'm
gonna get JavaScript again so you
download the JavaScript go through it
and then see something like oh he really
said timeout okay I'm gonna wait for 10
seconds until it's done I'm not going
back to HTML and then once that's done
then it goes back to HTML again see down
for oh hello world and then what you see
on the front end is like okay
HTML requested that 10 seconds thing is
happening browser is parsing through
data and so many seconds later you get
hollow world but it would be better if
you have something like ok request goes
in immediately
hello comes back so that you have that
visible feedback of like something is
happening and then the world comes back
after so that's the the part we were
talking about the list bones out sorry
the the load time where when somebody
says like you know you have to load
something into the screen so that you
don't lose users backed by these science
means that it doesn't have to be loading
and tire up data to the client within a
second but you want to think about your
usability and your UI so that some kind
of visual indication that your app is
doing something goes to the user that so
that user doesn't completely give up on
your app in order to do so there is like
a few things that I throw into the side
and there's like not much much more
extensive
posted by my many of my colleagues on
the online so I would highly highly
recommend googling one thing you can do
is putting a single tributes on your
script tag which means you know it's
telling browsers like hey this about
JavaScript it's not really critical to
block the lending but I will need it
later so can you just download it when
you you know have a time weasel it
synchronously you another one is link
rel preload so this one is basically
hinting to the browser seeing like going
through the header and then and the
header or say hey I will need this thing
soon so can you please download it now
and then once browser goes down and then
finds the main jeaious then it those the
JavaScript data into there so those are
the two things and then like the link
the whole part have a few different
families like you know prefetch and all
of it and there's a couple mini nuance
to it so if you're curious Heidi
becoming googling another part is
rendering so when we talk about lending
we talked a lot about animation how
Sooners can we have 60 frames per second
or not I'm not going to talk about that
today there is so many CSS optimizations
and how you should do animations article
I want to talk about less bones because
it directly connects to the science
number that we talked about which is 100
milliseconds where feels instant so this
is still what's happening inside of the
browser after you know the code you have
some curl like this probably you have
some kind of button that says cook me
and then when user clicks on it inside
of the browser what's happening is that
you have some kind of event hunger in
orange and then that event hunger goes
through your application mosaics checks
the stay you know what's happening in
there and then you probably call a
calendar function to do something right
whether you send the user to some other
pages or you you know send a
confirmation anything oh it doesn't have
to be lender maybe like a moved up page
but you do something right so this thing
needs to happen within hundred
milliseconds according to the science of
user interaction in order for user to
see
instant in fact this only have a 15
milliseconds budget you don't have a
full-on 100 milliseconds because user
clicks on something while you are doing
some other JavaScript like your long
JavaScript so think about this one block
as a 15 milliseconds what if you user
you are running I don't know some kind
of data processing or something and you
were lining 200 milliseconds job user
clicks on it in the beginning of 200
milliseconds job then the user have to
wait because this green block where the
click handler executes it has to wait
until all ad running jobs are done and
then your click handler gets executed so
the thinking is that if all of the
JavaScript job you do or within 50
milliseconds that means even if user
clicks on it on the beginning of the job
that's totally unrelated to the click
handler you can still queue up the quick
wanderer
Kulik Kandra a JavaScript and end up
under 100 milliseconds which means you
are assuring that the users are getting
a immediate feedback whoa feels like
they are getting immediate feedback so
in order for do this
if you have a long task when you look at
a trace on the dev tools you can think
about how you can divide each tasks and
what can be delayed and what can be
executed with what needs to be executed
immediately but also have a kind of like
a handy methods for all requests I don't
go back where it's cold when the queue
for the JavaScript is like empty and
they're like I'm ready to take on your
job and this one gets cold and then
another one is requestanimationframe
where every animation frame it gets cold
every check you get it so you have that
control to task based on how you
structure your code and this is I only
have this very simple slide because it's
highly dependent on
what kind of application you're making
and what kind of logic that you're
putting into your application and it's
kind of hard to show generalize like
this is the best practice code so leave
it depend on what I do but then you
might be saying like what about
JavaScript play making fast JavaScript
code is a thing like you don't want to
write a for eat you are supposed to
write like folder by hand every time
because that's faster
I definitely got this maybe like three
years ago at a job interview we were
like we were talking about like
JavaScript and I was interviewing for
JavaScript developer and they were like
checking like how much how well jobs you
know JavaScript as I got each I was just
hundred it myself all the time but
that's not the case but at least for the
clone be a team which is a JavaScript
engine for Chrome it's putting a lot of
effort into making idiomatic JavaScript
faster if not just same amount so you
should write in your six like it is true
it used to be very slow to use class on
yes sir classes on the browser or used
to be slow to do for each but if it's
slow now they have a focus on making
idiomatic JavaScript as fast as the the
old way of doing it so if you find some
kind of bottleneck you should definitely
tweet at them or tell me and that's on
their mind and you should use it you
should move on to writing you know the
modern JavaScript and you shouldn't be
stuck on a older one or the hard to
parse code just because the browser
engines are happened to be faster a few
years ago so there's many many many more
things about performance if you have
something that is confusing or it
doesn't have to be rendering related if
you have any questions I am actually the
person behind chromium deft's
Twitter I'm the person who sends tweets
every Friday was like here's what we've
been doing
I occasionally share things that happen
with the community I'd love to know your
building and what you have a question of
so that I can better prepare for those
things and thank you very much for your
attention</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>