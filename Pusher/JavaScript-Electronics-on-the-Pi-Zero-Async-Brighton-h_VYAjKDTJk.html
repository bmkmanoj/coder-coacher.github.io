<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JavaScript Electronics on the Pi Zero - Async Brighton | Coder Coacher - Coaching Coders</title><meta content="JavaScript Electronics on the Pi Zero - Async Brighton - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Pusher/">Pusher</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JavaScript Electronics on the Pi Zero - Async Brighton</b></h2><h5 class="post__date">2016-08-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/h_VYAjKDTJk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">stuff that sauce the interwebs is my
workshop series about IOT and originally
it was with an Arduino and a Wi-Fi
shield but now I do it with the
raspberry PI's and Wi-Fi obviously a
little Raspberry Pi is a great
prototyping platform for Internet of
Things things I call it stuff that
towards the interwebs but this is where
I talk about my work fireworks so I'm
still talking about Bioware its pixel
higher is the biggest project I've ever
done its massive huge screen wide it's
like 20 meters why is like crazy white
and I project in computer generated
fireworks onto this screen and each one
is triggered by humans that you can see
there they're touching these orbs of
light and when you wave your hand in
front of it it makes poets who've seen
it it was in bright in a couple of times
yeah after you seen it brilliant I do it
with lasers now lasers are very
recurring theme in my work just lasers
but pixel Paris is primarily a software
project there's a bit of hardware like
you can see these infrared lights behind
the screen they're completely invisible
to your eyes but my infrared cameras can
see it Fe I've got some footage here
which is pretty cool so this is what my
infrared cameras see and that's how the
motion detection works the apart from
that there isn't really much hardware a
couple years ago I made a project called
laser light since and this is it was the
opening to brighten digital festival and
this was probably the most sophisticated
electronics Pro projects I've done so
essentially in the last few years I've
just been doing less software and more
hardware well I suppose even when you're
doing stuff with electronics it's still
very much still very much like
programming as well as always a very
very closely knit programming side to
all of these electronics things know why
we haven't got sound bass not important
luna charles is another really heavy
electronics project I could talk about
this for ages and fat's might just get
my phone out so I can keep an eye on the
time because I have literally no idea
how
I'm gonna talk today so you know if you
want to just shout our questions or
whatever please do because it's totally
loose like this talk is completely loose
shouldn't said that at the beginning
well that's fine you'll get you'll
figure it out yourself over before TMC
this project is based around my
obsession with the 1979 arcade game
lunar lander this is actually my own
lunar lander cabinet I bought it on eBay
it's in LA and I can't get it it's just
it's just sat in my friends office it's
in his canteen always staff play it but
apparently they still enjoy it that's
fine I'm never gonna get it it's fine
this is what it looks like it's a
beautiful vector rendered display and I
made a perfect recreation of that in
JavaScript and you can play it yourself
at moon land assembly I don't know you
wanna know I'm talking now do it do it
later we'll do it in the break and then
we can have a look and you can play this
game and try and land the ship and I
thought would it be good to spy on
everyone and play in the game and leave
little trails when they're moving around
and it made art so I accidentally did an
art and then I thought wouldn't it be
even better to make a big physical
version of this so I bought an arcade
cabinet flat pack just like IKEA and I
did so much this was like the first time
I'd really done much of this sort of
building stuff and I was so excited that
I did metal work there was sparks and
everything I learned about servo motors
because not only dare to build the
arcade machine I also wanted to build
this massive drawing machine so with the
help of an engineer friend
I built this hanging clutter all based
on Arduino now that now the sound comes
out I can't get out of my little crappy
speakers but you can see that the
hanging plotter here has got two motors
the top two corners and they're winds in
and out wires and it moves the hanging
pinhole
to draw any shape you want really it's
quite a sophisticated system so as you
play the game the arcade game the
drawing machine actually plots your path
that you take in the game in real life
and you can see it running there but I
haven't got time to dwell on this I've
gotta move on to Laser arcade so I told
you about that I like lasers and this
was right after I just learnt to do
lasers with pixel pirates and I thought
everything has to have lasers and so I
recreated an old classic shooting
gallery
but with laser projected target and nerf
gun darts right so you actually would
fire a real nerf gun bullets laser
projected targets and this was a crazy
project because it used microphones to
to pick up the sound of where the bullet
hit the wall and there are says there
were six microphones and it measured the
tiny differences in the amount of time
it took to reach it what each one you
can see there the gap there between it
and some really complex math which I
could talk about for ages but I won't
I'm just I've got no time that's all
I've got so much to get through I'm I'm
doing a new version of Laser arcade it's
going to be in I'm gonna be doing it in
the digital festival definitely it bring
your own Beamer the you know the
projection events at the Corn Exchange I
might also be doing the opening event of
the digital festival I'm not sure yet
but instead of using nerf gun darts
because frankly I'm sick of picking up
nerf gun dark with it so I've got myself
a couple of these Nintendo zappers from
the NES whoo and play duck hunt yeah you
know really cool I could talk about
these for ages but I won't its but all
you need to know is that I ripped the
insides out of one of them and made my
own custom circuit board you can see it
there that's the design and then it was
all milled out on a CNC machine I'm
redesigning that at the moment but
essentially I want it to be a real laser
gun with real lasers in it but the thing
with lasers is you can't really see the
laser beam unless there's loads of smoke
so I could just fill the room with smoke
but
that's a bit boring so instead well
first of all I covered it in in
neopixels and you can see the laser beam
coming out there but you wouldn't be
able to see that laser beam and at all
unless there was a bit of smoke in the
room I just happened to make some smoke
in the room but would it be better if
the smokes coming out of the gun so I
basically spent altogether too much time
trying to figure out how to fit an
e-cigarette inside inside the gun
obviously blowing out nicotine free
vaping fluid is you don't want to be
giving everyone a little nicotine buzz
while they're doing it so but it's not
enough to have an e-cigarette in there
because if you just power up an
e-cigarette like the the vape smoke
doesn't come out you have to physically
push it out with an air pump right so I
managed to find not only is really tiny
e-cigarette but also a tiny air pump as
well that's blowing through the
e-cigarette but that's not enough to
really drive out the smoke it just sort
of blows it out of these cigarette and
it just sort of lingers there so I also
had to find a tiny teeny little fan
which is also and then I had to fit it
all inside this gun which is quite small
anyway this is a work in progress this
was this morning so that's kind of where
I'm at but you can see with the smoke
the laser looks really cool isn't it and
I'm sort of finally thinking because up
to this point I've been this is never
gonna work I've bought so many e
cigarettes and fans and pumps and it's
never gonna work and I'm just wasting
all my time and money and then this
morning I was like oh yeah that could
work so that's kind of defines my
process anyway I can relax now because
we're back to the subject of my talk I
just get so paranoid everyone's like
I'll stop talking about your projects
just get to the raspberry pie stuff okay
raspberry pie so yeah we talked a little
bit about it is such a wonderful project
and and it's nice that there's a product
that is a massive success well they sold
like I think it's 8 million now they've
sort of eight million raspberry pies
that it's the best-selling British
computer ever
which is fantastic but most most
brilliantly you know the thing that I
really love is it's not some corporation
making tons of money out of it you know
it's it's a charitable foundation they
exist solely to get more computers in
the hands of kids to learn to code you
know that is great almost accidentally
they've started this whole other
community it's at multiple communities
you know artists engineers installation
people like museum people or whatever
hobbyists makers you know all of these
different people have started to use
raspberry pies or musicians you know
there's any number of things that you
can do with it and although I've been
working with them for quite a while I've
pretty much only been doing electronics
but you can do loads of other things if
any of see you know I've sort of covered
them a little bit so I love raspberry
pie and and but I always up till
recently preferred Arduino for small
electronics projects
I guess Arduino is they're you know
they're quite expensive but actually the
parts are very cheap and it's and you
can get clones as well you get Arduino
clones very very cheaply and actually
because it's all open source hardware
you can sort of build your own Arduino
even cheaper right so if you're
designing a product for market you can
basically recreate Arduino make your own
custom version of it with all your
connectors and your containers that you
need for your product and that you know
that's great
and with Raspberry Pi you know you do
get a full Linux computer there's
certain amount of overhead with that
whereas you you wouldn't necessarily
want like a smart light or something
they'd have to boot up before you know
before it works right so Arduino is
really good for those sort of things
Bard we know isn't necessarily very good
at Internet
all right it's it's OK at it but it's
not very good at pausing text you know
you need extra hardware if you once
there wants you use secure connections
and stuff like that so it's getting
better all the time
both see if you work with Raspberry Pi
it's it's just got glossed over all of
those problems I
brilliantly I mean obviously at the cost
of having a Linux operating system but
that's fine you know because you get so
many other benefits possible that's plus
of course you can also program it in
JavaScript which if you know it already
it's kind of cool so yeah the PI zero I
mean this is where things got really
real right because the Raspberry Pi was
twenty quid or something like this like
this is like three pounds fifty you know
it's like it's so ridiculous so even
once you've bought the SD card and the
power supply and all the cable the Wi-Fi
dongle it's still probably cheaper than
Arduino right so without any Wi-Fi so
this is really revolutionary of course
you can't get one for love nor money
right but no stock skin a bit easier now
but yeah unbelievable and you sort of
think how on earth are they made a whole
computer that cheap I mean they and
still make a profit well the answer is I
don't think they are making a profit
they've done it literally it costs again
just to get more computers in kids hands
and they've brought out the Raspberry Pi
three now I've got one over there it's
like the same sort of form factor as
this but it's also got swai Phi and
Bluetooth built in and they're like
twenty five twenty eight quid something
like that so they're making loads of
money on Raspberry Pi twos and threes
and so they don't necessarily have to
worry so much about making money on
these again isn't it wonderful that it's
a charitable foundation that has totally
different motivations than corporation I
find that really refreshing so yeah what
have we got here well I mean I suppose I
don't really I know all the usual
computer stuff right it's got this this
port there is to plug the power supply
in here's a USB port obviously it's tiny
right so if you want to plug in actually
a actual USB stuff you need an adapter
it's got a mini HDMI so if you want to
plug it into a monitor you need in it
and it doesn't you can you can either
get a mini HDMI cable or you get an
adapter you know they've obviously made
compromises to make it so small SD card
slot there
and the new ones this is an old one but
the new wonder if you can see along the
top there's a little white connector at
the top that's for a camera so the
Raspberry Pi has a PI camera with it and
all the other raspberry PI's have those
PI camera slots there this is a sort of
slightly smaller one but you can get a
different cable and plug in a camera
into this so brilliant the new model
zero but I don't really care about any
of that stuff I don't really need the
USB particularly or HDMI I'm not
plugging in a key but I'm not plugging
in a mouse all I care about is this the
GPIO header and it's a two two rows of
pins
I think there's 40 of them and these are
well the GPIO pins right that just
stands for a general purpose input
output right it sounds complicated but
all it is is something that you can
connect bits of electronics to and I
don't know about you but I can't
remember the last time a computer had
something like this since maybe the BBC
micro right at school you could plug in
robots and motors and electronics into
the BBC micro and since then it hasn't
been that easy to do that right so I
think it's great and they sort of I
don't even think that it's that
important to Raspberry Pi I think they
probably wanted to do it because they
want it to be like the BBC micro but I
think most of most of the educational
resources aren't necessarily around the
electronics but of course it's a
wonderful thing to be able to program
something and have something physical
happen I think that's a huge part of the
appeal of the Raspberry Pi you can see
the GPIO s there oh you don't have to
worry too much about them but I guess I
could just give you a very quick lesson
in electronics in fact I'm going to have
to do that but yeah before I do that
most of these pins some of them have got
special functions but most of them can
either be set to an input or an output
who's ever done any Arduino before a
couple of your half of you I guess all
right so those of you have done Arduino
you know you can set a pin
as an input or an output if it's an
output you can attach an LED or motor or
something to it and you can either put
electricity into that thing or not put
electricity through it right and you can
do that with code yeah
and you could also have it as an input
so you can have either electricity going
into it or no electricity going into it
and you can read that the state of that
pin in code so that way you can have
switches and buttons and stuff later so
you got inputs and outputs oh do I have
time to explain electronics yeah why not
right so you'd have the battery at the
bottom that's which way around is it our
day even though that doesn't matter
that's a sort of battery symbol I can
never cover those in and you'd have like
in those days where my day of my goddamn
old you would you would have actual
filament bulb right so you've got like
plus and minus I think that's the right
label and so this is really what happens
like it's crazy what actually happens
with electronics and electricity but we
all believe this lie which serves our
purposes and and is a perfectly adequate
model for 99.9% of all the electronics
you want to do and that model is that
electricity comes out of the plus side
goes round the circuit through this
whatever it is makes it light up and
then goes into the minus side so you can
think of it like a plumbing system you
can think of it like water taps right so
this could be your mains and I don't
know what would that be I don't know a
mil or something that the waters pumped
around this is a crap analogy and it
goes it goes out into the drain right so
that's that's a basic circuit but what's
that got to do with Arduino well or what
am i teaching a Raspberry Pi same same
stuff right it's all GPIO s it's all of
these input and output pins they either
put out or can read in up to 3.3 volt
if you put five volts into it you'll
damage your Raspberry Pi potentially
which is really dangerous right because
you see there's two five volt power pins
up there all right so you just plug one
of those into any one of the other pins
you've broken your Raspberry Pi right so
in that way a raspberry PI's are a
little bit fragile Arduino is generally
just run on five volts throughout so
it's much safer so that yeah just
thought I probably better give you that
warning so how do you use GPIO pins well
what you can do is on this side instead
of plus you can actually plug in a wire
into a pin I'm just going to call it P I
don't know any one of those pins take a
wire out of that put it into a an LED
which is a light emitting diode does
everyone know about those some of you
probably don't that's okay and then that
goes to ground right so what I've got is
an Arduino re-pipe in going out there
into an LED and to ground now with code
I can set this pin to be an output and
also with code I can either set this to
put out 3.3 volts or I can set it to put
out nothing so obviously if I put if it
puts out 3.3 volts then the LED lights
up and if I don't put three but if I
make it if I turn it off then the LED
turns off and I can do that it's highly
with code in this case I can do it a
JavaScript Oh what else do I have to say
about that okay so what you're actually
doing with the pin rather than sort of
turning it on and off you're actually
saying you're putting either voltage in
there or you're putting it to ground
right so turning it off is the same as
putting it to ground it means that it's
ground on both sides and let there's no
electricity going anywhere there's
nothing happening so that's sometimes
known as you know you could consider it
to be on or off but often it's referred
to as high and low right so if it's
higher than you've got a voltage coming
out of it if it's low then it's gone to
ground I designed these base boards
with myleik on it very cool I wonder if
there's a picture there yeah you can see
it you can kind of see it there and the
Raspberry Pi sits on one side on these
little spaces I've also got a little key
of like lay a little label for all the
pins and on the right hand side we got
this thing called a breadboard he's he's
ever used a breadboard before yeah so
for those of you don't know it's a way
to make circuits without having students
do any soldering so these these holes
are connected in a certain way so if you
plug one wire into one end of that row
and another wire into the other end of
the row then those two things are
connected right so it's a very easy way
to set up just prototypes electronic
circuits so with the kit I just give you
a ton of like LEDs those the LEDs
they're loads of other components
resistors and stuff as a button
and yeah and that's basically how we we
build these prototype circuits so in
this case with code
I'm turning those LEDs on and off when
I'm reading the the signal that's coming
from that button into another pin so
I've got one pin for the button that's
either going high or low when it's
pressed and each one of those LEDs is
connected to another pin and with code
I'm telling them to switch on and off
you notice that they're fading up now as
a whole other whole other level of
conversation those kind of inputs and
outputs from a single pin are probably
the most simplest form of electronics
and you can do some pretty cool stuff
with that but there are wonderful array
of other types of components which you
can also interface with so you see here
we've got several I mean this is all
part of the kids why don't I don't mean
to sound like an advert for my workshop
that I can't help counsel it's it's how
I most of the stuff I do doesn't really
earn any money
so the workshops are the one thing that
that subsidizes all my laser fun so so
you can see here there's a fuse
different kind of components there's an
8 by 8 LED matrix on fire one of those
up
later and a 7-segment displays these
eight characters and each character is
seven segments and so that both of those
things are controlled by the same chip
there's actually a chip on that circuit
board underneath the display and so
rather than interfacing with all of
those 64 pixels directly from my odd of
my Raspberry Pi click are still cooling
in our Drina it's just embarrassing
I haven't even been using I suppose I
have been using an Arduino this week
that's my excuse there's a chip on that
board on that module and that LED module
so rather than controlling every single
LED individually I could just interface
with that chip through a couple of wise
three wires in this case I can send data
down those wires to tell the chip that's
managing that display what to do so
rather than using up all your pins on
all of those LEDs there's ways to
interface with multiple LEDs with just
using a few connections and there's a
few different data protocols that you'll
start to become familiar with too
this one here is an OLED display so
that's really cool again uses a simple
data protocol to to send data back and
forth they're beautiful though so let's
look again I've got one here you can
have a look out later 128 by 64 pixels I
think and they're they're less than an
inch wide so they're really high
resolution and really fun yes probably
all better but then we come to neopixels
which are my favourites thing ever do
you remember the laser light sense from
20 minutes ago the laser light cents are
completely made out of neopixels I think
there's about 800 in a single laser
light synth but this is a neopixel ring
you can buy those in quarters from
Adafruit or any of the UK suppliers and
they're really cool so these are
massively bright LEDs but again they're
they're just really clever light if you
have a look at one of these little LEDs
see that little black dots in there that
is a chip right so there's not only a
chip in there but there's also three
LEDs there's red green and blue
so each one of these LEDs can be any
color they you want which is cool but
not only that they are strung together
they're daisy chained together there's
one line of data that goes into the
first pixel and it goes out of the first
pixel and into the second pixel just one
line of data and we're sending pulses of
data through the first one and onto the
second one so you can control you know
maybe a hundred neopixels just from one
wire that's kind of insane minded right
so you've got decide how many neopixels
you've got first of neopixel isn't their
real name by the way
that is what Adafruit decided to call
them and everyone else has picked up on
it thank goodness for that I was gonna
swear them I've gotta wash my language
today sorry Jay thank you thank for that
because their real name is ws2812 B well
that's the name of the driver chip
anyway so yeah anyway what was the
saying yes sir how I'm gonna have to
really get into this now so you send a
bunch of data down the data line one
block data for every pixel that you've
got yeah so the first pixel just gets
the first chunk of that data and it sets
itself to that color
but then when it sends the data to the
next pixel it just take that bit away
alright so the next pixel has or missing
the first bit but it gets the second
onwards and then it deals with that bit
of data then it takes that one away and
sends it along so that's how they work
they're really clever and I'll see you
that's not great they're a little bit of
fragile that data line is a bit fragile
you have to be a bit careful plus also
they draw tons of currents how are they
do they draw 60 milli watts milliamps
each which is a very much really except
when you've got 800 of them that's like
40 amps
and 40 amps when you're using 40 amps
you need wire that's maybe five mils in
diameter right so you say it's very
difficult to power them anyway sorry I
could talk about neopixels or I've got
some here you can have a look at them
later there they're not on at the moment
save that for later now very near
anything I mean I don't believe that
there's any any limit right but
obviously the longer your strip is the
longer it takes to send all the data
down right so your frame rate will go
down significantly plus also the data
does deteriorate as it goes through the
strip as well as the resistance
increases through the strip so I mean
really I would probably win it to what
am i doing I'm actually I'm just
thinking no I'm I'm you know rebo the
company Reba I'm doing a hack day with
them and they want to put neopixels all
around their windows and I think we're
talking about what is it it's like six
meters of 74 per meters there's about
600 so we're gonna try putting 600 on a
single line I'll see how that works
but in theory it's possible you might
just get a few issues of data and it
might slow your framerate down with
laser light since I split it up into
five tracks
so there's actually I think there's nine
rows of pixels this is like four sets of
two and one set of one so I think
there's never more than I'm just trying
to think that's probably like it's
probably about 100 per line something
like that 80 100 per line so no more
than maybe 160 I think in that project
and so so yeah the team D is really good
some things are better at controlling
near pixels than other things but
because it's using DMA it doesn't hold
up the you know it doesn't block the
code right obviously if I was doing this
with a Raspberry Pi especially in
JavaScript it can get very slow because
it's all blocking code although we'll
come to this later but usually the the
libraries that you use in node.js for
controlling the electronics they
actually wrap C live which is a wrapped
C code which is its own special set of
problems but at least it's optimized
anyway I'm going to come back to cool
components later first of all I have to
talk a bit about some of the challenges
I don't know if it's changing or as some
of the challenges with setting up a
Raspberry Pi not only with nodejs but
specifically with node.js for doing
hardware stuff because you can see I'm
running these computers headless in
other words I'm not I haven't got any
monitors there's no keyboards no mouse
it's a headless Linux computer so your
first challenge is how do you do
anything with it so you get an SD card
and you can write the raspbian linux
disk image to it so Raspberry Pi
maintained a Linux distribution and you
can just literally download a disk image
write it onto the SD card stick it in
your Raspberry Pi and it will boot up
but how do you then connect that if
you've got no keyboard well with one of
the older raspberry PI's it was
relatively easy because they all have
Ethernet on so you just plug in an
Ethernet cable and then you'll see it on
your network and then you can connect to
it through SSH so if any of you are new
to Linux or a server admin I mean this
is a way basically to over the network
access your computer or your Raspberry
Pi
through a command-line interface right
so it's as though you're typing in
terminal on your computer but it's going
over the network to another computer as
long as you can see that Raspberry Pi on
the network then you can SSH into it cuz
it's turned on by default on the disk
image that's cool
if you haven't got even net which we
don't on a Raspberry Pi zero then it's a
bit more challenging well there's
several I mean there's so many options
right you can get
a USB to Ethernet adapter that's one
easy way of doing it you can also get a
serial interface I've got one here a
serial interface and plug it into some
of the pins some of the pins on there
and then you can access it through USB
so you can connect over USB enter your
serial ports to the Raspberry Pi again
you can you can access a command line on
the Raspberry Pi over the serial ports
or you can there's someone's figured out
a clever way of just plugging in the USB
cable between this and your computer and
and connecting through it through serial
that way once you've connected to your
Raspberry Pi once then you can set up
the Wi-Fi on the Raspberry Pi and so
then you just plug in a Wi-Fi dongle you
can see I've got some here there's some
pretty small ones and you see I've just
got a little adapter there to make it go
from normal to microUSB once it is on
the Wi-Fi then you never have to worry
about it ever again right because you
can just SSH over the Wi-Fi any
questions no so that's that's basically
once you're in you're in
you can Muck command line you can do the
updates and everything yeah obviously if
you're new to linux that's pretty scary
but I tell you I've got and I've got
this really cool resource on the
internet which is like teaching you
command-line Linux in a sort of
interactive web page it's really fun so
if you're new to Linux I should probably
get some links together but if I forget
hit me on Twitter and I'll send you a
link but that's really helpful but is I
mean I've been doing Linux on and off
for a long time I've never really learnt
but just a few years ago I started doing
server admin and I'm my web server and I
was terrible at it for years and years
I'm still quite terrible at it but I
guess just doing it more and more you
start to become a bit familiar around it
and I'm still a little bit sort of lost
in the dark I suppose any of you doing
nodejs without too much sis admin
experience knows what I'm saying right
but it does get a bit easier retirement
and I think that that tutorial I
mentioned does really help ok no JSON
and Raspberry Pi how do you install it
well there's a path there's a package
manager for Linux the default one which
is apt-get right so you can install
nodejs just the Linux e-way but don't do
that right because the the nodejs where
you can do that but it's like ten point
twenty nine or something it's not a
particularly new version of node to
who's done node.js before pretty most of
you most of you not all of you there's a
lot of libraries on the internet for
working with electronics on the
Raspberry Pi in nodejs but they tend to
be someone that's just got a bit of
hardware working well enough for them
and published it and they're not really
thought too much about it from then on
so I've dug around a bit and found some
that are good some that are terrible and
some of them if not most of them don't
work on all versions of nodejs because
they often wrap C libraries or C++
libraries or C++ code and every time a
new version of node came out there was a
new way to wrap C libraries right a new
way to write those C code to make it
work with your new version of node now
at some point someone decided decided
this is a problem and so they invented a
new way to wrap C libraries with this
sort of I don't even know what it is the
sort of system called nan right LAN
what's it stand for I've gone I always
forget nan is like the worst name ever
for anything right there's not a number
or whatever those guys none native
abstraction something I think so if you
do if you if you write a C library using
this magic system then it works on all
versions of node but of course most of
the libraries haven't done that so it's
frustrating but I find if I'm working
with point zero point twelve point
something usually works or the common
ones work because I think a lot of
people working on raspberry
I haven't updated node for a while but
that's one of the real frustrating
things and I've slowly been figuring out
how to update C libraries to work with
none yes I mean I'm reasonably
experienced and comfortable with C++ but
it's still massive pain anyway enough
talking and we've gone on quite a bit
haven't we so is it should you want a
quick demo a quick demo or a quick break
and then more demos what you want okay
right so let's just increase the size of
this so you can see I'm there on my
terminal and I'm currently SSH into this
Raspberry Pi yeah so you can see I you
know I can do all the usual things have
a look at the file system this is the
file this is all the preset examples
from from my workshop I'm just going to
bring that up a bit
it's that helpful this first of all just
make well what have I got this just
blinking LED right so anyone working
with electronics will know that blinking
and LED is the hello world of
electronics right so here we are using
GPIO on/off right so in this case I'm
using a node module called
on/off and that access that gives you an
input and output access to the pins so
I'm setting one of these GPIO pins
number 21 to be an output then I'm just
doing this old-fashioned settings for
which you shouldn't really do this is
like this this example is specifically
to show you how you do Arduino style
coding right which always has an update
loop which isn't necessarily the right
way but it's fine and then what I'm
doing is writing to that LED one -
whatever the current value is so that's
basically going from zero to one and
that's really all the code there is
except some nice clean up stuff so then
I can just run that by typing node and
hopefully I don't know if the pins are
set up right on that we should have a
blinking light right
yeah yeah there is a button on that
isn't this really technical and you
don't necessarily need to know this
right away but on off axis is the the
Linux drivers for the GPIO which is
obviously everything in Linux is a
filesystem right so that's just doing
faxes but this GPIO is doing it in
hardware and because of that it can do
fading and you see that fading up and
down this let's just get to the good one
come on this right so now I basically
got fading on multiple LEDs in a chaser
yeah so that's the sort of thing you can
do and we can take a closer look at some
of that code it's like a seven segment
display has a chip on it running it
driving it it's the wrong way it's too
bright and I actually converted the
Arduino library into node.js for running
this chip so now you can do fun stuff
like just put in a counter and of course
the wonderful thing about javascript is
that things like parsing strings find
data for all the letters in the alphabet
which is actually impossible with seven
segments but you can see there I've done
a reasonable job you can still sort of
read it which is which is quite amusing
but of course we are connected to the
Internet so you can do stuff like read
api's right so in this example I haven't
tried it for a while but this in theory
this should find out where we are
throwing a JIT through a geo IP server
and then it should go to another server
that tells us when the next part of the
ISS is going to go over and so you see
that counting now lost the numbers oh
it's going to happen in 53 minutes
scale isn't it's never been it's never
been dark when I've run this run this
software has never actually been done so
you can see we're getting some really
fun stuff with the internet but the
thing about node that's really special
and makes it a lot easier in some ways
than Audrina and C++ is that it's
obviously ton of there's a ton of web
server libraries right it's really easy
to make a web server so what I can do is
actually run do I need to do I'm not
sure let's just do anyway one up
if in doubt give it permissions so in
this case I've actually set up a web
server and if you're on my network my
network is just called subs by the way
so if you want to go to my network you
can the Wi-Fi is called Seb's
the password is internet with the
capital I and if you manage to get on
that then you should be able to access
the web server on my Raspberry Pi what's
it called our PI - leads our PI - leads
dot local okay so this this one actually
connects to a different web socket
server somewhere else so in this case I
go to my server geez I don't know which
ones try that oh okay I don't know for
the clients connected to or not but can
you just push the button on that oh
there you go you see what happened right
so actually when I push this button stop
for a moment Ali when I pushed that then
that light should go on - yeah so um
this is connecting to my WebSocket
server that's hosted somewhere else and
I can have a direct connection then
between the raspberry pi and any browser
right which is pretty fun and vice versa
right our PI lights okay so this is
quite a fun one so this isn't really
part of the workshop it's something I've
been working on which is like remote
lights and at home I've got a bank of
neopixels used for lighting when I do
videos and stuff and I can adjust the
white balance
like I hope this works but I think this
is on this one here so let's just see if
it works if we've got anything
us very keen isn't it oh it's gone down
oh maybe I have to run it actually might
be it this one runs by itself when it
starts up that I think it's that one
what's that okay so alright so here we
have an interface so this is just
something I mocked up quickly I have to
finish it off properly but this is this
would imagine this is like the lights
from my face it's someone else turn that
on I was like why's that turned on
imagine that's imagine that's like a
bank of lights and I use it for my
videography so I can I actually just the
brightness you can see it gets really
bright and actually I can also adjust
the white balance too so I mean if I
have it full saturation I haven't got
the full range of fuse here but I can go
you know from green to orange and and
you should if you've got that on your
phone you should see it updating as well
right that's the power of WebSockets oh
there you go someone else is doing it
yep and it all goes crazy in a really
fun way okay so that's not a neopixel
strip that is something called dot star
which is slightly different from
neopixels but basically the same and I
don't I don't know how much is it's if
you buy if you buy strips from like
normal suppliers it can be quite
expensive but you can if you're patient
get them on eBay or from China you know
I think I play maybe $15 a meter but but
if you bought it in England it would
probably be 30 pounds a meter all right
so it's it's quite quite different
yeah and I've got this other set up
there I wonder if I can connect to that
one all right this may be that one will
work right so I've got another Raspberry
Pi set up here and this one has just got
a little strip of neopixels there's 10
on that so that should be enough to
power from an ordinary Raspberry Pi
we're just messing with that now an
ordinary Raspberry Pi and and that
little strip comes with my workshop and
so it's quite fun and if you want we can
do some hacking on that in a moment but
let's just run some of the tests where
are the neopixel ones 4.0 neopixel it's
rate so alright it's just actually
rebooting that computer alright so we'll
leave that one for a moment that's a
good opportunity for me to talk about
this which is so with raspberry PI's you
get things called hats right have you
heard of hats so essentially they're
another little circuit board that just
gets pushed on top of the Raspberry Pi
and the pins line up you can see this
one is it's called a unicorn hat it's
made by a wonderful Raspberry Pi
supplier and designer of hardware and
share
build called pine Maroni and they're
brilliant they make cool cases and I
love their website so if you want to
shop for our three PI stuff I'd highly
recommend them they have a lot of
Adafruit stuff too they've got this it's
called a unicorn hat it's an 8 by 8
matrix of neopixels which is pretty fun
yeah so we could we could try running
that if you want is that one booted up
maybe what's that on there yeah so when
they just boot up and that when neopixel
start they usually blue but if there's
like a bit of noise on the line or
something then one of them might just
change a random color so that's quite
fun and try that one too okay so God
then what the Wi-Fi is really it's my
Wi-Fi it's just something about this
space that's pretty toxic to to why
there's a lot of radio waves okay CD
nodes what is it it was 4.0 and I can
put in the number of pixels hopefully
something might happen
is it cool yeah okay so you can see how
bright though that's one pixel alright
so lets this run the other one which is
a rainbow yeah so and that's that's not
even like full brightness right I could
try putting it full brightness and I say
try because it will it will draw loads
of current and it might cause they're
the tighter to explode
makes itself I think I can go 250 right
or yeah let's just try it okay I need to
see this right that's pretty cool and
like if you can imagine this is what I
experience like you can't even look at
it can you that's how that's how cool it
is so like you see a bit of retinal burn
right that's that was me for three
months doing laser light since okay so I
also have another fun little device
where is it I was this one so I really
love you can put those down I really
love these little of Jesus nice bright
these little 8x8 LED modules actually my
favorite they're so old school
and kind of a bit rubbish but I really
love them that's so beautiful let me
just plug it in and as it's the same
chip as the as the 7-segment display so
you can just replace the wiring in fact
you can run the 7-segment display
examples on that but just like random
pixels light up now we hear is that I've
got too many computers have which what
was what was that one that was I was the
LED one wasn't it oh it's gone SH
Fayette's PI LEDs as that one I think I
don't know something like that sounds
plausible
just do it run that's going to be
amazing right so what was they doing
three-point-three right so this little
is that just make sure it's working yeah
okay so these these are really cool I
actually really love this one and we got
we can have it play pong by itself as
well I think that's pretty cool hmm cool
so I mean that's that's a massive
Whistlestop tour of all these kind of
components they're obviously lots of
sensors as well you can get light
sensors and temperature sensors and
distance sensors I didn't bring any of
those to dale's concentrate mostly on
outputs but that's fine but obviously we
can connect any of those things with the
Raspberry Pi to the Internet
it's obviously been a really short
summary and gloss over you know there is
full two days of workshop of this stuff
and that's still not the full amount so
obviously nodejs and Raspberry Pi just I
mean obviously you didn't have that
problem with Python either but it's just
so easy to set up a WebSocket server in
node.js I mean it's ridiculously easy is
like if you look at some of those code
examples it's just a few lines of code
obviously it gets more complicated when
you have architecture in rooms and you
know and use their accounts and stuff
like that but just to set up a simple
connection is really super easy but this
hacked on classics is a new show that
I'm putting together for the digital
festival and it's essentially like this
but more fun I'm looking at retro
hardware like the Nintendo like guns
like the casio VL tone keyboard some
other stuff too and i'm hacking it and
also like doing cool modern things with
computers and lasers and there's gonna
be loads of audience interactions motion
detection you know applause triggered
games and stuff like that so really it's
going to be a really fun show so that's
on the 28th of september at the old
market and i don't know how to find out
about that really it's gonna be part of
digital festival it might don't know
this sure but it might actually be the
official closing event for the digital
festival wait and see about that but
yeah it should be a lot of fun I'm gonna
bring a big laser to that yeah so that's
some pretty serious stuff I think that's
probably it but there's all my contacts
twitter is probably the best way to get
hold of me yeah I think that's cool
right okay thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>