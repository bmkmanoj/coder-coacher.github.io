<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Logging for Health and Happiness - JS Roundabout - April 2018 | Coder Coacher - Coaching Coders</title><meta content="Logging for Health and Happiness - JS Roundabout - April 2018 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Pusher/">Pusher</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Logging for Health and Happiness - JS Roundabout - April 2018</b></h2><h5 class="post__date">2018-04-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qeEvKraF8dw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I'm gonna come clean we're in the
middle of launching a platform so
originally we said we're gonna do this
logging for health and happiness thing
because we're launching a platform I had
no time to write slide so I'm gonna have
to reuse some stuff I did for a DevOps
summit a couple of weeks ago and tom has
put a bunch of stuff about logging in so
hopefully we'll sort of make this thing
come together but we're through because
there are 40-something slides and the
first one says I'm short on time which
is true so I'm the head of DevOps for
Arcadia so if you have that title you're
probably doing it completely wrong and
you're devil's was all screwed up and
Tom is the Deaf manager for Arcadia and
so speak a lot at the time so not to
scale so everything I'm about to tell
you is not to scale which means it
probably won't suit your needs or it
might or some bits might so take the
bits that you want and discard the bits
that you don't the scale will affect
almost everything we do and so things
for enterprise typically don't work or
startup and startup starts don't work at
enterprise and la-la-la got hiding so
this is an interesting one so all the
time into DevOps when you're trying to
create something like canary flow so you
want a canary environment or your mania
environment in which development this is
really easy to develop to delivering
DevOps really simple thing that we do we
do this all the time well we don't have
to think about it's the hygiene required
on the development site to do this so
I'm an SRE site reliability engineer I
dev I write code doctrine code I work on
production applications and I do the
DevOps side of things and so half the
time that I spend in work is babysitting
us through the journey is required to
take us to alert necessary level of
Hygiene you know to support pushing to
something like your trunk which means
going to a canary environment which
going to real customers and being able
to build the tests required and the
confidence required for you to be able
to say okay I have done a piece of
development I've built a feature as
synthetics around this I have a hundred
percent test coverage 100% test coverage
if you really think about it it's
probably about half of the test coverage
you actually need and I will get you to
that point where you've done all of
these things and you can be confident as
a developer that you're pushing into
that production environment and you're
safely not affecting customers so
there's a whole bunch of stuff that we
need to go and do logging synthetics
test coverage in order to get you to the
point where you
do continuous development continuous
appointment into a production
environment of real customers every
single day so emerging to master these
are quite interesting so trunk data I'm
a huge fan of trunk based development
it's really quick really agile is very
easy to not have to think about all the
things to emerging he's pretty much just
like one thing one thing to think about
and I tend to produc you mean behavior
quite a lot is the fear of merging to
master as a developer knowing that if I
merge to development and I push this
thing out it's going to be front of real
customers is an interesting thing it
really pushes me from from emotional
level to they you know can this hold up
somebody with my peers look at me it's I
hate ovary you wrote this feature and
you push this feature out how come you
didn't write this test how come you
didn't have the synthetics did you test
this thing did you do modify the
synthetics to go and test this path now
it's an in the context the entire site
so I'm constantly around leveraging that
fear trying to push you to get to that
point where your your confident your dev
levels that super high super saying so
it stubs and mocks consumer-driven test
contract conceived in contract testing
so it's packed and packed broker chunk
based development so these are some of
the things that I'm constantly trying to
leverage to do this so when we think of
like monolithic applications or whatnot
and we have upstream dependencies on
those they will kill your cadence that
will kill your velocity so a lot of time
we talk about Microsoft's patterns what
we want to do is try and chop up that
thing into smaller models so we can go
and bring people on board and get them
working faster stubs and mocks are a
real easy way of doing that so you're
going to take something taste a micro
service make sure that all those stubs
and mocks and up streams are in place
it's quite easy to get going a lot
faster
it was a say something important yeah
consumers are in contact testing
obviously it means that if you have a
problem where you're dependent on
somebody else's service and the ground
is shifting underneath you this is quite
interesting so you're essentially
putting in a model something these
impact on packs brokers but a model in
place which means your dependency would
not be able to push unless they're
compatible your contract which is really
interesting pattern because it actually
kind of forces a conversation between
teams and what's really useful is that
if you are using sunlight trunk based
development it means it forces the
conversation with teams that might not
so you've spoken before which is quite
cool and especially if you're a new
developer it's like oh I break the
boat and it's going talk with these guys
and so that's a really cool way of
making sure that everything still
slickly works and then still inspiring a
confidence for the new people to be able
to just keep doing that thing
so logging as a engineering fundamental
this is a concept I push all the time
and nobody really thinks of logging as a
fundamental engineering principle but it
really is especially we do micro
services so I had a bunch of stuff that
I going to say about they span skip it
and go to this one which is we went for
New Relic and we should have outgrown a
cocaine graph on it first
what that means is that we have a huge
hole in Arcadia and we looked at our
logging and micro service pattern and
what we were doing in terms of like how
we looked at application what was going
wrong our intelligence dashboarding two
people inside technology we are a huge
hole and we went for the best tool we
went for a really great tool and were
like New Relic will solve all our
problems and what we did was go to New
Relic and we went there shred away and
so we didn't have all of the hygiene
that went with getting to a service
which is really interesting so if you
think about going to the best thing a
lot of times you haven't been on the
journey and then you don't really
understand how to use this tool and so
you give over this tree great tool and
no one really understands how to use it
so what we probably should have done is
something that I pitched quite a lot is
to start really small with a really
small tool and then outgrow it until the
point where we're sort of bursting at
the seams and then go for something
mildly better and then you'll have all
the journey all of the experience that
goes with getting to that point and then
when you get to the really really cool
thing at the end of the journey you'll
be able to leverage that's of full
extent so tom is going to take over okay
okay I'm going to caveat this with we're
changing things a lot at the moment so
this is pretty much right for now but
might not be what we're doing tomorrow
also if I have any questions that
anybody asked me at the end I'm gonna
try and leverage people up there who
have come over working on this at the
moment day to day who's shaking his head
at the moment who might not be able to
help me but so the problem so as always
says when we started looking at logging
at Arcadia we were we didn't have
anything in place we were running around
like headless chickens we were basically
we didn't know where the problems were
coming from we didn't know why
production was having issues we didn't
know
like we didn't know what part of the
code was behaving badly and the reason
that we didn't know that is because we
didn't know we didn't know anything and
what we did at the time was we went and
we did what a lot of people do which is
you find the best service online you
talk to their sales people and then you
go it's just putting you allocate and
let's put data dog in let's put
something in but just throwing something
at it and not really configuring it
properly and just letting it do its
thing
it while it works and while it's good it
doesn't necessarily give you as much as
if you've done it yourself and almost as
if you've gone back to the basics for it
so what I want to talk today like today
about is the right way you know what we
should have done from the start and what
I'd advise and what all we would advise
and I think that what most people should
do if they were picking this up now see
if you have a production platform or a
platform QA platform and you don't have
any sort of locking in place for it you
really need to you really start looking
at it you really think about what you're
wanting it for what's the right way to
do it and at the end of the day why you
care about and the reason that you know
the biggest thing for me why we're
looking at this is speed and it's not
just speed of one things at speed of a
number of things it's the speed to
logging so you want to put some logging
in to find out your issues but you don't
want the log in to become an issue
itself you need to make sure that
whatever platform you're putting in
doesn't impact on the app so you're not
sitting there waiting for timeouts as
you send the data off to these logs you
need to make as fast as you possibly can
because you need to get the results as
fast as you possibly can so you can push
all your logs out and you can store them
in I know s3 and then you can pull them
down you can analyze them and have a
look at them the next day
but it's not really good enough you need
to be finding a platform where you can
push it in and find out now you need to
be having something that's as real-time
or as close to real-time as you can
possibly get because if you've got an
issue on production at the moment
there's no point in saying we'll wait 15
minutes before the logs or pass them and
we can see what the issue for it is and
you need to be to develop you don't want
whatever you're doing if you're logging
to impact on the development lifecycle
you don't want all the engineers having
to spend like five minutes extra on
every task to add the logging in because
they can't remember how
do or the complexity for you don't want
them to have to be sitting there
thinking do I need to log this it should
just be an obvious thing it should be do
I need to log this yes how do I log this
this is the way to do it so I'm going to
touch on the architecture of what we
have at the moment although this is
subject to change we're not gonna talk
about this too much because it's more of
a JavaScript or a DevOps talk and the
develop stuff is something that you do
so we have all of our logs going into
cloud watch and all while I was going to
cloud what it's just from an app point
of view because you love it just log
straight to cloud watch that then gets
picked up by a lambda function Rob's the
AWS and that gets just pushed into
elastic search elastic search you can
then search through Cubana which is nice
if anybody's looking for like a nice
simple quick interface for logging and
looking at that cabana is initially to
start with a little bit complicated I
think but the power of it and what you
can do with it is very strong that you
don't look at that you want to look at
what we do how we log so this is how we
log in Arcadia obviously the top two we
log on the server side we log on the
client side but you want it so that it's
just one import line you want that it's
a case of you don't need to think about
it you put it in there and then you just
log so you don't want to have to be
thinking about what function do I use
how do I put the data into it you want
consistency across it and what you want
to do is that you want to have not
everything logged as one thing you don't
just want to log all your data because
there's no points out there's no use
from it it's just becomes noise and it
just becomes too much noise you want a
few things in it when you're doing there
you want the different levels on it
which I'll talk about in a second that's
very important but you also want to try
and segment in that data as well so
namespace set give it sensible namespace
whether that's your API whether it's the
client side lot obviously the message
for it make sure that sensible make sure
it's human understandable you don't want
to be sitting there saying I don't
understand what this log that's coming
in is I don't know son looks log is four
and then obviously like any additional
information you want on the end and just
that one little snippet enables you to
put as much information as you need and
main Able's you to put so much
information in that you're not having to
worry about I
your problem with a logger you know that
everything that you have is there you're
better to put too much information in
and then have to like worry a little bit
about parsing that rather than not
having enough information in and trying
to work out why you have the production
problem so the different levels that we
have we've got four levels on there at
the moment but we're moving to five so
we've got error which is the main one
so we classify that as level 50 so this
is the one that you don't want to be
having any of really ideally this is the
one that if something happens and this
triggers you need to be paging whoever's
on call at the moment you need to be
dropping everything to fix it you need
to be making sure that you only had only
put what into the any put logs into this
that you know that people are going to
respond to if you put too much stuff
into those people just start ignoring it
and we've had that problem a little bit
where something will just get ignored
you won't know why it's there and it's
okay so help somebody else I picked it
up we don't need to particularly worried
about warnings so warnings you want
which are something that's gone bad but
you're not necessarily panicking about
it right now so an example that I have
that everybody may agree with is
something like a bad password where the
users like you know they're not able to
log into their account at the moment but
because they're getting it wrong so you
don't really want to know about that but
you might want to know about it at some
point in the future because it might
indicate that there's a problem with the
site with maybe with the user experience
for it maybe you've got a problem but
you don't know it immediately you want
to put in things into warning like the
errors that you've deprecated so you can
keep tracking against them you can see
having a look at them and you can still
see what's going on with them but
they're not waking people up and they're
not pushing everybody to - like to run
around and to fix it if this is
happening too much then it's something
that you need to be looking at but it's
not a drop everything and look at it
right now
info so informational errors so this is
more like for data collection so this is
more something that you'll be like
collecting on a B test something that
you're going to use to improve the user
experience of the site something that
you're going to be looking at a lot of
data for and something you're going to
have to like maybe have a think about
how to parse it so think about what
you're putting into errors think about
what you're putting into warnings you
can pretty much put anything
- info because unless you go in through
looking at it nobody's ever gonna see it
debug obviously is for when you're
trying to track down those problems and
you'd only ever really put something
into debug and only ever look at it if
you're tracking down one particular
issue so you might have a your push some
thing into error that will trigger
everybody will panic and run about and
then you'll start going through the D
bugs and then you'll start trying to
work out where that error is coming from
with the bug you're gonna log everything
so if this is more something that you
don't able on the servers you went wow
and you wouldn't really enable it on the
servers because all your platform would
fall apart or your login would fall
apart but you'd have some sort of toggle
where you could enable this so you have
a production issue at the moment you
don't know where it's coming from
switch the debug on you can then push
everything through and you can see
what's going on with it and you can
track it down a lot quicker and the last
one is Trace which is like the log
everything debug plus plus so it's debug
plus all the pele plus as much
information as you can possibly push
into it you'd never enable this on
production unless its life is sort of
weird last resort because it will bring
down your logging platform we enabled it
a little while ago on production because
we kind of had to for something and the
amount of data that it basically filled
up the disk pretty much straight away it
was we were still using like AWS for it
but it went hidden hit all of our limits
right off because if you've got like
thousands of transactions per second and
you're tracking every single thing that
everybody does and you're tracking all
the information they're pushing into
that you just not going to be able to
they're just gonna kill you completely
but it's useful again with this one to
be able to enable it like on a per user
basis or have some sort of toggle so you
can go into production enable it and
then track everything back through and
we've done that a couple of times very
nicely so where do we log we log at the
moment on the server side and the client
side and the reason for is obviously
we've got lots of my stuff and we we
have a caveat a little bit so we have a
reactor plication which sort of an ojs
back end we have server side rendering
on the server side and sometimes it gets
a little bit difficult to see where some
of these issues are coming from so we
log everything and try and synchronize
as much as we can so that everything's
logged on the server and the client we
use the same architecture for both so
everything goes into the same place so
at the moment for us that's Cabana and
also New Relic but we push it into there
for both of them because it means that
we can track all the way through so we
can see as soon as an error hits the
client side if we've got a spike in that
we can then trace that all the way back
through to the server side as well and
also having all about data into one
place means that we can simplify our
alerting as well and our monitoring so
we can say that if it throws a level 50
here then it's going to go that's
doesn't really care if it's a client or
a server side will then go and page
whoever's on call and it also means that
the stack traces can link through back
to each other very nicely so we rolled
all this out and we were all very happy
with it we did it fairly quickly so
we've got some stuff very good we got
some stuff not quite as good the things
that we did well and the things I would
very much recommend that everybody does
so we use JSON a lot because everybody
uses JSON it makes everything nice and
simple it makes it we can see it means
that we can standardize on things to
make that a little bit simpler for us we
use Bunyon it's just a nice little note
library it means that we can make sure
that when we're pushing and when we're
logging we can do the same everywhere
and we basically have to worry about
exactly how it all happens we just push
it to there and it just works through we
use namespacing because it means that
we've got a large app we've got
different people working on different
aspects and different elements of those
app and we're not flooding the whole
team with all the information it means
that you can go and you can look at your
one specific piece that you need to look
at and it means that you can you not
having to worry about all all breeze
push something in and then that's like
polluting all of my data and we use a
single trace ID or some correlation ID
and we do that based across the server
side and the client side and it means
that we can know we know that this user
so eat the trace ID when you come onto
the site the first time you hit the
origin you'll get a trace ID back new
right it does a similar
thing as well and it means that you can
then know this error that's come from
the client-side you can then track that
back to the server side so you can see
easily like the reason for it and what
was causing that error things we didn't
do so well so as with everything some
things we're great at some things we
learned lessons on we started with the
rom tool I think that him that's what he
says as well we started with new relic
and just check that end because it's the
easy thing to do you enable it it just
works
but it was too noisy there's no
differentiation in the levels for it we
got a lot of data that's going into
there at the moment and not much that's
happening with it because there's you
look at it and you can't see the right
any problems with it when we push the
heart to production at the moment
sometimes something I'll throw an error
and we don't necessarily see it in
neuron egg so what easier to filter down
and Cabana but we don't associate in
Uralic because it's just a number it's
like our error rate is X percent it's
like well has it gone up has it gone
down nobody really knows we mix the
client and the server and this goes back
to the New Relic side again I current
aerated New Relic
is just an error across client and
server side it doesn't really mean very
much and again means that things are
missed because we've got like one number
and because some of those times we'll
have a load of JavaScript errors and
those errors are come from third-party
code maybe from our own code maybe from
suicide we don't really know so again
things get annoyed ignored our error
rate is far too high at the moment I
think it's spiked sometimes around 30 40
percent which sounds like it's terrible
everything's falling over but it's not
at all there's absolutely nothing wrong
really going on there might be a few
errors happening but because everything
has the wrong levels attached to and
because everything's mixed together
nobody really sees what's going what's
happening and getting the errors right
so again it's a very common theme with
all of this because the errors are wrong
because the levels are wrong means that
the error rates too high everything's
all lumped into one place so nobody
really access is it but the good thing
is so that we had some good success
stories from this we've been doing a lot
of a be testing recently with different
things and we're using this login to
validate the a/b test results so we have
different areas that we're
different sources of truth and the
logging is definitely becoming one of
those it means that we can have a look
and we can see if we push out a test to
two different groups or three different
routes I have many different groups we
can add that to the logging as well so
that we can see that the logging and we
can see then very quickly like if
there's an issue around one particular
group because we can filter down the
errors based on that so we can see like
this test is underperforming food group
a but actually because there's a problem
with that and so it's not a fair result
I think it gives a lot more so like
fairness to those a/b tests it stops us
panicking it means that when we do have
like potential issue we can track it
down a lot quicker previously it was a
case of the alerting went off on New
Relic and said you know the error rate
of spiking it's like well why is it
spikings
I don't really know it takes a long time
to go through it now with cabaÃ±a we
could go through a lot quicker and we
can say the error rate is spiking
because there's one particular page
that's doing it and we can try it out
and say that's just a front-end issue on
it or it's one page after particularly
worried about well like it's one
particular user so say there's a bot
that's gone haywire and it's causing a
lot of errors so we can discount that
and we're not we're not running about as
much as we used to be and we can fix
issues when we do see them so previously
again like we had in New Relic something
went wrong New Relic didn't have as much
information it didn't have enough
stacktrace
didn't have enough debug in it and we
didn't really know where to look for it
now we can quite easily go in and we can
say this error rate started spiking
check out the trace ID push that back
all the way through and find out a much
quicker resolution than we had before
yeah this is me right back to 200 speed
so trace IDs a correlation is it occurs
to me that many of you might not know or
have not experienced with this so a
trace idea correlation a sealing you
want to generate on your client side you
want to generate this just once you want
to pass it through all your logging with
every single logging so you can go and
follows thing through your stack ideally
if you eventually have something like a
booking ID or a transaction ID or
something if you can go and create a log
entry with that and the other one the in
creativity and then you can go and
travel the other one through the stack
and so on and so forth and so ideally
you can go and eventually match up all
these correlation IDs through your stack
and have a whole page
of what a user journey was through
everything that is real platform the
other thing is we want to open tracing
which is really cool everyone going
google this after you've finished open
tracing is very interesting we're gonna
need like node 9x to go and do it and if
she's acing hooks which is very
experimental but ultimately looks very
cool it's something we're starting to
look at arcadia so chat slots for
everything I have I'll talk about this
it reminds me of the devolution from
when I was a visual studio programmer to
going to working with node and just
getting glorified TextPad something I've
lost
all these like intestines and things
that used to support me but it's kind of
interesting and how fast I've gone from
like I need to use the GUI to I can use
bash and I can use the terminal and
actually very quick and doing that and
so chasse Ops is I guess like quite
quick in that respect it's also quite
interesting because when I can add
people to my chattels platform I can go
extend my commands to them and the
things that I have on my platform which
as platform so I can give new tooling to
partners quite easily it's
self-perpetuating which is really
interesting so when I have somebody new
join my team quite often they're
watching other people use chat stops
commands and they're starting to execute
these things within the team and so it's
almost self-perpetuating so when one
person does it the rest of the people
either don't know how to do or do you
know how to do it start learning and
it's auditable what's really cool so
whenever I see people doing Kate's
commands and stuff locally it's very
very scary I guess when you're doing it
through to Kate and we're through your
chat option you start like it's handing
those commands it's quite interesting
because it builds like almost an audit
log for you so I built this of the day
with one of my new starters I wanted to
spend time with them I'll go through
that in a bit
this is something that is just really
really quick so we had a chat UPS client
which passed the trace ID to the bot
which built a query which sends of
elastic search and elastic search turns
it back and then we use handlebars in
HTML and CSS template to construct HTML
and then I stole that of somebody
because obviously I'm pretty sure that
CSS and then we use puppeteer to go and
render this thing and take a screenshot
and save that to my own web services
generate a secure s3 link to it and what
it looked like was this where the works
okay so we're gonna do another bot
find trace ID but overlap so there's the
correlation to ID for an actual user on
the site we run the correlation ID hold
on together for you so off it goes goes
to elastic pulls back all the events
formats them using this year so this SSH
or template and then generates this
giant screen shot which safe to s3 which
is a really nice timeline of everything
that user did in our site and it took us
less than a day to go and write and it's
quite some ephemeral tooling I don't
consider us very clever or pretty but
it's quite useful to some people that
want to access this information we can
do more with it less with it it's one of
these really quick things it's pretty
throwaway I like to lots of people like
that we had to write an alarm call
system which I can't show you today
because team has killed over but that's
quite interesting too because that's a
good day so engineering for today's
challenges this is really interesting
one when I talk about my with my team
and other engineers and so people get
really pissed off and angry with me as
engineers we have a predisposition to
engineer for the future or things that
might happen or things that we think are
likely to occur it's very difficult if
you think about it you can tell yourself
to thinking about the current problem
that you have I had a discussion with
some engineers in Arcadia the other day
about how to do feature flags on the
site and they were talking about three
weeks and I was talking about four hours
and the reason that I was talking about
four hours was because I was thinking
about doing one feature flag through the
bot that I could enable in real time and
they were talking about every feature
flag and all the things that might go
wrong with it and so consequently you
see the enemy of delivery the enemy
delivery is over engineering things that
might happen and so the thing that I
really hand up about was the fact that
if I was to enable three feature flags
that one of them might clash with the
other two feature flags
I said well hold on I don't have that
problem I got one feature flag
miscibility you might have that problem
I said well the truth is actually if I
go to ten feature flags I still might
have a not have that problem technically
under engineering for something that
might happen but I haven't got that
problem yet and so I can basically go
and engineer for the thing that I have
today the problem I have today and so
we're actually if I need to adapt that
solution that becomes part of tomorrow's
dev work and it's very difficult to
think in that mentality it's very
difficult to find a trade-off between
quality and speed I think if you think
about this sometimes reading your day
and you try this out and you start
thinking over engineering I think about
the thing I'm trying to do for tomorrow
can I drop that and just do the thing
that I'm trying to do today sometimes
you get things out a lot faster but it's
it's kind of a different different
mindset so in Aubree's world what is
DevOps so DevOps is a convergence role
it's a convergence role because the
space that we work in has changed
traditional operations has changed
I used to the data center building GM's
tour switching core switching you're
switching SR iov these things pretty
much don't exist in the cloud anymore so
yes I can go in still with a data center
but probably any Google and Yahoo and
those people they want me to do it which
is kind of interesting and so what we've
seen is the commoditization of this
Hardware on cloud and because we've seen
that commoditization we've seen
accessibility go up and so if you want
to go and work with these things it's as
code which is really interesting because
it starts to shift away from the
traditional I am an ops engineer with
hardware to actually I need to go and
write code to go and do this which is
more in the dev space which is why we
see this convergence role so yeah tall
switching core switching infrastructure
as code it's really easy to use which is
why you guys should go and try and do
that and there's no barrier of entry for
you going in so if you're a cisco person
once upon a time back in the day your
goings going by your cisco stack off
ebay probably in your ass of firewalls
and the special little switch go plug to
go and work with it you don't need to do
that anymore in the cloud you just go
and but you credit card and off you go
if you're not writing production code
you're not an SRE so if you say you're
an SRE if you say you're a site
reliability engineer I expect you to
write production code I expected to work
on the application I don't think you're
somebody he just happens to know like
half of a programming language I expect
you to actually work on the application
next to the engineers that are
programmers on it and do that stuff and
my stuff I put the little thing from box
tiles in there because it's pretty
hardcore somebody pointed out last time
yeah so writing like ops quality Python
code doesn't really make you an SRE sre
spend half of their time writing
production code they spent half of their
time writing system stuff so you're
building infrastructure you're also
perpetuating this idea within the
development team so you're constantly
looking at angles they're going push
this skill sets forth this him you want
to make yourself extinct you want to
make everybody else just like you
like Borg so operations at this every
talk out of it like yeah yeah
so operations code unicorn cloud I don't
know why I put the unicorn in I have to
put in every talk so it's really
difficult to take this path for like
whatever reason it's so hard to take an
operational engineer a traditional ops
person teach them code and get them to
build like cloud stuff it's really easy
to take a developer and so this is the
domain model and gather ones go and do
the other way one of things were facing
interesting painful because I I actually
happen to be a developer so it's very
easy for me to do this thing it's really
hard for me to find people in the market
that are able to do this so another
principle do the simplest thing do the
PR get the buy-in I grow the simple
thing and replace it with a much better
thing and so this comes down to you so a
really good example was a US
elasticsearch there are lot of
limitations with this thing really
really painful and once you get beyond
cabana and you want to start targeting
elastic directly which means you're
crafting like Jason posts to it and then
firing in and hoping for a response back
you'll pretty much be on like the basics
and you can't use reg X and it started
to keel over and we had a bunch of
problems of this and I start to do some
crazy aggregated aggregated aggregated
query and then that caused it to fall
over and we start to realize that we've
outgrown this thing in a couple of weeks
and now we're ready for the bigger thing
and so there's actually a neat little
point here about if you have funding
issues and you already have the cloud
platform it's quite easy to go and push
with this stuff visit the cloud
obfuscates what you're spending money on
and quite coolly elastic docto is a
partner with us which means you can run
it through the marketplace which means
you can run it into the billing which
means you can hide it when you want to
go and move it to somebody else and you
don't do your funding paper which I like
life-ending papers so yeah do all that
stuff do the PR spend lots of time you
developers so I spend lots of time in
Arcadia running around with the
developers spending time with them
showing them all the things I've built
showing them how to use those things
doing the PR making sure they understand
it quite ironically when I came into
Arcadia the guys had actually
elastic search and was sitting there
dead and I can really on some exciting
makes me very excited and I was like why
why is nobody using this and I was like
well they're kind of known as like okay
well did you do the PR and it was like
no okay well let's go and build a better
thing and we'll go and do the PR so you
ran around and I literally sat with
quite a few people stakeholders in the
team and showed them how to use this
thing and why it was valuable to them
and then by the end of the week it was
intrinsic and we can live without it PR
is very important don't forget the PR
cycle see I know Jenkins
so everybody hates Jenkins it's a part
of I want to get rid of that circle
CI so much better
truth be told it took 2.5 weeks for me
to rebuild our entire pipeline in circle
CI it's really interesting because in
the same week that I did that at about
400% engagement increase from the
developers using circle rather than
using Jenkins Jenkins requires a
specific skill set requires maintenance
as well as things if it's still there's
a whole bunch of crap that make it
inaccessible you know proxy when you're
off site absolutely pain in the ass
circle see I was great I love this thing
it means that you guys just enjoy get
login to go and hook into this thing you
can go to build straightaway it's one
yea more file alright I mean that's
amazing
one yeah more father you go and build
your own pipeline and you don't have to
talk to me I love that and so literally
in in one week we had four people going
modify that pipeline add new pipelines
that have new projects and we had never
seen this level of engagement when we
worked with Jenkins which is phenomenal
so always killed Jenkins replace it with
something better
the one thing I say about that is that
Jenkins conflates two separate things
which is arbitrary job running and your
build pipeline building whatever assets
or artifacts you have if you can
separate those two things it's quite
easy to get rid of Jenkins if you can't
you have lots of jobs on it and you'll
find it quite difficult put it in the
bot from zero to rocket we're just a de
brest keys and github so when I talk
about the developer experience obviously
as a developer it's quite cool to me to
get in and get going and show my value I
find that most devs don't like working
with vagrant most deaths don't work I
like docker they don't like the concert
docker rebuilds or the containers and
stuff like that so I'm constantly
looking for the angle and the angle for
me is how fast can I get you going how
fast can you work on your machine
I don't wanna cause you friction so when
I talk to my traditional ops people and
I have to train them out of this quite
frequently they're like oh this is
really good so you should be using
docker and I thought ously if you're
working with react to the constituent
docker container it's costing the file
system is a total pain he asked to work
with it's not what you want so if you
work with me it's really great because
you've got to develop it understands it
if you weren't my other guys they have
to be trained so I'm a predator of human
behavior predator right I'm an asshole
I'm constantly looking for an angle with
you guys to go and introduce new tooling
so I'm looking for the best fastest
tooling the truth be told I actually
don't give a about what I implement
I really care about my ideas and the
things that's gonna make us this thing
better so if you have a specific piece
of tooling I'm happy to work with that
tooling and have to go and work or
something like I've never worked before
if that's what you want to use if that's
the new greatest thing it's going to
help me get my angle in immediate value
the quickening go going the quicker you
can show value it's part of the agile
manifesto I use it quite a lot again
coming to a path back to that point of
uh simplicity there's a really simple
thing think about engineering for today
the moment you can go and deliver that
really simple thing and you can go show
to everybody do the PR and say hey look
here's the instant value if you need to
make that bigger or fund it we'll do
more of it it's very easy for everyone
to refer to it and say like oh you know
its intrinsic to how we work right
because you did the PR lead by example
so I do lots of mod program programming
with people I will put myself under the
spotlight I have like zero fear of
anyone criticizing my crappy es4 code
because it's sure I don't get to do this
all the time I have to work with all the
stuff in the dev ops base and all the
stuff in the dev space and so my skills
drift and so I'm happy for anyone to
criticize me so I will always lead by
example and stand up there to be
massacred by everybody and there's
always value in failure failure let's
show you right so I've bot which is our
internal bot in I think it took three
days to build a total one of those days
it took me fixing a bug in Bach hit one
of those days were spent to figure out
weirdness in MF Steen's vs. slack
phone use Emma's teens and I wanted a
show I went to showcase bees to show how
easy CD CI and one
I'm a success coverage was literally
three days and probably even one if it
wasn't for the bugs it was able it was
something that was a I was able to
demonstrate continuous delivery of
something I was able to deliver it
demonstrate canary it was a really good
showcase for me it was very isolated and
we were great as it started to show its
value immediately to the point where I
had the head of engineering actually
working on the bot within a couple of
weeks of deploying it and so hey you've
actually got a bot you can work with
which was pretty cool
goodbye him wait hold on there was
something else I want to say yes in
passing your values where there's a
decide about that all right so feedback
please yes I will always let people Ruby
my code I didn't get to work on
different things I think I told you all
this
so my code is tends to be like all right
I don't think I'm the best code in the
world I don't want to be the first coder
in the world I did a bunch of other
stuff so I'm happy for you guys
criticize it's also really great when
somebody sits with me and they go
actually you could do that a much better
way and I'm like I missed a whole
year like JavaScript upgrades it does
happen a lot fearless get my code
reviewed all it takes is one asshole to
create a toxic environment this used to
be me I used to be the asshole if you
ever work me before I was a
asshole
I'm not anymore estrogen changes you
significantly and it's really hard to be
horrible to people without crying at
them afterwards and so I have to be much
nicer
I've historically been responsible for
overworking my team creating very shitty
cultures and atmosphere much nicer to
work with I really care about how you
feel my team I get a lot of good
feedback these days mainly because I
think that actually if you're really
nice to people you work with and you
create a really great working atmosphere
you'll get so much more yield out of
people which is what I want and I want
you to enjoy what you do I want to
remember that like we're trying to
leverage the the thing that made you
become an engineer in the first place
the thing that you love you know you're
not going to work on something like it's
a start-up if you hate it and if you
love the platform but I'm likely to get
evenings and weekends out of you if you
really love what you do so I'm trying to
create an environment where you love to
be an engineer when you join my team
you'll spend time with me
she said it would be fun you will get to
spend time with me it's really important
so it's important that I didn't miss
sell you so when I tell you you're going
to do something my team and this is the
vision whatever I try to make sure
that's true I want you to experience
what it's like working with me because
all the other people have and they know
how to work with me and they work like
me which means they'll sell the same
vision that I will and they will work
with other people like I will and
they'll also sell the same solution
which is really important so we have a
unified front in terms of what DevOps
means and how we present that and impart
it to you as the business I put
something about talking about handbags
makeup Dark Souls and how I used to be
next cage fighter I don't know why so
thank you if you thought this was
awesome tell me on Twitter if you're
really tell me on Twitter if you're
actually prepared better tell me on
Twitter
those are tamo mine handles and also
I'll tell you at home</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>