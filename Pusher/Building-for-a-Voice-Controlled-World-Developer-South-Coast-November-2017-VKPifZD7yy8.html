<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building for a Voice Controlled World - Developer South Coast - November 2017 | Coder Coacher - Coaching Coders</title><meta content="Building for a Voice Controlled World - Developer South Coast - November 2017 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Pusher/">Pusher</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building for a Voice Controlled World - Developer South Coast - November 2017</b></h2><h5 class="post__date">2018-03-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VKPifZD7yy8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">eighteen months ago we got one of these
at home and I've got a three or four
year old and a nearly six year old and
they just started talking to it so who's
got one of these or yeah and who and who
knows what they are and kind of what
they do and who has no idea and thought
this was some dating event with some
girl called look all the lexer and so so
basically we had one of these we put had
one in the kitchen and and the for the
for the first kind of few weeks it
couldn't understand my son but could
understand my daughter he got very
annoyed and then we'd ask her to ask it
things and you know all the usual stuff
like play music jokes knock-knock jokes
make fart sounds all the mature adult
things that we'd like to do and then and
then a few things happened so firstly
they started being rude to it and not
saying please and thank you so and then
they started say not please and thank
you to us so we started having to build
this type of culture and I say well eva
is a robot and a machine because to them
it's a person there is someone very
small called the lexer inside this box
that they talk to and it's earning from
a kid's point of view you know the
fairies and elves and all these
different things like to them it makes
complete sense so they don't understand
that it is just a machine so so - and it
just clicked it's one of these things
that when you you know like a lot of us
in the room when people start sending
emojis and not texting or writing emails
and you know there's this generational
shift with technology and normally it
kind of goes from you know a youth
upwards you know as we go as you know
people phones and then it goes up and up
and up but with them what's this was
happening with the kids like this is the
next thing that's going to come but at
the same time I'd give him one - a
friend of mine one of the small dots and
he'd give it to his she's eighteen
eighty seven year old em now and from a
point of view of just urban how to turn
on the radio get kind of news and them
to think and it was and more and more
you hear these things actually I love
them being used for enhanced elderly
care because on the on your app fit on
the Alexa wrap you can see all the
requests are going through so if you
don't hear it if it'll see anything the
list for a few hours or maybe a few days
then they're not asking it for things so
there may be there's something that they
need to look into so for the first time
a new interface is kind of hitting from
both ends and coming from the elderly
and the youth and kind of eventually hit
another peak you know if people in kind
of the thirties and forties which is
kind of never been known before which
kind of changes how we build things
because as you build stuff for mobile
you would you know older you know that
the rule is come out and then all the
games come out and there goes on but
actually now we're having to build
elderly care apps and also fart sounds
and it's not just obviously at home
voice is kind of gonna be you know in
the house in the office you know more so
in the car especially now since you
can't legally use your phone in the car
it's it's in it it's continuing to go
but it's all going to eventually
congregate on your person so things like
air pods
you know the wireless earbuds and
eventually kind of Apple spectacles that
no doubt will be out in a few years all
these things will produce things AR as
well as give you auditable responses for
you to talk to and for you to hear
things in their real time at the moment
we're in this position we're obviously
elixir is the well-known first speaker
and Amazon o extending that range but
also if you lock in the Amazon app our
lexer is built into that so you can
search for things via voice and Google
announced earlier this year that a high
percentage of their what would you say
hat what percentage of Google searches
globally would you say about voice just
they're in a percent twenty yeah so
twenty percent of Google searches are
voice which kind of and you can see it
now where the voice icon inserts
becoming more and more prominent and
kind of evolving now a lot of that
obviously is coming from growth in
foreign markets where populations are
younger and therefore that becomes the
default way of working
you know as these things go on it
continues and you know we're seeing this
change like an Alibaba publish their
singles dating results I don't feel so
in China singles days xi xi and and they
recorded 25 billion dollars worth of
sales black friday in the US last year
was 3 billion of which 40 percent were
mobile and in china i rubbers Resorts
was 90 percent of mobile so 9 percent
about 25 billion was joined on a mobile
so you can see over the next kind of
maybe 5 it might be as far as 10 years
but that kind of sway is gonna end up
going into things like Voisin as well as
potentially AR and VR as time goes on
and then you kind of gotta ask yourself
why wide voice and what's the benefits
what's you know as we know it's not
perfect at the moment and and and and
the simple things is you can do you can
multitask so if you're driving then
obviously you can in it you can interact
with things with your voice and not you
know start rummaging around for stuff
but also if you're in the kitchen which
is obviously why these things live a lot
feel touching me and your cooking just
been able to stop music start music it
becomes this kind of strangely
productive tool for something that is
only a few words long and then what
we've what we've found is obviously for
them because we as a company we build
these types of things for businesses so
internal business kind of voice tools
and when you've got people who are in
factories you know mechanics surgical
environments your hands are busy you
know you don't want to have to be
picking things up both from a kind of a
cleansiness point of view but also just
as a distraction and if you're able to
use voice and get voice feedback then
you can carry on with what you're doing
and you know surprising that before we
had all this tech for the majority of
history voice has been our preferred
communication method just between me and
you or boss versus me in a machine so
it's kind of you know it is in some ways
it makes sense to why both ends of the
age spectrum are more aware of this than
probably am the majority of the
population and then the final thing is
obviously as you speak you get this
information quicker you can articulate a
sentence
a lot more than you can in you know six
dropdowns three buttons a few sliders
and if you can say it and it can
understand you with a great accuracy
then you get that information a lot
faster and speech recognition obviously
is been around for a long time everyone
knows of you know dragon and I'm going
to read six books to train it and put
with the you know that the improvements
have happened over the recent years
Microsoft Research in June this year
managed to get the lowest ever error
rate of transcribing 25.4% I think it
was and which is on par with with human
transcribers so we'll get slowly to the
point where we get to the 98% kind of
mark and that's when you know apart from
minor context they'll be no different
than talking to humans and you can see
that if you've ever used the Skype
translation real-time translation tool
at all it's surprisingly good so you can
speak in English and then in real-time
the other end your translate it into say
German but one of the biggest things is
that we don't have to read all the books
now they've used you know transcriptions
of many conversations of people using
the phone you know the reason why I look
the likes of Google and Amazon enables
you to have free phone calls is so that
they could record and then transcribe
and then train all of our algorithms to
then better improve the system and then
obviously you can then walk in and and
talk to it and they all know there was
it's neither a mode there was a hidden
option in the Alexa app where you could
train further the application so that it
could understand you more so what you
might find is if you don't you so like
in our house it couldn't understand
Moana for a few weeks and now it will
understand my wanna even for things we
don't want it to be commenced I'll play
in the mobile on a soundtrack so but
beat and then obviously amaz that came
along with this things what happens we
have Siri for a long time and obviously
Google assistant and then Amazon came
along again and made it 35 quid for a
dot that you can put anywhere and as
well as it being a speaker
you just have to connect to the internet
and then you have this instant virtual
assistant which we never kind of
experienced before so if you've got any
questions as we go you can feel free to
jump in and but obviously you know all
that stuff so it would be cool to know
how it works so the the device itself
works on a activation would awake words
so part of that is who's freaked out
that it's recording everything and when
you eventually kill someone it will know
everything you have done so so basically
this is the fear is that is finding the
data saladin and obviously people are
checking these things all time and what
happens is it has a local processor on
and it's just looking for these wait
words sometimes it gets confused because
you'll see it that if the a word is
mentioned on the TV and they'll pop up
and start lighting up or if there's just
some background sound but if you earlier
in the year
Amazon got kind of subpoenaed or at
least some data about and device that
was in someone's home that there was a
potential murder charge against and they
were like well we haven't got
information so we can't give it to you
anyway which kind of helped vindicate a
bit and surprisingly that out of that
scenario the thing actually ended up
with the conviction was the smart meter
for the water pressure because you don't
pose your driveway down at 3:00 a.m. so
so so you know you've got to be vigilant
at this stuff at the end of the day you
know just because it's not recording
everything now doesn't mean it won't my
facebook released one just assumed it
will record everything you say so the
weight the fear the key were the weight
words is they make them all three
syllables to try and mitigate it misread
reading so it's a lexer computer Amazon
and echo so that's the first bit which
is to kind of stop you from opening
accidentally and then there's kind of
these starting phrases so these are
things like open star play tasks and
they they kind of arguably from it from
a lexer point of view and the Amazon
services they give them an insight into
what they want to give you general
knowledge on with regards to your own
application
you kind of don't access to this all you
know is that your application has been
kind of initialized and then you have
what is known as skills so skills are
basically small apps and skills are a
way for you to build some custom
functionality for a foreign application
and then and utterances is the variances
of sentences which will break apart in a
second
the key thing on there on the skill side
of thing is they are only kind of unique
to your device so you could have someone
could build a skill called South
Hamilton and then someone else could
build a skill for South Hampton and as
long as you didn't have both on your
device you could they could both exist
in the world so there's no there's no
this is not like you you're millions
calm type of thing that you have to kind
of start taking care of and that being
said if they for if you do try to put
anything in there that is a brand you
have to verify that you have access to
it which is why ours will not be called
and therefore so and then and then an
utterance Oh an utterance is basically a
sentence and the sentence is the request
the thing that you want to do and
basically what happens from an
utterances is it takes in the audio that
basically you're sending through the
device some cloud magic happens through
Amazon's where it's taken the audio
running it through a natural language
processor and then it is basically
converting it to text with a and with a
confidence score which is not visible to
you and then basically you're telling
get a list of intents you're telling it
the things that you expect the
application to do and then it will match
that base to a probability score so if
you're if you've got in if you've got
all Torrance's such as tell me a fact
you basically load in with all the
variants that you can think of for that
request and that just gives you a better
way to for it to understand what you're
trying to say and how
can work now within the utterances you
have these things called slots and slots
are built-in and custom so we think of a
slot so instead of saying and tell me a
fact about Bournemouth tell me in fact
about Southampton tell me about that
Winchester and there are built-in slots
that you can say tell me a fact about
City and then you get a full spectrum of
all the cities countries and there's
things like first name surname when it
comes to date you don't have to say all
the variant or dates you can put a date
plug in and that will pick up things
like today yesterday last Friday a week
on Tuesday a specific day and time a
year ago and that and but from a
developer point of view all that
information comes back to you in a
strongly typed date object which you can
then obviously use how you wish then
there is this thing called SML @s s ml
which is a standard across all voice
systems and what it is is a way for you
to then program and add some kind of
personality to the voice as it goes back
out so for example you can tell it to
whisper you can tell it to add more
emphasis you can put spaces in between
things you can play audio in between its
same things so you can send a stream of
media and that is basically an XML kind
of DSL type thing but it becomes this
thing that you can you can construct
this output from the import and generate
all these utterances and you can you can
build this application the the ones that
are the most kind of successful or a
simple quick and obviously informative
but there are different ways in which
you can do it so an interaction should
be under eight seconds in your ability
to gain some value and you have either a
single action or a conversational action
so a single action is as clear as what
is the weather what time a bomber
playing tonight and obviously more
conversational is where you would prompt
and
for different things so what is there to
drink then it could be like tea coffee
or chocolate as I would you like milk
would you like sugar and then what
happens is that bolt-on of sentences
yeah you can hold session within that
and therefore build up a kind of history
of the conversation that is there's been
is being constructed and then enable you
to signpost as you go through and from
from you know if you've seen any of the
alexa right you can see the stuff that
it's doing it's things like turning off
lights put your music on for example
elixir play them on a soundtrack artists
Alexa stop music and but you can have
things where within this that you can
you can like wait basically waste iron
to kind of use it from a business point
of view so play music turning lights off
and is all well and good but if you
wanted to do something like for example
my wife will hate me for this so we have
Hugh light bulbs in our house
and most of them are on right now and
even though we're here and the Wi-Fi is
connected it all obviously goes up to
there so I can say Alexa turn off all
Hugh lightbulbs sorry I didn't find all
Hugh might bulbs Alexa turn off Hugh
light bulbs Alexa turn off hue lights
okay yeah so that'll look Dana said well
basically I'll get a phone call in a
minute and and that and that is that is
some anger no but I get sort of
it's fleshy and but it's quite you know
it's quite funny but but what it is is
it it's Airy it's something which seems
massively overkill rather than just
getting up and turning off a light
switch
but what happens is you you get used to
it
you know we my wife and daughter left
the house my wife was going around turn
all the lights off the other day and she
just turned her and said are you still
with dad this and just say turn off all
the hue light bulbs so and that's what
happens that you leave the house you
just you just do it and it just gets
more and more can't you just get used to
it is what functionality it can do and
then you know I'm linking one up to an
IR blaster so we can turn like the TV on
and put Netflix on three voice because
TVs rubbish and what do it automatically
but but for us then we started looking
at how we could use these things in
business and could that be could we have
the same kind of home and consumer kind
of effect but but you know in a work
environment and it's no different you
know if you we have access obviously for
API is to HR systems account systems and
training programs etc and you can start
doing things like you see on here and
they again that they all seem quite
small may seem minor and it seems you
know what you know I can just
right-click on our thing and send an
email but it comes back to the thing of
you know we used to do 90% of all work
on the laptop and now we do 50% of work
laptop and 50% on a phone and over and
over I tend to magic hair tension pants
pain gets shorter and so does our
patience let's say and to get things
done kind of more in a more kind of
multitask type of way one thing that we
started of started creating is using it
as a training tool so you can like
record background sounds of like a
factory instead of doing classroom
session and going in on site into a
factory you basically do your your
on-site training or through the device
and it'll play background sounds and
it'll you know I'll ask you a question
but a pipe or burst in the background
and then you have to react with an
environment because that gives you a bit
of a psychological change from sitting
in the classroom just filling in a piece
of paper to being on obviously on the
floor
as a health and safety skaters going on
again all for 35 quid which for the
customers training programs it's pretty
cost-effective at least in an interview
stage if nothing else but obviously it's
not perfect because you know and that's
where kind of the improvements and where
we've found are things to really look at
which are people ask for things the same
thing in many different ways
the classic one Amazon choses a loser as
an example is 40 so is that 40 the
number we're gonna meet for tea we're
gonna get four teas to play golf you
know and all these things kind of you it
goes on and on or 14 you know that and
that and that's just even as you speak
you know and then if you look at it from
a cultural point of view and in
different countries the you know the
utterances you have to really kind of
build out is a mapping of what you're
going to ask in the right context around
it and whereas on the device you so for
example what we said and we had open
that the nerf war game and you can also
just say a lexer so say for example you
had a weather app called
cold weather you could say Alexa open
cold weather Alexa now tell me the the
weather for Bournemouth but you can also
say Alexa what's the weather on-call
weather really bad example of name but
but you don't have to kind of initiate
it in that way it will kind of look
through all of the utterances and if a
sentence goes in it will try and match
it to the born it can but accents we
tried it with a company Newcastle it did
not work background noise so they work
really well if you're in an office or if
you're a medium room where there's no
you know no noise we tried one as an
information type booth you know with
passing footfall and it you know it gets
annoying it doesn't quite work because
it picks up other sounds now that
stuff's improved think it has a six
microphone array inside and if you speak
what you'll notice if I say from here
Alexa you know if
likes where it thinks the sounds coming
from and what it will do is it will turn
off the speaker microphones from the
other side of the device to try and
minimize the noise as it tries to direct
it and then multiple voices so if you
speak or I speak at the moment though
they'd release something in the last few
weeks where they can start to
differentiate between who's asking and
then obviously you can you can just say
set the mood you know my preference or
change the light that's how I like and
they all know it's you and versus
obviously children or your partner or
work colleagues the hope with that is
also from an API point of view is the
you get access to some kind of user hash
so you can then obviously hold that
conversation in state so basically
there's a Cortana type speaker and
someone speaks in in French and then
someone gets a response in German and
then they speaking in English and you
basically get this multi-language a
conversation happen between like five or
six people and but and the API so freely
available to do that we've used them and
they work quite well the amazon have
really cornered the the consumer love
for their device especially where they
keep obviously slashing the prices on it
in particular now one thing like with
all technology once it works and it
looks good everyone always wants to move
it five pixels to the left so in voice
it's no different so what happens is so
we went through a process where we
started playing around this stuff and
then people started liking it so we'd
say oh we do want to build a voice skill
and they'd go yeah cool so they'll be
like so what you wanted to do and then
we like welcome to this ok so there are
five meetups coming up to conferences
three training days and a partridge in a
pear tree would you like to know more
which is basically the same as when you
ring the phone system now it's like
press one for sales for us to this and
it's just not intuitive it doesn't give
you it's not saving you time which is
the whole point of voice but there is a
way kind of around it and this is where
I think the developer scale is gonna
differentiate one voice skill from the
other
because the context around it is
everything for example the first time
you use it what you might want to do is
instead of saying all of what it is you
just say this voice skill is a meat or
for.net developers how can you help and
then the second time it gets used maybe
the first time they asked about a
conference so therefore you can kind of
assume or give them some information
about the last thing they said and then
where you're then saying do you want to
know more about this and then it's a
simple yes/no and the short of the
sentence is the more the more likely
you're going to get a positive kind of
like lack of confusion but then you can
give them out and you can say but or
would you want more information about me
up so training and then if you know the
meetups tomorrow and you can kind of you
can build up this context around how
it's being used which gives it more of
an assistant and more of an intelligence
based thing and that is not what is
happening now and this is what is kind
of it will come and if anyone's looking
or is playing with voice girls at the
moment and from what we've seen like
this is the stuff that's going to
differentiate because everyone's good
like you will do it after the break and
you'll see how quick it is to build one
of these things but it's the stuff
behind it that gives it the relevance
and makes people feel feel kind of like
there's some intent you know and
eventually like obviously if you after
today and you'd listened and then it
would just it can queue you up in you
know even to the point of doing like
would you like to pay or I'm sure rich
would love it if it could like say your
subs are up give me some money right now
but but with this it then comes back to
you build your skill you've got some
sentences it's all good and but will it
work will people ask how you want it
people to ask and that's where training
comes in and so we so we've worked with
a few companies on this now and how it
typically has gone is you treat it like
more you treat a voicing more like a
chatbot type of thing which is like a
question announcers and it's quite kind
of procedural kind of like a live chat
EQ but that's not really fun so first of
all we'd kind of give them a piece of
paper and say you know give us all the
questions you want it to answer so they
do that we then get all the answers we
put it in and then this happens no we
don't want it to be us like that some
people ask it like this some people are
Sartre I bet
and then what happens is over time you
just get like 20 variations of each
question which obviously go into all
these different kind of spider webs of
connections and it gets a bit messy or
you change it so then what we started
doing is had conversational sheets and
this is what you'll get from if you went
to like at Amazon lexer event you have
these conversational seats as a speech
bubbles here and speech bubbles here and
again it's great but there is still an
element of your speaking talk maybe one
stakeholder or one person who knows a
bit about the system and you're not
speaking to the person on the ground who
actually is doing their job every day or
the user you know the 90 year old who
wants to you know like so for example
the the nan of the friend and she's got
a partial dementia and and one day
basically on the list was like twenties
things of where's Tom so so she just was
asking where's Tom waste Tom waste on
and which then becomes a flag of like
you know just understood sir Thomas like
a I think like a brother or something
from from the who passed away but it
becomes this kind of ability to kind of
gain insight into your users and within
the application you get this history of
what has been processed so you can find
the things that maybe you've missed and
if you have access to that device in
them accounts so if you're going to
pilot this stuff with anyone is I would
recommend that you set of all the
devices deploy them connect them to your
account and then you can see the stuff
coming through and Amazon I'll remember
to average or to give you access to that
through an API point of view so you can
aggregate and they were going to do give
you access to the original sounds
recordings but then the media got hold
of it and everyone freaked out I know
obviously this is very developer focus
but branding is probably something core
which we all should think about so there
is no UI so no designers yeah from a
branding point of view and what we've
found now is because every time we want
to play music so we've got Amazon Prime
so it defaults automatically to add
Prime music so if you want to play
anything on Spotify you have to say a
lexer play this on Spotify so about five
times a day you're saying the word
Spotify what we found is that this
the same way that now with my son the TV
is not the TV the TV is Netflix you know
turning off lights is not turn off
lights it's dimming the hue blobs so
from a brand point of view where there
is no UI there is no logo there is no
tagline your you better hope your
company name is speakable because if you
can't understand it then you've got no
chance of brand awareness and if there
is no brand it's going to Amazon one
thing which came which I which I which I
noticed a few weeks ago is there's a an
artist who called logic so I'm familiar
with this song so this is the name of
the song okay this is also a phone
number so basically the the song itself
is a razor brown kind of quite a low
suicidal kind of reflection song and the
phone number is the suicide prevention
hotline in America so they're obviously
from a so in today's society where we
listen to music through your phone and
through laptops showing the phone number
is awesome you know he slowly embeds
into people you know if you're ever
against that point you have some
visibility of where you could call try
and say that to Alexa like it's not it's
not going to work you know so what you
would say now is you'd say play logics
latest track on Spotify and what you
kind of potentially if you know if voice
was the prominent techno you've got
you've got to go to other market and
where the most kind of obviously impact
is going to be but if for each does gets
the point where it becomes the prominent
interface for this type of thing you'd
probably want to call it logic NS PR
which is the national suicide protection
lifeline I think they call it which then
just slowly builds off that kind of
awareness but it just shows it's just a
sense of remembering how to brand the
things you're going to build with how
people are going to ask for a or how
they're going to proceed it everyone
gets freaked out by security especially
business with this stuff because it's
sending voice and you know we built a an
application for a C suite a big
multi-billion pound company to be able
to query data and like what you know
being quite careful with what gets
translated and there's a little context
around it but the context is relevant to
the
and listening to it you know if you've
got a device in an office which has the
you know net you know apples next
earnings and you can just go up and
listen to it and then leave you know you
could make a few quid so they you know
it's eventually they'll get to a point
where they can fingerprint your voice so
that you can so that they can identify
you that being said you can get a user
identifier a user identifier and also a
device identifier so you can block
access and from if you're not if you're
using say as your to store the skill and
you can certificate you cific at the
communication but then you can obviously
then block out devices and have that
kind of management or a user level and
then what we started playing around with
was the ability to use what we call in
clever passwords so this is where you
kind of train it to say when you ask me
a maths question it's to off the real
answer times the current date like that
type of thing so it would change every
time you would ask it and but that's
more just in until we get to voice
fingerprints but you've instead you know
some record your voice and plays it back
you know and all then things have to
play a part with it that's grandma's own
first
so so basically a think of a skill as a
as an app in the simplest form and what
you would do is so we let's say we would
come up with a skill and I was I was
hoping we could have bought built a
swank one for the night but and let's
not get too adventurous and let's go
with something that kind of already
works but we could walk through the end
of how we potentially would make it so I
wanted to walk you through is one which
is an earlier prototype of basically the
nerf war game and just to give you an
idea of how that works so and there are
two ways to build a skill one is to use
an AWS is lambda technology or to use
kind of a gtps endpoint and the land of
stuff is what amazon craves about and
talks around so it's quite easy to find
information now about that so I'll kind
of leave that alone a bit but just to
think about it in the way of its AWS is
way to do service technology
you can just kind of do a lot of
wizardry type stuff and then you can
write JavaScript c-sharp
- etc and just upload kind of like a
function based language and access all
your AWS resources from there and the we
build 99% of the ones we've done a
Bonnie one really using the HTTP rule
there way and because a lot of our
clients have it within an agile and they
want to keep in there you don't expose
databases to the outside world they just
want to expose her I secure as they can
get em and to Alexa so so basically how
it works is you define some information
so you currently and it's expanding all
the time but at the time of when we
started doing this stuff there was US UK
and Germany with the three main
countries and recently they've now
expanded a lot to India they expanded to
Canada the other day so Amazon's mission
is to have Alexa working in any country
that Amazon operates because then you
can buy stuff so help with their
question go to the help and feedback
section of the ILECs what up so and if
you buy one of these and you're gonna
use it at dev just call it a code so
what you do then is obviously you give
it a name and then you give it a kind of
invocation name which as you can see
here and these can obviously be be
anything this is problem parem
so better cool so and then from here you
get you know the this so if you want to
publish it on to the store you have to
go through kind of certification they
make sure you know it's kind of like an
app store approval process the obvious
things are you know you can't call it
Alexa something you can't any brand
names and and and they will ask you you
know if you called it Tesco's or
something like that or they will ask you
for to prove the you are Tesco's but but
if you pick something quite generic and
then you kind of tight so there's
different types of skills and there are
you know there's things around smart
homes there's media there's a thing
called flash briefings if anyone's into
content or into kind of audio production
and I would if does anyone do anything
like podcasting or kind of radio or any
sound or music type stuff news or
anything special interests stuff and if
you know anyone who does there is a
massive opportunity that there would be
ahead of the curve to do kind of
three-minute morning flash briefings of
the company level or like your area you
know because then what you do is when
you add them to the device and you and
the flash briefings you can hand without
using the app so you can just say
download the Balmer Football Club flash
briefing and every morning you would
just get one minute intersperse of that
information along with say your BBC news
briefing and your weather update et
cetera so and but then there's the the
main thing which is the kind of default
skill which is obviously what most
people most people use so you define
everything in here and then there's an
interaction model but we'll come back to
that later and because we tend to not
start that way around even though this
is how they display it and then you
define kind of where your endpoints
going to live and all you're kind of
giving it is as a HTTP POST point has to
be on an SSL has to be a at least kind
of can't be a self cert and then you can
you can define regional endpoints and
you used to have to select kind of US or
Europe if you're obviously here versus
US because Layton sees obviously
important when it comes to audio
but now they're changing it because you
can have obviously a UK version and you
could have a German version and then you
can specify different end points based
on proximity to your users which is
which is quite nice if you're building
something that you were based you there
is the option to give permission to the
Amazon account and get more information
around you know there's like to-do lists
there now ability to do custom lists as
well as kind of address information so
you can see how it can be used over time
for more kind of purchase based behavior
and then from there we've got a good old
kind of SSL information and then test
now one thing which is quite good on
this and it's probably something which M
is worth playing around with first is
you can just type stuff in and it will
tell you you can hear it from Alex's
voice so I can just say hello and it
will come out there but what you can do
is you can paste in this SS ml so you
can say so you can you can basically
start to construct the type of thing
that you want to output without having
to build it there is a there is a
third-party tool come echo Iser I think
it's called helping rich the URL so you
can add it to the thing but and that is
kind of like a virtual Alexa device for
you to code against which is which is
quite good you can then also enter your
author instances here and it will tell
you the response it gets back so this
becomes kind of like a mini simulator so
you haven't gotta keep working to the
device and that being said it to be
honest the latency as you'll see in a
second is is really low what and then
obviously you go through publishing and
privacy and all that compliance to just
give you an idea from a from how it
works point of view is so the moment
I've got is anyone are you familiar with
egg Rock
so basically rock so it's tunneling
technology so you've run it from the
command line on your local machine and
then exposes your local host
a publicly accessible URL so you can
basically hit you can tell this to go to
the end point and it'll tunnel it so you
can debug straight to the device and
just for the purpose of this is run
scope proof which is an API interception
tool so basically what we can do is as
we do the requests we can go to run
scope here and we can see the requests
come through and all the information
that we get and then n Grogg will then
follow that into the local host so what
you'll see now is it's going run scope
and guac localhost
so that's gob viously quite an
aggressive route and you'll see how
quick that is this is if obviously if it
was in the you know as your data center
which is next to the Amazon data center
on a fiber connection so obviously the
speeds are only gonna be quicker so so
what we're going to do and what I'll do
is at the end because I don't want to
upset it I'll walk you through setting
up the device because there's a way to
do it which you don't have to do in your
phone and will save you so many hours of
pain if you have a virgin media box so
what we'll do here is so we built a so
we have lots of nerf guns in our office
and after we broke a few light bulbs we
thought we need to define some rules so
we wanted to build kind of like a
complex game using so you could say
things like it would basically play
music and then it you would say I've got
I've been hit or it would say real
different intervals it would say right
who's got three bullets left and they
could go and reclaim bullets from around
the office because obviously we're
growing up so we work a lot and now we
thought well let's do something quite
simple and straightforward and I'll show
you the example to give you an idea and
then obviously how we're going to build
onto it but just to give you an idea of
how this works from a code point of view
and I had a much cleaner solution but
I'm Web API let me down so I'm going to
show you a slightly Burrage version so
there's there's a project on github
called Alexis skill kit so c-sharp
a CP SDK
the we've got a version which will
probably publish at some point which is
a fork of it but it's got a lot of
niceties just wrapped around it to make
things a bit easier but we'll probably
open it open source it anyway but but
basically what you end up having is you
have your kind of you know your
controller endpoint and so this one here
basically what they're it so called a
speech lip is the simplest way point in
these kind of obviously like a condensed
bit of functionality and what we're
doing is we're just basically
initializing spiritually and then we're
going to return this response back
because what you're doing all you're
doing is you're intercepting a JSON
response from Alexa you're working some
stuff out and then your spin basically a
feedback and then that's what the device
says so to give you an idea so this is
running a breakpoint everything's
running so if I said Alexa open no.4
there was a problem with the requested
skills response so I'll run the
application it's like I planned it Alexa
start nerf war then there's and that's
going from run scope all the way back
through so you know that's pretty quick
and from this point if we request it's
guilty to long to respond so what you'll
see here is this is let me just finish
it off so that it gives us the response
so go to the back yeah so so this is
basically this is what we get from from
the device you get information about the
session the context and the request I'll
show you another one we get when we get
some types of information but as you can
see here there's you know the
application so you can verify that if
you wanted to especially from a
malicious point of view the session
identification some you know something
to identify the user just some
information around things are on the
device like is the audio playing and
then just some more information from
here and then you have the request which
in essence is there is the bulk of it
and even from this point of view you can
you know even that is quite a useful bit
of a bit of response for the time out
now if we run it to completion this time
so I'll just take this off collector
start nerve war
welcome to obvious mouth wall so what
we'll see now are you ready for me to
pick two players is what we've done here
is we've got the request through here
and what is picked up is just a launch
request so what our launch request is
it's that where you said around
sometimes the sentences at the start at
the end so that's basically saying we've
opened the app and what that does is it
fires into here into this so that the
SDK just gives you some kind of nice
hooks and you just get this kind of
oniton intent event and a non launch
event and the on launch event and just
enables you to obviously if you wanted
to say a welcome message you know
whatever it may be one thing that you'll
find is if you have a skill which people
start to use a lot and forwards rather
than five words makes a big difference
people start to get really myself
included you just get really frustrated
when you know people are just saying
stuff for the sake of it and when you
just want to get
information especially where it's meant
to save you time so you find out you go
on that you might find that you might
want to keep optimizing and optimizing
for more kind of power use as developer
as a user a comfort kind of grows with
it and this speech loop response
basically what this is doing is it's
just sending out the XML back to the
device and handling all the OAuth stuff
and that's built into the SDK and that
Amazon provides it's now from here I can
now I can now do something with it
so all we've got in all we've got in
here is this on intent method and what
that's doing is it's saying if the
attend that this one's very basic and if
the intent is this then then return this
message if not then just return this and
the schema for utterances it's as simple
as this document there's a very pretty
into an interaction builder which I'll
show you in a second and but in essence
what it is doing is it's just generating
this file and it so where this is good
as if you did build something to
automate this type of generation and
it's quite easy obviously just to pop
this type of stuff home Ralph with an
ammeter upload or manage it through the
UI and what basically what it's saying
is for the setup in 10 these are enough
so you can list as many as you want
these are the phrases that we expect
people to ask so for example like you
know this is where you'd have your you
know things like city or a date for
example and then and then from this you
then have this kind of schema which is
the different intents so we have a set
of intent and then we have the standoff
which once I play will make a bit more
sense you have to have a stop help and
cancel to publish and that's just cancel
obviously will terminate it and help
gives you you know a nine out of ten
times you're directing probably someone
to a web page or you will show a card
inside the LX app and Amidon say that
you should always go voice first so the
intent is that they shouldn't have to
move
to another system and if you can kind of
finish their interaction and then stop
obviously it's just an end you know it's
kind of like cancer but maybe you just
don't dismiss the session because they
might come back to it later time I'll
give you a an idea of one which just
maybe I've got our dig I'll dig one out
and once I've disconnected page to my to
show you in a minute but basically you
you define your intent you define your
utterances and and then you wire it up
into this into this method here and then
you it's as simple as you you get access
to some C sharp strongly typed objects
and then you do some stuff with it so
I'll let me run the application and you
can see what it does so the the now
John's here I can blame him so
originally I was meant to do this talk
in December so this was going to be a
lot more prepared than it is today
so so what the hope was for or it will
be and maybe it'll be ready for December
and it can be pre December's one which
is and you can you would be able to text
your name to a number which is wired to
Twilio and that would basically put
people into a random mirth war situation
and they would randomly pick two people
and then they would have a standoff okay
so that's the concept of the game and I
did in London we just did it based on
row and column row in C column so but I
forgot no scones today which you know
makes it very difficult but let me just
show you how it works
a lexer start nerve war welcome to
obvious north of wall and randomly
select players are you ready for me to
pick two players yes ten
9 it doesn't feel right let's build the
atman so that so this is select so then
so this is an example so basically what
happened there is it jump to the second
in 10 so there's too intense within the
application so what we're going to do is
we're going to fix it so if I go into
here and we look at the interaction
model what you can see is if I want to
assign the if I want to run the player
selection process I can select what I
can mention one of these three phrases
if I want to initiate the kind of
standoff once the two players were down
on the stage then I would say these two
phrases but it's it's it's not what's
happening because of the the prototype
is it's not it's not picking up it's not
making yes please a correlation to the
set up so maybe it's too generic maybe
it's you know something else is
conflicting with it because and other
intent has got it so we kind of need to
make it a bit more kind of obvious so it
knows so instead of saying yes please
let's go with it makes no sense
obviously but for the purpose of this it
all they're provers who is write them
and what you can do there is now you can
you literally just press save model and
that's been deployed to the device so
Alexa open therefore
welcome to of his mouth war select
randomly are you ready for me to pick
two players dev Southcoast
let's do both
there's no breakfast toys
I have selected third row five from the
left and second row two from the right
please come down to play can't offer you
one give them a round of applause so so
so what's happening there is so
basically it's as you can see it's five
trying to find that the sentence that it
can relate to and then all this doing is
dropping into dropping into this end
point dropping into the speech lip and
then from the speech that it's finding
the intent and trying to match it
closest to that based on the iterance
--is that's come in so that's where it's
important that you find them and in this
case it's obviously default into the set
of one obviously if you were going to do
this in where we've done one to
production you would drop it into our
you sure do you want ask something else
you try and give people a way to kind of
get back to where they are and then when
we go into the into the setup you can
see in here all we're doing is kind of
monitoring the stage data state so what
happens is in the session you have
attributes and the attributes you can
get the values from and you can also
push values to and they persist as you
go through and what happens as you go
through this you send back a flag to say
if that's the end of the session or not
so if you ask someone one thing you can
send back a flag saying that's all I
want to know and it will just turn the
lights off if not then the light stays
on and is waiting for another bit of
prompt you're you're only allowed to
send back a maximum it's advised it's
less than eight seconds but you can send
back a maximum of 90 seconds before he
gets caught off especially where it
comes to audio if you're going to do
anything more than that then you
probably want to look more into a media
stream type thing now from here as you
can see we've kind of in this example
all we're doing each time it gets an
input we're just increment in a value
just to go from stage one to stage two
and of you know very like that you know
block 1 block 2 block 3 quite kind of
basic but as you can see here this is
that this is the the output that we're
sending back and it is quite straight
forward so we're saying let's do this
and there's a there's there's some kind
of you can give a little twang to some
of the words to some of the letters you
can whisper
they've got some things that amazon have
created which just are a bit more bold
which are not a part of the SML kind of
specification but what you can do is
then you can intersperse it with an
audio tag and just give it a URL and the
mp3s have to be specially especially
encoded bit rate which you can you can
output from anything like audition quite
straightforward there are awesome you
can do it from them what
what's the audio like ffmpeg type thing
and you can you can go and let the
command line of it and they give you the
code for it to spit it out but it's
mainly just optimized for speed but then
you can drop back into text and then if
you wanted to drop back into audio so
actually and then obviously on this one
we just end the session the next stage
then becomes things like so Alexa start
office no for Alexis start no for
welcome to office nor for war begin
please stand back to back and take three
steps forward when I start counting I am
gonna count down from ten Bernie draw
got it got it let's do this so there we
go three so there we gets look again so
therefore we have to go into the model
and this is this is a lot of what the
actual work is it's not the code in the
coding is all pretty straightforward is
getting that model right and learning
the thing that that is going to fire it
so here the actual interaction is start
the draw so that's the thing I need to
say so what you'll find is if people use
it you'll find the things that they
actually are going to say and then you
would add these austell rinses in as
they go and as you learn and learn what
people are going to do so
Alexis d'Arnaud for welcome to office
north wall begin please stand
back-to-back and take three steps
forward when I start counting I'm gonna
count back from 10 then you draw got it
stop the draw let's do this that's
illicitly
this is the this is the fun so let's go
with got it okay Alexa open no.4 welcome
to office north wall begin please stand
back-to-back and take three steps
forward when I start counting I'm gonna
count back from 10 then you draw got it
got it let's do this so what we'll do
now is let's debug it so from here we'll
grab this in ten Alexa start and
therefore welcome to office more for war
begin so there we go we've got our first
one in please stand back-to-back and
take three steps forward when I start
counting I'm gonna count back from 10
then you draw got it got it
see in here the intent is coming through
is still defining a set up so this is
again this is where you have to kind of
really request its guilty too long to
respond so you kind of gotta go back in
and go right what is it what what is it
thinking it's getting and then as you go
through it's really just kind of honing
in these sentences so it's never
normally this part Alexis no for there
was a problem with the requested skills
respond run it Alexis no for welcome to
office never wall begin please stand
back-to-back and take three steps
forward when I start counting I'm gonna
count back from 10 then you drop got it
begin
ten nine it doesn't feel right let's
build the atmosphere a bit
eight seven six five it will continue on
as you can imagine the standoff will
happen and so the the thing as you can
see the thing with it is get ready for
it cool and then people find F guns and
everyone has fun but the again it just
it just cements to the importance of the
language bit because that's the bit that
is obviously the bit that gets
four-string in and if it gets
frustrating for you as developers it's
gonna get frustrating as a user so it's
really optimizing that the the thing
from from the point of view of then
having this information what you can see
is you can start to see the requests
that come through and then you can start
to kind of optimize based on how things
are interacting obviously you can then
look at that request if you intercept it
even in kind of a beta set you can now
run it to a kind of a beta beta
environment where you can where you can
test it to a small group of users and
which you couldn't do before and then
you'd have to keep it in there if you
wanted to keep it private and you didn't
want to publish it but an amazon are
really driving forward and the ability
to generate money people are getting
paid it's not a lot and especially
things around game health you know the
top applications to give you an idea are
music meditation and gaming at the
moment so we're kind of at that point in
its kind of development and so if we go
to setup is right do not be offended it
will be worth it and hopefully they
haven't changed the rules and this will
let me down Alexa start nerf war
welcome to office never war randomly
select players are you ready for me to
pick to play so basically it will beep
swear words and then I think it finds
offensive you can obviously go you can't
obviously around that spice by saying
letters differently but you know it kind
of shows Amazon's intent through it as a
product that it's kind of really is
going for privacy focused especially
around children and family environments
and so you just got to kind of be aware
of them types of things if you're
interested in like rich said if you you
know I'm getting punched in the face in
a few weeks for charity but linked to
that I've been kind of trying to
automate my life and outsource or
automate anything and I'm bid document
it so if you're interested in that kind
of life hack stuff then check it out
there</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>