<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Nesquirk + Hapi + Nes + MiniMongo for Gloryful Reactive Apps - LNUG - September 2017 | Coder Coacher - Coaching Coders</title><meta content="Nesquirk + Hapi + Nes + MiniMongo for Gloryful Reactive Apps - LNUG - September 2017 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Pusher/">Pusher</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Nesquirk + Hapi + Nes + MiniMongo for Gloryful Reactive Apps - LNUG - September 2017</b></h2><h5 class="post__date">2018-04-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Qry2nf3Pu6g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello el nug you know that was pretty
good very nice to see you
so Ness quark so I've got a talk for you
it's pretty demo heavy I'm gonna do some
live coding you are gonna be my linter
so if I make mistakes then tell me
because you know it doesn't work if it
goes wrong so here we go I put some
emojis in okay great what are you even
talking about I'm talking about today
your HTTP API and how it makes for
sadface UI and I'm gonna talk a little
bit about meteor and what it does with
pub subs and how I quite like the way
that works and how I wish it worked in
other in other applications that I have
and we're going to talk about your
legacy node HTTP JSON API and we're
going to talk about how you can turn
that legacy API into a mega C API
without having to rewrite it which would
be just only red so that's that's light
enough slides enough slides already
let's demo does it demo yes yes it does
so here we go we're going to do some
demoing of something that I built if I
can choose figure out ok that's all
running that's great this M or no nope
can I see this one too please yeah great
so I need a that one yep cool and here
we go so I'm sorry I have to apologize
but it's a to-do list
and it's a to-do list we know to do list
below we're all good with that and to-do
lists you can check off and be like yeah
done now you can be like add a number to
do what do I need to do that was boring
anyone anything interesting what don't
repeat yourself
a dance with sorry it's the Hat I don't
know
dance with pizza that's cool that's of
physic I don't know why I'm like this
might be a really long talk if we do so
so we got this we got this this app you
can add to do so you can delete the
boring ones and you can edit things like
dance with lots of Pete so that's kind
of cool yeah to do this we know to do
lists we're good at that we so let me
show you the code because you're all
kind of nodi people or JavaScript people
at least yeah this is the code so it's
basically a react project and I don't
know why showing you this one first
that's not what I wanted to show you but
you know on the server on a server this
is the node bit it's a happy how many of
you use a happy okay there's this some
this about 50% if you round it up
so it's all irrelevant that's good
so Mongo how many people use Mongo all
right hundred percent if you're on earth
and so this is a really short file with
some code in it but it's basically the
server side component of what you just
saw and it's a happy server which is
kind of a little bit like Express but
different and yeah you do define some
routes so we've got some routes here
we've got like it I get route for
getting all of us to do to do is in our
database we've got a get route for
getting single to do for when we're
editing them we want to get we've got a
route for like adding a new one to to
the database which is real good so tell
me if this any of this is like really
complex or like I don't get it but this
should hopefully be fairly fairly
self-explanatory handlers request comes
in you do something with the data that
comes in you what we're doing basically
is just inserting it's a database here
and so we've got other routes editing
one it's patch and we specify the ID of
the to do that we want to edit in a URL
and then we can remove them as well
using a delete so yeah this is your
legacy API basically you've got text
this doesn't have test but you would
have like many more HTTP endpoints that
you your app your existing app might
might be using and it's just there it's
chugging away it does a good job it's
it's there awesome so that's kind of
cool the UI is is your basic reactive
react to react to you thing I don't know
if any of you do this but like we've got
a so the to-do list so this is the
component this is the homepage basically
and it takes props which are like the
two dues that we want it to render and
we've got like some functions for like
when we click that the check box for
doing like I've done it to do or not and
so these are callbacks and on remove and
we've got like a loading
cool back as well so this is kind of fun
and this just basically renders out the
to-do list and then so I split out like
the else does this but I split out the
the kind of fetching the two dues from
the API and mutating them like as in
like specifying a let done or or their
remove or I want to remove it into a
separate kind of wrapper component which
just talks to this one up here so that's
kind of fun what it does is when the
component mounts it gets all of the two
dues so when it's when the component
becomes on the page it uses the fetch
API to go and call our server-side
methods and render data dues so that's
kind of fun and then when we get like
the on done callbacks it also uses the
fetch API to call our server-side routes
for mutating the their to-do and the
same for a remove and and that's there's
not a lot more to it so that's kind of
fun
so this is cool and this wrong window
can we go to you so we've got this one
I need a here we go so so this is fun
until we've realized that like the
experience that that we have when
there's other we're using this so like
it's fun when there's only one person we
were to do this but like as a shared
to-do list it's not much fun because I
fired like go to the pub here I see that
but the other person didn't see that
because it's not really it's not
reactive it's just that the problem is
that when this page is rendered that's
when the data's been fetched and
rendered on the screen so if i refresh
the page then i can see that but like if
i then decide that i've gone to the pub
I can I can know that I've done that but
until this guy the other guy refreshes
to the page and they don't know they
don't know that I've gone gone to the
pub has been done
we can argue about the merits of having
a shared to-do list but this is the kind
of issue that you have with your UI when
you have just a kind of JSON API you
know you might be you like this is
fairly kind of naive approach to it it's
it's just calling at like HTTP API when
a component mounts you might be using
something a bit more bit more fancy to
do that like Redux or rxs or whatever
but you yeah that that's that's what's
happening here and it's kind of annoying
so so back to the slides because I've
lost where I was so what did we see
let's review so we've got a happy JSON
back end and it stores stuff in a Mongo
sometimes we've got a reactive front end
which is built in react and it kind of
it kind of works but it's not great when
other people are using it because I
don't get to see I don't get to see the
changes so what we actually are seeing a
lot of time is stale data's which is not
great so then the other thing I was
going to talk about today was meteor and
what meteor is is a framework for nodejs
and it uses MongoDB and it allows you to
pick your front-end so you can choose
like angular or blaze which is
handlebars basically but they you know
their main kind of focus is react so you
know whatever and then it also uses
WebSockets which is kind of fun
using WebSockets to to do stuff like
read like whenever you want to like
fetch some data you would like subscribe
to a publication that have been south on
the server and then you get you get you
get data back but you also get like
changes back and what's kind of
interesting with meteor and pub/sub is
that it's not it's not kind of I don't
know how many different pub solves
anyone's use but
whenever I seem to see it I see you get
kind of messages and it's up to you to
decide what to do with that message and
it's like this this has been update this
fingers been updated and what meteor
does is kind of takes that message and
it it essentially updates its local
store of of data so if you've subscribed
to a bunch of data on the server like
like a you know like a query on a Mongo
database later I want all of the to Do's
then what happens on in meteor world is
that there's also like a store on your
client side which is updated with the -
duze when you subscribe to that set up
publication so so that's the kind of
cool thing about it you'll see a bit
more later but the the idea is that the
data moves from the server to the client
and then and then you you just query
Mongo on the client as if you it was a
Mongo on the server which is kind of
cool it's called mini Mongo and it's
basically a small Mongo cool and then so
it's got kind of remote procedure calls
when you want to do stuff like mutating
your your data so you generally call a
method musicals and meteor methods over
the WebSocket to say I want to I want to
update this thing and change something
or remove it or or whatever so these are
the two cool things that it has that
makes meteor so so rad and awesome cool
so I've been talking again for too many
minutes let's fit so these this is I'm
the these are this is hey dougie and he
is a dog and if you have children you
might know that and this is my knife now
so I just you should totally check out
hey dougie and he's very cool gonna do
that right now now it's time for demos
again all right it's for a meteor
oh wait don't give away the dirt so what
what I'm going to do now to show you how
how awesome it is I'm going to take what
we
got already and build a meteor version
of it so what I will do is I will just
move into the directory of the meteor
stuffs I've done some of this so it's
not just me coding like the whole thing
so yeah to do meteor that sir
in meat you replace that one on so if we
were to do this in meteor and just to
show you how it might work we would go
and add this so like I said we chassés
pub/sub kind of thing and you would go
in and add a publication for the to do's
and you would add it in this
publication's file and we need some
things here we need meteor first of all
oh and we need what else do we need so
we need our - dues and so - dues are
just a meteor manga collection and it
looks like this I wouldn't worry too
much about the allowed staff but it's
just a collection and it would cut we
don't access them in the same way as we
were before like DB door doctor do you
still find it's just slightly different
in meteor yes you're right yeah great
cool and then so then we can set up
these publications by using the meteor
publish command and we're gonna stay
like okay when I'm on the home page I
want to subscribe to all of the - do's
and I'm going to call this publication -
do's and then I'm going to basically get
all of the studies to do is not fine so
this is similar syntax to what you you'd
expect if you're in in manga land and
you find all
we we only want to get some of the
fields for for this so like we'll get
the ID field so this is slightly
different to the way you specify in them
in Mongo which get a ID title and the
created and the done flag these are some
fields that they have and then we sort
them by created that so then if we look
at what what we were doing in the server
side for forgetting order to do's
previously in kind of happy version is
very similar we're finding all of them
and we're getting this fields and we're
sorting them but now we're in meteor
land so I've created this publication in
meteor I'm gonna create another one for
to like and subscribing to a particular
to do and say to do ID and then then
actually you know what we can't just
copy this and change it because that
might actually be come on to do okay so
you have to return a cursor from a
meteor publication you never really
returned one thing you return like in it
because it gets put into the the
collection on the client side you can
find one from that collection but anyway
way too much about that and then we will
we don't need object ID because all meet
your IDs all IDs in meteor Mongo
collections are strings so it's okay and
and that's that that's that's our
publication so we can subscribe to dues
on the homepage we can subscribe to a
particular to do on the edit page so
yeah fun times then like I said meet you
this concept of RPC and meteor methods I
should say really I've set up the the
couple of existing ones and again if we
look back at our happy server
we've got adding is basically this and
if we look at the methods already here
this is very similar snot helpful if I
do that is it so right cool
these are very similar things they're
the same things these these are very
much you get it so this to do is to add
this at reduced update which is edit
again
we didn't find the interesting thing
here is that in the happy version we
find one after it's been updated and
returned it but we don't need to do that
for meteor and because because we're
subscribe to this of to dues if I change
one on the server that meteor will
automatically send the updated to do
back down to the client if if I'm
interested in it and and that's rad
so I'm just gonna add what we're missing
here is just to do store to Todd's
don't remove thanks cool and then we can
remove them how do we do that tell you
load again and then presumably I can
just copy this again and change it so
it's doing those doc to remove ID is
yeah cool nice that's it and then so
once we've got assert the server-side
setup then we can look at the
client-side what we can do is grab hold
of
okay so I'm gonna copy my front-end my
homepage I've already copied over these
these the other pages so the so that in
here we really make they're in here and
I've already copied them over and
altered them already I'm just going to
do the home page quickly to show you how
that might work
so Lucien
fetch and list to you cool so I have
just copied that over that's fun so
we've got that here and we need a couple
of things now we need we need meet here
again important media we need meteor
because we're going to be cooling those
methods and the way you do it is the
methods that we just defined on the
server and the way you do it is through
that global meteor and global but the
meteor object what else do we need so we
want imp or create container where we
media data and so yeah with the
container like instead of like
publishing to dues from our arrest a
point we are going to subscribe to to do
publication and create container is
going to allow us to do that but you'll
see that in just a second so we also
want the e to deuce so we're in the
client side now but we're importing the
meteors Mongo collection in our client
side code which is kind of fun and we
are
no dad it out that that's not right so
once we've got those things we can we
can do some some interesting stuff so
we're gonna use create container so
create container that takes a function
the we we use to return data for our to
do list container so rather than to do
this container fetching its own to dues
and specifying we're holding state of
when it's loading or not that's going to
be the job of the container here in this
function here we this function gets
passed the props that were they were
passed to it and and in there we can
subscribe to do we can subscribe to our
to do this and the idea is we return we
would return the to dues from our Mongo
collection from our to-do collection so
we just do to do thought find and then
we're going to sort them but I created
at so we're using the same query that we
used on the server just kind of cool and
then out we need to we need to fetch
these so so today's will find in meteor
land will return us like a cursor and
fetch will get all of the documents in
that cursor and give us back an array so
that's just a quirk of meteor and we can
maintain this kind of loading state
because our subscriptions the handle
that I just I just I just got
got here has a property called ready
which I can query to see if the
subscription has finished its initial
load of the data that I've asked for and
that's getting to not give me the right
thing unless I put negate it so yeah so
this is fun but yeah so what happens is
this container is it will render this
to-do list the container will render a
container which renders that to do this
but what happens is when this winner's
container that we've created using
Create container mounts it will call our
get data function and I'll get data
function is like I want to subscribe to
these two dues at some point that two
dues will come down from the server and
get put in the two dues collection for
us and and initially this will just be
so this will just be like an empty array
but when they do finally come down this
function will be called again when the
collection is ready when you know data
changes in the collections and so and
and these are the properties of this
object that I returned here are passed
as props to the to-do-list container it
means that we no longer need our state
here because we are not managing that
this container is not managing that all
so I can just get that from props now
which is cool and then I can change page
and then then I don't need this whole
chunk here which is like fetching the
two dues in the first place because
that's being handled by the subscription
and we like are on done okay so this is
the interesting bit so now we these two
things are not we're not using this
because we're in meteor so to cool our
meteor function meteor method for
toggling the done state we can just do
meteor that called
and we called it let's have a look what
we call it so it's to do store update so
we can just call
some effort let me just double-check
choose that update yeah and we give it
the to do that we want to update and the
the state that's done flag down and then
their my error but we don't care about
that really I can't not do this so maybe
you need to get out the way to do is
that remove and the same same thing goes
here this is how we call meteor methods
just meet you look cool so that's kind
of fun and then and then so were
something that I missed out is that if
you look at this this to-do list after
we removed or went after he changed
something we we called this fetch to do
this function which would go and fetch
them all just we've we've changed
something so I need to get a new
girlfriend updated version of it and
yeah so we do that there but we also do
it on remove and we can also we could
also like update our local kind of view
of the world and if we wanted or go and
fetch a new set of everything but you
don't have to do that here because we
are calling meteor we're updating the
the one of the documents in the set of
documents that we're interested in so
meteor will then automatically propagate
that change back down to us and then and
then the data get data function will be
called and then new props have we sent
back down so there's less coding to do
and things happen a bit more
automatically which is which is a good
fun yeah Wow
okay cool I think I've done with this
now that's great so I did a lot of
coding that took much longer than I
thought it would but now I can hopefully
meaty meaty or this and if I'm really
lucky it might work
we all saw no errors right
okay all right okay it's apparently
running okay yeah yeah so now we've got
these two things and now hopefully I
should just be able to power power any
of these that changes add one delete it
over here okay goodbye it gone okay
goodbye right yeah cool so that's that
well you're wrong it's not awesome
nobody who gets to okay how many of you
work on greenfield projects all day
every day
not many okay
not everyone works on Greenfoot projects
so they can't just choose meteor and
just create a new application and start
from the scratch they also don't have
the privilege to if they've got a big
REST API that is already there they
don't necessarily have the time or
budget or whatever to go and just
rewrite it and that and that is kind of
the issue and kind of what I want to
address I've got this problem in I've
got a big JSON API that is you know it
works it works well that's nice as
happiest so yeah I'm okay with that
but the front end is just a bit not very
nice so what I would quite like to do is
have the magic of what just happened
there happen for me in my old app not
having to rewrite it so so there we go
nesquik nesquik is Ness and Ness is
WebSockets for happy which is which is
just read it has built in it has some
pub/sub stuff which is really cool and
it's slightly different to meter so the
the like I said the pub sub in Ness is
basically it will works on the
and then you basically rather than ness
remembering what document set you are
currently subscribed to it gets you to
manage what what has changed in that
particular set potentially so for
instance if you were to like update a
document you then all you need to do is
just tell all connected clients that are
subscribed to that for to that
particular document that endpoint and
that document has been updated so it's
not it's not quite so automatic but it's
good enough it's good enough for me
because I don't have to re-implement it
it just it just works and what's really
awesome is that over your WebSockets is
you can call your existing endpoint so
all your endpoints that are being used
by your legacy app that have tests and
are working great can still work but
they're just called over WebSockets and
you can also fall back to just HTTP if
you're if you're you know if your app it
works in in like some legacy environment
for the some of your clients but others
they can so so that's kind of cool yes
yes so nice and quick and I don't know
quick so Mingo is the meanie manga so I
talked about mini Mongo and I listed the
meteor mini Mongo is really difficult to
kind of extract it from the meteor
project and I also looked at mini Mongo
library on NPM and it was just not great
it had a lot of stuff that I didn't want
it but then I found this awesome one if
you like Flash Gordon you will like this
the mingo it's called Mingo and is it's
basically Mongo Mongo queries but
implemented in JavaScript so the way in
which we queried the database for stuff
in in meteor on the client we can do
something similar in Nesquik which is
awesome does a demo ok so ok yes it does
what what I'm gonna do now is gonna take
our old our old app and we're going to
convert it in
a new a new miss quirk app without
having to rewrite the back end only
minor minor changes and and hopefully
that will be awesome and it will work in
a very similar way so what do we need to
do let's go do some more coding cool
let's quit that we to do this Greg and
so we can just forget about all of this
and we're now in here
war which is basically what was in this
solutions to do fetch and put in some
instances I've already done already and
we're just going to do or did before and
and desk work up the home page so let's
do it what I'm going to do is I'm just
going to create a new to-do list I'm
going to grab the contents of the
existing one I'm gonna put it in there
I'm going to create a new server dot JS
file and I couldn't grab the contents of
the existing one I'm going to put it in
there and then just move that out of the
way what I need to do here so we just
need to require this square and then
from there we just need to in in happy
we just need to register the plugin and
then what we're going to do is similar
thing to the thing we didn't meet here
we're going to set up our publications
our subscriptions that people can
subscribe to and you do that Vyas
the server thank you thank you it's
shorter to type then this quirk
I thought thought subscription and so
we're going to do something similar that
we did before we need a few arguments in
here and this is we're gonna call us so
we have to do with Ness is you have to
specify a path as if it were like a path
in your rest api like a URL path rather
than just having words that you can
subscribe to so two do's and what do we
get we get this is slightly different
but we can use it in a very similar way
what happens here is like just like with
with meteor when we had our server
publication here so this function is
called when people subscribe to to this
not that sorry so this function is
called when people subscribe to the two
do's and we're going to do basically the
same thing but in asynchronous the
JavaScript world to do is we have to do
is reply that's great so we've got one
subscription and we can do to do that
and so for subscribing to a single and
to do
great and then so like I said with the
difference between meteor and Ness is
that you manage your subscriptions
manually so once you've once you
subscribe to something your code has to
then inform all of the connected
WebSockets when things change so for
instance like if I've added a new anu i
need to do to the collection i just need
to do so at the end Kudo ad and that
will we need to tell it what what
subscription we're talking about and the
the the thing that has been updated
same thing for editing so we call update
so we need to yeah so we've got two
subscriptions that we need to inform
about this we need to inform the order
to do subscription but we also we need
to inform the that the to do for the
single to description as well so we do
that by by doing something like this and
then a similar thing for removing remove
so we say alter dues this to do has been
removed all for this particular to do oh
wait a minute what what's going on here
for remove you only have to specify the
the ID of the to do that was that was
actually removed so that's that's it for
the server-side so we haven't we haven't
really changed the existing endpoints
we've just added a couple of chunks of
code to manage
subscriptions so that kind of fun and
then so to-do list again same sort of
same sort of thing right so we're back
on the client we're back on the homepage
we're gonna we get a similar create
container
crate container and we get a with River
with clients so we've client allows us
to access the function the the client
the instance of so like when we are
calling the meteor methods we're using
meteor call in this in Nesquik world
where you're going to just use the
client which is the WebSocket client to
call our existing endpoints and with
client is just a helper that allows us
to access the client that is currently
connected that is in the world network
so that's that where we were so then we
go all the way down to to the end again
and we do something very similar great
container Wow we've got a similar
function that we use function and then
we that gets given our props we can you
we get a handle as well and instead of
using meteor we use this this looks
scribe but the other thing we need now
is we're going to subscribe to to do
your subscription but we're also going
to pass it our to do is collection so
this is different to what meteor does
but where is it so that is in
domaine why / - those I think I put it
there to do the kappa door rad thank you
and then again we do we return our to
deuce find okay and so this is slightly
the same sort as you would do it in
regular Mungo land created at and then
okay so meet you had fetch Mingo has all
that's kind of fun I can again so we can
do loading know handled already just
kind of cool there we go and then and
then then basically the same thing and
we don't need a state because that's
being giving to us through their props I
will also change this and then again we
don't need the fish to do this and when
we're done we are not going to do this
and we're not going to do this either
but now we can we can call this doc
client cool what do we call okay client
request
and we will request to do slash and then
to do ID and then we need to say well we
need to say these things so here we are
client is cooling our existing endpoints
and which is cool yeah it's got some
headers should have checked that this
works without these because this takes
ages to type cool great so that's that
that's a yeah yeah you're right sorry
delete this is patch this is patch and
then we've got a payload the errors are
getting more frequent
sorry pill is done that's great and then
we just have a maybe it didn't work
problem
okay cool so then this is similar for
remove nope not there to do such to do
ID and we method the lead and we don't
have a payload because there's nothing
to okay and nice so that's cool that we
are we're calling existing in pointless
fun times and that's it I think I hope
and MP am around wash oh no so that this
code is the exact code that I just write
for 10 but then we should just be able
to refresh this guy we've got back
because we are using our Mongo from
before we've got like the old to-do list
but hopefully if we have any luck this
will work in exactly the same way as it
did before
and that's and that's that how awesome
so that's cool how does it work the
surface really fin wrapper over nares
the when we do when we did the
subscription all it does if you ever use
nest before it's just cool neces
subscription function with a non
SUBSCRIBE option which is kind of rad
the so we're managing our publication
when we call add update or remove we're
just calling server dot publish with
path and and we're like expanding our
call to this this function with a
message with which has a kind of an
added already added updated or remove
property and some data sort of things
that had actually changed on the client
the difference that you saw when we
subscribing was that we we when we
subscribed we we we actually gave it the
collection that we were that we wanted
to it to put the things from this
description in so so
let's go so when we subscribe we set up
a kind of mapping between that's par for
the subscription name and the collection
where we want the things to go so when
we get messages for that particular
subscription we know that we need for
this collection we need to either add
remove or update it and then collections
are just event emitters specifically
they have a change event which is just
emitted whenever things change and
they're basically just the proxy Domingo
which is kind of rad and then so create
container as you saw like with meteor
calls get data on mount it sets take for
whatever get data returns and then when
when the state changes the component
that it's wrapping gets gets updated
with the state and so what's interesting
so that kind of yeah the kind of key
part about this is when we call get data
it listens to the collections that we
use so when when get data is called we
do some subscribing we use this thought
to subscribe to subscribe and when when
we did so we gave it the collection so
we know which collections are being used
by our component and we can subscribe to
the changes and then so when when
changes happen we can call get data get
data again and then we can remember and
that's it yeah
significantly longer than I'd hoped for
but yes that's it thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>