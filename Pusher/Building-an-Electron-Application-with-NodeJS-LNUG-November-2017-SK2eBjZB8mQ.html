<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building an Electron Application with NodeJS - LNUG - November 2017 | Coder Coacher - Coaching Coders</title><meta content="Building an Electron Application with NodeJS - LNUG - November 2017 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Pusher/">Pusher</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building an Electron Application with NodeJS - LNUG - November 2017</b></h2><h5 class="post__date">2018-03-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SK2eBjZB8mQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm here today to talk to you about
something I find quite interesting
programming you know I could program any
which time in anywhere
my missus she once said that and she
came back from work and she used to work
late and I was laying on the bed and she
sort of shook me to wake me up and guess
what I said she shook me and I said hey
she my why html5 and then she just like
started burst into laughter and then she
woke me up and said you were talking
about html5 and then I'm more recently
where we talk about my sleeping
escapades she said that you were
sleeping and you said something like
yeah I'll build a program in the morning
to do that you know and all sorts of
things but I'm you know aside from that
you know it's a very subtle introduction
to and it's very bright light now I'm
gonna have a little you know
presentation we've been our Baker I'm
Bernard Baker so hello everybody hello
Ann ugh okay so I'll try and keep it
light and not get too technical but we
aren't gonna do any live coding but we
will look at some code so you'll be able
to scrutinize my code and say I use
rubbish but I'm much better than you you
know and then otherwise looking and say
like oh yeah you know look at that um I
think I'm one of the other things that I
would like to say is that something that
drives me you know essentially it's like
people like you people who are motivate
to get together for free beer and pee so
I mean to come and listen to interesting
talks about technology you know yeah but
we do like a free bit of you so thanks
Sarah yeah you know and a big shout out
to trio as well we're looking into some
roles for me you know and so let's move
on so hello Ellen ugh you know and we're
going to give a quick overview so today
I'll be giving a talk about building an
app using electron and I won't get too
technical because I'm one of the things
I've learned and you know the industry I
work in is that save the technicalities
for the programming you know thanks to
be 10 or quarter fees we don't
understand it you know because it only
makes them look a little bit less more
intelligent than you especially if
there's a stakeholder around so let's
move on and a little bit about me why is
it always about me so I'm Bernard Baker
I'm I currently work at Sky I'm a
digital innovation specialists and I've
been working there for three years I
used to work with this charming chap
called
Anson who I am trained up you know to be
a better programmer who then left took a
10k pay rise and went off somewhere else
no thanks Samson but we're still friends
and he comes around to visit me at my
door so you know that's great you know
when you come around again tonight okay
tonight yeah so Samson coming home
you're coming home with me too man yeah
okay so I've been programming
commercially for over ten years and I'm
language agnostic so then to give you a
little definition if you want to be a
good coder like I was talking to the sky
before and you've got to learn to look
at the world in a series of programs
into connecting services in
infrastructure you know let's not get
technical but you know if your boss
comes over and says I need that report
then you're the person who puts together
a solution to present that report and
you've got to make it as easy as
possible for them to understand what's
presented in that report so they want
figures me two figures a little bit
bigger you know and don't put the
calculations in there don't write stuff
then you're not gonna understand you
know and then moving on from that so
let's just say that JavaScript is my
go-to language for online solutions and
the reason it's JavaScript is
predominantly because every browser
supports the flavor of it you may get
some variations of web browsers and
inflammations of WebKit such as
conqueror who do that sort of stuff but
then you've also got chronium you know
so if everybody's familiar with chromium
well if you're not I'll give you a small
definition of it a little bit later and
you got canary what the guys working
with which is like the beetle released
nightly release of JavaScript you know a
lot running inside the chrome engine you
know light and comfortable with a WebKit
add-ons and so forth and whatever else
you want to use so then that could have
hit me I'm gonna sue
so then other than the Bosch you know
lot of bashing some of you guys are
thinking on fire
you know Bosch is my goatee language for
Linux server apps so essentially the
reason I chose bash is because it's such
a great language to work with I mean you
can write virtually anything in bash and
then you can just do a change more to
change oh and run your program and bam
it's one and then a cron job and you
know Merrill Lynch and all those banking
guys do it you know they run you'd be
surprised how many of their job Stoppers
cron jobs you think what what if the
server goes down where it's running on a
virtual machine so in a moment it goes
down it spits back up again
your cron jobs already listed and
badness off again bash hey here we go
cron jobs yay
so you know and I love food you know so
you may already see if I turn to the
side wait wait wait let's just see it
there we go
yeah you can feel slightly different so
soul of food you know and Sampson you
know a lot of food as well you know yeah
yeah we used to work together good times
apart from the time we were sleeping in
a chair so let's get started let's talk
about something interesting so building
an electron application with no js' love
code in people I love coding so some of
you may be familiar with what this is
this is the symbol given to an electron
and you know like in chemistry or was it
geography I don't know I fill the
subject but um if you look around this
and what you'll find is that looking
over to the left of the icon you'll see
like what appears to be like an email
and a camera location some sort of
message some sort of beacon around
somebody who looks like a really strange
version of Jesus you know some stars and
pens and some notepads but if you just
look at those you think they're pictures
but they're actually ideas of what you
can do and build using electron so you
can send email take photos anything you
can pretty much do in the web and
anything you can pretty much do with
JavaScript and libraries you can pretty
much bundle up and throw it into an
electron
which one on the desktop so electron you
know what's electron you know you mean
that guy from the Marvel Comics electro
no not him or you mean that guy
spider-man you know or what about the
Hulk you know or then again super me
yeah that's what we're talking about so
hashtag no people no that's not what
we're talking about we're talking about
desktop applications so essentially
we're saying electron allows you to
build cross-platform desktop apps with
JavaScript HTML and CSS so if any of you
people have ever come across building a
web application well let's just say a
big basic regular web site you know you
put it together you tend to think of a
design in your head you try and
translate the design from your head to
the web and it doesn't look anything
like it should you know then you go
about programming do some CSS you add
some JavaScript which is for all
front-end interactivity but with the
advent of node now server-side
interactivity you then produce something
which is a little bit more reassuring on
the eye you know essentially you don't
want to go off and be a great developer
but not know how to design anything
because that's not gonna get you
anywhere it's really that easy
so like I'm gonna say that again so
electron allows you to build
cross-platform desktop applications for
the Mac Linux and Windows there are some
subtle variations though in the electron
framework for those different
implementations on those different
deployment platforms so then effectively
you may need to venture out and branch
your project to just to sustain or to
facilitate certain functions on
different platforms but generally it
does a pretty good job of building
cross-platform desktop apps and it's
really that easy and I'm going to show
you how easy is because I'm going to
show you the source code for an app I
built over at Sky and then when you see
it you'll be like oh I can do that and
I'm hoping that you can so electron user
chromium and no jazz so just to get an
idea of chromium than nodejs so chromium
is an open source web browsers are
pretty much
Google Chrome that you can use in your
projects so if you've ever used Google
Chrome and if you don't like Chrome then
I don't want to speech anymore but then
what we're looking at is I'm essentially
using chromium which is an open-source
version you can pretty much download
that into your projects and then utilize
it in many different ways but then when
you're working with electron let's just
say that you have a shell chromium is
your browser inside chromium is your
website or web app that you built which
you could build for the web as well but
you're putting on a desktop and i'll
show you a reason that it's been put on
the desktop for this solution that I'm
going to demonstrate towards the end of
the presentation so you can build your
app with HTML CSS and JavaScript and
then also we're going to take a look at
nodejs which is an open source server
framework so everybody here should know
what no jess's so is there anybody here
that knows who doesn't know what
chromium is so far anybody raise a hand
yeah okay so then just to reiterate on
that if you imagine google chrome and
the v8 engine they package that into an
app you download to your Mac or to
Windows or to whichever Ubuntu Linux or
distribution of Solaris or whatever is
using you're using a browser but then if
you have a project and you require web
connectivity and you want to run things
through a web application then you could
download the open source version of
Google Chrome which is chromium and then
use it in your app to do different
things on the web so you'd be using the
rendering engine already built for you
in an ecosystem which is widely
supported so why wouldn't you do that I
mean why reinvent the war when you can
use the software guys over a Google
print to go before us I mean why would
you do that so another thing electron
it's open source it's an open source
project so it's maintained by github and
it has an active community of
contributors the online documentation is
very useful Sol point you in a direction
of that we'll have a quick look here and
API examples and component examples are
available so let's talk a little bit
about anything that's maintained by git
so there's nothing bad with that I mean
seriously
and if you maintain by github gets a
thumbs up you probably have more than a
thousand people willing to get involved
and to help and contribute you know add
to the project in to improve it you know
if you're having a problem with it you
can hit the issues run a search and then
when you search on it you'll be able to
find and see plenty of different things
you know answers to your questions and
if you can't find the answers there read
the manual you know some you know read
the F in manual you know like take a
look at it it's really interesting you
know another thing that you can do is
that you can hit Stack Overflow so how
many people here have hit Stack Overflow
in the last year raise your hand I like
it you know I like it
Samson I don't know if you remember but
do you remember that rule that we had at
work which was on the five-minute rule
the ten-minute rule when you couldn't
solve a problem yeah then you asked
so we said I'm at work we said after
giving them initial training with Samson
side samson came did some game
development did some other WebGL stuff
of our cool correctly did some HTML
build so i remember when i was
interviewing you you know samson was so
shy you know they said was he or where i
said i think he was nervous
i said what about you know the
communication i said i think he was
nervous you know but came on board save
was how long were you with us for like a
year and a half one year one year
trained him up and then 10k person left
alright ok so we had this rule at work
which was an if you have a problem and
you need to solve it look it up on the
internet first and then but don't
blindly search the internet just typing
in random were saying I might see a code
sample that would make some sense to me
and I will add that to my code and
hopefully will work because I'm not
wearing tests so they need to know about
what it means
so then essentially we would say after
five minutes if you can't solve the
problem and you know what you're looking
for in a net and it's about ten minutes
now you turn to your peer and you ask
them and the reason you turn to you
appear and you ask them is because like
wires being maintained by github and it
being an open source project electron
our developments were maintained by us
as a development team as a small family
a small unit people who are willing to
contribute and help each other when you
in times of need
so then we also had an active list of
contributors as well like Afghan yah
Justyna you know Maire if you recall you
know many other people and we had a
really good balance of like culture fit
in our company as well like in the
development team because I was involved
in hiring everybody and so I made sure
that it was about fifty fifty men women
fifty fifty and I'm trying to make sure
that we grab people from different parts
of the world as well and the reason I
wanted to do that is because I thought
that if you were to get all those people
together you know and they came together
to solve a problem then they'd have that
insight and be able to think out of the
box you know and provide a solution and
also if that is that I could learn from
them so not only was I hiring these
people were fought area which we do a
job before I could learn a little
something from them like Samson I
learned not to eat food at my desk don't
sleep in my desk don't fart on my desk
and also you know I also learned to be
really humble you know now so this is a
truly humble man in front of me so we're
going to prove on to the next slide
oh you'll be up and running in less than
a day so if you were to follow these
three simple steps you'll be up and
running in less than a day first things
first download electron use NPM package
manager in
thaller go and read the API now the API
is a it's not a Bible because I'm not
terribly religious myself but I will say
God bless my soul how merry
dude a little dancers and so forth no I
will say that if you read the API and
you take a good look at it it's
literally a manuscript for how to do
things and if you literally read the
code implement the code in your own
applications with very little effort
you'll have a working application which
is pretty much 80% production ready if
you need to test or not but then if
you're coding and you know what you're
doing and you know that if you say if
else you know you don't expect it to say
something else you know it's gonna be
if-else but if you don't understand that
go back and learn it so that's two of
the steps and the third one of the steps
is to write things in small modules
you know implement design pans so
download it read the API program it and
implement design patterns in that
respect because you'll find them really
handy and reusable so let's take a look
at another aspect of electron it's
cross-platform so it's compatible with
the Mac it's compatible with Windows and
Linux so you can build one up and deploy
on three platforms or just one
predominantly we're working with the
Mac's at work so I only built a
distribution for a Mac so then we've got
three cute little pictures here so now
can anybody tell me who knows what the
icon on the left is so somebody shout it
out but I'm gonna take your what's up
there's somebody boo Unix seriously this
man speaks the truth I tell you so and
what's the middle one
does that buta Mac Linux light yeah
definitely Linux light you know one of
the worse things about a Mac right is
that it had to be I was writing
something in the Mac and I'll doing a
systems integration and so I'm
integrating these various systems
together and I'm writing these Lang
writing these programs in bash a lot
I've got all in my head of how it's
supposed to work I do a few diagrams
using UML as my notation collaboration
diagrams and stuff like that and then
I'm Satan once all okay so I need to
write 10 files and literally inferred
data from one location process and port
that they are through each one of these
smaller programs like UNIX is written in
small programs and then send it off to
an AWS some solution traffic live and
use their API to input the data so you
know in theory it all worked really well
in practice it worked even better
because literally like the amount of
time it took me to write the program
wasn't very long and I had to teach
myself a few things at the same time
like um I had to learn how to use JQ
anybody know what JQ is JQ yeah now it
JQ not the most rockin Jason like
manipulator and parser ever
it runs in you know native environments
on the CI and I mean like you can just
pipe information into JQ filter it and
keep on piping and I you know I don't
mean I'm you know gonna be smoking or
anything like that you know I mean like
you can everybody know what I mean when
I say pipe yeah ok yes you can pipe all
night yeah no pipe all night you know
program pipe god you guys yeah what is
even watching on TV so then we have the
last icon anybody anybody sorry what was
that who was a oh yeah all wishes it was
Lewis yeah
there's sort of abstract colored
funny-looking squares those are squares
right
hmm oh now that's a good point
now what this gentleman is talking about
is that he's touching on some other
areas that some of you may be familiar
with so let's say I'm gonna start saying
something and then somebody just shout
out the technology I'm referring to a
big freight ship dock are who said
docker you yeah docker big Freight
docker so what is gentleman talking
about is that docker so named docker
essentially you know how many times have
you been right in an app and in your
development environment is different
from your deployment environment so you
have to write configuration file for
when it gets built to change some file
paths or some stupidness like that or
even worse your infrastructure differs
from one place to the other and then if
you're running micro services you've got
to put on several different machines
that could have various different
infrastructures so then docker comes
into place so then as you were saying
what's the point where you can just put
onto a virtual machine image using
something like doc RQ Benes or so forth
and then just have the same development
environment as the same deployment
environment is the same testing and
integration to vironment I mean it works
so well you know I mean it really does
but can anybody tell me apart from this
wishing it was Linux what the icon on
the former is anybody know what that is
can I just randomly Oishi miss I'm
talking to you
Microsoft yes this Microsoft what we're
looking at here is that electron it's a
cross-platform solution and essentially
you can run on a Mac you can run it on
Windows and you can run on Linux so then
what we're trying to demonstrate here is
that you can bring all three of these
items together and have one revision of
your source code you know that you're
going to deploy it you know you just
have one aspect you know you have one
responsibility and you have one solution
which you can then port when it's built
and then build it onto three different
platforms but there's a caveat and the
caveat is is something I mentioned
before is that there are slight
variations and some of the
implementations of the chromium chromium
browser for those different platforms so
then there are some things are very very
slightly but you can always do like
environment very
and if it's one of these environments
just change a line of code or something
like that but then if you wanted to sort
of do that more efficiently you might
then say hey why don't I put in you know
like a service object you know which is
going to evaluate the environment and
then depending on that run a particular
command pattern which wouldn't implement
my implementation of that function for
that particular platform which then you
could do in an agile environment so you
could have one guy looking after
lunatics one guy looking after Mack one
guy looking off the windows and then
essentially all building towards the
same solution but then when it happens
that you need to branch and do those
variations from your github repository
and branch it then essentially what
happens is that you do various
implementations and your knowledge
sharing your stand-ups you share the
insight and then you know you pass it on
and everybody takes a look and everybody
loves everybody copes everybody's happy
hey let's have a bear all somebody's
happy to see me so a simple build script
so everybody know what I've got SH file
is yeah pretty much most people okay so
I'm essentially I'm a dot sh file is
like a Mac or Linux shell script and the
only way you get these things to run so
you've ever written one of them I'm sure
quite a few people have written an SH
file tried to run it in analyte this
command doesn't exist it means that you
haven't done your change mod you know
main executable but I'm building the app
it's um it's essentially really easy to
so then for the people who can't see me
just imagine my fingers running along
the text on the screen so building is
easy to you simply run electron package
are hit the dot as to what you're
looking for so your package is right
there in front of it provide it with a
name which is a skyward spreadsheet
generated app that I'm gonna damage her
afterwards you want to overwrite the
files so when it does all the you know
writes all the files in it overwrites FM
provide an icon which is the app icon so
if anybody here familiar with making
icons on a macintosh anybody here
familiar making icons on a macintosh the
apps not really well what you'll find is
that making icons on the maps you know
making them it's pretty straightforward
um if you're familiar with Retina
screens and light you know
different resolutions divisible by two
and then you create different size
images then you just sort of like bundle
them up using a command line tool on the
Mac and then you know creates a nice
little icon file and then you just pop
that in your folder you know is the icns
and then you know you have a beautiful
icon basically in short so then also we
want to do a no prune so we don't want
to remove anything because we need
everything because electronics can be a
little bit greedy and then when you want
to deploy them you know you obviously
you know you don't always want to prune
and remove all the packages because it
will just stop working so you know it
needs to have it sort of like absolute
dependencies in there and we've also got
an ignore which is followed by what
appears to be a regular expression
running a group on a folder resources
whether it is for script followed by a
dot followed by SH and anything with a
gulp file followed by a dot and a J s so
it's basically saying don't include the
resources and inside the resources there
are videos which I use for demoing the
app and don't include the script and
don't include the gold file when you
bundle everything up
so just like it says that just packages
up the app and puts it in a subdirectory
and the subdirectory predominately will
be called the name you give it which is
sky works for actually generator so when
it comes to running an app and we're
talking about electrons so I've giving
you an introduction to electron giving
you some history on computing and stuff
like that and then I'm giving you an
idea of how to write build script for an
electron app and then obviously you
already know that you would need to do
your npm install for electron the
electron package are that sort of thing
so then it's really as simple as saying
m PM electron followed by a dot which
will run your app but then you can also
use a gulp file to employ a file change
watcher and it runs using gulp serve so
the only reason this runs using gulp
serve is because if you take a look at
the fourth line the tasks define the
soul tasks are find in this actual file
is serve so that essentially means when
you type in goal follow it by a property
or a parameter or an argument and then
it's going to look for that inside your
file so then it says
gulp serve what that then does is it
says start electron so it starts to
browser process to remember saying
chromium so we have a version of the
browser and we're going to start out and
then it's going to display whatever we
have in our view and then we want to say
restart the browser process if we're
watching main renderer or the util or
anything like that then electron restart
so what that allows you to do is your
live debugging so you can open up the
dev tools in electron while you're
working with it you can have the dev
tools open up while it's running the
apps you can see or your client-side
development but then as well as that if
you make any changes to any of your main
files that you'll be working with in yet
that you listen to be watched then it
will reload the app each time you save
the file so then there's also one here
which is asking it to reload so then
we're taking a look at the index file or
anything that's under the JavaScript
file in the public static directory so
that any one of the files that will
basically compose of our Model View or
controller in that respect so then I
modeled it using a Model View controller
design pan I didn't need to implement a
framework because I know how to program
design patterns which is something we
all should learn to do and if we don't
we should get together and have like a
little hackathon where we all model and
create model view controllers in vanilla
JavaScript because it's awesome to
program and essentially what this does
is that it reloads so it will reload the
app and it will reload the window if any
of those files change so the main files
in your build so then we'll take a look
at that and is no live coding today I'm
not doing in love coding I'm having a
drink is um is essentially this is that
the main files are your main jeaious and
your renderer jeaious so then you say to
yourself the main j/s and the renderer
jo-jo so then let's take a look at those
we'll take a look at those in a moment
but then also when building an electron
app you simply need to store references
and to the IPC if you want to
communicate from your front end to the
back
and she might be wondering what the IPC
is it basically is some module like um
it's like in a process connector you
know it allows your front-end to talk to
your back-end and your back-end to send
messages back to the front-end and then
if you think about like this if you have
one person on one telephone on one
person another telephone you can send
information across by talking to each
other so it's essentially the same thing
you can have unidirectional or
bi-directional messaging so then so
let's look at some code and see how this
is done
so just got into my github
so you can see the basic folder
structure of one of these projects we'll
take a look at this main file so
effectively what I want
zoom in so here we go
these are some of the things that the
API documentation will talk to you about
which is that important and making use
of the IPC so then the IPC main is use
in the main file whereas the IPC client
or connect are you know using the other
file to renderer or in one of your main
views that you need to load up so then
now if we go through and we look for IPC
again so here we go so when we're
talking about communicating between the
front end and the back end essentially
what it means is that on the IPC on
reload so read order application GUI so
now that's all we're asking to do so
then essentially what that means is that
take the main window which we've defined
previously and earlier get the web
contents which they refer to in the API
which you should all look up and reload
ignoring the cache
so then what it means is that get a
fresh reload you know and that's one of
the steps that we'll be looking at
layout so we're gonna take a quick
summary so electron you can create
cross-platform desktop apps using jus
HTML and CSS nodejs all hail noches by
the way hashtag no issues for the
libraries gulp is used to running the
bug in chrome and a simple build script
can be used to bundle the app and you
can use a custom icon which I'll
demonstrate you previously but then you
may say what about my views my
controllers etc so we're just going to
have a look at an example of that for
you so I'll just show you what this is
so and essentially you have your project
folder where it's all built you have
your package Jason you have a main file
and a renderer file you have a script
which you're gonna use to build it and
then you think and wearable where am I
resources so you're going to your public
file take a look at that and then you
have an index file and then you say so
how does this all work together so I can
get up and running so just take a brief
look at that
so essentially you define the libraries
that you might want to use so I use some
jQuery you simulate for drag-and-drop
and then you know include a window
module to like give it global you know
for the namespace and like put the scope
there correctly and then I use SVG for
the text because I think SVG look a hell
of a lot better than most rendered fonts
on the web and then as well as that when
you when you use a font little web your
to a big company you load up on your
site you see this gila renders
hideous-looking font and then it
switches to something else so then i
don't like that so i use SVG now i use
SVG images in that respect and just load
them up beforehand so then i'm as you
can see here we're taking the
model-view-controller sort of thing but
we're skipping the model in that respect
but then essentially at the same time
when we do need to reflect in user model
we can use a renderer or we can store
that information elsewhere but it's not
really needed I mean you know that
didn't really warrant the need for a
large model or anything like that so
then you know what we're looking at as
we had a couple of views that we needed
we had a single controller and an app so
then you know you basically just
reprogram the MVC you know patterns in
your own style wherever that is because
I would never ever tell people that you
have to program a certain way you know
everybody's free to program had they
feel they should program as long as it
gets the job done or as long as it
passes a test so we're just going to go
inside the JavaScript folder and we're
just going to take a quick look at the
app and then as you can see this is an
immediately invoked function expression
providing the scope of this function to
this variable app we require the remote
we require the renderer we required an
IPC renderer so basically what this
means is that it says that all your node
scripts are going to be in the renderer
all your node scripts go in the renderer
and then we use the IPC for cross
communication bi-directional between the
front end and the back end and look how
simple the app is I mean it's an
immediate of a function efficient it's a
module pattern with a revealer
pattern implementation here revealing
one function which is start which calls
that function when you called app start
which you may have seen in the HTML file
where it said app start and then it runs
in there and then we simply register the
control
for a future goes around dispatch some
events get the application up and
running so I'm just going to show you a
view now I'm going to push on and then
we're going to move to see the actual
app in action and then I'll close the
presentation so let's just take a look
at this one here so then I'm really
getting friendly with this immediately
invoked function expressions so then
what we're looking at here is that
everything for the web when you write it
in chromium is that you can do it in
HTML but I like to write things in
JavaScript because it gives you a little
bit more control so as we just scroll
through this you'll just see there are
various functions for doing things such
as registering listeners resetting the
view this particular view all the
variables need to be reset at some point
when you reload the app will reboot when
you want to handle the building the
build View event how to handle that and
how to destroy the event and then when
we look at this you may start to see
things which appear to be HTML such as
set attributes appending Charles you
know and so forth and everything looks
vaguely familiar here's some information
from create an SVG tech training can't
own a container having an embedded font
which is done by base64 and then you
know moving along creating gradients and
then as we scroll through we create some
more gradients and then we put some
information on the screen and then we
just go a little bit further but then
one of the things that I wanted to show
you was this one here when we want to
open a directory and you want to use
some of electrons native functions such
as open and directory file system on the
file system when you want to use it you
can simply call a JavaScript function on
the on click and then say IPC send Open
File dialog and then what that means is
that you're sending a message to open a
file dialog and then it runs a function
on the back end which opens a dialog for
you to be able to select a video file
and that's what we're going to show you
in a moment so I'm going to show you how
to process a video and how to convert
that video into a sprite sheet which
will be used on online display campaigns
such as one what you were doing before
do you recall that Samsung okay that's
good he said that he doesn't remember
that's because you left
the things I have please for you no no
it's okay you know so what to leave okay
so so we've taken a look at the github
files and you know we've had a
repository you know where you can store
files and everybody's familiar with
github so I'm not gonna go into enough
about that so then you may say enough
ready showing me the code so I'm just
going to show you the code for a
controller then I'm going to show you
the app so you've seen the app you've
seen a view and now look at the
controller so like I said before using
an immediately invoked function
expression we want to register the event
listeners so just some to send events
around an application in JavaScript you
can just add them to the document level
you know you can either you can even
create your own little particular div in
a particular function in a particular
module which will be your API bus for
sending events around you know but you
can just stick them on the model because
running on the ecosystem which it's
gonna run the events aren't gonna go
anywhere else so let's not get paranoid
and program it like that
let's program it so it can be free so if
we just go through here you want to
register your views and then if you want
to restart the application this is what
would happen there if it's a welcome
event if it's a preview event or if it's
going to be a crush event which you'll
see in the demonstration of the app or
then it is a success event meaning as
why she's been generated and we return
an API an exposed API on the module
reveal a pattern which is these on says
so register the event listeners and
register the application views so now
you've seen a load of code there's been
no live coding I hope you feel slightly
enriched and a little bit more
determined to pick up a lecture on and
to use it in various applications
because you can do virtually anything
and you know this particular application
makes use of something called ffmpeg and
ffmpeg when you want to work with an
electron it's not as straightforward as
you might like to think is so I'm just
going to show you what it does on what
it what it can make so we're going to
launch the app now so working at Sky
they have a theme which is called white
world and pretty much it means that
everything is white so then what you
can't see are some of the really nice
gradients and colors
it's a really straightforward really
simple user interface so one of the
developers would essentially click on
this button pick a video and then
they'll go into one of the projects so
I'm just gonna grab one for you here so
pick the video that we want to use and
now we're going to upload the video to
the server and use the renderer on the
renderer file as well your node code is
so then if you think about your response
and requests and all that sort of stuff
you know you send it over there but you
don't work necessary of a response on a
request in that respect you work in the
same syntax with a function which has a
property error you know some values and
a callback function you know in that
respect or a next function so then we're
uploading the file at the moment and
then we want to preview the video so
this is a video no reason for Sky Mobile
and I'm sure you've all seen sky mobile
around town you know seeing it
advertised somewhere on a billboard on
TV if you have sky at home if you don't
you should get it really cool you know
and also we're looking at the frame rate
so now we've done that and we want to
process the video so it's going to go
off and process the video and then god
bless us all when it does that means
that it's working and when it's not
doing that it means that it's not really
doing very much
so we're processing the video and what
we have here is a preview of the sprite
sheet and I'll explain to you what's
happening behind the scenes and then
we'll just do some other stuff so we've
got a sprite sheet we've taken a video
we've used ffmpeg to split that video
down into a series and sequence of
images we store those series of sequence
images on a temporary location made on
the fly using node and you know the
powerful Pereyra
you know which basically allows you to
create a random file directory which
we're going to delete afterwards because
the app can't get bloated so it has to
make something build it construct it
then tear it all down and throw it all
away each time you use the app so then
the next thing we're going to look at is
that and we're using some libraries for
manipulating images so then I'm going to
take this and I'm gonna say reduce it
down to 50% of the quality and I want
you to pay attention to the estimated
file size which is currently 5.19 MB for
a PNG for this sprite sheet which was
done at 25 frames per second and we're
now going to turn it into a JPEG
and we're going to show you the things
for actually is a JPEG which is
virtually very little loss of quality
and you can see it's yes you can
actually see some of the sort of and
bleeding on the images on the pixels
where it's had to you know rasterize and
sort of like work out and a bicubic I'm
free by free pixel grid to work out
what's what and where the colors lost
there's a little bit of degradation
there but at the same time that five has
now become one point zero five so you
can take it even lower if we needed to
but we're not going to do that because
I'm going to close the presentation just
by saving this and showing you the final
product so we're just going to call that
so we're gonna call it Samson
hey Samson and the support sheets ready
so now we're just gonna roll along here
and we have a sprite sheet and that's
how simple it can be to create an
electron app that is production ready to
help a studio and let's talk about
commercials so this app saved our
clients in ballpark figure
sixty-five thousand pounds a year
because the external agencies that they
were charging to take videos and convert
them into sprite sheets just like this
they were charging them five hundred
pounds per sprite sheet so then when I
did the math and I built the app my
operations director said we're onto a
winner B thanks again yeah pretty much
yeah so I just like to close the talk
did he give me grace and what I've tried
to resign and he's trying to make me
stay yeah yeah and when I told him I
still work fairly smart but that's what
we have there and I'll just finish this
off with the resources so then if you
want to get started with electron which
I really encourage you all to do because
you can create great things with it and
there's a link to the electron there and
then another great site is medium comm
which has a lot of explanations for
technical things in non-technical
language and this one particular looks a
my PC and how it works if you have any
trouble with that so thanks for your
time everybody
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>