<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JS Roundabout, From React to Preact - The Quest for the 50KB App, February 2018 | Coder Coacher - Coaching Coders</title><meta content="JS Roundabout, From React to Preact - The Quest for the 50KB App, February 2018 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Pusher/">Pusher</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JS Roundabout, From React to Preact - The Quest for the 50KB App, February 2018</b></h2><h5 class="post__date">2018-02-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xWMhqTy-4Og" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so today I'm going to talk to you a
little bit about my journey into pre-act
so I am currently developing a really
really small widget that he's gonna
leave in a lot of websites so I had to
find a way to make it really small so
after I saw that uber was announcing
that they did their mobile website using
pre-act and it had only 50 kilobytes I
thought it was ideal actually my widget
now has only 25 kilobytes so it's even
smaller than I thought but we'll talk a
lot about sizes now okay so who am i I
mean I I basically got into web
development for from founding my
startups I founded a couple of
e-commerce and entertainment startups I
started around 2011 and since then I
pretty much coded everyday it's just
really addictive I currently call myself
a front-end architect and the reason for
that is what I most like to do we know
what I most do is set up architectures
for the front-end that scale and that
junior developers enjoy working with
yeah it happens it can happen really
anyway
but that's not about what this talk is
going to be about I'm also a mentor for
people learning to code or launching
startups so if you have any questions
about this later on feel free to hit me
up on Twitter or anywhere like yeah I
really like to take questions around
this recently I've been very interested
in AI in blockchain because I think it's
the technologies that are going to
mostly impact our lives in the recent
future and I'm very disappointed with
the lack of sci-fi movies but I think
most most of us are so what I'm going to
talk about I'm gonna tell you when I
think we should use pre-act in my
personal opinion and how different it is
from react I'm gonna tell you a little
bit about the communities and tools from
my experience and I'm gonna tell you
what you should not do in pre-act so
when to use pre-act in my opinion
pre-act should be used when you're
making really small websites like
imagine you're making a website in your
site oh that's really simple I should
just do jQuery don't use jQuery use use
pre-act
because yeah like you you know if you
know how to use react
how to use pre-act and its really small
if you want to keep the website small it
renders incredibly fast and also like
yeah the reason why I'm using it for
embeddable
widgets because you know you're going to
give an overhead to your clients so the
smaller it is the better and now to
really show you some data about why
pre-act is small we can see here this
little comparison I did on Sunday and as
we can see this is just like this is a
just a really they're all really boring
apps but this is just like a little HTML
file that just has a div and this inside
or an h1 or something and as you can see
there's nothing
so no kilobytes just this and it
basically renders around a bit after two
seconds this is using slow 3G which so
that it amplifies the effect so it
renders a bit before three seconds and
we'd pre-act
this is the pre-act right here and it
has only 9.6 kilobytes and we'd create
oh sorry i forgot to tell you guys
something this is rendered this is
generated with pre axial I and this is
rent generated with create react app
they are the most you see allies for
both the the frameworks and what I did
is I removed all the routing and I
removed all the CSS to try and make it
as similar as I could so yeah we'd react
as when you start a new project in react
you you immediately come with 112
kilobytes which again is completely okay
and I don't think that all apps have to
be incredibly tiny but yes it is true
you start with nine kilobytes in in
pre-act so that's really really
interesting how smaller it can be so and
how different is is it from react which
is actually what I'm here to talk about
and what I have to tell you is that it's
not the the syntax is exactly the same
because what basically pre-act pre-act
does is it it uses most of what reactor
ID has but it strips away a lot of
bindings and use these native bindings
from the browser so yeah it's it's
really similar
so but even though it is really really
similar there are actually some small
let me say this if you take a react app
and put it into pre-act it's pretty much
gonna work however there are some things
that after that you can do that are very
interesting like for example you can use
class again which is something I never
understood why I react to get out and
you can pass props and state directly
into your render function so if you see
I have here the state and I don't have
to do this dot props or this dot state I
can just pass them in like this and
they're immediately accessible and it
makes the code a bit cleaner in my
opinion so that's like a little plus it
has but yeah it's basically react now
about the communities that I experienced
I interacted a lot with this three that
we see here pre act proxy a lion Redux
zero and I gotta say they are as active
and proactive as react and I was angular
and honestly any other main front-end
framework front-end the community at the
moment and yeah they're quite good like
I wouldn't I would say that in terms of
community they're all quite good and now
if you guys are going to be working with
with the pre act one thing that I at
least prioritize a lot when I work in
pre act is making everything really
small so with this in mind I would
recommend something for example like
import cost 4 vs code which kind of
makes you really neurotic about having
everything really small which I don't
know like I kind of made this my
objective when I was using pre acts just
make sure everything is really small so
at the same time using bundle explorers
all the time all the time tests the size
of things because you know it's really
easy to import to library and then it's
bigger than then everything you even
have their before including the the
framework code your own codes and
another thing that is interesting to
note is that you can use react dev tools
so like pretty much everything that
works with react also works with pre-act
so
that's also a really nice thing to start
one last thing I would like to tell you
is is show you
oh no wait sorry okay when things first
another thing I have to tell you is
about pre act CLI how amazing pre-act
CLI is in getting you started in a
project so I'm sure that many of you had
have already heard about lazy loading
basically this is the ultimate form of
lazy loading I'm not going to get into
too much detail about how it happens but
the community has from my and
understanding pretty much agree that
this is the best form to do lazy loading
and when you use pre act CLI it just
works out of the box
without any configuration you actually
don't need to look at the configuration
files at all it just it just works I
mean of course you need you're gonna
have to be aware of what not to run if
you the code is going to run on this on
the server but besides that it it works
really well I was I was really impressed
with this but actually for my use case I
did not have to use this because I I'm
just serving I actually have the widget
and a super small app and the super
small app I serve from CDN but anyway
this is really interesting and I think
for anybody that like server-side
rendering they you have this from the
beginning and this also works with from
delivering as a static website okay so
now what not to do in pre-act so
basically pre-act is react so the best
practices and and bad practices that
that go in in react also come here so
the one thing that I would add and
probably understood this is a bit my
personal opinion but is to not import
large large libraries I I made up this
rule of thumb of 10 kilobytes and the
reason for that is that pre-act itself
the thing you get when you render pre of
your app from pre act CLI is around 9
kilobytes and I don't know but I feel
uncomfortable having a library that it's
bigger than the framework so I just did
that rule and I'm going to show you here
an example I ran into so I cannot I
cannot do front end without Redux
just that way it doesn't scale for sure
and I would relax it's really really
easy to work with in scale so I had to
use Redux so I initially try to use pre
acrylics and what I noticed is that it
basically adds 50 kilobytes even though
it's pre-act Redux and it comes from the
pre acts community I guess so this this
little thing here is pre act and this is
pre act Redux this is like Redux and
this is pre act Redux so like I was a
bit shocked when I saw how much it it
increases the size so then I went
looking around I found I found this
ladder library called redux zero and
yeah with that it already only has seven
point four which is less than the nine
that pre-act has so I managed to
maintain my app size really small and
yeah and this is how I managed to
achieve now only 25 kilobytes for a
widget which is smaller than ubers so
yeah that's awesome but yeah I'm sure
there's there's this much more complex
because like what ends up happening with
with the pre-act is that and this is
just like a little starter it has like
this would be my code and there's
nothing here it just has like a little
bit saying boring app that's why it has
nothing but what happens with pre-act is
that as you start writing code your part
really increases a lot you will start
noticing how big your code can get and
even if you have like no dependencies if
you make your code really extensive your
app is gonna get big which is another
reason why I think it's okay to use
react if you have like a complex up
anyway
so yeah this is this is what I had to
tell you today
however if you guys have any more
questions I'm here to answer
feel free maybe this can be a bit more
interactive because I probably didn't
cover a lot so yeah yes on my widget Oh
sir yeah I didn't I didn't say that so
I'm I'm working for this company called
agate and basically we are solving micro
payments for bloggers so imagine you
have a blog and you want to create some
premium blog posts and when your users
go to those premium blog posts they can
pay via our our app our little wait
it prompts you to unlock the premium
content and takes care of everything so
yeah it's gonna be present in a lot of
blogs and these blogs need to load
really fast
thus super tiny widget I I actually was
not doing this shame on me I know but I
also could say a lot about that
I believe in testing everything you do
in redux and everything else I don't
anyway doesn't matter no I didn't but I
know they have support from it for it so
yeah if you if you're looking to test
they they go well with tests okay I
guess I guess this is thanks a lot guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>