<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building unbreakable webapps fast: crash course with Elm - Reactivate London - October 2017 | Coder Coacher - Coaching Coders</title><meta content="Building unbreakable webapps fast: crash course with Elm - Reactivate London - October 2017 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Pusher/">Pusher</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building unbreakable webapps fast: crash course with Elm - Reactivate London - October 2017</b></h2><h5 class="post__date">2018-04-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HBkB3PgHdJU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello my name is Marya and i'm going to
be doing a maybe a non-conventional
crash course for you in L I work at
Travelport locomote and Travelport is
one of the three major GDS is in the
world hands up if you ever taken a
flight before anywhere one in three
chance we sold you that flight locomote
what we do is we do corporate travel so
those of you that work at a big
corporate awesome come and talk to me
later with a great product for you
we have we do call for travel management
and we've been acquired by travelpod so
as you can probably tell by the accent I
am NOT English British I come from
Australia and our company was started in
Melbourne but with the acquisition I now
live and work in London you can find me
on github my handle is super Mario that
is my actual real handle so the goals
for what I'm going to do tonight I was
originally thinking of doing on the same
format what we do at the LM one Dhin
meetups which is to actually do a code
night you pull out your laptops you
actually work on stuff people get in
different groups either you're going
from scratch and I'm doing a from
scratch tutorial or you're working on
projects or you might be advanced in
helping with open source stuff but I
thought given that I've got a room of
presumably JavaScript and react
experienced developers and the more that
I thought about it the more I thought
about my own journey into discovering
kind of elam and functional programming
and the things that prevented me from
understanding the value of those things
to myself and what they would give me in
my kind of day-to-day work and I thought
it might be more valuable if I gave you
a slave of those kind of things because
I found those really hard to find online
and when you control through lots of
blog posts and things and try and scrape
things together but until you've really
kind of tasted element functional
programming for yourself it's really
hard to understand some of those
concepts so I wanted to maybe instead
give you a little bit of a teaser of
those things that you might not find so
easily and then give you the resources
of which there are plenty of for you to
just learn like LM syntax and stuff so
I'm gonna try and cover things that
might not be obvious I'm still gonna go
through a little bit of LM so you've got
a bit of grounding but I'm gonna talk
about some awesome things that
that exists in the own community that
may not be obvious straight away I'll
talk about some pitfalls and then I'll
give you some references for more stuff
cool so this is an L map that you're
currently looking at some of you're
still joining so let's just start really
easy how you fill in
no one's feeling good hopefully awesome
no one's feeling bad that's great
JavaScript experience zero starting
confident or pro pro meaning you work in
JavaScript professionally okay so we've
got some people that are 0 some people
are starting this is gonna be awesome
for you for the rest of you you've got
prior knowledge that's gonna hold you
back I'm just kidding me Elm experience
has how is your Elm experience been in
terms of exposure or reading or anything
awesome we have some elm developers here
most of you here oh okay great so I'm
hopefully for those of you that are 0
this will be informative and useful and
help you understand
one is elm something that you're
interested in investing your time in
and secondly what it might give you
generally okay cool so normally what
happens sorry normally what happens with
this is I go through a set of live
slides and you've got on your devices a
set of reactions so you can give me like
you're okay or you're confused thumbs up
thumbs down thinking face falling asleep
or bookmarks and then at the end of the
talk you can put your email address in
and get all that stuff back sounds
really awesome just I'm not going to
give it to you because I didn't get to
prepare these slides in this software so
we're not gonna use this I'm gonna step
out of it but this is more just to give
you an idea that this is an app that
I've used in past talks and if you look
at the Elm Europe conference you can see
me doing it live on stage engaging the
whole audience and it's something that
I've tried for a number of years to
build in lots of other things and I
always kind of go to the point where I
just couldn't keep pushing further the
complexity in whatever language I worked
and really really held me back
and I think this is probably my best
Testament for myself personally of what
Elm can give you as a developer because
the first time I've actually been able
to succeed with a project of this kind
of scale so anyway let's let's run
through the president you can come talk
to me afterwards if you want to know
more about the Elm software so I'm going
to avoid these things today because I
think that there's better resources and
me speaking to you for finding that
stuff I'm so learning detailed syntax on
FP concepts as a whole and looking at
comprehensive code examples it's
probably better off in your own time and
at your own pace so I'm going to avoid
that kind of stuff but I will give you
things that you can look at afterwards
for diving into methods all those things
so what I am going to go through is I'm
gonna give you a high level of what is
Elm I'm gonna try and disambiguate some
stuff that in my opinion I feel you
might run into if you try and learn it
yourself we'll run through some code but
at a very basic level and I'm gonna run
through the Elm architecture which i
think is probably one of the big
tripping points that people run into you
know this question of is L in the
library is it a language and trying to
figure out what it actually does and how
you do things I'm going to try to talk
through some some awesome things at
least as far as I find them roughly talk
about how do I use Elm at work which may
be a interest point to some of you and
I'll give you so you're some Cabot's
that I found for myself personally
awesome ok what is L so by its own
admission and this is on the top of the
elm site Elm is a delightful language
for reliable web apps you generate
JavaScript with great performance and no
runtime exceptions that's almost
guaranteed so in more detail it's a
functional language it's statically
typed but it has type inference so if
you don't want to write types you can
not and elm will still figure out the
types of you up until a point all data
is immutable so there is no such thing
as immutable value or reference or
object in Elm everything is immutable by
default that's part of the language
you can't opt out of that all functions
are pure which means that every piece of
code that you ever look at an elm
the answer to the question of what does
this code do the answer is nothing
it takes inputs and it returns a value
but it won't make any effects it won't
change anything in the outside world it
won't ask the outside world of anything
it will literally do nothing so every
line of code in any LM codebase you've
ever look at has these two guarantees
null undefined and exceptions don't
exist they're not part of the platform
they're not part of the language you
can't type null and have it compile and
nothing within your elm code can throw
an exception or give you back a null so
those kind of things are removed from
the language so the these are all rather
intentional choices and they have some
really really interesting implications
when you when you don't have these kind
of things in your all rather when you
have these kind of guarantees in your
language it actually comes out to be a
very very interesting subset of of the
kind of programming that you maybe
experienced and already so to answer the
question of exactly elm library this
kind of gets confusing when you start
looking at i'm stuff online if you're
familiar with i mean how many of you
using this kind of stuck or something
loosely related to this yeah cool so you
know you get really excited you want to
start with javascript like right how do
you install packages so you can't you
gotta get npm right okay now have npm
like how do i bundle stuff together like
you can't you got to get web pack cool
and then you know react at the moment
you're all here because this is
reactivate but this is you know a more
recent paradigm before they used to be
many other choices and spine and
backbone and you know more modern Lee I
guess angular as a competitor but
there's a lot of different options there
so you have to pick one maybe you pick
react then eventually you get to a point
where you got too much local state and
your components are trying to send stuff
everywhere you know I have a solve this
problem and you go Redux so you learn
Redux you bring that in now you've got
this problem where you know you add a
new action in redux and now you don't
know all the parts in your code that
need to be updated so maybe you get
something like typescript to flow to
bring some level of kind of checking to
figure out our i've added stuff here and
now my code breaks over here so you kind
of bring that into the language then you
get to the point where like oh you know
mutable references are really killing us
for passing objects and accidentally
setting methods on them and losing
control of our states you go maybe
to bring immutable jeaious into a stack
so what's the experience like when you
start Elm well you go well how do I get
packages that's built into Elm
oh cool so how do I get all my files
compiled into a single version that's
built into Elm you go okay so how do I
actually architect my code how do I do
the view layer and all that kind of
stuff well that's actually building to
Elm so you go cool so how do I manage my
state when it gets really big that's
built into Elm
what about type checking and flow that's
built into elm and immutability as I
mentioned there's also built into L so
the analogy I've been trying to use
recently for this is people say well
can't be a language it has too many
features it'd probably be I'm assuming
similar to originally when memory
management was all manual and your a/c
developer and something like JavaScript
came along no like we have automatic
memory memory management now you're like
so that's a library you're like no no
it's a language feature like I can't be
a language feature like that's two
feature full so this is kind of the same
in that same sense so when we say that
Ellen has these things built in it's not
built in as a library that you use it is
actually the language so there's only
one architecture in Elm it's called the
Elm architecture there's only one way to
structure and that initial set of code
and that's all baked in all the
libraries that you build in or for
various other bits and bobs around is
that making sense getting some knots
lovely now it's not all in isolation
there is kind of like a lot of cross
flow and lots of lots of the stuff
that's in that react stack if you're
ready familiar with it what the stuff in
Elmwood just seemed really really
natural so this is just a quote from the
down Abramov author of redux who is
quoted as pulling certain ideas back
from Elm so if you use redux they're
actually using a subset of the same kind
of function that operates in Elm so that
kind of several come natural to do the
the difference I feel though is that
here you've got a lot of disparate
components with lots of different
authors different styles and different
integrate
points whereas in elm the whole
ecosystem is built around the premise
that the core language has these
functions so there's a huge amount of
effort put into them working together
really really really really nicely so a
lot of the pain points that you may see
on the left hand side when you kind of
come over to the Elm side and my
experience has been those pain points
are either way reduced or just
non-existent I'm in that kind of
environment
so let me gonna dive a little bit deeper
into that side note let's just take a
slight detour I'll come back there's a
personal bugbear of mine and it maybe
won't be the same for all of you but it
really impacted my ability to learn
functional because when I came up
against these two things I was really
defensive of my existing experience and
a bit insulted that there could possibly
be something that I didn't already know
in programming so for me it was really
humbling having to probably battle
through a year worth of self learning
before I got kind of passed these
concepts and I think that they're
needlessly complicated I'm especially
has anyone here tried to learn how
school or address or any other kind of
functional languages well I'm hoping
your experience is better than mine but
you know like space burritos and
homomorphisms over functor monads and
it's kind of like the mathematics in the
language and the kind of tone of that
community is really really really
difficult to approach so I just wanted
to kind of debunk two things that
hopefully will help you separate hype
from understanding a little bit more so
two things unbreakable unfunctional
so what do mean what do we mean when we
say breakable yes I know it was a bit of
a clique beatty title saying building on
break all the software I'm gonna give
you two statements first statement being
is the sky is green most of you probably
think that's wrong but like what if
we're writing a computer game you know
and maybe the sky is green or what if
we're in the northern hemisphere and
it's nighttime so this guy's green for
those reasons might be wrong might be
not like this is this is about semantics
right this is what our job as
programmers is to take models of the
real world and under
their semantics and then emulate them in
code and we can get that wrong and
probably unlikely for quite some time
that anything's going to automatically
replace that right because that's the
thinking and the logic that really
matters say for you know our AI
overlords in the future here's the
second statement the sky is uncaught
type error i cannot read property color
of null at anonymous this is broken I
don't think you would ever want to have
this feature I mean unless maybe you
were writing like ironic JavaScript
poetry or something but like this
distinction wasn't really clear for me
until I work with functional programming
because for me this was kind of normal
life right like you can't avoid this
this is what programming is this happens
all the time it's called a bug and you
fix it and you kind of move on and the
premise of functional was yeah you can
like you can just not have these in your
life at all and that kind of I really
really struggled with so the reason I
struggled with that is because of this
definition functional will not save you
from semantics and correctness but it
can save you from things that are
actually broken we don't necessarily
need to have these in a language the
second thing that I wanted to side note
on was this whole notion of functional
and if people say oh JavaScript
functional that's not not true but the
premise is that JavaScript has both
functional features and imperative
features and in between those two kind
of paradigms there are actually some
compromises yes you can draw good ideas
from both things but ultimately one of
the kind of premises of functional is
functions and the mathematical sense
where functions don't do things if a
function does something we then define
that as a procedure so straight away the
fact that you can take imperative
features and sprinkle them anywhere and
you put yourself in a situation where
there's compromises and FP practices
really require discipline so this is why
you know especially Redux is a good
example of that people who maybe are new
to the react stack and haven't used
redux before and dragged it in because
they think that
what they need as a baseline and it
turns out maybe they don't yet need that
now they're doing all these crazy things
all over the place and trying to manage
all this I'm kind of kind of a
boilerplate for this alleged benefit of
FP while simultaneously having the
ability to escape hatch and do their
imperative stuff and I think you know
path of least resistance the temptation
is really really hard to do imperative
features so I think my experience has
been that functional features are really
amazing loaning them helps you think
differently but ultimately we're in your
worry you're in a code base especially
under commercial pressure or time
pressure you're going to compromise and
do the imperative things in a functional
language as I define it
you have functional features and that's
it so there is no backdoor FP practices
are the default you can't accidentally
mutate stuff you can't accidentally do
effect because it's kind of constrained
so the premise is not to infant eyes a
developer and say oh you can't manage
this stuff but actually to say hey maybe
when we don't have certain things here
it actually helps us write better code
write faster with more confidence and
that's true of what I found you know ok
enough talking
I'll show you some code ok so like I
said I'm not going to go into super
detailed examples but I'm going to give
you a basic counter so that you see a
full complete could deploy to production
piece of elm code and then I'm going to
use that to talk about the Elm
architecture that's powering things
underneath does that make sense
cool so I'm going to step through it and
I'm really sorry I hope that you can all
see it's that ok for everyone or is a
bit struggling half knots ok so at the
top of a Elm file I'm simply open a new
elm file call it a PL or whatever you
want we're gonna put module main
exposing the syntax that means that
we're exposing everything in this file
we could choose to expose only certain
functions if we were writing like a
little library module but in this case
we've said wildcard just include
everything we're going to import some
stuff from the core library and we'd
import two things from the HTML library
I'm going to expose for functions and
like I said
for they're all functions that are do
anything they return values a beginner
program takes a bunch of parameters and
returns a program value that elmore
run-button div and text are all
functions that take a set of arguments
for attributes a set of arguments for
children and then they return a virtual
representation of what that markup might
be that's all I can in it and the
onclick function will take a message
type that I want to trigger and it'll
give me a tribute that I can put in an
element so in every L map you'll
experience at the basic level we write
for things they are the only four things
we have a right so once you learn these
four things you can approach any Ella
map and immediately know where to start
and what to look for so the four things
are our initial model which is our
initial State
a type we're going to call it message
you could call it whatever you want but
we're gonna call it message this is
going to be and so if you know Redux
this is an action so all the actions
that our app supports we're going to
write so they're the two they're the two
models or the two two values that we're
going to write and then we can write two
functions one is an update function this
update function will receive at a given
any given point in time a message and
the current model and what we need to
return back is the new model based on
our business logic so all of the
business logic for an elm app sits in
this function just one place then we've
got the view and the view is very
similar to what you might might have
seen in react except here it's explicit
it explicitly takes in a model and we
will return to markup so let's go and
implement that so for the counter we're
gonna start out counter with a value of
zero our whole model is just going to be
single integer our model could be
anything it could be a hash type with
lots of things in it which was normally
what you'd get to on it in a bigger
apple let's just start with just plain
old value I'm for the message type well
we want to be able to sort I didn't
actually show you the button that worth
sorry you go in blind so this is the
this is the app that we're going to
build so you can plus plus plus on the
counter - and we have no guards in our
business logic so you can go negative
cool
okay so if you think about that up in
terms of the actions we have we really
just have two actions we want the
counter to go up we want the counter to
go down so we're going to just create
two that two types here in the message
type so message is either going to be
increment or it's going to be decrement
I'm not going to stress this too much
because it takes a little while to kind
of learn this concept but you can kind
of think of this a bit as an enumeration
for now if that makes a little bit
easier or you can note that boolean has
exactly the same type signature so type
boolean is true or false or true and
false so the actual values they get
passed around you don't really pass
around volumes that make sense so
increment and decrement are two actual
values they're kind of like labels
they're labels that we can pass around
and they'll be type checked so we can't
put a label that doesn't exist somewhere
that doesn't exist okay so our update
function usually 99 times out of 100 we
will start with a case and a case is as
you would expect the messages of the
message type so we're going to case on
increment well if we're incrementing
that's the message that we received
we're going to return model +1 if we're
decrementing we're going to return model
-1 and our view is going to use our
functions so let's focus on this middle
function first so you can see that the
divider has no attributes so putting
nothing in the tributes just the plain
div and as its contents we're putting a
text node so that's just a root text
node with no wrapping and we're putting
a two string of our model so model is an
integer to string it into the text
version that's gonna be text node so
that's gonna sit in the middle before
and after we're creating two buttons the
buttons do have attributes one has an
attribute of onclick decrement the other
one has an intra Bute of unclick
increment and then I have the individual
text nodes that they're showing and then
those all those values are wrapped in a
div that has no attributes and that's
what we return back is everyone
comfortable that they understand on a
high level what this code does syntax
aside for a second
this is the last line that stitches
everything together so Elam always looks
for an entry point called Maine and in
Maine we have to give elm a program
value so it's a value that describes how
our program functions
so what we're what we're doing here is
we are taking the beginner program which
is the the function that we've got from
the Encore library and it takes a hash
that has three parameters or three
attributes in it a model a view and
update so literally the stuff that we're
just reading the four things that we've
written save for the the message type
and we say - okay well this is what our
state looks like here's the initial
model take that away lovely and here's
the view function that I want you to run
for me and whenever there's a new model
and here's the update function that I
want you to run for me whenever you get
a message so the net outcome of that is
this little app and as you can see
heading plus is triggering that message
- is pulling it back down yeah okay any
questions at this point
or comfortable all right I'm just gonna
bang on the point a little bit so that
view function that we wrote takes a
model and it returns something a value
called HTML in Elm it is an actual HTML
similar to the way that react does it
because Elm has a virtual Dom
implementation so it's efficiently
checking for changes and things like
that and managing the Dom for us we
don't go anywhere near the Dom we just
tell elem well here's what I mark up
should look like for that state you gave
me so that's that's always a new set of
HTML the update model works similarly it
gets a message in the current model we
do whatever logic we want make whatever
changes we want to a new model and we
give a new model back
we can't mutate that old model so I'm
gonna try visualize it again in another
way and hopefully just just really sinks
it in so here's our own runtime which we
don't control the Elm runtime happens
outside of our control we simply gave
that our initial model we gave it our
update function we gave it a view so now
we've compiled that we've booted up our
javascript in the browser and our app is
running so we've clicked a button which
has fired one of our messages now
remember that markup can only have the
messages that we defined in our app if
we typed any other kind of message that
was unhandled that would fail at compile
time so the browser's going to give us a
message type and it's guaranteed that
that's going to be message type we know
about so the Elm runs home is
immediately going to do two things
first it's going to send that to the
update function call that update
function and get back the new model and
it's gonna go cool I'm gonna retain that
model that's the new model now then it's
gonna go write G function here's the
model get me back that HTML great I've
now got that HTML and it's going to do
the virtual Dom diffing and calculate
the Dom differences and actually
communicate that back into the layout
they're unhappy so far with that nods
but like more furrowed brows now
hopefully furrowed because you're
thinking well this is really nice Mario
but how do you actually do anything with
the outside world so like I said before
the guarantee that we have when we're
looking at any own function in code is
that it's not going to be doing effects
to say we wanted to write a little app
where you press the button and it
fetched a new gift of a hilarious cat
animation right so when that button is
pressed we would like to send an ajax
request or a request to a server to get
a new URL and we like to get a request
back and change it well actually it
functions in exactly and exactly the
same way as the browser so what we write
in terms of our app doesn't change we
still only have four things we have the
model we have the types of messages that
we can expect we have our update
function which has our business logic
and we have the view so what happens now
is when that message type comes through
this kind of upgraded so this is HTML
program we were on beginner program
we've got two program now so the type
signature changes slightly update
function now returns two values instead
of one so instead of just returning the
model it now also returns an array of
what an element called commands they're
values that represent a command that Elm
may execute for you later so you can
kind of think of it like promises that
you cannot resolve there's no mechanism
in Elm to actually resolve commands
yourself the only way to resolve it is
to hand them back to the Elm runtime so
let's say we we've done this and our
request has we've asked for Elm to do a
request for our cat gif well in the
meantime goes yeah yeah that's nice but
I'm gonna I got a new model I'm gonna
run the view and we're gonna put that
stuff back in the dom so that whole
process happens instantaneously then at
a separate asynchronous juncture Elm may
choose to take that command into what is
called an effective
so Elm has an implementation of a
certain set of effects that the language
supports HTTP requests are one of them
and it will execute that command now
when we issued that command what we had
to issue along with the command is an
instruction to Elm of what message type
we wanted to get back and so then Elm
deals with the busy work and the
possible failures and the Nils and all
that kind of stuff and it'll only give
us back well-defined conformed
guaranteed actually okay messages if
they happen to exist yeah so what the
effect manager will be doing is it'll be
sending back a message note that this
message and this one here the same
exactly the same mechanism let's take it
in isolation so imagine that that whole
loop has happened and we've got our new
DOM and now asynchronously the effect
manager has has triggered a command for
us so there's been an event let's say
we've successfully gotten back our HTTP
request so the message that we've
defined which is a message in our update
function that accepts back the specific
value that we're looking for will get
called for us the same thing will happen
again just exactly the same route like
as if it come from the browser we
actually don't know where it's come from
I mean it could've come from the browser
could have come from an effect manager
we only know by the semantics of the
messages the action types that we've
implemented model and HTML view gets run
again and the Dom gets output so that
same mechanism kind of works through
both versions that is the most
complicated thing that I ever had to try
and figure out with elm so I'm really
hoping that that that unlocks a lot a
lot of the runtimes perhaps my favorite
thing about elm is that it has the best
pair programming buddy I've ever worked
with mainly because they have no
latitude and they're never wrong and
it's just really really Pleasant you
don't have to talk to anybody like the
compiler just kind of yell stuff at you
so I'm going to give you some nice
canned scenarios first just so you see
the kind of quality of elm error
messages okay so the first one I'll show
you is
this name okay so here we've got soon
here we've got an error from Elm and
this is how we'd come up in your console
so you could have a library loader going
and it's you save your file in it and
it's I'm spitting stuff out or I have it
directly in my editor and Alan said hey
I've detect an error
it's a naming error I can't find the
variable list Knapp you've losses enough
a list does not expose Knapp maybe you
want one of the following list of map
any map to my three so it's not a
heuristic search on the name which is
really nice so it not only does it tell
you what's wrong exactly where it's
wrong give it a little indicators to
highlight specifically on which area the
line it's wrong it also gives you
suggestions rather things so this is a
live code example that I've just
reloaded and getting a little bit more
advanced than that here we've got an if
statement we've said if n is less than
zero then let's return the string
negative if n is greater than zero let's
return the string positive otherwise
let's return 42 so LM here is telling us
well you've got a type mismatch here the
second and third branches of this if
produce different types of values the
second branch of this type is a string
but the third is a number and then it
gives you these hints these these are
the best thing by far so that's the
that's the nice can scenario which is
what normally gets talked about in talks
and so I figured it's probably better to
show you where Elm really shines in the
worst possible scenario luckily I have
the worst Elm codebase known to me which
is my own codebase and I'm just going to
go and arbitrarily change something in
the in the application that you're all
using on your phones to try and just
give you a little bit of a sense of what
it's actually like to do maths
refactorings in all so here we've got a
foreign code base that we've we've never
been in before and it's got like tons
and tons of code it has no tests like
nothing like just you know like it
absolute horror someone at work has like
gone
full crazy on Elm that just built all
this stuff and they've quit right now
it's your job to deal with it and you're
like you're ready to like quit your job
and you know you're like on Stack
Overflow looking for other stuff anyway
alright
remember Mario said some stuff like I
should recognize a cell map you got up
tat um I'm gonna start okay so we got a
program with flags thing here and we
kind of see like okay in it update and
subscriptions and some stuff is here and
we've kind of got this types thing here
so it seems like types is let's say we
need to extend this app right we want to
we are wanting it add a new page to the
presentation software so we go okay cool
well we know that in Elm to add a new
page we probably need to find a type for
that page or we probably need to find
the actual core message type that
represents all the actions that can
happen and add something there so say we
go into types we look through we've got
type page type aliases we've got things
oh here we go type message we go cool so
this is all the stuff actually all of
the things that this app does there's
nothing this app does that isn't here
let that sink in for a second it's a
code base that you've never touched
before and immediately you already know
everything that it does so let's say we
go okay my new awesome feature is the
new label like when you click a button
it's going to trigger my new awesome
feature which is going to be amazing and
we save this and what we get from what
we get from Elm basically now is a
pepper or anybody that intimately knows
the whole code base and has in a
split-second gone through and checked
every single file every single include
any way that this type might be used and
immediately started coming back with
errors so the very first error that it's
given us and they're saying well your
update function which is in another part
of the code remember the update function
is the main function with all our
business logic saying that update
function doesn't cover this new feature
that you have you need to go and add
that in there so we say okay cool
where's that update function it's quite
a long update function so we go to
scroll this up like I said you know like
the worst the worst possible code
okay so it says State elm and here we go
we've found our update function so let's
kind of scroll to the bottom of it it's
all the various things remember like
worst worst worst possible code my
awesome feature and let's just say we're
going to return the model as is and
we're going to command it on we're just
not going to do anything all right it's
gonna be not out saying well can't find
pattern my awesome feature why not
because it's called my new awesome
feature yes thank you pair programming
buddy I've made that change now and only
saying okay that's pretty good that's
good that is all you needed to change
nothing else in the code will break you
didn't make any other side effects
nothing else depends on that new feature
you've added you are 100% a ok to deploy
this to production so that for me is
like chalk and cheese difference to the
kind of development that I have
day-to-day so much so that I'm finding
it increasingly more difficult to
program and other languages without
these guarantees just because the level
of uncertainty that you gain by working
in a language like this kind of really
decreases your confidence in other
languages so I find myself now when I
interrupt with JavaScript in elm and I'm
working with JavaScript stuff you know
with elm you you you write stuff and you
compile it and it's wrong and change it
that's wrong and change it again albums
like no wrong and you fix it and it's
great in your life yeah it looks like
it's pretty good and in JavaScript you
change something and you're like where's
the thing that tells me maybe it's ok I
don't know like you go to potentially
now go write tests do your tests cover
every single case potentially not so the
wrong and broken difference that kind of
broken bit just kind of disappears but
the wrong bit is still your
responsibility Iran it's somewhat
satisfied with a real life example ok
cool very quickly I'm ending off with
some high-level stuff so Alan packages
have Auto semver
so again when I talked about the nice
side effects of having enforced purity
and side-effect free code alum can look
at your library and all the type
signatures that you have exposed if you
have changed no public interfaces alum
or minor version increase if you have
added a public interface it will middle
version increase and if you have removed
a public interface it'll major version
bump your code you can't change your own
version numbers in elm packages it just
does it entirely for you the flip side
of that is when you're pulling down new
package updates and can automatically or
you can safely pull in minor and
intermediate versions because you know
that they haven't fundamentally they
shouldn't have changed they wouldn't
have changed any of the interfaces they
may have changed some behaviors but
generally it's a lot safer and if you're
dealing with a major change you know
that something's gonna be removed even
still bring that package in with a major
change you're pretty happy because the
elm compile will then immediately tell
you every single place in your codebase
where your usage of that package is now
broken so you still have the protection
and optional choice on whether you want
to engage in that work or not well when
you do upgrade it gives you like a
bucket list of exactly how to upgrade
which is pretty awesome the elm packages
site if you want to kind of look at the
kind of packages that exist in the on
community and their own packages to
online to org yeah check it out that's
not much more say they're compiling Elm
so I haven't talked about how Elm
actually works in terms of compilation
so like I said even though it has all
this library stuff it is fundamentally a
separate language that has its own
runtime so it's got its own compiler so
you take you write a bunch of ml M files
and they run through the compiler and
you get compiled Java Script that
includes both your code and the runtime
and all the libraries and everything to
do with it what kind of packaged up if
you're in a project that has JavaScript
files already you're probably going to
want to pull in elm incrementally into
certain bits to try it out or to have
kind of some interrupts so the very very
simple way to do that is through web
pack web pack has a
and web pack loader which will simply
allow you to require elm files directly
and then mount that elm app to whatever
node you actually want that to attach to
it and then run the rest of its stuff
there how do I use element work
the answer is gradually there's actually
a blog post by the author of Elm himself
his name's Evan and and he he talks
about the incremental approach and also
what he's seen in his experience of the
the number of years that he's been
improving Elm for Allan projects that
are succeeded and yet generally the
premise is that you take a small area of
an existing app or or if you're starting
from scratch if you have that luxury and
you can just try it out in a very small
section an experiment and see if it
meets your needs and if it works well
enough for the domain that that you
write in and then if it does you simply
just take more and more chunks of that
tree or put Elm in multiple places
around your app so for those of you that
are using react there's kind of like a
canonical example and by themself of
react home components so very simply
you're importing Elm wrapper for act on
components you're importing your L map
from wherever might be like the compile
code and you can just put that straight
into a react render function there's a
very simple example there's more
complicated example so if you want to
pass some values of an elm in Italy or
if you want to actually talk to and from
the Elm application but all of this is
like a 20 line wrapper it's really
really simple so just with plain
JavaScript you literally brick if you're
using the ELMO pack letter you're
requiring that javascript that i'm
you've written and you can just embed it
to a node that's the only attach point
to get started cool Cabot's
general-purpose programming language it
gets kind of thrown around a lot and so
something that I again I got cut on so I
kind of want to put out there Elm
doesn't run on the server side yet it's
not a server-side language and it's not
a general-purpose language you could run
it on the server if you really wanted to
I mean 0.19 the next version there may
be some server-side rendering stuff
cuz a lot of people have been asking
about that but there is a really really
good document about general purpose
language written again written by oven
that I would recommend reading if that
kind of fury a to you for some reason
because actually really clear and
articulate on why this kind of premise
doesn't really exist so you know we
might say Python is a general-purpose
programming language but you're not
going to go write assembly in it and
might say C is a general-purpose
programming language but you're not
going to do web development in it so
general-purpose languages do still have
specializations so Elam is the same in
that sense its specialization really is
to be really awesome at front-end apps
fiddling with a Dom you're gonna have a
bad time if you really really convinced
that you really really need a fiddle
with the Dom or you have some
application that's for some reason doing
something with external libraries and
pulling in markup and and all that kind
of stuff and that is not something that
Elm allows or is any good at really and
you can still achieve what you wanted if
you talk the reports to some JavaScript
kind of interrupt but on that side as
well javascript interrupt is really
really strict in order for Elm to
preserve those kind of guarantees of
runtime safety and not exploding on you
I'm the way that it talks in and out of
JavaScript is also through a really
strict typed interface so it makes sure
that the types that come back are actual
types that your app can handle and keeps
anything else out I'm so kind of all the
JavaScript errors stay on the outside
and the arm stuff stays pure and yeah
this one's a little bit cynical but you
you'll admit we may be more frustrated
with other languages at least I have
been cool thoughts after two years of
function programming it's not a silver
bullet I'm not claiming that this is the
solution for all problems like I said
before I'm not suggesting we go to Linus
Torvalds and say hey let's rewrite Linux
and Elm but I think if you're doing web
development and you're writing web apps
which is specifically what um Elm is
engineered for I think it trades off for
better problems
um the constraints that it gives you
it's kind of like Lego if you've played
with Lego as a kid you probably didn't
think man I really wish I could just put
glue and and wood sticks and and cut the
LEGO pieces in half right oh you're just
going to go are they snap together and
suddenly you can you build all these
kind of things so for me FP is that same
kind of thing I don't see the typesafe -
I've never felt it to be a restriction
it's just been
kind of like an enabler but if you
really really need glue and sticks well
then use glue sticks I'm yet to see a
broken runtime I haven't seen one yet
there are various edge cases that can
cause them you can look them up on the
online tracker
I think they've gotten them down to like
four or three now
um reveals your mistakes so as part of a
previous talk I talked about why l made
me realize how terrible of a programmer
I am it's actually positive because it
improves your code overall but it kind
of does show you like I said before that
lowers that confidence that you have in
other languages because it increases
your visibility of just how much you're
not seeing that you're not catching and
refactoring is really awesome I before
the last presentation that I did this
live talk with I decided to change
something from a single field to like an
array like I had a 1 of something and I
wanted to have a multi of something and
I changed it and it broke the whole code
base because my whole thing had been
built with a Provost premise of a
singular relationship and 15 minutes
before the presentation I was like yeah
why not manage to get like all the stuff
checked off and all changed and
compiling and deployed it and went
flawlessly so my experience with that
has been that at a baseline level in the
worst possible scenario writing the most
terrible code with no tests you still
end up in my experience better off than
other languages that don't have these
guarantees and you do have those kind of
tests ok
further reading watching the Elm guard
is kind of like the canonical intro
it'll teach you all the stuff that I've
violently skipped over like actual
syntax and the types of values are
available and some of the library
functions a lot of this talk I've kind
of ripped bits and pieces out from Kevin
yank who does a much better and more
eloquent job with much nicer slides I'm
so check out developer happiness on the
front end with Elm especially if you
also work with rails you may fight that
interesting
and then to talk recently that I think
really address two problems that that
kind of people run into when they come
to them because it's such a different
paradigm is you your app gets larger and
larger and you want to scale it or you
you start with a file and like me
soldered my first file and once it got
to 100 lines or like oh this is bad
10 files in like modular structure and
all this kind of stuff and so Evan talks
about why that's the the reasons that we
do that in other languages aren't
actually present in elm that doesn't
make sense to do that so he talks
through a really beautiful example of
those kind of assumptions and how they
fall over in the life of the file and
growing kind of modules out and then
Richard Feldman talks about scaling all
naps until much larger extent Richard
works at a company called no red ink and
I think it's two hundred thousand lines
of code and production they have and
their claim is that they still haven't
had a single runtime exception so I
think that's that's pretty cool
so if you want to see either of those
kind of things take it from the horse's
mouth fair that's all I've got
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>