<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Gulp JS: Gulp Watch in 15 min (minify JS files) | Coder Coacher - Coaching Coders</title><meta content="Gulp JS: Gulp Watch in 15 min (minify JS files) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-CBT/">Tech CBT</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Gulp JS: Gulp Watch in 15 min (minify JS files)</b></h2><h5 class="post__date">2016-08-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xTiHlpuoOd0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we are going to see on how
to minify javascript files using calc
degeus we are essentially going to
create a new gorgeous task which
combines our concatenates all the
JavaScript files available in the source
folder into one file one javascript file
and then minify the same file further we
are also going to see an how to
implement watch that is gulp watch or
say monitoring for file changes and
execute respective gulp task whenever
any kind of file gets modified if you
are not familiar to J gulp dodgy ass
please watch one of my previous videos
which covers the basics of garbage is ok
let us jump straight into the respect of
my application so in this case I have a
folder called test and I do not have any
other folder or app inside this so let
me start with a new app called my app
now once I have my app in place I need
to initiate that using NPM so which
means I need to turn that folder into a
node application so I am going to open
command prompt here and I am going to
say npm init which essentially converts
that particular folder into a node
application so I am just going to accept
all the defaults which are available so
that it actually creates package dot
JSON file so if you see in my folder you
are going to say package dot JSON so in
order to work with this folder I will be
actually opening the folder using my
editor called sublime in this case you
can use any of your favorite ators for
that matter so if you open packet of
JSON you are going to see all the
defaults whatever you have provided or
whatever the information you might be
providing as part of initiation of NPM
as part of your project so let me clear
this and now let me copy a few files
which actually does some kind of
JavaScript code and also HTML recording
so prior to that I would like to have is
to be executed as part of this test
folder so that I can actually access or
test my particular application using a
browser you can use any of your favorite
web servers in this case I would like to
use is Express so I just wanted to move
it here and similarly as I mentioned I
would like to have couple more files in
order to test my application so in this
case all I really need is these two so I
go in here go to my application and just
copy those two this is just a normal
HTML file and this hash table file
essentially is going to include three
JavaScript files app one two so two dot
J's is actually available inside the T
folder which is a nested folder
available inside SRC so source is the
folder which contains all the JavaScript
files and if you can see the first one
is AB dot J's if you open it all it does
is just instantiate or initiates a
particular JavaScript object and in one
degeus to the same object of app which
has been created earlier in average as
you know I am using the same object here
in one so I'm saying that please add
this method which essentially alerts
using something like a message called
this is from first method
similarly in to Dodgers I am further
extending the app in such a way that I
am going to have a debugger here which
is not essential anyway and I'm going to
say an alert this is from second method
whenever I execute this method so if we
go back to normal dot HTML you can see
first of all I am importing app then one
then two and I have two buttons which
essentially take care about executing
their respective methods whenever I
click on those so once I have everything
in place the first thing is that I need
to have the web server to be working so
I just execute this and now the web
server is actually listening at
localhost 8080 so I just minimize this
and using my browser I go to
localhost' my app normal.dot HTML so
just press ENTER and now you can see I
have both of the buttons so let me open
developer tools for our convenience
so just refresh this and now you can see
I have the source with all the
respective files like AB dot J s 1 dot J
s and if you open T you got to digest as
well along with debugger so once I click
on first message you can see I have the
message related to app dot first method
method itself and similarly if I click
on the second button as I have written
debugger here it is going to stop right
there and further pressing execute you
are going to see the alert this is from
second method right here so in that way
we have a simple application which
actually does a couple of imports of
JavaScript files and have the HTML to be
taken care about executing the respect
to JavaScript methods on clicking of the
respective buttons okay so we're done in
that way but our main goal of this video
is to actually concatenate all the
JavaScript files into one and again
minify them and watch them and implement
all of these using color ideas so the
first thing is I need to go back to my
command prompt here and I need to have
gulf to be installed for this
application alone in this case but if
you would like to install globally it is
up to you so in this case I would like
to go locally so I am going to say gal
sorry NPM install gal and save it as
part of our package dot JSON so it is
going to install local to the
application so which means it is going
to create all the folders inside the my
app called no I mean the folder name is
going to be node modules so let me click
install and if you go to my app you are
going to say node and the score module
was being created and you are going to
say Kulp is currently under progress of
importing all the respective files or
modules ok so now that we have Kalp
already installed as part of the
application the next thing is that we
are going to install calc add-in called
congrat except for that i'm going to say
npm install gal concat and in this case
again i would like to save it as part of
packaged or json okay so if you return
back to your packaged edges and you are
going to see those two dependencies
which have been added through your
command line so once we have both of
those like the gulp and gulp concat
we're how to write gulp dot JS file as
part of this my application so currently
this my app doesn't have gold brought
years in order to work with gulp you
need to have garbage yes so I have a
simple template called gulp file
gorgeous I am going to use that as part
of my application which is quite
straightforward if you open gulp file
dot J's you can see all it does right
now is importing the module called gulp
and it is available as part of the girl
and as we are working with gulp concat
we have to import that module to and I'm
going to say gal can come cat so that
was the plug-in which I actually
installed earlier so if you go back here
you can see I installed gulp concat so
the same thing I am actually placing it
here too and now I'm going to create a
new gulp task called t1 you can provide
your own name here it doesn't matter or
whatever you provide here so in this
case I would like to say return specify
the source files and in this case I am
going to say go to the folder called
source you can see I have the source
folder right here and inside the source
folder fetch all the files in any of the
subfolders of the source file and only
with the files having the extension
JavaScript and next pipe each of those
files and go with concatenate module so
you can see I'm using the same variable
whatever you have in here right here so
I'm going to say concatenate and place
in older Jas and at the same time I
would like to have that all dot J's to
be actually placed in a different folder
destination so I can provide whatever
the folder you would like to have so all
it does is it it fetches all the
JavaScript files available in the source
folder or any of its nested folders
concatenates all of them into one single
file called alder Jas creates it and
places inside a destination folder we do
not have destination folder here and
gulp is smart enough to create
destination folder all by itself and
places all the J's right inside there so
I just save this and now I go back to my
prompt and I am going to say gulp and
the name of the task in this case is t1
so I can provide
t1 as your task and now you can see it
says started I mean starting task 1 so
which means it is trying to execute t1
and it has finished and if you go back
to your application you are going to see
destination and all the GS has been
created automatically so if you open the
all de Geus you are going to see
something like the concatenated
information from all of those files so
this one is coming from AB dot yes this
one coming from one dot yes this one
coming from two dodgy as available in T
so in that way we have all of those to
be made available in one single file
called all that years now I need to
modify this normal dot HTML so that your
actual work with all the GS but not
really after Jess so instead of
modifying this better I would like to
duplicate it and in this case I'm going
to call something like t1 dot HTML and
as I do not need any of all the files
all I really need is go to the
destination folder and just get only all
that jazz okay and now I go back to
browser and here I am going to say go
with t1 sorry
Nia t1 dot HTML and now if you see
whatever the things downloaded from the
server all I have is destination and
inside the destination I have all the
chairs and all the J's is just not
nothing but the concatenated information
and first message should still work in
the same way second message should have
a debugger in place
and the moment I press execute it is
still going to work with the same
message whatever we have in place so
from now onwards every time you modify
any of your core files like one dot J's
in this case this is from first sample
method let us consider and now I go to
two and I'm going to say this is second
sample method so now I modified these
two but those will not be immediately
made available as part of destination
because we need to concatenate all of
those once we modify any of those so
that is important so this task is
automat not automatic so I have to
execute this task every time you modify
your JavaScript files so now that I
modified the JavaScript files and then
again executed t1 now you are going to
see this nation actually having second
samples right here now I go back here i
refresh this and you are going to say
first sample method and again in the
second message you are going to say
second sample method as well okay so
this is pretty important every time you
change any of your JavaScript files you
need to go back to your command prompt
and execute your calc task every time
you modify that is pretty important and
that manual execution of gulp tasks can
be automated using gulp watch so which
is what we are going to see now so for
that you do not need to install any
special plugins gulp has got a built-in
watcher by itself which monitors all the
respective files whatever you specify as
part of your file I mean as part of your
calc file so I go back to my sublime
here and in this case I am going to
modify my gulf file to jazz the task and
in this case you can provide any task
name in this case I'm going to say watch
1 and whenever I say watch 1 what it has
to execute so in this case all I'm going
to say is gal duck watch
source and starter Jess so which means
I'm saying that please monitor watch
miss monitor monitor all the JavaScript
files available in every subfolder or
everywhere inside the source folder and
whenever it finds any modifications to
any of those files please execute all
the respective tasks I provide so in
this case I have only one pass called t1
which needs to be executed so all I'm
saying is that watch for this files and
if any modifications are found please
execute this task and that is pretty
much about it so I'll just save this and
now I go back to my prompt all I have to
say is Cal w1 so what is w 1 that is
nothing but your new task which is a
watcher task so I just press ENTER and
now it is saying starting W 1 and it
says finished but still you can see it
is actually waiting there and monitoring
all the modifications to the existing
files so let me restore this window a
bit and place this one somewhere here so
that we can see all the modifications
are monitoring or the executions the
galperin time is making while we are
trying to modify the respect to
JavaScript files so go to wander jr's so
in this case instead of sample I'm going
to remove the first I mean I'm going to
remove the sample word I just say file
save so the moment I say say you can see
that it is actually executing task 1
because it found one of the files have
modified and tags it has to execute the
respective tasks and similarly I go back
to 2 and in this case I am going to
remove sample again and now I am going
to say file save and now you can see it
is a gain executing task 1 so in this
case we do not real need to go back to
command prompt and the REA execute gulp
task manually if you have watcher in
place
so let me say all of this part and now
all I have to do is go back to your
browser and just press refresh and if
you go back here you can see the sample
world has been removed so the moment I
click on this you can see I have
debugger and at the same time alert
working in the same fashion okay
now you can further not just concatenate
you can also minify all of your files so
which means in this case let us consider
I would like to have all the GS to be
actually minified which means I would
like to have all the unnecessary spacers
and debuggers and everything to be
remove order so for that we can actually
install so let me cancel this so just
press control C and press Y it is going
to cancel this job okay so in order to
have the minification of JavaScript
files to be working the first thing I
have to do is that I need to install a
special plug-in in this case I call this
one as npm install fire so this is the
gal plugin which is available as part of
your the open source girl plugins we
need to install that and in this case i
would like to ensure that it is listed
in package dot Jason and now you should
be able to see a glyph I downloaded at
installed and now I go back to my Gulf
file the first thing is that I need to
modify I'm a girl file and import the
new uglify plug-in whatever I installed
so I'm going to name the variable as
active I for this module called uglify
that is the plugin and now I'm going to
modify my task 1 as I already have
concatenate let me create a different
file called all that mean dot yes so
that it has to concatenate everything
into all that main Dodgers and further I
would like to have a glyph ID to be
applied for the same file so which means
what I'm saying is that find out all the
JavaScript files concatenate into this
file
and use the same file further - I defy
it and place that file inside the
destination so make sure that the
physical operation of actually creation
of that file and placing the that file
is going to happen only during this step
behind the scenes all of this will be
working in the buffer that is in the
memory and again we don't need to modify
any of our watch here as because the
watch 1 is actually working on T 1 and T
1 is essentially concatenation and
minification at the same time so we do
not need to modify watch at all so I
just save this
go back to your command prompt make sure
that your watcher is on just press W 1
and now you can see it is watching and
now in this case I had to modify my T 1
dot HTML so that it actually goes to all
but mean dot J's rather than all the GS
now in this case let us consider I am
going to modify one dot J's to something
like this says just first message so I
save it and let's ensure that the task
t1 is running here so similarly I go
back to 2 and in this case I am going to
say this is second message and just say
save and now I go back to help here and
you can see t1 has been executed once
again I just refresh my file and now you
got going to see destination but inside
the destination you are actually working
with all that mean dot J's and you can
see all that window J's is actually
having the minified version of all the
JavaScript files and now this is first
message and this is second message so in
that way we could say like the gulp can
be used as a JavaScript pass grammar
which actually can work with any of the
girl plugins which can be used for
minification of JavaScript files or
satisfies sorry CSS files are converting
from sass to CSS watching the folders
for the respective changes and execute
the respective tasks as</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>