<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Introduction to JWT (JSON Web Token) - Securing apps &amp; services | Coder Coacher - Coaching Coders</title><meta content="Introduction to JWT (JSON Web Token) - Securing apps &amp; services - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-CBT/">Tech CBT</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Introduction to JWT (JSON Web Token) - Securing apps &amp; services</b></h2><h5 class="post__date">2015-09-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oXxbB5kv9OA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we are going to take a
look at JWT
also called as JSON web token this is an
introductory video which covers the
basics of GWT along with its structure
JWT stands for JSON web token so
whenever you would like to have
information to be passed from the
service or the server to the client the
client in the sense the consumer you can
always make use of JSON web token to
send that information in a secure manner
so for example if you would like to have
some kind of authentication to be
performed at the server and then the
server wants to return some kind of
secured information to the client then
you can use GWT not only that whenever
you would like to have any other
subsequent requests to be made from the
client to the server you don't really
need to authenticate every time but
instead you can just use the same token
over and over again in order to use the
same authentication mechanism whatever
the server did earlier so which means
you just authenticated for the first
time and the server generates the token
and returns it to the client and then
onwards the client simply uses the same
token to get it authenticated or
authorized for all the subsequent
requests so usually it happens between
two parties that is server and the
client or the service or and the
consumer so JWT which is nothing but the
bet token contains all the information
necessary for our consumption so which
means whenever you would like to have
the user name or all the roles email and
all of that stuff related to the
relative to the security all that
information is made available in the
form of JSON so you can see it is an
object of type JSON on its own so which
means all the information related to the
security can be passed in one single
token and again it is not a compulsory
it is not mandatory to have the
all the information to be sent but if
any information needs to be sent across
the wire you can still make use of JSON
web token but gate should be taken in
such a way that you don't really mean
send any kind of passwords here so this
is not hundred-percent secured it is
like you are sharing the information and
authentic information from the service
to the client so everyone can still see
the information what is available as
part of the token everyone everyone can
see the information which is available
as part of the token so token here
contains all the information which can
be seen by everyone however whenever you
would like to have that particular
information what everyone can see also
to be encrypted you can still make use
of it so it doesn't mean that everyone
can see always everything but still you
can make use of your own encryption and
decryption methodologies to have that
particular token and all its content to
be made much more secure it is mainly
used in web applications as I mentioned
whenever you are having any test based
services and if you would like to have
the consumers to actually have some kind
of authentication against resti API you
can make use of that so most of the time
this JSON web token will be made useful
especially in web applications of
services and while I mentioned it is web
applications or services you can
literally use any kind of technology in
order to work with jwd so you can use
JavaScript node.js Java or.net or any of
those particular languages or platforms
to work with JWT
as because it is an open standard so
whenever you are working with JSON web
token you can pass that particular web
token for all the subsequent client
requests using URL in the form of the
query string or a body parameter just
like a form post or you can also send it
using HTTP header you
usually with the header I mean the
header entry name is x-axis token so you
can use either of these three any of
these three so you can send it in the
form of Yi curry string you can send it
in the form of body parameter using form
post or you can also use copy or HTTP
header it to have all of that particular
information to be passed to the server
so the next thing is that this is mainly
used for single sign-on contact so which
means imagine you have multiple web
sites and you would like to have the
same kind of token to be used across
multiple web sites you can really make
use of that in a very simplest fashion
available so you can have the
authentication to be made at one web
site and use the same token against
other website and have the same web
token to be reused in multiple other web
sites and all of those web sites can
share the same kind of token available
and as you can get the single sign-on to
be working very easily so let us quickly
look at the JWT structure first of all
the JWT or JSON web token is separated
with dots and it is having three
sections so which means I have the first
section second section on the third
section all the three are separated
using dots so whenever you see any kind
of JSON web token you are going to see
essentially three parts and each of
those parts are separated with dots next
those particular dots even though they
separate those sections each of those
sections are named on their own for
example the first section is called
header the second section is called
payload the third section is called
signature so each of those sections have
their own significance
so and the most important thing we need
to understand here is that all of the
sections are like this information the
second and the third like header payload
and the signature all of those three are
base64 encoded so I just wanted to
stress here that it is just only encoded
it is not encrypted so which means any
kind of information which has been
encoded can we still be decoded very
easily online or just using your own
particular application so there is no
key involved and there is no encryption
involved here so this is not a secret
base64 is just only a standard to make
sure that the data is available in
certain format so this is not an
encryption this is just only encoding
where everyone can still deal with it
and decode it very easily online so the
next thing is that header so the first
section whatever we would like to
discuss here as part of the three parts
is the header so the header you is
usually a JSON object which contains at
least two parts so I just wanted to go
with only two parts it can also have
other things but usually any kind of
JSON web token will have a header with
it which essentially has at least two
entries the first one is type which
means what type of data it is
representing in this case it is JSON web
token and it has to be made available so
type is JWT always the second one is
algorithm so whatever the hashing
algorithm you would like to use in order
to get it hashed you can mention that so
you can provide hitches to 56 like hits
Mac sha-256 or RS Phi 1 2 or a yes or
whatever we have a bunch of those and
you can use any of those particular
hashing algorithms in order to have that
respective web token to be encrypted and
signed and also hashed
that that is nothing with the hashing
algorithm so you need to define the
algorithm under which this particular an
entire token is being hashed so that
needs to be specified right inside the
header itself using this particular
entry called a LG algorithm which stands
for hashing algorithm now that we
understood something about the header
let us jump to payload so this is the
information which contains all the
necessary data which needs to be sent
across from the server to the client
outline to the soul so which means all
of the information which includes the
username the roles all of that stuff
email first last name for example all of
that stuff can be made available as part
of payload so usually this is the
information which will be used by the
respect to application in order to have
certain UI elements to be made available
based on the authorization it might have
like you know if it is admin I would
like to have certain call UI elements to
be shown if it is not admin I do not
want to have certain elements to be
shown so this payload can also be called
as claims so claims means essentially
those are nothing but key value page
where each and every key whatever you
can see in the list here is as SUV or
whatever those are all the default keys
which are made available as part of the
JWT standard however you are not limited
to those you can add your own keys in
whatever the way you want it but we will
have to ensure that those are not
conflicting with the existing ones so in
this case is as stands for issuer so
which service app is actually issuing
this token similarly any subject
audience or expiration time not before
certain date issued at what time of date
and if you wanted to provide any kind of
ID you can also provide using jti on all
of that stuff and you can see I provided
name and
which are not available here because
named Edmond our custom claims for which
I added on my arm for myself exclusively
to share more information about my
particular security to the respective
line so you can add as much of
information as possible here and again
you can see this is nothing but adjacent
representation so all of this
information payload will be sent to the
client as because you are sending the
whole token which includes the payload
but again we will have to ensure that
both header and the payload and the
signature all of these three are base64
encoded so which means entire
information of header and the entire
information of payload can be seen by
everyone unless you really encrypt the
stuff inside the payload so you care
should be taken like whatever the
payload you are going to send is still
visible to be everyone but no one can
alter it so if anyone changes something
like admin to true and if the client
verifies that particular token it is
going to be returning as invalid so the
authenticity and the validation is
always ensured that those are in sync
however this information is always made
public as because you can see it is
base64 so this is pretty important this
information cannot be modified as long
as it is being verified by the client if
this information is modified and
tampered with then this particular whole
token becomes invalid but if no one is
tampering this everyone can see this
information as long as they are able to
decode it using base64 which can be
easily done by any online utility so
make sure that whatever the information
you put in here is available publicly
and the next one is the signature so
signature is the third part and the last
part this essentially is the main and
the heart of that particular token
which encrypts this whole thing and
essentially it hashes it so which means
like this signature is essentially
nothing but the base64 of header at
base64 our payload together you can see
that I'm actually having a variable
called s which essentially nothing but
gets the header encoded in the form of
64 payload also encoded you can see I'm
having a dot in between so concatenate
the base64 encoded of header with the
dot and further with payload which is
also in the form base64 and once I get
that particular string you can see I am
currently using H Mac sha-256 algorithm
to hash the string using whatever the
password you would like to provide you
can provide any password here and the
result of that particular hash is
nothing but the signature so this
signature is nothing but the hashed
result of this entire part along with
your own password whatever you are going
to provide so that signature as it is
hashed it is only one way and it can
never be decrypted in general and
further hobbies JWT form the web token
is nothing but header plus payload plus
signature and you can see s which is
nothing but I already have the header
and the payload together with the
signature you can see whatever the
signature I have received that is
further converted to base64 encoding and
then the result is nothing but the JWT
so JWT essentially is nothing but the
concatenation of base64 encoding of
header plus payload plus signature which
is nothing but the hash of the first toe
so in that way I get the JWT altogether
so if any one tampers with any of these
two information then whatever the
information they have tampered will
never be compared I mean will never be
the same as what
you put in signature so in that way the
signature already includes the hash of
these two so if anyone temple's this
then the signature along with that
tampered message will never match and
the token becomes invalid so whatever
the information is available in header
plus payload is always made available to
the signature in the form of a hash so
whenever you verify it you have to
ensure that the latest whatever you have
received in the form of header plus
payload should always be tested again is
the signature and as long as they are
both match the token is valid if they
are not matched the token is invalid so
let us see and how just this JWT in the
real world is being used so imagine I
have a client and a server so whenever I
say client it is nothing but a consumer
or a simple application which gets in
touch with the server or a service
application so this could be a rest
service or a web application or web
service or whatever you would like to
mention it as but ultimately the
information is going to be passed from
the service to the client or client to
the service so the first thing is that
the client or the consumer is going to
request a token from the server so which
means the client needs to authenticate
itself to the service so whenever it
needs to authenticate to the service
like it is the genuine clause or I mean
genuine consumer to the service it needs
to pass the respective authentication
credentials so it could pass the
username or password
during the first request and that
request is essentially to request a
token so whenever the client is trying
to request that token from the server it
needs to pass the dedication credentials
so the first step is requesting for a
token by sending all the authentication
credentials to the server
servus and now the second step so this
the token request has been passed to the
server and now the server is going to
check the credentials against the
database or whatever the source of
security it is trying to authenticate
itself and once the credentials are
valid it is going to create a token that
is nothing but the JWT which includes
the header all the necessary security
information which needs to be sent back
to the client will be made available as
part of payload and the signature all of
that will be created by the server and
that is going to be the second step and
once the Jade ability has been created
at the server it will be sent to the
client and that will be received by the
client here so for some reason if the
credentials are wrong instead of sending
the Jade ability it can actually send an
error message to the client saying that
it is not authenticated based on the
information the client has passed so
that so you can see the first step it
requests for the token the second step
this one validates the credentials
creates the JWT and sends the JWT only
to the client or the consumer and now
the fourth step is at the client right
here so once this client receives that
particular JWT it can verify the Jade
ability to ensure that it is
authenticated and at the same time it is
not tampered with why because during
this communication right whenever you
you receive the Jade ability from the
service to the client if some hacker
comes in and that particular hacker
tampa's the data right here you know you
will have some false information so it
is up to you whether you would like to
verify the token about its authenticity
and then the tampered nature you would
like to check all of that stuff it is
better if you can verify the token at
the client also but again it is optional
and not everyone does so imagine you
verified it
and the token is valid then you can
extract the information from that
particular token at the client say
username and you know all the rules and
everything will be made available to the
client or consumer and you can extract
that whole information and make use of
that information directly inside your
application itself and on top of it the
next one and the most important thing is
that you need to purchase that token at
client side so whatever the token you
have received at the client side needs
to be persisted or saved or stored
somewhere at the client premises if it
is not stored next time whenever you
communicate with server again you need
to send the authentication credentials
in order to get yourself authenticated
so in order to get rid of that shadiest
job of always sending authentication
credentials which also will have an
effect towards performance it is always
recommended to have the token to be
stored at client side so that you can
reuse the same token again and again
whenever you are having subsequent
requests to the server so after four you
can see there is one more request to the
service for more information of
something else like I would like to have
list of employees or list of products or
list of orders so whenever that request
is being passed to the service you can
see I am actually using the same
persisted token so I did not send
authentication details right now I am
not going to send authentication
credentials
every time this first step is only for
the first time you send the
authentication credentials only for the
first time once you receive the token
you possess the token at the client side
and now you use the same token over and
over again for all the subsequent calls
to the server and once you are
requesting for more information in some
other end point at the service still you
are sending the same token and now it is
going to be the service responsibility
to verify that whatever the token the
client has sent to the servers is valid
so this is essential even though you do
not do that at the client-side that the
verification of that particular JWT
it is essential at the server to ensure
that whatever the client is sending to
the service that particular JWT is
always attentive and valid and so for
that purpose for each and every request
the client is requesting to the service
the service needs to have that
particular jet ability to be always
verified against again its validity and
once it has been verified then it is
going to send all the information what
the client is asking for again if and
only if it is valid token so this is
important for all of the subsequent
requests from the client to the server
the server is going to verify the jet
ability for every request it is the rate
it is receiving if the verification has
been passed with all the valid
information then only it is going to
respond with whatever the information
the client is requesting for so this is
essentially how the JWT really works
inside a real world so only for the
first time during the first request it
tries to authenticate itself and
retrieves the JWT and from then onwards
the same JWT will be used for all the
subsequent requests to the service and
the server or the service has got the
capability to essentially say that this
particular token can expire certain day
or certain are or it is not valid before
some date or whatever all that happens
as part of JWT configuration and that
information will be made available as
part of the payload itself so you can
still expire all of the tokens or
whatever are not necessary according to
your AR your business ok so now that we
understood something about JWT
let us see on how we can create JWT and
verify JWT try to tamper with the JWT
and check the
the validity of the JWT and I am going
to demonstrate all of this without
really going through the real world
coding but I try to use the existing
tools which are already available online
for creation verification around all of
that stuff so I am NOT going to create
any kind of jade ability using code here
but my upcoming videos will actually
teach you on how to create verify JWT is
using Jade JavaScript or C sharp and so
on but for now as this is an
introductory video I do not really want
to go into the coding but let us just
test it using online tools so let us see
on how to create Jade ability you can
essentially use the Jade ability
directly from I mean test the creation
of GWT using this link or you can also
use the others so let us try to use the
first link I have in here so I go in
here and select this one
okay so there you go so you can see
essentially these are nothing but the
payload related attributes like I have
the issuer assured i expiration audience
subject etcetera
so in my case i do not want to really go
for everything i just wanted to say ABC
service application i am not going to
provide a shoot at expiration of my
token i do not want to provide this
audience and the subject I do not want
to provide any of that information so
you can see those are nothing but the
claims are the payload so once that is
done if you would like to provide
additional claims which are nothing but
the custom clients so in this case I
would like to say username and I would
like to say jag and if you would like to
have any other role information
something like Edmund is not an admin so
all that information you can send it so
these are all the custom plain types you
can provide as many as possible here and
you can provide all the values necessary
and you can say this is the claim set or
say the payload JSON object so based on
the information you have provided at the
top like ABC service app username drag
admin false so this is nothing but the
payload information JSON object so this
information will be passed to our
service which essentially tries to
generate JWT out of it and at this
moment you can see there is no header
information here but essentially it is
treated as something like HS 256 or you
can use any of this one so currently let
us consider I would like to use hitch's
256 here and header information as you
know from my previous thing if you go
back here this header information
essentially needs to have the type which
is always hard coded to JWT and the
algorithm hits us 256 those entries are
already made available right here now
that you have everything like you have
the payload and the header which is
already hard coded to JWT
and the algorithm you have selected to
HS 256 now the for the signature you
need to provide the password or the
secret key so in this case I would like
to just say password one you can just
provide whatever you would like to
provide here and click on create signed
JWT and now you can see I have three
parts the first one is nothing but the
header and the second one is nothing but
the payload information emitter provided
and you can see it has to end with dot
somewhere so you can see it has going to
end here and the third one is the
signature so you have all the three
parts so let us verify this and ensure
that it is exactly the Jade ability we
are going to Centrepointe so we have
created the JWT and now we are going to
verify that so to verify it this is the
link you can use that is JWT that I own
which is easier so I can say the Jade
ability that I whoa
so let us come down now you can say
first of all let us make sure that it is
hedges 2:56 remove everything whatever
you have in here paste our generated
code I mean generated JWT and now the
moment you pasted it you can see it it
actually decoded the header information
from here so this has been decoded into
this and this information is decoded
into this so you now you can see this is
the decoded payload this is exactly what
you see in here and all of this happened
but it could not verify the signature
because I mentioned header and the
payload everyone can see those two but
in order to ensure that it is a valid
JSON or say valid JWT you need to have
the signature to be verified so in order
to help the verification to be done you
need to have that but applaud hitch Mac
sha-256 algorithm to be applied against
whatever the password you mentioned
earlier so in this case you can see I
use it password 1 so the moment you
provide password 1 you can see it has
automatically given signature verified
so if I read remove some password
information here or miss type it you can
see it is automatically giving back
invalid signature so I provided this one
back so let us consider someone is
tampering this a bit so which means
imagine a Hackett wanted to provide
admitted true so for that purpose
imagine this is already decoded so I can
just copy this and I go to the other one
what I mentioned as base64 decore so if
I go to base64 decode here
so I can provide this information and
space decode and now you can see I have
every information whatever the JWT token
has provided and I can see ABC service I
happened all of that stuff and it went
also to false so let me copy this and
now I go to encode I click on that and I
provide this but instead of false I
wanted to say true and click encode and
imagine this is the encoded information
I received so I just copy this and paste
this particular new thing whatever I
received and now you can see header is
same and the payload information you can
see I have everything except eight
minutes automatically gone with true but
if you see the signature it is invalid
so this is pretty important so even
though someone tampered over particular
JWT
the Jade ability validation itself is
invalid as because a dot particular
signature what is included here this
signature could not be in sync with this
one so while this particular signature
is made with the previous one the
signature currently could not sink or
validate again as the information
whatever is available right here
so in that way it is actually giving the
problem so now let us consider again I
would like to mention this one as false
and click encode and I get something
different now I just copy this go back
here so I go in here and click control V
and now you should see administer and if
you come down there is some issue here
select okay that there is some issue
with respect to what is a spacing or
whatever but usually it should be the
same so for example if I go in here you
can see there is a bit of difference
like in0 or whatever so there is some
equal to so let me let me try removing
this and see how it works
except equal to let me see if that works
yeah there you go
so equal to something extra it has
defined and we don't need that so you
can say signature has been verified so
this is pretty important so even though
everyone can see the information no one
can tamper with that
so once the temperature that particular
signature is going to be invalid and if
the signature is invalid then the whole
JWT becomes invalid but if you are
really worried about the information
which is going to be shown to everyone
just because it is base64 encoded you
really need to have all of this
information to be really encrypted with
your own public and private keys and
share the same private keys or the
respect to keys with the client of the
consumer and they can decrypt from their
perspective so this is pretty much about
JWT
so in my coming up videos we are going
to see and how to create Jade ability
using Java Script c-sharp and other
languages if possible</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>