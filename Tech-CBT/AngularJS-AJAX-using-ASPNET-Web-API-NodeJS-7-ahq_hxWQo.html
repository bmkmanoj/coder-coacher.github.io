<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>AngularJS: AJAX using ASP.NET Web API &amp; Node.JS | Coder Coacher - Coaching Coders</title><meta content="AngularJS: AJAX using ASP.NET Web API &amp; Node.JS - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-CBT/">Tech CBT</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>AngularJS: AJAX using ASP.NET Web API &amp; Node.JS</b></h2><h5 class="post__date">2015-12-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7-ahq_hxWQo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this session we are going to touch a
bit about Ajax
and how to initiate Ajax communications
using angularjs this is just going to be
a beginning point of Ajax and we are not
going to cover all the Ajax topics as
part of this video those will be covered
eventually as part of my coming up
videos and in order to work with Ajax we
are also going to develop a couple of
web services using asp.net Web API and
also node.js
however the scope of discussion will be
just limited to angularjs also as part
of this video I am going to introduce
dollar
HTTP and dollar log services available
as part of angularjs okay so first of
all let us see what exactly is Ajax you
imagine I have a server so that is a web
server which is serving website or a web
service and now imagine I'm having a
browser which means obviously I am going
to try to access any kind of web page
available from the website
I mean available in the website through
web browser so in this case browser
becomes the client and our web server
becomes the server so the first thing is
that the request is going to be
initiated from the browser to the server
so which means we may be typing just in
URL like double double google.com or
yahoo.com or your particular website com
so the moment we type the URL that
equation actually goes to this hour so
the first thing is that we are going to
have first request to the website in the
form of URL and again that particular
request is going to be from the browser
to the server so on top of that whenever
we are actually requesting the first
request usually or a question for a HTML
page or an aspx page or PHP page based
on the server-side technologies you are
implementing so imagine if it is an HTML
page so which means you are trying to
have
particular HTML page to be retrieved
from the server back to the browser also
back to the client so similarly if it is
any server-side technology like aspx our
PHP those particular pages will be
interpreted or executed at the server
level and the resultant HTML will be
returned back to the browser okay so
once the request has been initiated then
we are going to have a particular
response to be returned from the server
and yes this is going to be the response
for the first request from the browser
usually that particular response
whatever we are going to receive from
the server to the browser is in the form
of full page so whenever I say full page
it essentially contains the HTML element
which is nothing but the root element
the body and so on and it will contain
all the HTML CSS links and Java scripts
and all the necessary references of the
JavaScript files or CSS files or any
other CD and hits wraps or whatever so
all those particular files will be
referred as part of the same HTML and at
the same time you are going to receive
the HTML root element and also the body
element and so on so this is the first
response with respect to our first
request which will be initiated from the
browser to the server and as I mentioned
the resultant or the response whatever
the browser is going to receive is just
nothing but HTML CSS and JavaScript you
are going to have HTML and the body all
of those particular packs at the very
top and imagine we are having a
subsequent request from the browser to
the server so which means we are already
working on the same web page and from
the same web page I am having one more
request to the same website so this is
going to be say something like second
request and it is from the same website
and to the same web server usually these
kind of requires will be triggered as
part of user interactions like button
click or submit or something of that
sort like if you have selected any kind
of element inside the drop-down list
whatever so that is part of user
interaction so all the subsequent
records usually will be some kind of
user interaction from an existing web
page which has been already rendered as
part of the kind or say browser now how
does the server respond back to the
browser so essentially there are two
different ways on how the server can
respond from all the subsequent requests
apart from the first request and this is
a big one so the first thing is that
this is always going to be new response
and that particular new response again
even though it is a new response it is
from the same website that is pretty
important so you are getting the
response from the same website as
because you are actually sending the
request of the same website anyway and
the next thing is that you have two
types of responses so it could be any of
another full page response or a partial
response so whatever the response you
are going to receive from the second
request onwards will be falling into
either of these two categories the first
one is full page response which means
again it contains all new HTML body tags
and so on and it again contains all the
HTML CSS and J's references so which
means the new response whatever you are
going to receive will have new HTML new
body tags on all the new references of
CSS and JavaScript and if you happen to
receive that kind of response from any
of the subsequent requests after the
first request then you can say actually
you are receiving a full page response
as part of the RIC subsequent request
but imagine you are not really having a
full page response but your particular
response somehow falls into these
particular categories like first of all
it does not contain HTML and body tags
it can contain other HTML elements like
do or table or span or whatever but not
a full-blown HTML document like starting
with HTML or body but it can contain
some parts of HTML
if necessary and if you happen to
receive those particular parts of his
tml tags like deals or tables without
really receiving the whole HTML or body
those particular tags will be actually
injected or replaced as part of existing
webpage which is already being seen by
the user so which means the user might
be already seeing if complete web page
and upon click if you happen to receive
one more do that particular deal will be
somewhat replaced but are injected into
existing web page and the user sees the
new content which means the whole page
will not be refreshed
however certain parts of the web page
gets new content or so it gets refreshed
so it is only certain parts but not the
full-blown page if it is full-blown page
it is like full page response if it is
parts of the page then we can say it is
partial response and this particular
partial response doesn't necessarily
just contain only the HTML elements it
can also contain just the JSON or XML or
data representation so which means this
response sometimes can just have Java
Script object or just XML or just some
primitive values like 30 or 40 or some
string like our CT string like Vienna or
Austin or something of that sort so you
can see what you are actually retrieving
or whatever the response you were
receiving from the server to the browser
can be a full-blown HTML document or
just some parts of the HTML or just a
JavaScript object or XML or some kind of
data if you happen to receive JSON or I
mean JavaScript object or XML or data
usually you will be having certain kind
of JavaScript which will be executed at
the browser the browser level which
essentially tries to parse that
particular information whatever you
receive from the server and after
parsing that particular data whatever it
has passed will be injected or will be
placed into the existing HTML elements
which are already available as part of
the web page
or rendered as part of the webpage like
if you have text boxes or any kind of
dropdowns or whatever whatever the
information you must have received using
XML or data that information you would
like to put inside a text box or a
drop-down or any kind of Bayeux or
whatever so still you are actually
working with some existing elements on
the browser and trying to replace with
some new data whatever you must have
received from the server so again going
back you have two types of responses the
first one is full page response where it
will be having full-blown HTML document
to be received from the server the
second one is either you can have some
HTML elements which could be replaced as
part of our existing web page or you can
just work with the JSON or XML or data
whatever you are going to they see you
from the server and push that
information into any of the existing
HTML elements which includes all the
input elements as well so this is pretty
big as part of the response from the
subsequent requests usually and whenever
you have this kind of response like a
full page response usually you will be
calling that one as full page posts back
and again as I mentioned full page post
back usually means you will be posting
some information to the server and you
will be expecting a full-blown HTML
document as part of the response that is
full page post back and if you have any
of the response in any of these times
like parts of HTML or JSON or whatever
you are going to call that one as
partial page post back so whenever I say
partial page post back you are not going
to receive whole web page but you might
be receiving some data or some parts of
that particular web page where that
information will be replaced as part of
the existing content so that is the
reason it is called as partial page and
whenever it's a post back which means
you might be submitting some information
to the server prior to getting the
response and that is the reason I call
that one a sports back and usually any
of the partial page or inter post backs
or partial page responses is going to
happen through a technology called AJ
so whenever I talk about Ajax
essentially I'm talking about partial
page post backs or partial based
responses so whenever I talk about Ajax
just imagine we are talking about
partial response from the server but not
a full-blown or full page response so
whenever there's a partial page you are
talking about Ajax and Ajax stands for
asynchronous JavaScript and XML so again
you can see it works with JavaScript and
in return it might have XML our
JavaScript or JSON or data whatever and
everything happens as synchronous looing
okay let us switch to the next slide so
let us recap everything whatever we
learnt as part of HX and bit more to
have a better understanding about ajax
here what is ajax it is nothing but a
special type of communication which
happens between the browser and the
server without having a full page
response so it is still a network
activity so a network activity which
happens between the browser and the
server and again whenever this
particular network activity or the
communication which is going to happen
or the response of that is not going to
be a full page but it is going to be
partial page response so that is what we
will call it as Ajax and next usually
those kind of Ajax based communications
or partial page wrecks where the
question responses are going to be
achieved only through JavaScript users
can still interact with the UI why the
communication happens behind the scenes
so this is important if it is a full
page request or full page post back
usually the user will not be able to
have any kind of operations to be done
again is existing user interface on the
web page so which means while the
request has passed through the server
the user has to sit idle till the
response comes back from the server for
a full page response but if it is a
partial page response the user does not
need to wait for that particular
response while it is being processed at
the server the user can still
interact with existing user interface
whatever is already available as part of
the webpage on the browser so that is
how it is called as a synchronous or
asynchronous means the user does not
need to wait for any kind of response
from the you from the server so during
this particular asynchronous operations
it is a common practice to actually show
a spinner while it is doing some kind of
server based processing so this is a
common practice like whenever you see a
spinner you can see that it is an ajax
based request and some kind of process
is being done at the server level and
once the process has been completed by
the server after the response that is
the partial page response has been
received by the client then we are going
to have that one to be rendered as part
of the web page so this is unusual
practice the next one the Ajax response
response whatever I mentioned earlier
that the partial page response or Ajax
response from now onwards can always be
returning a JSON or XML or data or even
HTML so whenever I call data essentially
those are nothing but parameter values
or sometimes it could be some binary
information as well if the response is
HTML this is already covered earlier if
the response is some kind of HTML
element but not the full-blown HTML tags
or body that data or that particular
HTML elements or those elements or
whatever you are going to receive from
the server will be injected or replaced
as part of existing elements or to the
Dom as part of the same response next if
the response is in the form of JSON or
XML or data we are going to pass that
response and place the those values or
data into the respective parts of HTML
which includes input elements so now
that we understood something about Ajax
let us see how all of this can be used
as part of angularjs and prior to
jumping into angularjs I would like to
note about a concept called course Co RS
this course is something we'll have to
know before even jumping into angularjs
I am
going to cover the entire topic of
course but we need to have some
understanding about what it is so
imagine I have its server and it is
hosting some domain like domain one so
whenever I set domain it could be Google
or Yahoo or whatever
imagine it is domain one and it is
serving the websites for the domain one
and it might even have a web service for
domain one and now I have a client and
once a request has been made now you can
see this particular web page is actually
coming from domain one
so the browser has the current of web
page which has been served by the web
server serving at domain one so I am
literally seeing the domain one web page
right now imagine so what does it mean
so web page comes from domain one so
whatever the web page you are seeing
here is coming from domain ones over
here and if there are any Ajax based
operations all that Ajax happens from
the same web page to the main one so if
you are communicating using some Ajax
here all those requests are being
carried from the same web page of domain
one to the same server which is from the
domain one so if such is the case there
are no restrictions as part of such kind
of communications so which means all
those communications can happen with no
problems why because you are working
with the same domain and you are working
from the same web page which has been
served from web domain that is domain
one so as long as you are working with
the same domains you will not have any
problems towards any kind of
communications or restrictions towards
the communications but imagine now I am
having one more server which is actually
serving to mine - so but still I am
seeing the web page from domain one
however imagine there exists some kind
of JavaScript which is trying to
interact with domain 2 so which means I
am having some kind of Ajax operation
which is supposed to happen from the web
page to domain one but instead it is
happening from the domain wanted domain
- which means I am trying to communicate
through Ajax that is also from the
browser which is serving webpage from
domain one but the communication of Ajax
happening towards domain two and that is
usually restricted so that is called
cross-site origin so cross-origin
resource sharing that is course so cross
origin which means this is the origin
from where the web page has been served
however you are trying to access the
information from somewhere else
which means you are crossing this origin
to somewhere else and that is usually
restricted so make sure that whenever
you are trying to have any kind of Ajax
operations which are being done from one
domain to another domain you have some
restrictions applied and again whenever
I say domain one and domain two those
those does not necessarily be just the
domains those includes the port numbers
as well like imagine I am having some
website.com as domain one but some
website serving port number forty forty
from domain two is also considered
domain two so even though the same
website or the domain name is same if
you have a difference in port numbers
then again that is treated as domain 2
which means you are not having the same
information from domain 1 if the port
numbers change or if the domains change
you are essentially working with two
different domains from the browser's
perspective ok now this is the you know
understanding about how that restriction
usually is carried upon the Ajax happens
from domain one web page you can see
this web page is from served from
turbine one and ajax is happening from
domain one web page and ajax is trying
to access or resource access resource or
data from domain - so this ajax
information or ajax based communication
is happening initiated from domain one
but trying to carry or climb trying to
access some information domain two and
that is what is called as cross origin
or domain research sharing so you are
trying to share
from some other domain from which you
are not actually using the same domain
from which the web page has been
rendered and that is called course
cross-origin resource sharing and it is
restricted by default by all the
browsers but imagine I really want this
one to happen which means I do not want
any restrictions to happen here or to be
applied here but still I would like to
have this whole diagram to be working
fine with no problems then you need to
have this particular domain to to say
something like it has to be enabled with
course
so whatever the development you are
going to do as part of this particular
server the server has to be mentioned
exclusively saying that this domain can
share the information from for any
domain so domain 2 can take any requests
from any domain so that is what is
called as enable course that needs to be
applied from the server side scripting
and it is not part of angularjs though
so it is going to be part of whoever is
going to develop this web service so
this is pretty much about course so in
simple words if you would like to access
the domain to information from any
domain then you need to enable the
course and once the the enable or once
the course has been enabled from the
main - then any browser from rendering
any web page from any domain can access
the information from what in mind - so
this is pretty much about course and we
are going to see how course could be
enabled using asp.net Web API or node.js
as part of this video itself and next
how do we hu Ajax using angularjs so
which means how do we communicate to the
server as I mentioned Ajax is a network
activity it is not just going to happen
at the client-side you are actually
going to communicate with the server
call some request or call some method
and the server will be responding back
with some information or response so
Ajax is a network activity which happens
from the browser to the server so how
can it see we're using angularjs there
are a couple of ways in order to
communicate
so are as part of angularjs the first
one is using dollar HTTP we might be
already familiar with a dollar scope or
dollar route scope or so on
similarly you have one more service
called dollar HTTP so this is a built in
angular service so whenever you see
dollar symbol with a particular variable
something you can say that is a built in
angular service so we are going to cover
services bit later but just consider
dollar HTTP is a built in angular
service which can be used by any of the
controllers which are available as part
of your particular angular application
and if you would like to have Ajax to be
implemented dollar HTTP is that a
commander way moving forward if you are
not really using it so if you are
developing an angularjs application from
the scratch it is always recommended to
use dollar HTTP as because angularjs
already knows what it is dollar HTTP and
it is built-in and it is right inside
the skeleton of angularjs framework the
next one is using jQuery AJAX so
angularjs behind the scenes already
works with jQuery Lite versum but on top
of that imagine your particular webpage
is already having jQuery library
referred then you might be using jQuery
as well and we do not have I mean
angular JS does not have any kind of
problems with that one so which means if
you are already having a reference to
jQuery and if you feel you are more
comfortable with jQuery there is nothing
which can stop you from doing it so just
a quick mentioning that if you are not
falling into this category still I will
be leaning towards dollar HTTP as
because it will be serving as a backward
compatible code for future versions of
angularjs if you really want to but
again if you would like to use jQuery
base rejects and if you are familiar
with that you can still go ahead with
whatever the knowledge you might have so
apart from these two options if you
would like to work with any other
third-party JavaScript like library
which supports Ajax or if you would like
to build an ajax library on its own all
of those are sub
water by angularjs so angularjs has got
no restrictions on how you would like to
communicate with the server using Ajax
so it provides dollar HTTP by default if
you would like to use it you can use it
or if you are familiar with jQuery AJAX
you can still use it but if you would
like to have any other third-party
JavaScript library including on your own
still you're free to use it and next
again the server so in order to
communicate with the server which means
angularjs will be sitting at the client
that is at the browser the angularjs
application all it does is it tries to
communicate with server during Ajax
communications so whenever I say server
usually it will be called as a web
service or res service so using
angularjs you always try to fetch the
data but not really
fetch the HTML this this is very
important so using angularjs most of the
time you try to fetch data instead of
fetching the HTML there could be a
couple of scenarios where you might be
trying to fetch HTML but that is again
depending on your Arab car requirements
of your application but usually
angularjs along with Ajax most of the
time you will be using with the web
service or a rest service which happens
to serve the data in the form of JSON or
XML to your particular browser on in
order to develop that kind of web
service you can use any kind of
technology in order to develop a web
service using any kind of server-side
technology like WCF rest or asp.net Web
API or node.js or PHP or any Java based
web service technologies you might have
and one important thing is that any of
those web services our rest services
usually will be returning the data in
the form of JSON or XML okay so this is
pretty much about how you would like to
communicate from angularjs that is
sitting at the client to the server so
you have a dollar HTTP which will be
covered as part of this particular
session and for the server we are going
to develop a web service from the
scratch using asp.net Web API and also
node.js and test my particular angle J's
application with both of both of these
two applications so let us quickly see
how this particular dollar HDTV is going
to work for us first of all as I
mentioned dollar HTTP is a built-in web
built-in service which is available as
part of angularjs and a typical dollar
HTTP statement will be looking something
like this so which means it starts with
dollar HTTP and in order to use dollar
HTTP you have to send certain kinds of
options here so all of these options
whatever you are going to provide will
be used in order to communicate or in
order to work with the server so the
network communication happens based on
the options whatever you are going to
provide here and those options would
include the URL to which server it needs
to connect and the HTTP method like get
post put delete or whatever and if I
have in if you have any headers other
HTTP headers you might even want to send
even those as well so all of these are
optional but at least we should have the
URL to be provided in order to have some
kind of Ajax operation to be provided
without providing the URL angular JS
doesn't know to which server it needs to
get connected to so this is pretty
important and on top of that now we have
then inside the den we have two
functions so again those two functions
are optional but let us say what is the
first function so this is called as a
success function so success function
means you are going to initiate an ajax
operation using dollar HTTP if that ajax
communication is successful then this is
the function which gets executed
if it is not successful it is not
successful which means if it is a
failure order then this particular
function is going to be executed so
essentially you have two functions the
first function gets executed
if the Ajax communication is successful
the second function gets executed if the
Ajax communication is failed so again
whenever it is successful all the
successful information will be placed as
part of this particular object called
response you can put any object rro
whatever but it is a general practice to
put something like respond so that it is
quite read friendly and similarly even
here as well it is like you know a
response which contains all the failure
information on why it has failed so this
is a pretty simple dollar HTTP request
for which we are going to cover as part
of this video but eventually we are
going to have more and more HTTP related
information or dollar HTTP and
ajax-based or what is explanations to be
explained but here in this case we are
going to just favor only this kind of
syntax at the moment so all the options
in order to connect or work with Ajax
work with the success function and work
with failure function okay let us jump
into our code so let me copy whatever I
had as part of my previous video so let
me duplicate it and in this case I would
like to call this one as t0 one for now
and I would like to even duplicate the
t0 to let me call it as T zero one as
well
okay now you have T zero one HTML and T
zero one JavaScript as well so I have T
zero one JavaScript and T zero one HTML
so let me put this side-by-side and T
zero one has to work with t0 one Jas so
you can see I'm making sure that my hair
particular HTML works with this
particular JavaScript so this is the
previous example which is a simple
example let me execute it first so I do
not have my web server running so let me
open this test folder and let me ensure
that I'm running the web server on top
of this one so I have my web server
running so let me test this particular
webpage that is currently my web server
is running on 8 0 8 0 and I am going to
have T 0 1 dot HTML and this is what I
have and let me see all the network
traffic what is going on here so let me
see what I have in here ok so now you
can see I have 10 and 20 which are being
actually put as part of e and B as part
of the scope here so you can see I have
10 and 20 which are being used here so
you can see a which is actually serving
10 and B is serving the same value 20
and I also have an input box here which
is bound to a and another input box
which is bound to be so essentially
whatever the value you see in here EI
will also be shown here and this is a
two-way binding you can see whatever the
value you have in here will always be
sent back to the scope so if you do not
have any understanding about this
one-way or two-way binding please refer
to my previous video ok
and now if I type something like 7 you
can see how the automatic bindings are
happening at the moment I click on
calculate you can see I have some being
performed and there is no network
activity performed here right because
everything is happening at the client so
which we set the browser so again
whenever I say 70 and whenever I say 80
and click on calculate you can see it
has sewed 150
so whatever the operation you do here
all those operations are actually
happening from the client but nothing or
no communication is being sent to the
server so if there is any communication
happening from the client to the server
you are going to see all of that as part
of the network these are the developer
tools which can be always brought
forward by just pressing f12 so just
press f12 so just again if you are not
familiar with this just press f1 and if
you are not into onto network just click
on network and you are going to see all
the network activity here for example if
I try to refresh this page now you can
see all the network activity happening
here but let me clear all the network
activity and the moment I click on
calculate no network activity has been
performed here ok let us modify this
imagine I would like to have this
particular sum to be calculated by my
particular web service so which means I
would like to have a web service to be
developed in such a way that it is going
to take ten and one day as part of
quarry string and that particular coded
string needs to be evaluated by my web
service fetch those values do some
process that is nothing but calculate
sum and return the value back to my
client which is nothing but 30 so I
would like to perform something of that
sort so in order to do that I need to
have the server development that is a
web service development to be done I
will start with asp.net Web API but I
will also try to achieve the same thing
using node.js as well for now let us
start with asp.net Web API first so I
have visual studio 2015 installed on my
machine so let us see okay so as part of
this one let me create a new project
and that's part of this I'm going to go
to web and imagine I have asp.net web
application so in this case I'm going to
say something like sample Web API so you
can put whatever the name you want it
and I just wanted to say sample Web API
here click OK and I'm going to select MT
and I'm going to say I need only Web API
and nothing else and I just wanted to
make sure that this is removed why
because I'm not going to host on Azure
so I just remove this I just select Web
API make sure that empty is selected for
now just click OK ok so now that I have
my particular Web API here now you can
see I have the controllers models and
all that good stuff
so I also have the global data SC X and
so on
so let me start with the controller I go
to add controller and in this case I am
going to select a Web API to control of
click Add and I'm going to call the
controller as calculations controller
and I click on add and now you can see
our calculations controller which is
working under API controller so it is
inheriting on API controller and now all
I would like to have is I would like to
have a and B which will be available as
part of korah string to be actually
gathered here and calculate the sum of
the those tools so for that purpose I'm
going to have an action method which
actually returns
I had gtp action result and I'm going to
say get sum is going to be the method
which gets executed and it is going to
accept two variables a and B which are
nothing but the ones which you are going
to pass as part of your query string and
all I'm going to say is return and Voki
response so which means that is it is as
HTTP success so like 200 HTTP
status scored with 200 will be returned
as part of this okay and now along with
the okay I would like to have a result
called a plus B to be returned and in
order to get to this particular action I
would like to say the route is just
simply sum so which means I am going to
say something like my domain / some
slash provider whatever the core is
string and it has to return that
particular value back so let me see if
this is working first so I just execute
this and just trying to keep this one
simple and our our concentration is not
about an API or a web api explanations
here I just wanted to see that a web
service is made available and we are
trying to access it from angularjs so
this is going to give you an error why
because we do not have any home page at
the moment however we are going to have
something like some so that is the one
we are going to work with and as part of
this we are also going to have the
christening to be provided simply like a
equal to 40 and B equal to 50 something
of that sort
so I provide localhost two two six seven
some is my route provide my particular
career string and just press ENTER and
now you can see it has currently
returned the value in the form of XML
which is nothing but 90 so you can also
provide something like 50 for example
press enter and you know that it is
actually returning the value of 100 so
this is in the form of XML at the moment
but you can also test this particular
web service using postman or whatever so
let me open postman so I have installed
postman on my particular I mean as part
of the add-ons available on the chrome
so click on postman here
okay so what is the URL here so I have
this URL so let me use the same URL here
and the moment I click on send you can
see I write how hundred returned back so
this is pretty important in this case I
do not have XML even if you go to the
raw mode I do not have any XML it just
returned a plain value called hundred
but in the case of what is a executing
straight from my particular browser it
actually returned the XML so it all
depends on what kind of headers you are
going to pass in this case postman was
expecting Jason paste result and that
was the reason we just returned it just
returned only the value but in this case
if this one actually tries to exit XML
and that is how it has written x mark so
SP dotnet web api is capable of serving
both xml and json at the same time for
those particular requests so the
response could be either in the form of
xml adjacent depending upon the
necessary anyway so once we have our
particular simple asp.net web api
achieved we need to make sure that it is
cause enabled that is the first thing
we'll have to do if we did not as I
mentioned course means I would like to
have this particular sample Web API
website to be accessible from any any
domain for that purpose I need to enable
course so in order to do that you have
to open Web API config and at the very
top you have to start with course but
prior to that you have to install course
related NuGet packages so right click
here and go to manage new get packages
and in the search just so go in here
search for that and we got the first one
just select it and click install
and once I have that one installed I say
oh this let me close everything and let
us quickly see what the packages has so
now you should see Microsoft that
asp.net that cars is already made
available and you can also see Web API
that course is also made available so
now let us switch back to our web bapa
config and now include the course
enabling pipe so the first thing is that
we should say course equal to new enable
course attribute and I'm going to say
let me have the intelligence to have the
importing of all those libraries so I
have this one so let me again start it
and now you can say I would like to have
all origins all headers on all methods
to be made available for that purpose I
am going to say star so star or Aztec
means all so I'm going to say all
origins and all headers and all methods
so which means get post put are all of
those methods to be made accessible so
this is the instance of the course and
next I will have to say please enable
curves using my particular
specifications whatever I put in place
so this is important and if you would
like to actually debug your particular
visual studio along with course and
everything there are a couple more
things you will have to do usually the
whatever I'm going to do now that is I'm
going to add something like a few more
things like constraints I have to add a
couple more constant HTTP method equal
and I will have to say HTTP method at
options
let me check what I have in here yeah I
need to have this guy thing for I
misspelled here okay so after that now I
have to say conflicted routes that
ignore route and I have to say all the
options and at the same time start at
info constraints so these two statements
are not essential but these two
statements are essential if and only if
you are trying to debug your particular
web API application as part of Visual
Studio and as part of the web server
initiated by the visual studio if you
are actually creating or deploying this
particular web service directly in the
is itself you do not need these two
statements so you do not need these two
statements you for directly executing or
deployed this one directly using is or
is Express however if Visual Studio
actually tries to deploy this using is
Express from within visual studio and if
you are trying to debug this for some
reason it won't allow and it won't allow
the cause even though you ask you to
enable it I don't know if that is a bug
or not but in order to make that one
possible I need to add these two
statements but for now and just making
sure that it really works the way it is
supposed to be or probably as I am going
to debug from Visual Studio I would like
to open these two as well and see if
that is going to work okay so now that I
have my particular Web API which is
enabled with cores now I am ready to
switch back to my particular angularjs
to actually talk to my web AP
so whenever I execute this particular
Web API let me see
so my Web API is currently hosted on to
267 this is important so it is localhost
two two six seven so using two two six
seven
you can provide anything and it is going
to give you the result so I am hosting
my particular web api in is Express
initiated by visual studio and that is
available or made available at this port
number that is two two six seven okay
let me switch back to my particular
angularjs and earlier I was doing the
some calculation right here as part of
my client that is as part of the browser
itself now I would like to have that one
to be performed from the server so which
means now I am going to work with the
dollar HTTP so in order to work with
dollar HTTP as you can see this is a
service just like a dollar scope I need
to have that one to be also added here
so in this case I am going to work with
dollar HTTP and I am also going to say
something like I need to have dollar
HTTP also to be provided in order to use
it here so now I am going to say dollar
HTTP provide whatever are the options
you would like to provide here dot then
and as part of then I would like to have
two functions to be provided one is for
success the other is for failure so as I
mentioned in my previous presentation I
need to have all of this so here I am
going to have all the options to be
provided and as part of this one this is
the success function and this one is
failure function so I have two functions
there so let me just make it
understandable so this is success
function and this is failure function
that is a callback functions basically
those two are the callback functions so
in this case I need to provide the
options so options is first of all I
would like to say to which URL it needs
to connect to so in this case I am going
to say it
needs to connect to HTTP localhost and
that is two two six seven is my port
number so let me go through two two six
seven and my url is sum and at the same
time I need to provide the value of A to
B whatever I'm receiving from dollar
scope that a so whatever the value I get
from a needs to be made available here
and at the same time I'm going to have
one more that is B to be also provided
with whatever I have from dollar scope
dot B so this is pretty much what I will
be having as part of the URL itself and
I would also like to provide the method
so in this case what HTTP method you
would like to use in order to request
from the server in this case I would
like to use get operation as because I'm
not really posting any information it is
just a get request where I just provided
the URL and I'm expecting a response
back so that you are it includes my data
as well so it is like a get request so I
can provide the URL what kind of HTTP
method and once that particular response
is made I'm going to have that
particular response to be having a
property called data so this particular
object whatever you are going to write
say o or R or whatever whatever you are
going to say this one so that particular
object whatever you are going to receive
from the server will have a special
property called data and that data will
have whatever the data or whatever the
response the server has sent back to the
client so in this case all I am
receiving is just the value that is 30
in this case why because I have 10 and
20 the response is going to be 30 and
that is going to be available as part of
response that data so in order to have
this particular data to be used
all I am going to say is dollar dots sum
equal to response that data earlier you
can see I am using dollar scope dot sum
here
similarly I'm using the same variable
sum here
however instead of calculating that
locally that is as part of the web
browser I am actually getting the
response from the server and whatever
the data are whatever the response I
received from the server will be
assigned to that particular member some
and which is made available as part of
scope and as this sum is available as
part of scope you can see whatever the
sum I am actually trying to evaluate
goes with the somes
same scope and you are going to have the
value to be responded back so let me
refresh this using my particular HTTP
local host and here
my particular angularjs application runs
under 8080 and it has got two zero one
dot HTML so this is important you can
see how is expressed which is serving
localhost 8080 why because you can see I
have my particular test whereas my test
so you can see I am actually serving my
test like t0 one I'm in T zero HTML and
T zero and age as using a DAT dot T zero
one however my particular API web api is
being served through two two six seven
so we have two different domains even
though the ports are different so ports
are different means you are actually
trying to access from two different
domains
so the first domain is from 8080 for
which I have the value here let me open
Chrome instead of this one so that will
have a better idea on what I am trying
to accomplish okay now you can see I'm
actually trying to serve from 8080 let
me open the network requests as well so
I'm on network currently all the network
is free and I am trying to calculate
something and now you can see I have 30
here okay so looks like I did not save
something here let me sail this I have
this and I have this one as well so let
me refresh this again
clear everything so let me calculate
this and now you can see I have 30 and
you can see the network request has gone
through so now you can see if I click on
that the headers you can see it is a get
request and you can also see how the URL
has been performed by with the values
whatever I have in place and in return
it is a VOC a result which is having a
200 HD TP status code and as part of
korah string you can see 10 and 20 or
the values which are being signed which
are nothing but these two and as part of
the response you can see at a saved 30
which is injected into the scope and
that particular evaluation expression is
based on the current scope which is
having the value 30 so let me do one
more modification I would like to have
75 and say 65 and click on calculate and
now you can see again that particular 75
and 65 are being executed with new
request to my 2 2 6 7 which is nothing
but the port number where my particular
visual studio is working here and once
that is in place now you can see the
response is 140 which is being made
available here so this is pretty
important and now imagine I am going to
start stop my particular web service and
I also want to stop my 2 6 6 7 port and
imagine I am trying to again calculate
this and whenever it is trying to do
this now you can see it is given an
error
why because I stopped with my particular
web server of my web api and it says
error connection refused ok so now that
we have angularjs talking to my
particular a Web API let us dig bit more
depth here so I would like to include a
debugger here and I would also like to
include a debugger here so instead of
debugger in this case I am going to say
something like alert error occurred so
this will be a better option if you
would like to say
in this case again I go back to my
application and the moment I click on
calculate you can see my web server is
not yet ready and you can see the alert
comes up so even though you have your
particular Network off are say if you
have developer tools completely switched
off the moment you click on calculate if
it throws an error it is going to view
that particular message which is error
record and that is going to be executed
as because this is failure function the
failure function gets executed
if there exists no successful Ajax
request and in this case this is
successful if it is success I am going
to have some to be made available so the
moment I say debugger I can have the
luxury of debugging it as part of my
developer tools so let me clear all the
requests and let me execute my
particular application and serve it
through a visual studio and make it
available here and again let me refresh
this of course I do not need to refresh
this anyway I click on calculate and now
you can see the request has been made if
you can see that Network it has already
done the request and now if you return
back you can see it has stopped right at
the debugger and if you see this
response you can see that particular
response is having a property called
data I am actually trying to access this
particular data right here response the
data that is the that is the one which
has got that particular value called 30
and you can also see it has got other
information like status which is 200
which is nothing but a success HTTP code
similarly status text as okay or
whatever all these are automatically
populated by angularjs and whatever the
response you receive from the server
will be always put inside data and we
are just using data for now okay now
that we have done something using our
particular asp.net Web API we should
also try to accomplish using node.js so
that is for those particular developers
who are more comfortable node.js but not
with asp.net web api so let us jump into
my particular
topic of nor jazz let me stop everything
let me close this original story as well
and I also wanted to make sure that all
the is and everything is gone okay so
let me refresh this so you can see all
Dyess and everything is gone so let me
close everything okay so I just wanted
to keep this one like this however I
would like to start some kind of
development from my particular folder so
that is in this case I would like to
call this one as node API you can put
any folder and you can see as part of
node API let me start there so I go to
node API so right now it has got nothing
so let me open my command prompt here
where is my command prompt right here so
the first thing is that I need to
initiate this one as a node application
so let me start as an app so I am going
to call NPM in it
so judge + SSS for now and now you can
see the moment I say that it has created
my package jsn and now there are a
couple of things I would need to do
before I even say the saying that you
know it is made available as part of
node.js so the first thing is that I
need to work with Express j/s in this
case so I would like to say let me click
on NPM install Express now you can say
I'm installing the node package called
x+ and similarly I would like to install
the other one called
course why because I need to enable the
cost for this one too so there is one
more package called cos so I installed
both of those two so now that we have
both of those two the next thing is that
just create a new file so let me make
sure that both of those two are
installed so both of the store installs
or let me create a new file here and I
call this one as AB dot Jas
and now you can see I created a blood GS
and as part of this one the first thing
is that I need to ensure that Xpress is
included and similarly course is also
included and the next thing is that I
need to create an Express application
and I wanted to make sure that that
particular Express application is
enabled with course and now I need to
have a router just like the router you
have in the SB that net Web API so I can
say router here and as part of this
router I can say I would like to work
with some router and as part of this
particular some router I am going to
have request and response to be made
available here and whenever this
particular router gets hit that request
contains all the data and whenever the
whatever the data I would like to send
back as a response I will be using this
response object so I am going to say
please get from the request object from
the query string
get the value of a so similarly
similarly wearable B will have the value
from the curry string parameter called B
so once I have both in place I would
like to have a value C to be calculated
which essentially turns the a to integer
and add that one to an integer value of
B so now that I have C all I have to say
is to the response make sure that the
status is 200 which means it is
successful and at the same time the
value what I am going to send is in the
form of JSON and in this case the value
of 30 say whatever the sum you got in
here will be written in the form of JSON
with an HTTP code 200 which is nothing
but success so I have that in place and
now I am going to say use a router for
my particular application and I would
like to say my particular application
has to listen at some port number so in
this case I would like to say 4 4 6 7
you can you can put anything so once
that particular server starts listening
I would like to say something like
console dot log start there listening at
4 4 6 7
so just to infer provide some
information to the user so this is the
simplest what I say Web API what I could
write using node.js and put it on it in
order to execute it I need to have a
particular web server running
exclusively for this one or no not even
the web server just execute this
particular app J s so I need to jump in
here and I am going to say something
like node app dot J s or just say app in
this case ok there is an error somewhere
so that is function okay let me saw
there is a spelling mistake here that is
I
okay so let me jump back let me execute
this and now you can see it has started
listening four four six seven so let me
get back to my postman so instead of
four four six seven I would like to use
four four six seven now instead of two
to six seven I would like to use four
four six seven so just press send and
now you can see I have 100 here right
because I have 50 and 50 so similarly if
I send 30 I clicks and now you can see I
have 50 here so which means my
particular web server is running as part
of my notes yes so let me switch back to
my angularjs so where is my thing so
this is my core earlier it was actually
going to two two six seven so I'm going
to say please switch to four four six
seven and open my particular browser and
use 8080 t01 HTML oh I need to I need to
have my web server running on this one
or one my is here and now you can see it
is executed and now I have this let me
open my network tools before you are
clicking on some I click on some now and
now you can see I got the value as 30
right because I'm still debugging it so
if you go to the network you are going
to see some is being performed but
instead it is talking to 4 4 6 7 instead
of 2 to 6 7 so in that way you can say I
developed two different types of web
services one is using asp.net Web API
the other one is using node.js but we
are able to access both of those two web
services right using angularjs but in
order to execute that I am mentioned
that we are actually trying to enable
the course as part of those two web
applications whatever I develop using
asp.net Web API or no js' that is
important and I just wanted to explain
one more thing this is not a typical way
of developing angularjs code like the
controllers are supposed to be as light
as possible we are not supposed to do
any kind of ajax-based operations right
inside the controller we should do it in
somewhat different way but this is just
to explain Ajax but not really go with
the standards so in order to go with the
standards and where the Ajax basic
communications can happen we should
really do that as part of custom service
which I am going to cover in my next
topic anyway but for now let us consider
this is the simplest way to get
everything working however in order to
go with standards this code should not
be available as part of control of just
a quick heads up that's not going to be
a good practice though okay so now that
we have some understanding on dollar
HTTP let us see on how we can use what
is a dollar log as well so imagine if
everything is successful here probably
you would like to use dollar log as I
mentioned just like dollar HTTP dollar
log is also service from built in
angularjs so in order to use that I can
say dollar log run dollar log and now
you're free to use dollar log here so
whenever you would like to write
something a console dot log you are
trying to use those particular logging
mechanisms available as part of your
development tools right inside the
browser so instead of using console dot
log when you are developing angular just
wear the J's based code it is always
recommended to use dollar log and it is
it knows how to work with console dot
log or console behind the scenes but
moving forward make sure that if you're
developing angularjs instead of using
console dot log you should use dollar
dot sorry dollar log dot so in this case
I can say response dot data and if I
have any error probably I can instead of
alerting it probably I can say dollar
dot i can also say error so i can also
say something like error occurred or
whatever so so other methods which are
available as part of dollar log or
like this you have debug error info
warning and all of that good stuff so
most of the time for the tracing you can
use it log for debugging you can use the
debug and for error we know that
whenever error occurs and info
especially if you would like to have
some kind of heads-up for the user and
one if something is going to happen
something bad you are just warning so
you can use any of those particular
methods but for now if I use something
like this imagine I am refreshing this
and I'm calculating this and now you can
see it actually writes right inside the
console so if you switch off this one
you know it doesn't really matter on how
much or how many you are clicking here
by because that will not be made
available as part of your webpage but if
you open your network tools sorry your
developer tools you are going to see
that information as part of your console
so dollar log is going to be pretty much
helpful if you are going to develop more
and more services over the time okay so
that actually covers what are all I
would like to cover as part of my Ajax
introduction for angularjs so as part of
this video we actually communicated with
asp.net Web API or nodejs based web
services from angularjs using dollar
HDTV</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>