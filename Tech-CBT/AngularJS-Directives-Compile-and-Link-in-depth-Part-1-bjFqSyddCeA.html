<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>AngularJS Directives - Compile and Link in depth - Part 1 | Coder Coacher - Coaching Coders</title><meta content="AngularJS Directives - Compile and Link in depth - Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-CBT/">Tech CBT</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>AngularJS Directives - Compile and Link in depth - Part 1</b></h2><h5 class="post__date">2016-09-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bjFqSyddCeA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we are going to take a
look at two of the core concepts in
angularjs called compile and Link so
let's discuss about compile first it is
the first step of execution or
processing of a directive as part of
angularjs application so whenever I say
it is the first step you can consider
like whenever you are using any kind of
angular JS directives it needs to have
some kind of execution or processing
which is supposed to happen as part of
angularjs framework itself
so whenever angularjs finds any of the
angular JS directives whether those are
predefined or custom directives it
actually processes them and the first
step of the process is the compilation
so for our purposes let us consider I
have a very simple markup in this fall
in this manner the first thing is that I
have do and inside that I have message
so which means message is going to be my
custom detective which might be defined
as follows so in this case I am not
using any template so which means I am
not using any template or template a URL
for this case just consider it is just a
plain directive which has got this kind
of markup and whenever I say the
compilation happens which means angular
JS finds my directive called message and
it tries to compile it and whenever it
tries to compile it it actually loads
this entire markup and tries to traverse
it so whenever it loads this markup
essentially we call that markup related
to that directive as a template so in
this case as I mentioned previously I do
not have any other template other than
this markup so this markup is currently
treated as the template and it tries to
load it it tries to traverse it so
whenever I say traverse it which means
it tries to find any kind of additional
directors it might have for example in
this case I have message
I might have nzf I met how in jail
repeat or other directives as well so it
is the angularjs frameworks job to
figure out any other directives which
may be possibly made available as part
of the same template or may be part of
any of the child directives as well so
which means this do might have any
children or some children and that
particular children or each of those
child objects or child markup elements
might have their own directives as well
so all of those will be taken into the
consideration whenever it tries to
compile that directive okay once it
compiles which means each of those
particular directives whatever it might
be finding as part of the existing
template or all of the child templates
or child directives will be always
compiled so when I say compiled as a
simply mentioned just simply loads and
travels us the Dom okay and this
compilation happens regardless of
whether it is a built in angularjs
directive or a custom directive if you
would like to have any kind of code to
be executed which is supposed to be part
of the compilation process then you can
define your directive with compile
function so which means whatever the
code you write here will be
automatically executed during the
compilation of that particular directive
so in this case you can see message is
my directive name and this whole
template or this whole markup in this
case is going to be a made available to
this variable called T element as I
mentioned previously I am not placing
any kind of template variable here or
template attribute here so the market
itself will be treated as a template and
the same template will be made available
in the form of Dom element through this
variable called T element and if your
particular template is having any
attributes all of those attributes will
be made available through
arrey called t attributes so again this
is just an optional compliation function
if you provide that which means a u it
will be expected that you will be having
some kind of code to be executed as part
of this comparison process so compile is
a function which can be leveraged by the
developer to provide some functionality
which needs to be executed while
processing or say while compiling that
directive so now that we understood a
bit about compilation let's jump on to
link it is the next phase after the
compilation process so even though I
call it as one singular phase it has got
multiple steps involved it is not just a
simple phase which does automatically
execute after the compilation it has got
its own job to perform in the form of
various steps so again we have the same
markup whatever I have seen earlier in
my previous slide so we have the do
markup which is treated as a template
and my directive is called as message in
this case as part of the linking process
which means which occurs after the
compilation process so as part of the
linking process angularjs framework
creates a copy of this template and we
call that copy as an instance of the
template or clone of that template so
this is a pretty important as part of
the linking process this whole template
is going to be instantiated our cloned
into the memory and that will be
automatically done by angular JS
framework itself and this instance gets
created only after the compilation
process so this is very very important
we the angular JS framework is not going
to work on the template directly during
the linking process it actually creates
an instance of this template and the
linking phase will be working on this
template from then onwards
as part of the linking process we have
three major steps that is execution of a
controller which is which may or may not
be available as part of directive so if
it is available the controller gets
executed first next we have the pre
linking phase which gets executed and we
have the post linking phase which is
going to be executed as well after the
pre linking phase so we have three steps
which need to be executed or performed
as part of the linking process so during
the linking process we have three steps
the first one is the controller attached
to the directive if available the second
step is the pre linking phase the third
step is the post linking phase and most
importantly all of these three steps
will be performed a gay nest the
instance which has been copied or
created from the mark up template which
has been configured as part of your
directive and once the linking phase has
been completed this particular directive
or sorry this mark up or the Dom will be
actually gets rendered by angularjs
framework so the rendering will not
happen until and unless the link phase
has been completed next now that we have
some basic understanding about
compilation and linking we need to
understand the process or the workflow
on how all of these tasks like the
compilation the linking which includes
controller the pre link post link how
are they going to be executed and in
what direction and at what times what
kind of code is going to be expected
from angular JS perspective to be
executed so this slide is pretty
important x2 slides are the major things
which need to be understood by every
angle Aegis developer so again I go with
the same template or same markup
whatever we used in the previous slides
so that is a half message which is a
simple directive and this whole markup
is considered as a template and the
first process as we know the first step
of the compilation sorry the first step
of the
Anglet jazz director processing is the
compilation and during the compilation
what happens as we know it loads and
travels us down and the compilation
happens only once that is very very
important
once angularjs finds that markup which
needs to be processed and once it
invokes the compilation process the
compilation will be done only once for
that template we will never have the
same template to be compiled more than
once and the compile process usually
returns a link function or an object
which actually performs pre-post and so
on so let us not worry about this third
point we are going to cover that bit
later so let us quickly jump away from
this third step the fourth one is there
is no scope currently available as part
of the compilation process this is very
important if you are trying to provide
some kind of data to this markup or to
this particular template or to any of
the elements inside this template
compliation process is not the place to
do so so there is no scope present and
you cannot access cope during the
compilation process and at the same time
there exists no instances or clones of
the template yet so that is going to be
the part of the linking process so as
part of the compilation process no
instances of the template is created and
at the same time you cannot have any
kind of data to be maintained or
manipulated as part of the compilation
process next we can have any kind of
operations or functionality to be
performed again is this particular
template which can be shared across all
the instances of this template in future
so imagine if I would like to change the
border color of this template yes you
can change it right away at the
compilation phase the result is that
once you modify this template for every
instance or for every clone of this
template we'll have the same kind of Dom
which
might have been modified during the
compilation process itself so yes it is
still safe to manipulate Dom of this
template during the compilation process
where once the Dom has been completed
the same down after all of its
modifications will be cloned or
instantiated during the process of
linking and as I mentioned earlier you
cannot play with the data and at the
same time you can never have events or
even handlers to be registered during
the compilation process until and unless
those are really related at the template
level which is not going to be the case
usually next no Dom of clones available
of course there are no instances created
and obviously you will not have Dom
access of those instances at all during
the compilation process the next step as
I mentioned is creation of an instance
so after the compilation has been
completed an instance of this template
is automatically created by angular JS
framework and we call that instance as
template clone or even instance template
whatever is flexible for us and now the
controller will be kicking in every
particular directive or angular jazz
director can have its own controller
associated to that I am NOT talking
about the controller mess msg here I am
talking about the controller related to
message we can still have the
controller's of a message to be made
available here but that is a different
story we are going to cover that one in
my upcoming videos but the focus of
controller here is really related to the
message that is the current directive so
every director can have its own
controller at that particular controller
will be kicking in the moment an
instance has been created successfully
out of an compiled template so once the
instance has been made available the
controller will be kicking in the
controller of the director gets executed
here and that is the first step which
gets executed on n
instance of a template and during this
process the scope gets created so which
means the scope gets instantiated or
initialized and the developer will have
the possibility to modify the data
available in the scope or add any kinds
of variables or properties or methods to
that particular scope so if you were if
the developer needs to provide any kind
of data to this instance controller is
the best place to start with where the
scope is really going to be initialized
and as the scope is made available at
this stage you still have the option to
manipulate the data as part of the
template instance so which means you can
use the scope or you can use other ways
to actually figure out to provide the
data to your template and at this stage
even though the controller has got
access to Dom of this instance it is not
recommended to actually manipulate this
so which means imagine I would like to
provide some CSS style to this one that
is not recommended if in controller at
all so there is an another phase which
can be performed for those kind of steps
but if you are on the controller it is a
simple rule that you can never access or
you should not access the Dom of that
particular template that is pretty
important is it is not at all
recommended to access Dom of that
instance within the controller phase
itself okay once the controller has
completed the next step is brig link so
the pre link is the next immediate step
of the controller which again gets
executed on the same template instance
that is important so all of these steps
whatever I am talking on from now are
not related to template but all of those
steps will be working on this instance
so once the controller has been
completed then the pre linked phase
stats which again tries to work on the
same instance provided by the controller
during the pre linked phase
the first thing is that the reference of
this element is made available in the
form of Dom so which means the Dom
template is made available to the pre
linked trailing phase and as I mentioned
the first step pre link is the first one
which gets executed immediately after
the controller phase next the scope
which got inst initialized at the
controller level is still made available
to the pre linked phase so which means
the scope is ready at the moment the
Play link is getting executed so the
user still has access to scope here in
the pre linked phase where he can work
with the data during the scope sorry
during the playlng phase itself verse so
which means if you have scope and if you
would like to modify that scope related
data it is still valid as part of three
linked phase next instance is not linked
to the scope yet this is pretty
important even though pre linked phase
has got a reference to this template or
to this instance it is not hundred
percent bound so which means the scope
of the controller I mean the scope
created by the controller or the scope
which is made available to the pre link
is not hundred percent bound to the Dom
yet so that is very important and the
next one is child elements or directives
are not ready yet so if you have any
child directives or child elements as
part of this pre link those are not
processed at the moment so you cannot
access any of the child elements or
child directives at this phase of pre
link that is also very important and
next scope can be manipulated as you
have scope access here and the scope has
been already initialized during the
controller and as the same scope is made
available to the pre link you still have
option to modify the scope related data
here which might be consumed by this
instance in future or by any of the
child elements of this instance in
future and even though you can work with
Dom here
for some reason angular JS documentation
says that it is still not recommended to
actually manipulate the Dom in the pre
linked phase and the next one no access
to child elements as I mentioned that
the breathing phase doesn't know what
kind of children are available as part
of this instance and it is not
recommended to try to access any of the
child elements as part of the palings
switch so that is pretty much about the
pre link and once the pre link has
completed then the next step is going to
be post link so you can see you have the
controller we have the pre link and
finally we have the post link so again
the post link works on the same instance
where the previous two phases have been
completed and this is the last phase
before render so which means once the
playlng has completed the post link gets
executed and once the post link has
completed it is going to render finally
so during the post you still have access
to Dom element and it is full-fledged li
l available which means the scope
related to this instance has been
completely bound to that instance so you
have the Dom prepared you have the data
already you have the scope and all the
data bindings successfully completed and
then pass down to post link so you have
the Dom access of this whole instance
element where you can really manipulate
the Dom in whatever the way you want it
and all the child directives you can
also see that that all the child
elements and the directives are ready so
which means all the child children all
the child directives have been processed
and made available through the Dom the
scope of each and every of the child
directives are also linked at this time
so scope can still be manipulated if
really necessary but most of the time
will not be a we will not be doing it
and at this moment if you have any
buttons or dropdowns or whatever it is
safe to add any kind of event handlers
for that one
so which means imagine I have a button
and I would like to have on click to be
performed and provided in the form of an
event handler so post link is the best
location where you can add all kinds of
even handlers further respect to
instance of the template or any of the
child elements of that part of the
template it is safe to manipulate down
here as you know this is the last phase
and all the down is ready all the child
directives are ready all the events can
be handled at the same time you can
change the Dom in whatever the way you
want it just before the rendering phase
and this is most important it is not at
all safe to set the data for the child
elements here because the child elements
have been successfully processed here
including all the post links of the
child elements you are not supposed to
manipulate the data for the change
elements if you would like to provide
the data for the child elements pre link
is the best phase but once the pre link
has completed and if you are in the post
link which means all the bindings all
the scope of all the child elements
including the current element have been
performed already so we are not supposed
to really play with the data related to
child elements here so this is pretty
much about the linking process so you
have the compilation process and you
have the linking process so the linking
process has got three steps controller
pre link and prop post link and there is
something which we need to understand
about nested directive so which means
imagine I have a directive and inside
that I have another directive and inside
that I have another directive which
means we have nested directives of say
child directives nested into each other
if such is the case how the compilation
and the linking will be probably working
so the process is pretty much similar
but there is one thing which needs to be
noted here so prior to that let us jump
into a simple example I have a director
with this markup and imagine the deal
with the message some message is our
directive
and inside that I have another child
directive and now inside that I have
another child directive now if such is
the case how does the compilation
process will be working and how does the
Linc process will be working why because
link itself has got three different
phases and we have the compilation phase
as well so altogether we have roughly
four phases which need to be working on
each of these child directives or each
of these directives so we need to
understand this process before even
jumping into the cord on testing so the
first thing is that obviously the
compilation needs to be performed and
currently the compilation will be
performed on the outermost directive
that is the parent most directive so
once the compilation phase has completed
on the outermost one then the
compilation of the immediate child of
the outermost one will be compiled so
which means this phase the compilation
phase is always the first regardless of
any kind of directive so if the
directive needs to be processed that the
first step is always going to be the
compilation so if you have nested
directives the first step is always
going to be on the outermost one and the
first step is always going to be the
compiled and immediately after that as
you know the compilation will be loading
and traversing all the child elements as
well and while it is loading the child
elements it actually compiles the child
elements as part of the same process so
the first step is compilation of the
outer directive the second step is
compilation of the inner directive and
once that is completed you Andy it knows
that it figures out that there exists
another shell directive and it tries to
compile that one too so this is very
important all the compilation phases
will be completed first before even
jumping to the linking phase of any of
the directives if they are nested or not
Nestor the compilation happens first
before even jumping to linking
regardless of whether they are nested or
not okay now that we know all the
compilation of all the directives have
been
completed now the process goes to the
linking process we're inside the linking
the first abyss controller that is the
first step as part of the linking
process and the controller of the outers
process sorry the outer director will be
performed and as we know after the
controller we need to have the pre link
phase of doubter directive and after the
pre link phase this is important it is
not going to post it is actually going
to the controller of the second director
the post is not going to happen
immediately after the pre if there
exists any child directors if there are
no child directives yes immediately
after the pre link the post links gets
executed if there exists any child
directives the post is not going to be
executed immediately but it will be done
later on we are going to see but again
as I mentioned after the pre link
process of the outermost directive the
next step is always going to be the
controller of the next immediate inner
director of the outermost director in
this case this is the second one so you
can see one two three and four five are
the linking parts related to the
outermost one but the post is not
executed yet it has come to the
controller of the inner one and then the
pre will be executed here and again the
post is skipped because it has found
another inner one so if it there exists
any inner directive of the post is
skipped it will be actually processing
the controller and pre links of the
inner directives first and once that is
also performed then it knows that there
exists no other inner directives and now
he tries to execute the post of the
innermost directive first this is
important the post of the inner
directive will be executed first prior
to execution of any of the posts related
to the outer directives so the post
happens in the rivers why the controller
pre link will be actually going in the
form of sliding the post will be always
going in the form of the later so the
post link of the inner one happens neck
followed by the post link of the next
outer one and the next outer one so that
is very very important the post is
always in the form of a lead or going up
but the controller and the pre links are
the next to each other which will be
always is sliding in the form of the
later so that is very important and
after the outermost post has been
completed then the render phase happens
we need to spend some time in order to
understand this slide and it is quite
simple
all the compilation happens first next
the controller railing of each of the
directives and finally it goes to the
innermost one where all the post links
will be executed in the reverse and
finally goes to the render okay so now
that we have all the slides completed
let us jump on to some code so let me
open
my temper let me create a new folder
called test and let me open through
sublime so the first thing is that I
would like to have an HTML file to be
created so I go here new file and I call
this one as a 0 1 dot HTM and so I have
HTML part to be written here the first
thing is that we need to have all the
bootstrap or I mean the bootstrap jQuery
and angular to be imported so in this
case I have some helper script here so
the first one is jQuery and we have the
bootstrap and angular so let me bring
all of this stuff right here into this
guy into this so which means I how all
the angular jQuery bootstrap ready for
my application and the next thing is
that I would like to create a javascript
file called a 0 1 2 GS and I need to
include a 0 1 dot J's right inside the
HTML so I'm going to say script and in
this case I had to say like SRC is this
guy okay SRC equal to a is 0 1 dot G is
so in that way I actually included my
JavaScript file so as part of the
JavaScript file the first thing is that
I need to have my angular module to be
instantiated and next as this is a new
module I would like to have the
controller to be specified in this case
the controller name is going to be
message and I would like to use some
scope for this one along with the
function of the controller the scope and
then function and of course I can I use
the scope here so right now I do not
want to write anything inside this
controller I just want it to leave it
blank so our focus is going to be on the
director so
go through the director first so I'm
going to create a new director called
message okay inside the message I would
like to return an object and inside the
object I would like to see on how the
compile works so I just wanted to
mention like function P element three
attributes so as we know compile is the
first step which is supposed to be
executed whenever any kind of directive
is being processed so I just wanted to
provide something like console.log and
in this case i would like to say like
three attributes dot text
so whatever the attribute I provide here
will be made available through my
console so I just wanted to say in
compile okay so let me declare this as
part of a zero one so in a zero one the
first thing is that I need to have the
ng-app to be specified so this is
important otherwise angular JS does not
know where to start so the next thing is
do so inside the Deo I am going to have
the controller and in this case the name
of the controller is MSG so I am going
to use the same controller name here so
the next one is my directive called
message so I am going to use that
detector here and I am going to use the
attribute so in this case I am going to
use that bit code text so I'm going to
say attribute text is going to be first
so this is just for our understanding in
this case okay so this is my template
message is my custom directive and this
is the attribute which I am trying to
access right inside this so as we know
the entire template is available in the
form of
here and all the attributes are
available here and this is the
compilation phase for which I would like
to have some kind of console message to
be displayed so I just save this and see
if this is going to be executed at all
so I just wanted to run my web server on
this folder and let me go to the browser
so I'm going to say localhost 8080 is
0-1 dot HTML of course I have to go to
my console so let me clear everything
and let me refresh this and now you can
see I have first in compile
so first is nothing but the value
whatever I provided right inside my HTML
right here so this is the value it is
trying to display concatenated with the
in compile so the next thing let me do
some something more okay once the
compilation has been completed now I
would like to have the controller to be
specified as we know we have the linking
phase so during the linking phase we
have the controller pre link and post
link so let me go to the controller
first and the controller has a mentioned
it is going to have the scope it is
going to have the element access and it
is going to have the attributes if
necessary so here all the three but as I
previously explained this is the good
place or this is the best place to start
with your data or scope and you are not
supposed to access any Dom in the
controller and not even there I mean you
cannot modify the Dom here of course you
can access attributes but not really try
to access the Dom or modify the Dom here
so in this case I just wanted to say
something like insulted log I just
wanted to get the attributes so the name
of the attribute in this case is text as
just wanted to use that and I just
wanted to write something like in
controller
so I just ended the controller and let
me refresh this okay I have an error
somewhere so I think probably let me
quickly jump oh I should have provided a
comma here my typos so let me save this
letter flash this whoa
so dollar attributes I think there is
yeah I have to use dollar here okay
so let me do this now you can see I have
the compile which is always going to be
executed first and after that I have the
controller so controller is the first
step of the linking phase which always
gets executed after the compilation
phase okay so the next one is the pre
link so the pre link and post link are
usually written using return and this
return needs to be part of the compile
that is very important so a return needs
to be made available of the compiler as
part of the compiler so the pre and the
post are two different functions so I
can have my own function called three
here and I am going to have the post to
be another function so we need to return
an object which contains both pre
linking function and post linking
function and that object is always going
to be returned by the compiler
even though pre and post are returned as
part of the compiler angularjs knows
that it needs to execute pre and post
only after the controller controller is
related to the directive it is not
related to the compilation so controller
always needs to be made available as
part of this return but pre and post
always need to be made available as part
of this return which is an assembler the
compilation one okay so as far as the
pre linking one as I mentioned you have
access to scope and the instance of your
template I call it as ie element
so T element when I refer T element
essentially I'm talking about this guy
this is T element in my opinion this
blue one and this one is AI element this
is what I call it as instance element so
just for our better understanding so
during the pre I would like to call the
instance of the element made available
to the pre linking phase as always I
element and next obviously I am going to
have all I attribute and in theory you
also have access to controller but not
everyone really uses it so I just wanted
to skip it in this case and now you can
have the function definition to be made
provided here so in this case I would
like to say the instance related
attributes dot text and I am going to
say in play so which means in pre
linking phase so the post will also be
quite similar so I just wanted to have
the post to be also defined in the same
fashion except that I need to modify
this one to post and this one to post
okay so let me refresh this and now you
can see I have the compilation task
performed immediately after that I have
the controller next pre and next post so
in that way you can see that the
compilation and linking phases are
always executed in a particular order
that is pretty important and now as we
understood a bit about the pre and post
so these two I mean this pre and post as
well as the controller always work on
the instance so you can see that this is
the AI element I am talking about and
this is the T element I am talking about
so this blue one is T element called as
template and this green one this box is
related to a element which means during
the compilation process I mean after the
compilation phase
this template is going to be converted
into form of an instance and that
instance related element is always
accessible in the form of AI element so
that is what I meant
okay so now that we have completed the
pre and post and everything let us now
do the nested directive so I go to a
zero one here and let me do something
inside this so I go in here and I go in
here as well okay so just for our
understanding I wanted to provide second
I wanted to provide third so that we
know what is going on okay so you can
see I'm having nested directives now so
just refresh this guide now you can see
I have various phases actually being
provided in the form of log it is bit
difficult to understand so let me
actually provide some kind of
indentation so that it is easier to
understand okay so let me refresh this
again there you go so now you can see
all the compiles get executed first so
the outermost one compiled the in the
next inner one is second the next one is
third so this is the innermost one so we
have all the compilation processes
executed first so you can see
compilation one two three so all the
three are done next immediately after
completing the compilation of the third
it actually goes to the first and tries
to execute the controller and you can
see after the third compilation it
actually goes to the controller of the
first one and immediately it goes to the
pre of the first and there is no post of
the pre it actually goes to the second
and goes to the controller and then pre
third controller and pre and there exist
no more child directives then it tries
to execute the post on the third then
goes back to the PO
most of the second and finally goes back
to the post of the first s'posed is
always in Reverse compilation is always
the way it is like the outer inner
innermost controller and pre also go in
the same direction that is outer inner
innermost but the post is opposite
innermost the next outer and finally
outermost so that that's exactly how I
have represented in this diagram and
this is pretty much about how the
compilation and the linking phases
happen as part of angularjs in my
upcoming video I am going to dig into
more in depth of compilation and linking
whenever we are working with ng-repeat
and so on</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>