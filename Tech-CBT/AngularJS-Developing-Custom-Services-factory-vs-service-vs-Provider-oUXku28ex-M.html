<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>AngularJS: Developing Custom Services (factory vs service vs Provider) | Coder Coacher - Coaching Coders</title><meta content="AngularJS: Developing Custom Services (factory vs service vs Provider) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-CBT/">Tech CBT</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>AngularJS: Developing Custom Services (factory vs service vs Provider)</b></h2><h5 class="post__date">2015-12-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oUXku28ex-M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we are going to take a
look at angularjs services as part of
this video you are going to learn on
developing custom services in various
ways using factory service and provider
or inter methodologies so let us dig
into Anglet services the first thing is
service what exactly is a service here
it is a special unit of code which can
be used across different controllers so
you can see we have the controllers in a
module so I can have multiple
controllers like controller one
controller to controller three which are
sitting inside the module however if you
would like to have some code which can
be used by all of those controllers are
any of those controllers or more than
one controller you can provide that
particular code right inside this
particular service so service is a
separate unit of code which can be used
by multiple controllers if necessary
services can usually be utilities or
business logic units so which means
whenever you are writing any kind of
code as part of a service you have to
consider that code to be almost
independent of that particular
controller so which means whatever the
code you are going to write as part of a
service usually will be belonging to
some kind of a utility based code or
some business logic related code so
whenever it's a business logic most
likely it might be really communicating
with the web service retrieving the
results and then passing back the
information to the respective controller
so whenever you have any kind of
business logic that needs to be made
available as part of a service but not
in the controller the controllers are
really meant to receive the data and to
provide the data to the views these
controllers need to be as thin as
possible and as light as possible all
the heavy lifting needs to be done via
service
the service is a single term so whenever
it's a single term basically you are
going to have only one instance of a
particular service to be served across
your entire application so that is bit
different from the controller so
controller usually will be created or
instantiated whenever it is needed and
at the same time those could be
destroyed whenever we are actually
moving to some other route or whenever
we are trying to have some other views
to be displayed so controllers can be
actually dynamic in nature however
services are always static which means
once an instance of service has been
created the same instance will be living
as part of angular JS memory and the
same particular instance will be reused
across all of the controllers and
throughout your particular angularjs
application so that is very important
there will be only one instance of
service which will be served across your
entire module or entire app services are
loaded and instantiated lazily
so this is bit different from that of
the controllers controllers you know
they will be immediately created at the
moment you actually ask a particular
view to be created so which means if
your particular view has got a reference
to a controller that controller will be
created instantaneously but services as
I mentioned those are not quite related
to any of those controllers and that is
the reason services are not instantiated
by default but whenever a controller
refers to a service and that particular
controller is in use which means the
controller is getting instantiated for
some particular scenario immediately the
service gets instantiated if it is not
instantiated earlier so this is pretty
important so whenever a controller
refers to a service and whenever the
controller gets instantiated the service
will also be getting instantiated if it
is not instantiated earlier so if it is
already instantiated earlier then the
controller will be
using the same instance which has been
instantiated earlier okay the next thing
is that it is not necessary that you
might be having only one service you can
have multiple number of services here so
a module can contain any number of
services and all of those particular
services can be used by one or more
controllers so in this case you can see
all of these controllers are using
service one and also service two so as
long as you have a service the that
particular service can be really used by
any of those controllers and you can
have multiple services as part of your
application and that is one more thing
the services can also call or work with
other services so the service as I
mentioned earlier will be usually used
by controller but the service can also
be used by other services so which means
if there is some business logic
available in this service one you can
also execute the same business logic
from here and vice-versa so you can
reuse that particular code of a service
available in one service one that can
also be used as part of another service
so which means the code can be reused
and shared across the multiple services
available as part of your particular
application and all the code and all the
services together can be used by
multiple other controllers okay what are
the various types of services we have
the first thing is that we usually
categorize into two types one is
built-in services which are usually part
of angular framework which means angular
JS by default comes with its own
services and those services you will be
calling them as built-in services and if
you watch my previous video we have been
using dollar HTTP for ajax based
communications so whenever you are using
ajax based communications there is quite
a bit of a chance like you might be
using dollar HTTP and if you are using
dollar HTTP which means you are using
dollar HTTP service this itself is a
service log is a service location is a
service and we have bunch of other
services
which are available as part of angular
framework so the moment you have
angularjs
included as part of your application you
already have all of those services in
place and you can make use of those
services in order to develop your
angularjs application and all those
built-in services come as part of
angular framework the other category is
custom services so which means you will
be developing your own services based on
your necessity so which means those
particular built in services provided by
angular framework may not be enough for
our particular scenario and we might be
developing our own particular services
as necessary so those particular
services usually be again in the form of
utilities or business logic services so
business logic services will never be
part of built-in services as because
angular framework doesn't know anything
about any business or domain so if we
need to have our own business our domain
to be maintained and provided in the
form of a service that needs to be in
the form of the custom service so these
custom services even though those are
being developed by us those could also
be extended from existing built-in
services or we can have our own
particular business logic services to be
developed and not necessarily with just
business logic alone we can also develop
our own utility services if necessary so
especially we have two types of service
types one is built in which comes I mean
where all of those come with angular
framework and custom services which will
be developed by us and as far as this
video we're going to concentrate mostly
on custom services but not under the
built-in services so in order to develop
custom services there are certain rules
and regulations we need to follow so
we'll be coming across those now so
before even jumping on how to develop
the custom services we need to
understand the business services a bit
so whenever I am saying business
services these are again nothing but the
custom services except that this fall
into the category of business logic
services so business logic services
again are nothing but the custom service
so where do they real-estate so imagine
I have a markup so which means I have
the HTML markup with my own angular
views or templates defined and we know
that we are going to have an angular
module which will always be created at
the very beginning and we are going to
have a couple of controllers to be
created as part of the same module so
you can have multiple controllers
sitting in the same module and your
particular views will be continuously in
touch with the controllers so the
responsibility of the controllers is
something like they make up a model
provide that model as data to this
particular view and the view gets
refreshed similarly if you have any view
with any input elements like this box of
step boxes radio buttons and so on that
information whatever the user has
provided will be again taken back to the
controller using scope so we have
already seen all of those particular
ways so what is so special about this
now comes the services till now we never
created the services or say business
logic services so we have to understand
like whenever we would like to have any
kind of business logic to be maintained
the business logic needs to be always
sitting in the form of services so as
part of the same module we are going to
create multiple services or set angle of
services objects and those particular
services will be used by the controllers
and the responsibility of the services
is to actually communicate with the
respective observable resource so which
means if your particular business logic
and the database storage and all the
respective calculations are being
maintained at the server and those
particular services or say web services
are being exposed then usually the
communication between the web service
and your particular angular JS module
will be handled by your business classic
services so that is important your
services your business logic services or
the responsible objects or responsible
units
where the responsibility will be in
order to communicate with this
particular http-based rest-based
services so this is very very important
so whenever you have any web services
expose and you would like to consume
those web services make sure that you
are actually developing the business
services and use the same business
services as part of your controllers and
the controllers finally we'll be
receiving the models from the services
and you will be putting all the models
in whatever the way the Vue wants them
and send those particular modules across
to the view and similarly if the user
provides any information to the view the
same thing will be carried back to the
controller and if that data needs to be
saved you will be sending the same
information back to the service and
service gets in touch with the web
servers and finally that information
will be stored to the database so this
is how a typical angularjs application
will be really developed okay now comes
how exactly we can develop a custom
service so there are multiple ways in
order to develop a customer customers
sorry
custom service so basically we are going
to cover three different ways on
developing custom services the first one
is a factory so what do you mean by a
factory so do not consider on the
factory patterns on whatever even though
it is similar to the factory pattern
this is somewhat very much close to the
angularjs way of developing the custom
services here but whenever I am talking
about factory I am talking about a code
something similar to this so what
exactly is this code so you can see we
are actually creating in an angular app
here and now we have the controller you
can see that the controller EMP working
with the scope and I called something
like calculate factory and what exactly
is this calculate factory so you can see
I have calculate factory defined with AB
dot factory just like AB dot controller
AB dot module so angular module you have
something called AB dot factory so add
that factory means you are going to
define a particular factory or you
going to defend in unit of code and that
particular code is nothing but your
particular service object and this
particular service object whatever you
are going to define here can contain
business logic and that particular
object will be returned back finally to
your particular controller in the form
of a parameter so this is important now
you can see here I am actually creating
an empty object of JavaScript so all
calculate service is just an object and
but the same object I am adding a
function and you can add as many number
of members as possible here and finally
you are returning the same object
whatever you have created and that
particular object will be directly
returned to this particular parameter
and once that is made available you can
say you are actually using those
particular members right inside your
controller so this is your particular
service object and this particular
service object will be served through
the factory model so factory here is
just a model on how you are going to
send your particular service object to
the controller so whenever I see a model
do not consider the data based model not
the data model here it is just the
methodology so factory in this case it's
just like a param which actually creates
a service objects associate that
particular object with all the members
which includes the business logic and so
on and finally return that particular
object back to the controller so this is
one way of developing a service and
essentially this particular function or
any of those members can really
communicate with your HTTP services or
CRS services so hopefully we are
familiar with factor here there is one
more thing called
service oriented so the first way is
factory the second way is service itself
so let us not confuse ourselves this
service with this service you are still
going to develop custom services using
another methodology called service and
you can see this is pretty similar to
our factory earlier again we have the
angular module we have the EMP based
controller
and instead of factory I am calling this
honest calculate service and you can see
instead of using AB dot Factory you are
using AB dot service so you can see the
same thing whatever you are using here
will be automatically being used here as
well and all your particular business
logic will be written right here so
unlike previous thing you are actually
creating a particular object you can see
we are actually creating a JavaScript
object and then add all the members then
return that particular object but in the
current case we are not actually
creating an object here we are adding
all the members directly to this service
definition itself just like the
controller so the service name is
calculate service and it has got this
particular function constructor you can
consider this one as the constructor
functions which I covered in my advanced
JavaScript videos so this particular
constructor function will be
automatically instantiated and finally
will be sent to this particular
calculate service parameter so this is
important so whatever the code you write
in here is nothing but the business
logic and the instance of this
particular constructor function will be
automatically created by angular JS
framework and finally that instance will
be sent to calculate service parameter
so the only difference between this and
the previous one is in the factory you
create the object and you return the
object in the case of service you are
not going to create the object you are
just going to define the structure of
the object and angular just takes care
about how to create the instance one
necessarily for this particular service
and return the instance back to that
particular calculate service parameter
of the controller so in this case the
instantiation of the service will be
taken care by angularjs in the case of
factory it is our responsibility to
create an instance and return the
service instance so that is the only
difference it is just only the
syntactical difference between a factory
and survey
but not really anything else other than
that so you can say still we are going
to use the same to sum whatever is
available here which is also going to be
used here again I am mentioning it is
just our own way on selecting either of
these two either factory or service
so whatever the syntax you are
comfortable with you are just good you
are just good to go ahead with whatever
the way you are comfortable with as well
so you will not find any kind of
performance or any kind of difference
between Factory and service from the
technical point of view other than the
syntax so the next one is something bit
different that is provider so provider
essentially is another way of developing
custom services but I just wanted to
explain bit more about provider here
provider is the core methodology where
even the factory and the service will be
depending upon so essentially we can say
the factory or the service methodologies
either of those two are actually the
wrappers around provider so which means
behind the scenes
whether you work with factory of surveys
angularjs
actually works with provider so even
though you are not working with the
provider but if you are working with
factory at service you are essentially
working with the provider behind the
scenes so this is like a core model or
core methodology for defining the custom
services so for some reason if you are
not happy with factory or service and if
you would like to have more
customization options to be made
available during your execution of your
particular service probably provider is
the better way to go and the most I mean
the most common reason of using
providers is especially whenever you
service needs to have some kind of
configuration to be actually provided so
which means imagine my particular
service gets in touch with the web
service or service service and in a I
need to provide an URL so whenever I am
trying to provide an URL we cannot
hard-code that particular URL as part of
our factory of service it needs to be
configured when or as a configured
are going to provide some kind of
configuration information or settings or
some initialization settings to our
particular service before you when it
gets instantiated so which means before
our service gets instantiated I need to
provide some configuration information
for which my service can depend upon it
and in order to provide such kind of
configuration information which will be
taken dynamically at the very beginning
of the service itself provider will be
really helping us for us so whenever you
have any kind of configuration
information which needs to be sent to a
service provider is the better way to go
if you do not have any configuration
information to be sent
then factory or service will be really
working for you and in order to choose
between factory and service it is just
your preference and whatever their way
you feel happy with the syntax ok let us
see what is provided and you can see it
has got more code than factory and
service as because it needs to work with
configuration information as well so
this is again pretty much similar I have
the controller I have the scope and
calculators Kalki Sala calculate service
and now instead of using app dot factory
or a blood service I am using app date
for a wider and at the same time you can
see at the very bottom you also have AB
dot config so which means this
particular configuration
really works at the app level so this is
very important so what happens at this
particular level so configuration
provided for the service so your
particular service and if this
particular service needs any
configuration information this is the
provider so which means you can just
consider this is the configuration
provider for your service and this gets
executed at the very beginning of your
angular JS application so even before
your particular controller and even
before your service this gets instant I
mean this gets a registered context the
reason you call this one as config stage
so this will be executed at the config
stage even before any of the angular J
yes services are in place so which means
dollar HTTP dollar log nothing will be
available at this moment so that is
pretty important so this will be
registered way before then having any of
those controllers providers or other
services in place and you are actually
registering that particular provider you
are not executing anything you're just
registering it saying that this is the
function which needs to be executed
whenever that particular service is
getting instantiated so this is
important and it is just the naming
convention you can see I provided
calculate service here and you have to
provide the same name here followed by
provider provider is a built in word
here it follows the convention naming
convention you cannot change this you
can change this however but it is
important that this name provider needs
to be the successful part of your
particular service name so your service
name here should be matching with this
one and must be followed by the provider
here so once your particular
configuration provider is registered
then comes your particular calculation
surveys which needs to be instantiated
as because imagine the controller is
getting instantiated
so whenever the controller is getting
instantiated you are saying that please
get calculated service to be in place so
now we are saying that calculate service
needs to be in charge instantiated and
whenever this particular calculate
service needs to be instantiated our
particular angularjs has already
registered this part so before this
particular provider when our angular JS
tries to find the word provider it knows
that there exists a kind of provider
already registered with the same name
followed with the provider and it brings
this one into the picture so which means
it tries to execute this particular
function the moment it tries to
instantiate the service here so whenever
we are executing the function here this
is essential
you are calling the method conflict when
that config is right here so this config
is nothing but this conflict so you are
saying that this particular part needs
to be executed automatically by
angularjs whenever you are trying to
instantiate your service so whenever you
are trying to instantiate your service
your particular provider gets executed
so which means this function gets
executed and this as part of this
function you can see you are calling a
method called config and that particular
config method is right here and you are
passing some configuration information
here like some URL and that particular
URL is being sent as parameter here and
you are storing that URL as part of your
private variable for this particular
function here so you can see even this
function is actually constructor
function and this particular constructor
function has got something like a method
config so in general what happens is
that angular JS creates an instance of
this particular constructor function
which is nothing but an object and that
particular object will be thrown here
and that particular object you can see
we are actually calling the method on
the same object by sending that
particular information and that
particular configuration information
will be sent into the respective
variable and the same variable whatever
you are writing here or maintaining here
can be used as part of your particular
service definition so which means this
base URL can be used right here or in
any of those members related to this
particular object and what is this
object this is very similar to a factory
object whatever we have created so this
is your service object so as part of
factory model or factory methodology you
might have seen like I have been
creating a service object there is
nothing but a plain JavaScript object
and adding all the members and finally
returning that particular service object
so the same thing so dollar get is a
built in part or a built in word as part
of your particular angularjs and that is
going to be executed automatically by
Lachaise framework whenever their
particular controller needs an instance
of that particular calculate service so
again in simple the controller tries to
instantiate the calculate service and
calculate service as angularjs finds
that calculate service in the form of a
provider it tries to provider it tries
to find the provider which is already
registered earlier creates an instance
of this constructor function sends that
object here executes the method which is
nothing but the one available as part of
your constructor function provides all
the configuration information into the
parameters here and have that
configuration information stored as part
of the same provider instance and once
we have that configuration information
stored then angular JS executes dollar
get automatically which essentially
creates a new service instance which can
make use of all that configuration
information as part of the same service
here finally returns the service back to
that particular calculator service so
you are not getting the instance of this
one our controller receives the instance
of this particular calculate service
which includes all the business logic
and that business logic depending on the
configuration information you might have
provided earlier using your
configuration provider or say your
provider or service provider and you can
see now you can still work with do some
as part of your controller and whenever
you call do some that do some is going
to be executed and that do some can
essentially use that configuration
information whatever you might have
provided so if you are not using this
configuration information or
configuration settings which need to be
passed in future or are necessary you
does you don't really need to use a
provider you can just keep yourself to
factory or service so most of the time
the HTTP services or rest services need
to have some kind of configuration
information to be maintained and in
order for that it is
is good to go with providers rather than
factories or services but again it is up
to our choice so now that we have some
understanding about angularjs services
and how to develop custom services using
factory service and also the provider
service let us see on how we can really
implement it as part of our board so
this is following my previous sample so
I have two files here one is d lay HTM
so let me actually duplicate this so I
am going to call this one st 0 1 and the
next one is going to be t 0 1 as 1 and
let me change this one to t0 1 okay so
this is a very simple HTML page and I
have a very simple angular application
here which essentially has three members
so that is I'm interscope has three
members a and B and also do some and the
a and B are directly being made
available here in the form of evaluation
expressions and those are also bound
through our input text boxes and do some
is the method which will be executed at
the moment you click on the button so as
part of that particular button you can
see I am actually calculating some of
those at a and B members so you can say
I'm just converting a and B let me take
this one so I am just converting NB to
integers and finally placing the result
into sum which is going to be a member
of some scope and that particular sum is
directly being made available right here
so let us quickly check on how this is
working so again I just wanted to
mention there is no HTTP service
communication happening here so all of
this code is going to be executed at
client-side or so browser side and
imagine this is our business
okay so let me open let me execute my is
on this particular test and I would like
to say to zero one HTML and now you can
see I have ten and twenty those are
nothing but the a and B values now I can
change this one to seventy eight and
twenty three and click on calculate now
you can see I have some to be
automatically calculated and if you open
my network here and if you change
anything here and click calculate you
can see this is also this that is
coincidental okay now if I click
calculate you can see there is no
network based communication happening
here everything is happening at client
side and with automatic data binding
capabilities okay so now that we have
that particular what is a simple code
now is the time actually to jump into
our particular custom service provider
sorry custom service development so as
part of our particular development as I
mentioned earlier the first thing is
that we need to work with factory
methodology and I would like to have
this particular what is a code to be
actually extracted from the controller
and pushed to the service so which means
as I mentioned earlier controller is not
supposed to have any kind of business
logic the job of the controller is to
receive the data from the service and
provide that data straight to the view
so this controller needs to be as simple
as possible and as thin as possible so
in order to create my particular service
as I mentioned earlier I need to have a
particular factory to be created so I am
NOT going to change my t01 HTML so I
will be just throwing that one like that
the first thing is that I need to have
the factory to be created so the factory
name in this case I would like to call
this one as calculate Factory and if you
would like to have any other services
here probably you can use them for
example if I would like to use HTTP as
part of my calculate Factory probably
you can use it similarly if I would like
to have something like dollar log I
would like to use that one too if you
are using those two we know that we need
to have those two to be also used as
part of our particular function so I'm
using the same variables so you can just
put hits or L also here but just to make
sure that we are having a better
understanding so let me remove this for
our better understanding so I created a
factor here and of course I need to
provide some definition of the factory
here but prior to that how do I use this
particular calculate factory right here
so we know that we are already using
scope and on top of that we are going to
use calculate factory as well so I need
to add even the calculate factor here
and as I mentioned I will be using the
calculate factor here as well so that is
important and the next next thing is
that I already have to sum which is fine
so I do not want this particular part to
be executed here as because that needs
to be made available as part of my
particular factory so I'm going to get
rid of that and provide that particular
I mean separate that business logic into
the factory or say service so the first
thing I would like to say something like
log instantiating something like
calculate factoring so just to have some
information like it is actually creating
a service instance using the factor here
and now I am going to create that
particular JavaScript object which is
nothing but our service object and I'm
going to call this one as something like
low calculator service here and
similarly now I am going to use
calculate service which can essentially
give me the sum
of a and B so let us see on how we can
define this so later I am actually going
to return this particular object called
a calculate service so this is important
as I mentioned in my previous I mean the
presentation there you need to create a
service object add all the members to
the service object and finally return
that particular object and that service
object will be directly made available
here and now you can say like I can say
call a calculus factory that gets some
so this is the one you can straight away
use so I can just say get some and
provide those two values in this case I
have a low scope dot a and dollar scope
dot B so what I am I trying to
accomplish here so I already have a and
B those two values you are actually
sending to your service and you can see
I have those two values automatically
captured as part of a and B here and of
course once that is done all I can
simply do is something like return I can
say a plus B here on once that is done I
can simply make sure that dollar scope
that's sum equal to this and let us see
if this is working
so let me go back let me refresh this
whole thing okay no errors still now and
you can see like instantiating calculate
factoring so this is the message what we
already wrote as far as this one so
which means our service has been already
instantiated and sent as part of the
controller and if you do not have this
particular controller referring or
calculate factory this will never be
executed so for now let us consider I am
not using this and I am not using this
either and I just refresh this now you
can see I did not get instantiate in
calculate factory at all so that is what
I call it as lazy lazily loading so
loading your particular service
definition in a laziest manner which
means this whole part will be executed
and I mean loaded and executed if and
only if you are actually they are
referring that through some kind of
controller so let me save this again and
I just refresh this and you can see it
is automatically instantiated by because
our controller reverse it and now let me
try to click on this and now you can see
I got calculate which is nothing but 30
so if I have 80 here and if I have 90
here the moment I say calculate you can
say oh I did a mistake here it is
actually concatenating 90 plus 80 years
so I have a bug which essentially means
nothing but I need to convert my
particular value of a to an integer and
at the same point convert the value of B
also to an integer then do the sum so
that is a bug let me refresh this again
now I need to say 90 and 80 and click
calculate and now you can say have 70
and again as I mentioned everything is
happening at the client side there is no
network based communication happening
here everything is happening at the
client side which means the calculation
the execution and all the data binding
is happening at the browser level
now let us extend this a bit now we have
already what I say extracted our
business logic into a separate service
and our controller need not be touched
again and you can say I already stopped
touching my head stew ml and even I can
stop my what is our controller as well
so if you have any kind of modifications
to be done to your business logics just
do right here as part of this particular
method and you need not do anything else
other than that and there are a couple
of ways if you would like to have some
kind of asynchronous execution as well
for example in this case this is
synchronous which means this particular
expression will be waiting till our
particular get some returns some value
that is important so our particular
function gets some is going to be
executed right here and imagine this is
taking five seconds to execute this
particular statement will be waiting
there for five seconds so which means
this statement cannot go to the next
line until and unless it completes the
evaluation of this one so if your
particular business logic function takes
ten seconds to execute you will not have
the next statement to be executed and
then until and unless that whole ten
seconds has been completed and you
received a value from this particular
method so that might not be a good idea
whenever you are developing JavaScript
based applications so it is always
better to have some kind of asynchronous
way of developing things so for that
purpose the easiest way for now of
course there are several ways to achieve
this but for now in order to make our
particular video simple here I would
like to introduce a callback function so
I can say something like this but let me
let me comment this a bit so that we
know what we are doing and what are all
the differences we are actually making
use of and I am going to comment this
one too right now okay now I am going to
change my definition of get some in such
a way that it could be executed in an
asynchronous fashion so in an
asynchronous fashion means I will not
worry about when it is going to return
the value however once it is returned I
need to help my sum to be populated so I
do not want to care like I have to
really wait for five minutes or five
seconds or 10 seconds so for that
purpose the easiest way to use these
callback functions so I am going to say
get some equal to function a comma B
comma a callback function so make sure
that this is not a reserved word this is
just another variable this is call back
in my opinion this stands for callback
you can put any variable like X it
doesn't matter so just to make simple
things simple I just wanted to introduce
a callback function here so if you are
not familiar with callback functions
please reform I we advanced JavaScript
videos so as part of this particular
callback function all I am going to say
is please execute my callback function
whatever I am going to sign with a
particular value in this fashion so
which means I am saying that please
calculate my particular result so let me
make this one more understandable so I
am going to have something like variable
as equal to the sum of those two and
call your particular function whatever
you are going to provide here with that
particular value s so how I am going to
execute this service is right here so I
am going to say please execute my
calculate factoring and also execute my
get some and I am going to provide these
values as well and those two values are
going to be the
for a and B however I need to send a
callback function so which means this
could be any anonymous function or
whatever the function you must have
already defined earlier which will be
receiving some kind of the result so you
can provide any kind of variable here so
if you want to provide R that is also
good so this particular R is nothing but
the value whatever it is going to
receive from s so this CB is a callback
function which means you are essentially
passing this whole function as parameter
and that whole function will be made
available as part of CB and when you are
calling CB you are actually calling this
function and if you are sending any
value that value will be made available
as part of our and as part of this I can
say dollar scope third sum equal to R so
let us see if this is working so i
refresh this and you can see it has
instantiated successfully so in this
case I would like to provide 89 and
click calculate and now you can see it
has done this one too so this is the
preferred way for actually executing any
kind of operations which are available
as part of your service you think in the
form of asynchronous rather than in a
synchronous way so synchronous means
this particular statement will not be I
mean this that statement will be always
waiting in order to get it completed it
will never go to the next statement
but in this case it executes this and
immediately it follows to the next
statement and later once this has
completed it is going to execute this
one which essentially receives your
particular data so for a more
information you check my callback
functions later and this is a kind of
asynchronous way of execution and there
are several other ways to execute your
particular operations in an asynchronous
manner like dollar q or whatever but in
this case I just wanted to make it
simple okay now let us take this to the
next level imagine I would like to have
this particular gate sum to be executed
by actually
following a rest service so which means
I have an HTTP rest service which
essentially calculates this at the
server side and this web service returns
the value to the sum so let me take in
that direction so in order for that I
need to have a rest service to be
executed so I already have my rest
service developed as part of my previous
video so currently I'm using node you
can also use the web api both of same so
I developed Web API and node API as part
of my previous video but as part of this
video I would like to use node API all I
have to do is just execute this
particular service that is in the form
of rest so I am going to open my
particular command plant and I'm going
to say please execute my particular web
service and how that web server is
listening at port number four four six
seven so what does it say four four six
seven let me use my postman here and
quickly see what it is doing so all this
is covered as part of my previous video
so you can see localhost four four six
seven has got something like some and I
can provide values 20 or 30 and the
moment I click on that you can see I am
getting the values 50 so this is a web
service which has been developed as part
of my previous video so I can say
something X 16 20 and clicks and which
is going to give me 80 so I am going to
use this particular service as part of
my angularjs application so instead of
having my calculations to be done
locally at browser level I would like to
defer this calculation or business logic
calculation to be deferred to the web
service so for that it is going to be
very similar code to what I wrote
earlier that is our calculate service
that gets some and again I am going to
have a comma B and also will be having a
callback function so this is the
definition the definition will be
pretty similar however the code whatever
I am going to right now
is going to use dollar HTTP in order to
communicate with Ajax so for that
purpose I'm using dollar HTTP so I'm
going to communicate with my web servers
using dollar HTTP in an ajax fashion so
all this has been covered as part of my
previous video so now I'm going to
execute my particular page acts with
those options and if it completes
successfully then I would like to have
this particular function to be executed
if it fails I would like to have another
function to be executed and now let us
provide the options so as part of this
options the first thing is that I need
to provide the URL so as part of my
postman you can see this is the URL and
I would like to use the same URL as part
of my angularjs so where is this I go in
here I provide the URL but as you know I
cannot hard code these values is because
I'm already receiving those values as
part of these variables so I just
provide the same variables here and at
the same time I provide the same
variable B here so in that way I have my
URL already set and I am going to use
get method in order to communicate with
my Ajax web service so this is what I
have as part of my Ajax execution and
this is the function which gets executed
then I have a successor return so which
means this is the function or say we can
also call this one a success function
and this is a failure function so which
means our Ajax request if it fails it
gets this function gets executed if our
Ajax gets successful this function gets
executed which also contains our
response so in this case I would like to
say it's something like callback so as I
mentioned just like this so I am using
the same callback function and I am
going to send my particular data right
here
and if you would like to have any kind
of order say a dollar log service to be
used you can say something like
responsive data so which means if you'd
like to see what kind of data you
received from server probably we can
also say dollar log if necessary if
there exists any other problem our HP
fails probably I would like to provide
something like error occurred as part of
my console log ok but there is one more
important thing I would like to mention
here you are using dollar HTTP and
dollar log so which means your factory
should also be using those two if you
are not providing these two then these
two will not work for these you do not
need these two to be involved so these
two are necessary fund only if you are
using this if you are not writing log
here you do not necessarily use dollar
log here okay so now I created the
object provided the method which
essentially communicates with the
service and once the web service returns
the data this is the function which gets
executed and as part of that I am
actually calling the callback function
and then you can see I have response
data there so this response to the data
whatever I receive from the web service
will be automatically sent to this
callback function and I get the result
into the variable sum and let us see if
all of this is working fine okay don't
have any errors you can see it has a
calculate factory instantiated and now
let me provide some value something X 78
and 89 and click on calculate and now
you can see I have 167 calculated and
you can also see how it has been
communicating with the rest service with
the same URL I have provided so if I
provide something like 90 and 23 and
click on calculate now you can see there
is one more request called 90 and 23 and
as part of the response you can see I'm
having one one three and the same
response is being logged as part of my
console and I am assigning the same
thing to the sum as
okay so this is pretty much what I have
as part of the factory so which means I
extracted my logic or business logic
from my controller into the service and
my service can really talk to the web
server is to get all the data and send
the data back to my controller and my
particular controller will be
responsible to put all that information
into the scope so that my HTML or my
particular view gets bound to the
respective scope using data binding okay
so let me duplicate this and I call this
one as t02 so I close this and I would
like to modify this one to two zero two
right now why because I am going to
develop something new as part of t02 and
instead of using calculate Factory I am
going to use calculate service now so
this is the second type what I mentioned
earlier as part of my presentation so in
order to use calculate service the first
thing as I mentioned is instead of using
AB dot factory I have to use K AB dot
service and to be consistent with our
naming instead of using calculate
factory I would like to mention this
honors calculate service so whenever I
use this I need to use this here also I
need to use this here I need to use this
here here here and looks like those are
all the way ii provide and let me do one
by one so i would like to have this
whole thing to be removed as well
so let us do one by one so that we know
what we are doing so we don't first of
all I don't need to create any kind of
object as part of the service
methodology so this object is not
necessary and a return is also not
necessary so that's the first thing and
the next thing is that as I mentioned
this function itself behaves as if this
is a constructor function so instead of
providing an object and a member you can
directly provide the member so in this
case I can just say something like this
dot get some equals function a comma B
so this is the way on how I can develop
the function the only difference is that
I am using this so which means I am
using this constructor function which
will have get some and that particular
method is going to be automatically made
available to through calculate service
because the instance of this service
will be automatically created by
angularjs so as part of this it is
pretty simple for me all I have to do is
just do this but in order to test that
one I do not need this kind of syntax
why because this is synchronous way of
executing things so I am I'm not using
any callback here so this is synchronous
also I just use this and let us check if
this is working so i refresh this and
now you let us see you are having T 0 to
dot J is loaded and let us see if this
is working so now you can see I have 30
which is working fine so let me again
comment this and amend this ok before
you can commenting this let me copy this
a bit so this is my previous one and of
course I do not need this let me forget
about this so in order to use my
asynchronous way of executing things I
have to use a callback function so in
order to have a callback function this
is very similar to whatever I have
accomplished here so let me do the same
thing so
I will be just removing this part and
instead of this I will be providing this
and remove this whole part so I'm using
the same way this dot gets um I'm using
the same thing here a comma B and in
fact I have a callback function here so
let us check if this is working fine so
again let us remember refreshing this
and you can see this is automatically
created and I'm using T 0 2 and the
moment I click on this you can see I
have the ready to be executed with no
problems so as I mentioned this is just
a syntactical sugar so again now I need
to talk to my HTTP service so for that
purpose all I had to do is something
like just get rid of this whole part
and now as part of this all hacker idea
is this so the moment I write it you can
see that I'm using the same function
with HTTP and log trying to communicate
at the same service and let us see this
is working fine so i refresh this and I
clear everything and let us try to
calculate it and now you can see it is
actually trying to get in touch with our
particular web service and web service
results the value 30 which has been
logged and the same value is being
available here so if I press 90 and
click 9th calculate and now you can see
10 and 90 becomes hundred right here so
this is just another way of developing
your service using service methodology
rather than factory methodology okay so
let me duplicate this a bit so instead
of duplicating probably it is better for
me to rewrite this whole part or
probably ok let me duplicate this and
get rid of this service all the way
so let me duplicate this and I call this
one as t3 right now and before even
doing anything else I would like to make
sure that this is t3 so that it loads it
and I would like to use the same kind of
syntax whatever I have in place and let
me get rid of this whole service so this
is clean right now okay and again
imagine I would like to have everything
commented ok now is the third way that
is provider so we have seen Factory and
the service and now it is time for the
provider so let us see how the provider
can be done so as I mentioned first of
all we need to have the configuration to
be provided so in this case I would like
to call this one as something like app
dot config and as part of this I would
like to have the
calculate surveys as I mentioned it has
to be the same name as you are following
calculate service and it has to be
followed with provider this is essential
you cannot change this your particular
service name needs to be followed with
the provider and then you can use the
same kind of variable like calculate
service for order essentially you are
following the same syntax whatever we
used a year right here and this is the
function so as part of this as you know
I can provide any kind of configuration
information here but now for now I am
NOT providing any information but this
is just an empty configuration for now
so I do not want to do any kind of
configuration right here but just leave
it like that for now and now I am going
to have the provider so just like in t01
you can see i provided ab dot factory
and in t 0 to a provided ab dot service
and in this case i am providing a
platform wider and now i have to use
calculate service which needs to be the
same thing how to use calculate service
service service and also calculate
service right here and now i am going to
say this is the function which needs to
be executed so as part of this function
as I mentioned this is again a
constructor function and this particular
constructor function is going to have a
provider instance
so whatever the constructor function you
are going to write here is not a service
it is the provider you are going to
write so as part of this I can say
something like this dot dollar get equal
to function
and as I mentioned earlier this is the
function which will be automatically
executed dollar gate will be executed
automatically by angularjs so as far as
this I can copy and paste the same code
whatever I have as part of my factory so
which means essentially you're going to
create a service object and at the same
time you can provide something like this
which is nothing but you are going to
calculate how long so you're having a
method called get some to be provided
and at the same time return will
calculate service so this is essentially
the same thing you are using the same
factory based method here and currently
I am not providing any configuration
information so it is as good as your
factory so there is no difference
between factor in provider here as
because you are not using any special
configuration which needs to be passed
in here so however you are using
provider based syntax rather than
factory based syntax here so in order to
use this as I mentioned I have to just
get rid of this guy and see if that is
working first so let me double check if
everything is properly written so
calculate service I have all the
definition of the calculate service Here
I am actually creating calculate service
object which essentially has Europe get
some air a and B are going to be pass
right here return this and save this is
working so T 0 3 is being used T 0 3 is
being used so let me refresh this and
have no problems executing this so now I
eat the moment I click calculate you can
see I have 30 here and I have 90 right
there so in that way I have my
particular provider being written from
the scratch in the form of factory as I
mentioned if you do not like this kind
of syntax go with factory straightaway
and the next thing is that imagine I
would like to use dollar log here as
part of this so which means as part of
this provider I wanted to use log
service it is pretty important that
whenever you would like to use some
external services as part of your
provider those need to be part of dollar
get but not right inside the provider as
because this part will be executed way
before which means during the conflict
stays itself so that is the reason you
cannot provide or use the other services
right here why because those will not be
available at the time of this provider
execution however this will be executed
at a later stage for which you can make
use of your particular services so I can
say I would like to use something like
this and as part of this one I wanted to
use dollar log and use the same thing
like L or dollar log for better
readability so now I can say something
like dollar dot log instantiating
calculate service and let us see if it
is actually using the calculate service
right there
and now you can see I have the dollar
log service which is automatically made
available so let us go to the next level
I would like to use this particular
function which is nothing but callback
function so instead of using this one NS
async I mean synchronous manner
I would like to use asynchronous way of
coding so for that purpose I would like
to use something like this
so you can see I'm using the same
definition however I'm using a callback
function so if you are using a callback
function you have to use this way in
order to execute your particular
application so let me save everything
and let us see if this is working fine
so instantiate in calculate service is
done and I click call plate and you can
see I have 30 as well here so you do not
need to have any kind of HTTP service as
part of this one why because everything
is happening at the client so let us now
go to the next level by actually
introducing our HTTP service as well so
this is going to be something like this
so let me comment this and I'm using
this right here and let us see if this
is going to work fine and still again I
am not using configuration this is this
is empty I am not sending any
configuration information yet so let me
save this and see if this is working
fine so let me refresh this let me clear
the network and the moment I click on
this okay got an error oh this is
important dollar HTTP oh I forgot that
you can see in order to use dollar log
service i defined dollar log and i am
now using dollar HTTP so I have to use
dollar HTTP as well and that is the
reason it threw back on my face so I
have to use dollar HTTP as one I replace
this let me remove everything and click
on calculate and now you can see there
is a network request here and I have the
value returned back from the service and
I can provide as many number of times as
possible
so you can say 100 here and I have 10
and 90 as well okay so this is still
looking as if we are writing factory but
we haven't taken the chance to configure
our particular provider so we need to
have the provider to be actually
accepting some kind of configuration
information so in this case imagine this
URL whatever I am using not supposed to
be hard-coded as part of my particular
service so imagine if my particular
service has got multiple other methods
we will be hard coding this HTTP
localhost everywhere and that is not a
good idea so we have to configure this
at one location and reuse the same thing
over and over again for all of those
particular methods or the service
operations we are going to provide so
for that purpose what I'm going to do is
I'm okay so let me start here okay I
have to start here so first of all I
would like to say some kind of available
like base URL and this bit base URL will
be looking something like this and now
you can see I can use the same variable
right here so this is the simplest way
and again I am hard coding it here so
all I am doing is I am just actually so
you can see this sits about dollar get
that is important there is the first
thing so I am defining a variable which
contains this particular URL and I am
using the same variable as part of my
particular dollar get and as part of my
service object so this is my service
object which has an operation called get
some and it is going to use this
particular variable whatever I have
earlier that is base URL and the same
thing whatever I have provided here will
be placed here so this is not configured
yet but just wanted to show you so again
i refresh this and let us see if this is
working fine I clear everything and
calculate it and you can see still it is
able to do whatever it did earlier so
except that this is coming from the
variable and now I would like to have
this base URL to be actually sent from
the configuration so I do not want to
send this I do not want hard-coded
instead I would like to have that point
of this sent so I can say something like
this that config
you can provide anything here or I can
say like set or this dot settings for
example you can provide anything
whatever you would like to provide here
this dot settings or this config
anything so it makes more sense for me
in this case like this function and you
can provide any number of parameters
here or even a JSON object for now all I
have is only one that I made out under
the reason I just use URL here so now
whenever I provide any kind of
configuration information through this
value I will be assigning this value
straight to the base URL so I'm going to
say base URL equal to URL and who is
going to call this guy that is where
this guy really does so angularjs will
be creating an instance of this whole
function angularjs will be creating an
instance of this whole function and that
is the constructor function anyway that
whole instance will be made available as
part of this guy which means this has
access to this particular config method
so now I can say this one dot conflict
so you can use settings or configure
whatever and now here you can provide
your particular HTTP URL so the moment I
come in here now I can provide right
here so what I am saying here is that
execute config method which is nothing
but this guy I am providing a value
something like this that is going to be
made available here assigned here so
once everything is done and you can see
all of this happens and all of this
happens way before during the config
stage so it will not be executed
whenever you are trying to instantiate
it it will be executed at the very
beginning of angularjs itself so that is
the reason the configuration will be
taken place always at the very beginning
and later on dollar get gets executed
and lot dollar get exit gets executed if
and only if you are using it as part of
a controller or referring it in the form
of a service and whenever this gets
executed anyway you are using base URL
by that time it has been already
configured and assigned with the URL and
the same URL will be reused as part of
your application so i refresh this let
me clear all these things and again I
click on this and now you can see I have
this guy so just for our better
understanding let us consider I am
modifying to some other port number
which is not really available so I'm
just saying 4 4 6 7 1 it is not
available so it should throw an error so
let me click refresh this clear
everything and click on calculate ok and
now you can see it was trying to
actually go through 4 4 6 7 1 and you
can see it through an error saying that
you know connection refused and this is
the error whatever the message we put as
part of our particular function so if
you click on here you can see this is
our function sorry not this one let me
go back so error occurred is our
particular message so if you go back
here you can see error occurred this is
the same message whatever we placed here
ok so this is pretty much about the
provider so in that way the t01 we
provided factory based methodology in
order to work with custom service t0 to
service based methodology t0 3 provider
based methodology
however the provider will have the
flexibility of configuring your
particular service as necessary
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>