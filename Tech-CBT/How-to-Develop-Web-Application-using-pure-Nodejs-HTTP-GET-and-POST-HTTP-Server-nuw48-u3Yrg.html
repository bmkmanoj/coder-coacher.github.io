<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Develop Web Application using pure Node.js (HTTP GET and POST, HTTP Server) | Coder Coacher - Coaching Coders</title><meta content="How to Develop Web Application using pure Node.js (HTTP GET and POST, HTTP Server) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Tech-CBT/">Tech CBT</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Develop Web Application using pure Node.js (HTTP GET and POST, HTTP Server)</b></h2><h5 class="post__date">2015-08-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nuw48-u3Yrg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we are going to cover on
HTTP and web-based development using
node.js as part of this video we are
going to see on how to create our own
HTTP server and finally create and work
with the web pages using both gate and
post operations so let us quickly start
with a new sample so I am going to
create a file new project here and
ensure that I am going through the
JavaScript node.js and then I select
blank node.js console application so I
would like to name this one as something
like sample HTTP application and just
click OK so when we are dealing with
HTTP based web development or HTTP based
application development using node.js
the first thing is that we need to work
with HTTP module so you can declare a
variable called HTTP which essentially
is going to have this particular module
called HTTP to be referred so which
means HTTP is the module we are
importing and that particular module
related instance is going to be made
available as part of this variable and
we are going to use this one so this
hatch TTP module is already part of
node.js default installation so we don't
really need to have any new modules to
be actually installed or any new
packages need to be configured or
downloaded for our development so HTTP
is already part of default installation
of node.js and we can just use it
straight away so in order to have our
particular HTTP application to be
listening at a particular port number
usually it is port number 80 if you
would like to have further a public web
in this case I would like to use a
different port number and I would like
to store that port number in a variable
called port and the default port number
in this case
I would like to use is 9000 so now that
we have the HTTP instance and the port
number for which we would like to have
the HTTP service to be running we need
to create the server instance so for
that purpose I can use HTTP dot create
server so this is the method which
accepts a callback method and I mean a
callback function which gets executed
for each and every particular request so
we call that one as a request listener
so in this case I would like to have a
particular callback function something
similar to this we are going to enhance
that a bit but just consider this is the
function which is going to be executed
for each and every request we receive
from the client so client from the
client in the sense yes this is HTTP we
are going to use browser as the client
and for each and every request or any
kind of request we are going to have
from the browser to this particular
application will always have this
function to be executed so on top of
that we need to have this particular
server instance whatever it has created
to be listening at a particular port
number so you can create available like
HTTP so over here and then yeah we can
also say something like HTTP server dot
ilysm at a particular port number so in
this case our port number is available
here and I'm using the same variable
port right here so we can also have all
of this to be put inside one simple
statement something like this so this is
as simple as that so we are saying that
we developed a node.js HTTP server
application which essentially Lizards at
this port number called 9000 and for
each and every request which essentially
comes through the HTTP this particular
function gets executed so we are going
to and has this function in such a way
that for any kind of request we receive
we are going to have this particular
function to be executed and at the same
time we will be responding back through
the same function on how it has to be
shown to the user once the request has
been completed processing from our
particular application so let us then
has this so right now this particular
function can accept two arguments so
which means the entire request object
our request related information will be
made available as part of our EQ so you
can put whatever the variable you want
here and similarly whatever you would
like to respond back to the client in
this case it could be browser needs to
be sent through this particular variable
so these two objects are these two
instances or these two variables are
automatically created by node JS
framework and will be automatically made
available to your function so these two
variables are going to be created for
each and every request this particular
application is going to receive and as I
mentioned as this function is going to
be executed for each and every request
for every request we are going to have
these two to be automatically fulfilled
by node J else and we are going to just
work with only these two objects so in
this case the first thing is that we
need to let the browser know that the
request has been successfully being
processed and being responded so for
that purpose we have the header to be
written first and the first thing is
that I am going to say please write the
header with HTTP code as 200 that is the
status code so status code this is the
HTTP status code so if it is 404 it is
like not found if it is 200 it is
success so it is success and now what
kind of information I would like to
respond back so in this case I would
like to say I am going to send a
response of type text HTML
why because as part of the response I
would like to send hich tml and as part
of the HTML I would like to say hello
world so I am actually sending an HTML
document that is very important I am
going to send some kind of HTML document
back to the client for every kind of
request whatever I am going to receive
so for that purpose I am going to say
response to the right and now I provide
all the HTML I would like to send here
and once the response Detroit has
completed so you can add as many rights
as possible and all of that information
will be finally sent to the response to
the to the client which is let'em of the
browser and finally we end the response
by saying response end so we did not
send any kind of HTML here now I can
start something like this so I would
like to have HTML document to be sent
and now I can say HTML this is the
closing tag and similarly I would like
to have body and then let me close the
body tag as well accordingly and inside
the body now I would like to say hello
and I would like to have a hello world
the world I would like to put it as part
of strong sub bold and italic so for
that purpose I would like to start with
strong and it Halleck so like to say
Dalek as one and inside the italic I
would like to say hello world here so
which means only world will be actually
made as bold and italic however hallo
will be normal so let us ensure that I
have HTML correctly defined with all the
necessary opening and closing tags so it
looks fine so let me save this and now
let us execute this okay so looks like
it started listening so let us go to a
particular website could be Firefox or
Chrome or whatever and as you know we
are supposed to go to port number 9000
so let me type in something like
HTTP localhost 9000 and press enter and
now you can see I got hello and the
world is actually bold and italic so if
you right click here and go to inspect
element you are going to see whatever we
have actually received from the server
so we have HTML body hello so hello is
not really bold or italic but world is
actually made bold and italic so that is
how we actually developed a simple web
server now that we have completed our
creation of HTTP server we need to
enhance our particular application in
such a way that it is dynamic enough so
which means it will be accepting some
input from the user and the user will be
submitting that information to the
server through the browser so which
means I will have a couple of text boxes
here the user can type in whatever the
values he wants in and click Submit and
those values need to be picked up by our
server and it has to do some process and
respond back with some information so
that is what I am going to develop but
meanwhile you should also understand
like for example if I say something like
ABC and press Enter you can see it did
not give any error on top of it it again
returned the same hello world so for
that purpose again if I say something
like X xx and a and BBB and CCC and
press ENTER you can see we are not
receiving any errors for any of the what
is a path you provide here and for that
purpose even I can say something like a
equal to 10 and B equal to 20 as part of
the Karoo stick and press Enter
so you can see we are not having any
kind of problems with respect to
whatever the URL you are providing here
as because all of these URLs will be
simply requests to our server as I
mentioned our particular server
is simply listening to any request for
any path using any query string so this
function is going to be executed
regardless of any kind of request you
pass in a that in the form of URL or in
the form forget or post or whatever so
finally you are still just receiving the
same kind of output as because you
mentioned for any kind of request you
receive you just respond back in this
way so that is how it is responding back
so that is pretty much important to
understand first anyway
so on top are so let me close this one
first okay
so now that we have some understanding
about the server the request and the
response we need to dig into the details
of how I can have that request to be
evaluated and how I can make use of
responsive in an effective manner
so let us quickly go through the
documents of create server okay so now I
would like to say no just creates our
documentation whatever so let us see
what we have here so I am going through
the first link okay so there we go so we
have the create server this is the one
we are using and you can see it is
currently having the request listener
function so this is exactly what I am
creating so let us go to this
documentation and as part of this we
have written a new instance of hgp
server which is nothing but what it is
returning and the request listener is a
function so you can see this is the
function what we are actually writing
inside this guy so this is the function
so that is nothing but the request
listener so that particular request
listeners let us see what all we have as
part of this one so HTTP server responds
and HTTP request so we have the response
so let us see what we saw there with
okay hold on
so we should be able to see something
related to http here we have incoming of
PA there we go so this is the incoming
message so the request is nothing but
the incoming message
so whatever the instance you are
actually getting here even though I call
it as a request you can see from the
tooltip you can see it is nothing but
incoming message object similarly if I
go in here you can see it is the object
of server response so each of these are
instances of incoming message and server
responses respectively so in order to
make use of this particular request
object we need to understand what is
incoming message so if you switch back
here you can see this is the instance we
are getting we are having an instance of
this particular guy and the name of the
instance or the reference variable of
that instance is req so in that you can
see we can easily get all of those
particular necessary information
whatever the client has served which
includes HTTP version all the headers
and all that stuff including the method
and the URL and so on so if you say
method which means you are essentially
saying it is like HTTP method get or
post so you can easily define what is
this method so if you go in here you can
see this essentially is nothing but a
string and it is there it only obviously
and it is going to give us whether it is
get or post or delete or port or
whatever so in that way we can make use
of method and you can also make use of
other necessary properties here based on
the situation but for now all I'm really
wanting I mean all I really want to have
to work with is request dot get so which
means I would like to work with get
request first so let me use a switch
statement here which actually goes
through request method so whatever I
have in place
and requests dot method as I mentioned
it is going to return string so that
string will be either get post a delete
or put so in this case we would like to
work with only to either get or post so
for that purpose I would like to go with
get so I'm going to write a bit more
later on what to work with the get and
similarly I am going to have it post and
if it is not get or post I would like to
go with the default and do whatever I
would like to do so I'm just I just
wanted to get rid of this guy for now ok
so now that we know request dot method
so it could be either get or post so we
can do whatever we would like to have so
as part of the get you know I would like
to have various URLs to be defined like
for example the root URL has to actually
give me some information something like
you know do you want to do any kind of
calculation click here and it has to go
to some other page and so the root URL
in this case is nothing but the slash so
once I go to the home page that is
nothing but the road you borrow
so from the home page I would like to go
to some other page so we can achieve all
of that by actually checking the URL of
the request object itself so we are
going to check on what I have as part of
the request object so let us see one by
one or how it is actually doing this
stuff ok as part of the documentation we
can already see what is incoming message
and what kind of properties we have so
if you switch back to our documentation
you are seeing here I have the incoming
message which is going to have something
called a URL so let us examine what
exactly is URL so I am going to say
something like console dot log and I
would like to see request dot URL so
this is what I would like to write it so
let us not write it in cat I can write
it anywhere
let me write it here and once it
completes
I just wanted to ensure that that
response is ended so I do not want my
particular browser to be simply waiting
for more and more information and that
can be achieved if and only if you end
the response so this is essential if you
do not end the response the browser will
be simply waiting for more and more
information to be received from server
so this is important so let me execute
this and I have my server listening so
let me go to the browser and I would
like to say something like 9000 and
press Enter and now you can see actually
there are two requests one is the root
request the other one is favicon dot ICO
so it is actually requesting for an icon
to be made available here and for now we
do not have it so we don't really care
so now let us consider I would like to
say yay and now you can see it is
actually going through slash a and it is
also requesting for favicon dot ICO and
BBB now again you can see it is
requesting for BBB and something so let
me take another browser and I would like
to use the same thing in another browser
and now you can see this one has done
BBB and if I modify this to CCC and
again you can see I have CCC so certain
browsers will be doing certain kinds of
requests now you can see Firefox is not
requesting for favicon dot ICO for every
request so it does it did only for the
first request but for a subsequent
request it did not do for favorite icon
so but from the chrome let us consider I
am typing something like this it does
for every request and we need to be
handling this one bit carefully on
whether we really need to respond with
favicon probably we can but not in this
video anyway so if you are not sure
about
I can icon it is pretty simple so if I
go to for example Microsoft comm and
this is the icon so this is the icon it
was requesting so that is the name that
is the default name called favicon dot
ICO so if your website would like to
have any kind of this kind of icon to be
always made available for the respective
website it will be trying to check if
something exists like this and if you
have a file as such in your web server
it is going to be retrieved and will be
directly placed in here but in our case
we are not really worried about cyber
can dot I see why anyway so let me clear
my stuff here but the important thing is
that we have the URL so that particular
URL will give us whether we are whether
the browser is requesting the home page
or some other page or to some other
query string or whatever so our server
needs to be responding back to the user
based on the path the user has typed in
as part of the URL so let me go back
here so as such we know about the
request dot URL
I just wanted to ensure that all of the
requests whatever we did till now are
nothing but the get request so if we are
not familiar with the get and post refer
to my previous video called HTTP
fundamentals so in this case we are
going to work with the get right to the
post so as part of the get request I
would like to check for the URL like if
the request dot a URL is equal to
something like this so that means I am
actually targeting for the home page so
whenever I say slash it is nothing but
the home page so as part of the home
page I would like to return some kind of
information to the user saying that you
know if you would like to calculate
something go to some other page so
instead of writing everything here I can
also make it available in another
function and then use the same functions
Merrill's so for example I would like to
say something like response dot right
header the first thing I will have to
ensure that the request is successful
and the browser has to wait for the
content of type text HTML so that is the
first response we are going to write to
the browser and next I am going to say
something like HTML and of course I
close the HTML here and similarly I am
going to have body and I am going to
have the body end tag and on top of that
I would like to have some titles if
necessary and let me close the title too
so as part of the title I would like to
say something like home page you can
also say sample home or whatever solid
the title needs to be available in the
HTML but not in the body so let me bring
the body right here ok so inside the
body I would like to say ok head I think
title needs to be made available as part
of the header tag so I need to have the
header tag a soul so let me ensure that
everything is brought inside header so
HTML header title and then we go with
body so as part of the body I wanted to
say I want to do some calculation click
here so this here I would like to have
that one to be determined in the form of
an anchor tag so for that purpose I
would like to say a H RAF's
equal to calc so let me do this in
single quotations so let me do it that
in simple way so calc and then I am
going to close
my particular anchor tag and at the same
time I would like to say yay this way so
all I'm saying is that if you would like
to do any kind of calculation just click
here so here means this one actually is
a hyperlink and that hyperlink will take
you to this particular page from the
current domain so in this case we do not
have a page we need to mimic that there
exists something like slash calculate as
part of URL path so this is our home
similarly we need to write another if
condition called slash calculate so what
it should do once we do that so let us
stop in here and let us execute this and
see what's going on and as I mentioned I
need to have response dot end so which I
already have now so let me bring it here
and let us execute this okay it is
listening so I would like to say
localhost 9000 plus enter and now you
can see I received want to do some
calculation as a message and click here
so let us see the status bar of my
Chrome browser so if you see at this
very bottom the moment I am there you
can see it is actually showing localhost
9000 slash calculate so that is pretty
important so whatever you see at the
bottom here so which means the moment I
click on that it actually goes to slash
calculate so right now we do not have
anything to be written or anything to be
responded as part of slash calculator we
need to write something as part of it so
let us close all of this stuff and do
something better okay so in order to do
some kind of you know
HTML and all the post and something
writing this kind of HTML is going to be
pretty difficult as because everything
in the same line maybe you can use
string it so that you know it will be
going into next line or whatever for now
I would like to use a string builder
which is similar to any kind of string
builder class you might be using in Java
or C sharp so let us go through the
string builder class sorry module so for
that purpose I will be just right
clicking here and go to install new
packages so in here I am going to say
string builder that's the first thing I
would like to search for and I have
something like string builder or in some
versions I just wanted to use that make
sure that I guess dot jason it is going
to add it and click install
okay so we have string builder already
in place and in order to work with all
the URLs and go through the quarry
string and so on there is one more
module called query string so let me
search for that and let us install that
one too so we need to have this one or
we don't really need to use this but
node.js already has query string built
in just like the HTTP we don't really
need to use this so let me close this
and let me just go with something like
query string equal to require query
string so you can see it is already
there so no J's by default already
provides a module quarry string in order
to evaluate the Korus string so I just
wanted to use that on top of that I
would also like to use string builder
class which requires my recently
installed module called string builder
so that is the one I have
so those are the modules I am going to
be using as part of my development to
make my life easier but as I mentioned
in order to making in order to make all
of this you know a within the same
create server it is going to be quite
complicated so let me separate this into
a separate function so I would like to
say get home page and it will be
accepting both as objects so which means
I am going to send requests and response
to get home and it has to write all this
stuff so all I am going to do is just
move this across here so now I have get
home so all I will be talking to is get
home and I send whatever that is the
question response objects I have in here
so these two are the ones I am sending
to get home and these two whatever I am
going to send here so these I am
carrying over here and will be sent
across here and I'm using the same
response here to write all the headers
and something so in that way I can
simply save whenever I go to slash which
is nothing but just the route so
whenever I go to route just get the home
page to be displayed so if it is not
route so that is where else--if comes in
and I would like to say the URL equals
something like calc so this is our next
journal so if it is calculator do
something else so you can instead of if
condition you can also use a switch here
but I just wanted to make some things
simple so I just wanted to go with if it
is calc what to do so I would like to
have a function called a get calculate
form or say HTML or get calculate
document a get calculate HTML or get
calculate a webpage whatever you would
like to call it as so I would like to
call this one as form as because the
user needs to fill in something so I
call this one as form usually it is
called as get web page or get calculate
web page or something like that
so in this case again I would like to
send both of those particular objects
and I also would like to take care
another scenario that is if the user is
not going to root and he is not going to
this either then it has to throw an
error so that is very much important why
because the user cannot simply say like
AAA or BBB it will not make sense so we
need to ensure that if the get request
is something other than these two then
it has to simply throw an error message
but that purpose I would like to have
one more function called get a 404 error
and it has to write what it is supposed
to write and that is pretty much it and
we also have a default like if it is not
yet and if it is not paused and user is
trying to put or delayed then we have to
show some other error message and for
that purpose I would like to say
something like instead of 404 I would
like to send 405 which is something like
invalid method status code so now we
need to develop these three functions
and get 404 405 are quite
straightforward but get home is going to
be bit different so let us start with
setting get calculate form is going to
be different so let us start with get
404 and get 405 to be completed first
and let us ensure that both those both
are working fine with no problems so
those two will be pretty much similar to
whatever I have in the get home so I
would like to say get home so I would
like to say get a 404 for the first one
and the next one is get 405 so this is
the another one and the response code
for this one is going to be 404 and I
can just say something like resource not
found
so that is the one and on top of it
I can just say title I can say 404 and I
can also say something like I remove all
this stuff and just simply something
like 404 this source not found and I can
also specify go to my home page so I can
say go to and I can take whatever I have
in here and I can say go to home so
whenever they say go to home I just
remove this and make sure that it is
really being gone to the home page
itself so this is the first thing and
similarly 405 so this will be hit if and
only if you are sending a request rather
than get or post so for that purpose I
can say 405 method not supported or
something similar to that I can say
method not supported and this is going
to be pretty similar to what we have
here and as part of this one instead of
404 I am going to save for a file and at
the same time here I am going to say
method not supported and go to home page
in the same fashion
so let us test if these things are
working fine so just execute this and
let me open my Google here Chrome so I'm
going to say localhost 9000 so I have my
calculation I mean the my home page so
let me also bring the developer tools so
now I say something like IAEA which is
not supposed to be working so I'll just
press enter here and now you can see it
has returned 404 status so
nothing bad not found and you can see it
has actually returned the document
however as it is 404 it knows that it is
an error and it is going to show this
the moment I click on this one you can
see it is automatically going to the
home page so in that way we can write
our own status codes and we can respond
based on how we are actually going with
respect to the URLs okay so now that we
have get 404 and gate 405 already
written the next thing is that we need
to have the gate calculate form so this
is pretty big form actually so even
though it is simple but the writing HTML
is going to be tedious there are quite
quite a few number of ways to make it
better but in order to make it simple
and to make understandable I am going to
write a very simple way on developing a
simple form so all I am going to do as
part of this one is just have two text
boxes to be shown to the user and a
button to submit so that is the only
thing I am going to have and the S there
will be two text boxes I would like to
have those two to be preceded with some
messages like enter first number and the
second number and make all of them in a
simple table so we are going to have the
table d TR TD and all of that stuff so
let me start with the gate calculate
form so that is the function and I am
going to say a request response so this
is where I am going to start so as part
of that as I mentioned I already have
string built or so I am going to use
that string builder here so I am going
to say
variable string s be equal to new string
builder instance and I would like to say
the options are something like so you
can see like I have options here of
course let me open this and you can see
it is actually asking for options so as
part of options I am going to say new
lines should be determined
as a Santa like / or / on Garrett's line
line feed carriage return line feed so
that is the one so any kind of line has
to be ending with something like this
kind of character that's what I'm saying
so now that we have instance of
stringbuilder
let us start writing the HTML all the
way so I would like to say first of all
I pinned line and I start with HTML and
similarly I would like to close HTML
right here
similarly I would like to have body to
be opened similarly I would like to have
body to be closed so now that we have
HTML and body we need to have the entire
form to be written so let me collapse
everything else so that we'll have some
breathing space here okay so as far as
this one as I mentioned I would like to
have a form which will have two text
boxes so I need to have a form tag to be
written so I am going to say a pinned
line form tag and at the same time I am
going to close the form tag as well so
to make this much more readable I would
like to have some kind of gap here so
just similar to form I am going to open
a table here so that I can place all my
elements inside the table itself so I
would like to take this one to the next
level so that will have a better
understanding of all the tags and on top
of table of course for each and every
particular table I can have multiple
rows to be defined so in this case I am
going to have the table row so which
will be row going something like this
and in fact I would like to have a two
rows to be determined or for that matter
four rows so let me open four rows here
first row second row third row and
fourth row so I have four rows so in the
first row I would like to have the TD to
be open so which means the first column
so let me close this column and as part
of this TD I would like to say entire
first limbo so I think it will be easier
if I close this TD right here so let me
remove this so I open the TD here and I
open the I mean I close it the TD right
there and similarly I would like to have
another TD but instead of this I am
going to have a textbox to be made
available here so for that purpose I am
going to say input type equal to I can
say a text box and at the same time ID
equal to txt first number and name which
will also be text first number and value
so by default I do not want to have any
kind of value so if you want to have
zero you can place zero here but I do
not want to have any kind of value to be
determined and I just wanted to close
that right here okay so in that way I
would also like to have a couple more
right inside this so which means this is
the second row inside the second row I
would like to have something like enter
second number the ID is going to be
second T txt second number and tht
second number right there so we have
both of the text boxes and everything
and now I am going to have a submit
button to be made available here so we
don't need to Dedes here so all we
really need is one TD and inside this I
would like to have a submit button so
I'm going to say input instead off this
box I would like to call this one a
submit button so input type equal to
submit and I would like to say
calculate so let me close this one so I
have the submit button and now I need to
have a result so which means whatever
the value the user types inside this
textbox to be summed up to the second
one and give the result in a different a
label or a span so for that purpose I
would like to have another degree inside
another row and instead of input here I
am going to have something like span and
I can say something like you know this
is going to be the result area or
whatever so just for our understanding
on why I am going to have this pan or
for that matter let let me put something
like some equal to just for our
understanding so I have the body a form
and that is important whenever I am
using your form I would like to have if
the submit is clicked I would like to
have the method to be made as post this
is pretty so if the user click Submit I
am saying that it had it needs to be
proceeding that a question the form of
the post so this is pretty important and
I have the table with for tea table rows
and the first row is having a label and
a text box another label and the text
box and I have a button in the third row
and something like this in the span so
let me execute this and see how the
things are going on and again this get
calculate form will be executed if and
only if I have requests for slash
calculate otherwise it this is not going
to be executed so let me start this and
let me go back here and I just press the
quest I mean I just refresh the page and
you can see I click done click here ok I
think we forgot few things
okay let me close all of this stuff we
just built the stringbuilder this is
just the stringbuilder but we did not
actually send this string to our
response so I completely left the
response so we need to send this whole
string to the response that is pretty
important so for that purpose string
builder has got something like build
which is going to accept a particular
function as a callback so as part of
this I am going to say error or result
either end result actually so which
means if any error exists as part of
this string building it is going to
throw this error in this way but other
than that everything will be made
available as part of result once the
string builder has completed all its
stuff
so during append lines if it come across
any kind of problems it is going to
throw error and we can retrieve that
error so I'm not going to go into those
details but as you know I can use this
particular object response to write
something back to the what is a client
so whenever we are going to write that
one the first thing is that we need to
ensure that the request is successful so
this that is pretty important so I start
with this and I need to end with
response that end so in between these
two I am going to write a response to
that light whatever we have the
evaluation in the form of a result so
string builder once it has completed all
of its processing the entire string will
be made available to the result and the
same result I am using to send to the
response and finally I end it so let me
start again let me open Chrome and now I
am going to say localhost 9000 press
Enter I got this I will click here and
now you can see I got enter first number
which is a text box and second number
calculate button and sum equal to so
this actually looks a bit annoying we
don't need
to be shown until and unless I post it
so we need to make a note about it so we
know don't need another row to be sent
to the client so if you go in here to
the inspect element you can see this
whole thing is built by us HTML body
form table all of this stuff is really
built by us so I have the submit button
second number input everything was done
and we don't need this stuff we don't
need this for at least for the first
time whenever we request something so
this needs to be made available if and
only if I provide some value like 50 or
60 or something like that and then click
on 70 and then click client plate that
is when we are supposed to do something
so for now let us see what is going on
so I go to network make sure nothing is
available here click on submit and see
what's going on okay you can see it is
actually rotating forever why because
this whenever I click on this one you
can see where is this okay so the
response it is not made available yet
but you can see we actually sent the
information in the form of txt first
number which is called 56 the second
number is 17 so we sent both of these
however we did not handle that here in
the post so this is the one which gets
executed so we did not handle that and
at the same time we did not put a
response dot end so as we did not put
response data and you can see this is
listening forever why because it is
thinking still the server is going to
respond and require respond or respond
and it is not some let us start this
whole thing and let me close this
browser as well okay so now that we have
some understanding about this whole
stuff of get we need to look into post
in order to work with post here the
first thing is that we need to check the
URL so we need to ensure that this post
has to work only for that URL and it
shouldn't really work for any other you
are also for example I should not force
to some
onto the homepage I should be able to
post only to the calculate path so we
need to check and ensure that it is the
same way as we are expecting it so the
first thing is that we will say request
dot URL whenever it is equal to slash
calculate then do our stuff if it is not
then we should throw an error saying
that it is invalid so for that purpose
we already have get 404 I am going to
use the same thing here so which means
if you are trying to post to some other
URL other than calculate then it is
going to provide error so those are the
pretty simple things we need to take
care but now it is the time to actually
get the data whatever the user has
posted so the user will be posting in
the form of variables like payers we
have the names and values like txt first
number with what value txt second number
with what value so we have already seen
earlier like what kind of data the
client or the browser is posting and we
need to get all that information here
into the post so for that purpose we
have the request object to be used and
at the same time that particular request
object which is nothing but req has got
two events data and end so so this is
what incoming message object right let
me quickly go through the documentation
no Jazz incoming message Docs so let me
go there incoming message so we have
incoming message there and okay it did
not put those events we have we are
supposed to have data okay hold on
okay so okay so we have the quest dot
data and we're going okay looks like we
do not have that in but anyway so let me
close this guy so we have two events
which are which is made available as
part of incoming message one is data
the other one is end so for example I
can say request dot on so let me go
again on so on data so this is one event
and this is going to be the event
handler so this is the first thing so
which means whenever the user sends any
kind of data this is the function which
gets executed so the sending of data is
possible only through post so all the
data will be made available as part of
data itself so this is a just available
you can put D also whatever it makes
sense but you can see there is a
particular event called data which gets
fired whenever we receive the data and
there is one more event called end so
which means the data what the server is
receiving has completed so this is in
progress which means the server is still
receiving the data still receiving and
receiving and receiving but once it has
completed its receiving this is going to
be fired
so that is end so this is pretty
important we will not be getting all the
data at once at all the times for
example imagine the user is sending five
MB of data or huge string so in order to
get that kind of thing you know
the server actually receives in the form
of chunks so we need to add all those
chunks to the necessary string or
whatever the way we want it and we can
determine that the entire
data which has been sent to the server
has completed received I mean the server
completed receiving and we can
understand that only through this
particular event so we use this data to
get chunks of information and when so it
is done we are done actually by
executing this particular function so
this is the function which gets executed
at the last once the data has been
completely received by the server okay
so now let us have a variable here like
request body whatever you would like to
call it as so I start with empty string
here and I am saying that whenever I
receive a chunk of data into the data
just add it to request body so for
subsequent requests sorry for subsequent
chunks imaginate the server received in
the form of hundred chunks so this
function gets executed hundred times so
this function gets executed for each
chunk of information the server is
receiving so in this case I am going to
say something like request body plus
equal to data so which means whatever
the data I am receiving just add it to
the request body next chunk will be
added to the same request body and next
chunk and next chunk in that way any
kind of information and the N any amount
of information whatever you are going to
receive will be added automatically to
request body and we should also do some
kind of cleanup here imagine someone can
actually blow to your website by simply
trying to upload 100 MB or 1 gig or 10
gig or 100 gig of data which for which
the server will be receiving all of
those chunks forever for which we may
not need it so we need to ensure that
the server can receive something like 10
MB or 1 MB or 100 MB kind of a deal so
that can be easily achieved by actually
calculating the length
so length is the property which gives
the number of characters of size of that
particular string so I can just say when
it crosses beyond the one power seven
which is nothing but 10 MB in this case
so whenever it crosses 10 MB which means
I am going to say the maximum I allow
for this one is going to be 10 MB so if
it crosses 10 MB of data I can show some
other response to the user saying that
you know a response dot right head I can
say something like 4 1 3 is the status
code for any kind of what I say too much
of data so for that purpose I can
provide that the reason phrase as
something like a request entity too
large and I can also specify whatever
the content I would like to send it back
content type next HTML
so on top of that I would like to send
some kind of response back so I can make
use of my this one whatever I have in
here so get both of that stuff here and
instead of this I can say something like
four one three and I can say four one
three and at the same time I can say too
much of information server cannot handle
this something like this of course I am
NOT going to demonstrate on how it is
going to execute this but this is the
concept so it is always advisable to
ensure that whatever the data you are
receiving is falling within your limits
otherwise it is going to simply blow to
the server and it is going to be simply
shutting down for each of the process
automatically based on the amount of
information it is going to be sending so
this is our responsibility okay so now
that we have the request body which is
always getting added and added through
all the chunks so if I have ten chunks
of information all the 10 chunks will be
made available as part of request body
here and once that particular chunks of
data has been completely done and they
added to the request body which is
nothing but now that request body
contains all the data whatever the user
has sent so once it has completed let us
see what I receive from the server point
of view so let me just simply put it as
part of request body right here and see
what's going on first so I just execute
this and now let me say something like
9000 I go to calculate and still we need
to make sure that this is not valuable I
am going to cover that bit later so I am
going to save 5,600 667 click on
calculate and he has you know we are not
responding back I did not respond using
anything so but the server received this
information you can see text first
number as 56 and text second number as
67 so this information has been received
by the server now we need to parse this
string which is very similar to a curry
string so we need to parse this using
curry string and get whatever the values
we really want for and send the result
back in the form of some so that is what
we are going to do now so in order to
parse this one we are going to use the
query string object whatever we have in
place right there so for that purpose we
are going to say form data equal to
query string dot parse and what is that
we need to parse what is it made
available as part of request body so
that is exactly what I would like to
parse so form data now contains all the
information necessary for us to really
go with calculating of sum under spawned
back to the user I mean in the form of a
document in the form of some so all the
information whatever the user has sent
through the browser is made available as
part of form data and we are going to
use that in a bit but let us modify our
particular get calculate form in a
better fashion so I would like to say
something like this I would like to
rename this one as get calculate HTML
instead of form
so and now I'm going to have another
function order which is that word get
calculate form so this is the one I'm
going to use and that particular get
calculate form will help request a
response and also the data so I'm going
to have all of these to be made
available as part of get calculate form
so I am going to use the same thing but
I would like to call this one get
calculate HTML and at the same time I
would like to send data to that and I'm
going to say get calculate HTML I'm
going to share as Fonz and form data to
the same method and also would like to
send this whole thing right here so that
everything will be made available at 1
it one level so just modernizing more
but you can also make sure that
everything is written properly right
inside get calculate HTML itself but for
my better understanding I would like to
have this particular get calculate form
to be getting executed directly from our
gate but this indeed will call calculate
HTML so which is nothing but all this
HTML need to be returned back to the
browser but on top of that I am going to
send the data to to the calculator HTML
so right now the data is going to be
made available as part of data itself
and I am NOT using data yet so I am
going to use that right now so in order
to do that let us see what are all the
requirements we have in this place so
let me execute this so ok so let us
ensure that in the post and the form
data ok so as part of the form data I
would still execute the same thing so
that I can reuse whatever I have in here
so let me use the same thing whatever I
have in here but instead I have the form
data right here
so the only difference is that during
the post I am calculating the form which
means I am getting the form with the
regular question response based on the
data but during the get I am still using
the get calculate form but without data
I am not sending data here why because
this is a fresh request no data has been
sent so I do not send any data but this
is the post request I have the data in
place and I am going to send that data
to get calculate form to have something
to be calculated so both of the requests
are going to the same method however I
am not sending data here but I am
sending data here so if you come across
here you can see if you send data that
is going to be made available here and
will be venture will be sent to
calculate HTML if you do not send data
this will be undefined and this will
also be undefined and that will not be
made available as part of a get HTML so
let us save this and click start and of
course we we still yet to do the sum we
did not do the sum so let us see how the
post is working fine so let me go to
localhost 9000 we can directly go to
dark calc
I mean slash calc so let me open this
network so I can say 50 and it can say
60 click calculate okay you did not do
anything but I lost everything so let us
examine what I received and what I sent
as part of the request in the network so
if I click on here you can see first of
all the request URL is this and you can
see I am actually requesting using post
why because we have a submit button
which will be working with the form
action post and if you can come and you
can see transfer encoding is chunked so
which means all the information will be
passed to the server in the form of
chunk chunks so if you come down you can
see I'm actually sending this
information to the server
everything looks fine but if you see the
response back
you can see that I am actually having
form and enters first number and I have
empty value here and the second number
empty value here so the response after
the post is actually the same as the get
as because you can see during the
response of post I am still executing
get calculate form so get calculate form
indeed works with get calculate HTML and
get calculate HTML indeed sense this
HTML back to the browser so we are
having the same kind of HTML back to the
browser
whether you are using gate or post and
that is the reason we are having empty
values there so we need to fix this so
let us fix this one by one so but the
first thing is that we need to have the
value to be empty if and only if it is a
get request if it is a port post request
we need to have the value to be filled
in as part of response which means I do
not simply want to have all the values
to be lost off on post so the user will
be providing the values and once the
user presses post he is posting some
information back to the server and when
the server is responding back it still
needs to persist or maintain the values
inside the text boxes for which the user
has already sent but here we are sending
an empty text box every time so we need
to fix this guy first so for that
purpose I am going to say if I have data
and at the same time if the data
contains txt first number so this data
whatever we are receiving is nothing but
the form data so we are sending the form
data across so that has been passed
already
so parse means all the key value page
will automatically be converted to the
object there so all the keys will be
made available as part of form data and
essentially those keys are nothing but
the properties I am using here so as
part of this particular data I can just
say if data that DX D first member which
means the txt first number exists so if
it exists then I will be having a
different app and line so which means I
need to place that value back to the
same place so for that purpose the value
I am going to say something like data
dot txt first member so let me give some
space here if I don't have data then I
am going to give empty so you can also
use request dot method here you can just
check for request dot method equal to
post if it is forced then you can do it
here but I am depending on data you can
also depend on request dot method so you
can use either of those two methods so
in this case I'm going bit more careful
like if the data is present and that too
if the data has this key as a property
and then I can get the value from that
particular property by just doing this
whatever the value I receive from here
is going to be placed right in here so
this is like string dot format in
dartnet so let us see if this is working
first so let me execute this okay so I
let me have a fresh strike first so you
can see this is a get request so if you
say go to headers this is the get
request so let me clear everything I
don't have any requests now and I am
going to say 67 and 78 and click
calculate ok now you can see I am
actually maintaining the data as part of
the first text box and of course I need
to still work with the second text box
so let us examine what we have in here
so we have the post request and as part
of the post request we are sending 67
and 78 if you take a liquid that is
found
you can see the enter first number
inside the response I have value as 67
and if you come down to the second you
can say I do not have the value in here
so why because you modified this value
to be retained if the user has posted
some information and that logic is what
exactly is happening here so you are
saying that if the data is present
please make sure that the data is
automatically made available to the user
upon post if not it will be empty so the
same kind of logic needs to be made
available even for text second number so
I am going to use whatever I have in
here for the second number two so except
that I will be using txt second number
txt second number txt second number
everywhere so other than that it should
be in place so let us ensure this is
working so let me go again let me do a
flash request so I would like to say 78
89 click calculate and now you can see
it is still maintaining the data here so
if you get back here you can see I have
enter first number I have the value as
78 and I have the second number as 89 of
course we did not do the sum yet we need
to do the sum and then return it back so
that it will be complete form and
calculation happening from server side
and that is going to be pretty
straightforward as you know as long as
you have data we can do some kind of
processing if you don't have data
nothing to be processed so for that
purpose I go in till after the submit so
this is where the submit gets completed
so let me deal this so if the data is
available and data.txt first number is
available and the data that ext second
number is also available then only do
this so now I am saying that this
or this entire row to be displayed if
and only if I am having some data so
during the first get request which means
for the first time we request it in a
fresh manner the data is not going to be
valuable and thus we will never see this
row at all so now I don't even need a
span all I really need is just to
calculate the sum of these two values
and place right in here so for that
purpose I am going to say variable sum
equal to plus Oh parse int and I can say
data the txt first number plus parts int
data to txt second network okay so now
that we have this sum I need to have
this sum value to be made available here
so for that purpose I am going to say
the first argument whatever I send as
part of append line needs to be placed
right in here so this is as simple as
that and of course let me put some
description here some equal to something
like that
so this description will be concatenated
with a value from the first argument in
here the first argument is some itself
this value will be automatically placed
right in here so we are almost there so
let me save this and execute this and
let us test our calculate so let us
execute this so let me clear all my
network requests here I send 45 and then
send 56 and click on calculate and now
you can see I got some so if I actually
get the fresh one sorry and let me click
plus enter here you can see if this is
the first request ever you will never
see some but the Sun will be made
available if and only if it if it has
got data so which means if we post it
then only we are going to get the Sun so
if we click on calculate here you can
see in the headers it is a post and we
are
57 and 78 and as part of the response of
the same request we are still having
everything so we have the text first
number a seven sorry this is second
inverter we have the first number of
sixty seven second number of seventy
eight and if we come down you are going
to see the sum as one forty five so if I
request for the first time and if I go
in here in the response you are going to
see I have the submit but I do not have
any other row apart from submit so in
that way we can have very pure node.js
based web application development to be
done however you can see it is very much
tedious to write these kind of HTML and
there are further efficient ways in
order to use node platform for
developing web applications especially
using x plus j s and so on so those are
the very good frameworks where we can
have the entire web based applications
to be developed and in future we are
going to use X plus GS frameworks
exclusively to do all these posts and
gets and so on but this is just to give
you an idea on how node it really works
behind the scenes whether or not you use
X plus J s behind the scenes it is going
to use the same HTTP connection and all
kinds of URL based parsing which is
called will be calling it as routing
eventually but all the URLs being passed
all the gates and pause all the URLs and
at the same time all the data whatever
the user is going to send and how we can
calculate the things and return back the
results themselves so this is pure
node.js based HTTP GET and post related
session and in future we are going to
see Express TS</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>