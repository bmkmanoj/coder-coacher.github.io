<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ðŸ’¥ The Angular Ngrx Store as an RxJs Observable of Application State | Coder Coacher - Coaching Coders</title><meta content="ðŸ’¥ The Angular Ngrx Store as an RxJs Observable of Application State - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Angular-University/">Angular University</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ðŸ’¥ The Angular Ngrx Store as an RxJs Observable of Application State</b></h2><h5 class="post__date">2017-02-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/49cv6xkOX-8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now that we have defined what the
application state will look like this is
the perfect moment to introduce the
store to our application so the store is
a centralized service that contains the
application State and that can be
injected anywhere on the application so
that any part of the application can be
notified that the new state is available
let's configure that service here in the
import section of our application so we
have installed an grx store let's at
this moment import store module and take
a look at import we simply import store
module from njx
store using store module we are going to
call the provide store method and inside
we are going to pass in a configuration
object so if we jump into the type
definitions we're going to see that here
we are going to pass in a reducer we are
going to see exactly what the reducer is
in a moment and we are going to pass it
in some initial state so let's have a
look at this for the moment we are going
to pass it in an empty configuration
object we will get back to this
definition in a moment right now we have
the store available for injection
anywhere in our system so let's take a
look let's go here for example - Fred
section so to this smart component right
here that contains the list of Fred's
and knows what the currently selected
Fred is let's inject the store in this
component so if we head over to Fred
section component you can see here that
in the constructor we can inject the
store service so it's a angular service
an injectable angular service just like
any other
so let's import it without enter we have
imported store from ng rx store now take
a look store requires a generic
parameter
so if we over-over the error that we are
receiving here we see that the store
needs one generic parameter and this
parameter is the type definition of the
store application State so we have
already defined a custom type for that
it's the application State custom type
so this means that the store will be
notifying any intercept part of the
application of new versions of the
application State let's have a look at
the store API to see what we can do with
it so we can dispatch an action and
we're going to see how we dispatch
actions in a moment we are going to
create our first action there is also
another important method select but
right now take a look at this we have
here a subscribe method so it looks like
the store is really an observable of
application State let's have a look to
see if the other typical methods of an
rxjs observable are available as you can
see everything is here so this is the
most important notion about an ng rx
store it's an observable of application
state to show that this is so let's
simply subscribe to this observable just
the same way as we would subscribe to
the load user Fred's back-end method
that returns us an observable of all
user data let's simply subscribe to the
store and what we're going to do here is
we are simply going to log to the
console the value of each application
state if we would run the application at
this stage it wouldn't work for multiple
reasons one of them being there is
nothing that we have stored yet in our
store we are simply reading the data
here from the backend but we have not
passed it on to the store so let's do
that
let's simply load the user data so all
the user data lets you load it from the
backend doing this REST API call that we
see here and we are
going to load the participants the
friends and messages in order to be able
to store the data in the store we are
going to dispatch our first action it's
coming right up in the following lesson</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>