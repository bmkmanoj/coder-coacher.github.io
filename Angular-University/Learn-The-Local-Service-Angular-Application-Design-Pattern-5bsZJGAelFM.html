<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ðŸ’¥ Learn The Local Service Angular Application Design Pattern | Coder Coacher - Coaching Coders</title><meta content="ðŸ’¥ Learn The Local Service Angular Application Design Pattern - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Angular-University/">Angular University</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ðŸ’¥ Learn The Local Service Angular Application Design Pattern</b></h2><h5 class="post__date">2017-03-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5bsZJGAelFM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone and welcome back so in
the previous lesson we have seen how to
implement here some pagination service
for the lessons of a given course what
we are going to do now is we are going
to open the all lessons component and
instead of displaying only the lessons
of course with ib1 we are going to also
display a second table here on the same
screen that displays the lessons of
course - so angular HTTP and services
and we can see that the first lesson has
a description what is an observable and
the second lesson should say observables
error handling and completion so let's
try to do that go here and we simply add
here a new instance of the course
component and we pass it on a new ID
let's try this out to see what would
happen so if we load this we can see
that something strange is going on here
because the title of the courses is
correct so we have here angular 2 real
for beginners and we have here angular
HTTP and services but the values of the
pager are the same they correspond to
the lessons of course - and not the
lessons of course 1 so what happened
here let's think about this for a second
we are creating here two components of
type core so we have here in the two
instances of the course component but
now let's try to click Next you can see
that clicking next and previous here
let's use this table this affects both
tables so what could be going on here if
we go to the course component you can
see here that we are injecting here the
lessons pager service but if you
remember initially we have added it here
at the level of the application module
so this means that this is a global
singleton service like the user service
that is going to be shared by the whole
application so this means that these two
instances of the course component art
sharing the same pager service so that
is why when we click on
next in one instance that is also going
to affect the other instance so in this
particular case of a service like a
pager we would want to avoid this
situation on the other hand on the case
of the user service that was exactly the
behavior that we were looking for we
wanted the data to be shared globally
but that is not the case of the pager so
for implementing the pager what we need
to do is to use it as a local service so
we no longer declare it here as a global
singleton service but instead we are
going to go at the level of the course
component and we are going to add it
here as a local service so we are going
to use here the providers property and
we are going to say that here we want
the lessons pager service so what
happens here is that the angular
dependency injection system is a article
so depending on the different nodes of
the tree we can specify injectables such
as for example the lesson spatial
service that is only is visible at a
certain portion of the componentry so in
this case this means that the lessons
pager service will be created together
with the course component so if we have
two course component instances we are
also going to have two instances of the
lessons pager service in order to prove
that let's go here to the constructor
and we are going to do here a console
that log we are simply going to say that
an instance of lessons pager service was
created so this way we will be able to
confirm on the console if indeed two
instances of the service will be created
also if you remember we were tracking
here on destroy we were tracking here
when the component was being destroyed
so if the component is destroyed also
the service would be destroyed so any
data that it would be holding if it was
a stateful service like the case of the
lessons pager service that data would
also be garbage collected if it wasn't
being referenced by other parts of the
application so let's try this out now
the application has
loaded and we can see here that this is
already working as expected now so here
at the level of the angular tutorial for
beginners we have here the lessons that
correspond to that course and here at
the level of the angular HTTP and
services we can see here that we have
the lesson what is an observable
observables error handling so this is
what it was expected and if we open the
console and we check here we have here
two instances of the lesson spatial
service are being created so indeed
there are two pagers one is paginating
the list of angular tutorial for
beginners lessons and the other is
paginating the angular HTTP and services
lessons and the to work independently so
now I am paging through the list of
lessons of the second course but that is
not affecting the pagination of the
lessons of the first course now another
thing that we want to see is what about
component creation and destruction let's
navigate around the application see how
this is working so if you remember the
all lessons component was having here
two instances of the course component
that we are printing out to the screen
whenever we are destroying them so so
far these instances were not yet
destroyed these two instances will be
destroyed if we navigate away from the
all lessons component let's go to the
home component so as you can see the two
instances of course component were
destroyed now if we navigate back to the
all lessons component we are going to
see that we have again two instances of
the lessons pager service so as we can
see the angular dependency injection
system is a article we don't have to
define only global singleton services we
have the local service pattern that is
implemented using the providers property
of each component so we can define
services that are only visible by a
certain section of the page and if those
services happen to contain state that is
used by that section
the page that state will be destroyed
when the component is itself destroyed
so the lifecycle of the service is tied
to the lifecycle of the component this
is very useful for implementing for
example stateful services such as the
lessons pager service that is linked to
a very specific section of the page we
can have state their start for user
experience purposes and we don't have to
worry about cleaning up that state when
the component will be destroyed the
state will also be destroyed our biggest
concern is to avoid keeping references
to that state so that it doesn't stay in
memory and ends up not being
garbage-collected
so with this we have covered the local
service angular application design
pattern next up in our catalog of
reactive patterns is the master detail
with cached master table navigation this
is coming right up in the next lesson</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>