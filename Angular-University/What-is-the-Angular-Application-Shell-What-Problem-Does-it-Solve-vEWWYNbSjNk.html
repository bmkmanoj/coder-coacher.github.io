<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ðŸ’¥ What is the Angular Application Shell? What Problem Does it Solve? | Coder Coacher - Coaching Coders</title><meta content="ðŸ’¥ What is the Angular Application Shell? What Problem Does it Solve? - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Angular-University/">Angular University</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ðŸ’¥ What is the Angular Application Shell? What Problem Does it Solve?</b></h2><h5 class="post__date">2018-02-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vEWWYNbSjNk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone and welcome back in this
new section of the course we are going
to be adding to our progressive web
application another progressive feature
the application shell let's understand
the application shell by understanding
the problem that this feature is solving
for that let's switch to a larger window
where we will have here more space to
see the dev tools let's talk about a
performance problem that many single
page applications have and that is
especially noticeable on mobile as we
can see when we were lower the
application it still takes quite a while
for the user to be able to see something
on the screen this is when the first
paint occurs let's measure when does
this occur in this particular
application using the performance tab
before we launch the profiling session
let's first clear the serviceworker this
way we will simulate the situation where
the user has not yet installed the
application on its device and everything
is being fetched from the network so
we're going to an register the service
worker this way nothing will be served
from the cache with the service worker
stopped let's switch back to the
performance tab and start profiling the
application we are going to hit the stop
button as soon as we see something on
the screen after a moment we are going
to have a profiling report similar to
this one and we can see here how the
browser spent the time during which the
profile was occurring we can see here
whenever the JavaScript engine was
blocking the whole page and we can see
here for example in purple this is when
the browser was rendering the page so if
we search here for occurrences of purple
we are going to see that this was the
first moment when the browser had
something to show meaningful to the user
right here at around one second if we
scroll before one second we are going to
see that what we had here was
essentially a blank page this initial
blank page is normal and expected
because let's remember this is a single
page application
so the first request that we received
from the network was our index dot HTML
which is essentially a blank page if we
inspect here the response we are going
to see that there is no meaningful HTML
in this initial HTTP response in order
to see that I'm going to take the HTML
and I'm going to paste it here to our
project let's create quickly here a TMP
dot HTML file and we are going to paste
in here the content and we are going to
format everything let's have a look this
is what our browser is receiving in the
first request as we can see it's a
completely blank HTML page the only
thing that is there to render is this
loading message now going back to our
profiling results how can we improve
this time to first render well the only
way to improve this is to serve more
HTML in the initial request we might
want to add here the complete menu and
we might want to add some information to
the user so that the user understands
that the page is already and it's
working we might want to add here a
loading indicator this is just to give
some visual feedback to the user so that
the user knows that the page is not
blocked like it often happens so many
times on mobile ok so this describes the
problem that we are trying to solve
let's now talk about a solution for this
we now understand why the user sees a
blank page for such a long period of
time it's because there is nothing to
render and we are waiting for angular to
bootstrap itself fetch some data from
the network and display here this list
or at least to start rendering here the
skeleton of the page including the
header and that bootstrap process still
takes a while so the only way to improve
this user experience and decrease the
time to first meaningful render is to
serve more initial HTML content to the
user in the index dot HTML so we no
longer can reserve only here an empty
page with this loading message we need
to adhere the HTML
the CSS for the top menu a loading
indicator to show something to user as
soon as the index dot HTML file arrives
at the browser preferably or just a
little bit after when we have loaded
some extra CSS these initial HTML and
CSS that gets served to the user just to
quickly display something meaningful to
the screen that is known as the app
shell and we are going to see how to add
an app shell to our angular application</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>