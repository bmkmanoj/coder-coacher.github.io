<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ðŸ’¥ Angular HTTP Tutorial- Using the HTTP service to do an HTTP POST | Coder Coacher - Coaching Coders</title><meta content="ðŸ’¥ Angular HTTP Tutorial- Using the HTTP service to do an HTTP POST - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Angular-University/">Angular University</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ðŸ’¥ Angular HTTP Tutorial- Using the HTTP service to do an HTTP POST</b></h2><h5 class="post__date">2016-06-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YR2abVE5ZyQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello how's it going Vasco here from the
angular University this lesson we're
going to learn how to use the angular 2
HTTP service in order to do a post
modification call to our back-end server
the bonus we are also going to learn how
to use the private key word in that
typescript constructor in order to
automatically declare a member variable
for our class so coming right up what we
want to implement is whenever the user
types the name of a lesson in the Atlas
and input box and pushes Enter
we are going to send an HTTP POST call
to our server to save the new lesson
into the list what we want to do is to
detect the key app event and in response
to that event we want to call the lesson
service create lesson method which is a
new method that we are about to create
now not that we should detect
specifically the key app not enter event
so only if the user presses enter is a
request sent to the server now let's
have a look at what the create lesson
method looks like we only have the
description at the beginning of the
method so the first thing that we need
to do is to create a lesson object to
send to the backend as JSON so for that
let's use the shorthand notation curly
brackets description this is equivalent
to this to an object with a key of
description and the value which has the
exact same name so this can be
short-handed two curly braces
description so this is one of the
features of typescript and also of the
latest standard of JavaScript in general
since we are introducing some typescript
features take a look at the use of the
private keyword in the member variable
of the constructor this is equivalent to
the following to declaring an HTTP
member variable assigning it the value
of the constructor variable so this HTTP
equals HTTP and also marking the member
variable
as private so all of these can be
achieved with this shorthand notation
for declaring member variables of a
class in the constructor so the first
thing that we are going to do here is
that we are going to immediately add the
new lesson to the lessons list this is
an optimistic strategy where we assume
that the operation on the back end is
going to be successful so we immediately
add the entry to our list so that the
user can get immediate feedback and does
not perceive a waiting time in the
background we are going to save it to
our database in our back-end and we are
going to show something else to the user
only in the case that something went
wrong we would show him an error message
so with this let's make our network call
we use HTTP POST which takes three
arguments the first argument is the URL
that you want to hit on the back end
slash lessons in our case the second
argument is a string containing the data
that you want to send over the network
in this case we are going to take our
lesson object and we are going to
transform it into a string using json
stringify the third argument is the HTTP
headers that you want to be part of your
request in our case we are just going to
populate the content type HTTP header
specifying that the content of the
message that we are sending to the
server is JSON
this allows the server to n serialize
the payload that it received properly
with the angular 2 HTTP service if we
don't subscribe to it nothing happens
so let's subscribe to the output of the
post call we are going to pass it a
success handler it's this parenthesis
and how operator empty method body this
first line this simply says that we
don't need to do anything special if the
request is successful remember we
already added the lesson to our lessons
list in memory on the client side what
we're going to do next is passing an
error handler in this case we are just
outputting
the error to the console moron error
handling in the next lesson let's now
try this out if you reload the page and
we type a new lesson in the input box
and we push enter we can see that the
lesson is immediately applied to the
list and on a background an HTTP request
was sent and the lesson was saved on the
server
if we reload the page we can see that
the lesson is still there take a look at
what happened on our test server we
received the new lesson in the body of
the post call and we can access it using
Rick rec Bobby
so request not body this gives us our
lesson that traveled through the wire
now
we're just going to push it into our
list of lessons in our test server we're
going to see how to make such a test
server for testing and development
purposes in a future lesson right now
let's first talk about what if things go
wrong in server processing let's talk a
little bit about error handling</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>