<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ðŸ’¥ How To Debug RxJs - A Simple Way For Debugging Rxjs Observables | Coder Coacher - Coaching Coders</title><meta content="ðŸ’¥ How To Debug RxJs - A Simple Way For Debugging Rxjs Observables - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Angular-University/">Angular University</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ðŸ’¥ How To Debug RxJs - A Simple Way For Debugging Rxjs Observables</b></h2><h5 class="post__date">2016-12-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZxVN4597RX8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone how's it going Vasco here
so in this lesson we're going to see how
can we create a small utility library to
help us with rxjs debugging what we want
to do is to create our own rxjs operator
called debug that it's internally based
on do so one way of doing it would be
for example in this case I'm going to do
it here directly inline the small
utility we're going to build it right
now
we're going to take the observable class
we are going to add an extra method so
all the operators are here available in
the observable class so if we take a
reference to the observable class
prototype we can now add here a new
property to the prototype which is a
function so we're going to define the
function and the name of the function is
debug the function is going to take as
argument a string which is our message
and take a look we are seeing here that
the property debug does not exist on
type observable of any now how can we
solve this let's take care of the type
definitions in a moment we are going to
have to extend the observable type
definitions in order to be able to do
this
now how we'll debug work debug will
simply call internally the do operator
so we are going to call this dot do and
at this point what we are going to do
here is we are going to pass into the do
operator free functions one for logging
the current value of the rxjs observable
a second function to log errors and a
third function to log completion so how
will this look like we can define the
functions in line here we are going to
call here to the first function it takes
one argument which is the next value and
the body of this function will simply
call console dot log it's going to log
the message and it's going to log the
next value so we can see
we fight this function because it's only
one line we can remove here the curly
braces so this is a simplified
implementation of this logging function
but we don't want this function to be
logged all the time so we would like the
logging to happen only if a certain
logging level is turned on I'm going to
do here a simplified implementation of
this logic we are going to say that
there is here a variable which is
debugger on and so whenever this flag is
set to true the logging is happening if
it's set to false we should not have any
logging so let's add back the curly
braces here and let's not here if
condition if the debugger is on then we
add some logging otherwise nothing will
be logged so we could populate this
debugger on based on some environment
variable like we are doing here that
would be a possibility now the next
function that we are going to implement
is the error handling function this is
going to be very similar to the success
handler that we have here so we are
going to copy/paste it
we are going to call this the error that
just occurred and we are going to say
that if an error occurred then we are
going to consult dot error both the
message and the error that we received
and last we are going to log observable
completion so this function takes no
parameters and in this case we are
simply going to log here observable
completed and we are going to add the
message that we added here as well so
that we can even Phi which observable
was completed now we still have a
problem here which is debug does not
exist on type observable so how can we
solve this well the type definitions of
observable do not include debug but we
can extend them so type definitions are
in general open for extension so what we
need to do is to first open the type
definitions for extension
in the following way we are going to
declare a module rxjs
/ observable so this does not overwrite
the declarations of the module rxjs
observable it these will be merged with
the declarations that already exist to
create a common set of Taipings so what
we are going to do here is we are going
to say that for the observable type so
the observable type has a generic type
of T and it's an interface we are going
to add here the debug function we are
going to say that the debug function
takes any number of arguments so an
undetermined number of arguments and we
are going to say that the debug function
returns an observable of the same type
so we are not going to change the
parametric type of the return of debug
if it takes an observable of friend it
will return an observable afraid so this
is just like to do operator so as you
can see these already solves here the
typing error that we had so now the
debug operator is known by the
observable type definitions and if we
jump here to the effect service we can
see here that these statements here are
compiling correctly and if we hit
command and click into them we are going
to be sent to the type definition that
we added here so let's give it a try
let's try out this utility function and
see what does it look like when we run
our program if we switch back to the
browser we can see that everything is
still being logged as before
as expected so we have here action
received and here we have the action
logged we have here data received via
HTTP request notice that this is all in
only one line so it's really convenient
to know - which logging statement does
the log data belong to so let's go back
to the program we have here the
possibility of adding debug statements
to our XJS operator chains so probably
in the future there will be utility
libraries to help to debug rxjs
should expect an ecosystem of libraries
to show up in the next few months but in
any case this small utility function
will already help a lot in your daily
rxjs debugging needs so I invite you to
try out these simplified logging utility
and let me know what you think of it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>