<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ðŸ’¥ Angular Router Configuration - Avoid A Pitfall Right From The Start, Setup Router Debugging | Coder Coacher - Coaching Coders</title><meta content="ðŸ’¥ Angular Router Configuration - Avoid A Pitfall Right From The Start, Setup Router Debugging - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Angular-University/">Angular University</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ðŸ’¥ Angular Router Configuration - Avoid A Pitfall Right From The Start, Setup Router Debugging</b></h2><h5 class="post__date">2016-07-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ANfplcxnl78" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone how's it going it's Vasco
from the angular University in this
lesson we are going to set up the
angular 2 router and we are going to
avoid a couple of huge pitfalls from the
beginning to give you an optimal angler
to router learning experience we're
going to set up routing debugging
information from the beginning as well
it's coming right up when setting up the
router the first thing that you want to
define is your base path you can do that
using the html5 based HTML tag and you
should point it to the entry point of
your application so in this case we are
pointing to this particular folder most
of the cases you will have a base of /
meaning it's the entry point of the
server when configuring the router what
we are doing is depending on how the URL
changes certain sections of the page
will display a certain content we call
those sections outlets we are going to
define here the primary outlet of the
angular to router this means that in
this section of the page the content of
this tag will be replaced by a certain
component depending on the state of the
URL which sections of the page
correspond to which URLs that's where
the router configuration comes in let's
set up our router configuration so it's
just an array of route objects and each
one must define a path so in this case
we want a certain component to display
when we navigate to home and we are
going to display the home component in
order to make the router work we need to
configure the angular to dependency
injection system with the routing
injectibles so for that we use provide
router and we pass it in the router
configuration that we just created if we
now try to access the root URL /
application we're going to get an error
but this is normal because we only
configure the path to home not a path to
the root folder so we would think that
if we add home to the URL and we
hit refresh to a low the application
that these would work but we get a
different error we get a 404 not found
from the server this is a very common
situation for someone just starting with
the router and it's the main pitfall
that we mentioned in the beginning of
this lesson how to fix this and what's
going on exactly here so what's going on
is that when we modify the URL and we
hit enter we are actually triggering a
full page reload from the server so we
are not modified the URL using the
history API when we modify the URL
manually and we hit enter this is going
to trigger a request to the server to
lower the file name home without an
extension this file does not exist so we
get back a 404 to avoid this problem
what we need to do is to configure our
server so that any and matched requests
will return the index dot HTML file that
contains our single page application so
slash home should return this as the
HTTP response the index dot HTML file
then angular will bootstrap itself the
router will kick in inspect the URL and
take us to the homepath let's apply this
logic to our concrete case of our kno
jes Express server so we simply need to
create an express middleware that
redirects us to the index dot HTML file
if the request was not matched by any of
the previous routes that we configured
we will see in a second a better way of
doing this but let's try this out so if
we type in here and unmatched path we
get redirected to index dot HTML and
this file contains our single page
application our application kicks in and
angular takes over from there but this
situation is not ideal because we
created a redirect there's a better way
which is to configure the server to do
instead of a redirect to return directly
the index dot HTML file so if we do that
in Express using response not send file
we are going to get back directly index
HTML which is our single
application angular 2 kicks in the
Rueter kicks in and notices I should be
displaying / home so it's going to look
up the router configuration to see which
component corresponds to /home and it's
going to display the home component I
really advise you to configure your
server this way from the beginning in
order to get a good development
experience with the router otherwise you
will just get 40 for all the time now
one last trick which is we can enable
debug information in the router we do
that via the enable tracing property if
you enjoyed this tutorial you can always
subscribe to my channel for more
upcoming angular 2 tutorials also have a
look at the website of the angular
university to see what type of angular 2
tutorials you find there that you might
like then with this you are all set up
to further explore the router we are
going to explore shall routes auxiliary
routes and we are going to explain why
does that contribute for a much better
user experience and allows to more
easily build much more modern and
dynamic applications so let's continue
our deep dive in the router next step
router navigation</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>