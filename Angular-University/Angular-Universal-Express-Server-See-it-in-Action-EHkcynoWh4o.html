<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular Universal Express Server -  See it in Action | Coder Coacher - Coaching Coders</title><meta content="Angular Universal Express Server -  See it in Action - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Angular-University/">Angular University</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular Universal Express Server -  See it in Action</b></h2><h5 class="post__date">2018-04-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EHkcynoWh4o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone and welcome back in this
lesson we are going to complete the
implementation of our angular Universal
Express server the first thing that
we're going to do is we are going to try
the version of the program that we have
right now to see if server-side
rendering is working we are going to be
running these Express server here in the
command line in order to do so we are
going to be using this command that is
already prepared here in our package dot
Jason
it's the command start Express server as
we can see it's using TS doll to run the
server dot ES file let's then do an NPM
run start Express server after a moment
we should have here a running server
let's now see if our server is working
as expected
let's switch over here to a larger
window and let's head over here to
localhost port 9000 if we load this URL
we are going to see that we have indeed
here a lot of HTML coming back from the
server we can see that the whole
component tree of the root route is
getting rendered
however as expected we see here that the
CSS bundle and all the JavaScript
bundles are not being loaded and this is
because our Express server is currently
not serving these bundles as we can see
all these network requests have here
some sort of an extension at the end dot
CSS or dot J's so let's use that in
order to configure our Express server in
order to serve these bundles these
bundles that the application is trying
to serve are available here in our
disposal let's then go back to our
server and configure it to serve these
bundles we are going to adhere to our
Express server some middleware we are
going to detect here the HTTP requests
that are attempting to lower these
bundles so as we have seen they all have
an extension such as dot CSS or dot J's
so this middleware here will intercept
that and in order to respond to this
type of calls we are going to be using
the express beauty
static middleware this static middleware
is for serving static files so we will
need to pass in here the dist folder so
let's build the path to the dist folder
it's going to be their name plus slash
dist we can also pass here an optional
configuration object let's do so and
specify here the caching headers for the
response let's specify that these files
have a max age of one year this will not
cause a problem because these files that
are served from the dist folder they all
have unique names if the contents of the
components change we will get here a
completely different hash or if we add
some styles we are going to have here a
completely different bundle name so
these files are meant to be cached in
the browser for a very long time let's
now head over to our command line we're
going to stop here our server and we are
going to restart it after a while we
have our server again running let's see
if now we are serving also the static
bundles in the dist folder let's switch
over here to a larger window and hit
refresh as we can see we now have here
the complete angular universal
application that was fully server-side
rendered we got here the initial HTML
let's confirm that by viewing the page
source of our application as we can see
we have here a lot of HTML we have here
the multiple cards available for example
we have here the card of the angular
universal course at the same time we
also serve all the bundles from the list
further so if we inspect here our
network tab and let's filter for example
on CSS and reload the application as we
can see our Styles bundle is being
correctly served by our Express server
at this point our server implementation
is almost completed we are only missing
a couple of improvements</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>