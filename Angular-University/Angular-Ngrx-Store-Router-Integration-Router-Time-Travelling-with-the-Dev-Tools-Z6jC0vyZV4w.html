<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ðŸ’¥ Angular Ngrx Store Router Integration - Router Time Travelling with the Dev Tools | Coder Coacher - Coaching Coders</title><meta content="ðŸ’¥ Angular Ngrx Store Router Integration - Router Time Travelling with the Dev Tools - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Angular-University/">Angular University</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ðŸ’¥ Angular Ngrx Store Router Integration - Router Time Travelling with the Dev Tools</b></h2><h5 class="post__date">2017-01-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Z6jC0vyZV4w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's then start integrating the router
with the mjx star for that let's head
over to the terminal and let's install
the router store library so now that the
library is installed let's configure it
in our application module file so one
thing to bear in mind is how does the
integration between the router and the
store works it's actually very simple
take a look this is the UI state and
let's have a look at the application
state we have here the interface that
defines the application state what the
integration between the router and the
indirect store will do is it will add
here another top-level entry at the
level of the application state called
route and under rotor the rotor property
we will have all the information
necessary to know in which state the
route is in so that we can go back and
forth between rotor States actually
let's take the time to add it here we
are going to say that this router is of
type rotor State and you want to take
the router State out of the Rueter -
store library not this one so this one
here so let's have a look at the import
we can see here that we are importing
this from hotel store let's have a look
so it basically contains the path of the
current route so this is more or less
what one would expect now what should we
define here is the initial route we can
do something like this we can define
here the Rueter property and using auto
completion we have here the path so we
can specify here the initial path let's
say that the initial path is home so
this means that when we load the
application we are going to go
automatically to the home route and this
hotel stayed here as one would expect
these needs reducer as well we need to
configure the reducer in the application
module let's have a look at the reducers
that we already have so we have here the
UI state - reducer and store data reduce
so we need here another reducer for the
Rooter property and for that we are
going to take the Rooter reducer that
comes bundled in the end grx router
store module here so we have here our
reducers configured now the only thing
that we need is some code that detects
hotel transitions because the router is
active something that detects Rooter
transitions and dispatches actions to
the store - startled Rooter stayed so in
order to do that we are going to add
here using the Rooter store module we
are going to call connect Rooter so this
will install a service that will do
exactly that that we just described
again Rooter store module comes from the
ng rx Rooter store module so with this
in place we have everything set up let's
just make sure that we have our server
running with NPM start and now let's
switch back to the browser so it's
important to make sure that you have the
latest version of the dev tools
installed you have here the initial
state of the application let's reload it
let's start here in localhost 4200 so as
you can see this is the initial state of
the store but here we have emitted here
a new action which we didn't trigger
ourselves so this is a Rooter action
Rooter update location and we can see
here that the body of the action
contains a payload which contains the
path the target path so we have just
navigated to the root path of our
application now let's start navigating
the application and see what happens
here if we click on about we have here
another update location if we click to
home we have the chat application
display let's select a user we have here
the chain of actions that we had before
already being displayed so now if we hit
back here on the ngx dev tools we are
going to start going back in time and
this includes we are going to see the
Rooter navigating so as we go back in
time
we also transition to the about
component or the home component let's go
back we are back to the home component
so this is how the integration with the
router works with this demo we can
understand why the integration with the
router is so important without being
able to integrate n direct store with
the router and treat Rooter transitions
as actions that are dispatched against
the store without that as we would
navigate backwards we would not
visualize for example the about
component or the home component and so
the ability to go back to the previous
state would really not be that much
useful if we cannot at the same time
navigate to the other components that
were being displayed by the way you
might have noticed that here the action
that gets triggered which 3-seconds was
not being shown this is because for
demonstration purposes I have here
commented it out in the server
notifications effect service so if you
want you can do the same so that you
have a simpler log here in the ng RX dev
tools and so this demonstrates the
integration with the router let's now
talk a little bit about immutability and
on push change detection and that will
lead us very close to the end of our
course on push change detection is
coming right up
in the next lesson</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>