<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coding Interview: Can You RANDOMLY Reorder Array in O(N)? | Coder Coacher - Coaching Coders</title><meta content="Coding Interview: Can You RANDOMLY Reorder Array in O(N)? - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CS-Dojo/">CS Dojo</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coding Interview: Can You RANDOMLY Reorder Array in O(N)?</b></h2><h5 class="post__date">2017-03-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CoI4S7z1E1Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you're given an array of items and they
could be of any type they could be
numbers strings or anything else for
that matter
and the problem here is writing a
function that takes disarray and
reorders it in a random way so in this
example one will go from here to here
zero will go here and nine will be here
and you're given two functions to solve
this problem the first one is called
Rand for random which gives us a random
value between zero and one the second
function is called floor and it gives us
the largest integer value that's less
than the given value so for example
floor of two point eight eight would
return two
now when you're trying to solve this
problem you might come up with a Big O
of n log n solution initially but try
coming up with a Big O of n solution and
try solving it in place as well which
means you don't have to create a new
array to solve this problem now to
practice pause the video right here and
try solving this problem within ten
minutes here's one potential solution to
this problem we're going to use the run
function to generate a random value for
each item that we have in your rate so
for example we're going to generate 0.92
randomly for the value one and zero
point one zero for the item zero after
that using those randomly generated
values as keys we're going to sort this
array let's say in an ascending order so
for example in this particular example
the value 0 will come to the top of the
array because the corresponding random
value is the smallest among all the
random values that we generated so after
that our array will look like this now
to sort this array with these random
Keys we could use any sorting algorithm
if we use the Big O of n log n sorting
algorithms such as quicksort this whole
solution would take Big O of n log n in
time and other thing to note here is
that we need some extra space to store
these randomly generated values to be
more specific we need Big O of N in
extra space so is there a better
solution than this yes there is and
here's my Big O of n solution the first
thing we're going to ask ourselves in
the solution is
what should the value be at the last
index where 2 is currently we're going
to determine that by picking a random
value out of this array out of all the
values of this array and we might pick
randomly for example the number 3 and in
that case we'll swap the number 3 with
the number 2 so that the number 3 will
go to the last index after that this
array will look like this and then we'll
sort of repeat the process with the
second last index we're going to ask
ourselves what should the value be at
the second last index and we'll
determine that by picking a random value
out of these four values now because the
number 3 is already fixed at the last
index and we might pick for example the
number 0 for the second last index and
in that case we'll swap 0 and 9 and the
array will look like this after that the
same thing will ask ourselves what
should the value be at the index 2 of
this array and we'll pick a random value
out of these 3 values and we might
happen to pick the same value that's
already in that index in that case we
don't have to do anything so the array
will look the same at the end of this
algorithm we'll ask ourselves the same
question what should the value be at the
next one and we might pick this value 1
we'll swap those two values and the
array will look like this and we're done
this solution will only take Big O of N
in time because we only go through this
array once and it'll only take big ol
one in extra space for swapping
batteries so I kept saying something
like just select a random value out of
these four values but how can we
actually do that with the two given
functions ran and for the key here is
that we want to be able to select an
index there are 1 2 or 3 randomly with
the same probability or 25% probability
each and if you recall the return value
of ran is always larger than or equal to
0 and it's less than 1 and let us say
for simplicity ran is uniformly
distributed over this section and if we
multiply ran by 4
four times run will range from zero
through four instead and let's just zoom
into this line and we'll see that we
have again a value that's zero through
four and we'll be able to divide this
line into four equivalent sections 0 3 1
1 2 2 2 3 3 &amp;amp; 3 through 4 and notice
that the value of 4 times R and the
probability that that value will fall
into each of these sections is
equivalent to each other so the
probability that 4 times ran will be
larger than or equal to 2 and less than
3 will be 25% just like the probability
that it falls under any other section
and so we can assign each of these
sections in to each of the indices that
we have right here
so if we get for example 2.5 as the
value of 4 times run we can assign that
to 2 and if we get 1.1 we can assign
that to 1 and we can do that with 4 of 4
times round and again this goes to 0 1 2
or 3 with the same probably or 25%
probability and that way we can choose a
random value out of 4 values if you want
to instead choose a random value out of
3 values we can replace this 4 right
here with 3 and we can just write floor
of 3 times ran and we'll be able to
choose a value from 0 1 or 2 instead
with that in mind let's see what my
solution might look like in code we're
going to write a function called reorder
which takes the given array our and
reorders it in place so we're not going
to return any value out of this function
the first thing we're going to do in
this function is we're going to
initialize a variable called n to the
length of the array and that's just for
convenience after that we're going to
run a for loop for I starting at the
index N minus 1 which is the last index
of the array down to 1 which is of
course the second index of the array
let's say as an example in the for loop
where
currently examining the second-last
index so I is equal to three currently
and then we'll need to ask ourselves
what should be the value that goes into
that index and we'll do that by picking
a random value out of these four values
and we might take for example this value
zero and let's call that in next pick
will be able to decide what the values
should be for pick with four of I plus
one times R and so if I is equal to
three we're saying pick should be four
of four times R and because we're
picking a value out of four values and
after that we'll swap the value at the
index pick with the current value that's
in the current index that we are
examining we'll do that with a temporary
variable called temp so we're going to
store the current value in the index I
this value into temp and then we're
going to move the value at the index
pick into the current index and then
we're going to put the temporary stored
value into thick so that's my solution
and this algorithm is also called
feature yet shuffle or Kraft shuffle
that's it for my video and thanks so
much for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>