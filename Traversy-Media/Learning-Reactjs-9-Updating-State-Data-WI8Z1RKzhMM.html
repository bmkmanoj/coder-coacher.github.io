<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learning React.js [9] - Updating State Data | Coder Coacher - Coaching Coders</title><meta content="Learning React.js [9] - Updating State Data - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Learning React.js [9] - Updating State Data</b></h2><h5 class="post__date">2016-02-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WI8Z1RKzhMM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys in the last video we made
it so that we could delete values from
our state data here are two dues now
what I want to do is be able to update
them alright so when I click one of
these I want the text to show up in here
and then we can update it submit it and
then it'll replace whatever that to do
is alright so this will probably be the
most difficult video so far because
there's quite a bit that we need to do
all right now whatever is in the input
is gonna represent the text state all
right you can see if we look in where we
created our default state values text is
just an empty string alright so what
we're gonna do first is we need to make
it so that when we click on the text
here it's going to call a function
alright so let's go to our list and the
text is right here okay to do dot text
now we don't want to put the click
Handler on the LI because we also have
the delete inside there as well and
that'll mess things up so what we'll do
is put a span around the text all right
say span on click is gonna equal let's
see edit I'll say edit to do this dot
edit to do all right and just end that
span and then put the ending span tag
here alright now we're going to go under
on delete here and let's say edit to do
actually you know what I don't want to
format these like this it should be like
that
alright now we want to pass in the to do
just like we did with delete so we have
to bind it up here we're gonna say edit
to do dot bind and then we want to pass
in this and to do alright and then from
here we're gonna do the same thing we're
gonna create a property function and
this will be props dot edit to do so now
we're going to have to create this
inside of our props up here where we're
calling the to-do list just like we did
with delete to do alright so let me just
make this a little better alright so
let's see it'll put this right here and
we're gonna have edit to do equals and
I'll say this dot did this thought
handle to do edit alright now this
function isn't gonna actually update it
I'm treating edit and update as
different things and it is basically
going to set the text that we want to
update all right and then we'll do the
update after so let's go ahead and
create handle to do edit okay we'll go
right under handle to do delete actually
let me just copy that okay this will be
handled to do edits it's going to be
passed in to do and all we want to do
here is set the state for text all right
so let's say this dot set state and
let's say text
actually there's one other thing I want
to do as well in a second to do text all
right so I also want to set I want to
create a new state value called is edit
all right so put it right here will say
is edit and by default it's gonna be 0
all right name and then what this is
gonna do is when we click that and we
run edit to do I want the ID of that
current to do to go into this value so
that's what we'll do right here as well
so we'll set is edit is going to be set
to to do dot ID all right because we're
passing it in here all right so let's
make sure we don't have any errors okay
now if I click it it's not showing up
here yet because what we need to do is
add that value so down in the to-do form
right here we want to set a value and
now we can't use this dot state I can't
use this thought state text because
we're in the to-do component I'm sorry
that to do form component all right so
we have to pass it down and then that's
gonna make it props all right and let's
see if we're actually passing it to the
form which we're not now we could just
keep doing this state and add what we
need but there's a simpler way to do
this if we go like this this dot state
that's gonna pass all of the state
values to this component all right we
can do the same thing here and we can
actually get rid of this alright so
we'll say dot dot dot this dot state all
right then we don't have to worry about
passing other state values down all
right we can focus on just the functions
we need to add so let's yeah let's try
that ok if I click that now you see that
meeting at work is up there if I click
that it's going to put whatever when we
click into the input field now if I go
and I try to type something it's not
letting me alright and that's a feature
of react called controlled components
which I really can't stand but what we
need to do in order for this to change
is we need to update the state the text
state as we type which is the on change
alright so down what we have this on
change we just have a console we're
actually going to change that alright so
I'm gonna say this props
dot change text alright and what we can
do is pass in ie here and then e dot
target dot value and that's gonna be
whatever we're typing in whatever the
current key we type in so we're passing
that along and we have to send this up
to the app component alright because
remember we can't use state here alright
so up here in the form component we're
gonna add change text and I'm gonna set
that to this dot handle change text
alright and then we'll create that
handle change text function and remember
we're passing in the target value which
is the text and we're gonna just change
the state so this dot set state and that
we just want to pass in text and text
all right so now if we try it again
click on that and now we can edit it
alright which is what we want now the
next thing we want to do is we want to
handle the update because right now if I
click meeting at work and I change to
something else it's just gonna add it to
the bottom it's not replacing it so the
way that we can handle that is within
the submit alright so if we go to on
submit right here and you can see we're
calling on to do add
so what we want to do here is we want to
check on the is edit state alright if
you remember it's it's starting out as 0
and then once we click the Edit where is
it right here handle to do edit once we
click one of these and it puts something
up here we're then setting is edit to
that ID so this is what we need to check
in the submission all right so if we go
down to on submit we're gonna do if now
remember we're passing all the states
down because we use that that little
help are there alright so now we can
access it with props so this dot props
dot is edit then actually let's put an
else because if it's not an edit then
this is what we want to do all right and
let's just do our test here we'll say
console.log and we'll just say is update
all right now if we go and reload I type
something in and just add it's gonna do
the same thing it's been doing if I
click on this and then change it and
submit now you can see down here we get
is update alright so what we want to do
is create our new to do so we'll save
our updated to do and we'll set the ID
to whatever's in the is edit state so
this dot props that is edit and then of
course the text the text we can get with
text
alright because that's just coming from
the form alright then what we want to do
is we're going to have another property
function so this dot props dot on to do
update
and we're going to pass in the updated
to do so now we can go up to our main
app component here and we want to add to
the form we're gonna say on what is it
on to do update set that to this dot
handle handle to do whoops
to do update okay and then we'll go down
and create that what I'm gonna do is
copy this because it's pretty similar to
the delete okay and we'll just change
that to update okay it's being passed
this to do now all this is gonna stay
the exact same the only thing we need to
change is we want to push the new to do
so to do is dot push to do alright so
let's go ahead and try that out
okay so let's give it a shot let's click
on bring kids to school and we'll change
this to I don't know bring kids to
church and now you can see that we have
bring kids to church and bring kids to
school is now gone alright if we click
meeting at work let's say meeting with
boss and we can change that alright so
now we have complete crud functionality
on our state data now you would most
likely want some kind of data solution
some kind of database to pass to so that
the the data actually sticks but that's
something that you could just plug it
alright you still want all this stuff if
you want to use react how it's supposed
to be used
all right so later on we'll get into
that we'll talk about the different
options we have but that's gonna be it
for this video and thanks for watching
and if you guys like these videos please
subscribe plz leave a like whatever you
can do is fine
alright so I will see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>