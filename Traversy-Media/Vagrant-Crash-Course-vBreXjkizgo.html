<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Vagrant Crash Course | Coder Coacher - Coaching Coders</title><meta content="Vagrant Crash Course - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Vagrant Crash Course</b></h2><h5 class="post__date">2018-05-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vBreXjkizgo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on guys welcome to another
crash course in this course we're going
to be diving into vagrant which is
basically a portable environment
container to develop and run your
applications and it could be any type of
application or stack you could have
Apache installed or nginx with PHP and
MySQL or nodejs environment Python
programs like get in vim and these
environments are basically tiny virtual
machines or VMs called vagrant boxes and
ultimately at the end of this tutorial
we'll have in a bun two lamp stack box
that you can simply package up and bring
to any computer that's using any
operating system it doesn't matter
what's on that computer because
everything runs within the vagrant box
all right many of you have probably also
heard of docker which is very similar
and I will be releasing a course on
docker as well so what I'm gonna do is
take you through what goes into a
vagrant file which is basically the core
of your vagrant box all the settings and
and stuff like that they can get very
complicated but we're gonna be dealing
with the basics and fundamentals and I
promise if you follow along and pay
attention you will understand at least
the core basics of vagrant and how to
get set up all right so the idea is to
run a command called vagrant up which
will whip up our lamp stack server in
pin basically under a minute or so now
you may have used programs like xampp or
zamp or WAMP any of the amps in the past
to for instance do PHP applications and
that's fine those are great local
environments I've used them many times
on the channel but they're heavy and
they're not portable ok what's great
about vagrant and technologies like
docker is you have these isolated
environments that you can easily share
with your team members with other people
with clients you can just give it to
someone they can run a simple command in
that environment is now on their machine
and ready to go there's other advantages
as well especially when it comes to
deployment but we're
really stick to development in this
video I may do another one on deploying
vagrant apps now if you find that
something like vagrant or docker isn't
for you maybe you're not at that level
yet there's no harm and sticking with
xampp or something like that my goal for
this video is just to introduce you to
vagrant and you can decide if it's
something that you want to continue to
explore alright so the first thing you
want to do when getting started is you
want to download two things you want to
download vagrant itself and you also
want to download VirtualBox so you can
get vagrant from vagrant opcom very
simple download just go ahead and click
download install it on Windows it's easy
Mac Linux and then you also want to
install VirtualBox which you can get at
virtualbox.org now the reason we need
VirtualBox is that vagrant needs a
provider ok so basically it needs a
virtual vm provider and VirtualBox is
the default it's it's I would say the
most popular but there are others you
can use as well so just get those two
things installed I'm not gonna do it
because it'll it's basically just me
clicking next you guys don't want to see
that but once you get it installed you
can open up your terminal and if you
type in vagrant - V you should see the
current version of vagrant so you know
that it's installed and when you install
VirtualBox you'll have you know it'll go
in your Applications folder or on your
desktop whatever it'll be on your
machine if you open that up you should
see something like this now when we use
vagrant very very rarely are you going
to do anything inside of the actual
VirtualBox application when you start up
or when you initialize a vagrant box and
you start it up you'll see it here in
VirtualBox
but you want to manage it from within
your shell from within your your command
line with vagrant and as opposed to
going in here and doing anything alright
so I will have this open so we can see
like the status of our Verte of our
vagrant box and stuff like that but for
the most part you're going to be working
with with vagrant with the terminal now
before we do anything I'm going to
create a directory to work in
I'm gonna say mkdir and I'm just gonna
call this VG demo and we're gonna CD
into VG demo and I'm gonna open up my
text editor here so I'm using Visual
Studio code so I'm just gonna say code
dot and that'll open it in that folder
okay let me just align this up here and
basically this folder is where our
vagrant file is going to go it's where
our project files will go stuff like
that
so let's go back to let's see you
actually know what I'm gonna do is I'm
going to just just create an empty file
here you guys don't have to do this I'm
just doing this so that I can kind of
explain a couple things so like I said
the vagrant file is like the core of
vagrant that's where all your settings
go that's where all your you know where
you specify your IP address your your
your main box your providers all that
stuff and there's basically five main
parts to it so what I want to do is just
explain those five main parts so the
first one we have is config dot VM dot
box and by the way the vagrant file is
written in Ruby but you don't have to
have any experience with the Ruby
language it's just it's just
configuration stuff so the config viet
vm box is basically your operating
system okay so we're going to be using
ubuntu trusty 64-bit which is I believe
14.04 ok there's there's actually boxes
that we can download and we can
initialize and we can we can create
basically like a boilerplate okay and
the boxes is is basically your operating
system then you have the config dot VM
dot provider which is in our case
VirtualBox okay and like I said there
are other ones hyper-v VMware desktop
Bible and all this there's a bunch of
other ones but I've only used it with
VirtualBox next we have config dot VM
dot network and this is basically how
your host computer
seize your box okay and cease your
application so this is where we
configure your IP address and ports and
all that stuff next we have the let's AV
MDOT shared folder and this is how you
access files from your computer because
a vagrant box is basically like a
separate server you can SSH into it you
could edit your files in you know
through the terminal through something
like vim if you wanted to but it's
that's kind of a pain in the ass you're
gonna want to be able to access your
files from your local machine and use
something like vs code or atom or
sublime text or whatever it is that you
use to edit your files so you need to
actually that should say shared not
shard but basically this will be able to
sync your folders and it actually
shouldn't say shared it should say sync
so it'll be synced folder sorry guys
yeah but you'll be able to sync a local
folder with your vagrant box folder okay
so that's that and then the last one is
gonna be our provision and this is
basically what we want set up so do we
want for instance a lamp stack like
we're gonna do do we want a mean stack
do we want to install nodejs what we
want to actually run as a provision when
our vagrant box is set up so these are
the five main parts of the file if you
understand these five things which I'm
gonna obviously go over in depth then
you understand the basics all right so
I'm going to close this up I just wanted
to kind of use it as an example I'm not
gonna save it or anything and now we're
gonna get started so let's go back to
the browser and we're gonna go to I
forget the exact URL so I'm just going
to search for vagrant boxes I think it's
the second yeah right here discover
vagrant boxes now this is really cool
because you can you can basically start
from any type any any kind of
environment you can find on this website
and this application
can use we're gonna use this a bun to
trusty 64 which is just a blank Ubuntu
server okay but you can see there's a
laravel homestead if you wanted to have
if you wanted to work on laravel there's
other versions of Ubuntu there's other
Linux distributions if you wanted to use
cent OS instead of a bun - debian
there's things like this scotch box
which is basically what we're building
is just a simple lamp stack but if you
wanted to let's say build a mean stack
application we could search for mean and
there's a whole bunch of mean boxes here
that you could just simply initialize
run vagrant up and you'll have that
you'll have that environment so it's
it's really really cool so what we're
gonna do is we're gonna use this a bun -
trusty 64 so I'm gonna open up my
terminal and let's clear this out and
all we have to do to start this off is
say vagrant and knit and then the name
of the box which in our case is bun -
slash trusty 64 because it's a 64 bit
and all that's gonna do is create a
vagrant file and it tells us that and if
we go back to vs code you'll see we now
have a vagrant file and by the way I'm
using a couple extensions this little
icon here you probably won't see that
unless you have the file what is it the
file icons extension I'm sorry BS code
icons I also have the vagrant extension
for like highlighting and stuff like
that but let's open this vagrant file
and it might look a little intimidating
but most of this is just comments it's
just telling you what each thing is and
those five parts that I just explained
to you you're gonna see in here so
here's the box which is a bun - trusty
64 like I said it's basically just your
operating system it's the the the
current box you're using down here
you'll see some of the network there's
there's a few of them and there's
there's basically different things you
can do so they have different examples
there's also the synced folder and then
there's the provider
which by default is VirtualBox and then
there's also the provision so what I'm
gonna do is just I'm gonna clean this up
a little bit so we're gonna get rid of
this and by the way this two right here
is just the configuration version and it
says please don't change unless you know
what you're doing so don't touch this
line right here okay just leave that
we'll get rid of the comments though
we'll get rid of these let's see we want
the VM Network so I'm gonna get rid of
all these comments and just keep the
config VM Networks so I want that
alright and we want this synced folder
but we don't need any of these comments
so we'll get rid of that the provider
starts here and ends here at end so we
want all that but we go ahead and get
rid of this and then we just want the
provision so we can delete all that and
that should be good and then what I'm
gonna do is I'm going to just add a
comment for each part here so this is
the Box setting this is the network
settings and let's see this is going to
be the folder settings we have the
provider
settings and then we have the provision
okay so this is these are the five parts
that I described to you but what I'm
gonna do is I like to move the provider
up so I'm just gonna cut this out and
put it under the box settings now I
believe that we don't even need this
right here because virtualbox is the
default but I'm still gonna uncomment
this because I want to show you guys a
couple things and I'm gonna get rid of
everything that's inside of here just
keep make sure you keep the end all
right so just having this we'll be able
to initialize the box actually I'm sorry
we already initialized it but we'll be
able to create it by using the vagrant
up command so I'm gonna go ahead and
save this file and then I'm gonna go
back to my terminal and clear this out
and I'm also gonna open up VirtualBox
just so you can see that it'll actually
show down here so let's go ahead and run
vagrant up okay make sure you're in the
right directory and what it does is it
just reads that vagrant file and it goes
off of that okay and we didn't we don't
have any provisions or anything so it's
gonna be just a blank Ubuntu server and
it's setting up SSH and all that stuff
now the first time you run vagrant up
after you initialize a box it's gonna
take a little longer because it has to
download some stuff first but after that
it won't take as long and you can
already see over here that it popped up
in VirtualBox
all right so that's now done and you can
see over in here in VirtualBox if I
click on this it'll give us some
information like the name the operating
system the memory and so on but let's
let's let's take a look at some other
vagrant commands now that we have our
box running so I'm going to go ahead and
just clear this and if we wanted to if
we wanted to destroy this whole box we
could run vagrant destroy but you only
want to run that if you're done with it
you want to you want it gone if you want
to just shut it down or suspend it you
can run vagrant suspend and if you watch
over here you can see it changes to
saving saved and now it's basically
suspended and if you want to resume it
you can run vagrant resume okay and that
will restore it now there's all we can
also restart or reload it with vagrant
reload but what I want to do first is
just show you that we can change some of
this the system specs here if we want if
we want to update the memory or we want
to add CPUs or something like that we
can do that so let's go over to our
vagrant file and let's see from here
what I'm going to do is go within the
provider setting and I'm gonna say V B
dot memory and I'm gonna set it to 2048
so two gigs and we'll set V B dot CPUs
to let's say four all right and I'll
save that and then what we want to do is
reload I'm also going to open up
VirtualBox and let's go ahead and run
vagrant reload and watch right here once
it reloads this it should change the
specs yeah there we go so now it's 2048
megabytes and four processors so if you
want to add a bit more performance to
your vagrant box you can do that very
very easily
alright so now that we've done that
let's let's SSH into our box okay so
it's clear this up and let's say vagrant
SSH okay so now notice that this now
says vagrant abun - trusty 64 that means
we're actually inside of our box and I'm
gonna clear this out this is just an
empty abun - server
there's no Apache or anything if I were
to try to list the items in var /ww
there's
thing there okay now we can install
whatever we want this way but normally
you're not going to do this you're going
to do this in your provisions instead of
logging in and doing it manually but I
just want to show you what you can do
what's possible and so on
so let's go ahead and let's install git
so we'll say sudo actually first thing
we should do is an update so we'll say
sudo apt so you can do apt-get or just
apt so let's say update so I'll just
update our sources real quick all right
and then we'll do sudo apt install - why
- why is just you guys know it's just
gonna make it so that we don't have to
answer yes or no and let's install git
so even if your host machine which is my
Mac doesn't have git now our box has it
so if I say git - - version you'll see
that git is now installed all right so
let's install apache so we'll do sudo
apt install apache - all right so this
will just this will install just a basic
Apache server there's no PHP or anything
like that it's just the server itself
but now if I were to go and do an LS var
ww-well actually now it's in the HTML
folder you'll see that there's an
index.html file all right so we have an
Apache server setup now as it is we
can't really access it like we can't go
to a browser and access it because in
our vagrant file the network settings
are all commented out so it doesn't know
where to look so what I'm gonna do is
I'm gonna uncomment this first one and
basically what this is saying the guest
is your box the host is your local
machine so in my case it's my my macbook
so 80 is actually the default port for
apache and what we want to do with
forward the port to our hosts
localhost:8080 port okay so that's what
this line is gonna do so if we save this
and let's go ahead and just reload
so we'll say actually let's exit out of
SSH so we'll just do exit and then
vagrant reload and you can see if we
look at for VirtualBox it powers down
and then restarts very quickly all right
now if I go to my browser just make sure
that this is done it should be done in a
second there we go all right so now
let's go to a browser and let's go to
HTTP localhost 8080 and there we go we
have our apache start page so this is
basically that index.html that i showed
you now if we wanted to change this we
could SSH back into our server actually
you know what let me let's first look
let's first look at some other Network
stuff so back in the vagrant file if you
wanted to use if you don't want to use
localhost like that if you want to use a
private network IP we could do that and
that's probably a better idea so I'll
comment that out uncomment this line and
then this will be our IP address okay
and it's a local IP address this will
not work outside of your network so if
we save that and then reload
and I'm just gonna copy this IP address
and then once that's done we should be
able to access that page with this IP
address
okay so let's go back to the browser
let's pop in this IP address and go to
it and there we go now you might want to
take this a step further and add a
hostname for this instead of having to
go to this IP address you might want a
nice local domain to develop on so if
you want to do that you have to edit
your hosts file so let's go back to the
terminal and let's clear the cell make
sure you're on your local machine not on
your on your vagrant box and if you're
on a Mac or Linux then you can just edit
the etsy slash host file so I'm gonna
use Visual Studio code so I'll say code
slash etc' slash hosts and it's gonna
open it up now if you're on Windows your
host file it's gonna be in your C Drive
windows slash system 32 slash drivers
slash et Cie and you're gonna have to
open notepad or something like that as
administrator and then open it from
there okay so once you do that we'll
just add in our IP address which is this
right here so I'll grab that put that in
and let's use VG demo dot local we can
add multiple aliases here we'll do W wvg
demo ocol alright and then just save
this file and it's going to ask me to
retry as admin and to put in my password
alright so that should be saved now we
should be able to go back and go to http
VG demo dot local and there we go so now
we have a nice local domain name for our
application or what is assumed to be our
application or I guess I could say our
environment alright so now that we did
that let's go back into our terminal and
let's let's do vagrant SSH and from here
what we could do is we could use
something like vim
I'm just gonna use nano and we could
edit VAR w w HTML slash index dot HTML
and then this is this is actually the
file that we're looking at in the
browser so what I could do is I'm just
gonna delete the title I'm horrible with
these tech these terminal-based editors
so I'm just going to change the title to
hello world and let's go ahead and
command X and y to save and now if I go
back and we reload if you look at the
tab it says hello world now you're not
going to want to have to do that when
you want to edit your files so that's
where the synced folder comes in so if
we go back to our vagrant file here we
want to go down to the config dot VM
synced folder and let's uncomment that
and this first ones first parameter here
is going to be your your guest I'm sorry
your host which is your actual machine
what folder do you want to link or sync
and that's going to be the one we're
currently in so I'm going to just put a
dot meaning the current folder and then
for our box the file that we want to
link or the folder is going to be / VAR
w w HTML like that okay so if we save
that and we reload let's let's exit out
of ssh and let's vagrant reload
now what's gonna happen is whatever we
have in our look in our local file here
which is just the vagrant file and then
this dot vagrant don't worry about that
that's a hidden file with stuff that you
don't need to worry about but this is
gonna now be basically our server root
okay so we're not gonna have an
index.html file anymore if everything
works out right so once this is done
we'll check it out all right so let's go
back and reload and what we should see
is just a listing of files and we should
see the vagrant file okay so now we can
create an index.html and we'll just put
whatever I'll use Emmet here I'll say
hello world and we'll just add in an h1
and let's save this and then we'll go
back to Chrome and let's reload and
there we go so now we have our
index.html file on our Pachi server and
it's accessible right in that right in
this directory right in this project all
right so that's synched folders now
there's a couple other things I want to
mention if you want to make this a
little more secure you should probably
add permissions here so we could put in
a second parameter we'll put a comma and
then we can say mount underscore options
and we'll set that to a set of brackets
and we want to set the directory mode or
D mode to 777 and let's set F mode to
six six sexy you can change it to
whatever permissions you want but I
think that that's that's good now you
could do that and then there's also
something called NFS or network file
system that can increase performance of
your vagrant box but I believe that it's
only available for Mac and Linux I don't
believe it works on Windows I think
just ignores it but if you want to set
that up what you could do is right here
say : n FS and then just wrap this in
curly braces like that and that will set
up the network file system so I'm going
to save this and let's go back to the
terminal and let's reload now when it
reloads we should see that it's using
NFS it should mention it here somewhere
so let's see if that works and then once
we're done with this we can start to
look into provisions
and I think it might ask for a password
too
yeah so right here exporting NFS shared
folders okay so it's basically like a
faster way to access your synced folders
but we have to add a password or enter
our password and this is your system
password by the way all right so that's
all set up now we can start to talk
about provisions so what I'm gonna do is
I'm actually going to destroy this box
okay so you can see it's right here it's
running but I'm gonna run vagrant
destroy it's gonna ask to confirm we'll
say yes and it's gonna power off and
it's going to go away all right now it's
not going to delete like your vagrant
file or anything like that it just
deletes the box so down here in
provision settings I'm gonna uncomment
this and then whatever you put in here
is gonna run when the Box when you run
vagrant up to recreate this box it looks
at this file it's going to apply
everything including these provisions
and by default you can see they're just
going to update and then install Apache
okay so basically what we did manually
like I said usually you won't go and
manually install this stuff you'll put
it in your provision so let's go ahead
and save this and then let's go back to
our terminal and let's run vagrant okay
so now you'll see some extra stuff
because it's not only is it going to
start the Box up or create the box it's
also going to run the update and it's
going to install Apache
and obviously I mean just having a
patchy installed isn't really something
you would probably do well maybe I don't
know if it's just a static website but
usually you'll want PHP or something
like that and that's what we're gonna do
but excuse me we're gonna add more
provisions so right now it's running an
update and then it should install Apache
yeah you can see preparing Apache all
that stuff you're gonna see this warning
could not reliably determine the
server's fully qualified domain name
don't worry about that that's fine so
now Apache should be installed so if we
were to vagrant actually we don't have
to do that we can just go to our browser
now when I reload the Apache start page
should be back this should go away
because this was part of our last box
that we just destroyed if I reload now
we're back to the default Apache page
and it may seem weird because we did
actually create the index.html and here
but now if we look at this index.html
it's changed to the default Apache page
because that was actually created with
Apache when it was installed so we can
go ahead and get rid of this if we want
and let's just put back what we had
all right if I save that and go back
there we go
so the next thing I want to do is
instead of just having you know Apache
and that's it I want to set up a full
lamp stack now we're gonna have to
install PHP we're gonna have to install
MySQL some modules and so on
we want to run update and upgrade so we
if we look in the vagrant file I don't
want to put everything inside the
vagrant file so what we can do is
instead of using inline we can actually
provide a separate file for our
provision so I'm gonna actually comment
this out and let's go down here and
let's say config dot VM dot provision
shell and then instead of inline we want
to use path and for our path we just
want a filename and commonly you'll see
bootstrap dot SH or you might see
install dot SH something like that so
let's save that and then we just need to
create that file so we'll go ahead and
add bootstrap dot SH now make sure that
if you do this when you package this up
to transfer or give to somebody make
sure you include your actual provision
your bootstrap file as well if you don't
have it in line so in here what I'm
gonna do is instead of typing everything
out I'm gonna just copy and paste it in
because it'll take me too long to type
out but it's all stuff that you would
manually type in in if you were if you
had a regular bun to installation and
you wanted to set up a lamp stack it's
all just regular commands just apt-get I
don't need we don't need sudo because it
will be run as root so basically I'll
start from the top here we're going to
update and upgrade our packages we're
going to install git so we'll have that
we're gonna install Apache just like we
did we're going to enable make sure that
the mod rewrite extension is enabled for
Apache so that you can rewrite URLs and
stuff like that then we want to work on
PHP now when you install PHP PHP seven
is not available with just the regular
repositories you have to actually add
the on reg on reg I don't really know
how to pronounce that the PPA repository
so we have to run this and then we
immediately have to update it okay if we
want to install 7.2 which is what this
is going to be once we do that we can
then run apt-get install PHP 7.2 once we
have that installed we want we want the
Apache mod the PHP Apache mod which is
this here okay make sure if you're using
PHP 7.2 or 7.1 may just make sure that
these match all of these match and then
we're gonna restart apache once we do
that we're going to install a couple PHP
modules common em crib zip after that
this says set MySQL user and pass but
it's actually just the past the user is
going to be route by default and we can
use these deb comp set selections and
then pass this in so MySQL server which
is the package name for MySQL MySQL
server slash a root password password
and then what you want to use in this
case we're using root for the password
and then this next line is just a
confirmation so root password again
so that'll set the password and then we
actually install MySQL server alright
once we do that we install a PHP MySQL
library and then we restart Apache so
these are the commands to install a
basic lamp stack so let's go ahead and
save this and then what we'll do is go
back to our terminal
and I'll also open up VirtualBox and I'm
going to just you know what let's just
destroy this one so we'll say vagrant
destroy all right so will completely
destroy that and then we want to run
vagrants up so now we have this this
lamp stack vagrant box and all we have
to do is take the vagrant file in the
bootstrap file and run vagrant up and
this is going to take a lot longer
because it has to do everything that's
in that provision file and I'll kind of
walk you through it so it's just
creating it booting it up setting SSH
same stuff it's been doing and then it
should do the NFS set up the network
file system
okay now it's gonna do the update and
upgrade so if I get this put this over
here it's gonna do this here then it
will install git you can see unpacking
it then it's going to enable I'm sorry
it's gonna install Apache so you can see
right here Apache you're gonna see some
red some of it's just stupid warnings
some of it is actually installing Apache
modules are setting up the config file
let's see so now it's installing PHP it
added the repository first and installed
PHP 7.2 it's setting up the Lib Apache
to mod this is all you can see creating
config file for the different PHP
modules PDO stuff like that and then it
should start on MySQL soon oh it's
running the of the update again I think
yep now it's installing MySQL server it
should have set the password to root
don't worry about this this warning here
it's going to install a PHP MySQL
library then it's gonna restart Apache
and now it's done so it just went
through this whole this script basically
and now we should have a lamp stack so
what we'll do is let's clear this out
and let's let's let's login so we'll say
vagrant SSH and what I'm gonna do is I'm
actually going to create a MySQL
database so it's clear and let's say
MySQL user is going to be root and then
we want a password so I'll hit enter
it's going to ask for a password
obviously MySQL is installed as you can
see so the password is root and now
we're in so what I'll do is let's create
a database I'll just call it test
I always forget the semicolon in the
shell and then let's let's use test and
let's create a table called posts
alright so in this table this table is
just going to basically have an ID
it's gits gonna have an ID and I wanted
just a text field I don't care about
like building an application I just want
to do something very basic so let's say
ID
it'll be an int it'll be Auto increment
and let's do text field which will be
varchar' text is the name of the actual
field dot the type the type is varchar'
250 characters and let's say it's not
null and let's say primary key is ID
okay so now if we say show tables we see
posts all right so let's do a simple
let's just insert a couple rows here so
we'll say insert into posts just the
text field values and we'll put a string
of a little world and we'll do another
one we'll just say test post alright so
now we can say select all from posts and
there we go so we have two two entries
in our post table so now what I'll do is
quit my SQL and let's exit out of our
shell out of our vagrant box and let's
go to our text editor I'm gonna close up
all this stuff this should be done and
let's go to our let's change index.html
to index.php
okay and we were since we recreated the
box again it put back the standard
Apache file so let's do this once again
and then just to test out PHP let's
throw in our tags here and let's say PHP
info which should just give us all our
environment PHP environment info so
we'll save that we'll go back to our
browser and reload and there we go so it
tells us our system is Linux vagrant
Ubuntu trusty 64 it gives us the version
of PHP 72 401 all the configurations it
should give us all like five the the
maximum upload size is all that stuff
and if you wanted to change any of this
you could go to your PHP any file from
within your vagrant box let's see it
should have all the modules like P do
stuff like that PDO driver is MySQL
anything you want to know about PHP on
your system on your vagrant box alright
so now what I want to do real quick is
just create a very very simple
application in this file that will
basically fetch the the data that I just
created so I'm gonna paste this in
rather than type it out because this
isn't a PHP class our course this is for
vagrant if you want to know more about
this basic PHP stuff I do have a youtube
series called PHP front to back if you
want to check that out but basically
what we're doing here is creating our
host user and pass for our database 3
306 is the MySQL port then we're setting
a connection variable we're using the
MySQL I library and we're using this
connect function passing in that stuff
to connect if there's a connection or
I'm sorry if there's not a connection
we'll just run the die function
if there is a connection it'll keep
going it'll echo connected successfully
then we're going to select a database
which is test that's the one we created
we're going to select all from posts put
it in the results with MySQL query and
then close the connection and then down
here let me just grab this real quick so
down here I'm just going to comment this
out and under hello world let's paste
this in so basically why does it
format it so we're gonna check to see if
there's any rows and result if that's
greater than zero then we're gonna keep
going if not it's just going to say no
posts if we keep going we want to loop
through our results so we're gonna use a
while loop and we're gonna say while row
equals mysql ifetch object which will
get the result as an object and then in
each list item we're gonna just spit out
the text the text field though that we
created so there should be two of them
so let's save this and let's see if it
works so we'll go back and reload and
there we go we get connected
successfully and it's spitting out our
two to our two posts all right so you
can see that our lamp stack is up and
running and even though this is however
long this tutorial is all you need now
is those two files the vagrant file and
the bootstrap file to create this
environment so that you can work with
PHP and MySQL and obviously there's
there's pre-made boxes you can use as
well so you don't even have to create
your own but I wanted to kind of go
in-depth and show you guys what what
this stuff is alright so that's it
hopefully you enjoyed this and hopefully
you'll look more into vagrant like I
said I'll also be doing a course on
docker that should be coming up soon
that's a very similar technology also
very cool but that's it guys so please
subscribe if you're not and you like
this type of content please like the
video if you liked it follow me on
social media support me on patreon if
possible and that's it hey guys if
you've been watching my videos for a
while and you really like what I do when
I've helped you out a lot
consider becoming a patron even for one
dollar per month it pushes me to keep
bringing you guys the best content I
possibly can
there's reward tiers for discounts for
you to me courses personal support and
more so check out the patreon link in
the description below for more info</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>