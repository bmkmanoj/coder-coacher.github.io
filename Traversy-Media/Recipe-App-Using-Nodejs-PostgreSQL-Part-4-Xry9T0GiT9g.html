<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Recipe App Using Node.js &amp; PostgreSQL - Part 4 | Coder Coacher - Coaching Coders</title><meta content="Recipe App Using Node.js &amp; PostgreSQL - Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Recipe App Using Node.js &amp; PostgreSQL - Part 4</b></h2><h5 class="post__date">2016-08-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Xry9T0GiT9g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome back in the last video
we went ahead and set up our application
we implemented dust and we have our
layout so now what I want to do is bring
bootstrap into our application and start
to work on that as well as fetching data
from postgrads so first thing we'll do
is click download bootstrap click it
here as well and we'll go ahead and save
that and open it and let's go into CSS
and then we're going to also open up our
application and then we're going to go
to public CSS and bring bootstrap CSS
over we're also going to need the
bootstrap JavaScript so we'll bring that
over alright and then the fonts folder
I'm going to bring gin and just put that
right in the public folder alright and
that's all we need from that so let's go
back to our layout layout dust and we're
going to include the CSS files so I'm
going to say link rel stylesheet this
will be slash CSS slash bootstrap dot
CSS okay we also want one for us our
custom style sheet so we'll just change
that to style alright and then down at
the bottom we're going to include
bootstrap j/s so we want script tags
this will be a /j s slash bootstrap j/s
alright and we're also going to need
jQuery so what I'm going to do is I'm
going to grab the CDN
okay so we'll just copy this right here
okay and just add to the beginning here
HTTP colon alright so that looks good
let's save it and if we go back to our
application and reload you can see that
the fonts changed as well as the margin
and the padding okay so bootstrap is now
being implemented now and what I'm going
to do in the layout I'm just going to
include some of the bootstrap classes
here for instance we need a container
okay so class container alright and then
we're going to have the Rope class okay
and then inside that we're going to have
the column class so this will be call MD
let's do seven I don't want it to be too
wide because we don't have any sidebars
or anything like that but what I'm going
to do is offset it so I'm going to add
another class in here call MD offset and
let's offset - all right just like that
so save it okay so that moves everything
in the middle now in our style dot CSS
we're just going to push the body down a
little bit and also make the background
a very light gray okay now what we're
going to do before we jump into any more
of the layout in the markup and stuff
we're going to add a couple recipes to
our database through mostly PHP myadmin
PG admin 3 okay so let's go to our
database and we want to go to tables and
you can see we have this recipes we're
going to highlight that and then click
on this right here and that's going to
open up kind of like a
CEL format that we can use and we don't
want to include the ID that's going to
be auto incremented so let's create a
name and what I'll do before I enter it
in that I'll put it right in a text file
so that you can see it alright so paste
this in now we have two recipes here
this is going to be the title of the
first one so let's grab that okay we're
going to put that right in there or I
should say the name not the title okay
and then this here is the ingredients
and then this is the the directions
alright and if we click enter that's
going to enter that record for us will
create one more and you don't have to
type all this out you could just put
test or whatever recipe one just I just
want it to look decent to actually look
like a real application okay so that
does that enters the two records for us
actually you know what I'll do is I'll
save this in a file so you guys can just
copy it if you want alright so we'll get
back to our application we can close
that window alright so we should now
have two recipes in our database so now
we're going to do is go back to app j/s
alright and we're going to keep all the
routes in this file I want to keep this
nice and simple just so we can focus on
the functionality rather than having a
complicated file structure or anything
like that alright and it's a single page
app so it just makes sense to just keep
it here alright so right now we're just
rendering the index view but what we
need to do is let's go to the
documentation for the postgrads module
and if we look down here we already have
our connection string what we need to do
is grab this and go inside of our route
right here and we're going to paste that
in let me just fix it up a little bit
okay so this will say PG Connect and
then so what it's doing it's going to
connect I'm going to pass in our connect
variable or connect string and then it's
going to give us inside this function
here it's going to give us this client
object and we can actually call client
query and do whatever we want in here so
let me just clean this up a little bit
you can get rid of the console log and
then here let's change this to our query
which is going to be select all from
recipes okay we can get rid of this
second parameter okay so we just have
our query then we have the function
that's going to give us a result and
then down here I'm going to move this
done below the error checking that's
going to be last and we want to just
render our templates so res dot render
we're going to render index just like we
were but we're going to include the
results of our query okay so what we'll
do is we'll say recipes is going to be
result dot rose all right so result dot
Rose is just going to pass in the result
from this query so let's save that and
let's go into index dot dust and the way
that we loop through this is pretty easy
okay all we need to do is we know that
we called it recipes so we're going to
go recipes and then end it down here and
then we have access to any of the fields
so let's say name we'll save that
hopefully it works okay we'll go back
and now we have the two names mushroom
pork chops and kiss sell salmon
so we know that it's working what we
need to focus on now is the look of our
page okay because obviously this isn't
cutting it so what we'll do is let's get
rid of that for the time being and we're
going to just put in a div and we're
going to use the class of well which is
a bootstrap class that gives us a grey
background with a border and let's put
in an H for okay that's where we'll put
the name alright and I also want a
button to be able to click to view the
whole recipe so let's put in a button
give it a class of BTN and then BTN
default okay we're going to be adding
quite a quite a few more attributes to
this button but just for now let's see
what that looks like
all right let's actually float the
button to the right we'll add another
class here called
pull right all right now what I want to
happen instead of clicking view and
having it take us to another page or
another route I just wanted to have like
a collapse effect it'll just open up the
rest of this tab or whatever you want to
call it okay so let's go to get
bootstrap and we're going to click on
JavaScript and we want the collapse
widgets so right here and what we'll
need to do is copy some of these
attributes data toggle collapse we need
the href and we need these too so let's
copy those and then go to our button
right here and I'm going to paste in
these attributes like that all right so
what we want to do is we need to change
the ID that it points
- and it needs to be different for each
one alright if we just kept it static
like this then every single recipe is
going to have the same href so what we
need to do is bring in the ID and make
it dynamic what I mean by that is will
say recipe underscore and then we'll put
in the ID for that particular recipe
alright so let's see yeah and then will
you also use that right here for the
controls all right actually we don't
want the number sign in this one whoops
there we go okay so paste that in and
now what we need to do is create the
code that that's going to have the rest
of what we need so what we'll do is just
copy what we have right here where is it
yeah just this div right here okay
collapse example you see how this is
collapsed example so we'll copy that and
let's put that staying inside of the
well div paste that in and we're not
going to need this well class so we can
get rid of this all right and then we're
going to change the ID to this dynamic
ID okay just like that so now whatever
one we click on here will match up with
the the right mark up here now just to
test this out it's a test and it'll save
okay reload and now you can see that
it's opening up the rest of the view all
right good now before we add anything
here for this button I want to change it
from a text to an icon so let's go and
get rid of this view and replace it with
an icon so it'll be a span tag actually
you know what let's take a look at
the documentation okay so we want see
this is an example of what we want let's
grab that and put that right where do
they have it right here paste that in
and then I want to change this from
search to triangle bottom okay and now
we have a little triangle icon all right
so let's add the rest of the code here
get rid of test and let's put a couple
line breaks and then we're going to put
a paragraph and let's put in a strong
tag here and this will be ingredients
and then here we're just going to put in
ingredients just like that and then
we're going to do the same thing with
directions so let's copy that directions
and then we'll put a line break and then
a horizontal rule and let's check that
out okay so now we have our ingredients
and directions for each recipe now we
also want to have two buttons here we
want an edit and a delete now we're just
going to add the buttons for now I'm not
going to do the functionality because
before we get to edit and delete I want
to be able to add a recipe and we'll do
that in the next video but let's just
get the buttons down so we'll say button
and we'll give it a class of BTN BTN
default and also a class of Edit recipe
all right because what we're going to do
is when we click the edit button we're
going to
on a modal to open up and we're going to
have to pass all of our attributes
through data attributes and I'm not
going to get into it right now but
that's what we'll be doing all right so
let's see in that button and then we're
going to want an icon I'm going to copy
this span that we put up here okay paste
that in and I'm going to change this
from triangle bottom to glyphicon edit
all right and then I'll copy that button
and this will be the delete button I'm
going to change it to button danger and
change this to delete recipe and then
the icon will be remove just like that
all right so let's check it out
and there we go we have our buttons okay
so in the next video like I said we're
going to create an ADD button so we can
add a recipe and then we're going to add
a modal that will pop up and give us a
form to add a recipe alright so I'll see
you in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>