<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JavaScript ES6 / ES2015 - [10] Promises | Coder Coacher - Coaching Coders</title><meta content="JavaScript ES6 / ES2015 - [10] Promises - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JavaScript ES6 / ES2015 - [10] Promises</b></h2><h5 class="post__date">2016-05-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XJEHuBZQ5dU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys in this video we're going to
take a look at promises in es6
alright so the promise object is used
for deferred and asynchronous
computations and it represents an
operation that hasn't completed yet but
is expected in the future all right so
let me give you some quick examples here
let's start with an immediately resolved
promise okay so let's do var my promise
equals I'm going to set this to promise
dot resolved and we'll pass in a string
of foo all right now to get a promise we
can use then
okay so we'll say my promise dot then
and then in here we'll have a response
and then we're going to set console dot
log whoops I don't want that
in response all right so if we save that
and reload we get foo okay so we're
setting it here and then we're getting
it so let's do something a little bit
tougher okay we're going to step viral
variable my promise and we're going to
set it to new promise and inside here
we'll have a function that's going to
take in two things it's going to take
resolve and reject all right and we're
going to stay set timeout and then in
here we're going to just have a blank
parenthesis and then we're going to say
resolve and we'll pass in four
then the next parameter is going to be
the amount of time for this for this
side interval so we'll say 2000 which is
2000 milliseconds or 2 seconds then down
here we're going to take my promise and
we'll say dot then and in here we're
going to do the same thing we did up top
we're going to say res and we'll set it
to a code block and here let's take that
res and we'll add 3 to it so we'll say
plus equals 3 and then let's just
console dot log res okay we'll save it
reload wait 2 seconds and we get 7 now
this obviously isn't very helpful it's
just a way to show you how they work
let's actually use a promise for
something helpful will use it to fetch
data from an API all right so let's
create a function and we'll call this
get data okay we're going to be using
Ajax here this is going to take in two
things it's going to take in a method
and it's going to take in a URL all
right and then we're going to say return
new promise and in here we'll have our
function that's going to take in two
things going to take in a resolve and a
reject
okay so let's create a variable here
called xhr and we'll set that to new
xmlhttprequest
okay and then we're going to take that
at xhr object and we're going to call
the open method and then we're going to
pass in whatever we pass it pass in for
the method and the URL all right and
then down below it we're going to say
xhr dot onload and that's going to equal
a function okay and then what we'll do
is check the status that's being
returned
so we'll say if this dot status is
greater than or equal to 200 which means
everything's okay if it's a 200 and if
this dot status is less than 300 okay so
if that's true then we want to resolve
so we'll say resolve and then let's pass
in the response all right and then let's
do an else right here and then we're
going to reject pass in an object that's
going to take status which we'll set to
this status and then also status text
which will be set to xhr dot status text
all right now we're going to go down
here let's put a semicolon there and
then we have to handle our error if
there's an error so xhr dot on error and
that's going to be function and we'll
say reject I'm actually going to grab
this I'm going to do the same thing okay
then we just want to put a semicolon
there and then we just want to call the
send function so xhr dot send okay so
that will handle a request now there's
an API service we can use
which is Jason placeholder dot type a
code comm alright and this allows us to
use a third party API for either posts
or comments albums let's do two dues all
right so if we click on that it gives us
a resource for to do ok there are
objects with a user ID an ID a title and
completed so we're going to use that so
let's go down below here and we're going
to call our get data function and we're
going to pass in the method which is
going to be a get request and then the
URL which is going to be this right here
alright and then just like we did with
the other promises we're going to say
dot then and then in here we'll have a
function ok and that function is going
to take in a parameter called data all
right and then we can just console dot
log data all right and then down here we
can also add on dot catch and pass in a
function and that's going to take a
parameter called error and then we'll
just console dot log error alright so
let's go ahead and save that and go back
and reload exit xmlhttprequest all the
XML has to be all uppercase all right
it's case sensitive reload and there we
go so now we're fetching all those users
now if we wanted to instead of just
console logging it let's do something
with it
we'll get it so that we can display it
on the web page all right so let's say
let
to dues equal and then we're going to
put it through Jason parse okay we want
to put the data in there like that
okay so now let's create a variable
called output and that will represent
this the template or the string that we
want to output and we'll do a for loop
here and this is actually a for of loop
all right which is also new to es6 so
what we can do is we'll say for and then
let to do of to dues okay and then here
we're going to take that output variable
and we're going to use plus equals and
we're going to use the template literal
like we went over in a past video so
we're going to use backticks here and
then we can actually use multiple lines
so say let's do div and in here we'll
have an h3 okay and then we can actually
add in the title okay you can see it has
a title value so what we can do is use
the dollar sign and then the curly
braces and we'll say to do dot title and
then right under it we'll have a
paragraph and we'll say completed and
then we can do to do dot completed okay
so now we'll go outside of the for loop
and we're going to say document dot get
element by ID and we'll say template dot
inner HTML is going to equal the output
all right actually know what I'm going
to do is put this in an ally and then
we'll save that and then let's go to our
index.html page I'm going to replace
hello world we're going to put a ul here
and then here we can put our template
class or a template div no actually you
know what we're going to do is we're
going to give an ID of template all
right and then that should insert the Li
tag so let's reload and if I take this
down now you can see we're getting all
the two dues and we're getting if
they're completed or not
okay so we've used a few different
aspects of es6 in here we use promises
we use the template string we use the
for of leap loop to iterate through the
to Do's so this is what the future of
javascript looks like okay so that's
going to be it for this video in the
next video I want to get into generators
a generator is basically a function that
can be paused and then can be set to to
yield values until until it finally
returns alright so thanks for watching
and I'll see you next</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>