<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a Sails.js App [Part 2] - MongoDB Adapter &amp; Homepage | Coder Coacher - Coaching Coders</title><meta content="Build a Sails.js App [Part 2] - MongoDB Adapter &amp; Homepage - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a Sails.js App [Part 2] - MongoDB Adapter &amp; Homepage</b></h2><h5 class="post__date">2017-08-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qAQWBfnO6n0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to part two of our
sales Jay s and Mongo DB crud
application in this video we're going to
get MongoDB set up we're going to make
sure that we added to our connections
file and it's working and then we'll go
from there all right so we're going to
need to install something called sales
Mongo which is the MongoDB adapter this
is the github page for it but all we
need to do is run NPM install sales
Mongo so what I'm going to do is go over
to Visual Studio code and I'm going to
open up my command line here my shell
and we're going to say npm install sales
- Mongo and we're going to do - - save
alright that should get that set up
it should also add it to our package
JSON file which there it is right there
alright so now let that set up there's a
few things we need to do I don't know if
it's on in the documentation or not
doesn't look like it but what we need to
do is edit a couple files so we're going
to edit the connections JS file which is
in the config folder and then we want to
go to connections Jas now as I said
sales disk is the default and you can
see that right here local disk DB
adapter is sales disk so we want to
change that one second so yeah we want
to change that and we're going to go
down to right here it says some MongoDB
server and we're going to uncomment all
of these so if you have M it installed
you can actually do control /to get all
those comments off alright and then
we're going to change let's see we're
going to keep the adapter as a host
we're just going to comment out the user
and password because we're not going to
have a user and password on the database
and then the name of the database I'm
going to call articles or article base
okay and it'll automatically get created
you don't actually have to go into the
Mongo shell to create it and then let's
change the name of the server here I'm
just going to change it to MongoDB oops
all right so we want to save this file
and now we want to do is go to our
models so API models and then articles J
s and we just need to add after this
attributes we're going to put a comma
and we're going to say connection and
we're going to set that to the name of
the driver that we chose which is this
right here MongoDB and what's cool is
you can actually use different databases
for different models if you wanted to if
you wanted to do that for some reason
but let's go ahead and save this and
then let's go back over to localhost 1 3
3 7 / articles make sure your servers
running and if I reload you'll see that
those what we entered earlier it's gone
because that was actually entered in the
sales disk database alright so now we're
working with MongoDB so let's go ahead
and actually re add those those articles
through blueprints so let's see I'll
just grab that did that actually enter
already yeah okay so there's one let's
add the other one which is article 2 and
now if we go to slash articles now you
can see they're back now just to make
sure that we're actually using MongoDB
I'm going to login to the Mongo shell ok
you don't have to do this but I'm just
going to go ahead and check by going to
my MongoDB directory which I have in my
C Drive and we want to go into the bin
folder and just run Mongo okay that will
run the Mongo shell then we're going to
say show db's and you can see that we
have an article base database so let's
say use article base and then let's do
show collections and you can see we have
an articles collection if we say DB
articles dot find and there we go
article 1 article 2
so you can see that what we just did in
blueprints actually persisted to our
MongoDB database so that's good so we
know that MongoDB is now connected so
now we're going to do is finish up the
model file so in the model all we need
to do is define some attributes so these
are the fields that we want to use and
we want a title for our articles so
we're going to set title and then we
just want to set the type to a string
okay so that's title and then we're
going to have body and we're going to
set type to string as well and that's it
that's all we're going to need in our
model so we'll go ahead and close that
up and we can close up the connections
JS file and now what I want to do is
just create our home page so if we just
go back to localhost one 337 we're going
to get rid of all this we're going to be
using bootstrap so let's go ahead and
grab the bootstrap CDN so I'm going to
be using bootstrap for beta which is
right here so I'm going to grab this
link tag and the place that we want to
put this is going to be in our views
folder and then in layout ejs now this
part is very important you see how we
have these styles here you don't want to
put anything within here because every
time you reach that I made this mistake
at first every time you put something in
here when you restart the server this is
going to go back to its default it's
going to go back to this so you want to
make sure that you put any script tags
or anything like that any CSS links
outside of those comments right there so
I'm just going to paste it in right
there let me turn on rap for you guys so
you can actually see all the code
alright so what I did is just paste in
the link here to the bootstrap CDN now
we're also going to need some JavaScript
for bootstraps so let's go back over
here and let's grab the JavaScript the
bootstrap for beta JavaScript copy that
and again do not put it inside of these
scripts comments we're going to put it
right below
all right now bootstrap javascript has
two dependencies which is one is jQuery
one is popper j/s so let's search for
jQuery CDN and we're going to go to this
CDN Jas comm site and we're going to
grab jQuery
Minjae s I'm just going to copy the
script tag it's going to go above the
bootstrap javascript file and then let's
let's stay on this CD NJ s site and
search for popper J s ok we'll click on
that and we want let's see we want the
UMD slash popper j s so this one right
here I'm going to grab the script tag
and that's going to go in between the
jQuery and the bootstrap all right so it
saved that and now if we go to C we're
going to go to our home page and we're
going to clear everything out of this
just get rid of absolutely everything
and let's just say test and save okay
then we'll go back to our home page and
reload and you should just get this test
you can already tell bootstraps in
effect because of the font and stuff
alright so the home page is going to be
very very simple we're going to put in
an h1 here I'm going to give it a class
of display - 4 which is a bootstrap for
class and we're going to say welcome to
article base and then under that we're
going to put a paragraph I'm going to
give it a class of mb4 okay which is
margin bottom 4 okay if you guys want to
learn more about bootstrap for I just
had just released a udemy course on
bootstrap for right now it's in alpha 6
but I'm in the process of updating it to
bootstrap for beta which should be
released should be updated within the
next week or so so in this paragraph
we're just going to say this is a sales
Jay s app for managing
articles and then we're just going to
put two links below it two links
formatted as buttons let's do an a tag
with the class of BTN also a class of
BTN light okay and this is going to go
to articles slash list make sure we put
a slash in front of it like that and
then we'll say view articles and that
link isn't going to work just yet but it
will and then we're going to put another
one that goes to articles slash add that
will say add article alright so let's go
ahead and save that and reload and
that's what it should look like now
we're going to want a nav bar as well
and that's why I want to show on every
page so we're going to put that in the
layout ejs file so let's go up here I'm
actually going to get rid of these
comments here for these two it's just
just clogging this file up now what I
want to do is just grab a nav bar so I'm
going to go to get bootstrap calm and go
to documentation components let's go to
navbar and we're just going to we'll
just grab this first one I guess and
copy it we'll put it right above this
body right here now I'm just going to
change a couple things here I'm going to
change it to navbar expand SM so it only
we only get the the collapsible menu on
small screens I'm also going to change
this to BG primary which will give it a
blue background and then we'll change
this to navbar doc which will give it
white text alright let's change the
brand to article base and the link we'll
just go to slash and then let's see
we'll leave the button that's fine this
is fine let's get rid of the form right
here
and then for the links we have the home
link which is going to just go to slash
the second one here is going to go to
this is going to be articles and it's
going to go to slash articles slash list
and then this last one here is going to
be ad article okay get rid of the
disabled class we don't want that and
it's going to go to slash articles slash
ad now I want this to be a lie I want
the UL to be aligned to the right so
we're going to change this to ml OTO
which is margin-left:auto alright so
let's go ahead and save this actually
one more thing I just want to add a
class of MB what I do mb5 now MB for mb
/ 4 which is just a margin-bottom class
so it'll push things below it down so
let's save that and look at our
application and it should look like this
all right one more thing I want to do is
just add a container around the body so
right here where we have our body this
is where everything is generated all of
our views we're just going to add a div
and we're going to give it a class of
container all right
so it save that and now that gets pushed
over good so that's our homepage so in
the next video what we're going to do is
start to add to our model so that we can
fetch the articles and then we want to
output them on the list page which we
haven't created yet okay we're going to
create a list view and then output all
of our articles into a table all right
so that's what we'll get to in the next
video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>