<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learning D3 Part 5 - Simple Bar Chart Using SVG | Coder Coacher - Coaching Coders</title><meta content="Learning D3 Part 5 - Simple Bar Chart Using SVG - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Learning D3 Part 5 - Simple Bar Chart Using SVG</b></h2><h5 class="post__date">2015-12-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XbmG4Aycj5A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to part 5 of this
learning d3 series in the last video we
went over SVG I showed you how to draw
simple shapes in just regular SVG as
well as with d3 and in this video we're
going to create another simple bar chart
except we're going to use SVG for the
bars instead of using just a CSS
background included in the data so this
chart will be a step up from the last
one we built and then the one after this
will be a step up from this one so I'm
just trying to just very slowly show you
how everything works and you know how we
can build a real chart alright so what
we're gonna do is define the data so
this is just gonna be an array of
numbers so let's just call this I don't
know we'll just say my data and this
could be anything at all really
the numbers they don't really matter
this could be sales this could be
population anything at all really
alright so we'll say 324 40 and 500 all
right so that's our data now we're gonna
set a few variables up here a few values
let's set our height to 400 I actually
you know what we're gonna want to set
this to because we're not scaling yet so
we're gonna want to set the height to
whatever the max is of the data okay the
highest point so we're gonna set it to
500 all right
and then we're going to set the width
we'll also set that to 500 all right and
one we want to set the height in the in
the offset of the bars all right and
we're gonna use SVG rectangles for bars
so let's create a variable called bar
width and let's set that to I will say
35 and we'll set the bar offset to 5
all right so those are our variables now
I'm going to create a variable to hold
the chart let's call this my chart and
let's set this to d3 dot select and we
want to select our chart element so that
has an ID of chart and then we're going
to append SVG just like we did in the
last video and then we're gonna add some
attributes okay so I'm gonna say dot
with I'm sorry not taught with dot adder
and then we're gonna set the width to
the width variable and we'll also set
the height
and we'll set that to the height
variable and let's set style and we'll
give this a background now this is the
SVG element that we're styling alright
and just like in the last video we'll
just give it a light gray obviously you
don't have to add a background to the
SVG element itself now what we're gonna
do is use a select all and we're gonna
select all rectangles all right so I'm
gonna say select all and we're gonna
pass in the rect element all right now
this is where we want to bind the data
so we're gonna say doc data and we're
gonna pass in my data all right and now
let's see now what we want to do is we
want to use dot enter just like we did
in I think it was the first video where
I showed you how to use the enter and
exit so I'm gonna say enter dot append
and we want to put in here rect and then
we can style
let's say Phil so this is gonna be the
color of the actual bars in the chart
I'll just set that to light green then
actually you know what let me open this
a little bit so data enter append rekt
alright and now what we're gonna do is
the the width of the actual bars so I'm
gonna say adder and I'm gonna set the
width let's set that to the bar width
variable all right and then we're gonna
do the height
okay height and this here I'm gonna say
function and we're going to pass in data
and we're going to return D
all right so that's gonna set the height
to whatever whatever that piece of data
is all right now since we're not using a
scale it's gonna be direct pixels so for
instance 440 is going to be 440 pixels
high all right until we do the scaling
which we'll probably do in the next
video that's how it's going to be all
right so that's why I said that you want
to set the height to your of the SVG
element to the highest point you have
here because if I set this to 400 then
this is going to just stop at 400 cuz
that's as high as the chart goes all
right so next thing we're going to add
the X attribute and that we're going to
set to function and what we're gonna do
here is pass in the data and an index
and then we're going to turn you want to
return the index times the bar width
plus the bar offset so bar width plus
by offset all right and let's see put a
semicolon right there and then we also
want the Y value so attribute Y which is
also a function and we're gonna pass in
data and what we're gonna do here is
we're gonna return the height variable -
whatever that data is all right so I
think that should do it so let's give
that a save and give this a reload and
there we go
okay so we have a chart that's
representing this data now you'll notice
that the actual SVG the chart is a lot
longer than the data spans so we could
just keep adding data here I'm gonna say
320 it doesn't have to be in any
particular order at all just 850 okay
and then if we reload that's gonna get
added all right now obviously this is
this is a problem having this be such a
static width because if we go past if we
add enough data here to go past this
point it's not gonna be shown all right
so same thing going the other way
if we put something in here let's say
this is gonna be 720 okay if we go ahead
and reload this is the 720 but it looks
just like the 500 because this is only
500 hi all right so we need to scale
this both horizontally and vertically so
that we can actually show the real data
all right and that's what we'll do next</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>