<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learning Flux and React.js - Part 3 | Coder Coacher - Coaching Coders</title><meta content="Learning Flux and React.js - Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Learning Flux and React.js - Part 3</b></h2><h5 class="post__date">2016-02-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WnuARgtLD0g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you guys in the last video we went ahead
and added a lot of our code to a bunch
of a bunch of the different files the
actions the app component the constants
the dispatcher now what we're going to
do is we're going to work on the store
all right so we're going to open up App
Store j/s and we need to include a bunch
of things here so we're gonna need our
dispatcher and that will be require dot
dot slash dispatcher slash app
dispatcher whoops have two dispatcher
okay and then we're gonna need our
constants so I'm just gonna copy that
this will be AB constants okay and then
I'll change this alright now we're also
going to need to include something
called the event emitter all right
because we want to update the store when
we rerender the app all right so we're
gonna save our and then event emitter
all right and we're gonna set that to
require event dot event emitter all
right we're also gonna need that object
to sign module so I'm gonna say bar
assign require object is signed
okay now this is where if we're going to
be using some kind of API to interact
with maybe a database this is where we
would use that file we would include
that file and then call the methods from
the API file so let's create variable
called app API and I'm going to set it
to require and this is gonna be in utils
slash app API dot j/s all right I don't
think we include that we created that
yet so we're gonna create that file here
okay we'll save it as app API dot j/s
all right and we're not gonna touch it
yet so the next thing we want to do is
we're gonna set a variable or constant
called change event and set that to
change and then underneath that we're
gonna create an initial State all right
so I'm just going to call this items and
this could be anything if you have if
you're creating a blog it might be posts
and then you might have a categories one
but generally whatever you put here is
gonna be a state alright so we'll have a
state called items now it doesn't have
to be just data that you're storing here
you could have maybe like let's say is
edit or something like that if you're
gonna have an edit state alright so
it'll always be different but items is
very general so that's what I included
for the boilerplate alright so now we
need to get to our app store so let me
save our app store equals and then we
need that assign module thing and we're
gonna pass in an empty object and then
we need to call event emitter and dot
prototype
okay just like that and then the next
parameter is gonna be where we put all
of our store methods all right now
there's a couple that we want to create
initially that will always need so we
need omit change function and we're
gonna say this dot omit and then we want
to pass in that change event constant
that we created and that's it all right
so all these methods I'm creating have
to do with updating the store when the
when the application or a component is
re-rendered alright so next one we're
gonna have adds change listener okay add
change listener function and that's
gonna take in a callback okay these are
going to be called from our app
component so we're gonna say this dot on
okay so on change then we want to call
the callback alright and we also need
one called remove change listener okay
but we're gonna say this dot remove
listener
remove listener change call back all
right so that's all we need for now for
the the store functions now what we need
to do is create our action creators and
we need to use the app dispatcher so
we're gonna say app dispatcher dot
register okay remember the dispatcher is
basically just a bunch of callbacks that
need to be registered so I'm going to
say register and then pass in a function
okay that function is gonna take in the
payload okay remember the payload is
passed from the dispatcher from here
into this dot dispatch alright so what
we want to do here is save our action
and we're gonna set that to payload dot
action alright and then what we need to
do is have a switch statement with the
different actions so that's gonna take
in a parameter of action dot action type
okay remember if we look at the
dispatcher we have our or is it was it
not in the dispatcher
oh I don't think we added a nevermind so
what we need here is the different
constants that handle the different
action creators but we're not going to
do that just yet I just want to get the
boilerplate down before we start adding
actions and stuff all right and then we
just want to return true okay and then
of course you have to export so module
dot exports equals app store okay so
that's gonna be the store and we'll save
that and what we'll do now is go back to
the main app component and we're gonna
add a couple more things here another
lifecycle method is component did mount
and this runs before the actual render
all right so we want to say component
did mount okay and this is where we're
gonna call add change listener so we
created that in the store so now we can
say app store and dot add change
listener alright and then what we want
to pass in is this dot underscore on
change all right which is this down here
it's gonna set our state we also want
another lifecycle method called
component unmount okay which is ran
after the render so unmount and what we
want to do here is run a remove change
listener
okay remove change listener we want to
pass in the same thing all right so now
what we want to do is we want to create
or add to our main.js file this is the
entry for all the other Java scripts so
we need to include the main application
so I'm gonna save our app equals require
and we want to pass in dot slash
components slash app all right we also
need to include react okay we need to
include the react Dom all right and also
the API file so whoops I forgot the VAR
okay so var app API equals require and
that's gonna be dot slash utils slash
app API dot J s alright and then what we
need to do is call our render okay to
render the main app so react Dom dot
render and if you're using an older
version of react
it would just be react dot render but
0.14 point seven is what we're using and
you need to use the react Dom alright so
we want the app component and then we
want to say where we want to put it in
the document so we're gonna say document
dot get element by ID
excuse me and we want the div with the
ID of app alright because if we look at
our index that's where we have our our
app div alright so we're just about
ready with the boilerplate what we need
to do now is in order to actually
compile and run our application
we have to add our gulp file all right
we have to add a couple tasks all right
so we're going to do that in the next
video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>