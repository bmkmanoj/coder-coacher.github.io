<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Next.js Crash Course - Server Side React | Coder Coacher - Coaching Coders</title><meta content="Next.js Crash Course - Server Side React - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Next.js Crash Course - Server Side React</b></h2><h5 class="post__date">2018-01-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IkOVe40Sy0U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys if you've been watching my
videos for a while and you really like
what I do when I've helped you out a lot
consider becoming a patron even for one
dollar per month it pushes me to keep
bringing you guys the best content I
possibly can
there's reward tiers for discounts for
you to me courses personal support and
more so check out the patreon link in
the description below for more info hey
what's going on guys welcome to a crash
course on next j/s in this video we're
gonna discuss what next is by looking at
a couple slides and then we're gonna
jump in and they'll show you how to get
up and running with it and then we're
gonna build a fairly simple application
and we'll even try to deploy it
so next j/s is a minimalistic framework
created by Z it which they also created
the hyper terminal as well as a bunch of
other cool stuff and it's used to render
server-side react applications so react
along with other frameworks like angular
and view J s these are traditionally
client-side frameworks and they run in
the browser but there are technologies
for running these frameworks on the
server side and next J s is a solution
for running react react applications
server-side it also makes you react
developing very simple it gives you a
lot of stuff that is already set up that
you don't have to do things like routing
so if you think of let's say a PHP
application it's simple you create in a
boat PHP file and you upload it to your
server and you can automatically just go
to your domain name and then slash about
PHP so using next for routing is similar
to how that works except we're not using
PHP we're using JavaScript and react so
it's very convention over configuration
which is always good in my opinion
alright so let's take a look at some of
the core features of next that come
right out of the box so we have server
render react apps obviously that's kind
of the purpose of the entire framework
it also has automatic code splitting in
lazy loading which gives you great
performance because it basically
prevents the loading of
Cerie code if you have a module that's
used and let's say half of your pages or
more then it's going to move to the main
JavaScript bundle if not then it's gonna
stay inside the pages bundle and this
gives you a great performance boost we
also have very simple file based routing
I briefly mentioned this with the PHP
example so you upload a page and you can
access it with a URL there's no need to
map your routes but more for more
complex situations you do have the
ability to map your routes but if you
want for instance in about page then you
simply create an about Jas file and add
it to a pages folder and you can visit
it in the URL right away alright so next
is also bundled with styled JSX which
gives you full scoped and friendly CSS
support for JSX it also gives you vendor
prefix it has support for source maps as
well as plug-ins for pre-processing and
you're not limited to style JSX if you
want to use styled components or
something like that you can but this
comes built-in with next so we also have
hot reload functionality as it uses a
web pack based dev environment so the
server will auto reload after you save
your code which is always nice and
speeds up development and then
deployment is extremely simple with next
you can run the build command to build
out your files or your static assets and
you can host your application anywhere
but you also have the option to use Z
it's now hosting which allows you to
basically deploy your app with a single
command so no pre configuration of a
server or anything like that so we'll
look into that later as well all right
now installation and setup is
ridiculously easy on the client side
when we had create react app come out it
made things a lot easier than what we
were doing with you know manually
configuring react with web pack well
next gives us that same ease of use we
simply install next along with react and
react Dom then we create a couple
scripts basically the dev script here is
going to run next which will run our
server build will run next build which
will build out our files for deployment
and then start will just run this run
next it'll run our application all right
and then like I said when we want to
create a page we can upload it to a
folder called pages for instance if we
create an index j/s file and just
explore a react component or a function
a JSX function we can just visit our
applications slash well in this case
since its index it'll be the root but if
we did like about jas we could go to
slash about so it's as easy as that to
get up and running all right so next
also ships with a link module to
correctly navigate to your file based or
page based routes we just need to import
it from next link and then we can use it
like this okay so we could use link href
and we could wrap this around a standard
a tag or a button or basically anything
so that's nice and if we wanted to put
like a class on this we put it on the a
tag not on the link all right so enough
with the slides let's go ahead and jump
in and see what next is all about what
we're gonna do is I'm gonna give you
kind of an overview of some of the
different features and then at the end
we're gonna end up with an application
that fetches Bitcoin data pricing data
from an API and displays it in the
interface okay we're gonna add bootstrap
so I did want to do a crash course but I
want also want it to end up with you
know a small application at the end and
then we'll look into deploying it with
now which I've never done so it's gonna
be a first for me all right so let's go
ahead and jump in and get started
alright guys so we're gonna get started
here I have vyas code open in a blank
folder called bits price that's gonna be
the name of the application we create
now I'm not going to be explaining the
fundamentals of react itself
I'm assuming that you guys know at least
the basics of react it's not going to be
a hard react application we're basically
just going to send out a API requests
using fetch you get it back
and then display some data but before we
even start dealing with the API we're
gonna look at some next J s specific
things like routing the link module
creating layouts stuff like that okay so
on the right here we have the next J s
github page has a lot of good
information some pretty good
documentation tells us how to get set up
we need to install next react and react
Dom all right so let's go down here and
let's create a package dot JSON file
with NPM an it I'm just gonna do - why
to accept all the defaults so now we
have our package dot JSON file and now
we want to install those three things so
I'm going to clear this out and do NPM
install next react and react - Dom okay
and if you're using under NPM five which
hopefully you're not you need to do - -
save all right but it won't hurt anyways
okay so that's gonna add those to our
package JSON file okay so now that
that's done let's go ahead and add our
scripts which you can see right here I'm
gonna get rid of the test script and
we're going to put in dev okay so we'll
do NPM run dev and that's gonna run next
dev I'm sorry just next and then we want
the build so NPM run build will run next
build which will build out our files for
deployment and then we also want the
start script which will be just next
start alright so we'll save that and
that should be good for now so we'll
close that up now what we're gonna do is
create a folder called pages okay and in
this pages folder let's create a file
called index j s2 our index page all I'm
going to put in here right now is export
default
and then a function and I just want to
set this to a div and let's just say
hello next dot J s and that's it let's
save and now we should be able to run
the server with NPM run dev ok so see
it's gonna start and it's gonna tell us
to go to localhost 3000 so let's do that
and there we go hello next J s so it's
as easy as that
to get react up and running on the
server we just created a page called
index J s it automatically loads when we
go to the the index page so if we wanted
like an about page we could create a
file called about dot J s and let's just
grab that same thing we just put in here
except we'll change the text to about
and what was I gonna call this bit bits
prices and save and now I can simply go
to slash about and there we go ok and if
I do if I look at the source code you'll
see that we have our dot type all that
stuff is in there everything that we
need to run our server ok and I'll show
you how to how to change things and add
things to the head and stuff like that
in a little bit but let's um let's
prepare these components a little better
so what I'm going to do is create a
variable called index and set that to
this and then we'll go ahead and export
index okay which is a little neater and
let's put this on a separate line so
we'll have our div
and let's put let's actually wrap this
in an h1 and I'm just going to change
the text here I'm gonna change it to
welcome to bits price and we'll actually
just put that on a separate line save
and that should still work if we go back
to our home page
alright good and then we'll do the same
with about so I'll just go like that
change this to a boat change that and
just say about bits price and let's just
put a paragraph in here we'll just say
app or application to view Bitcoin
prices so we should be able to go to
slash about and there we go alright so
what about linking what about being able
to navigate between pages so for that
we're gonna use the link module so I'm
gonna go to the index and I'm going to
import link from next slash link okay
and then let's go right in this div
we'll put a ul and an Li and inside this
Li I'm gonna so I'm gonna put link href
to slash and I want this to be a link
and a tag so I'm gonna just put an a tag
in here but with no href just like that
alright and we'll say home now this
could be a button you could make this a
button or even a div anything and let's
go ahead and copy this down and this
will be for the about
so that'll be slash about and then what
I'll do is copy this ul and then save
the file go to the about page and put
that same thing right here and now we
can go whoops we need to bring in the
link package to about as well so that's
from what next link alright so now we
can navigate from page to page and you
can put as many pages as you want now
the way that we have this we're kind
we're kind of going against the DRI
principle they don't repeat yourself we
have this ul in both pages and any page
we create we'd have to put it in as well
so what I'm gonna do is create a navbar
component so just like if you were
creating client side react app we're
gonna create a folder called components
in the root and I'm gonna create a new
file called navbar jas okay and we'll
just create will sake on staff bar
and let's go down here and export
default navbar and by the way you can
use your classes if you want as well I'm
just doing these simple function
components the the main prices component
we're going to use to display our API
data that'll actually be a class so we I
will show you that that format as well
alright so let's take the UL right here
we'll just kind of cut that out and put
that in our navbar and of course we're
gonna have to bring in the link module
here not const okay and then what we can
do is just now instead of bringing in
the link to our index we're gonna bring
in the navbar component which is in dot
dot slash component slash navbar and
then we'll place that right here like
that and save go to our home page and it
still works okay so let's do the same
for the about we're going to bring in
the navbar and replace the UL
you know just that down all right so
that works now just to make sure that
it's coming from the navbar component
let's remove the about link and save and
you can see that about links now gone
all right
good all right so now what I want to do
is give you an example of style JSX and
how to use CSS which is just one way of
doing it but I want to show you it
anyway so in the navbar what I'm gonna
do is go this should actually be wrapped
in a div okay we want to use the div as
our root element and then right above
that div I'm gonna put in a style tag so
I'm gonna say style JSX and we want to
put in some curly braces and then end
that style tag and inside here we want
to put some back ticks and then we can
just put regular CSS so I could put a ul
and we could say background and I'm
gonna be getting rid of this cuz I'm
gonna bring in bootstrap but I just want
to show you how we can use this it's not
gonna be that pretty I will say display
flex
and then we'll put in the Li so for the
Li we'll just add a font size of 18 and
let's add Marge and write 20 and then
we'll do the a tag and let's say
text-decoration:none and save and there
we go so that we that's how we can use
style JSX and there's a lot more to it
but that's that's the basics this is
this ul is only gonna pertain to a ul
that's inside of this component okay so
if I were to go to my index page and put
in a ul and save you'll see it's not
going to apply to that okay so your your
CSS is component-based which is what you
want that's that's what's that's what
seems to become that's becoming more
popular as is to do away with the global
CSS style sheets and keep everything
inside of your components all right so
you guys are probably wondering what
about layout what about you know if we
want to have sidebars and and do we want
to put a navbar in every single
component shouldn't we have a layout
well that's pretty easy to do in next so
what we can do is create a component for
that so I'm going to create a component
called layout j/s and it doesn't have to
be called layout you can call it
whatever you want and then this is going
to be set up just like a regular
component so we're going to we're
actually going to bring it on our navbar
here because that's where we're going to
use it instead of using it in every
single component or every single page I
should say so navbar and then let's do
const layout equals
okay and this is actually going to take
in props and I'll show you why in a
second
so in here we'll put a div let's make
sure we export it explore it layout okay
and then inside here we're gonna put our
nav bar and then we're gonna put this
props dot children okay so this props
taught children this is where whatever
page you're on the index are about or
whatever page this is where it's gonna
output okay so let's go ahead and save
this now the way that we can apply this
to our index and about pages is we want
to bring it in so we don't need the nav
bar anymore because that's in the layout
but we want to bring in the layout
component and then we want to get rid of
the nav bar and then wrap everything
even though the root element inside of
layout tags like this there's actually a
couple different ways to bring your
layout in I think this is the easiest
though so you can just do that and let's
save it and notice our home page looks
the exact same
okay it's now using that layout so let's
do the same thing for the about so we're
just going to replace that and then get
rid of the nav bar and then just wrap
this in layout
all right so let's save that and go to a
boat so that works and just to make sure
if we go to our layout and we get rid of
the nav bar and save you can see that
it's definitely using the layout now
let's say you want to add something to
the head area which I do I want to add a
title I also want to add bootstrap I'm
going to bring in the CDN so what we can
do is we can bring in let's let's bring
in head and that's gonna be from next
slash head and then we're gonna go ahead
and put this inside the div so right
here we're gonna say head like that and
then anything we put inside here will
get put in the head so if I put a title
we'll give it the app name which is bits
price and save now you'll see in the
title it says bits price all right so
let's bring in bootstrap now I'm gonna
bring in a customized version from boots
watch just to make it look a little
different we'll use this first one the
cerulean if I click download I'm just
gonna grab the link right here and then
I'm gonna go ahead and go and put a link
tag in here and paste that in so let's
save that let's go to our application
now and you can see that it's changed
okay so bootstrap is now included and
it's gonna be included on every page now
if we took this head and we put it in
just the about then bootstrap would only
be an effect on the about page okay but
I want it on every page so that's why I
put the layout inside the layout so
let's get rid of the ugly navbar we have
here and use a bootstrap nav I just
wanted to basically just did this to
show you how to use style
sex but I'm gonna get rid of this now
and I'm actually gonna get rid of
everything in here and I'm gonna paste
in a navbar now you guys can either copy
this or you can get it from the code in
the description I just don't want to
type all this out basically we just have
a nav tag we have we're using class name
instead of class because that's how it
goes and react we're using a navbar dark
class and before is just a margin bottom
four pushes stuff down we have our brand
and then we have our two links which use
the link module so let's save that and
there we go so now we can flip back from
our navbar now one thing I do want to do
is is I don't want this the content
mashed up against the side so let's go
to our layout and just wrap the part the
props children inside of a container all
right so we'll go ahead and just bring
this we'll just bring this up here and
let's save that and that pushes that
over all right so now what I want to do
is start to work on our call to the API
so this is the API we'll be using its
called coin desk which is a
cryptocurrency news site but they have
this this very simple API where you can
make a request to this endpoint and
it'll give you the current the rate for
Bitcoin for the US you can see USD GBP
and euros you can also request other
currencies but we're gonna work with
these three because that's what's
returned from this endpoint all right so
what we're gonna do is make the request
in the index so let me just close these
up we're gonna make the requests from
the index component and then we're gonna
pass the result into a new component
called prices and that's where we'll
display our data will add the state and
stuff like that the Select list will be
able to change the currency and stuff
like that all right so let's see what
how do I want to do this
we're gonna we're gonna need to bring in
a new module so I'm gonna open a new
terminal down here and we're gonna bring
in isomorphic unfetter package that'll
allow us to use the fetch API on the
client and the server so to bring that
in let's say npm install and it's called
iso morphic i spell that right
isomorphic
- unfettered zane syntax is just your
standard client-side fetch all right now
let's see if that got added to the
package Jason good and then with next we
have basically we have a life cycle
method called get initial props and
that's gonna run right away and that's
where we want to make our requests from
so let's first bring in fetch so let's
actually go up here and import fetch and
that's gonna be from isomorphic
- unfetter we're gonna bring that in and
then we're gonna go below our index here
and we're gonna say index dot get
initial props and we're actually gonna
use async await here as well so we're
going to set this to async function keep
this nice and modern and we're going to
fetch from our API so we're gonna create
a result tourist a variable called res
for our result and we're going to set it
to a weight fetch
and then here we want to put our URL
which is this right here so we're gonna
paste that in alright now when you use
fetch it returns a promise and then you
need to map its jason so we need to
actually do another await so we're gonna
say Const and get the data and say
equals a weight res dot jason like that
and then let's see we're gonna go down
here and we're going to return and we're
gonna put this in a value called BPI and
we can get data dot BPI now what this
BPI is coming from if we look at the
response we get it's this right here BPI
which has USD as a key for all the USD
stuff it has GBP for a key and then EU R
for a key and you can get the rate the
current Bitcoin rate the symbol the code
and the description all right now we're
just putting that entire BPI object into
this right here this BPI prop okay so
let's actually go up here and we're
gonna have to bring in props and what
we'll do is we'll embed the prices
component we're gonna create right here
but let's make sure we can actually get
the data so for now I'll just say props
dot let's see how is this formatted we
can even get the date so if we say props
dot time dot updated we should be able
to get that so time dot updated
oh it should be actually I'm sorry props
dot BPI doc time dot updated let's let's
try that we'll save it go to our
application time can't get time of
undefined so props dot BPI is undefined
they're updated of undefined
oh so it says cannot get property
updated of undefined oh you know what
it's because it's because we're putting
data dot BPI into BPI which is down here
so we can't get the time from that time
is up here so if I were to just use data
right here just to test it out and save
that should work there we go so we can
get the time all right so we know that
we're actually getting our response from
the API so let's put that back to BPI
and then what we're gonna do is we're
going to embed our prices component I
haven't created it yet but I'm just
gonna put it in here so prices we're
gonna pass in BPI
as a property and we're gonna set that
to props dot BPI like that
okay so that'll have to be brought in so
that'll be called prices and let's save
all right so that's gonna mess up
because we don't even have that
component yet but let's create it so
we'll say prices dot J s so this is
actually going to be a class-based
component so we're going to say class
prices extends react component you don't
have to bring in react or anything like
that with next it's just there and we're
gonna create just an initial State
that's gonna have a currency because we
want this to be defined as USD by
default but we're gonna be able to
change it with a select list all right
so we're gonna have a render and for now
let's see we'll just rendered div yeah
div let's see no am i doing return
and let's just say prices we'll just
test it out we'll go down here and books
exports
default prices super expression must be
either null or a function not undefined
oh you know what I have the C should be
uppercase here there we go alright so
the prices component is displaying here
good so we're passing in the props BPI
as a property to prices so we have
access to that that's the response of
this fetch right here we have access to
that inside this component so we want to
display it so what I'm going to do is
put I'm gonna put a ul right here and
I'm going to give it a class of List
group which is a bootstrap class and
then let's put an li with the class of
list group item and inside here let's
say Bitcoin Bitcoin Bitcoin rate for and
then we should be able to access this
dot props dot BPI because that's being
passed in and if we look at our response
and we look in the BPI object we have
USD so let's use that
so we'll say dot USD and then I want to
get the description okay which right
here is United States so we'll say dot
description so Bitcoin rate for it
should say United States we'll put a
colon and then let's put in let's put in
a little badge with USD because we can
get that from the code right here USD so
we'll put in a space
in and we'll give it a class of badge
and badge - primary make it blow and
then inside the span let's put the codes
so we'll say this dot props dot BPI dot
USD dot code all right and then after
the span I'm gonna put in a couple
strong tags and inside the strong I'll
put the actual rate so that'll be this
dot props let me just close the sidebar
make this a little bigger this dot props
thought BPI dot USD dot rate alright
so let's save that see what that gives
us and there we go Bitcoin rate for
United States dollar USD and then it
gives us the current rate all right
let's actually put a paragraph in the
index right above the prices and we'll
just say check current Bitcoin rates or
rate all right so now what we want to do
is we want a conditional because we want
to be able to check for GPB and euros as
well
the default is is USD so let's I mean we
could probably do this a better way but
what I'm gonna do is create a variable
right here called list and set it to
nothing and then let's do a conditional
underneath and we'll say if this dot
state dot currency is equal to USD now
we're just getting into react stuff now
the the crash course for next is pretty
much over we're just finishing up the
application
aside from deployment so if it's equal
to USD and then let's do an else if and
let's see we'll just grab this and we'll
say if it's equal to GPB or GBP whatever
I always get that mixed up and then
we'll say else if it's equal to e you
are then we're gonna set list equals to
let me just grab this L I'm just gonna
cut this out and put it in here
and then I'm gonna copy this whole list
equals and then the hell I let me just
put that like that and then we'll grab
that paste that in here okay now for the
GPB I'm just gonna replace these US DS
like that I don't like how this ap I
wish it that it returned an array that
would be a lot easier we could just map
through it but it's just an object so
oops these should actually be euros
like that okay
so let's save that and Oh down here we
actually have to put in the list
variable all right so USD now if I
change this the state variable to GPB
and save and reload now it's GPB if I
change it to EU r and reload now it's ER
good so we don't we obviously don't want
to have to change it in the program in
the code here we want a select list so
that's what we're gonna do we're gonna
go down here and let's go under the UL
I'll throw in a line break here and
let's put in a select give it a class of
form control and we don't need an idea
or a name what we do want in is an event
I'm gonna put in an unchanged event and
then we're just gonna say I'm gonna use
an arrow function do this the short way
and say this dot set state and we want
to set the currency to whatever the
value so a dot target dot value all
right and now we just need some options
in here so let's say option
and for this value will be USD all right
and save alright so now we should be
able to let's let's actually just reload
this let's set this back to USD by
default and now if I go when I change
the GPB it changes if I change to euro
it changes good so it's working so nice
little application so I think that
that's it guys I think that's all I want
to do we looked at quite a bit from next
J s so routing the link module layouts
the head module and then you can just
build a react application you don't have
limitations even if you wanted to use
next J s to build like a static website
and just have your pages inside your
pages folder you could do that and then
later on if you wanted to add some
dynamic functionality you you'd have
react all set up and ready to go and you
could just throw in a react component so
I think it's a really cool technology
now I'm actually not gonna do the
deployment because I actually paused the
video and I looked into it and tried it
out and I had ran into some issues I
think it might be a Windows thing so we
might look into that in a different
video on deploying next applications so
that's gonna be it for now guys
hopefully you enjoyed this little crash
course in this application I'll put the
code in the description I'll put the
github repository and that's it thanks
for watching please leave a like if you
liked it and subscribe if you're not and
you like this type of thing and I will
see you next time
hey guys I've just created a new discord
server that's open to the public the
goal is to have a place where people can
go to help each other out for
programming issues as well as just a
place to discuss new ideas and get
feedback I also check in daily there's a
channel to request videos on YouTube and
much
so if you want to check it out just go
to discord Gigi / Travis E media</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>