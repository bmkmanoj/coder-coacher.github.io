<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build A Codeigniter PHP App - Part 4 | Coder Coacher - Coaching Coders</title><meta content="Build A Codeigniter PHP App - Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build A Codeigniter PHP App - Part 4</b></h2><h5 class="post__date">2017-03-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/01vd1kF9vZg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys in this video we're going to
continue on with the codeigniter series
that's on my channel I think there's
three videos and in the last one I
mentioned that I may continue the series
or the project and I've gotten a ton of
requests for it so that's what I'm going
to do now before we get started I just
want to say that that you know 99.9% of
you guys are awesome and supportive and
I loved being able to give you free
content but for the very few people that
want to be a dick and talk trash because
I can't get to the exact video that you
want just realize that there's only so
much time in the day and I can't get to
every single request and I can't respond
to every single comment you know I have
a job aside from this and I just do this
to help people you know I do make a
little bit from it but nothing
spectacular I make this I make these
videos just really just to help people
so try and think of that before you go
and bash any content creator that's
giving you free education you know
you're getting this stuff for free and I
doubt the people that are complaining
are donating so you know you really have
no right to talk and I'm saying this
because I got a comment saying that I'm
overrated and you know I don't respond
to people you know I'm sorry if these
videos aren't enough for you but you
know I do this for free you know you
guys get this content for free so try
and not not to you know be a pain in the
ass and like I said 99.9% you guys are
just awesome and you know I love reading
your comments and I appreciate all the
support but I'm just talking directly to
those dickheads but anyway let's move on
so the series that I'm talking about if
you go to my channel and you go to
playlist is this CodeIgniter blog out
duty and that damn look sad there's
three videos and we ended it off with
functionality to add a post choose a
category but I didn't add I didn't add
the functionality to add a category
through the app and so I want to do that
and I also want to add a logging system
and registration system all right and
then I also want to make it so that we
can output the categories and then you
click on a category and it shows only
the posts in that category all right so
that's what we'll start off with is the
categories and then we'll move on to the
login system alright now this is the
github repository for the application
and I don't have it set up on this
machine so I'm just going to basically
clone it from here and then we'll
continue on with it alright and if you
guys if you don't know much about github
and cloning cloning projects then this
will help you as well alright so I'm
going to see I'm going to go to my
htdocs and I am using xampp example ever
you want to say it and I'm going to
create a folder here on my server called
CI blog ok and then I'm going to just
open up a command line here I'm going to
use the git bash tool just pull that
down and we need to do a git clone can
so let's grab this right here I'm going
to do git clone and then paste that in
and then we're just going to say we're
going to put a dot because I want to go
into this folder I don't want to create
a new CI blog folder all right so let's
go ahead and run that okay so now if we
go to our CI blog folder and see all the
files who are downloaded or cloned so
now if we go to localhost / CI blog
we're going to get an error because we
don't have the database set up so in the
repository I actually put the two
commands that you need to run the SQL
command to create the post table and the
category table so I'm going to copy that
and I'm going to go to localhost / PHP
myadmin
or you could do it through the command
line and then I'm going to go to
databases and we're going to create a
database called CI blog and create and
then go to the SQL tab and we're going
to just paste in what I just copied and
click go alright and then we're going to
go back and copy this to create the
categories table let's go back to the
SQL tab and paste in put go and now we
should have our two tables categories
and posts and we go back to the
application and reload it now works
alright we have the about page the blog
listings and the create post now where
it says category there's no options here
because in the past videos we we
actually inserted the categories through
PHP myadmin so what I want to do is add
that functionality to add a category
that's what I want to do in this video
and also have a categories link that we
can click on have it list the categories
we click on one of the categories and it
shows the posts inside of that category
all right so that's what we'll be doing
now and then later on we're going to
move on to a blog system and we'll also
do I'm sorry a logging system and we'll
also do comments for the posts all right
so I'm going to add this project to
sublime text which is CHD I blog and
then we're going to go to the
application folder and in controllers we
need to create a categories controller
okay so let's do that
okay in file save it as categories dot
PHP
and let's go ahead and put in our HP tag
and we'll say class categories we want
to extend the CI controller okay and we
want to create a create function so do I
shall say public function create and
let's set the title so data title and
I'll set that equal to green category
all right and then when we submit our
form we're going to want to just
validate the category name so let's do
this form validation and I should have
mentioned this earlier but if you
haven't done the first three videos I
would definitely suggest you go back and
do that because you're going to be lost
okay so let's say set rules let's say
name is the field we want to validate
the readable name is uppercase and name
and then let's set that to required okay
so that will make the name field
required and then we have to basically
run it through the validator so we'll
say this validation and run and set that
equal to false okay actually I'm sorry
needs to be in an if statement so if
that equals false and then we'll put an
else okay so if it passes this will run
down here if it doesn't then we just
want to basically reload the view it
will say this this world view
and we want the header the footer and
the main content page so this will be
the header so we'll close template slash
header and just copy that okay this one
will be the footer and then this one
will be slash create okay and we also
want to pass along our data array to the
view okay which includes the title so if
it does pass then we want to call a
category function so let's lay this
category model which we haven't created
yet but we will and it'll be a function
called create category all right and
then we just want to redirect to let's
say categories which will create as well
so let's save that and now let's create
the form to submit a category so we'll
go to views and let's see we're going to
create a new folder here called
categories okay and then inside there
let's create a new file and save it as
create HP ok so this is going to be our
view so what's up let's put the title
we'll do an h2 and let's say PHP echo
actually no we're going to echo we'll do
this all right and then we also want to
put our validation errors if there are
any so echo validation errors and let's
see we're going we want to form now
since this is a create form we're going
to actually no we don't need multi-part
because we're not uploading an image so
let's just do that go long open we'll
just give all this time
in case you want to do a category image
later or something okay so I let's see
in here it's going to go to categories
slash create okay so we're going to make
a post request to that route
alright and then we'll put our ending
tag down here this actually this
basically acts as our opening phone tag
all right and then let's put a div class
of form group to the bootstrap class and
it's put a label will say name so that's
all we're going to have to fill in as a
category name and then the input we'll
do type equals text class because form
control give it a name of name and a
placeholder and so that will just say
enter all right and then under the div
we're going to put the submit button
will say button type submit and give it
a class of BTN and BTN default and then
the text will just say submit go and
save that and now we want to do is add
our route so we'll go to the config and
then route and let's see I'm going to go
right here separate these a little
alright and then we'll say route we're
going to do routes and then category
splash create and set that to go to
categories slash create so when we go to
this route it'll go to the categories
controller and then the create function
which is right here
okay so let's save that make sure
everything is saved
okay now let's see if we can go to that
route so categories glass create unable
to load a requested file templates slash
create let's see what I do oh I just did
slash create and it shouldn't be
templates it should be category alright
let's try and reload that good now we
need we do need to initialize the model
so we need to go to auto load PHP and go
all the way down to where the model is
are the models and add that to that
array so this will be category and the
scholar model
okay let's save that and reload unable
to locate the model so we didn't create
the model yet okay so let's go
to models and create a new file and
we're going to save it as capital C
category underscore model dot PHP so
throw into PHP tag and create the class
category model and that's going to
extend the CI model okay which is like
the base parrot model and let's create
our constructor public double underscore
constructs and let's load the database
library this load database okay and then
we need that create categories or create
yeah great category
create category all right and what we're
going to do here is going to say data
and put that to an array and inside here
we want our field which I just named the
name I'll set that to this input post
and then in here we want name okay so
that's going to grab the input field
value and then let's see well it's going
to grab it from going I'll create
category yeah that's right all right
so all we should have to do is return
this BB insert categories table and we
want to insert the data that we put in
that array so it saves that reload
what's this unexpected construct oh it's
got function
number nine okay how I put a double
arrow whoops okay so let's go ahead and
try this let's say technology for our
category and submit alright so he just
redirected us to categories because
that's why I said I wanted to go but we
don't have that page yet but let's check
and see if it went in so if we go to
categories and there it is
technology ID 1 and it has two created
at good so we can now insert categories
now let's take care of this categories
route so let's go to routes towards it
routes and so you'll go right here and
we'll say wrote categories and let's set
that equal to categories controller and
then the index function alright so we'll
save that and let's go back to our
categories controller and create the
index function okay and actually you
know what I want to do is just add a
create category link there so if we go
to our let's see where is this templates
header and let's go right here I'm just
going to copy this and we'll change this
to categories slash create and change
this to create categories
okay so now we have a link that we can
go to to create a category all right and
then while we're here let's create the
categories link here so I'll just grab
that and let's see where should I put
this
I'll put it after the blog link change
this to categories okay so that's not
going to work yet let's go back to our
controller categories controller and in
the index function and let's see what we
want to do what's first set a title just
like we did here so this will be
categories okay and then let's set data
categories and set that equal to this
now what we want to do is we want to
call the category model and then we want
to call a function inside that called
actually you know what I think we
already have this in the post model so
if we go to post model and yeah we
already have a get category so there's
no sense in creating another one let's
just use that okay I mean if you want to
you can but actually you know what let's
let's do it just just to be a little
cleaner so we're not going into the post
model because we're doing nothing with
posts we're just showing the categories
so I'm going to yeah let's just continue
here categories all right and then what
we'll do is just copy from the post
model that function and put that in the
category model
okay we're just ordering by name
fetching from the categories table and
returning the array and let's go back
here and then we want to load the
template I'm just going to grab this
okay so we don't want this cell we want
categories index and we'll send along
the data all right so now we need to
create this view categories index so
let's go to views categories and new
file save it as index dot PHP and let's
put in mh2 and put our title and ul give
it a class of whist group and we want
what we want to do is loop through the
categories so like for each for each
category has category and they'll end
that we want to spit out an Li when I
give it a class of Lists group item and
let's click a link and in this link
we're going to play PHP echo the site
URL we want the route and here let's do
slash category
slash post okay we're going to create
this splash and then the category ID so
we just need to concatenate we'll put a
dot here and categories
categoryid and then inside here we'll
put the category name so PHP echo
category as a category name okay
so let's save that and then go to
categories let's see it should be
working
you can't go on oh I spelled this wrong
okay so now that's working you see it's
listing the categories if we create
another one would say business submit
and now we get to this so what I want to
do is I want to we click on this and it
goes the category / post / a category ID
so we need to take care of that let's
first go to Outback to our routes and
right here we're going to say route and
let's set this to go category
/ post / and then this is going to be
any and then we're going to set that to
categories / post / and then we want to
do this money sign 1 which is basically
a placeholder
ok so let's save that and go back to our
controller and we need to create a post
function public function close
and let's see let's set data title now i
want to set the title to the actual
category name so we're going to set this
to a model function and let's call it
get at a global long convention get
category and pass in ID okay this post
will also get an ID which comes from the
third part of the URL and basically we
just want to get the name from this so
we'll get the category but we only want
to set it to the name all right so let's
save that and we'll go to our model
category model and create a function
called get category okay and that's
going to be passed in an ID and play
category ID actually now just ID
and then let's do query equals this DB
sorry about that banging upstairs
flexagon running around get where
categories and then we want to cast an
array once and where ID is equal to the
ID that's passed in and then we just
want to return that query very row I
should do it okay so we'll save that and
let's go back to our controller so
that'll just get the title now we want
to fetch the post so since we're dealing
with posts we're going to use the post
model okay so let's take data post and
I'll set that equal to this post and the
score model and we're going to call
function called get post by category and
we're going to pass in the cabbage the
category ID okay so that will get that
and then we just want to load our
templates in our view okay so we want
the header the footer and then this is
going to be now we don't have to create
a new view for this we can actually use
the post index which is nice so we'll
just say post slash index because all it
needs is a variable called posts and a
title so let's go ahead and save that
and then let's see okay we need to
create the post model function so in
post model let's go down to the bottom
here and say public function get post
by category and that's going to take in
category ID and let's see can I copy
something up here let's grab actually
now I'll just write it out so say this
VB I want to order it so order by let's
order by the post ID and set that to
descending C we want to join in the
categories which we get up here actually
I'll just copy this okay so join in
categories and then instead of this get
post we're going to do get where because
we only want the post from that specific
category so get where and they will put
in second parameter of an array and say
we want to get it where the category ID
is equal to the category ID that's being
passed in and then we'll return the
array so let's save that reload now we
don't have any posts so let's go ahead
and add one let's say first post and I'm
just going to grab some sample content
so you'll generate a couple paragraphs
and let's grab this okay we'll go back
here paste that in let's choose
technology and choose an image this
CodeIgniter image and submit okay so
that's the post now if we go to
categories and click on business there's
nothing there click on technology and
there it is we're displaying the title
the category name is the title and then
only the technology post
alright guys that's going to do it for
this video hopefully you know this helps
you guys out that wanted me to continue
on this and that's it
so in the next video we'll probably work
on comments I guess for the post because
right now there's no commenting system
and then we'll move on to administration
and login and all that all right so
thanks for watching and I'll see you in
the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>