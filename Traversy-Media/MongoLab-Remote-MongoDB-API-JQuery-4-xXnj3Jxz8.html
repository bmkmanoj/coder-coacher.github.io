<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MongoLab - Remote MongoDB API &amp; JQuery | Coder Coacher - Coaching Coders</title><meta content="MongoLab - Remote MongoDB API &amp; JQuery - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MongoLab - Remote MongoDB API &amp; JQuery</b></h2><h5 class="post__date">2016-02-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4-xXnj3Jxz8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys in this video I'm gonna show
you how to create a remote MongoDB
database and also how to connect to it
and interact with it using just
JavaScript and jQuery alright so the way
we're going to do this is by using Mongo
lab which offers MongoDB as a service
and gives you a free dev account alright
there are paid plans if you want a lot
of storage so for a production
application but for what we're doing
there free account is more than enough
all right so you want to go to Mongo lab
calm and just register and login and
then you should see an interface like
this alright if you have databases this
is where they'll show up alright and the
reason we're using Luongo lab is because
they give you this really nice and easy
to work with API to create read update
and delete collections and documents
alright now if you are not familiar with
MongoDB it's what's called a no SQL
database and it works much different
than let's say you know traditional
relational database like MySQL or
postgrads
alright there's no tables there's no set
schema it's it's very open and very very
free and very fast all right so if we
look at the data API we're gonna need an
API key which is really simple to get
it's just in our in our account menu and
then you can see that we can make get
requests so for instance if we want to
get a list of databases we can make a
get request to this URL right here
alright you're gonna make sure you have
your API key we can list collections
documents we can also create read update
and delete collections and documents
alright so what I have here is I have a
folder called Mongo lab which is in my
patch II server you don't need to use
Apache but you do want to use some kind
of server because you won't be able to
make Ajax calls from just a file in your
operating system alright so I have an
index file which I'll open up right now
alright so all I have here is just our
base HTML
also including bootstrap for CSS and
jQuery alright then we have a script for
our main je s which will open now
okay so main je s has nothing in it
we're gonna start from scratch all right
so before we do that let's go ahead and
create a database so we'll click this
create new button now as I said there
and there are premium accounts and you
can see that the pricing here can be
absolutely ridiculous at 4th almost four
thousand dollars but what we're gonna do
is click on single node and then we have
a sandbox account here which is free
alright and for our cloud provider we're
just gonna leave it at the default which
is Amazon Web Services you can also use
Google Cloud and Windows Azure
alright so down here we can give our
database a name I'm just gonna call this
bookstore dev - I think it has to be
unique so you probably can't use the
same one alright so we'll create that
that'll create our deployment ok so as I
said when you create a database they're
gonna show up here let's go ahead and
click on this and we're getting a
message saying that there's no user and
the user is required so if we click on
users and then add database user oops
okay you can also make users read-only
if you want all right so now we have a
user collections this is where I will
see all of our collections when they're
create we're gonna have one collection
called books so I'm gonna go ahead and
add that and I'm about 90% sure that you
don't have to create your collection
from here you can actually do it from
from your API call all right so let's
say create alright so that's all we have
to do here so let's hop over to our
application and the first thing I'm
gonna show you is how to make a post
request and add data all right so we're
gonna want to add a book so I'm actually
gonna paste this form in just to save a
little bit of time okay so we're using
bootstrap so I'm using the class form
group and form control and basically we
have a title I gave this an ID of title
then we have a category ID category and
then an excerpt all right and we have a
submit button and we also have an ID of
add book for the form so let's save that
and we'll take a look okay so there's
our form now what we want to do is go to
main j/s and we want to handle the
submission with jQuery alright so we'll
say document dot ready okay when the
documents ready we're going to run a
function and here we're going to create
an event handler okay so we know the
form has an ID of add form alright so
we'll say dot on submit then we'll have
a function okay I'm going to pass in an
event here and then just prevent the
default
all right and just to make sure that
this is working let's just say
console.log and it'll say submit it
all right so we'll reload and I'm gonna
submit and that didn't work
add form oh it's ad book not ad form
okay so we're getting submitted down
here now what we need to do is we need
to grab the data that's that's going to
be in the inputs when we submit so what
we'll do is let's create a variable
called title and we want the input that
has an ID of title and then we want to
just get the Val okay so we want to do
that for the other two fields as well
all right so now what we want to do is
make our Ajax call so we're using jQuery
I'm going to use the Ajax function okay
we're going to pass in a URL and that's
going to be let's see let's go to our
API documentation and we want to what do
we want to do let's see create
collection insert document all right so
we want this actually you know what we
can just grab this whole thing just
format this how I like
okay so what we want to do is replace
this my DB with the name of the database
which is what do they call it bookstore
I think it was book store dev - and the
collection we want we're going to
replace this with books and then we also
need to type in our API key which we can
get from right here where it says user
and then your user name click on that
and then the API key should be right
here okay so we're gonna grab that just
plug that in right there alright now
where we have our data we're gonna call
Jason dot stringify and then let's just
go like that and then we're gonna say
title title
category and excerpt
okay and then down here after
content-type we're going to have our
success success callback okay and that's
gonna take in data and then after that
we'll be the error
oops okay that's gonna take in a couple
parameters xhr status and error and if
there's an error we're just gonna
console.log okay if there's data then
we're going to just redirect all right
I'm sorry now if the data if it's
successful and it actually posts then
we're going to redirect with window dot
location dot a trap okay I'm going to
set that to index dot HTML all right so
let's go ahead and save that and we can
try it out
all right so book title we're gonna say
book will say my book one category will
be suspense excerpt we're going to put
in some sample text just some lorem
ipsum that book okay so that redirected
us let's go to our database okay and you
can see we now have a collection books
what we did have a collection but we now
have a document okay now you can see our
title category and excerpt and it also
gives us this underscore ID which gives
us an object ID okay so this is a unique
value that MongoDB gives us
automatically okay we don't have to deal
with this or create this alright so
let's go ahead and just add in another
one this one will be my book to category
I will say drama and we'll just use some
sample text here I'll change it up a
little bit
okay we'll add that that should have
added okay so now we have to let's do
one more actually so this one will be my
book three category will say suspense
again change that up a little bit
alright so now we have three records or
three documents in our database what I
want to do now is add them down here
alright so let's go to our HTML and what
we'll do here is inside the container
let's put in HR and then what we'll do
is put in a class of row alright and
then we're just going to have a div
we're going to give it an ID of books
alright we're gonna use that as our
placeholder okay so that's all we're
gonna do here we're gonna save and then
go back actually know what we want to do
is on the body tag here we're gonna say
on the load equals and then we'll say
get books alright and then in main j/s
we're gonna go underneath everything
here and create a function called get
books alright and we're going to run the
Ajax function ok we'll pass in the URL
which is gonna be the same as this one
okay so we'll copy that
actually take that comm route and then
all we're going to do is from here just
say dot done and throw in a function get
the data and let's just do a console dot
log data okay and now we'll go ahead and
reload and now down here you can see
we're getting three objects which is
each book alright so what we want to do
is go inside of this function here
delete that and then we're gonna create
a variable called output and let's set
that we'll set that to a div all right
and then what we need to do is we need
to loop over the data so we'll use in
each loop okay so each and then we'll
pass in data and then function will have
a key and data and then we're gonna just
append to that output all right we can
do that with plus equals all right so
let's see let's do a div each one I'm
gonna give a class of well that'll just
give them a gray background all right
and then
let's do an h3 alright and this is where
we can put in the title okay so we're
gonna just go like that concatenate and
we can say data dot title all right and
I'm going to copy that
and then this one let's make this a
paragraph and this one will show us the
category alright and then we'll do the
excerpt all right and then down here
let's say ouput and this will be the
closing div tag alright so now what we
want to do is take that books div that
we created right here and then we just
want to output the HTML there alright so
we'll say books dot HTML and then we'll
pass in our output all right so let's
see what that does
ok so now we're getting that now we're
not seeing the well if oh I didn't put
the equals oh okay oh yeah we got to put
the an ending div here as well there we
go
so now
let's say my book for and there we go
my book for let's just put the word
category right here cool alright so
we're gonna go ahead and stop this here
and we'll continue in a second video
where I'll show you how we can actually
edit these books from here as well as
delete them alright so I will see you in
the next</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>