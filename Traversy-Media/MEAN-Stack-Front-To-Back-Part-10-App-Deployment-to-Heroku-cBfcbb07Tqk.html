<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MEAN Stack Front To Back [Part 10] - App Deployment to Heroku | Coder Coacher - Coaching Coders</title><meta content="MEAN Stack Front To Back [Part 10] - App Deployment to Heroku - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MEAN Stack Front To Back [Part 10] - App Deployment to Heroku</b></h2><h5 class="post__date">2017-03-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/cBfcbb07Tqk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys in this video we're finally
going to deploy the mean authentication
app that we created in this series I
know a lot of you guys have been
requesting that so I may make more than
one of these because it's a deployment
is much different depending on what
service you're using in this particular
video we're going to use Heroku but I
may do one for digitalocean or AWS or
something like that
alright so Heroku is a really nice
platform it has a lot of add-ons and
it's very easy to scale it's as simple
as just using a slider so I think it's a
good option for us alright so I have my
application running locally right now
this is actually the angular source you
can see we're on port 4200 and what
we're going to do before we get into
Heroku is just change a couple things
right so I'm just going to stop this
server and the back end alright and
let's go into the code here and we first
want to open up app dot Jas and when
you're using Heroku you need to assign
your port to a specific route okay so
let's go to right here where we just set
it to 3,000 and what we're going to do
is we're going to say the port is going
to be equal to process dot C and V dot
port or port 8080
okay so just change that and taroko
we'll know you know what port to load
this on so let's save that and then the
next thing we're going to do is go into
the angular source and go to our service
the services and we want the off service
which is right here all I need to
install the Adam extent typescript
instance extension let me just do that
real quick because I can't deal with
this no highlighting
the install we want typescript see Adam
typescript
I actually lost the virtual machine that
I did the initial series on so I had to
kind of recreate everything and
reinstall everything all right so it has
a dependency linter yes all right so
that should be all set and now let's go
back to our service and now we have
highlighting now what we need to change
is this right here when we make our
request to the backend it's not going to
be localhost 3000 so it's going to be at
first it's going to be a temporary
domain that Hiroko gives us and then if
you want to add your own domain which
you probably would so we're just going
to use users slash register here no HTTP
localhost same thing here and same thing
here ok it's all in the same domain so
we don't need to use that so let's go
ahead and save that and I think that's
all we need to do now we need to build
this out into the public folder so let's
go back to our command line make sure
you're in the angular source and you
want to do ng build ok so now everything
should be all set now we're going to go
to Heroku you want to go to Heroku comm
and you want to sign up if you don't
have an account and then just log in and
that will take us to our dashboard so I
don't have any applications right now
what we're going to do is click on no
djx and that gives you kind of a little
walkthrough so let's say I'm ready to
start and first thing we need to do is
we need to install Heroku nor the Heroku
CLI which I believe is called toolbelt
so let's go right here and choose I'm on
Debian Ubuntu if you're on Windows or
Mac I believe it's uh you can actually
download it and install it as an
installer but for a bun to we're just
going to use these commands alright so
I'm going to grab this to have the
repository that we need
let's pay flattened
okay now I'm going to run this curl
command
and then we're going to do an update
and then we should be able to install
Heroku so let's do sudo apt-get install
to Roku and that will install the
command-line client or interface
whatever ok so we can close this up and
go down here so you obviously you have
to have node an NPM installed you also
need to have kit so we can do get - -
version and you can see our version 274
so now everything is all set so let's
click this button here and we need to
prepare the app now this is cloning
something from github we're not going to
do this we this is like a sample
application we have an actual
application but we do have to initialize
a git folder so we just want to say git
init ok so that will create the dot git
folder
alright so let's go ahead and click this
to go to the next page and now what we
want to do is run Heroku create ok which
prepares to Roku to receive your source
code so Heroku create enter your
horrible credentials
password she goes my password there you
go
alright so now we logged in and you can
see if those creating app so we have
this URL here go ahead and open link and
that gives us our application now we
haven't pushed it to Heroku yet so none
of our files are on the server it's just
basically a welcome page alright and if
we go back to our Heroku dashboard and
reload we should have this this yours
will be different but it'll be some kind
of weird name like this alright so if we
click on that this gives us a whole
bunch of stuff shows us all the activity
all the commits that we make to the
server gives us our resources let's see
what else metrics are setting this is
where you can actually delete the app if
you need to as well alright and this is
where you go to add your domain ok if
this is going to be a production
application you obviously want a
different domain than this horrible
thing right here ok so now that that's
done let's go back to our documentation
here and we basically want to use git to
commit and then push it to this right
here this Heroku master alright so let's
go back to our command line and we're
going to do git add dots to add
everything and if you haven't watched my
git crash course I'd suggest watching
that if you're not if you're not
familiar with git and then once we add
it we can commit so let's say git commit
and we're going to add the AM flag and
then a comment here so let's just say
first commit
oh if you get this then you just have to
run the config and give it your email
and name so let's do that
it's config global if you don't get this
message you probably have already done
this user email okay and it will also do
the name so it's a user name
all right so now let's go and run git
commit again okay so that will commit it
locally and then we're going to just
push it to Heroku all right so let's do
git push a Roku master
all right so let's took about a minute
or so and get a little more and now
let's go and visit our URL so we'll just
open it from here oh I really didn't
expect it to work because we haven't set
up Mongo yet we definitely won't be able
to register so let's try it I don't know
how it would though because we haven't
stood up Hongo a password submit and we
don't get anything if we open the
console we're still not getting anything
so what we want to do is set up Mongo
now ivory recorded this a few times so
I'm not sure if I already mentioned it
but Heroku has add-ons in MongoDB from a
service called M lab is one of those let
me just show you if we go to see where
is it we're the healthy add-ons settings
no resources maybe right here to find
more add-ons okay so I searched for
MongoDB and what we want is this M lab
now installing it as an add-on does make
things a little bit easier but in order
to do it you have to add credit card
info and I don't want to have to do that
alright so what we're going to do is
just set up M lab on our own and then go
ahead and add the plants using the
protocol or the database name and login
info in our application alright so let's
go to M lab dot-com
okay I already have an account if you
don't just go ahead and sign up so I'm
going to login
okay and from here we're going to make
this a little wider now why they don't
make this responsive
let's do create new and we're going to
choose single node and we want the
sandbox free account database name will
say mean off app and we're going to
create the new MongoDB deployment okay
so that should be getting set up now if
we click on it we want to create a user
so we're going to go to users add
database user I'm going to use Brad for
the database name I mean the username
and the password okay so now we have a
remote MongoDB database and we need we
have authentication setup so we're just
going to copy this right here and let's
go to our application and we want to go
to where we put it config and then
database j/s and we're going to replace
this right here which is our local
database okay and we just want to put in
the user whatever you put for a user and
then your password alright so let's go
ahead and save that and now we have to
push this to Heroku again so let's say
get I'm just going to say at all and
then get commit look let's say length DB
and now we're going to do git push
Heroku master
okay so whenever you want to push your
changes you just have to do that and
that's that's pretty much it
all right so that's all set now let's go
back to our remote application and just
reload it all right so now let's try and
register and hopefully it work so user
name email password submit and run
registered and can login so let's go
ahead and login we're going to say 1 2 3
4 5 6 and login and as our dashboard
awesome and if we could profile it'll
get our profile info very cool so now if
we go to M lab and let's go let's just
go back home
and let's take a look at our database
and you can see we now have a user's
collection so I click on that and
there's our user so our application is
now fully deployed all you have to do is
where it is add a domain name because
I'm sure you don't want to use this so
to do that just go to settings and see
right here you can add a domain all you
have to do is add it here and then you
can point your dns to Heroku which you
can find on this page alright so you can
go ahead and get that set up I'm not
going to go through that but that's it
really our application is now remote and
we can simply push to Heroku to update
any changes ok and let's try the logout
that works too and if we try to go to
slash profile it boots us back to the
login alright guys so hopefully really
enjoyed this series from your feedback
it seems like you have now I'm not sure
if we're going to continue this same
series or if we might just take this
this off app as kind of a beginner
our starting point for another
application all right but we'll see how
it goes all right guys thanks for
watching and thanks for sticking through
the series I really appreciate it and
that's it I will see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>