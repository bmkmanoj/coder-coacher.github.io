<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a Webcam Filter &amp; Picture App With WebRTC &amp; Canvas | Coder Coacher - Coaching Coders</title><meta content="Build a Webcam Filter &amp; Picture App With WebRTC &amp; Canvas - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a Webcam Filter &amp; Picture App With WebRTC &amp; Canvas</b></h2><h5 class="post__date">2018-01-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6_gLU_OStK0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this video is sponsored by GPD host they
offer a variety of affordable hosting
plans with flexible billing cycles these
plans include a free ssl certificate a
free domain name website builder and
many other services including free
website migration with no downtime to
find out more visit GPD host com or
click the link in the description below
hey what's going on guys so a couple
days ago I was at the gym and I was
listening to the syntax podcast with
West's boss and Scott talansky which is
an excellent podcast I highly recommend
it
but I was listening to one of their
first episodes this webcam and audio
access with WebRTC and getusermedia and
I knew very little about WebRTC and the
getusermedia API before this but after
listening to this podcast it made me
want to run home and start building
stuff and working with it basically what
it is what WebRTC is is a collection of
communication protocols that can be used
to do a lot of different things over
peer-to-peer connections real time
connections and utilize things like
video and audio so building like video
chat applications things like that and
we're not going to do anything that
spectacular but what we're gonna do is
build this here which I just called vid
snapper and basically what it's doing is
its using the get meet getusermedia API
to get a stream for my webcam and I'll
put it to a video element in the browser
alright so we're gonna do that in in
addition to that we're going to be able
to take photos from the webcam okay so
if I click take photo you'll see it'll
just pop it down here and I can also
change filters so I what I did is I
added a select list and they added a
change event so if I select grayscale
what it'll do is it'll apply a CSS
filter to the video object and it'll
change the way it looks okay we have
sepia or sepia however you say it and if
I take a photo you'll see that it'll
actually use that effect okay we have in
Hieu blur and contrast and i think
there's some other filters too but i
think that this is good for now and you
guys can experiment with this if you
want and you can see I can clear them
out and the filter will go back to
normal so that's what we'll be building
I think it's a pretty cool application
it's it's not like something you'd sell
or anything like that it's just just
snaps pictures maybe you could hook it
to some kind of API where you could
store the images in the database or in
some kind of back-end but the purpose of
this video was really to introduce you
guys to this technology and we don't
need any external libraries this stuff
is all in Chrome I think it's in Chrome
Firefox and I think Opera now and I
believe that there's there's polyfills
that you can use for other browsers as
well but I figured it was a cool project
it's something that really really
interested me this page here from the
Mozilla doc was really really helpful
with the getusermedia API and syntax you
can see it gives you a lot of code
samples and then of course the podcast I
would highly recommend listening to that
episode as well as all of them I think
there's like 25 or something like that
all right so that's what we building
guys hopefully you enjoy this and let's
get into it all right so we're gonna go
ahead and get started from scratch here
so I just have vyas code open and they
have an empty folder called vid snapper
so this is where we're gonna create our
project so first thing I'm gonna do is
create a couple folders and files so
we're gonna have an index.html file
alright we're gonna have a couple
folders so one is CSS and one is it
should be in the root one is j/s and
whoops not a file folder so I want a
folder called j/s and then we also want
another folder called images or I'm
gonna use IMG all right now the image
that I use for the background I mean you
guys can use whatever you want
but what I did is I searched for photo
background not really knowing what type
of image I wanted but I ended up finding
this
where is it right here this dockwood
background so that's what I used
obviously if you're gonna you know make
this into a production application or
whatever don't use this image it's not
it's not a stock image but I mean
obviously you can use it for just
learning purposes so I'm gonna go ahead
and save that into let's see that's the
one I already built I want to save this
into code prod and vid snapper and IMG
and I'm just gonna save it as BG dot
JPEG alright so we'll get that out of
the way all right now that we have that
image in there we're going to create
inside the j/s folder a file called main
j/s okay so that's the only JavaScript
file we'll need and we're just gonna
need one CSS file called style dot CSS
okay and we could have put all these
files in the same directions in the root
directory but I might do more with this
application so I'm trying to set it up
as if it were a production app so in the
index.html let's just go ahead and put
some head and body tags I'm using Emmett
and V s code so I can just do
exclamation tab and it gives me our head
and body tags alright so in the title
let's just call it what I call it vid
snapper I'm in kind of a stupid name but
it doesn't really matter I'm gonna close
this sidebar up to give us some more
room as well and let's link our style
sheet so it's in CSS slash style dot CSS
and let's go down here and link our
JavaScript so that's gonna be in j/s
slash main dot j/s okay now you're gonna
need a server for this what I'm doing is
I'm using the live server extension in
vs code if you want that you can click
on extensions search for live server you
can see I already have it installed just
go ahead and install that and then you
can actually just right click on the
HTML and you can say open with live
server and it'll open on your localhost
on the default port of 5500
okay so how this works how getusermedia
works is it needs to be on HTTPS unless
you're in Chrome on your localhost at
least that's that's what I understand is
if you're using this on a real web
server somewhere you're gonna have to
have an SSL you're gonna have to have
HTTPS all set up if you're using it on
your localhost and you're using Chrome
then you don't need HTTPS okay so let's
go ahead and kind of build out the
markup the the UI we'll just do that
first so I'm gonna create a class of nav
bar we're not using bootstrap or
anything I'm just using that class and
then it's just gonna have an h1 with the
title of vid snapper and you can call it
something else if you want all right now
for the part where the where the actual
video is and we have the buttons and all
that that's going to be in a div with
the class of top container okay so in
the top container we're going to have a
video element and we're not gonna have a
source to it get rid of that we're gonna
do that dynamically but we're gonna put
an ID of ID the idea of video and in
here what goes in here if you don't know
about the video element is if it if it
can't show for some reason whatever text
you put in here will show so we're just
gonna say stream not available
okay and then underneath that we're
gonna put the first button which is
going to be the take photo button so I'm
gonna give this an ID of photo - button
I'm also gonna give it a class of BTN
and a class of BTN - dark okay and I'm
using Emmet here if I hit tab it'll turn
into the actual element alright and
inside here we'll just say take photo so
that's our first button then we're gonna
have our select list for the filters so
let's put in a select
and we don't need a name however we do
need an ID so we're gonna call this
photo - filter okay and then we're gonna
have some options here so let's say
options what is there I think there's
like seven so we'll put seven of them in
there and for the values what I'm gonna
do is put the CSS filter value okay so
let me just show you real quick just in
case you don't know about CSS filters so
we have different values like right here
so blur brightness contrast here's some
examples so for instance for our
grayscale we're gonna say grayscale 100%
for a sepia will say sepia 100% things
like that and then we're gonna
dynamically change those in JavaScript
okay but we want the values of the
filter of the CSS filter here so the
first one is actually going to be none
and we're just gonna call this well I
called it normal you can call it none if
you want and then the value for the
second is gonna be grayscale 100% okay
you can change the the percentage of the
grayscale but we want it full black and
white all right and then here we'll just
say grayscale all right for this one
here the value will be sepia and that'll
be a hundred percent will say sepia or
CP I don't really know how to say it
then this one will be in vert and
that'll be a hundred percent
I'll say inverts this one here will be
hue - rotate and we're going to put in
here ninety degrees or 90 deg and we'll
just say hue and then this one will be
blur
and for that we're gonna say blur and
we're gonna say ten pixels all right and
then this final one will be contrast and
we're gonna use 200% and then in here
we'll say contrast all right so those
are filter options so underneath the
select we're gonna have a button and
we're gonna give this button an ID of
clear - button all right and we'll just
say clear and then underneath that we're
gonna have a canvas okay now I didn't
really explain this part basically the
way that we're gonna be able to snap an
image is we can get our video and we can
put we can put it on a canvas and then
we can use a method what is it let me
just look at it real quick
canvas dot - data URL and we can
actually format it as an image and then
we can create a new image element from
that okay so we do need the canvas
however we don't want to show the canvas
so in our CSS we're gonna display it to
none but we do need it here in order for
this to work okay and we're gonna give
us an ID of canvas as well okay and I'll
explain more when we get to the
JavaScript part so that's it for the top
container underneath that we're gonna
have the bottom container and this is
this is basically where we're gonna have
all the images and they're just gonna be
put dynamically into a div with the ID
of photos so that's all we need there so
that's it that's all of our markup okay
and it looks absolutely horrible because
we have no CSS now I was debating if I
wanted to do the CSS first and get it
looking good or the JavaScript but I'm
sure that most you guys are interested
more in the JavaScript so we're gonna
jump to that first and then we'll make
it look good with CSS all right so I'm
gonna try to explain this as we move
along here so first thing we want to do
is just define some global variables and
I'm going to use let here
and we're gonna define a width of 500
and this pertains to the video itself
and then let's do a height I'm gonna set
that to zero for now and I'm using I'm
just using one let and then commas so
this is the same as like doing let
height semicolon let height or let with
semicolon let height semicolon and so on
we also want filter and we're gonna set
that to none for now
and we also want to set a value of
streaming equal to false all right and
then put our semicolon in so we also
want a bunch of Dom elements to work
with so we want the video element so
we're going to use document dot get
element by D we want the idea video and
then we're going to just copy a bunch of
these so we have video we have our
canvas element so that'll be canvas and
then this one will be for photos photos
is basically the place holder where all
the photos will be put we'll be using a
little bit of grid CSS for that and then
we'll have our photo button
and then we have our clear button which
had clear - button and then we have our
photo filter which is the select list
okay so there's our Dom elements are
variables now we're going to get the
media stream okay and this is where we
use our getusermedia method which is
part of navigator so we're gonna say
navigator dot media devices dot
getusermedia alright now this takes in
an object and this is where you define
if you want the video and/or the audio
so we do want video so we're gonna set
that to true but I don't want an audio
stream so we're gonna set that to false
but it will pick up your microphone if
you set that to true when you allow it
in the browser you'll get a little
pop-up and you can allow or block now
this will actually return a promise it
used to deal with callbacks but now it's
a promise so that means we need to add
dot then actually I'm gonna put this on
a new line like that so we'll say dot
then and then if there's an error we
want to do dot catch like that
alright so inside the dot then we're
gonna put a function if you want to be
fancy you can use an arrow function but
I'll just stick to the callback here and
this takes in the stream or this will
give us these streams so stream and then
what we want to do is link to the video
source okay so we have that video
variable which are we're grabbing from
our HTML so this right here and what we
want to do is we want to call dot source
object and then we want to set that to
the stream that we're getting from
getusermedia once we do that we can
actually
play the video by just saying video dot
clay okay so down here in the catch we
want a function so this is if something
goes wrong then we want to pass in an
error or it'll give us an error and then
what we want to do with it is just
console dot log it and I'm just gonna
throw some backticks in here and we'll
just say error and we'll set that to
whatever that error is all right so I'm
gonna go ahead and save and that should
just auto load let's see it should be
showing the image or the video let me
see if I have an error down here video
dot source objects what did I do here oh
it should be source object equals stream
shouldn't pass in stream and there we go
so this code here is what is actually
getting the stream from the webcam and
putting it into that video element and
playing it alright so next thing we want
to do is we want to call an event
listener on the video object for the can
play event all right so let's say play
when ready and that's what we're gonna
define like all the widths and stuff
like that of the video and the canvas so
we're gonna say video dot add event
listener and we want to listen for can
play and then call a function alright
and that function will have an event
passed in just move this up and then
we're gonna check to see if the
streaming value is false so we're gonna
say if not streaming and then this is
where we want to define we want to set
video canvas height so we actually want
to define height or redefine height as
video dot video height and we want to
say we want to divide that by the when
is it the video dot video with yeah
video dot video with divided by the
width okay and then we want to set all
the different attributes so we want to
say video dot set attribute which is
just going to set an HTML attribute and
we want to set the width to whatever the
width is okay we want to do the same
with the height I'm actually gonna do
for these so this one will be height
spelt that wrong all right so we're just
dynamically setting the attributes of
the video and then we want to do the
same thing with the canvas came and we
have that canvas element want to set the
width of that and we want to set the
height so we want to change this to
height
all right and then we just want to set
streaming to true all right now let's
see oh this also takes in another
parameter of false okay because we want
that to be synchronous and then let's
save that so now the video is actually
500 that's why it looks so big if we
look at the the mark up here you'll see
width equals 500 all right and then the
height is automatically set to 375
because of this formula we did here but
these weren't set initially these
weren't set here we did this through the
JavaScript so that's what's what
happened what's the purpose of this here
and it also set the canvas now if I were
to actually let's see what do we want to
do next let's let's do the take photo
okay now we need an event listener for
this so we're gonna go down here and
we're gonna say photo button dot add
event listener we want to listen for a
click and then we want to run a function
all right we'll pass an event in here
and then we're going to call a function
we're going to create called take
picture and then we just want to prevent
the default so I'm gonna say e dot
prevent default like that
all right we're also gonna make this
false
okay and then let's create that function
take picture all right we'll just test
that out I'll just say pick I should
take in actually no no event all right
so let's try that out we'll go to our
console click it and we get pick all
right so in this take picture this is
where we want to create our canvas okay
so let's get rid of the console.log say
create canvas so to do that we're gonna
say Const I'm not gonna go through like
the basics of canvas or anything like
that it's we're just creating a context
using canvas dot 2d or get context
canvas get conned context 2d is that
right yeah and then we're gonna check to
make sure that there is a width and a
height value so if width and height then
we want to set
canvas props so we'll say canvas dot
width is going to be equal to the width
and then canvas dot height will be equal
to the height all right then what we
want to do is draw an image of the video
on the canvas so this this is how we're
taking the picture we're going to take
the video and we're going to draw it on
to the canvas when we click this button
so to do that we take the context okay
we created a context and we want to call
draw image I should actually do a crash
course on canvas but we want to say draw
image and then we want to pass in the
video we want to pass in zero zero and
then the width and the height and that
will actually draw the image onto the
canvas
okay now let's actually save that and
see if I click take photo there we go so
you can see that the top one is the
video feed this is the canvas if I click
it again you'll see that let me put my
hand up take a picture and it's just
going to keep changing the canvas it
just paints it on to that all right let
me just reload this so I mean that
that's part of what we want to do but we
don't want to just paint it onto the
canvas we actually want to create images
so we're going to now create an image
from the canvas and we can do that by
creating a variable we'll call it image
URL and we're going to set that to
canvas canvas dot and then there's a
method called to to data URL sorry guys
I do have to glance over at this code
because this some of this is very new to
me not so much this this part but the
the WebRTC stuff for the getusermedia
stuff and we want to set this to image
slash PNG slash PNG like that alright so
now that we have the image URL what's
actually console.log that see what that
looks like okay so if I take photo and
there it is okay so let's go to the top
so this is what it looks like this is
basically a base64 encoded you image URL
so we want to take this and look at the
picture we want to take that and we want
to basically create a new image element
in the Dom through our JavaScript and
then assign that to the source of it
okay image source so let's say create
image elements and if you took my modern
JavaScript from the beginning course
this we did this this type of stuff
quite a bit so we'll say Const image and
we'll set it to document dots create
elements okay so this will actually
create a new element and we want it to
be an image all right next thing we want
to do is let's see we won't do the
filter just yet let's set the source
so we'll say set image source so we can
do that by taking that image and saying
set attribute and we want to set the
source attribute to the image URL
alright so just to recap what's going on
in this function here we created a new
canvas we set the width and the height
we drew the image on the canvas of the
current I guess frame of the video and
then we created an image from that using
this right here to data URL and we
an image a PNG image in base64 format
then what we did is we created a new
element into the Dom we haven't inserted
it into the Dom but in JavaScript and
then we assign that base64 URL to that
images source all right so now all we
need to do is append that image to the
photos ID which is right here okay so to
do that we can simply say photos because
we already have that defined right here
okay so we want to take that photos and
we want to say dot append child and then
just simply pass in the image
all right so we'll just say add image to
photos all right let's save let's close
this up let's click take photo so this
one right directly under is the canvas
this is the photo that was created if i
click take photo again i'm gonna hold up
my hand take photo the canvas changes
and then we also added a new image all
right if I hold up my fist the canvas
changes you'll see it added a new image
now what I want to do is get rid of the
canvas I don't want that there I just
want the photos and we can simply do
that by going to the CSS and assigning
to the canvas element display:none all
right so now when I do it it's just
going to do the photos if I hold up my
hand take another photo there it is okay
and it's just gonna keep taking photos
the canvas isn't gonna show okay so the
that's that's pretty much it the only
thing we really have left to do is the
clear photos in the filter all right now
the filter is pretty easy all we have to
do is actually both are easy we just
need to add a couple event listeners so
let me just add a comment here we'll say
take
picture from canvas put a comment here
say photo button event and let's do the
filter event alright so we have a
variable called photo filter wow this is
this is getting kind of long photo
filter and we want to create an event
listener now this is the select list the
photo filter if we look up here it's
connected to the idea of photo filter
which if we look in the HTML is the
select okay now we don't want to click
event for this obviously we want a
change event when you change when you
select something that that emits a
change event so that's what we're going
to put here is change alright and then
we'll put a function
we'll just prevent the default behavior
and what we want to do is we want to
assign a variable called filter they
call it filter oh we already have the
filter variable remember that's up here
in our global variables right here it's
initially set to none but what we want
to do is set it to whatever's chosen now
we can access whatever is chosen with
the event dot target dot value okay so
whatever is in the option for instance
grayscale 100% that is what's going to
be put into this right here which will
then be put into filter all right now
that alone doesn't do us any good if I
save and I choose grayscale nothing
happens we need to apply it to the video
so the way that we can do that is by
saying video dot style dot filter okay
we can change any CSS value we're
changing the filter value and we're
setting it to whatever is in that filter
variable all right so let's actually say
set filter to chosen option I just want
this really cool I want it nicely
commented for you guys and then we'll
set filter to video all right
let's save that and then I'm gonna go
ahead and choose grayscale and there we
go
sepia the invert so now I can change the
whatever this is filter all right now we
want to we want to apply this to the
photos right now you see how I have
sepia chosen if I say take photo it's
not in that filter so all we have to do
is go down here and apply that to the
image okay so I'm just like we did the
let's see actually we're just gonna go
right here
I'll say set image filter so we just
have to say image dot style dot filter
equals whatever the current filter so
now if I choose grayscale and I take a
photo it's grayscale if I choose blur
take a photo its blur okay now the last
thing we need to do in the JavaScript is
the clear we want to be able to do a
couple things first of all we want to
get rid of all these images which is
easy and then we also want to set the
filter back to normal in the picture and
in the select list so let's add one more
event say clear event so we're going to
take the Clear button and we're gonna
call addeventlistener and we want a
click function
and inside here we want to clear all the
photos and all I'm gonna do to establish
that is say photo dot innerhtml and set
it to nothing so that so everything
inside the photos actually that should
be plural photos is going to be wiped
out so there'll be no more images
showing then we want to just change the
filter back to normal
so we'll say filter equals none I should
say back to none all right and then we
want to set the video to none the video
filter so video dot style dot filter
equals filter which is now none and then
finally the Select list which is photo
filter we're gonna set the selected
index okay so that's how we can access
that and we want to set it to zero which
is the first option which is none or
normal okay I'll say reset select list
set video filter all right so that
should do it let's save let's go ahead
and take a photo let's change the filter
to grayscale take another one and now
when we click clear what should happen
is these should disappear this should go
back to normal and this should go back
to normal so clear and there we go
all right so our javascript is done and
i mean it's you know it's how many lines
of code ninety seven lines of code but
it's it's pretty simple especially to
get the just the to get the webcam on
the in the browser is very very simple
it's just this chunk of code right here
so now let's make this look a little
better so we're going to go to our
CSS and we're going to we want to keep
this in here let's add to the body so
we're gonna add a font family of arial
helvetica sans-serif
let's also zero out the margin and
padding and for the background I'm gonna
say black and then we also have our URL
our image which is gonna be dot dot /
IMG / BG dot I think it was a jpg let's
try that yep
so those of you that are kinda new to
CSS I'm doing dot dot slash because if
we look here we're in the stylesheet in
the CSS folder we need to go outside of
the CSS folder so that's what this does
and then we're going inside the image
folder into the and then using the BG
file alright so one more thing for the
body I want to put overflow X because we
don't want any horizontal scrolling so
we're gonna set that to hidden all right
now after the body we're just gonna add
the navbar
so now bar we're going to give a
background of triple three let's give it
a padding of 15 pixels and a height of
40 pixels and then a color of white
and save alright let's see we also want
to do for the h1 the reason the h1 looks
like that is because other reason for
the spacing right here is because
headings h1s and all headings they have
margin by default so we just want to set
that to zero and we also want to align
it to the center and save there we go
now for the top container which is this
all of this actually the buttons the
select the the video that's all in the
top container so let's add that and we
want to set the width to 500 pixels we
want to set the margin I'm gonna say 30
pixels on the top and bottom and then
auto on the left and right which will
move it to the middle alright so we'll
save that good see 30 pixels up top and
bottom and it's moved into the middle so
for the bottom container actually you
know what let's do let's do the the
controls first so we have let's see did
I add a class yeah so the photo button
has a class of BTN and BTN dark I
actually want to add a class to the
Clear button as well or a couple classes
BTN and then BTN light kind of stealing
some bootstrap classes so let's see
we'll say BTN
we want this to display as a block we
want to set the width to 100% let's set
the do we need a height no no height we
just want padding 10 pixels and let's
set the margin bottom to 5 pixels all
right so that takes care of the BTN
which both of those buttons have now
let's do the BTN dark which is going to
have a background color of 3 3 3 color
of white and a border of 666 one pixel
solid all right so there's that take
photo now the button light will have a
background of f/4 three times a color of
three three three and a border of Triple
C one pixel solid there we go snows our
buttons now for the Select list that has
an idea of photo filter but you know
what I don't want to style it with photo
filter with the ID I want to add a class
to it I think that's better practice so
we'll just say select
oops alright so for select we're gonna
add a height of 40 pixels a background
of 333 color of white let's add padding
three pixels let's see I can't remember
all of it I'm gonna add with 100% let's
add a border of one pixel six six six
solid and I think that's it no margin
bottom of 10 pixels let's save that good
alright so it can go ahead and change
these all right so we're almost there
guys
let's see if we take a photo that
doesn't look very good so let's let's do
that the photos are wrapped in a photos
ID I believe yeah so they're wrapped in
the photos ID so I actually want to
display that as a grid alright so we'll
say display grid and then as far as the
grid template columns ago and if you
don't know much about the grid I'd
suggest watching my grid crash course
but what we're gonna do here is set
these two three fractional x' so
basically like 1 F R 1 F R 1 F R so if
we were to do that we you'll see they'll
they're gonna do three across ok now we
can make this shorter by just saying
repeat
I know there's a lot of technologies
mixed in this video guys but hopefully
you appreciate that and it doesn't just
confuse the out of you
we're gonna say repeat three times one
fi which does the same thing so if we go
ahead and add photos goes across three
times okay now I want some spacing in
between because right now there right
now you see L there's no spacing so
we're gonna had a grid gap of 10 pixels
all right so now when we take a photo
now this that we have that at spacing in
the middle all right so let's see in
order for these images to kind of stay
within the container did we do the
bottom container no we didn't so let's
do that I should've did that first so
it's a bottom container which is wrapped
around the photos we want to set the
width I actually want to set a max width
because we want this to be flexible to
960 pixels and then we want to set the
margin - what did i do - I did margin
Auto and I did 10 pixels padding
all right so it's the bottom container
so take photo now if I want these to
kind of be too far the width to be too
basically for them to fit into the
container then I have to set the actual
images to width of a hundred percent so
let's say photos image and we're gonna
set the width to a hundred percent and I
think that's all we need to do here oh
yeah and I added a border as well to the
images so we'll say border three pixels
white solid all right let's try it take
photo there we go so now they're fitting
within that 960 pixel or our max width
of 960 so you'll see that's max width of
960 but since we used max width and not
just with then they'll shrink down with
the width okay so this could actually
look good on on a mobile device as long
as it's 500 pixels I mean we could
change the video to something smaller
but I think that that looks good
awesome alright so I think that's it
guys I think we're done we just double
checked make sure we have everything
so hopefully this wasn't too confusing I
guess I could just go over the
JavaScript once again basically we're
just setting all of our variables
including our Dom elements the width the
height the initial filter of none
streaming of false and then we use
getusermedia which takes video and audio
true or false we just were just getting
the video and you by the way you should
have got a popup on your in your browser
asking you to allow your webcam to be
accessed I didn't get it because I had
already done it in the past and then we
get the stream from the promise we set
the video object our source object to
that stream and we play the video all
right down here we're listening for the
can play event on the video and we're
saying if it's not streaming we we want
to set all the heights and widths and
stuff and then we want to set streaming
to true all right and then the C was the
photo button right here photo button
we're listening for a click we call take
picture and if we look at take picture
it creates a canvas it draws the video
on to that canvas and then we get we
basically turn that canvas into an image
URL okay then we take that image URL and
we assign it to a new image that we
create within JavaScript then we add the
filter ok whatever the chosen filter and
then we append that image to the photos
element or the photos ID okay and it
gets added down here all right and then
when we change the filter so photo
filter change we're just setting it to
whatever selected and then we're
applying it to the video all right when
we clear it we're just taking all
everything out of the photos ID which is
this right here so I clear it it puts
everything yeah the HTML just get set to
nothing
filters get set back to none the video
filter gets set to none because we set
it here and then this the photo filter
select item goes back to the first
option here which is the zero index
which is normal all right so that's
gonna be it hopefully you guys really
enjoyed this application I liked
building it I liked learning about this
in I definitely want to look more into
web RTC and different things you can do
with the real-time communication and
maybe build some kind of video chat
application but thanks for watching
hopefully you enjoyed it and I will see
you next time hey guys I just want to
mention our sponsor GPD host so if
you're looking for affordable fast and
quality cpanel hosting look no further
they offer many types of packages that
include a free domain name free ssl
certificate a website builder and more
all hosting plans are completely managed
and easy to work with
you also get automatic weekly backups so
whether you have a website to transfer
or you're building it from scratch GPD
host is a high quality solution to learn
more visit GPD host com or click the
link in the description below</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>