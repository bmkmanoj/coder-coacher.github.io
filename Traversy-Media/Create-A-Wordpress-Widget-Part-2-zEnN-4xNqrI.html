<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Create A Wordpress Widget - Part 2 | Coder Coacher - Coaching Coders</title><meta content="Create A Wordpress Widget - Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Create A Wordpress Widget - Part 2</b></h2><h5 class="post__date">2014-08-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zEnN-4xNqrI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to part 2 of creating
wordpress widget and up to this point we
have our main file we have all our files
created and we have our main file which
is including our JavaScript we have our
class file included and then we have our
registration function all right so what
we need to do now is the class which is
going to be the most code ok this files
this is this will be the biggest file so
if we go to the widgets API
documentation and we scroll down to the
example alright I'm just going to grab
this whole thing okay this example class
and I'm just gonna paste that in ant we
need our opening PHP tag okay so
basically we're going to declare this
class like box widget and it has to
extend the core WP widget class all
right and then we have a constructor
which takes in a parent construct and
that takes some parameters to basically
just meta data all right so first we
have the base ID okay so we're going to
change this to like box widget and then
we have the title change that to like
box all right and if you see this double
underscore and then parentheses this has
to do with translation I'm not exactly
sure how it works but it has to do with
people being able to translate your
widget into other languages okay so
that's basically a double underscore
takes in the text as a parameter and
then it takes in this text domain as a
second parameter all right and then next
we are putting in our description again
using that translate function all right
so we just want a short description here
say I can't type today a simple
like box widget and that's all we need
for the constructor okay next we have
the widget function and this is this is
for displaying info or displaying your
content in the front-end alright so this
is what what does that alright and it
takes two parameters one will be any
widget arguments that you have and we
also have an instance parameter which is
going to represent the values that are
in the database for each of your fields
all right in the only field we have here
by default is going to be our title all
right we're going to add a bunch of
fields that have to do with our like box
okay so we're going to add just about
all of these all right so
we can actually echo out arguments
before our widget okay that's what this
line here is doing and also after the
widget and then here what we're doing is
saying that if the title is not empty
then it's going to equal the instance
which is going to come from the database
okay so if the title is not empty it's
going to come from the database that's
basically what this is saying here and
then this line echo hello world this
will actually print out in the front end
wherever you put your widget all right
so again this widget function or method
is to display content in the front end
all right next we have the form method
or function and what this is for is
displaying your back end form your
widget form all right and by default
it's going to just have a title field
you can see it has the HTML right here
okay we have a label and then we have an
input this class of wide fat that just
has to do with the backend template and
then we just have the the actual title
which is
or is it right here okay we're echoing
it out and we're wrapping it in this
escape attribute function which is just
for security all right and then the last
function is update and that has to do
with saving your form and actually
changing the values in the database all
right so all of our values we kept in
the options table in your WordPress
installation or your WordPress database
all right so let's start up here with
the widget function now we need a lot
more than just the title we're gonna
have things like of course the pizza
page URL for the like box the Facebook
page the width height color things like
that and I don't want to put those all
in separate variables I want to just
create an array and put them in there
okay so I'm going to create an array
called data all right and then I'm
actually going to take this the title
and put this into
let's say you were gonna say data title
get rid of this
okay so now let's in an array value on
the right so we're going to do this for
all of our fields so of course we need a
page URL all right and we're going to
set that equal to instance so instance
page URL all right now rather than just
setting it to this I want to wrap it in
a function called escape attributes okay
and that will just that just provides a
little security from things like SQL
injection all right and we have a bunch
of more fields to do here so I'm going
to copy this
okay so next we'll do height
let's do with
with your color
and so let's see we got show faces okay
so you can choose if you want to
actually show people that liked your
page and let's see we can show the
header
oops that needs to be underscore and
underscore so show header and show posts
and show border
okay delete this last one so if you
don't know where I'm getting these I'm
getting these from here all right so I
just want to be able to to change these
from the back end and what this is doing
is it's getting it ready and putting
them all inside of an array that we can
actually display all right so we need to
create the output and I don't want to
output it directly from the widget
method I want to create a custom one
space this out a little so I'm gonna
take this echo out alright and what I do
want to do is echo this get like box
okay and then I want to pass in the data
array
all right so what we have to do now is
create a function called get like box so
we'll go down here down to the bottom
and see
it's will say get and display like box
all right and it's going to have one
perimeter and that's gonna be an array
called data
all right
so what we're gonna do here is create an
output variable
okay so we'll say output equals and this
is where I want to include if you go to
back here we generate the code with this
div right here this FB root it needs
this so I'm gonna copy that and put that
in there like that alright then we want
to concatenate or append to the output
so we want to do a dot equals all right
and then we're basically going to
display this code here with values
coming from the instance or from the
database all right so I'm actually going
let me just paste this in because this
will take a long time to type out okay
it's pretty easy we have a div with the
class of FB like box we're saving
setting our data variables
alright so data href page URL and you
can see if we look at the code here we
have data href data color scheme data
show faces all right and that's exactly
what this is printing out except we're
using these the array values which are
dynamic which will be able to change
obviously okay so that's what that's
doing and then we just want to return
the output ok so we're returning it that
way we can echo it right here alright so
that takes care of the widget function
or method so now we're going to move on
to the backend form I'm gonna stop it
here and continue in the next part</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>