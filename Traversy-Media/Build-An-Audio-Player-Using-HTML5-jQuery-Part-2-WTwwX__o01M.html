<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build An Audio Player Using HTML5 &amp; jQuery - Part 2 | Coder Coacher - Coaching Coders</title><meta content="Build An Audio Player Using HTML5 &amp; jQuery - Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build An Audio Player Using HTML5 &amp; jQuery - Part 2</b></h2><h5 class="post__date">2014-09-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WTwwX__o01M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to part 2 of our html5
jQuery audio player we left off after we
completed the HTML and the CSS alright
so right now your player should look
like this which doesn't look too pretty
so we're going to do a few things here
basically let's open up our main jas
file which should be empty at this point
all right in the variable that we're
going to be working with is the audio
variables okay so we want to create that
the first thing I want to do here before
we do anything is hide a pause button
alright so what we're going to do is
just use a little bit of jQuery okay so
the pause button has an ID of pause all
right so we're going to say pause dot
hide
okay so now if we reload now we have the
pause button is gone but we do have an
issue with these buttons let's check
that out
oh actually
okay we got the ID wrong you can see we
have a div with the ID of audio buttons
and in our stylesheet we have just
buttons so make sure you just change
that to audio buttons alright there we
go alright so the pause button is now
hidden now what we want to do is create
our main function which is going to be
the initializer alright so in our main
J's file let's create a function called
init audio oops right and it's going to
take in an element
basically that element is going to be
the first song alright so we want to
create some variables okay song is going
to be equal to element dot attribute we
want to get an attribute and the
attribute that we want to get is song
all right so very simple we're just
looking at the first Li tag which is the
first song and we're getting the song
attribute so we're getting this
information right here alright so we
want to get some more information we
want to get the title which is going to
be the actual text so variable title is
going to be equal to element dot text
all right next we want the cover so
variable cover is going to be equal to
element element dots attribute
cover and then finally the artists
variable artist is equal to elements dot
attr artist all right so those are our
long title cover and artist variables
now we want to do is create an audio
object okay so we do that with audio
whoops
audio equals new audio and what we want
to do is pass in the song and that's
inside of the media folder so media
slash and then we're going to
concatenate song
all right so that's going to get this on
then we're going to basically say if not
audio.com
time then we're going to set the
duration basically what we're saying
here is if there's no time if the song
hasn't started yet all right then we're
going to say the duration div the HTML
for that div is going to be 0.00 alright
so very simple if there's no time if the
song is not playing then the duration
it's going to display zero zero all
right and nothing should happen yet see
we reload nothing happens and that's
because we haven't loaded this function
yet all right now I'm going to get to
that so what do we want to do next we
want to fill in the title and the artist
because you can see right now we just
have this - we want to generate the
artist and then the title of the song
alright so we can do that down here
whilst a jQuery and then id audio player
dot title dot text which just basically
lets us put something there and text and
that's going to be the title variable
which up here is getting it from the
HTML okay so this title is coming from
this text
alright so it's basically taking it from
there and moving it up and we're going
to do the same thing with the artist
okay so audio player artist and then the
text will be artist which is coming from
here
all right so next thing we want to do is
insert the cover image and we can do
that
jQuery we're going to say IMG with the
class of cover dot attr excuse me so the
SRC attribute we just want to put in
images or actually IMG is the name of
the folder slash covers slash and then
we're just going to concatenate the
cover variable okay which comes from up
here which comes from our list item all
right and then uh
we want to remove the active class from
the last song and put it on this one
okay so we can say playlist Li dot
remove class and the class we want to
remove is active all right so basically
it's going to take the class active off
of every list item and then put it on
the current one so we'll be element dot
add class active okay now let's go ahead
and initialize this I'm going to put it
up here we'll say initialize and
basically we're going to call init
audio and we're going to pass in the
first song which is the first list item
okay so we'll do jQuery and do playlist
li now we need a way to point it to the
first song the first li and we can do
that with the pseudo class first child
okay so initialize audio and this
function will be the initializer
function
okay so this is calling this okay if we
save reload and now you can see that
it's done a few things it's inserted our
image it's inserted the the band name
the song name it has made its put the
zeros into the duration and it's also
highlighted the first song alright so we
are getting there now what we need is
functionality okay we need to be able to
play it stop it ah and move forward or
backwards alright and pause it and this
functionality is probably easier than
you think so we're going to go under the
init audio function okay we want to get
out of that and we're going to do play
button okay so we want to grab that play
button so we'll use jQuery and it has an
ID of play
alright and what we want to do we want
to do something when it's clicked so
let's say dot click
and when it's clicked what we want to do
we want to run a function and basically
we can use the API and just say audio
dot play all right so it's as simple as
that to play using this API remember
remember audio we created a new object
called audio and we have the song okay
it's pointing to the media directory and
the song alright so audio play but we
want to do a few other things we want to
hide the play button and then show the
pause button alright so let's do that so
play dot hide
and pause dot your show okay so that
will show the pause button also the
duration we want the duration to come in
and we're going to use a fade fade end
function alright so duration and we're
going to say dot fade in what sorry
about that what was i okay fade in and
then we'll say 400 for the speed and
then we want to call the class show
duration okay so show duration will
create later on basically it's just
going to make it so that the timer goes
along with the song all right so let's
save that and reload and see if we can
play this
alright alright so I had to reload it to
stop it because we don't have stop
functionality yet and you can see that
the duration wasn't moving yet alright
so we still have to do that but before
we do that I want to add some more
functionality I want to be able to pause
it alright so we'll do that so under the
play button I'm just going to copy this
and we want pause button so when the ID
pause is clicked we'll run a function
and we're going to call audio pause and
we want to then hide the pause link and
show the play link so let me get rid of
these two lines and then we're just
going to reverse these so pause we'll
hide and play will show alright so this
line here is what's making it pause
right so very very simple okay so let's
try that we'll play
and pause alright so that's working
perfectly next we'll do the stop button
okay now there is no for some reason
there is no audio dot stop okay at least
what I know what I know of so what we're
going to do is we're going to use audio
dot pause but we're going to set the
time back to zero all right so basically
it's going to pause it and reset the
time which gives it stop functionality
all right so we'll say stop function
because it's not actually actually I
guess it is a stop button alright so I'm
going to just copy this and the ID of
stop
stop click and then audio pause is good
and we're going to set audio dot current
time which is just another object that
you can use current time set it to zero
all right and then that's good pause is
going to hide and play is going to show
and then I'm going to say duration
fade-out all right so that should stop
it
we can't see the duration yet so it's
not going to make much of a difference
to us but we'll try playing it
and stopping it and you could see that
the duration faded out all right so
that's good we're almost there um so we
want to be able to actually know what
let's go ahead and do the duration
before we do anything else all right so
let's down and say time duration so we
want to create the function called show
duration all right and we're going to
say audio dot bind
audio drop bind time update and then we
want to run a function okay so let's go
ahead and get hours and minutes look get
hours in minutes so let's go ahead and
say variable s set to parse int audio
okay and we're going to use that current
time again so current time
and then you want the % and then 60 and
then we want to create another variable
called M and basically this is seconds
and minutes all right
M is going to equal parse int
audio dot current time divided by sixty
and let's see modulus sixty
actually this should have two
parentheses um yeah yeah should you look
like that so it's just a little math to
get the card duration now what we want
to do is I want to add a zero with the
second cell less than 10 so if it's 5 I
want it to be Oh 5 ok so we'll say add
zero
if less and 10 and we can say if we'll
say if the seconds are less than 10 then
s is going to equal zero zero and then
the S the seconds okay so that's really
easy
all right and then we're going to say
duration a duration and we're going to
put something in it we're going to put
HTML in it and basically we're just
going to put the minutes and then
concatenate the dot okay so the dot and
then we want the seconds
all right so that's going to print out
our duration all right and then we just
want to do a couple more things and I'm
going to set a very variable of value to
zero and then we're going to say if
audio dot current time is greater than
zero so if it's playing then value is
going to equal math dot or now I didn't
this chunk of code right here I actually
got somewhere else okay
and I just implemented it into my
duration shoulder ation function so I
apologize if I can't explain every
single line of it basically it's just
getting it so that we can show the
duration when a song plays all right so
I'm going to say math dot floor and then
we want two sets of parentheses and then
100
/ the audio dot duration okay and then
break out of the parentheses one of the
parentheses sets into an asterisk site
times audio dot current time and math is
not my strong suit
anyway all right so that that's good and
then right after the that if statement
we are going to grab progress okay
progress dot CSS and that's what this is
actually doing is the progress bar dot
CSS we want the width to be set
so value plus and then a % all right so
basically it's calculating the position
of the progress bar okay when it plays
and it's setting it's dynamically
setting the width property of the
progress bar or the progress div all
right so let's let's try this I'm not
sure if it'll work yet
okay so we'll play
alright so the duration in the progress
aren't working play button let's see if
we have any errors in the console
a is not to find 65
if oh oh this should be s not a
there we go
all right so it seems that the progress
the blue is pushed down a little out of
the the empty bar
all right so I had to pause the video
for a second basically in order to get
the blue the progress to line up with
the background image of the progress bar
I had to go to the progress div the ID
and set the position to absolute and
then set top to nine pixels and left to
eight pixels and that gives us the
correct position so now if I play
let's just reload and try it you can see
ya it's correctly lined up
alright so that's good that's out of the
way so what I want to do next let's go
to the JavaScript so when we leave off
play pause stop so now I want to do the
next and previous button alright so
we'll start with the next and I'm just
going to copy this
next button and that has an ID of next
and then when we click it we want you
ought the we want audio pause and then
let me just get rid of this
I'm going to create a variable called
next and that's going to get the next
song it's going to we're going to use
jQuery actually wait a minute yeah okay
jQuery and we want the playlist ID and
then Li dot active and then you are
going to use dot next okay so this here
gives us the currents along the active
song and then we're going to say well we
want the next one alright and then we'll
say if next dot length is equal to zero
then next is going to equal
playlist Li first child so basically if
we're at the last long and you click
Next then we're going to go to the first
song alright and then we'll go into an
it audio next and then audio dot play
and we want to show duration okay so
it's just basically when you click Next
it stops it looks for the next song if
the next song is the last song then
that's going to go back to the first
song and then it's going to reinitialize
the audio and then we're going to play
it and we're also going to show the
duration okay so it looks like a lot
even though when you're in it you click
and it's like a quarter of a second it
seems like but it actually does pause
and does this and plays again
alright so previous I'm just going to
copy this and it's going to be very
similar
so change this to previous and let's see
you click playlist active instead of
next we want previous and we want to
change this basically change all
instances of next to previous
alright and we want to change this one
here we want to change this to last
child so basically if we go to the first
long and click previous it's going to go
to the last song and then we just want
to plug in previous here we'll
initialize it play and chill the
duration okay so let's try that so we'll
play and then
okay works good let's try previous all
right
so that's working perfectly so the last
thing we want to do is the volume all
right so let's go in right here say
volume control
and we want to use jQuery to grab that
element volume and I'm going to say dot
change okay and when it changes I'm
going to run a function and we're just
going to set audio dot volume is going
to equal parse float this dot value by
10 because remember we have the maximum
at 10 okay minimums one maximum is 10 so
save that
I don't know if you'll be able to note
to hear this on my alright so you can
see it's working
all right so that's it really you can
see that the code is very minimal and
very easy to understand I really like
using this API it's just really simple
and you can do more things with this
obviously like I suggested if you're
going to have a player like this you
should have some kind of back-end area
where you can upload songs rather than
having to go in and change HTML code so
I hope you enjoyed this I hope I wasn't
too hard to follow and if you liked it
please subscribe and I will see you in
the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>