<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>NodeJS, Express and Handlebars | Coder Coacher - Coaching Coders</title><meta content="NodeJS, Express and Handlebars - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>NodeJS, Express and Handlebars</b></h2><h5 class="post__date">2015-12-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SfQFoMOd_ng" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys this is gonna be a really quick
video I just wanted to show you how to
use handlebars the handlebars template
engine with no js' and Express because
if you use the no generator I'm sorry
the Express generator it's going to have
you use jade by default and there's a
lot of people including myself that
aren't too fond of the Jade syntax I
rather just work with regular HTML and
then just be able to insert dynamic
variables inside of the markup all right
so we're gonna do that and we're gonna
use the express handlebars module so
we'll install that as far as command
line I'm using Windows and I'm gonna be
using the git bash utility you can get
that here if you want to use that or you
can just use your standard command line
or terminal or whatever you use all
right so I have a an empty folder called
node HB and I'm gonna go ahead and open
that up in my git bash utility and the
first thing we need to do is create a
package dot JSON file and we can do that
with NPM and then all right I'm just
gonna choose the defaults for most of
these description we'll just say simple
press app the entry point I'm gonna say
server dot J s and you could put your
name
okay that's fine and let's open that up
okay so I'm gonna want to run it with
NPM starts so in this scripts object
right here I'm just going to add start
and I'm gonna set that oops we're gonna
set that to node server dot J s all
right and then we need to add our
dependencies all right
actually you want object all right so
we're gonna need Express and we'll use
the latest version we're going to need I
think that's it
aside from express handlebars
okay that'll also be the latest version
and that should be good all right so
let's save that and then we need to go
back and we're going to run npm install
okay so now what we need to do is create
our server Jas file
okay we'll open that up and the first
thing we're going to do is include all
of our modules so we need to Express
okay we're also going to need the path
module and Express handlebars okay then
one going to initialize the app with
Express
all right so now we need to set the view
folder so we use app got set and I'm
gonna pass in views all right and then
the second parameter here we're gonna
use path dot join and we're gonna use
their name and the folder name is gonna
be views okay the next thing is a app
dot engine and we're gonna pass in
handlebars any second parameter is the
handlebars variable we created and then
we need to pass in what we want to use
for the default layout name alright so
I'll say default layout and I'm just
gonna call that main alright and then
finally we're going to set the view
engine
view engine and we're going to set that
to handlebars
okay so that's all the configuration we
have to do for handlebars now we're just
going to set the port okay I'm gonna set
that to process dot environment dot port
or for 3000 okay so now we'll do app dot
listen and then we want to pass in the
port
so we'll do app dot get port and then we
have a function and when it starts up
we're just gonna console.log will say
server started on port and then we'll
just concatenate half dot get port
okay
so that's gonna let us run the server
but we don't have any routes alright so
let's go ahead and define the homepage
route with app dot yet and we want to
get the slash which is the home page and
then we'll have a function function
takes in a request and response and what
we're gonna do is render render a view
so res dot render and let's render the
home view okay which will create now so
we need to create a folder called views
alright or whatever you you put right
here it doesn't have to be used you can
use templates or whatever you'd like and
then inside that we're gonna have
another folder called layouts alright
and since we said the default layout is
gonna be main then we have to create a
file called main dot handlebars ok and
then in the views folder itself will
create a file and we'll call that home
dot handlebars alright
now the layout is gonna wrap around
every view so whatever we put here will
be on every page so let's just put our
HTML structure
okay and for the title I'll just say my
express out all right and then we need
our body okay now we're just gonna
output the template right here now
handlebar syntax is usually like this to
two curly braces but if we do it like
this it's not going it's not going to
parse HTML and we want our body to have
HTML so we need to put three okay just
like that all right
and we'll save that and then let's go in
home dot handlebars and we'll just put
an h1 will say welcome and we'll save
that alright and we're gonna have to
restart up and start it so let's do and
PM start ok started on port 3000 so say
localhost 3000 and as our welcome now
just to do a little testing with
handlebars let's go back to our route
right here and we're gonna add some
variables so let's say we'll just create
one called content
this is some content and then in the
home dot handlebars we're just going to
use two curly braces and content now if
I reload it's not going to show because
we've we've edited the server JS code so
we have to restart the server so we'll
go ahead and do that
okay so now we get this is some content
all right we can also do conditionals
so in our route here let's also set
whole set variable called published and
we'll set that to true all right and
then back in our home view will say if
published okay save that and if we go
back we're gonna have to restart the
server
okay so it still shows now let's set
that to false
okay so now it's not going to show all
right so we can use conditionals as well
now just to show you if if you don't
want to keep restarting the server you
can install something called node mod
and you can actually install it globally
so if we say npm install g node mon
all right so that installed now we
should just be able to run that it would
lon
and it's gonna start it up for us
reload okay so it's not showing let's
change this back to true save and
without having to reload the server it
should come back there is now the last
thing I want to show you is we can also
loop through content using each in
handlebars so let's just create a
variable now usually this would come in
through a server or through an API or
something but we're just gonna use a
variable here I've just set step set it
as static all right so people let's say
John Sarah and Paul and then we'll pass
in here people passing the people
variable and then in home let's say each
people
yeah we want to hand the each and then
we'll just output no let's do a ul
alright and then here we'll do an li but
we just want to say this
alright so save that reload and there we
go alright so that's just a regular
array if we want to send an array of
objects we can do that as well so for
instance let's do first name Peter last
name
Johnson and then we'll do another one
change this to John last name doe
alright so now we'll pass that in and
back in our home view who will say this
dots first name
all right and get Peter and John if we
want to grab their last name we'll get
their last name or we can do both and
there we go
no well that doesn't look right all
right
so to me this is is much cleaner and
easier than Jade and yeah that's about
it I just wanted to show you guys how
you could just quickly set up a server
and use handlebars as your view engine
alright so thanks for watching and I
will see you in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>