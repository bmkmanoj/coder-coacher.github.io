<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 &amp; Firebase App [Part 3] - AngularFire2 Setup | Coder Coacher - Coaching Coders</title><meta content="Angular 2 &amp; Firebase App [Part 3] - AngularFire2 Setup - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 &amp; Firebase App [Part 3] - AngularFire2 Setup</b></h2><h5 class="post__date">2017-02-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3xXQjcy8x9E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you guys welcome to part three of the
angular 2 and firebase app series in the
last video we went ahead and set up
firebase and we created our application
with angular CLI we created all of our
components we did the routing so we can
now go to the listings the add listings
this logging doesn't work yet but we'll
get to that we also added the home page
content so what I want to do now is
implement angularfire too so if we go to
the documentation there's actually some
pretty good documentation here so if we
look at the first one install and setup
a lot of this stuff we don't have to do
because you've already done it for
instance installing angular CLI it tells
you to uninstall it and reinstall it but
we know that there's no later version
because we just installed it we also
don't need to do typing's or typescript
that's already taken care of and let's
go down to here so we've already
installed angularfire 2 and firebase
let's just double check so if we look at
packages package Jason and you can see
angularfire we have right here and
firebase we have right here so that's
all set and then we have to set up our
app dot module file so let's open that
up that's going to be in source app and
then app dot module dot TS ok so first
thing we need to do is bring in angular
fire so let's grab this and we'll copy
and I'll paste that right in there and
then we need to bring in our firebase
config okay so let's just grab this copy
it and put it right above the routes and
then this information we can get from
firebase so let's go to the console and
we want to click this add to your web
app and let's grab the API key and we'll
put that in here
so we will grab the off domain will grab
the database URL okay we want the
storage bucket and we want the messenger
ID okay so that should do it for that
config close that up and go back here
then we need to bring it in to the
imports just like this so copy that and
go down to imports and we'll just stick
it right here make sure you put a comma
after it and that should do it for the
initial setup for angular dot sorry app
dot module now in the documentation
they're showing you how to bring in you
know fireless firebase list observable
and then how to grab the items from the
database but they're doing it within the
component and we don't want that we want
to put everything in a service so make
sure that this file is saved and then
we're going to generate a service so
we'll go over to our command line and we
want to create a folder in the app
folder called services actually I'll
just do it through here okay so an app
will create a new folder called services
and let's navigate to that in our
command line so CD services and then
we're going to generate a service with
ng G service and let's just call this
firebase okay so now in services we have
a firebase service ts file and then
let's go back to the documentation and
just like they did here in the component
we're going to bring angular fire and
firebase lists observable into our
service source
here and basically what this does is it
allows us to fetch data from a
collection as an observable so as a data
stream okay and then we need to also
inject it just like this actually we'll
just type it in because we get to do
private because we want to be able to
access it from outside of the
constructor and then AF and we'll set
that to angularfire and then we're going
to create a function called get listings
and if we look at the documentation
they're setting their fetching a
collection called items but we're just
going to grab this property here and put
it right here except this is going to be
listings and that's going to be a
firebase list observable now when this
is run we want to say this dot listings
and that's going to equal this dot AF
dot database dot list and then we want
to specify the collection which is going
to be listings and then we want to stay
as firebase observable list or let's
observe app I'm sorry
okay and then we'll give that type and
let me give it a type of listing just
like that
and we're going to create this as an
interface okay but let's just return
this
so go on to the next line and we'll say
return this return this dot listings
okay so let's create that interface
we're going to go outside of the class
here and let's do interface listing so
we're basically settings all the key
value pairs here so it's going to have a
key but I'm going to make that optional
so we're going to put a question mark
and then the type will be a string okay
it's also going to have a title I'm
going to make all of these optional
title he'll have a type so yeah type
will be optional that'll be a string
what else
image that will be a string city
owner and federalist okay and now that
error should be gone up here because it
knows what a listing is now so that's
pretty much it forget listings I believe
yeah so let's save that now when you
create a service you also have to bring
it into app dot module when the
generator doesn't do that it does bring
in components but it doesn't bring in
services for some reason so let's go
ahead and import firebase service that's
Livi from dot slash services slash
firebase dot and then services have to
be added as as a provider so we're going
to go down here and in providers will
just add firebase service save that now
we want to fetch these listings in the
listings component so we're going to
have to go to see component listings
make sure you choose the plural version
and then the TS file and then we want to
import the firebase service here
okay we're going to go up two levels
into ya services okay and then we need
to inject it as a dependency into the
constructor
and then we want to call the get
listings inside of the ng on it so when
it initializes so this dot firebase
service dot get listings and that is a
observable so we want to subscribe to it
and say here listings and then we just
want to a slip we want to assign this
dot listings to listings okay now we
need to create this as a property so up
here listings and I'm just going to set
that to any for now not anything about
any okay and let's also do a console.log
here of listings and then let's see what
happens so if we click on listings and
we look down here we're getting a
permission denied okay now the reason
we're getting this is because we have
been authenticated and in our firebase
database if we go to rules its reload
this all we actually have to log in with
Google I don't want to login just yet
but anyways you have to authenticate and
you can change that within rules if you
want if you don't want any
authentication but we do so in the next
video we're going to implement that so
that we can use Google as our
authentication method and then we'll be
able to view the listings okay so that's
it and I will see you in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>