<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learning React.js [7] - Adding State Data Through a Form | Coder Coacher - Coaching Coders</title><meta content="Learning React.js [7] - Adding State Data Through a Form - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Learning React.js [7] - Adding State Data Through a Form</b></h2><h5 class="post__date">2016-02-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yOu_PUAOtP0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome back to learning react
j/s in the last video I showed you how
to create state data and also how to map
through an array that we have in state
all right which is the - duze object
right here or the to do is array so what
I want to do now is show you how we can
actually add to this by having a form
that we submit and basically just push
it to the to do state so the first thing
I want to do is I want to change this
name to text I think that's a bit more
fitting okay so we'll have to change
these and then we'll go down to where
we're rendering the to do list and
change to do dot name - to do dot text
okay so first thing we need to do is we
need to create a form here alright so we
have our form component which right now
is just spitting out some text so we're
gonna go ahead and create that form
alright we're using bootstraps so we're
going to be using bootstrap classes so
this will be form group whoops
okay and then we'll have a label I'll
just say to do text and then we want our
input field this is going to have a type
of text and it's gonna have a ref
attribute of text now whatever we type
in this input field is going to be bound
to this text date okay it's we're
starting out with it just being empty
and we're not gonna really be using it
in this video but we're gonna need it
for later so what I'm gonna do here is
we're gonna put in an on change event
handler and we're gonna set that to this
dot on change alright and we'll create
that right under the render okay
now I don't want to do anything with it
just yet so all I'm gonna do is just
console dot log and we'll say changing
text all right so back up here let's
also put a class name here for bootstrap
so this is gonna be form control all
right so that should give us our input
now we needed a submit button so
actually no let's not use a submit
button we're gonna use we'll just click
enter for submit okay so there we go we
have our input field now what we need to
do is add an event handler here actually
let's test out the on change all right
so you can see that I'm typing we get
this changing text down here that's
because this the text state is changing
alright so in our form tag we're gonna
say on submit is going to equal this dot
on submit all right and if we go down
here we can add that
actually you know what I don't want to
you need to do it like this okay so on
submit and so let's just test it out so
we'll say console dot log and let's get
let's get the value of the text input
all right so first thing we need to do
is pass this and eat and then we're
gonna just prevent default all right and
then we should be able to log this dot
Refs
dot txt dot value okay and reload that
and I'll say test and submit and down
here you can see we're getting test all
right so it's submitting correctly now
we have an issue here and that is that
since we're not in directly in the app
component we're in the to do form
component we can't simply do this dot
set state and set the two dues all right
we can't do that what we have to do is
create a property function and then pass
it up to the to the parent which is the
app component all right so first thing
I'm going to do is get this value and
put it into a variable so we'll save our
text equals paste that in and we can add
on dot trim to clean it up a little bit
all right we can do a little bit of
validation and just make sure that
something was typed in okay so we'll
just say if if there's no text then
let's do we'll do an alert and we'll say
please enter a to do and then we will
just want to return
okay so let's try that out if we just go
and submit nothing we're gonna get an
alert all right so now what we want to
do is we want like I said create a
property function so I'm gonna say props
dot on to do add alright and then we
want to paste in or we want to pass in
text all right and then the last thing
we want to do here is just set the value
of the input to nothing just so it
clears all right so we can save that now
this on to do add we need to put that up
here in the to do form tag alright so
we're going to say on to do add equals
and then we're gonna have to create
another function to deal with it so
we're gonna say this dot handle to do
add alright we'll create that right here
so we don't need that handle to do add
function and we're gonna pass it text
and then let's try it out by just saying
alert text all right so now whatever we
type in should we should get an alert
with that
so we'll say testing and there it is
alright so we know that we're passing
that through to here so now what we want
to do is we can now set the state since
we're in the application or the app
component all right now remember the two
each to do is an object that has an ID
and text so what we need to do is create
an object to pass in so we'll save our
new to do and I'm gonna set that to an
object now for the ID what I'm gonna do
is just take the length of the two dues
to do is array and then just add one to
it so this dot state thought to do is
dot length plus one
okay so that'll be the ID and then the
text of course was gonna be the text
that we pass in all right and then
finally we can add that to our state so
we're gonna go right here and say this
dot set state and we're going to pass in
an object - duze okay we want to set out
to do state to this dot state dot - duze
dot concat this parts very important
because this is how we're gonna add on
the new to do just like that all right
so let's go ahead and save that and
let's see what happens okay so let's say
I don't know get car fixed oops
and there it is okay so we can just go
ahead and keep adding - duze now if we
reload it's they're all gonna disappear
because we're not using any kind of API
or database or anything like that so
it's just being stored in the state
which is just in memory alright in a
later video I'll show you how we can
actually persist on to save it in a
database but for now we're just gonna
work with the local data alright so in
the next video we're going to make it so
that we can delete from here and then
we'll go on to trying to update them as
well all right so I'll see you in the
next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>