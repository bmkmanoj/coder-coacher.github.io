<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Tutorial [6] - Creating A Service | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Tutorial [6] - Creating A Service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Tutorial [6] - Creating A Service</b></h2><h5 class="post__date">2016-04-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-xQGpr0vYRk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's going on guys in this video
I'm going to show you how to create a
service in angular 2 and how to inject
it as a dependency
alright so an angular 1 we would inject
dependencies through the scope and there
is no more scope in angular 2 so how we
do it is through a constructor inside of
the component class alright and we'll
get to that in a minute but let's go
ahead and create a new file and by the
way where you just we just have a blank
quick start up if you don't know how to
set up the QuickStart go back to video 2
of this series and that will get you all
set up alright so let's go ahead and
create this service so I'm gonna call
this post dot service dot TS alright and
first thing we're gonna do is we're
going to import a package called
injectibles wait a minute is it plural
no it's just injectable and it's gonna
be from angular 2 slash core ok and then
we're going to add the injectable
decorator just like that and then we're
going to create the service class ok
we're gonna call it post service alright
so let's go ahead and what we're gonna
do here is we're just gonna have a
static array of objects and it's going
to just mimic some kind of response from
an API I'll show you how to do that how
to actually fetch data from a from an
API probably in the next video but for
now I'm just going to put in just a
simple static array of objects so we'll
say posts and let's set that actually
you know what let's just do this and
then we'll create a constructor
and inside there will say this dot posts
set it to an array okay we're gonna have
a couple objects here each post will
have a title and a body all right now
I'm just going to copy this and just
create a couple more all right so we got
a couple posts here now what we're going
to do is go right under the constructor
and create a function called get posts
and what we're going to do here is just
return this dot posts and that's it okay
so normally you would have this interact
with some kind of JSON API or something
like that which I'll show you how to do
later on but for now that's good so what
we need to do now is let's see I'm going
to create a new component so let's say
new file and we're gonna say posts dot
component dot TS all right I'm just
gonna grab what we have in the route app
component save a little bit of time
paste that in okay we're going to change
the selector to post and we'll just
change the h1 to posts and the class is
going to be called post component all
right so we need to import this into the
route app component so we're going to go
in there and we're going to say import
post component
from dot slash host stock component okay
and then we're gonna add it as a
directive all right now we also have to
include our service that we created so
let's say import host service from post
dot service all right now when we have a
service we're not going to put it as a
directive we're going to put it as a
provider so we're gonna adhere providers
if you don't do this you won't be able
to see you won't be able to use the
service so post service alright now to
see the component we're gonna put that
in here so let's say post post and let's
save that okay so now we can see the
post component which right now is just a
heading so let's go back into the post
component and we have to include the
service here as well which will just
copy from here all right now the way
that we like I said the way we do
dependency injection is through the
constructor okay so we're gonna go in
here we're going to add as an argument
privates
post service post service just like that
alright we can now use this post service
and any methods we created in the
service from anywhere within this
component so let's set this dot posts to
underscore you don't need to put the end
of score but that's kind of a popular
convention so I would suggest it I what
you're gonna say get posts okay we have
to add post here as well
all right so that'll fetch it from this
get post which we created right here all
right and then what we want to do is go
into our template let's turn these into
backticks so that we can use multiple
lines love that new es2015 feature all
right and we're going to put ul and Li
and we're going to do an ng for and put
in here posts actually we want to do
post of posts okay and then in here we
should be able to let's put an h3 and we
should be able to say post dot title and
then right under it will do post dot
body alright let's see what that gives
us and there we go so we're fetching
these posts from the service now let's
say we want to have a little forum here
to add a post ok so to do that let's go
ahead and create a forum and we'll have
this will be for the title
input and we'll have the type of text
and we're going to use ng model here so
set this to title and I'm going to copy
that
this one will be for the body alright so
we also need a a submit button I'm gonna
put input' type submit' value submit
alright so let's see it doesn't look too
stylish but that's fine so what we want
to do is we need to have some kind of
event for when we submit the form so
let's go up to the form tag and we're
gonna use parentheses here and we're
gonna say submit equals add post alright
and then down here we'll say add post ok
and then let's test it out we'll say
console.log submitted ok click submit
and we get submitted so what we'll want
to do here is we need to catch the title
on the body so let's add them as
properties so we get the title and we
get the body so when we add the posts
here we're gonna want to create an
object ok so let's do this dot a new
post
and I'm actually going to add that up
here I'm going to set that to be an
object title is gonna be this title and
body is gonna be this dot body alright
and then what we'll do is use we'll call
a service method so we're gonna say this
dot underscore post service dot add post
and then we'll pass in this dot new post
all right I forgot to put this up here
as well okay so now we'll do is save
that go to our service and create add
post okay that's gonna take in the new
post object and then I just want to test
it out by doing a console log
okay submit and there it is alright so
when it ads I mean this is where we
would do our API call to actually upload
to a server somewhere and save in a
database now we're not going to do that
right now but what we will do is push it
to the post item alright so we'll say
this dot posts dot push and pass in new
post so now if we go ahead and say test
title and test body and then submit it
shows up right down here
okay it's not persisting anywhere if I
reload it's gonna be gone because we
didn't do any kind of API call or
anything like that alright but this
gives you an idea of how services work
so in the next video I'm gonna show you
how to interact with a JSON API and also
how to use observables if we if we
returned and observable the application
or the component will constantly watch
and subscribe and update to any changes
that's done on that service method
alright so we will get into that in the
next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>