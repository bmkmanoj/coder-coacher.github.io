<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build A Meteor.js App In 45 Minutes | Coder Coacher - Coaching Coders</title><meta content="Build A Meteor.js App In 45 Minutes - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build A Meteor.js App In 45 Minutes</b></h2><h5 class="post__date">2017-07-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9494-2E4riQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's going on guys in this video
we're going to be creating an
application using the media JS framework
which is a full-stack JavaScript
framework full stack meaning it runs on
both the client and the server it
actually runs on top of node.js and it
includes MongoDB with its installation
ok MongoDB is a no SQL database and then
on the front end you can choose to use
whatever you want you could use angular
or react we're going to go with the
default blaze template engine that
meteor comes with alright so this is
going to be a pretty simple application
but for the time that it's going to take
us to create it actually has a lot of
features
alright so sit back relax and let's get
started this video is sponsored by dev
Mountain if you're interested in
learning web development iOS or UX
design dev Mountain is a 12-week design
and development boot camp intended to
get you a full-time job in the industry
to learn more visit dev mountain comm or
click the link in the description below
alright so this is what we'll be
building it's a note manager and it's
basically just like kind of like a task
list this would be useful for if you had
a couple people working on a project a
couple developers and you wanted to just
kind of easily communicate what's been
done or what needs to be done now the
best thing about meteor j/s in my
opinion is the rapid development
capabilities so this application I sat
down this morning and created in about
an hour or so with very very minimal
planning and it has full authentication
has full MongoDB integration we can add
nodes we can delete them we have a
little bit of access control and I did
all that in about an hour or so so this
is the landing page you can see we're
using materialized CSS we're going to
install that using a meteor package
which I'll get to in a second but we
have our notes here and says please log
in to manage notes we go over here to
sign-in and we can easily create an
account here but I already have one so
I'm going to just sign in and just go
sign in with Brad and my password and
now you'll see we have some notes here
now this system has two users I've
already registered Brad and John
you'll see that we have some notes here
added template UI added by John updated
database added by John and then these
two are by Brad alright so if we want to
add a note we can go ahead and click
here I have a modal that opens up and
let's just say test note enter and
you'll see it gets added and if I reload
it's going to stay there because it's in
MongoDB alright now I can easily delete
my notes if I try to delete John's note
however it's not going to work okay and
I just have on I'm just throwing an
error down here you can see or is it
says not authorized then you can handle
errors however you want I wanted to keep
this really simple though alright so you
can see we can we can add notes we can
delete I didn't do update functionality
because that would take a little longer
and I wanted this to be a really simple
project for people trying to you know
really understand what meteor is all
about so we can go ahead and sign out
and now we can't see our notes anymore
alright so that's what we'll be building
now this you can go to meteor comm and
go to tutorials and then the to-do app
right here if you click on the blaze
version there's also angular react this
is kind of kind of what we're doing I
kind of based it on top of this so if
you want to you know go back and forth
between this video and this
documentation to kind of really
understand what's going on you can do
that and I might check back here just to
just to check out some things on the way
alright and then finally the
materialized package we're using we're
going to install with the meteor package
system we can simply run this command
it'll automatically you know put
materialized into effect we don't have
to include any script tags or anything
like that which is really nice alright
now I'm not going to go through the
installation of media because it's very
very simple all you have to do is go and
click on install now and if you're on
Mac or Linux you can just run this curl
command and it'll get everything set up
like or if you're on Windows just grab
the Installer run through it and you
should be all set up and you'll have
access to the meteor command in your
command line alright so let me just
close that up and I'm just going to get
this ready here
all right so I'm going to bring down my
command line here and I'm just in my my
users folder here my brad account on
Windows and there's going to CD into a
folder I have called projects and that's
where we're going to create this
application all right so let's close
that up and we'll minimize that all
right so once you have meteor installed
you'll have access to the meteor command
so we're going to say meteor and then we
want to create a new application so
we're going to say meteor create and
then I'm going to call this node manager
okay and that's going to set everything
up for us okay and this might take a
couple minutes so I'm just going to go
ahead and pause this and I'll be back
when it's done all right guys so that
took a couple minutes maybe a minute and
a half two minutes and we now have our
four hour folder created so we're going
to CD into node manager and from here we
can actually start our application and
we can do that by just running meteor
and that should start it on your local
host on ports I believe 3000 by default
all right and while that starts to build
that out let's go ahead and open up atom
which is the text editor I'm using and
I'm just going to add the project folder
here which is the projects note manager
all right so let's see how's that doing
that's still starting up so I just want
this to start up real quick all right so
it's now running on port 3000 so let's
go ahead and visit that post
port 3000 all right so this is the the
boilerplate that they give you it's
nothing special it's basically just a
welcome page it has a button if you
click here you'll see that this will
increment by one it doesn't stay if I
reload it goes back to zero it's not
being you know persisted anywhere but
let's go ahead and take a look at whoops
didn't mean to do that let's go ahead
and take a look at the file structure of
a meteor a default meteor application so
as I said it's a full stack framework it
runs on
and the server now you have this folder
called client and you have a folder
called server anything you put in the
server will only run on the server
anything you put in the client will only
run on the client and then anything else
outside of those is going to run on both
and that's where we're going to put our
collection are our MongoDB database
because with meteor the client side can
actually access MongoDB through
something called mini Mongo which is a
library that interacts with the backend
server it kind of syncs up with it all
right now I'm not going to go into depth
on you know all the ins and outs of how
media works a lot of it I don't even
understand it's kind of like magic in
some ways so you know what I'm going to
show you how to build the application
and explain things as best as I can okay
we're not doing too much in the server
folder and this in this in this project
so if we look at name dot HTML this is
our HTML file now we have our head tag
we have body whatever we want to put in
the head and obviously we can put up
here scripts you know if we have we're
using a CDN or something like that and
then in the body we can put whatever
HTML and then you'll see these double
curly brace and then this this angle
bracket and then a word now this word is
a template so in this case we have we're
loading a template called hello a
template called info and then we're
defining those templates right here with
a template tag and a name attribute
that's going to match whatever this is
so that's where we're seeing this click
me and the paragraph that's showing here
and then the info is showing here and
that's what we're looking at when we see
our application okay now if we look over
here there's a main dot JS file and this
is where we can kind of add dynamic
functionality so if we want to do
something in the hello template which is
this content here then we can add C
let's say template dot hello dot helpers
and we can define functions here and
properties that we can bring into our
template in this case there's a function
called counter and that's what's
responsible for it for incrementing that
value you saw when we click the button
now we can also have events that go the
other way from the template too to our
cloud to our
javascript and that's where we do
template.dot hello events and this is
where we catch a click event on a button
okay so we can use selectors here if we
wanted a button with a class of button
we could put a dot there if it was an ID
we could put a number sign or we can
just take any button and this event will
be applied to it now I'm going to just
get rid of all this because I don't want
this to confuse you guys I'm not going
to use this reactive VAR library either
so we're going to get rid of that all
right and we'll just save that and then
let's go back to the main HTML and let's
go ahead and just delete those delete
that and save just going to edit this
title same note manager and now let's
look at our application and now we just
have welcome to meteor so kind of a
blank slate alright now what I want to
do is I want to install the materialized
CSS package so to see that I close that
I did we just search for T realized CSS
meteor I spelt that wrong that's fine
so meteor uses atmosphere for its
package manager this is like kind of
like a github doc you are an NPM
documentation page but all we need to do
is run this command here and it will set
up materialized so let's grab that and
then I'm going to open up another
command line all right now the reason
I'm using the standard Windows command
line and not get bash is because there's
some extra steps you need to do for the
meteor command to work and get bashed
and I don't really feel like going
through that so we're just going to use
this so you go into projects note
manager and let's go ahead and paste
that command in and that could take a
second to install that package alright
so that wasn't fast so now it's
installed and if we go back to our
application now let's go ahead and
reload it and it should automatically
get there we go so you can see the fonts
change the size meet materialized is now
kicked in we didn't have to do anything
else except run that command which
is really nice alright so now that we've
done that let's go back to Adam and what
I'm going to do here is create a
template now you can break your
templates up into separate files usually
what I'll do is put an includes folder
in the client folder and put my
templates in there but we're not really
creating a lot of different templates so
I'm just going to do everything here
just just to kind of keep it simple so
let's give this template a name of note
okay and then I'm just going to put an
li in here and I'm going to use a class
of collection items which is a
materialised class and then in here I'm
just going to say my note and then we
can just insert that up here by going
like that okay because we called the
template name note so we can insert it
right there so let's save it and now you
see we get my note let's actually wrap
everything in a container in the body so
this will be a div container alright so
that will just push everything to the
middle all right so now what I want to
do is pull in some data from the
JavaScript now ultimately we're going to
pull it in from a collection from Mongo
but for now we're just going to set a
static array and then pull in those
notes now I'm going to create a set of
helper functions or helper I should say
just helpers because they can also be
just regular properties now I'm not
going to set it to any template like if
we wanted to do helpers for the notes
template we could do template note
helpers but this one is going to be for
outside of the template okay so we can
do template dot body and that will
pertain to anything that's outside of
the templates so we're going to go like
that and then put in some curly braces
here and we're going to set a property
called notes okay and I'm going to set
that to an array
of objects and then each one is just
going to have a text value so let's say
my notes 1 and then I'll just copy that
this will be 3 &amp;amp; 2 all right now we can
also have functions like I could say my
function like that and we could return
something and we're going to get to that
after but we can also just set
properties like this you could even set
this to you know just a string and pass
it to your template or in our case pass
it to the body now that we have those
notes let's go back over here and let's
wrap around this this note template
which is just an Li and we want to do a
loop okay so we want to loop through
those notes and we can do that by doing
number sign each and then notes alright
and then here let's just end that with
slash each okay now I actually want to
put a UL above this so say UL and yeah
give it a class of collection which is a
materialised class let's want to wrap
that around all of this okay and let's
see just save that see what that gives
us oops what happened unexpected end div
tag this class container what did I get
rid of the container sure why that
happened all right
okay so here we go now why doesn't that
look great
CLI collect oh there should be
collection item not items there we go so
that looks better now we're not seeing
the actual notes from JavaScript we're
just seeing the actual text of my note
and that's because we still have my note
here so what we can do is we can grab on
to the text value or any value that we
had in here okay and we'll just replace
this with double double curly brace and
then text and now if we look now we get
my note one two and three so we're
passing in that array from our
JavaScript okay hopefully I haven't lost
you guys yet
so what we want to do now is instead of
having that come from just a static
array like this we wanted to come from a
collection a collection is kind of like
a table inside of our database okay
relational databases like MySQL use
tables no SQL databases like MongoDB use
collections so creating a collection is
really easy we're just going to create a
new folder in our application called Lib
and this is where we're going to put
stuff that we want to be able to run on
the client and the server so we're going
to have a file on here called
collections dot J s okay and for now
this file is actually going to be really
simple we're just going to import Mongo
and we're going to grab that from meteor
slash Mongo actually this should be
lowercase all right so we're bringing in
Mongo and then we want to just create a
collection and we want to also export it
so that we can use it in other files so
we're going to say export say Explorer
kant's which is just another way of
creating a variable we'll call it notes
and then we're going to set it to new
Mongo dot collection
and we're going to call this collection
notes okay and that's it that will
create the collection for us so we'll go
ahead and save that now back in our main
j/s instead of just returning these
properties or I'm sorry this static
array I want to return the notes that
are in the collection which of course
right now there aren't none but I still
want to add that functionality so what
I'll do is comment this out just so you
guys can have this so you know you can
do that and then we're going to create a
function instead called notes and then
all we have to do is return notes dot
find and we don't want to have any you
know any query or anything so we're just
going to put a blank blank early braces
now you know what we need to bring in
our notes collection so up here at the
top would say imports notes okay and
we're going to bring that from dot dot
slash because we want to go outside of
the client folder into the Lib into
collections
okay our collections dot j/s so let's
save that and let's go back and we
shouldn't see any notes once this is
reloaded Mongo dog collection is not a
function see long Godot collection
oh this should be an uppercase C start
with that okay so now we're not seeing
anything and that's fine because we have
no we have no notes in our collection
now there's a few things we can do we
could just start to add the you know add
note functionality to our app but I want
to have something to work with and then
and then you know display the notes so
we can actually use a Mongo shell a
meteor Mongo shell to add stuff so what
I'm going to do here is go into our
command line and we can run as long as
you're in your your project folder we
can run meteor Mongo and that's going to
bring us into the shell we can clear the
cell with CLS and then we can actually
insert stuff here in fact let me go to
the tutorial and see to-do app blaze and
let's see where are we collections so we
did this right here so we can say DB dot
and in our case it's going to be notes
not tasks dot insert and then we can put
in you know whatever fields we want
we're going to do text just like they
did here and created at which will be
the current date
so let's actually just copy that and
we'll go back paste that in and then
let's just change tasks to notes and for
the text let's just say I don't know
we'll say create a created database yeah
that's fine okay so inserted one let's
go back to our app and there it is
create a database we didn't even have to
reload so let's do another one I'll just
click the up arrow and I'll just change
the text here let's say created login
function there it is just shows up right
away so that's that's really cool so now
that we can list out we can list out our
notes actually you know what let me
let's add the navbar oh so let's start
to work on the UI a little bit so go to
our HTML and let's change this h1 here
and we'll just say latest notes and
let's see we'll grab the I'm just going
to copy the navbar just going to take a
couple things out real quick
all right so I'm going to paste this in
right above the container and it's just
take a look at it it's a nav tag I'm
given a class of red and then we have a
container inside the navbar we have a
nav wrapper we have the brand or the
logo which is just note manager and then
we have the UL okay and it's going to
the links are going to be floated to the
to the right so let's save that see how
it looks okay looks good now what we're
going to do is we're going to add a
button up here to open up a modal to add
a new note so I'm going to go to the
materialise site and let's go to
JavaScript and then modal okay and let's
see so basically we need some kind of
button or trigger and then we have the
modal structure here so let's let's grab
this and then we'll go to C go to our
nav bar we're going to go in here and
put an li and let's give it a class of
nav - item and I'm just going to paste
that in there let's change this to say
add note and then the href is I'm going
to change it from modal one to add modal
okay let's see what that looks like
good now we need the modal structure
which is this right here so we'll copy
that and then what I'm going to do is
put this in its own template okay in our
HTML so let's go below the note template
and let's we'll give this a let's give
it a name of add and then I'm just going
to paste that in let's change the ID
from modal one to add modal and we'll
just leave it for now and then where we
want to put this ad template is pretty
much anywhere because it's not going to
be shown by default we'll put it under
we'll put it right above the body tag
down here so
let's say add all right now the modal
isn't going to work just yet we actually
need to add a line of jQuery and that's
that's due to materialize if we go down
here and by the way when we interested
when we installed the materialized
package it also installs any
dependencies including jQuery so we
don't have to add jQuery ourselves but
we do need this right here we need to
call modal dot modal so let's copy this
line and we'll go back to our HTML
template and let's put this right above
the body we're going to put a script tag
and let's just paste that in we'll get
rid of the comment you guys don't have
to use materialized you could use
something else or whatever but I just
wanted to make it look decent so let's
save that and the modal should now work
if we go back and click add note there
we go so now what we need to do is just
add our input into this modal so let's
go let's go to our add template and
let's see I'm going to just get rid of
the footer we're not going to need the
footer and then everything in the
content the modal content and then all
we're going to need in here let's put an
h3 and we'll say add modal add modal add
note all right and then we're going to
put a form and let's give this the class
of add - form we're going to use that to
grab on to it in our JavaScript we don't
need an action and then we're going to
have an input and then this input is
going to have a type of text and let's
give it a name a name of text and then a
placeholder and we'll just say add note
all right so let's see what that looks
like add note there we go we have an
input so when we hit enter we want that
to call a submit function so let's go
back to our JavaScript okay and remember
we gave that template a name of ad so
that's where we want to add the event to
so we're going to go down here and say
template dot add dot events and then
here we want to define the type of event
which will be a submit and then the
element which is going to be the form
with the class of add dash form okay so
when that when that's called we want to
run a function alright and then we want
to prevent the form from actually being
submitted to another file so what we can
do is we can say event dot prevent
default and that should stop it and then
just to test it out let's just
console.log and we'll just say one two
three all right and I usually like to
return false at the end here too okay
and then let's go back and let's open up
the console with f12
we'll hit add note type something in
ENTER and down here you see we get one
two three so that's working now we want
to grab the value of the form or of the
input rather so let's say get value or
get input value all right we can do that
by creating a variable let's call it
target set that to event dot target okay
and then let's create a variable called
value or I'm sorry text and set that to
the target dot value that's going to get
us the form value all right I'm sorry
it's not it's actually target dot text
dot value and then let's just test it
out by console logging the test okay so
let's go back
and put something in enter and you'll
see that we're getting it down here so
what do we want to do with this value we
want to add it to our collection okay we
want to want to create a new node and
add it to the collection so let's say
insert notes into collection and we can
do that by just taking the notes
collection and calling insert and then
in here we want to pass in an object
which is going to be our note and we
want our text and then we also have a
created at value that we're going to set
to whatever the data is so we're going
to say new date now just doing text like
this is the same as doing this just to
let you guys know okay it's just a
shorter way if both of these are the
same you can just cut it down by just
putting in text okay so we're going to
do that now once we insert that we want
to clear the form okay so we can stay
target dot text dot value set it's
nothing we want to clear it and then we
want to close the modal all right and if
we go to the materialized modal
documentation we can easily close it
with jQuery by just going like this so
we can actually just grab that put that
and now it's not modal one it's ad modal
all right and then that should do it so
let's save let's try it out so add a
note let's say created register function
enter and there we go if we reload it's
still there so we can now add notes
through our application which is really
cool all right so let's see what do we
want to do next let's take care of the
the delete alright so we just check this
out here so I apologize it I definitely
remembered every single line of the code
because I just did this this morning
literally so we're going to put like a
delete icon over here now when you
install the materialized package and
fortunately it doesn't include the
icons so we're going to have to just add
the CBN to use the icons so I'm going to
go to our HTML let's go up to the head
area and I'm just going to grab this
real quick you guys can just google
materialize CSS icons CDN I'm just going
to paste that in okay and this is coming
from you know Google ap is calm and then
for let's see for the delete button
let's go down to our note template which
is right here we're going to go inside
the Li let's actually just break this on
two separate lines and then after the
text here let's put an a tag it's not
going to actually go anywhere and then
we'll give it a class of let's say
delete - note that's going to be what
we're going to grab on to
and then for materialise if you want it
to be aligned to the right we want to do
secondary - content alright and then to
use the icons we're going to put in an
eye tag there with the class of material
- icons and then the name of the icon we
want is going to be close so let's see
what that looks like okay so now we have
these X's nothing happens if I click
them we have to add that event so
remembered we're inside of the note
template right so that means we have to
add the event to that into the note
template so let's go back to our main
j/s go down here and let's say template
dot notes dot events and it's going to
be a click event and it's going to be on
the class of delete - notes okay when
that happens we want to run a function
so what we want this function to do is
just delete that particular note from
from the database and that's really
simple all we have to do is take our
collection our notes collection and we
can say dot remove and then we can
actually get the event that's clicked on
by using this okay and then we actually
just want to pass in the ID which you
can get with this dot underscore ID if
you're familiar with MongoDB then you
know that it automatically adds an
underscore ID value which is an object
ID all right and then I'm just going to
return false okay and that should be all
we need to do so let's save let's go
back and click X and it goes away reload
and it's still gone all right so we now
have our delete functionality now what
we're going to do is we are going to
implement user accounts okay now I
forget the actual command but let's say
meteor actually will just look at the
tutorial but we need to add a couple
packages for this so let's see adding
user accounts we want to run this here
meteor add accounts UI and accounts
password those are the two packages we
want so let's copy that let's go into
our command line I'm still in the Mongo
shell here I'm going to ctrl C to get
out and then we're going to just paste
that command in I hate this compass CMD
let's just type it so meteor add counts
- UI times - password and that will
install those two packages and then this
is so simple to implement this is this
is one of the things that I really like
about meteor is just how how fast you
can do things so all we have to do is
put in this login buttons thing right
here anywhere we want and it'll give us
that entire functionality that sign up
and login functionality so let's put
this in the nav bar we'll go back to our
HTML let's go up to our nav bar we're
going to put in another item nav item
and I'm just going to paste that in log
in buttons will go back and now we have
the sign-in we can create an account now
before I create an account I want to
show you how we can use a username
instead of the email okay
you can use either one but all we have
to do is add a config a couple lines of
config so let's go back to our main j/s
let's go up top and we're good we're
just going to import the accounts
package and that's going to come from
meteor slash account base accounts base
and then we just want to add here for
the comment will say accounts config we
can take that account and we can call
you i dot config and then pass in an
object and there's a few different
options here but the one we want is
password sign up field field and we're
going to set that to user name
underscore only and that's it
so we'll save alright and then we'll go
back and let's reload actually we didn't
have to reload but you'll see that now
if we just we have a username option so
let's go ahead and create an account
just going to call it Brad password
create account and then it logs us in
you'll see we're logged in we can change
the password and we can sign out so this
so this is just you know very very
simple obviously if you want more if you
want to customize this and you want to
add more fields and all that you can
just look at the the accounts what is it
called accounts UI you can you look at
the documentation for that and there's a
lot of things you can do to customize
that stuff alright so now that we've
done that there's really there's really
nothing that this is doing for us as far
as logging in right now so what we what
we want to do first is we want to make
it so that we can only see notes if
we're logged in and that's really easy
as well so we'll just go back to the
HTML and we're going to go down to
latest notes right under the h1 and
we're just going to say if
current user okay that's all we have to
do to you know display something for
only logged in users and we just want to
end that down here just tab that over so
let's go ahead and save that and then
we'll go back and take a look and I'm
still logged in so they're showing but
if I go and I log out you'll see that
they're not going to show now I want to
have a message here rather than just be
blank so what we can do is put an else
right here we'll just say else and then
we'll just put a paragraph and we'll say
please log in to manage notes and now we
have our message so the next thing I
want to do is make it so that when we
create for instance when we add a note
actually you know what we want to hide
that as well if we're not logged in we
shouldn't see this button so let's wrap
if current user around that as well so
right thank you you want to wrap it
around the whole li okay now when we're
logged in and we go only add a note I
want the user information to also be put
inside of the collection okay with the
notes so we know which user created
which note because if we don't do that
we can't have any type of access control
so to do that is pretty simple we're
going to go to main j/s and go to where
we did the insert which is right here
and all we want to do is add in a couple
extra field so we want to say owner
we're going to set that to meteor meteor
dot user ID that will get us to user ID
and then we can also put the user name
which we can get from meteor dot user
and then dot user name alright and that
will give us the user name so let's save
that and then let's add the
user name to the end of the note so if
we go to our HTML file and go down to
our note template right here let's see
we want to go right after the text and
I'm just going to put a colon and then
let's put some strong tags and here
we'll just say added by and then use
your name now this isn't going to work
for the account that we're logged in as
because we didn't add that functionality
until after so Brad does not have I'm
sorry these these notes do not have you
know Brad's info so let's delete these
and create another one now you'll see
that the user info is going in and it
displays the user name so now what I
want to do is implement something called
methods so if we go to the tutorial here
security with methods this will tell you
all about it it says let's see before
the step any user of the app could edit
any part of the database this might be
OK for small internal apps blah blah
blah so basically it's when you install
meteor you have a package called
insecure and it's just that everything
it makes everything insecure for
prototyping and development reasons once
you're done with you know your
prototyping and all that you want to
remove this package and then you want to
put your database functionality into a
method instead of putting it right
inside you know right inside the event
or whatever so that's what we're going
to do let's remove the insecure package
so we're going to go over here
clear this out and we're going to say
meteor just like you can add packages
you can remove them so remove insecure
and then once we do this it's going to
break our application temporarily all
right so if we go back to our
application and we go even though we're
logged in if I go and I try to delete
you'll see down here access denied if I
try to add something
access denied so what we want to do now
is we want to go to our collections file
this is where I'm going to put our
methods and let's say here we're going
to import media and that's going to do
from media / meteor and I'm also going
to port something called check which
allows us to check the types of the data
that's being submitted are the
parameters so I'm going to say check and
that comes from meteor slash check the
media has a lot of different packages
like this it's a really full-featured
framework now to define our methods
we're going to say meteor dot methods
and then here we'll put in some curly
braces and we want a method to for our
insert when we insert notes into the
database so let's call this notes dot
insert okay and that's going to take in
one parameter which is going to be the
text all right and then we want to check
that text and make sure it's a string so
we'll say check text and then string and
it's as simple as that to check the type
now to insert we're just going to grab
what we have here notes dot insert and
we're going to bring it into that method
okay notes dot insert everything here
can stay the same the text is going to
be passed in and it's going to be
checked and then it's going to be
inserted as a note now I want to make it
so that week we have to check to see if
the user is logged in Jesus a freaking
dog hold on a second guys
just had to shut the door so even my dog
it's the neighbors all right so like I
said I want to check to make sure the
user is logged in so right here we're
going to do that check check if user is
logged in so we'll say if I'm going to
say if not meteor dot user ID that means
the users not logged in so we just want
to throw an error message so let's say
throw new meteor dot error animals just
say not authorized all right and you can
do whatever other types of checks you
want to do in here so that's the insert
method and I'll show you how to apply
this method after I just want to go and
create the delete or the remove method
so down here we'll put a comma and let's
say notes dot remove and that's going to
take in a parameter now I'm going to
take in the whole note for this
parameter okay you know which has the ID
it has the text that created add all
this stuff and then in here we're going
to do a check and I just want to make a
check on the ID so we're going to say
note dot on the scribe D and we just
want to make sure that's a string it's
going to be in string format all right
and then we can just say notes dot
remove and then pass in the ID which we
can get from no dot underscore ID
all right so save that now the way that
we implement these methods is by going
to main j/s and let's go to where we did
the the notes dot insert and we're not
going to do this here okay because we're
doing it in the method but I am just
going to comment it out so you guys have
it but all we have to do is say meteor
dot call and remember we call the method
notes dot insert so we can call it like
that and then pass in any parameters
that are going to go in which is going
to be the text which is coming from the
form
past in goes to the method right here
gets passed in and then does the insert
okay hopefully that makes sense and then
for the remove we're just going to get
rid of this line where we actually just
you know did the remove right inside of
the event because we don't want to do
that we want to do meteor dot call and
we want to call notes dot remove and
taps in this okay this is going to be
the actual note okay and then where
we're catching it right here
hopefully that makes sense so let's save
that and now everything should work
again okay but it's more secure so let's
add a note will say added template UI
and now we can add them we should be
also be able to delete good now I want
to make it so that only a user a user
can only delete their notes
so let's actually create let's sign out
and create a new account so we'll call
this one John oops we got to create the
account first create okay it logs us in
and let's add a note will say added
registration now I can delete Brad's
Brad's note and I don't want to be able
to do that so what we can do is go back
to our methods go back to collections
JFS down to our notes remove method and
we can simply do a check here now
remember we're passing in the entire
notes so we have access to the owner so
we can say if note dots owner side with
that if no dot owner is not equal to me
here dot user ID which is going to give
us the current current logged in user
okay if the current login user does not
match the owner of that note then we're
just going to throw an error
so we'll say thrown
Meteor error and you can handle errors
however you want okay so now let's go
back and let's try to delete Brad's Pope
and we do it we get this not authorized
error down here okay but we can delete
our own so if we add another one here
and try to delete that works all right
so I think that we are done here guys
now this is a pretty simple application
but I mean you can see how fast you can
you can add stuff like this and there's
a lot of different packages you can add
to meet here and you can really
customize it if you're if you're
interested in learning more about meteor
I would suggest the edge' wanax mobile
course that I did there's five projects
in meteor there's five projects in react
native there's five projects and what
else PhoneGap and a couple other
technologies it's a huge course but you
know five projects and meteors is pretty
valuable so I would definitely recommend
that if you do get it please use the
affiliate link in the description other
than that we're all set so thanks for
watching guys please subscribe please
leave a like support me in through
patreon if you are interested in doing
that and I will see you in the next
video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>