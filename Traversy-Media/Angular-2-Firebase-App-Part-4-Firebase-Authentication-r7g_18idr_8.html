<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 &amp; Firebase App [Part 4] - Firebase Authentication | Coder Coacher - Coaching Coders</title><meta content="Angular 2 &amp; Firebase App [Part 4] - Firebase Authentication - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 &amp; Firebase App [Part 4] - Firebase Authentication</b></h2><h5 class="post__date">2017-02-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/r7g_18idr_8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys in the last video we
implemented angularfire - and we tried
to fetch our listings from the database
but we got this error down here saying
we don't have permission so now we have
to implement authentication so let's go
to the angularfire - documentation and
there's actually see right here use your
authentication I'm going to take a look
at this and this stuff here we did most
of it but we need to add our off config
here and then pass it in to the
angularfire module so let's go to app
module TS and where we brought in
angularfire module we're also going to
need to bring in these two packages here
so let's copy those and put those there
as well okay and then let's see we
already have all this that's fine then
we need this so copy and put that below
the firebase config and I'm going to
change this to firebase off config okay
now for the provider we're going to use
Google but for the method I want to use
a pop-up so we're going to get rid of
redirect and say pop-up and that
shouldn't be error okay there we go all
right and then let's see we need to just
add the off config into the the
initialized app okay so right here we
have initialized app and we're just
going to pass in firebase auth config
okay
so let's go ahead and save that and then
back to the documentation when we want
to log in we need to call AF dot dot log
in so log in is going to happen in the
nav bar so if we go to our components
and then to nav bar and then to the HTML
file we have the login link right here
so we're going to put a click event and
let's set that to a login function okay
and then we'll create the log out as
well so copy that
and that will be log out and we're going
to call a function called log out
okay let's save that and then we'll open
up the nav bar ts file and we have to do
some stuff in here first of all we have
to bring in angularfire so let's do that
up from angularfire to you why is that
narrow okay and then we need to inject
that as a dependency into the
constructor say public AF and set it to
angularfire
and then what we want to do is create
our login and logout so down here we'll
say login and we're going to set it to
this dot AF dot auth dot log in and that
should bring up the Google pop up and
then for logout it's going to be pretty
much the same thing we're just going to
say logout
okay
so let's save that and then we'll go
ahead and test it out see what happens
so let's see listings let me clear this
out okay so if we reload listings we're
still getting that error so let's click
login all right so that's happening
because we still have the href okay so
in the login link we're just going to
delete this also in the logout all right
so let's save that
okay listings are getting the error
let's click login that'll bring this up
and then we can put our password in to
allow and now we should be logged in so
let's clear this up down here and see if
we still get that all right so let's see
we'll go home and then two listings and
now you can see we're actually fetching
the objects okay we're getting our
listings so we're now logged in now we
can choose to show and hide what we want
up here so let's go ahead and do that if
we're logged in we don't want to show
let's say we don't want to show login so
let's go into the actually we want to go
into the LI and we're going to say star
ng-if and we want to set that to not
because we don't we only want this to
show if we're not logged in and then
we're just going to put some parentheses
and
say a-f-dot off and then we also need to
add this async flag or filter and then
that should hide this if if we're not
logged in now the logout we only want to
show if we are logged in so let's copy
this and we'll put that right here and
we just want to get rid of the
exclamation okay and I'm going to copy
this and put it on listings and add
listings because we only want those to
show for logged in all right so let's
save that and now you can see that login
link is gone because we are logged in
let's go ahead and click log out and
then that should yep now we can't see
these links and we can see login and now
if we want to log in again we can just
click it and it'll log of sin we don't
have to keep re entering information now
if we go to firebase and go to
authentication there's the user right
there okay we can also add users from
our console so now that we can get our
listings
let's choose to display them in the
listings page now if we go to our
listings component the TS file we're
already setting it to the listings
property that means we can access it
from the HTML file so let's go there and
let's create a ul and we'll give it a
class of List group so you guys can't
see that so you all class list group and
then an Li and we'll give that a class
of list group item and then this is what
we want to we want to look through the
listings and output this Li for each one
so we can use an ng for for that so
let's see we'll set that to
let listing of listings and then in here
we're going to put the listing title so
let's try that out and there we go so
now we're listing all the listings and
then we want to create a link to go to
the single page which we haven't set up
yet but we will so let's actually we
don't want to use an HR f we want to use
router link and I'm going to set that
equal and in here let's say slash
listing slash and then we need to
concatenate the key of the ID so we're
going to put a plus sign and then
listing dot money sign key
okay we'll wrap that so let's save and
now when I hover over it if you look
down here you can see it's going to go
to whatever that key is okay now we
haven't created that route yet so I
guess we can do that now if we go to app
dot module TS and go up here say path so
the path is going to be listing slash
and then whatever the ID of the key okay
and then component is going to be the
list with the listing component okay
singular so if we save that
now we click that we go to the listing
page okay now what we'll have to do is
is create another function in our
service to fetch that single listing
okay but we'll do that later on but the
last thing I want to do in this video is
get the mess the flash messages so I
believe we already installed it let me
just check in our package Jason right
here angular to flash messages so if you
didn't install that yet just do NPM
install and then that and then we have
to bring that into our app dot module
file so let's put this right here
and we're going to do import say import
flash messages module from angular to
flash messages and then we need to add
that as a see where we need to add that
as an import okay so in the imports
flash messages module
okay so let's save that and then what I
want to happen is when we log out I want
it to tell us we're logged out so let's
click on navbar we want to go to our nav
bar component ts file and we need to
bring in the flash messages service
service from angular to flash messages
okay and then we need to add that as a
dependency so let's put this on separate
lines save public flash message and set
that to the flash message service okay
and then once we log out we're going to
save this dot last message dot show and
pass in the message we want to say which
is you are logged out okay and then we
can set some options we're going to set
the CSS class to alert success because
we're using bootstrap and that will make
it green and then we also want to set
the timeout and I set that to three
seconds or 3,000 milliseconds all right
and you can put that on a separate line
and let's save it
okay and now if we reload and log out
let's see it didn't work
oh you know what we forgot to put the
placeholder in the main app component so
in app component HTML we're going to go
right above the router outlet and say
flash messages
all right so let's save that and then
log in and then log out and now it tells
us we're logged out all right so that
should do it we can now often aqui we
can fetch our listings in the next video
we're going to we're going to fetch the
single listing so that we can have that
single details page and then we'll move
on to adding a listing also uploading an
image to firebase storage and and all
that all right so thanks for watching
guys please subscribe if you can and I
do have a patreon account so if you guys
want to help out help us out and help me
be able to keep giving you free
tutorials and free courses and all that
even just a dollar month would be very
helpful so that's it and thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>