<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learning D3 Part 8 - Axes and Guides | Coder Coacher - Coaching Coders</title><meta content="Learning D3 Part 8 - Axes and Guides - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Learning D3 Part 8 - Axes and Guides</b></h2><h5 class="post__date">2015-12-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/11QMX7vA22Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome back to learning t3 in
the last video we created some
transitions so now when our chart comes
into focus it does a cool animation and
we can hover over each bar and get the
data now what we need to do is set up
and a y-axis and an x-axis with some
ticks so that we can actually see the
data here all right without having to
hover over so to do this we're going to
need to create two more scales so we
want to add a horizontal scale and a
vertical scale and they're going to be
very similar to the x and y scales all
right so I'm going to create them down
here because I just kind of want to I
don't want to mix them up with the x and
y scales all right but actually we can
probably just copy these and bring them
down here
all right and what we'll do what we'll
do is change this change the Y to the V
scale to the vertical scale and all we
need to do here all we need to change is
the order of this zero and height okay
we want the height to be first okay if
we don't do this and we leave it the
other way then the zero is gonna be end
up up here all right and it's gonna go
the opposite way for this one this is
gonna be the H scale and we can actually
leave that as it is for now all right so
now what we're gonna do is create our
access so this is going to be the
vertical axis so we're gonna create a
variable called the axis and I'm going
to set this to d3 SVG and then dot axis
okay it's the method we need to use and
then we need to do is input the scale so
this is going to use the V scale and we
need to provide the orientation so
that's orient and we want this to be on
the left of the chart all right next is
the number of ticks that we want to show
so we're gonna set that to five so if we
look at the chart we're gonna have five
different chicks chicks 511 nice - we're
gonna have five different ticks here
that represent the data points all right
next we can do let's see let's do tick
padding
and that's just what it sounds like just
some padding for each tick and that's
gonna be five as well all right now
we're gonna create the guide for the
access so this will be the V guide and
call it V guide I'll set that to d3 dot
select we want to select the SVG element
and then what we're gonna do is append a
group so to do this we do a pengie okay
so whatever we put after this is gonna
put that inside of a group all right and
it'll actually they'll actually be a G
element in the HTML - wrapped around it
all right so what we want to put here is
the V axis and we want to pass in the
guide the V guy okay and then we're
going to say V guide and we want to add
an attribute and
this is gonna be the transform attribute
which has to do with the positioning of
this group and this will be dynamic but
for now I'm just gonna set it to 35 no
we need to put this inside of a
translate function so we translate and
then actually we don't need quotes just
35:10 and we actually have to put quotes
around this around the translate all
right and then what we're gonna do is we
need to select the path so I'm gonna say
V guide the guide dots
select all path and then we'll do the
fill
so this is the line that the ticks are
on alright so we're just gonna say fill
none it's being quotes fill none and
then we're gonna set the stroke and you
can make it whatever color you want I'm
just going to stick with black okay and
then we want to select the line it's
gonna save the guy this is all SVG has
to do with SVG paths and lines we guide
select all and we want to pass in line
and then we're gonna set that to black
as well so I'll just copy that and there
we go so that's gonna be our vertical
guide so if we go ahead and save that
alright so now we have a guide we have
our five ticks it's two hundred well
zero to a thousand and you can't see the
one in the 1000 but don't worry about
that yet we're going to be setting
margins and positioning so we'll be
fixing that so at least we have it there
so now I want to get the horizontal
alright so what I'm gonna do is I'm
gonna copy the axis and the guide
and paste that and then we're just going
to change everything to H so H access H
scale
each guide
okay and I think that's all of them
alright so we're going to just edit this
a bit the orient is going to be on the
bottom and let's see
don't need these we're going to replace
this with take values alright and we're
gonna pass in the H scale domain and we
want ad filter and then inside here
we're gonna put a function
okay I'm gonna pass in D and I and then
we're going to have two T's here that's
not right
let's return and we want to say I
modulus and then we want the the length
of the data so I'm going to say my data
dot length and we want to have five
ticks on the bottom no matter what so
we're gonna say slash five alright
because essentially what the numbers
down here represent is just the the the
range of the data that the amount of
data you have alright and we don't want
to have a tick for every single bar
because if these if we had a ton of data
then it's just gonna we're gonna have a
bunch of ticks here and I just want to
stick with five all right so that's what
this little equation is gonna do
and then for the guide we're gonna say H
guide select SVG append the group H
access H guide attribute keep that for
now yeah the rest will just keep for now
let's see what happens okay so we have
the guide up at the top here so what
we're gonna have to do is factor in the
height in this in this translate so
we're gonna say
let's see we want to add in height
variable so I'll say height plus
ten
no that's not right this needs to be in
parentheses
or is it I think it's - time
okay so let's go up a little bit more
we'll say - 20 and let's actually do 30
okay so since we have zero you know what
let's change this to six points because
we'll have zero and then the five and
yeah
okay so that works so now we have our
guy we have our axis and our guides and
what we need to do now is line
everything up because right now it's all
out of whack so to do that we're gonna
add I'm going to create an object up
here for our Majin values so I'm gonna
go right under the data and create a
variable called margin and that's gonna
have a top we'll say 30 right 30 as well
and bottom 40 and left is 50
okay now we're gonna have to factor
these in in a lot of different places
all right including the height and width
so height will be whatever we want 500
but then we're also going to take away
the margin dog top as well as the bottom
all right and then for the width we want
margin right and also whoops should be
margin dot right and margin dot left all
right and let's go down here and we're
gonna look at the width right here we're
gonna count the width attribute and then
we need to add margin dot right and left
okay the height we're going to add the
top and bottom so modular top plus
margin dot bottom and we need to also
add transform
so let's actually add a group right
under the height okay so we're going to
say got append G and then we're going to
do attribute
transform then we want our whoops
translate
okay now translate this is going to be
the margin left in the margin top so
margin left margin dot top
all right and then down here if we look
at the V guide translate we're gonna
change this and we're going to add our
margins so this should have quotes and
then Plus this is going to be margin dot
left all right and then this one is
going to be large and our top
okay now the h guide this first one is
going to be the left margin' and then
this one here is going to be height plus
the top margin
all right so let's save that and see how
it looks and that looks perfect so that
is our chart
now if let's go ahead and test it so if
we put for instance let's change the
thousand back under back to 500 and
reload and now you'll see that it's only
now going to go up to what is it
720 is the highest all right so no
matter what we do with this data it
should be able to display correctly all
right so what we can do here instead of
just manually adding a bunch of
different numbers here if we want to
test for a lot of data then we could
actually just do a loop so let me just
show you what I mean
so we could say we're gonna do a for
loop and we'll save our I is equal to
zero and then as long as I is less than
and we'll create let's say data count
which will create in a second you know
we want to increment and then what we'll
do is take excuse me my data dot and
then we want to push because we want to
add to this array and we'll say math dot
round and here we want to say math dot
random because we want any number
between let's say 1 and we'll say one in
a thousand so math dot random times 1000
okay and we're gonna have to create that
variable my data so we'll save my data
is equal to an empty array alright and
as for the variable
save our data count and we'll set that
to 50
all right so let's give that a shot see
what happens
and there we go it accommodates 450
different units of data and it's totally
random so each time we reload it's gonna
look different
okay now if we want to sort this that's
actually really easy to do so if we just
go let's see where do we want to do this
we'll just do it right here so we can
say my data dot sort all right and then
in here I'm going to put in a function
okay and let's put in a and B and then
all we need to do here is return a B and
there we go
actually since we're gonna have to do
this do this over so this equation right
here my data dot length flash six we're
going to put that back to five and that
should work there we go all right so you
see we have 50 points of data the
highest is at a thousand all right if I
go ahead and just change that
change that back to 500 it's gonna
generate data below 500 all right and
you'll see we can just hover over to see
the different individual points so
that's our chart now this code I will
put on github and I'll try to get a link
in the description but this just gives
you a glimpse of what you can do and bar
charts are just one of the many many
different kinds of data visualizations
that you can create with d3
alright so I might go on to create
another video or a couple videos on
creating different kinds of charts pie
charts Network scatter plots things like
that but this is meant to just be a
basic intro to d3 so hopefully you guys
enjoyed this and if you did please
subscribe leave a like leave a comment
whatever you can do is fine alright so
thanks for watching and I will see you
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>