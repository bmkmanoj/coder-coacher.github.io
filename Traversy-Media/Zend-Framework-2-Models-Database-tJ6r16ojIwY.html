<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Zend Framework 2 - Models &amp; Database | Coder Coacher - Coaching Coders</title><meta content="Zend Framework 2 - Models &amp; Database - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Zend Framework 2 - Models &amp; Database</b></h2><h5 class="post__date">2016-02-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tJ6r16ojIwY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys in this video we're going to
create our database for our Zend
application as well as the models all
right now if you go to the documentation
and they actually have some SQL here
that we can just paste in and it'll
create our table along with it'll be
album table with an ID artist and title
all right so let's copy that and it
actually adds in some albums as well so
I'm gonna go to my local host slash PHP
myadmin and we're gonna go create a new
database I'm gonna call it my albums and
let's say we want to go to the SQL tab
and then just paste that in alright so
let's try running it alright so that
created an album table if we click on
that we have a couple different albums
here alright now let's go back and let's
see we want to create our model files
alright so module album source album
model and we want to create album dot
PHP alright so let's see source model
let's see we want to create a new file
and let's save it and as album dot PHP
alright and we're going to grab this
okay so we have a class called album and
we have a couple different properties
public properties and then we have a
public function called exchange array
alright and we're just setting our
properties here to the data okay now
what we want to do is we want to create
an album table file okay
so this is the album model is basically
deals with one a single album and the
album table deals with all of them
alright so let's see in that same
actually let's save that and in that
same folder we're going to create
another file and I'm gonna save it as
album table dot PHP alright and we'll
just grab this okay copy that paste it
in we need PHP tags alright and this has
a couple different methods here we have
a constructor we're setting the table
gateway and then we have a fetch all
fetch all is responsible for grabbing
all of them from the database get album
will grab one a single album with an ID
this is the function to save an album
and this deals with both both insert and
update okay depending on what we pass in
to it and then of course we have delete
album which will take an ID and it's
going to call this table gateway delete
alright so this table gateway is is
basically like a database handler
alright that's what's used to call the
different the different methods insert
delete update alright so that's that
let's save it and let's go back to the
documentation let's see what we need to
do now is edit the module dot PHP file
so I'm going to close these and let's
open that up let's see where is it right
here alright
so what we need to do is add reference
to the album model and the album table
model so let's copy that
and we'll paste that right in here okay
if you don't do that it's not going to
be able to see the model and let's see
what else we need to have this get
service config so let's copy this and
I'm gonna paste that under these just
like that I'll save that and if we go
down now we need to actually connect our
database because we haven't done that
yet all right so this is gonna go in our
global config autoload global dot PHP
alright so up here autoload global PHP
and let's grab this array and we're just
gonna overwrite this okay and then we
need to edit some stuff the DB name I'm
changing to my albums ok the host is
localhost that's good so we'll save that
and then the username and password needs
to go in a file called local dot PHP so
let's just take a look at this you
should put your database credentials in
local PHP so we have this local PHP dist
what I'm gonna do is rename this and I'm
gonna take off the dot dist okay and
then we're just going to put in here
this
okay my username is root and this is
your database username and password
alright so we'll save that all right now
back to the controller now what I want
to do is just make sure this is saved
and go back and reload okay no errors
that's good now before we move on I want
a way to actually get to the album's
page so I'm going to add to the
navigation which is going to be in the
application module and it's going to be
in view layout and then layout P HTML
okay so we'll go down here this is where
the nav bar is let's see so in addition
to home let's create another list item
okay this is gonna go to slash album
all right and let's also create a link
to add an album so this will go to slash
album slash ad alright so albums and
then ad album awesome so I'm going to
stop the video here and then in the next
part we'll go back to our controller and
we will start to create our actions to
interact with the database</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>