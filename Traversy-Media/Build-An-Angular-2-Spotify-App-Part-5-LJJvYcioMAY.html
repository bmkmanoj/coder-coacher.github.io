<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build An Angular 2 Spotify App - Part 5 | Coder Coacher - Coaching Coders</title><meta content="Build An Angular 2 Spotify App - Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build An Angular 2 Spotify App - Part 5</b></h2><h5 class="post__date">2016-08-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/LJJvYcioMAY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right so now that we have our input
fetching music for us and you can see
that it comes up with the iris here we
want to have an artist module where we
click this and it takes us to a page
that has all the album's and stuff like
that so first thing we're going to do is
go to our search component and we're
going to bring in the router directives
because what we want to do we want to
use our router because we want this to
go to our module and also we need to
have it also include the ID of this
particular artist all right so let's say
import and we need to import the router
directives and that's going to be from
angular router and then we need to
include that here in directives all
right then what we'll do is save that
and go into the HTML and see where we
have this empty link here we're actually
going to get rid of the href attribute
all together and we're gonna put the
router link attribute and let's set that
to slash artist slash and then we want
the ID so we can just say res dot id
save that okay so if we were to look it
down in this area when I hover over this
you can see it goes to slash artists
slash and then a long string which is
the ID that's coming back from the API
alright so now what we want to do is we
want to create that route so let's go to
app route dot TS and it'll go right here
put a comma and let's add a new path so
this path is going to be artists slash
colon ID which is just kind of a
placeholder for the ID
and then we're gonna say component and
that's gonna be the artist component
which we haven't created yet alright so
let's go ahead and import that even
though we haven't created it yet I just
want to get it imported all right and I
should do it let's save it and then
let's create in the components folder
we'll create another folder called
artist and will create artist dot
component dot TS and then we also want
artist
component dot HTML okay and then in the
component we're just going to grab what
we have in the nav bar ts file paste
that in and let's change this to artist
change this and this now we're gonna do
quite a bit here okay first thing we
want to do is import this Spotify
service so it's a import Spotify service
let's see where our we're gonna have to
go dot slash dot dot slash services
Spotify dot service okay we're going to
add that has let's see we need to add
that as a provider
Oh actually no we don't no need to do
that we do that in the route app
component what we do have to do is
inject it as a dependency so we're gonna
create a constructor which I spelt wrong
okay constructor and then let's say
private and we'll call this underscore
Spotify service Spotify service now
we're going to have some properties here
we're going to have an ID which will be
a string we're gonna have the artist and
we're going to set this to the artist
object which I'll bring it in a minute
and then we'll also have albums which is
going to be of the album type okay so
let's bring those in
let's see that should should bring that
in and then we also have album actually
this should be three there we go okay so
next thing we want to do is we need a
way to get the ID okay so when we click
on one of these well it's not gonna work
right now because this is not done but
when we click it and it goes to artist
slash and then the ID we need to grab
that so there's a few things we need to
do to get it so what we're going to do
is bring in the activated route and we
can get that from the router alright and
we're also going to bring in we're going
to use a life cycle method called on in
it okay we could do all this in the
constructor but it's it's cleaner to
actually use one of these methods here
so that we're going to say the component
implements it's going to implement on in
it and then down here after the
constructor we're gonna create a
function called ng on in it you can see
that got rid of that error that was up
here because this is required now and we
have to inject this activated route as a
dependency in the constructor so let's
go ahead and do that say private
underscore route set that to activated
route and then an ng on an it we're
going to say this dot underscore route
dot params
and we're gonna use map so let's go on
the next line and say dot map and here
we'll say params quran's and then the
one we want is ID so gonna pass in an ID
and then let's say dot subscribe and
then we'll open up another set of
parentheses and we're going to put an ID
and set that to a code block and in here
we're gonna use the service this dot
underscore Spotify service and we're
gonna have a method called get artists
and we're gonna pass in that ID all
right and then we're going to subscribe
to this so dot subscribe and then we
want the artists and then in here we can
set this dot artist equal to artist just
like that so let's go to the service now
and we need our get artist and I'm
actually gonna copy this because it's
very similar okay so this will be get
artist and we're gonna have another
property up here it's going to be the
artist URL so it's like private artist
URL that's gonna be a string and let's
change this alright and then the URL
will be Spotify comm v1 slash let's get
rid of this
v1 slash artists slash and then we want
the ID so we're going to just
concatenate ID all right and let's get
rid of this it's gonna take an ID and
that's gonna be a string all right and
then let's see down here we're gonna say
return this HTTP GET and then pass in
this dot hardest URL and then we're
gonna map it back so we'll save it and
then if we go into our artist component
you can see that that error is gone all
right so it should now bring it in let's
make sure this is saved and then let's
go into our artist component HTML and
we're gonna put a div and let's say PG
if okay because we want to test to see
if the artist is there and let's put in
artist dot name all right so hopefully
all that works so let's say Aerosmith if
we click on that brings us here now
let's open up the console and see what
it says know provider for Spotify
service so we just need to go to our app
component TS file and we want to bring
in our service so import Spotify service
and let's see that's gonna be in dot
slash services slash Spotify dot service
alright and then down here we'll add it
as a provider save that okay let's go
back and reload localhost 3000 and then
we'll go ahead and search again and
click that and there we go so it takes
us to artist slash and then the ID and
we can now get that artist information
all right so now that's done in the next
video we're going to make up this page
we're gonna get the artist info the
albums the album covers and we'll get
that all set up</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>