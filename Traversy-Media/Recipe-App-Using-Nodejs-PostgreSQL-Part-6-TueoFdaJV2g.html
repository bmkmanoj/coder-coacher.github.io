<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Recipe App Using Node.js &amp; PostgreSQL - Part 6 | Coder Coacher - Coaching Coders</title><meta content="Recipe App Using Node.js &amp; PostgreSQL - Part 6 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Recipe App Using Node.js &amp; PostgreSQL - Part 6</b></h2><h5 class="post__date">2016-08-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TueoFdaJV2g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome back in the last video
we made it so that we could add a recipe
to our application now what we want to
do is give functionality to the delete
button all right now to make a delete
request we're going to use Ajax and
jQuery so first thing I'm going to do is
inside index dust we're gonna go to
where we have the delete button which is
up here right here alright now make sure
that you have a class of delete recipe
and we also need to pass along the ID so
that we know which one needs to be
deleted to do that we're going to use a
data attribute all right so let's add to
this and we're going to say data ID is
gonna be equal to ID okay just like that
and then we'll save it
and we'll need to create a JavaScript
file in public j/s okay i'm gonna save
it as main dot j s and we need to use
jquery so we're gonna say document dot
ready and here we want a function okay
so we want this function to run when the
documents read so we want to grab the
button with the class of delete recipe
so let's say dot delete recipe and then
we're going to say dot on okay so the
events going to be clicked so on click
we want to run a function and first
thing we'll do is get the ID from that
data attribute we created and we can get
that using this dot data and then ID
alright now for the URL i'm actually
going to put that in a variable so say
VAR URL is going to be equal to slash
delete
slash and then we want to concatenate on
the ID okay
so now before we actually make the Ajax
request I just want to do a confirmation
since it's a delete you should have some
kind of warning so we're gonna say if
confirm and we just want this to say
delete recipe okay if they confirm then
we're gonna make our Ajax so say dot
Ajax and in here and put some curly
braces we want the URL we want the type
of request which is going to be a delete
and then our success function okay
that's going to take in result and let's
just do a console dot log will say
deleting recipe and then we'll just
redirect I'll say window dot location
dot a travels and so we'll just have
that go to slash okay and then if it's
an error
okay we'll pass in error and we'll just
console.log it okay
so let's save that now that's going to
make the request now we have to go to
app J s and handle the request
so we'll say app dot delete and that's
gonna go to / delete / : ID and we'll
have our function
okay and what I'll do is grab this same
thing that's kynect paste that in and we
want a delete query so right here let's
just get rid of everything that's in
here okay and then we'll also delete
this so query is gonna be delete from
recipes where the ID is equal to dollar
sign one and then we'll replace that
with req dot params dot ID so that's
gonna get the ID from the URL and then
just done and then instead of
redirecting we just want to send a
response so we'll send a 200 response
which means everything is okay so let's
save that and let's restart this okay
and then reload let's add one just to be
deleted okay if we go here and then
click that
alright so nothing's happening if I
reload okay it's still there so let's
see if there's anything in the console
no we're not getting anything okay so
let's go did I save everything so it's
the button has a class of delete recipe
all we didn't include mange is in the
main view so let's do that we'll go to
our layout let's copy that and just
change that to main okay
all right so now say delete okay it's
confirming okay and now it's gone okay
so we can now delete recipes so in the
next video the last video I'll show you
how we can edit recipe</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>