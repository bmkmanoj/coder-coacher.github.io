<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building a GraphQL Server [Part 2] - Server &amp; Express GraphQL Setup | Coder Coacher - Coaching Coders</title><meta content="Building a GraphQL Server [Part 2] - Server &amp; Express GraphQL Setup - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building a GraphQL Server [Part 2] - Server &amp; Express GraphQL Setup</b></h2><h5 class="post__date">2017-07-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qqzIA1BQ_ys" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys so in this video we're
going to get started on our project now
I just want to go through my development
environment really quick so I'm using
Windows 10 but this this entire series
is cross-platform doesn't matter if
you're on Mac or Linux or Windows you
just need to get nodejs installed so if
you don't have that just go to node.js
org download and install it I will be
using Visual Studio code as my text
editor and I'm also going to be using
git bash for my command line which is a
much better command line for Windows I'm
also going to be integrating git bash
with the Visual Studio code integrated
terminal and if you want to do that you
can visit this page here all you have to
do is add let's see where is it right
here you just need to add this option to
your Visual Studio code settings file
alright and that's it and that'll
integrate it so let's go ahead and go to
Visual Studio code what I've done is
I've just created an empty folder called
customer base that's going to be that's
just what I called the folder we're
going to build this in I have my
terminal open down here you can see I'm
using git bash by default it's going to
be PowerShell unless you add that option
which will allow you to integrate git
bash alright so as with any node
application first thing we're going to
do is just run NPM in it and that's
going to just build out our package JSON
file so let's see customer base that's
fine version description let's say just
a simple graph QL graph QL server entry
point we're going to use server dot j s
of the file name and we can just go
through the rest of this I'm going to
put my name here but of course you can
put your own license I'll just say MIT
so you guys are free to do what you want
with this all right so that creates the
package JSON file should look something
like this and we're going to install a
couple things now and a couple things
later so first of all we just clear this
out so first of all what's going on here
we're going to need to install Express
ok we're also going to need Express -
graph QL and then I'm also going to I'm
going to install something called node
Mon which will allow us to run the
server and not have to restart it every
time we make a change and so on
alright so we want those three things
right now and then we're going to just
do - - save and that should add them to
the package.json file alright so you can
see that those things have now been
added so let's close this up for now and
we're going to create our server JS file
okay so server jas now this file is
actually going to be very very simple
most of the work that we're doing is
going to be in our schema file ok that's
where all the query responses and
mutations and all that will go but here
we're going to just set up basically a
very simple Express server alright so
we're going to say Const Express and
then we want to bring in Express alright
and if you guys hear any talking in the
background I apologize for that my wife
daughter and mother are upstairs and
they're doing their hair and it being
loud so they know they tend to not
listen to me when I asked him to be
quiet so I apologize for that if you
hear anything all right so next thing
we're going to do is create an app
variable and we're going to just
initialize Express and then we want to
be able to run our server so we're going
to take that app variable and we're
going to call dot listen and we're going
to listen on port 4000 and then I'm just
going to put an arrow function in here
instead of a you know the standard
callback function this is just the es6
way of doing things and we'll just do a
console dot log here and we'll just say
that our server is running on port 4000
all right so just this code here should
allow us to run the server now we can go
we can run node server j/s if we want
you'll see server is running but I don't
want to do that I'm going to ctrl C to
stop and then we're going to go to our
package JSON file
and what I'm going to do is create a
script here so that we can run it with
node Mon so I'm going to just get rid of
this test we don't need this and I'm
going to change it to dev colon server
okay and then in here we're just going
to run node mod okay actually we'll say
node Mon server j/s so the reason that
I'm doing Deb : servers because we're
also going to have our JSON server later
on and I'm going to create a script for
that that's going to be Jason : server
all right so let's save that and now we
should be able to do NPM run dev colon
server and there we go so now node lon
is running it on port 4000 and we don't
have to you know every time we make a
change we don't have to reset the server
or rerun the server but let's go ahead
and just open up Chrome and if we go to
localhost 4000 we're going to get this
cannot get slash because we don't have
any routes alright now with our server
we're only going to have one route and
that's going to be to graph QL all right
that's what it's going to do every time
an outside resource or a client or
whatever it is that's interacting with
our server wants to access graph QL
they're going to go through that one
route so let's go back to server J s and
we're now going to bring in Express
graph QL so let's create a new variable
called Express graph QL and notice that
the the convention here upper case G
upper case QL okay and then we're going
to set that to require and we want to
require Express - graph QL all right and
then we're going to go down here we're
going to create the entry point for any
client that wants to interact with graph
QL on our server so we can say app dot
use slash graph QL and then the second
parameter will actually be Express graph
QL okay and that's going to take in a
configuration object with a schema which
we haven't created yet so don't worry
about it just yet and then also a
boolean value for graphical which is
going to be true
and that just means that we want to be
able to use the graphical IDE to run our
tests and do all that stuff all right
now for the schema what we're going to
do is create a new file over here called
schema dot J s and this is where the
meat of our of our back-end is going to
go all of our query responses mutations
all that stuff so we want to bring that
in up here so we'll say con schema and
we're going to set that to require oops
require dot slash it's in the same
directory schema J s and we'll save it
and we're going to get this error that
says cannot find module graphical all
right so for now let's just go over to
our schema file and we're going to bring
in a bunch of stuff from graph QL all
right so we're actually going to say
constant and create an object and we're
going to bring in the graph QL object
type okay because we're going to create
types for for our queries now make sure
that you use the correct convention here
so QL should be uppercase o should be
uppercase T should be uppercase okay and
then we also want to bring in any types
we're going to use so for instance
string integer so let's bring in graph
QL string graph QL int I just want to
get this stuff out of the way we could
we could have waited to do to bring all
this stuff in but I'm just going to
bring it in all at once we also want to
bring in graph QL schema we want to
bring in graph and I'll explain all of
it as we go to graph QL list and also
lastly graph QL non no okay and then
what we're going to do is we're going to
set this equal to require
graph QL which we didn't even install
that's one thing that we should have
already installed so let's go down and
stop our server and let's do NPM install
graph QL - - save okay I don't know why
I forgot that Express graph QL is
basically the connector between the two
but we definitely need to have graph QL
installed all right now down here at the
bottom this is going to be at the very
bottom of our file we want to just
export this so we're going to say module
dot exports equals new graph QL schema
okay which we brought in up above and
then that takes in an object but I'm
going to leave this just blank for now
so if I save this and then I run npm run
what was a dev server it's going to give
us an error so it's saying schema query
must be object type but got undefined so
the reason for this is because this
should this actually needs to take in
something called a root query which is
basically the baseline for all of our
other queries and we haven't created
that yet but I do want to do that in the
next video so for now we're going to
leave it at this we are going to have
this error but that's just fine we
should be getting this error and in the
next video we're going to start to build
up our root query</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>