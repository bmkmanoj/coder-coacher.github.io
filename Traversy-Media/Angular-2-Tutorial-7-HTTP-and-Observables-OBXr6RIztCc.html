<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Tutorial [7] - HTTP and Observables | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Tutorial [7] - HTTP and Observables - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Tutorial [7] - HTTP and Observables</b></h2><h5 class="post__date">2016-04-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OBXr6RIztCc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to part seven of the
angular 2 tutorial series in the last
video we created a service called post
service which basically just fetched a
static array for us we created a get
post in an add post which we just pushed
to it alright and we also created a post
component with just a form and an
unordered list showing the posts alright
so in most cases when you have a service
to get data it's not going to be like
this you're not going to just have a
static array right in the service it's
pretty pointless what you would do is
fetch data from some kind of API or some
kind of back-end so that's we're going
to show you how to do and I'm also going
to show you how to return an observable
that can constantly be watched as
opposed to just returning a static array
alright so the API we're going to use is
Jason placeholder this is a really nice
resource it gives you all kinds of data
to work with so you have post comments
albums photos to do's and users so we're
going to be using the posts if I click
on that you'll see they have I think
it's a hundred posts lined up with a
user ID an ID a title and a body all
right so we're going to fetch data from
here so usually I would start clean with
a default QuickStart like we've been
doing but this is going to be pretty
close to what we're doing so I just left
it so this is the same code from the
last video now in order to do this we're
going to have to import a bunch of stuff
alright because we're going to be using
a couple things we're going to be using
observables so we have to import those
we're also going to be using the HTTP
providers we're going to be using the
reactive extension reactive extension
for JavaScript so we can use observables
and some other things so let's go ahead
and go to the top of the services file
and we're going to import
HTTP underscore proxy TP okay just like
that and that's going to be from angular
to slash HTTP
now this isn't included by default in
our HTML file so we're going to have to
go add that so you want to go to your
route and then go to index.html and what
I usually do is copy this last script
paste that in and then just change this
angular two to http all right and
that'll bring that in for us save that
close it up alright now what we need to
do is import the observable package
observable and that's going to be from
our X slash no rxjs slash observable all
right
next thing we need reactive extensions
so we're going to say import this time
we don't need those little curly braces
it's going to be rxjs /r x okay we're
also going to be using the map operator
which isn't included by default so we
need to bring that in okay so this is
going to be rxjs slash add slash
operator slash map alright now we also
want to create an interface for our post
okay so it's going to be kind of like a
model where we define what a post
includes so let's go to our fold our app
folder create a new file called post dot
TS alright and inside here we're going
to say export interface post
and we need to figure out what it's
going to have right so let's do title
which is a string and body which is a
string and also an ID ID is going to be
number all right and I'm going to
actually put a question mark right here
for ID so that we can actually fetch
them without needing an ID all right and
that's it we can save it okay we also
have to include that file so we're going
to say import post from dot slash post
all right so now we're ready to change
up the code here let's get rid of this
hole this post array thing and we'll
clear that out clear that out all right
now we need a property let's create a
property called URL and what we want to
do is set that to the jason placeholder
URL all right now to use the HTTP module
we have to inject it into the
constructor so we're going to say
private underscore HTTP HTTP all right
now in the get posts we're going to be
using an observable so we're going to go
right here and just say observable and
then in here we want to say post all
right and that's going to come from the
post file that we created and then what
we're going to do is we're going to say
return this dot underscore HTTP dot get
and let's put in this dot URL and then
we want to use the map operator and this
is going to return an observable for us
so we're going to say mat and then res
res dot Jason okay we want to return
Jason yeah and this is a function
alright so that's it that should fetch
it so let's save that and then we're
going to go into the app component so
app component TS and we also need to
import a few things here we need the
HTTP providers it's going to be angular
2 slash HTTP and we're going to put that
in with the providers so right here
alright and that should be all we need
to do there so now we need to go to our
post component and we're going to go
down to the class and actually you know
what before we do that we need to also
include that interface post that we
created so I'm going to say import post
just like that
and then down here where we have this
private post we're going to change this
to post and you want to put some
brackets in there oh actually no I did
that wrong needs to be post : and then
that all right now down here this isn't
going to work for us anymore because
we're now dealing with an observable so
we're going to take that off and we're
going to call this thought post service
get post and then we need to subscribe
to that observable so I'm going to say
dot subscribe and then in here we want
toasts I'm going to use an arrow
function and point to a code block which
is just curly braces and then we say
this dot posts equals posts okay so
we're dealing with asynchronous data
here so let's go ahead and save that and
let's go back to our application and now
you can see we're fetching all these
posts from our API now one thing I
should mention is that running this get
post inside the constructor isn't really
a good idea you want your constructor to
be as light as possible with just some
really basic initialization code so what
we'll do is we're going to use a life
cycle method called on an it alright
angular 2 has a whole mess of lifecycle
methods that you that have hooks that
you can hook into at certain points in
your application if you've ever used
react j/s then it's pretty similar to
that to the reax lifecycle alright now
to use this we need to import it it's
coming from angular 2 cores so we can
just go right here and then you need to
include each individual one we're going
to be using on in it so I'm going to
just include that there and then to use
it you want to go to your class here and
then say
implements on in it and then down here
will create a function called ng on in
it alright and then we're just going to
grab that observable code and put that
right in there save it and that should
still show up there we go alright so
that's just a more efficient way of
doing it now I'm not going to go into
making a post request and adding posts
because this API it's not going to let
us persist data to its database so I'm
not going to get into that I might
revisit this later on but that's going
to be it for now and in the next video I
want to talk about the angular 2 router
alright so I'll see you in the next part</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>