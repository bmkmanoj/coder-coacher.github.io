<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Recipe App Using Node.js &amp; PostgreSQL - Part 3 | Coder Coacher - Coaching Coders</title><meta content="Recipe App Using Node.js &amp; PostgreSQL - Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Recipe App Using Node.js &amp; PostgreSQL - Part 3</b></h2><h5 class="post__date">2016-08-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ijSzX3S5Qco" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in the last video we installed
PostgreSQL and we also set up our recipe
book database so now we're going to
start to create the application so in my
project's folder I'm going to create a
new folder called recipe book and you
want to open up a command line in that
folder okay and we're going to go ahead
and run NPM and knit and create a
package dot JSON file
let's see description just say recipe
manager entry point I'm going to say app
dot J s author ok so as always we're
going to open that up let's open it up
in sublime let's see what I'm going to
do is actually I don't want that one
alright so it's a project add folder and
we want recipe book ok so what we're
going to do here is in package Jason
we're going to add our dependencies so
I'm going to paste those in ok so we
have our body posture that can actually
be just an asterisk
okay now consolidate is it's going to be
used to help consolidate our dusk dusk
dust templating engine it makes things a
little bit easier for us we're also
going to include dust dust J as helpers
and dust J s LinkedIn alright also of
course we need Express and then PG is
our postgrads
module alright so not too many compared
to some of the rest of our projects
let's go ahead and save that and then
we'll go back into our command line and
we're going to run NPM install
okay so that's all set now let's create
our app j/s file okay let's go ahead and
include all of our dependencies so we of
course we need Express alright and we're
just going to put a comma here and
create the rest of them like this so we
need path we're going to need our body
parser okay we're going to need our
consolidate module I'm just going to put
in a variable called cons okay and
that's going to say consolidate after
that we need dust okay we're going to
require this is actually going to
include the dust helpers so dust j/s
helpers okay we also need our postgrads
module so we're going to require PG
alright and then we'll just say app
equals Express okay so next thing we're
going to do let's take a look at the
postgrads
the node postgrads documentation and
you'll see that we need this right here
a connection string so let's copy that
alright make this a little wider and I'm
actually just I'm going to call this
connection or connect okay and then we
need our username a Jew Onix password
whatever you put
localhost / and then you need the
database name in my case it was a recipe
book dB okay so that's our connection
string let's see let's put a comment
there okay now we're going to assign
we're going to assign dust engine to dot
does files alright so we'll say app dot
engine dust and then we're going to say
cons dot dust that's where the
consolidate module comes in alright now
we have to set dot dust as the default
extension to do that we're going to say
app dot set view engine
okay and then we need another line
that's going to tell it to look in the
views folder so app dots set and we want
to set views to double underscore to our
name and then just concatenate on slash
views alright let's set the public
folder okay app dot use and here we're
going to six press dot static and then
here we're going to use the path module
path dot join and then we want double
underscored our name and then the name
of the folder which will be public all
right so now we're going to need our
body posture middleware I'm just going
to paste that in okay and then let's see
let's do server will say app dot listen
and let's listen on port 3000 and then
we'll just console.log
all right so we're going to need a route
for now let's just say app dot get and
we want to get slash which will be the
home page and then function press
request and response and let's just
console dot log test all right so let's
see if this runs okay so we're going to
say node app server started so if we go
to localhost 3000 you can see over here
we're getting tests all right
we're not actually loading anything yet
which we have to do now all right we
want to be able to load our dust
templates so let's create a new folder
here called views and while we're at it
let's also create the public folder and
inside public we'll have a folder called
CSS we'll have a folder for J s and also
I know that's that's good in CSS we're
going to create a new file and call it
style dot CSS all right now inside the
views folder we're only going to have
two views all right this is going to be
a single page app for the most part so
one is going to be the layout okay so
we're going to save this as layout dot
dust and then we're going to have the
index dot dust okay and let's go to
index just say this is index save it and
then let's go back to app guess and go
down to our route right here and what
we're going to do is we're going to say
res dot render
and we want to render index save let's
try and restart and reload and there we
go this is index so dust is pretty easy
to set up now we have our layout file
and of course we want that to wrap
around whatever view were in in this
case index so let's go to the layout and
I'm just going to choose to view this as
HTML and then we'll just put some basic
HTML tags in here for a title we'll say
recipe book in the body for now what
we're going to do is use this
placeholder here we're going to say +
body / ok that's sick that's some dust
syntax and we're going to save it and
then in our index file what we're going
to do is at the very top we're going to
specify the layout we want which is
layout so you want to use this syntax
okay that's going to tell it that we
want the layout and then we also want
these body tags okay we get that one and
then at the bottom we have that one so
let's save this now the way we can tell
if it's working in layout you can see we
have a title right here it's just saying
localhost so let's restart the
application and reload and now you can
see we get the recipe book title and if
we look at the source code we have our
head and body tags and all that stuff
alright so very easy now in the next
video I'm going to show you how we can
actually just add a bit of data using PG
admin and then we'll move on to
implement bootstrap and have have our
application fetch the data from Postgres
alright so I will see you in the next
video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>