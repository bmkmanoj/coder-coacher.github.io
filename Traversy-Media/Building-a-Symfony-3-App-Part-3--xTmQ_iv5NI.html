<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building a Symfony 3 App - Part 3 | Coder Coacher - Coaching Coders</title><meta content="Building a Symfony 3 App - Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Building a Symfony 3 App - Part 3</b></h2><h5 class="post__date">2016-01-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-xTmQ_iv5NI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys in the last video we set up our
bootstrap layout and we also created our
model our entity for our to-do list
alright so what I want to do now is we
want to work on fetching data from the
database alright in the last video we
also added a couple to do is through PHP
myadmin so what we're going to do now is
we're going to open up our controller to
do controller and in order to use the
entity or the model we have to we have
to include it up here so we're going to
go here I'm going to say use pep bundle
slash entity slash to do alright
and then in the index or I'm sorry the
list action that's where we want to
fetch the two dues so let's go here and
let's say - dues oops what to do is is
going to equal now we want to say this
we're going to use doctrine so we say
get doctrine
and we want to add on to that say get
repository
and then in there we need to pass in
that bundle to do and then we just want
to say find all okay because we won't
want to grab all the to dues all right
so that's going to put it in this
variable and then what we need to do is
we need to pass it into our view so for
the second parameter here I'm going to
pass in an array and we want to pass in
two dues and that's going to come from
the to do is variable alright so let's
go ahead and save that now we're going
to open up our to do index which is just
a static table at the moment and what
we're going to want to do is go down to
the table row and right above that TR
we're going to use our twig syntax and
use a for loop so I'm going to say for
for to do in to dues all right and then
down here after the closing TR tag
we're going to put in our end for all
right now while inside of this loop we
should be able to access the properties
so we want the ID so to get that I'm
going to go like that and say to do dot
ID and then we'll need the name to do
type name and let's also do the due date
all right and then we need the ID for
the links as well so let's copy that put
that there there and there
all right let's reload
okay method due date for object does not
exist
all right so this is happening because
we're treating the date like a string
and it's not so what we need to do is go
right here and I'm going to put in a
pipe character and then we're going to
say date and then we need to format it
so I'm going to format it with F
lowercase J Y and you can format this
however you want if you go to PHP org
you can see the different ways to format
dates and we want I and a alright so
let's try that out
well it didn't work either
it looks right let's make sure due date
is there
hmm
due date it's a date time
all right let's check the entity file
real quick all right so we go down
oh okay so it's due date like that
and then we should have getters and
setters all right so let's try that
let's try changing that get rid of the
underscore
oops
let's try that out
there we go awesome all right so we got
our latest - duze it's getting the names
showing us the due dates and they're
formatted nicely so that's that all
right so now what we want to do is we
want to be able to have to do this
through the application so like I said
before most of the work for creating the
form goes in the controller so we're
going to go to this create action
alright so let's push this down a little
bit alright and then what we're going to
do is we're going to say to do equals
new to do alright and then form it's
going to equal this and then we're going
to use this create form builder
and we want to pass in to do right now
we're going to add to this each field so
it's going to say add and this is going
to be the name and then we're going to
say text type
text type class and then the next
parameter is going to be an array and we
want to include our attributes all right
which is going to be another array
you make this a little wider so for
attributes we want to provide a class
we're using bootstrap so we want it to
look good so we're going to add the
class of form control and we're also
going to add a margin bottom to each
field so style and we'll say margin
bottom and let's do 15 pixels all right
so that's the basic syntax for form
field so let's copy this paste that in
okay the next field is going to be the
category so we want to change this and I
think that's it as far as the category
okay next is going to be the description
so I'm going to change this to
description that and this is going to be
a text area so we just want to say text
area type
all right then we have the priority
pace that in and I'll change that to
priority actually you know what this is
going to be a select list so instead of
text type we're going to choose choice
type alright and then for the let's see
the array here for the first field let's
say choices
choices and that's going to be an array
okay so in here
let's say flow which will be low
then we'll do normal
and hi
okay
so hopefully that that works
then we want our due date and paste that
in I'm going to change that too I
believe we'll try it with the underscore
I should have just named the table I
should use camel case for the table but
it's fine so this is going to be a
date/time type and then everything else
they believe can be the same so then at
the very bottom here
we want to say get form all right
and then under that we're going to say
form handle request and pass in the
request object
okay so now we want to do is want to
test to see if the form is actually
submitted or not so to do that we can
use the if statement and we're going to
say if form is submitted and we wanted
to make sure it's valid so form is valid
then we can do whatever let's see and if
it's not then it's just going to render
the for the create form or that I should
say the create view but before we go on
let's just test it out so if it's
submitted we're just going to do a die
and you'll say submitted alright so
let's go ahead and save that going to
add to do
okay so could not load type app bundle
text type
really
oh that's right we need to include that
up here that's one thing about Symphony
is you need to include a lot of
different things for different features
so let's say use Symphony you have to do
it you have to do this with every type
you use so component / form / extension
that we want to say / core / type and
then we want text type alright we want
to do that same thing for the other
types as well so let's copy that okay so
we get text type then we're going to
need text area type we're going to need
date/time type
in choice type
right so let's try that
okay so it's it's not showing because we
didn't add it to the view so we need to
go to our create view and just add a
couple lines in where is it
alright so create view let's put in a
heading
okay
and then all we have to do here use our
twig syntax and we say form underscore
start and then we just pass in form okay
and let me just copy that okay and then
the middle one is going to be form
widget and then the last one will be
form end and that's it
alright variable form does not exist
okay so we need we need to pass in the
form in the controller so you'll see
here we're rendering the view but we're
not passing in this form variable so
let's add a array and then we're just
going to say form and for
an exception has been thrown during the
rendering of a template must be an
instance of symphony form
huh
oh we don't pass in the forum itself we
passing the create view method so we
just have to add on to that create view
all right so there we go now we have our
form and we're missing a submit button
all right and then this due date here
doesn't look too well with the form
control class so let's go remove that so
right here I'm just going to move the
hyphen
all right and then we need our submit
button so before we do that let's
include that type as well
okay so we're going to change that to
submit type
all right and then
let's copy
copy the name and we'll put that right
here
all right and that's going to be the
submit type and let's call it save
and we're going to want to give it a
label so we'll go right here it's a
label
p8 post not post to do
and let's see let's change the class
change that - BTN BTN primary alright
let's take a look at that
okay so there's our button all right so
let's just test it out
it's a minute great okay so we know that
that's working now to get the data let's
get rid of that all right so to get the
data we're going to put them in two
variables so let's say name equals form
and then we can pass in name and then we
want point to get data just like that
that's all we can get the field info so
let's copy that and paste that in and
this will be category
and this one oops going to change this
as well
we will get description
okay then we get priority
okay we also want our due date
okay
and for let's see for the createdate we
can do that as well
let's set a variable called now and
we're going to set it to new new date
time and it'll pass in now all right and
then what we need to do is we need our
setters so we're going to say to do set
name and we'll pass any name okay so we
get to do that for all these fields so
we gets that name we got set category
and with that set description remember
we sorrow these inside the entity file
oops sit priority
and let's see set due date
and we also want
set create gate and we're going to set
that to now alright so after we do that
we're going to want to say p.m. equals
this get doctrine get manager which
looks a little odd but that's how they
do it
and then we're going to say a.m. persist
I'm going to persist the data to the
database okay we just want to pass in
our to do and then we just want to flush
so we'll say éem flush
and finally before we redirect we're
going to want to set a message so to do
that we're going to save this ad flash
and then here let's say notice and the
message will just say to do added all
right and then finally we want to
redirect so return this and we're going
to do redirect to route and we can put
the name in here which will be to do
list all right and that should do it so
let's save it and let's go back to our
form
and for name let's say call client
category will be work which we could
make a drop down and then description
normal date say January 28th time say 10
o'clock
there we go call client alright so that
works good so I'm going to stop the
video here now that we can add to Do's
and in the next video we're going to
want to be able to edit them and then
finally be able to delete them
alright so I'll see</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>