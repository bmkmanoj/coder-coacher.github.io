<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Recipe App Using Node.js &amp; PostgreSQL - Part 5 | Coder Coacher - Coaching Coders</title><meta content="Recipe App Using Node.js &amp; PostgreSQL - Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Recipe App Using Node.js &amp; PostgreSQL - Part 5</b></h2><h5 class="post__date">2016-08-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XwinUaMmg-U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys in the last video we made
it so that we could fetch our recipes
from the database and you can click this
little button here and it will show us
all the info alright so what we want to
do now is we want to be able to add
recipes through the application so first
thing we'll do is I want to just have a
button up above here so let's go right
under the body tag here and we're going
to create a button and let's say type
equals button and then we're going to
give it a class of BTN BTN primary and
also BTN block alright and then we're
going to say data data toggle okay
because this is going to be this is
going to open up a modal so we want to
set that to modal and then we also want
to set data target is let's set that to
form modal and I actually want to have a
hashtag symbol here alright and then
let's end the button and this will just
say add recipe alright let's take a look
at that okay so I want to put a line
break underneath it as well alright
there we go
so for the modal let's go to our get
bootstrap and go to JavaScript and we
want modal so here's an example this is
what we have okay you can see it has
data target and data toggle so what I'll
do is copy this oops let's copy that
and I'm gonna put this down at the
bottom and you want to make sure that
you're outside of the recipes tag ere so
we'll paste that in
let's say add four modal and we're gonna
change a few things here the ID is gonna
be four modal make sure it matches the
target we put above and then for the
label we'll say for modal label and
let's see modal header let's change this
right here this title will change that
to add recipe alright and then let's see
this is where the body will go the
footer is where the buttons are so I'm
gonna put my form tag right under the
modal content div right here alright and
then the ending form tag
let's see where does that end actually
you know what I'm going to do is change
this to HTML alright and then the
content div ends right there so we want
to put the form tag right here alright
now for the form tag we're going to give
it a method attribute method is going to
be post alright and then the action
we're gonna have go to slash add alright
and then we need to start to add our
inputs those are going to go in the body
right here now I'm going to paste this
in
okay so we just have a couple form group
divs and inside there we have a label
this is the recipe name we have an input
which has the name of name then we have
ingredients which is a text area the
name is ingredients and then this is
also another text area for directions so
those are our inputs now what we need to
do is inside the footer we need to put
the correct buttons all right so this
one here let's see that's the close
button we can actually just keep that
the way it is this one here we're going
to change to an input and we're gonna
say type equals submit okay we can keep
the same class this is this is gonna
have a self closed tag like that and
save value is gonna equal save will say
Save Changes no no let's just say save
all right save that and let's see if it
works I'm gonna restart the application
okay we'll go to reload add recipe and
there it is we have a form awesome so
when we submit it it's going to make a
post request to slash add so we now have
to create that route so let's go back to
app guess and we're gonna have a plot
post this is going to be slash add and
this will be function it's gonna take
rec res and then what I'm going to do is
I'm going to copy what we have here
okay because we want this same thing we
want to connect but what we don't want
is a select query we want an insert
query so what I'm gonna do is let's see
you know what I'm just gonna I'm just
going to get rid of this whole thing
alright so we'll do our query client dot
query and that's gonna be insert into
recipes okay we want to insert a name
ingredients and directions alright and
then we're gonna say values and we're
gonna put some placeholders in here
alright so we're gonna say dollar sign
one dollar sign too and I'll sign three
all right and then after this double
quote we're gonna put a comma and then
open some with square brackets all right
and then this is where we're gonna add
our values from the form all right so
first one will be rec body dot name rec
that body dot ingredients
and directions okay and these are gonna
replace these placeholders here okay and
it's not going to give us anything back
because it's an insert so we want to go
right underneath and we're going to say
done and then we want to redirect and
we'll just redirect to slash okay so
hopefully that'll work
let's um restart this okay and then
we'll reload to say add recipe and say
corn beef hash and then for the
ingredients um I'm just gonna you know
what I'll do is just grab some sample
content okay so grab this paste that in
paste that in just change it up a little
bit alright and then save and there it
is Columbia ash if we click on that we
get the rest of it awesome so that was
pretty easy so in the next video I'm
gonna show you how we can delete recipes</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>