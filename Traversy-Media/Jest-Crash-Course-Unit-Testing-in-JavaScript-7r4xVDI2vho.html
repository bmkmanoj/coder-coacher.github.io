<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Jest Crash Course - Unit Testing in JavaScript | Coder Coacher - Coaching Coders</title><meta content="Jest Crash Course - Unit Testing in JavaScript - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Jest Crash Course - Unit Testing in JavaScript</b></h2><h5 class="post__date">2018-04-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7r4xVDI2vho" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys being a programmer or web
developer or any job at all where you
sit all day can do horrible things to
your back and your health in general
over time so I would definitely suggest
looking into a stand sit desk and anthro
desk has affordable and quality
solutions for maximum health and
productivity you can choose from
different frame widths depending on your
needs I actually just got one myself and
I love it they also offer accessories
like standing converters and floor mats
so check out anthers com or click the
link in the description below hey guys
one thing that I can admit that I really
slack on in development is testing and I
think that a lot of developers are in
this boat it really it seems to add work
but in the long run it can really help
you out and give you a more efficient
way to check things and prevent future
errors and issues stuff like that
so if you're looking at the big picture
it can really lessen your workload not
add to it now I do think that writing
unit tests and stuff like that it's not
it's definitely not necessary in all
projects especially really small
projects I do however think that all
developers they should put at least some
time into learning basic testing
practices and technologies because you
you most likely will deal with them at
some point especially if you plan on
working for a company as opposed to you
know doing your own thing and
freelancing so what I want to do in this
video is just some basic JavaScript unit
testing with gest which is a great
testing solution for JavaScript it's
simple to get up and running and the
basics are very very easy to learn I
will warn you that this is a beginner
tutorial so if you've done stuff like
this in real life if you've used just
before you probably won't learn anything
new that you don't already know but if
you haven't worked with testing or gest
then you know you should get quite a bit
out of this video it's not going to be
the most practical stuff in the world
but it will show you how to get it set
up it will show you how to use some of
the matchers I'll show you how to use it
with asynchronous code stuff like that
okay we're also gonna
look at some of the algorithm solutions
from the JavaScript cardio videos that I
did and we're gonna create some simple
tests for those I want to do more and I
want it I want to go in depth in the
future so I may do a series on jest I
also may even do a small course alright
so let's go ahead and jump in and get
started here so the first thing we want
to do is we want to run NPM in it I'm
gonna add the - why flag just to skip
the default or use the defaults and this
is gonna create a package.json file now
you do need NPM which means you mean you
need nodejs installed so if you don't
have that just go to node.js org
download it and install it alright so
we'll go ahead and run that and it
creates our package dot jason which
looks like this and then we're gonna
install jess so let's say n PM i-- or
npm install' i'm gonna use - upper case
D which will save it as a dependency you
can also do - - save - dev and then just
and you can also install just globally
and run the J's command directly but
we're just going to install it locally
and we're going to create a script for
it alright so now that that's installed
let's create our scripts okay we already
have our test script here but we just
want to change the value to simply just
and save and that's it for now so let's
close that up and now we're gonna create
a new file and now I want to create just
some basic functions to test so I'm
gonna create a file called functions dot
J s instead of putting every little
function in its own file we're just
gonna create basically a collection of
functions here okay we also want to
create a file called functions dot test
dot J s so it should have the same name
as the file just dot test and Jess will
automatically pick that up so let's go
to the functions and let's create a
variable called functions and then in
here we're gonna create our simple
functions okay so I'm gonna create one
called add this is like the cliche of
your first function to test which is you
use usually a sum or an add function and
I'm gonna use arrows here I'll show you
how to do it without arrow functions
just in case you're not familiar
es six but it's gonna take in num1 num2
and then we just want to return num1
plus num2 alright and if you want to do
it without arrow functions you could
simply say function and just pass in
here num1 num2 and just return num1 plus
num2 okay so same exact thing but I
think our functions are shorter cleaner
syntax so we're gonna actually have to
export this so that we can use it in our
test files so we're gonna sick sports
module dot exports functions and save
all right so let's go to functions dot
test and we're going to bring that file
in of course if we want to use it so
functions equals require ants do dot
slash functions and we're going to write
our first test okay so we simply need to
do test and then we're gonna pass in any
description and this can be anything we
want I'm gonna say adds two plus two to
equal 4 and then the next parameter will
be our function and I'm gonna use an
arrow here so in here we want to say
expect an inside expect is where you put
your actual function with any parameters
that you want so since it's in the
functions file we need to do functions
dot and then the name of it which is add
and then we're gonna pass in two and two
whoops
two and two and then we want to add
what's called a matcher okay and there's
a lot of different mattress ingest we're
gonna use one called to be ok so
basically we're gonna say that this
function is to be four okay this
function with these parameters is to be
four okay so let's go ahead and save
that and let's try to run it so we'll
clear this out and we'll simply say NPM
test since we put it in that test script
and just should automatically pick it up
and you can see we have test Suites one
pass now
test suite is basically the the files if
we have another dot test file that'll be
looked at as another suite but we have
one test in here and it passed and if I
scroll up a little bit you can see right
here the file passed and it shows us
that the actual individual tests passed
as well all right so let's make it fail
let's go back to our add function let's
just add on a one here okay so obviously
now if we pass in two and two it's not
going to equal four it's actually gonna
equal five so let's run this test again
we'll say n TM test and it should fail
okay so we get one failed let's go up a
little bit here and it shows us that it
failed and right here it says expected
value to be four and it received five
okay so that's the reason that it failed
it gives us the reason I'm just gonna
put this back just so it doesn't fail
again all right and that's our first
test
all right so very very simple example
but it gives you it shows you how to use
Jess trail you run the test function add
in the description inside your function
here you want to run expect put in
whatever function you're testing and
then your whatever your matcher is in
this case it was to be now we can also
use not so for instance I'll go ahead
and just copy this and let's let's
change the description will say adds two
plus two to not equal 5 ok and then what
we could do is right before the match or
we can say dot naught dot to be and then
let's pass in five okay so this should
actually pass because two plus two
should should not be five and there we
go so we get to test passed all right
now to be it's it's used to look for a
specific value a specific primitive
value and we'll talk about that in a
little bit but we can also test for
other things like null undefined and
then we can check for a truth e or false
e value so in JavaScript we have
something called false e values which
are things like
Eero null undefined these are all false
e so you might want to check just to see
if if there any of those or you might
want to check to see if it's actually
null or undefined or something so I'm
gonna paste this little these comments
in which just gives you the different
matches that you can use here so let's
go back to our functions file and I'm
just gonna create a function called is
null and we're gonna set that to be an
arrow and all we're gonna do here is
return null so we'll go back and let's
create another test I'm just gonna copy
one of these and we're gonna say should
be no okay very simple and then we're
gonna say functions dot is null it's not
gonna take any parameters and let's get
rid of the knot and we want to say
instead of to be we want to say we want
to say to be know okay and we don't want
anything passed in there so if we save
this and we go and we run it that should
pass because is null is null
okay now if we turn if we returned here
let's say undefined and saved and ran
our test you'll see that we get failed
and let's see expected value to be null
instead it received undefined okay I'm
just gonna put that back to null so it
so it doesn't fail now let's put another
method in here or another function and
let's just call it check value just to
make this simple and all check value is
gonna do is going to take in something
and it's simply going to return whatever
it is that's passed in we could have did
this within the first place but whatever
it's fine so now what I'll do is I'll
take this and let's say should be
um I'll say should be false II oops
policy that's how you spell all right
and we'll say functions dot and we
called it check value and we'll just
pass in here
no and then I want to use the matcher to
be false II so let's run that and what
do you guys think is gonna happen it's
gonna pass because null is a faulty
value if I pass in zero and save and run
that should pass as well because that is
also false see if I pass in undefined
and save that's gonna pass now if I pass
in let's say two and let's run that that
should actually fail because obviously
two is not a faulty value if we go up
here it says expected value to be false
II instead received two okay but let's
just put that back now you could also do
to be truthy if you wanted it to be true
the-- you could even do dot naught dot
to be false II which I guess would be
the same as to be truth II so I don't
really know why you would do that but
you could so that's that all right now I
want to show you guys something else
here so I'm gonna create a function I'm
just gonna call it create user and I'm
gonna use curly braces here because
we're doing more than just returning one
thing we're gonna create a variable
basically what I want this to do is
create a user with a first name and a
last name of my first name and last name
and we can do it anyway it doesn't
matter how we do it in the function what
matters is what the function gives us
that's what we're testing so we'll just
say Const will say Const user and let's
set that to
first name Brad and I could just do last
name but let's let's make it interesting
and just take user and add to it last
name and this syntax will say Traverse e
there as 99% of you call me Traverse E
and then we just want to return user all
right so again it doesn't matter how we
created this user we just want to we
just want this user to be the return of
this function so let's go back and let's
create a test for that you know what I'm
actually gonna put comments in here so
this is like to be fall see this is to
be know to be and I'm not I'm not even
gonna get near all of the different
matches you guys can check the
documentation out if you want to do that
this is not alright so let's try this
we'll say user should be Brad Travis II
object okay and then we want to call
create user and we don't need to pass
anything in and let's do to B and then
let's pass in the object with a first
name of Brad and last name
of Travis E and save now the reason it
formats on save is because I'm using the
prettier extension and I have it set to
do that but let's run this and see what
happens and and what do you guys think
is gonna happen should because it gonna
pass is it not I mean it is returning an
object with the first name and last name
of Brad Travis E and it failed so if we
scroll up here it actually gives us a
pretty good excuse or not excuse reason
why it failed it says compared values
have no visual difference which is true
looks like you wanted to test for an
object or an array equality with the
strict to be matcher okay we use the to
be match or you probably need to use two
equal instead so basically to be is for
basically primitive type so like for is
is to be for a strip which is a number a
string is to be a string but an object
or an array is actually a reference type
in JavaScript so there actually you can
have two of the same looking objects but
they're actually stored in different
memory areas in the system if you really
get into it so they're treated
differently and to be is not going to
work on an object so if you want to use
an object or an array or something like
that then you want to use two equal
instead alright so let's try it with two
equal we'll go ahead and run NPM test
and now it passes okay and that's fine
because it's an object and to equal will
actually compare objects and arrays and
stuff like that so keep that in mind and
I'll just put a comment here that says
two equal
all right now just to touch on some
other matches that are available we have
like less than and greater than so to
give you an example
we'll say test let's say should be under
1600 let's say maybe it was it's like an
application that deals with weight or
something like that and a shipment has
to be under a certain amount and let's
go ahead and put in our function here
and I'm not even going to create a
function inside the functions file we
can actually put our logic right in here
so we'll say load 1 equals 800 and we'll
say load 2 equals 700 and then we'll say
expect load 1 plus load 2 and then let's
do dots to be less than 1600 okay so the
logic I mean it can be in another file
it can be a function in this file it can
be in the actual test itself it's very
flexible but let's run this and see if
that passes okay so it does if I change
this to 800 which is actually 1600 this
should actually fail ok because it's to
be less than we also have to be less
than or equal which that should pass and
there we go so that passes all right
let's see we also contest
regular expressions so if we say test
and I'm gonna use one from the
documentation will say there is no I in
team and we'll put a function here and
we want to expect we're just gonna pass
in a string okay so team it doesn't have
to be a function you can pass in
anything here I'm gonna say dot knot and
then we're gonna use to match which just
does just that it matches a regular
expression the regular expression we're
gonna put in here is I okay so it should
not there should not be an I in team so
we'll run this and it passes okay if I
put an I in team it fails now if I put a
lowercase I
it passes and the reason for that is if
you know about regular expressions then
you know if we just do this is basically
just a literal capital or uppercase I
and it's not it's not case-sensitive if
we want it to be case insensitive then
we want to put in I here so if we go
ahead and save that and run this that
should fail because it has an eye
whether it's lowercase or uppercase it
should fail okay so that's regular
expressions also if we want to work with
arrays let's do a test let's say admin
should be in username so basically what
I'm gonna do here is I'm gonna have an
array of usernames and we'll have some
names so we'll have let's say John I'll
say Karen and admin all right so maybe
you have you know a database of names
and you an admin should be one of them
so what we can do is we can say expect
user names and then for Ana for a raise
we can use a matcher called to contain
and in here let's say admin ok we'll go
ahead and run that
and we get that pass good if we take
admin out of this array on our test okay
so that failed and up here expected
array and then to contain value admin so
it does a pretty good job of describing
what exactly is wrong all right so now
what I want to do these are pretty basic
and you know this whole tutorial is kind
of basic but I want you guys just to get
the hang of it and like I said maybe
later on we can do a course or a series
that's more in-depth whoever we
integrate it into an actual project but
what I want to do now is work with
asynchronous data because there's a
couple things that you need to know so
I'm actually going to install
Axios I'm gonna say NPM I Axios which is
just a HTTP client we could use fetch
but X is a little easier and then we're
gonna go back to our functions j/s and
let's create a function here called
fetch user and what I'm gonna do here
actually I don't even need that let's
say Axios get and I'm gonna make a get
request to the Jason placeholder API so
if you guys don't know what that is it's
basically a fake REST API for testing
you can make requests to you can get all
these different resources for instance
users if you make a request to this URL
you'll get a list of 100 users I only
want one so we can actually put the ID
so I'm going to use the first one so I'm
gonna say slash one which gives us this
Leeanne Graham and what I want to do is
write a test to test to see if the
requests that we get back from this URL
if the name is equal to land gram so I'm
gonna go ahead and copy this and let's
make our let's do our request we'll pass
in that URL and let's see we want to
since this is we're using Axios it's
going to return a promise
so we'll do dot
then and let's just take our response
and we'll return the res data which will
give us the JSON data and if there's an
error
so we'll say dot catch let's go ahead
and let's just return a string of error
all right so that's something that you
would have in your application you're
just making a request to an API and
you're getting the data so let's go into
our test file and let's put a comment
here we'll say working with async data
okay so let's create a test and let's
say user fetched name should be how do
we spell this Leanne Graham okay so when
we make when we're dealing with
asynchronous data we actually need to
add in here expect dots assertions and
then the number of assertions we expect
which is one now expected assertions it
verifies that a certain number of
assertions are called which in this case
is one and this is used when testing
asynchronous code in order to make sure
that the assertions in a call back or in
this case a dot then of a promise
actually get called and I believe if we
don't if we leave this out and the name
doesn't match the test will still pass
and we can see if that's true or not but
let's go ahead and keep going here
another thing you want to do is you want
to be which you want to return the
promise okay if you will omit this
return statement then the test will
basically complete before the fetch
completes or in this case our Axios get
so let's say return functions dot and we
called it what fetch user right so fetch
user
and it's gonna give us a promise so we
want to do dot then go ahead and put
this on a separate line and inside the
dot then we'll get our data and we're
gonna set an arrow function here and
let's say expect this is where we want
to put our test data now remember it's
an object we want to test the name so
data dot name and we want to do two
equal and then we want it to equally in
DRAM and I hope I spelt that right okay
so yeah so that should do it let's save
it and let's go ahead and run it so
we'll run NPM test
okay so we got failed let's see what
happened here
Axios is not defined I didn't bring in
Axios so we got to go back to our
functions and just simply bring that in
all right let's try it again
all right so it passed good user fetch
name so now what I want to do is
actually comment out the assertions
statement here our assertions function
and let's try it again
I'll actually hold on a second I wanted
to actually change the name so to equal
let's say Leanne Graham one now that
should not pass because that's not the
name that's returned okay so actually it
did still work I thought it wouldn't or
maybe it was if we don't return it then
it will still pass let's try that so if
we leave out the return and run NPM test
no that's still user fresh name should
be land graham but we get this expected
one assertion to be called but receives
zero assertion calls so we're getting a
different and different message here at
failed but it's basically saying we
didn't get any assertion calls all right
now if we have both of these remove the
return and the assertions that's when it
passes that's what it was and it was
some combination of this yeah so see
it's passing if we don't you if we don't
return and use expect expect assertions
then it's gonna pass no matter what this
name is so make sure that you have both
of those when you're dealing with
asynchronous data like this all right
now if we wanted to refactor this as an
async await we could do that so let's
just say promise and then I'll just grab
this
all right so to refactor this what we'll
do is we'll mark this as a sink as an
async function we want to leave the
expect assertions and then what we can
do is instead of doing the dot then and
all that I'm going to actually get rid
of that get rid of that and we're going
to say Const data equals a weight and
then the function the asynchronous
function and then we can just do expect
data dot name to equally and gram okay
so that's the a sink of weight syntax so
what I'm gonna do is just comment out
with the promise and let's go ahead and
try that and there we go so that passes
as well all right so that's gonna be it
for this file guys and these these
little functions here now what I want to
do is I want to grab some of the
solutions from the algorithms that we
did in JavaScript cardio I had two
videos two sessions where we just did
some different algorithms and I want to
test some of those so first one we're
gonna look at is if we this is my github
here I'm gonna go to index finished and
I want to do this reverse string so you
can see there's a lot of different
solutions here I even had people do pull
requests and other people added
solutions and so on if you want to check
those videos out I did them pretty
recently probably about a within a month
or two ago but I'm just gonna grab let's
see so let's grab this solution here to
reverse a string
so I'm going to create a new file for
this and I'm gonna call it reverse
string dot J s and then of course we
want to create another file called
reverse string dot test dot J s all
right so inside our reverse string I'll
actually type it out it's easy enough
let's use an arrow function here so I'll
say reverse string and we want a string
passed in and actually we don't even
need curly braces here we're just gonna
take the string that's passed in let's
put this on a new line and we're gonna
call dot split okay so this is the
answer to the algorithm or to the the
problem here we want to split it into an
array so each letter of the of the
string or each toy should say each
character will be split and then we want
to reverse it because we can call dot
reverse on an array like that and then
we want to join it back to a string okay
join will bring it back to a string and
that should do it
all right so let's go module dot exports
equals reverse string and let's save and
then let's go into our test file so
reverse string oh we are in our
test file let's actually cut that out
and put that in our regular JS file and
then we'll go back to our test file and
let's bring that in so we'll say Const
reverse string equals require and we
want to bring in reverse string all
right so first thing I'm gonna do is I'm
gonna test to see if that function
exists okay and we haven't done this yet
we'll just say reverse string function
exists okay and this is very simple
we're just gonna say expect reverse
string and then we wanted to use the
matter of to be defined okay we just
want to see if it's if it's defined
that's it so that'll be our first test
our next test we're gonna see if the
string reverses so we'll say expect
reverse string and let's pass in hello
string hello and let's do dot two equal
and we want that's equal hello backwards
which of course is gonna be eat oh ll eh
alright so let's save that and let's go
ahead and let's go down here and run npm
test and what it's going to do is it's
going to test both test suites or boast
both files okay so two test suites past
eleven tests past if we go up here
you'll see or is it so that's functions
oh you know it's not it's actually not
going to show us each individual test i
guess since we have more than one suite
but you can see that the reverse string
test suite passed okay so that that
means all the tests passed now what if
we were to test this and have this first
hello be an uppercase H let's let's try
that we'll say string or versus with
uppercase and we'll go ahead and run
that and we get a failed test so if we
go up here expected value was this but
it received this so we can easily
refactor this to to make that test pass
by simply taking the string and before
we do anything we'll just set everything
set everything to lowercase so we'll say
two lowercase okay so if we do that the
test should now pass
and there we go so it passes because
what happens was when we passed in this
hello even though it has an upper case
that it all gets turned to lower case
here before it splits into an array
reverses and then joins back into a
string
alright so that's that let's do another
one let's try the chunk let me just show
you real quick what that is the array
chunk I think it was Session two
actually it was so let's go back to
Session two right here ray chunking and
basically what happens is we wanted we
want to be able to pass in an array and
then a number a length and we want to we
want to split this up into chunks of
this length so if we passed in one
through seven we would want to get this
back so chunks of three so one two three
would be one chunk four five six another
and then whatever is left over would be
put into the next chunk okay even if it
wasn't three it would still be put into
the next chunk and so on alright so what
I'm gonna do here is grab solution 2 and
if you guys are interested in these
algorithms and solving them and stuff
check out the Java Script cardio I'll
actually link a link to the to the
videos in the description but I'm gonna
grab this here so this is just a
solution it's not the actual function
call so we'll have to add that in the
file but I'm gonna copy this and let's
create a new file we'll call it chunk
dot J s upset in one that in there that
L
and then let's create chunk dot test dot
J s okay and inside chunk we're gonna
say Const let's call it chunk array and
it's gonna take in two things it's gonna
take in the array and the length and
then I'm gonna paste in what I copied
which is our solution and then we're
just gonna export it
okay so let's go to our test file and we
want to bring it in of course
so we'll say cons chunk array equals
require and we want our chunk file okay
so let's do test and we'll just check
test to see if it exists we can grab
that from the reverse string test so
this right here is first one and we'll
just put that in and we'll check for
chunk array let's change the description
okay so now let's do a test case so
we'll do test and let's say chunk an
array of ten values with the length with
a length of two
all right so let's create an array if
they're just a raise of numbers so I'll
call it numbers and let's create that
array so 1 2 3 so 1 through 10 save that
to break those up gotta love the
prettier extension it just see it does
stuff like that and have to put those
spaces in for me all right then we'll do
a variable called length and we'll set
it to 2 because that's what we're
testing we're testing an array of 10
values which we have here and then a
length of 2 and then we're gonna say
expect and we're gonna call chunk
actually you know what we want to create
a variable called chunked say chunked AR
and then this is what we're gonna call
the function okay so we'll say chunk
array and then we'll pass in the numbers
array and we'll pass in the length
okay so that'll put the return value in
here and that's what we can test so
we'll go
chunked R and what should this be equal
to so we're gonna say dot to equal and
it should be equal to an array of chunks
so we're gonna put brackets another set
of brackets which should be one and two
okay because they're they're two chunked
two length chunks so the next one should
be three four the next one should be
five six
seven eight and nine ten so that's what
it should equal if our if our function
is correct if the our solution all this
stuff is correct then this should pass
all right so let's actually save it and
let's try it out
all right so looks like everything
passed good if I were to let's mess this
function up somehow you know we'll do is
we'll just mess this up by changing this
to it too and let's run that alright so
we get a failed test and it's just going
to show us the difference here so what's
expected and what's received so it's
expected to equal this but it actually
got this because we put the wrong thing
in here okay we put a two and the
solution would be one okay so if you
wanted to test a couple other cases what
we could do is we could copy this and we
kind of change it up we could say like
an array of three values with the length
of one so if we had three values in our
array one two three and we had a length
of one and we just passed that in here
what it should equal is basically one
chunk array so one two and three
all right so let's see if that passes
and it does okay so we're gonna do one
more here we're going to use we're gonna
do the anagrams so basically let's go
back to our github here anagrams is in
this session right here so when an
anagram is basically two strength two
words or whatever strings that have the
same characters so an example would be
elbow equals below it as the same
characters now our solution here what we
did is we made it so that it doesn't
matter if there's an upper case that
shouldn't matter it doesn't matter if
there's any spaces it also doesn't
matter if there's any like characters
like number signs or exclamations
anything like that special characters so
this would actually match dormitory and
dirty room would match because it has
the same basically the same letters all
right so what we'll do is we'll take
this solution which is it's composed of
a helper function this format string and
then we just call it we compared format
string passed in the first one to format
string passed in the second string all
right so we're just gonna grab this
whole thing here and copy it and let's
go back and let's create a file called
anagram dot j s and let's create in a
gram dot test dot j s okay and inside
anagram j s we're gonna paste this in
and we're just going to module dot
exports equals and we want to make sure
we explored his anagram that's the main
function here this is just a helper
function and again if you're interested
in what this does or any of these
algorithms go ahead and watch those
cardio sessions so in our test file
so let's bring in is anagram all right
now what we did in the last two files is
we use to be defined I'm going to show
you something else we can do here to
test to see if this is an actual if it's
a function so let's say is anagram
function exists so we can say expect and
we're gonna say type of now type of
we'll check to see what this is so we
want to say is if type of is anagram and
then let's do dot two equal and then we
can pass in here a string of function
okay so we can do that as well to make
sure that it's an actual function all
right so let's just try an anagram here
we'll say Tex I'll just copy this let's
say an example would be cinema
so we'll say cinema is an anagram of
Iceman okay because they have the same
characters so in here we want to say
expect
let's call is anagram and let's pass in
two strings one is gonna be cinema
one is gonna be Iceman and we want to
that what we want this to be is truth II
so we're gonna say to be truth II okay
we don't have to pass in anything here
and that should pass that should be an
anagram so let's copy this and let's
create another one so let's try out the
the example that was in the github will
say dormitory and then remember it
shouldn't matter if it has an uppercase
it shouldn't matter if it has special
characters or spaces so it should match
dirty space room and then put in a
couple number signs and then of course
we want to pass those in here
okay now let's do let's do one that
shouldn't be an anagram so we'll copy
this and let's try hello we'll say is
not an anagram of Aloha so we'll pass in
hello and Aloha and this should be false
II okay so that should pass because
we're using to be falsity so let's save
this and let's run our npm test and
there we go all of our tests have passed
awesome all right so hopefully this gave
you of you guys a good idea of how
testing works at about a basic level at
least what I want to do now before I go
is I'm gonna go back to my functions
test file now there may be cases where
you want to run something before or
after a test or before after all your
tests and we can actually there's
actually I don't even know what these
are really called they're kind of like
life cycle methods I guess but they're
functions that will run just then before
before each test or after each test so I
want to show you guys how to use those
so let's first create a couple just
dummy functions to run so let's say that
we wanted to initialize a database
before each function and then clear it
after each function so we'll create a
function called init database and let's
just let's just console dot log and
we'll say and knit or let's say
database initialized alright and then
I'll just copy that down and let's say
database closed and we'll change this to
close database alright so we have these
two functions now let's say we want to
run these before and after each test in
this file so what we would do is we
would say before each and inside here
we'll put in the function I'm gonna use
an arrow function and let's say in knit
database
okay and then I'm gonna say after each
then we want to call closed database and
of course you don't have to use arrow
functions if you don't want so let's
let's see let's save this and let's run
our tests all right and if we go up here
look at all that so we get the database
initializing database closed it ran the
unit database ran before every test in
this file and then the closed database
ran after everyone all right now what if
we want to just run it before all of the
tests and then once all the tests
complete we want to run close database
so what we would do then let's actually
copy this and comment it out but what we
would do then is we would use before all
and after all okay so we'll say before
all after all and we'll run this again
NPM test
and let's go up here and you can see
that each one only ran once all right
let me just I can't really get to it but
you can see that it only ran twice ok
database initialize database closed and
that's it because it only ran once
before this all the tests started and
then after they started now you can also
target certain tests if you want to run
something just for certain ones instead
of having it be all or all or you know
before and after all or before and after
each one if you wanted to target them
what we can do is we could use describe
so I'm going to call comment this stuff
out and let's go down here and let's say
describe and let's see we'll create a
couple simple tests here that will check
check names
so we'll say describe checking names and
then we want to put a function and then
in here is where we want to put our
before each let's just do before each
and what I want to run here is a
function called name check like that ok
and then inside this describe or I'm
sorry not inside the describe outside of
the describe we're gonna create that
function name check
and then all its gonna do is consult log
checking name obviously your your your
real code is gonna be much more advanced
but this just gives you an idea of how
to use jest so before each check names
inside the describe and then we'll have
our tests in here so let's say test and
we'll say user is Jeff okay very simple
test will just say expect user actually
let's create a variable called user and
set it to Jeff so expect user dots and
we can use to be here it's just a string
to be Jeff okay and then we're just
gonna copy that very very simple test
and here we'll say user is Karen and
we'll change this and this to Karen all
right so now let's save this and it
should check it should run this name
check function only before these two
tests since they're inside this
described block so let's run this and if
we go up here you'll see checking name
only ran twice because we have these two
tests here all right so hopefully that
makes sense if you need to and whatever
initializes database whatever it may be
any kind of functionality that you want
to run before a test or before all tests
or a certain group of tests you can do
that with these before each before all
and describe and this is the stuff is
all in the documentation guys if you
want to get deeper into it at this time
I would suggest using the documentation
it's really clear I actually really like
it now there's one more thing that I
wanted to show you guys and that is the
watch all flag you can actually have
your test run as
you're developing so what we're gonna do
is we're gonna go to the package.json
file and I'm gonna add an additional
script here
you could add it to your just your
regular test script if you want but I'm
just gonna add a new one called we'll
call it test watch and then we're gonna
set this to jest and we're gonna add the
flag - - watch all like that all right
and then down here I'm gonna go ahead
and run npm run test watch all right so
it's gonna go through it's gonna run our
tests i believe yes it runs it right off
the bat but now you can see that it's
actually watching and you can press f to
run only failed tests or Oh to run tests
related to change files and so on but if
we leave it as is and we go and we
change something like let's go to will
go to reverse string and let's remove
the two lower case now remember we had a
test actually testing to see if if we
had an upper case if it would if it
would reverse and it would still match
the lower case so let's go ahead and
save that and you can see automatically
the test just ran I didn't have to do n
p.m. test it's just going to
continuously watch and we had a fail and
it's this right here it's this test
string reverses with uppercase if I put
that back and I go ahead and save it'll
go ahead and run again and you can see
that it now passes alright so I just
wanted to make sure I showed you that
because that's a that's a pretty
important part of just is the watch mode
alright guys that's gonna be it for this
crash course sorry if it was a little
long I just wanted to kind of you know
give you a bunch of different scenarios
and I know it's not the same as you know
testing for an actual project what I
wanted to do something from scratch for
people that have never dealt with this
kind of thing before rather than saying
alright here's a project let's let's add
some tests even though you've never
worked with this project or seen it
before or know what it
does or anything I think this this kind
of just explained the basics a little
better than doing something like that
but again I do want to do something more
in-depth in the future
all right so please leave a like if you
liked this video please subscribe if
you're not and you like this kind of
content and that's it I will see you
next time
hey guys being a programmer or web
developer or any job at all where you
sit all day can do horrible things to
your back and your health in general
overtime so I would definitely suggest
looking into a stand sit desk and anthro
desk has affordable and quality
solutions for maximum health and
productivity you can choose from
different frame widths depending on your
needs I actually just got one myself and
I love it they also offer accessories
like standing converters and floor mats
so check out anthro desk comm or click
the link in the description below</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>