<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 &amp; Firebase App [Part 5] - Details Page | Coder Coacher - Coaching Coders</title><meta content="Angular 2 &amp; Firebase App [Part 5] - Details Page - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 &amp; Firebase App [Part 5] - Details Page</b></h2><h5 class="post__date">2017-02-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SjWffSejQCQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">it goes welcome to part 6 of the angular
2 and firebase app series in the last
video we went ahead and I believe we did
the authentication so we can now login
with Google and if we do it once and you
can just click this again and it will
automatically log you in and now you can
see we can go to the listings which we
can see here and also add listing which
we still have yet to to add that form
now one thing I want to do before we
move on to the delisting detailed stage
is take care of this because right now
this isn't doing anything basically we
just need to add a login function to to
the home component because that's what
this is
ok so let's first go to components home
and then the HTML and we're going to go
to where we have the button here and
just add a click click event ok and
we're going to set that to the login
function okay so we'll save that and
then we'll go to our home component ts
file and we're going to have to bring in
a couple things first of all we need to
bring an angular flyer so that we can do
the actual login that's going to be from
angularfire 2 and then we also want to
bring in the flash message service or
messages service and that's going to be
from angular 2
slash messages and then we're just going
to add those as dependencies fills a
public AF is that to angularfire and
then public last message set it to flash
whoops no it's not what I want
flash messages service and then let's
create a login function and all we need
to do here is say this dot AF dot auth
dot log in and that should do it so it
saves that go back to our application
and now if we click that it should log
us in as well
okay I'll log out log back in or you
know what we just need to remove the
href from this right here all right so
now click that and it logs us in so now
we want to do is we want to work on the
details page when we click on this it
goes to listing slash and then the key
or the ID so let's go to our listing
component so it's going to be listing
the singular version and it's open up
the TS file close those up so open up
the TS file and we're going to bring in
the firebase service that we created so
we're going to import library service
from let's go up to levels to the
services folder and then firebase
servers and then we also want to import
some stuff from the router
so we want router we want activated
wrote and we want parens and that's
going to all be from the angular slash
router because basically we need to be
able to grab this ID right here and then
make a request through our service with
that ID so let's add our dependencies in
the constructor or in the constructor
parameters so we'll say private firebase
service exists at to firebase service
and then let's do private router and set
that to router okay and then we have one
more we're going to say private route
and set that to that activated route
activated so those are dependencies now
we want to fetch the ID from the URL so
we're going to go into on ng on it so
we'll save this dot ID and set it to
this dot route dot snapshot dot params
and then the parameter as a property so
up here let's just add ID and we'll just
give it in any type so I'd look ID any
let's also add listing that's going to
be a property as well and also the image
URL is but yeah I guess we can add that
image URL
okay so now now that we have the ID we
want to create a service function to get
the listing details so let's say this
dot firebase service dot get listing
details which we did we haven't created
yet but we will and it's going to be a
observable so we want to subscribe okay
and we're just going to pass the ID into
here as well so we'll say this dot ID
and then in the SUBSCRIBE we're going to
give back listing and then we'll create
a code block and we'll set this dot
listing to listening that's returned now
we're also going to have to get a
reference to the image when it's in the
storage of firebase but we're not going
to do that yet so I'm just going to put
a comment here and we'll say to do
storage ref all right so let's save that
and then we'll create the get listing
details so let's go to our service and
right here will say get listing details
and that's going to take in the ID and
then we want to do this actually know
what we're going to do is instead of
using this firebase list observable
we're going to use firebase objectives
that are observable so we want to import
that as well because instead of getting
a list we're going to get an object and
we'll have to put that here as well so
let's paste that in and this is going to
be just listing and we're going to set
it to firebase object
observable okay so then down here let's
set this start listing or I'm sorry this
dot listing and then set it to this dot
AF dot database dot list
I'm sorry not list object okay and then
let's see we're going to put in here
slash listings because we want to
listings collection and then slash and
then we'll concatenate the ID and let's
say as firebase object observable and
that's also going to have a type of
listing but we're not going to put the
brackets in there because it's not an
array it's going to be a single object
and then let's go on the next line and
say return this dot listing okay so that
should return the single listing to us
so let's save that and back in our
component let's also let's just
console.log this to make sure we're
getting it
and if we look down here you can see
we're getting the object if we go to a
different one go to this one we get that
object so we now have access to all this
data inside of our listing template so
let's go to that that will be listing
dot component dot HTML and first thing
I'm going to add up here at the top is a
link to go back so let's say a and we'll
set the router link let's set that equal
and we'll just say we want to go back to
listings okay then we'll put a line
break and then let's put an h2 we'll
give it a class of page header which is
a bootstrap class and then this is going
to have the title so we'll use this
interpolation oops a listing dot title
and then let's put a small tag
okay and in here we're going to have the
city of the listing so listing dot to
city okay let's just see if that works
let me just reload go to listings and
there we go we have the title and the
city and we can go back good so now
let's finish up the rest of this page
I'm going to put a role class here and
then we're going to have two columns so
this one's going to be a four column div
so call in the four that's going to be
where the image goes and then we'll have
an eighth column div next to it where
the rest of the data will go now we're
not going to do the image just yet
because we're not working with storage
yet but we'll just say image here and
then we'll put the rest of the data over
here so let's do a ul give it a class of
list group and let's do Li class list
group item and see in here we're going
to put the owner this thing dot owner
and then let's just copy this then we'll
do the bedroom
and then we'll do the type and then the
price
all right and then let's see what else
we're going to have we're also going to
have an edit and delete so I guess you
can put those but we're not going to add
the functionality just yet so down here
let's put an a tag and give it a class
of BTN and BTN default for now we'll
just say href to nowhere and that's
going to be edit and then let's put
another a tag and that'll be delete and
we just want to give this a class as
well BTN and BTN danger all right so
let's save that we're going to have to
just reload and then go to our listing
and now we get over here all the
information the data we have our buttons
here and the image will go here so in
the next video we're going to create the
form on the add listing page you will be
able to upload an image to storage and
we'll be able to put that image in the
listing as well ok so that's it for this
video guys and I'll see you in the next</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>