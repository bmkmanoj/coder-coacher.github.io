<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a Sails.js App [Part 1] - Sails &amp; API Setup | Coder Coacher - Coaching Coders</title><meta content="Build a Sails.js App [Part 1] - Sails &amp; API Setup - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Build a Sails.js App [Part 1] - Sails &amp; API Setup</b></h2><h5 class="post__date">2017-08-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AmjiDC_JUt4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">it what's going on guys in this
miniseries we're going to be diving into
sails Jas which I've had quite a few
requests for now sails is a it's a
full-stack JavaScript framework that
runs on top of node.js and if we look at
the website here you'll see it's the web
framework of your dreams and down here
it says build practical production ready
node apps in a matter of weeks not
months so this was created to really for
really rapid development and prototyping
sales is the most popular MVC framework
for nodejs
designed to emulate frameworks like Ruby
on Rails okay so it has it has a strong
MVC structure which is Model View
controller that's a certain software
design pattern that Ruby on Rails uses
so what we're going to do is we're going
to build a simple crud application to
start with that's that's how far I've
gotten but if the series does good and
people like it and it gets views and
comments then we'll move on to maybe add
some authentication add some deployment
things like that so this is what we'll
be building it's a basic crud
application for articles it uses
bootstrap for beta as its UI so so we're
using the latest version of bootstrap
for that just came out and you can see
we have we can view the articles in a
table so we have the IDS we have the
title and we can edit the articles so
we'll just change this to a second
article and we can save that we can
delete articles and of course we can add
them just say another one a little world
and articles just have a title and a
body but of course you can change that
you can add more fields to it the idea
with these types of projects is to give
you a foundation so that you understand
at least how the basics work so you can
add on to it all right so that's what
we'll be building now there's two things
you're going to need installed you're
going to need nodejs
and you're going to need MongoDB ok now
the default database that sales uses is
a disk based database called sales disk
which is not suitable at least in my
opinion and it's not
suitable for production so we're going
to be using the sales Mongo driver to
integrate MongoDB now if you don't have
MongoDB installed and you don't know how
to install it I do have a video called
Mongo DB in 30 minutes which you might
want to check out and I'll show you how
to set it up on windows I also have a
video showing you how to set it up on a
bun - okay but you do want those two
things installed before we start all
right so that's what we'll be building
in the series guys it shouldn't be more
than a few videos so let's jump in and
get started so if you guys really like
my videos and you learn a lot from them
and maybe you have a couple extra
dollars to spare check out my patreon
page I'm working on creating special
content for patrons you also get special
deals on future courses and there's even
an email support here for all YouTube
videos and projects to learn more visit
patreon.com slash traversée media
alright so we're going to jump right in
here guys now as far as what I'm using
as tools I'm using Visual Studio code is
my text editor I'm also using git bash
for Windows from my command line if you
are on Windows and you want to use that
you can go to get - fcm comm and you can
download it here you can also download
it for Mac alright so first thing we
need to do if we go to the sales website
here and go and get started we need to
install sales globally using NPM NPM
stands for node package manager and that
automatically comes with node.js so as
long as you downloaded node you have
access to the NPM command alright so
what we're going to do is we're going to
run NPM install and we're installing it
globally so it doesn't matter what file
or if I'm sorry what folder you're in
right now so we'll say NPM install - JEE
sales and that's going to install it
globally on your system
alright and mine should go quick because
I already have it installed at least it
should and then once that's done if we
look over here we need to just start a
new sales project by saying sales new
and then whenever we want to call the
project alright so now that that's done
let's say first you want to go to
wherever you want to create your project
folder I actually have a folder called
projects and then what we're going to do
we just clear this out we're going to
run sale
okay since we installed sales globally
we have access to that command and we
make this a little bigger we're going to
say sales new and then the name of our
project which I'm going to call article
base okay and what that's going to do is
it's going to generate a new project
it's going to create all of the sales
files and all that stuff all right so
now that's done we should be able to CD
into article base and from here we can
actually now run our server and we can
do that by saying sales lifts and that's
what that should start it on port 1 3 3
7 by default so if we go over to our
browser here let's close that up and
we'll go to localhost port 1 3 3 7 and
this is the landing page ok now
basically this is just one page of just
some information just some some texts no
dynamic functionality or anything like
that and it's telling us how to generate
a new API with a resource and we're
going to get to that but let's go ahead
and open this project open our folder in
Visual Studio code so I'm going to go to
article base and open that up alright so
this is the structure of a default sales
sales project if we look at package.json
you'll see we have sales down here sales
disk which is the default database
that's going to be used like I said
we're going to switch to MongoDB I'll
show you how to do that
it also uses all kinds of grunt plugins
okay to do all of its all the dev stuff
and then it also uses EGS for its
template engine which is embedded
JavaScript I believe that that's what
that stands for that's what it uses for
views now you can build REST API s
pretty easily with sales as well so you
don't have to use a template engine you
can strictly build the backend and then
use something like react or view to you
know to to reach into the backend and
work with it but that's the package.json
and then if we look in the file
structure the most important things here
for us are going to be in the API folder
we have our controllers models and then
down here we have our views folder so
this is the MVC structure that I was
talking
which is very similar to Rails all right
and then it gives us a homepage ejs and
a layout ejs these are our templates now
layout surrounds all of the views so if
we are going to use bootstrap like we're
going to and we need to include the CDN
this is where we're going to put it
because every view is going to be
wrapped in this layout ejs in fact if we
look down here where this body tag is
this is this is where any view that
we're looking at is going to be output
okay
such as this home page which is actually
what you're seeing right here so what
we're going to do next is we're going to
generate an articles resource or an
articles API so to do that we're going
to go back into our command line what
I'm going to do actually is let the
server run here and then I'm going to
open up my terminal from within visual
studio code so if we go to view and then
we go to integrated terminal you'll see
I also have git bash integrated with
visual studio code and I've told you
guys how to do this quite a bit but in
case you missed it you can go to
preferences settings and you can go and
add this right here you just make this
bigger so terminal integrated shell
windows and set it to the location of
git bash okay and that will give you get
bash instead of power shell all right
now what I'm going to do is like I said
generate an API for articles so to do
that we say sales generate API articles
okay and it says create a new API now if
we go we just close that up if we go
over here now and look in controllers we
have an articles controller J's file
this is our controller for our articles
and then we have a model inside models
we have an articles JS file this is our
model
okay so we've created those two things
for us now if we go to localhost 1 3 3 7
slash articles actually know what we
need to restart the server
so to do control-c sales lifts now since
we generated an api it's going to ask us
this question here about database
migrations so we want to we want to
number two which is alter to auto
migrate so we're going to just put two
enter okay and I'm going to show you how
to get rid of that message because right
now every time we run the server it's
going to ask us that message so to get
rid of it you want to go to config and
you want to go to where the hell is it
the heck is I forget what file it's in
config connections maybe no Global's
what the hell is it Oh bottles
yeah models so models Jas and right here
you'll see this commented out line
migrate alter so we're just going to
uncomment that and save it now another
thing I want to do is instead of having
to restart the server every time with
sales lifts what we're going to do is
install something called node lawn which
will continuously watch the main app.js
file and then reload it every time we
save so to do that we're going to do NPM
install - G we want this globally node
lawn and I think I already have it
installed yeah so once you do that we
can just run node Mon app dot J s and
it's going to start up our application
and it's going to continuously watch it
okay so just a shortcut so you don't
have to keep restarting your server so
now I want to go back here to localhost
1 3 3 7 / articles and reload and you'll
see we have an empty array since we
created that articles API we can go to
this URL and it'll show us all the
articles in our database which of course
we don't have any yet now sales comes
with something really cool called
blueprints let me see if I can find it
in the docs see sales in action
that's not what I want the documentation
is not that great it's not the worst
I've ever seen but it's definitely not
the best so let's say I want blueprints
and what let's just search for sales
blueprints
okay so blueprints API and what this
allows us to do is it allows us to go
into the URL now this doesn't tell me
very much
you know let's screw the documentation
so it allows us to go into the URL and
actually add data through there now this
is not something you want to have
enabled in production I'll show you how
to disable it but for prototyping and
just you know quickly adding data it's
really really helpful so what we're
going to do is we're going to say slash
articles slash create I already have it
coming up here but I'm going to get rid
of that so slash create and then we want
to do question mark and then the first
field we want which is title I'm getting
this autofill all right so I'll just
leave that I guess and then I'll go over
it article one say my first post all
right so if we look at this we have
create and then in a question mark we
want a title field which you're going to
set to the text of article one and then
we have a body field which we're going
to set to my first post okay so we're
going to have a title and a body field
and then if we go ahead and click enter
you'll see that that will actually get
added to the database so we have a title
we have a body it also gives it an ID
automatically and it gives it a created
at and updated at okay and if we want to
add another one we could just change
this to say article two and we'll change
the body to my second post notice it's
using the percent twenty as a space
we'll enter that and now we see article
two and now if we go to slash articles
you'll see both articles and they're in
our database okay now like I said it's
using sales discs so once we change to
MongoDB these will no longer be in
but we can then again add them using
blueprints all right so just to just a
cool feature that sales offers all right
so let's see I think that that's going
to do it for this video guys now that we
have sales set up we have we have our
eight articles API resource set up in
the next video I'm going to show you how
you install sales Mongo which is a
MongoDB adapter we'll get that set up
we'll add some data through blueprints
into Mongo and then we'll start on our
actual application building the UI
building the functionality to fetch
articles and then help with them into a
view and things like that all right so
hopefully you guys enjoy the series and
I will see you in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>