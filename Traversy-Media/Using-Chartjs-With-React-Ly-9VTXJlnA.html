<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using Chart.js With React | Coder Coacher - Coaching Coders</title><meta content="Using Chart.js With React - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using Chart.js With React</b></h2><h5 class="post__date">2017-06-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Ly-9VTXJlnA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's going on guys a couple days
ago I created a video called getting
started with chart Jas and we created a
chart using the chart J as JavaScript
library and this is what it looks like
here it's basically just the top cities
in Massachusetts by population we have
the population on the side we have the
city names down here we have some
tooltips a legend the title all that
stuff so I had a couple requests for in
that in the comments of that video to
show them how to do this in react so
that's what we're going to do we're
going to basically create a react
application that's going to display this
data and we're going to format it so
that we could easily switch out the data
switch out the cities and population
numbers and all that we're going to
create a chart component that we can
pass the data into now I would HIGHLY
highly suggest that you watch the
getting started with chart j/s video
before doing this unless you really
understand how chart jeaious works now
as far as what we'll be using to to to
work in react we're going to use this
react - chart j/s - - module ok or
package not to be confused with just
react chart j/s we're using this one
because we're using chart.js version 2
which is the recommended version and
there seems to be some competitive
compatibility issues with just the react
chart j/s okay so make sure you have
this by this Gore 181 so basically all
we need to do is install this react
chart js2 along with chart j s that's a
dependency of this package and then once
we do that we can import it and then we
can create a chart from it alright so
we're going to set up a react
application using the create react app
tool okay if you've never used this you
just need to install it globally and
then you can generate an application
with this command here so let's go ahead
and do that I'm in my projects folder
here but first we're going to install
this globally so let's say npm install -
key and it's going to be create - react
-
okay I already have installed so mine
will go really quick all right and then
once you do that we can generate an
application by doing create react app
and then I'm going to call this reacts
charts all right now I'm using git bash
as my my on my terminal in my command
line if you want this for Windows just
go - I think it's get - get - SCM comm
you can download that install it if you
want but of course you could use your
standard Windows command line your
PowerShell or your Linux or Mac terminal
all right so that's going to get set up
now this is not going to be this is not
going to be an introduction to react so
if you don't know anything about react I
would suggest going back and watching my
reaction scratch course before
attempting this because I'm not going to
explain every little thing alright but
if you have any knowledge of reactors
you probably shouldn't have any issues
alright so now that that's done let's CD
into what I call it react charts all
right and then we want to install these
two things here so I'll just grab this
NPM command obviously you need nodejs
installed and we'll go ahead and paste
that in and it's going to set up those
two packages for us all right so once
that's done we can go ahead and let's
first open up our text editor I'm going
to open up atom with atoms dot okay and
you can use any text editor you want
I suggest atom or Visual Studio code or
sublime text something like that alright
and then what we'll do is start up our
application and we can do that with NPM
start alright you see it opens up on
port 3000 so this is basically like the
boilerplate for for a react application
so if we go over and we look in the file
structure here we have a source folder
that's our the folder we're going to be
working in we have an app j/s folder
which is
kind of the root the root component for
a react application now the thing about
reactive is a million different ways to
do the same thing so what I usually do
is we're working with data any kind of
data whether we're just you know it's
local or we're making an ajax request I
like to pull that in from the root app
component and then pass it along to any
sub components that we create such as
the chart component all right so that's
what we're going to do now I'm going to
create in the source folder I'm going to
create a folder called components and
then we're going to create a file in
here I'm going to call it chart Jas ok
and I always give my react components
and they start with an upper case all
right and then let's see we're going to
just bring in what we need to so we're
going to import react we want to import
the component package and this is going
to be from react all right and then we
also want to bring in the react Jas
chart so if we look over here they give
us an example to bring in a donut chart
so I'll just put that in here but I'm
not going to use a donut chart I'm going
to use a bar and then I'm also going to
bring in line and pie okay eat any type
of chart you want to use you need to
bring in here so now let's create our
component class so we'll say class chart
and of course that's going to extend was
wrong with my keyboard extends component
okay which we brought in right here from
react and let's see if we look at the
documentation here for react chart Jas
and we go down here you'll see that we
can insert whatever type we want with
this tag here so this is going to be for
a box shot so let's grab that and then
when you're working and react whenever
you want to output to the screen you
want to call a render function okay a
render method and from here what we need
to do is return and in here we're going
to put our it's actually JSX but it's
pretty much
HTML pretty much the same thing except
those little differences like you can't
use class you have to use class name so
we're going to return a div here and
let's give it a class name of chart all
right
and actually for now let's just output
chart component all right and then we
should be able to go to our main app
component and import that
so we'll say import chart and that's
going to be from dot slash components
slash chart all right and then where I'm
going to put this is down here I'm going
to leave the little header that they
have I'm going to replace this paragraph
right here with shark like that all
right
oh we also need to export it so let's go
back to our chart component and we're
going to stick sports charts all right
actually yeah export chart our default
chart so it save that and now if we look
over here you'll see our chart component
is now showing so let's go back to chart
j s and let's paste in that bar thing
that we grabbed okay I'm just going to
tab this over alright so this is going
to take in a data object it can take in
a width and a height which I'm just
going to get rid of for now and then
some options so like I said I do want to
have the data in the main app component
and then pass in but for now we're just
going to include it here now with reacts
you have something called state and
state is where we want to keep all of
the the data ok so to create an initial
state we're going to create a
constructor a constructor is basically
just a function that's going to run when
the component is initialized all right
now if we want to set state here we
actually have to call this super
function and pass in props props is
another another aspect of react which
are properties that you can pass into
components so
say we had a height property we could
pass in you know when we go to our main
app component we could pass in like
height equals 200 or something like that
and that's a property alright our prop
same thing so we're going to call super
props and then to create our state we do
this state which is going to be an
object alright so in our state we're
going to have our chart data
all right so chart data which will be an
object and then what I'm going to do is
go to the original chart j/s script that
we created and go down to where we have
our mouse pop chart and we have this
data so we have labels and then we have
a data sets array with the population it
has all the population numbers and it
has the colors of each bar we want to
you know add different colors for each
bar and then some other stuff border
with I'm actually not going to include
this stuff so what I'll do it's probably
better if I just kind of type this out
so you guys don't get confused so let's
say labels all right and then I'll just
paste in the array of cities ok and like
I said I would highly recommend you go
when you watch the original charge AS
video so we have labels and then under
that we'll have our data sets actually
that it shouldn't be camelcase
data sets now you can have more than one
data set but we're just going to have
one which will be in an object so have
the label which will be population and
then we'll have our data which is going
to be the values for the actual
population numbers and I'm just going to
grab those alright and then we have our
background colors so after this data
array will say background color this
could be a single value if you wanted
all the same color for your bars but I
actually want different ones so I'm
going to grab all the RGB values here
okay it's just an array of rgba values
and then yeah that should be it for the
for the chart data object so what we'll
do is go down here and instead of just
having data here we want to call the
data that's in the state so it'll be
this dot state dot chart data all right
and let's just see what that gives us if
we save that so we're going to go back
see props is not defined and talking
about this right here that's just
because we have to actually pass props
into the constructor and there we go so
you can see it's it's reading the data
from the chart component state see I'm
going to get rid of this value right
here this maintain aspect ratio I'll
just clear out this this whole thing
right here
whoops actually you know what we need to
keep to keep it like that there we go so
now it's not all squished and if you
wanted to you could add a height if you
want and keep the aspect ratio of what
this is fine so for the options if we
look at the original script bring that
over okay so we have this options array
right here or options object and then
inside there we have embedded objects
like the title the legend the layout all
that I'm not going to include all of
these you guys can if you want but I'm
just going to grab we're just going to
use the title and the legend all right
so let's go in here and we're going to
put in title which is going to be an
object and that's going to take in
display which will set to true and also
text which for now I'm just going to set
to largest largest cities
in Massachusetts okay then we'll put a
comma here and let's say legend also an
object display true and what else
position let's say right all right so
let's save that and see what happens
okay so now we have the title here let's
actually add a change the font size of
the title so if we say I think I can do
that right font size on size let me just
check real quick Yeah right here on size
25 all right okay so now the titles
bigger so we have these options now you
can decide what options you want to use
here obviously you can also decide what
you want to set for component property
so I want to put some of these things
inside of properties for this component
now to define default properties and
before we do that I just want to show
you if you want to pass in a property
like let's say you want to have one
called display title and you could set
that to true or false right here all
right but we can set a default value so
let's do that so to do that we say
static default props set that to an
object and let's say display title and
set that to true by default
let's do display legend set that to true
by default and then let's also do what
else a legend position legend position
we'll set to right now in order to use
these properties down here we can simply
replace this with this dot props dot
display title all right and then let's
see I guess font size now font size will
leave hard-coded so like I said you can
pick and choose
what you want to be dynamic properties
are hard-coded for the legend we want
this to be this props dot display legend
and then for the position this dot crops
dot what was it legend position okay so
you can pick and choose and you can add
more or less properties so that should
still work if we save it good now we
should be able to overwrite these these
properties here the defaults if we pass
them into the component so for example
for this chart component let's pass in
we'll say legend position and let's set
that to bottom okay so if we save that
now you'll see that the legend is at the
bottom so whatever we pass in is going
to overwrite these default properties
all right so let's see what we want to
do next here I think as far as the chart
display we're all set let's now move the
data ok we're we're setting the data
here I want to move this out to the main
app component and then pass it in as a
property and then turn it back into
state so let me show you what I mean
let's see so we're going to go back to
the app J s the main component and we're
going to create a constructor all right
and let's see for the constructor we're
going to call super and then we're going
to say this dot state equals and then
we're going to set that to an object and
then we're going to set chart data and
then initially it's just going to be an
empty object alright now you already
know how to use chart jeaious with Reax
we've already finished that now we're
just looking at kind of better
structuring the react application now
what I would usually do is set the state
initially like this actually all of that
and then we'll have a function here and
we'll call it let's call it get
chart data alright and then what we'll
do is we'll take this chart data that's
in the state and we'll fill it so let's
say this dot set state okay set state
and we want to pass in an object and we
want the chart data value okay and then
I'm going to just grab that from chart J
s so this right here this whole object
which ends right here so let's grab that
and we're just going to cut that out and
then put it here okay so now it's state
for the main app component I'm sorry
that's not what I wanted to do I want to
put that here okay inside to get chart
data function now the reason one of the
biggest reasons that we do this is
because if we're dealing with api's
which usually are usually pulling data
from somewhere whether it's a you know a
public API or your own API that you
created this is where you would do that
so we would make our Ajax call here
alright and then we would fill the state
with the data that comes in now as it is
now this is not going to run because we
just defined it what we need to do is
put this inside of a life cycle hook
called component will mount okay and
this runs when the components mounted so
we can just call now this dot get chart
data all right and then it will run that
when the component loads so we're
setting the state of the the main app
component now we need to pass that into
the chart component right because now
the chart component doesn't have data
it's just it's just an empty object for
it's just nothing right now so we're
going to pass it in as a property all
right so let's say chart data and then
we're going to set that to this dot
state dot
sharp data okay we'll save that and then
what we want to happen is when that
comes in as a property we want to then
put it into our state okay so we can do
that by just setting this right here to
prop Scott chart data all right and then
it will put that into the state and then
everything else is going to work just
fine so let's save it and there we go so
just a test to make sure that this is
actually coming in from App J s from the
main app component let's change this to
Boston one and save and go back and
you'll see that this is now Boston one
okay so the idea is to get the data at
the top from the main app component and
then pass it down to chart okay and you
can create as many of these as you
wanted to if you wanted to paste in
another one here and let's say we wanted
to this at the top and save now we have
to the second one has the legend at the
top okay now we're just about there the
last thing I wanted to do is you see how
we have in our chart component we have
largest cities in Massachusetts I want
to pass the location in as a property
all right so you can put a default
property here if you want yeah I guess
we could do that so let's say location
and by default
I guess we'll set it to you know we'll
just set it to the word city I guess
just to have something there in case it
doesn't get passed in but what we want
is - from app J's when we actually call
the chart component we want a location
property and let's set that to
Massachusetts okay and then we'll save
that and then let's go back to our chart
j/s and now down here we have the the
text Massachusetts what I'm going to do
is just concatenate this dot crops dot
location and then let's save that and it
should be the same thing but let's say
we were to change this data up for
somewhere different for let's say New
York we could just go down here and we
say location equals New York and save
that and now largest cities in New York
okay just just another option to make it
you know a little more a little more
customizable I guess so I mean this is
you know I'm just trying to give you
guys examples so that you can you can
have the knowledge to build your own
stuff all right so that's pretty much it
if you wanted to use different types you
see how we brought in line and pie chart
as well we could just grab this whole
bar right here it's actually tab that
over but we could grab that and then
paste it in again and just change this
to line and then we could paste it and
again change this to pie just to give
you a couple examples and now if we go
over here we have some different some
different charts alright we actually
don't have the legend showing so let's
change that wait why is the legend not
showing so have it set to false why is
wait a minute oh it's at the bottom
nevermind I just can't see it down here
all right so that's it guys hopefully
you enjoyed this and you learn something
from it like I said it's not a full-on
react tutorial so if you don't know
anything about react you've probably got
a little confused
if so watch my react Jess crafts course
thanks for watching please subscribe
please leave a like
whatever you can please follow me on
Twitter and Facebook I'm really trying
to build up that community so if you
guys could take a second just go over
there and follow me that'd be great so
thanks for watching I will see you next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>