<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React &amp; Redux - Freestyle Coding [3] | Coder Coacher - Coaching Coders</title><meta content="React &amp; Redux - Freestyle Coding [3] - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React &amp; Redux - Freestyle Coding [3]</b></h2><h5 class="post__date">2016-07-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/NCshQ290g38" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">guys welcome to another episode of
freestyle coding in this video we're
going to be building not not really a
full application but we're going to
dabble in react and redux so if you
don't know what react is it's a
JavaScript library for building UIs
okay for building user interfaces or
views the part of the application that
that you see okay so it doesn't work
with models or our databases or anything
like that controllers it's basically
just for your view and you can build UI
applications with just react you can use
other libraries to do things like HTTP
requests to fetch data and all that kind
of stuff but it's basically for UI is
now Redux is that this is the
documentation here but Redux is for
managing your state ok your application
state for instance if you have let's say
a list of two dues that might be your
index state and then let's say you click
the edit button next to one of the two
dues that'll take you to your edit state
and you probably also store the current
to do that you're editing in that state
all right so it's just it's just that
it's a way to manage your application
state so react and redux go together
really well because Redux takes care of
the state and takes care of any kind of
API calls or interacting with databases
anything like that and then it sends it
down to react which has different UI
components that display on the webpage
alright and I'm not going to go through
you know a whole spiel on the the core
concepts and any of that I do have a
course at Edge wanax calm on react and
redux if you want to check that out if
you want to learn more about how it
works and what exactly they are but I'm
just going to kind of just move along
and build this this sample application
alright so we're going to be using
webpack which is a module bundler
that'll allow us to install react and
redux among other modules
using NPM alright our node package
modules so you will need nodejs
installed if you don't have it installed
just go to node.js org and download it
install it it's really simple
alright and what we're going to do is
we're going to fetch data using redux
we're going to fetch it from this Jason
placeholder service basically it just
gives us an API we can use for things
like posts comments photos to do's and
you can see if I click on it it's
sending a get request and it's returning
all of these to dues that we can bring
into our application alright I'm
actually going to use I'm going to do
users for this tutorial
alright so the idea is to make a request
to this URL bring these in using redux
and then display them using react
alright so let's go ahead and get
started now to start out we do need to
set up a package.json file with all our
dependencies and to make that a little a
little less work i have this web pack
starter package that is available on
github and basically you can see it's
the package dot JSON file it has web
pack it has the config file set up and
it's in a source folder you can see we
have an app j/s file which is blank and
then a simple index.html file alright so
what we'll do whoops is download this so
we'll click let me just make this a
little bigger okay so we'll go ahead and
download the zip file which I already
have and then we'll create a new folder
for the application on the desktop and
I'm just going to call this my contacts
you know I'm not going to call it that I
already have that let's just call it
we'll call it our contacts ok for
reactor here redux
now what we're going to do is take that
zip file let me just grab that
okay where is it here web pack starter
okay so we're just going to take
everything that is in here and bring it
over to the our contacts folder alright
now if we look at the github page here
what we have to do is we have to run npm
install to grab all the dependencies but
before we do that we're going to just
take a look at to the files so let's
open up sublime and what i'm going to do
is bring the project folder in here so
desktop our contacts select alright so
let's look at the package.json file all
right so this has obviously the name
version and all that stuff but the
important part of this is the
dependencies alright so by default this
package comes with the Axios or HCOS
I'm not sure that's pronounced but
that's good we're going to use that to
make our get request through our redux
file and get to get the users alright
now all these things here are all for
Babel Babel is going to be responsible
for compiling the JSX in the react
components also allowing us to use the
es2015 module syntax so we can import
modules and files and it also has a
react preset all right and then of
course we have web pack which we're
using for a module bundler and then the
dev server will allow us to actually run
the server and application while we're
working on it all right now there are
some things we need to add to this you
can see that we don't have react we
don't have Redux or any of that so I'm
going to go ahead and add that okay so
you just want to copy these here so we
have react itself then we have react Dom
now react has what's called a virtual
Dom which is basically its own smaller
version of the Dom where it can update
piece pieces at a time so that we don't
have to reload the
page we can just update certain
components and then we have react Redux
which is responsible for mixing the two
for binding react and redux together and
we have Redux itself we have a couple
pieces of redux middle where we have the
logger which was really helpful can tell
us what's going on in the console
promise middleware so we can use
asynchronous promises and then thunk
which allows us to use functions as our
actions all right now explain that more
later so let's go ahead and save that
and then we're going to before we run
npm install let's look at the web pack
config so what this is doing here we
have an entry file of app j s which is
in the source folder here this is
basically the entry to our application
that's where we'll we'll have to import
everything and then output we're going
to be compiling all of our JavaScript
into the dist folder which isn't created
yet if we run wet web pack it will
create it and it will compile everything
into this one app bundle J's file and if
we are to look at the index.html file
you can see that that's the only thing
that we're actually including here all
right down here we have all of our
loaders this is how we're going to use
the babel loader also the JSX we want to
be able to use JavaScript syntax
extension and react and then you can see
we have the es 2015 preset and react
preset down here alright so that's
pretty much it as far as the the web
pack starter goes what we'll do now is
open up a command line okay if you're
using Windows you want to open the
command prompt as administrator and
we'll go ahead and just navigate to that
folder which for me is going to be users
slash Brad slash desktop slash our
contacts okay so we're going to go ahead
and run NPM install okay that might take
a minute or so
and while that's running let's look at
the web pack starter page here so you
can see we can run the dev server with
NPM runs server all right now this is
really important because you might get
an error when you run this as I will
because the port 8080 by default is
being used on my machine so if you want
to change that all you have to do is go
to this file right here this web pack
dev server file and just change the two
instances of 8080 to whatever you want
okay I suggest 8000 all right and then
we can just simply run this and go to
localhost 8000
alright and then to compile it into the
app bundle file you can just run web
pack alright so it's a nice little
package to start with alright so now
that that's done we can go ahead and
I'll try to run npm run server and you
can see what happens okay so you can see
I got this error okay if you go if you
have this issue then again just go into
node modules web pack dev server bin and
then that web pack dev server J's file
and then down here where we have 8080
I'm going to change it to 8,000 also
right here and then we'll save it go
back to the command line and we'll run
it again and now you can see that it's
running on port 8000 so let's go ahead
and go to that go localhost 8080 is web
pack starter and if we were to look at
the source code you can see it's that
index file and basically just has a div
with the ID of app alright that's going
to that's basically the placeholder for
our main react component alright so
let's go ahead and open up console with
f12 make sure there's no errors and now
we're ready to start coding alright so
let's open up a pas to start with and
first thing we're going to do is import
react
so in court react from react and then
we're also going to need to react Dom so
we'll say import react on from react Dom
alright and then we're going to import
our main app component okay when you're
working with with react you have a core
app component just like you do in
angular 2 now you don't need to do that
but it's it's really good practice so
have this main app component and then
any other components will be nested
inside of that alright and then our
state and all that can go at right at
the top in that main app component so
that's going to be from dot slash and
we'll have a folder called component and
file called app dot J s alright and then
we can use our react Dom dot render to
render the components ok so we'll pass
in app component just like that and then
the next parameter we need to define
where we want to stick this now remember
we have this div with the ID of app so
that's where we want to put it so we're
going to use document dot get element by
ID and then pass in app save that
alright now it's going to give us an
error because we don't have that file
yet that app j/s so let's create a
folder inside the source folder called
components and we'll create a new file
and we're going to save it as app is and
it's always a good idea to keep your
component files with a cap starting with
a capital all right now in this file
we're going to import react
and we're going to set up our component
class so sport default class going to be
called app and then we need to say
extends react component okay so that's
our main class now inside the component
class is where we can put what's called
a lifecycle methods and there's a bunch
of them and they basically run at
different points when your app when your
components initialized or updated all
right and there's only one that's
required and that's render so we're
going to go ahead and say render and
we're going to return okay and you need
to return a single element okay it
doesn't have to be a div but it has to
be just a single element and then any
everything else has to be inside that
alright for now we're just going to say
my app component okay we'll save that
and if we go over here let's see we
might have to restart the server yeah
let's go ahead and restart it
and there we go okay so you can see
where now it's spitting out my app
component all right now we're going to
want to have a separate component for
the contact list and for the single I'm
sorry the user list and the user that
itself so what we'll do is in components
let's create another file and we'll save
it as user list J s and we'll create
another file and save that as just user
dot j s all right now what we'll do is
in the main app component we're going to
put let's user list and that will embed
that user list component into the app
component and in order to do that we
have to import it so I'm going to say
import user list from dot slash user
list and then let's copy everything we
have in here and save it and then inside
user list we'll paste that in get rid of
that and change this to user list and
we'll just say user list component and
save it and there we go so you can see
that that component is now embedded
inside of the main app component all
right so now that we have that done we
want to start to bring in Redux because
we have nothing to do with redux yet all
right so we're going to start with the
the entry file which is apt J s and
we're going to add a couple things here
so we're going to import what's called a
provider and that's going to be imported
from react redux
all right and then we also need the
store so we're gonna say import store
from dot slash store which will create
in a minute now this provider has to be
wrapped around the main app component so
right here we're going to put in
provider Upson I want to do that and
then on this side say provider
ok now the store gets injected into the
provider so we can say store equals
store and that should be all we have to
do in this file so let's save it alright
so now what we need to do is create the
store file so right in the source folder
on the same level as app J s we're going
to create store j s alright and then in
here we're going to import a couple
things so we're going to want to use
what's called middleware and we need to
use apply middleware for that ok we're
going to use logger a log of middleware
to let us know what's going on and also
middleware for promises and then
something called redux thunk alright but
before we do that what's also import
create store and those are both going to
be from redux all right so now for the
middleware we're going to say import
logger from redux lauder
and we want promise
and that's going to be from redux
promise middleware and then import thunk
from redux thunk okay then we need to
also import our reducers so let's say
reducer from and we're going to create a
folder called reducers all right now a
reducer is basically something that
we're going to submit actions to and
that's where we can change our state all
right our state is basically going to be
a single object and we'll have different
actions submitted to the reducer where
we can do whatever it is we want to do
in our case it's going to be to fetch
data from an API and then return it all
right we'll create those in a second we
also need a variable called middleware
and we're going to set that to that
apply middleware and then pass in a
promise what else do we have thunk and
blogger okay promise and logger should
be a function thunk should not and then
finally we just need to say export
default create store and then we simply
pass in our reducer as well as the
middleware and that should be it so
let's save it and now we're going to
create a folder called reducers and
we're going to have a file called index
J s and then a file called user say
users reducer J s all right now let me
see if I can explain this so as I said a
reducer will that's where we can modify
our state and so on
but you can have a single reducer or you
can use
what's called combined reducers where
you can split them up now even though
we're only going to have one single
reducer I'm still going to use the
combined reducer just two just so we can
scale the application if needed all
right if we want to talk to all of a
sudden add to Do's we could just simply
plug in a - duze reducer all right so
that's why we have two files here and
now I'm going to start with the index
that's where we're going to include the
combined reducer so we'll say import
combined reducers and that'll be from
Redux and then we're going to port user
from dot slash users reducer all right
actually let's say users and then we
just need to explore default combined
reducers and then we simply pass in an
object with the different reducers so in
our case we just have the users so let's
go ahead and save that and then go into
the users reducer and let's see we're
going to export default function and all
a reducer is is a PR function okay we're
going to call this reducer and it's
going to take in two things it's going
to take in a state so this is basically
the initial state which I'll set to an
object and then it's also going to take
in an action okay remember we submit
actions to our reducer now as for the
the initial state let's set users and
we'll set that to an empty array and
then we'll have let's say fetching which
will be set initially to false
you'll say fetched set that to false and
then I'll have error which will be set
to know okay so now down here we want to
do a test we want to test the different
action types that are being submitted
all right so to do that you could use an
if-else statement but I prefer to use a
switch okay so we want to say switch and
what we want to test is action dot type
and I'll show you you'll see what this
is in a minute alright so what we want
to do is set up a couple different cases
here so we're going to say fetch users
and what we'll do is return state
shorthand way of doing that is with
three dots and then state and then also
fetching we're going to make that true
all right now the next case will be
fetch users fulfilled okay so this is
going to run when when our API is
returning the data okay when it's
fulfilled so for that let's copy this
and we want to set fetching to false and
then we want to set fetched to true
alright now since we're getting the data
we also have to include that so let's
say users and we're going to assign that
to action dot payload ok payload is the
actual data that's being returned and
then we're going to have one final case
and that's going to be fetch users
rejected basically this is if we run
into some kind of error this will get
called
okay so we'll return state and then
fetching will be false and then we want
to say error and we're going to set that
to the actual payload all right and then
finally after the switch we just want to
return state and that's it so let's save
that and now what we'll do is create our
actions fault file so in our source
folder we're going to create another
folder called actions and we're going to
have one file in here we're going to
call it users actions actually we call
it user action our actions plural is all
right now in here we want to first of
all import that access Axios utility
that's what we're going to use to make
the actual get request and then going to
export a function and we're going to
call it fetch users okay and then we're
going to say return function and let's
pass in dispatch and we'll say axe so
Scott get and then we need the URL which
is this right here copy that
all right and we're using promises here
so we're going to want to say dot then
and in here we're going to pass in a set
of parentheses with response and then
we'll point that to a code block and in
here we're going to run dispatch okay so
this is all happening asynchronously and
then we'll pass in an object and that's
good that's where we include the type
all right so we're going to say type
it's going to be fetch users
fulfilled and then we send the payload
and that's going to be the response dot
data all right so remember that this
probably looks familiar to you the type
and the payload all right if we look in
the reducer the type is what we're
actually testing so in this case it's
going to be the users fulfilled and the
payload is what is going to be the
actual data all right so hopefully that
kind of clicks and makes sense I know it
might be a little overwhelming if you've
never worked with redux before or any of
the stuff but it's actually not that
hard once you kind of get the hang of it
all right now we're also going to do dot
catch right here in cases any errors so
here we'll pass in error set that to a
code block and let's copy this this time
we're going to call fetch users rejected
and we're going to send the payload
which is going to be the error itself
all right remember when we did the
reducer we have the rejected and you can
see error is the actual payload that
we're sending all right so hopefully
that makes sense and that's it for that
file so let's save it and now everything
with redux is pretty much all set now we
need to bring it into our react
component so let's go to components app
J s and we're going to need to bring a
couple things in here okay so we need to
import what's called connect and this is
just that it helps connect Redux to
react
all right and then this is going to use
what's called a decorator so we're going
to say at connect and we're going to
pass in here another set of parentheses
and store set that like that and then
we're going to say return users and
that's going to equal store dot users
dot users all right now the reason that
we have this twice is because if we look
in let's see if we look in index our
user reducer we're importing is users
and then if we look in the actual
reducer we also have this array called
users so that's why we're putting that
in twice all right now what we'll do is
we need to go down here and add another
lifecycle method because we want this to
run we want the the fetch users function
that we created to run before the render
so we're going to use a lifecycle method
called component will mount alright and
then before we can actually use the
fetch user's function we have to import
it so up here we're going to say import
fetch users from and we want to say dot
dot slash actions slash user what is it
user actions
all right so then down here we should be
able to do this dot props dot dispatch
and pass in that fetch users alright so
now what this does is it now gives us a
property for the users so down here in
the render we can now say this dot props
dot users all right and what that did
what this whole Kinect thing does is
takes your state and puts it into a
react property that you can then use in
your components alright so what we'll do
is just pass that into into our user
list so right here we're going to say
users equals this dot props dot users
all right and just to test this out
let's go ahead and do a console log of
that this dot props dot users save it
alright now down here this stuff you see
right here is coming from that logger
middleware that we included so you can
see that fetch users fulfilled is being
called and the payload includes an array
with ten ten elements in it and if we
look at one of these you can see it's
the first user Leeanne Graham which if
we look at the API results is Leeanne
Graham so that's fetching data alright
and then what we did right here the
console log now this is this is a little
confusing but I'm going to try to
explain it you see how we have this
empty array and then we have the array
full of the objects the reason this is
happening is because with react when you
call this component will mount
it makes it render twice so this is
being run twice now the first time it
renders is before we actually get the
users so it's giving us the initial
state with it which is a blank array and
then after it runs it renders again and
it includes all the objects alright so
what we need to do is in this user list
we have to check and see we have to make
sure that there's actually stuff in this
array before we actually render the
component because if we don't it's going
to give us an error all right so what
I'm going to do is just get rid of that
and then we're going to go into user
list and let's go in the render but
above the return and we're going to do
an if statement I'm going to say if
object dot get own property ID now get
own property names and then we'll pass
in this dot props dot users and then
we're going to check the length and see
if it's equal to zero all right if it's
equal to zero that means that there's
nothing in the array so what we'll want
to do is just return we'll return up
just an empty div all right so once we
do that we can then move on and fetch
our users and put them we're going to
use what's called a map function to to
iterate through them all right because
we want to take that array we want to
iterate through it and then spit out
one-by-one the users so right here what
we'll do is create a variable call it
user nodes and let's set it to this dot
props dot users and then we're going to
call dot map all right and then inside
map we're going to have a function
and we need to specify what we want to
call each individual user which of
course will just say user and then we're
going to return I'm going to return and
then this is where we're going to
include our contact
I'm sorry our user component so user and
that's going to come from this user J S
component which we haven't created yet
but what we're going to do is say user
let's pass in the name so we'll set that
to user dot name and we'll pass in the
email user dot email and let's pass in a
key and we'll set that to user dot ID
all right and these are all coming from
if you look at the the API results here
we have an ID name email you have some
other stuff too but I'm going to try to
keep this short
all right so then we need our closing
user tag and then in here we're just
going to say user dot name okay and then
down here let's put an h1 will say users
and then we can say user nodes okay so
what this is doing is it's trying to
render a component called user so if we
go and we reload let's see
I think it would give us an error all
right here so it's saying user not
defined okay so what we need to do is
create that user component so I'm just
going to copy what we have in here paste
it in user change that to user and then
get rid of all this we don't need any of
that and then in here we can render
whatever we want from the user so let's
say this dot props dot name okay
remember we passed in the name right
here so that means we have access to it
using this dot props and then whatever
this so name we also have access to
email and key so let's save that and
then in order to use this we have to
import user so poor user from user save
that and there we go so now we're
printing out all those users from that
user state all right we should also be
able to put the email so if we go to our
user component and we'll just say I'll
just put a dash and then we'll say this
dot prompt dot email save and now you
can see we're getting their emails all
right so I'm going to go ahead and stop
here and hopefully this gives you an
idea of how react and redux work
together and how you could start to
build a real application with it and if
this stuff interests you I do have other
react videos on my channel and I also
have courses available at EDX comm which
I'll try to put in the in the
description alright so I may take this
further later on I'm not sure I may add
to it but I don't know hopefully you
guys enjoyed this and learned a little
something and I'll see you next time
Thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>