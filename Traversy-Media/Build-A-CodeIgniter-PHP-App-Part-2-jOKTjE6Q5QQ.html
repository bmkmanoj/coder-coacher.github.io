<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build A CodeIgniter PHP App - Part 2 | Coder Coacher - Coaching Coders</title><meta content="Build A CodeIgniter PHP App - Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Build A CodeIgniter PHP App - Part 2</b></h2><h5 class="post__date">2016-11-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jOKTjE6Q5QQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to part 2 of the
CodeIgniter blog freestyle coding series
in the last video we set up code ignitor
we created the pages controller with
some views so we could add static pages
we also created a post controller we
created a model database table for our
posts and we made it so that we can list
them on the post page and we can also
click read more and we can read the
individual post so what I want to do now
is make it so that we can add them
through our application alright so let's
go to our post controller and we're
going to go down here and let's create a
function called create right now let's
just take that we'll have a title and
then we'll take all the views and I'll
paste that in and let's change this to
create post and let's load post slash
create alright and then we're going to
go to our views folder posts and we're
going to create a file save it as create
dot PHP let's put an H to put title okay
now we're going to want a route for this
so let's go to config routes and copy
that and we'll say post slash create
that will go to posts slash create
whoops post okay so that's that didn't
work either post slash create alright
know what let's actually put this up at
the top so that it sees that first there
we go alright so create post now we need
a forum let's just grab a form from get
bootstrap alright so grab this and let's
go and paste that in here and then we're
going to change this stuff up get rid of
the for attribute and label and this is
going to be title and let's make it a
text get rid of the ID placeholder we'll
say add title we also want to give it a
name okay we're going to give it a name
of title and then the next field is
going to be for the body and that's
going to be a text area so we'll change
that and that has to have a closing tag
for the placeholder we'll say add body
we don't need an ID but we do need a
name the type is going to be actually we
don't need a type because it's a text
area okay and then we'll get rid of this
and this
let's take a look now I want to use the
forum helper so let's go ahead and add
that to auto load so right after URL
will say forum all right and then back
in the create instead of using a form
tag like this we're going to say PHP
echo form underscore open and we want to
pass in here post slash create okay and
then down here we want to actually we'll
just keep that that's fine let's make
sure that it still shows up and if we
look at the source code you'll see that
the form action goes to post create and
it's a method of post now we want to set
up form validation so we need to put in
our template a place where the errors
can show so we're going to go right
above the forum and we're going to say
PHP echo validation errors just like
that alright then we're going to go back
to the controller to the create method
and we want to load the form validation
library we could do it here but I'm just
going to do it in the auto load so where
it says libraries we're just going to
put in form validation okay we'll save
that and now what we want to do is
create our rules for validation so let's
do this form validation and we want to
use set rules
okay so this is going to be a rule for
the title and then we want to put
basically a readable form of the of the
name here so we're just going to put on
uppercase T and the rule that we want to
set is required okay it has to be
required and we're going to do the same
thing for the body all right now we want
to do is check to see if the validation
has ran so basically if the form has
been submitted if it has then we want to
move along and call a model function to
insert so we're going to put an if
statement here and let's say this form
validation run okay so we're going to
say if it's equal to false so if it
doesn't run then we just want to load
the template so we'll just copy or cut
that out and put that up here all right
and if it does run that means the forms
submitted then we're going to call and
if the form submitted and the validation
is passed then we're going to say this
post model and we're going to have a
function called set post all right and
then we want to we want to load a
success view so we're going to say this
load view
and it will pass in here host slash
success so let's save that and reload
this page okay so it's still giving us
the forum it's doing this because
validation hasn't ran we haven't
submitted the form so before we submit
the form we need to create the set post
okay actually let's call this create
post I think that makes more sense okay
so now we're going to go into our model
and we're going to create that now
before we actually insert into the
database we need to create the slug
okay so slug and we want that we want to
wrap this in URL title okay we're going
to pass in this this input post this is
how we get the form values and we want
the value of title all right so we're
just wrapping the title in this URL
title function which turns it into a
slug alright then we're going to create
an array called data and we're going to
pass in title and we want to get that
from the form so again we'll use this
input post title all right and then we
also want the slug and that's going to
come from that slug variable that we
just created and then of course we need
the body which will come from the form
again so this input post body
okay so there's our array and we just
need to pass this we're going to say
return this DB insert okay so we want to
insert it we need the table name which
is posts and then we need to just pass
in the data all right and that should
create the the record for us so let's
save that okay and actually you know
what instead of doing a success page
let's just we'll just load the index
let's copy that okay so we'll just paste
that in or you know what we'll do a
redirect so if I remember correctly we
can just say redirect and it'll say
let's see where do we want to redirect
posts slash actually just post I think
that'll work so let's save it alright so
let's go back and let's test this thing
out okay so post slash create and let's
say post actually you know what let's
try submitting it without the data first
and there's our errors the title field
is required bodies required if we just
do the title we get body good so let's
say post three
and will submit and there it is post
three now I'd like to have the latest up
top so I believe if we go to post model
and to get posts let's see I think we
can go up here and then just save this
DB and then do order underscore buy okay
we want to order by ID and let's see
desc
it's also yeah that you're doing so
let's go ahead and reload and now we
have post three up at the top I want to
be able to delete them as well so on
this page here I want to have a delete
button so let's close all this out for
now and then we'll go to let's see views
posts view let's go down at the bottom
we'll put an HR here and I think what
I'm going to do is instead of having a
link that goes to a get request which is
extremely unsafe we're going to have a
forum with just a delete button alright
actually let's use the forum open
alright so this will go to slash post /
delete and let's do slash and then the
ID so I think we should be able to a
catenate post ID alright and then we're
going to want input type button or
submit value delete and let's do class
BTN BTN - danger okay so now we have a
delete button and if we click it it goes
to post delete three okay let's make
sure that the method is post which it is
alright so now we're going to go to our
post controller and let's say public
function delete and we should be getting
that ID as a parameter through here so
let´s do echo ID okay so there it is
now we're going to call this post model
and we'll say delete post okay and we'll
pass along that ID now we'll go to the
model so public function delete post
takes in the ID and let's do this
DB we're okay so I want to say where ID
is equal to ID and then this DB delete
and then the table name which is post
and then we'll return true okay so let's
go back here and then let's redirect to
post alright so hopefully this works not
exactly Sheriff it will so blog let's
say post three click delete and it's
gone cool so that was pretty easy now
let's do an edit so put an edit button
as well on the view page okay now for
this we're not going to do a form we're
going to do a link
okay so that's going to go to posts
slash edit and let's do slash and then
the ID which will be this and let's give
this a class of BTN BTN default alright
now I want it to float so let's do class
I think we can do pull see what that
does
now that doesn't work I could have swore
that's a bootstrap class actually let's
add to the what if we put it on the
other side there we go good so that's
going to go to posts edit and then the
ID so let's go and add that over here
public function edit and then I'll take
in the ID now this is going to we want
to load an edit view so let's go to
views posts create file call it edit dot
PHP okay and let's copy everything we
have in the create for the edit okay
we'll save that and now back in the
controller we're going to copy what we
have let's see we're going to copy what
we have in the view because we need to
get the post as well as display the form
so let's copy that
and we're going to get the post here
we're going to check for it send the 404
if it's not and then for the title I'm
just going to have the title say edit
post alright and then we want to load
post / edit okay we'll save that alright
you know what this isn't going to work
actually because we're looking for a
slug right here so I mean I guess we
could pass the slug instead of the ID
yeah let's do that
so slug and then we have to go back to
the view right here and change this to
slug there we go
so now we want to put the values in the
forum so we'll go to edit PHP and let's
say right here value equals PHP echo and
we should be able to do post title okay
we'll grab that and then put that down
in the body and change the title to body
there we go
now I want this to to be submitted
somewhere else I want it to be submitted
to post / update all right so let's go
over to our controller and we'll add in
public function update and for now let's
just echo
submitted post slash update all right so
we I think we need to add a route for
that so let's just copy this say posts
update now this is going to be let's say
we want this to go to posts slash update
and it's going to be a post request so
I'm not sure if that will do let's go
ahead and try it okay so it does work
all right so let's go back to the
controller and now that's getting
submitted now we want to pass along the
ID as well so what we'll have to do is
pass that as a hidden field so let's go
right here and we'll say input type
equals hidden and name is going to be ID
value is going to be the actual ID so we
want to say echo post ID
okay so we got type hidden' name ID
value I think that should do it so let's
go ahead and save that and then in the
controller we want to want to call our
model function so this post model and
we'll say update post
okay save it and then inside our model
let's say public function update post
and I just want to test this to see if
we can get the ID so this input host ID
alright and then we'll just kill the
script
okay reload submit okay good so we're
able to get the ID so now we just need
to do our update so we want to create an
array just like we did in the create
okay so we can get the title the slug
yeah I guess you know what I guess we'll
do that as well we'll grab that but the
slug is not going to we're not gonna be
able to edit the slug directly we can
edit the title and then change the slug
based on the title alright so then we
have that and then let's copy this
change it to update okay and except we
need to include a where clause so let's
grab that and we're ID equals this input
post ID
all right so hopefully that works
okay so then after that you just want to
redirect back to posts all right let's
try it okay so let's see we want to edit
post to let's click Edit and we'll just
add right here this has been edited and
submit and this has been edited all
right so our application can now do full
crud functionality create read update
and delete now we're going to want to
link to to create a post so let's go to
our let's see we'll go to our header and
I'm going to go under this ul and put
another ul we'll give it a class of nav
nav bar
- nav and then also nav bar right ok
because I want this to be on the right
side and let's just copy that and this
is going to go to base URL posts slash
create ok we'll change this to create
post ok so now we have a link to create
post so what I would like to do now
before we end this part I'd like to have
an HTML editor because right now we just
have a regular text area and we can't
really do much in terms of formatting
and all that so let's look into CK
editor and I haven't used this for a
long time so let's see we're going to go
ahead and download it we want the
standard package
and it looks like we can just use the
CDN so let's grab that okay we'll put
that in our header
and I'm just going to add right here
HTTP colon okay it so make sure we have
no script errors good now to use this
let me see if I remember I haven't used
this in a while I think we just have to
add actually let's take a look at the
documentation
let's see our samples
okay so let's look at this alright so we
included the script and then I think we
just need to add this right here
ckeditor dot replace and then I think AK
Latin ID all right so let's copy that
and we're going to put this actually in
the footer right above the ending body
and let's change this to actually editor
one is fine so we'll save that and then
we should be able to go to our view
which is our create and where we have
our text area will add the ID of editor
1 okay so let's go back and reload and
there we go
you now have a text editor awesome so
let's create a title we'll say post for
this is a new post using the CK editor
let's try to bold and CK editor will
make that italic and then you can you
view the source code as well that's cool
what else paste
different for font formats let's say
this is a heading and submit okay so now
we can format our text using that editor
so we also want to be able to use it in
the update so let's do let's grab that
editor 1 ID and go to edit and paste
that in here as well so that way when we
go to edit we also get the editor get
rid of that submit awesome
so hopefully you guys enjoyed this there
are some other things I'd like to do I'd
like to add comment functionality I'd
also like to implement a user login so I
will look into that I'm not going to get
to it right the second but hopefully I
will soon so please leave a like
subscribe whatever you can do I'm also
going to leave a link to my PHP
frameworks project course it as you want
I think it's ten projects using
frameworks like codeigniter Symphony
cake PHP and so on alright so I would
suggest that you check that out as well
alright so thanks for watching and I'll
see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>