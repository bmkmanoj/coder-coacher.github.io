<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learning D3 Part 7 - Transitions | Coder Coacher - Coaching Coders</title><meta content="Learning D3 Part 7 - Transitions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Learning D3 Part 7 - Transitions</b></h2><h5 class="post__date">2015-12-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5pNz_Dyf9_c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome back to learning d3 in
the last video we added some scales to
our chart so that we can add data and
give it a dynamic functionality now what
I want to do is just implement a little
bit of in transitions or animation for
when the shot the chart comes into view
and also a tooltip when we hover over
each bar to get that data for that
particular bar alright so first thing
I'm going to do is create a variable
called tooltip and we're going to select
the body of the document and then we're
going to just appended it
all right and we're just gonna set a
bunch of styles on this alright so I'm
gonna say style and actually let me just
copy this
okay first thing we're going to want to
do here is set the position to absolute
okay because we want each tool tip to be
directly over the bar all right and
let's see you next we're going to let's
add a background and let's see we'll
just make that
let's see we'll just make that like gray
and next thing is gonna be some padding
and I'm gonna set that to 5 and 15
actually needs to put in pixels
okay so let's also give it a border for
the border we'll do 1 pixel and you'll
do dark gray solid next thing is gonna
be the border radius and I'm just gonna
set that to 5 pixels and then the
opacity I'm gonna set that to zero to
start with because we don't want it in
view when the page loads okay we only
want to come in when we hover over it
now to get that functionality we need to
create some events all right so we're
gonna go down and we're just going to
add on to this right here and let's say
dot on and then the event
this is gonna be mouse over
okay so you can just simply add on
events like this with the on method all
right so when we hover this we're going
to want to say tooltip dots transition
and we want to style and all we want to
do is bring it into view so we're going
to say opacity one all right
next let's do the HTML alright so we'll
say dot HTML and all we're gonna do here
is pass in the data actually know what
let's let's do this
tooltip dot HTML data and then let's do
dot style and we want to set the left
position to what we want to do here is
get the page x value so we're going to
use d3 dot event dot page X and then we
just want to add on px pixels all right
so this is going to take care of the the
X access positioning now for the Y
access say style top and we'll set this
one actually you know what this needs
parentheses here and here
all right and then for this one let's
see we're gonna do the same thing gonna
say D 3 dot vent dot page Y and also add
the PX
okay so that'll take care of the
positioning and that the content now
when we hover over a certain bar I want
it to just fade out a little bit just so
we know which one Rovers so let's add to
this I'm just gonna put a g3 dot select
and we want to pass in this and we'll
set got style I'm gonna set opacity and
we'll set that to let's do 0.5
all right so let's go ahead and save
that and see what we get
all right so we're getting D is not
defined and the reason for that is we
need to pass in D right here
there we go
awesome okay so you can see the bar is
fading and we also get the data point
now you'll notice that it it stays faded
and we don't want that so what we're
gonna do is add up my mouse out a bet
so we'll say dot on Mouse out function
and same thing we gotta pass him D and
let's say tooltip docs transition and
now what we want to do is set the
opacity back to zero
and let's see we're also going to want
to
let's say d3 dot select this and we want
to set this opacity back to one
so this style is for the tooltip and
this is for the actual bar all right so
let's save that reload
and there we go you can see it just
changes when you mouse out all right so
that's working great
so now what I want to do is when we
actually load the chart I want to give
it a cool little animation and that's
really easy to do let's just go down to
the bottom here and we're gonna say my
chart dot transition
I spell that right transition yeah okay
so let's give it an attribute of height
and we'll set that to function passing D
and we're going to return the y scale
wrapped around the D and let's say dot
adder and this will be for the let's see
this will be the Y attributes and excuse
me we have function and passing the D
and then we're going to turn the height
and then we're going to take away the
y-scale wrapped around the D okay now I
it's the only of my chart dot transition
we actually have to put this whole thing
into a variable called my chart
all right and then we're gonna have to
change some of this so we're gonna set
the height attribute since we're doing
that down there we're going to set this
to zero and then the Y we're just gonna
set that to height to the height
variable like that and let's see X will
stay the same
alright let's just let's try that
all right so you see how we get that
little animation now we can slow it down
because right now it's really fast so
let's go down here and actually not
let's create a variable here and we'll
save I say animates the duration
and it'll set that to 700 and then we
can also have a delay so say animate
delay and we'll set that to 30 and then
down here say duration it's gonna be
animate duration and then dot delay is
going to take a function
and for this what we want to do is
return eye x animate delay alright and
then finally we can give it a little
kind of effect and we can do that with
ease and let's say we want elastic okay
that'll give it a nice little effect
alright so see how it comes in kind of
bounces all right so we're getting there
we have our tooltip we have a little
effect in the next video I'm going to
show you how we can create axes okay so
we can have our our ticks over here and
on the bottom alright so we we can see
these values over here and we'll have
some measurement alright so thanks for
watching please subscribe if you like
the videos leave a like leave a comment
whatever you can do alright so I will
see you in the next part</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>