<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Redux Crash Course With React | Coder Coacher - Coaching Coders</title><meta content="Redux Crash Course With React - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Redux Crash Course With React</b></h2><h5 class="post__date">2018-03-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/93p3LxR9xfM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">coding dojo is a programming school that
turns beginners into developers in only
14 weeks over 90% of their grads land
jobs within three months of graduating
often making over seventy K per year to
learn more visit coding dojo com or
click the link in the description below
hey what's going on guys so I've wanted
to make a Redux with react tutorial for
beginners for a while now and I've tried
this quite a bit but I can't seem to
explain all of the rial all of Redux in
a practical way that's not overwhelming
to people that are just trying to learn
it and it's something that I struggled
with for a while and now that I
understand that it's it's kind of kind
of struggling to explain it so I'm gonna
go with just a little bit of theory and
in what it is and why we use Redux and
then just simply implement it into a
brand new react component all right in
the key audience for this video is
people that already know the basics of
react but are either unfamiliar with
Redux or they're struggling with it or
they're they're just getting into it if
you already know Redux this you're gonna
know all this stuff anyways but still
feel free to watch now I think the
biggest issue with Redux at least for me
it was that the amount of boilerplate or
setup as well as all the terminology at
least from my experience a few years ago
when I learned react I really liked it I
thought it was easy to learn you know it
was very powerful and when when Redux
was thrown at me I got all these brand
new terms like store and actions
reducers containers all these new
concepts and then you have the crazy
boilerplate set up and it kind of
redefines building a react application
and it was a little disappointing
honestly but once you get the hang of it
and you get over that boilerplate and
all the terms it's very beneficial for
large applications in fact it's it's
it's pretty much mandatory for large
Apple applications where you have a lot
of components that need to interact with
each other need to share the same state
and so on
alright so basically the over
all idea and purpose of Redux is pretty
simple in react you have components
which have their own state and let's say
you have a form a form component you'll
have state that holds like the value of
each field typically your data is stored
in your state as well maybe it's from a
request from an API or something like
that now when you have a large
application with a lot of different
components managing individual component
State is very difficult and it gets very
messy and that's where Redux comes in or
any state manager fluxes another one
which I really don't like that's much
worse than Redux
instead of component level state you get
application level state as a one-way
data flow okay and state is immutable it
comes from the top down and you don't
really change it it's just kind of
recreated alright so let's take a look
at a diagram here so I can kind of
explain it in a relatively simple way
now down here you have your view which
is basically your react components and
then you have your store which includes
your state and it sends the state down
to your component alright now inside
your component you may have a button
that you click or a form that that's to
be submitted and that that will fire off
an action ok or an action creator which
will display an hour I'm sorry dispatch
an action to the store all right now you
have these reducers which are pure
functions that specify how the
application State should change in
response to that action all right and
then the reducers respond with that new
State and like I said State is immutable
so it can't really be modified it's
basically recreated as new state and in
turn that gets sent down to your
component and your component will react
accordingly to that state ok whether
it's fetching posts or fetching data
from a server or an API whether it's
changing a form from an edit state to
create state or whatever it may be a
state state is basically just a
JavaScript array or a JavaScript object
with values in it all right so hopefully
that didn't just confuse the out of
you and turn you off from Redux forever
let's jump into some code and hopefully
it'll make a little bit more sense all
right so I think the best way to do this
is just to create an application from
scratch using the create react app CLI
and then what we'll do is create a
couple components before we introduce
redux so we're gonna create a post
component which will fetch a list of
posts from this Jason placeholder API
which is just basically a fake rest api
and then we also want a form component
to add a post now this is a good example
of when to use redux when you want to
basically share state between components
so we want to be able to add a post
through the form but the form is a
completely separate component than the
list but when we add a post through the
form the list should update so it's
basically going to go up into redux it's
gonna we're going to create an action
when we submit the form the reducer will
then change the state it'll come down to
the to the post component alright so
let's go ahead and get started here now
you're gonna need the create react app
CLI if you don't have that just do an
NPM install - G create - react - app and
that will get that installed globally I
already have it installed so that'll go
really quick so once you do that you
just want to run Create react app and
then name your application I'm just
going to call this Redux example
and we will be writing quite a bit of
just regular react code before we
implement Redux just because I want to
kind of show you the difference we will
make in the fete request from the actual
post component at first and then we'll
move it to a redux action
so now let's CD into redux example and
let's go ahead and open up visual studio
code which is the text editor I'm using
and if you're using this with react so
one of the extensions that I recommend
is the es 7 right here es 7 react Redux
graph QL extension it includes just a
bunch of different snippets for creating
react components stuff to do with react
native prop types graph QL even just
regular console commands it's a really
handy extension ok so let's go ahead and
I'm gonna open up my integrated terminal
now and I'm just gonna run NPM start to
start up our react dev server and
that'll open up on port 3000 by default
and there we go so there's our
boilerplate application now what we'll
do is go into source and let's create a
new folder called components and inside
components we're gonna create two files
one is gonna be post j/s that's our post
component and let's also create post
form j/s so we'll start out with posts
now with the react extension 4 vs code i
can do our CC tab and that will give me
a class-based component if I wanted a
functional base component I could do our
FC tab and that will give us a function
alright but we want a class so the
component name is gonna be posts and
what I'm gonna do is just get rid of the
export default right here
and then we're gonna put that down at
the bottom whoops I'm gonna put that
down here and export default posts like
that alright so in here let's just put
an h1 for now and we'll just save posts
so now what I'm gonna do is bring it
into my main app j/s component so we'll
say import posts from component slash
posts and then down here I'm just gonna
replace this whole paragraph right here
yeah so we'll just we'll just get rid of
that and we'll put in our post component
and this is not an intro to react video
so I'm assuming that you guys at least
know the basics of react so now our come
our post component is showing so I'm
going to go back to that component and
what we want to do is when it renders or
I'm sorry when it mounts we want to make
our request to the API to fetch our
posts so that's gonna go into a
lifecycle method called component will
mount okay and this will run right away
when the component mounts so if we say
console.log one two three and we go over
here and we look at our console you can
see that that's that's run okay so this
is where we want to make our fetch
request I'm just going to use the fetch
API you could use Axios if you want so
let's do fetch and we want the URL which
is C we want posts so we want to grab
this right here and that's gonna be our
URL and then fetch returns promise so
it'll give us a result that we need to
map to Jason and then another then dot
then and that will give us our data and
then we can console dot log the data so
if I save that we go back to our
application you'll see that it's logging
a hundred different posts okay so that's
the default it's gonna grab a hundred
so what we want to do is is put this
into the component state now we haven't
implemented Redux yet when we do we're
going to put it into the application
state using Redux but for now let's just
put it in the component state so we need
a constructor and this constructor will
take in props and we'll say super props
and then for the state we can just say
this dot state equals an object and then
posts is just going to be an empty array
by default now when we make our request
we want to fill that that post value
with the data so in here we can save
this dot set state and we want to set
posts to the data that comes in which is
this array down here all right now that
on its own isn't going to show anything
we need to add to our render here so
what I'll do is go above the return and
create a variable called post items and
we basically just want to map through
our posts so we'll say this dot state
dot posts which we can access now and
then we're gonna do a dot map and inside
the map we're gonna put we're gonna use
post as our variable and then we're
gonna use a little bit of JSX here so
we'll say div we have to give it a
unique key ok whenever we loop through
something like this it has to have a
unique key or react to a bitch about it
so we actually don't want quotes this is
gonna be the post ID and then in here
let's just put in h3 and it's not
working
h3 and this is where the post title will
go and then we'll just put a paragraph
and this is where the post body will go
okay and if we look at the the post that
we get you can see we have title body ID
there's also a user ID but we're not
we're not gonna use that so now that we
have that let's insert it down here
under the h1 by just saying posts post
items like that and there we go so now
we're fetching the post and we're
putting them into our component into
into the render one thing I want to do
is just go to the apps CSS file I don't
care about the style really I'm not
gonna use like bootstrap or anything
this is all for functionality not looks
but I am just gonna get rid of this text
center and just set the width to ninety
percent in the margin to auto all right
so now what we want to do is just add a
form above it so we'll go to our post
form sometimes it does this this isn't
working now so I'll just copy the post
component I guess and we'll just change
this to post form and we don't need the
component we'll mount and then we don't
need this post items in the render we'll
get rid of this as well and we'll just
put an h1 that says add post and then of
course we need to change the export to
post form all right and then for the
state we don't need the list of the
array of posts anymore so we'll get rid
of that so we'll save and then go back
to our app j/s and we're going to bring
that in as well so post form
posts form and then we'll just insert it
right above the post down here and I'll
just put a an HR separating them let's
see what I do wrong does not match oh
this should be a lowercase F because
that's the file name there we go so now
our ad post is here so let's add the
form below it so let's see we're just
gonna create a very very simple form
it's not gonna be pretty
I'll say form and we'll have label which
it's let's do uh let's do a div and then
inside here we'll have a label and will
just say title and we'll put a line
break here and then an input type will
be 'text I'll add the react stuff to the
inputs after I'm just gonna I just want
the form to show for now so under that
let's see we can let's copy this
and this will be the body and this will
be a text area actually and these these
need names as well so this will be named
body this one will be named title and
then let's see under this div we'll put
a button let's put a line break and
button it'll have a type of submit and
let's just say submit and save ok so now
we have our ugly form that's fine
actually put a line break here there
alright so what we want to do is each of
these input values are going to be part
of our components state so up here we'll
say state title which will be blank by
default body which will be blank and
then for the inputs we want to put the
value so the value is gonna be equal to
we don't want any quotes it's gonna be
equal to this dot state dot title and
then this one here will say value equals
keep putting quotes this dot state dot
body all right now if I save this and I
go and I try to enter something I can't
because what we need to do is add an on
change event I know a lot of you guys
know this stuff but just for those of
you that don't we're gonna create an on
change so we'll put that right here on
change equals this dots on change
all right and then see we'll just we'll
just copy that and put that down here as
well okay and then we need to bind this
now we could do it there but I usually
like to do it in the constructor so
we'll go ahead and say this dot on
change equals this dot on change bind
this or else when we use this inside of
it it's not going to know what we're
talking about so let's say on change and
that's going to take in an event
parameter and then what I'm gonna do
here is we need to set the state so
we're gonna say this set state and we
basically want to have the name of the
input now instead of creating separate
on change ver functions for each one I'm
just gonna grab the name using a dot
target so we can actually go like this
we can use brackets and say e dot target
dot name and we want to set that to the
value whatever the value of the form so
ER the input so e dot target dot value
so now if we go back we can actually
type inside okay and it's changing the
state if I if I go to my react extension
why am I getting that blue line right
here is my internet out or something I
hope never mind all right so if I look
at my react Chrome extension and we look
at the post form you can see that the
state and the title as if I whatever I
put in here is gonna be added as the
title and the body State okay so next
thing we want to do is create the on
submit so that when we submit this it
makes a post request to the JSON
placeholder API because as you can see
it can take
post request now it doesn't actually get
added to the database but it will give
us a response back with the the post
that we add along with the new ID which
will always be 101 because there's a
hundred stored so the next one obviously
is 101 so let's go ahead and go to our
forum tag and we'll say on submits
equals this dot on submit and then up
here we'll put in our on submit and
that'll take an event parameter and
again we have to bind this so just like
we did with the on change or just gonna
do that to the on submit all right and
then here we're going to first of all
prevent the default action and then we
want to create a post variable and we're
gonna set that to what we want to submit
which is the title and body so we can
get the title from the state because now
it's in the state and the body okay and
then what we'll do is make our fetch
request so the URL is gonna be the same
it's gonna be this here except now we're
going to be making a post request so we
need to add some additional stuff here
we need a second parameter of an object
and we need to specify the method which
is gonna be post and then we're gonna
specify headers because we need the
content type alright so we're gonna say
content - type and we need to let it
know that it's gonna be jason so that's
gonna be application slash jason alright
and then we need one more thing here
which is gonna be the body that's the
actual data and that's gonna be our
posts now we just want to wrap this in a
function called jason dot string of
and prepare it to be sent so we're gonna
make sure that that's a Jason string
okay and then we'll get our response so
we need to do a dot then and remember we
get the response it's not the actual
data yet we need to tell it that we want
Jason data and then literally then we're
gonna get the data back and let's just
console.log that oops all right so let's
make sure that we can actually make the
post request and get the data back so
when the console will stay test test and
submit and there we go so it gives us
back the title body and the new ID which
is 101 all right so that's all I'm gonna
do as far as just reacts and now we want
to implement redux because we want to be
able to submit this and we want it to
get added to the post down here which is
a completely separate component all
right we also want to fetch our posts
from a post action file okay because in
redux we're gonna have actions okay so
when we submit the form that'll be in
action when we actually just fetch the
post when the page loads that's an
action will also have reducers which
will basically define our state that's
going to be sent back based on that
action so let's start with just
implement Alling redux there's a couple
things we need to install so I'm gonna
stop the server and I'm just gonna close
everything out right now except for the
main app j/s file and we're gonna open
up the sidebar again here let's make
this bigger she'll just make this
fullscreen so we want all the clearing
isn't working again
eat that when that happens so we want to
install a few things so let's say npm
install and we want redux we want react
redux which is the library that that
binds them together redux itself has
nothing to do with react you can use
redux on its own or with other
frameworks it just works really well
with react because we have this reactor
redux library another thing we want is
redux
- thunk which is actually middleware for
redux which allows us to directly access
the The Dispatch method so that we can
make asynchronous calls from our actions
and I'll explain more about that in a
little bit but let's install these three
things okay that's the first step to
implementing redux alright so now that
we've done that what we want to do is
bring in what's called a provider so the
provider is it's actually a react
component and it's it's basically the
glue for react and redux so we want to
bring that into our main app file so
we're gonna say import provider and
that's gonna be from the reactor Redux
library okay now once we do that we need
to wrap everything here with inside of
that provider component so right now
right in the return here we're gonna do
provider and then we want to wrap it so
we want the ending tag down here like
that
okay now the provider takes what's
called the store ok and the store holds
the state so what I'm gonna do is I'm
gonna say provider and then store equals
store
okay so if we run this say NPM start all
react scripts is sometimes it does this
react scripts does not recognize if that
happens guys just go ahead and run npm
install again I'm not exactly sure why
that happens all right so once that's
done let's run NPM start and now it
should start our server backup now it's
telling us store is not defined and you
guys probably saw that coming because it
has no idea what this is now the store
let me just show you now I'm gonna go to
the documentation here let's see Redux
talks API and if we click on store this
gives you some information about the
store it holds the whole state tree of
your application the only way to change
the state inside it is to dispatch an
action to it okay so and we'll create
some actions in a little bit but
basically we create the store using a
function called create store and let me
see I think they have a page for that
yeah right here so create store takes in
three things a root reducer
okay so we'll have a root reducer and
then you create other reducers based on
your resources so we're gonna have a
post reducer if you have authentication
you might have an author ado sir you
might have it I don't know to dues
reducer and you'll combine all of those
together into a root reducer and pass it
to your store
it also takes in this pre-loaded state
which is just your initial State okay
whatever your initial state is and then
any enhancer functions that you want to
include so the third party that have
third party capabilities I'm actually
going to show you how to use the redux
chrome extension and it's not something
you can just install and use you have to
actually use it at you have to
as an enhancer right now well actually
once I get this running I'll show you
but we can make this work by just saying
Const store equals create store which I
actually have to bring in and we could
pass in just kind of a dummy function
here so we'll just put in an arrow
function to an empty array and then the
second one again is initial state and
then any enhancers which we're gonna use
apply middleware okay which we also have
to bring in so create store and apply
middleware that's part of redux so we
have to bring that in here so we'll say
import create store and apply middleware
and that's gonna be from redux
all right so if I save this it should at
least be able to run let me just make
sure all right so it's at least able to
run it's not doing anything but at least
we've brought in our provider we wrapped
our entire application basically and we
added this store which just is nothing
has nothing in it now normally what we
would do is create or what I would do is
create a separate store file now Redux
and react there's just a million
different ways to do things so you may
do things a little different but it
doesn't make it doesn't make one thing
right or one thing wrong what what I do
is create a file here called store dot J
s and we're kind of going to move what
we just did into that store so we'll
grab that and bring that in and then
we're just gonna actually get rid of
this con straight here I just wanted to
show you that we could get it just at
least working but we want to now import
the store from that file which is dot
slash store all right and then inside
storage a s we want to bring that stuff
in from redux we also want to bring in
thunk which remember we installed Redux
thunk so I'm gonna say import thunk from
redux - thunk
and then let's create a variable for our
initial state here if we wanted to have
something here but it's just going to be
an empty object and then I also like to
create an array of middleware that we're
going to use which in this case is just
going to be thunk so we're just gonna
pass that in like that and then we're
gonna create our store variable and set
it to create store just like you saw and
remember it takes in those three things
first will be the route reducer so we're
gonna actually have we're gonna create
that in a second so let's say route
reducer and then the initial state and
then any enhancers okay which includes
apply middleware and we want to pass in
here we're gonna use the spread operator
and just say middleware okay because
where we put that inside of an array
here now all we need to do is export the
store and save all right so I'm sorry
export default store
and I spelt that wrong okay so obviously
we get the route reducer is not defined
because it's not we haven't created it
yet so let's create a folder in our
source not a file folder and let's call
this reducers and then what I like to do
is my route reducer I put inside a file
called index dot JSON say import route
reducer from dot slash reducers since
it's index dot J yes we can do we don't
even have to specify it we can just do
it like that all right now this is this
is a lot of boilerplate it's a lot of
setup and this is what really turned me
off from redux but try not to let this
bother you because once once you you get
it I mean and you don't even really have
to get it this is there's plenty of
boilerplate so you can create your own
boilerplate and just implement it so
that you don't have to type all this
stuff out every single time so just keep
that in mind now in the route reducer
what we want to do here is basically
just combine all of our reducers and
there's actually a function to do that
so we're going to import that so we're
gonna say imports combine reducers and
that's gonna be from redux
okay now we're gonna have a post reducer
so let's bring that in and that's gonna
be from dot slash post reducer and we'll
create that in a second and then all you
have to do is export defaults combine
reducers and then pass in an object with
the reducers and we can name it so I'm
gonna call my post reducers posts and
we'll use that later okay so that's all
we have to do in the route reducer now
of course we get the message can't can't
find post reducer so let's create that
inside the reducers folder and this is
where it's basically going to evaluate
any actions that are committed okay any
actions such as fetching our posts and
creating a new post those are the two
actions we're gonna have now for our
actions we create what are called types
and they're basically just constants so
inside the source folder let's create
another folder called actions and let's
create a file here called type CAS and
inside types j/s like I said it's just
it's just defining a couple constants
okay and we have to export them so we're
gonna say explore Const
and we're gonna have two actions or two
types one is gonna be fetch posts and
we're just gonna set it to a simple
string with the same thing fetch
underscore posts alright and we're gonna
have another one called new post so new
posts new post and that's it now we can
bring these in let's close that up and
bring it into our post reducer so inside
post reducer we're gonna import and we
want to bring in fetch underscore posts
and we want to bring in new underscore
post and that's gonna be from that types
file which is dot dot slash we want to
go outside of the reducers into the
actions and then two types okay now in
our post reducer we want to create our
initial State okay so our initial state
is going to be an object and we're gonna
have an items array so this is gonna
represent the posts that come in from
our action and our action will is where
we're going to put the fetch request and
then I'm also gonna have item which is
gonna be an object and that's gonna
represent I'm sorry just item not items
and that's gonna represent the post the
single posts that we add when we get the
response back it's gonna go in there
okay now we need a function so I'm gonna
say Explorer default function and this
basically evaluates what type that we're
dealing with so this takes in two things
it takes in the state which is equal to
our initial State
okay and then it also takes in the
action now the action will include a
type okay it has to have a type and
that's what we're evaluating so you
could do this in different ways but a
common way is to use a switch okay just
a regular JavaScript switch and we're
gonna look at the action dot type okay
action is going to be an object it'll
have a type which will be one of these
it'll also if if it includes data it'll
also have a payload but you can you can
add other stuff as well but it has to
have a type so we want to take a look at
which type is being passed so we want to
say for the case of fetch posts we want
to what do we want to do actually let's
not do this just yet because we don't
have the actions created we do want a
default though okay and the default is
just going to return the current state
and that's it so let's save that what
did I do here
the unexpected switch I spelt that wrong
okay so fetch post is define but never
use new put that's fine it just means
that we brought these in but we haven't
used them so now that our reducer is
basically ready to take in some types
let's go ahead and create our actions
files so inside actions we're going to
create post actions j/s okay
and again we're gonna have to import our
types so I'll just copy from the reducer
accept the types is actually in the
actions folder so we just want to do dot
slash types all right now each action or
action Creator is gonna be a function
that we need to explore so let's say
export function and we want one called
fetch posts okay now the thunk
middleware allows us to actually use or
call the dispatch function directly so
that we can make asynchronous requests
so in here we want to want to return
another function and we want to pass in
dispatch okay so dispatch you can kind
of think of it as like a resolver and a
promise whenever we want to send the
data we call dispatch just like if you
are in a promise you would call resolve
and then pass in whatever you want to
pass in in this case it'll be the type
and it'll be at the payload if there's
any data that we want to send okay so
this is actually where we want to create
our fetch so let's go back to our post
component put our posts and let's grab
this fetch right here okay so we want to
cut that and then we no longer need the
component we'll mount and we actually no
longer need a constructor because we
don't need the component state anymore
because the post is
come from redux it's gonna come from the
application state from the store so we
don't need that anymore so right now
things are gonna break it's not gonna
work obviously but we'll get to that so
in here what we want to do is paste in
the fetch okay and where we get the data
we're no longer going to use this set
state because that's used to set the
component state what we want to do is
dispatch the data to the reducer okay so
let's get rid of this and instead let's
say dispatch and we'll pass in this
takes in an object with the type that we
want to send and the type is gonna be
fetch underscore posts now we also want
to send the data okay because we're
getting this data right here actually
I'll call this post that makes more
sense and then you could call this
whatever you want you could do posts
posts like that but I'm gonna call it
payload okay I like to just call that
whatever data is coming in with the type
to the reducer I like to call payload
okay so this will actually be reduced
inside of this function now this kind of
looks weird and having this export
function fetch post we can clean this up
a little bit with es6 syntax so we can
actually get rid of the this return
function dispatch right here make sure
you get rid of the ending curly brace as
well and we can do export const fetch
posts
equals and then any parameters for a
fetch post would go in here but then we
also want to use an arrow and add
dispatch so dispatch and then another
arrow so this is this is the same thing
as as what you just saw just in a clock
cleaner way all right so now that we did
that we're going to be dispatching fetch
post to the reducer so now when the
reducer in our switch let's go ahead and
add the case of fetch underscore posts
and then what we want to do is return we
want to return the current state okay so
we can do that with the spread operator
was just three dots so we say state and
then we also want to add on two items
action dot payload okay remember we
called it payload inside the action
right here so if we call this post then
we could get we could do action dot
posts okay just like we sent the type
which is mandatory and that is B that's
what's being evaluated action dot type
okay hopefully that makes somewhat of
some sense and then that's it so we'll
save and now we have we basically have
to implement this in our post component
okay
so there's some things we need to do
here to actually get the posts from the
from the store now the first thing we
want to do in our components is we want
to import connect okay so the provider
we brought in from react Redux from that
library Connect also comes from that as
well and it does just that it connects
basically connects your components to
your Redux store that was provided by
the provider component all right now we
have an action that we want to call as
well which is this fetch post so we need
to bring that in as well so let's say
import
fetch posts and that's gonna be from
let's see it's gonna be dot dot slash
actions slash fetch posts right yeah no
I'm sorry
actions post actions now in order to
connect our component to the redux tour
instead of just exporting the component
here we actually need to export default
connect and then what we're going to do
is put two sets of parentheses the
second one is going to have the
component which is posts and in here we
want to put in I'm gonna put in null
this is where we actually want to map
our state to our properties I'm not
going to do that just yet the second
parameter is gonna be that fetch post
function okay now remember fetch posts
it just calls that the fetch request
right just like we were doing in the
component will mount well now we're
gonna go back up and we actually I
shouldn't have got rid of the component
will mount because we still are using it
we're just not doing the fetch there
we're gonna call fetch posts so let's
say components will mount and then this
this fetch post is gonna be placed into
a prop okay so we say this dot props
dots fetch posts like that to call that
action so let's just save this and see
what happens so we're going to get these
warnings new posts define never use
that's fine we just included it but
haven't used it yet if we go to our
application which is here let's see what
we're getting
cannot read property posts of null so
post items and that's to be expected
because we no longer have posts inside
of our component states okay and we'll
fix that in a minute but this fetch post
should be getting called if I were to go
to the action
fetch post and right before the fetch do
a console dot log and we'll just say
fetching and let's go back and let's
reload if we go up here before anything
you'll see fetching so it is in fact
calling that action now when that is
that action is called what it's doing is
fetching and then dispatching the type
and the payload to the reducer so let's
see if that's being called so we'll go
to the case of fetch posts and we'll
console dot log and let's say we'll just
say reducer just to make sure that
that's actually being dispatched and
that's actually working all right so if
we reload don't worry about any of this
right now and you'll see right here
reducer so we know that that's getting
called now what it's doing is returning
the state with the new with the items
that have been fetched so now we have to
go back to our components our post
component and we have to get the new
items from the state okay and the way
that we're going to do that is we're
gonna use something called map state to
props so we can get this the state from
redux and map it to properties of the
component and then we can use that
inside of our component so we would just
want to create down here a function
called map state to props
and we're gonna say it's gonna take our
state we're gonna use an arrow function
here and we're gonna pass in an object
and let's say posts we want to set that
to state dot posts now the reason I'm
using the word posts right here is
because in our reducer our route reducer
which is right here that's what we set
as our post reducer posts if I set this
to something else then that's what we
would be using in this in this spot
right here all right now what do we want
from our reducer we want the items
correct that's what we want to put
inside the post property of this
component so we're gonna say state dot
post dot items like that so now we
should now have a dist dot props dot
posts because we mapped the state the
pub the items from the state to the post
property so right here where we map
through the state posts that no longer
exists we want to change this to props
dot post
okay so let's save that and let's go
back to our application cannot read a
map of undefined let's see looks like I
did something wrong here Oh
once we create map state to props we
have to pass it in here
and there we go
so you can see now that our posts are
actually coming in okay they're coming
in from our redux state now we should
actually add our props to prop types in
react so we're gonna just go ahead and
import actually I'm going to put it up
here not there we're gonna say imports
prop types from prop - types and then
down here we're gonna say posts dots
prop types equals an object and remember
the fetch post function is actually a
property so we're going to say fetch
posts set that to prop types and it's a
function so we want to say func
and then let's say is required as well
okay and then we also have our post
property because remember we mapped the
state the items in the state to the post
property so we'll say prop types and
that's that's an array so we'll say dot
array is required okay so I know that
you're probably thinking that is a lot
just to fetch those those posts okay I
know you're thinking that because that's
what I was thinking but once you have
your initial structure set up you have
your actions you have your reducers what
if you want to add something new it's
easy you already have the boilerplate
all set up now one thing I want to do
before we do the add posts or the new
post action and reducer and all that I
want to implement the redux Chrome
extension all right so
let's see I already have it installed
but if you go to let's say Chrome
extension redux so it's the Redux dev
tools okay and it's very very helpful
because you can see your components
state you can see when you when you
submit an action you can see the
difference in the state what's changed
all that stuff now if I go ahead and I
open that I'm just gonna make this
bigger and you can see I have it
installed it's down here if I go to
Redux and I'm actually gonna put this on
the side here and it says no store found
make sure you follow the instructions
I'm just gonna make this big why can i
all right so it says make sure you
follow the instructions and you could
click and go to that page if you want
but I'm gonna show you those
instructions basically we need to
implement it into our application it's
not something that's just gonna work
right off the bat okay
so let's go back to Pete Jesus I have a
lot of stuff open here let me just close
some of this
yeah all right so what we want to do is
go to our app.js file not our app jsr
store and we want to add this redux
extension as an enhancer okay so to do
that we're gonna bring in something else
from redux called compose and then what
we want to do is go down to where we
have our apply middleware and we want to
wrap that in compose because we want
multiple enhancers here so we want to
wrap that and then we're gonna go ahead
and put a comma at the end here and then
this is where we want to implement the
redux dev tools so we want to do window
dot double underscore redux and this is
what its gonna tell you to do if you
follow that link dev tools underscore
extension double underscore double
ampersand window dot double underscore
redux dev tools extension and we want to
do double underscore and then
parentheses all right so now let's save
that and let's go back to Chrome and now
it's working okay so I'm just gonna
reload the page and you'll see that
fetch posts is being called that action
is being called and if we look at our
state we have inside posts now the
reason it says post is because that's
what we used as our post reducer name if
we called it something else it would say
something else and you can see in our
items we have all of our posts so this
is our application level state not a
single component and we also have item
which is empty okay but that's what
we're gonna take care of next when we
add a new post it'll get put into that
piece of State okay and there's other
things you can do testing just temp
testing and stuff like that
you can see the action fetch pose so
this is a really handy tool to use and
we'll be using this in in my next course
is quite a bit so now let's implement
new post okay so we'll go back to vs
code and we can close up the store file
and we're gonna go to post actions and
let's create a new action so I'll just I
guess I'll just copy that and instead of
fetch post this is gonna be called let's
call it create post okay and this is
actually gonna take in some data it's
gonna take in the post data because
remember we're submitting a post all
right now when we make our fetch request
it's not going to be this so we can get
rid of this what we'll do is go back to
our post form component and we're gonna
grab that fetch request so right here
alright so this ends right here so we
want to just completely cut that out
and let me just put a this is where
we're gonna call action I'll save that
we'll go back to our post actions and
we'll paste that in okay now once we
make the requests we're gonna get back
the data which will be the member the
single item the single post so we want
to then dispatch just like we did here
okay so we're gonna replace the console
log with the dispatch and this time the
type is gonna be new underscore post and
the payload instead of data remember it
gives us a single post back so we'll
just change this to post okay and we'll
change this to post and that will be the
payload the single post and that's it
that's our action so let's save it
let's see post is not defined
20 posts okay so right here it's saying
post is not defined because up here I
called it post data so we just want to
change that okay so now remember once
this happens it's going to dispatch to
the reducer new post so let's go to our
reducer our post reducer and let's add
in a new case for new underscore post
okay so what we're gonna do here now the
way since we're using JSON placeholder
it's a little different because it
doesn't actually add our new item to the
database so it's not like we can just
refetch our items so we're gonna do it a
little bit different we're going to
return just the new item and then we're
going to basically push that on to the
items that are to the post property
inside the post component so basically
we're just gonna return I could just
copy this we're just gonna return the
current state plus item is gonna be the
payload okay remember this payload is
gonna be that single post okay and
that's all we should have to do here so
we'll go ahead and save that and now our
post reducer should be done so we can
actually close this out and let's go
back to our post form component and
since we're using redux here we need to
bring in connect
okay from react redux
let's also bring in prop types and we
also need to bring in our action which
is create post
okay so create post comes from dot dot
slash action slash post actions slash
okay so now that we did that where we
called the fetch request before is where
we want to put our action okay so on
submit we're gonna then do this dot
props dot create post and then we're
gonna pass in that post object which is
this here okay so we're just replacing
the fetch with this because our fetch is
now inside of the action and then let's
go down to the bottom here and again
instead of just exporting the component
itself we want to explore connect we
want to put in here the component name
post form and then we want as a second
parameter the create post like that
and then we should add that as a prop
type
so we'll say post form dots prop types
create post prop types dots and that's a
function will say is required and save
alright now let's see if that gets
called so we'll go to let's post actions
and let's say console dot log I'll say
action called and save okay so if I go
actually we should see it here let's
just submit this and you'll see here we
don't even need the console a new post
was just called and if we look at the
diff this shows us basically what was
added and we added to our item in our
store if we look at the complete state
here you'll see our hundred items and
our new item and if we go to our console
you'll see action called ok so once you
if you're using this redux extension
which I would definitely recommend using
you don't really even need the console
logs and stuff like that you can use
this to debug your application and see
what's going on alright so we know that
that's being called so now what do we
want to do remember in our reducer where
we're now sending out the state with the
item so if we go back to our post
component okay this is the post
component we can get that single item
because it's being it's basically being
dispersed to all of our components and
again that's that that's the purpose of
redux so that you can have one basically
one single source of truth one
store one state that you can just send
to all your components so what we'll do
is in map state two props we're going to
also add a prop called new post okay and
that is gonna come from State DOT post
that's our reducer and we want item okay
that's the piece of state that we want
to put in this property so now that's
the property we'll add it here and
that's gonna be an object okay now let's
see now that we did that how do we want
to use this this new post what do we
want to do with this well I want to add
it to the list
now there's another life cycle method
and there's this like I said with react
and redux is there's so many ways to do
the same thing what I'm gonna do is I'm
gonna use another life cycle method
called component will receive props okay
so when it receives a new property from
the state this will run and it takes in
a parameter of next props okay so we can
actually access that new post property
here we want to check for it to see if
it's actually there so we'll say next
props
dots new posts okay so if it's there
then we want to just say this dot props
dot posts which is all of our posts all
of the items and we just want to add on
to it now we could do push but that a
lot that'll add on to the end I want to
add it to the beginning so I'm going to
use unshifted just simply do next
props dots
new post like that so now let's save
that and hopefully everything went okay
and now let's say test post this is a
test and let's submit and there it is
okay and you can see over here if we
look at the diff we have our item test
post this is a test it has the idea of
101 now if I submit another one you see
that it's going to get added the idea is
still going to be 101 though because
we're dealing with an API where we're
not actually updating their database so
it just gives us our request back with
the the next ID which is always going to
be 101 because we didn't really add
another post to their database so
there's no 102 so hopefully that makes
sense if this was a full-stack
application then obviously the next one
would be 102 and so on and in it's it's
a little confusing with this API but but
I couldn't really think of anything else
to test with this is pretty easy to test
with the Jason placeholder all right so
I mean that's pretty much it as far as
actions reducers types all that stuff
it's once you get the hang of it it's
not that bad and now you could see how
easy it was to add that functionality to
add a post we just added the action we
we sent the type and the payload to the
reducer and then the reducer we decided
how we wanted our state to come down and
we just wanted that single item to get
added to our state and then it reflected
in in the other component inside the
post component okay so hopefully you
guys enjoyed this and hopefully at least
some of it was understandable I find it
really hard to explain state managers
for some reason fluxes is even worse I
hate flux but you know Redux it is
necessary for larger applications so if
if this stuff interests you guys I'm
actually creating a course now a udemy
course it should be ready in about 25 30
days we're gonna create an entire social
network with react Redux and then we're
gonna have Express on the backend okay
it's going to be a complete merge stack
application and we're gonna be doing a
lot of this so if this confused you a
little bit that course will we'll be
doing a lot more of it so you'll be even
more confused from just kidding so
you'll actually be able to see it more
in action and you'll get the hang of it
and you'll see how beneficial it
actually is alright I apologize for the
long-ass video I probably didn't need to
start from scratch but again I I don't
like to just start in the middle and
have something already prepared I like
it I like you guys to be able to follow
along and you know be able to do
everything in the video so thanks guys
that's it and I will see you next time
coding dojo is a programming school that
turns beginners into developers in only
14 weeks if you're serious about landing
a career in tech but lack the formal
education or background coding dojo will
get you there in no time with over 3,000
graduates to date over 90% of their
grads land jobs within three months of
graduating often making over seventy K
per year at tech firms of all sizes from
companies like Google to local startups
to learn more visit coding dojo com or
click the link in the description below</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>