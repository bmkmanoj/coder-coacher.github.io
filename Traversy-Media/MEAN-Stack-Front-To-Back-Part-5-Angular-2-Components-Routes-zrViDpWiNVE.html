<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MEAN Stack Front To Back [Part 5] - Angular 2 Components &amp; Routes | Coder Coacher - Coaching Coders</title><meta content="MEAN Stack Front To Back [Part 5] - Angular 2 Components &amp; Routes - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MEAN Stack Front To Back [Part 5] - Angular 2 Components &amp; Routes</b></h2><h5 class="post__date">2017-02-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zrViDpWiNVE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to part 5 of the mean
stack front to back series in the last
video we finished up our back-end API so
we basically have a register row that we
can post to and we can register a user
with MongoDB we also have an
Authenticator out where they can log in
and they can get back a JSON web token
and then we added a profile route which
we protected and the user has to send
along that token to to validate or to
authorize now I put all that code into a
git repository called node auth a p--
basically it's just the api part so if
you guys are interested and you want to
get the code from github you can do that
usage is just npm install to install the
dependencies and you can start up the
application and then i also put the
three endpoints that we created okay so
just to let you know that and i did put
an index.html in the public folder that
just says front-end index.html so what
we're going to do now is we're going to
set up our angular front-end now what
are you guys request that i make the
font bigger so I'm just going to upscale
this a little bit and then we want to go
to our terminal which I can also make a
little bigger okay and then we need to
install the angular CLI so if you don't
have that installed already then just
want to do NPM install - key angular -
CLI
okay now once that's done we can
actually generate our angular 2
front-end application and we want to do
that right in the mean off app folder so
we're going to say ng new and then we
want the name so I'm going to call this
angular - source because that's what it
is it's the source for the front-end
angular app you can call it whatever
you'd like but I'm just going to call it
that so let's go ahead and run that and
then notice over here created that
folder for us that has the entire
angular 2 structure now one of the first
things I want to do is go to the peak
angular CLI JSON file and we want to
change the output directory so when we
do ng build and it compiles everything
for us and gets it ready for for our
application I don't want it to go to the
dist folder what I wanted to do is go
out one into our public folder in our
Express app so we're going to change
this out dirt from dist to dot dot slash
public ok that way it goes right into
that and then we can just save that and
close it now we should be able to
actually run this now so if we go down
I'm going to make sure the backend
server is running so we'll do node 1 up
here and then down here let's go ahead
and run we need to go into mean auth app
and then we're going to CD into angular
- source alright and then from here we
should be able to do ng serve and that
should serve as the front end on port
4200 alright so compiled successfully so
let's go over here and then go to
localhost 4200 and we get out works ok
we'll open up the chrome console here as
well and we're good ok so right now we
have our server on port 3000 we have the
front end on port 4200
now if you don't know anything about
angular 2 I would suggest that you go
watch my angular 2 and 60 Minutes video
where I explain all the basics of
components and services and then the
router and all that stuff alright
but basically are we want to be in the
source folder here and then in the app
folder and that's pretty much where
we're going to be working so there's an
app dot module dot TF file this is
basically the meeting place for all
components whenever we create a
component or service we need to import
it into here just like you see the main
app component and then we just need to
add that to declarations and see we have
our app component and then when we
create a service we need to import it
and put it in the providers and then a
module for instance HTTP module forms
module those also need to be imported
and put in the endpoint okay so it's
kind of a main meeting place for all the
different components so it gives us by
default the main app component which is
this file right here app component TX
and basically we're bringing in the main
angular package we have a decorator for
the component which it allows us to add
metadata including the selector so the
selector is basically the HTML tag we
can use to insert the component then we
have the template URL which is the HTML
file that's associated with the
component and you can see that that's
right here it's just putting out the
title and then we have a stylesheet URL
that we can use as well for each
component and then we have our main
class for that component in this case
we're setting a property called title to
app works and then if you look in the
HTML that's what's being output and
that's why we see app works right here
okay now when we think about our
application we need to figure out what
components we're going to use and we're
going to pretty much break up every
single part of it into a component so
for instance we have the navbar that's
going to be its own component we have
the login page the register the profile
the dashboard
the homepage all these things are going
to be in their own component okay so we
can break it up nicely now to create a
component we're going to create a folder
inside the app folder called components
okay and then instead of manually
creating them we can actually generate
them with the angular CLI so down here
I'm going to just stop it from running
and you want to go into the components
folder before you attempt to generate
them okay so we're going to say CB
source slash app slash components okay
make sure you're in that folder we clear
the soap okay and then from there we're
going to say ng that space G so generate
component and let's generate the navbar
so we'll just say navbar alright so if
we run that now you'll see that inside
of the components folder we have a
navbar folder and it's idea we have our
component TS and we also have the
component HTML it also gives us a CSS
but we're not going to worry about that
and then a spec file for testing we're
not going to worry about that okay so
this is the main component that it
creates us and you can see by default it
gives us a selector called app navbar
okay so every time we generate a
component is selected will be prefixed
with app - now what also what's also
nice about angular CLI and generate it
generating a component is if we look in
the app module file you'll see that it's
already being imported okay so it's
importing the navbar and it also puts it
down here in the declarations if we
weren't using angular CLI then you have
to just do that yourself okay as well as
create all these files that have just
created but you can see what I mean by
it generates it but it doesn't do it so
that you don't know what's going on you
can certainly just look at these and see
exactly what it did okay if for some
reason you're not using the angular CLI
then just go ahead and create these
files now if we want to display this
within the application we can go ahead
and go to our main
component not the main app component but
the HTML for it and if we go right under
the h1 actually let's get rid of this we
don't need that we're going to just put
in app now bar okay and then we'll save
that and let's make sure it's running so
we got to do
ng serve okay and then let's reload that
and now we're getting that the nav bar
works okay because that's what's in the
nav bar HTML so that the disease is that
to generate a component and then include
it in your application and your main
component and what's also clear this
console oh okay so what we're going to
do now is generate the rest of the
components that we're going to need just
so we have them ready okay so let's go
back to our command line here and we'll
go ahead and stop this all right let's
clear it out and then we're going to do
ng make sure you're in your components
folder
ng g component and let's create login
okay so you see it created a login
folder let's run it again and let's do
register ok again and we're going to do
C home and dashboard
smell that right and let's see last but
not least profile okay so those are
going to be our components so we should
be able to now run it with ng serve and
then I'm going to just close those up
for now and what we want to do now is
create our router
okay so first step is to look in the
index.html and we want to go right under
the body tag here and we just want to
say base href equals slash thing that we
want that to be our base route okay
let's also change the title here we'll
just change this to main off app okay
and we might as well include bootstrap
while we're here I'm using boots swatch
okay which gives us a customized version
of bootstrap and if I remember what I
used here let's see what was it I think
it was sandstone so if we click download
I'm just going to grab this link right
here and copy it okay and it will go
into our index.html and oh nevermind I
already put the bait I didn't realize
that they put that there so we should be
good we don't need that and let's put
link rel stylesheet and href and then
we're just going to paste that link in
okay so we'll save that good
and that should now be in effect alright
so like I said we want we want to do our
router so we're going to go to app dot
module TS and we want to bring in the
router modules so let's say report
router module as well as routes and
that's going to be from angular slash
router ok
and then down here we have to include
that in the declarations so I'm going to
put this I'm sorry not the declarations
the input so we'll go right into the
HTTP module and let's do router module
and then we're going to do dot for route
and pass in app ropes ok now this app
routes needs to be an object with our
actual routes so we're going to go right
up here and say Const app routes and
we're going to set it to the type of
routes and then it's going to equal an
array with our different routes what
would happen there I'll know this freeze
on me pick it did all right I'm going to
have to close the single back in
all right
okay so a prote equals an array and then
let's go in here and put in our first
route so we want to specify a path and
that's going to be just nothing because
this is the home and then we want to set
component and we want to set that to the
home component okay which is being
brought in right here so that's going to
be our home page and then let's put a
comma right here and we'll copy this and
then let's do our register so this will
be register and I'll set that to
register component and then log in log
in component all right let's see we
might as well do the wraps while we're
here so we'll also do dashboard and
these are going to be protected later on
but for now we'll just put them in and
we get profile
and that should be good so let's go
ahead and save that and just by doing
what we just did we should now have
working route so if we go to lecture
it's going to give us an error because
there's no router outlet so we need to
add that to our main app component okay
so we want the navbar on every page so
we're going to leave that there and then
let's just create a container class so
that everything is wrapped inside of
that and then we just want to put router
out way
okay so we'll save that and now you see
we get homework let me just clear this
up make sure there's no errors okay so
we get homework so on the home page if
we go to slash login we get login works
register and so on okay so now that we
have our routes let's go ahead and
create the navbar to get the navbar I'm
just going to go to get bootstrap and
then go to getting started and then
examples and then just click on the
starter template and then if we do a
control u we can see the source code and
I'm just going to grab this right here
now and then we'll put that in our
navbar HTML file okay excuse me let's
change the project name to mean off app
and then up here I'm going to get rid of
the nav box fix top and I'm going to
change navbar inverse to navbar default
all right and then let's see for the
links we're going to have to you l's
this one here is going to have a class
of nav bar left and then underneath it
we'll put another one with nav bar right
okay so it's done on the Left we're
going to have actually the left is only
going to have the home so we can get rid
of these two now when we're using the
router we don't want to use an href
right here we actually want to want to
use brackets and then rotor links okay
and then we'll set that equal to sort of
brackets single quotes and then the
route which we want to be slash okay and
I'm going to get rid of the class active
in a second I'll show you how we can
actually make that work though but right
now just copy this
let's go down here and paste that in
yeah twice and over here we're going to
have login and register right now so
let's say login and this will go to
slash login and then register that will
go to slash register all right so let's
go ahead and save that and test it out
okay so we'll go home login register
okay so I routed our navbar is now
working now I want the active class to
work for instance we're on login I want
this to be shaded in okay no matter what
page were on so we need to let's start
with the home right here and we're going
to add some brackets and we're going to
say router link active whoops I want
square brackets so router link active
and we want to set that to that and then
active okay we're going to put that in
all of them
okay let's save that
see that doesn't seem to be working
oh they need this needs to go on the Li
not the actual link so let's go ahead
and move it
actually I'll get rid of this
alright let's try that alright so you
can see register is highlighted log in
home but home is is it's still
highlighted so what we need to do is
just add one more thing to each of these
we need to set an option so we're going
to do our brackets and we're going to
say router link active options and then
we want to set that equal to an object
where we say exact true okay I believe
that should work so let's go ahead and
copy that and we're going to put that in
both of these as well
and now you'll see that it works
perfectly alright so I think that's a
good place to stop we've set up our
angular front-end and we set up our
components and routing so in the next
video we're going to start to add our
content to each page and then we'll move
on to adding the registration
functionality alright so hopefully you
guys are enjoying this series if you are
and you're not subscribed please
subscribe if you are subscribed please
let me know in the comment if you liked
it or not and that's it thanks for</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>