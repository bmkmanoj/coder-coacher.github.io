<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Create A Wordpress Widget - Part 1 | Coder Coacher - Coaching Coders</title><meta content="Create A Wordpress Widget - Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Create A Wordpress Widget - Part 1</b></h2><h5 class="post__date">2014-08-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Auo0Ab6oOlo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys in this miniseries we're going
to be building a wordpress widget
alright a wordpress widget is basically
a plugin it's just a certain kind of
plug-in you can login into your
WordPress admin area and go to widgets
and then you can pretty much drag them
to whatever position your template
allows alright and what we're going to
be building is basically a facebook like
box widget so you can get a like box if
you go to this URL
alright so normally the user would need
to enter their page URL set up some
parameters like the width the height the
color what they want to display and then
they would have to get the code and they
would have to get this JavaScript SDK
and include that in their site and then
they would have to find somewhere to
embed this HTML and for someone that's
not a developer and doesn't know much
about HTML or JavaScript it can be kind
of a pain so this widget will just we'll
be able to install it and a wordpress
site very easily
basically just upload it and then the
user can go to the backend and go to the
widget parameters and they'll be able to
edit this stuff there ok instead of
having to come here and then generate
the code and all that alright so that's
what we'll be building and if you're
serious about learning how to build
WordPress plugins and widgets I suggest
going to this URL okay this is the
widgets API and this actually has a lot
of the code that we're going to use and
there's a bunch of other information as
well and also to suggest going to the
plug-in API page as well
all right so this is our site actually
when we reload that's not supposed to be
there so it's just basically a default
WordPress installation this is version
3.9 one but I do have the I think it's
the 2012 template enabled just because
it's easier to see the sidebar and all
that alright so with that said what
we're going to do is open up I'm using
notepad plus plus alright and I'm in my
let me go to the root directory okay so
this is the root directory of my
wordpress site okay so what we're going
to do is we need to go to the wp-content
folder and then the plugins folder and
then we want to create a new folder and
i'm going to call this like box okay and
then in that folder we're going to
create a couple files alright so the
first one is going to be just called
lightbox dot PHP
and then we're going to create another
file I'm gonna call this one class dot
like box dot PHP okay so this will be
our main file and then we'll include
this which will be the like bucks it'll
be the widget class and that's where
most of our coding will be okay and I'm
also going to create a new folder called
j/s because we need to include our
JavaScript SDK so inside there I will
create another file and I'm just gonna
call this actually I'll call it lightbox
dot j/s okay so these are our three main
files alright and we'll start with the
met the main file which is basically the
entry point for the widget so the first
thing you need to do when building a
plug-in is you need to include a comment
block which basically shows your
WordPress site that you have a plug-in
and it displays the name and also you
need to have it so that it'll pop up in
the backend alright so we want it to
show if we go to plugins alright we want
it to show here so we can actually
activate it okay and let me just get
that code for you okay plug-in API we
scroll down
where is it
maybe this isn't the right okay writing
a plug in this link here here we go
alright so here we have the I guess
called file headers okay so it's just
this comment block in PHP so I'm gonna
copy that and paste it and you're just
going to change some things here the
plug-in name it is gonna be like box
plug-in URI I'm just gonna say cold
skillet calm description we'll just say
simple plug-in to show Facebook like box
I believe the only field that's required
here is the plug-in name I don't think
you need any all this it's just good to
have though just for metadata version
will be 1.0 author feel free to put your
own name ok you are I will say
skillet and then license they'll say GPL
- that's fine all right so this is
actually all we need for it to show up
in WordPress so if you save that and
then go ahead to the backend and reload
this plug-in area now you can see we
have our like box plugin okay it has the
description the version the author it
goes to the to the author site so very
easy to actually get it to show up here
all right so let's see I'm not going to
activate it yet what I want to do now is
I want to get it so we can include our
JavaScript file so we're going to create
a function okay and this is going to be
called add underscore scripts all right
and then in this function we're going to
call a JavaScript function called WQ I'm
sorry WP what is it n qu e ue scripts
alright and we can actually look this up
all right so basically it has a few
parameters okay that actually this one
here is for CSS same thing we accept
style all right
and here's ours W P and Q script alright
and parameters let's see the parameter
is the first one here my jet this can
basically be anything it just basically
is a context reference the next one is
going to be the actual URL to the
javascript file and the false I can't
remember exactly what that is
doesn't look like it gives us a
description of the parameters
example all right well basically we're
just going to use Falls for that third
parameter so the first parameter I'm
just going to put you want to make sure
you have quotes and we'll say like box
scripts okay the next one is going to be
a URL or link to our JavaScript file and
in WordPress we can actually use this
plugins underscore URL function and that
will get us to actual plugins folder
alright so from the plugins folder we
want to concatenate on slash like box
and then /j s slash like box dot je s
and that'll bring us to our JavaScript
file
and let's just put in false for the
third parameter
all right so that is our add scripts
function right now it's not going to do
anything it's just a declaration so we
have to tell WordPress when to run it so
we're going to use this add action hook
alright so what I'm going to say is the
first parameter is going to be this WP
and the queues for it
I'm sorry this first one could be script
okay
singular and then this here is scripts
alright this is the actual hook so look
the next parameter we just want to put
in the name of the function that we
created which is add scripts okay
so that should add that now what I want
to do is activate the plug-in
so activate
and then in the front end let's go to
the javascript file and just give it a
lurk and we'll say alert one okay so now
you can see that that JavaScript is now
included okay delete that so that's all
set the next thing we want to do is
include our class file okay so say
include class you should at you should
have your code well commented so this
will add JavaScript
they include class we're going to use
include and
class dots in the same directory so just
doing class dot like box dot PHP okay
and that'll include our class
and then the last thing we want to do in
this file is register our widget and
then all the rest of the code will be
pretty much in the class all right so to
do this we want to say function register
lightbox
okay and then we're going to call
register on this or widget
and let's see we're gonna pass in
blackbox underscore widget
and then we need to use the add action
hook again so add action okay we're
going to use widgets underscore and knit
and then the name of our function which
is register lightbox all right so that's
basically all the code we need for this
main file alright the rest of this stuff
is going to go into our class and we
will get into that in the next part</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>