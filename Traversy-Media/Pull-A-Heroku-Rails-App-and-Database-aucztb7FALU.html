<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Pull A Heroku Rails App and Database | Coder Coacher - Coaching Coders</title><meta content="Pull A Heroku Rails App and Database - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Pull A Heroku Rails App and Database</b></h2><h5 class="post__date">2013-03-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aucztb7FALU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys in this tutorial I'm gonna be
showing you how to pull a Heroku
repository or your app off Ruby on Rails
app off Heroku and this is the one I'm
gonna be dealing with isn't finished
it's it's in development still it's
called template browser and it's a
really it's gonna be a really simple app
that just displays different website
templates for people to choose from if
you're running a web design company and
you want to offer pre-made templates
then that's what this is for
nothing special I'm just using this as
an example to show you how to actually
get it off Heroku onto a new computer
you can we're in a bun too and Linux
Ubuntu 1210 so if you go to Heroku comm
and login I'm assuming that you know
what Heroku is and maybe you're looking
for a tutorial to actually do what what
I'm gonna do grab the app and I'm also
assuming that you have rails installed
and everything's already set up this
particular app uses a PostgreSQL
database so I'm just going to log into
it
and you see I have three apps here in my
account this is the one we're gonna be
dealing with template browser and we can
go to settings and I actually have a URL
I mean top-level domain pointing to this
which is template browser dotnet but I'm
going to open up the Heroku the sub
domain you can use either
okay so you'll see there's not much to
of this it's pretty much just a shell I
do have a database with category fields
as well as templates so each template
can have a category they'll be able to
click on general and see all the general
templates and then maybe technology
templates so it's really a work in
progress
this isn't really about the app though
it's about how to get it onto your local
machine so what we want to do is open up
a shell prompt now you don't want to
create the actual folder if we just go
and see what's in my home directory I
don't have the folder here because
Heroku will actually pull the entire
thing and put it in our home directory
so the first thing we want to do is we
want to install the Heroku gem now I'm
assuming you have ruby gems and
everything all set up on your on your
computer so let's install the gem
all right so the gem is installed now
what I want to do is just run bundle
install actually you know we don't want
to run bundle install so now we want to
get Heroku toolbelt which is a great
application that will give us get
functionality as well as some other
stuff that that is required for us to do
this so we want to do a double you get
and a we want to do Q oh yeah Q and
capital o tags and then we want the URL
for our the tool belt which is tool
belts dot Oroku comm slash install
ubuntu sh sh so that should get it for
us
let's just take a minute
and you can also download toolbelt for
windows if you want to use windows but i
really suggest a linux based OS if
you're going to be developing rails apps
now now that we have the tool Belle we
can actually log in so we do goro
collage in
all right so it looks like we logged in
okay now you're gonna want you need some
SSH keys to talk to the app the remote
app so let's do Heroku keys : had and
yes we want one generated all right so
that's all set now what we want to do is
actually clone the app so we want to do
Heroku get cloned I'm sorry get : use
the a tag and now we need to do the the
name of the app obviously odds will be
different
- template browser okay are you sure you
want to continue yes I am
okay looks good
all right so let's go into our home
folder see what's going on here
you can see we have the template browser
folder and we have all of the correct
files now what I want to do is I want to
get the database as well we're using a P
I use PG admin to admin the tables and
the database so I'm open that up and
we're going to make sure we have the
correct credentials and all that and we
can find that in the config folder and
in the database yml file and I actually
changed the password I actually hit it
for this tutorial so what I'm going to
do is just take this out of the view and
put now let's just look at it first the
app that I have on Heroku is using the
PostgreSQL adapter they are they
actually offer it as an add-on so in the
host is localhost and then we have the
database name the user or the password
we actually have a separate test
database but we are using the same
development and production database
because we use in Heroku so I'm going to
bring that out of the view and just
change that to what it was
one second
all right so now what I need to do is
create a new server here
and I'm just gonna call it whatever one
and psql is very easy to install you can
just have to get the package and install
it and obviously you'll need to create
user you don't even need to create a
database just you need to create the
user in the command line and then you
can actually use PG admin to create the
database so that's what we're doing now
now this here the admin and the password
are the same that I have in that file
that I just showed you so okay and now
if we go here databases I actually
already had this created I'm just going
to drop it and I'm going to recreate it
so we remember we have the temp browse
database and the temp browse test
database so that's what we're going to
create here and the owner should be the
one that was specified in that database
configuration file and that's all really
all we need and create the test one now
all right so now we have our database
and our test database so now what we
need to do is pull it from Heroku to do
that we have to install the taps gem in
the sequel gem so we're just going to go
back to a command line and go into our
directory our app directory now what we
want to do is gem install PG taps and
sequel alright so let's do that
so after this we should be able to
actually pull the database into our our
new empty database and once that's done
we'll have an exact copy of the Heroku
app
all right so that's all set now we can
actually try actually first of all this
running what's Rundle
let's run bundle install
so just update all our gems
okay let's go
all right so now we can try Heroku
DB Paul and cross our fingers
oh yeah it's it this is a destructive
action and what that means is just
whatever we have in the database now
will be overwritten and gone so I mean
we just have an empty database so it's
fine so it just it's just act asking you
to actually type right here you can see
to proceed type template browser
all right so it looks like it's
connected and it's it's getting a schema
the indexes alright looks good
all right so that looks like it was
successful now we can just go over here
to our PG admin and if we click on
scheme public tables you can see this
five tables so everything looks good now
all we need to do is run our server our
local server with rails s
all right so that looks good now if we
go to now this is our remote app so
let's get out of that and let's go to
our local localhost port 3000 and
everything looks good you can see this
general is one of our categories that we
have in the database so that's how you
would get nap from Heroku pull it and
pull a database and now all you would
have to do just start a new terminal all
you would have to do
now if you wanted to push back to Hiroko
so you did some changes you would just
add it and commit and then you would
just do get push Heroku master
and it says everything up to date but if
you had made changes that would update
as well and as far as the database you
would do all your local work on your
local models and so forth and then you
would run Heroku
I think it's run rake DB migrate and
this would actually do your migrations
on me on the remote server as well so
that's it for this tutorial I hope I
helped some of you guys out and I'll be
doing some more rails tutorials probably
on this same application so be sure to
subscribe and check out those as well
thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>