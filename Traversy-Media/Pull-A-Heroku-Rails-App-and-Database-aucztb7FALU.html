<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Pull A Heroku Rails App and Database | Coder Coacher - Coaching Coders</title><meta content="Pull A Heroku Rails App and Database - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Pull A Heroku Rails App and Database</b></h2><h5 class="post__date">2013-03-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aucztb7FALU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys in this tutorial I'm going to
be showing you how to pull a Hiroko
repository or your app off ruby on rails
app off Heroku and this is the one I'm
going to be dealing with is finished I
sits in development still it's called
template browser and its really it's
going to be a really simple app that
just displays different website
templates for people to choose from if
you're running a web design company and
you want to offer pre-made templates
then that's what this is for nothing
special and I'm just using this as an
example to show you how to actually get
it off Heroku onto a new computer you
and we're in a bun to learn Linux Ubuntu
1210 so if you go to heroku com and
login I'm assuming that you know what
Heroku is in maybe you're looking for a
tutorial to actually do what what I'm
going to do grab the app and i'm also
assuming that you have rails installed
and everything is already set up this
particular app uses a postgresql
database so I'm just going to log into
it
and you see i have three apps here in my
account this is the one we're going to
be dealing with template browser and we
can go to settings and I actually have a
URL I mean a top-level domain pointing
to this which is template browser net
but I'm going to open up the Heroku the
sub domain you can use either
okay so you'll see there's not much to
this it's pretty much just a shell I do
have a database with category fields as
well as templates so each template can
have a category they'll be able to click
on general and see all the general
templates and then maybe technology
templates so it's really a work in
progress this isn't really about the app
though it's about how to get it onto
your local machine so what we want to do
is open up a shell prompt now you don't
want to create the actual folder if we
just go and see what's in my home
directory I don't have the folder here
because hiroko will actually pull the
entire thing and put it in our home
directory so the first thing we want to
do is we want to install the Heroku gem
now I'm assuming you have Ruby gems and
everything all set up on your on your
computer so let's install the gem
alright so the gem is installed now what
I want to do is just run bundle install
actually no we don't want to run bundle
install so now we want to get a Hiroko
tool belt which is a great application
that will give us get functionality as
well as some other stuff that that is
required for us to do this so we want to
do a double you get an A we want to do q
oh yeah q and capitulo tags and then we
want the URL for the tool belt which is
tool belts dot heroku com / install
ubuntu sh sh so that should get it for
us
let's just take a minute
and you can also download tool belt for
windows if you want to use windows but i
really suggest a linux based OS if
you're going to be developing rails apps
now now that we have the tool belt we
can actually log in so we do go local
login
all right so it looks like we logged in
okay now you're going to want you need
some SSH keys to talk to the app that
the remote app so let's do karoku keys
colon had and yes we want one generated
all right so that's all set now what we
want to do is actually clone the app so
we want to do karoku git clone I'm sorry
get colon home use the a tag and now we
need to do the name of the app obviously
also be different minus template browser
okay are you sure you want to continue
yes I am
okay looks good
alright so let's go into our home folder
see what's going on here you can see we
have the template browser folder and we
have all of the correct files now what I
want to do is I want to get the database
as well we're using API use pgadmin to
admin the tables in the database so open
that up and we're going to make sure we
have the correct credentials and all
that and we can find that in the config
folder and in the database yml file and
i actually change the password I
actually hit it for this tutorial so
what I'm going to do is just take this
out of the view and put now let's just
look at it first the app that i have on
Heroku is using the postgresql adapter
they are they actually offer it as an
add-on so in we host is localhost and
then we have the database name the user
the password we actually have a separate
test database but we are using the same
development and production database
because we use in Heroku so I'm going to
bring that out of the view and just
change that to what it was
one second
alright so now what I need to do is
create a new server here
and I'm just going to call it so
everyone and psql is very easy to
install you can just have to get the
package and install it and obviously
you'll need to create a user and you
don't even need to create a database
just you need to create the user in the
command line and then you can actually
use pgadmin to create the database so
that's what we're doing now now this
here the admin and the password are the
same that I have in that file that I
just showed you so okay and now if we go
here databases I actually already had
this created I'm just going to drop it
and I'm going to recreate it so we
remember we have the temp browse
database and the temp browse test
database so that's what we're going to
create here and the owner should be the
one that was specified in that database
configuration file and that's all really
all we need and create the test one now
alright so now we have our database and
test database so now what we need to do
is pull it from Heroku to do that we
have to install the taps gem in the
sequel gem so we're just going to go
back to a command line and go into our
directory our app directory now what we
want to do is gem install um PG taps in
sequel alright so let's do that
so after this we should be able to
actually pull the database into our our
new empty database and once that's done
we'll have an exact copy of the Heroku
app
alright so that's all set now we can
actually try actually first of all this
rental what's rundle let's run bundle
install
so just update our gems
ok let's go
alright so now we can try heroku DB pull
and cross our fingers
oh yeah it's it this is a destructive
action and what that means is just
whatever we have in the database now
will be overwritten in gone so I'm we
just have an empty database so it's fine
so it just it's just act asking you to
actually type right here you can see to
proceed type template browser
alright so it looks like it's connected
and it's it's getting a schema
the indexes all right looks good
alright so that looks like it was
successful now we can just go over here
to our pgadmin and if we click on schema
public tables you can see this five
tables so everything looks good now all
we need to do is run our server our
local server with rails s
alright so that looks good now if we go
to now this is our remote app so let's
get out of that and let's go to our
local local host for 3000 and everything
looks good you can see this general is
one of our categories that we have in
the database so that's how you would get
nap from Heroku pull it and pull a
database and now all you would have to
do um just start a new terminal all you
would have to do look
now if you wanted to push back to Hiroko
so you did some changes you would just
Pat it and commit and then you would
just to get push heroku master
and it says everything up to date but if
you had made changes that would update
as well and as far as the database you
would do all your local work on your
local models and so forth and then you
would run karoku I think it's run rake
DB migrate and this would actually do
your migrations on me on the remote
server as well so that's it for this
tutorial i hope i helped some of you
guys out and i'll be doing some more
rails tutorials probably on the same
application so be sure to subscribe and
check out those as well thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>