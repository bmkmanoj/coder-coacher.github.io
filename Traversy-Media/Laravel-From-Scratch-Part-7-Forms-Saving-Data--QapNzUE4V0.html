<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Laravel From Scratch [Part 7] - Forms &amp; Saving Data | Coder Coacher - Coaching Coders</title><meta content="Laravel From Scratch [Part 7] - Forms &amp; Saving Data - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Laravel From Scratch [Part 7] - Forms &amp; Saving Data</b></h2><h5 class="post__date">2017-06-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-QapNzUE4V0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome back to laravel from
scratch in this video I want to start to
create the the form to actually add add
a post through our application so if we
go to slash posts slash create that
should load the create function inside
the post controller so let's go there
and you can see there's nothing here so
it's just loading a blank page what we
want to do is load up a view so we'll
say return and it's going to be in the
post folder and then it's going to be in
a template called create alright so
let's go ahead and save that and we'll
go to our views and then post folder
oops and say new file create dot blade
dot PHP alright and then I'm just going
to copy what we have in the index and
see for the h1 we're just going to say
create post and then we're going to get
rid of everything else here okay so
let's just save that make sure that
loads up what do they what do they do
oh I didn't put view all right now for
forms you can use regular HTML laravel I
think it was liable for included a
really nice helper for forms so that has
been removed from I believe laravel 5.0
and on so it's it's available from
laravel collective so that's what we're
going to use school yeah level
collective and then we're going to go to
HTML and forms and then this is going to
show us how to install it with composer
and if we go down here we can use syntax
like this we can say form open and then
the URL that it's going to submit to and
this will just create an opening form
tag this will be the closing form tag
and then we can include certain
components so if we look at right here
we can include
labels like this and then for the input
so we can do form text and just pass in
whatever we want to call that passwords
and checkboxes select groups all that
stuff anything that you can do with a
form and then it also includes cross
site protection okay so it's going to
include an S CSRF input that's going to
protect us from people trying to submit
from other places it's going to make
sure that the forms submitted from our
application so let's go look up here now
we're going to use composer so all you
have to do is say composer require and
then the package name and then the
version okay so let's just copy this and
we'll go over here and open up our
terminal let's clear the soap will paste
that in and that will install it now we
do need to add some things to the config
usually when you install a PAC a laravel
package you'll have to add it as a
provider and if it has any aliases
you'll have to add those so let's just
copy this one line right here and then
go to our config folder and app dot PHP
alright I'm going to just close this
terminal and this is where the providers
are listed you'll see right here there's
an array of providers we're just going
to go right down to the bottom here and
paste that in alright and then we're
going to grab the two aliases which is
form an HTML so the aliases are right
here we're just going to add it to the
bottom here just like that and now we
should be all set to use it so let's
close up that config file and let's go
back to the documentation and we're just
going to grab this right here and then
let's go to our view which is our create
blade and paste that in there
now instead of using URL here I mean you
could do that but we're going to use
actions so we're going to put an array
and we're going to say action and set
that to the controller function which is
going to be posts controller and then
we're going to do at store ok store is
the function we're submitting to and
then we just need to we need to describe
the method and this bracket should go
over here ok so we'll put a comma here
and then the method which is going to be
post all right and we're using bootstrap
so I'm going to put a div in here with
the class class of form group and in
here we're going to put our labels so we
can do our double double curly braces
and do form double : label and in here
this is going to be a label for title
and then the actual text which will be
title with an uppercase T and then for
the input or the text input we will do
form text and we're going to pass in the
name for this which will be title okay
and then the second parameter is the
value this is going to be a create form
so we don't want a value so we'll have
it just a blank string and then we can
add attributes inside of this array so
let's say we want to add a class on to
this text field so we can say class and
we want it to be form control which is a
bootstrap class and then let's also add
a placeholder so placeholder will just
say title and that should give us the
the input so let's save it and take a
look there we go let's see why is that
oh I forgot the tea and form control
there we go all right so there's our
title and then we want a body so I'm
going to copy the whole form group and
let's change this and this and then
instead of a text we want this to be
text area okay I will change this to
body and the placeholder will say body
our body text okay let's check that out
there we go
and we're going to make this into an
editor later on but not not just yet
now we're also going to add file
uploading but I'm not going to get into
that just yet we're going to add that
later on as well I want I just want to
get a basic crud application up and
running and then we'll move on to
authentication and file uploading and
all that stuff all right so let's put a
submit button we're going to go right
here and we're going to say form submits
okay that's going to be the value and
then we have some attributes we can add
I'm going to add class and let's make
that BTN and then BTN primary okay and
that should do it so there's our form
now when we submit it's going to make a
post request to store so let's go over
here and go to our store
now validation and laravel is very very
simple what we all we have to do is say
this validate and then we can pass in
the request that's being passed into the
store function and then an array of
rules so we want the title to be
required and that's all we have to do
also the body
okay so now if we go down here and let's
just say return one two three so let's
go back and we're going to go back to
our form and let's submit and you'll see
that it's not letting us if I enter the
stuff in here and submit now it does
alright now we want some messaging here
and what I'll do is go to our views
folder and in the includes we're going
to create a file called messages dot
blade dot PHP alright and then in here
we basically have three things we want
to check we want to check the errors
array that's created when we when we
fail validation we also want to check
for session values so session success
and then session error and those those
are going to be flash messages that we
can create at any point so let's say up
here if count and we want to look for
errors if that's greater than zero
that's greater than zero then we want to
loop through say for each and then we
want to do errors this is actually an
object so we want to do errors all as
error all right and then inside here
we're going to put a div with the class
of alert and alert danger and we just
want to put error all right and then
below it we're going to check for
session errors so let's say if session
actually will do messaging for success
messages first so this will be session
success and then down here we're going
to end if and then let's put in a give
the class of alert
and this will be a single message so we
don't have to loop through so success
all right and then here we can just say
session and then the type which will be
success all right we'll get I'll show
you how to actually create these
messages later and then this one's just
going to check for session error
okay we'll change this to danger and
then this to error alright and you can
use this messages file in all your
projects so we just need to include it
in our main layout so let's go in the
container right above the right above
the content here and we're just going to
do include so include and that's going
to be in the ink folder and then
messages alright so let's go ahead and
save that and go back and reload and
submit and now we get our error messages
if I put the title in it's just going to
tell us the body I put that in it's
going to submit okay and it's as easy as
that it's very very simple to add
validation you can see validation
pagination this stuff is really easy
with laravel it's very elegant so let's
go back to our post controller and
finish our store function now remember
we use tinker and we inserted our stuff
into the database we can do the same
exact thing here all right so let's say
create post and this is going to be post
equals new post okay and we've the
reason that we can use this is because
we brought it in up here okay just like
we used it here and the index and
everywhere else we used it okay so new
post and then we want to add our field
so we'll say post title set that to
we're going to set it to request and
then input and then title alright this
will get whatever is submitted into the
form we want to do the same thing for
the body okay so this will be post body
set this right here to body as well okay
and then we want to save it so we'll
just say pose save and then we'll just
redirect so to redirect we can just say
return redirect very simple and we want
to go to slash posts and then let's set
a message with this a success message so
all we have to do is say with and
success and then post created okay I
remember we created that messages file
this is where we can actually set the
message so let's save it and we should
now be able to submit a post so let's go
to post slash create and let's do close
three we'll just say this is post three
submit and there we go we get a post
created message and it gets added now
why is it in the middle let's go up to
our index here all we ordered it by
title so I actually don't want that what
I want to do is order it we want to
order it by created at
all right good so let's put a link to
add post in our navbar so we'll go over
to includes navbar and I want to put
this on the other side on the right so
under this ul let's put a ul and we'll
give it a class of nav nav bar
- NAB's and then now bar - right ok and
then we'll put in an Li okay and this is
going to say add bar let's say create
post and it's going to go to slash posts
slash create okay so now we have a link
to create our post so I guess we'll go
ahead and implement the editor I wasn't
going to yet but we will so let's say
laravel I think it's shoot was laravel -
CK editor right here Eunice sharp
laravel CK editor so we need to install
this with composer so let's grab this
right here and we'll go over and open up
our terminal let's clear this out paste
that and run it okay we'll also have to
add to the app PHP file we need to add a
provider just like we did with the other
package the laravel collective so let's
go to app PHP which is in the config
folder just close this up I'll just make
it smaller so we want to add it to the
providers which is right here providers
array and we're going to just paste that
in save it and we need to also publish
our resources so we do that with this
command here which is an artisan command
ok so let's see the dis finish
okay so now clear that and let's paste
that in that will publish the assets and
then the usage what we want to do is in
our layout I'm going to take this right
here we're going to do it this way oh no
we're not we're going to do it this way
you can use jQuery if you want so let's
copy this and we're going to put this in
into the layout file I'm just going to
close these up to avoid confusion all
right so our layout file which is in
views layouts app blade and we're going
to put this let's put it right above the
ending body tag all right and what
basically all we have to do now is give
our text areas that we want to use the
editor we want to add this article CK
editor ID so let's save that and then go
back to our in create where we have a
text area and to add an ID we can just
add into this array right here so let's
do ID and we're going to set that to
article - CK editor save that and let's
go back and now we have an editor so ZZ
is that so if I create another post a
post for and we'll say this is post four
and let's make for bold okay now this is
going to get saved as HTML if we look at
the source code you'll see those HTML
tags so let's submit alright and then if
we look at post four
you see it's not parsing the HTML so the
reason for that is when you just use if
we go to our show template which is what
we're looking at if we're just using
these double curly braces it's not going
to parse the HTML so with the body what
we want to do is use one curly brace and
then two exclamation
marks and that'll actually parse the
HTML so let's save that and we'll go
back and reload and now you can see that
it's actually parsing it there's no
paragraph tags showing and we have our
bold text all right so it's as easy as
that to implement an editor so in the
next video what I want to do is make it
so that we can edit and delete our posts</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>