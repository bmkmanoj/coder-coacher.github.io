<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building An App With FuelPHP - Part 2 | Coder Coacher - Coaching Coders</title><meta content="Building An App With FuelPHP - Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building An App With FuelPHP - Part 2</b></h2><h5 class="post__date">2016-01-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/isEI4ENBzdc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to part 2 of building
an app with fuel PHP in the first video
we went ahead and installed fuel PHP we
set up our post controller our model and
some of the views and right now we're
fetching our posts from the database and
you can see we have the blog role on the
front page and then if we click on view
more that's going to show us the whole
post so now what we want to focus on is
adding posts alright so see if we go
here we have this add view text that's
coming from the view the add dot PHP
file that's in the views posts folder
and what we're gonna do now is create a
form to add a post alright now if we go
to the documentation for fuel PHP you
can see we have this form class that we
can use and it gives us an example of
this you see this is right here is the
basically that the opening tag for the
form we can put in where we want it to
go we can put in our inputs you can see
we have echo form input and if you've
ever used something like CodeIgniter
this is probably very familiar okay so
it's basically just like the form helper
alright so we're gonna go ahead and use
this and I don't think there's a full
form that we can copy see no so we'll
just kind of do it in pieces
alright so let's grab this
and of course you can just copy it but
first of all I'm gonna put a heading in
here that just says add post all right
and then we need our PHP tag and we're
gonna echo that all right now where we
want this to go is the add action okay
so we can say slash posts slash add
alright now I'm aware that this is the
same route that shows the form but
there's a way that we can we can check
to see if it was actually submitted so
that we know you know if the form was
submitted or not and we're supposed to
interact with the database or if we're
just supposed to show the form all right
so don't worry about that and then to
close it off we're gonna say PHP echo
form close okay and then we're gonna
have some labels let me just check this
real quick
it should be cold for labels
right here all right so want to grab
that
and say PHP echo label and we're gonna
go ahead and change this to title and
change this to title lowercase so that's
our label then actually you know what I
want to do is put each label and input
inside of a div because we are using
bootstrap and I want to format it
correctly so this will be form group all
right so that's the label and then for
the input
let's see we want
yeah we want this right here
I think
so I check something real quick
yeah we'll grab that alright so say PHP
paste that in alright we don't need this
style what I do want is a class so let's
do class and then form control which is
strictly for a bootstrap and we want to
change this to title now we can pre-fill
a value here and what I want to do is I
want to do something different I want to
basically make it so that if this is an
edit form that the the field that's from
the database is going to display if not
then it's going to display nothing as
the value so to do that we can use input
and then post and then inside here we
want to put in title and then we're
gonna do a conditional we're gonna say
is set post so we're checking to see if
the post is set if it is then we're
going to display post title and then if
it isn't we're going to display just
nothing just an empty string alright so
that looks good
so let's copy that whole form group and
let's just paste a couple more in here
okay so this one here will be the
through the category
and now this I actually want to be a
select list so we're going to change
this input to select and then this is
going to be category all right and then
we're gonna take this out this input
this whole thing here and we don't want
anything selected so let's just say none
then that that's good
now the options are gonna go in another
parameter right here so it's gonna be
another array okay you're just gonna
space this out a little
oops all right so now we can say no
actually you know instead of nine let's
change both of these to zero all right
and then that's gonna say select we'll
say select category so that'll be the
first option next one will be let's say
Web Design
then we'll say programming
and I guess we'll do one more will say
graphics is
all right so that's our select list that
should be good then we're gonna have
what's next to the body
okay now instead of input this is going
to be text area and we want to change
that
okay and then this stuff can stay the
same we just want to change this to body
and let's see if it's there then we're
gonna display it if not then it won't
have any value all right and then let's
see what else we have tags
tags can stay as an input that's fine
all right and that should be it so we
don't need this last one here what we do
need is now we need an input button so
I'm going to say div class actions and
all you have to do is say PHP echo form
submit and we're gonna call this send
all right and that should be it for our
forum so let's check it out
okay so we have an error unexpected
comma one lying nine okay so let's see I
messed that up somehow Oh get two commas
in a row
yeah you guys probably saw that a while
ago
all right so there's our form looks good
so if we submit it it's not going to do
anything what we need to do is is go to
our controller and go to posts and we're
gonna be dealing with this action action
hat right now it's just displaying the
template what we need to do is we need
to test to see if the form is actually
submitted or not so what we can do is
say if I'm going to say if input post
sent okay now send if you remember
that's what we call the the submit
button so we're checking to see if the
submit button was pressed alright so if
it was then we're gonna say post equals
and then list a new whoops new model
post
okay and then we can continue to do our
fields so we'll say post title and
that's going to equal input post title
alright and then we'll do that for the
rest of the fields as well copy that
okay so we get post title do category
in Barney
in tags
I'm just make sure I'm not missing
anything here title category body tags
yep
okay and then at the end of that we're
gonna call post stave okay
so that'll save in the database then
what we want to do is we want to set a
message that's gonna say that the post
was saved so to do that we can use the
session class and we can use set flash
and this is gonna be a success message
and then the message itself will just
say post added and then finally we need
to redirect all right to do that we can
use your the response class what's great
about fuel PHP is that you have access
to all these different classes or
helpers or whatever you want to call
them you know you don't have to load
them like you would have to encode
igniter they're just available so
responds redirect and we want to go to
let's just go to the homepage all right
now in order to for this message to be
shown we have to add something to the
view so let's save that and then we're
going to go to our index view and we
want to go right
we'll go right above the for each and
we're gonna have to do an if statement
I'm going to say if
okay so we want to say if session get
flash
if session get flash success that's what
we named it then we're gonna want to
display that okay so it's a peach
actually you know what we'll put this in
a div and we're going to give it a class
of alert and then alert success and then
in there will say PHP echo and then you
want this session get flash success and
you can do the same thing with an error
if you want to put out an error and you
just have to instead of success you want
to put error so pace that as well that
change this to danger which will make it
a red alert
and change this to error alright so save
that now hopefully we can add a post
actually there's one more thing I want
to do because it messed me up the last
time is since we have the create date in
our model right here we have to submit
that so what I'm going to do is go back
to the controller to our action ad and
then I'm just gonna add on to here post
create date and then I'm gonna set that
to date function and we're just going to
format it for SQL I'm gonna say why -
CEM - D and then we want to do H :
I : s alright so that's just going to
put the current date and time so we'll
save that and let's just reload this and
try to add a post so we'll say my third
post web design body
and tax submit and then we go a post
added and you can see we have my third
post alright so we can now add post to
our blog so now we want to do is what we
also want to be able to edit a post all
right so if we go to a view page let's
make it so that we can see a view I'm
sorry an edit and a delete blank at the
bottom so let's go back to let's see we
want to go to views posts and then view
dot PHP and let's go down to the bottom
here we'll put enough line break and
also an HR tag and let's create a couple
links okay so this will be / post / post
/ edit / and then we need the ID so
we'll say PHP echo post ID
and let's also give this a class BTN BTN
default and this will just say at post
or just edit and then I also want to
have a delete button so I'm gonna copy
this okay and then paste that and I'm
going to change this to danger and
change this to delete all right so let's
take a look at that let's take out that
line break and put it underneath put it
underneath the buttons
it's been another one
here we go all right oh we want to
change the text to delete
okay so now when we click Edit it's
going to give us an error because we
don't have an edit action or view so
let's go and create the action so we'll
go back to our post controller alright
and you know what we can do is copy the
view action because it's pretty similar
and we're gonna change this to edit same
thing we're gonna pass in the ID it's
gonna find the post for us and we want
to just change let's see we'll change
the title to edit post and then let's
change this to edit okay and then it's
gonna it's gonna load the Edit view for
us so let's save that and we'll go and
create inside views posts I'll create a
file called edit PHP and what we're
gonna do is copy what we have in the add
view because it's pretty much the same
okay we want the same form it will copy
all that paste it in the edit view I'm
gonna change the heading and we're also
going to change where this goes so it's
gonna go to posts edit and then we need
the IDs so we'll say PHP echo post ID
and everything else can stay the same
since we have this piece of code here
this input post it should put whatever
is in the database it should it should
pre fill the form only thing we have to
do is with this category we want to
change this from being zero to being the
actual category so we'll say echo post
category actually I'm sorry we don't
need the PHP tags because we're already
in a set of PHP tags so that should be
fine all right so let's save that and
let's see what we come up with all right
so now we have our form and you can see
it's all filled out which is perfect now
we need to take care of the submission
so we'll go back to the Edit action and
we're going to copy what we have up here
in the add action this part and we're
gonna put this
let's put it up at the top right here
alright so we're gonna check for send
now instead of saying we want a new post
we're gonna change this I'm gonna say
equals post
I'm sorry equals model post and then in
here actually no we've gotta go like
this model post find and then we're
going to pass in input
post
and actually you know what we need to
also add a field to the Edit form a
hidden field that passes the ID and
we'll call that post ID all right so
let's go add that now we need to go back
to edit PHP and then down at the bottom
right right above the buttons I'm going
to say input type equals hidden name is
going to equal post ID value values
gonna be the ID so we can say PHP echo
post ID all right that's it so back in
our controller back in the Edit action
woops did I put that in the view I did
this has to go and edit not view
okay
so now this is going to come from the
hidden field so it's gonna find the post
for us then we're going to change it to
whatever we put in the form that's what
this takes care of we'll change the
message here to instead of post added
we'll say post updated and redirect
that's fine yeah so the rest is good so
let's save that and let's go ahead and
see if we can change this so instead of
my first post let's change this to the
number one we'll say my first post like
that
and we'll change the two programming
okay so post updated you can see that's
changed and we're not displaying the
category I guess we could do that so if
we go into our view view and we can just
I guess at the bottom we can put our
category in our tags
all right so we'll put a ul
and say category
and we'll do the same thing for tags
all right and that should now be
programming which it is all right
so we can now read posts we can create
them we can edit them now we just want
to be able to delete them all right
which isn't hard at all so we're going
to go back to the controller and of
course we're gonna need another view
which will be the delete view I'm sorry
to delete action so I'll paste that in
change this to delete and then instead
of saying all this let's just do find
and we should be able to just pass in
the ID like that and then we'll just say
post delete and we don't we don't need a
view for the delete we just want to send
a message and then redirect so I'm gonna
copy that with that there okay we'll say
post deleted
save it okay let's go back okay we're in
the first post we'll click delete we get
post deleted and you can see there's no
more first post so we now have a
complete crud application using the fuel
PHP framework now obviously this isn't
something you would just go and deploy
on your website there's no login there's
no user authentication or anything like
that you'd probably want categories
store in the database there's a lot you
would do for this to actually be a
production app but just to get you
familiar with the framework I think this
is a good start good foundation so
hopefully you guys enjoyed this if you
did please leave a like subscribe
whatever you can do is fine alright
thanks guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>