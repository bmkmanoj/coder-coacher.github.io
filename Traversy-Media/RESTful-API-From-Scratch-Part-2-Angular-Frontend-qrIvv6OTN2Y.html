<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>RESTful API From Scratch  - Part 2  - Angular Frontend | Coder Coacher - Coaching Coders</title><meta content="RESTful API From Scratch  - Part 2  - Angular Frontend - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Traversy-Media/">Traversy Media</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>RESTful API From Scratch  - Part 2  - Angular Frontend</b></h2><h5 class="post__date">2015-10-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qrIvv6OTN2Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys in this video we're going to be
creating a front end for the RESTful API
that we built using known Express
alright and that was the book store
application so we're going to build this
using angularjs and I'm going to try to
make it quick and simple I know that we
created a books and a genres endpoint
but I'm going to leave the genres out
and we're just going to focus on the
books just because the genres is pretty
much the same thing and I don't want to
really be too repetitive and also it
gives you guys something to do on your
own to try to you know do it without
without watching so I have the bookstore
repository as is I will be adding
whatever I do today to the repository so
you'll have the front end as well and
they already cloned this into a project
folder let me see all right so we have
it here and it's just as it was where we
left off in the last video except we
don't have the node modules folder so
we'll just have to run NPM install again
all right so I'm going to go ahead and
open up the git bash utility in that
folder let me see if I can make this a
little bigger
all right so what we need to do is say
npm install and i will go ahead and
install express and whatever else we
needed what was it Mongoose I think yeah
Xpress Mongoose body posture alright so
let's go ahead and the only thing that
we're going to edit that we did in the
last video is in the app J s folder we
just need to specify what folder we want
to use as a static folder as a public
directory alright so we're going to do
that right here at the top I'm going to
say app dot use and then and then we're
going to pass in Express dot static and
we need the location so say
directoryname and then we need to add on
the name of the folder which I'm going
to just call client and that's all we
need to do in the on this file I'm this
on the server side all right so let's go
ahead and create the client folder okay
so everything on the front-end is going
to go in here alright so let's create we
need two controllers folder that's what
our angular controllers will live let's
have a CSS folder and a views folder and
we're just using HTML files for our view
I'm not going to use any special kind of
template engine or anything like that
alright so we need to a front-end app
j/s this is where mostly our routes will
go we're going to use the angular route
script and we also need an index file
all right now for controllers we're
going to have of course of books
controller
and even though I'm not going to really
deal with the genres I'm still going to
create the controller file so you guys
can continue with that all right views
going to have a couple of these okay we
need one for the home page which is
going to be the books just a list of
books we'll call that books HTML ok
we're also going to need a book details
page
okay we're going to need a page to add a
book
and then we'll need an edit book page
alright
in a CSS file and that should be it for
files
all right so let's go ahead and I'm
going to I'm going to use the sidebar
here from now on
and let's open the index
all right so we'll just create our HTML
tags create a title now we're going to
need a few things so we're going to need
bootstrap we're going to need angular
angular route and jQuery although I
don't think we're going to be using
jQuery but I mean it's good to just have
anyways so what we're going to do we're
going to use bower to install these and
bower is a package manager for the
client-side okay so it's similar to NPM
which is for the server side all right
so to install it you want to do NPM
install G you want to add the g4 global
so that you can access it from anywhere
and then Bower
all right and while that's going on we
can go ahead and include our stylesheet
okay so it's in CSS slash style dot CSS
and we're going to use bootstraps so
let's navigate to get bootstrap calm and
we're going to grab a navbar so if we go
to getting started and then go to
examples we have this sada template and
you can view the source with control you
I'm going to take the navbar from that
but first let's go ahead and include
these all right so we have bower
installed and what we want to do is
navigate to the client folder and we're
going to say bower install and let's add
a save flag that's just going to add it
to the Bower manifest and we're going to
install bootstrap angular angular routes
and jQuery alright so I can take a
minute actually that goes pretty fast
yeah it's all it's all front-end small
libraries alright so let's go back to
the root of the application and we're
going to go in and include all those
scripts and I'm going to do some copying
and pasting just so it doesn't take as
long so all the scripts are going to go
down here
okay so we have jQuery angular angular
route bootstrap our app J s and then our
two controllers all right and then up
here
sorry about that let's include the
bootstrap stylesheet okay so that's
going to be in bower components slash
bootstrap slash I think CSS just check
real quick
bootstrap
dist CSS all right all right so while
our scripts are included let's grab that
nav bar all right so I'm going to grab
everything from this beginning nav bar
down to this ending container dip all
right so I copy that Jesus let me turn
that town
you
all right so we're going to paste this
in and let's change a few things here
the project name we'll change that to
bookstore and so let's see we're all the
only thing that we're going to have in
the nav bar besides the title is an ad
book link because everything else we're
just going to have the books on the home
page and then we'll click on a book it's
going to take us to the details page and
we'll have a new I'm sorry we'll have an
edit and a delete link on that page
alright so all we need is an ad link if
you want to go ahead with the genres and
you want to add maybe a search by genre
or something like that you can do that
so let's get rid of these two links and
I'm going to change this to add book and
that's going to go to number signs slash
books slash add and we'll be creating
these routes alright and I'm going to
give it another class called navbar
right okay that's just going to float it
over to the right and then I want to get
rid of this class right here this navbar
fixed top and it's changed now by our
inverse - nav by default
all right and if we go down here to the
Container we're going to delete what's
in the middle of the container div and
we're going to use the bootstrap grid
system just a little bit so we need a
road get a row class and then we'll do I
guess we'll do a 12 column dead for now
and you know the look of it the style
I'm not really concerned with you guys
can can deal with that if you want I'm
just going to use just a standard
bootstrap look alright because it's not
the design that we want to focus on it's
the functionality all right so let's
save that and see if we can check that
out so if we go and restart the server
or actually start it we need to do node
app all right then we'll go to localhost
3000 and there's our navbar let's take
that active class off the book link
okay so now we need to I guess angular
eyes this and we can do that for the
view everything that's going to be
displayed to angular is going to go
through this div right here we're going
to say ng view alright so that's a
special directive that angular uses to
output all the views all right now for
it to use any directives or anything we
need to create an NG app up here and
we're going to set it to in this case
let's say my app okay that's basically
the initializer and then that should be
it as far as this file we shouldn't
really need to do anything else so let's
save that alright and now we're going to
go and open up a P is make sure it's the
app J as in your client folder not the
one that we created in the last video
alright so first thing we need to do is
create the app object so say my app and
we're going to set that to angular dot
module and then we want to pass in the
name which is going to be my app and
then we need our dependencies okay we're
going to have one dependency but even if
we didn't you still need to have an
empty brackets here for it to work
correctly but the dependency that we're
going to be using is ng route and that
comes from that angular route file that
we installed all right so now we want to
do is set my app config
and this is where we're going to set up
all of our routes so we're going to have
a function and then we're going to pass
in the route provider and then we can
use that to create our routes all right
so we're going to say route provider
dot one and then we want to pass in
whatever the URL we want which in this
case let's do the homepage which is just
a slash and then we need to pass in a
couple more values okay so we need the
controller we're going to specify which
controller we want to use when the user
goes to this route and that's going to
be the books controller all right and
then the second thing we need to specify
is the template URL all right so this is
going to be in our views and it's going
to be books dot HTML all right so really
easy to understand if we go here we're
going to use this controller we're going
to show this view all right so we can
keep on adding on to this we'll say dot
one and for this one let's say we want
slash books and I actually want this to
do the same exact thing as the home page
so we'll just grab these
all right next thing let's do the
individual books alright so we'll say
slash books slash details slash and then
the ID and we can use this : ID as a
kind of a placeholder alright and then
again we're going to pass in the
controller same thing books controller
and template URL it's going to be
different this time it's going to be
views slash book details alright
couple more
let's do the ad form so that's going to
be at Books
slash ad and we'll just change this to
ad book and then we'll do books / edit
and then we we need to include the ID
for this one as well so it knows which
one to edit alright and we'll change
this to edit book alright and then the
last thing we're going to add is dot
otherwise so this is basically saying if
the user navigates to anything else
oops I don't need that I just need
anything else other than these URLs then
what do we want to do let's just say we
want to redirect to slash alright so
it's going to be redirected to the home
page if it's not one of these URLs
alright so that's it that's it for this
app j/s file so now we need to take a
look at the controllers so let's open up
controllers books j/s so in the books
controller we're going to specify my app
again and it's going to be angular dot
module and my app ok so now we can call
our controller we'll say my app dots
controller
okay first parameter is going to be the
name of the controller all right and
then we have we need to include some
stuff here all right so of course we
need our function okay this is where all
of our controller code will go we also
need to pass in a couple things here
okay we need the scope scope is
basically what finds the controller to
the view alright so you can pass things
back and forth with with angular's
two-way data binding system alright so
for instance if I say scope dot name is
Eric okay so we should be able to in the
view just do something like this name
and that should equal Eric that will
spit out Erica and you can set that to
responses from the database or whatever
it may be okay so we need scope we also
need the HTTP module that's going to
allow us to make get requests and post
requests to our API all right then we
need location which deals with
redirection and things like that and
then we need route params
and this is going to allow us to get for
instance get variables or values from
forms and things like that
okay now this will work as long as you
don't use the minified version of
angular alright if you use the minified
version it's going to break because when
you minify it it's going to change these
two shorter names okay so this could be
a or something like that and then it's
going to break so to avoid that
happening you want to specify all of
these
in here as well I'm sorry in here
alright so we want to go like that and
then we also need quotes around them
alright so that's gonna make it so that
this doesn't break on you alright so
just like that
now what we want to do is we want to
create a scope function to get the books
alright so we'll say scope dot get box
and we'll set that to function and then
what we're going to do is use the HTTP
module and we're going to make a get
request and the URL that we want to make
the request to is the one that we
created which is API slash books all
right then what we want to do is just
say dot success and in there we're going
to set a function and that's going to
take in a response object and then we
can assign it to the scope so we'll say
scope dot books is going to equal that
response all right and then oops and
then we can actually access the books
inside of our view all right our
template so let's save that and let's go
to views and then books dot HTML and
let's just do just to attest real quick
and then also in our controller I just
want a console log
and we'll just say books books
controller loaded alright so let's go
here let's open up that console and we
get books controller loaded and also
test alright so that's working good now
in books HTML I want to use bootstrap
panel so let me grab the snippet for
that
think it's under components and then
where is it panels
and I want a piano with heading so let's
grab this alright and the heading will
just say latest books
all right panel body let's go ahead and
create a row all right now since we're
passing in an array or we're passing in
or with the results which is books we
need a way to be able to loop through
them and display each one in a list all
right and to use that angular gives us
the ng-repeat directive so we can say
div I will say div ng-repeat and that's
going to equal book in books div okay so
it works like I guess like a for each
loop would work alright so for each book
let's put it in a three column div okay
so we'll say call MD three
okay so each book will have a div with
three columns and then inside that let's
do half and half one side will have the
image one side will have the the title
and the description alright so we'll do
a div will do md6
okay and then we'll just copy that again
and on this side we'll go ahead and put
the title okay so remember since we're
looping through books we're going to use
this I'm going to use book alright so
we'll say book dot title alright and
then underneath we'll do book dot
description
and then for the image I'm going to say
book dot image URL and let's save it
oh actually one thing since we put that
in get books in a function we have to
call this all right so to call it we can
actually put in a directive called ng
and knit and what that does it's just
going to run whatever function we put in
here
so we're going to say get books
all right
now I have two books in there already
I think the titles I put is the same so
just kind of ignore the content that's
in there we just want to make sure it we
can get it all right all right so the
images are way too big so that's an easy
fix all you have to do is go to our
style sheet and say image and it will
say with set that to a hundred percent
all right all right so that description
looks much too long or the div is just
much too small let's see how it looks if
we just have instead of having three
four columns of three column dibs let's
do two all right so let's see instead of
this being three let's change that to
six
there we go looks better and then I also
want actually the title should be an H
for you see how I have I've truth the
die for both and that's not it's not an
error in the system or how its rendering
I just put it like that so just ignore
that so let's put the title in an h4 and
then we'll put a button underneath
should I do a button I will do a link
give it a bootstrap class BTN BTN
primary and the link it's going to go to
what's it going to go to slash books
slash details slash and then we need the
ID which we can just stick right in book
dot underscore ID
whoops I didn't put our I didn't end it
there we go that looks pretty good let's
give the image a class of thumbnail that
just puts a border around it okay yeah
looks pretty good and if we click on it
it's going to take us to ebooks details
and then the ID all right so that's the
next thing we're going to want to do is
create that that template and also that
controller function so let's go back to
our books controllers and I'm just going
to copy this and I'm going to change it
to get book singular and it's going to
get API slash books slash ID and we're
going to set this to scope dot book
because it's just one and that that
actually should do it ok very small
amount of code it's much easier than
doing like a like an AJAX request
through JavaScript or jQuery alright so
now let's open up the book details
template and I'm going to copy books
just for something to start with
alright except we're going to call get
book and let's have the h3 be the title
so book title now let's see let's get
rid of
keep that row and get rid of everything
in between
and let's create a couple columns so
we'll have a four column for the image
will say call md4 and then we'll have an
eighth column for the the other
information
all right so we'll stick the image in
here
and then on this side let's do guess
we'll do the description
okay we'll do that and then let's create
a ul and I'm going to give it a class of
list group which is a bootstrap class
and then the Allies will get a class
list group item
okay so this first one is going to be
genre
this one the author
publisher and let's do pages all right
let's take a look at it
okay so let's see what do we got down
here looks like we're getting a 404 our
API API slash books what did I do
all actually I'm an idiot I put ID that
doesn't it that's not what we're
supposed to do we're going to create a
variable called ID and then we're going
to use that route params to get get the
ID from the URLs so you can stay route
params dot ID all right and then we can
just put this in here we're going to
have to concatenate it on like that
okay what happened now
long who's ever cast error what
up there we go
all right so now we're getting all the
the information let's go ahead and put a
back button up here so we have an easy
way to get back so input details
let's go above the panel we'll just go
to books
all right cool so now we're getting the
list of books we're getting the
individual book oh I need to put a
button to go to the the biolink to go to
Amazon so upload that put that right
under the UL okay so that's going to go
to book dot buy link and let's see let's
give it a class say buy on Amazon and
let's make it open up in another window
alright so buy on Amazon - ok book dot
buy link oh by its by URL not link
there we go all right cool so next thing
I want to do is we want to be able to
add a new book all right so let's go to
back to the books controller
and we're going to create another scope
function and this is going to be add
book all right so this time we're going
to be making a post so it's going to be
HTTP POST and we want this to go to API
slash books all right and then as a
second parameter we need to put in what
we want to post and in this case it's
going to be scope scope dot book which
will create in a minute and then we have
success and then we're just going to
redirect so we'll say window dot
location dot H ref
we'll go back to books all right so now
we need to do is we need to create the
form that's going to submit to this
alright and that's going to go if we
click add book it's going to be this add
book HTML alright so let's go let's copy
this and replace that with add book ok
and then I'm going to get rid of this
whole everything from within the row
alright and then I'm going to do is
create our form actually let me grab a
form from get bootstrap just to start
with
okay so I'll grab that
all right so this forum we're going to
create an event handler we're going to
say ng submit and we'll set that to add
form and we want to get rid of this
right here this get booked all right so
let's see what we got we need the title
and we don't really need the for
attribute I'll make this as minimal as
possible type is going to be text we
need the form control we don't need the
ID but we do need a name so name is
going to be title placeholder I'll just
say title all right let me get rid of
these because most of our fields are
going to look like this all right and go
except for this one this is we're going
to have a select for the genre so we
want select name equals onre
and class is form control
actually we need we need this wrapped in
in a forum group div so I'm just going
to replace this input here with the
select all right and let's change this
to genre and we need some options
and I'll fill those out in the second
off-camera what I'm going to do is pause
it and go through and just change all
these and I will be back all right guys
I'm back and a couple things I want to
point out I know that I had the name
attribute on each field before but you
want to change that to ng-model
all right and that's what binds the
scope to the view all right now also for
the ng-model names you want not only the
field name but it should be book dot and
then the field name so this case it's
book dot title
all right that way we can just send the
whole book object to the post as opposed
to just sending separate values all
right here we have books on row this is
a book dot author publisher pages
description which is a textarea image
URL and by URL all right so those are
all the fields so get that copied I'm
going to save it
and there's our form
ah what does this border looks like I
got some of the mock-up a little screwed
up yeah I put the UM actually no that's
fine we get the title panel title panel
body which ends there
oh you know why it's probably because we
don't have any columns in our row so let
me just let's do a div class and we'll
do call em d12
alright and then that's going to the
ending div will go right after the
ending form there we go that's better
okay so when we submit this it's going
to go to the AB add form function that
we created so let's give it a shot all
right so I'll grab a book off Amazon
all right and let's say
see mystery-thriller
let's grab this right here rogue lawyer
okay so I'm just going to kind of copy
the details
okay we'll choose suspense author
publisher
ah let's see Random House I guess it
doesn't really matter
pages will say 500 description
we'll grab this
okay then the image URL let's do copy
image URL that and thereby URL is going
to be this page and let's submit it
all right so something's going on are
not going on so we have at the top we
have form ng submit ad form all ad phone
should be ad book so I'm afraid I'm
gonna have to enter this all again let's
just do a quick test so I don't have to
enter everything again and then just
have it give us an error
okay so post connection refused alright
so let's go to the controller check it
out HTTP POST API slash books let's do a
console log of the book we're submitting
oops what happened
validation error because I left some
fields out that are required actually
did that give us a
it doesn't tell me much
alright let's try it again
submit
oh so now it goes through yeah you can
see here it's that's our object alright
so it went through now I'm going to try
one more time with with the actual book
all right so let's copy the description
so I wrote that guys I know this is kind
of time-consuming
publisher was what Random House
something like that pages image URL
okay bye URL
on submit
there we go all right so this one's kind
of screwing it up but we're going to do
the delete function now so we'll just
get rid of it after we do that all right
so to delete let's go to view details
and what I want to do is have an edit
and delete the link down here all right
so let's go to book details and we're
going to go under everything down at the
bottom we'll create a div give it a
class of pull right
it's bootstrap class all right we'll go
ahead and put our edit link in here all
right so this is going to go to slash
books which we need the number sign
books / edit and then we need the ID so
I'm going to say book dot I'm the store
ID
okay so that's the Edit okay so this
will be delete
and what we going to do is just give
this an ID so the link doesn't have to
go anywhere and then we'll just say ID
and let's just say delete book okay so
now we have our links down here
okay so we click on edit it's going to
go to books edit and then the ID so
let's go ahead and let's add that
function in the controller actually
we'll do that after because the function
is for when we submit the Edit form we
just wanted to show it so let's go to
our edit book view and actually we can
copy what we have an ADD book to make it
a little easier alright so we'll change
this to edit
and we want the submit to go to edit
book actually let's call it update book
alright and we also need to call our get
book function because we needed to fill
in the form
alright so we should have values should
have access to those values
all right so ng-model book title all
right so these we don't have to change
these ng models because it's angular
gives us two-way data-binding
all right so there's not much we have to
do here if we save that okay we have our
form
okay so if we go to view details and
then edit let's open up the console
I get booked is an unexpected token what
did I do oh I just put get booked in ng
submit we have to have the ng and NIT
directive
there we go all right so it fills that
stuff for us now what we want to do is
create this update book function so
we're going to go to the books
controller and let's let's just grab
this change that to update book now we
want the ID so we're going to do what we
did here and get book
okay then we want to say HTTP dot put
and we're going to change this we got
API slash books slash and then we want
to concatenate on the ID
okay scope dot book that's what's coming
in from the form that's what we want to
replace it with success
we'll just redirect all right so it
looks good
all right so that should change let's go
to this book here we have the wrong
title anyways so let's go to edit and
then we'll change it to the stand and
submit and you can see it it updated
alright so we can now edit our books so
now we just need to create the delete
method alright so let's go back into
book details and I initially was gonna I
don't know I wasn't really thinking I
was going to say that we needed to make
an AJAX call for delete but we don't
have to do that and I mean outside of
angular so we can actually get rid of
the ID here and we're just going to use
these ng-click
I'm sorry ng click yeah and we're going
to set that to remove book
and we also want to pass in the ID so
right in here we're going to say book
dot on the score ID okay save that now
let's go back to the controller and
we'll create remove book
okay so it's going we're not going to
get the ID from the URL this time we're
actually going to get it from the
parameter okay so it'll pass in ID and
I'm going to say HTTP delete API books
ID and we're not passing this in so we
want to get rid of that and then success
and then we'll just we'll just get
redirected all right so let's save that
let's go check it out
okay so I obviously want to delete this
test thing here so let's go click on
that delete and it's gone alright so we
now have complete crud functionality on
our front-end I know it's not the most
full-featured app in the world but it's
a foundation something for you to build
on and you can also see how we can build
the client-side in addition to what we
did in the last video with the server
API
alright so that's it hopefully guys like
this video and you learn something if
you could subscribe that would be great
and I will see you in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>