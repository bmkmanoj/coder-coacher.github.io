<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Part 1: Flash AS3 Real Time Auto Updating Chat Application Tutorial for Websites | Coder Coacher - Coaching Coders</title><meta content="Part 1: Flash AS3 Real Time Auto Updating Chat Application Tutorial for Websites - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Part 1: Flash AS3 Real Time Auto Updating Chat Application Tutorial for Websites</b></h2><h5 class="post__date">2009-11-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XeWKauwFUEQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody
Adam at the Bela PHP here and in this
very short series we're gonna be
learning how to create this real-time
flash ActionScript 3 chat application
it's like a chat box for your website
visitors and we're gonna make you can
see mine is member-based because I have
a custom member system but I'm gonna
make this tutorial universal to where
anybody can chat in your application and
we'll just put a little field down here
that says name they put their name in
there and they breast chat they write in
what they want to chat press chat their
name shows up and the chat shows up
okay so in part one here we're gonna be
discussing the chat applications
programming logic because a lot of new
guys don't really understand the data
flow that happens within a dynamic
application like this so I'm gonna go
over all of that in depth and then we're
gonna create the MySQL database table
that we need that's gonna store all of
the chats and the person's name and
things like that
everybody's chats will be stored in
their that way we can render out a big
window full of everybody's chats
okay this illustration here has four
boxes up top and then one big box on the
bottom and these four boxes up top I'm
gonna show the tutorial layout that's
how our tutorials gonna flow and then
this box here on the bottom this large
box on the bottom shows the applications
data flow how information and data that
people type in is going to flow and get
stored and come back and get rendered
and everything like that so part one of
the tutorial layout is going to be we're
going to create the MySQL database table
and set the fields we need inside of it
for storing all the chats our two is
going to be creating input form elements
and a chat display window in flash it's
going to be one application that does
all of it and then part three we're
going to create the parse file that is
going to be the middleman sort of
between flash and MySQL server so if
actually of ActionScript three had
direct functions for communicating with
the minus QL server we wouldn't even
need PHP in this instance but since
there's no comprehensive set of MySQL
functions native in flash ActionScript 3
we have to use PHP as a middleman so PHP
is going to be the guy that kind of
transfers data in between the two
applications MySQL server which is the
database and flash which is the input
and viewing device ok so now in part
four we're going to upload all the files
to the server and test everything out
and then we're done so I think there's
gonna be four parts to this let's take a
look at the application data flow here
at the bottom so the
first thing that happens is flash has
timer functions and we can make flash
check for new chat posts at any interval
we like 30 seconds 5 seconds 1 second if
you want and what it can do is send a
call out to PHP file that will check to
see if any new data has been posted to
the database the chat database or the
chat table since the last post and if it
has we're gonna render out all that data
to the display window that way everybody
sees the newest data and so what it does
is if it finds the newest post every
populates the chat window with the new
data this is needed so everybody
chatting sees the most up-to-date data
in the chat window and not just the
chatter so if you made it to where just
the guy chatting so the newest updated
data that wouldn't work we needed to be
for you know 10 thousand people are
watching the chat it needs to update for
them too so that's why I built the timer
into it and I set mine for 5 seconds you
can set yours for any amount you want if
you want to save bandwidth you can set
it for 30 seconds whatever you want to
do I I find that it doesn't have a huge
bandwidth drain on my site so I let it
go at 5 seconds so every 5 seconds
anybody in the world watching it will
see updated data in the chat window here
so when Johnny comes what he's gonna do
say this is Johnny he is going to type
his name into this field and we're gonna
script our flash application to sense
whether or not that field is empty or
not if he didn't put his name in he
won't be able to chat so we'll make sure
the flash application is program it's a
sense whether or not that name field is
empty or not so it'll doesn't he'll put
his name in and then he'll put in his
chat whatever he wants to chat to people
or on the site and then he'll press
submit and then there's two variables
that get sent via post variables via the
post mechanism to the PHP file and that
is the name and the chat in his case is
Johnny and hello everybody
so once the PHP file picks up those two
posted variables we have them and we can
work with them we also grab the users IP
address so you can write IP block
mechanisms so in case anybody gets
annoying you can just go into your
database see who the annoying guys IP
address was and then we can write a
block mechanism I might show you how to
do that it's only like three lines of
code that way an annoying chatter can't
chat okay so user IP the name the chat
and the date/time will be sent to our
MySQL database table for storage and
display and then the cycle once MySQL
gets the new chat data from the latest
chatter the cycle loops over and over
continuing new post checks every 5
seconds or 30 seconds whatever you set
it as ok so now let's go ahead and get
on to step 1 here and create this MySQL
database table needed that will have the
fields required to store all this all
the little pieces of data that our
application requires ok
okay so this file automates the table
creation process for so you guys can
start thinking a little more dynamic in
your scripts and your applications or
you can choose to not use this method
and go straight into PHP myadmin
and create this table called chats and
put all these fields into it manually so
the first line of code in this script is
require once the file which is named
connect to MySQL dot PHP require once or
require which is written like this or
include which is written like this are
all kind of similar to where they will
bring in script and another files code
into the current one you're working in
now I use this method this way if I have
20 different PHP scripts that all need
the connection data in them I don't have
to write the connection data directly
into the tops of all the all those files
I can just sync in this one line that
way if I ever need to change my
connection data I have to move my
database or something I don't have to go
into all 20 of those files and change
the connection that I can do it in one
file and all of them will be affected
that's why this method is handy okay
so in line 6 here we create a string
variable this string is responsible
right here this string is responsible
for creating the table within our
database when it gets fed into this
MySQL query function here okay so in
this string we set the ID field to be
auto increment not null which means not
empty it cannot be empty and it has an
integer value which is as a max of 11 so
the ID field
this will keep auto increment things
soever each at the first person in a
chats that's chat one has ID of 1 the
second person that chats in your
application that has a chat ID of 2 so
on and so forth the user IP will be the
person who chat it's IP address and
that's a bar chart field 255 set to not
null as well it must not be empty
user name field is the person's name
who's chatting it's bar chart 255 which
is it could be any kind of characters
any kind of string with the value of 255
no more characters than 255 and that is
not null as well cannot be empty the
chat body can be empty or you can set it
to not null if you want and that's a
text type field so a text type field can
hold a lot more than 255 characters you
want to set it to where it can only hold
255 in each little chat then set this to
varchar' 255 as well the day time is set
to a date/time type and that is null so
that can be empty or you can set that to
not null as well because it's always
going to be sent in regardless so you
can set that to null or not null and
it'll still work but this has a
date/time type the day time field is set
to day time type and the primary key on
this table is the ID field so what we do
here is we sink in the MySQL query into
this query result variable so we create
a new variable called query result we
run the MySQL query using this SQL
string we created here now the result
it runs the the code at this point right
here and the table is created if
everything goes right so here we set up
an if condition to see if everything
went right if the query result is
explicitly true then we print out
success in table creation happy coding
else no table created check your syntax
and SQL string structure and then we
close the MySQL connection and that's
pretty much how it works okay so I just
FTP this exact file to my server I'm
gonna run it now in a browser to see if
it creates the table for us and we're
looking for a table called chats to be
created I'm gonna go into Safari here
and I'm gonna put my address to the file
into the browser with address bar
Center success in table creation happy
coding so if there was any problem with
anything I wouldn't get this message
here so I'm gonna go into the database
and make sure that that table was
created in PHP myadmin
I'm gonna go which you could use PHP
myadmin you can go straight in just make
that table manually like I said so let's
give it a check let's press to refresh
this list here and see if it showed up a
table called chats and there it is
there's the chats table
let's hit the structure take a look at
what's in it user IP field username
field chat body date time
you can't browse it because it's empty
there's no entries in it yet okay
so we'll we'll keep going in part two
we'll create the input form and flash
will get the flash side of things going
and then we'll create the PHP parse file
in part three and then bar 4 will test
the whole application out make sure
everything's working smooth okay so make
sure you catch part two and I'll put a
link to it right here bye bye buddies
I'll see you guys next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>