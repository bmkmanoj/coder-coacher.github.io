<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>4. MySQL PHP Search Programming : SQL MATCH AGAINST Fulltext Search Syntax UNION Tutorial | Coder Coacher - Coaching Coders</title><meta content="4. MySQL PHP Search Programming : SQL MATCH AGAINST Fulltext Search Syntax UNION Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>4. MySQL PHP Search Programming : SQL MATCH AGAINST Fulltext Search Syntax UNION Tutorial</b></h2><h5 class="post__date">2011-10-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HnmEMiI1YvY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to MySQL PHP search programming
exercises Bob fall and I'm sad to say
this is the final part of the series
guys but boy have I had a good time and
if you've not had a good time as I have
I can perhaps come to your house and
show you a much better time one-on-one
band checkup and panel another thing in
this lesson you will learn to use the
match and against the syntax that we
discussed in part 3 but we have not
shown that yet what we showed in part 3
was using the like syntax upon now we're
going to show the full text search using
match and against and you can see right
here it orders by relevancy descending
and what's really cool is I only had to
change three lines in this script from
the previous lesson so the script for
part 3 this is the same script I'm using
right here but I just changed three
lines and I'm going to show you where
right now you can see this SQL command
starts off pretty much the same and it's
still Union so you can see there's two
SQL I'm sorry there's two select
statements there at play and they're
Union all I did was change from after
the where clause so after the where
clause we had the like syntax at play
before I swapped out the like syntax for
match syntax so we have match and
against so we're matching page title
field and the page body field we're
looking in those two columns within the
database for this match against the
search query and then the same for the
blog table where we are looking for a
match in blog title or blog body against
the search query now this gives you
different results using the match and
against syntax rather than using the
like syntax and I'm going to show you
exactly what I mean and then I change
the line so let's put that back up and I
change this line here to do the same
thing I changed after the where clause
all of this is the same before the where
clause after the where clause I just
swapped out the like syntax for the
match syntax and the same thing for this
one that's all I had to change it took
me all of about two minutes to change
this script from using like syntax to
using match syntax now let's discuss how
relevancy comes into play and you can
see that there will be a difference in
the way things get picked up and put
into the result set as opposed to using
the like syntax and we have to also
remember in order to use the full text
search we have to have full text indexes
within our database you remember that
when we made page title page body blog
title and blog body that we made sure
that we set them as full text indexes
when we created the tables oh wait
there's two more things to using match
and against doing full text search I
think there has to be at least four
characters in the search query if it's
four characters or less I think it has
an empty result set and if there are for
instance remember how we put every page
that we put up in every blog that we
populated the database with had blah
blah blah in the in the body of it so
that means if you use match and against
to search for blah blah blah in this
scenario it'll give you an empty result
set because full-text search will give
you an empty result set if over 50
percent of the columns that you're
searching through have what you're
searching for in it if over 50 percent
of the columns you're searching through
have the search query that you're
looking for in it you'll get an empty
result set and actually this page still
being up with the other results when I
search for blah blah blah using the like
syntax you can see the like syntax is at
work here but now I've changed the page
and it's now using the match and against
syntax and I'm going to search for blah
blah blah again in the whole site and if
was anything like the like syntax we
should get the same exact results but
you'll see that we'll get an empty
result set
you see says zero results for blah blah
blah and now we're using the match
syntax and the reason why you get zero
results for blah blah blah even though
bla bla bla is in every one of the
articles the reason why you're getting
zero results is because when you do a
full-text search if over 50% of the
columns have that query in it you'll get
an empty result set but now let's see if
I type in let's show you a good example
of how this search mechanism
differentiates from using the like
syntax so if I type in flash I submit
query just like the other like syntax I
get two results but now let me type in
Flash Eskimo now if I was to type this
in I would get zero results using the
like syntax because the like syntax
targets the exact phrase and flash
Eskimo that that exact phrase is nowhere
in my database at all but using the
match and against syntax
it gives me close enough type things and
it'll also order things by relevancy so
let me show you what I mean if I type in
let me just type in flash website that
will be the first one in the list and
you can see that it even picked up other
things that have the word website in it
in this article that I had XML RSS feed
it was titled XML RSS feed in the body
of that it had the word website and it's
picked it up because it's a more natural
word search and it lists by relevancy of
what I typed in so instead of searching
for flash website let's search for Flash
gallery ID number three should be on top
of ID number eight because that is more
relevant to my search query let me
submit see you can see now that flash
gallery is on the very top because it's
more relevant to what I searched in
flash website is secondary in the same
with the blog table
right now it's searching the whole site
so you can see it's running the match
and against syntax with the union so now
let's uh how about if I type in pet bird
something from the blog submit so I get
the two but now if I type in dead bird
with like syntax I would get zero
results but now I type in dead bird I
get two results because it picks up the
word bird and even though the word dead
is nowhere anywhere in my database the
word dead is nowhere in my database but
I can type in dead bird and I still get
some results because it's close enough
to other things and it all lists it out
by relevancy it orders it by relevancy
and there's even ways to get the value
the number that is the relevancy value
you can get a lot more information on
using the match and against syntax at
the MySQL online documentation the
reference manual online from MySQL okay
so all we have to do is supply you with
this version of the search script that
has the match and against syntax at work
in it just in case some of you guys need
to see the source code it'll be up at
develop PHP and I'll have the link to it
in the video description here ok so that
concludes this series we hope you've
enjoyed it and if you guys have any
questions I always read the comments at
YouTube even though I might not answer
back because I get have so many videos I
get so many comments that I can't really
fairly answer you know answer back in
any fair capacity so I choose to not
answer anyone back I think it's the most
fair way to handle it because I don't
want to play favorites with anyone okay
so if you have any questions though and
if it's something that is really
important or it makes my wheels turn you
know I might get back to you about it
whatever if you have any burning
questions you can also rely on other
people that might read your comment and
they'll probably answer it before I can
okay I'll talk to you guys real soon
remember you can get all these scripts
that we've been working with through
this series of develop HP calm</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>