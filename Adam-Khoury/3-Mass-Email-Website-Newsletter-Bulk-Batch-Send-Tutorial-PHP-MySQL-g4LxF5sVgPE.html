<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>3. Mass Email Website Newsletter Bulk Batch Send Tutorial PHP MySQL | Coder Coacher - Coaching Coders</title><meta content="3. Mass Email Website Newsletter Bulk Batch Send Tutorial PHP MySQL - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>3. Mass Email Website Newsletter Bulk Batch Send Tutorial PHP MySQL</b></h2><h5 class="post__date">2009-12-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/g4LxF5sVgPE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">however all my friends what we did in
the last tutorial part 2 of this series
was we created the MySQL database and we
make sure we connected to it we FTP
files that were quick test the end of
video number 2 of part number 2 of this
series I was going to take these two
parts here gather their name and email
address in a form and parse that data to
a - cute - this MySQL database that we
connect it to I'm going to combine those
two things into one file call it index
dot PHP and it's going to be the index
file inside of the newsletter folder so
all they have to do is navigate to that
newsletter folder no particular the
viral inside of it just navigate to that
folder and then the form will will come
up that's how we're going to make it so
let's open up Dreamweaver here and
here's our connect to MySQL dot PHP file
and obviously mine has my real
connection data in it on the server and
I don't want to show you my connection
data because you'll all hack my site I
don't care it's create a new file file
new go to PHP let's get rid of I mean
you can have your document set up any
way you need to I'm just going to do a
basic example so there's HTML tag and
then it closes down here there's a body
tag opening closing title tag and the
head tag inside of the body tag I'm
going to add a form I have it pre-made
and I'm going to explain it okay here's
my form now before I start explaining
that I'm going to throw a little title
in there it's more appropriate for this
document subscribe to our newsletter
great so I have the head tag inside of
is the title tag and the HTML tags
wrapped around everything there let's
save this as index
dot php' it's going to have a PHP
extension on it already so just name it
index save okay now this form which is
we're using to gather the name and the
email address of the people that we want
to put in our subscription list in our
database this form is two fields one
name one email and then there's a submit
button down here and in just a moment a
little further on in the video we're
going to see exactly how this thing
looks rendered in the browser you want
to fast forward to that spot take a look
at it how it looks in the browser
feel free come back whatever but anyhow
so this form has a you'll see some
things that you don't normally see in
forms here and I stuck the legend tag in
there the legend HTML element which is
used in form making and you can use that
to put a nice graphic display rounded
edges around your form and everything
else you'll see it just just go look so
the first thing in the form is we open
the form tag and we set some attributes
and values inside of it and we close the
form tag here on line 18 there and in
the opening tag we set a style of the
440 pixel width and then in the action
which is the file that it's going to
call to parse this data I just sunk in
serve herself which makes it parse to
itself no matter what the vial is named
if you use this in the action it will
parse to itself okay and the method is
post now here's the field set the field
set style and the fieldset tag closes
right here so you can see it kind of
goes around all of the fields and the
legend tag and it's not a very necessary
thing but you'll see the way my form is
designed and you'll say hey that's
pretty nice-looking and it's all
standard HTML tags and elements that you
can use to accomplish that so basically
it's all it is two fields a button
and inside of the fields value I'm
echoing out a name variable and an email
variable and I'm going to put some more
PHP in the top of this file so these
variables will be initialized and
everything is B it will be great so now
you understand how the form is set up
and you will see it in the browser in
just a moment and I'm going to add the
PHP to the top of this file that's going
to parse when somebody presses submit
and added information to the database or
do error checking and stuff like that
okay here I go going to break line there
bring that tag down one line and pop in
my PHP code you'll see it's 34 lines
from the opening PHP tag to the closing
PHP tag and it sets right above that
HTML page that we just made HTML section
of the page all together
54 lines you can't beat that it's too
easy you can go into design view and
look at it right now but it's going to
be rendered a lot different the form
will be in the browser it's nothing like
what it's going to look like it's sort
of what it will look like but let's
discuss this PHP now the first thing we
do is initialize on line which two and
three we're initializing actually two
three and four we're initializing three
variables name email and message to user
which are going to be used as output in
the page so you have to initialize them
in some environments you'll get warnings
or errors if you don't initialize those
not on my environment but I threw it in
there because there's a lot of different
environments and we want to cover most
most of the bases that we can while
we're at it okay so on line five we have
an if condition and if an else condition
statements are used to create logic and
kind of check things before certain
other things happen so that's what we're
using it for here okay so in this line
we say if the post variable of name from
the name field in that form down here if
that posted variable is not equal to
nothing so basically this form if they
press submit without putting their name
in nothing at all is going to happen and
nothing at all should happen if you want
to code yours out to where it says
please add your name you can do that
just fine but I made it to where if they
put their name but don't put the email
then they'll get an error warning saying
please supply your email so here in the
code
you'll see right here if they post the
name and there's a value in it we're
going to run this section of code if
there's no name value it just gets
bypassed it doesn't run so if there's a
name value we connect to the database we
connect to the MySQL database through
our include file and then we add or we
take the the posted variables from the
form and we create local PHP variables
that we can then use more easily in our
script and on line 12 we established a
MySQL query and in that query there's an
SQL line right here some SQL string that
is set to select all from the newsletter
database table where the email is equal
to this person's email that they're
trying to put in then we check num rows
or we set the numbers into a variable by
using the MySQL num rows function on
that SQL query now this has a value of
how many this finds so all we have to do
is check and see we're going to use that
a little further down in the script
right here but first we run a condition
to check and see if the email is empty
or not this line right here is saying if
there is no email variable set or if no
value in that email variable then we
output in a message to the user saying
please type an email address and we even
put their name in there just to be cool
so to say please type an email address
Adam if I forget to put my email address
in but if I do put an email address it
won't run this code so I would have put
my name and my email address it's going
to run right past this code and not even
run it because this evaluation would
return false if this returns true then
this runs and don't worry if I'm kind of
losing you I'm going to step back look
at the whole 34 lines and
run it down real quick again okay so if
there is no email variable set that
there's no value we give them a message
of kind of like an error output saying
please type in email address and then if
that condition doesn't meet true here
this expression does not meet true then
we run on to this one here that says
else if the NAM rows is greater than
zero we output a message to user of
email is already in the system that
means that email address would have
already been in your database and you
don't want to have multiple email
addresses the same email and you can
even set the the field type or the field
in the database to unique so there can
only be one and each one has to be
unique but this is a good way to check
to make sure they're all going to be
unique within your script and remember
remember when we ran the Select query
here to see how many numbers it gave up
that's where we're using that evaluation
there see that variable is going to show
how many are in the database and if it's
greater than zero we're not going to add
anything we're going to tell them it's
already in the system but if it is equal
to zero which it should be in most cases
we're going to run on to this else
condition here and all of this code will
run so that's how it works basically and
this is an SQL insert query and it has
an insert into newsletter the name the
email and the date/time field and
database with the values of the name
variable the email variable and and now
time stamp and if it all fails if
anything fails within this it will die
and give the MySQL error after that we
set the message to users to be like the
success message thanks name you have
been added successfully because
everything went right and you'll see
that we clear the name field in the
email field so they empty out in the
form all right down here in the script
we have echo message to user you see
down on the bottom in the HTML part of
this file that really doesn't show up
until this PHP kind of processes and
they press submit and that is rendering
message to user variable right here
anytime anything messes up and in the
error handling of this script we print
out a message to user nothing below it
will run and it just goes and prints it
out in the page so the way this works is
using these if and else if and else
conditions here that's basically those
work to the meaning of the word you'd
have to be kind of dense not to
understand if this is happening run this
code else if this is true run this code
else if this thing and this thing didn't
match up and meet run this code that's
it and that's the main the main post
check right here if the post name is not
equal to empty that closes right here
but all of our inner conditions are
nested right here so we check to see two
things gone wrong then we give an error
message else we do the successful thing
and put the information in the database
and give them a good successful message
that's how that works now let's go test
it out
okay so here I am on my server I'm going
to go to that directory newsletter
straight to the folder not any
particular file I'm just going to
navigate to that folder because the file
is called index so now you can see the
design that the form has using that
legend tag it's pretty cool I like it it
gives you a nice little professional
edge over what other people are doing
because not many people use that legend
element so now let's just press submit
perfect it does nothing which it should
do nothing because the person's not
cooperating and putting any information
and so they should expect nothing now if
I put Adam let's put Adam Cory and let's
put my email address actually let's
forget to put my email address and press
submit see nice red text please type an
email address Adam Cory that's smart
programming now if you go to put an
email address in and I'm going to
discuss some things with you at the very
end about validating email addresses and
I have it at the site I just put it up
actually
let's press submit see what happens
thanks Adam Cory you have been added
success successfully let's go check the
MySQL database through PHP myadmin
actually very quickly before we go check
I'm going to try and put the same name
and email address in
it should give me an error message yep
it says Adam at flash building comm is
already in the system it's perfect so if
I change my name and put Joe and Joe at
my cool site comm submit thanks Joe
you've been added successfully well now
let's go check the database or actually
let me show you first because I know you
guys are going to be bugging me about
this all you bird orcs saying you don't
even bill do the usual to to correct
valid email address well go to my PHP
course scroll down to where it says
working with strings and alphanumeric
characters validate email addresses with
PHP preg match and regex click that and
there you go add that to your script and
you can validate email addresses to make
sure they have the proper structure that
an email address should have
here we are in PHP myadmin for the
newsletter table and I'm going to click
browse we should have two entries in
there and it's perfect for our timestamp
in their email address name and their
incremented Auto incremented ID received
we're going to be discussing what that
field is for a little bit later on so
we're going to stop this one right here
and we'll pick up in the next part of
the series where we can finally create
the email blasting function and that's
pretty much the last little bit because
we've covered everything else and
everything is working successfully these
files will be available so if you guys
had trouble seeing anything in the video
you couldn't type the code because you
missed the character in the video or
whatever the code will be available the
scripts for download okay so we'll see
you in the next part of the series hang
tight we're almost done</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>