<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WAPG 6 SVG Animation Programming SMIL JavaScript CSS | Coder Coacher - Coaching Coders</title><meta content="WAPG 6 SVG Animation Programming SMIL JavaScript CSS - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>WAPG 6 SVG Animation Programming SMIL JavaScript CSS</b></h2><h5 class="post__date">2017-06-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bF5S9q97TU8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello in this part of the guide we're
going to discuss SVG animation
techniques scalable vector graphics is a
format for describing 2d graphics with
support for interactivity and animation
we're going to be taking a look at these
three approaches we're going to use
javascript to adjust SVG attribute
values we're also going to use CSS to
adjust SVG elements and their styling
using the CSS approaches that we learned
earlier in the guide and then finally
we'll take a look at SVG animation
elements which are part of synchronized
multimedia integration language and the
first approach is the only one that is
supported in all major modern browsers
the last two approaches are ones that
are not yet supported by Microsoft
browsers and before we get started here
is a link to the SVG specifications
where you can learn complete and free
about SVG 1.1 1.2 and 2 and also there's
a link here for the changes from SVG 1
to SVG 2 so here we have a very simple
SVG element that renders the container
with a border around it now inside we
can put a rectangle element and now set
its attributes to their defaults x
equals 0 y equals 0 width let's make
that 50 the height let's also make that
50 and then the fill will make red so
now we should have a red box that's 50
by 50 sitting in the upper left hand
corner for our example to have
JavaScript easily identify and target
this element I'm going to give an ID
equal to rect 1 then we'll put in our
script element close it off the first
variable will create is direct 1 object
reference so that's equal to document
dot get element by ID and the ID is rec
1 then we're going to define a variable
for the requestanimationframe ID so
we'll call it rec ID for short then in
that line we can also define an X
variable and
it gets default0 now we'll type in
function animate and the first thing
we'll do inside of the function is X
plus + to increment the value of x by 1
each time the animate function runs
which this animate function is going to
be running around 60 frames per second
then we want to target rect one and use
the set attribute method the attribute
name that we want to affect is the X
attribute of rect 1 and then the value
is going to be the dynamic x value
that's being incremented here and then
to make this function animate or loop
over itself we set the request ID to
window dot requestanimationframe animate
this method will make this animate
function
keep firing off at a rate of something
around 60 frames per second now at this
point the animate function is not being
called to run so we're going to use that
same line the request ID for the
requestanimationframe and call animate
so this line will just execute once and
then this line will make the animate
function execute over and over and over
so inside of our function we're having
javascript dynamically set the attribute
of the X attribute up here and give it
any value that we want over time so
let's take a look at what that gives us
so we have the red box now animating
across the screen on the X plane the
horizontal axis we can preview that in
Internet Explorer just to make sure it's
working there also because not all
animation approaches will work in
Internet Explorer but this is one that
will certainly work but we have
different attributes that we could
target we could target the y-axis its
vertical positioning we have width and
height those are all animatable
and SVG elements can also have a
transform property or attribute so let's
say in the transform attribute I put the
rotate 45 degrees and see what that
gives us
and now the rectangle is rotated 45
degrees there it is an Internet Explorer
and to have it not come out you can set
overflow to hidden for your SVG element
because an Internet Explorer the box
will show outside of the SVG container
so you just sit overflow:hidden and
you'll see the box disappear and then in
Chrome it it has that behavior by
default so I can remove overflow:hidden
from the SVG container and in Chrome it
won't show outside the boundaries of the
SVG box but in Internet Explorer you can
see it outside the boundaries of the SVG
box that's why I had overflow:hidden
there now what you can do is target this
transform set attribute for the
transform attribute and you can
dynamically change its rotation over
time and transform attribute comes with
all kind of functions that you can call
such as skew rotate translate scale and
things like that which can all be found
at the specifications that I linked you
guys to and there's also another way
that we can target certain attributes
and adjust their base value so I can
take these two lines the X plus plus and
the set attribute method and replace it
with this one line which reads rect 1
dot X attribute base value value plus
equals 1 so basically that's saying X
plus plus on the base value of the X
property by the X attribute that's just
like saying plus plus so we should have
the same speed when we look at this yep
then you can change that to a 2 which
will make it go a little bit faster and
you think you can just plus
Plus that as well if you wanted to
increment by one each time yeah so it's
like saying X plus plus but you're doing
it on the actual base value of the X
attribute for the rectangle see if we
can adjust all of this to animate the
rotate function in the transform
attribute so the attribute name that I
want to effect would be transform then
between single quotes will put rotate
function and will put the dynamic and
then instead of having a dynamic X we're
going to have a dynamic d4
that would stand for degrees rotation
degrees and we'll just Plus+ those we
don't need this line anymore and then
dynamically set the rotate by putting in
single quote single quote and then plus
plus and in between the plus signs we'll
put the D variable it's basically just
concatenated that D variable to that
string the rotate function string that
way we can have a dynamic value there
okay so you can see it's rotating but
it's leaving the view of our box so
let's put those back on zero x and Y and
then we can adjust the view box let's
put it at 0-0 400 by 200 was our view
box actually let's put that over here
now we should have the same view box now
let's adjust these values let's give it
a say negative 100 there see what that
does
see how it moved it over 100 pixels this
way to the right now let's give it
negative 100 for the minimum Y
and now it's rotating 100 pixels by 100
pixels on the X&amp;amp;Y plane into the SVG
element so that's how you can animate
SVG elements using javascript to target
certain attributes and adjust their
values to make an animation so in this
example I wrote a little application
that creates an analog clock and it's
not really finished but something you
can put in the rest of the numbers for
and other graphics to finish it you can
see how the second hand goes along with
the time in an animated fashion and
we're using the same set attribute
transform rotate to make all of those
clock hands move according to what time
it is so I'll offer this code that you
can study or you can also finish up the
clock if you want to put in the rest of
the numbers and use any graphics that
you want for it and what's nice is that
this also works in Internet Explorer in
all major modern browsers now the next
animation approach for SVG that we'll
take a look at is CSS adjusting the
style properties for SVG elements which
unfortunately it's not supported by
Microsoft browsers yet want want want
want so let's take this SVG container
this one has a circle element inside of
it we gave it a class of flash circle
because that's how we're going to target
it through CSS and animate it it has an
x position 50% Y position 50% radius is
50 and we have a fill and a stroke color
set and see what that gives us view that
in Internet Explorer also and we get the
graphics now I'm going to put in some
CSS above that and this is CSS that
we've learned earlier in the guide a
keyframes animation and first what we're
doing here is just targeting the SVG
element itself we're giving it a border
width and height that's just the SVG can
then we have a keyframes animation
called flasher and that changes the fill
and the stroke and the stroke width of
the flash circle and the keyframe
animation settings are set right here on
the flash circle class here we have
flash circle class and here we have the
class flash circle targeting in CSS we
have the animation property set here for
flashier the keyframes animation flasher
to run at a one point five second
interval in a linear fashion infinitely
and you can see we're going from the
normal fill color and stroke color here
to a different fill and stroke color and
stroke width back to the original stroke
color and fill color so let's see what
that renders there's our flashing circle
now if we check that in Internet
Explorer we get no animation and you can
use CSS to animate your SVG elements in
much the same way that you would animate
any of your other HTML elements but it's
just not very well supported in
Microsoft browsers this example I wrote
uses CSS transitions when you click the
menu button it opens up into more
options or it opens up the menus options
and then the menu button itself changes
to a smaller version of it with the X in
the middle that way it can be closed
opened and closed cool little animated
menu system that you don't see very
often you can see we have the transition
property set for the ellipse elements
we're using the transform CSS properties
on all of those ellipses and that's
what's making the animation happen you
can see down here we're using transform
style property so that's CSS and I'll
also give you the code for this
application as well this one shows how
to
add some interactivity to those elements
that are animated on the screen or
interactivity is what causes the
animation to occur the last approach for
SVG animation that we'll be taking a
look at is SVG animation elements and
remember I give you guys links to the
SVG specifications which house all of
the documentation that you need to learn
about the animation elements and all of
the SVG elements themselves there under
the animation section there which can be
found inside of the SVG 1.1
specification we're going to start with
an example where we have an SVG
container and inside of it we have an
ellipse let's take a look at that now
I'm simply going to apply the animation
element inside of the ellipse nested
inside of the ellipse this animation
element has attributes that are going to
let us establish what type of animation
we want we set the attribute name to see
X we're going to affect the CX attribute
of this ellipse from 50 which is its
default CX is 50 so we're going to go
from 50 to 250 X over a duration of 3
seconds with a repeat count of
indefinite you can put 1 to whatever
number you want there or indefinite if
you want it to keep repeating and we'll
have it begin at 0 seconds which is like
a delay if you want to set it a
one-second delay you could put 1 second
there so let's see what we get it goes
from 50 to 250 and then repeats
indefinitely then this next example
we're going to demonstrate the animate
transform element which this is all
completely documented at the links that
I gave you okay we have a rectangle in
the corner of a box now inside of that
rectangle we're going to put an animate
transform element I just separated the
properties or the attributes by line so
you can see exactly what's going on so
we have an animate transform element the
attribute name is transform that's the
attribute that
want to affect begin zero seconds that's
our delay duration three seconds the
type of transform is translate we're
going to transform from position zero X
zero Y to position 200 X 200 why repeat
count indefinite
in this final example we're going to
demonstrate how to animate on a motion
path so let's take a look at what we're
starting with it's just a path that's a
rectangle sitting inside of its SVG
container
right above that I'm going to put in the
motion path this is the motion path that
this path is going to follow now
attribute D that you see right here that
holds all of these coordinates that
establish the motion path this is your
path data attribute which you can
research this at the documentation that
I link to you guys to in the beginning
so basically I set up the coordinates
the move to and these curves to make an
egg shape so let's see what that gives
us so there's the egg shaped motion path
now I want to take this rectangle and
animate it along this motion path sort
of like if it was a train going on a
track so in order to do that within this
path nested in this path we want the
animation to occur on we're going to put
an animate motion element this has a
duration of 6 seconds repeat count is
going to be indefinite so it'll keep
going over and over and over the nested
inside of the animate motion element we
have a motion path element referring to
the motion path 1 id here so this is the
path that this path will follow let's
see what we get and there it goes and
this
to be any shape or line setup that you
want so that the SVG animation
approaches and don't forget the
documentation where you can learn really
in-depth about SVG complete and for free
at your own pace here are a couple of
playlists that are related to this video
and you can subscribe to the channel if
you'd like to get notifications when I
produce new videos</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>