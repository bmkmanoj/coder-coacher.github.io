<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Upload Multiple Files Array Programming Tutorial | Coder Coacher - Coaching Coders</title><meta content="PHP Upload Multiple Files Array Programming Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Upload Multiple Files Array Programming Tutorial</b></h2><h5 class="post__date">2014-03-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7fTsf80RJ5w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'll all in this exercise you can learn
to program
PHP multiple file upload applications
which is the art of uploading many files
as an array in a single form request and
moving them to your server all at once
at the end of this lesson I'm going to
link you to an ajax and PHP file upload
application tutorial with progress bar
included that you can take to experiment
with to combine the two lessons together
and also at the end of the video we're
going to discuss your server limits
regarding how many files that your
specific server can upload
simultaneously because each server can
be set differently by the server
administrator which is usually you I'm
beginning with an example dot HTML file
and it's just the bare-bones
that's not much going on so in the body
element I'm going to start with my form
tag you can go down a couple of lines
and make sure I close my form tag now
for the form attributes the first thing
we'll do is set the action and the
action value is to be set to the URL
that is your PHP parsing file and I'm
going to name mine my underscore parser
dot PHP if you have yours in some folder
named maybe parsers you would just say
parsers forward slash and then the name
of the parsing script but since mine is
going to be in the same exact folder
I'll just refer to it like it is
now the next edge review is the method
and that's going to be a post method and
then the last attribute we need for this
is the encoding type and we want
multi-part form data in order to be able
to send files through the form all right
so our form tag is all done so we're
going to go into that put a paragraph
tag and in that paragraph tag we're
going to put an input that is type of
file and this is what gives the user the
little file dialog that click to browse
your computer dialog it's the file form
field then let's give it a name and in
this case the name attribute is
important to our application so we'll
name it file underscore or
Raye and since it's going to be an array
of files we have to put the brackets to
specify that this is going to be an
array and then we can close our input
tag now let's just grab that whole
paragraph and let's put in two more so
we can let the user search on their
computer and find multiple files to
upload at once and you don't have to
change the name or anything on any of
these they can all be exactly the same
because they're part of a group the file
are a group and we do that by giving
them each the name value of the file
array with the brackets so when this
request is sent to PHP over the post
method you're going to be able to scoop
up the file array files variable in PHP
and it's going to be a multi-dimensional
array so what you're going to get from
PHP is an array that houses many
different arrays and we're going to
break them down to get all the files now
the very last thing our form needs of
course is an input button
we'll make it input type of submit and
let's give this a value so our button
can say whatever we want it to say and
I'll write in upload all files and
that's it the user interface part of the
application is finished all we have to
do is the server-side PHP script now
which is my parser PHP so create
yourself a new my parser dot PHP script
in whatever code editor that you like
and let's start with opening PHP and
closing PHP tags now usually when I
parse a form I usually want to check and
see if one of the variables are set and
I'm going to get this exact name of this
file array here for all these form
fields and I'm going to say if open
close parenthesis opening curly brace
and closing curly brace and for the
expression in the if condition I'm going
to check to see if the file array is set
so if is set open closed parenthesis
then you put the object reference for
what you want to see is set in this case
access to global files and then in
between its brackets you just put two
single quotes or two double quotes and
then the name of the file array coming
from the form in our case it's file
array so basically this if condition
just says if the file array is set then
we
run any code that we need to write here
if it's not none of this code will run
now remember when I said that this is
going to be a multi-dimensional array of
sorts because it's an array that has
many arrays inside of it so the first
one is the name array and you access
that easily by specifying the files
array and then in between square
brackets you put the key of the array
that you want to access so since we want
to access the names array to get all of
the file names that were uploaded we're
going to put name here because that's
the key for the array that we want for
the element that we want within the
multi-dimensional array so once we get
that element out of the array we know
that it's an array itself and then those
arrays can be looped over and that's all
we're going to do now it helps if you
know how to upload one single file in
PHP already if you've never uploaded a
file in PHP before this lesson might
seem a little bit confusing alright so
the next array that we need is the temp
name rate so this variable holds an
array of all of the temp locations where
the image is stored on the server
temporarily before it's moved and you'll
need those variables in the move
uploaded file function and really this
is the only very necessary one for the
move uploaded files function all the
other stuff is just extra data that
we're going to grab so now we're going
to get the type array so this array
holds all of the types and since our
form is letting the user upload three
files at once each of these arrays are
going to have three elements in them
this array is going to hold three names
this array is going to hold three
references for the temporary location of
the file this array is going to hold
three types because they might be jpg
gif PNG who knows this array returns the
sizes for each file that way you can
evaluate the sizes for each of the
uploaded files independently by using a
for loop okay now the last little array
of values we want for all of the files
is the ever array and that will be 0 for
each file if there's no upload errors
and it will return a one if any of the
files happen to have any errors in the
transaction now all we need here is a
for loop to run over the length of any
one of these arrays that you specify
since temp name array is really the only
one that's detrimental and necessary for
moving the uploaded file to the server
that's the one I'm going to use but keep
in mind you can use any of these arrays
to get the count for how big or what the
how many files are in the array so in
this for loop parameters you have to
find out the count for how many files
are actually being uploaded so first
thing in for loop is we put the I
variable make it equal to zero put
semicolon then we want to evaluate to
see if I is less than count of any one
of these arrays so I'm just going to
grab this one right here and since they
all have the same length they'll all
return the same count semicolon and then
I plus plus increment the I variable so
this for loop is just basically set up
to run as many times as there are
elements in the array and in my case
there will be three uploaded files so
this for loop is going to run three
times so now in this for loop you'll
have access to all of the files
separately and independently so we can
now move them using the move uploaded
file function in PHP you can also put an
if condition inside of this for loop to
see if the move uploaded file function
is successful or not now let's look at
the parameters in the move uploaded file
function before we put anymore
condition logic in so you can see move
uploaded file gets two parameters the
temporary location where it's waiting on
the server and then its final
destination on the server where it's
going to actually live after it's
uploaded so you put the patch and the
name here as the second parameter to the
move uploaded file function there's
really not much more to it than that
like I said you could put an evaluation
here if you want to make your script
just a little smarter that says if the
move uploaded file function returns true
then we're going to run this code you
put the name of the file and then you
add to that
String upload is complete so to show the
name of the file that was uploaded and
tell you that's complete for each file
in the array else if move uploaded file
does not return true then this code will
not execute this code will execute
instead you can say to the user move
uploaded file function-- failed for
whatever the name of the file they're
uploading is and this upload application
could be for images it could be for
videos that are huge it could be for
audio files mp3 wav files whatever you
want it's not just images move uploaded
file moves any uploaded file and that's
the end of the parsing script so you can
see how simple it all is once you get
your head around the multi-dimensional
array that comes back that is returned
over the request or I should say sent to
PHP over the forum request so knowing
that this is a multi-dimensional array
that has a whole lot of little arrays
inside of it we want to snatch up all of
those little arrays inside of it as
variables here we're making local
variables out of all of those little
arrays inside of the main array and then
we can simply for loop over any one of
those arrays that we want and you can
use any one of these you can use the
type array size array error array just
like I use the name array here all right
so if you want to display the size or if
you want to make some if condition to
check the size you can do that no
problem because you'll have the size of
each function available and you'll have
its type to see if it's jpg PNG or gif
or if it's a dot mp4 dot avi dot mp3
that will be in the type so you can
check to make sure that files are a
certain type if you want now I'm going
to test this on my exact live web server
online because I don't want anybody
saying that this code doesn't work if it
doesn't work for somebody then they're
not on a PHP enabled server that's the
only thing that would make it not work
really and that whatever folder that
you're uploading to has the proper
permissions to allow files to be
uploaded to it and the folder that all
of these files are going to be moved to
is test uploads so I'm going to make
sure I have a test uploads folder in my
web route I just wanted to show you guys
that I'm in my public HTML on my live
web server that's PHP enabled and I'm in
a folder I'm looking in a folder right
now called test uploads so the test
uploads folder definitely exists on my
server and let me check the file
permissions file attributes you can see
that it's zero seven five five on my
settings so they're pretty loose and
that setting will allow you to upload
images no problem okay I'm just going to
prove that it's working on Adam Cory
calm and example that HTML is the file
I'm going to navigate to you're going to
make sure you have example dot HTML and
my parser PHP on the server when you
test now I have three file fields here I
can choose file and that opens up a
dialog so you can search your computer
for any files you want okay so as you
can see I have three files selected and
they just happen to be image files that
are all JPEGs but it could be any files
that you want to upload and I'll press
upload all files so it says Adam ate
that JPEG upload is complete image lolol
to jpg upload is complete one pirate
that jpg upload is complete those are
all three of the files that I chose in
that form now you want to go to your FTP
program again and I use FileZilla and
you want to refresh this folder because
sometimes if you go up one level and
then try to go back into the folder you
still won't see the new files in it so
what I do in my FTP program send a
little whatever file over and then I
just quickly delete it it could be any
file yes and then I go up one level then
back into my test uploads folder and I
see everything there those are the three
files I just uploaded you can see
they're sitting inside of the test
uploads folder on my server so
everything worked fine now you can see
the file sizes on all those files that I
put 34 kilobytes 35 very small and if
you happen to have much larger files
like big video files that you're
allowing people to upload to your server
you want to get into the PHP any
file for your server and change the
maximum upload size the file size the
max file size that people can upload
there's a couple of different directives
that you have to change inside of the
PHP any file for allowing very large
files to be uploaded to your server it's
just not that way by default I think
most servers are either two megabytes or
ten megabytes by default or I should say
most PHP configurations by default are
two megabytes or ten megabytes that's
the max file size that you can upload so
if you try to upload an mp3 that's 20
megabytes it's not going to work you're
going to make sure in your PHP dot ini'
file that you have larger limits set for
uploading and if you speak to your hosts
they can tell you exactly which
directives in your configuration file
that you need to increase for uploading
very large files there's another PHP dot
ini' directive called max file uploads
so if you look for your max file upload
setting you can then change that setting
if it's not satisfactory for your needs
so don't miss the max file uploads if
you find that your form or your PHP
parser isn't allowing a whole lot of
files to be parsed all at once it might
have a limit set that you don't even
know is there but it's a it's available
for you to look at and change in your
PHP dot ini' file and PHP dot ini' file
is the file that sets the whole PHP
configuration on the server now before
we part ways remember in the beginning
of the lesson I said that I was going to
link you to an AJAX and PHP file upload
application with progress bar included
now you can go to develop PHP com hit
the JavaScript video section and then
somewhere near the bottom of my
JavaScript list which I'm going to make
this list for the JavaScript lessons
here at the site the video lessons I'm
gonna make this list a little bit
smarter than it is I have them all
jumbled together in one big list but
they really need to be sectioned out I'm
going to do that pretty soon but you can
go down to the bottom somewhere here I
have
just look for a file upload progress bar
and actually you can just go to my
search bar and type in file upload hit
go and then just make sure that you're
searching in video tutorials hit go
again and there it is file upload
progress bar meter tutorial Ajax and PHP
so once you get to that tutorial you can
watch the video and then take all this
code and what this allows you to do is
add a progress bar for all the files
being uploaded in your multi file upload
application so you can smash the two
lessons together Hulk smash and that's
how you create PHP multiple file upload
applications now I was thinking a moment
ago that some people might ask how
YouTube allows you to upload one video
and then while that one's uploading you
can queue another video to upload and
then queue another video to upload what
they're doing is they're adding new
forms to the page dynamically so they're
not really parsing multiple files at
once they're using Ajax to upload all of
those files independently each file is
being uploaded independently at YouTube
using Ajax and that's how they give you
a progress bar for each independent
video so this PHP code that we wrote
today is really different from what's
going on there they're just parsing one
file at a time so basically what YouTube
does is for each video that you want to
upload a new dynamic form is added to
the page and it has its own separate
progress bar and everything separate for
each different video so it's a kind of
different sort of application altogether
if you've enjoyed the video you just
watched click on the subscribe button to
tune in to Adams channel he produced his
new videos on a regular basis
the loader subscribe-button are a few
more of his video tutorials that other
viewers have found to be helpful or
inspiring thanks for watching we'll see
you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>