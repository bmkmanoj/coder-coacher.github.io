<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>3. MySQL Database Tables Creation PHP Script Logic Tutorial | Coder Coacher - Coaching Coders</title><meta content="3. MySQL Database Tables Creation PHP Script Logic Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>3. MySQL Database Tables Creation PHP Script Logic Tutorial</b></h2><h5 class="post__date">2013-01-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fCUEc-txcm8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now that we've created our MySQL
database on our host and we have the
proper credentials in our database
connection script we can now create the
necessary database tables for our social
software system we're going to use PHP
script to create and also structure the
fields inside of the new database tables
and just keep in mind that at any point
if you so choose to create your tables
through PHP myadmin instead of direct
scripting you can do that or if you want
to jump into PHP myadmin after we run
this script to verify that all the
tables are created in the database as no
problem
okay so our new script that we're going
to use to create the database tables is
going to connect to the database through
our database connection script that we
created in the last video so we're going
to remove the else condition off of the
if condition because we don't need to
echo out successful database connection
happy coding we know that we're
connected successfully now with the
proper credentials in our MySQL I
connect function okay so just remove
that else condition because it's not
needed throughout production you should
leave your file just like this now go to
file new we're going to create the new
PHP script that's going to be for
creating our database tables and this is
going to be an temporary file that lives
on your server only as long as you need
to to run it once you run the file after
you get your database tables created you
delete it from your server online a
press ctrl s to save this file into your
root directory so here's my web
intersect website folder on my local
machine here and in my root folder I'm
going to save this file as make my
tables and it will have a PHP extension
save so we have make my tables dot PHP
so let's open up a PHP scripting block
now the first thing we have to do inside
of this temporary make my table script
is include the database connection
script that way this script connects to
the database successfully and then can
then create the tables so if you go to
file open you can see your folder
structure and inside of your root
directory you have PHP includes and
that's where your DB underscore connects
lives so what we're going to do is type
in include once which is a PHP function
open close parentheses and put your
semicolon then in between the
parentheses you're going to put the
location and the name of the file that
you want to include once our location is
PHP includes folder and the viol is DB
underscore connects PHP so now this
script is successfully connected to the
database and online on your live web
server where your website is actually
running online you want to really make
sure that your directory your folder
structure is exactly the same as it is
on your local side and what I mean is
don't forget to FTP all these files to
the web and all these folders okay they
have to be on the web for you to connect
to them correctly so on your live web
server you have to have PHP includes
folder and inside of it has to be your
DB connects that PHP script now we're
going to create the SQL syntax for the
first table so you can go down a couple
of lines type in dollar sign table users
and that's going to be equal to
everything that we put within these
double quotes and then put a semicolon
now the syntax to create a MySQL table
is simply create table and then you put
the name of the table we're going to
name our first table users and then you
simply open and close parenthesis and
then in between your parenthesis you
want to put some new lines there just
bring that down and then indent this to
right about there so you have something
that looks about like that and then
indent line five also too right about
there now right here on line five is
where we're going to put all of the
fields inside of the users table so this
syntax will create the table users and
then it will populate that table with
all of the fields that you specify here
and each line can be comma separated so
you can put many different fields okay
my first field is going to be named ID
it's going to be a data type of int or
integer and it's going to have a value
of 11 that way it can be up to I think a
number up in the billions will say not
know which means upon placing data into
that field
it cannot be empty when that row is
filled and it's going to be auto
increment that means this field auto
increments so it starts at 0 and then as
each row is placed in it increments that
number automatically so when my first
user joins he'll have an ID of 1 my
second user joins he'll automatically
get an ID of 2 and so on and so forth
now as you populate each field within
this table you put a comma trailing each
directive except for the last one ok so
now let's make our necks
line in this field is going to be named
username and this is where your members
username will be stored
it's a varchar' field type and we're
giving it a value of sixteen that way
you can't have more than sixteen
characters in it so if somebody tries to
insert a name with 24 characters the
database just won't accept it this field
won't accept 24 characters it'll cut it
off at 16 and this one is not know also
that means the field cannot be empty
when the row is populated we also want
to store the members email address and
that is also bar char data type with a
max of 255 and actually the characters
max is 255 for varchar' fields I believe
so if you want to just max it out and
give it the or you can make this 100 if
you want and it'll cut off at 100 I'm
just going to make it 255 in the next
line we have to store the users password
that's also going to be varchar' data
type not know the next field is the
user's gender this is going to be
enumerated data type and we're going to
have two options that it could be either
M or F this is also not null because
when the person joins the site we're
going to make them specify whether there
are male or female to us now this next
field we're going to store the users
website their web address for their
website and this can be varchar' data
type 255 and this one we're going to set
to null that means it can be empty
because not all of your members may have
a website yet or whatever and they might
like to leave that empty and that's
that's something that you wouldn't take
from them in your initial registration
form you would take that from them after
this next field we're going to store
their country okay let's define the rest
of the fields here the next one is going
to be user level and that's going to be
enumerated type as well but you'll have
options of a B C or D and this will
allow you to make some users have more
privileges than others and we set it to
not know and have a default value of a
when the user joins this field we'll
just get a default value of a and then
later on inside of your admin panel or
whatever kind of options settings you
set up for admin whoever can promote
your users that's the person that would
change this user level from A to B C or
D to promote that user
when everybody joins they're just a
normal member with user level of a
avatar is for their picture and this is
just the means of cash busting their
profile picture so whenever they change
their probe their main profile picture
you're going to change the file name
within this avatar field the next field
is IP we're going to store the user's IP
address directly when they sign up and
you can also update this field at any
time sign up date that's going to have a
date/time datatype it's a special string
that holds date and time so when they
sign up we'll know the exact time and
date that they signed up now last login
is to record when they sign up will
populate that with the sign up date but
then the next time they log in we're
going to update that field so this way
our system knows the user's signup date
and the date they last logged into the
system this field this notes check and
this one we're going to use this also
has a date/time data type and this one
we're going to use to update the date
and time every time they check their
notifications and this way what you can
do is give them a blinking icon if you
know that there are notifications in
there that they haven't checked yet and
you can use this date field for that
purpose so if the user comes to your
site on the header you might want to put
a blinking something or maybe something
to attract their attention to let them
know that there have new notifications
and the last field is activated and
that's an enumerated data type and has
values of either 0 or 1 not know so when
they join it has a default value of zero
and this is in place so that you can
send an email to each person that joins
your site when they join and they have
to actually verify that email address by
checking the email contents and clicking
the link inside of it that's going to
update your system your system will be
updated from 0 to 1 for that member and
that way your system knows that that
members email address is verified and
they actually get email messages to that
address that way they're not lying about
their address basically so that's it for
the fields now we're going to add two
more directives for the table we're
going to add a primary key for the ID
field
this field up here ID not only will it
or increment it will also be the primary
key which will also give it a unique
index so no two IDs could be exactly the
same and then finally the last line
notice this one does not have a comma
all the other lines have commas at the
end of them this one does not because it
is the last directive and what this line
does is sets the unique keys on the
table to user name and email so
basically with these two lines you're
setting primary key to ID which makes
that have a unique index and you're just
setting unique indexes for your username
and email so no two users can have the
same ID or username or email within your
system people could have the same
country they can have the same password
even but they cannot have the same email
username or ID okay so this completes
the SQL syntax for creating a MySQL
database table now to actually execute
that as a query against the database
you're going to type in this line
variable called query and that's equal
to MySQL I query and for the MySQL I
query function you need your database
connection link here and then your SQL
syntax goes after that normally if
you're used to regular MySQL query it
would look just like this if you're
using MySQL query function you only feed
this parameter which is your SQL syntax
but if you're using the MySQL query
function you have to set the link first
for your database connection and then
your SQL syntax goes afterwards now
after that line the database if
everything is correct and you're
connected and all your SQL syntax is
correct
you'll have a database table called
users created into your database now to
verify that you run this if condition
which says if the query is explicitly
equal to true which means that if
everything worked out with this MySQL I
query and there were no hangups it's
going to echo out user table created
okay and a smiley face else if there was
any problems and this doesn't return
rooo it's going to echo out user table
not created and it'll give you a sad
face so when you run this script you
better look for smiley faces if you see
any sad faces you've got a problem buddy
okay one more thing you can do in your
SQL syntax in your create table syntax
is to put in if not exists after the
word table you put if not exists users
that way if the table users already
exists within that database this script
won't replace that table or cause any
conflicts so that's just an optional
thing you can do now that you understand
the entire script so far I'm going to
put a line here and just paste in the
rest of the table creation queries so
let's start at the top here you have
your table users that we just went
through in depth and the next one is
going to be user options and you can see
it gets different fields and inside of
user options I added a
question-and-answer field and this can
give you enhanced security if you need
an extra layer of security for any kind
of delete actions or any kind of secure
functionality on your site when the user
signs up you can have them choose a
question from a list and then supply the
answer for it and you store both of
those things the question they chose and
the answer and then when you have to do
anything really really secure in the
site like change password or change
email or possibly delete an article or
something like that
now the next table that's going to be
created is the friends table and you
just have the user one who is the person
requesting friendship and user two who
is the person who accepts that
friendship and when they accept then you
update the date made field to reflect
the date and time of when the friendship
was accepted and you change the accepted
field which is enumerated between the
values of 0 and 1 and the default is 0
that means the friendship is not
accepted until user to actually confirms
it when the user 2 presses confirm on
the friendship then that is when your
system updates accepted field to 1
making that friendship a real Union and
this accepted field is here
that way you can use this table more
efficiently that way you can have your
friend requests be directly in the table
your actual friend requests are the
friendships and they're not really made
into a friendship until this accepted
turns to one and if user two denies the
friendship or ignores it then you just
delete that row from the database
completely okay the next table is
blocked users and that's simple you're
going to have the block E or the
blockers name here whoever wants to do
the blocking you put that user name
there and the person being blocked is
the Block E you put their name there and
then the block date the next table is
going to be status and this is your
conversation table this is where you
hold all of your conversations and I'll
discuss all of the fields within this
table a lot more in depth when we go to
scripting that application the next
table is photos and this is how you're
going to store string data for all of
the photos on your site and you connect
those photos to an actual user through
this field called user that's where you
put the user name that owns the photo
and if they have individual galleries
you put the gallery name there that that
photo belongs in and I put a description
field we have upload date and file name
okay the last table is notifications and
this is for your notification software
on your site what happens is anytime
anybody does anything on the site that
you want to maybe inform somebody else
about that might be their friend or
whatever you slap it into the
notification table for that friend that
you want to inform you can see each of
these uses date/time enumerated bar jar
and int all of these tables and so we
explained how all of those work when we
set up this syntax up here so you know
how enum daytime and bar char and all of
that work and the rest of the tables are
all set up with similar type fields and
for each table syntax you just run a new
little query that will create that table
and then you simply check it real quick
so remember you want to get nothing but
smiley faces when we go to run this file
so I'm going to save this file I'm going
to FTP it to my root directory my pub
HTML fold and then I'm going to simply
navigate to it directly using my browser
to execute it make it run ok Here I am
live online webinar set calm and I'm
going to put a forward slash and make my
tables dot PHP tables dot PHP and then
I'm going to press ENTER all right I got
nothing but smiley faces baby and that's
what you want if you have any sad faces
then you had some kind of problem occur
or if you have any other kind of output
some kind of problem occurred so we have
one two three four five six seven tables
notifications photos status blocks users
friends user options and the main user
table all created okay now to verify
that you can simply go to your hosting
account control panel and it's usually
right here near where the MySQL
databases little icon is you'll see PHP
my admin click that and on the left
you'll see your social database you
click that oh by the way if you have to
log into PHP myadmin you simply put your
your MySQL user name and your password
you login to get to where I am now
alright so you can see we have all of
our tables made blocked users friends
notifications photos status user options
and the main user table is right there
at the bottom so I click users you can
see the structure of that database table
and you can see we cannot browse it
because there's no rows in it yet it's
empty until we get our first member so I
just wanted to take you into phpMyAdmin
so you can visually inspect all of your
tables and their structure
okay so that completes an in-depth
explanation of using PHP to script table
creation and establishing data storage
tables for your software systems with
the tables made we can now start
bringing the website to life I will see
interested parties in part four</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>