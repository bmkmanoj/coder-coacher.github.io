<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Audio Workshop 6 Playlist Array JavaScript Tutorial | Coder Coacher - Coaching Coders</title><meta content="Audio Workshop 6 Playlist Array JavaScript Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Audio Workshop 6 Playlist Array JavaScript Tutorial</b></h2><h5 class="post__date">2014-05-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eETHE3VHdcU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back to the audio workshop okay
okay okay okay you guys have expressed
that you would like to see how to
construct playlists and possibly shuffle
things so we're going to resume with the
same exact code that we left off with in
video number four we're going to add the
code that we applied in video number
five just so that no matter what browser
the users listening with they get the
correct kind of file mp3 or OGG so we'll
add that code and we'll just keep it in
place I know I said I wouldn't add it to
all the lessons but we'll just add it
once and keep it in place so this is the
same exact code that we left off with in
video number four and I'm going to take
all the variables and we're going to be
creating a playlist player now so I'm
going to take all the variables that we
initialized outside of the init audio
player function and I just put them
inside and they should all still work
exactly the same that way I just wanted
to neaten things up and make sure
everything was inside the init audio
player function see there's the audio
track playing and remember the code for
all of the videos is underneath the
videos at my site so every time we
release a video there's also
corresponding code directly underneath
it now we're going to put the code that
we applied in video number five that's
to serve up OGG file audio type files to
people using Firefox and opera which was
all discussed in video number five so
now we have a variable of extension
agent and we check the agent to see if
it's Firefox or opera if it is we change
the extension to dot-org everybody else
gets mp3 then like we did we'll go down
here and remove the extension and just
put plus ext to add the extension to the
file name now what we're going to do is
go down to where it says audio loop and
we're going to change that to false
because we are going to be switching
tracks every time the audio is ended now
right above the extension variable I'm
going to add another variable for a
directory and that stands for the audio
directory would ever folder all your
audio files are in so we can just copy
that
and down here where it says audio source
we could remove the directory see how
we're putting audio forward slash we can
remove audio forward slash and then just
put dir Plus and then just test again to
make sure it's all working it's working
just fine now directly under the
directory folder I'm going to add
another variable called playlist this is
going to be an array so we put the
square brackets and then in between
floats we're going to add our array
elements which in this case are going to
be songs from a playlist so you see here
the string stoker that's the name of the
song that I've been playing the whole
time I'm going to take that ctrl C I'm
going to make that the first element in
the array now I also have some other
songs in my audio folder and I'm going
to make them part of this playlist one
is named skull fire and the other one
that I want to make part of my playlist
is scurvy pirate so in my audio folder I
have skull fire mp3 scurvy pirates
Petrie skull fire dog scurvy pirates and
Stoker dog and all mp3 and aubergines of
those songs now those are part of your
playlist and you can put any amount of
elements you want within this array
separated by comma now since we're
adding the string stoker here we're
going to make it dynamic now by saying
playlist bracket zero we're going to
target the first element in this array
and just make that the default song
that's one to play first so we put
playlist and then in between square
brackets we're going to put the zero to
target the first element in this array
so now test again to make sure
everything is working fine for me now
underneath the playlist variable let's
add one more variable called playlist
index and this just lets us keep track
of the index position of what song is
playing within the playlist and by
default it's going to be set to zero
because we're playing the first song in
the playlist by default now the way we
change tracks is that this playlist in
x-variable will get incremented so
basically this playlist index variable
can be changed to anything and then the
switch track function that we're about
to write in a second will change tracks
according to whatever playlist number
whatever track number in the playlist
that this playlist index variable refers
to now before we put in our switch track
function we're going to have to set
object references and event handling for
when the track ends so for the object
references we're going to just add
something to put a HTML message on the
page about what track is being played
currently by the audio player and
actually instead of making that a var
here let's just take that and make it a
var where we're making all the rest of
our bars up top you can do that with all
of these and actually we should let's
take this directory and make that part
of the var list playlist control see you
put that there
comma playlist extension control C comma
extension agent you take that one as
well
comma agent and that looks like all of
them so now we can remove these var
identifiers there in front of them there
we go now we're targeting a playlist
status element on the page so we need
that element down on the page and I'll
just make that in my HTML underneath my
audio player div I'm going to put an h2
element make it nice and big you can
display this in any element that you
want let's just give it an ID equal to
playlist status and now our program will
write things into that HTML element and
I might set the object references above
where we start our audio object yeah
that's what I'm going to do because I'm
going to have a line I'm going to take
these object references control X put
them up here control V
because right after I tell my audio to
play I want to write this into that
element we just put on the page the
playlist status element so we target the
playlist status element and we say that
innerhtml is equal to track playlist
index plus one and then a hyphen and
then we put the actual name of the song
playing and you can also add the
extension to here if you want like this
ext so now let's straighten this up a
little bit and here we can just put
ourselves a note saying audio object
there we go that looks better now let's
test to make sure that it's writing that
so you see we have track 1 stoker mp3
now all we have to do is add an event
listener for the ended event let's go
here right under the time update event
and let's put in audio add event
listener ended we target the ended event
that means whenever the track ends when
an audio file finishes then we run a
custom function here and in that custom
function we're telling a switch track
function to execute just like we're
doing for most of our other events so
all we need now is a switch track
function so every time the audio playing
in the audio object comes to an end then
we can run the switch track function
which will switch the track by changing
this variable playlist index okay so
where should we put that just put it
right at the top so here's the new
function that I just added and I'll
explain every single line of code within
it and just keep in mind that this
function is told to execute on the ended
event for the audio object when the song
comes to an end so what we're doing
inside of the switch track function is
we're assigning the playlist index
number new value according to what the
value of it is now this first if
condition is just checking the see if
it's at the last song in the list you
see our list is scurvy pirate is the
last song in our list so if the current
playing
tract is equal to the playlist length
minus one then we make the playlist
index go back to zero basically you
start back over from the beginning so
when the song scurvy pirate ends Stoker
will begin again that's what that little
if condition does it first
else if that's not the case if it's not
the last song in the playlist then
you're going to just make the playlist
index increment by one so for instance
if you're playing Stoker and then it
gets to the end of Stoker you want skull
fire to begin when it gets to the end of
skull fire you want scurvy pirate to
begin that's why we're incrementing by
one this playlist index number then just
like we did before to show in the
innerhtml
of our playlist status we're going to
show the current track that's playing
what number it is in the playlist and
the name of it so this shows the name
and this shows what number it is in the
playlist then after that you reassign
the audio objects source file the audio
that it's supposed to be playing you
make that equal to your directory plus
your playlist plus actually we have to
put the extension on there just like we
did up here so let's copy that and pop
it on right there so now we have our
extension we have our directory the file
that's supposed to play and the
extension all ready to go and then we
just say audio dot play and that makes
the new song play the next song in the
playlist play actually since my page is
so dark I'm going to go down here and
give this thing some style you just make
the color of the text white white text
and now we test our newly programmed
playlist
so I'm going to just drag it to the end
of this song and when it gets to the end
of this song hopefully it changes to
skull fire mp3 which is the next song in
the track in the playlist there we go
here we go strike two skull fire
and see am i rendering I need to put the
extension where was that right here we
need to add extension right there now
test that gets to the end of the first
song there we go
now when that one finishes playing
through the last song should play
now scurvy pirate and that's the last
song in my particular playlist now when
this one gets to the end it goes back to
the first track so you see you have a
successful working playlist that starts
at the first song goes all the way
through the whole playlist and then goes
back to the first song and you can see
we're using a simple array now the more
you know about array programming in
JavaScript the better off you're going
to be with doing a whole lot of
different things regarding your playlist
shuffling it for instance I did a
tutorial you can search YouTube for
Fisher Yeats shuffle algorithm and I
applied the Fisher eh
shuffle algorithm to JavaScript because
JavaScript doesn't come equipped with a
built-in shuffle method for arrays you
have to actually write it so I in that
tutorial I showed how to make a fishery
Yeats style shuffle method that we used
prototype to attach to all array
elements in our program actually I might
even just add it to the next video will
show a video of how to shuffle the array
and do different things like you might
want forward and back buttons like you
have little arrows just going forward
and back that way people can click to go
through all the different songs in a
playlist you can create a shuffle button
that when pressed will shuffle the whole
playlist and any other things that are
possible with arrays and some of you
might be asking well how do I have a
drop-down you can make an HTML select
drop-down list with all of the songs in
your playlist in the drop-down list and
the user can click any song they want by
the title and just like you guys
requested to see how to build the
playlist you can request more and detail
more things that you might like to see
because there's definitely more that we
need to demonstrate about playlists
especially shuffling it
so I'll probably take my officiates
shuffle algorithm method that we wrote
and apply it to this audio programming
in one of the next upcoming videos for
the audio workshop and there's ways to
externalize this playlist array you can
actually have a dot JSON file that is
like a playlist database you can have an
XML file that's a playlist database and
you just call those files in and then
once those files are parsed in
JavaScript you have an array of objects
so there's really a lot you can do with
dynamics so if you are creating an audio
program for a client the audio program
itself can be dynamically fed its whole
playlist from an external file you can
also do things with PHP that make it
even more magical because PHP all you
have to do is point PHP to any folder
and it can dig inside that folder
capture all of the files within it give
you all the name of the files within it
back as an array so that's pretty cool
you can just take PHP make it snoop into
any file folder
maybe the file folder has a hundred
different audio files in it PHP can just
scoop all of those up magically and make
an array out of it dynamically that you
can feed to a plate a playlist player
like this now I also I wrote an article
it's a web intersect I wrote an article
about how to transform PHP arrays
dynamic PHP arrays into JavaScript
arrays in the same application so if
you're looking to get your PHP array fed
into your JavaScript program that's no
problem you can easily do that so this
really miles you can go with all of this
playlist and there's different
directions you can go in with this
playlist a audio programming</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>