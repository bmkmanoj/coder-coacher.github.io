<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Core JavaScript Multi Column Layout Grid Programming Tutorial | Coder Coacher - Coaching Coders</title><meta content="Core JavaScript Multi Column Layout Grid Programming Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Core JavaScript Multi Column Layout Grid Programming Tutorial</b></h2><h5 class="post__date">2014-02-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_8_ivc3_pM4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody in this exercise you
will learn to program
multi-column grid layouts using just a
little bit of core JavaScript a
multi-column grid allows for boxes of
varying heights to neatly stack across
and down the page with no wasted space
it's an effect that cannot be rendered
using tables or CSS floating elements so
you have to take a different approach to
it in the very next exercise we will
cover css3 multi-column layouts that
produce a similar layout with pure CSS
this way you can choose the approach
that you like best because they have
different behavior alright let's take a
look at the finished effect in a webpage
and I'm going to give you two examples
in the lesson code this first example is
the one we're going to actually build
right now and then you see this grid is
centered in the web page and the width
is hard-coded at 900 pixels you're also
going to get this version that's full
screen width so it has dynamic widths to
all of the boxes that way it could be
fullscreen in the browser window so
you'll get both of those examples in the
lesson code but the example that we're
going to build right now in the video
tutorial is this one and this one is
very similar the javascript is exactly
the same the only difference is slight
variations in the CSS okay we're going
to begin with some basic HTML and CSS
already in place and let me show you
what it renders so you can see I have my
grid layout container here this dashed
grey line shows the border of that and
it's centered in the window and then
inside of that I have 15 boxes all the
different heights or varying heights my
goal is to make JavaScript reposition
all of those boxes into a tight-knit
grid layout now I can go in here and try
to float those boxes like some people
might think they can just float those
boxes left and then they'll all fall
into place but let's see what happens
you see because of the varying heights
it's a problem if they were all the same
height exactly it would be no problem
but we have varying heights so we can't
use float so what i'm going to do is go
ahead and position these absolute now
these divs you can see i'm targeting the
grid container up here in this rule and
then i'm targeting all child divs within
the grid container and giving them these
properties and these two rules are just
for alternating the box colors and then
this rule is affecting all of the div
the child divs inside of the grid
containers child divs so you can see
down here i have the grid container and
then i have all the child divs inside of
the grid container and then in each
child div there's another child div
inside of that one and i did that that
way you can pad and margin and all of
that stuff without messing up your
layout you can just put your content
within these divs here all right so
let's take a look at what
position:absolute did when we changed it
from float to position:absolute see
they're all stacked right in the same
spot in the top left position and that's
what i want so i want them to be
positioned absolute because I'm going to
use JavaScript to position all of those
exactly where they need to go so let's
go under the style tag let's go ahead
and collapse all of that so it's not in
our way and right under that I'm going
to put in a script element make sure I
close that script element and right when
the page loads I want to render my grid
and whenever the page is resized I also
want to render the grid so if the user
happens to resize my window I also want
to render the grid to make sure
everything stays in place so I'm going
to put two listeners and there on the
window object so we target the window
object and we add event listener of load
and we run a function called render grid
on the load event that means when the
page first loads then on the window
object again we add an event listener of
resize so whenever the user happens to
resize the window
going to render the grid so all we need
is function render grid sitting up top
here type in function render grid open
close parentheses opening curly brace
and closing curly brace and you can
choose to externalize this function if
you like and put it in an external
javascript file that your page can
include if you'd rather not have this
script directly in your HTML or in your
web page now the first thing I want to
do inside of this function render grid
is get an array that represents all of
the child divs inside of this grid
container and I can do that easily in
JavaScript by saying var blocks and
blocks is going to represent the array
of all of these child divs I can say
document dot get element by ID grid
container dot children so I used the dot
children property on the grid container
to access all of its children and all of
its children are these 15 divs these
divs inside of those would not be
considered children of the grid
container because these are children of
the children these would be the
grandchildren of the grid container so
they're not going to be accessed within
this array only these here and I want to
access all of these because those are
the blocks that are going to be
repositioned and this array gives me
access to all of them and all I'm going
to do is loop over those with a for loop
but before I run my for loop what I want
to do is set some variables that my for
loop is going to need the first variable
is pad which you can really consider
that margin space around each block but
I just named it pad it's going to be the
space in between each block the calls
variable is short for columns and that's
how many columns that you want your grid
layout to have if you want to change it
to a four column layout you just put a
four there two column layout
you just put a to leave ours at three
then we need another variable called new
left and new top because in the for loop
that we're going to place here in just a
second we're going to put new left
values and new top values for all of
these little boxes and since they're
positioned
absolute in the CSS right here that
means the top and left properties will
allow us to easily move them around
anywhere we want them so that's why you
see new left and new top variables being
established outside of the for loop okay
now I'm going to pop the for loop into
place and explain it the best I can you
can see there's not much code at all
that makes all the magic happen and
basically what this for loop is set up
to do is access each element within the
grid container all the child elements
and position them according to the
element that came before them so
basically this element here is going to
be positioned according to the position
of this one and all the way down it goes
like that so you sense where the
position of this element is and you can
put this element right next to it
according to the size and location of
this element and that's the fundamental
logic of the application really so this
for loop you can see is set up to
iterate over the length of the blocks
array and what I'm doing here is setting
this VAR I to 1 normally you would see
var I equals 0 in a for loop but I don't
want the first element accessed this
first div child doesn't need to be
positioned because it's going to have
the top left position by default let me
show you what I mean let's render this
you can see it has the top left position
by default you don't have to position
box 1 but you do have to position all of
the rest so you'll see this loop is
going to run only 14 times even though I
have 15 boxes it's only going to run 14
times because I'm skipping the 0 index
of the array which is the first element
now this first little bit of logic in
the for loop is saying if the I the
incremental variable in the loop which
it starts at 1 and then it increments
each time so we say if I is divisible by
calls which is 3 in our case then we're
going to set the new top new top
position for the next block and then
we're going to lay that block in its new
top position now the reason why we're
evaluating to see if I is divisible by 3
so we can make new rows
else if the I variable in the loop is
not divisible by three we have to move
the left position and the top position
and this evaluation is in place just to
make sure that we're not trying to
position the top row because those on
top let me show you what I mean in our
case box 1 2 &amp;amp; 3 are the top row
none of those need a top repositioning
they don't need to be pushed down at all
but all of the rest do so this
evaluation is in place to say only if
it's not the top row then we're going to
give that box a new top position and
we're going to give all of them a new
left position and that's the whole
script there's really not much to it now
the way I get the new top and the new
left values is by accessing the blocks
so for instance the block coming through
the array the blocking question that
we're targeting through the loop is
represented as blocks I now you can get
to the block that's before it or after
it by using simple math if I want to
access the block before the block in
question I would say I minus 1 right
there if I want to access the block two
blocks before the block in question I
say I minus 2 so that's why you see up
here I'm saying I minus 3 because all
I'm doing is simply targeting the block
that's three blocks before the block in
question and I'm getting it's offset top
property to see where it is and I'm also
getting its offset height to see how
high it is and I can use its offset top
and offset height add those together and
I know exactly where I need to put the
following block under it and I'm just
adding pad here which is 10 pixels and
that's really the most complex part is
getting these values but you can see
it's very simple you just target
whatever block before the one that you
want and that's how it works and it
renders this now this thing is fully
customizable you can customize the way
this script operates you can customize
all of the CSS and use this sort of
thing for occasions
and you have dibs that are all going to
have different heights but you want to
put them in to a page and utilize the
real estate on the page in the most
efficient way possible and remember I'm
also going to supply you with the
full-screen version which is this one
right here it has dynamic width so no
matter what the width is of the users
window they'll fit in there full and
this one has the same exact JavaScript
there's no difference at all in the
JavaScript it's just a little bit of
variation in the CSS and you can get to
both of these examples by clicking the
link for the lesson code in the
description of this video okay I hope
you've enjoyed this exercise on building
multi column grids using core JavaScript
and don't forget in the very next
exercise we're going to show poor css3
multi-column layouts that produce a
similar effect but it has a cool auto
content spillover feature into the next
columns so don't miss that one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>