<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>2. Flash Scroll and Click Songs MP3 Playlist Player Actionscript 3.0 XML Tutorial | Coder Coacher - Coaching Coders</title><meta content="2. Flash Scroll and Click Songs MP3 Playlist Player Actionscript 3.0 XML Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>2. Flash Scroll and Click Songs MP3 Playlist Player Actionscript 3.0 XML Tutorial</b></h2><h5 class="post__date">2010-02-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/kDuji0Chlv0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">here's the finished product of what
we'll be creating in this lesson we
populate this list component using mp3
files on our server and this XML
configuration file and we designed the
way the list component looks in part 1
now in part 3 we're going to make this
thing actually play when you click on
things it's going to be playing song 1
by default when you click on things
it'll change the song and start playing
that song and that's what we'll take
care of in part 3 but in part 2 we just
take care of loading it up and getting
it ready
in this part of the lesson we're going
to go over we're going to take a good
look at the external XML configuration
file which is right here I'm going to
show you a very nice in one moment we're
gonna bring that parse that into flash
through code it's very simple I'm going
to show you the code you can use my code
I'm not gonna sue you don't worry about
it if humankind with no shared code and
share ideas we go nowhere correct okay
here's how I'm set up I have a folder
here the main folder is called a s3 mp3
XML playlist player inside of it there's
part one folder which is the file that
we created in part one of the series and
now I'm going to take which is open
right here in this window I'm gonna file
save as bar two and that ya call this
make a new folder call it part two and
inside it's called this one part to save
very nice now let's go to that folder
there's part one part two here are the
mp3 files I'm gonna have one two three
four five six seven eight in a folder
called mp3 underscore files that's how
you want to have your set up in a folder
called mp3 files or whatever you want to
have the folder named as and then part
two we're just gonna have we're have our
application where we're building it
we're going to need those mp3s to be in
there so let's go ahead and do that drag
them in there put your mp3s into your
project folder and also we're going to
create a new XML file so you can start
with the notepad file just make sure
make sure it has a dot XML extension or
just open Dreamweaver like I did and
create an XML file from Dreamweaver and
then inside of that folder you're going
to put that XML file whether it's blank
or not at this point doesn't matter just
put it in there did I put that in part
one
no okay part two has everything we need
to do now the source file for the flash
mp3 player the mp3 playlist which is the
XML
file that controls the player and then
all the mp3s that we want to play
sitting in that folder okey-dokey
now let's take a good look here at the
XML file let's open it in notepad and in
Dreamweaver so maybe somebody that
downloads the application from you
doesn't have Dreamweaver they might open
it in notepad here like this and you can
have an instruction file a readme text
file in the folder that shows them and
explains to them how to configure this
thing it's very simple all they have to
do is in between each song tag but this
song title and the song artist in
between those tags so each node has a
name song title and song artist and then
those are wrapped in the song tag and
then that's all wrapped in XML so what
XML does is it takes each one of these
songs you don't even have to have a
number it says one two three four five
we'll do that back in flash so you can
have your whoever's configuring the file
or if you're configuring the file just
put as many of these as you want you can
see I have all eight that I need and you
can have 300 in here if you want or have
PHP render out a magic XML file which I
do that a lot some other programmers use
that method a lot where they'll render
out a dynamic PHP XML file that feeds
the Flash Player and that opens the door
of possibilities to what you can do a
whole lot because PHP could do things
like read a whole folder say full of
mp3s dynamically you don't have to
assign anything in the XML file it'll do
it all automatically and I might go into
tutorials like that later on down the
line but that's a little more advanced
but this is a really good start so they
would manipulate what's inside of the
song tags and each one of these gets
sent into flash has its own little
entity and through the XML rendering
loop inside the flash we can access each
one's song title and song artists and
give it a number one two three four five
six seven eight
pretty cool ana dreamweaver here if they
open in dreamweaver they have a lot more
of a code coloring syntax coloring view
which makes editing everything a lot
easier now look at these file names the
song title my space fat space laces so
what that is the mp3 files names you see
my fat laces it has to be the person
configuring a file has to know that it
has to have the same name as the file
that's sitting in the folder within
these XML notes see taste the blood
summer
homie don't play that that's all names
that are already inside the folder
exactly as they are written in the XML
and then they can just type in whatever
artist it is down there and that's
pretty much the gist of it you want five
more you just take one two three four
five copy put them down here at the
bottom put new ones in it's very easy
and the flash file will do everything
automatically you don't have to
configure anything in the flash file the
XML drives the whole thing
so here we are we're looking at the main
scene scene one inside of our timeline
here inside of our file and there's my
whole player clip let's double click
inside of it and here's where we're
building our whole player so all we had
so far is the list component sitting
there this funky little loop that's
adding the items to it just for examples
sake so now we're going to remove that
loop so we just have our formatting and
then the list set render or style right
there and let's go ahead and put in some
dash marks here to separate what we're
doing here so I'm gonna put in some
variables here we're gonna initialize a
few variables so what I did was I just
popped in lines 10 through 50 so I
popped in 40 lines so you don't have to
really take the time and sit here watch
me code I'm just gonna explain it and
this is just the populating the the
playlist this is not really going to be
the full application this is just going
to get the playlist populated and ready
to go to where the application can
function with the real songs playing in
it what we do is initialize some
variables one is track to play and
that's a string next one is pause
position and that's a number set to 0 by
default next one is a song URL and
that's a URL request object and then we
have another number which is index I for
the loop in the XML here because we're
going to do it a similar way that we
we're going to use a for loop but we're
gonna use an XML driven for loop use
that external XML file to drive this for
loop so the next thing we do after we
initialize a few variables these are
mainly going to be for the song playing
actually these three are gonna be for
the player when we program it this one
is really going to be for loading this
XML and getting the song number songs
numbered 1 to 8 or 1 through however
many you have but the next bunch of code
here we have
18 through 22 and these lines I'm not
gonna explain everything about XML
because I have XML basic tutorials where
I really go in depth at develop PHP you
can get at those but basically these
five lines here they initialize the XML
place the XML file name initialize the
URL request and put the URL request into
a new URL loader and add the event
listener on my loader listening for when
the XML loading is complete so when that
XML file loaded is complete we're
listening for that here C and when it is
complete we run this function which is
sitting right here called function XML
loaded and everything inside of that
function is what executes when that file
is fully read and ready to be parsed
okay so right here in our view panel we
can see everything that happens inside
of that XML loaded function first thing
we do is place the XML data into the XML
object and very simple next thing we do
is access song one in the XML file to
start the player with we have to have a
default song we want to start with you
want to start with song two you just
make this turn that from a zero to a one
and it will grab song to all array
indexes have a default counter starting
counter of zero so that's why it says
zero there to grab song one if you want
to grab song three you put it to song
for you put a three and we claim a
couple of variables from the XML file
for a song here you can see how we
access those those nodes of the first
song and we put those into variable
names here and there string type
variables we can use that right here
where we're looking for the URL request
of the first song to play so the first
song to play the player knows this song
URL the first one is going to be mp3
file folder first song
whatever is named this is going to be
sent in dynamically here dot mp3 and
that's how it goes and then status text
field we have to put on stage so let's
grab that name of that ctrl C and let's
put a status text field
let's just put it right there let's make
it look the way we want make it maybe
black and make it dynamic and put that
instance name right there status under
store underscore txt single line not
bold then you can size it to be any size
you need let's just get it nice and big
on there for now okay now we have that
so our script won't throw an error
because if you didn't put that on stage
you tried to run this script extra
script would tell you I can't find that
object you're trying to load information
into so what we're loading in into that
text field is the number one because we
know for sure that's going to be song
one that we're going to start playing
and the first song name and the artist
that's how it works and here we run the
for each loop to iterate through all of
the song items listed in the external
XML file which you can see list item
boom that's where we're adding them all
in they all get pushed into the list
right here inside of this for each loop
right there okay so let's explain what
happens really quickly inside of this
XML loop let's for each loop and you can
see what we do is we make a variable of
song the name of the variable is song
and it's an XML from in side of our my
XML object here and we access the song
node the parent nodes of each song so
with doing that you can see I did the
same thing here I access the parent node
dot song title and dot song artist to
get the child note information so right
here in the for each loop it's going to
run through each of the parent nodes in
the XML file and inside you can access
the children see song that song title
too
and make a string variable out of each
object in the XML file we can create a
string variable for a song title and
song artist from that that's what we're
doing there oh I've been explaining the
I plus plus I plus plus is going to be
iterating each time this loop runs I
plus plus makes this I variable that we
created here increment each time so it's
going to have and I'll explain what
we're using it for right here in the
list add items in a second but that
increments each time so it starts at one
and it goes all the way up to however
many items you have in your loop that
way you don't have to number anything in
the XML file okay so the last line
inside of the loop is where we put all
of the items into the actual list
component on stage and we can set little
parameters for the label what we want
the cell to say in the list so this
one's going to say the label is gonna
say I which is the song number dot so to
be 1.2.3.4 title and then song artist
and then we have a - they're in between
song title and song artist now the song
string this is not going to display in
the cell but it's something a piece of
these are two song string and artist and
song number here those three pieces of
information I added extra to the the add
item function and those will be sent and
carried by each cell within the list
each cell within the list when clicked
will have different information about
these things kind of hidden within it
when clicked and you can access that
information as a programmer but all that
will show in the cell is this label
everything right here is going to show
in the cell after that all this other
information is going to be kind of
hidden but we can use as programmers and
the last little bit of code happening
here is outside of the for each loop but
still within the XM
loded function here is we create a new
variable my array and that array has
values of zero and zero there's two
items in the array the first one has a
value of zero and second one has a value
of zero I claim that array to select
indices select the indices of the list
component and we add my array to it and
what this does let me put in a comment
here this highlights since song 1 is
going to be playing by default and our
player we have to highlight song 1 by
default we don't want to just sit in
there dark like the rest of them people
wouldn't have a good indication of what
was playing at that moment in the list
so you want to highlight song 1 by
default other ones will get highlighted
when the person clicks on them but you
have to make sure you want to get the
first one highlighted by default so
these two lines of code do that now
right here I'm going to comment this out
because we're not going to have B at
that point yet now that completes all
the code we're going to be looking at in
part two here now all we have to do is
make sure our xml has the correct name
and p3 underscore playlist xml let's
make sure that's right mp3 underscore
playlist yes we can run this thing in a
second here and test it out and then
what else is in there mp3 files is the
folder name so everything is correct so
it should run when we press control
enter and populate that list but it's
not going to play the songs just yet
look at that and that beautiful so what
happened is it highlighted song one you
see how song 1 is highlighted right now
if I click on song 3 that one's
highlighted but what we did was
highlight song 1 by default all the
songs are in the list and they're all
numbered it's beautiful
when you click each one we're gonna make
it change what's in the status field and
that's going to be set up on top of the
player just to indicate to people
exactly what's playing you really don't
even need that
we'll just use that for testing maybe
they'll know what's playing by what's
highlighted here maybe we'll make the
highlight blue who knows but this is the
finished product of what you'll have
after applying this code to what we
started in part one and that is really
beginning of driving the whole
application is getting that list
populated with the actual mp3s that are
on server in a folder and it's all XML
German mobile due in part 3 which I'm
going to probably do in a little while
here is get these to play when clicked
well actually we're gonna have start one
song one start up by default I think
part three might finish the application
maybe we'll have four parts part three
we'll get this thing playing and
clicking and changing and everything and
in part four will will create better
logic for the application</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>