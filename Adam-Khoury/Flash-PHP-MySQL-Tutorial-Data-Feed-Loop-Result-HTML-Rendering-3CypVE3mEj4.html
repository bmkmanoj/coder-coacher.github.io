<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Flash PHP MySQL Tutorial: Data Feed Loop Result HTML Rendering | Coder Coacher - Coaching Coders</title><meta content="Flash PHP MySQL Tutorial: Data Feed Loop Result HTML Rendering - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Flash PHP MySQL Tutorial: Data Feed Loop Result HTML Rendering</b></h2><h5 class="post__date">2009-08-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3CypVE3mEj4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody Adamek flash building
here with another flash cs3 and cs4
actionscript-3 tutorial and in this
lesson we're going to be covering one of
the needs of our forum members here it
wants to know it's really simple to do
so i'm going to show you guys how to do
it and i already made the file in this
file i'll explain the file in just a
moment in detail but you can go also go
and just download it inspect it yourself
expand upon it and use it for your
dynamic applications where you're using
PHP MySQL and flash together okay so the
user rights or David writes hi all i
really want to know how i can get a list
of items from mysql database for example
i have ten rows in my database that that
it shows all of these ten in my flash
application please help and then i right
i can show that sit tight and then he
writes yeah awesome actually if it could
be that there is a button or link on
every line saying edit and delete that
would cover my entire issue well i won't
show you edit and delete but i will show
you since i'm going to be using my
database at web intersect here i'll show
you how a query my went my members out
the first ten that joint and then i'll
show you how to put a link on the
members name that would associate with
that members ID in the database that way
you can manipulate it through script so
that will get you as far as you need to
get you know you might have to do a
little work and your own to tweak it to
make it your very own application but
i'll show you the logic okie dokie so
what we have is this so i made this
little application and it brings it into
a text area component and you can see
when I click Adam you see it takes me to
my profile in your application you would
just make that link go to an edit page
and then that ID for that row in the
database would get edited
through script okay let's go back and
you can see let's click Dom say each one
is different and it scrolls so no matter
how many you have you get a nice
scrollbar there click John he has ID of
6 so you can see I bring in the name the
ID and and the date they joined now I'm
going to show you the PHP script that is
the loop the feed that sends it into
flash and then we'll look at the flash
side of things okay so I've got this at
the web intersect server online so we
know what's working I just proved it and
let's go to here we go let's check this
out let's minimize this a little here's
the script it's called my loop feed that
PHP okay now what we do is first we
claim a condition we set a condition to
see here's where you can do all your
security right here and i just added a
really simple one just to show you where
you'd run security so you say if right
there and the if closes itself down at
the very bottom so if this doesn't meet
your condition none of this code will
execute okay now inside if these
conditions meet and everything's good
everything's secure then you well from
flash I'm sending the variable of
requester and its value is Adam that's
why I have that set you'll see when I
show you in flash in a second you'll see
what I'm talking about there now the
first thing we do if all the conditions
are good we connect to the database now
I use an include file to connect to my
database which makes things a little
easier but if you did not you just put
your connection data right here and if
you don't know how to connect to a MySQL
database that's a whole different lesson
that you should have taken before this
one so this is where you put your mysql
connection data if you use an include
file like I do
pop it in right there then we start the
the body variable we initialize it then
we run the MySQL query on our my members
database and I can show you all the
names of my database because it's been
on video like 30 times now so I'm not
worried about it everything's backed up
at my site normally you wouldn't show
anybody your queries and give them
insight into what your field names and
database stuff is you know what I mean
but I'm not worried about it SQL
statement is MySQL query select ID
selecting first name or selecting sign
update from the my members table where
email equals or email activated is one I
want to make sure it's an activated
member before I display them and if you
didn't need this where clause in there
just take it out and if you didn't want
to order things specifically you just
take order by idea sending out now for
the forum member David's request he
doesn't really need a limit of 10
because he was asking to bring all 10
out and he only has 10 so he really
wouldn't even need this limit 10 but
let's say you had a hundred items in
there and you only wanted 10 then you
use limit 10 within the query as well so
this is just limiting to 10 this is
ordering them by ascending by ID if you
wanted it to go the other way backwards
you go descending and that would show
the newest to oldest but i'm showing
oldest to newest and then email this is
the where clause if you needed any
clauses in there it's really not
necessary but you can build your own
query however you need your query to be
then you run a while loop on the query
and inside of the while loop that's when
all the result sets come out pouring out
into your body variable so right here we
gather the ID into a local PHP variable
here the row first name same thing local
variable here the Rho sine update
same thing local variable there and I
just took the sign up date and made it
to where it's a more human readable
format using string to time and string
of time together their PHP functions
that you can research at PHP net and I
use them combined together there which I
think they show an example on that page
of php.net of how to take your time and
format it correctly for human reading
and then we pack it all into the body
variable here and you see we're using
the dot in front of the equal sign so
that means it's going to compound each
one in the loop each ten that's coming
out of the database it's going to
compound it into this body variable so
it's almost like this body variable is a
big container and all of these results
sets are getting thrown into it so then
we can format it using HTML because in
flash our text component is sitting
there and it's set to render as HTML in
the script so we can use any kind of
HTML tags we want most of them anyway
and here's how I make the link i just
say profile that PHP and use a variable
of the ID on the URL so it's got URL
encoded variables that it will it will
recognize in flash too when they click
it it will go to that members page and
then target self you can target blank if
you want it to be a pop-up and then
there's the first name variable fed into
the line there's the ID variable fed
into the line and there's the sign
update fed into the line and then I put
to break tag just till the not all
jumbled up on top of each other so after
the while loop we just echo the variable
or a naming instance name or an instance
of return body and that's going to be a
variable that flash is going to pick up
and it's holding the entire body
variable that we could that we created
here that big container so flash is
looking for something called return body
so in the flash script we script that
out and then we just closed the mysql
database connection and then we exit
this PHP script since everything is back
and flash this line right here okay now
let's take a look at the flash end of
things and we're done okay so here we
are in flash cs3 you could be working in
flash cs4 just the same and first thing
to note is that you can run this code it
doesn't have to be in the scene one
first frame first thing right away in
your movie it could be nested way way
down deep inside the movie clips where
it happens only if the person happens to
click on a certain button on your site
or something like that you can make it
to where this code would execute any
time you want so if I move this whole
thing over to frame 50 this code won't
execute until it gets to frame 50 and
then it will load it into the text field
till you see what I mean but when you
let's take a look at the code let's just
talk about that really quick so in my
example I just have it on the main scene
layer one text area component that I
took from the components library here
text area drag I drug it to stage
dragged it out to stage whatever the
word is I dragged it out to stage and
then I gave it a very an instance name
sorry of output underscore txt now with
it having that instance name now we can
connect to this text area through the
code and this is just a label I put up
here for showing what the application is
and that's all that's on stage and now
let's look at the script okay so
everything that requests that data and
builds the variable container holders
and everything is inside of a function
this function is called request data
function request data opens right here
and it closes right here on line 24
sorry online
30 this function is also inside so let's
move that in a little bit
oh there we go
they're so this there's a function
inside of this other function request
static function has another function
inside of it called complete handler so
I moved everything up a little bit so
that way it stays visually separated and
the request data function closes on line
30 so on line 31 there's simply you call
the function to run and this can be
called anywhere as long as your function
is set up and available you can run it
anywhere and this is how you execute
this entire function so I just put the
function up and I made it executes
directly after ok so now inside of the
function we claim the an instance a new
instance of URL variables that way we
can send variables to the script and
then we send we create a new URL request
instance right here name bar send so the
variables name is the the variables
instance the URL variables instance is
named variables and the URL request
instance is named bar send and that's
where you put your path and your file
that's going to be picking up all this
data from MySQL and PHP then we have a
URL request method and that's going to
be placed onto the VAR send URL request
and the method is post you can use get
and any method you need and then we also
put the data of the variables the URL
variables into the VAR send that way it
sends the variables to that script now
on line 10 we say we create a new URL
loader instance we named it VAR loader
and that's what's going to bring that
all that data in from the PHP file so in
the VAR loader we assign the property of
data format is equal to you
or real data format that variables that
way you could send a whole big giant
list the variables if you need it but in
our case here we're just sending in one
one variable that is a big container
that holds many many things okay so here
we also add another property to the VAR
loader instance of add event listener
i'm sorry it's not a property here we
add an event listener for the complete
event when this data is loaded in so
when all of the data is loaded in from
the PHP and MySQL file complete handler
function runs right here function
complete handler and that was that
little function inside of the main
function that I was talking about so
function complete handler runs and it it
you you can do an if and else statement
here like I've done to say if the target
data returned body remember in the PHP
script return body right here return
body equals body all of that data so in
the flash file you can say if return
body equals nothing if it's empty just
put in the output text no data coming
through else yeah we have a value in our
return body so we output we output in
the text with your set to HTML rendering
equals event target at data return body
just put all that data right into the
text field this could be a dynamic text
field or it could be the component like
I'm using here I like the component
because it gives you an autoscroller if
you have a lot of data and you also want
to condense the white space within that
field set to true okay and that's pretty
much it so down here at the bottom in
before all of these functions can even
run line 28 is really where it shoots it
out the request flash shoots out the
request to load and send all this data
and forth right here in line 28 so the
bar loader gets the property or the
method of load and then you add VAR send
variables and all that stuff to it
that's how that works that's the best I
can explain it i'm sorry if it's not
clear enough and right before we did
that you can send multiple variables to
that PHP file see variables that request
or equals Adam I could put another one
in there that's variables dot poopoo
equals smelly and then in my PHP script
I can access it just like I'm accessing
request or equals Adam and can put
poopoo if poopoo equals smelly you know
whatever you want to do but this is not
the easiest thing to wrap your head
around and you have to have some
programming knowledge before you want to
tackle something like this at least a
little bit but I think that's really the
best explanation verbally that you'll
get from anybody maybe somebody else can
do a better on paper but yeah that's
really how it all works and I'm going to
have this file free available so you can
expect inspect it may be up at the site
by tomorrow sometime or something ok
we'll see you next lesson</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>