<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WAPG 3 Sprite Animation Programming CSS JavaScript | Coder Coacher - Coaching Coders</title><meta content="WAPG 3 Sprite Animation Programming CSS JavaScript - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>WAPG 3 Sprite Animation Programming CSS JavaScript</b></h2><h5 class="post__date">2016-12-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/m7SBesyEX1k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back to the web animation
programming guide in this video we'll
cover sprite animation programming I've
done a couple of simple sprite animation
tutorials in the past but now I have the
opportunity to show how controlling them
with JavaScript opens up another level
of creative work to make them dynamic
and interactive the sprite animation
programming is an essential technique
for animators and 2d game developers to
learn and they're a lot more useful than
animated gifts because animated gifs
cannot be dynamically changed or
interactively controlled in sprite
animations are a way to bring your
custom graphics to life sprite
animations are rendered from a sprite
sheet now most of these sprite sheets
just have one single animation sequence
on them you can also have a sprite sheet
like this one that has several different
animation sequences for instance there's
the character walking to the right the
character walking to the left or the
character just standing still so if you
target the first frame you'll have the
character standing still looking forward
but then if you target the walk right
sequence then you can have the character
walk to the right then you target the
walk left sequence when you want the
character to walk to the left and I'll
show you how to do that and you can also
animate 3d graphics so if you're
somebody that works with 3d models you
can render out an animation from your 3d
graphics program and then bring it to
life on the web using sprite animation
and I'll be showing you an example of
that as well now in the previous video
we learned about how to set up keyframe
animations in CSS and that's the easiest
way to set up a sprite animation and you
can think of a sprite animation as a
film reel or the frames of a film reel
where you quickly go from one frame to
the next so fast that it creates a
smooth looking animation but sprite
animations can also be programmed on the
canvas and I'll show you an example of
that or you can set them up in a custom
way you
in JavaScript and avoid CSS altogether
but I think if you can use CSS it saves
you some work and it makes things a
little bit easier you can also
dynamically and interactively set all
the stuff up through JavaScript and
JavaScript can control all aspects of
the CSS so that's where it becomes
dynamic and interactive so when you're
setting up sprite animations in the Dom
you would have a div or some kind of
HTML element that represents the bot so
let's say we have this sprite sheet here
which represents this little robot doing
jumping jacks so what you would do is
set up a div you can give it an ID of
bot and then you set that background
image for the bot sprite sheet which
would be bot dot PNG and you make the
div 100 pixels by 100 pixels because
that's the size that each frame of the
sprite sheet would be so basically the
user would only see one frame at a time
then you set up a key frames animation
to make the background position animate
from zero pixels to minus 600 pixels
because this sprite sheet is 600 pixels
wide so basically what will happen the
background will animate this way if you
set it up to go in a negative 600 pixels
direction it'll start at the first frame
and animate this way you can make it
also reverse if you wanted to and we use
the steps timing function instead of for
instance a linear or easing timing
function we use steps which makes it
abruptly change from one position or one
frame to the next instead of it
animating smoothly like this inside of
the div it will abruptly change from one
to the next bang bang bang bang bang
bang bang bang so quickly that it makes
a smooth animated effect and you can get
more insight on that in the previous
video that we did that was all about
keyframe animation okay now we're going
to get into some examples and I'm not
going to provide
you guys with any of my sprite sheet PNG
files but towards the end of the video
I'll show you how you can make your own
and I'll show you where you can find
thousands of them now the first thing I
want to demonstrate is how to animate
this ball bounce sprite sheet in the Dom
and also on the canvas so here's what
the code looks like when you create the
sprite animation in the Dom using CSS
and we're using steps with the number
six because there's six frames that make
up that animation and each frame is
fifty pixels and the sprite sheet itself
is 300 pixels wide that's why we take it
from background position zero pixels to
negative 300 pixels let's see what that
renders there you have a bouncing ball
that's in the Dom now if we go to the
canvas bouncing ball you can see the
code is massively different and it's a
little bit more complex because
animating on the canvas is it's more
programmatic let's take a look at what
that renders so you can see you can have
your bouncing ball on the canvas
using a more programmatic approach and
you can also do it in the Dom which is
much easier but there may be instances
where you have to animate a sprite sheet
on the canvas so this code is what takes
care of that and you can get a lot more
insight on how to animate on the canvas
if you check out my canvas bootcamp
training series
a couple of years ago I did a canvas
bootcamp training series where we talked
all about how to use the canvas and
animate on the canvas how to draw on the
canvas shadows and all kind of cool
stuff in the canvas bootcamp series so
I'm not going to go very in-depth about
talking about this code because all of
this kind of code was covered and the
only difference here is we're clipping
when we draw image we're clipping to a
certain
rame of the spritesheet and then we're
animating that from one frame to the
next just like you would do in the dom
but like I said it's more programmatic
because the CSS isn't doing all the work
for you when you're using the canvas you
have to it's a little bit more hands-on
the animation work now in this next
example we're going to animate this 3d
model sprite sheet which has a total of
18 frames and I think it's 2700 pixels
wide is the entire sprite sheet so for
this example I built a 3d model viewer
application that allows the user to go
through all of the frames so the user
can actually use a range slider to view
the 3d model and control it
interactively or they can just press
spin free to see it spin they can go
back to using this to check out any
angles or views or you know any any
frames in the sprite sheet that they
want to check out more closely and
here's the code that makes that happen
so basically here is the keyframes
animation for the spin free mode which
just takes it from background position
zero pixels to background position -
2700 pixels that's in the spin free mode
but when the user is actually
controlling it using this input range
slider you go from a minimum of 1 frame
1 to a maximum of frame 18 and the step
value is 1 so they can go through each
frame using that slider and then when
they want to spin it free they can just
hit the spin button and then this
function spin free makes the model apply
the style that animation spin the
keyframe
up here spin this code right here
applies that to the model or to the
element dynamically using JavaScript and
then control view is the function that
allows them to use that slider to change
the background position for the sprite
sheet and this doc ready function just
sets up the sprite onto the page
initially and the doc ready function
runs on the load event of the document
so that that function just runs once
when the page initially loads and it
sets up the sprite and then the other
functions or what handles the control
and the spinning so essentially when the
user is going to use the slider they're
just going through each frame of the
sprite sheet it's very simple it's not
anything complex and then when they
press spin free we just run that
keyframes animation here keyframes spin
it's so simple and that's certainly
something that you cannot do with an
animated gif because an animated gif is
just an immutable its unchanging and you
cannot dynamically or interactively
control an animated gif in this way now
here we're going to animate that pac-man
sprite sheet and this is what that
renders you can see it's just pac-man
chomping and in this code example what
we're doing is we have the keyframes
animation chomp in the CSS and what
we're doing is dynamically loading the
sprite sheet using javascript so this
pre loads the sprite sheet and then in
the window load event we just
dynamically insert or create a div
that's going to be called pac-man using
document create element div and then we
set the size that we want that div to be
then we put the background of the sprite
sheet URL
and then we apply the chomp animation
dynamically here through JavaScript
here's the chomp animation and here it
is being assigned to that element that
pac-man element were assigning that
chomp animation using javascript and
then we finally run this code
document.body.appendchild pac-man which
loads the div and the the pac-man to the
page basically so you don't have to have
your CSS assign everything you can have
keyframes animations just ready and
waiting in the CSS and then call them
through JavaScript or apply them to
elements through JavaScript and even the
elements themselves can be dynamically
inserted and created on the fly you can
see that there's nothing in the body
element so JavaScript is dynamically
creating that element and assigning the
animation to it now I want to quickly
demonstrate how you can access a sprite
sheet that has more than one animation
sequence on it for instance this sprite
sheet you see here has a walk right
animation sequence it has a walk left
animation sequence and there's also
frames that you can target that are
standing still for instance this first
frame where the character is just
standing still looking forward so there
could be tons of different graphics and
animation sequences on your sprite
sheets and you can dynamically access
them and control them through JavaScript
so what we'll do is in this example is
we're going to set up keyboard event
listeners when the user presses certain
keys you can also put buttons on the
page to have them control what happens
so let's take a look at what that
renders so the character default is just
standing still looking forward but when
I press the D key to move the character
make it walk right you can see the walk
right animation sequence on the sprite
sheet is accessed and it runs then when
I let go of the D key they stand
gilligan then when I hit the a key to
make it walk left he walks to the left
or the walk left animation sequence runs
and the code for that is pretty simple
you just have your walk right and walk
left keyframe animations all set up
already in the CSS and in the previous
video we showed you how you can
dynamically set up keyframes animations
through JavaScript so you keyframes
animations don't even need to be in the
CSS but it's I think it's easier
sometimes when you just have your
animations your keyframes animations
ready and waiting in your CSS and then
you can just apply them using JavaScript
so you can see in the background
position for these animations we're
using the vertical and horizontal axis
so we have the X plane and the Y plane
that's why you see a difference 360 here
and 180 here because this is the walk
right sequence of that sprite sheet and
this is the walk left sequence and those
are at different positions in the
vertical axis or the y axis so this is X
this is y axis and then we just have
some event listeners for the key down
position then we check to see what key
was pressed and if the a key is pressed
we apply the walk left sequence and if
the D key is pressed we apply the walk
right sequence and then on the key up
event we just have the face forward and
you can see that face forward just puts
the background position to zero pixels
zero pixels so basically you just target
the frame where the character is just
standing still looking forward and
that's all I've done so you can see all
the code for that it's very simple
now this next example is pretty basic
it's all CSS but it gives you a really
cool effect and right before we started
this web animation programming guide I
did a couple of videos showing how to
animate backgrounds so all I'm doing
here is I'm animating a background and
then I'm putting a sprite on top of that
background let's take a look at what
that renders so you can see you get a
pretty cool effect when you have a
sprite animation on top of an animated
background so you can see the animated
background is mountains or little Hills
that are slowly rolling by and then the
character is in his walk sequence so
this character is the sprite sheet and
then we have a background image that
just loops and it's animating and you
could actually put this div inside of
this rolling hills element if you wanted
to but I just kind of stacked them using
the position:absolute setting and here's
the roll along for the background and
here's the walk right for the sprite now
in this next demo we're going to show
you how to adjust the speed of a sprite
animation which is something else you
definitely can't do with an animated gif
so if I want to speed this up I'll just
make this slider go down you can see how
fast the sprite is moving now or I can
slow it down by going this way so you
can see you that's a sprite sheet that
this rendering this star and a keyframe
animation that's making it animate and
I'm just adjusting the speed and here's
the code for that so when the slider is
changed for the change event for the
slider the animation duration property
is what we affect according to what the
user has the slider set on and by
default it has a one-second animation
duration you can see right there so all
we're doing is changing the sprites
animation duration property to change
the speed at which it seems to render
now and finally I want to discuss how
you can animate this sprite sheet which
is a little like a little robot that's
doing jumping jacks how you can make it
back and forth sequence so you can have
the animation run one way and then back
the other way
using alternate or you can use a more
hands-on approach by using the CSS
keyframes to put three keyframes in your
animation so let's take a look at what
this renders so you can see the little
robot is doing jumping jacks and they're
going back and forth you can see for the
image it's just one sequence would just
be half of the jumping jack but what I'm
doing is making it go back again to make
a full jumping jack so basically it's
running this way and then it's running
back this way and there's two ways you
can do that you can set up three
keyframes in your animation or you can
just remove this and put this on 100%
and I'll show you actually what happens
when you change that see he's just doing
half of the
jumping jack but if I put infinite then
alternate here it has the same effect as
having the key the three key frames if
that makes sense to you so you see now
all we have to do is speed that up to
0.5 instead of one second it'll be half
a second and we'll have the same exact
animation and we'll go
six steps and 600 pixels there now we
have the same exact animation so you can
see by adjusting the code you can either
do it using alternate or you can have
three keyframes here and you just have
to adjust the code accordingly so that's
how you can alternate go back and forth
using the alternate feature of keyframes
animations or you can just put three
keyframes like I originally had and it
both give you the same effect now in the
beginning of the video I told you guys
that I would explain to you how I make
my sprite sheets from scratch and also
show you where you can access thousands
of them all you have to do to make yours
from scratch is know how to use a
graphics editor I use fireworks usually
but you can use illustrator Photoshop
GIMP or any art program graphics editor
that you feel most comfortable with and
all you have to do is set up a an image
that has all of the frames that you want
and the graphics setup to create the
animations that you want because I
already have a lot of graphics tutorials
for fireworks but all you have to do is
set up your sprite sheet in such a way
let me bring up these properties you can
see my sprite sheet is 600 pixels wide
and there's six frames for my animation
that means each frame is 100 pixels wide
and it's that simple and you just make
your frames uniform and you'll have no
problem sequencing and animating your
sprite sheets so we have six uniform 100
pixel wide frames for this sprite
animation now another thing you can do
if you're not very handy with creating
your own graphics but you really want to
play around with sprite sheets and get
some files quickly sprite animation
files or
right sheets you can just go to google
and type in sprite sheet and then
whatever you're looking for us for
instance a warrior and then click images
and you'll get tons of different sprite
sheets that you can dissect play with
and then sequence into animations using
all the code approaches that we
discussed I can type in sprite sheet
girl or whatever whatever you want it'll
be there and then you can take those
sprite sheets play with them but you
can't really use them in your projects
because that would be stealing so when
you really make a project that you want
to produce for the public to use or for
people to buy then you have to make your
own graphics or hire somebody to make
your graphics for you but you can
definitely experiment with all of these
for your own personal experiments let's
see if they have robots sprite sheet
robot yeah it's a bunch of little robots
all right so that's as far as I'm going
to take you into sprite logic and we
have a lot more different material to
cover as far as animation goes so we're
just going to leave it at that and let
you experiment on your own and I really
appreciate you guys tuning in and
hopefully you'll stay tuned for episode
number four in the web animation
programming guide have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>