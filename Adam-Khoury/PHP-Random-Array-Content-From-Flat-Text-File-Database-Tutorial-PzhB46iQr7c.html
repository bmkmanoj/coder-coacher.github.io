<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Random Array Content From Flat Text File Database Tutorial | Coder Coacher - Coaching Coders</title><meta content="PHP Random Array Content From Flat Text File Database Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Random Array Content From Flat Text File Database Tutorial</b></h2><h5 class="post__date">2011-12-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PzhB46iQr7c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody today's lesson comes to
us through a forum topic at the world of
web craft in which the webmaster needs a
simple way to store Emma tree of random
phrases to display on their web page
without MySQL they're using a simple
text file to serve as a flat file
database we will make it to where even a
stone-cold beginner with zero PHP
experience can grasp the script fully
and implemented into web pages if needed
okay just so we are all up to speed
about the scope of what our script needs
to accomplish let's pretend this forum
topic here is an application scripting
request from a client we have that pays
us for scripting their applications so
we're going to get the description of
what the client needs here and turn that
description into script we'll take the
logic of what they described and turn it
into script
I mean Brad's not our client and Brad's
not a stone-cold beginner in PHP but
we'll just pretend that that's what this
is he says hi I want to get like a
random message to display without a
database but a text file and the reason
why I want in a text file is because it
will have like a hundred different
things in it so how would I get PHP to
display one thing in that text file at
random I already have the text file in a
variable but really don't know how to
make it random as I want the text file
to be like this so that's what the
inside of his text file is going to look
like so let's make a text file that
looks like that and here you go now
there's nothing no scripting involved in
this this is called flat file DB short
for database so flat file database dot
txt it's just a simple dot txt file and
you put whatever separated lines that
you want in there so if this phrase was
up here that means these phrases would
come out together because they're not
line separated to just make sure the
lines separate each one like that now
the only important thing to note in here
that you really can't see is that each
one of these new lines has an invisible
character or a set of characters here
that represent a new line which is
backslash n that's how new line is
separated when PHP reads all of this
data is going to see that these lines
are separated by this invisible
character here that lives within the
text file okay so knowing that we can
use since we know each one of these
lines has a backslash n on the end of it
we can use PHP to explode all of this
data by that new line break so we'll use
the explode function in PHP using the
backslash n as our delimiter that way
each one of these lines will be in an
array and they'll be separated from the
others and we can easily access those
array items okay so we have our flat
file DB
txt all ready to go when you throw that
up on your server
now here's my webpage PHP and you have
to make sure your webpage instead of
having a dot HTML extension it has a dot
PHP extension or else PHP is not going
to run inside of this webpage now it's
just for little simple lines and I'll
show you how they run let's open new PHP
tag let's go down a couple lines and
then close off our PHP lock now the
first variable we want is name text and
that's going to hold the whole contents
of the text file so we'll type in file
get contents which is a PHP built-in
function open close parentheses put in
your semicolon and then in between the
parentheses you can use single quotes or
double quotes
I'll just use single quotes to
encapsulate the name of your flat file
database and mine was flat file DB txt
so now all the data from within this
text file is going to be packed inside
of a variable called text now this next
variable is going to represent an array
in PHP so we're going to name it text
array and that's going to be equal to
the explosion of all of those line
separations in that text file so we're
going to use the explode function and
the explode function looks for two
parameters the first parameter that you
have to give this explode function is
your delimiter and remember I said we're
going to use the backslash n as
delimiter that way we can separate each
line within that flat text file and each
line will be an array element and the
next parameter that the explode function
needs is simply your text variable from
the line above so now this text array
variable holds an array that is made up
of splitting all the line separations
within the text file now we want to get
an index number from that array that's
randomized so if that array has ten
items in it which ours does see there's
10 lines so our array is going to have
ten items in it what we want to do is
pluck one random item out of that array
so in order to do that we can get the
index number for that random item and
we'll hold that in a variable called
Rand array index num
so that's short for random
array index number which that's not very
short you might want to name yours you
know just a couple of letters or
whatever I'm naming it a nice long
variable name that way you guys can
really understand what it's representing
now we're going to use the array rand
function which is one of the array
functions built into PHP that allows you
to pluck a random element or a random
index number out of that array so all
you have to do within those parentheses
is feed it this one parameter which is
the text array that was assembled in the
line above now this next line we're
going to name this variable R and phrase
because this one is going to hold the
actual data that is the random phrase
that is being selected by using this
array R and remember array R and only
selects it's going to hold a numeric
value this array R and returns to you a
numeric value which is a random index
number from that array so what you have
to do is access the data of the text
array we put that here then we're going
to access the array index which this
holds a number so we know this is a
number so what we can do is put that
right here so we're accessing the data
within that in array index if you tried
to output this to the page you're just
going to get a number output what you
want to do is take that number and use
it in the array indexes to actually pull
out the array data so you'll actually
get the text that is that random phrase
and that's going to be stored into a
variable called R and phrase and that's
what you echo to the page so that's your
whole script and that's it you can just
put that right here and if you happen to
be in something like Dream Weaver you
can go up to PHP and just hit echo and
that will echo the random phrase there
or you can just type in your PHP block
and your echo statement and then echo
the random phrase and you can even break
that statement right there which is the
normal procedure
okay now let's test it make sure it
works
I'm going to load this to a PHP enabled
server or if you're testing on your
local machine you have PHP enabled this
will run okay so I come to the web page
and I get a certain
random phrase from that file to display
now let's press refresh you see a
different random phrase now more you
have in your file the more it will
randomize so if you look at your file
you can see you have only ten lines if
you have like a hundred lines or
possibly a thousand you'll get a much
better randomization if you only have
three things so five things in there or
a ten it's possible that people will see
things the same things over and over
again
but you can also write your script to
accommodate for that alright so that's
how it's done that's how you can use
flat-file databases and you could even
if you don't want to use the backslash n
as a delimiter you can use something
creative that's your own like you can
use dot colon bar exclamation bar colon
dot and anywhere in the text that this
sequence of characters is found that's
where you delimit so you can actually
save some white space within your flat
file database by going like this delimit
everything by this sequence of
characters rather than your backslash n
so within webpage PHP instead of
backslash n you would explode by that
sequence of characters let's just put
all that back but since we know that
there is invisibly living here a
backslash n on each line it might be a
better way to set up for something like
a client content management system if
you wanted to let your client change
whatever random phrases come out in
their web page or whatever data is on
their webpage you can use a text files
that that the client can just change
whatever text is in it and put it back
on server there won't be any admin or
MySQL whatever going they were just FTP
a text file okay so I hope you enjoyed
that one in that one we covered some
flat file database working in array data
work and some random array item plucking</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>