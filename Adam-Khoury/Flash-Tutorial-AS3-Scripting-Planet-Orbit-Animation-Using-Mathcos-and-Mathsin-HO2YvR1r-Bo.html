<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Flash Tutorial AS3 Scripting Planet Orbit Animation Using Math.cos and Math.sin | Coder Coacher - Coaching Coders</title><meta content="Flash Tutorial AS3 Scripting Planet Orbit Animation Using Math.cos and Math.sin - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Flash Tutorial AS3 Scripting Planet Orbit Animation Using Math.cos and Math.sin</b></h2><h5 class="post__date">2009-08-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HO2YvR1r-Bo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this flash in ActionScript 3 tutorial
which is suitable for cs3 and cs4 we
demonstrate how to create orbit
animations so you can have one object
orbit around a central object and then
have another object orbit around the
object that's orbiting orbiting around
the central object so the earth is
pivoted around the Sun and the moon is
pivoted around the earth and it's all
programmatic animations using map that
scene and map Coase hope you enjoy this
one and the free source file will be
available at develop PHP com enjoy ok
first thing we'll do is create new flash
file ActionScript 3 and I'm in cs3 and
you can be working in cs4 and all this
code will still apply work just fine so
the first thing we'll do is let's get
the background to black and let's draw
out three oval shapes and I'm gonna hold
down shift to make sure they snap to it
perfect oval if I didn't hold down shift
it could turn into a more oval shape but
if I hold down shift it keeps it
circular that's the word I was looking
for circular okay so I'm gonna create
the Sun let's see oh good it's already
got the gradient okay so let's make this
48
really the size really doesn't matter 48
pixels and now let's just make the other
two this will be about 24 this is gonna
be for the earth let's make this 24
and let's get one more for the moon now
this file will really show you the power
of ActionScript let's make this 12
action script based animations as
opposed to timeline based animations
okay so let's get these even coordinates
there and like those decimal point
coordinates turn this one a little blue
there we go light blue make this a
darker blue and this one let's make it
gray like the moon
dark gray and then on top the center
will make it white that way everything
will have a round appearance
so now let's convert this to symbol
movieclip Sun will give an instance name
of Sun as well instance name in the
proper in the properties panel here Sun
convert this to a movie clip earth
so it's named earth in the library and
we give an instance name of earth to the
same to the moon converts a symbol moon
movie clip control see okay put it down
here in the instance name in the
properties panel for that object okay
now each has an instance name and each
is a movie clip symbol let's go to
filters and give the Sun a glow of
yellow you get a little stronger than
that blur it out you get like a medium
maybe not right about there okay let's
take the Sun and put it in the center
the other two it doesn't matter where
they are but everything will be based
around the Sun okay so now all we have
to do is pop in the script explain that
let's just call this planets and put a
new layer above it call that a s3 for
ActionScript 3 okay now I debated coding
this out line by line and I I decided
against it because it would have been
like a 30 40 minute video and nobody
wants that we want the code and we want
to see how it works right and that's
pretty much it so I'm gonna pop in the
script and you can see it's 27 lines to
take care of the whole thing and it
already has everything we need to ready
targeting our instance names and let's
see how it works before I explain each
line press control enter
and you can see the animation was slow
and groggy so you turn your frame rate
up to 30 frames per second and that will
also vary or very 8 your speed augment
your speed of your animation so you can
see what we have here is the earth with
a perfect orbit around the Sun and then
the moon with a perfect orbit around
Earth as the earth goes around the Sun
now I'll show you how I pulled that off
what we did here is the first thing is
we set the Sun gravity X and the Sun
gravity Y which is the dead center point
for that object right there and the way
we get that dead center point for that
object is we claim this variable as a
number and its value is going to be the
sun's x position plus the sun's width
times 1/2 times 0.5 so the sun's x
position where it is on stage right here
it's at 250 for its x position plus the
sun's width times 0.5 and then we take
that the sun's width times 0.5 and
divided by 2 so really it's the Sun that
x position plus Sun dot width times 5/2
okay
and then we have the same thing for the
Y position it's pretty much doing the
same exact thing except for the Y
position on the stage and the height
property of that Sun movie clip okay and
then the next line is here in this
script we're using math dot scene and
math dot coasts and you can read up all
about those and what they do they really
allow for a lot of cool animations
custom animations that you can create
and it's not just orbits all kind of
really cool animations that you can
achieve with math Docs and math tacos
and you can look up all about that in
the flash help file if you have cs3 or
if you have cs4 you have to go online
and look at the crappy website high
flash cs3 help file is a whole lot
better I think ok so let's see where are
we here we claim some variables that are
for the the scene of the Moon and the
scene for the earth this is going to be
the variable that's changing here inside
of the on and to frame event and I'll
talk about those in a second here but
right here we're just getting those
ready for use in the script below in the
aren't at the frame event so we we get
those variables defined and claimed and
set right here four through seven lines
four through seven in line eight we
claimed a variable which can be whatever
we want for the diameter of the moon the
earth going around the Sun it's 100
pixels
then the diameter of the orbit of the
moon going around the earth so the
Earth's orbit diameter is 24
sun's orbit diameter is 100 so 100 it's
about you can see right here from here
to here is a hundred and then from here
to here is
whatever that other number was 24 okay
so the orbit speed one and orbit speed
two are also number variables and I set
them as four and you can see I use the
orbit speeds here down in the math scene
and math cause equations okay so now
here's the where all the magic happens
really is on line 13 in the add event
listener for the on enter frame event so
every time the the frame is accessed so
we have 30 frames per second so every
time it'll do it'll run this function 30
times a second so since we only have one
frame it's gonna be hitting that frame
30 times a second okay so the first
thing we do inside of that function here
you can see the nest closes the function
nest closes on 27 and the function
begins on line 14 and here on line 13 is
just the event listener to fire this
function off that starts on line 14 then
on line 16 we claimed variable the same
exact thing we did here for the Sun to
access the center point of the Sun the
exact center point we want to access the
exact center point of the earth but as
the earth moves around so this variable
has to be inside of the aura and to
frame event to follow the earth this
variable has to change all the time
which you could have claimed this
variable up here and then just change it
down here but I just thought I would
claim it inside of the on into frame
event would you can go about that
different ways but this works really
good to keep the moon stuck going around
the earth as the earth moves around the
Sun if you didn't have that inside of
this event listener and you had it
outside up here it wouldn't go around
the earth the way it should all right so
here we set the scene we use the
variables that we set up here inside of
the own into frame event and we're
incrementing them
we're incrementing them every time this
event happens and what that does is it
augments the the the angle point of the
rotation so all four of these do that
same thing so you can see for the scene
moon and the college for the moon and
the scene for the earth and the cause
for the earth are set to different
values these are a lot smaller than for
the moon so we use those values here
seen earth Konerko's are seen moon Cosmo
we use those here and now let's explain
one of those lines in all four of these
lines here are pretty much the same so
I'll explain the first one and you can
pretty much go with the other four with
identical functionality okay so the
Earth's dot X right here when we claim
this we're saying we want to move that
object we're moving the earth and
removing the moon and we're moving its x
position and y position and its position
it's always going to be changing so
these if this equation is always
changing because these are always
changing as well okay so what happens is
30 to 30 times a second this thing is
firing off and always changing these
numbers okay so the Earth's that x
position is equal to math that scene and
the equation of the math that scene is
the scene earth number sin however you
say that sin scene sin earth number
times the orbit speed one which we said
to bore now that gets computed
and then that gets multiplied by the Sun
orbit diameter which is here son orbit
diameter we set to 100 plus the Sun
gravity X Sun gravity X is the number we
claimed here for the dead center point
of the Sun so it's a little tricky and
you got to look at the math a little bit
basically we are multiplying the seen
Earth times the orbital that number is
multiplied by the Sun orbit diameter
plus the Sun's gravity X and those
numbers are all sitting right up here
and you can see each one of these
numbers in reference where they are here
and what they do and it's a little
tricky to figure out but that's how it
all works and then once you wrap your
head around it you can you know start to
create really custom cool animations
that you can scratch code without
anybody's help and have you know really
cool unique stuff that is all
programmatic you know it's all
programmatic all this animation okay so
that's how it works you can put more
planets you can make the whole solar
system if you want and I I know mine is
going my Moon's going a little fast
around my earth in relation to how fast
the earth is moving around the Sun but I
was just throwing up numbers you can
adjust it all to be accurate if you want
to be a super dork like that and I'm
gonna put this file up at the develop
PHP in the flash section that way you
guys can just get at it and download it
if you want to get to the code and see
all the elements I have on stage or you
can just reference the code on that same
page sitting under the video and the
download button for the source file okay
see you later</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>