<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>16. E - Commerce Website PHP Tutorial - Quantity Control In Shopping Cart | Coder Coacher - Coaching Coders</title><meta content="16. E - Commerce Website PHP Tutorial - Quantity Control In Shopping Cart - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>16. E - Commerce Website PHP Tutorial - Quantity Control In Shopping Cart</b></h2><h5 class="post__date">2011-01-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FhsTeurRlAo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to part 16 where we
finally finished the bass shopping cart
by allowing quantity adjustments for the
user before checkout so what we're going
to do is go into this quantity box and
we're going to put a form tag and inside
the form tag is going to have an input
text field and then that will allow them
to change it by giving them an input
text field where that number is inserted
by default dynamically then right next
to that input text field you have a
little button that says change and some
of you may opt to use JavaScript and in
JavaScript what you can do is use the on
change event of that input text field so
when you put an input text field there
with a form you can have a non change
event for that text field that way right
when they change the number in it it
will perform a JavaScript function you
can do whatever you want from that point
but I'm not going to be showing that in
this lesson series we're going to stick
to raw PHP and MySQL I know how to use
jQuery I know how to use Java Script
pretty well but I'm not going to be
going into it because it's really just
more about user interface what I'm
showing is more about the backend
programming all right so let's go in the
car PHP intersection for render the card
the user to view on page expand that
code down here let's go into the dynamic
table roll assembly for now we'll just
comment that out we'll copy it put a
line break there pop it back into place
for now let's just remove that we're
going to copy this form here that we
have already established for the user to
delete the item from the cart so let's
copy that and put it into this new table
cell we have here we're going to change
some things up we're going to leave the
form action to Cart dot PHP the method
to post the input name for the button
could be adjust button it'll have a
unique name for that button and remember
that's just the input button so you
don't really have to worry too much
about what the name is on that value can
be anything you want I'm just going to
put the word change so that's my little
button and here I can actually put a
line break on these so you can see it
better
so there's the form tag the opening form
tag and here's the first input which is
a button here's a hidden input field
which we're going to need that there's
the closing form tag with the closing TD
tag so this hidden field we need this
we're going to make sure it's item ID
instead of the eye the index variable so
let's just change that index variable to
item ID and let's rename this item to
adjust you can name it whatever you want
it makes most sense to you
item to adjust quantity or whatever you
want to name it I'm just going to put
item to adjust and that's the variable
I'll pick up to know which item in the
cart is the one to be adjusted now you
need one more field and you want to put
it in front of your button so let's go
above the button and place in a text
field you can go if you're in
Dreamweaver you can go up top to the
forms tab click text field there and the
name of it will be I guess quantity the
value let's just put the xxx for now
sighs I'm just going to put 1 max length
to because you know if you want to let
them buy 999 pieces of one particular
item you can make this a three if you
want to only allow them to buy 99 of one
particular item you make this a two if
you only want to allow them to buy up to
nine of one particular item make this a
1 now I'll make it a two the way they
can buy up to 99 of one particular item
but no more than that I'll press ok
and this value the xxx there you're
going to change that to be this each
item quantity variable that we comment
it out right there so now you have
everything you need to be posted to a
little PHP block we're going to add up
top like we've been adding all those
other PHP blocks
handle the programming we'll add one
more and it's going to be looking for
this variable of item to adjust this
hidden variable of item to adjust we'll
also be able to access the quantity
variable that way we can adjust the
quantity for that item in the array
we're going to go and write some PHP up
top let's take this variable item to
adjust maybe put it in a notepad file
somewhere or something where you don't
lose or if you have a good memory just
hold it in your head I'm going to throw
it in a notepad file both of those
variables that way I know exactly what
I'm looking for so I can scoop it up now
I'm going to collapse section for now
I'm going to have a new PHP block up top
here so let's see which one of these is
real small I think section two is nice
and small there so I'm going to copy
that whole section to just the PHP block
section two and right under Section two
we're going to pop it in again the
copied version of section two I'm going
to name it section three the one that
was section three is going to come
section four section four is going to
become section five now section five is
rendered the card to the user to view on
the page don't let me lose you
you saw what I just did I just changed
the numbers a little bit so section
three is the new one so let's change
what this says here if user chooses to
adjust item quantity now you go in here
expand that change this code you can
just remove that altogether now you have
a little if condition nest and we're
just going to change this to post
because we're looking for a posted
variable change this to post as well and
the variable we're looking for is item
to adjust so let's change this to that
now let me explain this line real quick
it is set the posted variable item to
adjust and post item to adjust is not
equal to nothing that means it has to
have a value so it has to be set and it
has to have a value in order for us to
execute some
code yeah
Oh woodwork now we already learned in
this lesson series how to adjust the
quantity for a specific item in the cart
so really some of you guys could have
had this already banged out without me I
know if your logic is good so I'm going
to go into section one and I'm going to
copy this for each loop because look
here in this for you loop we have this a
little code comment it says that item is
in cart already so let's adjust its
quantity using array splice so I'm going
to grab that hole for each loop make
sure you grab the hole for each loop
with the while loop inside of it and
press ctrl C and then you can collapse
section one back up go back into section
three and put that for each loop right
there make sure this bottom bracket
matches there we go that looks good to
me so all we have to do is go in here
and change this splice line just a
little bit that's all we have to do
really so right here above the for each
loop we have to access this posted
variable whatever the value of it is so
let's make a local PHP variable called
item to adjust keep it simple keep it
simple stupid and then that will be
equal to posted variable of item to
adjust we're also going to gather one
more variable so let's just copy that
line pop it in right there I'm going to
name this one quantity because remember
we have two variables being posted when
this item might be to adjust variable is
going to be set we'll have two two
variables that we can access the item to
adjust and the quantity that they want
to adjust to for that card item so let's
just name this quantity and we're going
to get gather the posted variable of
quantity from the little forum so within
the for each loop we can place that in
the array splice function we have to
make sure first we get the right item so
we have to gather we need to I've area
below so right above the for each loop
let's put the I equal to
so let's make that zero so this should
still target the correct we're going to
check it out
I might have to alter that a little bit
but I think this will target the correct
associative array within your
multi-dimensional array for that item so
let's see
instead of PID here we simply change
that to item to adjust so within the
pour each loop doing the same things we
did in section one so I'm not going to
recover the same I'm not going to
re-explain all this code just change PID
to item two adjust what's found you
don't need that variable all we need is
the splice function there within this if
condition and I already explained this
info condition when we created section
one of the code so I'm not going to
explain what this is all over again
not going to explain arrays splice all
over again because I already did it all
I'm going to tell you is quantity inside
of your associative array where we're
going to use array splice to adjust it
instead of each item quantity plus one
we can just make this the dynamic
variable of quantity it's very simple so
take that each item quantity plus one
and change it to quantity and then you
just continue you just continue to let
the page load and the cart will render
correctly with these new adjustments so
let's make sure everything's cool see
this PID I didn't change it right there
so let's change that PID two items to
adjust okay that looks good to me I'm
going to taste it all right let's add
the black hat hey little black hat
let's add the black jeans here little
bag jeans let's add the purple shirt all
right now I'm going to add I'm going to
change the quantity for the purple shirt
to three change you can see now it says
three the page already reloaded in a
split second nobody can even notice it
reloading almost and now the values
total is 30 kart totals 50 if I change
the black hat and want four of those
change see and it happens so fast you
almost can't even notice the page is
reloaded all totals are different now so
I think that's pretty efficient but as
you can see man this is lightning quick
I'm gonna add 48 of these see 480 bucks
car total perfect let's remove that item
now look everything's working great huh
okay so let's see where we're at let's
close this code up collapse it and now
we have five sections of PHP block very
simple and the cart is pretty much
complete all we have to do now is
discuss PayPal and its IP and
programming so in the next video I'm
going to talk all about PayPal being a
PayPal merchant what kind of account you
need how to get the ipn script going on
you sit on your account the cart
variables all the things we need to send
to PayPal to let them know all the item
the quantity and things like that so
stay tuned for part 70 we're almost done
we're very very close now it's so close
I can smell the finish line</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>