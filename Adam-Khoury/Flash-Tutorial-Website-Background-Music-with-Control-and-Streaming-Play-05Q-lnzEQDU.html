<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Flash Tutorial : Website Background Music with Control and Streaming Play | Coder Coacher - Coaching Coders</title><meta content="Flash Tutorial : Website Background Music with Control and Streaming Play - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Flash Tutorial : Website Background Music with Control and Streaming Play</b></h2><h5 class="post__date">2010-07-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/05Q-lnzEQDU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody here we are at the
develop phpdoc comm forums and we have a
question which i think is best answered
with a video tutorial and we have cougar
and he asks hello guys how can i add
background music with control buttons
stop play thanks in advance and this is
for flash and ActionScript 3 so I said I
will make a nice easy video tutorial for
you so what I've done is I set up a
little file that demonstrates this
nicely and what it is is in scene one of
the flash website say this would be your
flash website
I just put nested the whole thing inside
of a movie clip inside that movie clip
you have all the elements of your site
and everything and a little timeline
here and on top of everything in the
timeline I put background audio now if
you have a lot of frames within this
timeline you just extend the audio out
to cover all frames like by pressing f5
cover all the frames like that since
mine just has one it's just sitting on
frame 1 so what I have here is a button
that you can just grab and put into any
file any site and it refers to a file on
the server so in the folder where this
is all living on my desktop my website
here's the example ok so let's take a
look at the example and this would be
the set up in your folder your Flash Fla
in your SWF would be wherever it is on
your server for your website and then
song dot mp3
would be in the same folder the same
directory alright so now let's double
click the SWF and see what we have
as you can see I've got a little
simulated website those buttons don't
even work that's just an example of how
your site would be and then we have the
button up top here you can see the music
is looping and playing by default song
ends I programmed it to loop start over
so the background audio will be non-stop
and you can shut it off so the user can
shut it off what it does is it pauses
the song at the point when they shut it
off when they press play again to listen
it resumes that's pretty much everything
he asked for and the way I set it up in
the flash file you can just take this
this is a flash ActionScript 3 by the
way I'm working in flash cs3 that way
cs3 cs4 and cs5 users can benefit from
downloading and looking at these files
so what we have here is just a button
and that button can be placed anywhere
inside of it is where the magic happens
there's the code to refer to that song
mp3 and control everything and I
explained the code a little bit in the
video and I also commented the code out
real nice for you guys and like I
explained later in the video this code
can probably be well optimized I just
slapped it together real quick to serve
the task at hand once again there it is
if you want to learn how to put this
into effect in your flash websites or
applications
feel free it'll be available for
download and if you watch the video here
you'll learn how to set it all up ok so
first thing we'll do is notice what we
have here it's just some elements here
to make up something that would be like
my website on my application let's say
that was in its own movie clip I'm going
to convert that dissemble put it in a
movie clip ok so that's its own entity
its own thing so inside that movie clip
let's double click and now it we're here
with all the elements let's put a new
layer on top
and let's call this audio background
audio this one we'll call site stuff
alright so on the background audio layer
let's grab the text tool and let's put
some static text in and put it in the
capital W and then we're going to go
down to adjust the font from Arial to
webdings
so when you adjust the webdings you'll
see it gives you that speaker simple and
let's just go to modify transform flip
horizontal
so it's pointed to the right all right
now all we have to do is right-click
that convert the symbol let's call this
background audio movie clip
okay now let's double click inside of it
and here's where we're gonna program
this audio to work the background audio
to work and this thing here will be our
toggle mechanism for them to pause it
and play it again
okay now we're inside this movie clip so
what we'll do is make a couple of layers
here let's put another layer in the top
layer let's call that a s3 because
that's where we'll put our ActionScript
3 and let's lock it
nothing's gonna go in that layer but
code this layer we're gonna rename this
to be play pause but on
alright now let's give that color we
want let's make it here a nice fur and
then let's right-click that convert to
symbol let's call it play pause in the
library also and now let's give it an
instance name that play pause button on
the play/pause button layer let's just
call it play button but just keep in
mind it's going to be a play and pause
toggle button a wool instance name it
play button so it has an instance name
it's ready to go but inside we have to
do a couple of things to it we're gonna
go inside and we're going to create two
layers I mean two frames two keyframes
so I'm just going to hit the second
frame and press f6 to put a new keyframe
inside on the first frame we're gonna
make this sucker gray like it's muted
out that'll be the muted version of it
for the polished version and here we'll
leave it nice and bright and blue but
we're also gonna stick a little
animation on there I'm gonna go to the
text tool I'm gonna go ahead and zoom in
to about 400 let's go to the free
transform tool that way I can just size
it up I sure we'll leave that one big
maybe about like that and that one will
be here at the end now we'll press
control C control shift P control C
control shift B control C control shift
to B it's copy and paste in place
control C control shift V now this one's
gonna be the smallest so let's just make
that small just very nice this one will
make a little bit bigger than that one
this one a little bit bigger than the
previous one you might even have to zoom
in some more that's not bad that's good
it's very nice okay so now what I'm
gonna do is highlight all of those
convert to symbol name it whatever you
want in your library that's fine we're
just going to go inside of it now and
make a keyframe animation lets turn all
of these gray and let's give it one
frame to press f6 frame three f6
for F six frame 5 f6 we have one two
three four or five so that's all we need
on the first one we're going to change
this to blue the second frame we're
gonna change this one to blow on the
third frame third keyframe we're gonna
change the third one to blue fourth
keyframe you guessed it right the fourth
one and then the fifth one on frame five
and you'll see what kinda animation that
gives us if we drag our timeline noisy
so that'll symbolize it's playing give
them a good animation and it'll draw the
users eye to it as well so now we can go
back to 100% okay so as you notice this
animated movie clip here is independent
and it is on keyframe 2 which is the
keyframe that's going to symbolize our
active play mode keyframe one is gonna
symbolize in mute so now let's just you
can double click in the gray area here
or click here to go back to the
background audio layer where we have our
a s3 layer and everything and there
you'll just have a little movie clip
inside the movie clip there's our two
frames remember let's go back here put
in some ActionScript 3 code and I'm
going to explain the code to you really
quick and we're gonna grab a sound file
now so what I'll do is I'm going to save
this into a folder where I have a sound
file already okay I'm gonna go ahead and
save this file so I'm going to call this
my site save let me show you that folder
now right there my website you can see
inside of it there's a song mp3 file so
long mp3 so that's how you would have it
set up you would just put your song
wherever your SWF is on your server in
your root folder of your website you
just throw that song file because that's
how I'm going to code it out so now we
have it all saved in flash all we need
is code to drive that button and have
the audio play as well we're going to
highlight the ActionScript 3 layer press
f9 open the scripting panel the actions
panel and we're going to pop in this
code now I'm going to explain all this
code to you it might look like a lot but
I put a lot of comments in there so it's
breaking up the lines a little bit so
all you have to do is understand the
code a little bit and you already saw
how I made the button okay let's do a
quick
down of the code that's in place so what
you'll see in the code is a stop action
on the first frame and I have everything
pretty well commented so I'm not gonna
spend too much time explaining it but we
create the URL request object that is
the URL to the mp3 on server that we
want to play as a background music then
we have an is playing boolean variable
which is set to false by default and we
have the sound object then we have the
channel for that sound object then we
have a paused position which is a number
variable set to 0 by default and the
pause position is used when the pause
button is pressed that way we can record
what part of the song we're at and then
when they resume it resumes from that
part of the song that's why we use a
pause position then the channel we set
to play right here this is where the
start playing happens so once we start
playing
we set the is playing bullying to
actually we could set it right here to
true and then remove this I just slapped
this code together real quick so it
could be optimized this code could it be
optimized and you'll see I'm doing a
funny thing with my event listeners down
here and then we take the play button
which has the instance name of play BTN
and we give it button mode equals true
that way when the users mouse goes over
it like this it gets the little hand
clicky symbol because it's just a movie
clip it's not a button symbol actually
so we have to assign the button mode to
it for it to do that then the the play
button we go to and stop - because if
we're playing right now then we want to
show that animation on the play button
and on beyond frame two of the play
button then we add a couple of event
listeners this first event listener is
the click event and mouse event of click
and that's on the play button so when
the user clicks the play button we fire
up a function call play pause which is
this function right here in function
play pause we have a condition set up to
say if is playing variable is set to
false we do these things
and I commented the code pretty good so
you can understand what's going on and
then else if it's set is playing is set
to true we run these things we execute
this code now you'll see I have here in
this condition the event listener again
this is because I kept losing my event
listener it wouldn't repeat the song
they wouldn't loop the song unless I
added this here and I had to also add
the event listener for the on playback
complete so it'll loop the song in the
on playback complete function itself so
I'm sure this code could probably be
optimized to where you'll get the
looping that you want and everything
without having to add these event
listeners but this code works just fine
so the last thing we have is the event
listener for the channel sound complete
when the song ends I want it to loop and
that's why I put that event listener
there so I can trigger it to play again
in this function called on playback
complete which is sitting right here on
playback complete what happens is we set
the pause position back to zero channel
set to play again so we start playing
the sound again is playing is obviously
set to true because the sound is playing
again and then we add the event listener
for the next time the song completes and
that's how it works as you can see it
works just fine when your flash
application opens or your site opens
it'll be playing by default with that
animation they click stop or pause and
it stops a song then they resume that's
how it's done we'll wrap this up and
have it in a downloadable package for
you guys I want to get at it but that's
a good clean way to put background music
and continuous play with controls in
your website ok we'll see you guys next
lesson</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>