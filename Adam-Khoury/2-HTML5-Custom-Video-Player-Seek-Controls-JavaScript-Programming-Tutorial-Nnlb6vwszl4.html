<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>2. HTML5 Custom Video Player Seek Controls JavaScript Programming Tutorial | Coder Coacher - Coaching Coders</title><meta content="2. HTML5 Custom Video Player Seek Controls JavaScript Programming Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>2. HTML5 Custom Video Player Seek Controls JavaScript Programming Tutorial</b></h2><h5 class="post__date">2013-07-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Nnlb6vwszl4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey hey welcome to part 2 of customizing
the html5 video element controls
interface in this video we're going to
more intelligently initialize the video
player programming so that our html5
markup stay slim and clean we're going
to use JavaScript to add event listeners
and initialize all the object variables
needed for the entire video player
script in this part two will also apply
the html5 range slider input as the
custom seekbar
for our video player that allows the
user to seek through the video they can
just grab a slider and move it anywhere
they want we'll focus on making the
player controls sexy in the later videos
in this series first we just want to
make sure we get working controls
programmed and after that we'll use CSS
to make it all pretty we're going to
start with the script that we left off
with in video 1 and we're going to
adjust it a little to make our HTML
markup a little bit cleaner we can
register this click event in JavaScript
rather than it being in our HTML so I'm
going to show you how to clean up your
HTML so you can program in a more modern
- other way get in the chopper and we're
also gonna have all of our like the
these width and height attributes those
can be assigned in CSS so we're going to
clean this whole thing up eventually but
I just put it the way I did in the
beginning so you can see how it might
look like that ok first things first
let's go ahead and collapse the code
within our play/pause function and right
above that function we're going to
initialize three variables that our
script is going to require the first one
is named FID the second one I'm going to
name play button third one I'll name
seekbar
and in later videos we're going to be
adding a few more variables to
initialize right there now go down a few
lines and under that line you're going
to type in window dot onload is equal to
the initialize function that we're going
to set up so let's name it initialize
player semicolon and what this line
means is when the window when all of the
HTML is loaded into the users window
this function initialize player is going
to fire off because we're using the on
low
event of the window so basically window
dot onload is a way to start referencing
all of these HTML elements only after
the page fully loads because if you try
to access and work with all of these
HTML elements by their ID name in your
JavaScript before they even load to the
window you're going to have JavaScript
errors your scripts won't even run so
that's why we use the window dot onload
event we can make sure that all of the
HTML is loaded before we start
referencing these elements so right
above the window dot onload line let's
type in function and you can just copy
and paste this function initialize
player open close parenthesis opening
curly brace go down and closing curly
brace now within this initialize player
function we can start grabbing the
object references that we need so let's
take this first variable and we're going
to say vid is equal to document dot get
element by ID and let's grab the ID of
the video player right there
and put it between double quotes or
single quotes my video close your
parentheses and put a semicolon now you
have an object reference for the my
video video tag we also want an object
reference for this play pause button and
we're going to add a seek bar so let's
just copy this line right here and paste
it in one more time and then you can
grab the ID for this play pause button
and put it right there and copy this
ctrl C and put it right there so now you
have an object reference for the play
pause button that means we can remove
these parameters these arguments that
were sending through our play pause
function remember in the first video we
sent two parameters through the play
pause function we don't even need those
anymore you can remove that there and
remove it there as well actually let's
go ahead and remove that seekbar
variable we're not going to initialize a
seek bar variable until we put the
actual element in place okay so now that
we remove those two arguments that we
were sending through this function can
change the code inside of it we don't
need to get the video
object reference there because we
already have vid set up right here as an
object reference so we can just code
against it in all of our functions so
function play pause is we just have to
change this button now to play button
right there and right there now
everything else everything should work
exactly the way it did before and you
want to test it now to make sure it does
beautiful okay I developed PHP I made a
video
November 8th 2011 that discussed a
better way to add event listeners to
your HTML so instead of having the on
click event right here how we have it we
can register the click event for this
element using JavaScript and it's the
recommended way to add event listeners
to your HTML that way your HTML stays
slim and clean so if you want to go to
develop PHP you can check out this whole
video tutorial that discusses it but
really we just want to grab a little bit
of the code so basically I just want
this one line now I'm going to pop that
line into my initialize player and you
can also give yourself a comment here
that says set object references and then
under that make another comment that
says add event listeners and then pop it
in that line of code so we can change
this line up a little bit to say and
what we want to do is remove this on
click reference here and place it up
here so let's take the name of this play
pause function ctrl C and let's put it
right there and we want the click event
so that's good and we want that to be
false so now we can go down here on our
HTML and clean it up remove that and
let's make sure we use the play button
reference the object reference right
here instead of that document dot get
element by ID stuff because we already
got an object reference for it so we can
just say play button that add event
listener you put the event that you want
to listen for which could be mouse over
Mouse out double click click and then
the function that you want to fire off
on that event so this is how we're going
to be
accessing all of the little components
and elements in our player and this is
how we're going to be adding all of the
events and we're also going to go even
further by removing any attributes in
any elements in our script that could be
applied or registered through CSS
instead so we'll make the width and the
height for this video element eventually
in our CSS instead of having it down
here that makes sense that way you'll
have nice slim clean HTML buddy now we
got to make sure this still works so
let's test that button and it works just
fine let's also check that in Internet
Explorer very nice you guys have to keep
in mind that a lot of the html5
technologies and some of the JavaScript
even is really recommended that we wait
till 2014 for all of these things to
standardize before we expect these
things to work in all different browsers
the same so you got to keep that in the
back of your head when you're
programming things with html5 so I'm
jumping the gun a little bit and really
you shouldn't use these technologies and
depend on them fully until 2014 if you
are going to use them now you definitely
want to have fallback content if you
don't know what fallback content is for
html5 elements you definitely want to
look into fallback content some people
will use a flash video player as
fallback content for their new html5
video player all right enough yammering
on let's put in some code so right under
the button we're going to add a new
control and that's going to be an input
range slider so you're using the type
range and I gave it an ID of siik slider
and I also have a nice video tutorial on
showing how to program the input range
so I'm not going to go over all of these
attributes in depth again you'll notice
that the range slider does not work in
Firefox I'm not sure why Firefox is
behind the curve on that one a little
bit usually they're ahead of the curve
in Firefox but in this instance Firefox
is behind the curve you can depend on it
to work in Internet Explorer 10 and
Chrome browser and possibly some other
less used browsers
but in Firefox is not working yet so for
Firefox you might want to put a
different type of element there or just
use the default controls for Firefox
users but come 2014 I'm sure Firefox
will be right along with everybody else
okay so now let's initialize this seek
slider so let's go up here and add it as
a variable name here then we can copy
this line duplicate it right under it
ctrl C on that seek slider put it right
there and put it right there now you
have an object reference for the seek
slider element down here which is your
range input now we also want to add an
event listener for that so we can go
ahead and copy this line put it right
there and make sure we copy this and put
it here so seek slider is going to get
the event of change so anytime this
input slider is changed that means
somebody's sliding the knob we're going
to fire off a function called vid seek
okay now we don't really have to see
this play pause function or the code
within it so let's collapse that and
right below it let's type another
function in name it did seek open closed
parenthesis and put in your curly braces
now the first variable within this
function is a number that we have to get
by performing a specific calculation
according to the duration of the video
so let's name this variable seek to it's
going to represent a number we're going
to make that equal to our vid dot
duration so you can use the duration
property to find out how long the video
is then we're going to multiply that by
the seek slider dot value divided by 100
and that helps you get the calculation
that you need now the next thing in this
function is we're going to access the
videos current time that's a property as
well that you can access whenever you
need to and we're going to set it to
seek 2 which is the number that we
acquired through this calculation right
here so basically you're just wherever
the user drags the slider you take
that value in the slider and you're
making the video seek to that position
so it makes sense okay
let's test it out run this in your
favorite browser that you're testing
with either Chrome or Internet Explorer
10 see our pause still works and we're
going to be changing the style of this
play pause button to make it more
graphical and we're also going to change
the style of this slider but what I want
to do is grab the slider now and move it
to see how I'm moving it through the
video from the beginning to the end now
you'll notice the slider isn't following
along the video as it's playing and
we'll show you how to do that right now
okay so to update the seek bar as the
video is playing you want to make the
seek bar knob follow the video so we're
going to add another event listener and
that's going to be for vid so you can
put did that add event listener and the
event is going to be time update and the
function that we want to fire off is
called seek time update now under vid
seek we can just type in function copy
this name of that function right there
put it in here open closed parenthesis
curly brace and curly brace so what I'm
going to do is make a variable called NT
short for new time that's going to be
equal to the vid dot current time and
we're going to multiply that by the
number that we get when we divide 100 by
the vid dot duration so 100 divided by
the duration gets multiplied with vid
current time to give you new time and
then we can just say seek slider dot
value and here is where you're updating
the position of that knob in the seek
slider is equal to the new time okay now
run this in the browser that you're
testing with
see how my seat bar is now following the
videos position I can take it and drag
it along and you can make that bar as
wide as you want just for demonstration
purposes I'll go ahead and put a style
attribute and I'll make the width of
that bar 250 pixels and now you'll see
it's a little bit longer than it was
before but it still operates the same so
you can make that any width that you
want now I don't want to have any CSS on
my elements because we're trying to keep
nice clean HTML in the later videos when
we go to prettify everything we're just
going to put some CSS up here for this
seek slider
okay so we'll leave this one at that so
now you have a pause play button that
we're going to customize to make it nice
and pretty later and you also have a
seek bar that lets you seek through the
video and you'll notice that Internet
Explorer's range slider it looks totally
different so we're definitely going to
have to manage that with CSS alright so
that shows you how to set up and
initialize your player in such a way
where you can access all of the objects
that you want and add all of the event
listeners to those elements through one
initialize function that happens window
onload that way in your functions you
don't have to pass many arguments to the
functions and it also cleans up your
HTML nicely ok I hope you've enjoyed
this part too and now we're really
cooking with gas the way we have our
scripts set up so the rest of the series
will blast right through it I'll see you
in part 3</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>