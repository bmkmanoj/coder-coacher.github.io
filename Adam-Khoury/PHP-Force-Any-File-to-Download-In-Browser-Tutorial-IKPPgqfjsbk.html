<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Force Any File to Download In Browser Tutorial | Coder Coacher - Coaching Coders</title><meta content="PHP Force Any File to Download In Browser Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Force Any File to Download In Browser Tutorial</b></h2><h5 class="post__date">2012-06-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IKPPgqfjsbk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello it's very nice to see you again in
this PHP tutorial you can learn how to
force file downloads in the browsers and
it also helps you to secure the file
location so the person downloading file
can't see where the file actually lives
you can also do things like make sure
the person is logged into your system
with cookies for your login system that
way just random people can't just come
to your site and downloading files if
you want to maybe sell files and things
like that so I'll be discussing all that
with you in this video tutorial let's go
and you have to make sure you're on a
PHP enabled server make a new project
folder on your server call it test
project or whatever and inside that new
folder create a force download PHP file
you see like I have here mine is named
force download dot PHP now within your
testing folder make a new folder called
mystery folder and that's going to store
your files that you want people to
download so you should have a file
called force download dot PHP and right
next to it in that same folder with it
you should have a folder called mystery
folder and in that folder you want to
put a file called track one mp3 so those
are your instructions initially here and
make sure you do those right now before
we continue you got to do that right now
if you don't do those steps that I just
told you to take right now not nothing
else is going to work and I always give
my scripts away for download right when
I put the video out I put the script on
develop PHP right underneath the video
and I link to it on YouTube so it won't
be any problems I want you to take this
code and run it okay so let me show you
what mine looks like this is my online
setup on my web server I'm in a testing
folder right now within that testing
folder I have my force download dot PHP
file and I have my mystery folder inside
of my mystery folder you can see I have
track one mp3 that's the set up you
should have right now now you can then
navigate to your webserver to force
download PHP wherever testing folder you
have it in and you'll see a button
sitting on the page and your page will
look like this then when you press
download the mp3 you
see the download dialogue come up and
there's my file there I go I can open it
so there's the mp3 file just downloaded
to my computer now if I view this source
you can see I can't see that mystery
folder reference anywhere in here so as
the person downloading the file if I was
to view source of this page I don't get
to see the location of that file really
so you can do that in Chrome Firefox
Internet Explorer Safari any browser you
want you'll get pretty much the same
results the file will be forced to
download in the users browser and they
won't be able to see this mystery folder
reference now if you happen to run the
script on your server right now and you
didn't get the file download that means
you did something wrong either you set
up your folders wrong or your script is
bad like I said I'm going to have the
exact code that I used on develop PHP
calm after I release this video tutorial
so if you do have syntax problems and
you're not getting the file to download
you might want to reference your code
against mine now in order to secure this
application really what you want to do
is make session data handling available
by claiming session start on the first
line and then maybe you want to check
and make sure that the person viewing
the page is logged into your system and
then you want to check the database to
see if they've recently bought any files
and if they have purchased any files you
want to give them a list of download
buttons so basically what you want to do
is make this form dynamically render
however many times over and over again
for the amount of files that they've
purchased that they can download and all
you do is simply dynamically render the
name of the file here or you can say
file ID for the input name of this
hidden variable and send the ID of the
file in the database and then you can
just query the database up top to see
what the file name is and dynamically
insert the file name according to the ID
of the variable so you have to
understand PHP programming really well
and MySQL data handling in order to
create yourself a really nice digital
download system where people are buying
files and you're serving them up to
those people securely you got to make
sure those people
logged in before they can download
anything and you really want to make
sure that the person doesn't really know
exactly the folder where those downloads
are and that's pretty much the basics of
it now the last thing you need to know
is the content type now that will change
you're going to have to alter this
according to what type of file it is to
get a mime type list or a content type
list you can go to develop PHP calm in
the glossary of terms down here says
mime type click on that and you'll see a
nice big list so the type of file that
you want to let people download you can
see I went here and I got down to the
mp3 and that's where I snatched up this
content type to put into my PHP code
right here you see audio MPEG 3 that's
the content type I'd snatched up so if
you're letting people download say JPEGs
you would grab this mime type or content
type and you would just take that go to
your forum or your PHP code and swap it
out right there same thing for dot doc
dot txt PDF FLV dot whatever kind of
file you have and this list is a nice
big list here I don't have all of the
content types but I have most of them so
there are a number of different ways
that you can secure an application that
does digital download so for instance if
you're selling files you can secure the
files make sure nobody it's not supposed
to download them to download them that's
really the basis of it you just want to
let people pay for something then after
they pay for it
through the gateway online then you
store in your database the information
about that sale and then when they come
to log in or are returned to your
website to download the file your MySQL
database already knows because you have
back-end processes with your payment
gateway and with PayPal it's called IP n
programming IP n scripts will enable
that back-end processes so if the person
is logged in when they press buy when to
purchase this file they're going to be
sent to the Gateway and you can just
send their unique ID for your login
system
along with that form to PayPal PayPal
will send all the sales data back along
with that ID stick it all in the
database and then your system
automatically knows what member ID what
what file you see is very simple that's
how it works
I mean it's not very simple but that's
how it works and I'll have this little
code snippet available under the video
where it's playing at develop PHP calm
and I'll put the link or it in
description in the YouTube description
area for this video okay so that is how
you can force file downloads in all the
different browsers and it's handy not
even in scenarios where you're selling
things just in ordinary everyday
scenarios where you want somebody to
download something but you don't want
them to actually know where it's being
stored on your server and if you
directly linked say to an mp3 file the
browser is going to play the mp3 file or
the same for a few other types of files
I think dot zip is the only one that
natively has a file download dialog
automatically other files like JPEG and
mp3 if you just point to it in the
browser it's going to render that in a
browser so you have to use compose like
this the header and read file functions
to force that download to occur</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>