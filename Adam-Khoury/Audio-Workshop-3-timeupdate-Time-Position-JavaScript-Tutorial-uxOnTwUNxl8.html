<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Audio Workshop 3 timeupdate Time Position JavaScript Tutorial | Coder Coacher - Coaching Coders</title><meta content="Audio Workshop 3 timeupdate Time Position JavaScript Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Audio Workshop 3 timeupdate Time Position JavaScript Tutorial</b></h2><h5 class="post__date">2014-04-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uxOnTwUNxl8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back to the audio workshop in
this part we're going to establish a
time update event handler for our audio
object which is going to serve two
purposes in the particular application
we have built so far this event handler
will allow us to show current play time
against the full duration time and will
also allow us to update the position of
our seek slider knob so as the audio
plays the seek knob moves along with the
audio by itself we're going to continue
our audio project with the same script
we left off with at the end of the last
video that was video two now the first
thing we'll do is add the HTML it's
going to be a little time box it's gonna
show the current play time against the
full duration time so right after the
seek slider I'm gonna put it in between
my seek slider and my mute button
alright so here's the element that's
going to be our time box it's a div with
an ID of time box and inside of it
there's two span elements one of these
span elements has an ID of current time
text the next span has an ID of duration
time text and you can target those IDs
with JavaScript and that's how we're
going to update the current time text
okay that's all the HTML now let's go up
into our style element expand it and but
right before we're putting all the hacks
and workarounds for the range slider
appearance and right underneath the
volume sliders code I'm gonna pop in the
following rule and we're doing is
effecting a div on the page with an ID
of time box we're making its
display:inline-block that way it
displays along with everything all the
other little components that we've
placed so far and it doesn't take up a
whole block we wanted to
display:inline-block the width of the
little time box is gonna be 80 pixels
the background is black and actually we
can remove this border bottom now the
text align is set to center this is the
color of the text that you want to in it
and then you set your font family and
your font size now if we take a look at
what that renders see there's the time
box all of the text in it is centered
and it's the color we want now you see
how everything is placed and it's not
very even on the page there what I'm
gonna do in the next video is show you
how to place all of those components in
this cool little skin and we'll make
sure everything is aligned in there just
right nice and even through the center
okay so let's collapse our CSS back up
because we're done with that and now all
we have to do is place the JavaScript so
let's open up our JavaScript now the
first thing we'll do in our JavaScript
is initialize variables needed for the
current time text and the duration time
text then where we're starting object
references let's go ahead and add the
object references so for current time
text and duration time text we use
document dot get element by ID and we're
targeting those elements down on the
page here the span elements now this is
the important bit we're gonna go down
into we're adding event handling and
we're going to put an event listener in
place for the audio object itself and
that event is the time update event so
whenever the time is updated for the
audio which is a automatic internal
process that the audio has and this
function instructs the seek time update
function that we're going to write in
this function instructs our seek time
update function to run we're gonna write
that function in just a second actually
I think you can set up this handler like
the mouse move where you just call the
function by name directly there and you
don't need to wrap it in a function but
alright now let's go down into our
functions where the last one is for the
set volume and we're gonna type in
function seek time update make sure we
open and close curly braces what the
seek time update function does it's
gonna help us populate the time for the
current time text and the duration time
text but the current time is going to
follow the playhead and our little seeks
lider knob needs to also follow the
playhead or the audios current time so
the first thing we'll do is create a
variable in this function and this is
called nt
short for new time NT stands for new
time we're gonna make that equal to the
audios dark current time property
multiplied by 100 divided by the audio
dot duration property so these are two
more properties that you can access for
the audio object so current time and
duration are two properties that you can
just access for the audio objects and
really it's just simple math happening
in this line you're multiplying here and
this is division and these are simple
numbers now the very next thing we're
going to do after we get the new time is
we're going to set the seek slider knob
so you take the seek sliders value
property you make it equal to the new
time that will move your little slider
knob automatically the next thing we're
going to do in this function is set some
variables that are going to represent
the current minutes current seconds the
duration minutes and the duration
seconds and that's also simple math that
we're performing on the current time
property and the duration time property
it's very simple the audio duration
property and the audio current time
property and we're using simple math on
those again now the next thing we're
going to do is make sure we put zeros in
front of any numbers that might happen
to be single character or single digits
so if you have that one or a two you
want to put a zero in front of that you
don't have to but it seems to be a
common thing that all audio and video
players have and all that takes is for
little condition statements you can use
the ternary operator or you can use
little if conditions like I have here
and my if conditions are saying if the
current sex is less than ten that means
one through nine it's a single digit
then you're going to make the current
sex equal to zero plus current sex same
for the duration sex if the duration sex
is less than ten then you add a zero in
front of the duration sex and you're
doing the same thing for the minutes for
both of those
okay the last two lines will
in this function our current time text
that innerhtml
is equal to the current minutes plus a
little colon symbol and the current
seconds and the duration time text
innerhtml is going to be equal to the
duration minutes colon duration seconds
now let's make sure we have a working
application all right so you can see we
have the full duration time and the
current play time is rolling along with
the audio now let me go ahead and scrub
the audio it gets to the end going to
loop and there you have it now you have
duration time and current play time and
you can see that your little seat
sliders knob is moving along with the
playhead all by itself all right now I
can collapse up my JavaScript again and
we'll end the video right here and we'll
pick up in the next video where we're
going to show you how you can set all of
your little audio components into your
own little custom skin so really the
next video is gonna be a lot of
discussion about design aspects and I'll
show you how I put together this little
custom skin</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>