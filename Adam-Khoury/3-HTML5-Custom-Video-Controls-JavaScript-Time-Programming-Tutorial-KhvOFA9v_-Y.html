<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>3. HTML5 Custom Video Controls JavaScript Time Programming Tutorial | Coder Coacher - Coaching Coders</title><meta content="3. HTML5 Custom Video Controls JavaScript Time Programming Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>3. HTML5 Custom Video Controls JavaScript Time Programming Tutorial</b></h2><h5 class="post__date">2013-07-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/KhvOFA9v_-Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this third part of customizing the
video controls I will demonstrate how
you can show the current play time and
the full video duration time the way
YouTube videos display video current
time and duration we can use properties
of the video object and convert them to
minutes and seconds for display purposes
and it's pretty easy the first thing
we're going to need is two elements to
show this current play time and the
video full duration time so let's go
under the slider that was our seek bar
and let's put in a span element with an
ID equal to current time text and then
make sure you close that span element
then you can copy that span element put
another one right next to it with a
forward slash in between the tube and
this one you just change the C to a d
and that stands for duration time text
so you have current time text and
duration time text and that's where
we're going to render the current time
and duration time now we can go ahead
and collapse our HTML because we don't
need to look at that anymore we're going
to open up our script code this is the
same code that we left off with in video
number two so let's go up to the top
where we are initializing our variable
names we're going to put cur time text
and dur time text then we're going to
set object references for those two span
elements so we can copy that one paste
it two more times and just take this cur
time text put it right here and then
right there actually put it right there
and right there and then dur time text
which is your duration time text is
going to go right under that so now you
have two object references for those
span elements now since we already have
a time update function that's going to
fire off every time the time updates for
the video object it's a function called
seek time update that we put in in the
last video so what I'm going to do is
just go ahead down here into seek time
update function and we're going to add
the code that we need to put the
duration time and the current play time
into those display elements okay first
I'm just going to pop in all of the code
that makes this possible I'm going to
check and see if it works and if every
working right I'll explain every single
line to you this is the new code that I
just put in let me let me go ahead and
change the text color so you guys can
see it a little bit
so I'll go up into my CSS and inside of
the videos control bar let's see if I
can just set the color temporarily here
to something like a light gray now let's
render that in our test browser you see
you have current play time which is on
the left and then you have your duration
that's the full duration of the video
and if you drag your playhead you can
see how the little current time changes
as you drag and I'll show you guys how
to make these double zeros if you want
the minutes to be double zeros okay now
let me explain this little bit of code
that I put in place to make that
possible the first thing I did was I
wanted to get a variable for the current
minutes so I took the vid dot current
time and divided it by 60 and then we
use math dot floor to round down that
number because it's going to be a
decimal number and you don't want a
decimal number now to get the current
play seconds we're going to take the vid
that current time minus the current
minutes times 60 and we use math dot
floor on that as well to round down now
to get the full duration minutes we use
video duration property divided by 60
then to get the duration full seconds we
use the video duration minus duration
minutes times 60 and it helps if you
have decent math skills when you're
trying to program things like this now
this one I also use math dot floor and
then this one I just used math dot round
and you can use map that round here as
well you could also use math top floor
here but I decided to use map that round
that way it goes naturally rounded and
it's not pushed to the floor when you
use map dot see little round up when you
use math that round it rounds naturally
whichever way it should round so there's
different math methods that you can use
in here in place of the others depending
on what you think makes the most sense
and you can look into JavaScript floor
seal and round to see how they all work
and I have some information about the
math object at developed PHP comm if you
want to dig further it's in the
JavaScript library so now in order to
put a zero in front of the current
seconds if they happen to be a singular
digit like from zero through nine you
want to put a zero in front of it so
there's not a single digit there so you
say if the current seconds is less than
ten if it's less than double digits then
you're going to say current seconds gets
a zero attached to the front of it if
it's zero through nine you want to put a
zero in front of it that way it's double
digits in that slot then the same for
the duration seconds and now if we look
at this if we look at the player you'll
notice that we have only single digits
for our minutes and you might want
double digits there as well so I'm just
going to take these two if conditions
right here and actually we can put those
all on one line they don't have to take
up three lines for that little tiny
condition so I'm going to pack those
into their own line and then I'm going
to copy those two lines I'm going to put
two more right under them and then we'll
take the current minutes variable and
we'll say if current minutes is less
than ten current minutes is equal to
current minutes with a zero attached to
the front and the same thing for
duration minutes if duration maintenance
is less than 10 then duration display is
going to have a zero attached to it as
well okay does that make sense then all
we do is we take the current time text
in your HTML for that span element and
we add whatever display whatever we want
to put inside of it in this case we want
current minutes with a colon and then on
the other side current seconds and then
for the duration time text in our HTML
we put the duration minutes colon and
then duration seconds so let's see if
that gives us more zeroes
now you see what you have here so now
you have more of a standard type display
now what I'll do is change the video so
let me go down here to my HTML and I'm
going to change this to a longer video
that I have in the same directory and I
named it other video so let me check
that out hey hey welcome so you see I
have more time there I have a whole lot
of minutes in this video it's 14 minutes
57 seconds as the playhead rolls along
the way you can see the current time
rolls along just nicely see no problemo
and it looks like 1456 might be the end
so you see how I'm using let's go back
up here math that round here you could
put math dot floor and then refresh hey
hey welcome to let's pull it all the way
to the end and now they match so
depending on what kind of logic you want
you can use different ways of rounding
that number you can round it to the
floor round it to the ceiling or you can
round it natural okay so that shows you
how to get YouTube style display time
for your custom design video element
controls and we're just going to keep
banging right along we started with the
pause play button then we put in a seek
slider now we have our display time and
what comes next to that now we have to
mess with volume full-screen button and
things like that and those will be in
the next I'm just going to do one
display component for each video first
video was the pause play button second
video was the seek slider third video is
our display time so I'll probably have
five videos in total the next videos
will go fast so I'll see you guys in the
next lesson</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>