<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fourth of July Fireworks Particle Effect Tutorial Flash AS3 Animation | Coder Coacher - Coaching Coders</title><meta content="Fourth of July Fireworks Particle Effect Tutorial Flash AS3 Animation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fourth of July Fireworks Particle Effect Tutorial Flash AS3 Animation</b></h2><h5 class="post__date">2009-07-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oKoPSX1GDbs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and happy fourth of July
is what we'll be learning in this lesson
you hate rokkit one and then you shoot
it off again and it's all randomized you
can see each time the explosion is
different everything flies off in
different directions it's beautiful so
we're using a really a custom particle
effect that I just coded out just
special for fourth of July so you can
learn in ActionScript 3 how to create a
little particle effect that will create
a nice rocket and fireworks explosion
okay let's click create new ActionScript
3 file and once inside I'm going to
change the properties for the file to
that width is good I'm going to change
the height to 300 so it's not so high
frame rate to 30 so we have better
animations on our particle effect that's
okay and actually let's change the
background color first to black cuz we
want a night sky and our particles are
going to be a bright color so first
things first is we'll draw out the
particle I'm just gonna make a custom
star-shaped a whacked-out little star
just by drawing points with the pen tool
I selected the pen tool and I'm drawing
points make my little star here doesn't
have to be shaped perfectly because I'm
gonna shrink it down really small okay
so there's our shape now let's give it a
fill of white and Stroke of none now we
can resize it make it teeny tiny maybe
even smaller than that let's go into
400% let's get it a little smaller that
looks good to me okay there's a little
star let's go back to 100% okay well we
can make it even bigger than that let's
go back into eight hundred eight hundred
percent resize it make it just a tad
bigger there we go now let's go back to
100 okay now let's right-click this
object convert it to symbol movie clip
registration can be Center that can be
fine
it really doesn't matter and then export
for ActionScript we're gonna call this
let's name it in the library star one
and let's just call it little star for
short little star so this is the class
definition or the class name that we're
giving in so we can connect to it in the
code using that name and pull it out
from the library many many times it says
mentions we need to okay so press ok and
it's going to tell us that a definition
for this class path cannot be found in
the class path so one when we
automatically generate an ESOL you as a
runaway fire okay now what we'll do is
Zach this off of stage because we have
it in our library
and we have it if you right click it go
to properties we have it exporting for
linkage and ActionScript okay that's all
nice so now let's go into the code and
we can start coding this puppy out
first thing is import the FL that
transitions because we're going to be
using between effects and easing dot all
and the similar line here that easing
that all okay now the next line next two
lines actually are going to be two
numbers that we need to create one is
gonna be eye
it's short for index that we're gonna
use in our for loop when we run a loop
and if you don't know what a for loop is
and what it does and what it's used for
I feel sorry for ya you should find
happening okay so let's go to max parts
on this one max parts
okay so we have index and Max parts and
this is both gonna be used in our for
loop and we claim them as integers those
two variables that we're gonna use
further down on our script now this next
variable is going to be the first
particle first little star will pull out
of our library and use on stage so let's
name it first part : remember little
star little star equals new little star
we use that name that we use exported
for ActionScript there in the library so
it's name is first particle so at this
point in the code that little star would
be able to be accessed and brought out
to stage through code by using add child
first particle once you ran that line it
would be on stage and so what we have to
do is just think about what we wanted to
do when it comes out when it comes out
we wanted to start somewhere around here
in the middle and shoot up and go a
certain way a certain length up the
screen and then kaboom and when it goes
kaboom we want you know maybe 10 to 20
little more stars to make the effect
that we're looking for and it took me a
little while to get the math right and I
don't know if anybody's ever used tweens
like this before and it might even turn
on a little buggy but it's good for a
fireworks I found I really like the way
it looks and it was easy to code so
first thing we're gonna do is create a
let's create a button a little custom
button
okay so here's my little custom button
there and I'm gonna use that to initiate
the rack the rocket or the fireworks
display this little demonstration and a
little particle effect so let's get the
instance name that we need on this well
first let's add our listener here's our
event listener for the click function of
that button and shoot rocket one is
gonna be the function that fires off
we're gonna make that function in a
second here let's grab this instance
name rocket one BTN let's put that on
the button this button needs an instance
name of rocket one BTN now back in the
code we have our listener write out this
function now so function shoot rocket
one and this is event : mouse event
loyd open curly-brace and closed curly
brace alright the first thing we want to
do inside of this function let's go down
a couple of lines and we're gonna type
in this button visibility to be false I
don't want people hitting it over and
over and over again we want the
animation to display through fully
equals false so we just claim the
visibility property on that button make
it invisible while we run the animation
now the first thing we do is add this
particle this first particle this is the
one that's going to shoot up say out of
the little cannon into the sky and then
right before the the blast happens so
let's add child first particle
right here grab that instance name first
particle now first particle is on stage
now we're gonna put a tween on it so
let's claim the name of that tweens call
it rocket one fly why rocket one why why
it's gonna move its Y position in a
tween manner
this is tween equals new tween
and now we just put the parameters there
this is gonna be first particle this is
gonna be the object that we want to
tween and the property of that object is
going to be the Y position so that means
it's where it is up and down on the
stage and or vertically now we want to
have the YZ method which I'm gonna use
none dot YZ out because I think that has
a decent look he's out now we claim the
number where it's going to start on
stage 300 at the bottom and where it's
going to stop it's gonna stop at let's
say 180 see how that looks
and then the duration and then the true
property there
so the between actually runs
already now I'm going to put a tween for
the X also the exposition and that is
because maybe you wouldn't want it to
shoot straight up maybe you would want
to shoot it at an angle you know so if
you had x and y positions then you can
or X&amp;amp;Y tweening
then you can make that happen so let's
leave this one at 180 and this one 180
because we want the exposition for this
first particle to be 180 the Y position
we want it to stop at 180 but have a
start position of 300 so it starts at
the bottom and comes up and let's see
what do we got 225 this should be 225
for the x position
225
because that would be center stage 225
and the Y position no this would be 180
yeah okay yeah this would be 225 so it's
really not gonna go anywhere
but if you wanted it to you can have it
start at a different X position here and
it would shoot at a little angle so I'm
gonna leave that a little bit of math in
there okay now the next line is going to
be the event listener it's going to be
for this rocket fly X or a rocket fly Y
actually see put it right here dot add
event listener and this event listener
is going to be for the motion finish
event between event
that motion finish and where is that
motion finish comma then the function
that we want to fire off I'm gonna name
it rocket one explode it's a good name
for it close off parentheses semi-colon
now let's write out that function let's
call it function rocket one explode okay
I just popped it in the rest of the code
for the script and it might be a little
buggy but it'll give you the general
idea of how you can use tweens sometimes
to create explosions and particle
effects and and cool things in your for
loops and so what we're gonna do is talk
you through it line by line what I coded
in here and we started we stopped coding
line by line on 17 is where we're
creating that rocket one explode
function okay so inside of that function
we have proclaiming a variable here of
explosion point and we want it to be the
number of the first particle dot Y or
you can just use 120 because that's what
that number is gonna equal anyway but if
you had a little dynamic scenario I just
set that up so you can have things more
dynamic and we remove the child the
first particle so you know when a
firework goes off you have the little
thing that goes up in the air and then
once it explodes that's it it's gone so
that's the logically when we remove it
it exploded now we claim the max parts
remember the variable we started up here
max parts is going to be equal to two
now let me show you I'm gonna press
control enter
and I'm gonna shoot Rockets button and
it goes you can see two parts each time
fly out because and they go out in
random directions at random distances
and that's the logic I was going for
when I wrote this little script so we
have max parts of two now if I change
max parts to say 32 press control enter
this is really more like it
it's beautiful makes a nice fireworks
effective
max parts is equal to 32
let's make that only about 18 see how
that looks and adjust all of these
numbers and you'll see wild things
happening play with all the numbers okay
so here we start our for loop after we
claim the max parts because we're going
to use max parts number right here so we
claim the for loop and in the for loops
condition we say I is equal to 0
remember we claimed I index I is equal
to 0 and I is less than 18 max parts
then I plus plus that means I will
iterate keep adding to itself until it
reaches that number so it's not gonna be
an infinite infinite loop it's just
gonna go to 18 and stop it's gonna make
all 18 of the little star parts that we
need to make up the particle effect and
then all we need to really do is move
them once they're all created here
within this for loop so here we create a
random number and another random number
and you can see I used some pretty
tricky math and you can try and change
up this math and see what happens and
all these numbers I would suggest you
try and change up just a little bit or a
whole lot and see what effect it has for
you you might you know be able to come
with a whole new kind of particle effect
using these tween methods that I have
here and so now we claim a Bart a
variable of particle it's the little
star again remember how we claimed this
first particle we do the same thing we
claim as a name of just particle and
it's the little star from our library
and these things can also be colored
there's a little hint for you you can
color them through code you add child
app we're going to add child that zero
index of this particle so there it's
added to stage at that point now we
throw a tween on it three really we
combine three tweens together there and
I left them in this in this setup so you
guys could see what's exactly going on
there or what is exactly what exactly is
going on there sorry I'm turning
retarded so the first one is the
particle flying in the x-direction
second one is particle flying in the
y-direction and the third one is
particle fade out because the fireworks
when it or a yeah rocket fireworks
rocket when it blows up you notice that
it's bright at the explosion and then
things kind of fizzle off so you want to
have that look so we gave it a fade to
as it's moving out in random directions
so what we do is claim the particle the
x position for this one strong that ease
out is the YZ method and this is going
to be a position of 225 to start with
because that's where our x position is
we know and then we claim a speed or a
duration rather of for the same duration
is set for the Y directional and we give
the random number to here for this one
and random number of one here for this
one for the ending
positions so these this one starts at
2:25 and it ends at random number one so
it's never gonna be the same do that's
how we get the using this random number
one here and random number two here is
how we get the spread in a random
fashion
every time the that rocket is shot it's
never the same it's always gonna be
different and it has a spread in
different directions from one starting
point all out in random directions and
that's what we wanted to make it look
like an explosion so the next one is the
Alpha and that really simple we just
take it from full alpha to alpha zero at
a duration of three okay now this next
line is the event listener for this
motion finish after it explodes and all
the little particles do their thing and
they fade out we want to make sure after
each one fades out that it gets removed
and I'm not sure if this is the source
of my bugs or not but like I told you
it's a little buggy so don't complain to
me try and fix it give me the fix how
about that don't tell me how much I suck
be better than me and fix it and then
tell us how you fixed it or whatever and
then so what we do is we claim on the
particle fade variable here an event
listener of motion finish and then we
claim the event or they function fires
off on that event so on that motion
finish which is the Alpha fade then we
remove particle function which is this
little function right here which runs at
that moment and so we in the remove
particle function we remove child at
index of zero where we added it in the
first place here at child particle zero
index zero we remove child at an index
of zero that removes that particle and
rocket one underscore BTN that visible
is equal to true again that's when I
press the button remember it disappears
and then after they all fade out then we
want the button to reappear so the user
can for you the tester can shoot off the
next rocket and here we have an event
listener for the actually I already had
that up top so I don't need it there
there's the event listener okay we're
good to go let's see shoot rocket one
okay now if we render out yep I'm still
working just fine see what happens
you hit the rocket button it shoots dart
rocket button disappears
waits for the fade-out then it comes
back you can make as many of these as
you want red white and blue I'm gonna go
further with this I'm gonna make
multiple fireworks not just that one
then we'll make it come at angles and do
all kind of funny fun things with it
okay so we hope you enjoyed this one the
source files will be available free at
develop PHP calm and under the flash tab
just like most of the other Flash
tutorials okay have a happy 4th of July
don't get fat and drunk or do get fat
and drunk sorry enjoy yourself</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>