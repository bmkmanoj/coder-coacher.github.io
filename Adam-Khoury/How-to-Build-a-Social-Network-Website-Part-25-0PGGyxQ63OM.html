<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Build a Social Network Website Part 25 | Coder Coacher - Coaching Coders</title><meta content="How to Build a Social Network Website Part 25 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Build a Social Network Website Part 25</b></h2><h5 class="post__date">2009-06-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0PGGyxQ63OM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to web intersect part
25 and you guys should know what we're
doing by now so I'm not going to
describe all that again and I have to
address just a couple of things i know i
said in the last part 24 that i was
going to show you guys how to program in
the forgot password functionality but in
this part 25 i'm going to tie up a loose
end that i didn't show you guys about
before and this is a very important one
we want to make sure that we cap our
maximum blab amount for each member in
the database to something like 20 50 or
100 whatever you really want but i'm
going to cap mine at 20 so no member can
have any more than 20 blabs at one time
and so that's going to be part 25 and
part 26 is going to be the forgot
password functionality and then part 27
which is going to be part 27 is going to
be the final tutorial for the whole
entire series i'm going to call it quits
for just a little while in this series
to think about which directions i want
to go with it and part 27 will will end
the series for a little while and that's
going to be the remember me
functionality which is going to be a
really cool one and very useful one to a
lot of you guys so your members don't
have to keep logging in every time they
come they can just open their browser go
to your site BAM they're logged in
automatically because we're going to be
using cookies yummy little cookies okay
so now what we're going to do is make
sure we cap off and this is going to be
just a few lines of code and very simple
to do every time the member blabs we're
just going to slice off the top or the
tail end of their whole list in the
database that so it'll be like a whole
cycling type system of blabbing okay so
let's show you guys that now
oh yeah I have to address one thing the
five the free source package is only up
to part 20 and you notice we're at part
25 now so if you download the free
source package you're going to be
missing a little bit of code and view
the video tutorials aren't even listed
on the site yet they're a YouTube still
and I have an updated the site yet and
I'm going to do that when i get some
time so it just give me a little bit
time and i'll get the free source
package updated and i'll let everybody
know by blabbing about it i just want to
make sure that you guys know that the
free source package is not getting
updated until the end of the series
which is part 27 remember me
functionality got it good okay so let's
knock out capping off the maximum limit
of labs in our database for each member
and so fire up your favorite text editor
and open up profile PHP go down to the
section where the blab actually gets
posted into the database right here and
what we're going to do is go down a
couple lines and make ourselves a
comment and I think in this area when
this functionality happens when the blab
gets inserted into the database in this
if condition is the best place to slice
off the tail end of the blab section of
the blab list for this member it just
makes sense to me so that's what we're
going to do if it if it doesn't make
sense to some of you guys you want to
put it somewhere else that's your call
okay so let's call this delete any blabs
over 24 this member
and so let's go ahead right here and
make sure we visually end that so we can
keep nice visual separation for
ourselves in the code what's going on
where you know what I mean okay so let's
make a variable here that's going to be
called SQL delete labs and this is going
to equal my school query similar to
let's say this one so let's just grab
that
ok so this query is going to be from
blabbing so let's make sure we're
selecting the right table we're going to
select all from blabbing where mmm ID
because that's the database field in
that table that we want to access so mm
ID equals ID that's just fine because
their session IDs already set up here
and that's the variable for it so we
select all well before we do that let's
make a before I explain the query we're
going to say order by make sure we order
it into descending by blab date order by
blab date descending and we're going to
limit it as well because we only need to
really you could if you're going to set
your cap to 20 you can set your cap to
whatever you want but I'm set in mind to
20 but actually I'm going to do a query
here of a limit of 50 I don't even need
20 so I'm going to limit my query to 50
because i think i have a few more than
20 blabs and maybe a couple of other
members also have maybe a few more than
20 so I'm just going to sell it show
mine is limit 50 actually is limited to
20 if there's a few extras in a database
who cares usually you would be coding
this in before any members really got to
do a lot of blabbing so they would never
get above 20 you know what I mean I hope
you do okay so let's go to the next line
down and we're going to make a variable
for index you know a lot of times you
see I as a variable we're going to call
ours bi and it's going to be an
incremented variable it's going to start
at one the index and it's just ice call
the BI for blab index and the first one
in the loop is going to be one so I
claim it as one
okay now we're going to put in a while
loop that's going to do everything we
needed the slicing off the end
ok I decided I'm going to keep this at
50 it's really not going to make any
difference even if your cap is set to 20
it's not going to hurt it to limit the
query to 50 because there won't be 50
ever okay so it doesn't really matter
okay so now let's put in this while loop
so we'll save while open it up oops wild
the row from the database equals mysql
fetch array
then the query right here put it right
there with the dollar sign on it and
then we'll close up this one and then
we'll open up the curly brace now let's
close our while loop right here
beautiful and that's where the end elite
labs would end so right inside of the
while loop we're going to select or
access the blab ID the ID associated
with that particular blab that's being
asked test in the fetch array and this
one is going to be called row put a
semicolon in between the brackets single
quotes in between the single quotes the
ID field so now actually let's make
those double quotes ID there we go okay
so in the ID field for each blab that's
coming out in this array we access the
ideal the ID for that lab that way we
can delete it here if it happens to be
over 20 and I'm going to show you how
that works and i'll try to explain it
the best I can but the code works trust
me now we're going to open an if
statement and close it now within the if
statement we're going to check to see if
bi well first let me increment bi down
here and usually it would be I</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>