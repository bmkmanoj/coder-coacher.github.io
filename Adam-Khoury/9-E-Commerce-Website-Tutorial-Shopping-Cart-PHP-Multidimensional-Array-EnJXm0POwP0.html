<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>9. E - Commerce Website Tutorial - Shopping Cart PHP Multidimensional Array | Coder Coacher - Coaching Coders</title><meta content="9. E - Commerce Website Tutorial - Shopping Cart PHP Multidimensional Array - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>9. E - Commerce Website Tutorial - Shopping Cart PHP Multidimensional Array</b></h2><h5 class="post__date">2011-01-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EnJXm0POwP0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to part 9 of our lesson
series on creating custom ecommerce
website systems for those having script
troubles I would like to mention once
again that my working code will be
available for download right when I
finish this series of videos but in the
meantime I will be sure that all code is
on screen and discussed and it helps if
you go fullscreen and watch the video in
720hd format if you'd like to see the
code syntax real sharp
alrighty before we program this PHP
shopping cart from scratch we have to
offer a crash course in a raise if you
know your array types already you can
skip ahead and if you want a little bit
more information on PHP arrays you can
go to develop PHP calm to the learn PHP
section and down here you have working
with arrays in PHP and I go over all the
basics there how to assemble them how to
get data out of them things like that
okay so there's a few different array
types that a programmer can choose to
pull out of his arsenal when programming
things from scratch to take care of any
custom needs he or she may have so you
have the basic array associative array
and multi-dimensional array now the
basic array is very simple it's just a
group of items and that can be as many
items as you like or as few as you like
and it can also be numbers in there or
any kind of characters really but if I
wanted numbers let's say three seven two
I can have a whole group of numbers in
there if I wanted and then we have an
associative array which is an array that
allows you to assign what your key and
value pairs are going to be you can
assign distinctive key names so in this
array you're going to have key of 0 1 2
3 4 by the bolt that'll just have keys
of 0 1 2 3 4 and this one the key will
be item ID and its value will be 3 this
key will be quantity and its value will
be 2 so an associative array lets you
sign distinctive key names and values so
it's key value pairs now a
multi-dimensional array is simply a
group of arrays all packed into one
larger array container you may want to
assign special key value pairs inside of
your array for each item so basically
all the multi-dimensional array is is a
bunch of arrays packed into a larger
array container so your
multi-dimensional array just think of
isn't an array container that holds
multiple arrays but this is how our
store is going to be laid out exactly
like this multi-dimensional array we're
going to use this exact
multi-dimensional array so instead of
that being milk it will be hat and jeans
and shirts or whatever but we're going
to have the item ID and the quantity for
that item all within its own little
array and it's going to be packed in
with other array items however many
items they put into their cart if they
only put one item in their cart will
only have one item in our
multi-dimensional array in this example
here they would have three items in
their cart and the fact that we're going
to use the item ID means we don't need
to really gather the price or any other
details about the item until we're ready
to display it or tally things up for the
car total okay so I'm going to go into
Dreamweaver which is my HTML editor that
I'm working in you can be a notepad plus
plus whatever you want
open up cart dot PHP I'm also going to
open up product PHP and I'm going to
open template header I'm going to show
you what I put in here remember in our
header we had a two column top in the
right column all I did was make sure the
horizontal alignment was to the right
down here and I put in a link to cart
PHP you can see it's very simply just a
link to cart PHP and I changed the
wording on my
my links up top I put me dots in between
see give me a little dot okay and I'm
going to close template header make sure
I save it and close it and I'm going to
FTP that up to the soy ba and then
product I'm going to go into the design
view right where it says add to cart
right there static text I'm just going
to replace that static text this P tag
I'm going to replace with this I'm going
to make sure I zoom in on that so you
guys can see it real well and all I did
simply replace that with a very simple
form the forms name and ID is form 1 the
method is post the action is card dot
PHP now the variable that is going to
send is going to be a hidden type
variable the name of that variable is
PID short for Product ID so it's name
and ID is set as PID short for Product
ID the value is this ID for this product
because we're on the product up PHP page
but that's what that variable is going
to be set as so your card dot PHP page
which we haven't even started to
assemble yet it's going to know which
variable to scoop up the variable named
PID that way the card knows what item
from the inventory to add into the
shopping cart and then we simply have a
submit button with any value you want to
put on it and you can make this a custom
button if you want I'm just using a
stock HTML button you close the form tag
very simple so that's all you need on
the product of PHP page to usher people
to the cart with this item and in the
cart is where we're going to take care
of quantity I'm going to FTP that up to
the site now product out PHP I can close
that now this cart dot PHP is what we're
going to work on next ok so inside of
card type PHP I'm going to highlight the
HTML closing tag all the way up to title
tag there I'm going to pop in this code
to replace it and don't let me lose you
now I'm going to zoom in on that real
good so you can see if you want to type
it in you can just pause in fullscreen
make sure it's on HD and you'll see all
the character
real clear so for now that's all we're
going to have in the HTML part now let
me explain it to you real quick we have
basically what's going on in the other
pages where we have a main div holding
in everything on the page centered and
then we're including the template header
file then we have our div page content
and inside of that one I put a new div
that has a style of margin 24 pixels
just to get everything off the edges and
text the line to the left that way
everything won't be centered inside of
it then I'm echoing out the card output
which is going to be built above this
dark type tag in PHP block that we're
going to create and then under up under
the card output you can have a click
here to empty your card button or link I
just have a very simple link and you may
even want to choose after we mess around
with making our card output if you
notice that there are no items in the
cart you may not even want to render a
link or a button to empty the card
unless you have at least one or more
items in it so it's up to you mine my
link is going to show no matter what but
when we get into the card output logic
I'm going to show you how to evaluate
things and you'll be able to create
links in certain programming areas of
the script that you want to render out
down here on the page then after that we
get a break tag then those divs close
and we have our template footer okay
okay all right now just to stay cool and
make sure nobody can tell me that they
have Evers we're going to open up
product and I'm going to grab a little
piece of script for every reporting I'm
going to put that right above our
doctype page in Carta PHP if you open
that code up you'll see it says error
reporting e underscore all any
underscore set is display errors with
the value of one that will force errors
to show on the page no matter what your
PHP any file is set like on your server
and I've said that like 5 times
throughout this lesson now and so
that'll be the last time I say that just
throw it on all your scripts anything
with the dot PHP
be the senior director II have this in
it one heart won't hurt and you'll know
for sure if you have any hours all right
let me just collapse that actually right
here above that let's type in session
start now the reason why I'm typing in
such an start if you don't know what
session start is all about that's a
function that will allow you to enable
session cookie file use on the page so
you can gather variables from people
session cookie files that are stored in
their browser which is going to be a
pretty major part of the little system
here for the card we're going to use
session cookies because we want the card
to remember what the person has put in
it no matter where they go on our site
and maybe even if they jump to Google or
YouTube real quick or wherever as long
as they're in the same browsing session
they come back it should still be
available unless their session is timed
out using session type cookie files is a
good way to have things remembered and
if you want them to be remembered the
longer and session not expire at all
you can use actual cookies in PHP you
can establish an actual cookie file and
it won't expire you can make it stay
active for a month if you want you can
set them to stay stay active for six
months if you want as long as you know
as long as the person is accepting
cookies in their browser from your site
cookie files can be made in their
browser from your site then you can you
can set cookies for whatever you want
and it's a way to have persistent data
and it developed PHP let's see I got a
little lesson about it in the learn PHP
section down in the examples I think
registering PHP session variables and
there and that's how easy it is to make
session variables and it's basically a
little tiny cookie file that goes in
person's browser file storage and made
for this purpose so you can have
persistent data from page to page
throughout your domain but when people
shut their browser down then the session
variable will be destroyed if you use
actual
cookies in PHP which we use for like
social networks and things like that
logging logging in type mechanisms to
have things remember people even if they
shut their browsers down and come back a
week later you can use something like
that for your card you like but you
sometimes you might want to tell people
to make sure the cookies are enabled or
whatever let's put a comment right here
to ourselves start session first thing
in script all right now I'm going to
collapse that all up so that's the error
reporting and the session tell you what
I'll collapse knees up I'm going to put
in a new PHP block now we have to grab
the variable that's coming in from the
product page through that form remember
we just put that form into the product
page so when it's clicked on it's going
to send it to card dot PHP it's going to
send the user two cards a PHP and the
hidden variable that's going to be sent
with that request is going to be PID
short for product ID all right so to
access that variable let's pop in this
code close that off if is set the posted
variable of PID then this local PHP PID
variable is going to be equal to
whatever that variable is coming in
whatever item they clicked on to Add to
Cart this variable here is going to hold
that value oh by the way there was
somebody asking about if I could show
how to let somebody pick sizes if you're
selling clothing or something like that
I'll give you a little hint this form
where this hidden variable is and the
submit button in this very form you can
add a couple of more fields for whatever
you want whatever options you want so
you can put a little pull down that has
large medium extra-large whatever small
and then you can have radio buttons to
do it with whatever you want you just
have to know how to work with HTML forms
pretty good if you want to set something
like that up
but as so many stores are so diverse in
what they sell like some stores sell CDs
some stores so in computer equipment
some stores sell clothing it's hard to
make a tutorial that will show everybody
what they need to know about everything
you know get good at making HTML forms
and processing them with PHP you'll have
it all set up whatever you need
but those variables can carry across
just like I carried across this one here
and they just wouldn't be hidden
variables they would be actual fields
like dropdowns or radio buttons whatever
you want to make and I'll give you a
couple of hints when we're building the
shopping cart array about how you may
insert more options within your
associative arrays that are part of your
multi-dimensional array okay sorry about
that let's get back on track here so we
got the posted variable that is the item
ID or the product ID in our store that
the person is trying to add to the cart
so there it is PID right there so the
next line let's put ourselves a little
comment if the card session variable is
not set or cart array is empty so we
need a little if condition that we can
translate this English sentence into
code and I just happen to have that
ready to go so in this if condition let
me just close this off put a else
statement there and close that off too
so if the card session variable is not
set or the card array is empty we want a
certain block of code to run right here
or a certain bit of code else if it is
already set and it has more than one
item in it we want this code right here
to run in this area got it okay so let's
check out this code real good if is not
remember the exclamation point means is
not if it's not set the cart array
session variable Oh
or you see these two pipes two pipe
characters next to each other there
represent an or in this expression so if
it's not set the section card array or
when you count the session card array if
that is less than one I know that's hard
to understand but that's basically
basically this line of code is saying
exactly this this is the English
translation or the layman's translation
of what this line of code right here is
doing so if the card session variable is
not set we check that right here or cart
array is empty that means the card array
session is set for the person but maybe
they emptied it because on this side of
the of the evaluation we're using the
count function on this array so you can
count any array that you have using this
count function and that will let you
know the exact number of array items
that are in that array and we're
evaluating the see if that is less than
one so basically if there's no items in
a cart or if the card array session
isn't set yet we're going to run this
code right here else there's already
items in the cart and we're going to run
this code here okay so in the section
where it says run if the card is empty
or not set that's the line of code you
want right there now what this is is
this is our multi-dimensional array
we're actually establishing the card
session variable right here and remember
we're putting the card the whole
multi-dimensional array into a session
variable that way it remembers so if the
person goes from this page to that page
they're doing various shopping here and
there all over our site or if they
happen to go from the site to that site
as long as they're in the same browser
session they come back to our site
they're their cart items we'll still be
in session as long as the session hasn't
expired yet either
which you can use actual PHP cookies if
you use actual cookie files then they
have more persistence to them okay so
cookie files are more persistent in the
fact that if a user closes the browser
down or if they take two hours and come
back to your site or if they close the
browser down and come back next week to
your site on their computer their cart
would still be intact if you use actual
cookies but we're going to use session
cookies which just work for one browser
session the person closes their browser
they open it up and come back to this
it'll be empty so if you want to
implement actual cookies on yours just
look into how to create PHP cookies the
actual cookie files instead of using
these session cookie files all right so
basically what I'm doing here is what we
had net illustration this
multi-dimensional array is what I'm
setting up see item ID quantity and can
have as many associative arrays that I
want packed into my multi-dimensional
array so you can see in this card
session variable here we're packing in
an array that's a multi-dimensional
array within that multi-dimensional
array you have as many basic or
associative arrays as you want and they
can be mixed arrayed so really it's your
imagination
it would be the only limit to what you
can do with your custom cart and the
let's say I wanted to add another option
let's say I wanted the key to be sized
and the value would be some dynamic
variable that they sent through the form
remember just as simple as that then you
would have your size in on each one too
but I'm going to leave that up to your
beautiful minds to figure out experiment
with for my array it's going to be
associative arrays with nothing but the
item ID in the database and the quantity
however many they want
like I said if they want to put another
one of the same item if they press Add
to Cart again I'm not going to alert
them that they've put the same item in
I'm just going to make the quantity too
because of course if they have one in
the cart already and they're putting
another one in that means they want
another so I'm going to make it two now
keep in mind the only reason we're able
to use this code in this fashion like
this like we are establishing the card
array is because we know that the card
array session is not set yet or the
corridor a has less than one item in it
that means it has zero items so we can
treat it as empty or not set and just
reestablish the whole thing by putting
the item they choose in it and only that
item will be in the cart so really you
could just run this one line which this
line doesn't show you how to push new
items into the array I'm going to get to
that in just a second and that happens
down here in this part of the code is
where you check to see if that item is
already in and if it's already in the
cart you just want to up the quantity if
that item is not in the cart yet and
it's a new unique item going in the cart
then you want to push it into the array
I'm going to show you man don't you
worry
all right so I'm going to leave it
dangling right here and continue in part
10 because I think the cart is going to
be programmatically the most complex
thing but anyway I'll see you in part 10
where we'll resume right where we left
off right here on the cart PHP page so
you can see we have our session variable
for the card array all being established
when we know that there's no items in it
yet or it hasn't been set and we're
popping in the item dynamically that
they choose from our store but remember
here is where we're going to code to see
if that item is already in the array if
it is we up the quantity to add one to
it and if the item is not in the array
then we're going to push it in ok so
stay tuned I'll see you part ten bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>