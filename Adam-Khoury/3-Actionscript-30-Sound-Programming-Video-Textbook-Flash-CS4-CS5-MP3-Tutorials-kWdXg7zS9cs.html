<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>3. Actionscript 3.0 Sound Programming Video Textbook : Flash  CS4 CS5 MP3 Tutorials | Coder Coacher - Coaching Coders</title><meta content="3. Actionscript 3.0 Sound Programming Video Textbook : Flash  CS4 CS5 MP3 Tutorials - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>3. Actionscript 3.0 Sound Programming Video Textbook : Flash  CS4 CS5 MP3 Tutorials</b></h2><h5 class="post__date">2011-02-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/kWdXg7zS9cs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this third lesson will demonstrate
accessing the left and right channel
peak values as a song plays to allow you
to create real time to be visualizations
to be visualizations of what makes extra
script three sound programming so
exciting for me personally so I'm going
to show this feature before we learn to
program control buttons draggable
sliders and such things okay we're going
to create a new actionscript-3 file I'm
going to turn the stage black now this
time I'm going to draw out a rectangle
primitive and turn my sound programming
where all my sound programming code is
into a nested movie clip so there's my
little rectangle I'm going to
right-click it convert to symbol just
call it audio okay and you don't have to
give it an instance name we just want to
nest the code that way if you have a
full flash website or something you have
button menus and a lot of different
things going on in your site you might
want to get your sound programming into
its own little movie clip so it's
independent and it can be more easily
manage that way moved around using other
different files and things like that so
now let's double-click inside of it and
will resume just like we were doing
before by putting code in this timeline
now this rectangle doesn't even have to
be a visible thing so I'm going to
remove the stroke and I'm going to
change the Alpha on that on the fill
color just to so I just notice it's
there a little bit but you could
actually totally remove it completely
remove it or bring the Alpha all the way
down on it so you don't see it so let's
rename this layer face make a new layer
I'm going to call this stuff make
another layer and call this a s3 short
for actionscript-3 that's where we'll
put the code on that layer on the stuff
layer
to grab the rectangle primitive the end
I'm going to draw out a very small
rectangle and I'm just going to make it
a height of one very small I'm going to
change my color on that bring the Alpha
all the way up so there it is I'm going
to right click that now I'm going to
convert that to symbol movie clip it
doesn't matter what the name is but the
registration is important you want to
make it registration bottom center that
way when it animates upwards it has the
correct registration so things don't
warp out on you ok now let's give that
an instance name of left bar let's press
ctrl-c highlighted press ctrl c ctrl
shift v make it another copy of it call
that one in the instance name right bar
so these are going to be like our little
equalizer bars you can grab multiple
things together by holding shift as you
select them I'm going to move it over a
little bit move them down okay right
there is good now you're going to take
out to dynamic text fields so let's grab
the text tool and make sure it says
dynamic text over here and place it
let's give it an instance name right
peak underscore txt alright so I've got
that one sitting right under the right
equalizer bar press ctrl c ctrl shift v
make another copy of that and drag it
over to fit under the left bar make sure
you change that instance name on that
text field to left peak underscore txt
put one more dynamic text fields ctrl-c
ctrl-v and this one put it right about
there let's get that an instance name of
status and all of these things we're
placing on stage just let us know and
give us visual indications of the left
and right peaks in the sound it will
show you how to access the left and
right peak in such a way that you can
apply it to any animations or any
graphics as you have for instance I'm
going to be applying it so
these little equalizer bar things I made
there and it's just a rectangle now but
it's going to come to life ok I'm going
to also add a couple of static text
fields this once a left peak with a
little arrow I'm going to change that
from dynamic to static because I don't
need that to be dynamic I'm going to
take that press ctrl c ctrl shift be now
we're ready to apply the code so let's
go to the ActionScript 3 layer highlight
it press f9 open the actions panel we're
going to start off with the code that we
used in the very last lesson lesson
number two where we brought in an
external mp3 and we command it to play
when I have this file communicate to
folders on my computer I have to make
sure I save this file save as its name
it sound example two in that same folder
that we had before with the mp3 files in
it so there you can see we're going into
that mp3 files folder and we're
accessing this mp3 so if we press
control enter will see the song plays
but we have no amplitude visualizations
set up just general through the code so
now that you have the sound object set
up and you've set up the new URL request
that means this song is going to stream
if it's online if you were to put this
application online this mp3 will stream
in meaning that it won't the file won't
have to load in the whole entire mp3 it
will just load as much of it as it needs
to load to get it started playing and
then it will stream the rest into the
user when you're viewing this on your
system things will play right away but
you have to keep in mind that when this
is online mp3 s have to stream in but if
you have things like button sounds and
regular little beeps and blips like that
for user interface type stuff you can
load that straight into your flash file
and not worry about anything but you
really don't want to load mp3 files full
songs and stuff into your library
because that will dramatically raised
the size of your Fla and your swf file
so it'll take longer for your flash file
to load initially but if you use this
method where your streaming mp3 in your
flash file will load like lightning and
then the streaming of the mp3 will
happen secondary
so in order to more easily access the
channels left and right peek the sound
channels left and right peak we have to
create a new sound channel so let's
comment out this sound that play and
right under that let's type in bar just
name it channel colon sound channel
semicolon then all you have to do is a
channel equals snd sound that play just
like your head before but now you're
playing it through the channel see still
plays and everything now the reason why
we set it up into a channel like that is
because having the sound channel gives
us the ability to access certain things
that we need to access in order to more
easily give a visual representation of
the sound that's playing we'll have to
also use the sound channel when it comes
to other controls that we create down
the line for controlling the sound so
that's how you set up your sound channel
to go along with your sound object and
remember the sound channel just gives
you extra things to access and play with
regarding the sound that's loaded in
alright so now that our song is playing
at this point we have a status text
field here we're going to make it render
something in the code so let's type in
status on the score txt that text is
equal to the song is now playing so when
you press control enter that gives you a
visual representation that the song is
now playing okay now let's go down a
couple of limes and we're going to add
an event listener which is an inter
frame event and what an enter frame
event is is something that will allow
programmer to run a process many many
times per second and it's not sound
programming specific it can be used in
animations or anything that you want to
use a foreign flash but it just allows
you to do something over and over and
over again very quickly you can see our
pile has one frame that means our vial
is set up to be 24 frames per second
this is going to fire off 24 times per
second if I had two frames here it would
fire off 12 times per second if I had
three it would buy off eight times per
second
I only have one frame this is going to
be accessed the center frame event is
going to run 24 times per second and
that is what we need to animate these
bars the way we need to animate them
according to the exact sound at that
millisecond the exact right and left
peak all right so let's go down one more
line and let's put the function at that
listener is tied to this is the function
that this listener is going to fire off
c function on interframe you can name
that whatever you want but in the flash
help file that's what they commonly
named this so I'm just going to leave it
named on anthro frame that's the
function name is its listener and
remember it's going to buy off 24 times
per second now the first line is simply
putting in this left peak text putting
in a value there so you say left peak
underscored txt that text is equal to
and you put this this empty value
between double quotes just so it becomes
a string and I don't get any error but
basically you don't even need these you
can comment those out and your left and
right bar still going to animate with
these two lines but I'm going to leave
those in because I want to visually see
the number so what we've done is we're
using the channels left peak and the
channels right peak to create a number
from 1 to 100 that's going to represent
that peak the way we do that is we take
the channels let's peek and the right
peak which are decimal numbers by
default and we have to math dot round
them so when you round the number it
becomes a whole number and then you
times that whole number by 100 it's very
simple that's all we're doing and I
think the best way to do it is to leave
to come away from this equation with a
number that's between 0 and 100 that
will give you a pretty true
representation of the left and the right
Peaks
so you just basically use that same math
here when you're animating the height
property of the left and right bar so
you're going to use the sound channels
left and right peaks and you round them
and your x and by a hundred to make a
number that's between 0 and 100 and you
use those numbers they're always going
to be changing those numbers are always
going to be changing very quickly you
use those numbers to animate the bars so
let's see if this works ok so you can
see we all have our left and right being
text I'm showing us the bars rise and
fall exactly according to the left and
right empty
okay so you see this enter frame event
let's just give ourselves a comment
inter frame event we're going to use
this function that fires off many times
per second to do some other things
regarding sound control so not only can
you access the right and left peaks for
creating real-time visualizations like
that we're going to use this function
for other things as well so this is a
very handy thing to know how to do right
off the bat now another in handy thing
to know how to do is set up and on
playback complete function now what that
is is you're adding an event listener to
the sound channel that event listener is
the sound complete event so the sound
channel has an event listener placed on
it for the sound complete so whenever
the sound is complete that means the
song finishes playing this on playback
complete function is going to fire off
now here you just place that function in
function on playback complete will
remove the event listener which is the
enter frame event because you don't want
this enter frame event to keep firing
off even if there's no song playing
because there's no need for it too so
you can remove that event listener and
you update your status text field to say
the song is over and we're also going to
add some functionality to that function
as well later on because an on playback
complete event which you can do is say
you know you listen for when one song is
finished and maybe there's a scenario
where you want to start a next song up
automatically that's where the on
playback complete event comes in very
handy because as one song finishes
another song can start or as a song
finishes you can make some other movie
clip play in your files send them to
another section of your flash file
whatever you want to do anything that
you can do through code okay so here's
the really important thing to keep in
mind this text adding this to the text
these aren't even important at all so
you can just kind of disregard those
these two lines where we're manipulating
these two bars
have to understand that you can
manipulate any properties of any objects
that you have on stage maybe you want to
manipulate the brightness or the alpha
or the position the exposition of the Y
position rather than the height or width
of some object now let's get our text
back in there so we see those so that's
how you can set up listening for your
right Pete and level p values to add two
main things on stage
and also add a couple of very needed
useful functions for sound programming
in actionscript 3 and there's a lot more
to it we've only scratched the surface
okay so that completes this lesson on
just the very basics of accessing the
values you need to create real to the
beat visualizations and before we part I
want to show you a couple of live online
examples of how I've applied this see
that right channel pumping out left
channel is pretty quiet
so if you get creative you can do things
like animates pool speakers that you
design and flash see I got some speakers
are some shine on them pump it along
like a full box
so that's one example and here is
another equalizer not believe your eyes
if 10,000,000 really nice do I set it up
I set it up to have dreams day filthy to
yellow where's red eyes love everywhere
you think me rude but I was just using
Mac's stare for that one I'm using masks
to achieve that I think later on in the
video textbook I'm really going to get
into the visuals creating cool
visualizations more so than just two
bars going up and down like I showed you
in the in the tutorial there's a lot
more you can do if you get creative and
here's web intersect I even after I have
the logo up in the equalizer branded and
this one has speakers you can just
manipulate the height and width of a
round object and it'll pump like that
speaker you see how in the code we're
manipulating the height only of those
bars let's say you had a round object
there with a sensor registration set on
that movie clip all you have to do is
manipulate the height and the width
together and it'll pump like a speaker
okay so that's that and we'll see you in
section 4 of the sound programming video
textbook for actionscript-3 in flash</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>