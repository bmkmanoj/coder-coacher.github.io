<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Build a Social Networking Website Part 19 | Coder Coacher - Coaching Coders</title><meta content="How to Build a Social Networking Website Part 19 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Build a Social Networking Website Part 19</b></h2><h5 class="post__date">2009-05-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oofzJGxNd7Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to part 19 I am your
narrator Adam Corey now in this part
we're going to have to gather blabs
before we can display any blabs with a
member on their profile or on the
homepage so we need a little form here
so let's put a line break right there's
go into the code view right there let's
put another line break it looks like it
has one but let's place one more and
right here we're going to add a form so
you go into where is it insert form and
this will be form tag and the action
will be this page here so we'll just say
profile that PHP keep it easy method
post coding type multi-part name of the
form will be blab form keep it simple
target none it will default to self or
you can just put self
actually it doesn't need it you'll see
that it defaults to self so in between
the form tags here we're going to put an
input field so let's go to insert H the
form and this will be a which one is it
text area Rose will make it how many
rows 54 wrap default okay let's name it
lab field columns we're going to i'll
show you how to do something custom with
the columns to make it 100 percent width
no matter what the size of your table is
in or the div no matter what the size of
your div or table the 10 it will be a
hundred percent or like ninety percent
will make it maybe ninety-four percent
okay so in here we can just go now put a
space go down to style or you can style
it in your style sheet which i recommend
you styling it in your style sheet but
i'm just doing this quick here so let's
go to and then you can put a class for
this text area you can have a class name
if you wanted to do it that way or you
can put the style right in so i'm going
to go to width ninety-four percent and
you'll see that has a nice effect let's
just throw in a semicolon there I'm not
sure if it needs it but it works with it
I like to put it okay so let's look at
our design now and then actually let's
just go ahead and print out
see right here let's just put a print
because this is where it's going to go
I'm going to print their blabs right
there right now let's just print nothing
but let's keep it there anyway now we
have a form that they can actually let's
go ahead and make it 9897 ninety-seven
percent all that looks good okay so
that's where they can type in to make a
new blab so let's just say and this
content won't be showing unless they are
the member who owns that profile that's
very important and I'm going to show you
how to using the lesson or using the
tips we learned in the last lesson how
to show alternative content we're going
to be using that method here to display
this little form and this little
sentence that I'm about to place here
blab away blab away let's get that first
name last name let's just make it first
name place it right in there go right
down here get rid of that last name
there you go it'll just say blab away
Adam and then I'll have I'll see this if
I own the profile and I'll see this line
but if I don't own the profile and i'm
looking to somebody else's profile i
won't see that form and so that's how
we're going to do it ok so i'm going to
make this only three lines hi it looks
good because they can't put many
characters in any way so right here
let's type them a message of let's say
just tell them 220
220 character max
let's get rid of their name they know
their name so let's just say blab away
to 120 character max that way they know
it can put more than that and now and if
you wanted your blabs to keep more than
that in your database you can make your
field instead of a VAR char you can make
it a medium text field or a I think it's
a blob I think it's called a blob that
also works and this also tiny text the
tiny text field that doesn't hold very
much either so maybe medium text would
be what you wanted or you can just go
with a full-on giant text field like we
use for the bio section in their profile
okay so now all you have to do is parse
this or show make sure it only shows two
people let's make sure it looks good
columns we don't even need that tag in
there
okay and has a name of black field
that's all we need so now let's make
sure we're going to be able to get their
mechanism in to show that if we are the
logged-in member so what we're going to
do here is make a new PHP tag all
together an whole new PHP section which
you could work inside of this PHP
section but i'm just going to make a new
one right before that one closes you
could do all this work in there but I'm
going to do it in the new section okay
so inside of this section we want to
check to see if this is the logged in
user so this is really it's doing the
check bars already right here
we're just going to run this check again
and it might be a little redundant but
I'm going to do it anyway for learning
purposes it'll work your streamline your
system later leave me alone ok so if set
session ID we're going to make sure we
bring this form let's go ahead and do
this copy that let's put it right here
where it needs to go and let's call this
the blab the platform this would be a
variable so let's put a dollar sign
right there so we're going to print out
the blab form so let's get rid of it
here well actually let's go ahead and
create this variable up top control C in
this new PHP section let's just go ahead
and put lab form equals nada and then
we'll make it equal something down here
if it's set such an ID the blab form
equals
in single quote colon we're going to do
is grab that whole form and that line
control x add the black form and then
we'll plant print the blabs right there
you'll see what I'm doing here in a
second right here paste it in and that's
it now if the user if the session logged
in user is viewing the page now we have
to make one more condition here I almost
messed that up if is set session ID if
this session ID equals this members
profile we have to code that in
if session ID is equal to this variable
up here which we form right there this
ID variable and we'll be able to make
sure easily you don't need those quotes
there ok so if the blab oops down the
wrong spot ok so if is set the session
ID if the session ID is equal to the ID
that was created here at the top of the
page depending on whether we're looking
at somebody's profile or if we the
profile owner then we put the blab form
in let's try it out profile that PHP ftp
it up overwrite the old one view profile
and there's a platform it says blab away
there's no submit button yet because I
haven't put it ok so that works now
let's go and view somebody else's
profile and I'm logged in right now so
let's go to the homepage let's view
michael's profile no blab form that's
exactly what we want I can't blab blab
for Michael Michael can't blab for me
but if I view my own profile and I'm
logged in I can blab away it's a
beautiful thing and then on the homepage
now I'm going to show you how to parse
it put a submit button parse what they
type in and then we'll run a feed here
from newest to oldest of their blabs and
also a feed on the homepage of
everybody's blab down to the second ok
and that'll be newest to oldest as well
okay so let's get in the submit button
we need so let's just go down here and
let's go to insert warm button
submit name submit values submit okay
and there we have it grab that control x
put it up here where it needs to render
out save TP and now we have we should
have a button let's view profile yep now
I can blab away and press submit and now
all we have to do is parse to see its
blab field to get its value and takes a
new you doesn't need an ID so let's go
up here right before that where we put
in the blab form let's make another set
of tags another PHP lock PHP close it
off
okay to make sure this one has PHP here
sometimes it doesn't need it sometimes
it does I just make sure I like that
make sure I have PHP written in on all
my opening PHP tags and so let's see
save this now we have to do is parse
that sucker and it's easy send it to the
database the new table in database we
made call blabbing okay so for this
section keep things easy by just opening
our register form another register
script we can grab that first line go to
the profile page pop it right there if
post lab field if is set the post black
peeled then if that condition is met
will do things in this section right
here okay so we'll just go to the
register form again and there's only
going to be one item that comes in let's
see profile I think all we need is one
of those and see
yep let's put blab field there we can
even call this blab text now let's just
meet you at black field this one is
going to be well we already have the ID
set on the page if the user is able to
use that form that means their ID is set
and we can access it and it's already
available because we turned it into a
variable right here see what we have to
do is reverse refer to that when we post
into the database now but first we want
to cleanse that data so we're going to
stripslashes on it and do all these
things to it where are we right here
stripslashes on it will strip tags on it
see how everything turns out if it works
out well we'll keep all of these filters
in place if not we'll tweak it strip
tags did it at that
see you
you
this one
sorry i was looking at the script I was
lost in code and this one so we can
replace the Tildy
or the accent mark above the tilde key
what do we call that thing and see blab
filled by people at field that feel flat
field left field left field and let feel
actually we want to change the so let's
go open the edit page edit profile page
I'm going to change this one like we did
that method okay so instead of replacing
it like by just removing it will make it
an apostrophe but an HTML entity
apostrophe apostrophe I'm losing my
flipping mind okay so blab wield here by
Bill Bradfield yes sir
it looks good to me i think that will
work now we can send it into the
database yeah grab that it's beautiful
it's all set up and ready for us like at
Bing insert into what was that blabbing
let's make sure that's the name
create table blabbing yes sir okay so
insert into blabbing and we need to have
ID which will auto increment on its own
so we don't even need to mess with that
or insert it it will insert by itself
but we do need mem ID right here yeah
then ID and the blab itself the bland
we also need the date the blab date and
that's it where are we right here
blab date will be now so let's remove
everything after now because that's the
last one in the list the last value will
need and let's leave let's see okay
let's remove all of these now we have
three items going into that table the
member ID the blab and the blab date
we'll need three values here so let's
get rid of all of these leave one two
three and there we have it let's just
change this to mem ID this will be ID
because we can access it because we
created here so the correct ID will be
sent in and also the flag field goes
right in there the blab ok and that
should do it now we want to print a
message so we can say here lab output
msg
equals just initialize it there then
right here after inserts into the
database the blab output message will be
thank you or not thank you your blab
it's being posted
exclamation now all we have to do is
print the lab output message variable
down here by the form see right there so
right here above where it says blab away
we'll make it have an output message now
if it happens to get set right there
that blab output message that variable
now will place that right here
live output message make sure we give it
the old single quote space period sing
space with the space period space single
quote that way the variable will display
correctly and I think that's all we need
to gather into the database will call
this the blab
input into database
black post
place lab postings database and here
let's try it out control C or ctrl s to
save the file but wild that PHP let's
see if I broke it or not you profile ok
now let's blab see if this works hi I
made eight Twitter clone and wasn't make
sure we put an apostrophe in now
even trying I'm not sure if that's how
you spell wasn't that's all I'm going to
spell it yeah I made a twitter Cologne
and wasn't even trying to easy and it's
not complete yet but just about submit
your blab has been posted make sure we
put a line break after that your blab
has been posted break now when they post
and it's posted successfully to the
database which now there's one I just
made the first blab in the web intersect
database made history thank you no I'm
just kidding but the first lab is in now
and we have no way of displaying it yet
it's not being displayed yet and i'm
going to show you that in part 20 we're
going to show you how to display the
blabs for each member on their their
personal blabs on their page on the
profile so everybody can see and on the
homepage we're going to have a live blab
feed going on okay so we'll see you in
part 20 hang in there almost done</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>