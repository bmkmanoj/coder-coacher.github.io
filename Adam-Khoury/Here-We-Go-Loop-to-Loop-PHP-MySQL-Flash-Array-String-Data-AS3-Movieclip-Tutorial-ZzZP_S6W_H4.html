<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Here We Go Loop to Loop - PHP MySQL Flash Array String Data AS3 Movieclip Tutorial | Coder Coacher - Coaching Coders</title><meta content="Here We Go Loop to Loop - PHP MySQL Flash Array String Data AS3 Movieclip Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Here We Go Loop to Loop - PHP MySQL Flash Array String Data AS3 Movieclip Tutorial</b></h2><h5 class="post__date">2011-07-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZzZP_S6W_H4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody today's lesson is not
geared for beginners in programming at
all this is for the advanced guys who
are used to working with PHP and MySQL
and also very used to working with
actionscript 3 point because we're going
to be blending those two technologies
and what we're going to be showing you
how to do today is create PHP data
strings that are a raise of information
which can be multi-dimensional arrays if
you like and we're going to be passing
that array into actionscript 3.0 and
once it's in flash actionscript 3.0
we're going to break it down split it up
and create little dynamic movie clips on
stage that are going to be clickable and
each movie clip will correspond to one
of your little arrays in your PHP string
now real quick before we discuss the
programming let's discuss the concepts
so right here is really the the result
kind of string that I want to send into
flash from PHP so in PHP I want to
gather this string up you can see that I
have movies here and the movie is named
the abyss it's genre is action and its
rating is pg-13 then my next movie is
donnie darko it's John rosamma and its
rating as are the next movie zeitgeist
documentary and it's not rated so you
can see I have three movies there and
each little array I have three arrays of
data that contain all the movie
information and you can see they're
delimited by these custom set of
characters that I put in there basically
I just put parentheses and then I put
two of the bar symbols in because this
sequence of characters is not very
likely to come up with in any of my
name's or genres or descriptions or
anything like that within my text that's
going to be within the data so i can
safely use a custom made that I created
myself and you can create your own
delimiter that you like and what that
does is going to be the place where
flash is going to split that line of
text this whole string of text this
delimiter is where flash is going to
split it so flash is going to split it
there and it's going to split it right
there so it's going to have three
individual things then we're going to
make flash split by the bar symbol by
itself that way each little
individual array can be split into its
individual pieces to get the title the
genre and the rating okay that's how
it's going to work so once we're in PHP
we have to use a variable name like
return string or whatever you want to
send into flash as a variable name for
this string of text and you hook it onto
the equal sign right there so you can
see my file is called my PHP file dot
PHP now to assemble that using PHP and
MySQL really what you want to do is make
a MySQL query so i'm going to show you
that example real quick all right so to
assemble this string the real way let's
just get rid of it here momentarily and
let's pop it in this code actually let
me hold on to that string so you can see
it and I'll pop in this code above it
now what this code is doing is pretty
much it's going to render this string
here out of my database and I can do
that through custom string manipulation
as it loops through this while loop out
of the database so as information is
pouring out of my database through my
while loop I can assemble it in any kind
of string format that I want so you can
see here at the end of my assembling I'm
returning a variable to flash called
return string it has an equal sign after
it and then my big data array so
basically you can have 50 movies here or
a hundred or a thousand and it'll all go
pouring right into flash using this data
array variable so up top you just claim
your data array variable as empty then
you claim a variable that's going to be
your index iterator through your loop so
within the loop you say I plus plus i
used i plus plus first thing that way it
makes a one out of this zero on the
first pass my loop so as I'm getting
information out of my database here you
can see I selected all from my movies
table in my database and i ordered it by
the ID descending limit three so I'm
only going to get three out for this
short example so each pass of my while
loop I can get that movie name that
movie genre and that always rating and
then I can put it into this data array
variable you can see I'm using dot
equals to append to that string if you
didn't use dot equals and you just use
equals there it would overwrite each
string each time so you want to use dot
equals to make sure it appends to that
data array variable now the key is to
use an if and else condition statement
here that says if I is equal to one then
you don't set up this delimiter the
splitter until the second and third and
fourth and fifth little array of data is
coming out because if you send that in
in the first one when you get into flash
your little split mechanism is going to
be off so what you want to do is make
sure it looks just like this you can see
my first movie has no splitting
delimiter in front of it only the second
one does and the third one and so on and
so forth all down the line the first one
make sure it doesn't have the delimiter
and you can do that by just saying if I
equals 1 the data array is set up
without the delimiter you can see each
little piece of data is split using the
bar symbol which is above the backslash
on your keyboard so I have the movie
name the movie genre in the movie rating
so basically when this little script
runs it's going to echo out this exact
string of text the flash is going to
interpret this string that you send in
as a key value pair set so it's going to
see return string and it's going to know
that return string variable is equal to
all of this so now I'm going to remove
this string and let my script to be
dynamic and run true and actually gather
things out of my database and right here
is where you have to connect to your
database so you run your connection line
right here above where this little SQL
variable is being created okay so you
have to connect to your database if
you're not connected to your database in
your script yet you have to do it right
here and then that's going to echo out
pretty much spit out a variable called
return string to flash and it's going to
be equal to all of those movies
delimited by this here and then each
inner array is delimited by this symbol
now here I am in my flash actionscript 3
file that is waiting to accept that data
from PHP it's going to actually make a
call out for that data I'll show you
that code in a second and actually all
of this code is going to be on the page
under the video with these videos
playing at develop PHP com the PHP
script as well as all of this action
script now what I put on stage for you
and which you
we're going to have to apply this
yourself you make a text field that's a
dynamic text field classic text and you
name it status underscore txt that so
you can see when somebody clicks one of
the little dynamic movie clips we're
about to create we're going to put
information in that box and that's for
you for testing purposes only this is
also a box that you're going to put this
is a text field called raw underscore
string on the score txt you have to
create that as well put it in your file
it's a dynamic text field and what
that's going to do is show you the raw
string that comes in from PHP before it
even gets broken down at all by
actionscript 3.0 I'm going to assume
that you are familiar and comfortable
with actionscript 3 point is plain
before we discuss that code real quick
let me show you the result you can see
here that the abyss donnie darko and
zeitgeist for all within their own
little independent clickable movie clips
and when i click one it puts the name
zeitgeist what it is documentary and its
rating down there in that status text
field I click that one you can see it
switches so that your dynamics are
working really well you can see that
each one is clickable on its own and
it's a dynamically rendered movie clip
that I just put a white box inside you
can put any color box you want in there
it doesn't even have to be a colored box
it can be just a shape with a certain
size and you want maybe you want to
stick a JPEG in there instead of text
you can do that very easily I'm not
going to be dealing with JPEGs at all in
this lesson but what I will show you how
to do is bring in this raw string of
text we're going to split it up by this
delimiter right here so then we'll have
three individual arrays and then each
little individual array we're going to
split up by this bar symbol here that's
the symbol above your back / in your
keyboard so then I can get to each
individual piece of data within each
array and display it how I like so you
can see here I have three different text
fields in each movie clip ok I'm going
to really zoom over discussing this code
because I'm assuming that no beginners
are watching this and anybody that's
interested in this really has the need
for this kind of parsing and they would
be already advanced in actionscript 3.0
if they're watching so I'm just going to
fly through this whole little
explanation now the first thing I did is
I loaded all of this URL loader requests
and variables and everything that's
going to send out the call to PHP the
request
to bring that data in I put all of that
into a function called request list
because this function is going to be
requesting that list from PHP so I think
that made sense so that's what I named
it so request list actually executes
right here you guys know how to execute
a function so this runs the request list
function to now start the data request
and parsing ok let's see if I can make
this bigger nerd oh there we go now
there we go that's better alright so the
normal processes of sending a request
for two-way interaction between flash
and PHP is a play here so we're sending
a variable called my request and that is
going to be equal to a value of get data
array so you can see within our PHP file
here we have a condition set if is set
the post variable of my request and hit
the post my request variable is equal to
get data array then and only then do we
execute this little piece of script and
echo that return string back to flash
that's how it works most you guys know
that already I just want to explain it
one more time ok so now that data is
sent that variable rather is sent so
then the PHP file knows what to spit
back to flash and we have an event
listener of event that complete so when
that data is finished processing and
there's something coming back into flash
and flash is ready to accept that we run
this complete handler function which is
sitting right here punching complete
handler execute and we take that
variable that return string coming from
flash which is all our movies and
everything and we can easily access that
variable by it using event that target
data that whatever the name of the
variable is coming back from PHP we put
that into a local flash actionscript
three variable called return string it's
just missing the ing on it to make it
short you can see my return string is
set within this function this function
split by comma is a custom function that
I created it's not a native
actionscript-3 function and it's sitting
right here you can see functions split
by comment is sitting right there so
when the data comes back from PHP I'm
simply taking it and putting it into a
local variable and then I can process it
through my split by comma function that
I
created custom and i'm going to show you
exactly what's going on and that split
by comma function right now now i put an
iterator variable here just in case we
needed within our loop but i'm not sure
if I'm even using it I might be I might
not I don't think I am but I put it
there anyway who cares so functions
split by comma here it is right there
and you can see it accepts our return
string variable so what I named that
when it comes into this function we have
to claim that as a string within the
function parentheses there so I'm going
to name it external string because
that's what it is coming in from PHP so
I named it external string and that's a
string type variable so now my split by
comma function has access to my return
string right here in this external
string variable and here i just placed
in the raw string text you can see
within the file here is that raw string
text and that's just for testing
purposes just for you to see things how
they're coming in and that's equal to
the external string so you can pop your
external string right into that raw text
string dynamic text field to see exactly
what it looks like before flash starts
to split it all up now the next line is
we create my array and that's going to
be like the main array that holds all of
the different movie arrays because we're
splitting and we're using our a
delimiter remember our custom delimiter
that we put into PHP so that way flash
knows exactly where to split that string
up according to how we set it up now you
run your for loop that's going to loop
over every one of those array elements
within that main array basically every
movie now here I'm you can see I'm using
I plus plus but i don't think i'm using
it anywhere so you really don't even
have to worry about the I variable there
so the first variable that I'm creating
within this for loop is inner array and
that's going to hold really the whole
movies inner array basically like let me
go down here and just put it in that
you'll see the abyss so each inner array
will be each movie in its sub array and
then you can use the same split
procedure here on these
our symbols to get each little piece of
that array that you need out okay so
we're doing splitting of an array and
then we're splitting down the inner
arrays that are within each piece of
that array so then you have access to
the movie title the movie genre and the
movie rating within each movie so as is
loaded in and as it's being split up
each one is getting a variable for the
movie title movie genre and movie rating
created for it by accessing the certain
indexes within this inner array variable
then we have another custom function
here called load to stage and that's a
function that's sitting here dormant
just waiting for you to call it to run
which you run it at this point here is
when you execute it and you're going to
send three variables to it the movie
title the movie genre and the particular
movies rating now when that gets sent to
that function this function is going to
execute and process all of the data
within this function you can see there's
quite a bit and I'm going to skim over
it real quick for you and you can see I
have movie clip creation happening where
is it should be towards the top right
here I'm creating a new movie clip for
each film that's within my database it's
going to be its own little clickable
thing now in function load to stage
we're doing the same thing by accessing
those three strings that are being sent
in right here we're creating local
strings for this function one is called
M title mg onra and M rating and
basically they're equal to this movie
title movie genre movie rating that
we're sending into the function when it
runs so we're picking those three up
right here that way we can use them
within our function no problem and our
expose and our y position is to set the
first movie clip a little bit when it
renders in dynamically through the loop
it's going to set it off a little bit
off of the corner because you don't want
it to be like jammed up in the corner
there so I put 20 by 20 padding on it
really to get it off to the corner so
it's exposition when it starts is 28 y
position when it starts to 20 for the
first movie clip that comes in
and of course you want to adjust those
numbers for the second and third that
way they're all not lump the right on
top of each other and I'm going to show
you how to do that we got that going on
down here right there why pose plus
equals sixty-four if you want to do is
to go across this way you just make your
exposé plus equal some bigger number
but since we want our is to go down the
page this way we're going to use the Y
positioning and add to it so each time
each dynamic movie clip is fit out onto
stage there's going to be a nice space
in between each one any kind of space
that we want to designate first we
create a white rectangle that goes into
the movie clip this is where the height
and width is determined for your dynamic
movie clips in this particular case okay
so each movie clip that I spit out onto
stage is going to be 300 wide and 60
tall so let's create that rectangle now
we create a new shape call it wrecked
give it the positioning we need we're
going to put it at 0 x and 0 Y and we're
going to make it the wrecked height and
wreck with which are designated here 360
good and that rectangle is all ready to
go then we create a new movie clip and
this is really what the whole basis for
this tutorial is about is creating a new
movie clip for each little item within
your array so you create a new movie
clip called movie clip on the score MC
that is a movie clip type which is equal
to new movie clip then we add the
rectangle to that movie clip so you say
movie clip underscore MC that addchild
rectangle now your white rectangle is
neatly placed within your movie clip
your movie clip is not on stage yet it's
just getting assembled here now here we
create a text format for the first field
of text then we create a format for the
next field detection you guys might not
even want text you might want images to
load into those movie clips and be
clickable so maybe the text formatting
isn't even an issue to you so you can
skim right over that but that's how I'm
going to format text field number one
for the title of the movie format for
text field number two which is going to
be the genre and text format for the
third field which is going to be the
rating and I made that green so now we
create
those new three text fields that are
going to be dynamically spit out into
the movie clip they're going to be
neatly placed in the movie clip so we're
going to create new text fields 1-4
movie title movie genre movie rating and
we're going to format those text fields
so basically this is just formatting for
those text fields the movie titles
formatting the movie genre text
formatting is here and the movie rating
text formatting is here and you can see
I'm applying default text format format
3d 12 text format format tool and
default text format format one those are
the format's that we set up up here okay
and here I'm just targeting certain
properties for the text field to make it
render the way I needed to and i just
commented out the width and height for
those text fields because you can use
auto size is equal to text field
autosize left and that will autosize
your text field for you so you don't
have to worry about designating widths
and Heights it'll do it dynamically if
you use this here now you can see I'm
using X&amp;amp;Y positions for each one of
those sex fields that way inside of the
movie clip those text fields aren't all
lumped on top of each other they have
their own individual positioning that's
relative to the parent movie clip so you
just change these numbers to put those
text fields anyway you need them to be
now let's take the movie clip and add
child for all three of these text fields
at that point you've popped all three of
those text fields into that movie clip
and they're ready to display now you can
make your movie clip appear as if it's a
button type symbol and when the muses
mouse goes over it the little pointer
goes over it'll turn into the little
hand symbol form because you're
signifying or your designating button
mode is true on that movie clip now you
simply place each dynamic movie clip in
its proper x and y position on stage now
here is where you finally add the movie
clip to the stage addchild movie clip on
the score MC so right after it hits the
stage that means the next one is coming
in the loop so you can change your X Y
or Y position and give it the plus
equals sixty-four to make sure they're
not all on top of each other and they're
spaced accordingly now there's just a
couple of lines left this one is for
adding the click event to each of the
movie clips so we have a listener here
for
click event listener here for the mouse
over and mouse out but all I made was
the click event function here so here's
your function for your click event you
can see what i did was made it go to the
status text field that way you can see
that each one is being clicked
dynamically and it has the proper
information associated with it for that
click and I put a little cold comments
in here to say use this instead if you
wish to open another webpage upon click
if you want to a new URL to open up with
this information you can do that so what
I did was I made a navigate to URL
function all set up there for you and I
use the target URL of watch movies PHP
and the variable is title is equal to
this movie's title text so it's really
easy to make that really dynamic if you
want to make it a clickable URL type
thing or you might want to go to another
part of your flash file that is for
showing the movie or whatever and at
that point you can just send any
variables you want to any part of your
timeline and you've seen or whatever
that's it that's how it works so that's
how you can create movie clips
dynamically put whatever you want inside
of them text fields format those text
fields and within this section here you
would just not put in the text fields
and go to jpg if that's what you want to
do if you don't want to load in text
fields you know I have a box protection
maybe you want to have a little movie
clip box with the the JPEG inside of it
you can do that too you can also just
use a loader if you're going to load
JPEGs you don't even have to use movie
clips you can just use a loader and load
that thing in and it's basically the
same as using a movie clip because it's
a container that holds a JPEG okay whew
that was exhausting let's do something
easy next time okay guys peace out</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>