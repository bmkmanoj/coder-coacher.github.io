<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorial : Stagger Dynamic Output in a Loop : Google Adsense Ads | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorial : Stagger Dynamic Output in a Loop : Google Adsense Ads - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorial : Stagger Dynamic Output in a Loop : Google Adsense Ads</b></h2><h5 class="post__date">2011-02-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tdW9C0sFwKI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">how you doing everybody Adam from the
develop PHP calm forms here coming at
you once again with another video
tutorial this one comes courtesy of
greggio 54 who asks I've been trying to
work out for ages how to get an ad to
drop every 2 or 3 in the loop just how
this forum now works it's two replies
than an ad then two replies in an ad and
so on any ideas and I said do you want a
video tutorial I said basically you
stagger at all using the is iterator and
you create your if and else logic he
said yes a video would be good to help
them understand it so now we're going to
move forward with the video and you can
see in mind what he's talking about is
how my ads come out here if you're
somebody that if you're a webmaster that
has PHP scripting in your website and
you happen to be running Google Adsense
or value click media ads whatever kind
of ads you're running usually that ad
server will only let you pump out a
maximum of three or four or five I'm not
sure with the respective numbers are but
I think for Google Adsense the maximum
is three image ads can be on a page at
one time so you can see I'm pumping out
my maximum of three ads using my google
adsense but I scripted it out in such a
way where they'll show up only where I
designate so if he made this thread and
nobody replied to him there would only
be this top ad on the page but since I
replied and then I replied again an ad
showed up so I have mine scripted to be
every three and five so every three
posts an ad shows up right between the
third and the fourth post then I have it
scripted to where after the fifth post
another ad shows up between the fifth
and the sixth post and then no more will
show up to the page because I reach my
maximum I can't just put an ad after
every single post because first that
would be a little bit annoying to your
site members and second there's a
maximum of how many you can have so if I
if this thread happened to be 20 posts
deep I can't have an ad after every post
or after every three or after every five
have to have better logic in there to
stagger it out and limit it to where
only three show up on the page so that's
so what we're going to show you how to
do so this one is just more really for
the more advanced PHP Scriptures and
it's going to apply to your PHP and
MySQL scripting really more PHP based
scripting but it also applies to your
MySQL array output right enough talk
let's code I'm a dork first let's take a
look at this very simple example of a
while loop and which this was what you
would have especially greggio he would
have a while loop after you connects to
a database and it queries the database
is going to output some data within a
while loop so that's what I've set up is
a little simulated database while loop
so what my while loop is setup to do is
just say while I which it starts at zero
so I is just a variable that we can call
poop if you want but most people name
that I will call it poop just to show
you how it can be anything you want I'm
going to change everywhere where it says
I to poop but normally you would put I
in your script so when you're working
with a loop as many of you know it
allows you to work a process many times
over and over again so when you query a
MySQL database and you get the result
set back you can use a while loop to
iterate within that array data and pump
everything out individually so my while
loop your array data would be here for
your MySQL row array so I wrote it to
say while poop is less than 20 we're
going to perform a certain action so
first when we start off is equal to zero
so the while loop will definitely run
the first time because poop is
definitely less than 20 so the first
thing that happens in the first pass of
the loop is poop it gets iterated poop
plus plus so that means poop will be
have a value of one at that point so
then you can output whatever you're
going to output you can use your MySQL
IDs or whatever you don't even have to
output that I but I'm just outputting
the I to show you I am
simulated database listing number one so
within milliseconds the loop is going to
run again and it's going to loop 20
times so I have it mine has a ceiling of
20 so maybe your database result set is
holding only 5 results so maybe it's
holding 20 or maybe a hundred or a
thousand so now you can see how I'm
getting this list here my while loop has
a ceiling of 20 so it's going to run 20
times basically so now let's put an ad
up top from your ad server so if you
took that and you tried to put it in
there right say right here let's run
that and see what happens
let's refresh you can see I get an ad
from my ad server being placed in after
each post or after each listing in the
database and that's too much that's no
good so this is how simple it is to
achieve the logic you need and now
remember you're sitting there you're
connected to your database you query the
database you have a while loop that
you're working with so me and you are at
the same point now this is all you have
to add to that while loop just make sure
you iterate poop or you iterate the
index the the incremental index value
yours might be I let's just change this
back to I the way I don't confuse
anybody but that can be named whatever
you want so now basically just add this
to your while loop your existing while
loop output say yours would be here your
existing while loop output whatever just
add these view lines you add your I plus
plus and then an if and else condition
statement right here and since you're
putting in your add code here let's
remove it here make sure it's blank up
top so that way up top you're just
initializing your ad code variable so in
the if and else condition statement this
is what you're saying if I is equal to 3
or if I is equal to 5 or if I is equal
to 7 add code is going to be
the ad code from your ad server Google
Adsense or whatever else ad code is
blank then in the output you just leave
that saying ad code now watch when I run
it now let me refresh and you can see it
staggers it exactly where I want it and
there's only a maximum of three ads
being thrown into the page this way I
don't go over my max or I won't have any
empty blocks there so let's say I wanted
the ads to be after two or even after
one three and five you can put more in
there you can say or I equals seven or
ie quills 9 go as many as you want
but when you're dealing with AD servers
is usually a max on how many you can
throw out to the page and this will help
you do it dynamically so you can change
these numbers to be whatever you want
and remember this is your existing while
loop all you have to do is add this
little bit of code leave everything else
alone add this little bit of code and
make sure in your existing output that
you put that ad code variable to render
and that's how you see this ring so now
you should be able to stagger your ads
from your ad server into your page no
problem and we'll see you guys next
lesson</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>