<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Build a Community Web Site Part 5 - Activation Script Dreamweaver | Coder Coacher - Coaching Coders</title><meta content="How to Build a Community Web Site Part 5 - Activation Script Dreamweaver - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Build a Community Web Site Part 5 - Activation Script Dreamweaver</b></h2><h5 class="post__date">2009-03-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9GxOieenEo8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to part 5 of building a dynamic
community member based website system
created by flash building and presented
by develop PHP calm and at the end of
part four where we left off we had
created our registration form in
Dreamweaver and we created the parse
script which was an all-in-one vile and
I have it open here and so this supplies
the form and the parsing mechanism and
we tested it out make sure the form
works and adds us to the database the
end of the last tutorial so we checked
in PHP myadmin and we indeed we're sunk
into the database so everything works
correctly so now in this part 5 we're
going to be creating the activation
script which is very important for
making sure that your members are human
so remember in the registration form
here we sent them an email a URL is in
that email and it's the activation URL
they have to click on that or put that
in there their web browser address bar
if it's not clickable which it should be
clickable than most default email
applications so when they click on that
it sends them to this file activation
dot PHP which we haven't created yet
we're going to create that right now and
it's going to post to URL variables that
we're going to need to access their ID
and sequence is going to be their
database password the hashed up password
that we made so let's go to file create
new or new
PHP just get rid of all that text there
and now let's pop in the script that's
going to activate them and then I'll
talk you through line by line excuse me
sorry about that so here's the script I
just popped it in now let's save it file
save as in the root directory of web
intersect as activation activation dot
PHP okay all right now we have it all
set so what we want to do here is make
sure that in the first line of the
script over the first line of code
anyways after we claim our PHP opening
tags is we're checking to see if the get
variable of ID the URL variable of ID is
present and if it has a value but if it
has a value so what we're saying here in
this line is if the ID variable coming
in is not equal nothing so if it equals
something so that means if the ID
variable coming in if they press their
registration if they happen to get rid
of these URL variables and just use this
then this script won't run that's what
we're doing there this can only run if
that ID variable is present and if it
has a value if it has a value of nothing
the script the script won't run either
so it runs only if the ID variable is
present which in most in all scenarios
it will be present unless the person
sending or clicking or using that going
to the activation script PHP the
activation dot PHP script if that person
is doing something strange and funny
that they shouldn't be doing then the
script won't run it only runs if normal
procedures are at play okay so first
thing we do is if the variable is there
and everything is normal
then we're going to connect to the
database using our include script then
we take the ID variable that's coming in
from the URL variables and we put it
into a local PHP variable then we hash
we get the hash password which is the
sequence variable URL variable and that
comes in as well we put it into a local
PHP variable called hash bash and then
the ID we run my MySQL real escape
string on it and I discussed what that
was in the last tutorial and the we also
run a replace to see if they've put in
that the character that's above the tab
key on us keyboards we delete that from
the string in case it happens to be
there same for the password run the
minus crow real escape and the replace
function so after we've cleaned it and
secured it and kind of filter the data
then we can make the MySQL query and
update the Maya my members set email
activated field to one where ID equals
this users ID and password equals this
particular user's password that's what
that line says so we're updating my
members set or you can say or set would
just be translated to field if you
wanted to make this a sentence that
would make sense to you you know to
update my members field email activated
to one where the ID equals this users ID
and the password equals this user's
password that's what that means then we
do a double checked we select all from
my members where the ID equals ID and
password equals has passed an email
activated equals one now and we should
receive a MySQL num rows result of one
so if everything goes right this double
check value of this variable here double
check will be a one so now we just run a
conditional we say if double check
equals zero
sure and we make it red we say your
account could not be activated please
email the site administrator and request
manual activation or you can put any
messages you want there i don't care
well not that i don't care but it
doesn't it's all depends on what you
want your system to do according to the
failure of account activation but
account activation should never fail if
it does this the person is doing
something wrong with that URL they're
not the member who's trying to join
isn't doing something correctly if the
activation fails or the server scripts
just aren't running the server can't
process at the moment which would be a
you know just serve bad server
functionality so we go to after we tell
them that their account could not be
activated if double check equals zero we
include message to user dot PHP which we
discussed in tutorial number four of the
series and we exit the script from
executing any further down and if double
check is greater than zero which we
would want it to be that would make
successful activation and we say your
account has been activated login anytime
up top and we include message to users
at PHP and this message is what gets
sunk into that page and I discussed all
of that in the last lesson and then we
exit the script after we include message
to user dot PHP and that's it and down
here at the end we close the first if
and we print them a message if the get
ID variable happens to be empty or not
present this script will return this
message to the users browser essential
data from the activation URL is missing
close your browser go back to your email
inbox and please use the full URL
supplied in the activation link we sent
you
and you can say things just to be nice
and you put your admin email there just
to tell them you know essential data
from the this script needs is missing
that the script needs is missing so if
the data is there you run all this stuff
and then that's where that closes but if
not this will run and this stuff won't
run here this line will not run here at
all because we're exiting the script
after every turn of events inside there
you see that's how that works so next
part of the tutorial series we're going
to be creating the log in right now that
the person's all activated actually
let's test this out here go to FileZilla
reconnect and let me go to where are we
web intersect perfect let's see
activations put that in root directory
of our website now let's navigate to eat
or no we got to navigate to that email
we got and let's go where's that email
to a web intersect
la da da summer there it is ok this is
the email that I received when I joined
yesterday I was testing the joint form
let me click on that activation link and
if everything goes right we should see
success and then we're activated in the
database to login there it is web
intersect your account has been
activated login anytime up top now in
next lesson I'm going to show you how to
create the login mechanisms in the magic
flash header that's going to be
communicating with PHP to do all of its
magic and it's going to be a very
integral integral part of my system but
yours can be an HTML header that's magic
as well and so so you can see here the
URL is activation that PHP their ID
which mine was one and the sequence is
my hashed up password there and that is
all so we'll see you in part 6 where
we'll be creating the login script in
PHP and possibly starting on our magic
flash header deal there ok see you next
lesson</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>