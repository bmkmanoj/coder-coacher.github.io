<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>13. E - Commerce Website Tutorial - Tally the Total of Your PHP Shopping Cart | Coder Coacher - Coaching Coders</title><meta content="13. E - Commerce Website Tutorial - Tally the Total of Your PHP Shopping Cart - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>13. E - Commerce Website Tutorial - Tally the Total of Your PHP Shopping Cart</b></h2><h5 class="post__date">2011-01-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VtDf05cqLm4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody and welcome to part 13
of our e-commerce website building
lesson series this one we're going to
continue on with our card display and
we're going to make sure we tally the
total for what the whole card is with
all of the items combined and before we
continue on much further we have to
alleviate the cart from double posting
items if the user happens to press
refresh let's go and put this I'll show
you what I mean I'm going to put this
black hat in go back to home and I'm
going to put it in the black jeans now
if I was to refresh right now you see
what happens
it's going to try and double post those
variables again if the user happens to
press refresh when they put something in
their cart once they get there if they
press refresh it'll double post the
variables so a quick easy way to
alleviate that is use the same method
that we use to alleviate that very same
problem earlier in this lesson series so
let's go into section one here if the
user attempts to add something to the
cart from the product page that's the
section you want to be in let's expand
that code and down here the very last
bracket right before the very last
bracket there or under the
second-to-last bracket put a line break
and put in this code the exit line isn't
really even necessary but I put it there
just through paranoia I don't know I'm a
weirdo you don't need that exit line I
don't think I think header will redirect
instantly and not let the page run
further so basically what you're doing
is you're putting in the header function
which is the same thing that we did in
the admin center when we didn't want
double posting of the inventory items
when the admin was loading store items
into the system now it's about time that
we tally up the cart total don't you
think we can display a little message
down here to the user what their cart
total is so what you do is you go into
your cart dot PHP file and here in
section 3 we're going to use this
existing code that renders the cart or
user to view on page to work up the
total of the entire cart so the first
thing you want to do is right under
where we
the cart output variable we're going to
initialize a cart total variable this
way we don't get errors on the page and
that variable you want to display down
on the page somewhere let's go to the
design view and just for right now I'm
going to put it here on the bottom I'm
going to go into the code view again and
right here I'm going to echo that
variable to the page now remember right
here where we tallied up the price total
for each item we're going to add one
more line of code under that right
before we start outputting that dynamic
table row we have and the line is cart
total equals price total plus cart total
now some of you guys looking at that
might understand exactly how it's
working and what is doing but for those
of you who don't I'll try and explain it
carts total is just a variable container
that we want to hold each item in as it
comes through so in order to make the
cart total variable remember the price
of the item that was put in before you
simply put price total plus cart total
so the first item comes through it's
$4.99 so it's going to be price total
plus 0 because cart total has nothing in
it yet remember it's an empty variable
the second time it runs through for the
second item it's going to be price total
which is maybe $4.99 for that item plus
$4.99 or whatever the amount was but the
first item in the cart the price total
for the first item in the cart it's
going to get compounded to the price
total for the second item in the cart
same for the third and the fourth and
the fifth and the sixth and you just
blab dab dab dab dab on like that let's
see if that works that's FTP this up let
me press my cart here see if we get a
rendering yes 1996 that's exactly how
much that would be because there's four
items well this is a black hat with a
quantity of two so that makes 998 + 499
and another 499 makes 1996 and to get a
dollar sign on that you can take that
variable
at the very end of the loop after
everything's finished processing you can
put cart total is equal to double-quote
double-quote period and that variable
put a dollar sign right here in between
your double quotes is ftp that and there
you go now you got a dollar sign right
there
in front of the 1996 and if you wanted a
USD you just put period double quote
double quote on the end there
space USD for US dollars if you are
happy to be using US dollars so there
you see the cart total will be 1996 US
dollars and actually you could put in
front of that dollar sign cart total
little semicolon and then the number
will be there the FTP there and there
you have it says cart total 1996 US
dollars I empty my cart we don't see
that at all alright so here is really
not the most ideal place you want to put
that I'm going to put mine in the div
that's right under the dynamic table and
my div is going to be aligned to the
right so all the text will be aligned to
the right so it'll show somewhere here
for the cart total that may make that
text a little bit bigger okay so in part
14 the next video I'll show you guys how
you can make this X enable to where it
removes the item from the cart just that
one item no matter how many they have as
quantity they can press X and remove
that item from cart so will enable that
in the next part of this video series
now I know a lot of people have
questions about letting the user adjust
quantity some people suggesting to have
it on this page I don't think that would
be the smartest way to go really no
matter what the quantity is
you want to give them the ability to
adjust the quantity in the cart because
that's the way I just you know I've used
a lot of cars online and that's the way
most of them work that I can see in the
actual cart is where you can update the
quantity that you want so having it
actually on the page here with it is not
really even necessary you can add it if
you want but it's not even really
necessary because at the cart is where
you would give them the ability to
their quantity and then retaliate the
form and I might even show you guys how
to do it using javascript to wear right
when they adjust the quantity input
field the whole cart will retaliate self
but I'm not making any promises but I
just wanted to let you guys know that
the way I'm going to do it is give the
user the ability to adjust the quantity
for each item within the cart because
that's the way I've seen most online
shopping cart mechanisms work
okay so stay tuned for part fourteen
where we enable removal of items from
the cart and we may even get into adding
the little form needed in the quantity
box here which will be just a little
input text field you basically just take
this number and you dynamically insert
it by default into that field give them
the ability to change that number</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>