<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WAPG 2 keyframes Animation Programming CSS JavaScript | Coder Coacher - Coaching Coders</title><meta content="WAPG 2 keyframes Animation Programming CSS JavaScript - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>WAPG 2 keyframes Animation Programming CSS JavaScript</b></h2><h5 class="post__date">2016-11-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/cPIOGkkIaWs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back to the web animation
programming guide in this video we'll
cover keyframes programming keyframes
enable you to create animations that can
have one or more value changes plotted
in them between each keyframe a
transition or transitional frames will
run and we just learned about
transitions in the previous section
keyframes are capable of repeating or
looping infinitely or you can set them
to repeat or loop just a certain amount
of times they can also be paused
reversed alternated among other cool
features here is a quick overview of the
nuts and bolts that you will learn to
use in this section of the guide keep in
mind that some of the JavaScript
interfacing for keyframes programming is
still experimental so be sure to test in
all of the popular browsers so that you
know when you can use these things
confidently in your projects let's take
another quick look at the CSS properties
that can be animated and I'm going to be
focusing mainly on the transform
property in this section we just
remember that you can animate any of
these properties I'm going to start with
a very simple example that HTML file
we're going to type in an add keyframes
rule then we put space and the name that
we want the animation to have I'll just
name mine animation 1 and then I'll put
opening curly brace and closing curly
brace now inside of animation 1 is where
I list all of my keyframes that I want
the animation to have you can use the
from opening curly brace closing curly
brace and to opening curly brace closing
curly brace from and two key words which
are equivalent to zero percent and a
hundred percent so since they're
equivalent I'm just going to use 0% and
100% now in the first keyframe the
starting keyframe for my animation we're
going to set the transform property and
use the translate X function then for
the ending key
frame or the final keyframe I'm going to
put this on 300 pixels let's go ahead
and put in the two animation properties
that we need just to see this thing
running so let's press refresh we see
that we have an animation so these two
properties animation name and animation
duration that's the minimum amount of
properties that you have to declare in
order to get an animation to run but
there's still six more animation
properties that will help you set things
the way you like it you can see that I'm
referring to animation one in the
animation name property the animation
duration property we could put two
seconds or two thousand milliseconds or
any amount of time that you want they're
put on 1.5 so if I was to put the other
six animation properties in place
they all have their default values that
I'm starting with so you'll see that the
animation runs exactly the same as it
did before so what happens when when I
didn't have these six properties in
place their defaults were just being
used so instead of ease I can have a
linear animation you can see that it
behaves differently now iteration count
I can put on two and you'll see that the
animation runs twice now instead of just
once I can also put that on three four
five a hundred or infinite I can use the
infinite keyword and it will just keep
running
that'll make it loop infinitely
the timing functions for animations we
already discussed in the last video so
I'm not going to go over all that again
the animation duration is just the
amount of seconds or milliseconds that
you want the animation to have over all
the animation iteration count is you
just put a number value there or you can
use the infinite key word the animation
direction you can have either normal
reverse alternate or alternate reverse
so if I was to reverse this animation it
goes the other way if I alternate it
it's going to go back and forth so you
can have a two frame to keyframe
animation that goes back and forth you
wouldn't have to have three keyframes in
there to make something go back and
forth between do two different value
States and you can also alternate
reverse which just plays it in Reverse
it still goes back and forth so I'll
just leave that on normal now the
animation play state can be either
running which is the default value or
paused if I put it on pause it just
won't run so in JavaScript you can call
the play state and put the paused value
there and it will pause the animation
and then you can resume it by putting
the running value back the animation
delay is simply the amount of seconds of
milliseconds that you want the animation
to be delayed for the animation film
mode you can have either none forwards
backwards or both and to demonstrate
that let me put this on iteration count
of 1 and refresh so it plays the
animation just once you see how it the
object goes back to its initial value
after the animation is complete if I
wanted to stay at the ending value for
the ending keyframe which is the 100%
keyframe I'll put the film mode on
forwards so now the object stays so
forwards will apply property values in
the last keyframe to the object and then
backwards applies the property values
from the first keyframe and both would
follow instructions for both forward and
back okay so now we know what all the
properties and values mean in the CSS we
can go ahead and show you the shorthand
version now we'll just use the shorthand
animation property and we can put the
animation name first and then after a
space will put the animation duration
then the animation timing function put a
space then put that in place there then
we'll put the animation iteration count
after the timing function then after the
iteration count we're going to put the
direction which was normal so then we
had running zero seconds and forwards
I'm going to put the timing function
back on YZ and if I remove any of these
it'll just default it'll use the default
values for any of the settings that I
leave out for any of the animation
properties that I leave out of the
shorthand there defaults will be used so
if I remove forwards the none default
value will be used and it won't stay in
its position at the end of the animation
it goes back to its initial State so you
don't have to have all of these values
in place just the ones that you want to
specify a different value from the
default values now this whole time we've
been working with the keyframes
animation that has only two keyframes in
it so what if we want to have three
keyframe animation then we just put one
in between the initial and
ending keyframes and that would be 50%
would be directly in between those let's
put this translate X on 100 and this one
on 200 will go 100 pixels then another
100 pixels and if you want the first and
second keyframes to take up most of the
animation you can put this on something
like 90 and from 0 to 90 will take up
most of the animation and then 90 to 100
will be the remainder of it see so it
goes very slow for the first 100 pixels
and then for the last 100 pixels it goes
very quickly so 90% of the animation is
the first is going from 0 pixels to 100
pixels and then only 10% of the time the
duration time of the animation is it
going from 100 to 200 so you can
determine which keyframes get the most
duration time of the animation by
setting these numbers appropriately so
let me put this back on 50 ok I'm going
to change this up to do to add a little
bit of translate Y actually will make it
go across the screen first then we'll
make it go down make it go across 300
down 300 so in the first keyframe it'll
be at 0 the second keyframe it'll go
translate X 200 pixels and then the
third keyframe I want to translate X and
translate Y so now what if we want a
four keyframe animation then we can copy
this one and we'll put this one at 33%
this one something around 66% and that
will divide it into four so for the last
one the translate X will put back on 0
that'll make the ball or the object go
back to the left and see what we have
yep and we can slow the animation down a
little bit
and if we want a five keyframe animation
we can do a similar thing so let's go
ahead and copy the 100 again and let's
change our values once again to just be
25 this would be 50 this would be 75 so
they give us 1 2 3 4 5 keyframes now
that are all evenly split so the
duration time is split evenly through
all of the keyframes and remember you
can adjust these values if you want
certain keyframes to take more of the
duration time than others so finally
we'll make it go back up to its 0 y 0 X
position so let's see if that works
there we go now we can make it run more
than one time let's put infinite and it
will just keep running so that shows you
how you can set up as many keyframes as
you need you can divide up that 100% as
much as you need to okay I don't need
this because it's a default don't need
that because that's default that's a
default and I don't need the fill mode
anymore either
actually YZ is a default as well so if I
remove that the animation would still
run the same I'll just keep that in
place now if I want to apply a
completely different animation to that
animation that's completely independent
I'll just name this one animation too
and let's just go from 0 to 100 and here
here I'll animate the border radius
let's go from 100% to 0% and then I can
just copy these settings and put a comma
here and now I can put animation to the
duration will be 0.5 half a second and
we'll keep that going infinite as well
so
so it keeps looping and see what happens
oh yeah we have to let's make that
alternate infinite and then alternate
away it goes back and forth there we go
so you can see that animation is running
independent of the first animation so
animation one and animation two can have
different duration times timing
functions we can also animate multiple
properties within each keyframe so in
our animation too
we're going to affect the border radius
and the background color and you can
affect as many properties as you like
actually it should be make it red down
here and then sky-blue here now it kind
of looks like a police uh police lights
now I'm going to quit
walk you through using the JavaScript
animation events and Dom interfaces for
CSS keyframes and the CSS keyframes rule
and CSS keyframe rule are both instances
of CSS rule objects all right I'm going
to get rid of keyframe animation too and
the reference to it here instead of
infinite I'm going to change this to
three and I'm change this to two seconds
even the animation will run three times
now let's pop in a script element then
we can access object 1 add event
listener the type will be animation and
in comma and the listener will be a
function open curly brace close curly
brace and then close the parentheses for
the add event listener bring that down a
couple of lines I'm pretty sure that any
browser software that supports these
types of animations and the animation
end event will automatically create an
object reference for any elements you
have with an ID in your in your document
an object with that same corresponding
name but you can put var object 1 is
equal to document dot get element by ID
object one like that okay so here we can
access all of these event attributes
within that event handler let's try this
one the elapsed time so let's just issue
an alert say event dot elapsed time so
let's run that in the browser
that's one iteration two and the third
one is here the result from the alert is
a six that's because it took six seconds
for this animation to end because we
have it set at three iterations at two
seconds each if I put this on a four it
would be eight seconds we can get the
animation name
animation 1 which is the name of the
keyframes animation you can get all that
data all of these event attributes now
we'll check out the animation iteration
event
okay so change this from animation end
to animation iteration so now we have an
event listener for animation iteration
event and let's just go ahead and put
the elapsed time as an alert every
iteration says two four and six so every
iteration we got an alert telling us how
much time has elapsed and ultimately you
can do anything you want within these
event handlers using your knowledge of
JavaScript okay let's put the animation
back to running three times only and
let's remove this add event listener and
I'm going to pop in an alert what I'm
going to do is target the document then
it's stylesheets object the first style
sheet which is this style element and
then the CSS rules property or the CSS
rules object to get access to the CSS
rules using javascript so I'm going to
alert document dot style sheets the
first one in the list CSS rules let's
see what that gives us that's an object
of CSS rule list okay now in that rule
list I'm going to target the first
element and that should be this style
rule for object one yeah we have an
object CSS style rule now let's get the
next one by putting a one here which
should target this keyframes animation
so let's see what we get now now we have
an object of CSS keyframes rule and
that's what we're after we are after
targeting this style rule using
javascript in this line of code
so I'm going to use that line of code to
make a variable named animation and
that's going to be equal to that line of
code that targets this CSS keyframes
rule now let's go ahead and check and
see what kind of object that was again
CSS keyframes rule so we can access all
of this interface CSS keyframes rule a
name attribute CSS rules attribute
append rule method delete rule method
and the find rule method so here I'm
just going to put that in a comment
whoops there we go so these are the
things that we can access these two
attributes and then these three methods
so if I was to alert animation name I
get animation one right alert the CSS
rules I get a CSS rule list now I'll
show you how to use the find rule method
so I say animation dot find rule at 50%
so the rule of 50% has transformed
translate X 200 and translate Y 200 now
without tapping into its properties yet
let's see what kind of object that gives
us object CSS key keyframe rule so the
singular keyframe which was this
interface that means we can access these
properties or attributes dot CSS text
let's see what that gives us you can see
we get the whole key frame for the 50%
we can also get the key text only
chose 50% now I'll show you how to use a
pen rule and delete rule so let's use
delete rule first we can remove this CSX
text and change find rule to delete rule
and we're going to remove it from the
alert control X because we're going to
actually execute that code in a button
so I'll put a button element and in its
on click event I'm going to run that
code that I just cut out of the alert
and then I'm going to type in the button
text of the button label to say delete
50% or a delete key frame at 50% and I'm
just going to make the animation run
infinite so you can see it keep running
okay so you see how the animation just
runs in a square formation now watch I'm
going to delete keyframe at 50% see how
it changes the animation that was when
it was going here was at the 50%
keyframe and now that keyframe is gone
from the animation and using append rule
is very similar but instead of just
feeding it the 50% in the string you
feed the entire rule so in the string
you're going to have an entire rule that
you want to append to that keyframes
animation so I'll change I'll append the
50% rule to 250 250 when that button is
clicked so we'll change this to say
append keyframe at 50% with these new
values which can also be made dynamic so
I'm going to append and this right here
at this point is where the 50% mark is
so that value should change now when I
click this okay
now it's down here it's a 250 X 250 Y
and let's say I wanted a so let's say
instead of manipulating or messing with
the 50% rule let's just add a 60% rule
to this keyframes animation so it will
insert a 60% rule in instead of changing
or altering the 50% rule let's check
that out
now we'll add it and then you see how it
has a little zigzag there because we
added the 60% rule that goes to 250 X
250 Y and this should have said add
keyframe at 60 and this is what that
code looks like in JavaScript in the in
the normal script and not inside of the
on click event listener you can see
everything in the Upendra liz within a
string so it's either single quotes or
double quotes
we'll have to encapsulate it okay so
let's get rid of that let's get rid of
that let's get rid of all that and
finally the last thing we'll show you is
how let's just type in object 1 dot
style how we can apply animation
property to objects or elements using
javascript so we can go ahead and take
this code here and then just remove that
property altogether and now we'll apply
that animation property to object 1
using javascript just like that let's
see if we have an animation yep and if
you have to use the longhand properties
like animation name you use camel casing
and no - so you wouldn't go like that
camel case the second word so there's
animation named animation duration
so that's only if you have to use the
longhand properties but you can just use
all the shorthand properties like this
now we'll quickly show you how to call
these animations to run on objects
dynamically whenever you need to
so I'll comment out that code that
applies the animation to object 1 and
I'll type up button and I'm going to put
in a keyframes animation - it's going to
change an object's background color from
sky blue to red and then I'll add a
button element and in the on click event
actually you put that in between single
quotes because I'm going to take this
code right here and put that in the on
click event or in the click event for
this button then I'm going to take that
button copy it make a similar one that
says animation - and then that's going
to run animation - on object one and
this one will set to alternate so play
those colors it'll transition those
colors back and forth oh actually we
have to remove this so now we just have
a stationary object and we can apply
animation - or animation one first so
let's change the timing on that to 0.5
seconds now apply animation to then
animation 1 animation to animation 1 and
if you wanted those to work together you
can just run both animations get rid of
that and that and put that code put a
comma here and then you'll have the
shorthand for the second one and then
you can just put the word animate and it
will call both of those animations to
run on that object
so let's just shows you how you can
dynamically apply any of these keyframe
animations here to your objects
dynamically and interactively you can
also append keyframes delete key frames
or find the keyframes you need all
dynamically through script the last
little bit of programming I want to show
you is if you ever need to create one of
these keyframes animations complete
on-the-fly using javascript maybe you
have a need where you need to create it
dynamically with dynamic values this
little script takes care of that so you
can see we have a head element that
closes here so basically what this code
does is it sets up a variable for the
keyframes animation syntax right there
you can see the at keyframes rule is
complete right there you put that all in
one line then we're creating a style
element using the create element method
we affect the inner HTML of that style
element and put the keyframes text into
the inner HTML property for that style
element then finally we append the style
element to the head element of the
document which basically gives you an
atom a keyframes animation something
like that and all of these values in
here can be dynamic even the name of the
animation can be dynamic its name can be
dynamic its keyframes key text can be
dynamic and the keyframe settings all
can be dynamic and then after that
inserted into the head of the document
you see we're targeting object 1 and
we're putting the style that animation
and the animation properties that we
want in place so this is if you ever
need to create your keyframes animation
syntax on-the-fly
dynamically or interactively in the next
step
so we're going to tackle sprite
animations using sprite sheets and that
involves key frames each of these
episodes are going to blend into the
next so the information and the training
that you get from the previous one will
benefit you in the next ones</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>