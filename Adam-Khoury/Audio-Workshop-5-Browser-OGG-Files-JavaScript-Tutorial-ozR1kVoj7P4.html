<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Audio Workshop 5 Browser OGG Files JavaScript Tutorial | Coder Coacher - Coaching Coders</title><meta content="Audio Workshop 5 Browser OGG Files JavaScript Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Audio Workshop 5 Browser OGG Files JavaScript Tutorial</b></h2><h5 class="post__date">2014-05-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ozR1kVoj7P4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back to the audio workshop I
just wanted to briefly pop back in to
address an issue with the type of audio
files you put on your server to play in
your custom-built html5 audio software
Firefox and opera do not fully support
the operation and events of mp3 files
yet in new html5 audio programs that you
built but they do fully support dot OGG
files and it's not the audio programming
that's a problem it's a problem with
Firefox and opera not supporting mp3
files because mp3 is really the most
popular audio file format worldwide and
really those two browsers should be
fully supporting mp3 files it's kind of
retarded that in 2014 even still we have
to have silly workarounds for stupid
things that different browsers are doing
and they're not making any sense first
we'll demonstrate the normal operation
using mp3 file in Chrome and Internet
Explorer here's the Internet Explorer
and we can seek through no problem and
the whole audio track guitar now let's
go to file preview in browser Chrome
seeking through the whole audio track no
problem
now let's go to file preview and browser
opera it doesn't even play the mp3 file
won't even play in opera now let's go to
file preview in browser Firefox mp3 file
plays in Firefox but let me go to seek
through it and go to the end see it
stayed at the beginning of the song and
now it's going to start pushing the
duration time to meet the current play
time and it's all screwed up
that's because Firefox doesn't fully
support the operation of mp3 files in
html5 audio programs yet and you can
blame all of this fully on those two
browsers because it's their fault that
they're not up with the times but
there's an easy fix all you have to do
is serve up dot OGG files to Firefox and
opera so let me change this to dog and I
happen to have Stoker dog type audio
file in my audio folder and I'll show
you that in a second let me go to file
preview in browser Firefox now let me
see through see it lets me seek through
the song just fine now
and all operation is normal when it gets
to the end it's going to loop to see far
follows along the playhead and we can
see through the track anywhere we want
so just changing that to dot dog
fixes the issue now here's a little
script that you can use if you want to
make it dynamic and serve up mp3 for a
Chrome and Internet Explorer and all
other browser users and then serve up
odd for Firefox and opera so you can go
up here where you're initializing your
variables and put a new variable in
called extension and make it equal to
mp3 and that's gonna be the default
extension the next thing we're gonna do
in our javascript is get the agent the
user agent which shows which browser
that the user is visiting your page with
now after that we're going to use an if
condition with the index of method on
the agent string to evaluate to see
whether or not they're using Firefox or
opera and if they are we're going to
give them the dog extension so we say if
agent dot index of Firefox does not
equal minus 1 or agent index of opera
does not equal minus 1 then we're going
to give them extension dot dog now all
you have to do is go down here and
remove the extension and then put a plus
sign and put a key XD so ext represents
your mp3 or OGG extension so Firefox
users will get stoker OGG Chrome users
and Internet Explorer users will get
stoker mp3 and you can actually visually
check the extension by just saying alert
ext now if we preview this in Chrome we
get the JavaScript alert saying dot mp3
and they get served the mp3 file now if
we preview this in Firefox
they get the dot dog extension and we
have normal audio operation with our
seat barman so if you happen to have
been experienced ending problems testing
in Firefox with your seat bar any seek
bar issues this will clear those up you
just have to use dog files instead of
that mp3 files and there are lots of
places online free there's lots of sites
that you can go to to convert your mp3
files to dot log files and then you just
throw them up into the same folder
online and then your audio player will
automatically give the dog extension to
Firefox and opera users an opera has
even more issues than Firefox does with
mp3 files so I just wanted to let you
guys know that and I'm not going to be
putting this kind of scripting in all of
the rest of the the audio workshop
that's gonna be on you to do by yourself
I showed you how to do it now I'm not
going to be redundant with that
throughout all the lessons I'm going to
be programming for mp3 player and I'm
not going to be considering dot OGG
files in the rest of the tutorials we
brought this up early on in the workshop
so you guys can address it yourselves
it'll be very redundant if I put this in
every one of the audio workshop
tutorials now here in my audio project I
have in my audio folder stoker mp3 and
stoker dot OGG so just make sure that in
your audio folder you have dot-org
versions of all your mp3 files</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>