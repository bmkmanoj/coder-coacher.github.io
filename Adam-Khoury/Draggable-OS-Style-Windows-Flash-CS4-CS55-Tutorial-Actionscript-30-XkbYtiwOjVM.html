<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Draggable OS Style Windows: Flash CS4 CS5.5 Tutorial Actionscript 3.0 | Coder Coacher - Coaching Coders</title><meta content="Draggable OS Style Windows: Flash CS4 CS5.5 Tutorial Actionscript 3.0 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Draggable OS Style Windows: Flash CS4 CS5.5 Tutorial Actionscript 3.0</b></h2><h5 class="post__date">2009-07-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XkbYtiwOjVM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay here's what you'll be learning to
create with this free lesson and source
file and I take you from start to finish
in making your own draggable windows
what's cool about these is the person
the user cannot drag the window so it's
like an operating system window or a
program window to where they can access
things inside of the window and they
work but the only thing draggable is the
drag bar that we designate on top and
that text that we put doesn't effect the
drag cuz we put a little code in there
to stop that from affecting the drag and
everything is cool you can click and go
on the line it's great okay so you can
get the free source file and all the
know-how from this video but the free
source files that develop PHP in the
flash tab enjoy okay the first thing we
want to do is create new ActionScript 3
file I'm gonna set our stage properties
to maybe about 700 and 500 so ok let's
move this up a bit
okay now let's go into fireworks or
whatever graphics program you're working
in and I have a little couple of little
shapes here and I'm going to combine you
just group those together ctrl G now I'm
gonna have the texture on this that
image behind there I'm gonna use this
image back there just to build it better
illustrate what we're doing here
so let's first let's bring in that image
so in fireworks just highlight that
press ctrl C and then flash ctrl V you
can just paste it right in as movie clip
current frame okay now let's get it
right in the middle somewhere in there
that looks good
okay now let's give that an instance
name let's bring up the properties menu
here a panel and let's give it an
instance name of rect stands for a
rectangle and that's what we'll refer to
it in the code as so we can connect to
it now we're gonna grab that bar that we
made here then we can manipulate it you
can also make this thing in flash but I
figured since I was in fireworks making
my hoja called getting this image I
would make my bar there too so let's go
ahead and get the Alpha down on that
that looks great
sixty-eight percent now what I'm going
to do is give that one an instance name
of drag bar this is going to be the item
that the user's mouse would grab to drag
we don't want them to drag the window we
want to give it like a Windows operating
system some kind of operating system or
Windows program functionality to where
when they dragged this thing it only
drags by the top bar the drag bar that
we just designated there
okay so now that we've designated the
item to be our drag bar we gave it an
instance name of drag bar and all we
need is a window now so we can take a
rectangle just gonna do this quick and
say it was like that and it's given an
edge gray a little bit darker and white
fill let's bring the fill down on that
white just go the Alpha down and the
white just a little bit right there
looks like the positioning is good
alright so now you can take both of
those items by holding select you can
grab both of them as you select you hold
down the shift key and right click both
of them convert to symbol let's call
that window one that's the instance name
we're going to give it to
the library it's named window one and
now here it's gonna be named instance
named window one all right so now we
have window one movie clip wrecked
behind it and that's gonna be like our
drag boundaries and if you wanted you
can put this alpha all the way down on
that just make a simple movie clip and
that way your boundaries wouldn't show
but you would have boundaries you get it
okay so we have our window one we have
our rect this is our boundaries this is
our draggable item now this whole window
but the only thing that is going to be
dragging abled is this bar here let's
make this 347 there we go
only this drag bar here that's why we
made it a movie clip first and instance
name the drag bar and that's inside of
window 1 ok so now we can put in the
code and lottie dottie have a good time
let's move this thing up a little let's
make a new layer let's call it a s3 for
ActionScript 3 this works in cs3 or cs4
let's go call this one elements you can
layer your stuff out however you need
put multiple windows and such whatever
ok so let's go up to our ActionScript 3
layer
highlight that keyframe press f9 to open
our actions panel where we type in our
code and everything has an instance name
now I'm gonna pop in a few lines here
and I'm going to explain them then we'll
scratch code the rest by hand now what
we have here is we're claiming variables
and these are all number variables lines
1 through 6 here they're all number
variables we want to attain some numbers
so what we do is first one we're
retaining is the image width and that's
window one you see how we get window
ones width property
and value and we place that into a
variable called image width same thing
with image height so this window right
here the height and the width no matter
what it is is getting evaluated in the
code here when these two lines run and
it's getting they're getting placed
those values of width a window width in
the window height are getting placed
into these variables here that way we
can use them and do some math okay so
the next set of variables the rect width
and the rect height is just what it
sounds like
so rectangle this big guy in the back
it's set rectangles width and height
values are going to be packed into these
little variables now the next two lines
five and six are the rekts X&amp;amp;Y
positioning where it actually is
residing on stage which you can make
movie clips dynamically and make them
reside any way you want to be using
dynamics but I just thought it'd be
easier for this method and quicker to
show you guys how to make the manual
bounds drag bounds okay so now we have
the rekts y position and the rectangles
x position so we know exactly where it's
sitting and that would be x and y let's
make these even numbers 10 and 11 let's
just put it at 10 and 10 okay so it's
sitting at X of 10 and the Y position of
10 as well all right now the next two
lines are we do some math to correctly
make the the bounds because we can't
just make this the bounds without
recognizing the size of this object and
doing the math accordingly to make
everything stick to its boundaries and
not drag over where we want it to be
able to drag if that makes sense so what
we do is we get two more variables and
in these variables we are gathering the
we're doing subtraction of the
rectangles with this width right here
and this width right here we're
subtracting this little one from this
big one you see minus the little image
with then rexhype minus the little image
right and that's going the vertical
direction now so you see what that does
it gives you proper bounds
okay now let's code the rest of this bad
boy out
we're going to apply the variable
numbers with the math that we attained
or with the values we attained to the
rectangle reason why we wanted all of
those values so now we can easily apply
it to the the drag arguments when we
write out the drag function we'll put in
a couple of arguments and one of them
will be these boundaries and I'll show
you that let's go type in bar let's call
this bounds rect
and let's give this it's object as
rectangle equals new rectangle I can
spell it put a space there
now here we're gonna put the boundaries
you see how this if you have the code
hints come up which it tells you X
numbers the Y the width the height say
what I say okay so let's close those
parentheses put in the semicolon now the
first thing we want what is the X so
let's get the rect x and the rect Y is
going to be the next value and the bound
the bound width and the bound height is
gonna be have to go here and that's it
now it has all four boundary values that
it needs in this variable called bounce
rect and then we're going to use that in
the arguments of the start drag function
so now let's make the drag event
listener so let's say window one because
that's the item that we want to access
inside of so we have movie clip go
window once it now now we want to access
the drag bar and this is how we get this
functionality is not letting them drag
window because if we let them drag
window that means if they grab here for
instance and they drag or say they want
to click a button it's not gonna work do
you have links in there buttons
any kind of interactivity going on in
the window it won't work so you have to
make it to where they can just drag the
top you see what I'm saying okay so we
say window 1 dot drag bar and I we just
used the dot to go inside you see this
drag bar so that's what that dots doing
window 1 dot drag bar now we're
referring inside of the movie clip and
communicating to drag bar and we're
going to add an event listener
and this is going to be Mouse event of
mouse down so when they put their mouse
when they click not when they click but
when they what's the word I'm looking
for
you know when they hold down their mouse
to drag something their left mouse key
what button sorry I can't talk to turn
retarded let's call this function drag
window one drag window one let's make
that W uppercase there we go now let's
type out that function function drag
window one
loyd open curly brace close curly brace
and there's a nice little function nest
here we have to put our mouse event you
say event is code in math event
all right now we have a nice function
nest and inside of this we just want to
claim the start drag on window 1 so
let's type in window 1 dot start drag
and this is what you use when you want
to drag things and the arguments here is
false and bounds rect and here we add
those boundaries there are your goal
bounds right close that off and close
that off actually we already closed it
up ok so now we have our dragging
function let's see what happens if we
press control enter that's nice you see
how that opaque is really nice that
opaque effect on your graphics but you
see it won't let go because we haven't
coated that in yet okay there's just a
couple lines left and then you're done
so what we'll do is have the we need
event listeners for when they let go of
the mouse we want then they stop the
drag function to stop so we use the stop
drag function and we also want it to
stop dragging when they move their mouse
outside of the bar the drag bar so say
they dragged it all the way down to the
bottom and their mouse goes into the
window it's gonna stop dragging
altogether they would have to drag the
grab the bar again okay so let's put in
those last few lines here this is gonna
be a window one let's grab that instance
name put event listeners on it that add
event listener and this one is going to
be let's just grab all of this and let's
modify it a bit
this is Mouse event and this one is
going to be Mouse let's say Mouse up and
we'll also do a mouse out let's call
this drop drop window one make sense
duplicate that line and very simply just
turn turn up into out there now you have
Mouse up and mouse out being listened to
on the drag bar now all we need is a
little function of drop window and this
is simple drop window let's get this
right here cuz it's also a mouse event
we can just borrow that instead of
typing it all out again close that nest
off and this one is going to be stopped
drag
that's t.o.p and you don't put any
arguments in there
alrighty see window one we have to claim
drag bar there as the eventlistener or
the item that we want dis eventlistener
on is the drag bar inside of the window
so that should do it
let's press control enter now when we
drag and we let go it's perfect go down
to the bottom we our mouse goes off of
the drag bar Mouse out of the drag bar
it also stops the drag which is the
exact functionality you want and the
balance work just nice beautiful so it's
kind of like Windows program
functionality and the little programs
and you can take whatever you like let's
see let's put some items inside well
I'll just put a couple of things inside
on my own and then I'll show you it
works ok I put some stuff inside of the
window double click and go inside here's
our drag bar you can see I put text on
top of the drag bar and ordinarily if
you were to do that it would disable the
drag on that area so you can make a
dynamic text and give it the property of
mouse enabled false that way when they
drag that they can still drag the whole
bar and the text there won't affect and
if there's there might be a way to do
that with the static text but I usually
do it with dynamic text because I'm
dynamically rendering what that is
saying but anyhow here's a regular
button there's a little picture a drop
shadow on it and here's a link so those
are examples of things that you can
place in there and it works really nice
because there's no
there's no way they can drag the window
but they can use the items inside the
window they drag the top bar just like a
Windows window or an operating system
window</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>