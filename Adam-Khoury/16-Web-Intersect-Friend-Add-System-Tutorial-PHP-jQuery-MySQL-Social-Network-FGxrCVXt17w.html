<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>1/6 - Web Intersect Friend Add System Tutorial PHP jQuery MySQL Social Network | Coder Coacher - Coaching Coders</title><meta content="1/6 - Web Intersect Friend Add System Tutorial PHP jQuery MySQL Social Network - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>1/6 - Web Intersect Friend Add System Tutorial PHP jQuery MySQL Social Network</b></h2><h5 class="post__date">2010-09-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FGxrCVXt17w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello again everybody
before we begin programming our friends
application into our member profiles I'm
going to quickly discuss the small
cosmetic changes I made to the profiles
to tidy things up a little bit and just
to make it look a little more
professional so if we go into the
profile dot PHP page from version 1.3 1
you'll notice that I changed some things
in the code you'll see now that there's
a style tag that holds some CSS
now with these two CSS class definitions
we have info header and info body that's
where you see these green blocks and the
white blocks so if we look at the
profile you'll see that here and here
and here and I also made it to where if
they don't have a and about Me section
this code and this whole white block
won't show up it'll just be the green
block that says Adams information under
my photo but since I have a little about
me information there the white block
shows up with the about me information
in it so it's a little bit smarter way
to program that and see I put a few more
mechanisms in to display content or not
remember we've been checking to see if
they have a picture or not so if they
have a picture we display it if not we
show our default picture I use the same
logic to display their YouTube channel
link or not same logic to display the
website URL or not so if the website has
no data if they didn't put any data in
for their website it won't show in the
information block and here's the
mechanism to display about me text or
not you can see how it's wrapped in that
info body class and that's that CSS I
was talking about info body that makes
it have a white block around it so when
it does show up it has the white block
around it that's how that works now the
only other difference between yours and
mine now is the way the name is over
here and not on top of the picture
anymore the size of the picture I
changed that a little bit and these are
all simple cosmetic tweaks and here the
last adjustment I made was I put a green
box
of green dip around the little forum so
if we go into the code we'll see the
platform now has a div style with colour
background green so now we're at the
same exact point and we're going to
start programming in this friend system
now we're going to cover a lot of ground
and we're going to be assuming the
people who are listening to this video
have been listening to all the videos
from the beginning for the web intersect
system now I decided to make the friends
application first rather than the
profile commenting application because I
decided to make it kind of a mixture
between Twitter and Facebook to where
this will operate kind of like the wall
if I'm a member and I'm logged in I come
to your profile I can write on your wall
and we're going to have member profile
pictures here next to whoever wrote that
little blab will have it still go to the
home page and everything like it does
now so I decided we're going to do the
friends application first that way once
we get to that point where we want to
allow people to comment directly on
another person's profile then we'll make
sure we get the Brin system in first
because that's probably one of the most
important parts of having a social
network nowadays is linking people
together to where they can interact with
each other okay no more talk now we
program first thing we're going to do is
go into the profile dot PHP page and
we're going to initialize a new variable
up top with all the others here right
under blabber display list let's just
put a line break and put interaction box
just like I spelled it there make it
empty now what we're going to do is echo
out this interaction box variable down
here in the profile we want it to show
up right here under the user's name so
if we're looking at the profile here we
want it to be under the user's name and
above the blab box so let's go here make
sure we highlight that block so we know
where we are okay right there let's put
two line breaks
to break tags then let's go to top PHP
if you're a Dream Weaver it makes it
nice and easy just click echo then you
put in your variable we want the
interaction box to echo out right there
then we want two more line breaks after
that let's get rid of that one there so
there's two line breaks surrounding it
above it and below it the interaction
box so that way when it does show up
there it'll be it won't be scrunched up
against other content I'm gonna get rid
of these quotes because we don't really
need them on those variables there we're
echoing out the person last name and I
can stay like that and these include
once I'm just going to wrap those in
quotes because that's how people used to
seeing that or parentheses rather okay
so now the last thing we need is to make
the logic to make this interaction box
display the correct data depending on
whether there's going to be three
variations to that how it displays say
if I'm logged in and I'm looking at my
own profile we needed to render one set
of data if I am logged in and I'm
looking at another members profile I
needed to show interaction links to
where I can interact with that member if
I am a visitor that's not logged in at
all I'm just some random person who's
not a member not logged in and I wanted
to see links to say sign up or login to
interact with Adam Cory or whatever so
there's going to be those three
differences and we're going to look at
the logic for that right now so we'll
put it into a profile dot PHP somewhere
near the top here let's say mmm
let's put it at the bottom actually the
very last let's put another PHP block
and I'm gonna add some code okay now I'm
going to explain this code real well for
you actually I don't need that PHP
blocks it had one already so here's the
code that I just popped into place and
it's right above the doctype you see
that now if there happens to be an if
condition in here that we're already
doing above it maybe here we will
combine the two later on but it really
won't be important right now just for
testing because this will work all by
itself standalone and I'm gonna explain
it to you right now what it all does now
I've commented it out really well but
I'll still explain it anyway but once
you download the source code you'll see
that there are code comments in there
that will help guide you through what
the code is doing when you want to
change things okay so the first thing it
says is evaluate what contents a place
in the member interaction box so that's
what this code does these are if and
else condition statements to evaluate
what data to display according to who is
looking at the current profile so the
first condition is if this set the
session ID variable and the session ID
is not equal to this members ID that the
profile is showing data of we render out
the added friend link because it would
be this scenario say I'm here and I go
home and I look at Luigi right there
under Luigi's name we want to show add
as friend so that's what that one does
the next if condition if this one
doesn't match this code will run here
it'll check to see if is set such an ID
variable and the session ID variable is
equal to this member profile who were
showing data
that means the person who's logged in
matches the person's profile that's
being viewed in that case we show that
person other members will see links to
interact with you here because that is
the profile owner who is logged in
looking at their own profile else we can
just throw an else in there we don't
have to put a condition for it we're
going to show sign up or login to
interact with whoever's name that
profile happens to belong to so you give
a link to the register form and a link
to the login page now let's put this
online and show you what it looks like
profile dot PHP
control s I saved it we've got
everything in place
I'm at going out interaction box where I
need to okay let's try it I'm going to
FTP it up and give it a test okay now
here I am still on Luigi's profile now
if i refresh i just ftp the new version
of the profile page up now if i refresh
i should see a button here that says add
his friend and there it is because I'm
logged in looking at another person's
profile now let me go to my profile and
see what it says see other members will
see links to interact with you here
because I am logged in and viewing my
own profile so that's what I've been
supposed to be showed now if I wasn't
logged in it would say sign up or login
to interact with Adam Cory that's what
it would say right there to somebody who
is just a random person viewing your
website your members and they're not
logged in as a member so there you can
see those are the three conditions set
out by this code that we just placed in
here just a few lines and actually that
little bit of logic will help you with a
lot of other things that you want to
program into your profiles okay this is
where the jQuery is going to come in
what we're going to happen is when we
click the add is friend button we want
to make sure that a little magic window
pops up
right here that will make space for
itself using jQuery we'll slide this
whole thing down and you can have a
question in there saying are you sure
you'd like to add Shawn as your friend
something to that effect with a little
yes or no link there
now when that yes or no link is clicked
or we can have a cancel button too
that'll close the little window up okay
what we're going to do is add some CSS
to make sure that when we add more links
here more interaction links that each
one looks like a button and we might use
the same kind of styling as in the
header buttons there I'm not sure but if
we were to put another link next to this
one right now it would be in that same
gray box with that link but we want them
all to be different so we're going to
put a little bit CSS in the way it
Styles up each link to be its own little
button so we'll go into the code profile
dot PHP where the CSS is we're going to
add it right here under that info body
class this is the interaction links
class I'm going to show you how I'm
going to utilize that in one second and
you can check out all of the style
definitions set up inside of it one is
for the link the a tag and one is for
the a tag hover State when the mouse
hovers over it it gets this styling and
the mouse is not on it it has this
default styling all right now when
people are logged in they're logged in
remember viewing another members profile
that's this section here we're going to
remove that add friend link and we're
going to replace it with these two links
now I have two anchor tags and each one
has a location set of pound sign and
what that does use that with on click
equals return false what that does is
when somebody clicks that button it'll
make it fire up the JavaScript function
that you want onmousedown so you can see
here our mouse down I'm using a
JavaScript function or I'm firing off
executing a JavaScript function called
toggle interact containers which I'm
going to lay that JavaScript function
into the page in just a second so when
this gets clicked this won't the pound
sign won't show in the URL address and
it won't move the page at all because
we're assigning on click on the click
event return false onmouseover f IRA's
off the javascript function that we want
to happen when that button is clicked so
we won't don't want navigation to happen
but we do want that button to control a
javascript function that's going to
slide this add friend element down into
view and we also were throwing in the
message button now early even though we
don't have a private messaging system
built into this web intersect yet when
we're throwing that button and ready
just to get ready okay now we're going
to go down into the HTML and add two
divs let's put him right there all right
let's check these out now you see I just
put it in two div container x' and one
is ID of AD friend the other has an ID
of private message you can see they both
have a class of interact containers so
to make sure those two containers are
not visible by default we go into the
design view we'll see those containers
here but we want to add some CSS to make
sure they do not get displayed by
default they're hidden when the
viewer comes to the page so let's add
that CSS so you can see I have
display:none that will make it not show
when the user comes to the page and only
when they click those little links will
the containers show and we're using
jQuery to accomplish that and now we
have some styling also for those
containers give them a little padding
border and background color so the last
thing we need to wrap this all up making
those containers come up and down is a
JavaScript function that's going to be
used from toggling the interaction
containers and we can put that right
under the CSS or you can put it on top
of all your CSS above your style tag I'm
going to put it under my style tag just
for now and you can see there is toggle
interact containers function right there
and here remember in those two links for
add friend and private message which
toggle interact containers function is
executed with these IDs targeted for
those containers so we're targeting that
container add friend container remember
I added these two containers down here
there's add friend container this one
has an idea of private message
we're toggling those and those since
they have the interact containers class
both of them have the interact
containers class they are hidden by
default with this line of CSS and only
gets shown when the person clicks one of
these two links
that's how jQuery toggling works and we
were not to the point to where we're
going to discuss the Ajax functionality
just yet that will probably be in the
next part where we'll communicate with
the server since we have these links is
make sure this class gets put on this
container here so we can just remove all
of this style stuff
let's put div class equals and Direction
links div and that should do it
all of the links inside of that both of
these links will be their own little
buttons now okie dokie now we're going
to test it out
okay FTP the new version of the file and
it looks great got a nice bright green
rollover effect on each of those links
and if I click to add his friend it
shows me that hidden container and in
that hidden container we're gonna put
maybe a question to say are you sure you
want to add Shawn his friend yes a
little link for yes and no and maybe
they cancel button so they can close
this window back up if they hit this
Adams friend button again you see it
makes that window disappear it hides it
and say I have add his friend open and I
hit message it takes over that space the
private message container and they just
go like that so it's pretty slick
functionality all right now let me
explain this function really quick just
in case you guys aren't real familiar
with how jQuery works when the item is
hidden well basically let's look at the
link first in the link we're toggling
we're using a function called toggle
interact containers so each time this
link for add brand is pressed it's going
to either raise or lower that or show
that window it's going to toggle it
basically and this one uses the same
function and since we're sending one
argument through the function of the ID
for the element that we want to toggle
being tibs in this case then that gets
sent as this little X so what happens is
when when that gets pressed this little
X hat it holds the value of that I that
container whether it be the add his
friend container or the private message
this little X holds that value so we're
asking here if we're evaluating if the
container which could be the private
message container or the added friend
container is hidden then we're going to
slide it down slide it down shows it it
brings it in to view else if it's not
hidden
then we hide it that means it's showing
so if we want the toggle effect to
happen we have to either show or hide
depending on whether the window itself
is showing at the time when the button
is pressed or not okay and at the bottom
we have to hide all interaction
containers at the very last line inside
of the function I had to throw that in
there to get them to cooperate correctly
and that's how that works
so we'll seal this one up right here and
we'll continue in in part two where
we're going to actually get into the
jQuery AJAX functionality where when
they tried to request a friend we're
going to talk to the server the database
gonna get checked out all that good
stuff everybody's friends list is gonna
get checked and things like that
okay so stay tuned for part 3 of
creating your own custom print system
for your social networks custom
communities yep going</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>