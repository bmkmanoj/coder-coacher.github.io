<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Flash tutorial make multiple turrets or eyes rotate towards mouse or objects | Coder Coacher - Coaching Coders</title><meta content="Flash tutorial make multiple turrets or eyes rotate towards mouse or objects - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Flash tutorial make multiple turrets or eyes rotate towards mouse or objects</b></h2><h5 class="post__date">2011-11-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HaVoKZ6mRLM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">today we're gonna be doing a flash
tutorial show you how to do this I call
it all eyes on me function and it'll
show you how to use ActionScript 3 to
make all eyes on the screen follow the
the mouse and it's not a whole bunch of
lines to rotate each eye what we're
doing is setting up an array you see
this IRA there's all six eyes their name
their instance name is in that array and
then I can for loop over those eyes when
I need to because they're in an array
for loop iterates over arrays so I can
access each eye in the eye array and
that's how it works now I'm gonna
explain this code just a little bit
better to you because some of you guys
might not know what the mask that at
tantu does or math dot pi rotation is
pretty obvious that rotates an object
but you have to get the correct degrees
to rotate that object before you can set
the rotation property to some value and
that's where math data tan and math dot
pi come in to first get the radiance
then the degrees all right so let's
break this down
alright let's see let's get it lined by
limes as you can see it very visually
separated there okay there you go
now as I stated before we have an array
object here it's got a variable name of
I array and you can pack fifty or a
thousand or a hundred eyes whatever you
want in there or just two if you're just
gonna have one set of eyes oh and before
I go any further with the code
explanation I want to show you in here
you can go into your eyes and you can
see what I did is just three spheres one
on top of the other and you have to make
sure you set your eye towards the right
and when I made my little movie clips
all I did was make sure it had a center
registration you know when you have a
circle on stage you right-click it you
convert it to symbol and then you have
the ability to set registration all of
mine have a center registration so
that's all you need to know about these
movie clips is that inside of them
there's just three Spears or three
circles regular drawing objects inside
of them and when I created them but
really I just made one master eye and
just copied it six times there but when
I created them I made sure they had that
Center registration it's very important
okay now what I wanted to show you is
you can go in there and you can have
these positioned anywhere you want that
way maybe it's not such a dramatic
effect of how the eyes revolves around
and follows the object so let me show
you what I mean so you can see now it's
more like an eye to where it's looking
in a certain direction and not so much
of rotating factor so if I move these
way out you can see it would be more
like a turret where it's going to point
and shoot at something you see so the
way you adjust your little circles in
there really has a big effect or has an
impact on the way those things appear to
revolve and rotate okay now back to the
code it's like I said all your eyes you
pop into your IRA then we add an event
listener to this stage and that event
that we're listening for is the
mousemove event
so whenever the mouse is moving this
function is gonna fire off called all
eyes on me because we have an event
listener on the stage for a mouse move
so any time the mouse moves from one
pixel position to another this function
is gonna execute so function all eyes on
me is set up right here you can see
within that is my little for loop and
like I stated before the for loop is set
up to iterate over an array and within
the parentheses for this for loop you
can see we're establishing a little
string variable called I for each I
instance of I that is in this eye array
so as it comes and passes through this
loop I 1 and I 2 and I 3
it's gonna have a temporary string
variable name of I that we can use to
access the arrays object indexes
actually this should say a because
that's not X
that should say B and down here this
should say a and this should say this is
just basic math now these are the only
two tricky lines really the one with the
math dot n and the math dot pi so I'm
gonna skip over those two I'm going to
explain those very last and then this
one this very last line is the one that
sets the like I said before if it's I 1
passing through the loop that's going to
be represented here I 1 rotation is
going to be equal to the degrees that we
use these math calculations to acquire
ok let's take a look at this first line
that might be tricky to some newcomers
this one is a variable that we're naming
radians and this is also a number but
actually you don't even have to specify
the variable type little typecast for
you automatically
that's gonna be a number this variable
radians is equal to mass dot tan so
you're using the math dot itan method
and you're supplying it to number
variables those number of variables that
we got right here see you're supplying
math dot attend method with two number
variables moused if a and mouse diff be
now let's take a look at what mouse that
a tan is so you guys understand fully
what's going on here I'm gonna go into
my help file in flash and you might be
ushered you might be ushered to the
online version of the help file but
that's why I was using flash cs3 because
it has the help file in the program so I
can just go into the help file and I
could type in math dot a ten to let me
just look up at an to see if that gets
me anything there we go and actually we
can just click on the math class so you
can see down through here one of the
methods for the math class is a tan two
and let's read what it says it computes
and you can see we're feeding at the
required Y number and the X number in
our code so let's read what it says it
computes and returns the angle of the
point y by x in ray
when measured counterclockwise from a
circles x-axis where the zero zero
position represents the center of the
circle so to put that in terms that more
people can understand math that at an -
is for finding the angle of rotation
that's as easy as I can explain it okay
so that shows you what math data tan is
all about to get the radians the angle
of rotation now the next line we have a
variable that we're assigning a name of
degrees and the equation that's
happening here is here's a radians value
that we got from using math out of ten
divided by this expression here on the
right and this expression reads math dot
pi divided by a hundred and eighty so
radians divided by the outcome of this
expression
alright so that's basic math you're just
dividing radians divided by the outcome
of this expression and then inside of
this expression you can see it's math
dot pi divided by 180 so all you need to
know is what the hell is math dot pi
doing okay so let's go and check that
out too so let's go into the help file
again flashhelp and you can see here
there's math dot pi you can see clearly
states that math dot pi represents
approximately 3.14 so you all know the
value that PI represents so when you see
that in ActionScript then you know math
dot PI that's representing approximately
3.14 blahblahblah it's a number divided
by 180 so now you see this exact
equation it's the radians that we got
from using math attend divided by the
outcome of 3.14 divided by 180 that's it
so that's how you get you the grease and
then you rotate each eye within this
loop which is the happening every time
the mouse moves you're going to move
each eye each eye rotates to the proper
degrees that it needs to according to
where it is and where the mouse is all
right let me wrap this back up
that's only 12 lean little lines of code
that buddy it's very lean work very
efficient too because this will power 50
eyeballs if you want but like I said if
these things are turrets you can have a
lot of turrets on the screen and use
just that little bit of code to manage
rotating all of them towards an enemy or
whatever you got going on say you want
to find a look so that's the all eyes on
me function and we'll have this source
file along with this script at the page
a develop PHP where all the other crap
is okay bye-bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>