<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SQL Syntax Select Most Common Record Occurrence List | Coder Coacher - Coaching Coders</title><meta content="SQL Syntax Select Most Common Record Occurrence List - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>SQL Syntax Select Most Common Record Occurrence List</b></h2><h5 class="post__date">2015-01-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Nl1QNFyaCO8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello ladies and gentlemen in this
exercise you can learn a very useful
intermediate database query now a
real-world usage scenario for the query
that you are about to learn is on
display at the web intersect homepage
where we are rendering the country stats
so one single query is able to access
the most common occurrences of the user
countries
count them and order them into a nice
list so that other viewers can see what
the most popular countries are there and
here's the standalone results from that
query that you're about to learn I just
wanted to show that because sometimes a
lot of people say hey where would I use
this in the real world so now you know
now before I show you the actual script
I want to show you the syntax logic just
the SQL syntax logic alone because
that's what this lesson is focusing on
and not so much the scripting around it
we're focusing on this SQL syntax so
let's break down the logic so what we're
doing is selecting the country column
and we're establishing an alias using
the as syntax what you're doing is
you're counting the country column and
you're making an alias of that with the
name of amount that way you can render
that in your result set you just want to
be able to render the count of the
country column so we just set up an
alias so in our result set there'll be
two items that we can loop over in the
array country and then the country count
and we're selecting from the Nerds table
so this is your table name goes right
there then we're using group by in order
to group the country column that way we
don't have many selections we only get
one selection for each country which is
similar to distinct syntax and then
order by just makes it order by whatever
column that you want in this case we're
going to order by the alias amount for
the country count and then we specify
descending to make it to where the
highest most popular most common
occurence country is on top and then we
limit the result set to 12 so there's
only going to be 12 items in the result
set
gives you this result okay I'll change
this from nerds to a table name that way
it makes more sense
okay now I'll get rid of that and then
let's open up the script so you can take
a look at it real quick so this is the
actual script that's rendering this list
this script accomplishes that what we're
doing is simply connecting to a MySQL
database using MySQL I then we're just
making sure that we have a good
connection and if we don't we're going
to render out the MySQL connection error
message then we initialize two variables
one is the list we just make that empty
at first and then the number variable
which is zero by default then here's our
SQL syntax which we just explain to you
fully then we run MySQL I query on that
SQL syntax and we can also optionally
put or Die with MySQL I error function
which will tell you if you have the name
of anything in your syntax wrong or if
anything at all is wrong in your SQL
syntax here it's going to let you know
here when the die function runs if it
catches some ever then we just while
loop over that result set the array that
is the result set and here is where we
build the list then we close database
connection and we echo the list to the
page and it's that simple
now if you happen to have any questions
or concerns you can use the comments
section below the video because I read
the comments and if there's an advanced
query that you want to see demonstrated
just let us know</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>