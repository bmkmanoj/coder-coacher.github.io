<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Pagination Tutorial for PHP MySQL Programmers - Web Intersect Paging Database Results | Coder Coacher - Coaching Coders</title><meta content="Pagination Tutorial for PHP MySQL Programmers - Web Intersect Paging Database Results - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Pagination Tutorial for PHP MySQL Programmers - Web Intersect Paging Database Results</b></h2><h5 class="post__date">2010-08-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/K8xYGnEOXYc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">here's the finished product of which
we'll be learning how to create in this
following tutorial custom pagination
from scratch in PHP and MySQL using a
little CSS for the buttons and we have
back and next buttons we're using URL
variables and the video got a little bit
long this this is a long video I'm sorry
for that but it's it's really no way I
could have made it any shorter I had to
say everything I was explaining you know
everything I said had to be explained
for beginners if you're a whizz already
just grab the scripts that are free a
web intersect and just check out my the
comments I have in the source code
you're done but if you're a beginner you
might want to listen to the video
because the video is really chock-full
of all kind of explanation the full
logic of pagination if you really want
to grasp it we're going to implement it
directly into web intersect here since
we have a simple page that throws out
all of the members from our database for
display and you can see I have like 300
on the page here and that's not
manageable that's not really smart to
have that many items come out of your
database on to one page and if you don't
know what pagination is you can go to
Yahoo type in anything like the word
test you can see that there's results
here on the bottom they give you
previous and next buttons and all that
stuff if you go to Google same thing
let's type in tests see how Google
paginates
and you'll notice I do it at develop PHP
calm on the members page if you're a
developer HP calm you click members
you'll see I have a little bit of a
different method from Yahoo or Google
what I do is I show how many pages there
are there's one thousand one hundred and
twenty one pages with ten results on
each page so there's times ten this
would be eleven thousand things in my
database in this case members now I'm on
page one
so say if I wanted to go to page 800
really fast you can't do this in the
Google or Yahoo pagination you know how
long it take you to get to page 800 a
ridiculously long amount of time okay
I'm going to work in Dreamweaver cs4 I'm
going to open up from the web intersect
version 1.3 1 file package I'm going to
open up the members search page and
that's where we're going to implement
this so if we go into design view what
I'm going to do is remove this table
right here temporarily so we're going to
remove the feature of being able to
browse by certain types of members for
now we're going to add the pagination
we'll put this back in later now when i
refresh we should see that table is gone
and we just see the 300 some members
that are all coming out of there without
pagination on them yet yep okie dokie
now we're ready to throw in the
programming in the code view we're going
to go in and right here where we have
this MySQL query which you've probably
seen a thousand times right here we have
this pagination set up that's where
we're going to place everything right
there where that pagination setup line
is so we have our MySQL query then we
have our while loop that is fueled by
this MySQL query within this while loop
is when all of our members can or items
that we're querying out of our database
come on to the page in my case is 300
it's too much I got to put in pagination
so I'm going to show you is how to go
right here in between the query and the
while loop and add your pagination
programming so it's real important to
keep in mind that no matter what you're
building whether you're building a
social network or just a regular website
that shows videos or whatever anywhere
in between your minus QL query and your
while loop that renders out the result
set from that query you can put
pagination right in between that and for
those of you guys who aren't following
the web intersex series you don't feel
like downloading the web intersect
source files to get to see this file
that I'm working on here I'm going to
make just a generic example that's not
tied to the web intersex series showing
this exact pagination technique and I'll
have it at develop PHP com probably in
text tutorial form
okay let's program this in first thing
we're going to need is the container
where the pagination is going to display
I'm going to put it right here in design
view pop it in and I have it pre-made
but I'm going to show you everything
it's made up of let's highlight that
object that I just placed in which is a
div you'll see their Styles set on a
margin left 58 pixels margin right 58
pixels that's what holds it off the edge
there when I highlight it you'll see
that margin there and their padding is
set to six pixels you can also see that
inside you see the padding there with
the slanted lines those really tight
slanted lines in there that's the
padding the background color is white
and the borders gray and inside I'm
echoing out pagination display and even
if I want to put that in the bottom two
I can do that yahoo and google put their
pagination display at the bottom I'm
going to put mine at the bottom and the
top so it's more people can access it
better see that's 70% let's make that
bigger okay 80% that's good
now we're ready to put in the code in
between our MySQL query and our while
loop that's going to allow us to have
this pagination all set up nice and
ready to go and you can apply it to all
your projects just the same no matter
what you're building all right go to
line sixty here and there you see it's
like six lines but they're compressed so
if I open these up you'll see what the
coding is happening inside of them but
I'm not going to open up just yet but
I'm going to explain every single line
the code is well commented out and it's
pretty easy to understand so if you need
pagination this is probably a nice
simple basic script that you can
understand and manipulate from its base
functionality but as it is it's a pretty
powerful thing so let's check out the
first thing is the pagination logic
which is very important the first thing
inside of the pagination logic you get
the total roles from the result set so
if there's 300 things in your database
that's going to be a 300 this NR is
going to have a value of 300 so we say
if it's set the get variable of PN
because that's how we're going to have
this pagination set up use URL variables
to establish and record which page we're
on which page we're going to and all
that good stuff okay so we say if is set
they get the URL variable of PN which is
page number if it's set then we place
that whatever value is maybe the user is
on page seven maybe they're on page
eight you put that value into this
variable called PN which is page number
so that represents page number and what
we're doing here is I was using a
deprecated function called a reg replace
which I wanted to find a an alternative
that would give me the ability to filter
everything but numbers for security so
if I have something where I'm only
expecting numbers that's all I want to
get if anybody is going to put in a
single quote or a double quote or a
strange character I
all of that removed so what I attempted
to do here was make a replacement for a
regular place which is a deprecated
function in PHP they recommend that we
don't use it anymore and I put a more
stable and it's supposed to be faster
running to function called preg replace
and we use regular expression to replace
in the same manner that we use with a
regular place so we're saying everything
that is not a number gets replaced by
nothing see right there I don't even
have a space or anything it just
replaces it with nothing removes it out
of that get variable so if somebody puts
in the get variable of three plus a
single quote and some strange characters
it's going to remove all that other crap
and just keep the three and process it
okay so elf else if the get variable
isn't set that means they just arrived
to the page they hadn't chose to go to
any other pages yet so we make sure
they're on page one so if there's no get
URL variable set of page number we set
the page number to be one by default now
this line is where we set how many
database items to show on each page so
I'm showing 10 items per page and most
programmers do that but you can show 12
you can show 24 you can show 300 per
page it doesn't matter but tends a good
standard now we get the value of the
last page in the pagination result set
so if your pagination is all figured up
and there's 80 pages or 87 pages of 10
items per page you want to make sure we
get the number of what's the last page
87 so this is what this line is doing
we're getting the ceiling we're using
the ceiling function to get a value of
the number rose divided by items per
page which is 10 and so there was what
300 in my database num rows the divided
by a 10 would be 30 so my last page is
30
see how that works okay now next line is
be sure the URL variables the URL
variable page number is no lower than
page one and it's no higher than the
last page so if I only have 30 pages I
don't want somebody to be able to type
in 37 into the URL variables and go to
some page 37 that doesn't exist if they
type in 37 or anything above 30 to go on
a page 30 and that's that that's how
it's programmed so if P n is less than
one forced it to be one here because you
don't want page number to be zero or
negative one so it can't be zero it has
to be one and then else if the page
number is greater than last page then we
force it to be the last pages value like
I was just discussing okay now we're
almost done with the pagination logic
then this next line creates the numbers
to click or this next little package
block here creates the numbers to click
in between the next and back buttons
okay let's expand that out all right
there it is now you have those numbers
in between you're next and back links or
the next and back buttons there's always
usually a group of numbers in between
those buttons that let you travel
amongst the pages so that's what this is
doing here
the first thing we do is we create the
variable or we initialize the variable
called Senate pages Center pages I
called it sender pages because when I
render it in to the pagination results
that's what's going to be rendering in
the little numbers that you can click
between the next and back buttons so I
named it center pages and down in the
display I'll show you where we render
that in so we're going to be pretty much
building the center pages variable all
through this logic here you can see in
each one where we're putting a value
into the center pages we're using the
dot equals operator and what that does
it compounds a variable that way it
doesn't get
written each time it keeps adding to it
so that's why you'll see a dot equal on
all those equal signs you'll see a dot
before it that signifies adding to this
Center page variable rather than
overwriting the existing data that's
already in it it's kind of like
appending alright so the first thing we
do initialize that Center pages variable
next thing we do is we get the value of
subtracting one page which is page
number minus one and we get the value of
subtracting two pages so page number
minus two so add 1 is the same thing
page number plus one
add two is page number plus two so if
they are on page 38 this would be this
value would be 40 there's if and else
evaluation statements here or
conditional statements here that let us
evaluate certain things so in this if
statement were evaluating if the page
number is equal to one page number is
equal to one we want to do certain
things like not show a back button
because they're already on the first
page what would they go back to that's
the first page so you don't want to show
a back button so you got to have logic
to separate all that out if they happen
to be in the last page you don't want to
show a next button because there's no
next page to go to so you got to have
this is the logic that sets all of that
up here and it shows this is where you
can set how many number clickable
numbers you want to show in between the
next and back buttons okay so that's
what all of this is doing so if PN is
equal to one if the page number is equal
to one we put in this for display
else if the page number is equal to the
last page which in my case would be page
30 so if they're on page 30 I want to
show them these things so they don't
have a next button to go to the next
page that's what's going to happen else
if the page number is greater than 2 and
page number is less than the last page
minus 1 then this code runs let me
repeat that else if
the page number is greater than two and
the page number is less than last page
minus one we give them this code which
lets them go either way because we're
not near the last page or the first page
and the last else if condition is else
if page number is greater than one and
page number is less than the last page
then we just show one on each side you
don't want to show like say if they're
on page 29 and there's only page 30 left
you don't want to show 29 30 and 31 like
in this condition here that would show
like say if they're on page 7 say this
would show page 7 that means this is
going to be showing page 6 this is 5
it'll be a little number next to page 7
where they can click and go to those
pages this will be showing 8 and 9 so
you'll have 5 6 7 8 9 the page their own
is always in the center of the display
that's how it all works so I can package
that up now you understand the logic
fully on that if you don't you can
listen again now the last two things in
the pagination logic are we have to set
the limit range and this is very
important this is the thing that really
what pagination is all about is using
your limit syntax in your SQL everybody
knows that you can use say you had to
select all from my table limit 10 what
that does is going to only let 10 things
come out but say you have a query that
says select all from my table limit 25
if you had 20 comma 5 that means it's
going to go to index 20 so whatever item
is at index of 20 and it's going to pick
five from that point so pick 20 21 22 23
24 all of those will come out so that's
what limit does limit allows you to pick
a range or just set a standard limit so
if you put limit five that means you're
only going to get 5 results
if you put limit 44 comma five that
means you're going to go to index of 44
and take five from that point making it
44 45 46 47 48 you'll get those five out
of the database if you use the range so
that's what we're doing here is we're
setting up the range to choose from
according to what the value of page
number is and how many items per page
which in my case is 10 so you set the
limit up to say the limit is going to be
page number minus one whatever that
value is it's always dynamic page number
minus one so if they're on page number
seven this will be a six times items per
page which is ten so that would be sixty
together that value would be 60 60 and
then it would go here and get 10 from
that point I don't know if that makes
any sense but that's exactly how it
works out I really can't explain it any
put it into any easier terms than that
the math establishes what this value is
going to be right here and you might
want to go and look up how to use the
limit function or the limit syntax in
SQL queries that way you can really
fully understand what limit does limit
let you pick how many you want to come
out if you only put one value through it
if you give it two arguments limit will
let you pick a range so that's what
we're doing here is we're picking a
range we'll go into a certain index and
we're picking a range from that index
and finally the last line of the logic
is this see if I can move this in a
little right here this SQL query which
is going to be a second query so what
you're doing is remember we put this all
this pagination logic in between the
query and the while loop remember here
we have our original query and now we
have the same query you'll see
it's the same exact thing but in it now
we added the limit which is the thing
that I just explained there took 15
minutes explaining that - yah right got
to understand what in what I'm doing
here if you don't you weren't paying
attention
so I'm putting limit into the query here
that way the pagination works on it so
really this query is just to get the
number of rows the total number of rows
that way you can set up this items last
page variables and a few other variables
that you need that's why we have to set
that first query in motion the second
query is really the one that queries the
range of what we're picking for each
page so if we're on page three this
query knows that we only want the items
that would be associated with page three
now let's package that up since you know
what all of that storing inside of the
atom's pagination logic block there I
just explained every bit of it so
there's Adams pagination logic so you
haven't really put anything in to
display yet so that's what this next
section is that's what we're going to
cover right now Adams pagination display
setup so let's expand that out and this
one's not so begging won't take so long
okay now this section determines what we
need to display depending on what page
the person's on so what kind of page a
nation results you want to display in
between your next and back buttons what
kind of numbers should be in there if
the next and the back button should even
be in the display or not that's what
this section is going so you can see we
have if and else or just if conditions
all set up through here to take care of
that logic let's explain it now first
thing is the pagination display variable
has to be initialized next thing is we
run a condition basically this condition
is wrapped up all right here this if
statement is wrapped up right here oh I
got to change with this comment says
because this is incorrect this should
say this code runs only if the last page
is not
equal to one if it is only one page of
results we require no paginated links to
display so none of this code will run
inside of this if condition if we happen
to be on page two or anything else
there's more results than just one one
page worth then this code does in fact
run and what happens here is we show the
user what page they're on and the total
number of pages so in the pagination
display variable we pack in page
whatever the number is if they're on
page seven that will say page seven in
bold right there strong that bold zit of
last page in my case was thirty so this
was a page seven of thirty or if they're
on page one it'll say page one of thirty
and then this image is just a spacer
this allows me to put a space in between
where it says page 1 of 30 and where
those little clickable links are in the
next and back button and everything
you'll see exactly what I mean when I
show you when we test this out in just a
second next thing is if we're not on
page one we can place the back button so
if we're not on page one we can place
the back button because they would have
to need a back button because that means
they're on page two or higher so if
they're on page two or higher they get
the back button that's what that code
does right there in the pagination
display we throw in a back button and
this back button is programmed with
previous math so the previous variable
is just math done on the page number so
if they're on page seven the variable to
go to page six is going to be made in
this previous variable here and it's
page number minus one you sink that
right into whatever the URL variable is
for PN and you'll notice we're using
server self this way you don't have to
change this if you want to put this
script in another page in your site
it'll still work you won't have to
change this value at all
I can stay just like it is
serve-yourself will just grab this page
that basically that says in my case
member search type PHP so everywhere you
see in here it says server PHP self
that's just grabbing the name of the
page and putting it in place there just
so it's a little more dynamic for you if
you want to take the script and put it
into other pages and you can see the
only thing you need to change is the
query and this can all be packaged up
into a class file actually if you want
to do a little work you could package
this up into a PHP class that way you
can use this pagination the same logic
same programming all over the different
pages of your site so if you put in
forums you want to use pagination you
can refer to the same class files to
render out your pagination but if you
want to just throw it in just like this
it's fine right in between your SQL
query and your while loop or you can
refer to a class file in that same
location and it works the same all right
now what's next
so here in between where you're next and
back button would be you want to have
those clickable numbers if you only
wanted the next and back button and no
clickable numbers just don't render this
out here but if you want those numbers
in between the next and back button
which most official pagination formats
have then you'll want to lay this in
here and here is that Center pages and
you can see I'm putting a class on it so
I'm using CSS on these links that are
the little clickable numbers and
everything Center pages was made up in
here in my pagination logic that I
discussed just a little while ago in the
video so you know what that variable is
putting there and you can see I'm
putting a style on it I'm going to
discuss that style in just a moment it's
CSS the last thing very last thing is we
do pretty much the reverse of this one
saying if we're not on page one we can
place the back button this is pretty
much the same thing saying if we're not
on the last page we can place the next
button it's safe to place the next
button because we're not on the last
page if we happen to be on the last page
we don't want this code to run and place
the next button
because there's no next page and that's
it let's package that back up it's very
small bit of code so you can see what I
placed in here from the beginning I
explained to every bit of it now you can
see it's in between my SQL query and my
while loop just like I said it would be
okay now the very last thing we're going
to have make sure this query is correct
so this first one is SQL that's correct
and that would be pumping out right
there so we want to overwrite this first
query with the second query so let's
just make this SQL two because that's
the one that has the limit applied okay
so right here before the head tag closes
inside the head tag basically I'm going
to put some CSS OOP there it is so the
first thing I do it in my CSS is I
established a style for the page num
I wanted mine to be green the one that's
active and in the center should be a
green block so I just give it a border
background some padding and make sure
that the number inside of the block is
black now the numbers around the two
numbers that are going to be on either
side of that active number page I want
those to be I think these are gray I
think I might have given these a gray
background and those are set to be links
you see I'm using the link classes here
for the page numbers class links so
anything that's in that page numbers
container if it happens to be a link
it'll have this style applied so I'm
pretty much doing the same thing you're
giving it a border color make sure to
text black making sure there's no
underline on the number because links
are automatically underlined make sure
there's no underline by saying
text-decoration:none same thing for the
visited and hover or visited and active
is exactly the same but hover is the
only one that's different because when
somebody's mouse goes over one of those
buttons I want the color to change so
you'll see there's a different color on
the block when they hover over it
now let's press ctrl s to save the file
okay here we are web intersect let's go
to the members page make sure we refresh
and you'll see there is the pagination
display on the top and the bottom so if
I click the two I should go to page two
which I did so it says page two of 30
and then the back button appeared let's
see if we go back to page one there's no
back button and that's what we wanted
if we click Next we go to page 2 you can
see P n up top equals two now we have
back end next now let's go to page three
now you see we have even more numbers
appear so we have a range but our number
that the page is focused on will always
be in the center so let me go to page
five and I'll show you what I mean
five is in the center and then we have
numbers around and you can add to the
logic in those if and else conditions to
place more cushion numbers to show more
numbers in between your back and next
buttons here but they can use the back
and next all day long and just go from
page to page page 10 page 12 page 14 you
can even use the URL numbers up here the
URL variables and go to say I went to
page 28 directly or if I get to page 30
there's no next button that's the logic
we wanted go to page 29 the next button
shows up again so you can see exactly
what we wanted so we now have
successfully placed pagination in it's
pretty good so just to recap whenever
you want to put pagination into any of
your scripts or you happen to have a
MySQL query where there's a lot of
results coming out of your database you
just put these little lines of code here
that you can grab out of my script it's
going to be in between where it says
Adams pagination logic and End Adams
pagination display setup all that code
right there that's what you want to put
in between or if you want to set it up
as a
laughs I'll just put it in between your
SQL query and your while loop and you'll
be good to go whether it be a class or
sunk right into your script like I have
mine here so we'll do some more updates
to web intersect and we'll get that a
better search mechanism like a develop
PHP - a little bit smarter and we'll add
something like that - where you can sort
things say if you only want to see
female members sort and it shows if you
only want to see people with a YouTube
channel sort and it just shows those
people with YouTube channel in the
pagination results so if I go to page 2
these are still people only with YouTube
channels so you can set up a sort
mechanism like this and I might apply
that to web intersect or I might not I
don't know but you can pretty much
figure it out now how to make your your
queries dynamic you know I'm saying to
make all the stuff dynamic like we just
made the limit syntax basically all we
did for the pager nation is we made the
limit syntax the SQL syntax of limit
dynamic to pick a range that we want
depending on what the URL variables are
and we used math to lay out all the
different Navigation to all these
different pages okay so I hope that
proved useful to many of you guys I know
there's not a lot of good easy tutorials
on pagination but you know what I don't
think pagination is simple pagination
just is not simple if you want to know
the guts of how pagination works you're
just going to have to wrack your brain
on it else you can go get somebody
else's class file and try to just put
the variables you need in and voila you
have it done or I have a tutorial at
develop PHP here Dreamweaver right there
where is it paging database results
here's pagination using Dreamweaver cs4
without having to know programming at
all you won't have to program the first
thing Dreamweaver will set it up all for
you all you have to know is your
database connection data so there's a
lot of different ways to do it but I
think having hands-on knowledge about
how to custom code pagination is an
essential thing for any programmer I
don't care if you're working in PHP ASP
Java Script jQuery whatever is doing
your pagination for you it all works in
the same basic logic have a good night</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>