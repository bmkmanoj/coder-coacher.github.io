<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>3. Web Intersect Forum Tutorial : Create Posts Table : Separate CSS : PHP templates | Coder Coacher - Coaching Coders</title><meta content="3. Web Intersect Forum Tutorial : Create Posts Table : Separate CSS : PHP templates - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>3. Web Intersect Forum Tutorial : Create Posts Table : Separate CSS : PHP templates</b></h2><h5 class="post__date">2011-02-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/JaUlagMqVQg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hiya doin this is adam from develop PHP
calm here once again and we're
continuing with part three of our little
lesson series on programming custom
forums into your social network or
community websites using PHP and mysql
in this part of the series we're going
to make PHP template regions and put any
CSS used in to an external CSS
stylesheet and beyond that we're going
to create the page called section PHP
which is going to be within your forum
we're going to code it to grab the URL
variable to display that particular
sections threads or all the posts that
are in that section and here we go okay
so this is what I have this is pretty
much where we left off in the last
section the only thing is that i
doctored up the way my links are output
on the forum homepage so i made each one
have a little image in front of the link
i made the text bigger and put a
horizontal rule an HR tag in between
each link and i also threw some links up
in that top div where I told you you can
put any kind of HTML data you want and I
gave it a little photo div to hold my
copyright so what I'm going to do is
take that photo div and put that into a
page template region called footer
template or template footer and I'm also
going to take this whole header and put
that into a page template region called
template header and it's going to be
within the forums directory that way
when i make section PHP and viewthread
PHP or whatever other pages we make for
the forum system we can just include the
header and the template for the files we
won't have to make changes in multiple
pages it'll just be easier for website
management down the road so here i am in
design view of index dot PHP i'm going
to go to code view i'm going to take all
this CSS styling here control x and then
i can remove that whole style tag as
well i'm going to go to file new CSS
just remove whatever they put there by
default and now any images that are
referred to in the style folder you know
make sure you remove that dot dot
forward slash that jump up one directory
you don't want that happening so if you
have any images
in there just make them refer directly
in the style sheet where the image is
now file save as make sure you save this
file into your forum style folder and
let's just name this style save and now
it's called styles.css I can close that
file and back in index dot PHP to make
sure all my styling still occurs in
index.php I just have to put the
stylesheet linkage and we'll put it
right underneath the head meta tag there
there's the stylesheet linkage is going
into the style folder picking up style
that CSS so all the style that was in
this page will still render out to this
page but using that external stylesheet
you guys know how it works so that's the
CSS now let's get the header out so
let's highlight this whole if i can get
it highlighted there we go there and up
so let's get here and everything right
where the body tag starts control x go
to PHP and hit the PHP code block tag
and right here you're going to include
include underscore once in between
parentheses semicolon so in between the
parenthesis you just type in the file
you want to include so let's call this
template header dot PHP so all we have
to do is make that file now so we'll go
to file new PHP get rid of all that and
add the code that we took out that was
the div and all of that other stuff
right there now let's go to file save
this as in the main directory of the
forum template underscore header and
it'll be a dot PHP extension already so
just press save if you look at it
there's your header and it's being
magically inserted into the index page
and into the sections page and into any
other pages that you're going to have
within this forum directory
do the same thing with the footer now
let's just grab that code right here is
the footer so let's move that down one
line put this in template footer so as
you can do is just grab that div that
would be your template footer control x
get rid of those break tags we don't
need them and go to template header into
the code view replace it with that
footer code and then just be sure to
file save as template footer before you
save that template header file so now
you see you have template footer with
the proper HTML data inside of it and
you also have the template header that
still has the proper data inside of it
that makes up the header so now you're
putting in the header and the footer
dynamically into the index page now
let's create this section dot PHP that
we're going to need to render out every
post or thread that's in that particular
section okay here I am online viewing it
live after i created the CSS stylesheet
and my template regions and everything
looks exactly the same as it did before
but now i have things region doubt and
sectioned out a little bit smarter than
it was before so now when I expand to
make new pages within my forum
everything will be easier to manage down
the line alright let's continue okay now
let's take index dot PHP now that it has
region templates and the CSS is set up
smarter in it we're going to take that
file and save it as section so it'll be
sectioned PHP we're going to change up
the PHP a little bit here so what I'm
going to do is I'm going to go through
here I'm going to remove this I'm going
to leave the include to the connection
file there but i'm going to write in
some PHP notes or PHP comments to myself
and those comments will describe what we
should be doing in this file okay so
this is what we're going to do in this
script first we connect to the database
then we're going to put in some code
right here to get the section ID from
the URL variable coming in then after we
get that we're going to query the
database for that section so that's
section ID make sure it exists and get
the section title if it doesn't exist
we're going to make sure we plan for
that so we don't want somebody putting
in some section ID that doesn't even
exist in our database because then no
data will display on the page I'll show
you how to accommodate for that and then
the last little bit is that you use the
section ID to query a forum posts table
in the database to get all the threads
for this section now forum posts is a
database table that we have not even
created yet all we've created is the
forum sections table so before we do any
scripting here let's go ahead back into
PHP myadmin and create that table and
that table is going to hold all the
various posts that people make into all
the various sections all right here i am
inside the database / web intersect i'm
going to create a new table on that
database called forum posts and i'm
going to put 12 fields into it press go
now this is the most important table of
the system because this one's going to
hold all of the forum posts whether they
be the initial post that starts a topic
or a thread or whether they be replies
to that topic every one of them is going
to go in here and I'll show you how to
handle having different types of posts
in this one table okay so this one is
going to be named ID that's going to be
the regular old ID field that's always
first in most any table next is going to
be post author this is going to be post
author ID so this is the member who
posted this is the members ID now we're
going to put OT ID which is short for
original topic ID and I'll tell you I'll
show you exactly where that comes in
handy now let's put one called date time
they underscore time another field
called type that will determine what
type of post it is view count the next
one section title the next one section
ID the next one thread title the next
one is post body and the final one is
closed and I'll try my best to explain
why we're inserting all of these fields
right after we set the
and the length of values so this first
one is ID int this one has to be primary
and make sure you select that photo
increment checkbox post author this is
going to be bar char I guess 24 however
many is the length that you have the
maximum character count on your
usernames post author ID this is going
to be int 11 original topic ID is also
going to be in 211 daytime is going to
be guess what day time and we're going
to give that a default value as defined
and put it in right here you see what
the default value is it's just an empty
time and date configuration the year the
month the day and then the time but it's
all zeros so that's how you're going to
default all of those but right when
somebody posts in it wouldn't it
wouldn't have that value it'll have
their actual time that they posted it
type is going to be een um we're going
to have a and B so we'll put in single
quote a single quote comma single quote
be single quote so the type is going to
be either A or B whatever post type this
is I'll explain that in a moment the
view count is going to be int 11 int 11
means that you can have an integer with
11 characters and that's pretty dang hai
you don't really need it that high but
just you can set it that high without
worries section title this is going to
be VAR char 88 I think we made in the
other table the max was 88 for that one
so let's make it 88 for section title
and this one section ID can be int 11
thread title is going to be VAR char
i'll allow them to put in 64 characters
into the into the form that i create for
posting whoever is making a topic or a
new thread they'll have the option of
making the title and putting in the body
for whatever they want to ask so that
title will be here and i'll do a max of
64 of our char the post body this you
want to make text and that will give it
I think 10,000 character man
and if you wanted more than 10,000
character max you can go to where is it
long text and medium text long sex the
medium texts are a lot bigger than
regular text tiny text i think is 255
i'm not sure text is lacing ten thousand
characters medium text is a whole lot
more than that and long text is a whole
lot more than medium text but i'm just
going to use text to allow ten thousand
characters in my post body a max of ten
thousand i don't want people going crazy
ten thousand is a lot of characters and
closed is going to be enum as well and
that's just going to be the good old and
you put enum you set your enum values to
whatever you want to toggle between so
this field to let me toggle between 04
closed being false and 14 closed being
true so i'll know whether this thread
has been closed by the person who
started the thread or not by whether
they toggle this two one or zero or
whatever they'll all be default set by
20 so actually we can put a default on
that as defined 0 that way it's not
closed by default but if the person who
started the thread wants to close it
they can toggle that 21 and we'll have
to make mechanisms to allow them to do
that now the post body that's going to
be the message body when they post in
the forums thread title is going to be
the person who starts the thread they'll
be able to title the thread people who
are replying to that thread will not
have the option to create a new title in
the forums will just have the letters
are a colon and then the title whenever
they are replying it will just say re
and then the original title now section
ID is going to hold whatever the section
ID is remember we made the forum
sections table and each section has an
ID we're going to snatch that up we're
going to snatch up the section title the
words that are actually the section
title the view count
this is going to be a number that will
increment each time the topic is viewed
by somebody and you can code it to where
if it's viewed by anybody it would
toggle the view counter or only if it's
viewed by people who didn't start thread
it would toggle the view counter or if
you want to make it to where if it's
only viewed by people who aren't
participating and talking with in the
thread you can make it toggle to view
counter so if you know that people are
in the thread they're going to be
visiting in a lot and you don't want to
toggle those numbers for the view count
you can you can program it that way
that's just a little hint i'm going to
program it to toggle the view count
anytime anybody looks at it maybe except
the guy that started the thread who
knows we'll cross that bridge when we
come to it now the type this is going to
be a very important field than this one
type is going to be a when it's somebody
who's starting a new thread so their
post is going to have a type value of a
somebody who is replying to a topic
starter they're going to have a post of
B so their type will be set to a value
of B that way we'll know it's a reply
type post if it's an A well no it's a
the start of a new thread daytime that's
pretty obvious that's just going to
record the date and the time down to the
second when the person posted whether it
be a new thread or a response original
topic ID or original thread ID is
another important field and that's going
to record say if somebody starts a new
thread it'll be type a and it'll have a
certain ID within this table a unique ID
so when somebody responds with be in
that original thread ID field we want to
make sure we put that original thread
don't worry I'll show you how that works
when we make a few posts now the post
author ID is pretty self-explanatory
that's going to be the ID the member ID
the unique member ID of the person who
is making the post whether it be a new
thread or response post author is going
to be the member or the username for
that person and ID is going to be the
unique ID for the post in the forum post
database table alright so I think that's
all set up the way we need it I explains
it pretty in-depth let's go down here to
save and there we have it so now my
forum all it needs now is for me to
query this section and at first there's
nothing in my table no posts yet so if I
query this sections posts out of the
table I won't find any in there it'll
definitely say there are no posts in
this section yet and that's just fine
that's what we want but then we also
want to take it a step further by on
this section PHP page we want to make
sure we put in a button that says create
a new topic or create a new thread
within this section that way we can
press that button and go into a form and
the form will post into that new table
we just made for whatever section that
we're navigating in in the forum just
change this from now to say forum
section in a little while when we do
some query hang on the database we can
get the exact name and title of the
forum to use dynamically in the title
there we'll put PHP echo let's just put
the word title so it'll echo the word
title there but in a moment when we do
some querying on the database will get
the exact sections title I will be able
to put it right there dynamically you
could also put description and keyword
meta tags okay display list we can
remove that let's take a look at it all
right this page is ready to rock and
roll so we got to do is bust the query
out to get this sections information and
we'll pick that up in part four because
I don't want this video to get too long
we'll keep all the videos chopped up
kind of even if we can but creating that
table was a bulky part of the process
and it's probably the most important
storage table that you'll need for your
forum system and if there's anything
else that we have to go in and add to it
or take away from it we'll do that later
we can remain flexible with it if
there's anything throughout the series
that I think I might
to add to that table I'll just pop it
right in and we can utilize it okay so
I'll see you in part four</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>