<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP GeoPlugin Tutorial Get User Location Information IP Detection | Coder Coacher - Coaching Coders</title><meta content="PHP GeoPlugin Tutorial Get User Location Information IP Detection - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP GeoPlugin Tutorial Get User Location Information IP Detection</b></h2><h5 class="post__date">2014-07-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CDTCKCcxWnY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey there let's demonstrate how quick
and easy it is to use Geo plug-in for
automatic detection of user location
data like city country longitude
latitude and more okay fire up your
favorite code editor and create a new
example dot PHP file now the first thing
we'll do in our PHP script is get the
user IP address which is a very simple
procedure in PHP now the remote file
that we want to access for the Geo
plug-in API is this and I'll put it here
as a comment directly in the script so
I'll go down to the next line and I'll
type in geo and we'll make that equal to
file get contents function and the
parameter that we're going to pass is
that URL and type in uncivilized open
parentheses and then go here after the
closing parentheses for the file get
contents function and put another
closing parenthesis for the uncie
realized function so remember a file get
contents on this URL is going to return
a serialized array then we uncie realize
it to make it an array object in PHP and
then this geo represents that array
object this variable geo represents the
array object so the next line down let's
type in country is equal to we just put
our geo array object but opening closing
brackets semicolon and in between the
brackets we're going to put a string and
that string is going to represent the
array element that we want to access in
our case since we want the user's
country we're going to put geo plug-in
underscore country name now you can now
echo the country variable and the users
country will display now let's go ahead
and copy this line and paste it a couple
of more times and the first thing we'll
access is the city the next one we'll
get the region and then lastly we'll
access the country so this one can stay
the same
for the region we put geo plug in
underscore region and for the city
we put geo plug in underscore city and
I'll show you all of the strings that
you can possibly put here now in the
next line for testing purposes we're
just going to echo now run this on a
live PHP enabled server and here are the
results that I get my city is Pisgah
forest my region is NC for North
Carolina and my country is United States
now what if I wanted to list the region
name better I can access region name
element of the geo array now reload your
application let's refresh it now you can
see region lists North Carolina the full
name of the region now you have to keep
in mind that the location is going to be
all relative to the IP address that the
user has and not their house exactly not
their own address it's going to be
relative to their IP address which could
be relative to the Internet service
provider they use all right let's
quickly recap and then we'll talk about
some other important stuff the first
thing we did no script is we access the
user's IP address then we can use that
IP address variable in the string that
is the URL for the external call that we
need to make or the external file that
we need to include into this one so we
use file get contents to call that
external file into our script now
remember that gives us a serialized
array I have a hard time saying that
word serialized stool as I always want
to smash everything together it gives
you a serialized array now you have to
use uncie realized on that result if you
want it to be an actual array object
that you can access the way we did here
now I'll just throw in a comment here a
multi-line comment that shows all of the
different strings that you can access
you can get their latitude/longitude to
plot them on a map so you can actually
plot anyone onto a Google map if you
want according to their latitude and
longitude
now gio plug-in is a free api that uses
databases maintained by max mind calm
which most other geo IP services also
use the max mind comm databases and i
want to stress that there are many geoip
api is available for PHP if you do some
looking around PHP also has its own
geoip extension and a set of functions
that you can install databases for and
configure to work on your server so you
have to actually go in and configure
your server to work with the geo IP
extensions that PHP offers and PHP s
geoip functions also rely on databases
maintained by Max mine calm so all of
that means that whether you configure
geoip to work on your own server or
whether you tap into api's from external
services like we did in this tutorial
the max mind comm databases are most
likely what will be used to populate the
location data that you request now
another thing that I have to note with
you is that geoip data can also be
accessed using Java Script and other
languages PHP is not the only technology
that can access this information within
your programs and that's pretty much
everything you need to know I'll see you
next time if you enjoyed the video you
just watched click on the subscribe
button to tune in to Adams Channel he
produces new videos on a regular basis
the loader subscribe-button are a few
more of his video tutorials that other
viewers have found to be helpful or
inspiring thanks for watching we'll see
you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>