<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WAPG 4 Script Based Animation Programming JavaScript CSS Tutorial | Coder Coacher - Coaching Coders</title><meta content="WAPG 4 Script Based Animation Programming JavaScript CSS Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>WAPG 4 Script Based Animation Programming JavaScript CSS Tutorial</b></h2><h5 class="post__date">2017-02-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/I8vKv38iDH8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back to the web animation
programming guide today I'll be showing
you how to program script based
animations with JavaScript you would use
script based animations for things such
as making video game assets move around
on the screen at consistent speeds
regardless of the distance the objects
need to move such as a character moving
according to the users control over the
character because the character may need
to move halfway across the screen or
maybe just a couple of steps or all the
way across the screen and you want that
speed that the object travels to be a
consistent speed no matter how far it
has to move but it's not limited to
things like that ultimately using timing
methods provides a greater level of
control over how things animate on the
screen and there are three timing
functions that we can use there set
interval set timeout and request
animation frame requestanimationframe is
a newer method that allows the browser
software to dictate the display refresh
rate the repaint rate which is usually
something like 60 frames per second and
you can also use set timeout and set
interval now set timeout would be more
like the requestanimationframe method
and set interval can also be used for
script based animations and I'll be
showing you how to use those
okay we're going to begin with these
assets which is a start and stop buttons
and then a little object or asset on the
screen that we're going to animate and
it's ID is thing one now when the start
button is pressed we're going to run a
function called start animation and when
they stop button is pressed we're going
to run a function called stop animation
so we have to write those functions
right now so I'm just going to get you
started and then I'm going to challenge
you with a homework assignment that will
help you build up your critical thinking
and your problem-solving abilities
because those are essential skills that
every programmer should have is their
own ability to problem-solve and be able
to write scripts on their own without
being handed copy/paste solutions so
what I'm going to do is go under my
assets and I'm going to type in a script
element and make sure I close it and you
can have your script element up in the
head section of the document or even in
an external document as long as you use
the window load event to initialize some
of your scripting but for this example
I'm just going to have my scripting
underneath the assets that way all of
the assets are loaded into the program
before the script runs and the first
thing I'll do is set up an object
reference for thing 1 so we'll type in
bar e/l which is short for element is
equal to document get element by ID sing
1 then we'll quickly create another
variable called req ID which is short
for a request ID because that's a
variable that our script is going to use
then we'll just take the name of this
function start animation and we'll type
in function start animation open closed
parenthesis opening curly brace and
closing curly brace and we'll also make
a function stop animation right under
that now what my objective is inside of
the start animation function is to move
thing one on the horizontal plane which
is the x-axis right and left so inside
of that function I'm going to say
element style dot left property is equal
to a certain number of pixels
so we're going to add a number
programmatically here that's going to
increment so in between parentheses I'm
going to type in element which is thing
one dot offset left plus equals 1 and
then here I'll put in a little plus sign
to concatenate this number that is
programmatically derived 2px so
basically the string will be a dynamic
number px just like you would set
anything in your CSS but we're going to
do it dynamically so we're setting the
CSS left property dynamically using a
dynamic number so what this does is it
reads the left position of where the
asset is on the screen and it's going to
increment it by 1 by saying plus equals
1 so each time the repaint or the
callback function runs which is start
animation each time it runs it's going
to increment by 1 which is going to
create the animated effect of movement
then directly under that we're going to
type in our EQ ID which is our request
ID variable I'm going to make that equal
to window dot request animation frame
and we'll put the callback function as a
parameter within the
requestanimationframe message so
basically when the animation is started
when this function is called to run it's
going to keep running at approximately
60 frames per second because the
requestanimationframe calls a function
to run at the browser's default refresh
rate which is usually 60 frames per
second so let's see what that gives us
if we hit start we see movement but it
won't stop because we have to put in the
functionality we need inside of the stop
animation function now this little
program leaves something to be desired
because all it does is start and stop
and furthermore if you were to press
Start multiple times it's going to speed
up because the callback function is
going to be called so many times that
it's going to give the illusion that the
object is speeding up every time the
start button is pressed that's because
the callback function is going to be
called over and over and over again and
each time it's going to be running a 60
per second frame refresh so it's just
compounding every time you hit the start
button so there's a couple of ways you
can go about alleviating that problem
and also you might want to have an
application and it'd be more realistic
to have an application where this says
right where you have controls for right
left that way this object can be moved
right or left or even up and down by the
user for instance if you're creating
some type of video game so what I'll do
is I'll go in here and I'll type
onmousedown start animation and then
we'll put on mouse up event we're going
to stop the animation so we can just
take that function here put it there and
remove this button altogether and then
this can say right so then when we take
a look at our application now when I
hold down right then let go of it it
stops right so every time I hit the
right control it moves the object to the
right now you might want to have another
control that says left that way the user
can move the character or the object to
the left so let's go ahead and copy that
button and we'll put left as this label
now if we left it just like that when we
hit that the objects still going to move
to the right so we need some logic in
place so what we'll do is put a new
variable called dir and then we'll put a
new function in place called change dir
and then we'll just put an incoming
argument of D
then we'll change the dir variable to
whatever the value of D is so what we'll
do is take that function name and in the
right button before the start animation
function is called we're going to call
the change dir function and then put a
semicolon that way two functions will be
called onmousedown we're going to call
the change dir function and the start
animation function so what we'll do is
put a string in place here and name it
right we'll just put the string of right
going into the change dir function that
way when the function change di or
change direction is called the word
right is going to be passed through it
as an argument that argument is scooped
up here as D and the dir which is short
for direction the direction variable is
going to be changed to right now we'll
copy that one and we'll put it in the
left button as well and we'll just put
it in the string of left here that way
the change direction will be the dir or
direction variable will be changed to
say left so then what we can do is go
into the start animation function and
just type in if-else condition
statements this way you can give your
users the ability to move the character
or object left or right and then we'll
put an else if condition right under
that that way we'll have the logic for
going both left and right so we'll say
if dir is equal to right and we already
know this line of code makes the object
animate to the right so we'll take that
and put it up in that condition then
we'll say we can just copy that and if
else if di r is equal to
left so if the user wants to move the
object left we'll just change this
functionality a little bit to say minus
equals so instead of incrementing
and going to the right we're going to
decrement that will make the left
position go the other way so it'll go to
the left instead of the right using this
logic right here now let's take a look
at our application so when I hold down
the right it'll go to the right when I
let go it stops when I hold down left it
goes to the left when I let go it stops
so that way you can provide controls to
the user in a game type scenario or it
doesn't even have to be a game it could
be any any type of application a program
that you're creating okay now here's
where your homework assignment comes in
which will help you with your critical
thinking and problem-solving skills what
I want you to do is add two more buttons
one that says up and one that says down
then you can run the same functions and
instead of right and left being fed in
as an argument to the change direction
function you can put up and down and
then you put in more conditional logic
here to say add more else if you can add
more else if condition statements here
just like we did for the left you can
add more of those to evaluate to see if
dir Direction is equal to up or equal to
down and then what you do is you change
the style dot top you see up here you
have the top position set and by the way
elements that you want to move around if
you're going to use left right or left
and top changes for animation they have
to be positioned absolute or relative or
even fixed so if you don't have absolute
relative or fixed the object won't move
so that's why we have position absolute
set here so basically what you want to
do is add the functionality and instead
of changing the elements style left
you're going to change the element style
and then you can use the e l dot offset
top instead of offset left see what I'm
saying so that's your homework
assignment it shouldn't be very hard for
you to figure all of that out and that
way you'll have an application that has
right left up down controls for your
user to allow them to move that object
anywhere that they want on the screen up
left right top or up down right and left
and remember you can just change these
numbers here to a higher number if you
want to increase the speed at which that
seems to move so that's your homework
assignment and it should be fun and easy
to do and there are also ways that you
can add another variable to check and
see if the start animation function has
already been triggered to run that it
can't be triggered again like remember
we had that compounding issue whenever
we before we changed it all to use on
Mouse down and on Mouse up when it was
just on click remember we had that
compounding issue where it would seem to
speed up inside of the start animation
you can evaluate to see if the animation
is already running and if it's already
running you don't want to allow it to
compound and run more you don't want
this function to run more which will
make your application a little bit buggy
now I wanted to show you a similar
example that does a similar thing like
we started off with but this time we're
using set interval which is another
timing method but for animations it's
recommended that we use the request
animation frame method and in this case
you really don't even need the window
reference there because the window is
the top-level object so those functions
or those methods will run without having
to put the window
object identifier before them so let's
take a look-see it all still works the
same but I'll just leave those in place
and here we have set interval which is
the same deal you can have window dot
set interval or not and in this case we
have a very similar applications
basically does the same exact thing that
we did before but it's using set
interval this time to start the
animation up and make it run every 30
milliseconds so you can have a little
bit more control when you use set
timeout or set interval you can actually
control the display refresh rate when
you're using requestanimationframe it
just uses the browser software the
browser software's default display
refresh rate in this case you can
actually set the refresh rate make it go
a lot slower than 60 frames per second
because you can put any number that you
want here and that represents
milliseconds but for animations I would
recommend using requestanimationframe I
just wanted to show you how you can do a
very similar thing using the other
timing methods in JavaScript so here's
set interval and actually if you use set
timeout it would look more like this
application where set timeout would run
inside of the start animation function
and it would just keep making the start
animation function keep being called
back because your your set timeout
method would be sitting right here in
the same place as requestanimationframe
so I just wanted to show you how you
know you can use any timing functions
you want okay so you've got the
knowledge you've got your homework
assignment so I want you to add a up and
down buttons to this application to
allow the user to move the game asset or
the animated asset around on the screen
up and down
also instead of just left and right
alright I hope you've enjoyed this
exercise and I hope it enables you to
create a lot of cool creative things in
your applications and maybe you can even
start creating games and interactive
applications that allows the user to
move things around according to controls
that you set up so keep yourselves happy
and healthy and I'll see you in the next
exercise which will be part 5 and if you
like you can leave a comment on what you
might like to see as far as
functionality for animated applications
games or whatever bye-bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>