<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>19. E - Commerce Website PHP Tutorial - PayPal HTML Shopping Cart Variables | Coder Coacher - Coaching Coders</title><meta content="19. E - Commerce Website PHP Tutorial - PayPal HTML Shopping Cart Variables - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>19. E - Commerce Website PHP Tutorial - PayPal HTML Shopping Cart Variables</b></h2><h5 class="post__date">2011-01-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qDbTqeSUrQY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to the part 19 of our
e-commerce website building lesson
series and there's only going to be 20
parts so you get part 19 and for 20 and
then we're done because I'm going to
show you right now how to pass the
variables from your card your full card
with quantities and all to PayPal and
PayPal is going to have that full list
let the person check out and send the
person back to your site so that's what
we'll do in part 19 and then part 20
I'll show you how we'll assemble the ipn
script we'll use paypal instant payment
notification to gather all those
variables from the purchase into our
MySQL database so we can know who what
what now I'll let you peek at the
dynamics that's going to happen here so
what happens is this goes inside of the
cart rendering part of the script right
above the for each loop in section 5 of
your cart dot PHP script then this goes
in the for each loop itself as a dynamic
looping mechanism and then this goes
outside of your for each loop this final
bit of code that way this code and this
code on top don't get rendered out
repeatedly just these three lines will
get rendered out repeatedly and they're
going to be set up dynamic so that's how
you send a full cart upload and you have
to make sure you use certain variables
like this upload variable with the value
of one now before I even get into
showing you what all of this is all
about
you should school yourself and I have
some links for you here that I'm also
going to put in the video description
area and there both to PayPal
documentation this one is all about
adding PayPal checkout to your
third-party shopping cart so here what
you've built now is a third-party
shopping cart you've custom programmed
from scratch a third-party shopping cart
that can be connected to PayPal or any
other gateway you choose but we're going
to choose to connect it to PayPal so you
can read the documentation about adding
PayPal checkout to your third-party
shopping cart there's two ways to go
about it method one is passing the
aggregate card amount to PayPal we're
not going to be doing that we're
using method to passing individual items
to PayPal because I just think it's it's
a little more challenging and it's a
little more it gives them a nicer list
and it will give you a more
comprehensive list as well so here it
shows you and you have to do all this
reading yourself I'm not going to sit
here and read all these pages is method
one I'm skipping right by that but you
see they give you nice examples and
explain everything to you I'm going to
go right here to method to passing
individual items to PayPal now here you
can read about all of this and you'll
understand why my code looks the way it
does right here and quantity they don't
show you that which is a big mistake I
think in their part they should have
that it variable in there as an example
but the quantity and the price and the
product name you can send in dynamically
through a loop so all you have to do is
check out the information on this page
read that whole page and also this link
here I will also supply this one under
the first one now this one is very
important because this is you could
probably get to this link by just typing
this into Google HTML variables for
website payment standard paypal you type
that into Google you'll get to this page
now this page is very long you see how
long as pages but it shows you all of
the variables what they mean what the
options you can choose to put these
values in those variables and you should
read all of those if you want to become
a good cart programmer alright so now
you understand why I have these hidden
input variables and they each have a
certain name I just showed you the page
where all these names are listed and you
can research what each one does I'm not
going to sit here and waste my time or
yours you can do the footwork on your
own if you're very interested and you
want to get more powerful so like I said
this is going to go in above our for
each loop this is going to go inside
about for each loop that renders our our
card and this one's going to go right
below it outside of it section five we
can expand that code in cart PHP since
we have a for each loop that's already
rendering the card out we
use this for each loop and splice in the
code we need to render out this PayPal
Cart button dynamically okay right below
these are the two variables that we're
initializing in the beginning of section
five let's initialize one more let's
just put that one in single quotes two
single quotes to encapsulate that one
let's name it PP underscore checkout
underscore BTN short for PayPal checkout
button now we can take that variable and
we know we're going to append to it here
not inside of this if condition area but
inside of the else condition area
because if there's no items in the cart
you definitely don't want to have a
paypal button alright so right here I
put a little note that says start the
for each loop so right above that line
of code I'm going to pop in this
variable PayPal checkout button I'm
going to go here and grab this code
remember this goes inside of the cart
rendering part of the script but it's
not inside of the for each loop yet
right above it now here it's very
important that you put your business
email there your PayPal business email
and don't forget that that's very
important let's make a little note to
ourselves and say start start PayPal
checkout button now within the for each
loop we also have to hope let's make
sure we put the dot before that equal
sign really on that one it's not as
important but we can still put it there
because we're going to have it on all of
them so let's take that variable and
inside of the for each loop let's see
where should we put this right above
dynamic table row assembly let's put
another comment that says dynamic
checkout button assembly
that makes sense whatever you want that
makes sense to you because this is where
data is going to be looped over to
create all of the items that are to be
checked out for a PayPal so we'll put
that variable in single quotes two of
them put two single quotes semicolon now
here we know we need these three lines
and that is the item name whatever the
product name is the amount how much it
is in the quantity how many of those
let's go back in the cart right there
pop it in and put the dynamic variables
needed in the spaces needed here okay so
we're going to come back to that right
now let's put in the last little bit now
this will be outside of the for each
loop here let's just go right under the
cart total let's type in a little
comment finish the PayPal checkout
button and remember this is outside of
your for each loop you put that variable
name in make sure it has a dot in front
of the equal sign to append now within
that one you're going to put the last
little bit of the form here I'm going to
explain what all these things are a limb
I'll explain them to you real quick
before I put the code over there
actually all you have to do is read this
page so I don't have to explain it it's
all right here all those variables can
be found in this page so don't be lazy
do your own research if you really want
to know that's where I found out and
that's where you can find out too so I
don't have to explain that because you
know I know because I read all that crap
and I know you can get to learning it
yourself if you just read all that crap
all right so let's go to court PHP and
right here we'll be finished to PayPal
checkout button booyah baby if you see
it has a single quote there just remove
the single quote you won't have any
problems or you can escape it the
backslash like this you put the a
backslash and that will escape it I'm
just going to remove it and press ctrl s
so I don't lose my work here and now I'm
going to go to
this back to this middle section here
where we haven't put in the dynamic
variables yet for the item each items
name each items price and each items
quantity how many they want you're going
to like this this is pretty cool the way
this all renders out at PayPal
alrighty remember that our array has a
index of 0 or starting index of 0 but we
want each item we want the item instead
of being sent to PayPal to start with a
1 so let's make that happen real quick
you see this X variable that I have
there pop it right in there X is equal
to I plus 1 that way X will always be
the correct value so it'll be 1 through
the first pass of the loop it'll be a 2
in the second pass how it should be for
sending to PayPal and we're doing this
because our array has a default index of
0 so the first pass through the loop is
a 0 to fix that up just make that X
equal to I plus 1 so wherever you see
this X here we have to put a single
quote space dot space go past the
variable space dot space single quote
wrap them up like we've been doing so
they render correctly or else they will
not render correctly in that string
single quote space dot space pass the
variable space dot space single quote we
got that one there so we have the input
item name one is going to be let's also
put a dynamic variable there so this is
going to be product name grab that put
it right there very simple let's move
these in now the price goes here so
we'll have a dynamic variable here for
the price and a dynamic variable here
for the quantity price is this variable
right there pop it into place and the
quantity you have to grab this each item
quantity variable here very simple put
it right there with that X's and now you
have the quantity for each
item as well now what I'm going to do is
render out this PP checkout button
variable let's see where should I render
it I put it right under the card total
just put a couple of line breaks there
semicolon PHP echo now let's see what
happens okay I put my paypal business
email account within that business
variable line I'm going to click the
PayPal Buy Now button and you can make
this any custom button you want you can
put as much razzle dazzle as you want
around it to let people know that that's
the checkout button and there it is you
can see this is my actual business of
PayPal and look how the cart renders out
at PayPal it's pretty sweet right
quantity was 2 for that one item so it
made the price 20 so everything is
correct
even if they change their quantities it
carries through because of the way we're
sending all these dynamic variables so
somebody checked out right now using
this I would get paid this $40 and I
would get all the information about the
transaction and know who to ship this to
and get the shipment out and have a
happy day so really at this point you're
selling but in part 20 I'm going to show
you how to set up the ipn script that
way you can get data back since we're
using this I'll show you right here it's
in part 5 of the script section 5 we're
using this notify URL and don't worry
after part 20 you guys will get the code
so if any of this was confusing you'll
see the actual working code that I have
and all I would have to do is configure
this to be my site even though these
variables don't say my site right now
you can see it's still working the cards
there it would make the payment and
everything but it just wouldn't know
where to send back to so you have to
make these variables or these values
valid and they should all be HTTPS
secure SSL if you're going to use IP n
and things like that you can get
variables back from paypal you know just
to make your shoppers feel good you
should
use SSL okay so stay tuned for part 20
where we'll discuss the IP N and getting
all the information from this purchase
back on your site capturing it with the
script behind the scenes that way you
can sync it into your MySQL database but
you're also going to get paypal is
automatically going to send you
information about this purchase paypal
is also going to send the person who
bought the things from your store
invoice and receipt and all that good
stuff so it's really it's a complete
process at this point but you can do
more and part twenty we'll explore that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>