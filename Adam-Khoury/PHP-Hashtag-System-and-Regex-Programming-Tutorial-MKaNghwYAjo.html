<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Hashtag System and Regex Programming Tutorial | Coder Coacher - Coaching Coders</title><meta content="PHP Hashtag System and Regex Programming Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Hashtag System and Regex Programming Tutorial</b></h2><h5 class="post__date">2014-04-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MKaNghwYAjo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this exercise we will demonstrate how
to create a PHP hashtag conversion
system it will convert any hashtags
found in data strings to clickable links
that lead to your dynamic hashtag
rendering page you can also get some
great insight into how regular
expressions work as we construct a
regular expression from scratch to
perform the conversion we've been
getting a lot of requests from people
who want to add a hashtag system to
their social networking sites the way
Twitter and Facebook run their hash tag
systems okay in my example dot PHP page
I'm just going to have an example string
and this represents string data that you
would have in your database that some
user typed in some conversation within
your system you can see that the user
has placed pound signs in front of uber
silly and mega playful so it's your job
as a programmer to convert those when
they're found with a pound sign in front
of them you're going to convert that
into a link and the link needs to go to
a page name something like hashtag PHP
with dynamic URL variable attached so
next thing we'll do is take that string
variable and we're going to run it
through a function that we're going to
write in just a second the function can
be named convert hash tags open close
parenthesis semicolon and we're going to
send one argument through it which is
the string itself so right here you'll
have the resulting converted string and
then you can simply echo that to see how
it renders now let's go ahead and copy
this because we're going to write that
function now type in function and then
paste that in opening curly brace and
closing curly brace now we have a nice
function nest we're going to name the
variable coming in as a dynamic argument
STR short for string so you can see when
the function is called we're passing the
original string variable through that
function as an argument it can be
scooped up right here as the variable
STR now this function essentially only
needs two lines of code to do the magic
it needs to do but we're going to have
three lines because I want to explain
the regular expression in depth and I'm
going to build it piece by piece as we
need logic because regular expression
programming is something that's not
taught very well by many instructors
it's just hard to wrap your head around
so usually when you see regular
expressions they're just fully written
and nobody's explaining how and why they
work the way they do so I'm going to try
and do that in this lesson I'm going to
make sure that we go nice and slow and
explain everything in depth while
creating this regular expression that
way you'll be better equipped when
you're making regular expressions in the
future so in between the set of double
quotes what we're going to do is put two
forward slashes and in between the
forward slash is where we put all the
pattern matching that we want to occur
within the regular expression so I'm
going to put the pound sign at first and
if I wanted to match for say the star
symbol I would just put that there or if
I want to match for the letter F I would
just put that there but I want to match
for the pound symbol because we're
building a hashtag conversion system
okay so right now we're just going to
leave our regular expression just like
that but there's a lot more logic that
we're going to have to apply to get
things to convert right now on the very
next line we're going to take the string
variable and we're going to run it
through the prague replace function
which is a PHP built-in function that
allows you to replace things in strings
according to a regular expression so
we'll put three parameters the first
parameter is going to be our regular
expression the second parameter is going
to be the string that we want to replace
any matches with and we'll just go ahead
and make that a link an a element and
then the last parameter is the string so
here we're going to put a href is equal
to a page that we're about to create in
a minute called hashtag PHP and we want
to make sure that we're sending URL
variable over to hash tag dot PHP so
we'll put the question mark and the URL
variable will be named tag and its value
is going to be dollar sign zero and you
put dollar signs zero here because when
you're building regular expressions you
get a resulting array out of the
matching
sequence so the way I have this one set
up is we're only going to have one array
element in the matching sequence so we
can just put 0 here and all its matching
for is the pound sign so what's going to
happen is anywhere in the string where
the pound sign is found it's going to
make that a link to hash tag I'm going
to make sure we put a T there hash tag
dot PHP with the proper URL variables
then the very last line all we have to
do is return the data to the calling
line that call this function to run
right here so let's just return the
string the converted string that way
this variable will be the converted
string okay now when we run that on our
PHP enabled server you can see we get a
link but it's only the pound sign that
is made into a link and you can see if I
was to copy that link address and then
just paste it in down here you'll see
that our URL variable is just the pound
sign and ultimately we want our URL
variable to be just these words and not
the pound sign all right so let's get
rid of this so we have to add a little
bit more logic to our regular expression
so to allow more pattern matching we can
put the plus sign here and we want to
get more characters that are after the
pound sign too until it reaches a space
so what we'll do is put in the square
brackets and in between square brackets
we'll type in a through Z upper case A
through Z and then 0 through 9 and then
we can put in an underscore as well if
you want to allow underscores in your
hash tags you can put any symbols here
that you want to allow so now let's save
that and run this on our PHP enabled
server let's refresh the little
application and now you see we get the
first letter of the hashtag also made
into a part of the link but we want to
get the whole word as the link and
that's very simple to do all you have to
do if you want to extend the matching is
put a plus sign right here and that lets
the regular expression know that you
want to continue pattern matching until
you reach a character that's not
of these so when our string hits a space
that that means our pattern matching is
stopped and it goes on to the next match
so now that we've put the plus sign
after our bracket let's save this file
and run it on our PHP enabled server so
now as you can see we get the whole word
as a link now if I copy that link
address let's take a look at what the
resulting link address looks like now we
have everything we want except I don't
want the pound sign in the URL variables
going to hash tag PHP I just want the
word I don't want the pound sign or any
other strange characters being passed
over the URL address bar but I do want
it to render here in the visible view of
the link the link label I want the pound
sign to be there but I don't want it to
be here and that is rendered right up
here so I want the pound sign to be here
but not here now what we can do is go
into our regular expression and start
grouping things I'm going to put
parentheses around my little sequence
after the pound sign so what that does
now that I put parentheses around that
that makes my regular expression
pattern-matching result in an array with
two elements so the first element in the
resulting array is going to be the zero
and that's going to have the pound sign
and the whole word the second array
element is going to be one and that's
only going to have the word and not the
pound sign so you just change that to a
one this to a zero and make sure you
group this pattern matching sequence in
between parentheses now let's save that
now if we refresh our program we take a
look at the link now we have exactly
what we want let's copy that link
address and let's pop it in right here
and inspect it so now I'm sending to a
page called hash tag dot PHP with the
URL variable of just the word uber silly
now all we have to do is show you
hash tag PHP because that's going to be
the page that you're going to use to
query your database
and get all the conversations that might
have the hashtag in it so create a new
PHP document called hashtag PHP and
inside of it we're going to place this
code and this code is saying if the get
URL variable name tag is set then we're
going to execute this code right here if
it's not set
nothing will render or nothing will
happen so the first thing we do inside
of the if condition is we sanitize the
incoming get URL variable name tag
because you're going to use that to
query your database and search for
things if you don't sanitize it
somebody can hack your system so running
this line here allows you to remove
everything but underscores letters and
numbers uppercase and lowercase letters
so you get uppercase and lowercase
letters numbers and underscores is the
only thing that will remain in that
string everything else will be stripped
out that will make it ready for your
database query it's safe and sanitized
at that point so all I'm doing here is
echoing out the resulting variable so
you can see that it all works just fine
now I'm not going to build database
queries here for you show you how to
search or anything like that because
we've done all of those tutorials before
developed PHP we have search tutorials
that show you how to use like syntax you
use the like syntax in your query to
search through all the conversations
within your system that might have that
exact hash tag and since we removed the
pound sign all you have to do is add a
little string of pound sign on to the
tag word and this will result in the tag
word with the pound sign on it so you
can make that into maybe a variable
called full tag is equal to that
okay now let's test everything now if I
click over silly I should be sent to
hashtag PHP and now I get the full
hashtag uber silly because I
the pound sign back on right here now
you would use this full tag variable to
search your database because you want to
make sure you have the pound sign in
front of the word before you do your
searching that way you just don't find
every occurrence of that word you want
to find every occurrence of that word
only if it has the pound sign in front
of it
so you use this full tag variable in
your MySQL query and it's as simple as
that
now I'm going to take you to develop PHP
and show you the search exercises if you
click PHP and MySQL videos right here in
the list you can go to minus QL PHP
search exercises and we show a bunch of
different ways to search a MySQL
database for whatever you need to search
for you can use like syntax or you can
use the match against syntax only if you
have a full text search happening on a
specialized database in most cases you
would just use the like syntax to search
for things so what that will do is give
you an idea of what kind of query and
code you can have here in hashtag PHP
that will search your whole database
find all the conversations that might
have that particular hashtag in it and
pour them out onto the page so people
can click on them and whatever just like
Twitter and Facebook do now I hope I
didn't bore you guys with going so
in-depth into constructing this regular
expression here but you can see we
started at just the pound sign and
that's all we were matching for and
that's all that we were getting as a
result and then we were just able to
simply add more logic into our regular
expression to achieve the exact result
that we wanted and remember when you
group things with the parentheses like
this that means you're going to make
more array elements in the resulting
match so you can use numbers like 0 1 2
3 4 however many array elements are in
the resulting match remember at first we
only could access to 0 because we're
only matching for the pound sign
all we were going to get is one element
in the resulting array right when I
added the parentheses around this that
gave us two elements in the array so
then I can use a one okay so I hope this
example hashtagging system proves
helpful to you guys you can set it up
for your social networks
if you enjoyed the video you just
watched click on the subscribe button to
tune in to Adams channel he produces new
videos on a regular basis the loader
subscribe button are a few more of his
video tutorials that other viewers have
found to be helpful or inspiring thanks
for watching we'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>