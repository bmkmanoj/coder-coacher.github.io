<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Script Execution Timing Tutorial For Javascript and Actionscript Server Call Speed Test | Coder Coacher - Coaching Coders</title><meta content="Script Execution Timing Tutorial For Javascript and Actionscript Server Call Speed Test - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Khoury/">Adam Khoury</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Script Execution Timing Tutorial For Javascript and Actionscript Server Call Speed Test</b></h2><h5 class="post__date">2012-05-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6r6MMoKOcAc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we're going to show you an
ancient Chinese secret that we apply
when we wish to very accurately time our
script execution in both javascript and
actionscript 3.0 flash now this like
many of our other lessons shows how
javascript and actionscript 3.0 have
very much the same syntax for many of
their core classes and functions so
let's get our hands dirty shall we first
let's take a look at a real world
example of an application that shows how
many milliseconds that a process has
taken the server so for instance if you
go to world of web craft which I have up
and running again and I don't really
don't want to hold a lot of people
they're making a mess and a monk and
running amok and going crazy there so
don't even bother to join unless you
really have to ask something so only if
you really need to join join otherwise
I'd rather than just be 20 members well
there's like 40 now but I only want 40
50 maybe max Jesus Christ but anyhow if
you come to the world of web graph and
you click the site analyzer tool right
there you can click any domain you want
to knit for instance world of web craft
itself click analyze and write up here
you're going to see numbers that show up
after the analyzation process is taking
place and the server calls have been
done now watch it was analyzing now and
you can see it says domain validation
took 0.4 21 seconds and domain
analyzation took 2.5 92 seconds so you
can show your users or yourself as the
programmer if you want to just for
testing purposes to see how fast your
server side calls run or how fast your
PHP script is going to get data back to
you you can do that sort of thing with
the code I'm about to show you and you
can do it for both javascript mine on
this page here happens to be
javascript-based but you can do it with
Pia PHP and flash if you're working with
actionscript 3 point and PHP server
calls or if we even if you loading in
external images you can use this sort of
code okay first of all essentially it's
only two lines of code that make the
whole thing happen so nobody should get
freaked out about wow that's really
complicated it's not two lines of code
okay and then after we get done but
assembling the code
javascript to show you a demonstration
in javascript we're going to put same
code that we assemble in javascript in
the flash actionscript 3.0 and run it
i'm going to show you how it works
because javascript and actionscript 3.0
i'm so very similar in this in text and
their methods in the classes okay let's
say in javascript you have a function
and it's called any function and it
really could be any function that you
have in JavaScript anyone that you want
to test and time and you'll notice that
a lot of code really takes zero
milliseconds or maybe it's like point
zero zero two point zero zero three
milliseconds to run if you're not making
external external server calls to a PHP
script or getting files like image files
or media files from the server now let's
put it in the line of code outside of
any function right there and let's make
any function run so this line of code
will make any function above right here
whatever code that's in it it'll make it
executes actually before we put that
line in to execute the function let's
put an alert in here let's just say hi
so if i run this right now nothing will
happen because there's no code telling
that function to run so that's why we
put this line in here it will make that
function executes just for demonstration
purposes now let's run it and we'll get
the alert that says hi you see all right
that's great so now we can see we have
an effective function set up that runs
now what you do in the top of your
function is you'll start a new variable
and you can name it ms for short and it
stands from milliseconds and that's
going to be equal to new date object and
then we're going to access one of the
methods of the date object called get
time and what get time does is it will
give you a number that's a
representation it'll look something like
this it'll be like just a jumble bunch
of numbers that will be a representation
of how many milliseconds have passed
since january first 1969 or something
like that some 40 year old date so let's
just go in right here and leave
ourselves a comment here I'll just go to
develop PHP and and the JavaScript
section I have a little bit of
information on the date object and all
of its methods so you can check that out
if you want it's it the if you're a
developer HBO
page you click JavaScript and I'm still
working on the JavaScript section but
you can go to the objects down here the
date object and read about the data
object check out its methods and
properties okay let's go back to our
script and here let's see instead of
writing that let's just put in this line
there so get time what it does is you
use get time on the date object and it
returns local total milliseconds for the
date object referenced from January
first nineteen seventy so from January
first nineteen seventy till whenever you
run this line of code you're going to
get the total milliseconds back between
those two dates now all you have to do
actually you can copy that line and you
put a comment in here and say you know
run-heavy JavaScript or server Ajax
calls to PHP so you run heavy JavaScript
or server Ajax calls to PHP here and
then after those processes are complete
you put another variable here and you
can call this one just for short exact
time which is short for execution time
so now what that's done is you've
created a variable that holds the
milliseconds since January first
nineteen seventy after your script gets
done running so after the PHP script and
everything gets done processing that's
when you're creating this variable here
so what you're doing is you're creating
a variable that holds how many
milliseconds have passed since 1970 when
your script begins then when your script
runs at the bottom of it you access make
a new variable that holds how many
milliseconds of pass since 1970 when
your script ends and that will give you
how many milliseconds have passed
between when your script first begins to
when it ends now there's a little bit of
math you have to do this you have to
minus the ms u minus the milliseconds
from when the script first began that
will give you the difference that you're
looking for and really that's the
variable the amount that you want is the
difference of no
seconds between when the script started
and when it ends now this variable exact
time if you were to output that here
that's going to give you how many
milliseconds if you want to turn this
two seconds for instance on this
application at the world of web craft
the site analyzer when I analyze
something it shows me the amount of
seconds with a decimal so it's not
showing the user 1899 milliseconds it's
showing the user one second and a
fraction of the next second that was
about to be complete but it never did
because the script finished so it's one
point eight nine nine seconds and that's
a better representation to get that
representation of your script execution
time simply wrap these in parentheses
this whole thing new date object and
then you divide that whole equation that
we just grouped by a thousand and that
will give you the second point whatever
and you have the logic now all you have
to do is when your script begins you
gather the milliseconds that have passed
since January first nineteen seventy by
accessing the date object and its get
time method then when your script ends
you pretty much do the same thing but
you just subtract the milliseconds that
we're firm when the script started and
then you divide the whole thing by a
thousand to make it represented in
seconds show the user or show yourself
how many seconds with a decimal it's
just a little bit of math and accessing
the data objects get time method it's
very simple and it's only really just
two lines of code so here's the logic
you start your script this is the first
line in your script then this should be
near the end of your script now if you
have something like an AJAX call let's
go to develop PHP again let's look at
this Ajax example in the video tutorials
here where is it right there Ajax post
to PHP file now in this code you can see
we have an ajax mechanism setup you see
here and it's the same thing with jquery
what you want to do is put your script
ending time little line of code within
this if HR ready state
for an HR status equals 200 this is
where you put it because your script is
complete at that point for your Ajax
call so you put your first line up here
for the MS variable then your exact time
variable goes down here and that will
effectively tell you how much time it
took for that PHP script to run or
whatever process your server is doing
now if i run this since my application
has no code i'm going to get zero see it
alerted me zero because that's
JavaScript's just that fast you might
get a point 0 0 1 0 point 0 0 2 on
occasion if you run a script that's his
bare is this but you really want to have
a lot of code or you want to have an
AJAX call really it's best for timing
Ajax calls anything were you
communicating with the server because if
it's just code right here in JavaScript
it's going to run within a split second
so fast there's no reason to time it now
let's open flash and i'm going to show
you the exact same code actually let me
just go ahead copy it into my clipboard
right now control c and i'm going to
open flash now here i am in a new flash
actionscript 3.0 file and i'm going to
highlight my actions panel so i can
place in some code and boom now here's
the function and watch how much of the
syntax that i change you ready i change
that one word alert to trace and what
traces is something in actionscript 3.0
that allows you to debug and get values
back it's kind of like alert in
javascript but it's called trace and it
puts values into the output window and
its really only for developer purposes
trace you're not going to it's not going
to really show up for the end user at
all it's just values that you can get
back as the developer so let's see what
we have here function any function yep
and get time is it works the same exact
way I believe in actionscript 3.0 so we
shouldn't have any syntax errors and we
shouldn't have any problems when we
should get a zero back in the trace
window let's just run it press ctrl
enter look at that so we get nothing
back because our application is not
doing anything yet
but it is running that function so in
the output window in trace I get a zero
just like i did in javascript because
the code doesn't have anything going on
right now that's why i get a zero but
when you go ahead and you make a loader
to get an image from the server in flash
maybe you want a JPEG you can time how
many milliseconds it takes for that
image to get back in and be ready to be
displayed and what you do is when you
function that's going to or whatever
frame where you're going to load the
image in you put this line first and
then after everything is loaded in your
own complete event handler for the
loader you put this line here and I'll
give you an exact millisecond
representation of how long the server
call to all right so that's how it works
at the beginning of your script at the
start of your functions you create a
date object and use the get time method
then when your script is finished
processing usually usually in some event
handler you have a function where you
can display things to the page of the
user after a server call gets done
that's where you put this line of code
and what that does it has the same thing
it uses the get time method but it just
subtracts the milliseconds from it
divide those by a thousand to turn them
into seconds represent them as seconds
instead of milliseconds and that's I</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>