<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Samsung Internet's Progressive Web App Commitment (Progressive Web App Summit 2016) | Coder Coacher - Coaching Coders</title><meta content="Samsung Internet's Progressive Web App Commitment (Progressive Web App Summit 2016) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Samsung Internet's Progressive Web App Commitment (Progressive Web App Summit 2016)</b></h2><h5 class="post__date">2016-06-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4_qhu-4EQGA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm working for samsung as a internet as
an ambassador for the Samsung Internet
project and you may have also heard my
name because i am co-chair of something
in the w3c called the technical
architecture group or the tag it's a
group that Alex Russell also sits on and
it's kind of a steering committee for
web standardization particularly around
w3c stuff I've also been working on the
web since before there was a web so like
Alex I also remember when you had to
yell don't pick up the phone and and
I've also been working to bring the web
to mobile for quite some time so and I
talked about some of the work that I did
originally on some something called a
mobile web initiative which is from a
kind of earlier era of the of the mobile
web but I think it's important to
realize that like mobile devices have
been around on the web for a while and
and we're really now coming into a new
phase I think junkie here who's going to
talk for most of the presentation is a
core member of the Samsung and internet
engineering team and he's also co-editor
of the serviceworker specification so
he's been working within the progressive
web apps fear for quite a while as well
so anyway if you've been paying
attention to yesterday's presentations
you may have noticed something when when
people listed out browsers along with
other great browsers out there there was
also something else something that you
might not have recognized right okay so
yeah so right so yeah I knew about these
other things but
really I knew about these other things
but what about what is this what is
Samsung internet what's this doing here
what's this new logo that I don't
recognize right so we're going to answer
those questions today and I and so I
want to tell you about we're going to
tell you a little bit about what Samsung
internet is and why it's there and you
know how and the work that we're doing
on it and why we're pretty excited about
it although since I am applying for UK
citizenship right now I am legally
prohibited from using the word awesome
so I can't I can't say that about it but
it is really great so we're going to
talk about that and we're going to talk
about progressive web apps and in
particular service worker well then I'm
gonna have a brief break for some
philosophy and and then I'm going to
talk about something else at the very
end that's that's quite interesting to
us in this particular of particular
interest to Samsung which is web and VR
and some work that we're doing to bring
web and V are together that you might
not have heard of and throughout this
we're going to be reemphasize encouraged
and erds and in particular our
commitment to implementation of web
standards and and our work that work
that we've been doing in order to
promote web standards and to develop as
web standards and to really make sure
that we have a web that's based on
standards so first of all I want to talk
a little bit about Samsung internet what
is Samsung internet so our articulation
of it is that it's a it's the latest web
tech in an easy to use package right so
it's the default browser on samsung
phones on some particular Samsung Galaxy
smartphones and tablets it's based on a
chromium project open source obviously
but what you might not be aware of is
that Samsung is also a major contributor
in and committer into chromium so we're
actually we've actually got a lot of
engineers based in Seoul based in Boston
that are not only working with the
chromium project but also working very
much as a part of the chromium project
and as a separate project that we have
which is
gear VR browser this is our VR specific
browser it's based on the same core and
I'm going to talk about that in a little
bit so why should you care about Samsung
browser why should you care about any of
this I wanted to display a graph which I
which I think articulates why you should
care so in Europe according to
statcounter data samsung internet is
actually the number 3 browser only
behind well Chrome and Safari this is
for all mobile browsing so this is
actually a pretty significant number and
the number in North America is pretty
similar so what ya when once stuck
counter actually started breaking out
samsung internet from the relevant
chrome version it became quite clear
that we actually had a pretty sizable
market share in fact beating out the
previous kind of android browser which
includes you know which which is the is
the kind of legacy device browser and
the other thing that i wanted to mention
is just a white so why is that why is
that because when people get their new
smart their new smartphone when regular
people kind of get their new samsung
phone they turn it on and they see a
button that says internet and they're
like I want to use the Internet okay
they hit that and they start using the
web and we want to make sure that that
experience is up to date and as a as
good as it can be I can get the best
possible web experience including
support for progressive web apps we want
to make sure that that's in place so
some other features of Samsung internet
that kind of differentiate it first of
all we've got password keeping which
integrates with the fingerprint sensor
so that's kind of in line with
integrating into the device and to
integrating into the device capabilities
were we've gotta focus right now on
protecting users privacy or privacy and
and that's
up partly why we've implemented a secret
mode which is like the incognito mode or
privacy mode but also we have a content
blocking extension API in samsung
internet which is a quite innovative i
think and i'm going to talk about that
in a second there's an enhanced
multimedia experience and mobile to VR
continuous experience i'm going to talk
about that in a second and we've also a
custom tab support if you want to read
more developer resources about samsung
internet what differentiates it this is
the URL to go to so okay so importantly
samsung internet also supports not only
the latest and greatest samsung devices
but it's also backported to a whole
bunch of previous generation devices
that's something new for samsung another
thing that is new is that updates are
not linked to firmware releases right so
now we have automatic updates that are
rolling out through the google play
store and that's that is best practice
and that's something that we that kind
of changed with the release of four
point oh browse or earlier this year
which also included progressive web app
support and push notifications right so
i just want to cover content blocking
api this is a third party content this
is a third party api that basically
allows third parties to build content
blockers so we have adblock fast and
crystal which are already in the Play
Store and you can download those and
install them separately we develop this
because there's a strong user demand for
content blocking applications like this
and it's quite controversial but again I
think part of the reasoning here is to
help users to protect their privacy and
help them protect their personal data
because really when you're talking about
content blockers you're talking about
tracking blockers mostly these days so
Samsung's approach to this is to build
an API and but to allow the third party
developer community to build these
blockers and finally before I hand over
to my colleague I want to mention that
we are actually building a developer
relations team based in London which I'm
going to be working with and what we
hope to be doing there is to support
developers to support developers in
Europe and other places to be you're
going to see a lot of us speaking at
conferences you're going to see more
people from Samsung internet kind of
talking about progressive web apps
talking about push notifications talking
about web and B are talking about all of
these capabilities and you're going to
hopefully see us in more places around
open source projects contributing to
open source projects etc stuff like that
ok so with that I'm going to hand over
to my colleague junkie who's going to
talk with some more detail about
serviceworker understand thanks Dan
hello everyone I'm taunggyi song on
samsung internet team I'm working on the
web platforms and standards so we have
talked a lot about service workers
yesterday so it's time to wrap up so
basically service workers solve to
change essential problems first of all
service worker solves this life I social
service worker brings the reliability
bits to web application and the
development and the second service
worker solves this one like back in the
days when we didn't have service workers
we actually get that with push API so
the push API try to define this push
event handler in a page like navigator
that set message handler will set this
push even handler and then the event is
kind of dispatch it to this page but
when the page is closed then the whole
context is gone so it was really it
wasn't possible actually and here's
another example the spec is off
been deprecated but the alarm API in a
system of applications working group
they try the same thing with that like
they define this own alarm handler in
pagecontext soap as the service worker
just brings the background service
context to web applications so Samsung
has contributed to service workers pack
since around like November 2013 so it
has been around more than three years so
we just worked hard and it was really a
great experience to discuss discuss
about this great API with a group and
also it's really great to be here while
providing this API to enable pwa and is
it has been one of the essential API too
well bring this happen and well not only
the specs out of it samsung also
committed to chromium project so we
implemented and shipped quite a lot of
features our contribution to chromium is
not really limited to service workers
and the specs but here's the list of
features that we shipped and also I well
made a pro request to this is service
worker ready repository but really had
to do this earlier because we were there
since this March but just in time I has
been merged and it's really happy to see
our browser as a browser supporting
service worker in this list and here is
the service worker feature status
release note for our four-point-oh
release so basically we provide the
features based on chromium 44 with some
additions and changes so please check
this out in developer the samsung com
websites and here's a demo we have seen
a lot but i just want to show you how
the world's in samsung internet on the
galaxy phone yes this is offline wiki i
try to search Gangnam style there and
the caching is just triggered on the
page by user interaction so this is one
usage of service worker and then it is
shown up in the list of articles cash it
and try to make sure this is working
offline the Real ID will reliability
bits and opens up again and it is just
working there and yes and this is a
first class citizen to the native OS so
it's shown up in the test manager so
this has been possible well due to
number of technologies including service
workers so now let me just get down to
more details about service workers some
key concepts so let's wrap up so
basically service worker is an
event-based worker so whenever a
functional events is triggered inside of
browser internals then browser spins of
service worker so supposing there is a
resource request from the page then
browser starts up spins up this service
worker and then in this on fetch event
handler you as a developer have a chance
to just look up local cache and if
there's a metadi response then it can be
respond to at the client right away and
when even handling is just done
and browser automatically terminates the
serviceworker so just let's compare the
lifetime of a service worker to some
other workers like dedicated worker for
example dedicated worker is just created
by calling this constructor then browser
creates a new threat independent threat
to run this script and the lifetime of
the script is just bound to its parent
client so unless it calls the terminate
terminate API then it is just will leave
up to when the page is closed but on the
contrary the service workers lifetime is
intentionally designed to be very short
so as you have seen from the figure in
the previous page service workers is
just spinning off by some browser events
so let's say fetch event has occurred
then it creates an independent trade for
service worker and service worker hannah
is running and dispatching some
functional event there and then when the
event handling is done then service
worker in the browser in tunnel in
tunnels terminate the service worker and
the same thing happens with like a push
API actually browsers do all the smart
things like the skipping service worker
alive until sequence of events are being
handled but the basic concept of service
worker lifetime is like this and let me
just talk a little bit about the spec
yourself so here's a snippet of some
spec text and I wanted to talk about
service worker registration and service
worker concept so this is some internal
internal concept internal slots of
well those objects and service or
registration is a state that holds some
multiple different versions of service
workers and it is kid by scope URL so
there's the installing worker associated
with it and waiting worker and active
worker so when a service worker is being
a active worker after after the
successful installation then it starts
to control the clients and dispatching
browser dispatch all those events to
this active worker and at the same time
a new service worker version can be
installed in the background and when the
installation is successfully done
without any error then it's going to be
on waiting or a waiting worker but it
doesn't really take the place of active
work right away rather than there it
just waits until all the clients that
that are controlled by the previous
active worker the incumbent active
worker are being closed then the waiting
worker will be the new active worker and
well the service worker itself is
running on the registering clients
origin basically so there are those
concepts implemented by browser inside
and if it's the whole picture of all
those implementations so the upper part
of this figure is a script surface that
you as a web developer access to like
there are like Service Worker bridges
registration Java scrub ject and all the
Gators to get the activerecord insulting
worker those things but well there are
underlying browser internal
implementations there which implemented
those internal concepts that I described
I mean explained in the previous slide
so it all matches to those states and
whenever some events is triggered within
browser then the actual threat I mean
independent thread is working and then
the event is being dispatched and those
texts are kind of those texts can be
accessed by those script surface so this
is like a big picture of the whole stack
and also let's wrap up how do you use
service worker in a sequence like in
order to exploit this we surely have to
register serviceworker the installation
is triggered by this registration
register API and then uninstall is
getting dispatched by browser during
this installation and it is really a
good place to well free cash all the
static resource and when it becomes
acted on an active worker then you can
handle the functional events and own
activate is also on a lifecycle event
that is dispatch it well during the
installation and this is a place where
you can just delete whatever cash
objects that will not be used in the
next version and we also provide the
update API so you can explicitly call
this and also browser what triggers
automatic update by every navigation and
some functional events like push event
so here's the sequence of registration
operations like from number one number
two and number three there are three
register calls in a sequence so with the
first one we create a service request
registration in the map with a scope
being like slash bar the second second
one has different scope
so it creates another new registration
the third one has the same scope with
the first one so in this case this
service worker to that GIS will take it
take over the first one and here's the
installation process I just wanted to
explain how the state of those service
workers seen the registration changes so
when the insta process or update process
is triggered then the first thing
browser does is fetch the service worker
script from the network and evaluate
this script so assuming there are three
handlers like uninstall activated and
fetch defined by developer but at this
moment the fetch event is not really
being dispatch it because this service
record is not really an active area so
it's in installing state and then
browser fires install then you can do
that was pre cash in this in so handler
and all these things when all these
things are successfully done without
without any error then it's becoming an
a rating worker which is in install the
state but still this service worker is
not really controlling any clients until
those clients controlled by the
incumbent service worker are closed and
when that happens then browser dispatch
this unactivated event and from this
moment this service worker as being an
active worker a new worker and then all
the functional events are getting fired
and here's also an important important
concept to wrap up like there are some
main resource requests and sub resource
requests main resource request is the
client man I'm
the patient navigation or worker client
creation so it's obvious record does the
scum match with this main resource
request so if they there's example.com /
index request then we try to do the
school match here so there's a service
worker registration match to this
specific scope and the service workers
pins off and we all do all do this stuff
then this resource that returned by
service worker is being the main
resource for this page and once this
service requests are associated with
this page then the page it just leaves
with this service worker for his entire
life so if there's a soft resource
request to fetch an image while residing
in / image / flower the PNG and even
though there is a registration that has
most specific scope with this resource
it just spins of service worker with
whatever it is already associated so it
just uses as whas and not the images /
yes that establish it is
okay so here are some patterns of AP is
that we can look at like this is instil
handler provides the place where you can
play cash on the staticresource so wait
until is the event to extend a lifetime
of this event and then you open up the
cash and add all the stuff and in the
cache object and this is another use
case like cash on user demand so this is
the case what should what you have seen
in the offline wiki demo so it just
starts from the user interaction when
the user clicks on well some part of the
element then we do some Priven
preventdefault the click event and then
open up the cash and fetch the dynamic
contents and then we'll just add those
contents I mean those resources to cash
so it's just start from the page not
even started from service worker and
this one is more general also in for
service case what we have seen quite a
lot like on fetch event you can respond
with some resource that is SP in the API
and what we do is like open cache object
and then try to match the local cache
first and then if there's a response
then we just respond with that with that
result otherwise we go to the network
and we'll update the cache and also
respond to the client at the same time
and this is where you manage your cash
versions like on activate also this is
on extendable event so you you just
extend the event and get all the cash
objects there and the filter whatever
you will not really require for your
next version of the serviceworker then
you will just explicitly delete all
those objects and this is a push eh I
example so with this one also
dysfunctional event is an extendable
event so call wait until and then
alternate cash then fetch whatever data
for well this mailbox then this example
just will do show notification with the
first occurrence of this email list and
when user clicks on this notification
then you can do this like open window
operation so here's the obligatory will
check out for a picture and you can
check out all those use cases in offline
Joaquin this is great site this is
really obligatory material in different
sense so what comes next to pwn so we
are now here and then well we kind of
here quite contentious discussion around
the user experience about how user
perceived pwa in a browser so we are
experimenting how to just enhance the
user experience to do this installation
or keep better the keep is aware of that
Alex mentioned like a year and a half
ago and I really like this verb keep
because user just starts from his tab is
on her own tab and then keep this app
and then it's just getting more more
capable applications so there will be
kind of an interesting discussion to
just commit and also on the specs side
we are not starting here so we are
trying to just finish the person one of
service workers
around the third quarter of this year
and at the same time we are discussing
about some new features for free to like
foreign cash and cash API enhancement
are those things so well I really want
to want us to think about all this stuff
and really want to make the web
dominating a mobile as well as in a desk
desktop or so well thank you for
listening and I hand back to them I've
got now something that now that you've
had this kind of like deep dive into
service worker and how service worker
works I thought it would be good to kind
of like rise up for a second and and
have a bit of philosophy right and the
kind of philosophy that I'm talking
about is web philosophy so I by the way
if you haven't seen existential comics i
really recommend them go to existential
comics and and check it out very very
good stuff so the part of web philosophy
that i want to talk about is thematic
consistency i was involved in 2005 in
creating something called the mobile web
initiative the mobile web initiative in
the mobile web best practices that were
produced from the working group that i
chaired which was the mobile web best
practices group we're really from a
different era of the mobile web it was
from an era where most phones did not
have and could not have very capable
browsers on them they had compact HTML
browsers they had very very cut down
browsers and we needed some rules to
give to content providers to give them a
kind of best practices for how to build
content in that environment right so
many of those best practices actually
don't hold jewel T true today and I
would argue probably aren't needed we
need that kind of thing today however
there is one rule which was our number
one rule that or number one best
practice that I think holds true today
as much as it did in 2008 and that is
the idea of nematic consistency at so to
quote the best practice is to ensure
that content provided by accessing a URI
yields a thematically coherent
experience when accessed from different
from different devices and this is
something that we called the one web
principle so one web is a bit of a
philosophical concept right it is not
necessarily a technical concept but it
is something that arguably knits the web
together and it's based on the idea of
the URL being the key technological or
architectural element within the web and
I think this relates to something that
I've been hearing about I've been
hearing a lot of questions from web
developers who have asked well now that
you're talking about progressive
progressive web apps and moving
everything towards progressive web apps
and offline first and all that kind of
stuff do we throw everything that we
knew already about responsive web design
out the window is this totally a new
thing and I would argue and I think that
we have we have to make this the case
that progressive web apps must be built
on responsive web design principles so
this is a this is something that's
additive on top of something that we
already know which is how to build great
responsive web applications which is the
current kind of best practice around how
to satisfy the thematic consistency best
practice and it's all about in my view
respecting the URL so it's about when
you go to a certain URL you know that
you're going to get the same content
you're you know you're going to get
something similar something thematically
consistent no matter what device you go
from be it a phone be it a PCB it a
tablet be at a television refrigerator
whatever you've got in front of you
you're going to get something that is
consistent and philosophy okay I've only
got one more thing to talk about and
then
i'm going to write and then I'm you're
not going to see me again well you are
going to see me for the panel and that
is web and VR and that's something that
is that Samsung is particularly
interested in because we have this thing
called the gear VR headset which is
basically like you take your samsung
phone you plug it into the front it's a
bit more complex than google google
cardboard sorry because it also involves
their extra sensors there's a bit of a
touchpad but basically it's the same
kind of same kind of concept and it's a
partner it's in partnership with oculus
so so what we've done or what is to
produce a browser which is actually a
separate browser that sits within the
oculus environment within within the
gear VR and that is based on the same
core it's also serviceworker enabled and
a lot of the focus here is on providing
a viewing experience for immersive
content for 360 degree content that kind
of thing so we've enabled by using
specific video metadata for these for 3d
content for immersive content to be able
to just come right up into the browser
that's sitting within the within the VR
environment and we're doing this because
we want to enable this kind of
experience where you could which I'm
calling like a mixed browsing experience
or a continuous experience where you can
be using your phone to do kind of
regular browsing you're reading a news
article for instance you see that a news
that at the bottom of this news article
there's a oh there's a 360-degree video
associated with this or there's an
immersive experience associated with
this so being able to go straight from
there plugging the phone into the
goggles and actually experiencing that
immersive experience that's something
that we want to enable and that's a
that's built using this this extra
browser or the separate browser but what
we've been able diz this kind of a
experience where you can go straight
from one into the other and it goes
straight to what you were looking at
before so i won't go into too much more
detail on that because we're out of time
but in fact i'm going to blow through
this as well the the only other thing
that i wanted to talk about is that we
are working on a web vr specification
with google with Mozilla and that is a
enabling extra api's a sensor api's and
the and the ability to know whether or
not your phone is hooked into such vr
goggles and all of that is being worked
on in a w3c community group which we
help deform and hopefully we are going
to be seeing a workshop coming up later
this year w3c workshop on web and VR so
watch this space for that so anyway
thanks very much for listening and I'm
going to hand back over to at all</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>