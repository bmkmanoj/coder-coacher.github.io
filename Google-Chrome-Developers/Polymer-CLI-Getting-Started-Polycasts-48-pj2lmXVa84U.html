<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Polymer CLI: Getting Started -- Polycasts #48 | Coder Coacher - Coaching Coders</title><meta content="Polymer CLI: Getting Started -- Polycasts #48 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Polymer CLI: Getting Started -- Polycasts #48</b></h2><h5 class="post__date">2016-06-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pj2lmXVa84U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey there polycasters we're out here and
welcome back to the show so today on
polycast we're gonna be looking at the
polar app tool box and the recently
released polymer CLI to get started over
in my terminal I'm gonna run npm install
bash jeep polymer - CLI i've already
gotten this installed so I'm just gonna
go ahead and keep churning along the
next thing I'm gonna do is I'm going to
do a make derp my - app so create a new
directory to hold my application CD into
that new directory and then I can run
polymer in it and it's gonna ask me what
kind of thing do I want to in it because
it can scaffold out all sorts of
interesting things for me so it could
scaffold out an element it could
scaffold out a blank project it could
scaffold out a demo app like shop in
this case what I'm gonna be doing is
using this app drawer template so this
very last option here I'll go ahead and
select that and that's gonna go and
stamp out a few files for me and it's
also gonna run Bower and go out and
install a bunch of components to use in
my application so under the hood this is
installing a prowl and application it's
installing app layout elements and a
bunch of other goodies that we can use
to make sure we have a really nice
performant app so that's done the next
thing that I can do with the CLI is I
can actually use its built-in server to
preview the app so I'll run polymer
serve - - open and this is gonna
actually boot up my browser and can see
here's that app template running inside
of Chrome I'll zoom in a little bit so
it's bit easier to see you can see that
as I'm clicking on these different items
over in the sidebar if you check our our
URL here you can see that that is
updating as well as we go from V 1 V 2 W
3 so we know that a proud is working and
we've basically got a single page web
app that's just ready for us to start
adding content to you so the next thing
I want to do is just create my own
element over in my application I'm going
to boot up my text editor and in my
source directory this is where all of my
elements live so you can see I've got
one here called my app and then a few
others called like my view one two three
things like that right so I'm just going
to go ahead and create a new file called
my
new view HTML and I've already gone
ahead and copied a little markup that I
can just chuck in there so I'm gonna
from my Bower components directory I'm
gonna import polymer I'm gonna use the
the Dom module element to create a new
element called my new view its template
is is very simple we've just got a
single style inside of here to make sure
that it lays out in a block fashion and
then I've also got an h1 in there so we
can verify that some some text is
working that's something rendering on
screen lastly I've got this little block
down here at the bottom which is just
going to register my element name and
say that it's called my new view okay
good to go
now I'm gonna switch over to my index
file and make sure that I can add my new
view to my list of different pages that
we can switch between so I'm gonna
scroll down here and you'll notice that
there's there's a whole bunch of stuff
kind of up in the head of the document
there's a bunch of script tags inside of
here and you might be wondering like
what is all of that JavaScript doing so
let me walk through that really quickly
just start off with we've got this bit
here that says window dot polymer so
these are settings kind of like global
settings that we're setting for polymer
so that when the app boots up it knows
how it should behave
this first one lazy register what that
does is that tells polymer if there's a
tag and you've already got like an
attribute or something defined on it but
you have not loaded the definition for
that element yet when that definition
does load it should look to see what
those values are on those attributes and
then serialize them to the properties
inside of the element the other setting
here is called Dom which is set to
shadow and what that means is if we're
on a browser that supports native shadow
Dom let's go ahead and just use native
shadow Dom if we're on a browser which
does not support shadow Dom we're gonna
use the shady Dom shim that comes with
polymer below that we're actually going
to do a little feature detect so we're
gonna see if the browser supports web
components if it just not this line
right down here is going to lazy load in
the web components polyfills in the form
of web components light J s and then
lastly we've got this little chunk which
is going to check to see if
serviceworker is supported and if it is
it's gonna go ahead and try and register
a serviceworker for us and you look over
here in our files you'll see that
there's a serviceworker dot j s which
was stamped
by the polymer CLI so this is kind of
cool because our our template it's gonna
go ahead and try and make sure that it
can work offline and in fact when we run
Polar Sea allies build step it'll
generate all the code that we need for
our service worker to actually start
caching all of our different views which
is pretty great now further down here
we're gonna import the myapp element
there's some basic critical Styles right
here and then we've just got the my app
tag right there which is kicking off the
rest of our app inside of my app this is
where I'm gonna actually put that a new
view that I've created and this is kind
of a typical layout sort of a kind of
like an app shell if you will we can see
that we've got our App route inside of
here and if you watch the previous two
episodes you're familiar with using a
Prout to do routing in your app and
further down we've got a little iron
selector and this is where our sidebar
menu is created and then a little
further below that we've got iron pages
this is the element that's handling
swapping all of our different views when
either the URL changes or someone clicks
on an item in our sidebar so this is
where I'm gonna add that my new view
that I've created right here in iron
pages so I'm just gonna go duplicate
this view 3 I'll update some of the
parts here just say my new view I'm
gonna go up to the menu here duplicate
this right where it says view 3 I'm
going to say my new view so we'll save
both of these our new view and we call
this new view and now you might be
wondering I didn't import my new view so
how is this application gonna actually
get the definition in there to render
that element for the user and this is
where we've got a pretty cool feature
that's built into this template and it's
part of polymers new purple pattern
which they talked about a little bit at
i/o and we'll link to that talk at the
end of this video and basically the
whole idea around purple is whenever
possible you want to lazy load your
element definitions so that way you're
only registering stuff the moment that
the user would be viewing it on screen
and that's sort of needlessly eating up
bandwidth or consuming CPU cycles
registering illness that maybe the user
is not looking at yet so if we scroll
down to the bottom of this elements
definition you'll see that there's this
page changed function right here and
this is linked up to our app router
and what happens is every time the route
updates it checks to see what the page
value is and then it's gonna call import
href and it's gonna say alright well
let's just pull in anything you know
based on the page value let's pull in
any element that matches that page name
with the prefix of my so we've got in my
view one my view to and because I just
created a new one called my new view
when someone goes to a page called slash
new view this is gonna run it's gonna
fetch that definition that elements
gonna upgrade it in place and only then
will we swap over to the new view so I
think we're actually ready to see this
in action we can go back to our terminal
verify that our server is still running
so far so good now let's go back to
Chrome refresh the page and we see that
we've now got this new menu item for a
new view and clicking on that I can see
that h1 showing up so I know that my
content is working my element was lazy
loaded and stamped out to the page now
the last thing I want to do is take this
application and actually deploy it to a
service like firebase so I can share it
with the world
now firebase is a really really amazing
service which does real-time database
syncing as well as static hosting and a
bunch of other really cool features for
our use cases we're just gonna use the
the basics static hosting so I've
actually gone ahead go onto the firebase
console and created this brand new
project called Polly app if you if you
are new to firebase you'll need to go to
their website and create an account at
firebase comm and then click on the
little console button and that way you
can start adding new applications so
I've got this little app called Polly
app and in my terminal I can use
firebases command line tools to actually
deploy my application so I'm gonna run
firebase login if I have not logged in
yet because I've already gone ahead and
logged in I can just run firebase in it
I should point out actually if you
haven't installed these tools yet you
can do so with NPM install - and Chi
firebase tools so that'll actually give
you access to their command line and I'm
gonna run firebase in it and it's gonna
ask me some questions about my project
it'll ask me do we want to use the
database or do we want to use static
hosting I'm gonna hit spacebar to say I
don't need the database I just need
static hosting it's gonna ask me which
directory I want to deploy and though we
haven't built our
project yet actually I'm just gonna go
ahead and say that I wanted to play a
directory called build / bundled and
we'll come back to that in just a second
it's gonna ask do we want to rewrite all
of our URLs to always serve index.html
which we do because we're building a
single page web app so we'll say yep and
then it's going to ask us which project
do we want to associate this with and
we're gonna associate it with that poly
app project that I created this is going
to create two files for application
firebase JSON and dot firebase RC both
of which have some configuration data
for our app the last thing we need to do
is we actually need to build our
application for production and before I
do that I'm gonna switch back to my text
editor and find this file here called
Palmer JSON now the way that this is
gonna work is the polymer build tool is
going to try and sort of separate our
app into the shell and then all of the
different fragments anything that is
lazy loaded so all those views that I
mentioned before my view one my view two
those are all lazy loaded at runtime as
is the new view that I created so what I
want to do here is where it says she'll
leave it set to my app dot HTML and
where it says fragments I'm going to add
a new fragment for that new page that I
created so I'll say source slash my new
view dot HTML and save that and what
happens here is when we run the polymer
build step vulcanize is going to go and
it's gonna try and create little bundles
for each one of these pages making sure
that it's not loading duplicate elements
which is really nice it's gonna cut down
on our bandwidth usage and prevent
possible weird errors when we try and
like double register elements or stuff
like that right so it's just going to go
ahead and solve that for us which is
pretty cool
so with our fragments in place we can
now go to our terminal and run polymer
build and this is gonna generate two
versions of our project a unbundled
version which does not use vulcanized or
anything like that that is for servers
that support HTTP to server push and can
actually just have stream down the
individual element definitions for
servers which don't support h2 server
push we can have a bundled version and
that's gonna use vulcanize to actually
look at all of our different fragments
and turn those into little vulcanized
bundles of concatenated elements and
that's actually the one that we're gonna
do
so we already went ahead and we told
firebase to deploy the build / bundle
directory which means the last thing I
need to do is just run firebase deploy
now that those directories have been
generated it's gonna go ahead and push
all that content up to firebase so I can
wait for the progress indicator to
finish and lastly we can run firebase
open and it's gonna ask what we want to
open and we'll go down to where it says
hosting deployed site and there we go
we've got our application running on
firebase we can click on a my new view
and verify that everything looks as
expected and really interests a few
short minutes we've gone from having no
apple whatsoever to scaffolding
something out using the CLI to setting
it up on a firebase and deploying it to
the world now there's a lot more that I
want to cover around app toolbox and CLI
so we're just getting started
if you have questions though please
leave them for me down in the comments
or you can ping me on a social network
of your choosing at hashtag ask polymer
as always thank you so much for watching
and I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>