<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Browser testing with Travis &amp; Sauce Labs -- Polycasts #38 | Coder Coacher - Coaching Coders</title><meta content="Browser testing with Travis &amp; Sauce Labs -- Polycasts #38 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Browser testing with Travis &amp; Sauce Labs -- Polycasts #38</b></h2><h5 class="post__date">2015-12-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/afy_EEq_4Go" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey there polycasters rob here today on
the show we're gonna be continuing our
series on web component tester by
looking at Travis CI and continuous
integration with sauce labs a lot of
fancy buzzwords there but basically what
I'm describing is testing your site on
multiple browsers in the cloud so to do
that first thing we're going to do is
set up Travis CI now if you've never
heard of Travis CI before you may have
actually seen it and not known it
oftentimes you go to github repos and
they have these little green badges that
say build passing that's Travis CI it's
a little service to let you run unit
tests up in the cloud now one of the
cool things about Travis is that it can
sort of work with other services and one
of those services that we're gonna
couple it with is called sauce labs a
sauce labs whole thing is letting you
run your tests against multiple browsers
on different VMs so imagine being able
to test Windows Internet Explorer 10 and
also iOS and also old Android browser
all using the same service that's what
sauce labs gives you so today we're
gonna be kind of combining both of those
to verify that our components work
really well on different platforms now
the first thing we're gonna do is set up
our Travis account so here I've already
gone and and registered and everything
like that and what I want to do is go
over to up in the top right where it
says accounts click on that that will
take you to this page here and there's
some steps that it outlines for setting
up your account to work with Travis the
first is going and finding your your
repo in there and just like flipping
that little switch to enable your repo
then you're gonna need to set up a
little Travis Gammill configuration file
and that's basically just to give Travis
instructions like hey what do I do when
you push new code right the last thing
you're gonna want to do is just trigger
a build by doing a regular old git push
so for these tests we're gonna be using
a set of elements that I've already
created called chart elements so let's
go find those in the list there they are
we're gonna flip this switch right here
all and that is basically it now we've
linked Travis to this github repo so
when I'm pushing new code it's gonna if
there's a configuration file
tell Travis to do a bunch of cool stuff
and the next thing I want to do is go
over to sauce labs and create
my salsa count salsa sauce has a section
on their website called open sauce and
basically what they do is they give free
accounts to folks who are doing open
source software which is maybe you in
this case I'll include a link to this
down in the description so you don't
have to hunt around for it you go to
that page and if you scroll down to the
bottom there you're gonna see a little
button for creating your account click
on that they'll take you through a
pretty typical flow for for setting up
your own sauce account and once you're
done it's gonna take you to a dashboard
that looks kind of like this now the
really important thing in this dashboard
is down there in the bottom left you've
got this little access key right so I'm
gonna blur that out in this video so you
can't see mine but yours will not be
blurred get that access key save it to
your clipboard because we're gonna use
that in just a sec the next thing we
want to do is figure out what browsers
do we want to test so if we go to the
sauce labs wiki and I'll include a link
to that in the description as well you
can see that there's a whole host of
different browsers different version
numbers different platforms right all of
these are available for us to test upon
so we could test Android we could test a
Chrome or Firefox we could test on
Windows or Vista or Mac or what-have-you
right all these are available so I'm
just going to go through and kind of
pick a few of these that we can use in
our application next we'll go to the web
component tester website and we'll look
at the readme file which has a little
section on plugins now web component
tester ships with a sauce labs plugin so
we can just copy this little block of
JavaScript right here go to our text
editor paste that in in a web components
coffee
jace on file so w CT dot-com JSON right
so we're gonna do plugins sauce browsers
and inside of browsers I'm just gonna go
ahead and Chuck in a whole bunch of
these browsers that I grabbed from the
sauce labs wiki so I've got Microsoft
edge on windows 10 there's no version
number because that's an evergreen
browser but just below that we've got
Internet Explorer running version 11 on
Windows 8.1 it's really awesome that you
have just all these different platforms
available to you if you're a Windows
user maybe you don't have access to a
Mac then we can test on Safari on
different versions of OS X all right
very cool stuff there
once I've got that squared away I'm
gonna go back to the polymer / tools
repo inside of here there's a sample
Travis file and a bunch of steps that'll
outline how we get things working with
Travis and sauce labs so going down here
there's a there's a list of the
different Travis commands that you can
do we've actually done all these already
but you have them here again for
reference and then we're gonna go down
in the section that says web component
tester with sauce right so there's a few
items here that we need to tackle the
first is we need to grab this sample
Travis file and then we're going to need
to install the Travis rubygem and lastly
we're going to run these two commands
here to encrypt our sauce labs info so
we're gonna go grab this Travis yeah mol
file Travis with sauce and I'm just
gonna go to raw mode hit enhance enhance
yes okay and now it is nice and
ginormous I will paste that into my text
editor mmm now this is a lot of codes
what's going on here let's walk through
these piece-by-piece up at the top the
first thing that I'm doing is I'm just
telling Travis what environment to run
in Travis can run all sorts of different
environments here I'm just saying I want
it to be no js' I want it to run the
most stable version of node and I don't
want it to call sudou or do anything
like that
next I'm telling Travis what browsers I
want it to install locally now you don't
have to do this part this part is
optional but I just thought it'd be kind
of a cool thing to include Travis itself
has access to a couple browsers if you
want to try and test like Firefox or
Chrome just there locally so I'm
actually putting in these commands this
little this will install those on Travis
so we have them and then below that
there's this little block called
before scripts so this is all the codes
that's gonna run before I kick off my
test and this is basically it's all the
preamble des to setup and prep the VM so
I'm installing web component tester I'm
installing Bower I'm exporting the path
to the node modules binaries for web
component tester and I'm also going and
calling Bower install to install all of
my components so that is going to set
everything up now the environment is
primed the last thing we're gonna do is
call these two scripts down here and you
might be looking at these being like
whoa I have no idea
any of that does let me decipher it a
little bit that first line that says xvf
be run web component tester that
basically says hey on Travis just here
locally I want to run web component
tester and that's actually going to test
those two browsers that I install local
Firefox and local Chrome the line after
that is gonna check to see if this was a
pull request if it was not if we just
like pushed some code to github or
something like that then it's gonna run
our test in sauce labs using that whole
huge list of browsers that I wrote out
before now to make this work exactly as
we Specht it out I'm going to need to
add a couple flags to these commands
this first line here I'm gonna add the
skip plug-in sauce come in the second
line below I'll add the skip plug-in
local command basically what that means
is when we're testing in Travis we only
want to use the local browsers when
we're testing in sauce labs we only want
to use that list of browsers that we
define there
everything is square let's now go and
set up our sauce keys and this is going
to let us do sort of secure
communication back and forth between
Travis and sauce labs I've already gone
ahead and installed the Travis Jim if
you have not done that you can run gem
install Travis and then called Travis
encrypt you're passing your sauce
username and the ad flag and then Travis
encrypt passing your sauce access key
and do the add flag there as well and
that's gonna write all those values to
your yeah mol file you can actually go
back and verify that you've got these
like big secure blocks of hashes this
means your square your set up and now
you can actually start working with
Travis and sauce go back to our terminal
and we're going to run git add git
commit and lastly get push we're just
gonna send all that code up there and
then we can switch over to Travis and we
can actually watch all of our tests
running against all these different
browsers live so you can just sit there
and watch the output as it runs chrome
47 Firefox etc right those are those
local browsers that Travis already has
and then if we let it keep running now
we'll start to see Windows 10 OS X this
is now it talking to soft slaps kicking
off all these other browsers in the
cloud you can see that all our tests are
passing there as well it's all saying
that is the basics of setting up Travis
and sauce it is a great approach to take
if you want to go ahead
figure out if your components are
working well in a cross-browser fashion
there's a lot more that I want to cover
on these topics so if there's things
that maybe you're interested in seeing
please leave us a comment down below let
us know what you want us to talk about
also consider clicking that like button
or the subscribe button if you want to
see more of me if you want to ping us on
a social network of your choosing you
can send us some questions at hashtag
ask polymer as always thank you so much
for watching I'll see you next time
I'm doing like a cheerleader and dance</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>