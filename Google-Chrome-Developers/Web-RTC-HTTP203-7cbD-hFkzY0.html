<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Web RTC - HTTP203 | Coder Coacher - Coaching Coders</title><meta content="Web RTC - HTTP203 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Web RTC - HTTP203</b></h2><h5 class="post__date">2017-11-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7cbD-hFkzY0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I have been dabbling a little bit with
web RTC Oh exactly I mean we can stop
the topic right there we pretty much
already doing that yes that's all I know
about web but it's the first thing it
already knows me so web RTC has been
around for a good amount of time I want
to say at least four years because I
know that some Dutton's article on html5
rocks is from 2013
yes so it's it's been around for a while
yes it allows you to basically create a
connection to another browser that can
be even on a different machine even on a
different network failure ethically
video-calling
no yes but no so I'm gonna explain first
and then give you the money
so okay so by default web RTC
connections are established by you
figuring out your own IP addresses so
you figured I am available over local
host then you get your local IP network
IDs and that's pretty much it that's
what you send over to the other client
and they try to connect but you send to
the other client I'm available on
localhost folks yeah if you want the
same machine that works okay all right
thank you all the possible addresses
that you know you would could be
available under you somehow pass to the
other client and then they try to
connect
oh so you find them all and they it just
you ice them yes you get in a series of
events for ice candidates and ice is
this protocol and how to establish
this is full of yes exactly so it's not
ice candidate but that only works if
these peers are on the same machine so
local host works or on the same network
without client separation which most
public hotspots have right so if you're
at home and you have your phone in your
laptop this will most likely already
work without a ton of stun or a turn
server okay because they both know their
IP address in the same network they can
talk to each other and then you
establish the connection with it nothing
leaves the house yeah with about RT c--
shenanigans which is another completely
different and super awful topic but if
you're not on the same at
work right for example your roaming
ordinary here you're out with your phone
which has a proper public IP yes
so no firewalling but just a public IP
the phone doesn't know it's public IP
necessarily so that's what a stun server
comes into play the sole purpose of a
stun server is to receive a request
figure out which IP this request came
from and give back a signal in the web
RTC compatible way that says this is
your public IP so you can add that to
your ice candidates because that's
another IP that you're potentially
reachable under if however you're behind
your Reuter at home or you have a
firewall where you know incoming
connections are blocked or you actually
have to like do some netting to get back
to your actual connection some netting
will get a turn server comes into play
which is a server in the interwebs that
both sides connect to and tunnel that
traffic through it it's the way to
remember so means like turn has the hour
which stands for relay that's a
difficult second album make like no your
um yeah your your flexbox ones it was
better but it's like that's the morning
I have yes the is that it's the relay
server that relays your traffic instead
of you to the public intuitive both can
point even if both ends are behind
different firewalls in different
networks in my experiments I haven't
even bothered with setting up stun or
turned no cuz I was like I'm just gonna
because what I was doing I was once
again playing around with comlink and I
wanted to expose the entirety of one
browser to another browser so basically
I've exposed the entire window object of
Safari to Chrome and I can change the
title of the Safari window from chrome
by calling document dot title equals
blah blah blah and it is actually a
remote object from the other browser
with a web RTC tunnel in between which
is super cool yeah but you're getting
there was a super painful experience
because you can totally tell that WebRTC
was written by people who are in
telecommunications and yet a web
development I do find that the the web
standards even that the standard text
and the API is it does look like it's it
was imported from another planets right
look at the completely different way of
thinking it starts out with me that it's
also is already completely asymmetric to
start with so you start with creating an
offer
okay that contains what you are and once
you say this re sequined the local ends
should fit this offer whatever that
means you get Iced candidates which
describe yourself sure help that's what
it's it's super confusing so you you
create an RTC connect rtcpeerconnection
even though you don't have a connection
yet but that's the first thing you do
right you create a connection you don't
have then you create turn on the data
channels you want to create because you
need to know what kind of connection you
want to have in the end so even though
if this connection hasn't been
established you're already thinking
about channels and creating the objects
right okay then you create this offer
which describes I guess what your
capabilities are like I can do these
codecs I can accept data channels
I am the passive listener waiting for
connections these kind of things are in
there something like a lowest common
denominator I guess great and then you
say to the connection set local
description where say I am on the local
end and we don't know the other victim
it so you say your local connection and
you get a list of your candidates so now
you have the offer and you canids and
now it is your responsibility as a
developer to get these two things the
list of candidates and the offer to the
other side or to the other period wants
to connect you right so peer discovery
is not even covered by web RTC you
already need to know and have a way to
communicate with the other end just head
up a web RTC connection
oh so that's separate from a stunner
return server that that part that can
actually sort of brokered a deal between
two you already need to know where to
talk to to set the connection so that's
Mike always you have a signaling back
end where you blaze if you say here's my
offer
here's my eyes candidates and then the
other end the other computer basically
gets those and sets what the offer as
its remote description because from
their perspective that is the other end
of the connection right okay so you're
talking to the like the second copy
wants to you want to have what I'm rare
in the second career they want to have a
web RTC connection yes then somehow
out-of-band you transfer the offer and
the ice candidates to the other computer
and that one this is as its remote
description because that is describing
the other end
of the connection but then this side has
to also generate an answer and another
list of pure Kenneth's and it has to go
back out of band then this side says the
other original side says this is my
remote connection and then you can
communicate and it is it sounds
confusing because it is confusing you
know indexdb sounds gretna I know right
it's fine it is perfect it's just
mind-blowing and let us expense me a way
nobody is really using it because it is
really difficult and being why the first
thing people did is a right abstraction
I erased on top of it but being a but
like the end result that you got to with
the data channel of being able to sort
of have like one browser talking to
another as if it is just in a worker
that's pretty incredible I I see
potential in combining web RTC and
comlink but there's work to be done they
also played c'est la vie by the witched
and just asked for one extra bonus point
who knows what this song is I know what
that song is so do you know what that
song is homework for you is the best
song ever it's an Irish girl band it's
amazing</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>