<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ServiceWorker Versioning: Micro Tip #11 - Supercharged | Coder Coacher - Coaching Coders</title><meta content="ServiceWorker Versioning: Micro Tip #11 - Supercharged - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ServiceWorker Versioning: Micro Tip #11 - Supercharged</b></h2><h5 class="post__date">2017-08-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ruKbxoFACp8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">[JAZZ MUSIC PLAYING]

SURMA: When developing
a ServiceWorker,
it is common to split up
the code into multiple files
and load them using the
Import Scripts function.
The problem is that changes
in one of the imported files
might not reach
the ServiceWorker,
as the file that does the
importing did not actually
change.
An easy way around that is
to put your app's version
number into the main
ServiceWorker file
and update the version
number on every build.
Let's look at a project that
uses scope as an example.
In our build task, we bump the
patch version of our project.
In the gulp file, we
read the package.json
and use it to
replace a placeholder
in the ServiceWorker file with
the current version number.
This way, every build will
have a unique ServiceWorker
throughout development.
An additional trick is to
stick to semantic versioning.
The ServiceWorker can inspect
if the version number is only
a patch, a minor revision,
or a major revision.
Based on that, you can
reload the page for the user,
prompt the user to
reload, or just install
the new ServiceWorker
silently in the background.
Enjoy.
See you next time.
Welcome to the end cart!
If you want to know more
about ServiceWorker,
you can watch the
last livestream
I did with Jake over there.
But more importantly,
the big Chrome.
Just click it to subscribe.
</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>