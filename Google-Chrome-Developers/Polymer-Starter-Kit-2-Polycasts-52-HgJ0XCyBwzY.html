<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Polymer Starter Kit 2! -- Polycasts #52 | Coder Coacher - Coaching Coders</title><meta content="Polymer Starter Kit 2! -- Polycasts #52 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Polymer Starter Kit 2! -- Polycasts #52</b></h2><h5 class="post__date">2016-08-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HgJ0XCyBwzY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey there polycasters rob here welcome
back to the show so a lot of people
recently have been asking me if I'm
starting a new project should I be using
polymer starter kit or should I use
polymer CLI now to help with this
problem we've recently taken polymer
starter kit and migrated it over to
being a polymer CLI compliant template
so now we can sort of definitively say
you're starting a new project you should
absolutely be using polymer CLI follow
me over here to my laptop and let me
show you how this works so I'm going to
start off by running NPM install - key
polymer CLI this will pull down the
latest version of polymer CLI which
includes our new templates and once
you've installed that you can run
polymer in it after you've created a new
project directory of course and you'll
see that you've got a few options here
element application shop starter kit and
we'll talk about this last one custom
build in just a second the one we want
right now is starter kit so you go you
hit enter on that it's going to run npm
install it's going to run Bower install
so it'll take a minute or two to to pull
everything down I've already got it set
up on my machine over here so let's just
go ahead and open this starter kit app
take a look around the code what I've
got here is pretty straightforward I've
been an index.html file inside of here
I've got you know all the appropriate
meta tags so I can get the right app
icons and things like that on different
browsers I've also got a link to a web
app manifest I've got my polyfills being
lazy loaded I've already got some
critical CSS in here and then we can go
all the way down you can see that we've
got a my app element and then looking in
the source from my app you can see that
we're using the latest app layout
elements and we're also if you scroll
down a bit you can see that we're also
using the the purple loading pattern to
lazy load in our dependencies you can
see that down here in this page change
handler now a lot of stuff that we
covered in a previous episode on polymer
CLI so I will link to that episode over
here so you can go check that out you
can see how this project is built
because basically what we did is we took
the original app drawer template that
shipped with polymer CLI and we just
migrated it over to being our new
starter kit we tweaked it in a few
places to make it a little bit nicer but
base
we thought that was a really good place
for new users to start hacking on
polymer so we've just rebranded it and
that's what this is and we go over to
our terminal we want to test this thing
out we can just run polymer serve that
will boot up our local server I'm gonna
fire up localhost 8080 and you can see
this is you know pretty great little
starter kit it's using a Prout's you can
see as I'm clicking on these different
menu items might my URL is changing up
here and if we want to build this
project so we want to have it you know
vulcanize and get sharded into different
bundles we can just run polymer build
that's going to go out it's going to
generate two versions of our projects
going to generate a built version or
bundled version and it's going to
generate an unbundled version so the
bundled version is for people who need
vulcanized need web components shards
which is most folks at the at the moment
the unbundled version is for those folks
who are living a little bit more on the
bleeding edge and can use HTTP to server
push to push down all of their resources
so that one doesn't do any sort of
concatenation or vulcanization it just
keeps all of the source files separate
but I'm going to you know test out the
bundled version just to verify
everything worked out from my build so
if you polymer serve build slash bundled
and again I can go fire up localhost
8080 I can see we get the same site got
no no console errors or anything like
that everything looks good but now we're
working on the vulcanized version and
the one that has been charted using web
component shards so this is really great
but I know that a lot of people really
like polymer starter kit because it came
with this really powerful gulp file and
if you look at our source code over here
you can see that there's there's a lot
of things included but what is not
included is a gulp file instead polymer
starter kit just relies on the the
default build that the polymer CLI does
for you and that's a pretty compelling
option there right it still does
vulcanization and will actually generate
your serviceworker for you it does web
component shards based on your polymer
json file so there's a lot of really
cool things you get from that default
build but I recognize that like some
teams have additional things that they
want to add to their process and so to
support those folks we've taken polymer
starter kit and we've also created an
additional generator which we just call
the the custom build template so to
install this project over in your
terminal you would run here I'm actually
going to go to the github page and grab
the name here so you can find this on
github at generator polymer init custom
build the name is a little verbose but
the the magic part here is any project
that starts with generator polymer in it
can actually be plugged into the polymer
CLI so what we're going to do is we'll
run npm install - g generate our polymer
init custom build that will go it'll
it'll fetch all the right resources and
then the cool thing about that is once
that is installed on our system we can
just run polymer in it
and now you can see we have this extra
option down here for custom build so
i've already got this set up on my
machine let me go and check out that
custom build app so go to my desktop
i'll CD into custom app let's take a
look at this now this project is set up
pretty much identical to polymer sugar
kit it's it's literally based on that
polymer starter kit that we were just
looking at with the exception that it
has this really cool gulp file that it
ships with so over here we've got this
gulp file j/s i'll boost this up a
little bit for you so you can kind of
see what's going on and the the main
magic that is going on in this gulp file
is rather than just rely on on you know
vanilla gulp by itself we're actually
using the library that powers polymers
Eli's build to sort of like help us
construct our pipeline here so that
library if we go over to github I can
show you the page for it it's called
polymer build and this is just the
underlying you know node module that
powers polymer CLI and the cool thing
about this is we can run our files
through this we can have it do all the
things it normally does like generate
our service worker and stuff like that
but it also gives us hooks where we can
step in and we can say hey I want to do
some additional processing of the source
files so over in the gulp file here you
can see that there's a little bit of
configuration data up here at the top
right so this lets you set the name of
the output directory and things like
that the name of your Service Worker
file etc I think and see that we've also
gone ahead and we've sort of predefined
a few useful gulp task for you so we've
got a clean task here task for minifying
images these all live over in this go
tasks directory if you want to create
additional gulp task you want to have
sort of like a modular gulp file where
things are separated out like that you
can add your own tasks to this gulp task
directory that's really what it's there
for and then we've got these two
functions here source and dependencies
the source function is where we process
all of your actual source files what the
polymer build library does is it looks
at all of your HTML imports and it
extracts the inline CSS and JavaScript
and the HTML and it turns it into just
one big file stream that we can then
just filter and pass the different gulp
tasks so you can see here where we're
calling split resources this is you know
this this project object here is part of
the polymer build library so we're
splitting our resources we're turning it
into that one big stream and then we can
just use gulp if to filter by file type
and then pass that resource to a
particular task so here we're saying hey
filter by all the different images when
you find an image pass it through this
minify task we also have this
dependencies task down here this is
where we do basically the exact same
thing but we do it for your dependencies
instead of your source files so if you
want to do something special to your
Bower components or something like that
that's where you would do that work so I
think would be a cool example is for me
to just show you how you can add your
own gulp task to this file so right now
I'll just run gulp to generate a build
and we can see what it outputs you can
see that you know it mentioned that it
minified our images because we had that
custom task in there and going back to
our editor i'll go look at the build
file i'll look at the bundled version
and i'm going to open the my app file so
this is sort of like the the place where
everything is being vulcanized into
you'll see that there's a lot of stuff
kind of mushed into this file so you've
got all the source code for polymer
being mushed in here and if i go down to
the bottom you can see this is the
source code for my actual my app element
and right now none of this javascript
has been minified in any way whatsoever
so let's change that let's let's run
this code through a mini fire to do that
I'm going to go to my console and I'm
going to do NPM install save dev and
we're going to throw in gulp uglify so
wait a sec for that to download off of
the interwebs
okay so now we've got ugly in our
project and I'm going to go over to the
gulp file here I'm going to go over to
where my gulp tests currently are and I
will just drop in I I'll drop in a a
Const for uglify and now in this sources
section I'm going to drop in a little
one-liner here where I pipe any of my
files through gulp if if those files
look like JavaScript files let's run
them through ugly fee okay so remember
we're in the sources function here so
this is just going to be applied to our
actual source files not to our
dependencies so let's see what the
output of that looks like we'll run it
through gulp we're going to go back we
will look at our build look at the
bundled version we look at my app and I
can see that down here at the bottom and
see that my code was was minified so the
definition for the my app element that
got mushed together right that looks
good but if we go back to the top you
can see that all of this polymer source
code this remains undefined right it's
still all huge and gigantic here so I
can do basically the same thing that I
did there I can I can apply that same
task to my dependencies so I could run
my dependencies through Auto Phi as well
if I would like I will run gulp again
this time take a little bit longer
because we're processing a lot more code
through Alafia and when I go back now I
look at my build and now you can see
that all of that dependency code has
been minified as well if we want the
last thing we can do is we can just run
polymer serve build slash bundled and
then we will probably put my phone on
airplane mode by the way that was my mom
calling about my wedding
so so we'll go back to our terminal
we run polymer serve build slash bundled
go over to localhost:8080
and now you can see we are running our
built version with minified javascript
and we still have everything that we had
from starter kit we still got that cool
router and and the app layout elements
but we now have the option of you know
kind of hooking in where we want to and
adding our own gulp task which is pretty
great that about covers it for today in
the next episode I actually want to talk
about how you can build your own
generator how you can actually plug in
to polymer CLI and create your own
scaffold just like we did with this
custom build here but if you have any
questions on this episode please leave
them for me down below in the comments
or as always you can hit me up on a
social network of your choosing hashtag
ask polymer as always thank you so much
watching and I'll see you next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>