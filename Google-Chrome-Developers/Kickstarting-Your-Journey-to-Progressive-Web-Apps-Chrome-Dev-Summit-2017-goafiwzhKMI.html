<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Kickstarting Your Journey to Progressive Web Apps (Chrome Dev Summit 2017) | Coder Coacher - Coaching Coders</title><meta content="Kickstarting Your Journey to Progressive Web Apps (Chrome Dev Summit 2017) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Kickstarting Your Journey to Progressive Web Apps (Chrome Dev Summit 2017)</b></h2><h5 class="post__date">2017-10-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/goafiwzhKMI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone it's almost lunchtime I
hope you enjoy your day so far is it
good
well ok so you've heard a lot today
about progressive web apps and about the
benefits they bring and the tech stack
they're using and probably a lot of you
already tried your hands with
progressive web apps right it's always
fun to try a new tech with your personal
project a side gig a demo here and there
but actually when it comes to big
business to big commercial
implementations we sometimes get a
little bit shy in implementing
progressive features and this talk is
aimed exactly at overcoming the shyness
I hope to give you some ideas and some
procedures that you can take back to
your teams to organizations and really
kickstart your progressive web app
journeys over there me and my team we
recently went through a few progressive
web app migrations and by migration I
mean that we were modernizing and
implementing progressive features on
existing websites the ones that already
have an existing tech stock and an
active audience and from even though
each of these projects was slightly
different took among things that I
noticed were that firstly restructuring
an existing website it's much more
difficult that writing anything from
scratch it can be even overwhelming so
it's really good to have some structure
and some process you can stick to and
secondly implementing progressive
features is much more a question of a
right mindset than anything else of
course knowing the ins and outs of
technology does help a lot but you
really need to be in a proper zone to
think in a way your users would think
when they're using your app to
they're their experience really
delightful and these are two things I'm
going to talk about today exactly it's
the process and the mindset of a
progressive web app migration so
progressive web apps as you know focus
on delivering a delightful web
experience to the users these are still
web experiences at all and very often
organizations already do have some web
presence out there this means that we as
developers we very rarely have the
luxury of starting from a blank page we
rarely can or actually should start from
scratch and with existing websites and
their complexities there is no
boilerplate there are no generators
already made starter kits that can guide
you in the right direction from the
beginning there is an art to deciding
how to tackle progressiveness in those
apps and in art you often go if your gut
feeling right but as the saying goes the
best improvisations are the ones that
are well prepared beforehand so it's
better to be well prepared it's good to
have a structure to follow a
well-established process keeps you your
project on track helps you enormous Lee
in keeping in touch with your
stakeholders without the project and
also actually sometimes keeps you sane
in the ups and downs of the project in
my case the process usually looks as
follows I strongly believe that any
project starts with a coffee because no
coffee means no productivity so here we
go the project starts with a coffee of
course I can admit this might be a
personal preference so if you have a
different thing to start go with that
one but anyways after you had a coffee
or whatever gives you a kick you start
with the analyzes step in this step you
look carefully at your current website
and your resources to get a proper
understanding of your starting point a
good analysis also gives you a very good
reference point that you can compare to
after the implementation is done
next we rarely have the luxury of
implementing everything at once because
our resources are limited so you need to
prioritize and the cool thing about
progressive web app tech is that it's
not really a monolithic technology it's
very modular concept so you can often
pick and choose what to implement and
also in what order
once the priorities are set it's good to
stop for a moment and prepare yourself
by choosing the right tools it's
important to remember that you don't
need always to write everything from
scratch you're not alone there are tools
and libraries that can help you so don't
reinvent the wheel look for your proper
tools before implementation then of
course there's time to execute your plan
this is where all the fun happens and
last but not least this is a sometimes
overlooked step measure and evaluate it
gives you both a nice summary of what
you achieved throughout your project but
also a starting point for the next
iteration if the one is going to happen
this is a very simple timeline but
talking about it and raising the our
Ness about those steps will make it
clear from the start with your team and
stakeholders what the process should
look like and it will allow you to avoid
some misunderstandings some possible
misunderstandings in future so let's
follow it step by step step 1 analyze by
analyzing your website I mean you should
get the quantitative but also
qualitative snapshot of your current
situation we release that from scratch
as I told you so it is crucial to
understand your standing point before
you add new layers of complexity to your
site and even if you are actually
starting a project from start from
scratch you will eventually find
yourself iterating over it
over and over again and each of these
iterations should start with a proper
analyzes and they told that is
tremendously helpful in analyzing a
website is of course the lighthouse if
you haven't tried it
which I doubt lighthouse is a Chrome
extension and a common line tool that
runs over 100 audits on your site to
identify how you can improve your apps
performance accessibility and well
overall progressiveness in recent Chrome
it's also integrated directly into the
chrome dev tools so you can run an audit
directly in chrome when you run
lighthouse you on your website it gives
you back a report and the score that
summarizes different aspects of your
website for you and this it does not
only list all the items it's checked but
also gives you proposals on how to fix
them and links to further resources in
case you want to learn how to actually
do that so just by running this tool you
can learn a great deal about how to make
your site more progressive now the very
small feature in the lighthouse report
that I like to point out is this
download button it will it allows you to
save the generated report to be used for
later
I found it very useful to run the report
and save it for later at the beginning
of my project but also later
periodically to observe you know and
enjoy the progress I'm making but also
to watch out for possible regressions
throughout the project so it's really
nice not to only check your score but
actually save it in some right place to
use for later once it's downloaded you
can actually use the viewer the
lighthouse viewer to display it in a
browser tab again and from there you can
also share it and export it to different
formats for example PDF and this is very
useful if you want to share your report
if your stakeholders that might not be
you know techie people they might not
understand how to open the dev tools and
I really encourage you to do so
sometimes we tend to stick to the
technical parts of our project and not
really communicate all the ins and outs
of
upcoming migration with people that
should be informed on the business side
and like house report actually is a
great center point that can guide you
through this discussion with the
businesspeople
of course lighthouse gives you a
comprehensive overview of your site but
there are more tools that you can use
there's the network panel in the chrome
dev tools the security panel that can
run audits for you
there's PageSpeed insights webpagetest
and most of those tools actually allow
you to save the traces from your audit
and a snapshot of your data so you can
make use of that later it would be good
to make a habit of saving those audits
at each milestone of your project things
that you might be interested in
recording our performance of course both
Lotus rendering performance resource
sizes numbers of requests security and
the memory usage such audit will inform
your strategy going forward but also
potentially can allow you to find some
low-hanging fruit you know some small
improvements that you can fix easily
without much development effort but that
would lead to big gains and better
overall healthiness of your website okay
so let's say we made the proper audit of
our site we know exactly where we're
standing now it's time to prioritize so
here's a good message to you progressive
web app is not a monolithic technology
it's rather a set of concepts and they
are highly modular here you can see a
concept of bringing your app offline the
concept of notification is the concept
of credential management and so on and
for most of those items you can tackle
them independently and you can tackle
them one at a time and introduce the
gains from each improvement as a
progressive enhancement for your users
you don't need to go after all of them
immediately because then this can be
just overwhelming and too complex on a
bigger scale project project
you can be really strategic about your
choices and make it all aligned with the
business need of your project rather
than just stick boxing a set of rules so
how do we decide where to start I would
say start at the beginning before you
start adding new features you need to
ensure what I personally call
progressive web app readiness I think it
is worthwhile to call it out here
because no amount of progressive
features will solve unresponsive
cluttered janky or unfriendly website so
before you add new complexity to our
site you want to recite to be as lean
smooth working and optimized as
reasonably possible before you add a
burden of new features in particular
here what the audit you saved is really
handy based on our audit outcome you
might look into the areas like the ones
mentioned here and probably these are
all good old friends there is nothing
new in there but this moment when you
decide you really want to invest in a
PWA is great moment to stop for a moment
check those things out and fix them if
they went off-track throughout the
previous lifecycle of your application
the cool thing is sometimes really small
steps can bring you really big gains and
let me show you an example some time ago
I was working on the women techmakers
org site and I was doing exactly that I
was preparing it for some progressive
web app features here you can see the
network panel from before the migration
happens what I did here I just sorted
the assets by size and just by looking
at the tip of that list it immediately
gave me some some targets for
optimization here the two biggest
requests made were for YouTube API and
the hero image you see on the homepage
so now what what would happen if we
optimized those as for the hero image it
covers the full header area right so it
needs to be as big as the viewport
but it doesn't need to be bigger than
that so I just created a few versions of
that file that are appropriate for a
smaller viewport I added a few
breakpoints to my CSS and with this few
lines of code BOM I got 21 percent less
image them download on the medium sized
page that's a huge impact for for a
single optimization like this and this
is just by optimizing a single image and
you can go much further than that right
second optimization was about replacing
the more complex or more demanding
assets with their small smaller
counterparts so here you can see on the
screen two examples first one refers to
that sad API file that we were
downloading before these days is not
needed to use the API YouTube API file
for just displaying the video on the
page you can do it equally well with
iframe and the iframe is a non-blocking
way of getting this video to play on the
on the side so I could just BAM remove
it entirely and I gained 400 kilobytes
this way just by you know replacing a
single line in my HTML the second
optimization similarly you were using
lodash library but we're using just a
few functions of it so we could use the
low - core instead of full low - this
brings us from 24 kilobytes to 4
kilobytes which might not be that big
game overall but those optimizations do
add up over time so what I try to say
here is that in the most this moment
where you go for a progressive web app
it's a good moment to stop for a for a
for a while and see if this type of non
optimal behavior appears on your site
and fix it
the third example here is about browser
caching because once I made sure I'm not
making too big resources being pushed to
the user I also want to make sure I
don't push things twice if not necessary
actually when I was analyzing the page
in preparation for serviceworker
I realized we were doing some silly
things on the page some assets were
versioned by the version number and some
of them were actually time stamped with
the timestamp so it was kind of
inconsistent but apart from being
inconsistent was also pure wrong because
even if the asset they don't change with
each consecutive build I would change
its URL right either by appending a new
version number or by appending a
timestamp and this means that I'm not
leveraging the normal browser caching
that is already inbuilt in the browser's
for a long time so it was high time to
change that and if I was not going for
progressive web app I was probably not
going to trouble of investigating all
that and fixing this
each of these changes was relatively
easy and very quick to implement what it
really brought a big benefit and pay
attention that this brought benefit to
all of the users not only the ones that
are actually using that can actually use
the serviceworker later on down the line
after the migration okay so let's say we
are PWA already what do we focus on the
next well the next thing you need to
ensure is the safety and in our context
safety means HTTPS many new and powerful
web api is actually take it as a
requirement that you serve your website
from a secure origin thanks to the HTTPS
using contrast that the site is actually
you that there is no fishing happening
there's no scammer between you and the
site right and they know that nobody is
actually listening on the interaction
with your site the web has a tremendous
reach and is extremely low friction so
you get all kind of users online also
the ones that are not very tech-savvy so
keeping your users safe is hugely
important in the world of PW it great so
now we have a decent page and a secure
one so what do we do next
well now is the moment where you can
prioritize based on your business need
for example if a really important thing
for your business or organization is
user acquisition maybe you should focus
on Paris because when user enters your
site you don't want to have a high
bounce rate right you want to keep their
attention which means you need to serve
them content quickly you need to get
them engage in your site quickly so that
they stay and they maybe turn into a
customer with that visit right so then
you focus on Paris but maybe your
situation is different maybe you're
operating in an area where you get a lot
of users on a 3G connection or even
lower or maybe your target audience
usually use London Tube and they don't
get connection for most of their journey
then you should really focus on offline
you care about user retention most
that's where the kind of important part
for your businesses maybe you should
focus on add to homescreen feature and
the notifications this way the app will
be integrated better with users devices
and it will be easier to bring them back
and turn them into a returning customer
from an occasional one if you care about
user conversion well maybe your
bottleneck is on payments and maybe if
you try payments API that's where you
can bring most value for your business
so as you can see a lot of progressive
web app features are modular and you can
pick and choose which ones to implement
and in what order and you should make
sure to always coordinate with your
stakeholders to choose the best line of
action for your business and then
iterate as necessary whatever you choose
though remember to always wrap it in the
good user experience remember that those
features and technology are not the goal
in themselves your goal is the delight
of the user that is using your app right
so it's very important on how you
implement those features and we're going
to touch on that in the implementations
section of our process now it's the time
to choose the right tools here I wanted
to give a shout out to the world box
library especially if you implement
offline experience you sometimes end up
writing a lot of boilerplate and with
workbooks you can avoid a lot of that
code error-prone code to smooth up your
development process but workbooks is a
little bit more than that it's also a
set of generators that help you with the
asset management management remember
done when implementing caching this can
get tricky really easily because you
need to handle all the URLs and so on so
you don't really want to do it by hand
and then work box is really helping you
out ok so we have work box we have our
priority set well now it's time to
implement right and this is the hardest
part to give any really generic advice
on because each project is different so
instead I would like to share some of
the examples of the write UX patterns
and the implementation decisions that
you might find useful when trying to
achieve this openness and progressive
feel of your website well the first rule
of thumb on achieving a good experience
is that the user should always feel in
control of what is happening in the app
and junky transitions from one view to
another they can successfully destroy
that feeling of course sometimes we do
need to wait for the content from the
network right but if we we know that the
user perception of time is quite elastic
as well and we can influence it so if we
can make the user think that something
goes for one second while it really
loads for three seconds this is our win
sometimes just adding load indicators
help but you can go even further if you
that something is happening they can
already start analyzing the page so
instead of blocking the transition of
the page on network you can use skeleton
screens instead here you can see an
example of progressive web app for
housing com already well that well done
one when it happened the listing you
were taken immediately to the next
screen where just the outline of the
content is presented and then the real
content is coming in it gives you an
idea us user it gives you an idea of a
structure of the page or trying to
access and let you grasp it a bit all
while the real content is loading it's a
big improvement for the user especially
one as impatient as I am usually another
pattern that enhances this feeling of
being in control is the stable load
first what do I mean by unstable load
well you probably often see this in the
web today were you load an article or a
piece of content on your mobile device
and you're reading it and it just jumps
out of from under your eyes because some
additional content like an image loaded
at the top of it it's especially
annoying if it's a link and you just try
to tap it and it always runs away so
it's really an anti-pattern instead you
can ensure a stable load it's easy as
specifying the size of your images
beforehand and of all the dynamic
elements and this way you tell the
browser how to lay out the elements
ahead of time so the content is already
in its original position when the new
content arrives this way you'll never
miss a link and get frustrated just
because of the way the content is
loading speaking of loading performance
this can of course be optimized a lot
with serviceworker
add caching of the ross resources
locally and this is a primary reason why
you should consider serviceworker even
if you don't expect to get audience that
is fully offline saving some resource
in the cash can make your site perform
much better and be much more reliable
even if the users don't go offline fully
for extended periods of time there is
one thing to consider though when you
catch things locally you need to be
mindful of users resources they do still
use some of the memory on the device
right
sometimes caching entire site is simply
not viewable or possible let's go back
to the women take maker example I'll
show you on this example what do I mean
by this women techmakers site is a
beautiful site it's a rich visual
experience thus lots of imagery if I
wanted to set all of this for offline
use it would be very very heavy so maybe
I don't need all of those images maybe I
just saved HTML well that's how the page
would look like it looks ugly but also
it's totally unusable right like you say
I can't even navigate through the page
because the the buttons are gone so the
site is unusable how do we decide
between these two extreme points what do
we cache and when well I started to look
at the images on that side by function
the yellow ones
I call them navigation and action
they're super important without them the
user can't really properly use the site
now the red ones are branding and
priority is the images that Mia's
developer or business owner on they're
really care about I used them to create
connection with my audience they're very
important they have the priority now the
blue ones are the opposite of the red
ones they are decorative
it's nice builder I like them but if
they're missing they don't really break
the side and now informative images are
quite interesting because they look nice
but also they do convey some meaning
they do convey a message so they like
semi important now that I understand the
structure of my images on the page I can
actually apply different strategies to
those
for example for the really important
ones the navigational ones I just in
line them with SVG and I never ever need
to even care how they're cached because
as long as my HTML is cached the image
is just there in an SVG form so that's
done now the red ones I care about them
a lot so I pre cached them as soon as
the serviceworker is installed I
proactively go and fetch them so that
when user enters the appropriate sub
page is already ready for them to serve
I reserve those only for the priority
images to not overwhelm the the cache
blue ones I cache at runtime which means
when user is moving through without my
side and visiting new places I do catch
them on there you know best default
basis and I put some limit on it as well
so this means that sometimes the image
is present sometimes it's missing but
it's not breaking the overall look and
feel of the site now the the informative
images are quite interesting because
here you can see that I can use the full
power of the serviceworker
serviceworkers does JavaScript so you
can do all kind of magic there here what
I wanted to do is I wanted to use an alt
tag alt attribute from the image to
generate the image on the fly I don't
want to store them because they might
change frequently but I want to still
convey the message so in the end I just
returned a generic fallback image for
the image itself and I render the text
as the rest of the image right so it's
fully rendered in the serviceworker
and it's never using any cache and I
still get this meaning that I wanted to
convey to the user passed on so these
are for selective image strategies and
you know depending on your site there
might be many more so you just need to
look carefully at the content of your
site and see what's best for you now
let's say the user got this delightful
experience from us it's really engage
with that so we want to keep them
engage and relaxed and looking at the
screen and when the users are using the
app they usually end up scrolling and if
they scroll long enough or fast enough
sometimes you get this scrolling glitch
if the list gets too long right so how
do we avoid that broken experience for
the user
well you can use what we call
virtualized lists and many of the
frameworks that are in use right now do
offer this type of components
virtualized list means that only the
items that are actually in the screen
are rendered and maybe a few before and
at the end and all the rest is disattach
and a touchdown dynamically this means
that you can scroll pretty fast and
never get this you know blank screen
when the memory is over overflowing as a
matter of fact it was one of the key
techniques that Twitter found useful
when implementing their progressive web
app so that the users could you know be
in their Twitter feed for a long time
and not get it broken finally the last
week's pattern I wanted to share is not
to interrupt your users when they're
using your service if you ask for the
permissions onload user use usually
don't have any context about what you're
asking them about and they don't really
can make they really are comfortable
making this decision at that very moment
so it is much better to actually ask for
this type of permission in an
appropriate situation I really like what
Twitter did in Twitter app when you go
to the notification tab so user actually
expressed an interest in notification
they show this fullscreen overlay when
the user can can sign up for that so
just with this with this overlay you can
focus their user's attention also on the
question being asked well that's just a
short list of common optimizations you
can look into
when looking for the right 2x4 your
progressive web app and by all means
this is not an exhaustive list so
actually I'm very happy to hear your
stories and find out about the good
practices you find useful in your
projects later on in the lobby finally
everything we wanted to is implement it
and there's time to evaluate our work
remember when I told you to save some
snapshots of the data in the analyzers
part well now they come in handy
measuring things at the end of the
project also provides business
justification for next step so make sure
you again involve your stakeholders in
the whole process you can go again
through the audit and just compare the
outcome with the previous version and
hopefully it will give you a surge of
joy as you see the metrics improve on
your site however there is one caveat
metrics are helpful but they're only
metrics getting a hundred lighthouse
feels good I know it feels good I've
been there and it may also help convince
your boss that you're the best developer
ever but nothing is better than really
checking the reaction of your users to
your website in evaluating your changes
you need to pay special attention to
analytics and to the voice of your users
both attract improvements but also to
look out for a possible regressions on
the way now you might ask when is my
website progressive enough is my
opponent a progressive web app or we're
somewhere in the middle is it
progressive when it's fully offline is
it progressive when I checked all the
boxes on the progressive web of
checklist is it when it's hundred on
lighthouse well remember that all of
these are just representations of the
same mental model and of the same idea
of delightful user experience so maybe
it's not really a question of how
progressive your web app already is you
just can take it one iteration at a time
usually this process goes round and
round and you can iterate as many times
you feel you need to provide the best
user experience for your needs thank you
so much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>