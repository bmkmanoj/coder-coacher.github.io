<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Binding to Arrays -- Polycasts #35 | Coder Coacher - Coaching Coders</title><meta content="Binding to Arrays -- Polycasts #35 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Binding to Arrays -- Polycasts #35</b></h2><h5 class="post__date">2015-11-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HBUb8frm2Tw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey there polycasters rob here a few
episodes ago I started this little
journey to try and understand polymers
data binding system and since then we've
looked at property effects path
notifications and watching for changes
in your JavaScript using observers so
today we're gonna bring it all to a
close by finally looking at array
bindings without further video let's hop
in alright so let's say you've got a
list of users in an array maybe it's
like a leaderboard or a high scores list
or something like that and you always
want to show the user that is in the
first position now logically you might
do something like this
where you try to use array syntax to
bind to users square brackets zero
however syntax like that is not actually
supported in a polymer binding instead
polymer treats items in an array much
the same way as it treats sub properties
in an object it turns them into pads so
you've got users square bracket zero and
polymer is actually going to change that
to users dot zero now in the last
episode I showed you how you can watch
for changes on a path using observers
check that out over there so let's
change our binding to use this new
approach I'm going to create a property
called first user and then I'm going to
create an observer which is watching the
users array sorry right here it's
watching that users array using an
asterisk and remember that that aster
Corps that wild card will watch her any
changes in the array or its sub
properties etc and it will call this
handler function with a change record as
the sort of first argument and then it
can actually pass a second argument I
can pass zero and that will then serve
as the second argument to the function
which we'll use as our index so anytime
this array changes we're gonna get a
change record than this Handler and if
you recall from the previous episode
change records have multiple properties
that we can use one of those properties
is the base property which always refers
to the object previous to the asterisk
so in this case it's always going to
refer
to our users array so we can say that we
want the base object and we want the
item at that index so this is basically
saying hey return users zero alright so
over here on the right we can actually
see this in practice I'm going to use my
little tricky chrome dev tools method to
select my my item I'll use polymers
unshifted to pass a new value into its
users array and then we can see that
that is reflecting up there because once
we've set this new property it's
updating our binding right there right
and those two match up cool now I was
wondering if I could simplify this a bit
and I noticed in the documentation it
actually recommends using a computed
binding so let's change the code to use
that approach instead so now I've got
instead of a property that I've created
I'm just using a computed binding
function
I'm calling compute user I'm still using
the wild-card approach to observe that
array and when you look at compute user
it still gets a change record it still
gets that index argument and just
instead of setting a property it just
returns the value back into this binding
so let's give that a shot
all right look over here I'll unshifted
into the front of the array and
everything works now for me this was
kind of a revelation of sorts I realized
that computed bindings and observers
basically work like the exact same way
and so if you understand one then you
understand the magic of the other which
is pretty cool now you might be
wondering you know if we're just working
with paths how come I can't just bind to
the sub property if you will this this
users dot zero path and then since we're
using polymers array methods which
normally will notify
items you know sub property bindings or
changes if we're using those array
methods than like how come these things
aren't updating as I would expect them
to well what's actually going on is this
will work for the initial render so the
first time I do this I will see the
first place user from my array I'll see
you Eric over there but let's look what
happens when I try and push in a second
user so I'll unshifted it's time I'll
add user name Boris
nothing updates visually although we can
verify that the users array has changed
so Boris is now in that first position
and the reasons it's happening is
because under the hood Palmer takes that
initial path of users dot zero and it
turns it's into its own special
immutable key which can use to keep
track of the item this way you can
always refer back to that item even if
the order in the array has changed and
so that means that you can't really
reliably
use this approach right here the best
practice way of doing things is to
either use an observer or use a computed
binding so with that you are now Palmer
data binding masters now last week we
sent out this little tweet ask me what
you wanted to see in the next episode of
polycast you all voted and said you
wanted to see unit testing so be sure to
stick around when next week we cover web
component tester in the meantime though
be sure to click that little subscribe
button if you've enjoyed this episode
you have questions for us you can ping
us on a social network of your choosing
at hashtag ask polymer as always thank
you so much for watching I'll see you
next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>