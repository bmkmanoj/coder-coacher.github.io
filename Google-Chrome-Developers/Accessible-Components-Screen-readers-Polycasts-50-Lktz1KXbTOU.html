<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Accessible Components: Screen readers -- Polycasts #50 | Coder Coacher - Coaching Coders</title><meta content="Accessible Components: Screen readers -- Polycasts #50 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Accessible Components: Screen readers -- Polycasts #50</b></h2><h5 class="post__date">2016-07-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Lktz1KXbTOU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey there polycasters rob here welcome
back to the show so today we're going to
be continuing our series on
accessibility by talking about screen
readers and making sure that the
elements we create have the right
semantics to be announced properly by
those screen readers semantics is a
pretty important concept in web
development but sometimes you got to
wonder like you know why is it important
and really who does it benefit when I
use good semantically rich elements and
so I want to do a quick demo here using
a screen reader so you kind of
understand the importance of this topic
so over in the browser
I just got a native checkbox element I'm
going to start up the screen reader that
comes built-in on my computer so if
you're on a Mac there's a built-in
screen reader called voiceover which you
can turn on with command f5 if you're on
Windows you have to download a screen
reader there's a free one called NVDA or
there's another one called jaws which
you can use or there's even a Chrome
extension I'll called Chrome box which
can install and that's actually a
browser run screen reader but over here
on my Mac I'm going to use voiceover
I'll turn on the screen reader voice
over on Chrome Jay has been window and
I'm gonna navigate over to this checkbox
unchecked checkbox you can see that when
I do that the checkbox was announced as
a unchecked checkbox right because it's
a nice semantic rich element I've used
the correct input tag here now let's
look at what happens when we try to do
that with the custom element that we
created in the last episode so I'm gonna
turn on my screen reader and focus this
item voiceover on chrome - group and you
see that the screen reader just
announced it as group and that's because
as I mentioned before when we create a
custom element we're basically extending
the HTML language we're creating
something that has never existed before
and that means that it doesn't have any
built-in semantics to the browser a
custom element is really no different
from a span or a div so there's nothing
that you know instructs it or instructs
our users that it needs to be clicked
upon so how do we add the appropriate
semantics to our element so that users
who actually rely on screen readers can
interact with them there's a few ways
that you could go about this you could
of course just go and start reading
through a bunch of specifications but if
you wanna get kind of started right away
what I'd recommend is checking out that
aria authoring practices guide that we
look
that in the previous episode so I'm
gonna go over there and I'm gonna look
for the pattern that I'm building which
in this case is a checkbox so we'll go
to the Aria authoring practices guide
we'll go over to the sidebar and look
for a checkbox and along with sort of
the the keyboard interaction support
that we need to add you can also see
that there's a section here on what it
calls Aria roles states and properties
so Aria if you've never heard of it
before stands for accessible rich
internet applications it's basically a
set of attributes that you can apply to
an element to kind of do surgery on the
accessibility tree and actually add in
additional semantics so if we look at
the guidance here on the authoring
practices guide it tells us that our
check box needs to have a role of
checkbox that it needs to have an
accessible label and we'll actually
cover this in the next episode
and then our check box Wyn checked needs
to have Aria checked set to true and
when it's unchecked it needs to have
Aria checked set to false and there's a
few other items in here about building
mix check boxes and things like that
we're not going to cover any of that in
this series but for today what we can do
is we can make sure that we get the
appropriate role and the appropriate
check States so let's switch back over
to our code editor and if you recall in
the last episode I use this host
attributes property in order to have my
tag sort of self apply at am index
attribute and we can use the same
property to self apply the appropriate
role so along with tabindex we're gonna
ask this element to apply a role of
checkbox and if we actually switch back
to Chrome and refresh the page we can
open our dev tools we can verify that
the element is now applying that role
right so we see role equals checkbox and
let's use our screen reader and see what
it announces now voiced over on Chrome
uncheck checkbox so you can see now that
the screen reader is announcing that
this is an unchecked checkbox it's
actually even inferring that it's
unchecked because of the role that we've
applied in the world of Aria the role is
kind of like the most important
attribute it is the thing that you
absolutely want to make sure that you
get right there's a lot of Aria
attributes which don't even work if they
are not paired with the appropriate role
so already we've done kind of a
80% thing we've gotten the correct roll
which is great the next thing we have to
do is add those Aria check States when
we toggle our checkbox so going back to
our code editor if you remember I have
this checked property that we're
toggling on and off whenever the user
either clicks on the element or hits
spacebar so what we can do is we're
gonna add an observer to this property
and I'll call my observer function check
changed and then I'll add a little bit
of additional space down here just so
you can see things I'll define a check
change function I'm just gonna paste
that in here so we're saying is we're
gonna call set attribute we're gonna set
the aria-checked attribute and we're
gonna set it to whatever the value of
this dot checked is and remember we're
sort of toggling that value inside of
our on tap handler that gets run when
someone clicks on with a mouse or hits
spacebar now calling set attribute in
this way is going to serialize the value
of this dot check to a string which is
important in REM whenever you set a true
or false value actually I have to do it
as an actual sort of literal string of
true or false which is kind of an
interesting quirk of REM so that part
looks good the last thing that I want to
do is sort of change how this thing is
styled now if you remember in the last
episode we had this host selector for
the checked attribute and that's how we
actually figured out when we wanted to
apply our check mark but something that
can be nice to do is rather than rely on
a class or some sort of random made-up
attribute that we've created in this
case we could actually rely on the state
of the Aria value so I'm going to say
anytime Aria checked is set to true that
is when we should apply our checkbox the
cool thing here is we're now creating
sort of a symbiotic relationship between
our Aria attribute and the actual visual
state of the element and we can use that
to verify that aria is working
appropriately so let's go back to Chrome
we'll open up our dev tools we can see
that Aria checked is starting out as
false I hit tab and select this element
I mean see that that then toggles to
true along with the checked attribute
and being applied and we can see that
the appropriate check mark style is
showing out and the last thing I want to
do is just try this out with my screen
reader so I'll uncheck the checkbox turn
on my screen reader voice over on Chrome
uncheck checkbox initially it says it's
an unchecked checkbox when we hit
spacebar checked checkbox now it updates
the state to a check checkbox so now
we've created a nice accessible checkbox
it works well for the keyboard it works
well for screen readers the last thing
that we need to do is add labeling I'm
gonna save that for the next episode
now if you have any questions about what
we covered today please be sure to leave
them down in the comments below or as
always you can hit me up on a social
network of your choosing at hashtag ask
Palmer thank you so much for watching
I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>