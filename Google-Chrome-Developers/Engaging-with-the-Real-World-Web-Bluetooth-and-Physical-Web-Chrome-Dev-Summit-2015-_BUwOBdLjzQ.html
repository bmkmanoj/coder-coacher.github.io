<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Engaging with the Real World: Web Bluetooth and Physical Web (Chrome Dev Summit 2015) | Coder Coacher - Coaching Coders</title><meta content="Engaging with the Real World: Web Bluetooth and Physical Web (Chrome Dev Summit 2015) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Engaging with the Real World: Web Bluetooth and Physical Web (Chrome Dev Summit 2015)</b></h2><h5 class="post__date">2015-11-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_BUwOBdLjzQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm Vincent Scheib near on Chrome and I
want to talk to you about connecting the
web with the physical world
now we've already been doing a little
bit of work in this direction so let me
take you back we talked at a previous
chrome dev summit about web MIDI I'm
excited to tell you that earlier this
year in May we launched Chrome shipping
web MIDI support for people to use in
the real world apps and mainstream major
companies have adopted it and relying on
it now for their new devices including
PV and Yamaha and what are they doing
they're doing a simple thing they're
connecting the web which has
traditionally been on that one device
that you're using the web to other
devices outside the your initial device
and that's a big deal and we're
continuing to go down that route how can
we make the web more powerful how can we
make connecting computing devices more
powerful and easy using the benefits of
the web and to do that we're connecting
the web to other things in multiple ways
I want to talk to you about a little
story I'm a dad earlier this summer I
took my kids to a theme park we had a
great time and at night they had a show
and if you have kids you know they have
to keep them entertained all the time
they're always needing something so
waiting for the show even 10 20 minutes
is a long time to wait with kids well
the show was at night and there's this
big ferris wheel and the ferris wheel is
all lit up some people noticed my
censoring of the slide ferris wheels all
lit up and they tell me there's a game
to play I'm like great my kids are gonna
love a game you can play on your phone
ok I have a phone I have two my wife is
here too it's gonna be good and I'm
thinking oh no I'm the IT guy as well
that means I'm gonna have to install an
app it's gonna ask for too many
permissions I'm gonna have to uninstall
these later it's just to fill 15 minutes
you know and then they tell me oh no
it's gonna work on the web and I thought
that's a perfect match
Here I am it's a short lived experience
and the web can do everything I need it
was a memory game kind of like Simon
Says
Ferris wheel lights up you play along on
your web device and the cool thing is
whoever in the crowd wins gets to
control that for every round of it
several rounds whoever wins that round
gets to control the lights on the ferris
wheel what a delight for whoever won I
didn't win in my family but whoever won
got to control the ferris wheel big
experience so that's pretty cool what
other kind of experiences could be like
that I mean how big is this you have the
phone in your hand and the web is
controlling something out there it was a
great experience but it still had a
couple caveats I had to join a wireless
network and that was a little tedious it
didn't work the first time and it also
that interaction with the website was a
little sluggish and that control of the
ferris wheel as fun as it must have been
for whoever was lucky enough to win that
was still probably a somewhat limited
experience right it wasn't going to be
as tight as playing with a
remote-control car but we can do better
than that instead of going through the
whole web stack and all the way through
the cloud can't we get the device in our
hand to talk to the device just three
feet away from us in a much more rapid
way I'm sure we could and what kind of
experiences can we build at a theme park
what if had that theme park I could
control a train table and we could
switch the ways that trains are going or
control the lights or in a museum
interact with an exhibit or in the
airport have an interactive kiosk all
sorts of things so I'm happy to announce
that we're working on web Bluetooth web
Bluetooth is available today in chrome
dev channel on Android and Chrome OS we
are really excited about this it is
going to enable a world of devices to be
accessible to the web and a low-friction
way so I want to show you a demo because
demos are cool so I'm going to show you
one of these tea lights so these tea
lights are a little hard to see in a
well-lit environment but I've got it on
the projector here and I can connect to
these devices with a simple web page so
I can load up a web page and say connect
and I see the nearby devices I can
select one of the devices I want to
control and pair to that device and the
web page comes up
and I can change the colors of the
device and I can do some other things so
this you know example device has a
couple modes that it can put the device
into and I've got responsive control of
a device one device to another using the
web low friction no install and no
worries afterwards that's a great
experience and there's a load of devices
just like this so this is part of
Bluetooth what Bluetooth is exposing
some of that and I'm going to explain to
you a little bit more because not
everyone is completely familiar with
Bluetooth so I'm gonna use a heart rate
monitor as an example device to tell you
about how Bluetooth works and in this
case I'm talking specifically about
Bluetooth GATT generic attributes this
was introduced with Bluetooth Low Energy
or Bluetooth smart it's kind of a schema
based way to think about something so
this device is a heart rate monitor it's
on a strap you can put it on your chest
you can exercise and it'll track your
heart rate and notify whatever device is
listening from a conceptual point of
view bluetooth considers the heart rate
devices and as an object and that device
has services so it has of course a heart
rate service to give you the data about
the heart rate in the heart rate service
there's multiple values that you can
read they're called characteristics one
is the body sensor location it's just an
e numeration okay is it on your finger
your wrist it's on my chest okay the
other value is the heart rate
measurement it's a couple of bytes some
flags the averaged value and the very
specific are hour intervals between the
peaks of the heart rate now as the
device we're not done this is a
battery-powered device so there's also a
battery service and the battery service
has a battery level characteristic with
a simple value 0 to 100 for how much
battery is there I like demos let's take
a look at this device live because I'm
wearing a heart rate monitor of course I
mean who can do a presentation like this
without doing that so I don't know what
my heart rate is when I'm at rest
I'm usually at like 50 60 I'm a fairly
fit guy
let's see what we can do on video maybe
soon we have demo God's working for us
my heart rate is increasing alright
there we are I'm at 1:45 yeah very good
now if if I was a Buddhist monk and well
skilled I could bring it back to 50 now
but I'm not all right
this is a developer conference let's
talk about code so from that device how
do we how from that device how do we
connect from a code point of view web
bluetooth introduces navigator dot
bluetooth and on that surface
we have request device when I call
request device I let it know what I'm
looking for in this case I'm looking for
any devices that are advertising a
service called battery service and
that's a standard service name these
could also be proprietary so many many
devices exist with many unique and
proprietary custom services and those
are addressed by just a UUID instead of
a string name when you request this
Chrome will show a dialog it's a picker
kind of like a file input picker
it shows the nearby devices we select
one and this is how the user grants the
permission for both privacy and security
to communicate with that device after
you pair we are going to resolve a
promise it's a promise based API as the
promise resolves we then get a device
object which has basic information such
as the name and the advertised services
of that device and we can then call
device dot connect get once we connect
we can ask for a primary service you can
recognize we're walking thumb through
that hierarchy I explained before from
the service we can ask for the
characteristic from the characteristic
we can request a value to be read and
when the value is read we can then get
the bytes we can parse those bytes and
use them in any way we need to of course
not only do you have read you can write
but
there's also notifications so the heart
rate device generates notifications
automatically if you go to a
characteristic and start notifications
that registers an event handle an event
listener and you can use that event
listener to get updates whenever the
device sends you a notification again
parse the values and use them it's a
pretty easy API to use it's fast to work
with a lot of these devices but to make
it even easier we've produced a polymer
platinum element so the polymer element
allows you to use a simple set of HTML
to describe the device and the
characteristics you're interested in you
can bind them using template is well so
that if the when you read the values you
can automatically have other Dom
elements updated using the templating
system it also allows you to
automatically push values when you write
to the value so it greatly simplifies
the JavaScript necessary and makes app
development even easier when you're
using polymer so let's go up to the big
level what's going on well this is
experimental right now it's still behind
a flag but it's on dev Channel we
already have people loving it in the
code lab because we have devices out
there for you to play with you can try
it out at home too and what we're
looking for is information back about
the specification do we have it right do
we need to change this or that I'm
excited to see that Mozilla has also
announced development is in progress so
it's good to see that we have multiple
vendors implementing also and to make it
easier for you to try it out we've also
developed a low-energy peripheral
simulator maybe you don't have a gadget
right you know around to toy with we've
made a simple Android app that can act
like a battery service or a heartrate
device and if you have an Android phone
around the Kinect in a peripheral mode
many of the newer models do you can then
have that functioning and experiment
with it in JavaScript we've been having
a lot of fun playing with different
devices juggling balls airships
remote-controlled they may or may not be
grumpy cats we've got thermal printers
and all sorts of fun and exciting toys
this is one of the best things you can
play with from an API especially because
you're connecting outside of your device
to other devices around you we're also
working with other ways to connect to
other devices for example web NFC and
web USB are being experimented with in
the codebase as well there is one
problem remaining that experience I had
at the theme park it would have been
easier if I was just using Bluetooth and
I didn't have to jump on a wireless
network but what I have needed to type
in the URL even that would have been
some work and you're saying like oh
you're pretty lazy Vince well yeah you
know I'm a dad kids are running around
right I have no time for that when I
walk into an area can I just have my
phone know about the web pages that I
need to connect to those devices well
we're working on that too
so I'm happy to invite up to the stage
Scott Jenson hello okay so when Vince
was talking about is that there's a lot
of smart devices out there we all are
using them right now we've seen the
Smart TVs and the smart vending machines
and even bus stops but today what
happens when you play with them is they
all have their own app and that's for
good reason because there's no really
other alternative but if we believe in
Moore's Law at all this can't be stable
right so in a maybe in a year we may
have say to be seven devices and then
shortly after that we may have like 30
devices I mean it just can't scale now
this is not an anti app comment it's
just simply a interaction on demand
comment I want to walk up something
quickly I just can't deal with all of
that there has to be kind of a better
way of doing that the super power of the
web is interaction on a demand it's just
a tap away it's just a selection that's
just a click it's so easy to get to
another page that seems kind of useful
for the Internet of Things type project
so how can we tap into that because for
the last 25 years all the people in the
open web community have been working so
hard to create this amazing rendering
engine this ability this Dom that can do
so much and I think we should be pretty
proud it's pretty awesome but we've kind
of forgotten this place the address bar
it's kind of boring it's like really the
the big thing that we've been able to do
in the last like 25 years if I type
he had autocompletes to Twitter cool
it's like really we've taken the most
waited to go anywhere on the web it's
like yeah we gotta like type into it
like Doug Doug Doug don't see you and
it's like what is we've taken the most
amazing rendering engine on the planet
and we strapped a DOS prompt on top of
it I mean like what is up with that it's
like why can't the humor help our be
mobile friendly and I could be more
mobile specific so what we think we need
to have is nothing too complicated we
just want a discovery service we just
want the URL bar to find other URLs for
us that's it so imagine if you were in a
physical location and you have a vending
machine and a parking meter and you know
a bus stop and they're all broadcasting
a URL
how could you then walk up and discover
them how would that work well the idea
is that URLs are good and they're a good
building block but you don't want to
show just the URL and you just don't
want to list them you want to be able to
have a little bit of sorting and ranking
a little bit of information so well if I
find them it should assume up a little
bit and like give you it maybe a favicon
and a title and a little snippet so you
can kind of see what each thing is and
then of course when you click on it then
of course you just go to its web page we
just want to get you to the web as fast
as possible
so in a sense how would this work well
we've got a couple of ideas or playing
around with with a simple one right now
kind of like the new black is basically
Bluetooth Low Energy everyone is using
that right now and what's lovely about
Bluetooth Low Energy is it has kind of
the wireless equivalent of a UDP packet
it just broadcasts this advertising
packet over and over and over again and
what's nice about it is that it's
completely connection free it sends it
out and 10,000 people can receive it and
it can't know so this beacon can't track
you which is important now if your phone
happens to come by you can actually pick
that up and see that URL and that's all
we're trying to do and so the physical
web this project I've been working on
now at Google for about two years is
this idea about bridging the web and
physical devices the idea is that you
walk up to a device is broadcasting a
URL and your phone just picks it up and
takes you there it just takes you to a
web page so it flips things around a
little
we're so used to webpages being like a
big portal any of this one page that
millions of people go to the flipside is
you have millions of devices and each
one has its own webpage it's still the
web but now it's a little bit more
granular and the key thing the the
superpower of the web is what we're
unlocking the idea that even walk up and
use any device just by a tap now here's
the in critical thing though it's really
can't be
there's no interruptions involved
because we're so used to existing beacon
technologies giving you notifications
this can't do that you actually have to
respect the users privacy at this point
and they will only see that list if they
ask for it and they will only go to the
webpage if they click on it and that's
really important because if not you can
walk into a mall and your phone would go
click vibrate out of your pocket if you
have fifty-third beacons going on it
would go nuts so you have to respect the
user and only give them that list if
they ask so at its simplest we just have
a device that's broadcasting a URL that
takes you to the cloud but I get two
questions all the time and I know
they're rattling around your head
it's almost answering right now the
first is Scott isn't this just QR codes
well we all know how well QR codes have
worked in the past and there have been
countries where it works quite well so
I'm not trying to say that they're
completely useless but there's
limitations to QR codes they're really
their best kind of like on posters are
on on receipts and besides if I walk
into an area with like say 15 or 20
beacons how do I see them all at once
and more importantly what happens if I
have something that's 50 meters away I'd
have to walk over to it to kind of you
know get it and by the way anybody has a
smart light bulb QR codes and light
bulbs don't work really well so I think
there's a there's nothing wrong with a
QR code and technically we aren't doing
the same thing I mean when I describe
the physical web to people I say it's
kind of like QR codes but awesome right
and it kind of under sells a little bit
but it gets the point across we're just
getting the URL to you as quickly as
possible
the other question I get a lot is aren't
you about spam I mean all these things
all these URLs are like well there's an
issue with that but that's why what we
do is we go through a proxy we grab all
the URLs send them up to the proxy which
gives us a couple of huge advantages
the first is the proxy can cache
everything so it can give you the title
in the snippet and all that stuff
handle URL redirection and things like
that and protect the user so the user
does not have to contact a website and
be fingerprinted it protects the user
that's really important it also saves a
lot of data because it's already pre
cached and the other thing it can do is
it can filter and get rid of malicious
beacons which helps quite a bit now if
there is a concentration effect going on
that all this is going through one
particular proxy but I'm not sure I've
mentioned it but the physical web is
completely open source so you can have
your own client and you can have your
own proxy service so you don't have to
go through ours we think that's a very
important part about being built on the
open web now we're also built in the
open web based on Eddie stone Eddie
stone is Google's open source beacon
format and there's three formats the UID
the telemetry packet and the URL and
we're just based on the URL we put the
URL directly into the advertising packet
and his broadcasts over and over and
over and that's really important because
you don't have to register you just buy
the beacon you put the URL in you don't
ask anybody's permission and you just
put it up in the wall in your and you're
working it's pretty straightforward
stuff so we're trying to create is these
two clouds this cloud of standard
devices or just actually all sorts of
devices but they're all broadcasting in
a standard way just all broadcasting
URLs that's the critical piece and then
all sorts of different clients that
could then be looking for and presenting
them to you and that can be variations
that can even be proprietary if you want
to but it allows this kind of variation
to exist so let me give you an example
of how this would work specifically in
relation to what Vince just said about
web bluetooth so here's a Happy Meal toy
we built by the way all these demos are
out there in the commentary if you guys
to play with later so here's a Happy
Meal toy so we have a little 3d printed
turtle here and we are now browsing
using the physical web and we see tuba
the turtle and when you click on it the
physical web is done we're now on the
web but it loads up the JavaScript
Bluetooth and now you can say oh I want
the turtle to be happy or I want him do
silly
I want to do grumpy and of course then
when you set the parameters he the
turtle does different things or change
the colors and once the turtle is
configured you can pick him up and if
you turn him upside down he gets really
grumpy any vibrates and so if
we had way too much fun building this we
had to stop because we're having way too
much fun but the intention is to show
that this part could be built for two
bucks and you can walk up and play with
it now and it's really critical from
Vince's point of view that you don't
have to go through the Pickers or
anything you just say here it is click
on it and you're in it's really quick
and fast so this is the first primary
use case of the physical web we'll call
the web bluetooth where your device
broadcast a URL you go to the cloud you
get the webpage and then you talk back
to it with JavaScript that's the most
innovative creative thing we could do
because it unlocks a whole new type of
hardware but let's not forget the
classic web we'll call this like web 1.0
you have a bus stop that broadcast a URL
that takes you to a web page that says
the next bus is in five minutes it's
just classic 1.0 web and I still think
that's pretty awesome because it unlocks
all sorts of little bits of information
because it means every physical object
in the world could have just a virtual
note card for you just to have a little
bit more information and also what
happens I think is important as you've
seen here in our conference the web is
getting better and as the web gets
better the physical web just kind of
looks more awesome but we're not doing
anything different the web is just
making us look better so in this case we
have a restaurant and buzzer so you walk
up you pull down the thing and it goes
hey here's Bob's deli you click on Bob's
deli and again physical web is done and
it shows up and now it uses a service
worker to register for push
notifications you get in line you push
the button turn the phone off put it in
your pocket and then three minutes later
four minutes later when it's your turn
your phone buzzes in your pocket because
you opted in and then of course you can
then you know get in line and get your
stuff so this is exactly the same thing
but now with push notifications become
us a lot more interesting so and the
third and final categories we called
cloud pass-through and this is my
vending machine or the parking meter out
there and the idea here is that you send
a URL to my phone you then go to the
cloud but then it talks back to the
device not you and it's kind of lovely
by building this on top of URLs in the
web we kind of let where the
functionality occurs
float between the phone and the cloud
and the device the user doesn't care I
was pointing out to you guys that
because we're based on the web this
gives you lots of different places where
you want to put the functionality in
this case it goes through the cloud so
here's the parking meter demo which
again is out there
I pulled down the notification manager I
see that there's the parking meter
Payet parking you click on it physical
webs done I pull up a web page and now
every time I tap I'm sent into sending a
WebSocket event as I click up up and pay
and I'm done and anybody who's been that
lives in San Francisco it's kind of
brought to tears when they see this
because we do have a parking meter app
that nobody uses and it's like this
would be pretty fast we actually had
that so I'm gonna really beat you over
the head with this because every time I
give this talk people go so what's your
SDK and what's your protocol I'm like
it's just a URL guys it's literally just
we discover the URL to the parking meter
and when you click on it you go to the
web and there's no funny business going
on you're just talking to the web now in
this particular case we had a pretty
smart parking meter it had a connection
to the Internet it was talking and
people are convinced it's Scott that's
so complicated am I really gonna have
like a Raspberry Pi in every device this
is way too complicated I'm like you have
heard of this thing called the Internet
of Things right it's like everything is
going to kind of connect well here's a
device right here this is about particle
chemical particle has got a board for 39
bucks Arduino GPIO pins and it takes
10,000 messages per month for like a $2
fee and you can connect to it and that's
in quantities of one imagine in much
higher quantities the whole idea that
devices are getting their own
connectivity is a huge booming thing
right now and it doesn't seem hard to
believe that we're soon going to have
devices that have their connectivity and
then we'll have our connectivity and
what we just need to do is rendezvous
how do we actually find each other and
the physical web is kinda like yeah I'll
meet you this URL just over here it's
really appreciate forward stuff now
clearly in homes when you can be on the
same subnet you can kind of do more
complicated things but for public spaces
this
becomes a lot more interesting the other
thing that this journey I personally
went on was like the first thing I built
was a big vending machine because of
course you want to control big stuff but
then you realize it actually little is
kind of cool it's like wait a second
just how to bus stop or how about a
movie poster it's really kind of
revelatory to realize how the smallest
beautiful kind of thing and the smaller
you go the more interesting it gets but
even if you get rid of that start
realizing it's not even corporate stuff
it's personal stuff so if I'm presenting
slides my Chromebook could be pretty you
know broadcasting the URL to my slides
to the room or my dog collar or cat
collar can have something so they get
lost someone could find them and call
the Humane Society and report the dog or
even a for sale sign on the back of my
car I mean there's a lot of really
lightweight personal things that aren't
even corporate we think this unlocks a
lot of really fun stuff we all know
about the long tail of the web you know
how the bottom gajillion pages are so
much bigger than the top 10 or 20 and
that's just what the web is always based
on it's the little stuff so when we talk
about vending machines or bus stops or
luggage or toasters whatever each one of
these cases is kind of honestly it's
okay but taken together it opens up this
whole new way of interacting with
devices and it kind of forms what I kind
of call this long tail of interaction
where all devices can be interacted with
and we think it's a lot more interesting
in it by the way it doesn't have to be
IOT either this can be the world's
stupidest toaster really it just is a
toaster and all it wants you to do is
recycle it or have a video to change the
crumb tray because we all had you buy a
toaster and it's covered with QR codes
because they so want you to engage it
what do you do you throw it away right
and some marketer loses his wings you
know and but the whole idea is that now
you can engage with the person after
it's been bought and it's just a toaster
I think this is really interesting stuff
and we don't have to have it be kind of
based on IOT type stuff now we've been
around for over a year now had a github
it's one of our most Google's most
popular github it's been kind of fun and
I'm really excited because just a couple
weeks ago opera announced that in Opera
Labs they support the physical web and
they have their own proxy service which
is really awesome so other
people are doing we're talking to other
groups as well so it's beginning to get
built out and it's really critical that
this is seen as part of the open web it
can't succeed if it's a Google product
it has to be some it can only succeed if
we as a community want it to succeed and
we're really excited that people are
getting behind this I'm also pleased to
announce because I get this question
three times a day is that today at five
o'clock chrome dev when it releases will
have early support for the physical web
built in site it's been a really long
time I'm really excited to say now it is
early it's a little buggy please be
patient that's behind a flag but I'm
really excited to be I'll share with you
guys now I actually had been available
in iOS for the last four months so if
you have an iPhone and you have Chrome
you can use a right now if you have
chrome you got to wait two and a half
hours sorry if you really want to go out
after our talk and play the demos you
can download our developer app just
search for a physical web in the Play
Store you can download oh right right
now but it's coming we really want to
talk to you guys about it and play with
it ask questions we're very active on
the github and so please fall find us
afterwards and talk to us more later
oh and by the way tomorrow morning not
today because it would create a complete
mess tomorrow morning you guys can all
get your own Eddystone beacon which you
can in program and find and play around
with so we'll be handing those up
tomorrow morning to play with thank you
very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>