<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Caching Strategies: Micro Tip #19 - Supercharged | Coder Coacher - Coaching Coders</title><meta content="Caching Strategies: Micro Tip #19 - Supercharged - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Caching Strategies: Micro Tip #19 - Supercharged</b></h2><h5 class="post__date">2017-10-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TtXvE814SQA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">[MUSIC PLAYING]
SURMA: Making your
web app work offline
is slowly becoming more of
an expectation than just
a feature.
Every app is different and
there is many different caching
strategies for the
different situations,
but one of the simplest and most
versatile caching strategies
is stale-while-revalidate.
With this caching
strategy, a request
will always use
the cache response
if there is one, regardless
of whether it is stale or not.
In the background we
can hit the server
and update the
cache, if necessary.
If an update was
necessary, you can
decide whether to prompt
the user to reload the page,
depending on how important the
freshness of the resource is.
So let's take a look at how
we can implement this caching
strategy in our service worker.
Whenever a request comes in,
we consult both the cache
and the network.
We want to respond
with something
as quickly as possible, so for
our &quot;respond with&quot; function,
we use the cached
response, if available.
If there was nothing
in the cache,
we use the network's response.
And if that isn't
available either,
we can't do much more
than throw an error.
This way we are making
sure the browser
gets something to work with
as quickly as possible.
The resource revalidation goes
into our &quot;wait until&quot; function.
It's fine if this process takes
a little bit longer, as it
will be running
in the background
and won't stall other responses.
And we're already done.
This is an excellent
caching strategy
for blocks and similar
content for web sites.
Just make sure your caching
headers and your ETags
are set correctly,
so that revalidation
doesn't become too costly.
Thanks for watching.
Thank you for sticking around.
Since you made it
to the end card,
I might as well ask you
to click our big crew--

oh.
It's over here.
</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>