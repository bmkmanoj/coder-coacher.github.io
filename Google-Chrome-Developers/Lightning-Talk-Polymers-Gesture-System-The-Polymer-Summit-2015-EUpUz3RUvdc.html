<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Lightning Talk: Polymer's Gesture System (The Polymer Summit 2015) | Coder Coacher - Coaching Coders</title><meta content="Lightning Talk: Polymer's Gesture System (The Polymer Summit 2015) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Lightning Talk: Polymer's Gesture System (The Polymer Summit 2015)</b></h2><h5 class="post__date">2015-09-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EUpUz3RUvdc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">afternoon everybody my name is Dan
Friedman and I'm here to talk about
polymers gesture system in 10 minutes or
less so let me start with a question yr
gesture is important well gestures are
important because you want your app to
respond fluidly to user input we use
gestures to make you I hints that show
users what they're interacting with and
provide intuitive motions that let users
feel empowered and delighted if you get
this right your app looks great your
users love it and everybody's happy and
because your app you're making your app
using elements you can be sure to be
used on phones tablets desktops TVs and
maybe even a watch and that means you
need to be very familiar with all the
tools the browser has for dealing with
user input on all these form factors
unfortunately the browser only comes
with some basic tools Mouse events and
touch events they behave very
differently and some features are not
available on all the platforms now you
are not worried because you're all great
engineers and you know exactly how to
make your elements function well on all
these form factors on by yourself but
when you write that input handling code
in your elements one at a time you end
up writing a lot of it and most that
code won't be reusable because it has
all the little hacks and shortcuts you
needed for that specific element and
that specific interaction and if you're
like me you're working on a bunch of
stuff at the same time and two weeks
later you forget what half that code
does anymore and that's really bad when
it comes to the future maintenance of
your apps and elements well I don't want
you to worry about that anymore since
input handling is such a global concern
the polymer team did a lot of research
and crafted a simple and effective
gesture system now it doesn't do
everything and I'm sure there's bugs and
quirks we haven't fixed yet but if you
use these gestures we've built in your
elements though
elements can be Mouse and touch friendly
without all the hard work thank you well
since I've been hyping up those gestures
so much I should probably tell you what
they are the gestures polymer provides
are down up tap and track with these
four gestures we fill all of your
amazing material design elements and if
you use them to your elements can be
just as awesome well first is the down
and up gestures I want to talk about
these together because they're really
two halves of the same hole these are
the simplest gestures we have but there
are pretty great convenience for a
number of use cases so let's say you
want to add these awesome material
design ripples to your photo album
viewer and show your user which photos
interacting with on your own you'd have
to add at least for listeners touchstart
touch and mouse up mouse down like this
code does and I want to make a note here
this is a real sample from how we had to
do it for polymers gestures you'd also
have to deal with the fact that touch
events target the first element you
touched well Mouse events change target
as you move this means you're listening
to the whole document for mouse up but
with polymer you just need to listeners
let's take a look at what those do you
can listen with the down event to start
the ripple and we'll use the convenient
X&amp;amp;Y properties on the events detail
object to tell the ripple element the
screen position of where it should start
which is right into the finger and then
we use the up event to tell the RIP
element to stop and that's it now you
have a nice way to tell the user which
photo they've touched now on to tap tap
is really the motivating factor for
creating the gesture system because it
allows us to have one event for
selecting and pressing that works well
on desktop mobile and all the other form
factors a good example of this is in
drop-down menus making the right event
listener with raw and mouse touch events
can be a real headache in fact it could
be this much of a headache again this is
all real code from gestures do the
rather infamous clicked
lay on mobile platforms we had to do
quite a bit of work to make a tap that
worked well on all of our foreign
factors and because we did all that hard
work for you here's how simple the drop
down menu can be with the tap event
paves just the same with Mouse and touch
while the gesture layer takes care of
all the little platform differences
taking a closer look you can listen on
each individual menu item with the on
tap attribute because we don't want to
know which deep down part of the menu
item was pressed you can use polymer Dom
to tell us the local target will should
be one of the menu items in our scope we
set this element selected item to be
that local menu item and then we check
if the menu item is itself a submenu and
open it pretty simple probably you'll
use the tap gesture most in your
elements because most user interactions
revolve around tapping well the last
gesture in polymers toolbox is track
track is meant to be used for any action
that requires dragging here's an unlit
that can make use of track a slider we
want to be able to drag the slider
handle to the desired value because it's
a very intuitive motion when we release
the handle the slider should have the
value we selected with native events you
have a lot of choices and how to
accomplish this mouse has html5
drag-and-drop events some trout forms
have gesture events with touch but those
systems don't work everywhere and they
can get really complicated here's the
way we did in polymers gesture is to
make the track event as you can see this
did get complicated you the right way
and there's a lot of code dealing with
just how different mouse events and
touch events are and I would personally
feel really bad if anybody had to write
that code again it took a lot of work to
get this right and there are so many
heuristics that need obsessive tweaking
to make it feel correct when you drag
trust me you don't want to be up all
night before a big developer conference
playing with all the demos to make sure
the sliders work
that's why I'm very proud to say that
this is how easy it is to make a track
gesture with the slider so this part
here needs a little bit of explanation
the set scroll Direction function will
set up some scroll locking behavior for
us and this means that by setting the
scroll direction to why we can allow
scrolling in the vertical axis while
controlling those slider value in the
horizontal axis the scroll Direction
behavior is locked in on the first move
to prevent both the scrolling and slider
dragon from happening at the same time
let's take a look at the track handler
itself in the first line here we check
that the life cycle of the track gesture
which can be start track or end we want
to know if there will get more track
events after this one so we checked that
the state is not in and then we use that
to open the value pop-up while the user
still dragging we also set a dragon
class on our element for any styling
needs the user of our element may want
next we use the DX property to tell us
how far the finger has moved
horizontally from the initial position
we bound this value to the size of the
slider with clamp and he's a 3d
transform to move the slider handle to
the position under the finger when you
pull all that together you have a really
easy way to drag the slider with mouse
and touch ok so that was a really brief
look at all of polymers gestures and
probably not nearly enough information
for everybody to be satisfied but
there's one thing I'd like you to take
away from this talk it's that polymer
can do all the heavy lifting for you and
your elements only need down up tap and
track alright that's it for me if you
want to earn more about gestures you can
start by reading the docs on our polymer
project site you find any bugs or have
any more questions feel free to follow
them file an issue on the polymer repo
and we'll take a look finally feel free
to ask me questions in the slack channel
reference me on get up issues or bug man
Twitter alright thanks everybody and
have a wonderful time at the polymer
summit
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>