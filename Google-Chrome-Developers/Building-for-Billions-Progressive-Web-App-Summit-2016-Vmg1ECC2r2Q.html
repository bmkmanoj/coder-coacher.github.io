<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building for Billions (Progressive Web App Summit 2016) | Coder Coacher - Coaching Coders</title><meta content="Building for Billions (Progressive Web App Summit 2016) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building for Billions (Progressive Web App Summit 2016)</b></h2><h5 class="post__date">2016-06-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Vmg1ECC2r2Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everyone my name is tall Oppenheimer
I'm a product manager on the chrome team
and I'm here to talk to you about how
you can use all the technologies that
we've learned about today to make sure
that your experiences can work for
billions of users so when we're talking
about billions of users that's a pretty
big number and that means that we really
need to think about how can we reach all
of our possible users and one of the
really critical things here is to figure
out who your users are and to actually
understand how they'll be accessing your
experience and what this means now for a
lot of us we spend a lot of time
thinking about what product problem
we're trying to solve and who we sort of
have this mental image in our head of
who our user might be and for many of us
this can look a lot like us based on
just what you're used to and the
experiences that you've had and this can
lead to a perception of the world that
looks something like this and now we are
in Amsterdam so a few of us might be
thinking a little bit outside of the
United States and you can throw sort of
Europe in there as well but this isn't
the whole world by any means and it's
definitely not your user base when
you're thinking about all of the
Internet users so today there are
roughly 3.3 billion users using the
internet around the world and if we
actually drill down and look at where
these users are this is a map of
Internet users today by country and
you'll see that as well there are some
users in the United States and some in
Europe we see much more pronounced
number of users in a lot of these other
areas so while the US has about 286
million Internet users
India has 462 million Internet users and
China actually has almost as much as the
two of these combined with around 721
million Internet users but what's really
striking here is not just where the
Internet users are today but looking at
where the growth is coming from so if
you look at a snapshot over the last
year you'll see that in the last year a
lot of Internet users came online in one
very specific country and this is this
is India so we saw over the last year
that a hundred and eight million users
came online in India alone and for India
this was actually a growth of 30% year
over year compared to the number of
users that they had before and
growth was ten times more than the
growth we saw in China in terms of
absolute users and over a hundred times
more the growth we saw in any other
country over the last year and just to
put this in context this growth in India
in a single year was equal to one third
of the United States entire population
and that's just in one year and what's
more is actually if we look at who's not
yet online and where we sort of predict
that the growth will be coming from we
see the shift away from the United
States and Europe to other countries so
in India you still have 864 million
users not yet online the current user
base there's still sixty five percent of
India's entire population not online or
over 20 times the number that's not yet
online in the United States or similar
areas and so the Sircar sort of question
can come up how do we reach these users
if we need to be sure that we're
building for all of them and thinking
about all of them and as I mentioned
before what's really critical here is to
understand your users and understand who
they are so I know we've been sitting
for a little while but just with a quick
show of hands how many of you remember
the first time that you accessed the
Internet okay looks like like most of us
do now keep your hands up if that was on
a mobile device okay we've got no hands
up at this point so most of us probably
access the internet for the first time
on a desktop machine there may be a
laptop but when I was in India last year
we spent a whole lot of time talking to
Internet users who were maybe newer to
the internet or had been using it for a
fair amount of time and I was sitting
down with a woman who was sort of in her
mid 40s we were sitting in her living
room and I asked her the same question
if she remembered when she accessed the
internet for the first time and what
device used to access it and her answer
was yes she did remember the first time
she used the internet it had been
earlier that year she borrowed her
husband's cell phone and access the
internet for the very first time a few
months later she got her own cell phone
and was now able to regularly access the
Internet and so what this means is that
how people are coming to your experience
and interacting with it is just
fundamentally different we've heard the
mantra mobile first probably a number of
times and for us as often means thinking
about design mobile first thinking about
how our experience would work on a mo
phone but for a lot of these users how
they're actually accessing with the
internet isn't necessarily mobile first
it's actually mobile only they haven't
had an experience on the desktop or a
laptop computer and they may not be
using one regularly and they may not
even in the coming years be using one
regularly so in terms of how they'll be
interacting with your experience it is
only going to be on that mobile phone
and so this means that you really need
to think about what your experience can
be like for users who may not have had
experience interacting with your product
on other platforms and making sure that
you're still designing for that in mind
but beyond just the sort of using mobile
first this means that it's also really
important for us to think about what the
device that users are using or like so
taking a look at one device this is a
device that some of us might have in our
pocket this is the Nexus 6p and it was
released in 2015 so last year it's a
it's a pretty big device five point
seven inches measured diagonally it has
three gigabytes of RAM and then
depending on how much you want to buy
and how much you feel you need it can
have either 32 to 128 gigabytes of
storage now in comparison when we were
in India we went to a number of stores
and actually asked the shopkeepers what
device do you sell what devices do
people ask for what would you recommend
for me and this is just an example of
one device this is a Samsung j1 and this
device was also released in 2015
it's 4.3 inches measure diagonally so a
bit smaller it has 512 megabytes of RAM
and four gigabytes of storage so these
are two devices that were released in
the same year but have very different
specs we see one sixth of the RAM and
even in the best-case scenario one
eighth of the storage capacity and this
means that the user is going to be
accessing your experience on their
mobile phone under a very different
context than with phone you might have
in your pocket and the phone that you
might be testing on and seeing what your
experience looks like and now the
difference in context goes beyond just
the physical form factor of the device
that they're using because they're
relying on cell phones this also means
that cellular connection is their
primary way of accessing the Internet
fairly often now many of us are probably
used to accessing Wi-Fi we've connected
to Wi-Fi here probably sometimes
complaining about it's B
this isn't necessarily the case for the
users and it's because you're relying on
something that's in your pocket as you
move in shift scenarios so does your
connection to the internet and you need
to keep this in mind when you're
building experiences but this phenomenon
is happening all over the world we also
see that in the United States 20% of US
households rely only on cellular data
when they're making in connections to
the Internet and what's really
interesting is that this numbers
actually doubled since 2013 so we're
seeing this increasing so the reliance
on cellular networks as your primary way
of interacting with the Internet is
increasing across the globe and this has
some consequences when you're thinking
about the conditions that someone is
trying to access your experience under
now we've heard a lot about sort of
slower connections and the impact this
can have what we see that globally about
60% of mobile connections are 2g and
this is just actual 2g connections it's
not necessarily talking about 2g like
speeds which can actually be even larger
and when we start thinking about the
areas where people are coming online for
the first time we see this more
pronounced at about two-thirds of the
connections but what's more is that
while we're seeing this decreasing we're
not seeing this decreasing at a very
fast rate we the predictions if you sort
of estimate it out is that by 2020 one
fifth of the connections globally will
still be 2g and again this is still
excluding those two G like speeds so the
problem of connection speed is going to
persist for the foreseeable future and
we've seen some stats about this before
and it's sort of widely accepted that a
delay in your experience has a very
large impact on how users experience
your site and then we've seen that a
study found that in a one single second
delay in your page load time can lead to
11% fewer pageviews or a 16% decrease in
customer satisfaction if we're talking
more of qualitatively and so that 2g
connection that might have very slow
round-trip times if that impacts what
your experience is like for the user is
likely to have a very negative impact on
how happy they are with what you've
built but beyond just the connection
quality that is introduced by users
relying very often on cellular
connections cost also starts to play
more of a role here
so looking at India again and doing an
Smit of sort of minimum wage minimum
wage in India is a little bit complex as
it depends on your job role etc and
looking at how expensive a data plan is
with some simplifications we see here
that on average you would it would
require 17 hours of minimum wage work in
India to purchase a 500 megabyte data
plan and we're all we've been thinking
about the mobile web so just to put this
in context looking at sort of the
average size of a web page today if a
user in India receiving minimum wage
were to spend that entire paycheck on
just data just to access the mobile web
one hour of minimum wage work would load
about 15 web pages and just take a
moment to think about how many web pages
you visited today or even visited during
the last talk or during this talk and
think about how many hours you would
have had to spend to be able to afford
that and what this really means is that
the cost of data requires a trade-off if
they use one thing it means that it's
they're not using something else and
they're constantly making these
trade-offs to make sure that the data
that they have is using the best way
possible and this results in the
frequency of their connectivity very
really varying when data it costs are so
high you need to make a choice if you're
going to use one thing or the other
and sometimes you just want to turn it
off altogether one user that we spoke to
actually said that on an average day
they turn airplane mode on and off
twelve to fifteen times because when
you're not using your phone and you put
it to the side if data this expensive
you want to make sure it's not getting
used unless you find value out of it and
this means that if you're trying to get
a user to interact with your experience
you really need to make it worth it for
them because they need to be willing to
pay that amount to just access that
experience and so this might be a little
too daunting right these are a lot of
different constraints and conditions
under which people are accessing the
internet that you may not be familiar
with firsthand and so you may be posed
with the question great people are using
mobile only devices connections can be
intermittent they can be slow and when
they do exist they're really expensive
so so what can I sort of do and what
does this mean for how I develop so some
of the methods that we think about might
be a little bit hard under some of these
conditions installs become really
challenging because what you need to do
here is convince a user to pay
the time and data costs to install your
experience before they've even tried it
out and this can be really hard when the
costs are so high and the networks are
slow because it can take sometimes hours
to download a single app and what's more
if the device has limited storage
capacity your apk size starts to be
really really important you need to
start to make sure that it's small so
that a user doesn't have to delete
photos or videos or other apps on their
phone to make space for your experience
and what's more is even beyond this
first step you're probably working to
improve your experience which probably
means you want your user to update their
app and this is again once again
challenging because they need to take
that extra step on that slow connection
or expensive connection but you're all
here you probably all know that there's
an app that solves a whole lot of this
the mobile web as we know solves a lot
of these things just inherently and how
users interact with it right with with
the mobile web as soon as they navigate
to your experience they see your
experience they don't have to take an
extra step before they try it out they
got there they see it they can try it
out this also means that storage
constraints for that initial interaction
are non-existent
just by virtue of finding it they can
see it and start using it and it's
always up-to-date so as you continue to
make improvements on your product your
users get them right out of the gate and
they don't have to go take an extra step
just to see the latest and greatest that
you've built but as you know we've been
talking a lot about the reach that this
introduces and what we've seen these are
some stats that we talked about last
year is that removing these barriers has
a real impact on the reach that your
experience can have we see that on
average users navigate past 25 apps per
month and this is compared to over a
hundred websites that a user will
navigate past on Chrome on Android in a
single month and this not only is a
breadth of experiences that users pass
by but has a real impact on the number
of users that a single experience has so
looking at the top 1,000 mobile apps and
the top 1,000 web websites we see that
on average user there is two point five
times as many users on the mobile web as
there is on these top 1,000 mobile apps
and what we're seeing is that mobile web
is also growing at two times the rate of
native apps in terms of numbers of users
in these same buckets of top thousand
so really what this means is that the
web inherently provides you a whole lot
of reach and we've been talking a lot
about today is how you can use
progressive web apps to not only
leverage the reach that the web
inherently has but to build experiences
that really work well for you and for
your users so that they highlight and
have all the capabilities that you need
to build the best possible experience
and for your users to get the best
possible experiences so we're not gonna
focus on this too much because you've
heard a lot of this today but
progressive Web Apps overall not all
only offer a very smooth experience but
they also offer a lot of options for how
to support some of these other
situations that you really need to think
about when you're building for billions
of users so how can you leverage
progressive web apps to actually reach
and build great experiences for users
around the world so the first is cost we
talked about how costs can be very
limiting for users to even try out your
experience for the first time so I'll
talk about how you can leverage
progressive web apps to really remove
that barrier and second is connectivity
when you do interact with these sort of
flaky connections how can you address
that to make sure your experience are
still as fast as possible so you're not
incurring that one second delay that has
a huge impact on users experience and
finally how can we make sure that you're
making the experience as simple as
possible and just removing as many extra
steps that your users may or may not
need to actually take so that things
continue to be fast and efficient so to
jump into the first one cost now on
Chrome we've been working on addressing
this issue across the board so we do
have a chrome data saver this is a proxy
for HTTP content that a user can turn on
and with functionally no fidelity change
users can see up to 60% data savings but
we've taken this a step further because
we know that cost can be very
constraining for some of our users and
we've actually decided that on slow
connections for HTTP content we will
automatically replace most images on the
pages with placeholders we maintain
things like navigation icons Xterra so
users can continue to load the page but
at this point the users in control of
where their data goes so they can choose
to load all the images on the page they
can long press on a single image to load
it if they need it but we're not using
their data without their knowledge and
without them needing it and we've seen
that we were able to increase data
savings to over 70% in some of these
situations but we also know that this
doesn't necessarily work for for all
experiences
and so there's also a number of client
hints that you as a developer can use to
make sure that you're optimizing the
experience for the users based on the
device that they do have so with CPR
width and viewport width you can make
sure that you're only sending the image
size that you need to the users and so
that they're not incurring data costs
for something they may not be using or
may not actually need what's more is
we've also launched a saved data header
and in chrome this maps directly to
whether the user has that data saver had
a feature turned on or not which means
that you as a developer know which users
are the most data sensitive and can
adapt your experience accordingly and
can do so in the way that works best for
your product so maybe that means only
loading you know one key image that's
critical for it and making the other
ones sort of on-demand for the user or
not Auto playing video or whatever it
might be then make sure that you aren't
removing constraints for the users who
need it most while still making sure
that your experience works for them but
we also know that this can be
challenging and there's a lot of
optimizations to go on so we also have
the PageSpeed module which is a
server-side component that you can
actually drop into your web server they
will do a lot of these optimizations for
you and if you Java's in this can do the
optimizations on both HTTP and HTTPS
content with functionally no fidelity
change so it's similar to that data
saver feature that we have on chrome
overall but you can do it on all types
of content and what we've also done is
we actually on a step further so that
for the users who have data saver on we
do a few extra optimizations to make
sure that we're really doing as much as
possible to help those users who are
feeling sort of most constrained or who
have expressed interest and not saving
them even more data so just to give an
example of this this is an example of a
store Knox storefront that we built on
the the left you'll see a screenshot of
the store with with no page speed and on
on the right you'll see it with page
speed now these look really familiar and
very similar if anyone can point out any
differences let me know afterwards but
they look functionally identical but
there are actually differences when you
dig into this so if you look at the one
on the left here this is a 350 kilobyte
page so it's relatively lightweight
compared to sort of the average website
across the board but simulating a 2g
connection this page can take over a
minute to load and as we know waiting is
bad
it causes a bad user experience it
causes your metrics to hurt and you
really want to reduce that as much as
possible now by just having the optimize
for bandwidth in PageSpeed module what
we see is that we are able to actually
swink this to 165 kilobytes or about 50%
fewer bytes but for users who have data
saver on we and we go even further we're
actually able to shrink this to 120
kilobytes and what's more is on the same
simulated 2g connection we actually drop
the load time to under 30 seconds and
this is functionally with no fidelity
change to the user the user is seeing
the same thing but you are saving them
data and saving them time just by
dropping this one line of code in and
what we're seeing is this is just one
example but we've seen that on average
even for users who do not have data
saver on we see about 37% data saving
with no fidelity change at all but
beyond just removing cost and decreasing
cost that comes with data usage on
mobile in connectivity is very important
and you need to make sure that things
load as quickly as possible so just to
give a sense of how these things can
vary based on connection types so
round-trip time or the time between
making a request and actually getting a
response varies pretty drastically
between all these connection types at
one extreme you often see sort of 50
milliseconds round-trip times on Wi-Fi I
know conferences can be different but at
the other extreme you have sort of 50
times slower on an average 2g network
with 2500 milliseconds round-trip times
and so there's gonna be a little bit
daunting what can you actually do about
this so the first thing you can do is
downlink max actually offers you a way
to know which connection type in the
first place your users actually on when
they're accessing your experience and
you can subscribe to updates so if a
user switches connection types you as a
developer know and can make sure that
you're giving them the best possible
experience and not incurring any of
those delays that might otherwise happen
but what can you actually do about it
when you do know okay my users now on a
2g connection so we've heard a lot about
serviceworker today right we know it's a
client-side proxy and written in
JavaScript and you can use it to support
offline and all these things but you can
also use it to make sure that your
experience is as fast as possible so
Jake this morning talked about life.i or
the experience where your phone thinks
it's connected but you as a user are not
actually getting anything
this can be incredibly frustrating this
isn't only those sort of really flaky
intermittent connections but this can
also be the case when you're on a really
really slow connection and the
round-trip times are just so large and
so what you can do here is with service
worker you can actually implement
request timeouts to address these flaky
connections so that if a user is on that
really slow connection they're still
getting something very very quickly and
you're they're not waiting for it to
load but we do know that sometimes
there's no connection right we've seen
this offline down a lot today when we've
been talking about Service Worker and
we're really we're really trying to make
sure that you all have all the tools you
need to kill the offline Dino and make
sure that when a user goes to your
experience they're never gonna see this
offline dinosaur but there's been a lot
of interesting ways that we've seen
people who have been leveraging
progressive web apps address the offline
situation in a way that addresses the
flows that are most critical to them so
just as one example this is conga conga
is one of the top ecommerce sites in
Africa and they will actually be talking
a lot more detail about with their
progressive web app tomorrow and what
they've done is they've built a checkout
flow that can work completely offline so
for users online and add some things to
their cart and then loses connectivity
or goes offline or turns on airplane
mode for whatever reason it might be
they've actually adjusted their flow so
that instead of having an online
checkout flow it has sort of a call to
order flow so that the user can still
complete the transaction or the flow
that's most critical for their product
in a way that works regardless of their
connectivity type so they've really
taken their time to think through what
is the critical use case for our users
and how can we actually let them
complete that use case even if they have
no connection and what's more they've
actually found that for that critical
flow this has shown a lot of improvement
so compared to their previous mobile web
site this used 84% less data and so
addressing a lot of these speed
connection issues also has a benefit of
addressing some of those cost issues
that we talked about earlier what's even
more is that compared to their native
app this new flow actually used 82% less
data so this has been a drastic
improvement not only to their previous
mobile web site but also to their native
app experience and again they'll be
talking a lot more about their overall
it's work tomorrow and more
so feel free to come to that but beyond
just trying to adjust connectivity and
cost removing complexity is always a
good thing
making things easier is always just
gonna be better for your users and when
we're talking about users that are sort
of coming online for the first time
every step you're asking your user to
take is time and money because on those
2g connections every page load is just
going to be sometimes minutes of waiting
so if you're giving them a page load you
need to make sure that that page load
provides value and if it doesn't get rid
of that step and there's a few ways that
we can make that happen so we've talked
a lot about add to homescreen and how
you can use this as an easy way for
users to get back to your experience
this can also be used as an easy way to
cut out steps for your user so that
users who are more engaging of expressed
interest in your site can with one tap
get right into your site they don't have
to take extra navigations wait those
five to ten minutes spend that data on
those page loads just to get to your
experience they can tap on it straight
from their home screen but beyond that
with the notifications you can also make
sure to deep link them to specifically
the part of your experience at the most
critical times so that they're not
taking extra steps even within your
product experience to get those to the
part that might be most relevant to them
so this means that regardless of what
their connection is or their their cost
is you're just removed steps and they
don't have to wait that extra time
unless it provides value to them but one
of the things we talked about is that
can be really hard to try this out and
make sure you understand what it's like
and so there are a few tools you can use
to actually test this experience
directly and make sure you're testing it
with a global perspective and under all
of these different situations that maybe
aren't what you have in your pocket or
what you use on a daily basis so we do
have a mini mobile device lab and it's
up on github and so this will let you
simulate a bunch of different devices so
you don't have to go out and buy you
know a million and a half devices we can
make sure you're simulating your
experience on all these different
devices to see what users who use
devices that are very different for
yours are actually experiencing but
what's more is you can actually use dev
tools to understand the cost of your
experience so just to walk you through
one thing here so we've talked a lot
about dev tools but I want to call your
attention to the network piece
specifically and so you'll see a button
at the bottom here
that actually lets you know what the
what the payload of of your load was and
so right now at the start it's sort of
pretty light 785 if we look a little bit
more into this we noticed a lot of
things came from cache so probably why I
was pretty light but you can actually
just go ahead and hit hit refresh here
and now you'll see that sort of on a
fresh load this was actually quite quite
a bit heavier and so it was over 200
kilobytes and so this is just one
example but you can use this as you're
navigating through your experience to
get a sense of like okay how many how
many megabytes is a user using if
they're actually actively using my
experience but going beyond this you can
also use this to understand the time and
how much time users are spending on just
waiting for your page to load so you'll
see the time down here right next to the
the megabytes but what's more is you'll
also notice that up here you can
throttle it and change the simulated
network speed so that you're not relying
just on your Wi-Fi to see what how the
page load actually happens so if you'll
see that if we change this to 2g this
actually starts going from 600
milliseconds that we saw before to
roughly 11 seconds for for just this
page to load and what you can do is you
can as you adapt your experience as you
use serviceworker now these other
technologies that we've talked about you
can see how this changes and make sure
that you're really optimizing for
experiences and that you're building an
experience that you would be happy to
use if you are actually facing sort of
some of these other conditions that you
might not have first-hand experience
with so the main idea here is that by
keeping sort of three principles in mind
you can make sure that the experience
you're building not only leverages the
reach of the web but also takes
advantage of progressive web app
technologies to build the best possible
experience for your users across the
board and we have a lot of different
technologies and details about how you
can apply these not only for progressive
web apps but specifically to address the
needs of billions of users online so
feel free to go there for more details
but the big takeaway here is it's that
just by keeping in mind the fact that
not all users who are using your
experience look like you and are
accessing the experience under similar
constraints you can do a whole lot to
make your experience much more
accessible and as a result have a much
larger reach and have the potential to
reach billions of users and so with all
of this you can really build an
experience that is built to work well
for everyone and with that I'm gonna
hand it over to Chris Wilson to
wrap it up for the day thank you very
much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>