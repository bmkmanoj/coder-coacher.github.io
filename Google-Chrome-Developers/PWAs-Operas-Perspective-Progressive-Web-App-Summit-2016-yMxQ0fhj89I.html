<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PWAs: Opera's Perspective (Progressive Web App Summit 2016) | Coder Coacher - Coaching Coders</title><meta content="PWAs: Opera's Perspective (Progressive Web App Summit 2016) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PWAs: Opera's Perspective (Progressive Web App Summit 2016)</b></h2><h5 class="post__date">2016-06-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yMxQ0fhj89I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">it's great to be here thank you so much
it's a great turnout and it's a
fantastic venue and thanks so much to
google for inviting me to speak here so
today I'll be talking a little bit about
operas perspective on progressive web
apps my name is andreas bhavan's and i'm
a product manager of opera for android
and i'm also heading up operas developer
relations team and so last year has been
really fantastic year for us because we
had the pleasure to implement with every
release adding more features to our
support for progressive web apps so
we've added support for add to
homescreen and the prompt you get at the
bottom to sort of suggest that the other
side to the home screen if it qualifies
for as being a progressive web app and
if the user positively engages with it
we've also of course have support for
service workers and offering a great
offline experience we've just last week
released a support for push
notifications so this is brand-new and
there is also some internal labs bills
already with that support background
sync they haven't been out yet we still
need to test a little bit more but I
expect this tool and very soon in Opera
Android as well I want to in this talk I
I don't want to go again through the
various api's and the things you can do
I'm so it will not be a very code heavy
talk but I want to look more at some UX
patterns I want to look at some
questions you may have around the
emerging markets opera mini and then
also some of the challenges we face with
progressive web apps and potential
solutions II so let's get started first
of all I want to look a little bit at
some of the UX patterns that we've seen
coming up with relation to home screen
at the home screen so first of all the
first pattern I want to cover is
channeling users to install banners and
so if you you probably know this if the
user engages frequently we decide that
is a progressive web app the browser
shows an add to homescreen install
banner
and so it pops up from the bottom looks
a little bit different depending on the
browser your arm but the basic mechanism
is the same it's just hey do you want to
add the site to your home screen the
user can then pick no thanks or to add
it and maybe it's shown again at a later
point in time however it's also possible
to prevent this banner from just popping
up all by itself and do something else
with it you can tie it to an alternative
trigger like for instance install button
and here on air horn or calm you can see
that when the page is loaded initially
there's this install button that pops up
at the bottom when you press it the
native install banner of the browsers
install banner comes up and the user can
choose to install so to install the
application or to add it to the home
screen in flipkart does something
similar it's quite interesting if you
haven't tried it yet definitely check it
out what happens is when you load the
Flipkart website a couple of times you
will feel that it vibrates a little bit
and then there's this little you know
cross at the bottom that sort of Wiggles
a bit and it's just okay do you want to
install this web app to your phone and
if you click it only then the install
banner shows up at the bottom and this
is quite interesting because the Liao's
flip cards to only channel users to this
install banner who are really engaged so
only engage users get to see this
because they first have to do to click
this little button and so that you know
flip card is certain like yes they're
going to depress add to homescreen and
and and sort of they keep more control
over the user flow and user funnel so
this is quite interesting something to
consider if you're building a
progressive web app another pattern I
want to look at is that what I find
quite exciting is that now the more and
more progressive web apps are popping up
all over the place we see that
progressive web apps are using display
modes other than sort of the standalone
display mode and so I want to look here
are two simple examples I recently was
browsing the Guardian and suddenly an
install banner popped up and i said hey
do you want to add to site to your home
screen so i did when i launched it I
actually noticed that today using
display browser which pops the side back
up into the browser so
go stand alone or full screen or
something like that and so you can still
use the URLs and and sort of use that as
a navigation aid or maybe for sharing
and things like that which is of course
is quite an important for a newspaper if
it wants to build social media
engagement there at its content so that
was kind of interesting to see this is
another app it's called a flick play
flick play you can find on flick play
app I oh it's made by Chinese developers
and I've been talking with them and so
they were really really excited about
the potential of progressive web apps
and they're using this play fullscreen
an orientation portrait so they log this
game in portrait mode because it would
make sense to sort of reorient it if you
go in horizontal in landscape mode and
so you can see they can offer a really
immersive experience it's also really
smooth so you you it's barely noticeable
or not at all noticeable that you're
using this game inside a web browser it
feels like I'm totally ignore a native
app so do check it out and then let's
talk about offline some of the UX
patterns we see there one of the things
you have to wonder about is okay do I
want to save specific content units or
do something else for instance sound
slice offers a safe offline option for
specific content units in this case it's
not articles but its its lessons with
musical notation and so what happens is
if you click the save offline button
there at the bottom the musical notation
and the audio is downloaded and then
afterwards it says okay offline mode is
enabled and you can play it back even if
you're offline so the interesting thing
would sound sizes view access it while
being offline it just shows you a
special you I that lists all the lessons
you've downloaded and so you can you
don't have to hunt around and try to
figure out a new I of the side okay what
did I download and what didn't I
download and where can I find it but it
just gives you a nice list and it you
can interact with it and play playback
so it's a quite nice experience but here
so user interaction is required user
says I want to keep this this and that
and a later on you can get back to it
another type of approach is to try to
save almost all site content
this might also be right for your
particular use case for instance if we
look at the washington post this is you
know the online experience not really
very very beautiful layout really spent
snappy experience if you go offline and
you refresh this is what it looks like
it's exactly the same the only thing
that's changed is a little airplane icon
in the top right corner when you click
on articles in offline mode so let's
look at that first article there you see
that you can read the full text of the
articles the texas a bit more at the
bottom but believe me it's there but
images they're not pre fetched so the
texas prefetched and it's all there in
the background but the images are not
there and I found this kind of funny
actually particularly for this image
which it's actually not a flying that's
why it's not shown the users are flying
the images online and that's why
nothing's shown but i found this kind of
a funny a phonic work anyways and so
when you refresh the page you actually
this is what the article looks like when
we can reconnect and refresh and then
when you go back offline the article
states so all the content you've
interacted with actually stays including
images this time so this is a really
nice and smooth experience and it you
know it just balances lightly the the
you know text is cheap to download so
it's nice to have that cash this is
probably what the user is interesting
interested in whereas images are more
expensive to download and you only want
to do that when there is specific user
intent to sort of low to that image and
get the full content of the article the
google i/o progressive web app also does
something similar what it does is it
download the full site in the background
which is not so heavy that if you
imagine a bit of text as scheduled and
so on and it doesn't do this with videos
because that would be a bit too much
users would incur significant bandwidth
costs otherwise and it also informs the
user hey this site will work offline so
it says caching complete future visits
will work offline also quite nice so
this is a similar approach on a
different site and there's many other
side so it's quite as been quite
interesting actually to see how all of
this stuff is surfaced in and explored
by various sites then another pattern i
wanted to look at real briefly a
how sites indicate that the user is
offline and let's go back to our google
i/o side so when you go into offline
mode just turn on airplane mode in this
case there's a banner at the bottom
pointing out that you're offline but
that editing will work so this is quite
nice it tells me hey you know you're in
you're offline but you can still use the
site and interact with it and if you
look at flipkart and also all the way at
the bottom it says hey you're offline
currently you may still browse
previously viewed items down and what
you also see is that they've greyed out
the whole content and there's another
site gotv that also Gray's out its
images when it's offline I'm personally
I'm not a big fan of this but it might
you know it might work as sort of a an
indication of like hey this content is
still it's not so fresh using this
filter on top but it might also be a UX
pattern that we see more commonly
popping up and maybe that users might
like or the you know make sense to them
especially as these offline experiences
are still very new okay let's have a
look at push we implemented push
recently and this is a funny story I was
looking around for sites that support
push notifications in Opera and to my
surprise actually a number of them do
browser sniffing so stuff wasn't working
we had implemented the API but we had to
sort of work with a number of sides to
get things to work but anyways New
Scientist was a happy exception it
worked out of the box and what I so this
was a very first push notification i got
like yeah i push notification and then
unfortunately it was to say that you
know the Great Barrier Reef rat is the
first mammal wiped out by global warming
so that was kind of sad at the same time
so here's a picture of this this rodent
too bad but yes so that was my first
received push notification on opera for
Android so below no we want to look at
is how we can use notifications for
re-engagement of users I don't have much
of a demo here or an example but I like
to think I like you to think a little
bit about the idea that push
notifications allow web apps basically
to list visitors for reengagement
in a really low friction manner without
requiring them to download an app or
sign up to receive emails with the
latest news I things like that it's just
enough if the user goes to the side
flicks switch and accepts the
notification prompt notification
permission prompt and from then on you
can reach this user the user can forget
about the side can remove it completely
and and you know still you will be able
to reach this user at some point in the
future so for instance very interesting
for let's say a concert ticket site or
something like that where you don't you
know if you a lot of sites ask you to
convert by using their app to click to
download their app or by signing up for
for future news but push notifications
make this unnecessary basically you can
just with the flip of a switch you can
get users to sign up and later on you
can reach them unless the clear
permissions of course so celio which is
a site that service that created a
progressive web app they also pointed
this out and they said in their their
document i really recommend looking at
it it's a really great presentation
about progressive web apps they say that
web which is a killer communication
channel it's more reliable than native
app push and we can send push messages
even when the user doesn't have the app
so that is that was freedom I opening
and it you know allows you to build an
experience get users on board in a
really low friction way and later on
reach them in a much more pervasive way
actually maybe longer term way let's say
then you can with native app or other
you know sign up metas another pattern I
want to look at is how sites
contextualize why they need permission
to send notification send notifications
so this is something you as a web
developer should look at okay how do i
how do I want to do this and so on
whether com it has also push
notifications at work out of the box
here and so you you have to go to a
specific section in the settings and and
you have to go there to configure your
notifications and they really explained
very well why you'd want to click allow
on the push notification permission
prompt that
up next so they say okay you can
activate your alerts right here and so
on and so on user has to flick a switch
and then you know this this comes up and
then you can choose and save your
settings so they really try to give a
good story as to why the user should
accept this permission request and a
fight is a quite interesting experience
so this is one way to approach it
another way to approach it is to just
ask up front almost on first load hey
give us permission and you may say that
no this is terrible design but in some
cases it might also work so for instance
if you look at facebook you could argue
that well once the user signs in to
facebook dish maybe is enough in
sufficient intent to indicate like yeah
I want to engage with the facebook side
of the mobile browser and of course I
want to get push notifications on say a
native app you would expect as much
right so maybe on the web it's it's fine
to just ask it up front before they
start even using and using the site just
to get as many people on board as
possible there is also for instance new
scientists also asks this on first load
of the page this is there it's maybe a
little bit too fast because you haven't
even read anything there's no intent yet
you know you want to sign in or
something like that or come back and
immediately push notification request is
asked so there's different schools of
thought some of them say okay it's
better to ask these kind of difficult
questions as early on in the process as
possible because if you sort of leave
them for later very few people will find
them few people go to the settings and
try to enable it there so you have to
think very well where you where you want
to ask this so I think best practices
really merge over time I don't know if
there is a golden bullet probably a
silver bullet it probably will evolve
and it depends very much on the
experience you're building so to
summarize these are the things you
should consider some of the things we
looked at channel at the home screen
prompts or not is the display mode and
orientation of your side optimal what
type of content do we want to save
offline do we want to save this content
after user action or automatically in
the background
how do we indicate that a user is
offline and do we want to ask him to
sign up or are push notifications better
and when do we want to ask users to
accept notifications so that we can
interact further with them these are
sort of some of the things we've looked
at and some of the questions you should
ask yourself when you build a
progressive web app let's have a look at
emerging markets as a next topic so over
the last year over the last couple of
years millions of mobile first and
mobile only users have come online and
if you were here yesterday you also saw
tile oppenheimer stock which also
covered when two went quite into detail
about this topic and so these users have
specific needs and concerns a really
quick background story we found that a
subset of active opera friend road users
was not updating to the latest version
they were stuck on an old version that
we released last year or a couple of
other versions and they you know they
were active users using it daily or
weekly but they were not upgrading to
the latest version so we sent them a
survey and we asked why why are you not
upgrading why why don't you want to get
on the latest version and this is what
they told us in many cases their data
package was so limited that they were
afraid to run out of data by updating
the app they said you know we only want
to do this if it's really needed if it's
really necessary and just an upgrade
with like some tiny feature was not
enough for them to spend X amount of
megabytes to update to the latest
version and also interestingly some a
lot of these phones are underpowered
phones that are being used in emerging
markets and a number of users had run
out of storage space so they couldn't
their operating system sort of you know
told them well you cannot upgrade and
maybe they didn't want or it wasn't
obvious to them that they had to delete
pictures to save up more or pictures or
other data or other apps to save up
space to upgrade so this was quite
eye-opening and recently this this
results we recently I followed some
conversations on Twitter around
progressive web apps and I saw a few
developer web developers from Africa
talking with each other and interacting
and discussing progressive web apps
so I reached out to two of them on the
right you see Eugene he's from Nairobi
in Kenya and on the left is Constance
and he works in Nigeria for Congo and so
I asked him some questions and this sort
of confirmed what we found earlier also
in our inner sir in our user survey so
the article is on developer if you want
to check it out I'll just feature a
couple of coats any so this was mostly
constants here and I'm quoting and he
said nigerians are extremely data
sensitive the same is true for four
people in Kenya and probably a lot of
other African countries and he said
people sideload apps and other content
from third parties so they go with
somebody with a computer with a lot of
AP case on it plug in USB and then
transfer apps like that so what could
possibly go wrong right so the sideload
apps and other content from third
parties and also via sender I think
that's how you pronounce it it's a
peer-to-peer sort of app that is being
used for a local file sharing and with
progressive web apps without the
download overhead of native apps
developers in Nigeria can now give a
great and up-to-date experience to their
users because it's just really low
threshold really low friction to load a
web site it's very light and of course
these updates are instantly and it
continues if I were to pick just one
feature of progressive web apps I'm
super excited about is the ability to
detect and handle offline unreliable
network conditions with service workers
so this is this is very interesting and
that's probably also why you see early
adopters of progressive web apps it's
not wired com when you know CSS came
around wire.com was one of the first
sites to adopt CSS for its layout or if
you remember boston globe which was one
of the first resides using responsive
web design but instead we see a lot of
these apps web apps or web services in
asia and africa jumping on progressive
web apps and building really interesting
experiences and so this is very exciting
and it's sort of you know shows a little
bit of direction and
really why why this why this this whole
idea around progressive web apps matters
so much because it creates a it allows
them to create a great low friction
experience on any kind of device
basically um let's talk a little bit
about mini because we're talking about
emerging markets and a lot of people in
emerging markets and all around the
globe are using opera mini every day so
actually about 250 million people every
month use opera mini and the number is
still growing and so if you didn't know
opera mini xia is a proxy browser but
over the last year actually it has
evolved quite a bit and if you haven't
looked at it lately i recommend you to
try it out this is a preview of the
latest beta on upper on on android and
opera mini now has multiple rendering
modes on android so it's not only the
the classic view anymore it's still
there the the presto based server side
rendering but there's other views as
well and so on when you use data it uses
the built-in web view component with
compression so the user service to
compress content and but it uses the
built-in web view a renderer which means
you will get great compatibility in a
lot of standard support on Wi-Fi it uses
built-in web view without compression
and unless you turn it on so this is
also using webview so it's really great
experience as well and there is also an
extreme mode which is sort of also known
as opml or the classic presto based
compression mode that you know maybe you
know if you've looked at opera mini in
the past it results in really large data
savings because we compress the pages to
something really small but it also we
incur some breakage along the way
because javascript is somewhat supported
but not to a great extent and and so
there's there's much more limited page
interaction we're in the process of
moving users as much as possible over to
the web view based powered modes the
webview powered modes sometimes we even
switch this dynamically when we detect
the site is in
better off using a webview pirate mode
we switch to it in the background and
then we switch back to extreme out if
they continue if the user continues
surfing but many of our users are still
using extreme mode the reason is because
they like it because you know they've
gotten used to it or maybe because ever
handset like a java phone or Windows
Phone where these other this web view
modes are not supported so it might be
that you know they're one of those
devices and they don't have a way to
switch back but you'd be surprised
actually a lot of people really use
extreme mode and they prefer this
experience over what we would you know
what we would think would be
preferential which is like the full full
package with with full web standard
support a lot of users actually really
like and are concerned about this
extreme mode because it allows them to
save so much data so what about
progressive web app support just a sort
of difficult question and so in the
webview powered modes live solid
standard supports as I said including
serviceworker support so sites will work
pretty nicely we work together with
flipkart to get their site to work well
there and this you know you've got full
into action and so on it's really nice
you don't have at the home screen or
push notifications but the service
workers part works really nice and of
course all the rest of the page
interactions the extreme mode does not
support progressive web apps features
and comes with limited JavaScript
support so you have to you know watch
out a little bit there it's a bit more
complicated so before this reason I want
to go back to like this is sort of about
putting the progressive and progressive
web apps and things like that it's
important to you build your apps
carefully balancing content presentation
and client-side scripting and you follow
this progressive enhancement principles
as much as possible to build up an
experience that works well on lower end
devices or you know proxy browsers like
opera mini all the way up to the latest
your browser with the latest bells and
whistles on really powerful devices and
so of course there's certain experiences
let's say you built a camera app there's
a progressive web app that will be very
hard to support and up
rimini simply because all the necessary
api's are not available but if you start
from if you have for instance aside that
is very content heavy it makes a lot of
sense to serve this content as HTML and
then sprinkle some scripting and so on
on top but still have a usable
experience with HTML only and so this is
quite important to consider if you
because these users they matter and they
will they can also be users of your
service so why not to paraphrase or to
quote Paul Kinlan yesterday he was
talking about this and he said don't
start with the technology start with the
experience that you want to build and
sort of think of it like that and then
build up the site around that experience
to make that experience possible this is
a good approach I think because in the
end of the in the end of the day where
we want to build is a world wide web
another wealthy Western web where only
people with powerful cell phones can
access content but it should work for
everyone so coming to the last point
some issues and ideas that we've had I
think personally that you are offline
telling users that is a bit outdated it
may be okay if is the first time they
visit the page and they happen to be
offline and there's just no way that the
browser can know what to serve or or
that anything can be served at all so
then that's fine but if you visited the
site before and you try to reach it
again but you happen to be offline on
that point maybe this is what we should
say this site doesn't work offline it
seems like you're offline but this side
hasn't been built for offline use so we
blame the site instead of the user and I
think it's sort of time to start
thinking about how we can you know tell
users as a browser browser vendor hey
you know you're offline that's great the
site doesn't work it's not because of
you but because the side just doesn't
cater for offline use and sort of to
nudge site owners a little bit to
provide an offline experience which
should be part of the package you
service workers and so on to do this
then something about ambient badging and
alex has been talking about this he said
a couple weeks ago wouldn't it be great
if there was a button in the URL bar
that appeared whenever you landed on a
progressive web app that you could
always tap to save it to your home
screen and so we also thought that that
would be great so we implemented
something if you go to Washington Post
for instance or any other progressive
web app you see here I don't know do you
see what is what is different some of
you may be yeah there's a little this
little icon there is a little phone I
can sort of indicates add to home screen
so that you can add the side to the home
screen it's just there it doesn't
require user engagement or anything like
that but it indicates like hey this is a
bit special there's just you know
there's this mode you can add it to the
home screen and you know we'll provide a
very nice experience for you so this is
something that is in a lapse built that
will come out later on today just after
the stock have to finish writing the
blog post and we'll put it on developers
com so do check it out and then another
thing is that we looked at is to how to
pop a site a progressive sorry how to
pop a progressive web app back into the
browser and also a couple weeks ago
Jeremy Jeremy Keith will be moderating
the panel later on said I want people to
be able to copy URLs I want people to be
able to hack URLs I'm not ashamed of my
URLs I'm downright proud and we also
think URLs of course are a very basic
fundamental part architectural part of
the internet and how we use the internet
so we also saw okay how can we when
you're in a progressive web app that
goes in standalone mode or in full
screen mode how do you get back to the
URL how can you retrieve the original
URL maybe because you just want to
continue using the site in the browser
or because you want to share it pass it
on to a friend and things like that so
this is what we built it's also in the
same labs built and if I click here on
an article lotus article in The
Washington Post and then I pulled down
to refresh but I go to the right then
suddenly the site pop the progressive
web app pops back up into the browser
and you can continue interacting
with it right there you can look at it
one more time so this is the pool to
refresh and then you go to the right or
to the left if you want if you're
left-handed and then it opens back up
into the browser so this will be in the
labs build will be released later on
this afternoon on developer calm so do
check it out and also worth mentioning
if you are interested in seeing more
examples great examples of progressive
web apps there's a site pwa rocks we try
to update it as much as possible with
new progressive web apps that pop up in
the wild we fully realize that this is
not scalable but for now it's quite fun
to sort of say hey there's a new site
let's put it on and you know sort of
that you can discover it and play around
with it and so yeah so if you have a
site that you want to see featured there
feel free to do a pull request every
other codes on github and we'll be happy
to include it so that's it for me thank
you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>