<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Router Part 2: Live Code Session - Supercharged | Coder Coacher - Coaching Coders</title><meta content="Router Part 2: Live Code Session - Supercharged - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Router Part 2: Live Code Session - Supercharged</b></h2><h5 class="post__date">2016-06-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fAFYXPVdJ7I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to this supercharged
live code I'm Paul and I'm Surma so
let's build an advanced reason more
advanced than last time
yep it's Ruta part 2 we're gonna run
your I say your I mean Sam is a simple
HTTP to server we not
I appreciate our mini tooling tip on
this if you want to know what the
features of this tool are go there and
watch that video and you can also find
it on github google chrome or generated
a significant written the the two files
we need and it's now listening on HTTP
localhost 5000 so let's do that
localhost 5000 to make sure that's HTTP
and that's what's gonna give me an error
is it not yes and as actually expected
so the thing that simple hb2 server does
it over your is is generates right here
is it because or a to you you always
will have to have how do you like your
description and I generate like less and
so the okay and you won't have to click
and then see how is it these things
always work when I'm not doing a live
stream server right ah let's see let's
bring up this the dev tools thank you
from where we were last time okay we had
home about misc and all this kind of
stuff crucially though we have all the
content in one page and we had the
Python set up that no matter what URL
you hit you always got the same HTML
back which is kinda cheating not
actually in production is what to have
individual pages
I'm going to 404 not found because well
it actually does exist
so and in fact what we're going to do is
we're going to go back to the root and
we'll go to the settings as well I'm
going to show you this because this is
another problem that we had related to
our approach from last time whereas
whereas where is it we need the content
settings and then we switch off
JavaScript cuckoo by the way you can
also do that in dev tools yeah where is
that thing hidden it where is it
I'm going to go and find it but speaking
of tools let's make that bigger as well
because my only job making things bigger
because the root right good for now I'm
going to switch JavaScript back on it is
hard doing web apps without jobs it is
but we can't make this work so what
we'll actually do I thinks let's just
take my back as where we were with the
deep links not working all right we're
going to close the things that I don't
need I was having fun with es literally
it wasn't working for me
goodness knows why anyway this is where
we are so let's go back refresh again in
the kind of server-side world you'd
probably do this with templating and
stuff for ease I'm actually going to go
ahead and I'm gonna create an About
section which is gonna be a contact
section which is decided to put there
for no basic all the routes that we were
emulating in the last version
you know actually going to create with
the same content or almost the same cell
content in all the indexation all right
and what we need to do let's in fact
let's go to the index.html file and
bunch of things so we're going in what
we're going to try and do is we're going
to try and copy the stuff across that we
have and we're going to try and move
that around a little bit so let's move
this I think to a defer source equals
static is because each of the pages is
going to need to do the same kind of
thing so they may as well share this
file so let's just do that
there we go editing so that's gonna
hopefully solve that particular problem
now what we'll do let's see yeah we sort
of kind of need a copy of this page
everywhere so let's do that in fact
let's do that should be fine yeah all
right let's copy that across indexed to
about into the contact and into misc
right let's see what happens with that
so now we should in theory still work
and if we if we refresh we're actually
got pages to power that section now so
that's good but it will still work as it
was before so we're kind of we just
basically instead of doing the
server-side stuff we've just done it for
real this time they could actually do on
any kind of static host where you don't
have any logic on the back and like bit
up pages or Google Cloud storage or and
as an s3 all these kind of things work
with this approach mmm cuz you don't
need any server-side logic baked out
those files right um other thing that we
can do actually is inside of say our
main index we know that because of the
where it is we can actually say that
this one is visible by default which is
the class that we added when a section
becomes visible so it was totally
dependent on the URL
that you you're opening up so we can be
kind of short shortening the okay so
each one of these sections we've
defaulted and let's say in the app let's
say we don't actually hijack the links
anymore and the router does kick in by
itself when it gets attached you see it
does all this stuff so if we just do a
return here so now we've kind of
switched off the JavaScript just by
adding the rotor so now is just an empty
like a knob so the links are back to
being actual wings this is actually this
is this is a bunch of just bring back
our Reuter we can bring back our we see
in our PJs we can bring back the link
like so and hopefully you know or
animations are back that's good now the
problem is we've kind of still got per
page whether you say you miss score
whatever we've got the same content
inside each page right I don't think we
want to do that so basically when you're
going loading the miscellaneous page you
still load the content for all the other
pages right there no I mean this point
it's just a word right home and I mean
in the real life that's gonna be images
is gonna be a lot of potential a lot of
content and now this is because
this here it feels like you could
override this in your inherited class
and say for example this would actually
help in this case so we know where they
would live on the page and I will tell
what I'll do so inside for the home the
home is actually kind of included in
this page because this is the page by
the way this is what people mean kinda
when they talk about server-side
rendering that the document you receive
on the first request contains all the
data you need to show what the user has
been requested yeah and everything that
they don't need is stripped out and can
be loaded on demand so we're kind of
emulating that by maintaining multiple
versions of the same index HTML document
and putting the data in there or
stripping it out yeah so no that's gonna
work here this is gonna be a little bit
and in case you've just joined welcome
hobbies supercharged life and people
have requested and now we're doing it
it's ruder part two we are gonna enhance
the ruder from the last episode with new
capabilities like loading in the data
from remote endpoints and not having
everything in one document which was our
approach for the last week if you want
to participate if you want to confuse us
or influenced the way things are going
go into the chat on YouTube and send us
your questions or your remarks I'll be
monitoring it and incorporate into our
actual conversation if it makes sense
yeah sometimes it doesn't and um this
will not do it speaking of which are
there any questions or any comments on
the chat while I'm doing the fairly
boring work I've just had hard coding
ends well we got asked why you switched
from Adam to Leah's code I said you know
we're mixing it up yeah
in fact historically I've used sublime
and to be honest I have a fairly
lightweight set of plugins that I kind
of keep her editor mainly linting is one
of them and normally just a little bit
of syntax highlighting and editor
conflicts stuff we're talking the plugin
most editors have that just built in
yeah at this point so oh and and the
rest you said you didn't want to type
keys anyone those letters to appear on
the screen and all these editors are
really good at them yeah and I actually
quite liked one of the things I liked
about the base code is the code
completion stuff but it's this yeah so
it just feels like you know I forget
sometimes when I'm doing xhr and things
like that what order the parameters go
in that's one of the biggest problems
paying voice am i doing an open right
now we're doing a send I don't know so
anyway right let me finish this last one
up so that each one at each one of these
now
so if you'd like look at the about
basically the the the about view is
gonna be in line and everything else is
remote and the same for contact and the
same for misc and then the same for the
route is going to be why not
okay so now you can see that we've
basically got the same kind of stuff
everywhere and hopefully there's no
reason to think it wouldn't accept what
we're gonna probably see that is that
when we go to a section it's just going
to be blank because there's nobody still
sort of fundamentally works so the the
the visible a sheet is still being
switched to the correct view but since
there is no content because we just
ripped it and haven't implemented
loading it in yes there is no content
but we're making progress so far we're
doing well now one of the things I think
we can assume then is if you've got one
of these remote views we probably need
to add some kind of Lodi spinner
behavioral thing and I have sort of
guessed ahead of time that that's what
we're gonna need so I've create myself a
little spinner it's so pretty it's it's
just the thing is I kind of looking
forward to comical gradients but yes why
you could do these things will you just
be like starter transparent white go all
the way around to full white or whatever
the core is that you need and then be
done that's right now this is an image
it might look bad on Retina screen
I may be twice as big as I need so that
I can to a certain pixel or not retina
devices all right I'm just saying I'm
saying fine I'm just saying be CSS
approach would be awesome if it was
you're already that's all I'm saying
that's all I'm saying all right let's
currently carry on right so what do we
need to do this we need to do this in
remotely triggered yeah we do right
you've got the remote sub you you're
right but let's do this here yeah so if
we got a remote view so got SC view and
if it's an SC view that's remote so we
can do that with the attribute and a
very underused feature of CSS map
I enjoy it although is so I'm gonna put
on the spinner and I'll use it after for
that which is gonna be fine
let me just see so I need to say its
width is so the image is 80 by 80 so
it's going to be height 40 by 40 and
then we say background you're around URL
URL there we go images dot pink Center
because transparency no new transparency
repeat and then we say background cover
contain so it fits inside I mean you
could do 1440 pixels all right so we do
that Oh Paul Paul come on cuz its cover
contain right so and it's NAFTA so we
need to do content that and we can do
position:fixed I one of my dearest
wishes first you that we don't need to
specify an empty content for pseudo
elements it just feels it's so
unnecessary transform so it's gonna be
50/50 which will put it down to the
middle but off to the side so we'll just
do trans transform with the translator -
50% - 50 % which is one of my favorite
things because of the fact that it
accounts for the actual width of the
item being translated it's what we do
when you read this it looks very
confusing if you don't know this very
detailed and we also - we need we need
some keyframes keyframes spin and we say
it's from -
transform rotate zero degrees degrees to
transform rotate 360 degrees like so so
will that invalidate the translation
yeah I was just thinking that probably
will do so Prentiss just put it in there
as well ready you see what happens so we
can do that and since it's gonna have
this on the whole time anyway let's do
animation name spend animation duration
one second animation timing function
linear and then what's the what's the
repeat County remember animation
iteration count me in front of my
favorites it's because it's so long and
unwieldy yeah animation iteration count
at least as I say at least modern
editors are really good at kind of a do
you mean that thing right yeah in yeah I
used to be a big proponent of not having
code completion because very proud of
knowing everything out of my hat my life
since learn I've since learned that
there's more important skills to have
yeah so we've got this in the remote so
hopefully we can go to about and then we
go here wait this is saying home okay
we've got a bug already yeah because the
visible attribute needs to go against
the the active one oh that is actually
correct so again this would be something
see I'm error-prone because I'm doing
this by hand for who would use like a
templating engine examples a generator
or something like that should be like
the current section should be the one
that's that's visible so now all being
well there we go so immediately we get
this kind of spinner in the middle which
is a kind of a good default assumption
for the remote views but we're going to
load them so we may as well check the
spinner but we're gonna have to be
probably I think a little bit more
tactical in the future be
what's gonna happen is some Network
requests might come back instantly and
let's kind of make this look really
horrible but let's if we have the
sorcerer or a good caching we might get
it instantly and have like it one or two
frame flash off the spinner yeah this
looks weird
yeah so well that's but let's work our
way through the problems as we get them
right RSC view the inn well we
definitely know we want to fade in what
we want to do is we want to say let's
see okay so let's do the we wanna know
if this is a
attribute remote is not equal to null
because yeah the empty one will just
come back as an empty string when we get
that attribute so it's not yet at all
okay so if it if it's a remote we would
want to lower the view right so that's
fine so because we know we're going to
throw the spinner on so we need to load
the view and when that load is loads
done we'll then put the content in and
we should be good so let's see what load
view would have to look like load view
okay so that's going to be I'm going to
do an XML HTTP request and people might
be wondering why is he not doing a fetch
and the reason is fetch doesn't let you
get a document and that is exactly what
we're doing we're gonna get a document
and reports of it out so we want to be
able to do queries yes the alternative
is to get would be to the fetch and get
it back as text and then pass it to the
Dom parser which is like Dom parser Bawa
but the weird thing about the Dom parser
is it doesn't throw an error if it fails
to pass the Dom it doesn't know it
creates you a new document anyway with
it with a parser error or parse error
node inside it it's fun let's not do
that
so xhr let's say we'll say oh just
talking about no we got to write x8 xhr
I haven't done that in ages
yeah right so X is our response type we
know we want that to be document we want
that with that xhr open was it you need
you needs a method so that we get the
URL the fact you know all this is
already it's weird innit
yeah okay so I know what we're going to
do we need to know which you are we
going to load and the data that gets
passed in from the route if we look back
here the data is the route itself
executed against the regular expression
so the zeroes the means regular
expression executed against the path
yes they the zeroth entry in that data
array will be the full path
you
new dark we're looking for query
selector collecting more and we want an
SC view which is set to visible right
which is all be mainly said indeed it
all comes together yeah it is so the new
doc is that new doc query selector the
visible one that is going to be view so
Const and even use that and then with
new view child nodes for each for each
child node what do we want to do oh I
tell you holding will say this dot view
equals null and I will say this top view
equals new document fragment going to
create a new document for it and then
we'll say append child so we created a
new document frame we're going to take a
copy of the SE views children put them
into the document fragment and then we
can say this dot append child this dot
view okay so that will throw that on to
there it will append that into the view
we don't carry the copy of the SUV we
taking its children copy them in to the
document am I missing anything I'm
wondering if this function should we try
to promise why no no it shouldn't
because we don't want to block the
transition on this I love hearing if you
want if you if there should be a way
subscribe to I'm downloading I mean you
you could but if you don't need it then
don't I just was wondering if we're
gonna need a later on we might do for
now I'm just going to assume that what
we want to do is we just want to load it
and when we load it we're just going to
pop the content straight into the view
now I think we do have a bit of a we're
gonna have to do a bit of sleight of
hand here because what's gonna happen
was let's see if it works first of all
console I'm so scared
this is actually better than expected
yeah but we still got the spinner right
yeah your your simple HTTP server
actually has a feature that is extremely
useful at this particular point because
coincidentally I just shipped it
yesterday weirdly I wonder why huh
you can add a delay on to a request so
let's say it's not gonna come in
instantly because this is looking
loading off localhost right so it's like
snappy snappy yep which it's not how the
real world of the world works
so you're on the About section and you
go to the contacts section basically
what we've got at the moment is we swap
to that view but there's no content
loaded in so we just show you this
spinner essentially which we coded in
inside of the CSS which you can see
roughly speaking over here we basically
said if there's a remote attribute on
the view throw on the spinner and so on
now in our code inside the view code
what we've got is basically this is the
in on the view that existed before all
called code and we're saying if this is
a remote view we want to load its
content in which you can see what we're
doing is we're making an xhr in for that
and we can just quickly recap the
discussion we had the reason we're not
using fetch is because Fletch doesn't
let you fetch as a document you can do
Jason you can do text you can do
blob yes but you can't say dot document
the reason is that the fetch spec would
then have to involve Dom parsing which
would be just massive so it's also
available in workers but fetch is there
you go so and you want to have a
document because we want to be able to
call query selector for example so what
we do is you can see here we've got the
XML HTTP request we tell it that we want
to document back we get the the link
that the the Rooter got so basically
we're going to load that over xhr and
then when it comes in we just basically
grab it as the doc we look inside it for
whichever one of the visible views is in
that doc then we created ourselves a
document fragment and then we take the
copy or you actually reassign
essentially the the children of the view
the loaded in view and put that into the
fragment then we put the fragment into
the page which is all going to work out
just dandy
it was working just fine and in fact the
other thing we've just done is we've
added this delay property on to the
request which is something that's same
as simplicity to be do server supports
basically too slow to delay the response
such that we will now get for example
going from contact to about we see that
one two three four five anyone know any
more I need to save that that's why do
that again then go from about two
contacts we go to long fit everything
feels longer when you're on probably as
you can see this is very similar to how
the real world world would work where
you are on the tube very brittle very
flaky connection requests take a while
to get out and begin yeah so it helps us
to actually have this delay on just to
kind of see that are you know spinners
gonna show up and do the right thing you
know in fact the contents arrived and
just popped in which for a real view
would not be that nice and in fact that
spinner still going so we need to kind
of account for that so what we'll do is
we will say yeah let's do let's do a so
we've got the view will append it and
we'll say like this dot hide spinner and
in the hide spinner let's do this dot
classlist yeah
why not kind of while I'm here I see
this makes a point that we if every time
we call in we're going to load the view
which is unnecessary right because we
only to know it once and we can use the
fact that this dot view has been turned
into this document fragment as the kind
of mark for that so we say if it's
remote and we don't have a view loaded
otherwise what's been through this
process once the view will be set and we
can but it means when we go to all the
subsections in the end we're gonna have
the same in dom as we had in the last
week that's exactly exactly so we just
kind of it's a little more progressive
enhancement friendly I suppose okay so
we've added this loaded class and what
the loaded class needs to do is let's do
a sea view a remote one with a loaded
class and we need to tell the after
those opacity is 0 in which case what
we'll do is we'll put an opacity of 1
and what table we'll do is also make
pointer events pointer events non here
and we will tell me Paul why not just
display:none well we could we absolutely
could but I think we want this kind of
we want to kind of cross fade effect
that's what I'm going for you could just
snap it off and that would also be
totally okay but in general like these
hard transitions or these non-existent
transitions is what you would want to
avoid I personally want to avoid big
user in hey it feels nicer to just kind
of cross right so we'll actually do a
transition on opacity following 0.3
seconds and then you know the one I know
you know it and I want to type it out
just not sure well no no oh oh I
remember it I triggered e you did I was
it no pointer what do i do what do I
normally do Oh panic panic panic
whatever we have the transitions on one
of the other things while Italy didn't
lead out transition should have the same
just get the same East function on our
lead in lead our transition probably
yeah
well done
don't panic Paul don't panic it's fine
it's almost right
I was almost right they're not not not
put three one that seems odd Paul that
seems like an odd one all right okay
let's see so we do an opacity of one I'm
going to check that to an opacity of
zero when it's loaded so let's see how
we doing there so we go from contact to
about are this gonna be a five-second
wait I might in it I might shoot it down
the middle yeah
because otherwise but it disappears but
the content still snaps in right and so
I think what we probably want to do is
we want to have so I could make this
after full size kind of screen and then
kind of rotate that but that's just a
massive layer to yeah to do that with so
what I'll do is I'm gonna do this I'm
gonna have a before like this and then
I'm gonna set oh you're gonna basically
put something over the content yeah
basically because we can't fit the
continent we could we could fade in the
content but you'd have to put the
content inside another element from them
Flay that in its exactly it's often
easier to put something over the top of
that and fade that out than it is to try
and get all the content revision being
it's indistinguishable yeah exactly
often it is and in certainly sir is it
can be a faster way to get the same
effect so position:fixed which one am I
going to do today top 0 later Oh what's
next
right zero okay and we'll do background
let's just make that on two three one
two three four now and let's see what we
get
so position fixed editor now that seems
good so we need to make sure that when
it's loaded the before fades out as well
so go from there
to contact we should really drop that
delay I wanted to remind it I already
forgot that was change but I don't see
you before which is not clever I was
pretty clear I'm not doing things like
content see I told you you can do this
you still forget about it
yeah and also it will need to be
and you'll need to have a thing with the
thing there with the opacity transition
there we go so let's see is that good
right I'm going to drop that delayed
while I remember because every time I
actually drop that delay and then I keep
forgetting
let's drop it to two seconds okay so
that's cool obviously this is always the
same color in this case we can totally
cheat because we can make it inherit the
background color right it's not I don't
use I never ever remember so but this is
one of the most legit use cases I've
ever seen for this background inherit
means that it's going to take the sort
of green color here of the parent which
to do element is a child yeah so you see
now actually once we go between sections
once we've loaded them once it's fast
it's snappy yeah because it doesn't need
to load them in again it's kind of its
kind of cached it for the next time and
in case you're wondering one of the
things that we added last time inside
this was contained strict which I'm on
the stable version of Chrome here but in
Canary as of chrome 53 to Chrome 52
actually Chrome 52 CSS containment
landed in chrome which would mean that
we can toggle things like visibility and
hopefully limit the effects of things
like layout and so on it depends
generally on where you actually a place
the containment I mean for this
prototype it wouldn't have any real game
because we only have a single word in
each view yes but if you have more
accomplished maybe even scrolling
content and where layout gets more and
more expensive the more elements you
have this might be a lifer because if we
add something in one view without
containment all the other users aren't
even you might get real layout it and
you don't want that so anyway right now
if we remove the situation where we've
got or we got we have a really short
yeah if we get rid of the delay we'll
put it down to something really small
right now um we did it to shorten no you
can see I can actually see it because
fade-out so if you look really carefully
when I'm switching between sections you
can see that there's this kind of that
you can see the spinner and then it kind
of disappears immediately and that's
kind of weird I'm not very nice
so one of the things you probably can't
unsee once yes you might not notice it
first you know let's do it again let's
just let's really sell that effect so we
go about blue contact risk yeah every
time let's not make our users feel that
way yeah let's not do that so what we'll
do instead of just assuming that we need
to show the spinner what we'll do is
we'll make that require a class and also
that class is pending so the section is
is pending like so and then what we can
do is in here what we'll do is yeah if
we've gone into the load view that'll be
the time to say if this load if this xhr
you're going to take a long time let's
you know pop up this this pending class
so all do is we'll say set timeout and
we'll do this dot show spinner and we'll
wait say I mean the only guess you'd get
a feel for this depending on your app as
to how long you want to wait and the
show spinner is gonna it's gonna add a
class of pending pending class and then
we'll need to do what we'll do this dot
spin a timeout equals that and let's
undefined and the reason you don't want
to set to something like zero is the
fact that the first timer that you get
will actually be set to zero anyway so
the specs it should because we want to
cancel the spinner obviously window yes
so when they're that tiny when the when
the onload fires we all clear will clear
a timeout for that and we will this dot
well we're already calling this to hide
spin
as a class variable do you yeah
potentially potentially well if factors
more easily this way probably because
you can move things to different
functions but I'm worrying about losing
the reference yeah but I mean - what
we're also gonna do I'm gonna move that
out here because in the event that we on
the xhr loading is when we actually
create the view but for safety we only
want this to fire once the load is true
so we want to create that maybe someone
does a double-click or something weird
happens okay so we clear the spinner
timeout and we'll call Heitzman but
you're right we could actually probably
just do a Const there's been a timeout
is that and we're just gonna want to
clear it we no longer need it so that if
if we're pending this and it comes in
and say 250 milliseconds then we clear
that timeout and we're gonna hide the
spin it anyway which will involve adding
this loaded class what we can tell what
we'll do as well in here the dot loaded
actually we should just kind of
compounding so yeah
should do it see what happens so we so
when it's a short delay like this that's
great let's have a we don't have the
uncanny spinner flash anymore which is
one of the things you wanted to achieve
I have an even better idea though
because I think what's going to happen
is let's do let's just make an
artificial delay Const delay equals
math.random times by 5,000 round that
down by doing that just you bid hacker I
know
math.floor is just too mainstream I know
I'll tell you I'll do it I'll do my
flocked because that was just a bit
showboat
ah there we go
delay yeah right so in this case when we
go to a section okay so we've we have a
problem we have a bug the pending class
actually shows the class list at this
time okay I didn't actually call that
function any questions on the live
stream any ah so one or two questions
right now the first question was what
was this big high premium what was the
single pipe and why did it work
the single pipe is going to be it's a
bitwise operation and your bitwise
oaring with zero which basically
converts it to the nearest integer value
is because bitwise operations only work
at least on integers so implicitly turns
a float into an integer which basically
means cutting off the decimal places so
it works which in this case for delay
feels like something I might want to do
I want to see in milliseconds I want a
rounded value I don't want to do three
hundred forty two point seven
milliseconds also interesting question
he said if you wouldn't use set timeout
but rather put a delay on the CSS turns
animation for the spinner which in this
case I agree that would work but
sometimes you are more complicated than
just an animation though you're actually
doing work in the background or you
maybe want to do some other logic yeah
we're checking both job and then you
have to do something like it's a timeout
to invoke the actual code exactly
there's a there is always a balancing
act here you definitely can do that and
I in this particular situation I think
my preference is for the readability of
going our okay we we kind of we've got a
timeout for the spin out like any it
follows in the flow of this particular
code if you have to jump across to the
CSS to see that you have to know that
that's in the code to in order to go and
go why is that spin are not showing up
immediately like for example the class
is there what why and so for me
personally just seeing it here is having
basically usually with classes your
associates the state and if that state
is delayed because of CS animation it
just feels weird yeah but I get your
point it would be leaner you can if you
can't achieve it go over this this
probably is just a way that scales
better because we add someone we might
want to add some logic to when things
are being delayed yeah so this is now
working so we go to the contact section
but it pops in you see how there and so
and that's because the painting class
creates the after at that particular
point so we kind of want to do yet
another rule yeah yet another rule is if
we didn't have enough of those already
with an opacity of one like so and the
same will be true for the original
because yeah to be zero here and then
when the pending class shows up like so
before we want to set the opacity to one
and when it's loaded I mean I imagine
because this appears after let's find
out yeah because at the same time we
don't know we could remove the pending
class actually yeah just removing pin
yeah should be enough should be enough
right okay let's do that then back in
the view and we'll do that remove
pending it's no longer pending I kind of
here we broke everything just know yeah
we did why what I think was just fast
enough look because I will delay it's
random though yeah or it's no it's gonna
it's gonna it's gonna never gonna Mara
remote not gonna do that
remove there we go remote clatters
feature yeah I'd say what I want to do
just without delay I actually want to
say at least one second oh yeah that's
good unknown contact see how it's faded
in a little bit nicer and then
eventually yes the content actually are
what up to six seconds no right six
seconds which hangs I was a bit of a
mistake but there you go
right um this is now working as intended
if there are no other no other questions
no no good
in which case let me say thank you to
everybody who's joined us on the
livestream asking the questions thank
you for watching this don't forget that
you can subscribe to the YouTube channel
its youtube.com slash chrome developers
and we'll do a TL
the W for this as well so anybody who's
not been also spend this time with us
today will be able to watch that and
that's awesome
and we will catch you next time see you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>