<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>FetchObserver - HTTP203 Advent | Coder Coacher - Coaching Coders</title><meta content="FetchObserver - HTTP203 Advent - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>FetchObserver - HTTP203 Advent</b></h2><h5 class="post__date">2017-12-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DETklM4JtyQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">20:17 is the presence but soon no longer
for 2018 is upon us and as you chuck the
future well soon it'll be the present
that's the weird thing about time is it
keeps just coming at you but I want to
think about some of the things that are
going to be landing on the web in 2018
and I want to try and describe one them
to you for you asking questions in two
minutes I want to talk about the fetch
observer the fetch observer that will
have to do with actual fetch yes it does
doesn't absorb fetches yes it does how
magic like through web specs that we
have yet to write this is right now it's
just an API kind of sketch of what this
will look like but which problem doesn't
solve the problem of I want to observe
fetches how can I do that what is it do
one observe because you can usually
already know where it's done right right
so it's mostly about all of the stuff
that happens in between okay
so what happens in between well things
like you know it's connecting to the
server it's connected it's waiting for
headers it has headers and then things
like mobile will be upload progress okay
download progress oh that's good and
like and those two things can happen at
the same time which I didn't know you
can be uploading while you're
downloading this will give you that
piece of information and it would be
like a separate object so you can sort
of you can pass that to another piece of
code so they can observe the fetch
without any having any control over it
so could I so I I do a fetch on my
service worker mm-hm like let's say
download for a bigger file bigger asset
can I take out the the observer pass it
to the main thread and have UI updates
kind of like well it's one of the things
that probably are going to have you want
to download something in a serviceworker
in the background but having you either
updates in real time and by the progress
as exciting that will probably be v2 but
it might be v2 that actually happens
because it's a good case but you will
also if you're sending that to the page
then you'll definitely be able to get it
from the fetch observer from the page
side so and it's also where we can start
adding extra bits of observation such as
observing push like h2 push
oh that's interesting because so far you
don't know when something gets pushed
nope so the idea is we could have honest
fetch observer and
that says like you've been given this do
you want it and that'll be you you know
you'll have a way to sort of consume it
and bring that through the network into
a promise oh really excite about that
cool
the import function okay it's a function
well technically no but that's a
difference what we've already lied to me
in one of the words you know</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>