<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Side Navigation Bar: TL;DW - Supercharged | Coder Coacher - Coaching Coders</title><meta content="Side Navigation Bar: TL;DW - Supercharged - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Side Navigation Bar: TL;DW - Supercharged</b></h2><h5 class="post__date">2016-05-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Mhnj3PiPnZw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to this supercharged TL DW I'm
Paul if you didn't catch the live stream
with me and sermon last week well
basically we built a side nav let me
show you what we built so you've got
your standard app bar here and click on
this side bar and click on the
background or you can dismiss it with a
sort of drag gesture like that awesome
stuff so let me show you how we built it
but before we do that as usual we're
gonna head over to yep you guessed it
Theory corner join me
hello welcome back to Theory corner so
this is what we've got we've got our
page and we've got a container element
the container element is going to be the
home for the side nav and the background
we're going to do first of all we're
going to put overflow:hidden on this I'm
gonna make it take up 100% width and
height so it's got overflow:hidden
because this is going to transform out
to the side and we don't want any scroll
bars so we put that in place the
background we're just going to
transition its opacity from 0 up to 1
and we'll set it to have a transparent
black color or semi transparent black
color in the background the other thing
is this side nav we want this to slide
in from the side so we need to have
we'll change transform on it so that it
gets its own layer very much like we did
with the swipeable cards and then we can
transform it in and out we're also going
to need some buttons for bringing it in
and out I'm gonna have to have some
touch events so that we can do the
dragging stuff all cool let's go back to
reality welcome back to reality oh yes
yes reality that's where you'll find us
today pragmatic to the end code okay so
the markup and the CSS is pretty much
what we discussed in theory corner we've
got on the side I've got a few J's
classes here so that we can pick it up
in the JavaScript but mostly it's pretty
much what you'd expect there's a button
for closing there's a button for opening
we've got the title here for the side
nav and then we've got the list of the
side nav content in terms of the CSS
here's what we've got for the background
you see it's actually done with a before
pseudo-element
and you can see that it's got a
background of black with an opacity of
not point
for we switched on will change opacity
because we know we're going to be
changing the opacity so we were gonna
say we'll change opacity didn't say will
change pasty that would be a different
thing entirely will change opacity and
then we can set a transition of opacity
with that curve that looks quite nice no
point three seconds nice and quick then
the other thing is when we set the side
nav to visible which we're going to do
with some JavaScript and we can say to
that before that we want you to fade up
from an opacity of zero to an opacity of
one the same is pretty much true of the
side nav itself here it is and you see
it's got a box shadow so we got a nice
little bit of shadow on the side the
interesting thing is we have to
transform it by in my case 102 percent
which sounds really odd but the reason
is there's that shadow and if you just
transform it 100 percent to the left you
still see a little bit of shadow on the
left hand side so we just take it a
little bit further solves that problem
the interesting thing about the side nav
itself the one that comes in from the
side is that it has a separate
animatable class the reason is I want to
switch that off when they're doing the
drag motion and have it on when they're
doing the automated transition from the
side in and out so we use this class to
basically say this is kind of it's doing
the automatic transition or when it's
off is going to be used for the dragging
cool the JavaScript is over here and
it's the same trick as last time a bunch
of event handlers that we bind on with
this if you haven't seen why I do that
go back and watch the swipeable cars
teal DW explained pretty much why I do
this approach to my event handlers you
don't have to take this approach but it
works pretty well for what I'm doing
so we bind all those on and you can see
here we got the show and the hide now
here's an interesting one I actually say
that if you click on the side nav the
containing element the container from
Theory corner I want you to hide the
side nav well that will work kinda but
then if you click on something inside
the side now well that's kind of weird
cuz you clicked on something in the Sun
and it's going to dismiss the way we get
around that is we basically say the sign
of itself that's going to hide it but
any clicks inside we're going to call
this block clicks function which you can
find down here and block clicks all that
does is it stops the propagation so it's
almost like canceling the event
now you don't want to do this all the
time you only want to do it when it
makes sense for your app and it makes
sense in my case I think so that's all
good so I think all that's really left
is to just have a quick look at that
drag motion now if you remember the drag
motion looks like this we can click and
we can drag and if we just come away
from the side a little bit and let go it
dismisses the sign up so let's see how
we code that in well we have our on
touch start here and basically because
this is bound to the document I
basically say if the side nav isn't open
bail don't hang around so we're going to
call this any time somebody hits touch
start but we only want to deal with this
if the side nav happens to be open and
what we do very much the same kind of
deal as the swipeable cards we capture
the start position and we copy that
across to a current position and then in
the touch move we basically figure out
how far we've moved and then we can
apply a transform in a kind of game loop
and update function which you can see
here there's the translate current mind
the start and then we apply as a
transform if you see in five of all
cards this is all sounding very familiar
I'm sure but it works and it works
really well the last thing is on touch
end we basically say if you've
translated just a little bit to the left
hide the side nav that works out really
well for us one other little thing to
note is this in terms of the on touch
move by default you'll get that
throttled back in Chrome so you won't
get them every frame unless the very
first touch move event has an event
prevent default on it so what we do is
we calculate the translate and we say if
it's less than zero as and you've
started to move it we've prevent the
default and that means it will get all
the updates from then on so there you
have it that's the side now pretty
straightforward in terms of these things
but this works really well it works at
60 frames a second even on a mobile
device if you haven't called the live
stream against about an hour long it's
in the description below so have a look
through there and have a watch of that
if you've got a spare hour again its
usual kind of stuff you see all the bugs
you see all the chat you see all the
discoveries and the kind of discussion
that Surma and I had don't forget to
subscribe
done
and I'll cut you next time if you like
me like clicking on things you can click
here to subscribe and there's a
livestream</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>