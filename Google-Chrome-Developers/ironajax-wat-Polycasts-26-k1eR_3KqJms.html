<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>iron-ajax… wat?! -- Polycasts #26 | Coder Coacher - Coaching Coders</title><meta content="iron-ajax… wat?! -- Polycasts #26 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>iron-ajax… wat?! -- Polycasts #26</b></h2><h5 class="post__date">2015-09-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/k1eR_3KqJms" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey there polycasters rob here many of
you have written in and asked for an
episode on the iron-ajax element there's
a lot of questions around this element
like when to use it and is it bad to mix
your behavior with markup like that but
in fact iron-ajax is one of the most
useful elements you can have in your
toolbox however its utility only becomes
apparent when you combine it with data
bindings anyway today on polycast I'm
going to show you the power of working
with Ajax using nothing but HTML let's
check it out
ok so today we're gonna create an
element that fetches github issues and
we're gonna use iron Ajax to do that
now I'm also going to use the yeoman
generator to scaffold out my element but
if you don't want to use yeoman you
could use the seed element project which
I will link to down in these show notes
that will do the exact same thing as
Yeman yeoman just goes a step further
and it renames all the files for me
which is pretty convenient so from my
command line I'll type yo polymer L or
sorry yo palmer seed GH issues to
generate my element and once that's
generated I can run poly serve which is
our little local server and that'll let
me preview the element as I'm developing
it and you'll see here that it generates
this URL that I can use to actually go
look at my elements documentation so
using the seed element it actually
generates docs for us which is pretty
cool it also has this demo link here
which we can click on and that is going
to show us a sort of demo of the the
boilerplate element that it has created
so this is all just stuff that it is
sort of stepped out and we're gonna
replace all this in just a second now I
mention we're going to use the github
API to fetch issues so going and looking
at the API Docs we can go down to the
issues section you'll see here that
working with the github API is pretty
simple we just use get request to to
fetch the issues for either like all the
issues that are owned by a user or all
the issues and then give an organization
right in our case what we're gonna do is
we're going to fetch all the issues for
a particular repository so to do that
we're going to need to install iron-ajax
we'll go back to our terminal we'll
split the panes and we will Bower
install iron HX passing the save flag so
you
written to our elements iron are
elements bower.json file now that that
is all good we can go look at the
element that was stubbed out for us
biyomon so this is gh issues dot HTML
and if you browse around here you'll see
there's a lot of kind of boilerplate
markup but it's stubbed out just as an
example for what an element could look
like we'll ignore that for a second and
just go ahead and import iron Ajax's
we're gonna want to use that and it'll
update my illness description so I'm
gonna say this is an element for
fetching issues from github and then I
can go through and delete all of this
extra markup that's inside of here so
again I don't really need any of this
it's just sort of example markup in case
you haven't written an element before
it's good to read through just to see
what's possible but I want to strip it
down to where I just have this sort of
very bare skeleton next I'm going to
drop the iron Ajax tag inside of my
template and I'm going to configure it
with a few attributes here so this Auto
attribute tells iron-ajax to just
automatically fetch data anytime it has
a valid URL it's just gonna go and get
some data
this URL attribute as the name implies
is gonna be where we go and get our data
from when that data comes back we're
gonna need to handle it as something so
here we're saying handle it as JSON I
believe it also supports XML and you
could also tell it to fetch things as
document so for instance if you are
fetching an HTML file you could say hey
when that comes back and when it treat
it as a document and then it also fires
events so there's a response event which
we could listen to and we could have a
handler that that works with that but
instead of writing a bunch of JavaScript
to handle the response that comes back
let's just go ahead and give it a URL so
I'm gonna tell it to look at Rob Dodson
slash chart elements that's the repo
where we'll pull our data from I'm gonna
tell it to instead of you know handling
that in JavaScript we'll just take the
data that came back which is represented
as this last response property and we'll
create a scope variable for that called
response now let's think about what's
happened here for just a second I've got
this one tag and it basically represents
github this is like a representation of
the github API I've configured it by
saying this is where I'd like you to get
data from and then I've basically used a
data bind
to create sort of a declarative data
provider so I don't really know the
mechanics of how it is going and getting
my data nor do I care
like the implementation of how it's
actually going and getting the data I
don't actually care about instead all I
care about is that it goes here and even
to me this data and with this data
binding and you know because it's nice
and declarative I can now hook on to it
with different Dom nodes and they will
stay in sync with data so this has
removed the need for me to write a lot
of JavaScript in my my element normally
I'd have to handle that response pick it
apart you know go find the different dom
nodes that I want to update with the new
data here we're just saying hey I've got
this nice declarative data provider and
when that data comes back all my
dominoes that bind to it will stay nice
and in sync so pretty cool approach
there this is a representation of the
response that we're gonna get back from
github you can see it's an array of
objects and the properties that I care
about are this one right here called
HTML URL so this is the actual URL to
the github issue and then I also care
about the title so this is what will
will display in our list of issues so
let's go back to our template here and
because we've got this nice declarative
data provider now let's let's generate
some Dom for it to link up to so I'll
create a template with a a Dom repeat
template and I'm gonna give it an item's
attribute and we're gonna link these two
together right so you can see this
little linkage that we've created here
we're seeing the items should be linked
to to that response so now now that
these are combined this template is
going to try to iterate over that that
collection that array of of objects so
we can you know drop a div with an
anchor inside of here and we combine two
for every single item
combined to its HTML URL and its title
so now we're just generating this sort
of list of anchor tags based on that
response and this is pretty cool because
again I didn't have to write a bunch of
JavaScript to handle all this I just
created this little linkage here I've
got this nice little declarative data
provider and I'm just generating Dom
based on the data that it
returns so let's go look at the demo
file that was that I showed you earlier
as part of our documentation we're gonna
clean this up a little bit so that we
can preview our tag again yeoman
generates a bunch of boilerplate and
it's cool if you haven't seen it before
but in our case we're just gonna delete
it
we'll drop in the gh issues tag I'll
bump this up a little bit so you can
kind of see a bit better and yeah let's
just preview this thing in chrome so
we'll click on our demo button and we'll
see these are the two issues that come
back from that repo and click on one and
open it in a new tab to verify that came
from Rob dots and chart elements so okay
yeah we've got our very basic element
working it's fetching data from from
from the github API and so far we
haven't really written any JavaScript
whatsoever we're just fetching data
we're generating Dom based on that data
and that's kind of a cool flow but let's
see if we can push this a little bit
further and make this thing a bit more
configurable so if we go back and we
look at our elements definition you can
see that I've hard coded the path here
which is you know kind of a bummer right
I want I want anybody to be able to use
this tag and so what I can do is I can
take the owner and I can take the repo
name and I can make these configurable
properties of this element so let's go
down to the properties object and stub
out two properties one called owner and
we're gonna say that by default it has
the value of polymer sure why not and
we're also going to make it two way
bindable so we'll say it fires fires
change events when it changes so we're
saying it's notified true and we'll also
create a another property called repo
we'll also set that to polymer and this
will also be a two-way binding and
lastly I'm going to create a computed
property called URL and what it's going
to do is it's going to compute the
values of owner and repo it's gonna so
if either of these changes it is going
to recompute the URL where we're
fetching from in github and we're gonna
stub out this method here for compute
URL I'll say hey when we get owner and
repo what we should do is we should take
that that hard-coded URL that we were
working with before so let's copy this
we'll drop it into an array and we'll
replace where it says you know where it
has the owner and repo right here we'll
just replace those with these two values
that are being passed in so as someone
is configuring our tag they're passing
an owner or a repo that's going to
update this URL so pass us in
then we're just gonna join the whole
string with slashes to turn it back into
a URL and we'll say hey this is what
iron Ajax should bind to this
configurable computed URL now so let's
let's switch back over to Chrome now
we've got this set up and we can go look
at our demo you'll see now we're seeing
all the issues from the polymer repo we
can actually open one of these and see
yep organizations polymer polymer repo
but let's configure it a little bit more
so so now we can go and we can pass
whatever owner and and repo we want
because we have these properties and we
can pass them values of such abuse so
let's look at polymer elements paper
input refresh the page here and now
we're looking at issues from paper input
so this is pretty cool and now anybody
can use this tag to pull issues from
github which is pretty awesome right but
I think we can actually take this a bit
further so just for funsies let's take
the the the demo that we're working on
here and and wrap it in an auto binding
template and this is gonna let us use
data bindings inside this space without
creating our own tag and I'm just going
to take owner and repo and make them
bindable so I'll create two text inputs
these are just native text inputs so one
is going to bind to owner and one is
going to be bound to this repo variable
and because we're creating data bindings
on native elements notice that I'm using
this sort of special double colon syntax
so this is sort of how polymer allows
you to set up data bindings on native
tags native tags they fire their own
events when something has updated in the
case of the the input element anytime
you you have finished typing some text
inside of it you're just gonna fire a
change event and so we're saying hey
when you hear the change event update
the the owner binding write the same
with the repo binding so now I can go
and I can replace these with those same
scope variables owner and repo and now
if we if we switch over to chrome you'll
see that at the bottom I've got these
two text inputs they are initially
receiving the the values that the the
github issues element put out so owner
and repo are initially polymer polymer
but we can change the
so we can say hey this should be polymer
elements and this should be like iron
Ajax and watch here all of the issues
update and that's because we have that
Auto attribute on our iron Ajax element
so we've given it some new values it
recomputed the URL it told iron Ajax to
go fetch that new data and that updated
our Dom for us and again we didn't need
to write a bunch of JavaScript to manage
all of this flow and that's again sort
of the power of a nice declarative data
provider like iron Ajax which is pretty
cool you can actually yeah you can open
one of these up too and you can see that
verify that it's actually pulling from
polymer elements iron Ajax now another
thing you may want to do with when
you're working with Ajax is pass along
parameters so you know you might be like
hey I want to go to foo.com
dollar sign or sorry question mark Q
equals like you know some some value or
something like that right you pass along
parameters as your as you're working
with these URLs and if we look at the
github API you can see that there's a
few parameters to get pass
one of them is state so we could say hey
give me all of the issues for this repo
and maybe I want just a closed ones you
know or just the open ones so that's
that's one parameter that we can use
another one is this down here for page
it's a little hard to see but we can
actually paginate our URLs as well so
you'd be like hey I want I want page
three of all of the closed issues stuff
like that right so let's go and let's
let's add that to our element as well
we'll go back to our our markup here and
we can give iron Ajax this params
attribute and you could give it this
JSON encoded object and that could be
how you how you pass along parameters
right so we could say state I want all
the open issues and I want it to be page
number one but again where's the fun in
that let's let's make this configurable
right so much like we did with the URL
we can replace params with a computed
value so I'm going to create a binding
for options that's what we'll call our
computed value and we'll say that we
want to create state and page properties
and we will create a new computed value
called prop we called options which will
just compute state and page so
those change is going to return a JSON
object with whatever the state is and
whatever the page is so it's kind of a
kind of a weird example but but you can
see that it demonstrates how parameters
work so now we can go back and we can
create bindings for State and page
instead of our demo and just like we did
with owner and repo I will create input
fields for these as well so now when we
swap back if you looking and see again
it's initially bound a polymer polymer
it defaults to all of the open issues
and a defaults to page one and so let's
change let's say hey I want to see the
closed issues in polymer okay that
updates I want to see page three of the
closed issues in polymer okay
that updates and I want to look at page
three of the closed issues from maybe
like paper input and that works as well
and again we can go back and we can open
one of these I'm gonna verify it's a
closed issue coming from paper input so
pretty cool we've created now this
there's pretty robust little little
element does a lot of really fancy stuff
it's entirely configurable user can just
go in and live edit it and they're
getting all this data back it's updating
the DOM and we're not having to write a
bunch of JavaScript to manipulate the
Dom in any way which is wrap so when
should you use iron-ajax well that
really depends on context if you're in a
situation where you've got like 30
iron-ajax tags sprinkled throughout your
element then yeah maybe consider doing
it with JavaScript instead but if you
only need a simple data provider without
a whole lot of fuss then perhaps irony
checks is a good fit for your
application we talked a lot about
iron-ajax today but I've actually only
barely scratched the surface and so if
you go over to the catalog you can see
that there's this iron element section
and go there and check out the docs for
iron Ajax and there's a ton of things
that this does it does you know the full
breadth of what you can do in ajax so
you can add body to it you could change
the method to post or put you can see
all the the various methods that the
element supports the events that it
fires and so on so definitely go read
through the docs of iron HX because
there's a lot of power in this one
little tag also a little bit of
shameless promotion here we just
finished doing a big event in Amsterdam
which we're calling our polymer summit I
will here I'll draw a little a little
link here so you can you can click on
that annotation to
go to the actual website it's a full day
of talks and code labs for you to check
out to learn all things polymer so you
can go check out our our playlist over
here on the chrome developers Channel
and see all of our videos you can also
go to our code labs and maybe click this
as an annotation go check out all of our
code labs and again there's there's tons
of stuff for you to play with if you're
if you're just getting started with
polymer or even if you're you're a bit
of a polymer pro there's probably
something in here for you so if you if
you miss the polymer summit go check
that up that's it for today folks if
you've enjoyed this episode consider
clicking that little subscribe button
down there at the bottom also if you
have questions for me
you can leave them in the comments or
you can ping me on a social network of
your choosing at hashtag ask polymer as
always thank you so much for watching
and I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>