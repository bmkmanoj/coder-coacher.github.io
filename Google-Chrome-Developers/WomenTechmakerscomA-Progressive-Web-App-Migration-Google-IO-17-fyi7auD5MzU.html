<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WomenTechmakers.com—A Progressive Web App Migration (Google I/O '17) | Coder Coacher - Coaching Coders</title><meta content="WomenTechmakers.com—A Progressive Web App Migration (Google I/O '17) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>WomenTechmakers.com—A Progressive Web App Migration (Google I/O '17)</b></h2><h5 class="post__date">2017-05-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fyi7auD5MzU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone my name is Eva Kasper
ovitch and I'm a developer programs
engineer here at Google and this is jeff
posnick everybody I'm also on the
developer relations team at Google Jeff
is one of the creators and main
contributors to the work box library
today we are going to share with you our
story about transforming the women
techmakers dot-com website into a
progressive website but before I get to
it let me tell you what brought the two
of us together on that project some time
ago I was talking with a friend of mine
Megan at work and I knew she was
involved with the women techmakers
program so I asked her how was it going
and she told me with a lot of enthusiasm
in her voice ever it's going great the
program is growing and it's amazing
because it's so community-based there is
so much going on but actually sometimes
it's also challenging it's hard to keep
everyone in the loop even that everyone
is going mobile these days we're
thinking whether we should have an app
for it
and it made me think if an app was the
way to go how about the progressive web
app it also made me personally curious I
knew quite well by then how to write a
progressive web app from scratch but
transforming an existing life site it's
entirely different story and I know some
of you are bothered about it as well
because you approached me during this
conference already and asked about it so
I'm very happy that I'll be able today
to share this story with you
luckily for me this is also a just comes
into the picture around that time he was
working on a work box library when he
learned about my migration plan he
approached me and he said listen about
me and my team are working on a set of
tools that would make your migration a
bliss would you like to use it and of
course I said yes
and that's how me and women techmakers
became Maggi nappy for the work box
project so that's what we settled on we
settled that women techmakers will get a
progressive web app that Jeff will
provide us with tools and I will get my
discovery process about how it feels to
migrate a website that I can share with
all of you today and this is exactly
what we're going to do today our
intention is to give you some insight
and some to link so that you can attempt
migrations in your own project in future
with confidence ok let's start first I
would like us to look into the decision
process behind how we decided to go for
a progressive web app but in order for
you to understand our decisions you need
to know more about women techmakers
women techmakers is a google global
program for women technology it is
actually a great pleasure to talk about
it here at i/o because this is where all
of this started six years ago here at
i/o the first women techmakers events
took place it was an event to bring
support and community to women to women
who attended the conference and I'm very
happy to say that this support year
little results and our number grew in
those times around 2013 there were only
8 percent women attending the conference
and this year we aim to have 25% of us
attending and I'm happy to say that we
made it
since then human tech makers have grown
from a humble once per year event to now
hosting hundreds of events for over
seventy thousand women worldwide there
is women techmakers Scholars Program for
college students a membership to help
women get the career support they need
and many more initiatives it is now part
of the global movement for women in
technology it's not focused in Silicon
Valley only or even us only
it supports women in 160 countries
that's a lot of diverse environments
because of that women techmakers have to
get creative at how they can support
such growth at scale when women
techmakers was entering new markets it
also started targeting new audiences in
these new audiences often meant more
users on mobile devices and only less
variable internet connections the
program leaders wanted to make sure they
have the infrastructure that supports
this diverse environment and it seems
that a progressive web app might be just
what they need a progressive web app is
a web application that uses modern
network capabilities to deliver up like
experience to the users it should be in
particular variable which means it
should load instantly even in uncertain
network conditions it should be fast
which means it should react user
accusers actions on all kinds of devices
and it should be engaging which means it
should feel like a natural app on the
device providing an immersive user
experience you can see how those
features correspond it with the women
techmakers goals by making the site's
variable and fast we would improve
experience for users on mobile and on
slow internet connections and by making
the app always just one click away for
the user on their mobile phones it would
help to keep users engaged and involved
even more in the community
it would allow us to improve user
experience and stay frugal at the same
time we could keep current
infrastructure have a single codebase
and support on the one platform going
forward so that was the decision we will
migrate this site to a progressive web
app so how did we do it how did we
approach our migration well this is the
process we roughly followed first of all
we needed to understand deep in detail
the current state of our site in order
to do that we use like house how many of
you know what like houses or use it yeah
you've been to the mobile website
hopefully okay so like house is a Chrome
extension but all of you can install in
your browser that allows you to measure
how close your web app is to a
progressive web app when you run your
website to lighthouse it gives you back
a report and a score that summarizes the
state of the app for you when we started
the process our score was about 45 and
our goal was to get as close to hundred
as possible without changing how the
site looked or worked in general that's
why we call it migration we didn't want
to alter the sides too much we just
wanted to make it smoother in different
environments if you're curious about
their own sites course you can try out
the lighthouse in the web pen and if it
goes green it means you have an amazing
amazing web site so here's how our
lighthouse report looked like you see
the score there but apart from that you
also see a list of feature or traits
that the website should have in order to
be considered progressive the green ones
means we're doing well on those and the
red ones means there is a rear for
improvement and one cool thing about
this list is that actual each of those
is an expandable section so you can
click on it and see more information
about the particular feature and also
find links the digital resources that
tell you how to actually implement that
feature or
better on it and this makes it a super
cool tool for people that are less
experienced with progressive Web Apps
because as a matter of fact you don't
even need to know what features you
should implement in order to get
progressive lighthouse will simply tell
you as you can see our lighthouse was
fortified and represented with a list of
options so what do we do next well we
needed to prioritize because we didn't
have all the resources in the world and
we didn't have all the time in the world
we needed to make sure we focus on the
most important things first and this is
why I put a women techmakers logo there
because that's the moment where you take
the technology you have like a
lighthouse report and bring it back to
organization or to business people
because those are folks that know best
what's good for the users and important
thing to remember about the progressive
web app is that it's not a monolithic
technology that you just drop on your
site it's actually a set of modular
solutions that you can usually implement
independently on each other so you can
take that list and just pick and choose
and decide what would make the biggest
difference first and then iterate on it
so we don't need to be scared that you
need to do everything in one go
you can start with smaller changes and
take it from there in our case we
decided to focus on two areas on offline
and on applying experience offline
obviously would improve the performance
on low internet connections and that
would improve how the app works not only
for the users in the countries where the
connection is scarce but also in
environments like some big conferences
you've probably encountered this problem
where you can't really access the
website a conference and women
techmakers is a lot of driven it's even
driven initiative so it was important to
add that secondly we decided to add up
like experience which means and you can
now install the app to home screen of
your mobile device
we hope that this will drive engagement
with the users over time that it will be
easier to keep everyone in the loop once
we have our priorities we needed to get
to know our tools in just a moment
Jeff will work you will take you through
all the ins and outs of the World Books
library and he will show how easy with
this library our migration became one
step is done I will tell you a little
bit about how we actually implemented
the whole process I'm going to share
some challenges we tackle during the
during the implementation phase and
share some lessons learned so I hope you
will find that part really interesting
finally at the end of the process it is
important to measure what you achieved
of course first of all we wanted to know
our lighthouse score if it's hundred and
this is a measurement you do for
yourself to know how well you did on the
migration but it's also important for
your stakeholders because it gives a
nice concise a numerical way of
presenting the progress you made on your
app while this number can bring a lot of
satisfaction especially with turns green
and it lights a lighthouse out there the
second type of measurement I put out
there the Google Analytics is even more
important to me because I think it's
very important to check afterwards how
your users reacted to the changes you
introduced after all it's the users that
are the ultimate judge of your changes
and this also gives you a nice base to
start this process again once more
progressive web app can be developed
gradually and iteratively over time so
you can just start the whole process
again follow this path and iterate as
many times as needed to achieve the
optimal user experience
now you know more about the business
case we wanted to solve and about the
process we followed so how about we get
a little bit more technical Jeff are you
ready
thanks Viva so before we detail the
specific tools that we use I wanted to
provide some backgrounds on a web
platform technology called service
workers service workers are code that
you write in JavaScript and they act
kind of like a proxy server sitting in
between your web app and the network
they could intercept network requests
and they could return a response from
some cache that they choose or from the
network or they can implement custom
logic that mixes and matches where they
get the response from now with the right
Service Worker in place we could create
a web app that loads in almost instantly
and works even when you're offline but
if you're not familiar with service
workers it can be kind of hard to
picture exactly what's going on Sonne
analogy might help you can imagine that
a service worker is like an air traffic
controller and think about your Web Apps
requests and response as airplanes that
are taking off and landing so let's see
how that analogy plays out when your web
app makes an HTTP request all right we
have this airplane representing request
it's taken off we're making a get
request for this image and now the
service worker is in control
it gets to decide the route while your
request is in flight and for your URL
that we've never seen before it ends up
just going against the network you know
it offered to receive response just like
it normally does that response would go
back to your page but the really cool
thing is that the service worker could
decide hey you know I actually want to
save a copy of that response for use
later in a cache and that's great so our
web app gets a response and we have a
cache copy that's good to go so next
time request takes off same URL that we
saw before the serviceworker is like hey
you know I know this URL I could go too
straight to the cache
I could give the page response from that
cache and bypass the network completely
and everything looks the same from the
perspective of the page so that's really
cool and that's really what the
serviceworker is doing in a nutshell
it's routing where your requests will go
and having some intelligent logic there
but you know many people would be
reluctant to write code for an air
traffic control system from scratch and
I don't blame you but well the
serviceworker api isn't quite as complex
as that there are some subtle issues
that you could easily run into and
problematic service worker code could
lead to things like delayed updates or
missing contents in your web app just
like buggy air traffic control code
could lead to flight delays or even
worse so the women techmakers
serviceworker implementation uses a
brand-new set of tools that were happy
to announce today and it's called work
box and you can find out all about it at
work box jf sorg happy to see people
taking pictures they'll give you a
chance for that so I'd like to walk you
all through some of the common
serviceworker
use cases and show how work box helps
you avoid subtle problems that you might
bump into if you build everything from
scratch all right so first up most
serviceworker implementations start by
adding all the critical assets that they
need to a cache making sure that they'll
be available for later reuse and this is
referred to as pre caching so here's
some basic serviceworker code that waits
for a given version of a serviceworker
to be installed and then pre caches a
list of urls this is the sort of thing
you might just find there's some sample
on the internet and copy and paste and
maybe even deploy right away but there's
some pitfalls that become apparent as
you release newer versions of your web
app or add in additional assets so one
thing is you need to remember to
manually bump that version variable each
time you change anything or else new
assets might not get pre cached
you also need to keep updating that
array of URLs that reflect your assets
current filenames and that's
particularly tricky when your URLs
contain version assets like you see
there so I version passage like you see
there with the JavaScript and the CSS
files and you know if your site could be
accessed via slash or via index.html you
need to have cache entries for both
forgetting to do any of that to lead to
a serviceworker that continue serving
stale contents or just doesn't have a
fully populated cache so instead of
going it alone you could sidestep those
pitfalls value using work box it
integrates into your existing build
process whether you're using webpack and
PM scripts gold or in the women
techmakers case grunts so let's take a
quick look at how work box 2 implements
pre-caching
there's a single method precache that
takes in a list of files and all of
their revision information we call this
information the pre cache manifest you
can see our source serviceworker file
here which is just a pretty empty pre
cache manifest not doing very much the
nice thing is though in this source file
we don't have to hard code a really hard
to maintain list of URLs or anything
like that we could keep it empty and the
goal of the build process is to figure
out what should go into that manifest
so our final serviceworker file will
have that empty manifest replace for the
list of urls along with versioning
information about each URL a work box
ensures that all of your pre cache files
are available offline using the revision
in some info in that manifest to keep
them all up to dates alright let's take
a closer look at the build process that
we're using to get that final
serviceworker file
and we're here we're using a method
called inject manifests which is part of
the work box build module we pass in the
source service worker file and that's
the one that has that empty manifest and
we tell it where to write the
destination file and then it will have
the fully populated manifest ready for
use nice thing is we could use wildcard
patterns to tell work box which files we
want to be pre cached so whenever we add
or rename one of our files we don't have
to remember to manually update a list of
URLs and there's also no longer needs an
incremental version variable work box
handles versioning for us via the
revision details and manifest we can
also tell work box that our site
responds to requests for the forward
slash or the contents of index.html so
we don't end up having to precache two
separate entries okay so it's only one
part of the picture in addition to
pre-caching it's really common to use
run time caching strategies for
resources that are either used
infrequently or just too large to
precache you might for instance you use
run time caching to handle requests for
images that aren't needed for every
section of your site here's some
boilerplate code that implements a
runtime caching strategy it touches a
response from the network the person
saves a copy of the response in the
cache it's sort of thing again you might
copy and paste from a sample on the
internet and it's very similar to what
we saw earlier and that air traffic
controller example but the subtlety here
is that while your code will add entries
to the cache this is actually no code
that's going to clean up those entries
when they're no longer needed so think
back to those airplanes delivering the
image files to the cache so they're
going to keep landing in the cache and
more and more images and our air traffic
controller isn't going to do anything to
stop them from piling up in practice
this is the sort of code that will lead
to cache responses that build up over
time which wastes storage space and your
users devices
and you know that's only one half of the
picture that would run some caching once
you defined your caching strategy you
need to tell your service worker when to
use that strategy that's called routing
and here's some boilerplate code that
checks whether it's a request for URL
ending in PNG and if so uses I've run
some caching strategy that we just
described and for a very basic web app
that might be fine but things get out of
hand pretty quickly if you need to
implement different runtime caching
strategies for different type of
resources you end up chaining them all
together in a big f else block and that
just really doesn't scale very well all
right so let's see how the women set
were how we're using work box on the
women techmakers site to handle runtime
caching so there's a number of features
that lead to clearer more concise run
some caching code as you can see there
first we have a built in router and this
takes care of responding to requests
when the certain criteria are met and
here we're using a regular expression as
the criteria for what triggers our
routes work box does built-in support
for Commons caching strategies so we
don't have to write or more likely copy
our own response logic they're ready to
use right out of the box but work box
goes beyond the basics allowing us to
customize the built-in strategies with
powerful options like specifying
expiration policy for a given cache work
box we'll take care of cleaning up old
entries automatically instead of them
being saved and definitely on your users
devices so going back to our airplane
analogy our air traffic controller knows
how to clear out the previous claims to
make room for new ones and so let's just
take a look at the impact of adding work
box to the site okay as you can see in
the screenshot in the dev tools network
panel even if the users device is
completely offline all the responses we
need come from the service worker giving
us a progressive web app
loads in under a seconds you no longer
have to build a native app to get this
kind of speed reliability and network
independence so that's great but we
don't have to stop there were clocks
also offers a number of built-in
features that go beyond caching and I'd
like to highlight a couple of them that
the women techmakers site is using you
know first work box makes it easy to add
in support for offline google analytics
all it takes to turn on is a single line
of code once enabled Google Analytics
requests that are made when the network
is unavailable
well we automatically queued up on your
users devices and replay it when the
network comes back this means that the
women techmakers team won't lose out on
valuable insights when users access
their PWA while their offline work work
box also helps you follow user
experience best practices so using a
cache first strategy means that your PWA
could load almost instantly but it also
means that your users will see
previously cached contents on their next
visit even if you've deployed an update
to your site so a really common UX
pattern to follow is displaying a little
toast message like you see at the bottom
of the screen there letting your users
know that if they refresh the page
they'll see the latest contents the work
box makes it easy to follow this UX
pattern by broadcasting a message to
your page when there's an update made to
one of the caches that it maintains and
this message includes important context
like the URL of the resource that was
updated and it's gives you the
flexibility of ignoring updates of less
important assets like some random CSS
file while prompting the user to refresh
when something critical is updated like
the site's main HTML so that's just
small overview of where where box can do
we hope that you'll find work box
equally useful when you're building your
own progressive web apps it's available
for use today we're one o
and examples can be found at work box
jazz org I really want to offer special
thanks to IVA and the women techmakers
team for being an early adopter to
library and for offering tons of
valuable feedback along the way so thank
you for that all right back to
implementation but first of all thank
you Jeff for walking us through the
library and thanks for implementing it
in the first place it saves me a ton of
time I actually think it made me delete
more code than I added in the first
place
okay implementation the first takeaway I
wanted to share with you from the
implementation process is that going for
a progressive web app is a great audit
opportunity and not only because
lighthouse will list all of your
performance scenes anyways but because
when you're planning to implement
offline especially if it involves
caching some part of the website or on
users device you really need to be
respectful of users resources like
bandwidth or storage space and you don't
want to push through the scash a bloated
website unnecessary assets because it's
a waste making the site lean and
resource friendly should be a priority
and it makes it more useable to all
users not only the ones using the
offline mode and often it's really not
very hard and usually you can find some
easy fixes and pick the lower hanging
fruit to start with that's what we did
with women techmakers let's look at the
example this is the network panel for
women techmakers site what I did here I
just sorted all the assets the page the
odd page was using by size and only by
looking at the very top of that list you
can easily spot easy targets for
optimization the bigger the file the
higher chance you can optimize here you
can see the two biggest files by park at
the base GS which was part of the
YouTube API
javascript file and the header which is
this nice big hero image on the homepage
so can we optimize those let's start
with the image it covers the full header
area of the page so it should be as big
as the viewport at least but it doesn't
need to be bigger than that so if the
viewport is smaller you can make the
image smaller what I did here I just
created two more versions of that image
a medium sized one and a small one I
added a few breakpoints in my CSS so
that it uses the appropriate image for
the appropriate viewport and look at
this touch it allows me to save 21% on
overall image load on that page with how
many nine lines of code if you count
brackets right so imagine this was the
gain just from one image imagine what
would happen if you do it for more of
your images on the page it's a really
easy fix
now YouTube's API over the lifespan of
your page
you know the libraries and the resources
you're using might change the new ones
come up some become obsolete and so on
in this case everything that we were
achieving through the YouTube API now
it's possible to do with a nice read
when it's configured properly so by
embedding YouTube videos on the page
with iframe instead of YouTube's API we
could just delete that file and suddenly
we gained you know 400 kilobytes of the
overall page weight and if we didn't
make this decision to go for a
progressive web app probably we wouldn't
even support that there is this
opportunity so it's a good moment when
you go for a progressive web app to stop
and think again about resources you're
using similar thing the low - library we
were using only some basic functionality
of the library so we were able to
replace slow - with low - core and this
brought us from 24 kilobytes to 4
kilobytes you might say that 20
kilobytes is not that big but this
really adds up in your whole page and
again here I change only
five characters in my old code and
that's the gain right so it's really
easy to get that now once we ensure that
we're not pushing too big resources to
the user it would be good also make sure
we don't push things twice if we don't
need to for that we need to leverage
browser caching and this is different
caching from service worker caching is
just regular browser cache every browser
has it these days so in the outside what
was happening with every bit of the side
we would version files or cache past if
you will by the version map like built
number or by timestamp timestamp in some
cases and this is kind of cool because
every time we made a new build of the
site the file would get a new name even
though the file itself might not have
changed that would prevent the browser
from caching is because the browser
doesn't know that under different name
is still the same content so instead we
switch to content based hashing as you
see in the lower example now we make a
hash of the content and we embedded in
the file name which means the file will
get a new address only if the actual
contents change so this allowed us to
push less resources to the users and
remember women techmakers is a community
a lot of people are coming over and over
to the page over the lifespan of the
contacts with women techmakers ok so a
lot of this type of games are really
findable in your lighthouse report if
you dig deep you will find a lot of good
practices and good hints embedded in
that report too just by following you
know the red color you can find a lot of
optimizations that would make the site
better for all of your users now the
second takeaway and it's going to be
quite a journey so bear with me on that
one
it's about rethinking your site's
resources but not from like performance
perspective let's say your site is nice
and clean and it's time to think what to
cache and to end so that users can use
your site
of line we call it a caching strategy
and for coming up with the right caching
strategy you really need to understand
your site's resources like images media
and content let's look at the example
this is the women techmakers site as
loaded online it's a rich visual
experience lots of images
lots of graphical you know effect it's
really a beautiful site what would
happen if we saved all of the images
from all of this site to users cache it
will just become really crowded imagine
user wants to you know brought a lot of
websites on the device if each of the
website downloaded all possible images
from the whole app that would make it
really inefficient so the question is
are they really necessary the images
maybe they're not at the core of the
site well that's how it looks like
without the images it kind of ugly but
apart from being ugly the site is also
unusable like you can't even click to go
to different page which means it's
entirely broken
this means no images is a no goal and
all images is a no-go you need to find a
middle ground somewhere so how do you
find a middle ground well I started to
think about images by the function they
have on the website
let's go color by color the yellow ones
are images that are for navigation and
images that allow user to perform some
actions and this means they're super
important if they are not there the user
cannot reduce the website they cannot
perform the action they have absolute
priority now the red ones are the ones
in our case they were related to
branding but in your case it might be
different those are images that you for
some reason put priority on this might
be images for example that create the
connection between your app and the user
like for example something that allows
your user to understand what type of app
they are using right so these are your
priority images to the contrary the blue
ones are
purely decorative they're cool they make
the website look nice but if they're
missing it's not the end of the world
now the green ones are kind of funky
because I call them informative images
what I mean by this is that apart from
you know adding to the visual side of
the story
they also convey some message in this
case that I tell you which of the
companies featured content right so I
call them informative because apart from
being visual they also convey a message
now what would happen if we apply
different caching strategy to different
type of image the inline ones the
navigation and action ones are super
important so what I did I just inline
them because they're small they're icons
I just encoded them in SVG and I put
them directly in my HTML this means I
don't even need to think about caching
strategy because if HTML visitor the
images are there and I'm done easy fix
now branding and priority i Prakash and
you saw that with work box pre-caching
is pretty straightforward
those are images that I always put in
users cache because they're really
important for my users experience with
the app the blue ones I cache at runtime
this means that when user enters the
particular part of the site I catch them
on a kind of best effort basis so there
is no guarantee there will be in the
cache when these re-enters that site in
offline mode I also put a limit so that
they're on they don't give up forever
right and and this means that they might
be in the cache and serve their purpose
or they might be missing what happens if
they're missing well the site is
slightly less visually attractive but
it's not the end of the world right like
the site is still usable the content is
there you can check your event and so on
now informative images are super cool
because they show you the full power of
serviceworker what I wanted to do here
when the image is not in the cache I
wanted to serve some kind of a
placeholder you know
that tells you that whether it was
supposed to be an image but it's
unavailable but I also wanted to convey
the message so I was using the alt stack
of the images to read like what company
company is referred to and try to render
this image in serviceworker and that's
the cool thing that serviceworker is
just a javascript file so you can do all
kind of crazy rendering in there like
here I'm creating an SVG with the kind
of offline icon and I attach the name of
the company so that I don't really store
anything those images were never in my
cache I just render them on the fly and
they still serve the purpose of the
website so those are before caching
strategies I used with the help of the
World Books library on women techmakers
and the truth is your site your project
might be different and you might be
different caching strategies but it
should show you the direction you should
go for with the flexibility of
serviceworker you can find the strategy
that would be best suited for your users
needs
now let's say we implemented all this
offline and progressiveness on our app
what I wanted to tell you from my
experience with this migration is that
these things really influence other
parts of your app as well and you need
to remember about that because if you
forget then you'll get in trouble in the
other parts of your app remember the
little toast message that just showed
you when they there was a new version of
that this is the type of influence on
the UX I have in mind you really need to
think how going offline influences your
usual 2x and report accordingly for
example there might be a forum on your
site that you actually cannot submit
where you're in offline mode so we need
to remember now that ok it's not enough
to dump everything in the cat users
cache I also need to remember to
implement something to tell you that
also you can't do this while in offline
mode the second thing is to measure your
impact some of the interactions with the
user will now happen in the offline mode
so you need to add offline analytics
tracking and so in the world box that is
just one line of code but it's your task
to remember to put that line in your
serviceworker and not forget about it
finally developing offline files can
change your developer workflow and here
are some hints that I found useful
during development first of all it is
useful to have two different service
workers for different environments we
separated our development service worker
from the production service worker
because in development we didn't want
anything cached right like you want to
be able to refresh your page and see
your changes so we just get an empty
service worker like an empty file
because service worker is a progressive
enhancement it doesn't harm that it
doesn't do anything it just transparent
for all the requests right and then in
production we had the fully fledged no
service worker that does all the caching
so that's the solution used for
separating environments now when you're
developing offline interaction working
with the service worker we often want to
see how your page would look like for a
user that enters the site first time and
if you keep refreshing that's not that
easily achievable so for that the best
solution is to use the incognito mode
also when you do some mistakes and you
really mess up other caches and you
don't know what's happening again just
go incognito start from scratch
cute comb and go into hito incognito is
your friends and finally I just wanted
to reiterate that you should really use
build tools to version your files trying
to do it by hand is just asking for
trouble and because the work box build
process is just an NPM module you can
usually integrate it with whatever
workflow you have there so really do use
tools in order to avoid you know manual
fiddling with the cache entries
what happens if there is no service
workers at the users browser but the
cool thing is there is no problem all of
this stuff we discussed here is
progressive enhancement which means
users that do have Service Worker
available will get some more features
some more robust behaviors like offline
experience but even the users that don't
have it will get a lot of gain from your
progressive web app because of all those
other fixes you did on the way because
of the better normal caching better
performance linear website and so on so
I will encourage you to consider
progressive web app for your web
projects because in the end it will
increase satisfaction for all of your
user base did we implement everything we
wanted well no there is always more and
our improvement that did not make the
bar here's an example of a few of those
that we plan to implement in future but
as I told you this processes can go and
go on and go on and go on and as long as
Nathalie the both of the women TechNet
allow us to work on it maybe we'll get
them implemented the next iteration all
right so let's recap a bit I told you
today a little bit about women
techmakers I told you about the
migration we attempted I told you how
the process looked looked like for us so
that you know where to start on your own
just walk you through the tools the
World Books library and we showed some
lessons learned around Perth about
resources prioritization and about the
development work so I hope you enjoyed
that now it's your turn go and start
your own progresses migration yeah so
what's next we're some good places to go
we put together a lot of really great
GWA guidance on developers.google.com
we hope you check that out hopefully
everybody's inspired to use lighthouse
either in person in the sand bye
Luxor you could just go and get the
extension for yourself you could get
that you find out more about that it
developers.google.com/maps try work box
give us feedback we're really looking to
talk to more developers about it as well
so you can find us in the sandbox and
like libraries and frameworks section
some of us who worked on it are here as
well wasn't just me and work box Jasta
org is the site for that yeah and
remember to join the women techmakers
movement and remember that all genders
are welcome in the movement so join us
thank you right guys thanks a lot</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>