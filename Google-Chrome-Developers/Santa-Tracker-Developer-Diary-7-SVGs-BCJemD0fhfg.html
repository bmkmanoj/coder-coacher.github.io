<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Santa Tracker Developer Diary #7: SVGs | Coder Coacher - Coaching Coders</title><meta content="Santa Tracker Developer Diary #7: SVGs - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Santa Tracker Developer Diary #7: SVGs</b></h2><h5 class="post__date">2017-12-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BCJemD0fhfg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everyone it's Sam here on this very
short episode of today's Santa Tracker
developer diary I want to talk about
SVG's is the lovely responsive images
that we use all over the place in Santa
tracker our houses our elves our cute
little scenes are all SVG's with only a
few PNG x' to serve round out the edges
now a disclaimer I'm not a designer I
didn't make these SVG's and what I want
to tell you today is about how I as an
engineer will work with these SVG's to
make them smaller and better for your
users so let's have a look so what do
you think of SPG's this is what you
might expect you'll see an SVG tag
you'll see a few other things and this
is basically XML as Fuji is really two
things
it's markup and content so this is very
normal the mark-up looks very structured
however when we actually ship our assets
to users we use a tool called SVG oh and
there's an online version which is in
the resources below to convert these
files to something that's very small
what's important to remember is this
really just shrinks the markup it
doesn't shrink the content in any way so
if you have too much content which I'll
explain in a second your file size will
go down but not enormous ly the sort of
assets we deal with our reasonably large
SVG's quite simply when I try to think
about my SVG's and how I can make them
smaller I'll just sort by size and maybe
pick on the biggest file so in this case
we've got two Easter Egg trees here and
actually the old one is the one we had
last year
and the new one the lower one is the one
we had this year they look exactly the
same so why are they different in size
let's have a look at the old version so
on my Mac I've got sketch but you might
be using some other tool on a different
platform this asset looks fine it looks
the same as the new one and actually
it's still reasonably small it's about
150 K which for a complicated asset with
lots of small detail does make sense but
it's worth looking at your SVG's
especially look at considering that the
tools that generate these you know
they're computer programs to write and
they also make mistakes so let's look at
this tree we've now opened so it looks
pretty good it's about 150 K which makes
sense it's a complicated tree and
there's a lot of fine detail on the
bottom with the different elves and so
on but if we dig around this XML file we
can actually see that these dots at the
bottom here they're totems I guess you'd
call them
I actually made up a lot of dots so
that's kind of weird
well you noticed this last year and we
actually could delete most of them
and now you'll see that we have one blue
dot and one gray dot and so rather than
shoving what was about 30 different dots
I think times however many items were
around the circle we then shrunk that
image by just modifying those gray dots
manually to make them big to make them
lines and so that was a way we shrunk
that asset almost by half just by
simplifying some detail that didn't
really matter for users looking at that
tree in the middle of their village the
next thing we often look at is the
things like storyboards and what does
that mean so if we load up a different
asset in this case it's the road image
that sits in the back of our village
here you'll see that well the main part
of the images to the right here we have
this kind of storyboard in the very top
left now as an engineer you might think
oh I should delete that it'll save me
space but interesting interestingly
enough this is a case where actually
getting rid of them doesn't really help
you very much
so these assets up here are all found in
the village itself and the way this SVG
was written is that this is actually
like a symbol
so with two placated in two places so if
I delete this which is totally possible
if I go you know toggle click through
select and delete you'll find that the
exported version doesn't really get much
smaller because it's really just a
duplication of that asset and that's a
value that SVG has in terms of markup
unlike a PNG that doesn't take up space
but it's something that you can supply
but it doesn't really help you another
thing I want to call out is that if I
was to export this image and this is a
complicated asset it's about 136 K as we
discovered it actually ends up being
about 1.5 Meg so in this case that makes
total sense this is a very large asset
which lives across the entire site and
we use it at multiple screen sizes so an
SVG is perfect we really never want to
convert this to a PNG however if you
have very fine detail like small assets
this is the case where a PNG is really
useful and this is the reason we use it
in a few places like new today cards for
instance or all PNG s because this has a
lot of very solid colors that is always
used at a one consistent screen size so
one last thing you can compress or SPG's
you can use gzip to convert your SVG to
an SVG file which kind of makes sense
right your P and G's are fundamentally
compressed so why not your SVG's
but the reality is is that nearly every
web server is gzip in your files anyway
so most clients will receive your files
whether there be HTML PNG or SVG's gzip
down so they're already fewer bytes for
your clients anyway that was SVG he's
done with Santa tracker I'll see you
next time you can subscribe to the
google chrome developer channel down
here we'll check out some other great
videos along here</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>