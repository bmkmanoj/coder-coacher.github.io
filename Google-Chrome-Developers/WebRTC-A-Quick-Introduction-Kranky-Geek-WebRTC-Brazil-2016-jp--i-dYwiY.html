<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WebRTC A Quick Introduction (Kranky Geek WebRTC Brazil 2016) | Coder Coacher - Coaching Coders</title><meta content="WebRTC A Quick Introduction (Kranky Geek WebRTC Brazil 2016) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>WebRTC A Quick Introduction (Kranky Geek WebRTC Brazil 2016)</b></h2><h5 class="post__date">2017-01-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jp--i-dYwiY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thank you for having me it's great to be
here I'm her mangled in stain I am a
software developer at what were these
cylinders I'm going to give you a high
level introduction to wear t see we're
going to see what we can do and how to
use this technology so I want to know
how many of you have been working with
poverty see recently can you raise your
hands please okay okay thank you so I
want to show you first what is whether
to see in action so please join me at
meet GT cranky geek I think you have
access to the web file you you can show
him from your Android and devices thank
you okay hey I can see some faces okay
this is exactly that is they go okay so
this was exactly what were to see is
basically the ability to share video and
audio from the browser and mobile
devices so what are the C stands for
real well real-time communication it is
basically a set of JavaScript API that
allows us to have a media communications
between peers like browsers or mobile
devices and did you notice that you
didn't install any plugin so the thing
is that whoever TC work natively in the
browser so this is very cool so what is
he has three main tasks
the first one is getting the video and
the audio from the input devices such as
your webcam or your microphone secondly
establishing a pill to clear connection
between peers of course I'm the ability
to send video and audio and third the
ability to send also arbitrary datum so
for each one of these task we have one
object one API the first one is media
stream the second one is the RTC ear
connection and the third is the RTC data
channel so i'm going to talk a little
bit about these api's individually let's
start from the first one the main stream
that is also know as the get user media
this API allows us to enable access to
the camera and a microphone there is one
parameter that we need to pass to this
API that is the constraints that is
basically the way to say that I want
access to the video or to the audio or
both and for instance you can set the
frame rate or the video resolution and
because the water TC specification is
not yet complete not all the constraints
work on all the browsers so there is a
recommended work around there is using
the adapter shias which is ashamed that
helped us to handle this situation and
between the browsers okay also
mainstream handles the user permissions
when you call the gate user may ipi the
browser will ask you first permissions
to the user so the user has to manually
click on a button on the low in the
correct and the case of chrome to grant
access to the devices and this is
important because
um what were DC and the roser is
protecting us of being a spider so I
want to show you a little about the gold
as you can see one second please
already hold on
all right thank you
okay sorry for that um okay so as you
can see on this last line we are calling
the get user media we are sending as a
parameter the constraints that are
already final on the top of this snippet
I'm saying on this sample that I want
video but not audio and as you can see
this has the structure of a promise so
we have the den and the catch and the in
the case of the success we have a
success function where I'm receiving the
media stream objects so let's take a
look to the main stream object this
picture illustrate us how this object
looks it is have basically two media
trucks the first one is for the video
and the second one is for the audio and
in the case of the media track of the
audio we have two channels the left and
right that together compose the the
stereo and what if you have more than
one camera or one microphone is there a
way to choose what device I want to use
another earth years by using the
enumerated devices API that returns us
yeah sorry for that thank you ok so I
was saying that this API returned us an
array of devices that are connected to
your computer so we can choose by
specifying the device ID in the
constraint you can set the audio source
or the video source ok so I want to show
you a quick demo of the media stream you
ok think so as you can see chrome is
displaying that dialog box asked me
permissions and once
give I grandma's the access I can see in
my my video locally on a video ok yes i
was in this sample app demonstrated us
that there is some other stuff that we
can do with the video element for
instance i can choose i can apply a CSS
filter for example the sepia or the
invert this is my favorite and I can
take snapshot for instance and let the
user upload this photo to for example
his user profile ok
so let's talk about the RTC peer
connection this is like the core of what
you see once you get the media stream
object you want to send it to the other
peer so the rtcp connection takes care
of all the transport dies for instance
the SDP negotiation the SDP stands for
session description protocol it is
basically a standard protocol to
describe some information about the pill
about the media codecs and the media
streams it also handles the data
channels the mega encoding and decoding
there is compressing and uncompressing
the video in the video it also handles
the network issues such as the packet
lost the echo cancellation the noise
reduction and the nut traversal that
includes the ice processing the stone
undertone servers I'm not going to go
deeply on this topic because we have
another session for this topic but just
to let you know this is a technique to
find a way to get the other pill through
the nuts and the firewalls ok so sorry
ok so what you're seeing is basically
the call flow of a basic call video call
in what were teasing as you can see we
have to pierce the pure a and the PB and
in the middle the Similan server about
the seamen process this part is not part
of what were to see you have to this
part is up to you you have to decide how
to implement it but you need to
understand that giving something to
exchange information between the papers
in order to get the pig connection
established
so the PA is going to start the
communication okay he's going to call
the get user media then he's going to
get the media object into the RTC pill
connection using the other stream API
then he's going to call the create offer
this API returns us the sdb let's call
it the offer so the Spirit has to send
this offer to the other peer be at a
signal in server he is saying basically
hello I want to communicate with you oh
this is my information okay so the baby
is going to receive this information the
offer and it's going to follow the same
steps it's going to get the user media
have a stream in this case he's going to
call the create answer that is similar
to the true yet offer it also returns
the sdp of the pure be in this case
policy but this HD p is for answering so
he has to send but this information the
answer to the other puter be a so after
an exchange of ice candidates they're
going to able to enjoy a video call
through the peer to peer connection okay
the RTC data channel this API enables to
send and receive data okay and this word
basically very similar to their web
sockets so the question is why do we
need another communication channel to
send and receive data okay we have with
sockets a shocks we have a lot of
options and the answer is because this
is peer-to-peer so there are more
benefits for example we have a load a
lower latency more security a more
privacy because there is no server in
the middle okay there is no server
reading my
so um this connection can be reliable or
unreliable you can choose this mode and
this work like TCP or UDP okay the first
one warrant is that all the packets are
going to get to the other peer on and on
the same order for instance if you send
ABC we are going to receive on the other
peer ABC in the same order the other one
the unreliable doesn't warranty the
retransmission and the ordering so this
connection can be faster okay and you
can choose this option depending of your
use case if for instance your use case
is a a web torrent you make to sure that
all the packets have to be on the other
side okay so you need to choose the
reliable mode but on gaming maybe you
need more velocity and if you lose some
packets in the middle it doesn't matter
so you can choose the Unruh like a mold
okay so there is more API is um so far I
talked about the mainstream they are to
see your connection and the RTC data
channel the main AAP is but we have more
for instance they get stats enable us to
get access to statistical data about the
peer connection this is very useful
because sometimes you need to know on
which cases your application is working
slowly with poor connection or wood
connection also we have the object ap is
where TC has been adopting these AP is
from ortc there is another peer-to-peer
communication API that provides more
control and more flexibility
on the rtcp connection but don't worry
you don't have to use it but just to let
you know that these objects are coming
and actually is a red implemented on
Microsoft Microsoft edge and it's been
slowly emerged into chrome and firefox
so I want to talk a little bit what word
to see media codecs the question is why
should I care about medical aids I just
want to have a video call and that's it
the thing is that the coding and the
golden part impacts on the performance
especially on mobile devices you have to
take an account if the kulluk has
hardware a solution the highest
resolution reduces the cpu usage there
is a very important and avoid
overheating on the battery so there are
codex there are mandatory to use to
implement um in the case of video we
have the h.264 there is like a standard
and the BP eight there is free and it
has less supper in terms of hardware
acceleration in the case of audio codecs
we have g 7 11 and the opus which is
free and it provides an excellent
quality ok so what RTC is supported in
the main browsers in the case of desktop
browsers it is supported on Chrome
Firefox Opera and Microsoft eat without
a plugin and if you use Internet
Explorer or Safari you have to do to use
applying ok awesome work natively in the
case of mobile browsers on Android it is
compatible with chrome firefox and opera
and in the case of iOS whoever this is
not supported by the main browser but
you have an option you can build a web
RTC application for iOS and Android as
well but you need is basically a web /
DC SDK and there is many options to get
the SDK the first one is by downloading
the source code from Google and compile
it by yourself the second one is used a
prebuilt SDK from a third party and
unless you have to change anything on
the source code I will recommend this
the second one because compiling the SDK
by yourself it can be drinking and it
takes a lot of time but you can do it of
course and the third one is to use
Aweber t see past the platform as a
service many companies are doing that
because this kind of services provide
support for the server side the the
signaling process the major servers etc
so it is a valid option so to finish my
top I want to mention some deployment
considerations things that you have to
take in account when you decide to put
your application on production okay the
first thing seems to be very obvious but
it's not what RTC works with secure
connection okay so you have to implement
HTTP ok s the second one is the
signaling process I told you this is up
to you you have to decide how to
implement this part you have many
options WebSockets XMPP see so you have
to think what you need this is not part
of what were to see also you will need
probably stone unturned servers you have
to
decide if we are going to host them and
maintain them or are going to pay a
commercial solution also if your
application supports multi party called
for instance a call with 5 10 15 people
so you have to think that what is it
doesn't scale well itself you have to
implement something there to help the
scaling there are many options like em
CU and SF you you have to think about
this and think about things like media
recording video composition and
connection quality there are things that
you have to take in account for your
deployment so well thank you very much
for him me obrigado muchas gracias
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>