<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Neon-animated pages -- Polycasts #25 | Coder Coacher - Coaching Coders</title><meta content="Neon-animated pages -- Polycasts #25 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Neon-animated pages -- Polycasts #25</b></h2><h5 class="post__date">2015-09-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wMhq1o0DULM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey there polycasters rob here animation
is one of the hallmarks of a really
great web experience not only does it
make your app just look cool but can use
them to navigate the user from one area
of interest to the next and ultimately
that makes everything much more engaging
now in a previous video I showed you how
to animate a single item using an
animation behavior but today I want to
teach you how to animate whole sections
of your app bringing shared elements
from one state to the next and to do
this we're gonna use a component called
neon animated pages okay so this is the
first thing we're gonna build it is a
very simple application and we are going
to add a little settings menu to this
page so that when you click on it it's
going to do some really nifty
transitions it's gonna actually slide
the other page in and then when you
cancel it you're just going to push the
the old page back over right so pretty
cool stuff there to start off we are
going to jump into our index file for
this project and the first thing we're
gonna do is we're just going to load in
some imports so we're gonna pull in neon
animated pages as well as the iron flex
layout classes which we talked about in
our last episode so we can use some
layout classes and then down inside of
my body I'm going to just drop in a Dom
bind template so I can use data bindings
in this space I'm going to add a neon
animated pages element right there you
can see that I've also gone ahead and
actually applied some of those layout
classes so that my body is using flexbox
to allow me to as you'll see in a second
flex the neon animated pages element so
it takes up the entire screen I'm also
gonna give it a selected attribute and
this is just like what we did in our
iron pages demo last time where neon
animated pages is going to look at
whatever these selected indexes and
display that child so if the selected
index is zero it's gonna display its
first child if it's one it'll display
the second child and so on just like
iron pages does so that gives us a
little bit of a boilerplate to work for
up work from I'm gonna add an ID to this
template so I can select it down
in JavaScript and then I will write out
a little script tag and just go ahead
and query selector for my app there and
give it an initial selected value of
zero so this way animated pages are
going to try to display its first child
we're going to drop in two more elements
list page and settings page those are
going to be the two elements that we're
going to transition between so I'll go
add some imports for them and then we
are pretty much ready to rock so let's
start by defining what the list page is
going to look like so we can switch over
to that tab and it's pretty typical
element here I've got my style tag and
my template tab collapsed right now
because they're full of just placeholder
markup so if I expand that you can see
it's a bunch of HTML in there but you
don't actually need to worry about any
of that because it's all just dummy
placeholder content for the sake of the
demo so a lot of stuff but you can
pretty much ignore it to get rolling
though I'm going to import a few items
here I'm going to import the neon
animatable behavior which you might
remember from our previous episode on
neon animation and then I'm going to
pull in two animations slide from left
animation and fade-out animation so
slide from left is going to make the
page appear to come from outside the
left edge of the screen onto the center
of the page like that and then the
fade-out animation as it implies this is
going to have the page fade-out so then
let us go down here and you know like
we've done in previous animation
examples will create a properties object
we'll create an animation config
property and then I'm going to give it
two animations and entry in and exit
animation and we're going to use those
animations that we import it so our
entry animation will be slide from left
our eggs that will be fade out we also
need to remember to include that neon
animating the Walt behavior now if if
this does not look familiar to you
please please please go check out our
previous episode on neon animation so
that will explain how these behaviors
are working and give you a little bit
more context but for those of you who
are familiar with this we can just kind
of steam right along so if we've added
that behavior we've we've got our
animation object all set up
so the list page is pretty much done I
think we're ready to switch over to our
settings page and again you know it's
full of dummy content in the template
and in the style tag so nothing that you
really need to worry about there just
yet well we're gonna do the same thing
we're gonna we're gonna import the neon
animatable behavior and then a couple
transitions slide from right and then
slide right so slide from right means
basically come from off-screen to being
on screen and slide right means you're
already on screen push off to the
right-hand side
cool so just like we were doing with our
list page we're gonna go ahead and
implement the behavior so we're gonna
roll in neon animatable we're gonna
create a properties object with an
animation config property entry and exit
animations and for entry we're gonna say
that we want this guy to uh I believe
we're gonna slide in from the right yep
and then from exit we will slide out to
the right and both times the node is
just going to refer to this element
itself so we've got our two pages
they've got their animations already set
up and ready to go let's switch over to
the browser we can actually preview this
and what I'm gonna do is a little dev
tools trickery which you've seen me do
before
I've got neon animated pages selected
right here in the dev tools and I've got
my console open so I can just hit dollar
sign zero and that will actually allow
me to you know grab a reference to the
neon animated pages element and I can
just set selected to a hard-coded value
so I'll just switch it to one and you'll
see what happens the page changes I
switch it back to zero the page goes
back right set it to one page changes
back to zero page goes back now we've
got this really cool relationship
between these animations you can see how
they sort of play off of one another
which looks really nice on perhaps a
mobile device of some kind it is a
little bit of a bummer though I have to
manually change the selected value in
this way so let's fix that what we're
gonna do is we're gonna have our
elements dispatch events when we hear
those events will tell the animated
pages element to update so we can
actually pop inside of the template
there and
I'm gonna take the Settings button and
just give it a non tap Handler and
method called show settings and then
implement that I'm just gonna fire an
event called show settings I'll do the
exact same thing on the settings page
I'll find it's cancel button another on
tap handler this time we'll say show
list and we'll do another event just
Batchelor basically so we're just gonna
fire off another event called show list
and I'm back in our index page you know
this is gonna be a little quick and
dirty but what I'm gonna do is I'll just
listen at the document level for those
events so normally you would probably
have this this neon animated pages and
these elements you'd probably have this
inside of maybe like a bigger element of
some kind so you could use like on on
bash listeners to listen to these things
you'd be like oh yeah I want to listen
to on - show settings and when I hear
that
that's when I will I'll update my
selected property in this case you know
we're just doing a quick little demo
here so we'll just listen right on the
document with that in place I think
we're actually good we can switch back
to Chrome and now when we click our
little button up there it's gonna fire
the event which is going to trigger the
change in animated pages and we'll click
that cancel button and likewise now if
you want all of your pages to use the
same transitions it would be really
inconvenient to have to copy and paste
that code over and over and over again
but thankfully we can work around that
using a feature that's built into the
element itself okay for our second demo
I've got this very simple transition
thing each one of these is a page each
one of these big colored blocks is
actually a page and as I'm clicking you
can see that they all use the exact same
transition animation so looking at our
code it looks just like our old example
we've got a neon animated pages element
here right where we're using some some
layout classes we're flexing it we've
got a selected binding right there and
then I've got this little handler that
I've added just for demo purposes called
on tap where I've got this next method
and I'm just looping through possible
selected values so we're incrementing up
until we reach the max and then we're
we're looping around again now I've got
the same element in each of these slots
right
and I know that I'm gonna want all of
these to use the same transition even if
I didn't have the same element here
maybe I would want all of them to use
the same transition so instead of having
to go into each and every one and and
you know copy and paste that that
behavior over and over again what I'm
going to do is just take advantage of
this convenience feature that animated
pages offers where I can I can go up to
the top and I can just import the
animations that I want it to use right
as if we were you know building
animatable element I'll just pull in a
scale-up animation and a fade-out
animation and then we're just gonna tell
animated pages hey for all of your entry
animations just play the scale-up
animation for all of these it doesn't
matter you know what it is just play
that and for all the exit animations
just play the fade-out animation so if
you know you want all of your pages to
use the exact same intro and exit
animations this is some shorthand that
you can do that will save you quite a
lot of typing if you have a bunch of
different elements that all basically
need the same transitions so with this
in place we're actually pretty good to
go we can switch back to the browser and
click on the thing and you know we're
gonna hit that exact same behavior and
it saved us quite a lot of typing now
the last thing that I want to touch on
is something that I promised at the
beginning in the video this idea of
being able to take elements and
transition them from one page to the
next right actually pulling along what
what neon animated pages refers to as
shared elements so let me show you an
example of doing that I've got a very
simple app here and it's got this sort
of large sign-in button of sorts and
when I go click on that sign-in button
you'll see that it's going to transition
and become the header of my next page so
let's do that again
right so I've actually taken that
element and sort of morphed it into an
element on another page and sort of
carried it from page 1 to page 2 so
again this is a shared element
transition and in particular this one is
called a hero transition or hero
animation so implementing this is
actually pretty easy though they you
know the effects themselves look very
sophisticated they're pretty easy to
implement once you know how so in my
index page again just like the previous
examples I've got neon animated pages
right I'm flexing it it's got the
selected binding there
we're using a little cheating next
handler to advance the page and I've got
two elements inside of here one is
called main page though maybe I should
have called that sign-in page but main
page and detail page which is going to
be the page with the header so this is
our main page and I want you to notice
that we've got this this div with an ID
of circle here so this is really really
important we're gonna we're gonna come
back to this later but just know that it
exists inside of this page before we do
anything I'm gonna go up and check out
our imports so instead of the neon
animatable behavior I've actually got
this thing which is very similar though
an even longer name called neon shared
element animatable behavior so this
actually implements all the same stuff
as the neon animatable behavior but it
gives us this magical shared element
extra awesomesauce which we will use in
just a second and then i've got two
animations that i pulled in here hero
animation and fade-out animation so
let's let's implement both of those
right now so we'll go down and just like
we've done in previous examples we will
add the behavior to our element so this
time we're gonna add the neon shared
element animatable behavior we will
create a properties object and in that
properties object we will drop in an
animation config object we'll have entry
and exit animations the entry animation
doesn't really matter because we're not
going to play it in this example but
I'll just throw one in there the exit
animation the pay attention here I'm
actually creating an array of animations
so animations that would be playing
simultaneously the first one is going to
be that hero animation and we're going
to give it an ID property and we're
gonna say that we want to hero animate a
thing with the ID of hero and this does
not refer to a CSS ID which confused me
at first so this is not a CSS ID this is
an ID that we are going to define in
JavaScript so so so kind of keep that in
mind for the moment and then we're gonna
say that this page right here is the the
from page when meaning that this this
hero element that we're going to refer
to you is coming from this page and it's
going to another page which
we will demonstrate and when we
implement the next element and then
we're going to implement a second
animation which is just going to be fade
out and we're gonna basically say
everything else on this page should fade
out when we're exiting so let's go let's
go to find this this hero ID thing and
the way we're going to do that is
through this shared elements object so
remember I've got this the circle up
here right this thing with ID of circle
that's really what I want to to hero
transition so I'm going to add this
shared elements object and I'm gonna
tell it you know and it by the way it
looks a lot like our animation config
object it's a value that returns a
function turning an object but we're
gonna say that when we when we say hero
what we're actually talking about is
this dot dollar sign circle and the
reason why we do this is because this
term is gonna be used in in in both
elements the the front page and the two
page so it's a shared term referring to
different things on different pages
so here hero refers to that circle let's
go implement the next page the detail
page and you'll see that we've got the
same same imports pretty much we've got
you know shared element hero animation
fade-out animation fade in we're gonna
also implement our behavior we're gonna
drop in a an animation config object and
for the exit animation doesn't really
matter cuz I'm not gonna play one but
I'll just add an exit animation but here
we are again with the entry animation
again it's an array of animations and
note that you know we're we're using the
hero animation the ID that we're
referring to is still hero but now we're
saying that this is the to page so the
first element was the from page this is
the to page where we're hero is going to
and then for the rest of the content on
the page we're just going to fade it in
when when we're doing entry and then
we're gonna go to find its shared
elements object and what we're going to
say here is that when we say hero in
this element we're referring to our
element with the ID of header right so
hero and the other one refers to circle
hero over here return refers to our
header and it is up to neon animated
page
now and it is up to that hero animation
behavior to sort of interpolate between
a and a and B right to get us from there
to here right so let's go and give that
a shot we will go back to our browser
and click on our circle and you see we
get that nice transition over to our
header now this is a pretty simple
implementation of this pattern though it
is a really cool effect but what I'd
like to show you is if you go over to
the elements catalog an element stop
polymer project org and you click on
this neon animation button down here
there is this really awesome guide full
of really helpful stuff on neon
animations and at the bottom there are
all of these really great demos and one
in particular which I sort of based this
on is this one called like squares to
circles or circles to squares I think
and it is a much more advanced
implementation of what I just showed you
where all of these circles are actually
dynamic hero transitions which is really
cool but involves a fair bit more code
so once you feel like you understand the
original hero animation go check this
one out go try it out and and and see
how you do but now you know everything
that you need to start creating some
really really sick animations in your
polymer apps so the next time you want
to add a really fancy animation to your
application you can just say hey there's
an element for that now if you've
enjoyed this video be sure to go down
and click that little subscribe button
that's actually how we get to keep
making these if you have questions
you're gonna leave them for me down in
the comments or hit me up on a social
network of your choosing at hashtag ask
polymer as always thank you so much for
watching and I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>