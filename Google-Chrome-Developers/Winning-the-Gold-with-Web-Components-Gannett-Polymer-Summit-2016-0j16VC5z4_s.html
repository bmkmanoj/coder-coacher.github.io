<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Winning the Gold with Web Components - Gannett (Polymer Summit 2016) | Coder Coacher - Coaching Coders</title><meta content="Winning the Gold with Web Components - Gannett (Polymer Summit 2016) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Winning the Gold with Web Components - Gannett (Polymer Summit 2016)</b></h2><h5 class="post__date">2016-10-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0j16VC5z4_s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the first thing you'll notice is that
why did they send the completely
opposite height people here it was
mainly to confuse the cameraman so they
have to zoom and zoom and so we're just
going to stand next to each other whole
time there's good I don't like to call
it short i like to call it vertically
challenged there's a lot of benefits of
being vertically challenged namely that
i can just fit in the trouser press at
the hotel just everything that's why I'm
dressed this way I can just go in your
trouser press Americans don't know what
the trouser presses but it's a wonderful
wonderful item because I hate ironing
I'm Josiah me can Josh ow I manage the
core web development team at USA Today
network and Gannett I'm a principal
developer also on the core web team and
we're super happy to be in London today
and we're going to kind of tell you a
story in being in the news we're all
about storytelling and we're going to
tell you our polymer story today and
it's going to be really exciting at
first though before we start I just
wanted to give another round of applause
for all the speakers so far because it's
been amazing and great so everyone just
absolutely amazing this is one of the
most practical conferences that I've
been to in a very long time and we've
just learned so much and you'll see
you'll see thing we're going to be
taking things back to the states and
implementing all sorts of things that
we've learned here and I hope you will
too if he didn't already could tell that
we were Americans that that kind of
gives it away too yes this is USA Today
which is the flagship of gannett and I
was told I needed to put that on there
we wouldn't be cool so it was a quick
last slide edit use the platform yay uh
hahahaha great yes yes we definitely use
that platform and you will see a little
bit about kineton USA Today national
coverage through our like I said a flag
shaped paper us saturday but we also
have over a hundred local newspaper
brands sharing the complete same
framework we engage the entire country
kind of local bubbling up to national
and national spreading out to local
which is really really interesting we
scale as a big thing here we have over a
hundred and ten million users engaging
in our digital platform every month we
have over 500 digital products at
gannett and we our products reach forty
three percent of the internet population
and it's amazing it's also really hard
because scale and stuff 1.1 billion page
views on articles and news articles per
month there's just a little graph
showing you we're also own news quest
with a parent company of news quest here
in the UK as well we own a lot of
different things across not just the US
but the rest of the world too and you
also get josh is going to talk about
what our current platform and what our
platform on web components is josh take
it away so currently we we have our own
CMS system and that publishes out to
couchbase and we have like a REST API
layer in front of that and then all of
our products consume that REST API from
native with watches and TVs Android iOS
and also our web products so we do
adaptive delivery between two different
code bases for web so we have a desktop
code base and a mobile web code base now
let's just deliver a very lightweight
mobile website and a big heavy sp-a for
desktop and we have some modularity kind
of built into this system but it's very
much limited to / kind of experience so
articles have a module system the front
pages have a module system and the
module systems differ
between mobile and desktop so it's not
really as great as the modules that
we've been hearing about a week and
that's kind of what we want to move
towards as better modules both of the
web front-ends they're built built on
python django and then the front end is
backbone jquery and require so it was
very modern when it was built back in 90
in 2012 but yes but in the 1840s 1840s
when we all you can go for the very
first time but this is 2016 and this is
a very tightly coupled client-server
s.p.a so it's not really a great and
experience any more as a sample of like
what our mobile experience looks like
and so beginning of this year we started
moving towards thinking about how we
could kind of make this better for
development and better for our users so
we started looking at implementing a new
framework and we started the planning
and spring started rebuilding a little
bit in May and June the big reasons we
want to rebuild or get these new
progressive web type features and get
those out for our user so they have a
better user experience and it's also
kind of for developers because we all
like to play with new things and it's
great when they also benefit our
business and they benefit the users we
also wanted the ability to support
multiple sites and experiences like just
I was saying we've got lots of different
properties that are local that range in
size from smaller newspapers that are
just for little tiny communities to
bigger ones that support big cities like
the indianapolis star and a couple other
fairly large papers in detroit arizona
and so they've got a very different
experience between those bigger sites
and the smaller sites and there's an
even bigger difference between those and
the national paper USA Today but right
now they all kind of use that exact same
web framework so it makes it hard to
build something very custom per site
they get a little bit but it's not as
great as it could be we also need to be
able to support multiple distributed dev
teams those bigger papers have their own
developers and they're building great
things for their little local markets
but they have to kind of
build into this big codebase that's
getting shared between everybody so when
this little module gets built for
Detroit it's also in Arizona and it's in
often USA Today and other places too we
also wanted a faster more agile
development process that code base
that's been growing since 2012 or the
1800 1800 feels like eighteen hundreds
often you know it gets kind of big and
it becomes a little clumsy to develop on
it and becomes harder to test it harder
to deploy it because the bundle just
keeps getting bigger so that's what we
were trying to move towards in June we
started building the back end of our new
framework which is go which is really
cool but we won't get into that whole
part of this and then we started
building our first project on it and
just I was going to tell you a little
bit more about that so we jumped
headlong into polymer and the first
experience that we built out with
polymer ever we said oh maybe we'll do
something in small not that big of a
deal no we're going to build the whole
Olympics experience with polymer and
that's what we did we couldn't jumped
into the fray and said you know what
we're where this is going to be our
proof of concept is our Olympics
data-driven experience and and this was
kind of a summary of the project and
then I have some some shots of it as
well do we just needed to display data
driven data from the 2016 Rio Olympics
all the kind of data is coming about the
schedule about results as we results
would come in country specific things
metal counting as metal awards were
coming in and then deep dive into
athlete biographies we also because
we're news organization were writing a
lot like about all the interesting
things that happened in Rio during the
Olympics we're writing a lot of stories
generating a lot of content photos and
videos and that was also a part of sort
of recirculating that through this very
data-driven experience and once again
this is something that needs to be
available on the domain name
of all of our different properties so
not just usa.com but available through
indy star through the democratic
chronicle com and the framework needs to
know the context of what site attend it
one of the things we don't do right now
is we don't actually have any was really
it's not a responsive site USA Today or
whether the rest of the sites Josh
mentioned that we were doing adaptive
delivery with device detection so this
is our first real big responsive
experience with a focus on doing mobile
best mobile first and we'll show you
what that looks like so here's our
schedule page and the thing about data
about the Olympics is that there's a lot
of it there's a lot of debt that are
coming in a lot of different ways a lot
of results that are not necessarily you
know exactly what the results in the
data types that are coming back right
you know it's not it's very different
for especially for the different sports
we have our metal oh look America a lot
of metals on that one here and and then
our athlete BIOS and this is just a
really small chat snapshot of all the
various data points and then filtering
through and just knowing more about a
country knowing more about an athlete
and then i just i mentioned mobile and
mobile performance is key for us and you
can see just sort of that complex data
here being being rendered nicely in our
mobile experience a little bit more
about the project here is the fun part
you can't move the opening ceremonies so
we had 30 days to build out this site
and this experience you know we we test
sold that you know let's add more
manpower to a late software project i'm
sure that it will you know it'll make it
it'll make it fine and and so we tested
that in this limited real-world example
with oh yeah newly hired developers you
can see where this is going i can tell
it's the the hurdle the hurdle jump it's
a no but it's a good story it has it has
a good ending strong existing web tech
skills though
based on this new team which is an
amazing team it's it's full of riot
people right out of college actually
junior devs right out of college but
they had really really strong web skills
the overall experience though there was
a lot of juniors and it varied
everything between juniors to two
principle which that plus 30 days plus
brand-new polymer framework was like
this is going to be fun so we had a lot
of coffee though in order to in order to
fuel we actually bien roast like Josh
she was talking about earlier we're
roasting around coffee to fuel how many
of you guys turn coffee into code here
we see some hands how many of you turned
tea into code we'll talk later part of
this was changing the way not only our
development team was thinking about
coding thinking about changing from this
page driven way of developing 22 web
components but was also educating the
rest of the company the rest of our
department into thinking in web
components starting out from you know
moving everyone from oh here's a page
and here's what go on a page you think
about modules to think about component
izing to autonomy making atomic elements
for our design it was encouraging
standardization we had we at first when
we talked about modules we had a lot of
modules that basically did the same
thing but had slight variations and and
what we wanted to do is we said now
let's make this work everywhere this
puzzle piece this Lego wat can fit
everywhere so let's create let's create
better standards and not here's what a
page whoops here here's what a page
looks there for you x and IA it was you
know grouping content based on on data
source and because there was so much
data and all those different components
were retrieving their data from
different sources and doing different
business logic for that data it was
really really important that at least
for us in our small time frame
that we group things by similar data
sources otherwise it the context
wouldn't flow right and it made it a
little bit harder to develop from our
project managers our product managers to
even our QA it was testing and planning
these features these individual modules
instead of full page testing full page
QA and just even writing tickets about
the stories about planning it was all
modular based component-based and not
here's this page and here's that page
and then this conference is talking a
lot of developers about thinking and web
components for our development team a
big part a big win for this and how we
did spoiler alert deliver in 30 days the
division of labor was really important
we could have some people working in
this component some people working on
that component and that was able to play
developers individual strengths meaning
someone who's very very very front end
focus could do a lot of the styling and
could could help you know others that
weren't with the styling and we had some
more data-driven individuals who are
connecting all the you know the complex
pieces of data from different places all
together so that division of labor
played a key role how that looked to was
there was some interns that we had for
the summer and we were able to throw
them on just modules where they didn't
need to really know about the Olympics
and what was happening or all the
complex data that was going on they
could just focus on this little one
thing here's a story recirc that you're
building and i can just focus on that
and i don't need to all the noise that's
going on around me because there was a
lot of noise but that focus helped us
meet the deadline with that division of
labor which was just awesome and we're
able to do that not you know beyond the
way that we're doing before in the
platform that we're doing before but
taking advantage of thinking in web
components josh is going to talk about
all the wonderful hurdles that we
experienced in in this wonderful project
yeah so like any big project we faced a
lot of hurdles our approach was really
to just be as agile and flexible
impossible
with features and how we were kind of
approaching the project because
otherwise there was no way we're going
to meet the deadline so the first hurdle
we really faced was the schedule as
we've said 30 days to build it so the
first thing we had to kind of rethink
was how we were going to do a typescript
integration so when we started planning
out our front-end framework we were like
oh we really like typescript we really
want to use this with polymer so we had
these great ideas for how we were going
to try and do it but getting that
integrated before we started doing all
this development just really wasn't
going to get that developer experience
where we wanted it we end up kind of
going with a bit of a hybrid approach
where some of our developers were just
building plain vanilla polymer elements
and some were doing with typescript with
the kind of a code behind approach so we
did one file for the JavaScript one file
for the polymer element and then just
use a script tag to link over to the j s
version of the typescript file and that
way we're able to do some coding and
typescript and get the benefits there
but the downside was your now coding in
two different files so you're jumping
back and forth in your editors and it
really wasn't a great experience it also
caused us some other problems that I'll
touch on later we also just kind of
eliminated how much packaging and
fallbacks we were doing so it would be
great to be able to say we did all this
great support for legacy browsers and
all these great different approaches to
you know HCB to and whatnot but yeah we
didn't get to that so we just kind of
limited we focused on modern browsers we
focused on supporting the browsers that
we knew that the majority of our users
were on and just focused on building the
best experience we could for our widest
audience we also kind of delayed this
system Jas and JSP M integration that we
had planned so this was another feature
like the typescript that we had these
great plans for our framework where
we're like oh we can do all this great
stuff to support third-party jeaious
libraries that maybe somebody's going to
want to use and we realized well we
don't need third-party JS for anything
we're building in Olympics so we don't
need to build this now it's something
we've put in there now in our framework
that we're kind of working on
we'll touch on that a bit but we found
we really didn't need any other
libraries we were able to just use
polymer for this so our next hurdle was
performance we were very new at building
polymer so he made some of the same
mistakes that we've heard from some
other companies that they made when they
first started the first one was too many
components we jumped in head first and
we said we want to build everything as a
module so many components here's all yes
yes lots of components components for
everybody and that ended up with a
really slow page because we had
thousands of components on the page kind
of hand in hand with that is our
components were too complex so we just
made these gigantic components and you
saw from the low video there's a lot of
data on that page and there's a lot of
low variations on it so there were a lot
of Dom if statements controlling whether
it was showing a match up or if it was a
something like boxing or something like
a 100-meter dash where you've got ten
people competing at the same time you're
going to have little differences in how
you're displaying that data so those
complex things ended up slowing us down
and we had to kind of go back and watch
some polymer videos from last year
summit figure out ways we can improve
things and after you know just spending
a couple hours were able to improve the
speed of some components by over 10
times and was we were able to get things
really good and get the performance to a
place we were really happy with but when
we first built some of the very first
components we were a little nervous just
because of how slow it was but that was
because we hadn't thought about
performance at all and so it just kind
of is saying that you know when you're
building stuff you do have to think
about it a little bit if you can't just
go out and build everything as
components and build them crazy complex
and expect it to be super fast but if
you do it right they are super fast than
they are awesome the last thing was
flash of unstyled content which was as
things were loading in we initially
weren't doing much to do anything about
it and so the page looked really funky
so we just put some basic styles in that
focused on like the navigation the page
structure and that helped get the page
look a lot better as the
content was coming in the last turtle we
face was testing partly because of that
schedule we didn't really get to have a
testing framework in place and we kind
of pushed off a lot of the testing
towards the last minute which meant we
ran into some CSS things that we
probably should call it sooner mainly
around flexbox because this was our
first time really using flexbox
drastically across all the stuff we were
doing and so we found all these little
variations between different browser
manufacturers with how they implemented
various features of flexbox and so we
had some really weird looking pages at
first and it took a little bit of going
back through the CSS and making it
standardized across browsers also with
JavaScript compatibility this is where
the typescript integration kind of hard
us a little bit because we started using
es6 features that aren't cross-browser
everywhere because we were using them in
our type script code and then you would
switch back over to a plain vanilla
polymer element and you start typing let
you start using arrow functions because
you're so used to doing it but then some
other browser would say hey I don't know
what let means and now you've got a
compiler or a javascript error and your
component doesn't work so that's where
like switching back and forth between
typescript and vanilla JavaScript really
wasn't a good idea the final thing was
htp to delivery this was also the first
time we had done anything with hcv two
and having the whole site on SSL so we
ran into some issues where we thought
okay we've heard all these talks about
how great hp2 is let's just throw it on
push all of our resources and things
will be awesome and fast not always the
case there's a lot of times where you
don't want to push resources and there's
times where it's better to preload them
and we hadn't thought all those things
through and so when we first launched
there was a lot of stuff that actually
could have been faster if we weren't
pushing it we found those things out
post launch we were able to fix it now
but that was something we're more
testing and thinking about you know a be
testing forth performance and saying is
this feature really going to make us
faster or is this actually going to slow
us down even though we've heard it's the
great thing to do
so now just lie is going to tell us a
little bit how things turned out so let
the games begin one of the other
interesting things with onboarding
basically in a new team for that matter
into a new framework was the strategy
for us and building out a platform on
web components was not to use a
monolithic JavaScript framework and
keeping on anything that was framework
II very very light and slim and really
just playing up to two components you
notice you'll notice that in like in
that video and another one that I'm
going to show in a second that it's not
it's not really SP a driven it's not
really it's not actually using kind of
the app shell stuff which is very
interesting it's still multi-page kind
of loading which I'll talk about a
little bit more in a second thankfully
deploying iteratively saved us we've
been moving away from these really
really long deployments where it took an
hour two hours to really moving more to
a continuous integration approach to
delivering these web components and
these pages that were had web components
on them we're also able to launch with a
subset of features because you know they
weren't awarding any medals right away
on the opening ceremony but we start
with the schedule because the schedule
was really really important so we're
able to do kind of subset iterative
delivery in order to meet our deadlines
we so we're adding additional modules as
the games were going on and as you know
the games began so you can see that over
here in this quadrant up in my up this
upper right-hand corner that we went
from sort of this just recirculation
experience to adding our metal module
there so we could get you to more
data-driven page and Olympics data is
just part of the difficulty it was it
was so tricky and very inflexible a
boxing in some of the fighting sports
they award two bronze medals it's like
wait wait 22 what what why I thought
everything was gold silver bronze two
bronze medals than in swimming
apparently you can have three silver
medals because
makes sense to a data scientist and it's
like ah so there was lots of challenges
there with the data but we were able to
overcome them because of doing things
iterative lay and just you know that the
team was working with something that was
in general easy to onboard and and was
not difficult to work with so back to
performance because it was a hurdle how
did we do did we win the golden win the
silver did we win two bronze medals I
don't know actually I do so haha how did
polymer perform against our existing
baseline infrastructure of usatoday com
and what we've what we've built in what
we've been using for for many years now
and so with the average page load
roughly was equivalent to our current
platform you can go on you set you
saturday and you can check out what you
know what that kind of speed is but keep
in mind this is without any time devoted
to performance tweeting at all because
there was no time to do performance
tuning we were up in your 30 days and
that was it so that we just by using
polymer and in building this experience
out we were able to get roughly where we
are with our current platform so our
audience reach this is really really
cool we this this and the rest of our
Olympics reporting that we did actually
raise USA Today Network the entire
network up to a number 24 comscore's
news and information category across the
nation and we just had amazing numbers
coming in 116 percent increase from our
2012 Summer Games and our data driven
experience was a core part of that as
long as all the all the interesting
stories and reporting that went on
during the real Olympics so I want to
spend too much time on this because it's
the e-word elections but they're coming
whether we like it or not it's happening
but guess what we did we did it again in
another 30 days we were like this is
insane and this was pretty insane let's
do it again and and if we did to get but
what's different this time based on what
we learned before you know we had more
thought into module composition how
we're making modules not putting Dom ifs
everywhere and you know using Donna's
properly things like that optimizing we
this is our chance to optimize our
loading are cashing the preload and push
and the ACP two things that we were
talking about earlier and then you know
from a mobile performance standpoint it
was part of our platform is you know
maybe you don't need every single module
loaded on your mobile experience maybe
that's kind of a subtractive experience
and you have a lighter page load
delivered there and so that that
experience which is it's kind of a sneak
preview looks something like this we
have a nice map load Dan and we have
data from from key races that are going
to be you know battleground states this
year let's check on let's google
california so it's let's see specific
state outlooks race ratings pull
averages and and I guess we can I mean
we could change you know the data to
make out there just elements so you can
go in there and tweak it but yeah we
could make anyone win right that we want
I could really change it but I mean you
can make it whatever you want is a great
thing about web components adestria
changlin and all of a sudden I'm winning
and it's it's it's great which might be
better than the other options / it's all
the time we have for you today that was
our 30 day and then really another 30
day march with the power of web
components on our side being able to do
the impossible with a brand new team who
had never worked with web components
before which says a lot about both the
enterprise readiness of polymer and
about that onboarding developer
experience thank you so much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>