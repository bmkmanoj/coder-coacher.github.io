<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Authentication with Firebase -- Polycasts #57 | Coder Coacher - Coaching Coders</title><meta content="Authentication with Firebase -- Polycasts #57 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Authentication with Firebase -- Polycasts #57</b></h2><h5 class="post__date">2016-11-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SkhCs-IDgS4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone what's up it's Rob welcome
back to the show so I got on Twitter
recently and I asked folks what would
they like to see in upcoming polycast
and kind of resoundingly a lot of folks
said they want to see more firebase so I
thought it'd be cool to kind of kick off
a multi-part series where we talk about
how you can integrate polymer and
firebase together into your projects so
today what we're gonna do is just get
started we're gonna set up a very simple
firebase project and we're gonna do some
firebase authentication so follow me
over here to my laptop and the first
thing I'm going to do is I'm going to go
to consult firebase Google com you'll
want to have a Google account already
that you can sign into so I've signed in
to my personal account here and I'm
going to create a new project for my
firebase app and this is going to let me
do all sorts of really cool things I can
do you know hosting with firebase I can
do database work with firebase
authentication etc I gotta give it a
name so I'm just gonna call this you
know Polly fire or something like that
and we'll create that project firebase
will go off it'll think for a second the
hamster wheels are spinning up Polly
fires getting created and released into
the world okay cool
after that's done you're gonna see a
dashboard that looks kind of like this
and there's a bunch of options and
things right here it can be a little bit
overwhelming but we're gonna start off
really really small and the only thing
we're gonna really deal with today is
authentication and so what I want to do
is click on this authentication tab and
it's gonna ask me up here at the top
what sort of sign-in methods I would
like to allow in this app now being a
Googler
I gotta represent so I'm gonna enable
Google sign-in and we just flip this
little switch and click Save and what
this is gonna let us do is anybody who's
got a Google account will be able to hit
a sign-in button and sign in through
that account in our firebase app the
other thing that we need to do is we
need to go over here to our settings we
go to project settings and we're going
to need this this Web API key that I'm
copying here otherwise our
authentication will not work
copy of that okay so I think that's
basically everything we need in the
firebase console there's a ton more that
you can do here we're gonna cover that
in some of the future episodes but for
now we're pretty much ready to go with
just the the default setup so the next
thing I want to do is switch over to my
command line and I've already gone ahead
and created a a directory to hold my
demo application in firebase also
provides a really useful set of command
line tools that you can install that'll
go ahead and like scaffold a project for
you so if you don't have those installed
already you can do NPM install - gee
firebase - tools that'll go out fetch
all that stuff set it up for you so
you'll now have a firebase command
I already got those installed so you
know to watch me do any of that so what
I'm gonna do is I'm just gonna run
firebase in it and it's going to put a
very rad emoji on my screen and that's
gonna ask me some questions about what
sort of firebase features I would like
to have in this project
firebase provides a real time database
which is awesome and we will be using
that so we'll leave that checked and
then we've got firebase hosting and that
lets us basically just do you know
hosting of static assets we can host our
entire site on firebase if we want so I
will leave that in there as well
well hey inner it's going to ask us what
project we want to associate with so
since we just created that one called
Polly fire here I'll move this up a
little bit it's a little easier to see
so we will associate with Polly fire
what file should be associated with the
database we'll just use the default
value their database rules JSON what
directory do want to use will say our
public one and then it's going to ask if
firebase should sort of configure its
local server rules to direct everything
to index.html so if we were building
like a single page web app I'm gonna say
yes I would like that feature because
that's pretty cool and at that point
it's basically done and if we go ahead
and we open this up in our code editor
we'll see that this has started to kind
of scaffold some things out for us so
I've got these you know like firebase
JSON firebase RC file that you know
points to my project name stuff like
that this is all just configuration to
make firebase work what we're we're
mainly going to be working with today
though is this public directory so this
is where our our code is going to live
the other nice thing we can do with the
firebase tools is we can start up a
local dev server so we'll say firebase
serve
it's actually going to look at the rules
that we have in our firebase JSON there
that tells it to serve our public
directory so we can then just open up
localhost 5000 and you'll see a page
that looks like this letting you know
that you know your local instance of
firebase is working cool all right the
next thing we want to do is we want to
go ahead and install polymer and we want
to install polymer fire which is a set
of polymer elements that work
specifically with firebase so because I
want everything to live in this public
directory I'm actually going to create a
bower or C file so I'll create a dot
bower RC file so dot our RC and I will
use this to tell Bower to install all my
stuff into that public der so I will say
directory is public slash bower
components cool and then in my terminal
our image
yeah it'll ask us a bunch of questions
about our project we just use the
default values that's fine and then we
will our install save we definitely want
polymer polymer we're gonna want a
firebase slash polymer or fire and we're
gonna want polymer or elements slash
paper button alright
so that's gonna go out and and fetch all
those resources and dump them into our
public directory finished pretty quickly
which is good and now we're basically
ready to start building our app and
remember the goal of this app is to
basically have a sort of a simple
sign-in flow for the user so all I'm
gonna build today is a button that when
you click on it it'll sort of take you
through the OAuth flow for for Google
sign-in and when the user is actually
signed in it'll just like display their
name on screen that way we know we at
least have something working there so
let's go into our index.html file and
there's a bunch of code here that that
firebase sort of set up for us that I'm
just gonna go ahead and delete because I
don't really need any of this stuff so
we'll get rid of that we'll get rid of
everything in the body and make this a
little bit bigger well rename this
firebase author something like that and
because we're using polymer because
we're building kind of a polymer app I'm
gonna start off by creating just like a
my app element that can sort of like
hold all of my logic so I'll have a my
app element here
I'm going to make sure to include an
HTML import for that so we're gonna ask
for my app HTML okay and inside of this
my app element I have that we're gonna
want to import some of the polymer fire
elements so let's go check those out
really quick so we'll go to beta web
components org this is the new catalog
where you can find all sorts of
interesting custom elements the ones
that I am looking for are called polymer
fire so go check these out so this is a
suite of elements created by the
firebase team specifically for polymer
and you can see here that basically what
we want is this firebase app element and
we're gonna combine it with this
firebase auth element so when I Bower
install these I got both of these
already but you can sort of see the
signature for how these work here I'll
bump this up a little bit so you can
read that lets you create a firebase app
element basically tell it about your
domain you give it that API key that we
cat copied earlier then you create a
firebase off element and that'll tell
you when your user is signed in or not
right so far so good
so in our my app element over here I
basically want to create an element
that's going to hold that firebase app
element so I got some code here that
I've already written kind of stolen from
another project and let's go through and
we'll update this a little bit I can can
explain what's happening so I've got a
Dom module from my my app element I got
this firebase app element inside of here
and I want to give it the domain for my
project so if we go back to firebase so
we go back to the console we look at our
project settings what it actually wants
us this project ID right here so it says
polymer fire or poly fire 11 D 42 so
that's what we're gonna use so are often
made is going to be poly fire eliminate
42 our database URL even though we're
not using it yet we can go ahead and set
that up and then our API key is gonna be
that one that we copied get rid of that
and we'll drop in API key that we copied
it there and the last thing I'm gonna do
is I'm gonna have this login element
that I'm going to create but essentially
this is all that my app is gonna do for
us it's going to
up the connection to firebase app and
then it's gonna have a little login
element that will sort of like toggle on
and off so let's go ahead and create
that create a my login HTML so again
I've got a little bit of code that I'm
just gonna steal and drop in here just
to start to scaffold out my login
element well what I want to do is I want
to make sure that I am importing the
firebase app elements I'm gonna steal
this link tag here I don't have it in
any of my snippets now that I'm using
Visual Studio code it's making me like
the world's slowest developer so if
anybody wants to create a visual studio
code snippets package for polymer I
would I would totally be your best
friend but what we're going to do is
we're going to import bower components
slash is it polymer fire I believe
polymer fire slash firebase - alright so
polymer fire slash fire base - auth dot
HTML and we're also gonna pull in the
paper button alright so I'll have a
paper button button HTML uh-huh uh-huh
oh it's looking good
instead of our template I'm going to
drop in a firebase auth element this is
the basic signature for a firebase off
element I want to give it an ID because
I am going to need to reference it in
JavaScript a little bit and then it's
got a user property that we are going to
expose to the outside world using this
binding so we're just gonna have a thing
called user it's also got this value
called status known which could be
interesting it's a boolean that tells
you whether or not you can you like
assert the presence of a user and
whether or not you're allowed to sort of
like check the user object so I'm
including it here I'm actually not gonna
use it in my code today because I'll be
100% honest I'm not entirely sure if I
need to use it in my code but I am
including it here just so you know about
it maybe in the next episode we'll
discover if it's actually useful or not
I'm just gonna drop it in there so it's
on everyone's radar and lastly we have
this provider value which I'm just going
to set to Google because if you remember
we went through and when we were in our
dashboard we set up the authentication
method as sign-in with Google the next
thing we need to do is we need to drop
in some paper buttons here I'll close
the sidebar so you can see this bit
easier so kind of paper button here it's
it's raised so it'll have a bit of a
drop shadow and when the user taps it
it's going to run a login
and I've got this little thing that I'm
doing here where I'm hiding the button
if there is a user present so if the
user is already signed in let's not show
the sign-in button right and I've got
basically the exact same thing going
down here for this other button this
will be our log out button and we just
sort of flip the logic so if there is
already a user then let's display the
log out button and if there is not a
user will display the log in button
right cool so far so good
let's also add a little bit of script
here to define our element so we'll say
this element is a my login element and
for the properties we basically want to
expose this user property so say user
let's see which is an object let's see
we also want to have that status known
property so status known and that is
also going to be an object okay and now
I want to implement these login and
logout methods so these should be pretty
straightforward we're basically just
going to use some of the API is that the
firebase authentic spose --is for us so
I'm gonna just go ahead and paste some
code in here that I are already copied
and what we're gonna do is we're going
to use the ID of the auth element so
remember when we say this dot dollar
sign that's polymers way of saying
reference this thing with this ID so
we'll say this dot dollar sign dot off
sign-in with pop-up and and that method
basically tells the auth element to open
the OAuth screen and ask someone to sign
in using Google for the logout method
it's basically just call sign out using
that right the last thing that I want to
do is I want to add just a little
template here that will toggle on and
off when we have a user or not and it
will display that user's name just so we
can verify that the user object we get
back is is correct so I got some code
I'm just going to paste in here and yeah
so I'm using a Dom if I'm checking if we
have a user already and then I've just
got an h1 where I'm just going to bind
through the user's display name alright
so I think we're pretty close to having
where we want it let's just double check
all of our imports here we don't want to
have a white screen of death that does
happen from time to time so everything
in my login looks good in my app we need
to make sure that we are importing my
login so let's do that let's go back up
here so we will pull in my login HTML we
are also going to want to pull in that
firebase app element so polymer or fire
firebase app all right and then in our
index file we are pulling in the my app
element so my app contains firebase app
and login and then login contains
firebase loth let's cross our fingers
and see if this works on the first try
we will run the provided firebase server
I know sometimes we use a polymer CLI to
serve things but you know right now I'm
just doing everything with the provided
firebase tools we're following their
project structure and everything in a
later episode I'll actually show how to
integrate both polymer tools and
firebase tools but for now let's just
use the firebase server and it'll tell
us that the app is that localhost 5,000
so copy that drop that in here to the
Chrome's I see I have a sign-in button
there let's zoom in a little bit so you
can see that clicking on that should
give me an OAuth pop-up mmm it asked me
to sign in and I sign in and then boom
it says welcome Rob Dodson lets me know
that we have a user object and if I want
I can then sign out and start the
process all over again
so that about covers it for today we've
now got kind of the basics of setting up
firebase and setting up firebase
authentication in our project there's
still a lot more to talk about but I'm
gonna save that for the next episode so
if you have any questions as always you
can leave them for me down below in the
comments or you can hit me up on a
social network of your choosing at
hashtag ask polymer as always thank you
so much watching and I'll see you next
time
hey there polycasters what's up if you
liked this episode and you want to see
some more you can check them out over
here and also be sure to click that
little subscribe button thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>