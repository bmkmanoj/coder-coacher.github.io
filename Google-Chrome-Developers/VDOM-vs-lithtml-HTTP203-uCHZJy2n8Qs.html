<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>VDOM vs lit-html - HTTP203 | Coder Coacher - Coaching Coders</title><meta content="VDOM vs lit-html - HTTP203 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>VDOM vs lit-html - HTTP203</b></h2><h5 class="post__date">2017-11-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uCHZJy2n8Qs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">but yeah so part of my something
happened it was because I recommend
everyone to watch all the videos in the
talks as even their supercharged there
is a super job as you say so myself
yes you were involved I Monica was
involved yes even I was involved you
were they let you on stage again yes
that's very good I one of the talks I
really liked opponent some it was
Justin's yes and he was talking about
lit HTML like yeah and I really spoke to
me because he wrote an out like he wrote
basically a V Dom alternative or a
different take on you know him and I've
been playing around with the video had a
lot basically because of tasks LEDs that
we talked about in the last contest
which hopefully everybody has listened
to you wanted you wanna do like an
American TV show previously previously
they should meet you all for announced
about because my voice so it's just it's
immensely that was really good actually
say I've been looking into V DOM and it
took I heard about a video Milan and I
knew basically what it did that you had
like an alternative in memory
representation of the DOM and if you
change something it would just create a
completely new version and then find out
the differences but I never realized
that is a solution to the data binding
problem if you look at polymer usually
like annotate this attribute should
always have the value of this value
variable that I have in my state right
right and whenever changes there's some
magic going on that realizes oh this has
changed I should therefore also update
this attribute in the Dom yeah and I'm
very a little bit especially when it's
two-way data-binding magic if you look
at the implementation and I just never
understood it and it's like mutation
observers but also you create magic
getters and setters so you can hook into
the mutation of the variable and if
either of the sites change you have to
do all the piping and it is not easy to
implement a proper two-way binding thing
and then vom comes along and Bezier says
don't worry about the two-way binding
we're just gonna like re render the
entire
tree as an object and figure out what
changed for you right and in terms of
algorithm that is simpler you don't do
like you're really good dipping
algorithm that's not easy but in terms
of how it works it's easier to
understand and I never realized okay so
V DOM is a solution to the two-way
data-binding thing right it becomes very
one way and then on the other he would
use events to bubble up changes back
into your state and it kind of makes
sense but I own then after understood
that I thought about it more and more
and I was like this is once again
developer experience / user experience
right because it is a great developer
experience because like that sort of way
you're read eclair in the world every
time it it sorts out a lot of state bugs
if fairly small library if you look at
pre active three kilobytes nice tiny and
it does all these things plus components
and other stuff even but also it
completely neglects the fact that if you
have a decently sized document with a
couple let's say a couple of thousand
Dom nodes right there sort of Tiffin
going on that is completely unnecessary
because you as you ever know that the
big portion of your document is static
and doesn't change right and you pay
that cost per note not per change yeah
so V Dom I guess the V Dom update or
render fork all scales with how big your
document is yeah to some degree and
there's there's also like should
component update which is your song get
out of like yeah like if there's a large
part if there's a large part of the tree
that doesn't change then you can in the
salt reactor world sort of avoid redoing
the work there so we've got this this
virtual Dom idea that react uses which
where you're paying the cost roughly per
node that exists whereas lit HTML and
hyper HTML which which is a does a very
similar thing and I've been looking at a
Justin either do out hyper HTML as one
of the inspirations for allocation oh
cool
Oh excellent so they use tag template
JavaScript string literals is that right
some of those words maybe not in that
order is the thing right I think you're
right but I think I want to also have it
as a shirt
so so the the benefit of using so you've
got your HTML in the sort of string part
of the template which is a very common
pattern to have if you have your custom
element you want to have your shadow
root markup for example or just some
styles or something in there as like an
HTML string one more time which is what
J's X does in one way or the other
and this one is basically without the
J's X precompilation bit right and
instead using the HTML tag template
string literal literal so and one of the
benefits of that is that it knows that
the the string parts of the template do
not change no because what you use is or
the the thing about tact template string
literals is that these are the things in
case people don't know the back takes
the new back take strings in JavaScript
our template string literals yeah and
you can tag them by putting a function
name before that and that means that the
JavaScript parser will bisect dissect
the string into the string bits and the
bits where you insert delay did all our
curly braces things to put values in
there right and then you don't have to
like put the bitters directly we can do
some some processing on that first yeah
and what Justin does is that he
generates a template tag the actual HTML
template tag mmm and replaces your
interpolation variables with something
with the placeholder right so he
basically remembers in the template tag
where values can mutate and that means
whenever you change a value he doesn't
have two div the entire tree but already
knows where to jump and where to compare
yes and that makes a big difference yes
a hyper HTML by Andrea J March is
implemented very similar like it's even
if you've got that interpolation bit in
the middle of a you know a string in
middle of a text node I think what
Andrea does is actually at compilation
time inserts a comment in there that you
can then go and pick out and then
replace that node with whatever you like
so you want it didn't know I think
Justin just does it with some text and
goes it's a separate text node but I'm
not a harvester but most of the time you
just have
of two operations either you set an
attribute or you replace a Dom node in
the template yep and it's the two
operation gigantic extended you have an
extension API parts API he calls it
where you can don't have to actually
supposed to be a property or an event
listener and right yes but at its basic
level there's only two parts which is
attribute modification and note
replacement I played a little bit with
hyper HTML you played with it I think
it's it's an extreme one I feel like it
could be the next move of what what is
the thing on the web where it's it's
it's a very nice middle ground because I
always did the manual I just write a
custom element I know what things I need
to change and we'll just mutate them
manually with query selector and just
setting the things and this is the
getting most of the developer experience
without paying as big of a performance
cost as with a pure V DOM they're
getting approach absolutely and that was
really really nice mmm the whole my
teacher the almighty Jack that's a good
wrestling name I like that the only
mighty jank like walk since we're gonna
just freezes while the other guy just
walks around take a share from the side
this goes it's even and it just falls
over it just didn't doesn't it - yeah</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>