<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Supercharged: Jai's Web blog (S1 Ep4) | Coder Coacher - Coaching Coders</title><meta content="Supercharged: Jai's Web blog (S1 Ep4) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Supercharged: Jai's Web blog (S1 Ep4)</b></h2><h5 class="post__date">2015-11-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Q-nxiBNxCA4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to supercharged I am
poor this is the show where I take the
websites that you've submitted and I go
through them and look for performance
issues and I try and figure out what
they are and how we can do a better job
so today I have a giant weblog he's a UI
engineer at Flipkart and a nexia who
Liam and when I saw this site I thought
mmm there's an interesting thing here
not the page load which we normally do
but actually this side menu caught my
attention because I thought that Jencks
a little bit when it comes out on a
desktop and I wonder if it's just doing
something a little bit funny and what it
would look like on a mobile device so
what we're gonna do is we're gonna hit
chrome inspect like so I have my Nexus
device my Nexus 5 here plugged in and
what I can do is I can go and grab this
URL and I can pop it in here and say
open and it opens a new tab on here
which is magical and wonderful and it's
going to load up and I can do inspect
and it brings up Chrome's dev tools as
we know and love good and that means
that I can inspect what's going on on
the phone
in just the same way as I would on
desktop except that I also get this
additional feature which actually shows
me what's on the device so if I click on
this it actually happens on the phone or
I can click on here and it happens on
the screen it's magical I love that even
looking at what's on the phone I can
tell you that this animation isn't
running at 60 frames a second let's give
ourselves a baseline we're in the time
line so what we'll do is we'll hit the
record button like so and I will hit
that button over there on the phone and
you can see
yeah goodness okay so it's just about 60
frames a second sometimes and towards
the end there it's shooting off the top
this rasterize is what's that's 72
milliseconds I'm holding shift here as I
click drag and that gives me a time
range so 72 milliseconds for an
animation like this we want to be 16 so
what's that that's about four or five
times
1012 frames a second roughly let's
figure out why we're doing an animation
that's so slow right the way to do this
let's switch off the device bit actually
not sleeve it on why not
we're all friends here ah okay so the
straight way actually on the body there
is a class of nav open which feels like
it's something that's relevant to our
interests yes okay margin left now I
know from other work that if you do
something like margin left there we go
margin left changing margin left is
going to trigger layout it's going to
trigger paint and it's going to treat
composite all three tasks are quite
expensive for us to do during an
animation what we want to do is if we're
animating we want to just stick to
composite operations so we can do that
we're just by using say a transform and
in this case a transform of the whole
body would actually work really well
rather than using margin left so what
I'm gonna do is I'm gonna go back check
out CSS triggers calm I mean I built it
so I'm gonna you know promote it but
it's still pretty cool anyway let's have
a look we have dev tools open still so
rather than margin left what do we say
we're going to do a transform and let's
translate X 15.75 EMS we have a
transition which we're going to change
from margin to transform transform there
we go there is a WebKit version here and
the Marzano so you could do the vendor
prefixed version as well if you were
doing something similar to this and
let's see now if we switch on show paint
rectangles so with that in place does
that work oh it's still painting ah what
we need to do what we should do is since
we are doing a transform we should tell
Chrome in this case that we will be
changing the transform of the elements
in question so there's a green flash
there which tells us that it's just
promoted something to its own layer
I guess so now if we actually leave the
show paint rectangles on
yeah there's a green flash where the
button was which makes sense because it
probably got a selected state and now
let's go back to timeline let's record
again there we go we've gone from 1012
frames a second in some places to 60
there's a little bit of a jump there
which may or may not be something
depending on how we did but you can see
that we've we've hit 60 frames a second
we're in a really good spot instead of
animating margin-left
or any of the properties that would
trigger layout and paint we just want to
stick to things like transform and
opacity where we can fanimation and
certainly in this case we definitely can
and by doing that we've gone from you
know 30 frames a second dish all the way
up to 60 so take a look at your
animations see if there's opportunities
to switch out those kind of expensive
operations for the the easier cheaper
ones and hopefully you'll get a good
performance boost there too don't forget
to subscribe and I'll catch you next
time some mornings I get out of bed and
I'm just Paul Sundays
I am Paul master of the performance king
of the timeline</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>