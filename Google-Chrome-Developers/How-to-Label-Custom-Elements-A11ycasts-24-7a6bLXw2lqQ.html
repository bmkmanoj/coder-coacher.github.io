<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Label Custom Elements - A11ycasts #24 | Coder Coacher - Coaching Coders</title><meta content="How to Label Custom Elements - A11ycasts #24 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Label Custom Elements - A11ycasts #24</b></h2><h5 class="post__date">2017-09-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7a6bLXw2lqQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everybody what's up it's Rob Dodson
welcome back to the alley cash show
today I want to talk about how we label
custom elements and when I talk about
custom elements I'm specifically
referring to be the web component
specification though it's you the
developer create your own custom HTML
tags and custom elements are really cool
they let you make all these awesome
components but it's really important
when we do that that we also make sure
we're including all of the accessibility
and usability affordances that native
elements have so follow me over here to
my laptop and I want to walk you through
a little example so here I've got some
HTML and right now I'm just using native
elements so I've got a label tag here
and I've got an input inside of it just
a regular text field and then down below
I've got another label element and this
time I'm using the four attribute for
the label element to point at the ID for
this checkbox control alright so let's
go see what that looks like in our
browser so you can see renders as we
would expect now the the cool thing here
is we can actually go and look at our
input field and if we look at the
accessibility inspector in the dev tools
panel we can see that the name for the
element the computed accessible name is
username and that name comes from our
label control and the reason why that
name is important is because if someone
is using assistive technology like a
screen reader when they land on that
control that is what the screen reader
will announce to them it'll say user
name input text right and another cool
benefit that we get from working with
the label element is when we click on
these controls it will actually focus
them so if I click on the join
newsletter thing here it'll check or
uncheck my check box click on user name
it focus is my my input field and that's
really useful because we're effectively
increasing the touch or the clicked
target size for those elements so a
check box can be kind of small but you
know when it's got a nice big touch
target associated with the label it just
makes it easier to interact with now
let's look at this same example but this
time we'll use some custom elements so
over here I will go down and I will
uncomment this bit code here so here
I've got a a label tag and I'm wrapping
a how-to checkbox so this is how to
check box this is just a custom check
box that I created and we've got some
text next
which says click me so if we look at
that in our browser it renders as we
would expect and we can you know check
or uncheck the checkbox and everything
but let's inspect it in our dev tools
and you'll see that the computed name
for this checkbox element is empty right
and similarly when we go and we click on
this label field right here it does not
check or uncheck the checkbox not like
the built in element did so what's going
on here well the need of label element
really has no way of knowing that a
custom element is meant to be an
interactive control we don't have any
api's in the custom elements spec that
lets an author sort of like hook into
that behavior and so that means if
you're building a custom element and you
want to label it you're gonna have to do
some additional work now since there
aren't built-in API is the solution that
I've landed on is to just go ahead and
build my own custom label element that
works a lot like the native built-in one
but also knows how to work with other
custom controls so follow me back to my
laptop and I'll show you what I mean by
that so here I've got a little div and
we will uncomment this and inside of
here you can see that there is a how to
label element now along with our how-to
checkbox and so if we go back to Chrome
and we see this in action it renders the
same but the important bit is when we go
and inspect our how-to checkbox now we
can see that yes it does now have a
computed name coming from that label and
similarly we can go and we can just
click on the label and it will check or
uncheck the check box just like the
built in label element so let's look a
little bit at what's going on in our
elements panel you can sort of see how
this works so looking at our how to
label up here we can see that it
auto-generated an ID for itself and
looking at our check box we can see that
it's Aria label by attribute has been
set and it's referring back to you that
auto-generated ID so under the hood what
how to label is doing it's just looking
at any children inside of it it's
generating an ID for itself and it's
building this association using Aria
labeled by now if you don't remember how
are you label Aria labeled by works all
I'll include some links and down in the
show notes so you can get a refresher
there but basically it's just a way for
an element to point at another control
and say hey that control over there
that's where I get my accessible name
from there's other cool things that we
can do with a how to check box so if we
scroll down here and look at the
example we can use the four attribute
that we had with the the built-in label
so we can say four equals foo and then
we can point it at this other label or
this other element who has an idea foo
all right so it says give us some money
then I go and we inspect that right
basically the same thing we can see that
we have that Association we can see that
we have the computed name clicking or
unclicking works and we can even do some
fancier things so if we wanted to
instead of our label we might have you
know multiple elements that were trying
to use to like style our label so it
looks really fancy so inside of here
I've got a strong tag and I've got some
emphasis tags and then I've got my check
box and in order to differentiate you
know which of these elements is the one
that should be labeled the how do you
label element also supports this little
attribute so we say how to label target
we put that on our control and that
tells that how to label element hey
that's the thing I should be labeling so
go and we look at this in Chrome
refresh the page or save it then refresh
the page all right so now we've got this
very fancy label and then we can still
you know click on this and get all the
same behavior same name Association now
I'd like to show you how we actually
implemented how to label but to be
honest it's like way too much code to
fit into just this one episode so
instead what I want to do is I want to
point you at a project that we've been
working on called the how to components
you've already seen a few of them in
this example but if you go over to
github comm slash Google Chrome slash
how to components we've got a repository
here of a number of custom element
examples and the idea behind the how-to
components is we want to create what
we're calling literate code examples so
these are not elements that you should
ship into production or anything most of
them are not even styled but what we
wanted to do was implement common UI
patterns and show how to do so in an
accessible fashion so if you look in the
elements directory you will see we've
got our check box and accordion and
other things like that I've actually got
a pull request right now to add how to
label to the set but you can go through
and you can look at the elements and if
you look at their JavaScript files
you'll see that there's you know heavily
heavily code commented and that's
because we want folks to you read these
implementations you know understand the
concepts and then porthos over to their
own elements that they're writing on the
repo you can also see up at the top
there is a link to developers.google.com
so the
is actually a section over there where
we've extracted a few sort of like
exemplary how-to elements and done
little write-ups on them so here's our
check box again and one of the things
that we did which I think is kind of
cool is we've got sort of side by side
the code along with some comments so you
can actually understand very clearly
like you know what we did why we did it
when we did it how we did it things like
that so definitely go check out the
how-to components on github and also
check out the section on
developers.google.com that about covers
it for today so if you have any
questions for me as always you can leave
them down below in the comments or hit
me up on a social network of your
choosing
also I think you so much for watching
and I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>