<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Resize Observer - HTTP203 | Coder Coacher - Coaching Coders</title><meta content="Resize Observer - HTTP203 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Resize Observer - HTTP203</b></h2><h5 class="post__date">2018-03-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/d1aWG4u-Z5U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">there's a lot of observers that I don't
know why we have them okay because a lot
of them it's just sort of like oh this
doesn't feel like an event source or
this is batch work or something like
that
and and the go-to has been to create an
observer for it and really don't need
that we could just you know put three
observers right now mutation mm-hmm
resize mm-hmm intersection mm-hmm I can
also come up with three anyone who's
done some work with CSS at some point
are using responsive stuff with media
queries and such has kind of had the
idea ha this media query stuff is okay
but what I really would like is the way
to style this element differently to how
big this element is and then go on
Twitter and say hey I've had a bright
idea or Firebug about her and I'm
basically saying what I did by the way
this is what I did years ago angry like
yes yes we know yeah many people have
had this idea the reason we can't just
have element queries is you know because
you can end up with a query which
changes based on width and as a result
of changes width and you end up in an
infinite loop bad idea right that seems
pretty bad so there's a web standard
called resize observer and it's stable
in chrome and it easier for an element
you just say that element there observe
yeah let me let me know when it changes
sighs all right that's so that means
they can react it's a JavaScript API so
you can react with JavaScript exactly so
so we are back at the infinite loop
problem so I was reading your article
Anderson you've got a section on that
well do a little bit of text on it
changes will only be processed in the
same frame if the resize element is
deeper in the Dom tree than the
shallowest element process in the
previous callback that's a weird menu
perfect summit that's just words that's
just some words you like in an order
well I think I explained it pretty
concisely it's actually I wrote yeah
focus for it okay
I'm just so excited understand some okay
thanks imagine you have an element that
has children yes you know it's common
yeah and you call resize observer to
observe on this elements on the parent
yeah on the big all right all right all
right that means whenever this element
changer size you will get a callback and
you can react to it cool excellent yep
so now let's assume you also call
another reach of observer not observe on
one of the children okay because as a
result of the parent changing size two
children could change a sight so every
want to be notified about both so both
resource servers whoops fire their
callbacks any would get notified right
let's assume and a third thing that in
one of the children's callbacks I change
the parents size it's JavaScript it's
possible right I can just change
anything in the daughter and it could
even be done implicitly by changing the
size of the child which would
potentially if it's low or just append
some text right okay parent could
suddenly grow and then technically the
outer the bigger reason observer from
the outer element will have to fire
again and the smaller one probably as
well and then it could same happen again
and again visually and how we break this
loop is with the rule that reads
observers all the Reese's observer will
fire in the same frame before layout and
if you change within this event they
will also fire within the same frame
unless the change has been made to an
element that is at the same level or
higher up at the Dom tree so it's like
in terms of how we talk about events
capturing it's sort of its reverse
bubbling yeah we're capturing so that's
that's the so that's the direction it
goes so it can only you can only have
multiple invocations of your callbacks
downwards of the tree but if you if some
of them that are high up in the tree
would have to refire that would be
delayed until the next frame so what
you're saying is like the the change is
only processed in the same frame if the
the resized element is deeper in the Dom
yeah than the shallowest element process
in the previous callback that's exactly
what I'm saying that's exactly what I
wrote makes sense now it's perfect
it's you should have put that in the
article like you that was I think at the
end I I think I remember writing this
article and there were lots of things
changing and so
but annoyed because I was I think I was
working on animation and I at the end I
was like in there just copy and paste
that from this back job done right well
yes
I like it I think we should keep it in
the browser I think other people should
implement it that's that's us doing
advocacy is yeah other people should
let's say please we didn't get that we
didn't get that a trendy weightless CSS
name is a layout enhancer enhancer
that's I think I get a lot of emails
about that to my spam folder so there's
a real cafes real carefully yeah of
course where this map of the podcast
could be anywhere could be now when we
do the 2 minute segments I want that
there's the nice</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>