<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Totally Tooling Tips: Webpack Tips | Coder Coacher - Coaching Coders</title><meta content="Totally Tooling Tips: Webpack Tips - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Totally Tooling Tips: Webpack Tips</b></h2><h5 class="post__date">2017-08-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zFoBYfMLUCM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so today we're to talk about webpack
performance tips performances the
JavaScript you're serving up in the
browser no web packets now so let's
start with minification you minifying
any of the code that you're sending down
with web pack there are a few
interesting nuances there first thing to
do if you're shipping es5 code is to use
the uglify j/s plugin folks are probably
you know where that from other projects
pre ya uglify jess is the sound of one
yeah and where you have to get a little
bit creative is if you're shipping
anything other than es5 down to your
users so a lot of folks are writing
es2015 today if you're doing that and
not transpiling that cs5 make sure
you're using something like the dilly
and the debility web pack plug-in yeah
so that's it's going to minify but it
also understand tis 2015 to the certain
optimizations it can do because it
understands it a little bit better than
uglify jess yeah yeah next thing folks
should make sure they're doing is
modifying their CSS now it sounds very
straightforward however if you were
loading in any CSS using webpack CSS
loader by default it's not going to
minify that code effectively you're
putting one type of file format into
another like that's going to get stuck
into your JavaScript bundles yeah so
make sure that you're passing minimize
true
so these at everything in that is at
least small exactly ideally you don't
have to think about that because you're
actually extracting your CSS two
completely separate file that's our
preferred option there benefits to that
you don't have to double parse doesn't
have to parse your javascript in order
to parse your CSS it's also going to
cache a little bit better on the browser
side of things because you're not going
to invalidate your bundle every single
time you know you're making a change to
your you CSS your JavaScript you're
keeping those things pretty separate
yeah in web pack you use the extract
text plug-in to get that working cool
sounds good
next thing take advantage of ES module
imports and exports for tree shaking
your dependency graph yep what is tree
shaking I'm still figuring this out so
- checking one more another is where you
can remove dead code in terms of your
imports and exports because if you input
something and a ton of other exports you
don't use they can be removed I believe
though if you input one thing from a
file it will import all of the exports
but then it would reshape beyond that I
don't know there's some funky stuff a
lot of like nuanced new stuff around
tree shaking but it's still good in a
remove code you don't use yeah not in in
web pack one of the lesser-known things
is that unused code itself is not
removed by web pack it's done by a
minify or like uglify Jas
so web pack is just going to remove your
export statements that are used for
exports that you're not actually using
you still need to use amid afire to get
rid of the rest of that code so did any
dead code puffs that it knows is never
going to actually run exactly exactly
another useful thing is making sure that
you're running web pack in production
mode yes this is a web type thing that I
was very confused about when I first
heard about it but it can make sense
yeah so two ways to do this you can pass
the dash P option to web pack itself
which will take care of both
minification and setting your note
environment variable to production
effectively another thing you can do is
use the web pack define plugin to
confidence the same thing that's how I
usually do it I totally forget web pack
- P was a thing the fine plug-in is good
for slightly more complex cases
I just jason stringify in my production
settings and just to have it I think
useful for when a library has to switch
between like the dev or debug builds or
production gulps yeah it sounds good
another thing that's useful is a you
know taking stock of what you're
actually shipping down using a bundle
analyzer or a source map Explorer so
lots of good tools for this stuff can
help you identify whether you're
shipping Kodi didn't expect to be
shipping down to your users whether
there are like modules that you can
maybe switch out for much smaller
alternatives
it's always good with the putty code
because it's just you'll eventually get
an overall picture of where all the size
is actually coming from and then get a
feel very easily of what percentage is
coming from where another good thing to
do is splitting up your vendor libraries
into a completely separate bundle
separate chunk now your vendor libraries
are things like your your framework code
your library code you're going to be
reusing across a bunch of your different
like routes and views stuff that if you
move into a completely separate bundle
browse
I can cash and you're probably not going
to update that code yeah the only time
it's really going to change it if you
like bump up the framework version or a
library version otherwise yeah it's
going to be the same yeah so take check
check out the web hack Commons chunk
plug-in for getting that set up related
to that is code splitting
so what fee is code splitting that's a
code splitting is where you're actually
taking all your code and rather munge it
together in one single file shipping it
down usefully up into several files and
then you actually only pull down like
the most important bit and then you can
a thing load in the other bits exactly
so the idea is that you're just shipping
down exactly what the user needs for the
current route or the current you and the
difference between using a static import
and getting this done is that you're
going to start using a dynamic import
this is a newer JavaScript feature the
idea is that you just want to lazy load
in pieces that don't need to be loaded
up front yep and so that allows you to
basically move this out into code that
can be deferred load later on in the
process okay so that is actually the
dynamic import standard thing yes and
why Pat just suppose it exam only you
can also take advantage of the Emma came
for with things like you know react lots
of different things like react route or
allow you to use it inside get component
but that's that ends up being more
specific to your frame of your choice
now another thing I see a lot of people
trip up on libraries like moment yes
like the date/time library yes you uh if
you include it by default it's got a
relatively large size it's something
like 215 216 12 bytes and that's because
a lot of that file is like its
localization stun okay yeah and unless
you're like a really large international
site you might not need to be loading
all of that stuff upfront and even if
you need it you could probably be lazy
loading it in or making intelligent
choices yeah you can already do
different bundles anyway for the
localization which you might be doing
already yeah exactly
so in webpack check out the context
replacement plug-in what that will let
you do is basically you can pass in this
magic regex to the bundler and specify
what locales you do want to support like
maybe I want to support you know English
for the UK and the US but ignore some
other ones and that just will save you a
bunch so we happen to using these types
of libraries it kind of just gloves
whatever files are inside that
and then just only pulls those in and
ignores everything else effectively nice
low - popular JavaScript utility library
we definitely use a lot in our project
low - is pretty modular by default so
you can you know pick the methods that
you want and just import in exactly what
you need but I still see a lot of people
importing in like all low - and every
utility it's got that's kind of the
whole point right like it was just used
to having like the end of school that it
just has all the utilities on it it
makes the most sense
exactly um one really neat package you
can use is a low - web pack plug-in or
battle plugin low - and the idea there
is that it'll it's a transform that will
rewrite your code to only include the
specific parts of low - that you're
using so you're not including the entire
things so it's just going to swap out
your croushore underscore dog get and it
will actually just go you and using get
so I'll just pull in that one thing and
then rewrite your code yeah just use
that exactly I that it it terms you know
down Milo - portion of my bundle down to
about 10% of what it used to be so it's
a it's a nice little saving very nice
there are lots of the tips that folks
can check out but we're going to link
you to a bunch of different blog posts
and guides that you can go and read up
if you've got any questions feel free to
direct them not to us but to Sean Larkin
on Twitter thank you uh now we're more
than happy to answer any questions
that's a webpack performance yeah one
day okay ransom learning it you could
just watch this video which is what get
back nice</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>