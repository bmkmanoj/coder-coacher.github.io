<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Google: What's next for WebRTC? | Coder Coacher - Coaching Coders</title><meta content="Google: What's next for WebRTC? - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Google: What's next for WebRTC?</b></h2><h5 class="post__date">2015-09-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HCE3S1E5UwY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so without further ado I'd like to
introduce our gracious hosts and the
initiators of this web reseed movement
at Google so service repel it runs
Google the WebRTC product management and
Justin Uberti is the lead for an
engineering and I'll let you guys take
it away Thanks all right thank you so
this is Justin and this is Sarah SH and
together we represent the WebRTC team
here at Google like new logo so we've
got a ton of stuff that we want to share
with you and only 40 minutes so sit down
buckle up and hang on search take away
all right we're gonna talk about vital
signs of WebRTC in general we're going
to go through some news we have some
very important public service
announcements if you miss these it's
your fault recent improvements and
coming attractions some vital signs with
the help of my buddy sahi here we're
tracking about mouse over 720 companies
that are using WebRTC in their products
in one form or another
this past February were around 550 so
we're still seeing some nice great
traction here and it was I spent a lot
of time with fipple recently as you all
heard got to learn a lot about how
others use our service and that was very
very practical and I really really
recommend you read these reports also
there have been a lot of acquisitions
since we started in this field and some
of the recent ones here mentioned here
and that we're probably gonna see some
more going on later so it just shows
that you know the ecosystem is very
healthy it's growing there's a lot of
stuff happening in it so in chrome when
you choose when you go to the settings
page and you yourself choose to send
anonymous anonymize metrics back to
chrome team for helping chrome make a
better service we can see how many
people use peerconnection API and so how
many times this API is called
that's what we see and so we're seeing
some very nice growth here obviously
there's a ton of data this way a ton of
data that way but you know around or you
know or late last year we we saw a
peerconnection API growing substantially
so that for us is also a metric we keep
take a look at the health of the API and
how many developers are using it and now
for some news so about two weeks ago we
announced this new alliance for open
media
whoever bringing together some of the
biggest names in tech around new open
video formats between you know many
folks who are actually working on
next-generation codecs at Mozilla Cisco
and Google and another bunch of other
companies that are very interested in
streaming large amounts of video data
Amazon Microsoft we've got a great
number of stakeholders here interested
in building an open and interoperable
future for video and so you can see more
details a o media.org but the TLDR on
this is that we basically want to create
an open video format that sees great
adoption across the entire industry you
know there's been a lot of debate about
codecs in the WebRTC space just alone
you know between VPA h.264 and this next
generation of vp9 heb you see and a lot
of companies are saying enough let's
build a standard that is interoperable
open works for the web and allows people
to escape so the nightmare of royalty
pools so a lot of work still to come but
you know we at Google are very invested
in this we've been promoting vp9 for a
long time playing the super long game
and it's great to see others joining us
in this effort
and we think we're end up with a really
great result and we think that this is
starting to already have effects across
the industry Microsoft is going to
supporting vp9 in the edge browser and
just realized in the new iPhone 6s it
appears that Apple is dropping HEV C so
momentum continues to build around open
formats and open codecs and our
she's making with Webber see for a long
time is really paying off so Microsoft
edge we are super excited we've now seen
our getusermedia samples that are on
github web RTC samples now work inside
of edge and we know they are working on
ortc support soon we expect to support
oversee dafuq more about this later
through our adapter and library called
adapter Jas and we hope that when it's
announced which hopefully will be soon
that you'll be able to run those samples
directly directly on edge so we're gonna
talk about public service announcements
of things that are coming up in chrome
soon that you definitely want to make
sure you pay attention to and a lot of
times we talk about things you know we
give a release or so about heads-up
about what's coming some of these are
big enough you're going to want to pay
extra attention because they're coming
you know later this year or possibly
early next year
so first up there's been a lot of
discussion in various forums about
WebRTC and IP addresses and a lot of it
is sort of a lack of understanding
exactly how weber c works and one of the
key issues about WebRTC and this is sort
of mentioned you know in Emile's
discussion earlier about like peer to
peer and everything like that is Webber
to see is trying to make connections
typically a peer to peer and in order to
find the best peer to peer connection it
checks all your possible addresses
whether wants to go out a 3G interface
whether wants to go out the Wi-Fi
interface and in certain situations
people are actually expecting things to
go out one particular interface they
think if they're using a VPN everything
is going to go through that VPN
interface well the problem is that
WebRTC has a really hard time of
distinguishing that case from the case
where you just hat using your VPN to
connect to your company email server and
you don't necessarily want all your web
traffic to go through that to go through
that that interface and so this creates
problems in a couple cases you know some
people say that well we're just be easy
for web rqc to just prompt the dialog
when someone once actually used WebRTC
the problem is not every web or C
application is using the camera
microphone in a way the user can really
understand what's being asked for if
something asks for permissions to say
let's just gather your network
interfaces like how could you present
that and a very meaningful and intuitive
in info bar that's when the real
challenges were facing and so the TLDR
on this is that the general gathering of
interfaces and going out possibly a
different route than HTTP traffic was by
design but we've now understood that the
bit what users are expecting from the
behavior of their browser may be a
little bit different and we're pretty
sure we can solve this problem in a way
that sort of maintains good quality of
service for WebRTC in may in matches
users expectations a smart safe way so
our first step in this direction is a
new Chrome extension called WebRTC
network limiter and if you install this
extension basically all your traffic
will go through the default route the
same route they'll be chosen by HTTP
traffic and so if you're using a VPN and
your browser traffic goes through the
VPN your web RTC traffic will also go
through the VPN now as I mentioned
before that's not always like what you
might prefer if you're using your VPN to
connect to your company email servers
they may not appreciate you pumping HD
video through that company VPN but this
gives users a way to make sure that if
they want to be one to control where it
goes they can do so with a single click
to basically inline install this Weber
steam limiter extension but we certainly
don't you certainly know that not
everybody is going to install this
extension you know it's an opt-in thing
and we really want to make sure that
this sort of works without people having
to do anything special but this lets us
make sure that we understand what might
break we have a number of tens of
thousands of people actually used in
this extension and we found that almost
every site works out of the box um you
know if you don't have turn it might not
work but if you didn't have turn like on
your stuff won't work anyway the one
case we've seen is in certain cases
where the client isn't generating any
candidates ice candidates by itself
things don't work as well as some of our
demo pages under WebRTC slash samples
because they don't use a stun return
server they don't work so we've come up
with you know solutions to these things
or
following them now and so our next step
is going to be turning this behavior on
by default once you resolve these issues
and so the default behavior is going to
basically be bimodal for cases where the
user has already consented to use WebRTC
by giving permission to use the camera
or microphone we're going to maintain
the existing behavior which is basically
access to all sets of candidates but if
your application has not gotten camera
microphone behavior will basically try
to do the smart thing of sending the
data out through the default route and
we think this provides a very effective
compromise between the needs of WebRTC
applications that need to do advanced
things as well as like people we don't
want to have sites that are using WebRTC
in way is to sort of detect VPNs or
other sorts of things and this prompt
will help them ensure that so web r/c
will still work even if you have an ass
for the camera microphone permission you
might end up in a few more cases where
it's going through turn but overall
everything should still be fine and you
get the full set of functionality if you
ask for the camera now one piece of
feedback to be really useful for us
would be understanding like whether
applications that don't ask for the mic
on camera are negatively affected by
this because the one thing we do not
want to have happen is have apps I don't
need the mic on camera asking for the
mic on camera just so they can get these
permissions and so that's a case where
you might add I get different permission
to say ask for the network or something
else like that but we like to understand
is this something that the community
needs is this something where
applications are negatively affected and
the way that you can find out is your
application negatively affected is try
out the network come to extension it's a
super simple install and see how your
app works in this case so police try
this out we don't know exactly where I'm
gonna make this behavior default but
we're attended really targeting chrome
47 which would be rolling out at the end
of the year okay all right so you see
this is red this means pay attention now
okay if you are asking for if you're
using getusermedia
on HTTP it will not work by the end of
the year okay we're going to ask
everyone to make sure they update their
apps only HTTP
we'll be allowed to get access to
microphone and camera all right let's do
this once more
no get user media from HTTP starting in
December thank you and just to
underscore that the bottom line a lot
people ask you know why you forced me to
do this and the bottom line is that if
you're using HTTP there is nothing
preventing an attacker on the internet
from basically jamming a getusermedia
call into your web page if we don't do
this so by doing this like if you don't
do this you go to some random web page
that's HTTP and next thing you know it's
asking for your microphone and
exfiltrating the data to god-knows-where
so it's really important you know just
for the overall security of the web and
you know there are plenty of SSL
registrar's we're like Namecheap or
whatever we can get certificates for
like 10 dollars or less I hope this is
not a barrier to anyone everyone should
be doing this already but this is going
to happen and I hope everyone gets this
fixed before December because it would
be very unfortunate if you said nobody
told me about this right now we have
parney at chrome it's not gonna accept
self-signed certificates right now all
right you can file a bug on that that's
important to you um another thing that's
coming DT is this is kind of like crypto
geeks tough but we currently use RSA
certificates for setting up DT and less
encryption and this is great because
everyone kind of knows understands RSA
the issue though is that RSA cert
generation is expensive even generating
a 1024 bit cert on a modern PC you can
take five hundred to a thousand
milliseconds and we heard in lots of
presentations about making call set up
fast well if you have to generate a
certificate that makes it slow and it
turns out that on mobile devices it's
even slower in fact generating a
2048-bit certificate on android device
might take you ten seconds so it's
really bad well fortunately we've got
this great thing it's called ECDSA it
uses these things got and lift it curves
it does all the great stuff that
RS they can do in terms of encryption
but it's way way faster and so it's like
well why don't we just roll this out
completely there may be things out there
that expect RSA certificates and if
you're using a modern version of open
SSL boring SSL NSS things should just
work but you definitely want to make
sure you test and so the first thing
we're gonna have is in chrome 47
there'll be a way to basically say give
me an EC certificate it'll be super fast
you probably wanna start using it just
in general if possible because it means
the first time user uses your app it'll
be much much faster on but then you'll
make sure any back-end servers that you
have that may not be there may be using
some older version of open SSL or
something have all been updated make
sure that it actually works and it can
work fine where you have ECDSA in the
chrome side and RSA on your back-end
that will work fine you just need to
make sure that you can hand a little
Chrome's ECDSA sir and if you're like I
said if you're using a recent version of
boring or open SSL what you should be I
think it would just work because we are
then going to make this the default in
chrome 48 or 49 we also have this in our
mobile toolkits the standalone ones and
that's where it's even more valuable
because like I said on Android and
especially low-end Android devices you
know reducing this thing from multiple
seconds to tens of milliseconds is
something the user can easily see also
coming we are migrating support not just
et nos 100 but et last one to Firefox
already supports DT minus 1/2 so I
imagine for many of you this will be you
know something you're already testing
with but just wanted to sort of make
this known we're gonna start rolling out
DT and last one to negotiation you can
try this out in Chrome just by adding
this command line flag and testing with
your app all right test webrtc.org this
is just a public service announcement
again take a look at it try it out use
it think about how you could integrate
this code or this experience into your
app or for being able to give your users
better support this is an application
written in JavaScript open source on
github that allows you to test that
allows your users to test their network
allows the users to test their camera
tries to see if there's audio coming
from their microphones test to see if it
can go through the network and has
network connectivity also tests a bunch
of other things so take a look at it and
you should come away from here thinking
about how can I help my users help
themselves
because that's also key to running a
good service and we meet a lot of you
here we meet a lot of you on the streets
we get tweets we get we get chats we
have a new rule now if you did not
report it on chromium.org on WebRTC
issue tracker it does not exist and if
you did not report it it did not happen
so please when you engage with us when
you talk with us file a bug first and
then it's much much easier for us to
follow up yeah I mean I can't I can
second that you know we triage all the
bugs in bugs at Weber Tita org and see
our bug comm every week so if you have a
bug and it hasn't been looked at for
some reason then you can let us know but
definitely that's the place we should be
going if you're not sure how to file a
great bug report right in this link all
the directions on how to file a great
bug report that's actionable and then we
can do something with and help you help
your customers all right we're gonna
talk about some enhancements now so this
is what's actually shipping Buffy back
you've rolled out and standalone or
Chrome over the past couple couple of
releases right and then we'll talk about
the stuff that's going around the corner
right after that so take it away with AC
oh yeah delay agnostic echo cancellation
I've talked about this for a while we've
been working on this for about two years
it's now mostly rolled out on all
platforms except on Mac where we've seen
issues and we hope that next week we can
start ramping that up towards 100%
slowly but surely a delay agnostic echo
canceller means it tries to understand
the delay between the play out of the
audio and the input from the microphone
itself instead of depending on the
operating system
apparently operating systems lie so
which is when you get and that's how you
get echo so we're really happy with the
performance of the delay agnostic echo
canceller it covers much more corner
cases
than than the old echo canceller and
when it fails it has the ability to
recover so sometimes with the DAC it'll
fail you know we'll never stop working
on nickel canceling this is gonna be a
project for the rest of our lives but
this time when it fails it recovers so
you might hear echo for half a second a
second and then you'll hear it go away
but as with everything you take two
steps forward you need to take a step
back you've heard about a ton of
improvements in Chrome recently about
battery usage performance but this
summer around the 4243 time line in
certain cases the sandbox that chrome
uses for security somehow we think that
there's audio packets being duplicated
when we data is being shuffled from the
sandbox out of the sandbox so and that
through the old AC off and when you get
in that condition you get full echo and
it just doesn't go away the new echo
canceller adapts for that and kills it
after a second or two but the poor Mac
folks don't get that just yet so we're
still investigating why the duplicates
are happening we think we have we have a
couple of things
leads where we're working on if you have
any hints let us know but next week when
we start ramping up the new one on Mac
we'll have sort of like I don't paint it
over the the mold the wall while we
figure out how to remove the mold from
under the paint that's a good idea now G
it'll bite me back but that's about the
best I could come up with surgeon moldy
AC and just one of the things just want
to mention if within your app you want
to control whether using the old or new
AC we had this parameter that you can
use for toggling off the goo da echo
cancellation you know we expect to get
rid of this as this becomes the default
but if you're here heading echo in your
app and you want to see like me as it
may be related to the DA AC you can you
can try this and the next step for this
one will be mobile and then we'll have
one echo canceller across mobile and
desktop which is going to be great for
everyone else ten years coming screen
sharing hopefully you notice those
view that use screen sharing in your
apps in chrome 45 which went stable last
week it got a lot better especially in
cases where you do seen switches so you
go from a white slide like this to a
very complex image it could take several
seconds when you went from something low
complexity to high complexity and we've
also added a lot better support for
scrolling through documents we had
problem with Excel some of the lines and
the borders that that separate rows and
columns would blink sometimes or flicker
so we've we've improved that and in
chrome 46 it's going to get a lot better
as well so this is one that can be
demoed down here you'll have the source
of the screen share here you'll have the
chrome 44 and here you'll have chrome 45
and I'll just press play on this so you
see this is a simple one and now we're
going to switch to an image that's also
simple a little bit faster not much but
now we're gonna go to something very
complex a very complex image and here
you see how much faster the new screen
share is and you all get that for free
in your app without doing anything so
you're welcome alright more performance
things we've improved the renderer on
mobile by a ton so a rendering video on
mobile is going to be accelerated as
accelerated now by we measured 5x we do
that by encoding and rendering video
from textures worked on the capture
pipeline try to remove how many times we
copy the video in memory how many times
we convert the colors and so on and
we've noticed a big increase in
performance on the GPU and a big
reduction on power consumption here are
some graphs so the scales here are not
the same but you'll notice that just
this year these are these are the
we were able to get this year so a
pretty big reduction here see here's 356
here's 313 milliamps and you can see
that you know the hole so that the
threshold has gone down quite a lot and
the same goes for this is a party c-calm
or the sorry the native a party see
running on android here as well a pretty
big drop in CPU load GPU we've made huge
improvements so we use a GPU a lot less
alright and now more on mobile the new
Android audio stack for Android phones
that use the opensl api 40 reduc 40%
reduction in latency and iOS audio we've
reduced round-trip latency on iOS audio
by 30 milliseconds complexity is also
being reduced but we haven't had time to
measure it for today's presentation and
we're solving a bunch of crashes in the
iOS audio pipeline which I hope you will
all appreciate you can see we working
doing a ton of work on mobile and a lot
of the stuff is all about making better
use of the hardware so just talked about
the fact that we can use textures for
rendering that's fully rolled out on
Android we're still doing some work to
get that going on iOS also working on
getting the texture capture pipeline so
that we can deal with textures full
through the fully through the stack but
then one of the biggest things is that
we now have full hardware and cutter
support on both Android and iOS and so
if the Android support this is for
Android lollipop 5.0 and later on iOS
iOS 8 and later we've got you know the
actual codecs we can now make use of and
it's fully wired up inside that the
Weber c.org stack stand alone so you
don't even really have to do anything if
you're using our weber state org code
and you set the the flag basically to
use you know the HAR encoder you're
basically are going to get you know the
hardware doing the heavy lifting it's
not totally optimized yet we still have
some places where we're taking stuff to
memory and pushing it back to the actual
har encoder so the power is still a bit
higher even though you see
massive improvements of what Serge
demonstrated we know we can still go
lower so further optimizations are still
coming bug 40 81 is the master bug and
bugs that web RTC org tracking the iOS
work but generally you know we're now at
the point where we're getting the full
capabilities of these devices that the
modern devices Nexus 6 iPhone 6 success
can do it's now accessible to ever to
see application once they're interesting
note we noticed that not you know now
that you're turning your work over to
the hardware encoder
your performance depends on how good the
hover encoder actually is and of course
that is a mixed bag so to speak we find
that the Qualcomm chip sets which now
power you know most phones are the ones
that seem to work best if you're someone
who works with another SOC maker and
you're wondering you know sort of what
we're seeing with your SOC s be happy
talking about it more we'd like to get
better performance across a wider
variety of SOC s so one other fantastic
thing we've been able to get working
recently in chrome is just an
improvement in videos smoothness one of
our engineers Nicolas and his team has
been working dutifully on this to be
here by the way any questions about this
you get that butter smooth performance
so that if you're sort of you know we do
this test we called the wave test we
kind of move in like this and do you see
any glitches you know as the as things
move back and forth and so in chrome 45
our story was not super good like each
of these red dots kind of represents you
know how long we rendered frame each
blue dot is how long the frame we
thought it wasn't we captured it now it
turns out that all these frames have the
same duration they should all be 33
milliseconds or a 33,000 microseconds
and we're all over the place here you
know we got a large sort of cluster here
of 33,000 but you know some are as high
66 thousand or something between and and
some serious outliers and this is just
because the way we timestamp the frames
coming into the capture path and the way
we made sure we blended the frames on
the render path didn't really well let's
just say it wasn't super precise about
time stamping and so TLDR here's chrome
46 so it's obviously much better there's
you know a couple outliers we can still
fix but you're gonna see way better
smoothing this so go if you see Nicolas
give him and his team a big high-five
this you get this all just for free
starting from 46 I think that was like
the most in laid clap I've ever so some
other good stuff coming on Chrome for
desktop we've been doing time to work on
mobile but we're also actively investing
desktop when the most requested things
was how can I just set their freaking
audio device that I want my media to
come out of we've got it in the spec
we've got it implemented it's behind a
flag right now but we're working on
removing that flag you can track the
exact progress of it here at this bug
report and yet way you can make sure
that your audio goes to a headset it
goes to speaker whatever you now have
that full control there's a new API for
how you enumerate devices previously he
was hanging off of I think getusermedia
now it's directly call media devices
enumerate devices and one other thing we
used to require that when you're sending
data over a data channel there was no
good way of knowing like when the buffer
was empty and so you had run this timer
like is the buff or empty should I send
more data
no now you can just install call back
and say when do I need to send more data
and this on buffer to Mountain low is
that it's the trigger for that and
that'll tell you when the data channel
needs to be fed with more data from the
application and so we've done a bunch of
work optimizing the data channel between
this and no watermarks down in the FTTP
stack your throughput should now be much
higher as I've liked chrome 46 than it
was in previous versions so I'm like
again your data channel app should just
work much better for free
and lastly ipv6 we talked about this and
some previous updates as something
coming we're rolling it out we did a ton
of testing a/b make sure this didn't add
any additional delay to call setup
process we did our full measurements it
didn't we've rolled it out it should all
be working if you're on ipv6 only
network you know you should be at you
still have WebRTC work rate and this is
on Chrome and if it's on iOS and it's on
Android
so alright that was what you can already
use now the stuff that's upcoming that I
think you're gonna be super excited
about so what do we have first
iOS API is we've gotten a lot of
feedback from people saying that these
are kind of hard to use and for a long
time even just building what's hard to
use in fact there was a blog post which
we all read internally that was like how
you can like use Iowa or WebRTC in iOS
without wasting a day of your life or
something like that I might even
multiple days of your life
and it kind of hit very close to home I
think we're doing a lot better with this
now if you still find yourself having a
lot of trouble you know let us know but
we want to get to this future or
basically you get a cocoa pod and you
bring it in like any other cocoa pod and
you're off and running with Weber to see
you on iOS and so that's what we're
working on building it's gonna take a
little while to get there and we're
gonna have a few API changes to
basically better a correspond to modern
objective-c sort of practices model day
a jsapi in learn more closely changed
mobile how eventing works but we think
this is going to make life much easier
for bringing up leprosy in iOS basically
you know we want to get like I said you
just drag this into Xcode and you're off
and running so if you're using WebRTC
iOS and you have any concerns or
complaints or worries about this come
after see me afterwards let me know but
we want to make sure your life is super
easy and I think this will make a huge
difference okay it sounds like it is
painful enough right now that we run to
clap for that if you want I could take
this one in 47 we're gonna be releasing
vp9 wp9 codec without a flag and right
now our initial measurements show 40%
less bandwidth at an increase of 50%
more CPU on desktop so there are clearly
some great use cases that can extract a
lot of value from vp9 and we've
partnered up with a company called video
who will who were working on with not
only setting setting up the
packetization and all that but also
working on SVC support so a temporal and
spatial layer with a low overhead and
the initial remember the initial release
and 47 will be single-layer we're
working with them to start adding it and
we still need to figure out how to
control this via our API so I say 40%
fewer bits is one way you can do it but
you can also get 40% more quality at the
same bits so like you know depending on
whether you're Sur focusing on low
bandwidth or on higher quality yet you
win both ways with the SBC support you
know a lot people might be thinking I
this is just for conferencing I know
Emil talked about this earlier today but
one other great thing about SPC is
around robustness it's because you have
the the layering you can still display a
video stream even if like one of the
pictures canopy display like that
enhancement layer and so one thing is
that if we have done low overhead we
think this is going to be something that
you're gonna want to turn on even if
you're just doing like a point-to-point
call it's because you'll be able to
basically allow for you know up to
basically 90 or 95% you know if your
packets will not be in the base layer so
you'll be taught on rate way way more
packet loss and still have a valley of a
video stream that keeps on chugging so
we're pretty excited about this from the
robusta perspective the initial rollout
you know we don't have the right API as
I'll talk more about that in a minute
but just by setting some flag could be a
like basically turn this on for all your
calls it'll be great to get some
feedback on around like you know does
this actually have the robustness
benefits that we think that it does
h.264 well you know if you're one of
those companies that still believes in
like old like you know royalty bearing
codecs and I guess maybe you'll be
interested in this but for some reason
people continue to ask for this so we
said that we do it this year we intend
to fulfill that promise we have it kind
of working right now in development on
you know if you're using early Tippett
rebuilds you you know it's not ready
quite yet but you'll see this working
you know in the not-too-distant future
we're focusing right now on using you
know software codec we know that on some
platforms they have hardware
acceleration API is you know Mac has
video toolbox windows has media
foundation we will actually probably
make it work with Chrome OS h.264 since
we've had that support in the past in
hardware but we are gonna make sure that
it also works interoperability with the
hard
decoders on Android and iOS and as
anybody who spent a lot of time down
with like the down-and-dirty of h.264
you know that I'd not eat every h.264 is
equal we spent a bunch of time just
dealing with someone like the friction
and impedance mismatches of this but you
know the reason that's taking a bit of a
while is just making sure that this
works out of the box with the extend of
the things that we're doing on the
mobile platforms
so anyway m48 is the current milestone
that we're shooting for for like a full
release we'll probably have initial
versions in Canary earlier and m48 will
go to beta
you know mid December so that's our
current target and you might track the
progress here's the bug that you can pay
attention to and subscribe to testing
here is gonna be really important so
yeah start testing it early right we
could not have Justin there's just a few
more
we have a presentation like this without
talking about media stream recorder
there are a lot of people interested in
h.264 but there are not the number this
was actually the number one most starred
bug on Chrome entire chromium.org bug
tracker not just in WebRTC
this is across like everything like so
like there could be some bug that you
know chrome didn't load pages at all and
like no more people wanted media stream
recorder so we'd like to know who's to
blame for that so this is gonna take
this if people engineering working on
this nicholas and his team are working
on this you can talk to him if you're
interested in this we'd be interested in
which scenarios are most important right
now we're focusing on the recording of
local media streams that come from
getusermedia as opposed to ones that are
coming off of a remote peer connection
or something like that
so if there's something specific that
you need or one you can either add to
this bug or come talk to us or the team
a few other miscellaneous things many
presentations earlier talked about being
able to get ice working faster or turn
working faster we've made a lot of
improvements in this area we think
there's a lot more that we can still can
do a park you see we did a huge sort of
optimization project where it went from
setting up around 1 to 2 seconds a party
see
now sets up typically in around 300
milliseconds unless you have to go
through turn in which case it takes
longer we want to get that number down
to 300 milliseconds in all cases another
one is just around making efficient use
of radios especially on mobile as well
as being able to cut over from Wi-Fi to
cell there's this general problem we
sort of call the walk out the door
problem where you're on a Wi-Fi call and
you walk out the door and now you lose
your Wi-Fi you want to switch the cell a
lot of times right now it's a pretty
jerky process where like you know the
call drops and you have to wait for a
nice restart to bring it back up we
think we can do way better we think
it'll be really useful to a lot of
applications and here are some things
that I'm just throwing out there that
people are asking for them they're high
up on the tracker but with all the other
things were working on we are not
committing to work on right now and this
is remote processing of incoming media
streams in Web Audio it's support for a
unified plan I think a unified plan can
be largely a polyfill in JavaScript for
now we'll return to this later and
WebRTC in Chrome for iOS the last one
it's kind of interesting because someone
recently posted a $10,000 bug bounty if
this bug could be fixed and not that
really influences our judgement or
anything but if somebody was you know
enterprising out there and wanted to
make $10,000 I recently saw a WebKit a
github project basically where somebody
took wk webview the thing that's gonna
be underlying the future versions of
WebRTC for or Chrome for iOS and
basically added WebRTC support to that
so if there's somebody at their head you
know some time on their hands and wasn't
motivated I think all the pieces are out
there that just could be glued together
to make a nice audio and data channels
work in WebRTC in Chrome for iOS but
this is not something that we are
actively spending engineering time on
right now okay probably the besides
h.264 the other favorite topic and I
know that they'll be some other
discussion own ortc in a few minutes but
it's gonna give a summary on like
where's WebRTC where's o R 2 C and what
is the Google position on this and so
short thing is on we just had a great
meeting in Seattle about webrtc 1.0 are
very very good clothing on a lot of
issues and we are now
targeting on last call ish thing by end
of year 2015 the reason I say and last
callers is that what w3c has gotten rid
of the last call sort of process but the
bottom line is that we are planning on
having a 1.0 done version the spec and
we are very much on track to get that
closed out in the immediate future
one great thing about webparts t 1.0 is
that due to the work that's going on and
both the ortc cg and the web are steve
working group we've kind of brought
these things together so that webrtc 1.0
incorporates a number of the objects
that were present in the ort CD
specification and if you're familiar
with this spec you'll recognize these
names the RTP sender and receiver the
ice transport DT last transport SCTP
transport and these all give kind of a
better control service for applications
they're trying to do advanced things
with WebRTC and so you can do stuff even
a weber t100 like the switch camera' on
the fly you can switch the codec on the
fly you can configure how many bits you
want to give to a given video stream all
without munging FTP and so if there's
ever anything that people should be
claping for it should be that because
I've seen some rings simulcast is one of
the biggest open questions I know a lot
of people knew simulcast I saw some
great presentations on what can be done
with simulcast we're trying to figure
this out
it may not fall into 1.0 but you know
given that this is a top demand we're
trying to see maybe we can do this in a
extension spec or something else very
soon and this stuff used to I'll expect
to see this like these new objects and
object model will be showing up in
chrome in 2016 and if everything goes
well maybe a little in 2015 Peter
Thatcher is here who is our lead for our
API team and you can talk to him and
twist his arm a little bit if this
really matters to you so what about like
ortc see or to see like what what about
being don't like do things without any
peer connection or an SDP well we are
talking about the thing after web bursty
1.0 he previously called a web / - C 1.1
but since like numbers are hard to pin
down exactly it's now being referred to
as whoever to see MV for next version
but there you have it and Webber to see
env fully converges
Oh our kisi with webrtc 1.0 or basically
you have the ability to use peer
connection as well as some of these
other objects typically in a read-only
form or you can just say no peer
connection for me I'm going straight
down to the RTP sender receiver objects
and I'm doing everything directly and
I'm gonna use that do what I say API and
apps have that choice they can program
to the 1.0 api is the high level
peerconnection API or they can go down
and say I know what I'm doing I'm
approach programming to the object api
is and if you're doing the latter you
can completely bypass the SDP model if
that's what you want and so if you take
one thing away from this presentation
about weber - you know RTC these things
are converging not divergent and
basically we welcome microsoft's you
know contributions and appearance in the
web parts the ecosystem I think this can
be a great result and give application
developers way more control and way more
flexibility and building their apps so
yeh and that's it there was a lot of
stuff we actually took ten minutes less
than we thought because we really went
through it a few minutes over you yeah
do we get 10-minute yes so please
questions before as we look down for the
questions I just like to thank a bunch
of you Twilio talkbox there are several
that I forget that are now testing on
canary they're now testing on beta
they're filing bugs early they're
helping us catch stuff you juju thank
you we're in a much better position now
with our ecosystem and and our
developers that are reporting bugs early
continue to do that and if you're not
testing on canary and dev channel and
beta Channel please do it because the
site Rob said we're all human we all
have bugs in our code
the important thing is catching them
early right I mean just to underscore
that if you test on canary or dev we
have on average around seven weeks to
fix any bug that you find before it goes
out to production because that's a
stable if you don't test until beta we
only have two weeks and if you don't
test until stable
well we'll get you in the next version
and say pour it same applies for Firefox
by the way please please please test on
deaf Edition not on beta on beta we're
only going to fix security issues that's
it more like not a question more like a
comment regarding like the crypto stuff
applause
but guys watch ours if anything goes
wrong on the crypto layer you won't get
any notification in JavaScript or
because like when we basically did the
DTLS 1.2 and also the ECDSA stuff we got
like quite a few back reports for people
like trying to figure why the hell like
their peer connections don't do anything
anymore
and it always turned out like yeah you
can find it somewhere in like some
low-level lock files but basically in
the JavaScript layer you won't notice
it's just like order to the closed State
our failed state it goes to fail state
yeah ice is the only only thing is like
ice fails basically and like but people
see like hey stun checks are going and
working but like we don't have like any
API which exposes details problems yet
except for the DTLS good news report
there that at least we have on paper an
API that will solve this it'll take some
time to be implemented but yes this is
definitely something that people have
complained about a pain point I want to
fix it I had a question about mobile I
know you guys have been focusing quite a
bit on it is there continuing work on
improving bitrate estimates for mobile
specifically yes I just cuz I know
there's been a lot of issues I'm
guessing you guys don't feel like you're
there yet or you don't feel like you're
there yet with it yeah I'd say on Wi-Fi
I feel like we've come a long way we are
actually there's two phases basically
the bandwidth estimation stuff that we
are working on right now actually say
three first is moving bandwidth
estimation from the receive side to the
send side this will give us the
flexibility to allow you to bring your
own bandwidth estimator which is
important for things like Interop with
edge because you basically just agree in
the feedback format and you don't think
we on all the details
second thing is on dealing with like 3G
4G cellular type of the scenarios I
think we worked pretty good on Wi-Fi
we still have more tuning to do on those
types of networks and the last one is a
the combined audio video bandwidth
estimator right now bandwidth estimation
only runs for a video and so if you want
to have like the behavior that Philip
was talking about where if you're on a
2g link you drop down to a lower audio
bitrate like you know we don't have that
so those are the three areas where
people are working on balance estimation
and it's gonna be a long project we've
been working with the station for a long
time we continue to work hard on the
combined one should be coming out this
year though I hope so
yeah I did another one the other
question was about I just looking at
hankies talked about looking at the
adaptive audio is that something it'll
make it back in to which adaptive audio
like looking at basically a very low
yeah the combined bandwidth estimator
will also get rates right that's exactly
the problem trying to solve there I see
you've got generate stiffly hey so
you've got the generate certificate API
in there
did you also do the bit about being able
to persist it into a local DB into index
dB
so that's gonna be a key part of it for
RSA is that you know if you're in once
we get to the point we're gonna throw
the switch so that you actually have to
generate an RSA cert we're gonna have
the index DB persistent so that you can
actually avoid having to generate the
RSA cert that super expensive each time
but can you persist the EC the news
right
so the initial rollout the EC certs we
throw away you'll have to generate a new
one each time we won't have the index DB
backing but we're going to implement
that before we then switch it from RSA
being default to EC being default
because you really want that index DB
persistence for when you have to
generate the RSA cert I have a use case
for win it for general certificates I
don't about yeah I mean I it's not that
we don't want to do it just that we want
to get to our EOC DSA future as soon as
possible and some of these things you
know the index DB stuff will come later
hi I'm Ted from blue jeans we've been
rolling out what about you see in
production now we've been talking to you
guys so great job thank you question for
you are you really committed to parity
between what hangouts does and what
we're about to see third party partners
get absolutely yes I mean everything
that hangouts uses you have access to
well except the screen share yes April
where's Phillip L duck a lot of work
that we're doing I talked about like the
a ploy device selection API and this was
one particular case where like hangouts
had an API that you know was not exposed
everywhere and that was just something
we needed to do to get hangouts out the
door we then had to go through the
standards body and figure out the
standards but we try to fix that
basically as soon as we could after
shipping hangouts and so now you see the
result it's actually available in chrome
now so if there are other cases you know
I'd be happy to discuss them more other
questions
is this on okay cool on the topic of
screen share you talked about like some
pretty awesome enhancements is there any
thought around API for tab share or
application share and is there any work
being done on that tab capture yeah
we've talked about it
we know there's interest in it from a
privacy perspective of not sharing your
browser Chrome and that sort of thing a
lot of this comes back to like the
picker of we have this picker that you
know that comes up and I how could we
display tabs in an effective way there I
think there's probably a CR bug open on
this
it hasn't bubble to the top of the list
but something that we are paying
attention to and want to deal with some
point cool in terms of security I would
think that actually brings down the
security implications because your
entire desktop has way more personal
information on it than a single tab
would so I've worked with with partners
I try to meet many developers frequently
and I've worked with some that want to
keep the bookmarks and the chrome of the
chrome present because users then
understand where they are some people
when they're just when you're just
broadcasting the tab they won't
recognize hey this is part of my browser
so there's and that's also a security
implication when your users don't
understand what they're doing or where
the data is coming from so so I've been
asked both of course I've been asked
more your question than the other side
but just to say that there's always two
sides to the the metal sure if there was
a way in the API to differentiate
between the two I think that might give
everybody option absolutely I think we
have time for one more question
we have time for a bit more than one
okay os is one one minute here soon hey
so first time I hear Tommy say that
sorry please so I I work with some of
the the mobile libraries that you guys
put out is there a good way to get like
a stable version of that is it to go
into the release branches is that what
you guys recommend yeah that's what I
would recommend and I think that you
know you know in all honesty like we
have been kind of fast and loose with
some of this stuff where every chrome
branch we then go and have fix with our
backs
porta there and of course that would
include any fixes that would be a
generic things that affect mobile and
chrome but when we have specific you
know issues that affect iOS then on only
our android stand alone only those
typically are not being back ported to
that branch so that may be something
that we want to be more diligent about
in the future I think we just haven't
had that many where the actual process
of you know bug is introduced
you know it's detected you know and then
the fix comes in is then fixed in the
branch and then the customer verifies
and so like if there's some specific
cases I'm let us know and maybe we can
get to a little bit better process where
we're not just merging regular fixes
we're also emerging iOS and Android fix
it back to these branches cool and then
when you guys move over to cocoa pods
will you be producing like cocoa pods
for these like stable branches as well
yeah I think that's I mean when we go to
cocoa pods we definitely have to do that
because we really want people where it's
like you don't have to build your own
cocoa pod you basically take the blast
cocoa pod equivalent to basically a
chrome relays cool thanks it came up
came up briefly earlier about hooking up
the Web Audio API to downstream media
connections being open for a three years
just wondering if that's something
that's ever gonna happen there's one
here yeah that's it yeah yeah like I
said mister the short answer is that
it's really given our architecture
there's architectural limitation and
it's a lot of work kind unwind things is
that the way media streams work is there
AG post mixer and we need to sort of
move them to be pre mixer and well that
might sound simple it's actually a lot
of machinery and so we've actually
chosen to focus on things like video
stream recorder which had even more
people screaming for it first and then
we can return it once some of those
things are often less well then return
back to these things so it's not an ever
it's just that I know why people are
asking for it and I'm sad to say that we
are not supporting our engineering doing
engineering work on right now but
doesn't mean Lee just because there's so
many other things that people are really
screaming about
the simulcast support that we heard
about in the earlier presentation is
that video codec agnostic will that work
with vp9 and h.264 right off the bat do
you mean the sort of homebrew once in
chrome right now or the one that we were
talking about for the future here Oh
either or well the future one definitely
well it really should be codec agnostic
because all you're saying is sort of set
is like I want to encode n streams at
these resolutions and bit rates and
everything I'll be codec agnostic you
know Chrome does support this sort of
homebrew screen sharing or simulcast
right now where you can trigger it to
generate three streams and it basically
gives you three streams of a predefined
sort of bandwidth I don't know if that's
gonna work out of the box with h.264
that's something we should go check out
last question this time okay great
so questions thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>