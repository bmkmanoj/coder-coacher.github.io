<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mythbusting HTTPS (Progressive Web App Summit 2016) | Coder Coacher - Coaching Coders</title><meta content="Mythbusting HTTPS (Progressive Web App Summit 2016) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mythbusting HTTPS (Progressive Web App Summit 2016)</b></h2><h5 class="post__date">2016-06-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/e6DUrH56g14" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everyone my name is Emily Schechter
I'm a product manager on the chrome
security team and today I would like to
take you on a myth-busting journey about
the protocol we use to send and receive
data on the web over a secure connection
and that's HTTPS and I think this is one
of the most important topics for a web
developer today so our story begins on a
dark creepy night in 2010 imagine that
in 2010 you're sitting at your computer
you're surfing the web you're getting
sucked into a YouTube hole you're
watching The Twilight Saga trailer or
maybe that double rainbow video or one
of the other popular YouTube videos in
2010 you fall into a deep sleep so deep
that you don't wake up until today until
2016 and you look around at the web
today and it looks pretty different from
the way things were in 2010 right today
we have things like Add to Home screen
which lets sites behave more like apps
and we have push notifications which
help you keep engage with your users
keep them coming back and we have cool
new api's like device orientation and
geolocation
all these cool things around today that
let you build progressive web
applications that lets sites do all of
the cool things today that they really
couldn't have done in the past so these
things are very powerful features but
there are also a lot of responsibilities
right take geolocation as an example if
a site knows where I am it also knows
where I work where I live where my
friends live maybe where my children go
to school where my doctor is that's a
lot of stuff for a site to know about me
right so if you woke up in 2010 to find
this very powerful web you might be
surprised to learn that there are still
websites out there
or you can make a purchase with your
credit card or send a private message to
a friend or research a sensitive medical
condition in such a way that an attacker
eavesdropping on the network can see all
the data that you're sending back and
forth or you might be surprised to learn
that there are still websites out there
that spend tons of money and time and
energy crafting the perfect user
experience only to deliver that perfect
user experience and have some ISP or
Wi-Fi provider or some other
intermediary inject really ugly
obnoxious ads like this and this isn't a
hypothetical we actually see major ISPs
doing this ad injection all the time and
if this was your site you'd probably be
pretty upset right because this
interferes with that perfect user
experience it might be disrupting your
revenue streams by blocking your own
nice ads and worse it might actually
trick your users into downloading and
installing malware on their computers so
if you woke up in 2016 you might hope to
wake up to a web where data is protected
from this kind of snooping and tampering
from the very beginning and that's what
we get with HTTPS that's what this green
lock signifies and in 2016 we're hoping
to move towards a web where this green
lock is so ubiquitous that we might not
even need to show it at all because it's
just the bare minimum security that
we've come to expect for any site on the
web today so this green lock signifies
three main security properties first
identity when you type HTTPS google.com
into your browser your browser receives
a cryptographic proof of identity called
a certificate from the server and the
browser uses that certificate to prove
that it's talking to the real Google com
not some other fake site who's
pretending to be google.com so when you
type a URL into your address bar the
browser gets a
proof that that's the real domain you're
talking to next confidentiality once
your browser knows that you're talking
to the real google.com both those
parties the browser and the server have
a guarantee that only they can read the
data that's being passed between them
and not over any other friendly person
eavesdropping on the network and finally
integrity the browser and the server
have a guarantee under HTTPS that when
they send data from one to the other the
data they sieve is what the other party
receives so an intermediary in the
network can't modify or tamper with the
data that's being sent only the browser
and the server can and that's what we
get from HTTPS but you might also have
some other associations in your mind
with HTTPS when you see the screen lock
you may think that it represents a
financial burden or a performance cost
or a lot of maintenance or it's really
difficult to set up and many of these
associations actually were true 10 or 15
years ago but many of them are no longer
true today and that's because people all
over the world and all throughout the
web ecosystem have been interested in
promoting a safe future for the web
where HTTPS is everywhere so in this
talk what I'm gonna do is tell you four
stories about HTTPS try to separate fact
from fiction show you what might use to
have been true in the past but is now
becoming a bit of an HTTP myth and try
to convince you that HTTPS is both
possible and important for every site on
the web today
so my first story is about a web
developer named Alice and Alice runs an
online travel guide you can see it here
it's a very cool awesome travel guide
but it doesn't have any privacy or
security sensitive content like it
doesn't have a log
Paige can't make any payment
transactions and so Alice doesn't think
of her site as something that would
require HTTPS but one day alice is
talking to her friend and her friend
says that on her computer Alice's Travel
Guide is really slow and sluggish and
Alice is like okay that's weird because
on my computer it's really fast and
snappy right because that's the way I
built it to be so she goes to her
friend's house and she checks out what's
going on and you can probably guess
what's happening she sees a bunch of
terrible slow ads plastered all over her
site so this is ruining the experience
that Alice has built it covers up her
own lightweight unobtrusive ads and
Alice's friend trusts Alice's site so
she clicked on these ads and when she
did she didn't expect to get the malware
that she downloaded onto her computer
and this is natural right a user who
sees terrible ads on a site blames the
site for that terrible experience so
Alice is pretty sad about this as you
would be I'm sure and to console herself
she starts working on a new feature and
let's say this new feature is using the
HTML geolocation API to suggest fun
travel stuff to do based on this user's
location but as she goes to implement
this feature she goes to try it out in
Chrome and she sees that it doesn't work
and the reason that it doesn't work as
you can see in this error message in the
developer console is that chrome and
other browsers are starting to removed
support for powerful features like
geolocation when they can't be safely
used over non-secure HTTP so in order to
use the geolocation API your site needs
to use HTTPS and there's a good reason
for this right if I'm going to trust
Alice's site with my location I need to
know that I'm talking to the real
Alice's site not some other site
pretending to be Alice's site
so we need that identity property of
HTTPS to be sure that when I grant a
site access to my location I'm actually
talking to the site that I trust with my
location so chrome and other browsers as
I said are not limiting this to
geolocation there's a list of features
that have already been removed when
accessed over non secure HTTP and there
are a few more that are coming down the
pipeline I want to call out app cache
specifically which is coming up next and
longer-term EMA we actually don't have
specific public timelines for these yet
but they are coming up next and we'll be
sure to be responsible when announcing
timelines we'll add a notification and
chrome dev console but if you are
relying on app cache or eme over non
secure HTTP we encourage you to start
thinking about HTTPS now before it
becomes in emergency so what about
service workers service workers are
amazing as you've been hearing today my
love for them is represented here by
this sort of bizarre blobby Android
heart eyes emoji they're this super
they're the secret super heroes behind
progressive web apps that enable
performance in the face of sketchy
network conditions service workers sit
between the browser and the network so
they actually manage every request that
comes through and as you can imagine
Alice as a site owner needs confidence
that she is the one managing those
requests they're not being controlled by
some other super friendly person on the
network trying to enhance your browsing
experience and this is why service
workers require HTTPS so Alice realizes
after all that that in order to build a
progressive web app with the features
that she wants and an orange to
guarantee that the user experience she
builds is the one her users receive she
needs to use HTTPS and this is why we
think that it's important for every site
on the web today to use HTTPS even if
the site doesn't seem
immediately privacy or security
sensitive so this story is fiction
so our next story is about performance
and a data-driven guy named Bob who's
done some careful testing some a B tests
and he has found that reducing latency
reducing the time it takes for a user to
load a site is crucial for optimizing
conversions on his site so the faster
his page loads the more money he makes
and bob has heard some not so nice
things about HTTP and performance yell
comm is an online business directory
that recently made the switch to HTTPS
and they recently published a blog post
describing their move to HTTPS and
what's interesting is that they did
experience some negative performance
results and on the other hand Google
moved Gmail to HGPS
way back in 2010 with basically a
negligible performance impact so bob is
wondering what's going on here what's
sort of the discrepancy between these
two stories so let's dig into some of
the reasons for this discrepancy and try
to figure out how you can move your site
to HTTPS without a performance hit so
first let's look at a simplified view of
what it might take to send an HTTP
request and here I'm highlighting some
of the network latency imposed by the
extra round trips between the browser
and the server created by using HTTP on
your site so first there's an HTTP
redirect if you follow a link to an HTTP
page the server says actually that's
moved to the HTTPS version next the
browser and the server do what's called
a TLS handshake where the server
presents that cryptographic proof of
identity which is called a certificate
and that sets up the HTTPS connection
and finally
the HTTP request is made so it turns out
that if you dig into what it takes to
communicate over HTTP there are some
technical optimizations that you can do
to reduce latency so let's step through
this again and see what we can do to
optimize at each step so first there's
that initial HTTP redirect to the HTTP
site strict Transport Security or HSTs
is an HTTP header that helps you avoid
redirects from inbound HTTP links to
your site by telling the browser only
access my site over HTTPS for some
period of time and you can set this
period of time yourself and you're
committing to supporting HTTPS for that
period of time and so HSTs helps improve
performance by avoiding that redirect
roundtrip so the next two round-trips
are used to set up the secure connection
over which the browser will send the
HTTP request and this is known as a TLS
handshake
so let me interject here for a moment to
tell you that as a product manager and
an all-around friendly person I shake a
lot of people's hands and there are some
really terrible handshakes out there
first there's kind of that Bonecrusher
handshape which just cuts off all
circulation to your fingers right and
then there's like the sweaty palm which
is just brutal there's kind of a dead
fish which honestly just makes me
depressed but the worst kind of
handshake it's the person who grasps
your hand and kind of shakes it and then
just looks at you and continue shaking
and keeps looking at you and keep
shaking and shaking because it's just
incredibly awkward and it just takes
such a long time so the moral of this
story is you have to make your handshake
as short as possible to get on to the
really interesting part of the
conversation so normally the browser and
the server are doing
one of these long terrible handshakes
and the browser is waiting for this TLS
handshake to be completed before it
sends the HTTP request but this is
actually not necessary you can actually
remove handshake latency by sending the
HTTP requests in the middle of the TLS
handshake so after the certificate is
received from the server but before the
TLS handshake is completed so it will
look like this and this is called TLS
false start and you can turn it on in
our server software and it removes a
round trip from the handshake latency
and if the browser and the server have
spoken to us before the browser can
remember a session ID and the next time
it goes to make a TLS connection it
sends that session ID which allows the
browser to shave off part of the TLS
handshake and this is called TLS session
resumption and it also allows you to
shave off a round trip and if your
server supports it you should turn it
off so now that we've talked about
optimizing that first redirect and
optimizing some of the round trips in
the handshake let's talk about sending
the actual HTTP request and this is
where things really get cool because
this is where HTTPS unlocks some pretty
dramatic performance improvements in the
form of HTTP - this is the next version
of HTTP which is now supported in many
browsers including Chrome and Firefox
and using HTTP - you can do really cool
things like multiplexing and server
pushing which majorly optimize
performance for HTTP requests and Surma
is actually going to give an awesome
talk on HTTP - that dives into these
details right after this talk so please
stick around for it if you're interested
in more details so I mentioned that
HTTPS unlocks the mouths of browser
performance winds of HTTP
- and what I mean by that is that
browsers have said they are only going
to support HTTP - over HTTP so if you
want to use HTTP - you have to use HTTP
there's a practical reason for this and
it's compatibility so there are some
intermediaries like proxies that are
likely to get kind of confused or in
some cases actually break things if they
see HTTP - traffic because it just looks
so different from normal HTTP 1 traffic
so we need the confidentiality
guarantees of HTTPS to be able to
support HTTP 2 without actually breaking
anything so if we go back to yell comm
that online business directory that Bob
read about and was unhappy to see that
they had negative performance impacts
from moving to HTTPS it turns out that
most of their performance impacts were
mostly due to outdated load balancers
but they couldn't update at the time and
they couldn't actually turn on HTTP 2
but they're planning to upgrade to HTTP
2 in the future and we have hope for
Yale calm because of stories like
weather.com who saw a small performance
impact from moving to HTTPS but it was
then majorly blown out of the water by
the subsequent performance winds of
moving to http - so in the end since bob
is in a position where he can update his
server software and turn on some of
these optimizations he shouldn't see any
performance impact from HTTP and if he
does he should be able to far outweigh
it by moving to http - so we have to
update the way that we talk about HTTP
and performance HTTP is now necessary
for achieving the best the web can offer
an HTTP is underperforming so how many
of you workout startups all right whew
awesome so my next story is about a
startup that might be something like you
so Charlie has an idea it's about
messaging with friends on the web and
she raises a bunch of venture capital
funding for it but these days Charlie's
startup is kind of running out of money
and the VC market has gotten a little
bit tighter so she needs to make sure
that every dollar she's spending is
going to a good cause and she's heard
that HTTPS cost money maybe money that
she can't afford now money is sort of
part of all of these stories in some way
or another I talked about performance
which kind of boils down to money and
next I'll talk about ad networks which
is about money but in this story I'm
going to focus on two aspects that
Charlie is particularly concerned about
those are certificates and search
ranking so first these cryptographic
proofs of identity certificates when you
need to get a certificate
traditionally you buy it from an
organization called a certificate
authority you prove your identification
to the certificate authority and it
gives you a certificate that you use to
prove your identity two browsers you am
wonder how much these certificates costs
well it's certainly possible to pay a
lot of money for certificates you
certainly don't have to a project called
SSL mate has for many years now I've
been offering standard as the social
advocates at sixteen bucks a pop and you
can also get one of their more advanced
options multi hosts SSL or multiple
certificates and even if you need one of
these it really shouldn't break the bank
and there's a newer project called let's
encrypt which actually offers free
certificates and both of these projects
SSL mate and let's encrypt offer
automated command-line tools that help
you buy and manage your certificates
automatically so they don't expire you
can set up configurations other tasks
like that
so certificates are not going to be the
reason that Charlie startup runs out of
money
the other thing that Charlie's work
Charlie's worried about is search
ranking you can imagine that if you move
your site to HTTPS search engines might
get kind of confused and you might lose
search ranking because kind of a
traditional nugget of wisdom is that
having two different versions of your
site can have a negative impact on
search ranking so Google in particular
has a few best practices that you should
follow when moving your site and here
I'm going to talk about the basics so
the first thing you should do is serve
301 redirects to show search engines
that your site is at the HTTPS version
and once the search crawler gets to the
HTTPS site it's important to serve these
canonical link elements to reinforce the
idea that this is the canonical version
of your site and there are a few other
best practices that you should follow
three up here and I encourage you to go
check out these resources after the talk
so if you do your research and follow
these best practices you can expect a
minor fluctuation in search ranking
which happens anytime you make large
changes to your site but you'll then
recover back to your normal levels that
you had before the transition in fact
Google even does have a search ranking
boost for HTTPS sites so it's actually
considered a positive ranking signal I
present it is pretty small so you
probably won't notice a large boost but
it's possible we're hoping that might
change in the future and it is a small
positive signal now so in other words if
you follow best practices take a little
time to do research before moving your
site over the financial costs for
certificates and search rankings should
be negligible
so my final story about HTTPS is the
story of Francisco and his adventures
with third-party content I'm sure that
many of you have lots of third-party
dependencies on your site so let's say
that Francisco runs the website for a
major News Corporation and that means he
has a large site with a lot of articles
a lot of legacy content many different
types of third-party content to worry
about like old images and he's heard
that if you move to HTTPS all of your
content including the third-party
content also has to be served over HTTPS
so it's easy to see why this might freak
Francisco out a little bit because it's
true that when you move to a QPS you're
going to also have to start to think
about whether all your third-party
content is available over HTTPS
first and foremost Francisco is worried
about ads because he runs a publisher
site and ads is how he makes all of his
money so Francisco is wondering whether
his ads will be available over HTTPS
well something that has changed in the
last year or so is that for Google
addicts Adsense and AD exchange requests
they're always served over HTTPS for
most users so even before Francisco has
served his site over HTTPS his ad
exchange or Adsense ads are already
being served over HTTPS for most users
so he shouldn't have to worry about this
and the exception here why I'm saying
most users is actually only for users
located in countries that actually block
or degrade HTTPS traffic and this isn't
just a Google thing it's actually an
industry-wide trend in 2013 the IAB the
Interactive Advertising Bureau published
this blog post saying that nearly 80% of
their member advertising systems support
HTTPS and they underscored their
commitment to getting all the way there
to 100%
so this is one of those things that I
talked about where five or ten or 15
years ago pretty much no ads were being
served over HTTP so this was a major
issue but now the entire industry is
changing and in this day and age serving
ads over HTTPS really shouldn't be a
blocker and if you're using an ad system
that doesn't support HTTPS yet it's
probably on the roadmap and if it isn't
you should ask them why not and you
should tell them I said why not
so the next type of third-party content
that Francisco is worried about is the
partnerships that he has with other
sites that depend on the HTTP referer
header and what this means is that other
sites can tell that the traffic came
from Francisco site in other words
Francisco site has referred the traffic
to those other sites so Francisco might
get some money for this and the problem
here is that if a user follows a link
from an HTTP site to an HTTP partner
site browsers will strip the refer
header for privacy reasons and that
makes sense because if you're doing
something sensitive on an HTTP site the
URL that you're on might be sensitive
information and the browser shouldn't
just leak that in plain text over the
network to an HTTP site fortunately
there's a web platform feature called
refer policy that helps with this and
Francisco can set a refer policy to
allow his partners see that traffic is
coming from his site but they won't see
the full URL that the user was visiting
so user privacy is still somewhat
protected finally Francisco is losing
sleep over a kind of general problem
called mixed content and mixed content
is the problem of loading non secure
HTTP content on an HTTP site and this is
important because non secure sub
resources can actually compromise a
security of a secure HTTPS site so if
you try to load insecure scripts or
iframes or other active content like
that on an HTTP site browsers will
actually block it because that content
is just too powerful and would
completely wipe out all the security of
that
GPS site so Francisco site it's a news
publisher so it has lots of old news
articles that link to third-party images
that aren't available over HTTPS and we
call these images passive content and
browsers will still allow them to load
so the site won't be completely broken
but that green lock does go away and
Francisco is really not happy with this
because he wants his green lock that he
worked hard for
fortunately Francisco can serve what's
called a Content security policy to
receive reports about mixed content this
header is basically a way for Francisco
to assert to the browser that all
content should be loaded over a GPS and
he wants to receive reports about any
Content that isn't and that allows him
to go find and fix mixed content on all
of his millions and pages which means
that he doesn't have to rely on users to
report broken behavior he'll be able to
find and fix problems as soon as they
arise so in this in this case the CSP
says all content should be loaded with
the HTTP scheme but inline and
dynamically generated scripts are okay
and sent reports of this URL
whenever content violates this policy
but don't block content only report it
and if you don't want to build
infrastructure to collect reports
yourself I suggest this awesome service
called report URI do which gives you
some cool data visualizations and for
all of these issues in chrome we've
recently launched the dev tools security
panel to make it as easy as possible to
find and fix problems with HTTP
configurations such as these mixed
content problems so Francisco story is
true in that third-party providers must
support HTTPS in order for you to move
your site over but what's new what's
change in the past few years is all of
these new tools and support in the
ecosystem and in the web platform to
help you upgrade your third-party
content so when I look back at these
four stories about a QPS that I told you
today I think there's one kind of moral
that emerges
that moral is that 5 10 or 15 years ago
HTTP used to be kind of slow kind of
expensive kind of a pain set up but
these days in 2016
browser vendors web developers like
yourselves server software developers
security researchers the whole wild wild
west of the online advertising ecosystem
all of these people have come together
to make HTTPS a lot faster and easier
and cheaper and all-around better than
it was in the past and HTTPS is
necessary for unlocking the best the web
has to offer in terms of both
capabilities and performance and that's
why we think it's both possible and
really important for every site on the
powerful web today to use HTTPS
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>