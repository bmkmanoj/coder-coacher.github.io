<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>EdgeConf 3: Page Load Performance | Coder Coacher - Coaching Coders</title><meta content="EdgeConf 3: Page Load Performance - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>EdgeConf 3: Page Load Performance</b></h2><h5 class="post__date">2014-03-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bZjxGSwn17o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">do so welcome everybody back up this is
the dreaded after lunch event when
you're all in a carbohydrate coma so
hopefully you'll alway cup with the the
fierce debate that is about to be
ignited here the inventor of the on
slide system Wesley assures me it's
going to be working so so please put
your hand up and give an opinion you
don't have to just be putting standing
up to ask a question stand up let's ask
an opinion we want to hear what you
think as well quickly introduce you to
the panel I shall start from this side
Pat menon from google the inventor of
webpagetest the basically the best page
load performance testing tool out there
wesley hails from shape security front
end developer Walter over on slide and
load report Jas we have Luke Blaney from
the FT very much did a lot of work on
speeding up the FT web app and is big
fan of varnish apparently we have a
Peter hidden Skog okay from Cybercom
group creator of site speed I oh and
browser time and last but not least we
have an T Davies from ncc group web
performance velocity speaker and the
person who is going to kick off with the
introduction
oh yes cool okay so Steve's already
introduced me but I'm Andy and I'm
frustrated and the reason I'm frustrated
is the web is too slow or rather too
many sites are too slow because you know
we've been talking about why we need to
make web pages faster for a long time
Steve Souders first invented the concept
back in 2006-2007 Lee wrote his book and
we understand how to make sites faster
and this is one of the reasons why i
really get frustrated we know that to
make sites faster we need to minimize
latency whether that's using CDN to move
our content closer to our users whether
it's speeding up our back ends so that
time to first byte is quicker you know
we know latency doesn't change you know
it's governed by the speed of light so
we have to move to reduce it the other
thing we need to do is you know cut down
the number of round trips we make
because every round trip is bounded by
how quickly we can make it all the
latency involved then we do this fire
training on gzip to compress stuff we
use minification we merge resource
together in a build system and one of
the reasons we do all this is there's a
tension between how we build sites or
how we break it down into modular
components and the best for way to get
them to the browser for the browser to
be able to load the page quickly a
render it quickly we um you know so you
know we can minimize latency we can
reduce the number of round trips and we
can minimize blocking because some of
our resources block if we've got CSS we
have to wait for the CSS before we can
render the page we've got a JavaScript
we have to wait for the JavaScript to
execute and before we can move on we
have web fonts and now depending on how
we load web fonts sometimes we have to
wait for them some
as we don't the other way of making
sites load fast is to maximize the value
we get out the first round trip so when
you hear Paul Irish on stage at fluent
conference talking about put it in the
first 15 k this is effective you're
already talking about he's talking about
turn the initial kiss EP initial
congestion window up to 10 make so you
get it roughly about 14.8 k depending on
how big your tcp segments are in it and
push that out to the browser everything
you need to render the page on that
first hit so that's what the Guardian do
on the mobile site now they have the
content the idea that they serve out the
content which is the HTML and CSS to
render the page they have the
enhancement so where they insert
JavaScript so swiping and then they had
the idea of leftovers so advertising
analytics so you know we can make our
pages faster you know but we seem to
want to leave it to the browsers to do
it and browsers are doing a great job
and have done a great job over the years
for helping us make our pages faster you
know the HTTP standard recommends we
only have two connections to TCP
connections to our server but we've
moved on from that you know typically
browsers have four or six or sometimes
even eight they open tcp connections in
advance they speculate that we're going
to request something from the same
server so we open the connection it's
they're ready for us to use we have the
preloader which while we're busy waiting
for CSS or blocked on JavaScript to
execute the preloader will go looking
through the rest of the page picking up
the resources the page will need to
complete prioritizing them and
downloading them in the most optimal
order we've got faster je s engines
we've got new image formats faster
layout engine sir you know browsers are
doing a great job we also have new
protocols HTTP doesn't fit very well on
top of TCP so we have speedy now we have
HTTP two coming and they will help
improve the performance of our sights on
some tests I did I got a 30-percent
uplifting
performance just by switching to
speeding and that includes the TLS
negotiation overhead hd2 may get rid of
some our bill steps it may reduce the
need to merge stuff we're still going to
have the challenge though that we have
people on HTTP one as well as HP on
people on HP two we're gonna have to
work out how to optimize both but
despite all these improvements we came
across we keep adding more and more
stuff to our pages our pages are getting
fatter we're relying on browsers and
networks to overcome the performance
hurdle and perhaps more worrying is
we're including more blocking resource
now the number of times i see a tweet
going somebody going i hate web fonts
because this is the experience i get and
a page with no text on it but yet they
put websoft haunts on their own site so
you know we're making our pages more and
more complex and delivering more and
more of a challenge we can alternate
some of this optimization so we talked
about merging stuff and image
optimization we can use things like mod
PageSpeed or Akamai's feo service to
take some these optimizations away to
simplify our build services but it's a
why aren't we getting faster and my view
is we don't measure enough yeah we've
got great tools this is slight speed I
oh that Peter wrote we've got things
like web page test we can measure in the
visitors browser so we can measure a
page level we can measure individual
resources we can tag the page so we can
measure when something we're interesting
appears but you know there's a lot of
data and we need to move beyond why
which pages are slow to why are they
slow you know this is a waterfall in web
page test there's actually some
interesting things in this waterfall in
that the time to first bites are always
about 200 milliseconds and listen
because I get the test from dulles in
Virginia instead of the UK by mistake
you know but i ended up look at this for
a while working out what was wrong with
it i took me awhile and am i destined to
be a human pattern matcher for network
waterfalls for the rest of my life to
have met the web faster you know we need
to move on to how do we fix it you know
and we know the
the browser's need resources to be able
to render a page and get a pastry user
but you know we don't really have the
tools to help us get there and finally
you know we think of performance as a
technical issue and it's not or i would
argue for a technical aspects to it but
we need to go back and think about
performance as an aspect of user
experience you know we go to fluent or
velocity or edge conference and talk
about page load performance but we need
to fit it in to the rest of the user
experience picture will a/b test whether
a button should be green or blue but
will we a/b test how our performance
improves if we remove RAB framework or
our fonts we don't generally do it we
need to design for performance you know
it's if it's a user experience facet we
need to design it into the way we build
sites it's just another constraint like
time or budget and design you know clear
left Tim Cadillac put forward the idea
of a performance budget so you decide
how long should your page takes a load
over what conditions how big should it
be and we need to as well as technical
solutions we need to go and look for the
human solutions and we've come a long
way you know we've got much faster
browsers we've got better networks but
we need better tools we need to fit
performance and look at it in a holistic
ways in the way we build websites and we
also need to be careful about new
technologies you know would we've got
HTTP two coming we don't really know
some of the performance improvements it
makes but we don't know what other
impacts may come with it we've got web
components that we talked about this
morning and things like the potential
blocking effect of rail equals import
and we need to work out if we deploy web
components on the large-scale in the
blocking format what are the issues it
brings and now I believe our moderator
will put to us your questions thank you
Andy
so Andy's Andy's frustrated because he's
going to spend the rest of his career as
a human pattern matcher I don't think
that fits in a tweet but it would be
really good if it did okay so kick off
first question is basically one on
responsive web design from Peter
O'Shaughnessy II hi using branched
loading the Guardian have made their new
website responsive but forty-two percent
smaller on mobile than on desktop does
this end the performance arguments
against responsive web design are there
still cases when a separate mobile site
is best you're the front-end developer
representative where's you know what it
sets out with this one it really depends
on the goals of the organization I guess
and I mean you can have separate teams
sometimes like when I was at CNN we had
an entire separate team working on a
separate mobile web site for CNN and
then we had a and they were completely
divided and it was a really
uncomfortable situation not being able
to to cross teams um it was just the way
they had siloed it off so like I said it
depends on the company like I guess how
what your goals are but it does make
sense for like crud if you have a heavy
like you know client-side application
single page whatever then you would not
want to try to scale that down to fit on
mobile right I mean chances are you
unless you're trying to achieve the same
thing on mobile but sometimes developers
just build for desktop first a lot of
cases hey you looking at yeah I mean
you're looking at websites all the time
webpagetest and i think it's it's going
to get interesting and we're probably
gonna see this a lot today is depending
on how extreme you're trying to get like
when we start talking about deliver the
above the fold content in the first 15 k
right if you're going to try and do that
on mobile the first 15 k is fairly easy
to get your one image
engine your story or whatever what
you're trying to deliver for your first
4 15 k of your desktop or your
responsive sites going to be very
different so I think it's going to be
really hard to do a responsive like uber
optimized site that scales for both
mobile and desktop you may be able to do
well enough in both why I think part of
questions we know it's for the two
percent smaller now but how small could
it be if it was catered just for that
device and yeah it's a context to
compromise yeah responsive design is
about building a site that works on a
wider variety of devices as possible at
unachievable cost effort if you look at
the studies people build really small
mobile sites you can build a really
mobile site that's you know tens of K
whereas how BIG's the Guardian site
Patrick yeah yeah so you know the four
to two percent is a still a huge chunk
so you know it will it's a working
progress as to whether the responsible
argument has gone away Luke if T you're
in the same business publishing yeah we
still have the separable website and we
have a web app as well but I think
that's more like an internal legacy sort
of thing it a lot of these emotional
yeah right not oh yeah it's not other
technical things and a lot of these
things yeah if you're starting fresh you
do it completely different but if you've
got this big massive website that's
already there it you know just going
from that to say gonna snap a finger to
make it immediately responses that's you
know and what of inertia there's a yeah
there's a lot of that so it I don't know
I think eventually yeah it would be
great to get there and I think from
formance point of view as well every and
like say you're if you're supporting
every individual browser you can make
something really performance in one
browser I make it work in that one use
case really well the more and more
things you support the more compromises
you have to make like that goes for just
s up Rogers for example you can optimize
the chrome and say I'm going to make
this work really well in Chrome I'm not
care about ie but
every time you support one extra thing
you're gonna have to make you know it it
might be small compromises it might be
big but then the same goes for saying if
you want mobile on desktop I think it
depends when is good enough for your
audience and it's the YouTube example of
when they shrunk YouTube they got new
audiences yeah it's whether the Guardian
feel that 700k or mobile fits their
audience well on it I wouldn't
necessarily even look at the 700 k
number right that's the all in yeah it's
what does it take to deliver your
initial experience the visual experience
right and focus on that if you can get
that small enough on both the mobile and
the desktop sites with with one delivery
then you're a lot better shape or and
with that so come picked a question from
going in a minute but just it comes back
to does it end the performance arguments
against responsive web design I think
we're coming to the conclusion that the
answer is no there's still some
arguments for and against so going to
quit while I was comment on that I think
it's just fundamentally harder to make
quick sponsor makes it faster and that's
just five thousand websites
if you look at the top the responsive or
not responsive websites on the am down
sides at the top five thousand sites
it's almost the responsive websites are
but three times bigger on mobile than
those of m dot sights just that m dot
naturally lends itself to be more
lightweight and fast while in response
if you need to do a lot of work possibly
eventually you can get to the same
performance but I think we're so very
far from the point where it's just as
easy or just as implied and you can also
I mean it's not unusual for the M dots
especially the legacy ones not to be
doing advertising tracking and all sorts
of other things that the business gets
when they're doing a response at 12 so
you sort of it's true in correlation is
not causation and all that but uh but
the reality is that if you look even
that anecdotally it pretty much all of
the newly launched website you know it's
hard most of them would have done you
know very little this today we've done a
good job but images responsive images
are being tackled much more frequently
but still at the end of the day there's
just a lot more excess as compared to if
you were to do something dedicated I fit
I think on interesting things is what do
we need in way of tools or in browser
features to be able to build sites in
the same way the Guardian have built
their site more easy to make that easy
for everybody rather than just needing
somebody with guarded skill set
developers and I think that's probably
the topic I'm going to touch on most
through the day and it is damn hard to
build a fast site and we need it to be
easy we need it to be the default case
we need it to be especially like with
components you just drop them on and
they're fast right not you have to
figure out how to cash in local storage
or figure out how to plug in service
workers to cash it if you're offline and
not to not to fetch it if they're not we
have two signals with two seconds left
Andrew quick comment I think it's a
really frustrating trade-off because you
have on the one hand as Luke says you
know you can optimize one particular
user agent very well as you try to
introduce more and more I think it
becomes more and more of a challenge and
I think ultimately that's not a scalable
challenge because you know we could
we'll talk later in future web about
things like wearables and
non-conventional devices and TVs and
that kind of thing is responsive web
design going to deliver one single
solution to all of those things and
could it be performing as well I think
that's probably very likely okay we need
to move on to the new topic and the next
question is actually from and rebates
let's called a seamless same way people
do k do concatenation and spriting
become anti-patterns with the advent of
HTTP too if so when and it's got any
tire velocity prison time if so all fit
you I think we're aware is what we're
doing when we concatenate and sprites
turf and what we're merging resources
together so we're merging say JavaScript
together potentially got different rates
of change and we're making them all
cashable together so if we can split
them out then we can catch them
individually so hopefully they live
longer in the cash whether they become
when do they become anti-patterns it's
it it's an interesting event but pass on
that for now I'm going to come back to
that somebody else pick it up by now I
think you could argue at the moment
spriting already is an empty pattern in
some circumstances if you're doing it
wrong and you can have you know forcing
users to download a whole sprite when
they just need one icon is just that's
just a waste of performance for
everybody so I'm you know doing it in
the wrong way can it can already be an
army pattern and I think HTTP to just
makes that more obvious rather than
completely changing the ballgame Peters
yeah I mean it will be at one point it
would be right it will be hard for us as
developers when we need to serve both
HTTP 1.1 and 2.0 so I mean we need to
find the best way to do well we're kind
of doing it now I mean I know I am at
least with this site of runts PDM what
oh but I don't really care about older
browsers right now it's a side project
so I mean I can afford to but I mean the
way developers are developing sites
today I mean you've got a lot of
controllers or modules you have a lot of
different JavaScript files that you kind
of divide out to or
your application on the development side
but um you know it's it's a tough
question to answer like how how could
you support both like speedy today and
and and the older browsers that don't
support it I mean it's it's almost like
I don't know why would you not
concatenate everything that's going to
save your older but it doesn't matter I
think the challenge is actually when you
need it on the page in that if you've
got I was a web font that's referenced
in CSS for example it's you know the
browser has to download the page so we
don't know anything about the other
resources we need until we download the
page then we start parsing the CSS and
pausing the dog building a render tree
to decide we need the web font and then
we have to download the web font and
wait for it to arrive and the question
becomes is instead of concatenated or
inlining stuff in CSS is can we push
those resources using HTTP to so can we
push the font object early so the font
gets that earlier so we can render the
page real quickly when I don't think
it's even just pushing I mean the the
big problem we're going to have is
knowing when you have to support both
right right assuming you don't have to
support both it's the the granularity
you get by not having to concatenate all
of that stuff right you'll add all sorts
of JavaScript into your main javascript
file because it's needed on three pages
or whatever and all of a sudden you're
bloating it and when you break it out
and you don't start concatenating you
can granularly just pull down what these
individual pages need on the browser
side the browser's won't parse and
evaluate the javascript until it's
complete so breaking it down into little
chunks is nice for the browser as well
same thing goes for the sprite you'll
have like three images on there that are
needed for some random page somewhere
else and you need to rebuild the whole
sprite anytime you change one of those I
think well the thing that can help with
this is rather than using a sprite or
whatever is if you have something that
your client-side application can
understand the individual parts like on
and the FT web app what we do if we're
done loading images is we actually use
JSON and have all these JSON images
then we we can this the the the client
side code can cash each of these images
separately and it can handle them
separately and if we need to clear the
cache or anything like that we don't
have to download the entire sprite again
because it understands each of these are
individual resources it's only for the
network bit that were actually
concatenate and then we split them up
again all right but this is all JSON
data URIs local storage went back to not
making it easy it's horrible do the
right thing yeah it's horrible like a
quick question we got a question from
the audience and Mary Houston ok we'll
skip that one min Jonathan fielding and
so we were just talking about would you
say that with HTTP one hb2 could perhaps
have to have different outputs different
assets and like the text that all the
server side so that people who are you
wanna get in sprite still and using that
the old and patents ways and then with
HTTP to wear AV out to the cache county
form the best it can they're casting
individual images so effectively you're
saying you gets a bit the same argument
here to end up with the the MDOT version
which is going to be the HTTP to version
i'm going to have a lower salaries of it
since somebody's HTTP to pool and
somebody still a HTTP 1.1 pool I think
the you're not going to be penalized at
all if you continue your old ways of
development they are anti-patterns and
they do cause us as developers more
frustration right but or more work
essentially but um you're not going to
eat I don't think you're going to be
actually I know you're not going to be
penalized for concatenate versus not
competiting on the HTTP to side right
well you get penalizing cash Tim's
potentially but no more so than you get
with these speedy bushes to the cash
though right I mean it's pushes straight
yes there will be possibly a larger
download but I mean what's video racv to
once it opens the connection it will
push directly to the cash even if you
have caching disabled in your browser so
doing this during this I think so the
issue from clear is the you know during
this intervening period
you're going to have to support both
product yeah it's really going to be
it's more for the developers I think
it's more for us to have better
workflows and not have to go jump
through so many hoops and that's kind of
what HTTP two will bring by uh I mean
Ultimates it you'll have to decide at
some point do you have server-side logic
that detects and spits out the HTML
because fundamentally it needs to be in
the HTML differently for speedy or HTTP
two verses HTTP one or do you look at
your traffic mix and you go okay now
we've got seventy percent of our traffic
coming in that's speedy or HTTP HTTP two
capable it'll be slower for the older
browsers or the smaller group but it's
worry if it doesn't brace alright lets
you decide at what point do you cut oh
you use something like mod PageSpeed
that's protocol aware so it will do the
optimizations they used to be one and
it'll do different optimizations HD
beauty I know google has a report out
less November about using speedy on maps
and drive and a few different properties
and they observed like around a thirty
percent increase on all those so um I
mean at least we have some larger
entities leading the way there we need
to we need to move on to the knee but
just on this time of HTTP to just so I
mean the timeline you know its
specifications not even due to be
ratified until November you've got to
get all of the web server effectively
Speedy's out there right i mean yeah uh
exactly an IE 11 chrome firefox it's
effectively all the capabilities are
already out there so it's what's your
traffic mix what's your server side
support and what's your so if you're
expecting HTTP to to answer your
questions it's probably a way away but
you can start playing with some of the
ideas and the technology with speedy
cool next question Patrick Hammond
hi and so as detailed is said in a great
blog post in May last year that we need
to move past the on-page events and
metrics or the onload event and metric
and we have a lot of us moving kind of
enhancements to pass that load event as
well you know what is the new golden
metric or is that one Peter or through
they want to you you yeah you make you
make a tool which may just upon us I
mean it is speed index that are having
web page test but we want to move it to
other tools and be able to use it in run
mode I mean we need to know when the
content is about the full content is
it's an ace in the browser I mean that's
the important thing or how do you guys
see ya I mean fundamentally if you own
the site you're trying to measure
instrument it you are the one who knows
what you care about so put on load
handlers for your above-the-fold images
for example tag your ads so you know
when they load and then beacon all of
that stuff back I mean nothing is ever
going to be custom instrumentation doing
it generically that's when you start to
get into too difficult cases right if
you have if you're a rum service
offering something to everyone and
trying to automatically tell them when
they're above content is above the fold
contents complete that's a much harder
currently unsolved problem yeah I mean
synthetic I like speed index obviously
but you really do need to move beyond
the technical point when everything
finished because there is so much stuff
on pages these days that's not user
visible all of the ads tracking the
analytics there's even your AV platform
testing all sorts of stuff the single
page apps that scroll down forever
trying to figure out a generic complete
load time metric for pages I try to
encourage people to target start render
time so when some of the visitor
actually starts to see something in the
browser you know my third option after
that is
speed index which measures when the view
pool is complete visually complete and
for what it's worth there is start
render in the rum from IE and chrome
it's kind of buried in different places
like window dot performance at ms first
pain I think as I ease because it really
want to the white screen right so you'll
want to make sure its real for some
sites and it's not real for others so
you'll want to actually test the pages
you're looking at first to see if it's
actually a useful metric for you before
you start basing any decisions based on
that it's a quick quick audience poll
whoo-hoo realistically in their websites
are sort of using the page onload event
as their most common page load metric no
yes no first question to start with is
who actually measures their page no dice
okay so only about what about half the
audience is actually measuring their
page load times who's actually doing
custom instrumentation so they know
exactly when they're above the fold okay
and who doesn't work the Guardian the FT
okay so okay christian christopher emory
JWT yeah my question was actually
touching on the mean were we're going on
about using the page onload event as the
kind of de facto that's when the page is
ready I mean I work for an advertising
company and I've kind of come to peace
with that but actually think it brings
with it a lot of actually knowledge and
actually in advertising they've actually
dealt with this problem about ten years
ago and actually in when you're building
adverts to specifically digital ones you
have polite load the idea is the minimum
viable content you need on the page to
get it functional without distracting
user the other day adds passive
experiences when they're done the
concept of page so the restrictions
inherent in that platform kind of mean
that we have to be as efficient as
possible and actually now when we're
doing a lot of sites now we've done
though she'd some very effective kind of
responsive sites we took the same thing
there's a whole I'd mode where should
defer everything that we need for about
three seconds when the after the page
load event the idea that's enough time
for someone to click on
you button and click deeper into the
social they want to so what I actually
force them the way and this is Australia
that we're using right now it actually
works quite effectively and it means
that it kind of blows the line like the
page isn't ready I page on load but it's
actually usable and actually above the
fold everything looks the same since the
JavaScript files after three second we
then hook into that and then all the
carousels start working although
interactive videos and things of that
fire up Patrick you could comment on
them no that's great and it's good to
hear from an advertising company that
actually taking yeah probably it means
he isn't gonna get out of the room alive
yeah on that note something going back
to measurement and metrics something
that we've been doing with adverts and
we now that resource priorities API in
timing it guys is here we've done to
have discussions with our advertising
suppliers that so that they can set the
timing allow original flag said that
then we will be able to beacon and
measure and all our wrong grass have the
statistical data for the load the load
time of art verse one will know when
things are going bad or good on that on
that side place it's very pleasing to
hear advertising companies talk about
and contrary to sort of popular opinion
you generally do want to get your ads
loaded early so your users will see them
click on them and you will make money so
it's really important that you actually
know when your ads are loading though
and you know I've talked to several
companies that just stopped loading ads
so that they'll get faster page load
times and that's the wrong answer right
it's how do you get your ads not
competing with your content but both
loading visually quickly for the users
because at the end of the days you still
want to make money
love to talk about it this is like the
same prob we have a flash flash solved
all the problems in html5 has but the
information never got out and we
probably have a lot of performance stuff
in indy at space that was never talked
about because the competitive advantage
over their providers if i can just
follow on clean white i mean actually
the previous point we're talking about
having a wheel under consideration
mobile versus a desktop site we actually
fine because we're building kind of
campaign site so we're doing for Brian
it's like three to six months it lives
and then it kind of dies a lot of those
because they have a lot of money thrown
out them both invidious been targeting
to it as well as kind of you know
organic search we find it's kind of a
tricky Road we're actually finding a lot
of times I having a dedicated mobile
site works because at the end of the day
there's a path to purchase that we kind
of want the user to do and the desktop
might have that rich immersive kind of
interactive visual video experience
whatever the mic you but actually on you
know when it comes to mobile the use
case is different so why should were
finding a lot of times even though we
push for response over time
realistically mobile you know gives you
that direct path to purchase that ad
dollars behind at the end of that you
got to get the customers product sold
the end of it so so to summary the
answer is there a new golden metric no
it's the one you roll yourself using
user timing in the navigation in the
timing a pure and bigoted beacon it back
somewhere where you actually look at it
don't just ensuring page bit like
bitcoin a year mine your own goal right
next question is from Patrick chemin
owes me again is this is very similar
question but it's in a different light
so how we're now very well equipped to
measure our initial page load
performance with great tools like web
page test and
and things like rum but yet we're seeing
a rise in large-scale long living single
page applications but so doing these new
tools and to measure these and new
metrics and new visualizations to to
measure long-living applications they
were seeing on the snow performance
measurement in single page apps user
timing well I mean it's back to
instrument instrument it and figure it
out I mean you've got hopefully the
browser's are giving you all of the
primitives you need to understand what's
going on especially in the single page
apps as you swapped in content as you
scroll down and do stuff if you're not
getting the primitives you need I know
we were talking like a velocity summit a
few weeks ago or months ago at this
point about possibly adding load event
timing handlers or first paint timing
handlers to images and stuff like that
to all elements so that you can get the
the primitives but it really does come
down to you know what you want to do
with your appt time it weaken it back
and if you can't get it what your what
you need let us know I think it becomes
more of a rendering thing to write I
mean your page is already set up so it's
about image decoding and making Ajax
requests and getting the images in
decoding those and any other transforms
you're doing to the page and that's
really where it comes into Jake and
other kinds of measurements as well
gnosis junk is probably some APM vendors
in the in the house that would have a
conversation about if you go single page
efforts doing lots of Ajax requests to
the to the backend you know your sort of
that measurement is also going to become
more inherently related to the
measurement of that round trip time for
that back-end Ajax request and you've
got to start tying those two things
tighter together for those single major
it also depends if huge if your wedding
and all those Ajax requests like in our
web app and as soon as because we've
gone for we want something that works
offline we try and make it when you
click stuff you never waiting for an
AJAX request right we want all the
content to be there up front and in
advance so it really depends on your
your site whether you're doing these
click and wait for
content to come or whether you're doing
something else in the background and
that I think that affects what you need
to measure as well so you guys are
putting everything in local storage
right um I local storage and web web SQL
or index to me depending on the right so
what is it like your lemon I guess there
a limit on the content you download what
we actually have like it's a bit
complicated there's different modes and
like when you fresh load we try and just
get the basics so just the article
content we don't what with all the
images and stuff um because on some well
particularly old ones you need to press
a prompt to allow like 50 megs of
storage whatever and they will go and
start doing all the images and stuff
what we try and keep all that in the
background where possible and it
shouldn't we try and not get in the way
it's the user I bet they should just be
able to navigate the episode comes on a
rendering yeah it's all going to
rendering but I use generate another
problem when they run out of local
storage and they have to go from to max
you start managing local storage
themselves that do so yeah if we come
back to the to the question about do we
need new tools new metrics and new
visualizations you're saying if a single
page app measuring the rendering of that
thing that I've done becomes critical do
we have the tools on your PT or you make
tools do we have the tools to measure
that right now and I think the answer is
probably not actually we do but they're
manual I mean you have the timeline and
dev tools of rendering and painting
events but I don't know is that so
request animation frame is probably your
best friend but back to it's not easy
right I mean figuring out if your single
page app is behaving smoothly on the
client side and rum by hooking together
a bunch of RAF calls and looking for
jank and that kind of stuff it's doable
but it's complicated I've answered your
room much time do it so the answer the
answer to that is yes we probably do
need you tools and new metrics and I
think with you get to a point where to
be honest sometimes it's best just
having a manual tester using it and
going that's a bit sluggish you know
there's some things that
that's not the answer any buds but then
you're limited by cpu and whatever your
system is running yeah but that's what
the users gonna do at the end of a
that's that's what I do is we're going
to hand up over here ie11 has a lazy
load actually for images is it worth
having maybe an attribute for a tag
which would be like above the fold or
which will basically give the browser a
hint that this is your main content that
you want to prioritize well maybe below
the fold you'd have a laser tag there's
a combination advisor what's going to be
above the fold you don't know whenever
you're saving will be stuffed on like
where is that full going to be people
there is no fold in the browser yeah yes
so that's not a a specific I you as the
first ones to implement it it's a w3c
spec for lazy load and Hank postponed is
the other one or I'll probably get the
naming wrong but there's sort of two of
them one is don't load this until later
and one is I care less about this it's
sort of the the opposite of saying this
is important but you'd have to tag all
of your content it's kind of an attempt
to eliminate the j/s lazy load
implementations for images while still
letting the browser know about all the
content and give it priority hints so
the this is above the fold and important
is basically the stuff on your page that
doesn't have lazy load on it but you
should start seeing it come out to the
other browsers it's part of the same
group that did the performance specs put
about a minute left I'm going to take
one last question from our last down the
back there if you can run the Michael
yell very loud leola just a bit yeah
well for the video so about the single
page app topic do we need new tools and
new visualizations tooling wise so there
is just a coupla from total worked into
this there's commercial ones but gostosa
caliper
two frameworks and I think the story is
a two-fold one first of all we
definitely support from Freiburg vendors
because it's how we made it possibly we
have to interact with them because a lot
of their asynchronous logic we have to
follow just like typing in a keyword it
goes back with an xhr to the server
updates the table and renders it on the
page comes down to framework
instrumentation that you would have to
do or frameworks would build this
instrumentation right into those
frameworks that's the part it definitely
is i think with the framework vendors
and they have to do it because they re
wants to know best how the frameworks
actually work the other piece to it this
what we're really missing is that piece
like with with his favorite
instrumentation could to the point like
i updated the Dom he's really knowing
when certain elements have been painted
on the screen that would then be
something I see the browser the question
will fit this instrumentation of rain
works only one and framework should fill
it in for those who have not built it in
you would also have to have some beans
in the browser to instrument the browser
at runtime because that's what we have
to do today because sir Ram tools are
often not able to instrument it while it
is thanks to the browser reprocessing
him but it's a two-fold stories a
framework story with great extent and
there's two solutions to it okay and
it's also a story really but when it
comes to rendering it really ties down
to the browser go to move on to the to
the to the next topic but just to
summarize that I think that is a good
point made their this up some big sort
of emphasis may be shifting to the
framework vendors to really help people
understand the performance and the
timing instrumentation within that
framework plus there's also the point
you're making about the browser vendors
but we've got to move on rich Howard
so my question to both the panel and to
the audience is what role will automated
front-end optimization tools play in our
increasingly complex world do they add
yet another complicated layer of
abstraction or will they become a
necessity so feo tools like you know mod
PageSpeed or Ram riverbed stinger
optimizer I mean you were you're a fan
of varnish that's a front-end reverse
proxy type I think I'd class varnish is
different than those sort of things
because varnish it behaves like a hitch
TV proxy you know it followed by default
it will follow hitch to DB headers and
it won't do anything weird a lot of
these other ones I get very hesitant
about using things that are just going
to do magic in front of any CUDA I think
it's such a large education process for
front-end developers as well I mean
especially those that might just be you
know entry-level to mid-level it's it's
a lot of companies are trying to take
care of things like like performance and
and security with appliances and and
plugins and and things that go along
with the with the web server so i don't
know if it's needed or not i mean i
don't know if what developers should
just know the rules automatically or
they need the help too sorry by Thursday
named Peter first yeah I mean I as a
developer I want to know what happened
so I don't like these kind of tools
because I don't know exactly offical i
said the magnet the magic things about
it up it's making me on unsecured
actually but good as an operations
manager who's been waiting for the
developers to speed up the website rages
if I can sling 50 grand at at riverbed
and it makes my site faster that's the
cost of one developer well why wouldn't
I do that go give Andy you're coming off
the magic I we're trying to optimize for
different browsers behaving for ways
different devices over different network
conditions I think for a certain number
of custom of people i think it's the
only way to go i think it because you
know we're trading off the cost of
employing developers who may not be
doing a great job anyway you know
because there are some great developers
in the world
and there are some very average
developers and we see it in the way that
pages behave and it's you know if I can
deploy an automated device that will
speed up outside and give those visitors
better experience than why not and I'll
take I'll take coming from from Perry
and can somebody refresh on slide
because i think it's crashed no do so
because if i took Perry stand up and
wait for the mic quick all I was going
to say is i think i agree with steve and
with andy because i think you know we're
getting asked as developers opsware box
wherever which whatever we do we're
getting asked to do more and more and
more with less and less and less time to
do it and it's actually the business
that's going to dictate this I think and
I think these kind of automated tools
and devices are going to be the only way
that we're going to be able to keep up
with so there's going to be HTTP 1.1
we've already we're already struggling
with just dealing with what we have to
deal with now it's anybody get worse we
talking about later on there's going to
be new devices wearable technologies TVs
to concern ourselves with I think we're
going to have to do and for those of us
that are not in the consult performance
consulting ring I guess it's it's hard
to get time in companies to work on
performance so make your pages faster
it's hard to sell a lot of bosses on on
doing that as developers who work on an
application or site that's driven by
whatever advertising dollars whatever
you want to call it someone else's
budget basically and they don't want a
lot for that performance boost I can
speak to that personally so and I think
there's some class of optimizations that
you're going to start getting more
comfortable with handing off the one
that comes to mind in particular is
image transcoding supporting web p
there's a whole bunch of things that
you're not going to want to have to
rebuild an image server and you'll start
pushing off to appliances or a service
to do for you because you're not going
to want to maintain libraries of ten
different
image formats as we get like web p.jpg
XR and whatever else comes down the pipe
I think there's a difference between you
know making a conscious decision as a
developer saying I want to farm this off
to somebody else who's going to look
after manages to have just some
appliance stuck in front of all your
code that does whatever it wants because
it thinks it's better we've had problems
with a mobile operators doing this sort
of thing where they've gone like oh that
bit of JavaScript we could optimize that
for you so the pick the person who asked
this question works for Vodafone well in
the early days of the web that was one
of the things that caught us off guard
and you know because okay I've already
really think about my new things better
than you but if you're a developer who
knows what they're doing sometimes you
know better than the appliance and the
appliance just gets in your way I think
I think you know will they will they
become a necessity or increasingly
complex so I guess the question is do
you see the world we've talked about
components we've talked about HTTP 2.8 I
don't see the world getting less complex
so there's only so much complexity that
you can deal with there's a developer
shortly before somebody's going to say
let's end this off to an automated
process that does it better I'm sure
guide would say that you know Akamai the
next generation CDNs extent but but I do
think that you know two things one as
opposed to the carrier proxies the
intent here is to be something that's an
extension of your platform so it's to
save you time it operates based on your
instructions granted instead of writing
code you're checking a box but you're
tuning it and you're configuring it to
your needs so not quite as simple as a
varnish h2b instruction but not that
much different than varnish yes I or the
varnish kind of elaborate caching
policies so it's just sort of a general
thought and yeah and i think that the
point i come come back to every time we
talk to to users of this for people
considering using it is you know if you
can automate it why do it manually so
the the exact range of where the tools
good enough or are they not good enough
what what is your level of comfort
that's something that isn't as an
industry we still need to evolve and
improve but I think at the end of the
day if you have a way to do it
automatically
it encompasses knowledge and takes away
complexity you know the only the only
reason not to do souls that are not used
to it right and you can overcome that 30
seconds if you want to just guide go
this way let's do anything and so is it
oh but just want to add on Center know
what you're saying it's great that very
quickly yourself can try to act as a
extension the platform but actually
desert in my experience for the kind of
clients I'm doing our MSAs don't
actually give us free rein on our
platform we have to play by their rules
so a lot of times what is in our control
or things like the build tools
optimizing things down on our end with
the guys before we get onto that
platform so a lot of times like said
sticking to the basics effectively is
often the best platform good grab my
coby go over here one last very quick
question or very quick comment
I'm interested in the hard side of this
because I worked for me load time is
important yes you need to get stuff down
as quickly as possible but what's more
important is how quickly the user can
see the stuff and that goes through the
hardware you're discussing stuff like
batching is bad but do you consider the
hardware onion underlying as well
matching it's really good for the GPA so
batching a GPU doesn't know how to deal
with a sprite though right so as far as
the browser is concerned the GPU doesn't
deal with the sprite the GPU deals with
the sprite and a whole bunch of
different places and clips it and
doesn't deal with it better than images
but I'm gonna have their I'm gonna have
I'm gonna have to cut that one off and
you can take it off like we've got about
five minutes left and we still got a
question to go from Paul Lewis which
actually ties in very neatly with them a
something that was just mentioned
actually um my question got tweaked
which is topic of the day so I thought
I'd fight fire with foreign to get back
how should teams balance branding and
personality against performance and I
guess I had web fonts and images and
search in mind and how can they
meaningfully measure the benefits of
branding versus the benefit of speed and
I hashtag perf matters on the ends
hashtag perf matters always good I mean
you started to talk about this in the
answer to the previous question that you
know you come up against you think the
designers want their cool web fonts that
I necessarily want perform it right it's
the same kind of argument as the mobile
versus desktop side I guess I mean you
have to measure um I mean the business
knows what it wants whether it's a
brochure side or whether it's or it
doesn't want its users to drop off
because the page load time is is too
high or whether there's a lot of Jake
going on in the page because they can't
scroll down the page and their user base
drops because of that so it I mean it's
it's about do you want better
performance or do you want better
looking better looking side I guess
there's a balance somewhere in between
there but right now you really have to
focus on one or the other I think I
guess I'm interested also in the any
recommendations on who's had this
conversation with their business on so
who wants to stand up and reach from
microphone to say we've had this
conversation with our business and how
this is how we tackled it Patrick go on
you know you want it or nexon go on any
tag team it banging yeah we've had this
conversation quite a lot actually what
am i taking the Guardian got it sir
designers like there beautiful web fonts
but mobile users don't like to wait for
the text to show up so what we've found
is that maybe we could find a compromise
maybe you can have the really really
iconic fonts in there on mobile but the
the other forms maybe you can load them
only on desktops so that's the kind of
compromise we came up
no good at being good come on support
yeah yeah because they're the thing lots
of people do is you know we talk about
fonts and how many people just chuck
open sans or a font on the page without
considering all the fog lifted it so
there are even using web fonts there are
optimization options in the take out the
glist we're not using which takes you
know goo open sans off Google if you
start stripping it down to just font the
glyph font lets you need for English it
ends up being sixty percent of the
original size sorry sixty percent
reduction in size so you end up with a
much smaller glyph that's quicker to
download that you can embed as a day to
URI so you avoid the round trip yeah and
it's a it's a choice some some brands
it's as a brand measure what the impact
of performance is having and test
whether you know you can take stuff out
the page and still keep your grind
quality and whether that has an impact
on you know visits behavior I think I
think so this is the worst thing I think
maybe the panel I don't know still
missing missing the question which is
which is how do you get your business to
engage in this conversation and I think
the answer has to be you've got to be
able to measure the performance and tie
the performance back to the measurement
of your site Perry gave a presentation
at velocity this year where he gave some
great examples where they were tying it
into the analytics they tied it into
their Adobe omniture so the marketing
people could see very clearly that
conversion rate changed at this point in
time so step one is measure your
performance step to measure the
performance money step 3 start doing a/b
testing of slow versus fast or pretty
versus not so pretty and the key thing
there is make sure your performance data
is in with the business metrics having
them completely separately where they
can't sort of correlate the two to each
other becomes a really big problem it
becomes difficult to say the extra two
seconds is costing you 10,000 users add
a kind of thing but if you want to have
a conversation just strip out all the
web fonts they'll come find you you want
to figure out how to start at the
conversation
but just want to see with the ghost of
this actually oh this is our
conversation with our clients and
because of the tow company I'm n we
actually have a lot of media money in
terms of TV ads pointing at web
properties we're actually find that a
lot of that actually the conversation
about performance is actually being
talked to by the client it's actually
out of fear and it's actually two sides
the point we're talking pagelet perform
so if the server can handle willow would
actually come in as pointless about
fonts and stuff for that so are a lot of
our conversations actually start off
with okay well what's the media by okay
we're expecting you know it's gonna be
on how many TV channels left without
they're going to drive it to we have to
keep the server up so there's that part
of it and then on top of that you then
becomes a polity to park approaches with
regards to buying a product then it
becomes ok well how fast can they do
that not so much you know if there's
different parts of the site that load a
bit slower that's okay depends on that
critical part in terms of how fast they
can they get and I click the Buy button
so it does most of the really big brands
are talking performance but it kind of
comes from a fear factor that they don't
want this I could go down they don't
want to be a laughingstock and they
don't want to lose their kind of value
you know that was the performance of you
know metrics how many visitors to help
me you know people approaches we're
going to have to wrap it up there I'm
sorry to get you not be able to get to
your question but so we're actually
received the session so I think the
message there is play the fear
uncertainty and doubt card and your site
will crash if you put all this stuff on
it
which is not not an argument I like from
an Operations point of view because it's
my fault if the site goes down but
anyway so anyway thanks very much guys
thanks to everybody on the panel fuka
trilly cakes great contributions from
the floor and yeah rolled up</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>