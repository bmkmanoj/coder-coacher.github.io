<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using ES6 with Polymer (The Polymer Summit 2015) | Coder Coacher - Coaching Coders</title><meta content="Using ES6 with Polymer (The Polymer Summit 2015) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using ES6 with Polymer (The Polymer Summit 2015)</b></h2><h5 class="post__date">2015-09-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bX3_tN23M_Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">it's going on everybody super excited
being Amsterdam it's my first time I've
got my polymer swag on as you can see
prepared for the event so today we're
going to talk about es6 or as the cool
kids call it es 2015 this is the new
version of JavaScript all the cool
language features that are coming to us
a lot of the stuff you can actually use
today and I want to explain how to use
it in the context of polymer so a little
bit about me my name is Eric I work on
the developer relations team at Google
I've been on the polymer team now for
three years everyone says the project
started I built a lot of apps all the
sample code and demos I'm going to show
you today are up on my github if you
want to check that out feel free to also
ask me questions on Twitter so what
we're going to talk about well the first
thing I want to focus on are some of the
smaller features via 6 they're actually
pretty cool and pretty convenient and
you might have overlooked some of these
features as you're starting to learn
this stuff I want to focus on some of
the small things that allow you to build
apps faster and the second part the one
that we always get the question we
always get is how do you build custom
elements and polymer elements using
classes so that's a huge new feature of
JavaScript in es6 that i want to focus
on so why are we talking about es6 it as
a web components concerts well web
components brings a lot to the table as
far as evolving the way we build apps
more convenient apps feature for
developers it's not a feature for users
so maintainable code were usable code
new API primitives like imports and
custom elements in the template tag
these are really awesome new features
that allow us to build applications it's
evolving the markup and polymer sits on
top of this really convenient layer so
polymer adds extra sugaring right we
want to make it even easier for you guys
to write web apps using web components
so we have things like data binding we
have things like being able to define a
custom element a lot easier and other
features like Dom repeat and Dom
template these are really cool and ever
since I've been on the polymer team
we've wanted to evolve as the web
platform revolves so that means any kind
of new API that comes to Chrome or
Firefox or Microsoft edge we want to
adopt and start using them to evolve
with the web platform that's always been
our mission from day one so natural
evolution in the web platform is
JavaScript who is a JavaScript developer
the house maybe a couple CoffeeScript
developers to you guys are cool too but
javascript javascript is the language of
our choice right it is the language of
the browser and so it's a natural fit
that polymer and es6 play nicely
together again we want to evolve with
the web and part of that web a huge part
is es6 so if you're interested in using
this stuff today I actually recommend
this awesome table it shows you all the
features of es6 it's actually pretty
daunting because there's a lot it's a
great table and this screenshot even has
changed within the last couple weeks
since I took it you can see that a lot
of progress is being made in native
implementations of all the browsers
including Babel which is the transpire
that i use to transpile es6 to es5 so a
lot of good stuff is coming really
really quickly for a long time e 6 has
kind of been this pie in the sky magical
unicorn and one day we'll be able to use
it one day the specs will be finalized
and now we're actually there the polymer
tomb we've taken a backseat to exe 06
and that's because we didn't want to
introduce kind of an extra build step an
extra requirement for people to start
using web components we didn't want to
raise that bar too much but now with all
these native implementations all across
the board every browser you're starting
to see this stuff'll and you can use it
today so we have actually done some work
lately on the polymer team to better
support es6 now that it's becoming a
reality in browsers so Scott had kind of
the first check in here for better
support for classes so we're going to
talk about that how do you find polymer
elements using classes and also a better
support for compilation with babel jas
so really exciting stuff now that this
stuff is actually native in browsers so
you have your homework to do we can't
cover all the stuff in es6 there's a ton
of stuff a lot of features actually a
lot of primitives are now part of the
language whether their proxies being
able to intercept gets and sets on a
property es6 promises are a part of this
as well and new primitives like symbols
in math iterators and generators these
are all really cool things and mozilla
actually has a really good set of
articles and a lot of these features if
you're interested there's a link at the
end of the show so let's dive in let's
talk about some of these little features
that I'm pretty excited about the first
is the spread operator so given an array
prefix it with a dot dot dot
that explodes it out into multiple
values let's take a look at an example
we have a lot of code in today's
presentation you can't talk about es6
with showing a lot of code so just be
forewarned you're going to see es6
examples on the left and es5 equivalents
on the right if they exist so the spread
upper is kind of nice let's say you had
a function my function and it takes
three parameters XYZ with the spread
operator you can actually pass in an
array and prefix it with that dot dot
dot and what that will do is break each
of those values up into X Y Z so this is
really convenient really nice before you
had to do things like you know call the
function dot apply and it's kind of
nasty so eliminating some of these hacks
that we've had in the language if you
wanted to you can also use it anywhere
that multiple args are supported so the
array push method in this second example
if you want to concatenate arrays that's
really easy to do that using the spread
operator and lastly you can use this in
array literals as well so if you want to
create the array a through E you can do
that really easily using the spread
operator right inside of the array
literal so that's the sprite operator
default params proper default programs
finally in function definitions so this
is cool the es5 equivalent right if you
had a set color method its passed a dom
node is the first parameter and the
second parameter is you know we
specified it as optional just by the
naming convention but then you would
have to check inside of the code to see
if it exists or was undefined or not
instead in es6 this becomes a lot easier
we can define that second parameter
color to be red by default so if the
user passes undefined to us we don't get
it at all that's what the Dom know it's
going to be set to it's a really really
sweet little feature but awesome arrow
functions a lot of people are going to
overlook arrow functions I'm actually
really excited about them not only
because they save code and save a little
bit typing but they're actually bringing
a couple features the table and saving
us some bugs so let's take a look at
arrow functions let's say you have an
array and you're using the arrays map
method and inside of the anonymous call
back you have basically you're just
returning the length of each of those
strings so anywhere you use an anonymous
call back which is like all over these
days right in JavaScript you can replace
it with an arrow function so the
function keyword goes away the parameter
stays
and you replace it with that fat arrow
and the the same kind of callback that
you have inside so already we're saving
a little bit typing just read by
removing that function keyword since
it's just an expression we can actually
remove that return keyword as well and
then it just becomes a one-liner so you
can use map and it's a lot easier to
read I have one parameter here and so
error functions allow us to even remove
those parentheses when you have one
parameter so that hold map by happy for
just becomes a one quick liner in
JavaScript now really really convenient
you can use these all over the place and
they act just like any function you're
familiar with so the first two examples
here show an example of a function
expression and they're exactly
equivalent the first one is a little bit
more verbose you can see I got the
return statement and the curly braces in
the second example I'm just removing
those all together because it's a little
bit easier and a little bit more
convenient and you can use these in add
event listener you can use them in
promises anywhere you have anonymous
call backs they become really easy and
really convenient so this is a really
common thing to do in the polymer world
let's say you have a highlight method
you're applying a class maybe adding an
animation or something and then within a
certain period of time removing that
class removing that animation so who can
spot the bug here yes that's right so
this is a really common bug for a lot of
polymers in just in general cuz Java
scripts crazy the bug is that this isn't
what you expect it to be right set
timeout since it's on the window object
and the way JavaScript works this is
remapped in this case so it's not the
element it's not X foo its window and so
the easy way around this right is to
bind that function call to this and then
it this that class was list is going to
work out correctly but with arrow
functions this all goes away so we have
actually lexical scoping with arrow
functions now so if you replace your
callback with an arrow function this is
going to get mapped correctly it's going
to inherit the correct scope and it's
not going to do any of the JavaScript
craziness that we're used to this is so
a common in Parliament that we actually
have a special method this a sink that
it basically has the same signature as
set timeout so we're making a little
more convenient pre arrow functions so
that's that's arrow functions let's talk
about object literal shorthand you're
creating a lot of objects in JavaScript
these days might as well make it more
convenient
developers so es6 defining an object
maybe you have a getter right using an
es5 getter the important one here is
that we can define functions in this
object without that function keyword
again saving typing a little more
convenient but very easy to read the
JavaScript engine knows that this is a
function you can also have computed
properties so this is the way you define
person dot fubar and when someone calls
that they're going to get my return
string fubar ! so being able to do
computer properties at runtime is
actually really sweet and something we
haven't be able to do before so you can
use this in polymers or into the partner
world right when you're creating your
polymer constructor and giving your
prototype any time you're defining a
method whether it's one of the callbacks
ready attached or a changed observer for
example you can just use this object
shorthand in your function calls to
anywhere defining objects and you're in
the language you can use this stuff
template strings are really cool I
really like to epid strings they bring a
couple of interesting features to the
table the first is multi-line strings so
finally now in JavaScript you have the
ability to do multi-line strings other
languages like PHP Python have this with
here docks and triple quote strings now
in JavaScript we have template strings
and so if you wrap your content in a
back tick that allows you to define a
template string in Java Script that'll
give you a multi-line string when would
you use this in polymer well one example
is if you're creating shadow Dom from a
snippet of HTML so this is really common
thing for me to do when i'm testing
shadow Dom examples instead of doing
like string concatenation or escape
sequences you can basically just have a
formatted block of HTML wrap it in back
tix to form a template string and then
you can create shadow DOM and do all the
other stuff you're normally going to do
so it's really convenient and the code
becomes a lot more readable when you
don't have a blessed a bunch of plus
signs everywhere but the really cool
feature about templates drinks is
actually variable substitution so this
example here constructs a URL and using
the dollar sign curly braces you can
actually substitute values into these
placeholders and it's not just values
you can actually have expressions in
here as well which is really nice so in
this example I'm just constructing a URL
to the github API and host Oregon repo
are going to be substituted in there so
that's really nice it's a lot more
convenient to construct strings now
there's another form a more advanced
form of this as well which is called a
tag template string and this is really
neat because it allows us to do some
interesting things with meta programming
normally what happens with the template
string is that you get the final output
of the string from the browser but with
the tag template string you can actually
define a custom method in this case I'm
defining a get function which is going
to be passed my parameters my string in
my parts and so in that way you can
actually intercept the string before
after it's been concatenated by the
browser and you can do maybe post
processing maybe you can sanitize HTML
in this demo actually i did a proof of
concept where you can you know actually
make a get request write an xhr a fetch
request to the URL that's being
constructed so you can do anything in
here you want which is really really
kind of cool this becomes pretty
powerful one thing we lost in polymer 1
point 0 was the ability to do
expressions we used to have the ability
to do that five plus five and in a
binding or you could dereference an
array using a ray notation or even have
multiple bindings within a single Dom
node and we lost that because of
performance we wanted to again make the
the core library more performant but one
thing you can do as an interesting proof
of concept is actually teach the create
an element that teaches the binding
system to use template strings for one
way binding and so that's what I did in
this demo down here I created a template
expression element that extends the
template element and I taught this
custom element to pull out all the Dom
nodes inside of it wrap each of the text
contents in a back tick to create a
template string and by default the
engine is going to evaluate those for me
all those expressions so we can do
things again like expressions or having
multiple bindings with inside of a text
node which is kind of cool so again just
a proof of concept pretty happy to
actually do this if you check out the
code but just supposed to show you how
powerful this stuff is all right let's
talk about es6 class is the big one so
normally this is es5 don't worry about
the code right but this is kind of like
this is a class right we're using or
defining a function it's a github issues
function our class can have some default
parameters for it and the way you define
methods on in this class is to use the
prototype write javascript is a
prototypical language
so that's good but you know now we have
the ability to actually define a true
class so already if you look at these
two snippets between es5 and es6 it's a
lot nicer and more convenient so this
example uses all the stuff we just
talked about the first thing is you have
a proper keyword you have class right
you know as a developer that you're
reading a class here because it says
that it's very explicit we have a proper
constructor right so we will be able to
do initialization in this class we're
using a default parameter and this is
kind of cool is another default
shorthand in es6 instead of having a key
value pair or colon org and value colon
value there's a repo colon repo you can
just pass in the values directly and
it's smart enough to know that those are
the properties LLC I we have a method
right so the shorthand that we talked
about without the function keyword
pretty nice in a default sorting
parameter for that function we're using
template strings to construct the URL to
this github API so we have variable
substitution there and when the the
fetch calls made we get a bunch of
promises that we have to deal with and
each of those is using an arrow function
to simplify it a bit so it's a lot more
pleasant to read as a developer and a
maintainer of this code and so this is
really nice we can do this and we can
use this to create custom elements so
the way you define a custom element
using classes is that you extend the
HTML element we're extending the native
Dom HTML element and instead of creating
a constructor you're actually going to
use the special method of custom
elements the created call back this is
where you're going to set up your shadow
Dom maybe initialize some properties on
your element in this example I'm just
creating my shadow root and in its inner
h GL HTML and appending a little bit of
styling and a little bit of placeholder
markup for this stock ticker element
that I'm creating so let's create a call
back and then of course we can just
define methods as normal using the
shorthand notation or whatever notation
you want if we were going to create a
stock ticker element maybe we create an
updated quotes method and that then goes
and fetches the API in question so this
registered sorry this defines my my
custom element using classes the next
thing we need to do is register that
element with the browser and this is no
different than you normally would the
only difference is that instead of
passing a prototype or an object you're
just passing the class name that you
define so still traditional document
register the name
the tag so it's really easy to find
custom elements with a class but how you
do you define a polymer element from a
class well that's also really easy first
thing is class stock tickers same thing
as before but this time we're not
extending HTML element because polymer
is going to do that for us under the
hood the second thing we need to do is
kind of tap into this special before
register method this is a method polymer
is going to call for you before the
element kind of goes through its upgrade
process so in here this is where you're
gonna put all the good stuff this is
where you define your element name stock
ticker and it's where you'll also set up
things like your properties object so
you can define you know a symbols array
for all the stock ticker symbols that
you're going to have define an observer
and then from there the rest is just
traditional polymer code created ready
attached callbacks you can define that
updated quotes method and then the last
thing you do instead of document
register you call the polymer
constructor and pass it the class you
created so this is how you define a
polymer element for class same basic
concepts as the es6 Rob web component
version so how do you use this stuff
today well there's three three things to
do if you want to use this in production
the first is always use vulcanize that's
a great tool that we'll talk about later
you know build your app concatenate all
those imports together it's great for
performance in this case we're using the
inline script and inline CSS flags what
that's going to do is it's going to
bring in all of your CSS and your
JavaScript into a single file and inline
it the next thing you do is you pipe
that through crisper this is a tool on
NPM that we also authored that allows
you to rip out the JavaScript from that
single file and produce a standalone app
j/s file so you're ripping that you're
moving the JavaScript to a single file
and then once you have that JavaScript
you can run that then through bable
bable is the the transpiler that i use
its really great it's got a lot of great
community support and so once you pipe
that in you basically get an es five
equivalent version and then you can run
app j/s in any modern browser that run
zg is five so it's a beautiful future
polymer actually works really well that
stuff all the demos and whatnot are up
on github again like I said so feel free
to check them out feel free to run them
ask us questions about it so we're still
exploring es6 ourselves it's beautiful
feature
our web components are part of it to
make your mark up more sane es6 to make
your code more sane I really appreciate
you guys is time a couple of interesting
resources to call out again the es6 in
depth is really valuable some great
articles on this stuff and also code
labs upstairs so we have a code lab for
es6 and polymer if you actually want to
start coding so with that appreciate you
guys it's time I'll be back here in a
little bit and end of the day thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>