<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building UI at Enterprise Scale with Web Components (Polymer Summit 2017) | Coder Coacher - Coaching Coders</title><meta content="Building UI at Enterprise Scale with Web Components (Polymer Summit 2017) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Chrome-Developers/">Google Chrome Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building UI at Enterprise Scale with Web Components (Polymer Summit 2017)</b></h2><h5 class="post__date">2017-08-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FJ2KEvzlyo4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey how's it going folks my name is Alex
I'm and for the last eight years I've
been working with ei as a technical
director and I'm here today to share a
story of how web components and polymer
has really facilitated a monumental
transformation of web a da from the dark
ages of building one-off pages and
transient sites to the blissful world of
reusable components and rich engaging
player experiences so before we dig in
I'd like to set the stage briefly about
EA's place in the world we are gaming
company that is driven by our core
purpose and values to inspire the world
to play and to be the world's greatest
games company we deliver on this purpose
by being organised into this concept of
Studios such as Bioware dice and EA
Sports to name a few these 22 studios
are comprised of approximately 10,000
people in 30 locations worldwide each
studio has one or more franchises and a
franchise is kind of like a movie series
each game in a franchise is usually you
know a bit of a different story
characters etc but generally follow some
consistent somatic elements or overall
based fiction many of you have heard of
franchises such as Dragon Age Mass
Effect battlefield and FIFA EA's player
facing web is managed and delivered for
the most part in a centralized model by
about the hundred person team that I
work with pulse through this
centralization model we can achieve
efficiency through economy of scale on
our efforts and overall just ensure and
engaging in consistent experience across
that diverse EA ecosystem this means
that our group must meet the needs of
those 22 studios totaling over 50
franchises that release 20-plus games to
our players every year so today I'd like
to go over three topics
first our journey and decision making
process of kind of how we ended up with
web components and polymer second and
overview of the design system and
component library we've created over the
last two years and last some highlights
of how we've been applying this design
system and how it's been a huge win for
EA and our players so let's start with
the story of how we landed with web
components so we need to go back about
two and a half years so basically a
decade in front-end world - February
2015 when we really started our journey
with web components and polymer years
approach to web was very different back
then we embodied Conway's law to the
fullest in how we delivered our
disjointed web ecosystem and for the
most part we designed and developed EA's
web more like an internal agency one
project one site at a time this siloed
and disjointed web was really a sad
place for our players and equally a sad
place for our designers and developers -
we were spending 80% of our time on
commodity web such as navigation footers
news articles media galleries video
player you know pre-or and by page
leaving only a fraction of our time to
innovate excite and engage our players
with custom game specific experiences so
naturally in the world we want to
deliver we would flip this allocation of
time and focus around and spend the
majority of our time on the fun engaging
stuff instead so we started really
thinking and talking about okay how do
we get from this 8020 bad to this 8020
good and voila the network design system
project was born project name aside this
is really about applying well-known
concepts of a design system at pattern
library or a UI framework to how we did
web
the idea was that by having all of our
team members from product managers to
designers to developers to QA embracing
the complexity of the web with a
component based approach we could drive
efficiency and make our commodity core
web features turnkey but before we start
to hit the keyboard we took an
introspective look at ourselves what
other requirements needs once did we
have beyond those of a standard
component based design system what
special challenges did our contacts
bring to the table in the end our
special needs and wants for for the NDS
distill down to these four items number
one to facilitate deep steaming
capabilities to work with any language
and any framework to support our
microsite architecture and to deliver
user interface as a service so let's
look at these each in more detail
starting with facilitating deep steaming
capabilities now ideally we would have a
solution that worked with our entire
spectrum of branding and theming needs
from one extreme being the broad
out-of-the-box kind of EA corporate
brand to the opposing extreme being one
that is heavily seemed in a very focused
and specific manner for a single game
and in some cases meeting the very
stringent style guide requirements and
approvals from a license or such as the
cases with Lucasfilm for the Star Wars
franchise okay
number two let's talk about our desire
for this solution to the language and
framework agnostic recall this is early
2015 still and our group at that time
was the result of several internal team
mergers and reshuffles and as an outcome
we had a plethora of technologies
languages and paradigms in play from
frameworks and libraries such as Drupal
Symphony Grails spring angular drop
wizard and even jQuery 2 languages
including PHP Java and groovy
and content management systems such as
adobe experience manager vignette and
alfresco we had technology diversions so
unsure where we would end up with our
stack in the future we didn't want to
get locked in with any one particular
back end or front-end framework on
language this must work for the unknown
feature us as well as the rest of EA so
all right number three our micro site
architecture we had and to some extent
still have many discrete web
applications that have their own
lifecycle teams budgets etc but are
assembled together to be perceived as
kind of one single cohesive player
experience what this means is that some
design elements such as global
navigation responsive UI big breakpoints
and grid login flow pre-order page need
to be centrally controlled and
consistent across all of our sites well
other design elements can be more
customized for each site okay last up
number four user interface as a service
so given this microsite architecture how
do we avoid projects that aren't being
actively developed from falling behind
and getting out of sync with the rest of
the EA ecosystem how do we keep all the
projects pointing to the latest version
of this design system with minimal
effort by delivering our UI conceptually
as a live service we hope to address
these issues and really embody the
mindset of leave no site behind ok so
given our goals to build this component
based network design system coupled with
our four special needs
where do we start I mean what's the
approach the architecture the systems
detect the tools I mean there's a lot of
questions so just like the purple
pattern States unlike any developer
should be I am lazy there's so much out
there and there's so many people to
learn and leverage from so we begun
reading listening experimenting with
and consuming anything and everything we
could possibly get our eyeballs ears and
hands on in regards to the topic of
style guides design systems and UI
frameworks serendipitously a new podcast
from style guides io was out and posting
fresh episodes on this topic right
around the time of really 2015 what a
bonus so I'd like to talk about three
particular paradigms and systems that
were quite inspirational and key to our
path to web components bootstrap and
sort of friends Lonely Planet and the
government of the UK starting with the
ever-popular bootstrap and more
generally UI frameworks that follow the
same approach so here's a simplified
example of what integration of a
bootstrap like component library might
look like you include a pre bundled CSS
and JavaScript file from some CDN
location and I'll say go using the
components the system provides seems
easy which is awesome
seems good right so let's use this page
a nation component as an example it's a
good one because has some reasonably
complex UI different states some brains
inside and it really needs to interact
with other components in code to
actually do something that's meaningful
so let's see how we integrate this
component we start by going to the
documentation for the page inator find
the sample HTML snippet then we copy and
paste this large chunk of code into our
application okay it's obviously not good
from a reusability and upgradability
standpoint as we have essentially forked
this chunk of code I will now need to
manually merge those updates as they
come along additionally there's little
to no encapsulation all of the internal
structure and all the style are exposed
to me as an integrator I mean what
really is the public API is it is it all
of it
so we're not done we still need to hook
up some behavior now to this pager by
means of JavaScript and this is
generally completed by grabbing a
reference to the root element of the
and passing some factory or constructor
as shown here okay so the bootstrap
model shows us one way to do it let's
move on to Lonely Planet and see their
approach much like us Lonely Planet had
a micro site architecture comprising
many sites each with our own stack and
team around them that need to work
together to provide a single cohesive
user experience their initial approach
was to create a shared UI layer
following the bootstrap like model we
just explored and in this diagram taken
out of a talked by ian feather of Lonely
Planet you can see the two core problems
around risk and reuse depicted the
shared layer has the most reuse but as
changes here can affect all the
applications that use it risk is high
when making modifications especially
without a clear API boundary due this
lack of API you really don't know what
people are doing with your component so
over time engineers naturally will shy
away from making changes and doing
things in the shared layer because
they're afraid of breaking stuff so the
shaved shared layer shrinks and
atrophies while the site specific layers
grow basically the anti vision of any
shared component UI system
so what Lonely Planet did with their
design system dubbed rizzo was move away
from the copy/paste approach by
encapsulating each component into a Ruby
on Rails helper that took two parameters
one being the name of the component and
the second parameter being the clean and
minimal set of data that that component
needed to render this is much much
better so by implementing this component
layer and API between the shared layer
and the specific sites they're able to
reduce to remove the risk of making
changes to those components as well as
really ease overall integration efforts
significantly so the Lonely Planet's
folks really +1 bootstrap model with
their rizzo system naturally this is my
face after coming across rizzo so
excited and if
essentially ready to lock in and go with
this approach but not so fast
sometime after Rizzo being humming long
in production Ian feather put up a blog
post titled what we would change about
Rizzo
first the solution was tied very tightly
to Ruby on Rails and ERV templates and
hence was not portable or usable by
applications that employed different
languages or frameworks he hypothesized
about using mustache templates or
similar to sort of mitigate that issue
second all of that CSS HTML Javascript
and Ruby that made up Rizzo was bundled
and integrated into each site via a ruby
gem so each update to Rizzo meant you
had to go through a dependency update
build test and release cycle to each of
their 10 plus integrating sites
okay so Lonely Planet's Rizzo was an
excellent overall approach clean API
data-driven components but before move
on being Canadian all we figured it
would be a good idea to check in with
the Queen over at the government of the
UK inspired by the Lonely Planet
approached ed Soudan working with the
government of the UK really wanted to
resolve that issue of the effort and
cost of propagating those changes from
the component UI layer into those
integrating sites so building on the
corner poche of Rizzo they out of the
concept of a template resolver whereas
all those ERP templates were moved out
of the gem and into some shared network
location and then they're lazy loaded
from this location and cached locally
for a short period of time
this combined with pre bundling the CSS
and JavaScript on to that CD on location
allowed for changes to be propagated
with minimal effort to all their apps as
you can see the WK folks really took the
already awesome Lonely Planet approach
and +1 dat big-time with the addition of
that template resolver now we got quite
excited about this approach it really
felt like a viable option for us to
start heading down
but before we delve into deep we're back
to our for special needs just to make
sure and see how things measure up so
number one deep seaming capabilities now
reminder this is still early 2015 so CSS
custom properties were only available in
about 10% of users browsers ok so I'm
not sure how we can do this exactly you
know I guess we can figure something out
perhaps each site can build their own
CSS override file that just has the CSS
rule sets that need to be modified to
theme those components okay but what
happens when we refactor some CSS or we
introduce new component I guess we'll
need to rebuild those override files
okay well I mean we've got some tools to
build I got to process a document some
people to train alright number two let's
see working with any language any
framework well I mean we could just use
mustache templates coupled with the same
WK template resolve approach that would
do the trick we just need to build
client libraries now for every language
that we need to support okay so that's
like PHP Java JavaScript I mean at
minimum and then ideally we'd have
first-class integration into the front
and back and frameworks that we might
use so let's see that's at least four
frameworks oh boy now there's already a
lot of open questions plumbing and
miscellaneous pieces to worry about here
already now remember I'm a lazy
developer I don't want to write maintain
code if I don't have to I really wish
there was just an off-the-shelf solution
that I could just grab read some Doc's
gives me everything I need and one nice
cohesive package okay so back to the
drawing board what else what else what
else I mean we have designs for all our
components now like we need to start
getting on some codes like really soon
so I remember this this hipster tech
that was brewing for what feels like
years now
sounds cool on paper web components and
Google polymer I think it was oh yeah
that's right I remember there was a talk
at Google i/o in 2013
oh yes now I remember a fun looking toy
terrible performance due to some nasty
invasive dom polyfills basically chrome
only I mean like way to hipster for this
job I mean this is all the vias web
hinging on this decision I need a
solution that is ready for production at
EA scale like today but wait what is
this polymer 1.0 just released like now
production-ready web components really
all right sounds good on first glance
backed by Google focused around
components and not full-blown
applications all right all right chill
italics back to our special needs first
and let's see how things measure up so
number one okay deep theming
capabilities well we get seaming right
out of the box using CSS custom
properties and mix ins with a shim that
works everywhere cool we can theme these
components at runtime to know build
stuff necessary it's pretty awesome
alright number two working with any
language any framework well I mean it's
really just an HTML element at the end
of the day and almost standard Dom
interface so hypothetically anybody or
anything that can put an HTML tag into a
document to technically use our
components Bill of polymer oh and all
the CSS HTML and JavaScript is bundled
up together into an h2 my import for
client-side inclusion so no tie-in to
any specific back end or front end
language or framework needed to awesome
this is like sounding really good all
right number three support our micro
site architecture well it seems that we
can control the API however we want from
a per component basis so that should
work well and last up user interface as
a service well it's just client-side
integration HTML imports seems like it
has some of the basic working pieces to
make this happen so yeah it's looking
really good so my mind is blown at this
point
and off-the-shelf solution that meets
all of our special needs and lots more
tooling docks
etc less code for my team to write makes
me very happy and bonus is that most of
the gnarly parts of polymer are promised
to be native web platform primitives
sometime soon too I mean a frameworks
roadmap that states that it wants to get
smaller do less over time and eventually
may not even need to exist I mean that's
amazing
so with polymer this hipster web
components thing just became our top
contender so compared with the already
awesome approaches of Lonely Planet and
the government of the UK web components
and polymer 1.0 was like a plus 100 so
in September of 2015 we decided to
officially lock in with web components
and polymer as the core technology for
the network design system now let's fast
forward two years later down our journey
with web components polymer and the NDS
you know what did we end up building how
did our for special needs sort of hold
up in real life did web components and
polymer meet my mind-blown expectations
I'm pleased to say that we have
approximately 75 components that are
arranged into one of the six component
families which are just logical
groupings of components based on their
purpose let's look at a few examples
starting with our most commonly used
component our call to action or button
component
it looks quite polymorphic and it
supports different types for text text
icons images and so on and this
component also comes with Google
Analytics tracking out-of-the-box
ensuring that every button on every site
sends consistent and meaningful data
next up is our pagination component
something with quite a bit more logic
and state than a button to me this
patron ADA really showcases the power of
web components all that complex
structure style and behavior are nicely
encapsulated away behind this minimal
clean declarative
imperative API in this example we just
simply listen to that page change event
and do what we need to do with the data
we also have some very high-level
components that are almost like
encapsulated in many applications all in
their own this newsletter signup has
various states for anonymous users
authenticated user already signed up as
well as it provides a multi-step flow
complete with error handling
localization and integration with a few
external service API s alright so now
with that sample of components in mind
let's review our special needs again and
see how we've applied web components and
polymer to bring these to fruition
starting with facilitating that broad
spectrum of brand specificity and
fidelity that we needed now we have
about 300 CSS custom properties that are
set at the system-wide level that are
there to mostly control color and
typography we loved it even back in 2015
when CSS custom properties were not
widely available the shim that came with
polymer 1.0 allowed us to use this
powerful tool tool to seem dynamically
at runtime with no build necessary in
fact we now control these primarily
through our content management system so
a designer and a product manager can
spin up the site and steam it without
any developers involved we also have
many CSS custom properties to be used as
internal design tokens and are really
there just to keep things dry from a
development standpoint but they should
not really ever be exposed or altered by
our integrators in any way and so you
know these are rules such as our
responsive grid gutter and column widths
so what we do is that a build time using
post CSS we substitute and compile in
these static values for these at these
design tokens making them essentially
immutable and leaving only the cyma
below CSS custom properties exposed
so this is our tile or our card
component and it's used in most places
where we have a list of items to display
such as a news article videos characters
or weapons and all those CSS custom
properties are great for granular CSS
level control using HTML attributes as
another way to seem to control a
component has deemed to be very powerful
the example illustrates as well is the
type attribute on this tile that has two
possible values horizontal and vertical
using the host pseudo selector we can
have that single HTML attribute impact
the entire presentation of the component
from placements and size of the media
asset from origins and padding to
different layouts completely at mobile
versus desktop all by letting CSS and
the browser do all the hard work no
imperative JavaScript needed so just by
using those system-wide seen see mobile
CSS custom properties and the per
component HTML attributes we can deliver
all four of these tiles using the exact
same component all themed at runtime to
boot okay number two let's talk about
how the need to be language and
framework agnostic has gone here's a
very simplified view of our overall
stack today we have adobe experience
manager as our CMS in the backend light
bends Play Framework as our middleware
and of course polymer in the front-end
now we have taken the approach that when
we think about a component we think
about how it manifests across this
entire stack not just in the front end
ensuring that we can drag a drop of
component onto a page in the CMS pull
that component into the middleware and
serve out the custom element for polymer
to then render so for our stack each
component has first-class integration
top to bottom in this example of a
button but this does not mean that
integrators must use our
full-stack to get the benefit of the
network design system as each layer
stack is loosely coupled and has clear
API boundaries it's really easy to just
use that front-end polymer component all
on its own no gem no template service
client library just a simple HTML import
okay so number three our micro site
architecture so recall that some
components need to be centrally
controlled and consistent whilst others
can be more customizable web components
of polymer makes this really easy as we
get to control how narrow or how broad
the API is on a per component basis
components that we really need to be
nearly a hundred percent consistent
across all sites we just simply severely
restrict the API into that component and
others that are meant to be super
flexible have all sorts of knobs and
switches in the form of CSS custom
properties HTML attributes and you sub
slot based composition so our pre order
by widget newsletter signup footer
Network navigation are all examples of
where we really keep that API minimal
okay last up number 4 user interface as
a service now we apply some ver very
very diligently being super careful to
keep the NDS backwards and forwards
compatible with a strong focus on not
bumping our major version number for as
long as possible
sticking to backwards compatible changes
resulting in minor version bumps only so
this mindset has worked really well as
we are currently at version 131 zero and
in practice we could update a site from
1.2 0 to 130 1.0 without any code
changes or issues currently we deploy a
pre-built version of the NDS to a CDN
location using a naming convention as
shown here so this gives the URL meaning
as to the version the artifact type and
the artifact that's being referenced by
supporting a
fuzzy version masks on the major release
version means that the sites can ask for
a one dot star a one dot X and get back
a 302 that actually redirects them to
the latest one dot X release which as it
is a tagged and unchanging artifact is
sent back with a very aggressive caching
policy so as you can see our special
needs have come to fruition thanks to
web components and polymer now I'd like
to briefly cover a few more wins and
show off some of our sites so as
mentioned we have 75 components in
production
they're now powering about 30 sites in
total and that number is growing rapidly
every day on the left is a calm
corporate site using the out-of-the-box
default theme and on the right is a more
heavily styled titanfall 2 site but both
using the same and yes version and the
same HTML import and here are a couple
more with Mass Effect on the left and on
the right and upcoming new franchise
from Bioware anthem and we have gone
from a previous tedious and lengthy
process to bring up a site to now only
taking about one and a half weeks of
content only
that means no development effort so
component type thinking is really just
how we operate across all functions now
we don't design and build pages anymore
we are always looking to decompose and
then compose with component based
building blocks and as a bonus to the
delight of our digital intelligence team
we have been very consistent and
complete Analects tracking across all of
our components allowing us to compare
apples to apples between different sites
and of course efficiency and economy of
scale we've reduced duplication we have
better engineering mobility between
projects and teams and with a
predictable proven and streamlined
system we have much much lower project
risk
a far more dependable schedule so going
back to this original goal of living in
the world of making our commodity web
turnkey low effort and maintainable how
have we done I would say a resounding
success thanks to web components and
polymer thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>