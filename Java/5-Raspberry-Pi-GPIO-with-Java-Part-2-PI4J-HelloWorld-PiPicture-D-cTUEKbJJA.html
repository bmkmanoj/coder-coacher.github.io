<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>5. Raspberry Pi GPIO with Java Part 2: PI4J, HelloWorld, PiPicture | Coder Coacher - Coaching Coders</title><meta content="5. Raspberry Pi GPIO with Java Part 2: PI4J, HelloWorld, PiPicture - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>5. Raspberry Pi GPIO with Java Part 2: PI4J, HelloWorld, PiPicture</b></h2><h5 class="post__date">2014-03-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/D-cTUEKbJJA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name is we need to sing it and now we
are going to start
fun with by 4j gpio and Raspberry Pi
using Java embedded the most interesting
part of Raspberry Pi is the GPIO because
you can plug sensors you can have as
little as a little meter distance
temperature humidity and many different
types of sensors and you can also
control models controller LEDs control
lamps and ultimate your house and do
many things with that we have 17 genes 7
digital pins for general usage we have
one PWM and we have one I square C five
pins are used for spi and two pins for
you are the classical classical serial
connection now raspberry pi is 3 volts
so take care when you are connecting and
mixing 5 volts and with raspberry pi max
to treat you can convert the 5 volt
level to 3 volts so it's a CI that you
can use for that the parts the digital
ports are the basic one you have 0 and 1
represented by the voltage behind the
port if we have 0 volts 0 volt we are
going to have 0 if we have 3 volts we
are going to have 1 so that's the
digital port we have also in a lot ports
we don't have any analog port inside our
Raspberry Pi but in a lot of parts we
use to read in a log sensors like light
sensor is one that is in a log we have
temperature sensor that is in a log but
we don't have in Raspberry Pi and analog
ports you can read a value from zero
Juicin
like 123 depending on the converter that
you have and you can have the valley is
analog to the voltage so for a light
sensor if we have more voltage it will
be darker so that's the idea of analog
sensor they are analog to the voltage
and we have the mobilization of the of
parts with PWM is the most used method
for mobilization and then we'll do that
modernization you take a one digital
part and this part will be a period turn
it off and another period turn it on and
depending on the period it will means
power or it will be can be used to
control the speed of a motor so the PWM
is very useful part when you need to
control the power the amount of power
that you want for some specific
component and using a combination of two
or more digital ports you can create a
protocol to communicate with another led
training components but the industry we
already have some classical and famous
industry protocols like the UART
protocol the serial protocol very famous
and use it in the PCs we have SPI spi
ISA a bus full duplex bus with high
speed but we have some famous protocols
in the industry you don't need to create
your own protocol the most famous
protocol for communicating components
communication is the UART is the serial
one that we use it in the past in our
pcs we also have the SPI the SPI is a
very fast food plaques bus that you can
plug more complex components to that and
the I square C is also a bus but
just use two y's and it's very low speed
compared to the SPR
so we have the support for all those
three protocols in Raspberry Pi and I
like this just drop this because
it's very clear how is the Raspberry Pi
GPIO and you have an explanation about
what is the icrc the UART the module
ization the SPI so that's the download
you can use you can print and a have it
near you will help so here we have just
the GPIO ports with the name and
everything the numbers and the pin
number one if we are looking to this a
picture we have the GPIO it will be like
this this the pin number one is here and
the pin number one is here so just make
sure that you are looking in the right
direction the first and classical
embedded project hello world is blinking
an LED so we have here this diagram with
the LED the longer Y will be going to
the digital port of our Raspberry Pi the
shorter one will be going to the ground
so we have a resistor here and you can
actually take it out if you don't have
the resistor and you are just going to
blink your LED no problem but if you are
going to to leave the LED turn around it
can burn if you don't have the resistor
so the resistor is a look at into the
part number for the GPIO number four and
that's that's it the other side we have
a button
plug it into the number 17 with a
resistor to the to the power and the
other pin to the ground so it's almost
the same thing as the led so we
recommend you to have a proto board and
these components to make the first
exercises with your Raspberry Pi and the
libraries for playing with that so
before using Java to control the GPIO we
are going to show you present you
dividing by writing pipe is a low-level
library to manipulate raspberry GPIO you
have a set of useful current lines to
manipulate the GPIO and debug the GPIO
or test your components the installation
process is very easy you just need to
clone a key to repository using this
command and you just go to the widen PI
directory and type a butte and the
project will be done in three minutes
here we have the screenshot of the
installation process and the comment
line to manipulate the GPIO will be
pseudo GPIO less g mode for output it
means I'm going to use the part number
for to write to that and the next
command sudo GPIO less G right for one
turn on the part number for turn off the
part number for and since we have an LED
plug at YouTube we are going to see the
energy turning
now here we have a bash script example
here we are reading the GPIO number four
and storing the resulting in CMD we are
showing the result and if the result is
0 so it turn it yo and if it's 1 it
turning off so if we make the opposite
operation now I'm going to show you how
to comment the GPIO using whitey by and
comment line I'm going to open my
terminal and I'm going to type sudo GPIO
last Jean mode for output so I want the
part number for to write into that so
super GPIO less ji right parts number
for 1 turn it on and now just turn it on
and turn it off 0 we could turn it off
so that's the basic demonstration that
you can do with the comment line beyond
shell scripts and much more now let's
talk about web io PI this is a very nice
utility for manipulating GPIO using our
web browser this is the URL to download
you just need to and compress the file
that you downloaded and change to the
web I hope I director that it will
create and you just type sudo set up dot
SH and don't forget the sudo it will be
stopped it takes some time like at least
10 minutes should complete and the next
command you can start a search the
service is listening to the port number
8,000 so you just need to open your
browser type the IP address of your
Raspberry Pi with
part number 8,000 it will prompt you for
I use it it is where you buy and your
password is raspberry and you are going
to have you using interface like this
well you can click now to put in to
change the direction of the part and you
can click here to change the value of
the port let's see it working so what
I'm going to open a connection with my
Raspberry Pi in the port number 8,000
here we go we have here the option it
didn't prompt me about the password and
user because uh it's the storage here
locally and I can click in GPIO header
and I can turn on and off the energy
click in here in the port number four
so very simple and nice to use and debug
your project to using any kind of
browser so that was the Wyden PI and web
io by demonstration now let's talk about
pi for j i4 j is a library for
manipulating the Raspberry Pi GPIO we
don't have AI standard one for Java C
right now maybe in the future we will
have GPIO library for Java C embedded
but now the most popular is PI for J
it's a very good library
thanks for Robert subsolid for doing
this open source and PI for J is based
on wine PI and you can control the pins
the direction you can reach you can
release them to to
being without cooling using interruption
which is very good and you have support
for the protocols serial protocol sex
Percy cereal and the classic cereal
watch it seems simple to use and you can
download in this URL and if you don't
have Wi-Fi in your raspberry just
download the deviant file but if you
already have the whiting pine your
raspberry just download the zip file
because you just need the jar files of
the PI for Jade project all you need to
do is to put the five for J core jar
file in your class path in your project
and type some Java code to manipulate
but before doing that you need to pay
attention because when you are coding
with PI for J the physical parts they
are methods to some alias number so if
you are if you want to deal with the
part number for the the logical name
will be seven so you need to check this
map to avoid mistake which is very
common mistake so let's see this example
this piece of code we have a an energy
object type of GPIO pin digital output
and we just have a factory reference
through the GPIO variable and my LED
index zero is a GPIO obtain up our pin
number seven here is the place where the
alias is happening the number seven
means the number four so the reason why
is if the
spare just change the number of the
beans you can make it easy in adapting
your code so this demonstration we are
going to blink the LED using PI for J
and Java so we have this main method we
receive two arguments and we have the
number the x blinking that you want an
interval how many times won't you blink
and interval so we are going to obtain a
reference to the pin number four which
is number seven here and we are going to
blink the LED in this part so let's see
it working we have this project
available for download and by 4j hello
world and it's a NetBeans project you
just need to download build and transfer
the distribution with you to your
Raspberry Pi here we have the
distribution directory and I'm going to
type sudo Java last jar by 4j I want to
blink the IDE ten times with 100 mile
seconds of the third ball so let's see
the light is blinking oh it's a very
simple and nice example by far J is very
very easy to to use now we are going to
use the relay board so I'm going to
relate what is a very useful board
because you can control any kind of
appliance a fan across machine because
it's a digital interrupter and we have
here a tube to challenge two relays and
four wires one wire is power
another one is ground and to whites to
control the relay so I'm going to plug
here so the gray is ground ground and
the power is the green over and some
relay will be together with the LED but
this really works this inverted so when
we have one it will be turning it off
and so we are going to blink the LED but
we are have the LED turn around with a
turn it off and they will make the
opposite so let's see how it's performed
we could see the real a blinking in the
noise let's try it again
twenty times with the incredible of 200
mile seconds
you see working and with a few lines of
code you can control a relay and I
really can control many many things
inside your house very good board for
home automation now I'm going to show
this coop project using a camera using a
proto board some LEDs and a button so
here we have almost the same thing as we
show before but we have three LEDs one
at a gene part number for another one in
twenty two and another one in twenty
four so it's very simple just duplicate
the connections and we have a button
connected to the part number 17 so we
are using the pipe camera for this
project and the PI camera must be
activated using raspy confit so you just
go there you will find an option to do
that and you need to reboot after doing
that and to plug your PI camera in your
raspberry board just have the silver
part faces to the HDMI connector so the
code behind our open-source camera is
this one we have the GPIO reference to
the factory and we are creating a button
here with the number GPIO 0 0 which
means the physical port number 17 and we
have three LEDs the GPIO seven three and
five which means the physical number for
22 and 24 and we are going to blink the
three legs when we start the camera and
we have a button trigger this is a new
thing that we didn't show before this
method will be colored when someone
pressed the button and it will color
comment to take the picture so we have
here this alternate system because we
are going to receive
two times this event well when the
button is pressed and another one when
the button is release it so we need to
just process one of these event and so
when we want to take a picture we just
call the process rusty steel and take
the picture with the director slash home
slash by the name of the picture will be
by camera 0-1 and incrementing the
number of the picture so let's see it
running I'm going to open the connection
and we also have the project available
for download you can just download build
the project using your NetBeans and here
I downloaded to this director in my
raspberry and I'm going to the
distribution that actually and I'm going
to run using sudo so that's the command
sudo last jar by picture and our camera
will we start blinking the LEDs now it's
red take a picture and we are going to
review the cameraman of the video set so
let's see if it will work I just press
at the button and it's taking the
picture okay we done and let's see if it
really works let's refresh we have here
a connection with FileZilla and I'm
going to download the PI camera zero and
okay
and let's see who is the guy behind the
camera here we go Junior
Jacob productions behind the camera
Thank You jr. so that's a very simple
project that you can do and build your
own camera for doing anything that your
creativity will drive you so the final
considerations for the lessons that we
have here is that raspberry pi is very
easy and very simple and Java is very
optimized for raspberry pi so you can
have great results in a very short term
we are going to support you using forums
and we have everything available for
downloading in this URLs and my final
thank you and see you soon we are
recording more videos in the next weeks
and my twitter is at this Center and my
email is Vinicius at global polka dot BR
see you guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>