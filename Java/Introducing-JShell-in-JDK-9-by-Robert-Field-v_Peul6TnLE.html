<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Introducing JShell in JDK 9 by Robert Field | Coder Coacher - Coaching Coders</title><meta content="Introducing JShell in JDK 9 by Robert Field - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Introducing JShell in JDK 9 by Robert Field</b></h2><h5 class="post__date">2017-09-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/v_Peul6TnLE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi I'm gonna giving you a peek at J
shell which is the new interactive shell
for the Java language in JDK 9
I'm Robert field I'm the architect and
lead of J shell so if you ever wondered
about some aspect about it of how Java
works the library a Java construct a bit
of semantics
maybe you've written a little program to
find out let's say you don't know how
unsigned shift works with negative
numbers thing and read there but you
need to write a program so you create a
file maybe in your IDE maybe from the
shell and you have to create a class and
a method public static void main and
arguments and a print line and then you
can actually look at what you're
interested in well once you've done that
you need to compile it and then run it
then you get an answer and that you
probably want to revise so let me show
you how it's done in J shell in JCL we
can just type in what we're interested
in and we immediately see the results
it's 1 and it's also put in a scratch
variable called dollar one so we can
access it later if that's interesting to
us but one doesn't tell me much what if
it was minus three okay seven mean it
looks like maybe bits let's find out by
looking at a variety of value so we want
I to be let's say go up to minus 40 and
let's print out both the shift amount
which is I and the result so the shift
amount is I the result is minus 1
shifted by I and we see that all those
but those are bit so probably not a very
useful way to see how that works let's
represent them as a bit so I know that
integer has a function method that
converts to a bit string but I don't
know what it is so I can type tab here
and it will show me
what methods there are on the integer
class and sure enough there's a two
binary string I put in to be and
complete it and there we go well if you
make a mistake you immediately see it in
J shell in this case it's telling us
that it's now a string and we can't use
an integer conversion for that so I have
to go back and change that to a string
and let's give a width to the other now
let's look okay I only put in 20 spaces
and it's a 32-bit integer let's really
look at it it's the right width so we
can immediately play and and get exactly
the information we want okay now we're
going back to the slides what is Jason
child good for it's for exploring API is
that are unfamiliar to you or language
features we just saw an example of that
you get to experiment and instantly see
results when you're new to job or new to
programming it every API and language
features a new to you so it's a great
way to learn you can start with
expressions and statements rather than
having to understand the whole structure
of a class and methods
you also get immediate feedback which
helps with learning and the third kind
of use of J shell is your prototyping
something complex that you don't know
exactly how it works you can do that bit
at a time and build it up within J shell
but what it is J shell so it's a tool
for dynamically interacting with the
java language it's a reader valuate
print loop or repple and finally there's
one for the java language you just type
in a snippet of code and you see the
results so J shell is deeply integrated
with the JDK toolset what that means is
it stays current and it's compatible
with the language and semantics of Java
so what we're looking at is going to be
the tool because that's easy to show but
there's also an API on which JJ shell
tool is built and which you can build
another repple
choosing or use it with another tools
that you want to be able to evaluate
Java Java code how do you use the J
shell tool as we saw you just type in J
shell at the command line
assuming jdk nine is installed J shell
tool uses two kinds of input one snippet
so we've seen those little pieces of
declarations or execution I have the
other thing is J shell commands and they
give you more information about what's
going on or allow you to control how J
Saltworks
commands are distinguished from snippets
by using slash in front of them and your
input whether it's snippets or commands
can be tab completed and has a history
and and it can be edited the line
editing in fact uses Emacs standard
Emacs bindings what are snippets their
declarations which include variable
declarations method declarations class
declaration interfaces imports or
expressions from the very simple to
convoluted stream lambda expressions
they're all the statements while if
switch so forth in fact the only things
that aren't allowed are things that
don't make any sense in the context of J
shell not programming in the large so
there's no packages you can't have
statements without their enclosing
contacts just like you can't in
programming Java they're all more give
you a little idea of the commands so
there's commands to get information you
can list the snippets you've entered you
can look at your variables etc eCourse
can exit J shell and you can set up an
environment you want to work in so you
set your class pass module path you can
look at and access the history and you
can use any editor you want from within
J shell you can also save your work and
J shell is highly configurable so
there's a sophisticated set command it
allows you to set up J shell to work
exactly
you want there's also online help for
all of all of this okay here's a quick
look at the architecture of J shell
don't need to worry about this too much
but I mentioned that it is built on top
of the JDK and sure enough it uses the
standard Java C compiler and for
execution it uses the standard virtual
machine between the J shell tool and the
J shell core implementation you see
something called the J shell API that
allows you to build other tools using
this functionality so let's play with
that here's J shell I know that happens
to be the core class of J shell but not
much else about it so we'll need to
import that there's a there's a cool
trick in J shell you just say shift tab
eye and it offers to import that class
so we'll type one and it's now imported
but I don't know what to do with this J
shell class I've got let's hit tab and
see what the completions are well
creating an instance of J shell is what
I want so that sounds like the place to
go now I want to hold on to that as well
so let's hold on to our instance of J
shell by creating a variable by typing
shift tab V then I can all I have to do
is type in the name because it's already
provided the type so I have the instance
of J shell but I'm not quite sure what
to do with it
we're gonna want to evaluate snippets
let's see well look there's an eval
method I have type you know fill in the
eval but I don't know what the
parameters are if I type tab again it
will actually show me what the
parameters are it looks like it's a
string input but if I want more
information about what that is I can
type tab again it will give me the
documentation for eval okay let's say we
want to just create a
variable that's our test snippet for our
new repple and we'll want to put that
somewhere too so again let's type
shift-tab V and that's our result and
our result is a list of snippet events
and there's only one thing in that list
so let's get the one snippet event in
the list which we can do with get 0 I'm
cheating and we want to hold on to that
event - and saying not only can create a
variable we can also import that type
and create the variable which sounds
more elegant so let's do that let's call
that variable event now what can I do
wanna vent looks like I have a lot of
options everything from the snippet that
caused the event status and so forth and
make an exception bolla see what our
status is status is valid well that's
good it's a valid snippet but what we're
really interested in is the value values
3 that sounds good too well now we're
ready we can write a little method since
we can write methods classes any of
those things in J shell and notice all
along I'm using tab to complete things
make this quick because I'm absolutely
now what we want to do here is print out
the value so the value the value is a
string and it's in we just saw is in the
value method and that's the end of our
method and so we've declared a method in
J shell let's test it out so we can test
immediately that's one of the designers
of what you can do in J shell so we'll
display the event we just created
sure enough it gives us a value now we
can write the first step in processing
so the input we're going to process is a
string which is our snippet and we'll
use that display method we just created
but what we're going to be displaying is
the evaluation what we saw before of
whatever the input was and again we're
gonna cheat and get the first result and
now let's see what we've got
can we process an input let's say can we
top process two plus two as an
expression sure enough it works so where
do you get all this J shell is part of
JDK 9 which you can download at this
link and please participate in our
mailing lists and follow us on Twitter
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>