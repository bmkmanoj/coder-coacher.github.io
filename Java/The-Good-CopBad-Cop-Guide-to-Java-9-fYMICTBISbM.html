<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Good Cop/Bad Cop Guide to Java 9 | Coder Coacher - Coaching Coders</title><meta content="The Good Cop/Bad Cop Guide to Java 9 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Good Cop/Bad Cop Guide to Java 9</b></h2><h5 class="post__date">2017-10-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fYMICTBISbM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay hello everyone and thank you very
much for coming to our session we
appreciate there's a whole bunch of
really good sessions so so thank you for
for joining our one my name is simon
maple this is my colleague oleg slave
hello everyone and this is a session on
good-cop bad-cop guide to java 9 so
who's heard of Java 9 so far in Java 1
most people I would expect that on a
Wednesday so we're gonna do a slightly
subtly different outlook on on this
session it's not just gonna be a regular
session we're gonna be a good cop and a
bad cop so that's first of all introduce
ourselves yeah this is me my name is
Alex wife I come from Estonia I work for
a company called zero to round as a
developer advocate there are a couple of
things that I do I maintain our blog
called rebel apps where we publish
technical content so if you go check it
out
it will make me personally very happy
I'm a co-leader with Simon of a virtual
drug which is the Java online only Java
user group so if you're lazy enough to
join your local Java user group we will
welcome you and we'll be happy to have
you and I'm also a leader of GDG group
in party in Estonia which is a very
small town but a very proud one so I
also work with a London jug and the
virtual jug and I work in developer
relations as well so I work as a
developer advocate for zero turnaround
but yeah let's get started so Java 9 the
debate the way this is going to work is
we're gonna play good-cop bad-cop
we're gonna take a number of the major
Java know and some of the minor Java 9
updates and one of us is going to play a
good cop one of us is gonna play a bad
cop so the good cop will look at some of
the positive parts of that feature the
bad cop will look at perhaps some of the
parts of that feature which aren't so
good and when you as the jury have heard
both the pros and the cons you will vote
as to whether you like that feature in
Java 9 or not or whether it's something
enough for you to migrate up perhaps the
way it were
taxes if I'm good cop or I'm bad cop you
always vote for whatever I say because I
like to win and just ignore Oleg really
that's probably what I'll what I'll say
so that starts before I start before we
start let's not get into this debate so
fast who is excited so John 9 was
cooking for a long time and then it was
released and people some people are
excited about that some people are not
that excited about that
so let's vote in the beginning of this
session before we hurt all our arguments
whether it's good or bad who is excited
about John I see yeah if you do that in
Estonia that would never happen that
would never happen we might have a guest
from somewhere yeah welcome Paul who is
not excited about John 9 and it's kind
of disappointed with this release few
people ok right so let's start shall we
yep modularity the elephant in the room
the Mafia the big elephant in the room
so modularity why do we need modularity
well we have modularity in a couple of
different ways we have platform
modularity and we have application
modularity we really need platform
modularity because the way the the
platform has got over many many years
requiring backwards compatibility it's
turned into really the elephant in the
room right it's a huge beast that we
need to support horrible things like
clobber who likes core bar nope no
whooping no okay
we don't like clobber but why do we have
to have it because we have to support
really old apps that need core bar okay
but even if we don't want to use core
but we have to still have it as part of
our platform so what we do is we
modernize the platform into modules that
we can choose whether we want to have in
in in our runtime or not and depending
on what our application needs from its
from its platform we can bundle up a new
runtime which only provides that so
we're creating a runtime based on the
needs of our application rather than
having this one-size-fits-all JVM and it
is a big size fits all JVM for any
application that wants to run on that
job platform you'll notice at the bottom
here we have the the Java based class
this is this is the fundamental class
which every
and everything must use it contains
things like your collections everything
that you need to use if you want any
kind of java application we also have
some compact profiles there which you
may recognize from other things the
lines our dependency so if you if you
require a specific bundle
that's like module I'm an OS GI person
as well so this is Hertz if you require
a certain module like let's say here we
have scripting that module will in turn
depend on base so depending on which
modules you require you'll build up this
dependency tree okay we deal with
modularity already when we design things
we draw boxes we write words in the
boxes and we draw arrows between them we
design in a modular way so when we write
code we write it very very flat okay we
don't actually put push that into into a
modularity into a modular way and the
reason is up till now we haven't had in
any enforcement in our runtime now
whether we're compiling or whether we're
actually running in the runtime that the
platform will always enforced modularity
we can't compile against something if if
a module structure that determines that
we don't actually depend on that module
likewise in our runtime we can't start
our runtime unless all the modules are
present for that for the application to
run so very very key both in compilation
and during runtime that the module
structure must be satisfied for us to
come to fully compile or fully run
that's very important but this is the
first time we've had enforcement now yes
we have the module path we still have
the class path so if you wanted to still
use the class path you can although
under the covers everything is still
modular in in the platform so you can't
use things that are hidden from you so
what's hidden from you well in modules
you have encapsulation what the module
exports is what other modules can use
what the module depends on what it
requires
that's that creates the module growth so
if a client applications running on the
class box it's still running on a
modular JVM but if you choose to use the
module path in your application then
both your both your platform and your
application will be running in a modular
way but you don't
soli need to do both wow that looks
painful doesn't it as a result the
unsafe API which many of you have heard
of mostly probably frameworks and
libraries the unsafe API is is going to
be hidden from you it was an API which
was which was meant to be an internal
API but as I said before there is no
enforcement previously so people were
using it and actually for good reason
because there's some great stuff in
there and it's made our ecosystem richer
let's let's do a demo Jack should we see
we see a demo actually you've probably
already seen how module invoke Java is
anyone's in knots in a module demo got a
few people I'll show you I'll show you a
demo just with services so I'm gonna go
over to IntelliJ let's clear some of
this up so in IntelliJ right now I have
I have three modules 3 j9 modules I have
0 turn under API and let's start with
consumer consumer is our consumer module
that actually goes to the provider via
an API now our API if we just quickly
have a look at that is right API is very
simple it's got my service and it just
has a single method called get message
in our module info Java we just export
that package so this is a module
containing code that is then exposed to
the rest of the module system consumer
where's our consumer here no that's our
provider sorry a consumer here has a
single class called consumer wow that's
not Mary yeah that's not very good is
that ok a consumer just has a main
method it spins around in a loop calling
cool services cool services just does a
system print out of a counter looking
for services that count is incremented
we sleep for a second and then we print
out nothing at all so it does pretty
much nothing yeah but there's a little
spoiler for you in the middle which we
won't talk about just yet the next thing
is the provider and the provider in pull
all the provider in pull does is the
provider in pull implements my service
and implements they get message method
okay so we have a provider which
implements the service we have a
consumer which will soon grab that
service and that's pretty much it so I'm
going to run this I might even run it
using durable so we will get a code and
update it as we as we go as jeribai
loading and now here we have our loop
looking for services but there's no
services there so how do we actually use
services well we use it by the service
loader and the service layer is actually
something which was what 1/6 maybe 1/4
something like that and it's been there
and and the modularity system uses the
same service loader we can register
things with it and we can grab grab
services from there so what I'm going to
do is first of all I'm going to actually
make sure we're using the service loader
so in a consumer and a module what I'm
going to say here is I'm gonna say that
we use a specific service so that's
going to be a hero turn around or API
dot my service so we're now saying that
we're going to be using that service so
I'm gonna hit save I'm gonna rebuild my
application there we go so that's been
reloaded live into the environment still
not got any services and the one of the
reasons for that is well we're not
actually grabbing any services from the
service loader so I'm going to come back
in here I'm gonna uncomment this this is
a great way this is a great new style of
development it's called development via
uncoding you get far fewer bugs it's
amazing I don't know why more people
don't do it so we go to the service
loader we say load all services or the
interface my service we actually get
iterable back of my services we go
through that and we just try and call
get message on that so I'm going to hit
save I'm gonna reload that into my
runtime and there we go it's reloaded
but we're still not getting anything
back and that's because no services have
been registered now the way to register
a service is in my provider class here
we go provider
imple we have our provider input which I
showed you in our module info dot Java
what we actually need to say is we need
to say what we're going to do is were
going to provide
the the class org dot zero turn just get
rid of that turn around
dot API dot my service and we're going
to provide that oops we're going to
provide that with the org dot zero turn
around dots
provider dot provider
imple so we're saying we're going to
provide the service and here is our
implementation and what that's going to
do when I save that and f9 that that's
going to reload in and all of a sudden
we're getting a service back our service
is just returning underscore what that
simple provides messages does is that
the the Java Runtime is under the covers
registering that service with the
service loader and then when we actually
use that by another by another module
and actually perform a lookup into our
our service load we're grabbing that
service back and just to prove that that
is the service I can go into our
provider amplify wanted to and let's say
let's say this is from Plus this get
class oops
darts and get name hit save let's relate
that and then you'll get the name of the
class which is oops there we go
from water turnaround or provider in
pool so that's that's the modules will
go
so that's Java nine modules before we go
on to much more just want to say the
modules hasn't just been available there
for the platform and to allow us to have
more modular applications but because of
the module system I'm sure all of you
have heard of the new release cadence in
Java going forward it's gonna be every
six months so next March we're gonna
have what it's likely gonna be called an
18.3 release their next September we're
gonna have an 18.9 release the reason
this is possible is cuz of the module
system by having me by having everything
as modules it's much much easier to make
our updates and push that into that push
that into the new runtime with it you
know in a single module without having
too many dependencies on other modules
we can also
a tool called j-link which allows us to
reduce the size of our runtime using
j-link we can say this is my application
provide me with a Java image that will
allow you to only use the platform
modules you need and it will provide you
with like a 40 mega image rather than
this huge image and that will that will
allow you to run that you know the JVM
with your application and it's much much
faster smaller footprint and also
incubators we'll talk a little bit about
HTTP 2 later but it wasn't ready because
we needed more community feedback but
now what we can do is we can release a
module as an incubator which will allow
for that community feedback and then a
later stage we push it into the main
open JDK so not only as modules provide
us with a much nicer way of of
developing our code but it is also
allowed us with all these new freedoms
to release Java quicker to have smaller
runtimes and to actually you know play
with Java and more with incubators so I
think we should just vote now I don't
think there's a bad cop in here is there
that's good
that's pretty amazing modules are
excellent as the salmon said we have a
smaller footprint we have faster release
cadence which has nothing to do with
modules but the features who can get
there sooner so before we go forward we
we need to assess every feature not just
by what it gives us or what other people
say it gives us but what it actually
does it solve a problem for us and we
have to remember that modules built in
the JDK as they are were designed to
solve a problem for the JDK developers
it wasn't in the jab it wasn't any plan
to devise a modular system to build
consumer applications from scratch we
had that opportunity to have OSGi in our
systems right we didn't choose that most
of us didn't choose that create so enjoy
excellent
you're good people some of us didn't
choose that and and so module sauce
really nice problem of development open
JDK and enforcing the rules and
integrity of the open JDK better
but what is the cost because it's very
simple on the language level that this
is like five new keywords a new module
info file and a lot of pain was actually
migrating old projects to the Java nine
if you work on the greenfield projects
you've starts from scratch this is
amazing and you would love it if you
actually have an application that is
several gigabytes several thousand files
big then you would perhaps have a
problem you would have a problem with
the build systems we will have a problem
with ecosystem where some some libraries
don't actually migrate whom were
unsupported or maintained any further
and all that can cause you trouble so
when you are getting excited about the
modules you have to know that there is a
migration path so before the migration
path was a little bit unclear up to the
very last moment of the release of Java
9 but currently we think that this is
the idea of how to migrate further so
what do you want to do you don't want to
upgrade to the development environment
immediately it starts module rising
everything what you want to do you want
to upgrade if you cannot upgrade your
production environment out of the blue
because that's just unwise so you want
to upgrade your staging environment or
something where you can try it out you
can benefit from the other improvements
that are in John 9 and then you want to
fix the easiest things that you can
potentially fix concerning the module
system currently it is not enforced to
the very strictest level by default but
you can turn it on if you want if you
want additional work fixing those Earths
but you can fix the warnings and then
you wait for some time preferably
somewhere until April 2018 first you
will have the new major release of Java
and second probably the ACA's system
will catch up and you can migrate to
modules bottoms up starting from the
libraries you can also migrate the other
way around but it's much harder so when
you think about the modules keep this
picture in mind out of those two people
who they think is a developer and who is
an architect
the feature the like modules will
benefit architecture concerns vary
greatly but for a developer it could be
a lot of pain so the good thing is
unsafe is still accessible so we can do
stuff under the covers
so modularity
let's boot so who thinks who thinks that
modularity has saved the Java language
and is has actually made the Java
language more sustainable for the future
who believes that modularity is a good
thing in Java 9 there we go there we go
ok who believes that Java and release
and migration will not be easy I believe
uh but that's not that's not the
question but that is the answer no let's
go further though let's let's let's talk
I would not one right I would that one
oh I will give you that yeah
yay modules let's talk about other
features so let's look at the garbage
collection because this is something
that does mix Java great and from the
beginning of the times we had the
managed memory and we all use
application Reese were the hardware
resource and the memory as it is
infinite and it is absolutely perfect so
what comes in John 9 it comes the new
default garbage collector called g1 GC
if you think of the Java heap Java
memory you probably think of a picture
of something like this you have the heap
it is separated in different regions
there is the Eden space where the new
objects are allocated and then when they
live long enough if they're survivors
they get promoted to the Turner space
and then they become the old generation
the hypothesis here is very simple the
old objects that already survived a
couple of GC cycles the problem will
survive more so it doesn't make sense to
collect the memory from the whole space
but it's better to split that into
different regions and then you can
perform smaller garbage collections and
save time on that so the latency of a
single garbage collection cycle will go
down and so now with G 1 GC this concept
is pushed into not to the extreme but my
further what do you want you see does it
splits your heap into very small regions
and then they all are allocated and the
objects are allocated in them randomly
and they still have the type so in some
of them there will be young objects in
some of them will be old objects and the
object moved all the time but the main
benefit of that is that the garbage
collection can decide how many is those
small regions it can collect at any
given moment and through that it can
control what is the word garbage
collection pause with that he can do
magnificent things first the latency of
the garbage collection goes down second
you can adaptively control that so you
don't have to have like a spreadsheet of
JVM options to tune your garbage
collection in fact to tune your garbage
collection now what you want to do you
want to just say this is my requirements
for the garbage collection process and
this is my requirement how much space I
can sacrifice to achieve that Leighton's
the number and this is all garbage
collection tuning that is required with
g1g see well there were of course more
to that but in a normal conversation we
can stop at that so do you want to see
is pretty amazing isn't it yeah and this
is how it became to us it came to us it
was introduced in GDP 6 it was tested so
it's a very mature technology you could
have used that before very many
companies try that tested that on
different workloads and it works
beautifully and now it is getting to all
of us in jt9 so when you run your
applications on on Java 9 they will
probably run a little bit faster in
terms of having smaller garbage
collection pauses it does trade off some
throughput maximal stupid because the
garbage do one GC will run concurrently
with the application so not the food
resources for your hardware will be
available to you but for most
applications especially for applications
where the latency is important this is a
very great thing I think the next one's
yours
yeah so to summarize that you get the
faster memory management with superior
application tricks so is G 1 G C a good
thing well some performance experts say
yes some performance experts say no
ultimately it really depends on your
application you need to test it with
your application but the question is is
G 1 G C exciting in Java 9 well let me
actually go back to a couple of things
this was introduced in JDK 6 was before
my five-year-old son was born tested and
supported in JDK 7 that was before my
five-year-old son was born
officially the default you see in JDK 9
who cares
you could use it anytime you want it
before JDK 9 just with this switch and
if you are using a specific a specific
GC in your in your JVM arguments is 19
can affect you because you're going to
continue to use that in JDK 9 so is G 1
GC a good thing yeah probably as it
gives you choice is it good in Java in
JDK 9 well it's killed in JDK 9 is good
it is in JDK 8 &amp;amp; 7 &amp;amp; 6
it's always been there pretty much so
that's my argument as to why G 1 GC
isn't a big deal in JDK 9 who agrees
with me that as a result it's not a big
deal in JDK 9 okay this might be closer
and easily it would meet and go
different in Eastern Europe
so who believes it is a good who
believes it is a really good thing in
JDK 9 or even yeah pretty even okay
right next one you're on that J shell
who's out of J's L pretty much everyone
who loves J shell who hates J shell
right okay good I'm glad cuz I'm good
cop here for J shell okay let's stop
good things J shell is a gimmick
reasonable people I know you can leave
you guys because I'm good cop here right
so J shell J shell is a ripple in a
ripple stands for really milk program
close print Luc know we go read eval
print loop let's just jump into a demo
shall we
okay thank you
it's not that kind of repeal it's it's a
raffle so I just type J shell and that
puts me into a really nice contour is
that is that readable from the back
thumbs-up good right so it puts me into
a consult Here I am in a console I can
talk to the JDK I can talk to the shell
if I wanted to talk to the JDK I just
put something as simple as one plus two
and that gets me three if I wanted to
talk to the shell I just put a slash and
as soon as I put a slash I'm not talking
to the JDK so I have a number of things
I can do so one of the other things I'll
mention there is when I put one plus two
I didn't actually I didn't actually
assign it to a variable so what it's
actually done is it's assigned it to a
variable for me with the dollar one if I
wanted to do something similar like int
X equal 18 I was gonna put underscore up
and double underscore cuz I can double
underscore equals two plus three oops
two plus three I noticed my reinhold
just walked in that's why I did that two
plus three and you get five so now it's
double underscore there how cool is that
mark that's brilliant that you've left
that in for us
I type slash me and and that gives me
that gives me the variate the current
variables that we've that we've got if I
wanted to do something interesting like
system OS you know you can anyone tell
me what's missing there let me just put
that at the top what's missing there
semicolon we can we can code Java
without semicolons how good's that it's
amazing that's work that's worth a whoop
if nothing else is worth the wait
getting just a movie yeah let's dress
the red dot
sleep oops Wow no try/catch how cool is
that
if I if I do I'd know a public void say
hello and then here I can just do
something like system oops system dot
out dot print me print then hello at
this point because I'm doing multi lines
it obviously needs a obviously needs a
semicolon so when I do that we now have
a method so i can type slash m and we
get a method i can slash edit that say
or two idly did capital say hello and we
get this amazing 1970s window pop-up and
from from here i can say hello world i
can i can say except that and you'll
notice that that that has actually
updated there i can exit i can execute
that apologies for for making that a
capital s by the way and we get hollow
well so i can do that we can also add
classes and things like that if i wanted
so i excite coops so I can say class a
we get a class a I can say interface
interface B we get our interface I can
type slash team we get our type so it's
it's pretty much just you know using
using a used a rebel before for up with
other languages just yeah it's great we
can we can use there is I think it's
Java repel comm was what we could use
previously but this is nicely connected
straight into the open JDK yeah other
things like you can check what's
imported other things if I wanted to I
can just type list and I can see
everything that I've typed in to the JDK
I can also type to slash history and I
get everything that I've typed whether
to the JDK or to the console itself if I
wanted to I can save that as commands I
can slash research which resets my state
so if I now type slash P I get nothing
but what I can do is I can open commands
and this is actually just saving it as a
as a text file and now it's run
everything so you saw that one second
repair delay then you saw the you know
the creation of everything then you see
hello world so that's J so taste it was
pretty pretty awesome one other thing
actually if I slash exit this is our
only user venkat line here depending on
how how
you're feeling at the time you can exit
in two different ways you can either
command D if you're feeling you know
like you don't really want anyone to
talk to you if you're feeling a bit down
if you're feeling down and you need some
you need a hug
just type slash accent it says goodbye
so there we go right if you if you type
J shell and you just type printing
something something very very nice that
we get a little bit mucky and that all
it all it actually does is if if look at
the methods it provides me the whole
list of prints so I can then type I can
type print hello or hell up whichever
you choose and and you know it's much
much nice you don't have to
system.out.print Leland's different
things like that one thing I will say
which is absolutely awesome and it's
great that mark syndrome actually cuz
I'll say it I'll say it so marking here
I'm sure he said it before Haydn's
converts did a really really great
videos about 30 minutes long or so and
one thing he did was he actually created
a a script with a with a hash Bank and
passing in J shell and then a scripted
system with some Java code and by doing
that you can actually execute J shell as
if you were like a bash script or
something like that if it throws an
exception I don't know if it still does
that maybe throws an exception but you
can ignore that and then just runs runs
Java like a script how cool is that
but yeah there's J shell brilliant
brilliant brilliant and over to you for
a bad cop yeah we yep jeschill is
brilliant and it's gonna change it we
help people learn Java and help people
get into using Java especially the small
humans children children and agile is
pretty amazing at the same time it's
really hard to imagine that Jo would
change the way we develop software it's
pretty hard to type in like a
significantly large program into a
single show there is this reason why
Simon didn't show you how to create an
annotation
there is no reason you can presentations
in jail but it just takes a little bit
more typing so while it's a it's a great
thing it feels a little bit gimmicky
personally I would love to see the
future where you can connect your Jay
shell to running JVM process Java
process write and execute commands
within the context of that process I as
far as I know currently you cannot do
that you can embed gesso and create like
a console in your app but you have to
think about that when beforehand and if
you think about that beforehand it
doesn't count so yeah I it's a gesture
it's a gimmick all are the languages
have that now Java has that as well
yeah Java so who believes Jay shell is
an interesting tool and you'll probably
use it to test our API it's and things
without having to know support up a
whole browser and browser ID and do a
whole bunch of extra things who likes
the idea of just coding quick okay okay
who here uses a proper IDE and hasn't
done Java development in VI or Emacs for
ages and the Omar IDs supports some sort
of like evaluation of expressions words
like scratch pads or something and they
know that they will almost never touch
the Jay shell at real job except for
testing racket or something
all right so modules modules are thumbs
up do you want you see it was in draw
and I think draw for JC already right
it's 50/50 for me API updates we can't
really be a bad cop on API updates so
we're gonna both be good cop for API
updates because the API updates are
always pretty awesome for Java
developers so so you're gonna do the
demo right yeah and yours well here
other than yours come on I mean
obviously I'm gonna show you the new API
using the gimmicky J show whoa
I don't want to change their vote now
this is not my machine so my typing will
be a little bit slow but we'll manage if
we run out of time please just tell me
that we need to cover other things
because there are many many API
improvements in channel 9 right and we
will not go through all of them I'll
show you a couple of that I like the
most or I think they're the most
affluent influential maybe and we'll see
how much we can I do so one thing that
we wanted from Java for ages right and
everyone thought that this would be
absolutely great to have that work
collection literals so we don't need to
create the new early list and then the
subsequent statements populate that with
data now we have those the collection
leaders in Java are here just getting
the note collection leaders there are
factoring methods because we're talking
about Java so but the thing what we can
do you can talk about you can create a
list of elements or a set of elements in
a single line of code and you populate
that and it is a fully functional
implementation of the list interface
over you can do a set and you just type
off and you do the elements and you have
a set you can also do a map where you
will just provide the key and entry
values in in a row and it will create a
map back to you the good thing about
this is that while it simplifies the
syntax it also does very important
things the implementations of those
classes are very interesting so if I do
this and do get class what I think will
get who thinks that will get an array
list a few people who think I'll get a
linked list smart so in fact I will get
new implementation that was just added
in the Java 9 and it's an immutable list
of one element and one of the things is
those implementations are fairly heavily
optimized so that for example it stores
the element in the field so with passive
doesn't need to do that in the array
access so it just reads element directly
because it's mutable in contains one
element and so on if you have lists of
two elements it's also heavily optimized
and there are like a collection of n
elements and further
so those collection literals will make
your code more readable and it's going
to be absolutely great to use those one
other interesting thing actually when
you've got that gate class if you just
grab that again off that gate class you
can actually do a dot i think as it is
it get module module just have it yeah
get module so if you don't get module
there you'll actually see you can
actually see which module that came from
which is kind of nice interesting thing
to know about one here yep and then you
remembered if you're still in class pass
and everything is great so besides that
there are a couple of things that so in
John eight we got the stream API and got
optional sanjana and those are really
great and then in John 9 there are a
couple of improvements one of my
favorite is the stream method on the
optional so what you can do now is
optional of say 1 and I can do a stream
of it and I get the stream
implementation while it seems like a
unreasonable thing to do because an
optional provides you with the swim like
methods for mapping functions or the
values within the optional container
it's very important so if I do this
27:27 and I do a map function here so I
haven't an apply function whatever get
say x times 2 what will I get back
will I get 4 will I get an optional 4 or
1 to my mass is terrible
no in fact I will since stream is lazy
by default now if a convert optional
into a stream I will get the laziness of
the stream in my optional so back I will
get the reference pipeline and we'll
need a terminal operation to actually
in evaluate the function that they
provided if I do just a normal thing
optional of one and I will do a map
immediately here I will get the result
immediately so if you have a functions
you might your mapping the functions
which are expensive performance wise and
you don't mainly really need to evaluate
them early you can always convert an
optional tea stream very very easily
another cool thing that is present in
the optional optional
what is it empty let's do the empty one
previously we had the method called if
present which would take a function
which will evaluate only the if the
value in the optional is present now we
can have the method that takes two
arguments and it called it is called if
present or else and it takes two
functions so if it is present then we
have a function and we do I think we
need this side effect here do you start
with drinking yes print X and if it's
not then we just have a supplier and we
do print empty I hope this works
empty you can never know if it works not
you know why because we're in J show I
love to I love the way I love the way it
took about four times to do that because
you actually the smiley instead of a
quiet thing I'm fairly optimistic person
very rarely I'm a bad cop so there are a
couple of things on the stream API so if
I take in stream and if I will type that
correctly and then we'll do a range from
1 to 10 now we have the methods to drop
elements while and take while which are
pretty interesting they also present in
all other stream implementations and now
we'll have them built in the JDK as well
so say we can drop the elements until a
certain condition is met and X more than
5 and then after that we will for each
will print
this element when we see we drop the
first five elements also you can just
take a number of elements in it from
your stream it's very useful if you just
need like say like five elements but not
the five elements but like you need to
take the events until some condition is
met for example you want to skip the
duplicate events or something so the
stream API was enhanced as well one
thing one thing I like about this
actually is the take wall so for example
if you actually had an infinite stream
and you don't want it to continue
running and running and running you
might say I'm gonna take while while
some other condition is met and then
when something once I'm billion hits
true then you stop that infinite stream
you know I'm going to kill a process to
kill that streams as can be quite
interesting as well yep and another
thing that was added was the iterate
method where you can do the proper
iteration and we'll need to check the
syntax on that so you start with the
start value then you do the increment
step and then you specify a condition
and before John I it was quite clumsy to
do that because there was no iterate
method to do that but now we can do that
if it's less than 10 and then we for
each would print them and
is the other way around see a proper ID
would suggest me to do that I should
know this is exactly like a for loop but
now you can generate streams normally
like you do because you have some
condition and then from sequence of
values a I have the step and it's a
fairly interesting API to play with
there were some improvements for local
data time there are some improvements
for the process handles the process a
process management is interesting
because before it was so messy in Java 9
and then we'll just show you that thing
and then we'll go to the next of next
things there are also concurrency
improvements the completely future got a
couple of new methods there were also
reactive classes in the like flow so we
can get closer to the reactive
programming mainly in jdk 18 3 or
whatever the version ends up being but
with the process process handle there is
a new class and you can do the process
handle current you can do the sub
process management fairly easily so you
can get the current process you can then
execute some info and get some arguments
and yet you can get the arguments for
any processes you can get the process
representation in your Java code so if
you deal with sub processes or if you
need to check any arguments you can
differentiate with mudan processes much
easier this is also cross-platform which
is fairly great because now around
everything runs in docker so now we
especially need that cross-platform
things there are a bunch of improvements
my personal favorite is that now we can
read the property files in utf-8 there
is exactly one method that supports that
but we can do that so if you can find it
that's very cool
the single underscore is not supported
this is now unreasonable to type a thing
like this what
will happen if he sleep enter an
exception right there is no type I don't
know that there is no keyboard keyword
if I do just to two underscores just
like Simon did I will have the name that
there is no variable type inference
sufficient enough and we will do but you
can use two keywords so you're going to
check your source code for single
underscores and then you can wear that
other in API language improvements you
can have private methods in the
interfaces so now with the default
methods in private methods you can
actually put a lot of logic in your
interfaces which is amazingly great and
there are a couple other things
oh let me just check yeah if you use try
with resources this is fantastic this is
not the API improvement language you
prune they try with resources blocks now
you can use effectively final variables
in the try with resources so you don't
need to declare them within this little
line of the try block but you can
declare them of somewhere above and then
use them reference them in the try with
resources block and they will be closed
automatically at the end of that try
block so that makes the code much more
readable but it's really hard to show in
JSON so but we're still super excited
for the for therefore the API
improvements okay so here okay so the
final few things that will we'll talk
about HTTP to HTTPS project rather than
being in the full full JDK which is what
I mentioned before so I where talk about
up for too long this is your slide I
like I don't know why you picked this
this page it's a picture of a full
Google search angry hipster and this was
because the jason-- jason-- libraries
and jason manipulation did not make it
into jdk 9 which is very great because
we have plenty of third-party
implementations and you can choose
whatever my currently personally is
marshy I think by Square but yeah some
hipsters might be angry about that you
save the best till last
html5 Java Docs and it is searchable
yeah say you couldn't type in that the
hang on see this little search box right
on the side here you can type something
in today I think you can actually just
say for completable future for example I
think you can just do capital C capital
F it's all right muck capital C capital
F in it all it'll actually do the search
for completable futures well I'm pretty
sure it does that so yeah you can you
can pretty much search for whatever you
want known as a smart search so yeah
welcome to 2005 with that one
anyway with a few minutes left maybe a
couple of minutes left
two minutes left so any questions maybe
before Leo questions because a couple of
people are starting to leave let's do
another one so before there were a
couple of people who are not excited
about gamma 9 let's try that again
who is excited about Java 9 release who
thinks that it's a fairly medium curve
release as they go there were a few
before but J shall I think so I'll say
I'll say a big thank you for everyone
for turning up we love presenting at
JavaOne so thank you for the full room
please please please if you could vote
for our session that would be awesome
I will not you know actually as I was
walking in the guys told me that the
yellow and the red buttons don't
actually work so yeah if you feel like
pressing the green button would
appreciate that very much thank you very
much
and if you don't like the presentation
you can use J rebel to redeem your sixty
minutes back thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>