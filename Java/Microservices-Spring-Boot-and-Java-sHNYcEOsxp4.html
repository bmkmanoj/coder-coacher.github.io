<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Microservices, Spring Boot and Java | Coder Coacher - Coaching Coders</title><meta content="Microservices, Spring Boot and Java - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Microservices, Spring Boot and Java</b></h2><h5 class="post__date">2017-02-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sHNYcEOsxp4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we need to define that term because
everybody uses it but it's not really
well-defined so in my opinion micro
services are well small but the core
property of Micra services are that they
are independent deployment units so if
you look at software development it's
usually about round building modules in
Java there are packages there are jar
files so you would build your
application from those modules the
problem however is that once you install
the application all those modules are
more or less gone
so you just deploy all of the
application and that's different with
micro-services so with micro services
every part of the application is
actually independently deployable so you
would have maybe one wall file or java
application that takes care of user
registration and an e-commerce platform
and you would have another application
that takes care of the catalog or
whatever that is how Microsoft's are
different
instead of module analyzing your
application using packages or Java pods
you do it using micro services then Han
some need advantages so for example you
can use any technology in any micro
service so you can have one micro
service in Java and in other micro
service that is written in a different
programming language or may be uses a
different application server web server
whatever that's an option so you don't
need to use any technology there is
however in particular in the Java world
this is an advantage because if your
application is just a large jar or war
file you need to define all the
libraries on all the versions of the
libraries and that's somewhat bad
because if you want to have bug fix in
the library you need to make sure that
every module in the Hula application
actually can deal with that new version
of the library if you use micro services
you can have one part of the application
that uses a different version often
library than the rest of the application
so it's much easier to include some bug
fixes in your application so if you look
at an application consisting of micro
services there is a server that runs a
micro service another server that runs
another microphone service and that's
basically how it works in order for
micro services to collaborate you can
use links so my opinion micro services
might include web UI and because they
can include a web UI they can just link
to one another so if there is a catalog
candling to a details page of a product
that is actually provided by different
microservice then there is data by
replication so if you want to have some
statistics about all the orders in your
e-commerce application maybe you want to
have a different Microsoft's that takes
care of that and because there is a lot
of data that needs to be handled there
and a lot of statistics you probably
want to have while a copy of the
database probably using a different
schema to provide those statistics and
that's what we are doing here so it's
actually not a big surprise it's just
what we are doing is doing with data
warehouses for quite a long time and
then they can talk rest to one another
and they can use messaging to talk to
one another this slide is actually quite
important to me because a lot of people
think that micro services are just small
rest based services and I disagree I
think they can also be integrated using
other means as we've seen here so they
can just link to one another or they can
use data replication for example so
let's take a look at the infrastructure
that we need for micro services
obviously the challenges that there are
just a lot of services so we need an
infrastructure that makes it easy to
create new projects because well first
of all we have a lot of projects and
actually the number of projects usually
grows so that means if you develop your
software for a long time there are just
two options either the individual micro
services grow in size at one point there
cannot really be called micro service
anymore or you just create more of them
more micro services and I think you need
to create more of them because otherwise
they will just grow and become hard to
handle and if it's easy to create a new
project well people will probably create
new projects instead of
putting the code in the old projects so
I think that's quite important make it
easy to create new projects to make sure
that micro services actually stay small
rest should be integrated because that's
an option for communication messaging
should be supported
we should have uniform operations
because with that large number of micro
services it's hard to keep track of
those micro services and to make sure
that all of them are actually both
behaving correctly and if we have
uniform operations it's less effort
because then we just have one way of
dealing with those micro services and we
just have to babe have more of them but
we don't need to have special
requirements for each of them so we need
to have one way for those micro services
to over report statistics for example or
metrics to answer those challenges I
think spring boot is a good tool so
let's take a look at a very simple
spring boot application so here it is to
actually make it a spring application or
a spring boot application we need to
annotate it using a tandem rotor
configuration that set us up spring boot
configuration including a web
environment so that would include an
embedded web server like a tomcat for
example and all the other things that
spring needs to set up such an
environment then we may need to start
this class once the application stones
so that's what we do with this line of
code then that would start Tomcat the
web environment or not all these kinds
of things if we really want to have some
application we actually need to have it
answer to let's say red squats for
example so we annotate this class as the
rest controller that's a very simple
spring annotation so it's not specific
to spring good it's just a spring
annotation and here's a method that
would return hello
if an HTTP request comes in okay so what
do we need to actually make that thing
run well we need to have a maven form so
that maven pom would just have one
single
parent pump which is the one that is
provided by spring boot and the nice
thing about this is this is the only
version you will ever see in your palm
except for well very specific
dependencies so this extra chain chooses
a spring stack that is compatible with
one another and you don't need to
specify any versions of the spring
framework or anything else so we have a
single dependency which includes
everything that we need for a web
application it's called spring boots
tantum there are quite a few other
starters too so for example you can have
starter for a messaging application and
so on and so on and finally we need to
have a plugin that creates the jar file
that is executable so you can just
started using Java - jar you can also
have a war file and actually can have
hybrid so you can have a war file that
you can deploy on your application
server and that also runs is an
executable jar so it's obviously
possible to run Springwood applications
on an application server if you want to
so concerning simple infrastructure
we've seen that there is just the
pom.xml you can also use Grail or ant if
you want to there are very few
dependencies and you don't need to have
specifying of the versions there is just
one plug-in and the versions for all the
libraries are actually defined as we've
also seen rest is integrated so there is
support in spring MVC as we've seen in
the code there is also support in spring
boot for jax-rs using Jersey so if you
would rather want to use jax-rs
that's fine you can just use Jersey with
spring boot and there is a starter for
you
you can also use messaging for micro
services to talk to one another actually
there are quite a few spring boot
starters for that too so there is a
starter for AMQP using rapid MQM QPS and
on the wire protocol that is
standardized there is a starter for
Hornet Q which is the GMs implementation
there is a start effective MQ well
actually it's not there yet but it is in
in the snapshot versions and you can
just use those to run to use JMS if you
want to use the different JMS
implementation let's say Oracle Act
advanced queuing for example then you
would need to include the libraries for
advanced queuing yourself but you can
still do it so there is just no starter
and it's somewhat harder to do but it's
still possible to use other JMS
implementations for using spring Mbutu
for the messaging support there is also
the spring JMS abstraction that uses
message driven poachers plain old Java
objects so just can forward a JMS call
to some Java object and it's actually
very scalable so you can have
multi-threading on all these kinds of
things so it's very very simple to send
JMS messages out to so you can do that
using the Jemison template and that
simplifies the JMS api quite
considerable so for example there are
runtime exceptions which makes error
hinting much easier of course you can
use other lips too so as I said other
JMS implementations are definitely an
option and at the end of the day spring
boot can just do everything that Java
and spring can do so it's not really
limited okay so what do we have now it's
obviously very easy to create a new
project there is just a poem that needs
to be defined you need to define some
Java classes and you're done
rest is integrated that's great
messaging is supported - so we need to
talk about deployment now
so deployment actually what you do is
you just package everything in one
executable jar file or in Worf on a
using maven and/or Gradle you can add
some configuration to it there are quite
a few options so for example you can
have an application the properties that
gives some configuration in your jar
file you can have it in your on your
server and so on and so on so what I
will show you now is a demo how such a
spring boot application can be built or
you can create a zip for the Oracle
application container cloud that is an
infrastructure that allows you to run
Java applications on a platform as a
service so there are no servers it's
just a platform that allows you to run
java ee based applications so it's a
good fit for spring boot if you want to
do it yourself the demo itself the code
for the demo and so actually on my
github account so if you're free to look
at it so I'm going to show you how to
build the demo so we are using maven and
creating fresh package here as you can
see it just compiles the sources and
test is run actually this test goes
through the rest interface so it does
actual HTTP calls to run it on the
oracle container cloud we need to have a
manifest
that's a JSON file we can look at it and
as you can see it just contains which
Java version should be used and how the
application should be started and a
little bit more information so we put
the jar that has just been created by
maven
and the manifest in the zip file and
this is what we are going to use in the
Oracle cloud so we go to the application
container cloud and we create a new
application select java SE as the
platform we give it a sensible name we
choose the subscription and the
application archive that we just created
we create that application
and after a while the application is
being uploaded and then finally it
actually has been created so let's take
a look here is the application there are
no instances running at the moment so
it's still being created and after a
while there are instances there so one
instance with one gig of memory and now
we can actually go to the UL and we see
that hello's printed out which is what
that application does it's very simple
here well so what if you want to install
the application on a server or on the
Oracle compute cloud instead of the
Oracle application container cloud well
you need to install a basic machine you
need to install Java on that machine you
need to copy over the Java file and you
can also make it a dinner service so
since spring with 1.3 it's actually
possible to make a springboard
application Linux service and that's
rather easy all you need to do is you
need to create a link in the right
directory and you can create some kind
of application or properties to
configure the application that's the
standard configuration file that you can
use so also that is very very easy so
even if you don't use a pass cloud it's
still very easy to deploy the
application so as we've seen the
deployment is actually very simple what
about your operations as I said we need
to have uniform operations so we need to
have one way to create metrics from all
the services to make life easier for a
shion's so there is ping boot actuator
actuators another spring good starter
that provides information about the
application yrh TTP and Jason or matrix
matrix is a library that for example
would provide that information for
graphite monitoring tool and there are a
lot of other
- so there are integrations for many
many other money monitoring systems so
that information can be evaluated by a
monitoring tool and it's a different
approach from - monitoring so while
before you would rely on the application
server to provide someone is running for
all your applications now you just use
the standard view that you're using any
way for for monitoring probably and you
just feed in more information so also
uniform variations is handled by spring
boot</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>