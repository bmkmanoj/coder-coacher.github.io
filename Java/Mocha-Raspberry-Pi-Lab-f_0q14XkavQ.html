<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mocha Raspberry Pi Lab | Coder Coacher - Coaching Coders</title><meta content="Mocha Raspberry Pi Lab - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mocha Raspberry Pi Lab</b></h2><h5 class="post__date">2013-01-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/f_0q14XkavQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">it's going to talk about Java and the
Raspberry Pi so it's not just about
javafx it's about Java in general and to
be honest with you I'm job evangelist
I've been an evangelist for 11 plus year
and I being with the evangelist team the
demos created for this session we're
actually created for java one last year
and they were created by simon reader so
I cannot get credit of the demos but i
do get credit of creating the dam was
locally so we can actually talk about it
and you know given the personal touch
for the demos and your personalized in a
little bit but all the hard work I was
actually done by Simon he's already
starting blogging about each of them so
we probably you probably get more
details on his blog about the
implementation if their question on a
specific demo said I don't know about I
get back to you once i talk to him so
again do you like coffee we are desert
java and the Raspberry Pi I do have to
show you these guys anything here might
change this is one of the big difference
between Sun and Oracle we do have to
show that so what is the agenda um as an
evangelist everybody i remember my
previous boss was always asking me when
we have meetings what do you want to be
in the future what is your dream job and
I have to say I'm sorry I mean to my
dream job I don't know what I want to be
in 10 years because as an evangelist had
gave me the opportunity to play with
with cool toys and things like my
daughter saw one of these demos the
airplane one that is actually uh a Lego
Lego one and she was like mommy what
she's forward Oh mommy that's cool can i
play with that I'm like a new new new
new new that's for my job cool i like
your job so so yeah this is one of those
jobs that actually get paid for playing
with cool toys so i just love it so
we're going to see what is the Raspberry
Pi are you familiar with the Raspberry
Pi knows somebody here already has a
raspberry pi so it pretty much all of
you are familiar with the Raspberry Pi
so I have very few slides about it what
about Java own arm in general the good
news is we do have available Java
forearm for the raspberry pies and pork
since December is early action early
access but is still available so you can
just start playing with us so it's a
great news and then at the big session
it will be using Java on the Raspberry
Pi and I keep thinking about Simon what
was he thinking when he built these
demos and I think he just sit in his
office and he just say what can i
connect to my raspberry pi what if i
connect everything that I have in my
office to the Raspberry Pi because it's
just just so many gadgets mind reader's
Legos armed robot arms so get connected
to the Raspberry Pi using Java so it's
actually great and always about demos
hoping that everything will work today
the mind reader is kind of moody so
we'll see if if we get it working
tonight it did work today twice so
hopefully it's going to keep working so
this is the Raspberry Pi so you hear
that we're going to do the hands-on lab
so you have it on a box but this is how
it looks internally some are Europeans
that you can connect things to you have
the hdmi you have a bunch of things that
we will see in more detail but that's
like the picture of the how the
Raspberry Pi looks like and and it's not
a new idea if we look into how when did
this project start in what happens this
actually started back in 2006 and back
in your UK was actually in a Cambridge
University they would concern about
computer science which teach to the
students to the young kids and basically
they were not teaching technology they
were teaching them how to use things how
to use the email how to use the browser
but what about how do we teach them how
to think how how how come they become a
great engineers in the future so it was
the inspiration was that it was actually
inspired also in a project a previous
project called the BBC micro project but
from 1981 it was actually kind of the
same ideas on the picture the first
version only have 16 kilobytes on the
second version 32 and it has a
the second one version has actually
graphic a cola graphic so it was like
wow so officially launched it last year
on februari 29 and the first production
has 10,000 boards and the impressive
things is they have two big servers in
UK for selling these the first day Ras
on for now and the service just cooling
handled the load of all the requests for
the Raspberry Pi this just just just a
stall in there so in a day at 100,000
pre-orders in a day and today the
production is good I think they're very
much available right away and about four
thousand words per day actually produced
in UK original they were actually
produced in China but now they are
actually back in the UK for this
specification so it's an arm 11 a core
cpu running at 700 megahertz it's a
system-on-a-chip and so from the first
picture the big ship in the middle is is
it's not the processor it's actually the
memory the processor is underneath it
it's actually kind of a clever design
you can overclock it to one picot hurt I
heard of people going all the way to 1.2
but that void a warranty so just make
sure if you want to overclock it just
got on to one gig memory so there are
two version of the wave of the Raspberry
Pi there is very soon a and B so for
diversion a the memo is 256 for mod of V
is 512 and it has a bunch of i/o that we
can actually use it has hdmi for and
composite video it has two USB ports for
the model B you have Ethernet also only
available for mod of V and some of the
header pins are gpio uart spi or is
square c i will see what sort of things
we actually connected this is kind of a
picture of the GPIO lines we actually
have two connectors this is the first
connector we only have a voltage in one
and ground only one pin for ground but
the second connector also provide you
with two
means with ground where pin 7 and 8 so
if you need more than one you just still
have connector number two for that so
why take so long to have Java available
for like four arm for example so it
wasn't an easy task it was easy to have
it but the testing was more complicated
because if you think about it there are
many processors out there so we have to
test it for all of them if you think
just about arm the floating-point unit
was not required for our version 6 was
only standard from version 7 so we
actually have to have built for both
right right now as I say since December
we do have a Java available for us for
armed with hard float so it actually the
Raspberry Pi do have a floating-point
unit so we do have this version it's
actually hard float so using Java in
general on the Raspberry Pi so this is
the sort of task and we did in the team
so the first one and we go to this
practically at one demo for each of the
session so we have a sound what about
connecting serially or USB or what about
the GPIO pins so making noises um so
this is one of the things that are the
really pieces off because it did work in
a moment we don't know what we did that
is screw things up so we don't know how
to make it work again we didn't have
enough time to revisit it we just have
to go back to it and see what happened
we were able to play actually wap wap
files the MIDI files you just keep
hanging every time we open the
synthesizer so we still don't know we we
did make a sound in a point we don't
remember what we change that it screw
things up but once you have the sound
API you can actually use like free TTS
to have text to speech kind of
applications so it should
be rocket science we just have to
revisit that for javafx so again it's
early access so what do you have in the
raspberry pi is the jdk 7 with JavaFX so
you should be able to do applications
that run it and it does have the optimal
implementation of the prism for this
particular arm and you can actually
configure how you want the FX 2 1 so the
lower you go into list for the platform
the faster you will run so you go all
the way to using OpenGL you can have
hardware accelerated so if we want to go
for desktop manager you just use x11 for
second one direct of frame buffer is not
possible because the way the Raspberry
Pi is only 8 bits and you need at least
16 to 32 to be able to do direct stream
buffer so that one is not working friday
frame buffer does work and again egll
using opengl should be the faster
because it potentially can use their
hardware acceleration and so one of the
things is as you can see the raspberry
PI's are very cheap and the model a is
$25 and the model b that is the big one
is $35 so it's actually pretty cheap and
the idea is because it doesn't have a
monetary you don't have a keyboard or
anything like that so how can we see
what's going on as one of the options
were okay what about having a console
that I can actually see so we do have
some you are lines provided for from the
Raspberry Pi but they only provide with
3.3 volts so we need to ramp it up all
the way to rs-232 standard that is 12
volt so for that purpose we use this
particular circuit where we use a mox 32
32 chip and the diagram it actually is
pretty simple so we have the transmitter
and receiver from the Raspberry Pi from
the yard lines and fit it into her into
the cheap up just a couple of capacitors
and then you can actually connect it to
your computer
so you can actually have like a serial
console and see what's going on on your
computer for USB so universal serial bus
so it should be as simple as the serial
communication but it's actually not as
simple as that and and the reason for
that is no all the devices you plug it
in and it will be immediately show up so
easy on the devices that you just
connected and you can actually see under
death if not more complex devices you
will need to insult an install the
native code leave us be so that's just a
comment to install that particular
native code a common way the Java can
talk to serial or USB devices is using
the rxtx package that is actually an
extension of the comb API so you can
actually install it and one of them the
issues that you might encounter with
these packages this package only see the
devices that get under / there is large
ttys 0 0 1 or 0 0 2 if your device is
seen differently rxtx package won't be
able to talk to it so one of the war
quran was to add this system property
and just put the name of the device what
is how the system recognized that
particular device and then you're good
to go rxtx will be able to see it so
just make sure you have that they always
robot arm this is one of the funny funny
things that happened to me so I got the
request to do this presentation up just
extend the version of this presentation
of the arm conference and I say okay
Simon give me the list of things that I
need to get and he gave me all the list
of things that was a little bit of scary
at the beginning and say oh yes and get
this robot on amazon I'm like okay cool
yes I ordered from Amazon it got a big
box at home a cool I didn't even unpack
because first I need to set it up the
Raspberry Pi javafx
samick okay idea and I just connected
the the robot right and it was like late
at night maybe one am I'm a layperson a
a1 a.m. I was opening the box and I
almost faint when I see that I actually
have to put it together and there were
like million of pieces that I have to
have to put together to have these guy
so it was all fun I mean it's just a toy
that you can build with your with your
daughter or your son but not at 1am when
you need to have everything working like
right away so I got a couple of blizzard
ha putting together all the little
screws but at the end actually it did
work and I SAT like a big book that you
have to follow the instruction like 30
plus pages plus an additional book it
was I was coming in hard having a heart
attack there but everything works so it
was good so the good thing about this
guy is just come with a USB USB
interface the drivers are only for
windows the good thing is when you plug
it in Linux recognize it so once you see
the device you can talk to it right so
the way we're doing it we create a
native code that talk to the device and
we have a GN I that kind of hide our
code and presenter to Java we provide
with a simple protocol of three bites
and to make more complex movement we
just do some by twiddling in there so
number one forearm the base and there is
also a light in the front of the arms so
this combination of that will move the
robot the funny thing is once you use
the stop common it will stop all the
motors so you cannot have to remember
which one we're running and which one
you want to stop so you start again all
the ones that we're running on you do
not want to stop so kind of a small
detail there so negative for nay DC
functions to initialize the arm using
leave us be and then gnite we generate
the header files appropriate to be used
in Java code so just compile to a shared
library and then from Java perspective
it's just a very clean coal just calling
and the arm to move open and we do have
some sort of calibration between them so
just just to make sure we determined at
the time for the specific movement that
we're trying to perform but you know the
Java code is actually pretty clean and
simple gamepad controller so I'm telling
you at this time I just look around what
I have what can i connect to the
Raspberry Pi but it's a lot of fun so
Linux support most of them out of the
box drivers entry are creating two /
they're / input and the library that was
used with Jay input there is one known
for game programming is mature enough it
hasn't been in touch much in the last
year's all we have to do is recompile
for the Raspberry Pi a little bit of you
know tweet into the build there are
things that disappear and there was
funny thing like that library refuses to
see the Linux it asks for linux 64 so we
just rename it and it worked so one of
those things that like okay if you need
is 64 we just renaming them there we go
it work so we wrote a library on top of
G input and this is just an example so
we have a pad gamepad controller and all
we do is we have a bunch of listeners so
we're listening for the buttons and
we're listening also for the joystick
pretty simple and that we have a thread
running waiting for any sort of input
and then when something changed if the
bottom that if we get an action from a
bottom what bottom was said on what I'm
going to perform so pretty
straightforward the same with the
joystick if it was left right which
which joystick was hidden then do
something so pretty straightforward java
programming model reader okay so this is
one of the cool stuff so there's a
company here in the Bay Area mind where
and they say that this device actually
is able to read
your mind so our idea was to try to
control something with our minds it kind
of I mean it does work it does give us
some values which is not sure if how
real those values are Simon said there
are kind of random values but I'm
actually being able to list it's a give
you attention and meditation values
their attention values I'm actually able
to to make it go up if I focus on
something meditation I have no idea but
it just give you some some values so I
they do have a USB dongle so we use them
to do you USB dongle connected to the
Raspberry Pi they do have a proprietary
package format for the data so we just
we just have those its status package
like if you're connected or not
disconnected then you get a bunch of
values attention and meditation is the
one that we are actually reading right
now and then some alpha beta theta and
gamma waves that we're not really using
and some role values that we're just
ignoring so it doesn't get too congested
again so we're using rxtx and the java
chrome library to send comments we parse
the data packages that we get from the
device and it's actually a total
event-driven interface so we're actually
waiting for this headset to send us some
information and we just analyze what we
get this is just a piece of the code so
pretty much what we're doing is setting
a bunch of listeners listening for the
status packages or the brain values that
we are getting so we initialize in the
mind reader the device where it's
actually detected for the USB dongle add
the listeners and then do something
whenever the status change or the
information about attention of
meditation change so in the first demo
for for the mind reader all we have is
displaying the values of attention of
meditation and for
second demo I'm trying to control the
airplane with my mind it doesn't really
quite work that way so I wouldn't
encourage anybody to to control an
airplane with your mind not at this
point but this is something cool for the
GPIO lines so this is a piece of code
that we actually stole there's some
really really brave guys somewhere on
internet that has this blog that was
actually able to have these magic
incantations and we do believe him and
it does work we do not question him here
is some of the magic also that he does
for input them for output the funny
thing when you need a pin for output
first you have to open it for input and
then you do the output again I have not
we have no idea why but it does work so
we're just using it great guy is more
guy and then how you put the pin either
high or low again just just using his
and then we have a Java interface and we
hide old us so from Java very simple
Java interface and to use it so if we
want the model to go clockwise or
anti-clockwise etc so for the GPIO lines
we use a lego motor so what I have here
is it's a little airplane and it has one
of the old models the lego has and we
are actually controlling it from the
Raspberry Pi so again for the Lego we
need nine volts so what we did is again
we're using this particular bridge l293d
we get the GPIO lines from the Raspberry
Pi put it into this chip and get the
output to power the motors to go either
clockwise or anti-clockwise and you can
have two motors in this case I'm just
using one of the motors um some just
before we go to the demos because i need
to actually disconnect my computer so i
want to go to all the way to conclusion
I think the raspberry pi is a great toy
I mean it's a lot of things that we can
do we also have a demo that is Steven
work using javafx on the Raspberry Pi so
it's I mean just think about all the
things that you can connect to it all
the fact that you can have I think the
idea with this kind of useless demo is
have people thinking out of the box and
what could I build that is fun and and
you know I really enjoy having a lot of
fun with the technology so I think there
is there is no limit for for work you
can do with the Raspberry Pi and again
it's just it's just really cheap so this
is it's perfect so further information
again I would should have added the line
here of Simon Twitter blog so Simon
reader just google him for his blog and
as I say he posted already something I I
don't remember which of the demos but
he's he is actually doing new entries
about each of the demo some more details
about the implementation more
information about Java embedded of the
Raspberry Pi user guide and with that
let's go to demo fun okay so Stevens
should I disconnect so I can power my
computer should be okay ok so first
let's do them oh let me get the power
supply sorry
so the first one that i'm going to show
you is actually javafx running on
Raspberry Pi how we're doing this I get
the HTML right okay oh this is not a
collector hold on yes this is not a one
tiny can I have the power sorry thank
you
so hopefully so does just Linux putting
up out of the Raspberry Pi and what it
was it was actually a kiosk maybe you
can do you want to talk about your
application Steve yeah Wally boo tops so
this was a javafx demo we used to run
the run the screens outside the rooms at
the dev ox conference so we had a little
well one of these guys actually this is
the case from dev ox one of the guys
laser cut a bunch of nice pie cases at
his university and they were mounted
below the screens hooked up to a nice
you know 1920 x 1080 LCD screen and then
we had this hooked up to an internet and
then showing the live schedule updates
and each of the pies was customized for
the room so it showed the schedule for
what was showing in the room the current
talk the next few talks and his
description speaker etc Jasper pots did
all the visualizations for the that
you're going to see and the running of
the pie and once ago so all the graphics
are from the dev ox artists who did kind
of the theming for the site so we took
the dev ox graphical assets create a
quick JavaFX application with some
animation and stuff and put it together
the the app didn't take long to write I
was hanging out with Jasper when we
worked on and it was basically done in
an afternoon and then he spent the next
two days kind of tweaking and optimizing
it but that was that was Jasper being
Jasper he's really good and what else to
sort of say about the app oh yeah so
what you're going to see is you're going
to see what happens when you don't have
the network plugged up not quite as
impressive as having the network with
all the sessions presented but you still
get to see all the cool graphics
floating by also have the tweets know
the Twitter the people were doing know
maybe I've been I think I saw it up yeah
maybe yeah it looks like exceptions but
it's still load so all right yeah
normally there would be like that all
right to visualize this a nice
description a speaker Oh a little bit
about the speaker and then either you
see the next few sessions floating by
across the top side show like the next
session and fashion after that etcetera
etc for this particular room but it has
been data and besides dev ox is already
like you know finished because it was in
november october november november hey
you don't you this is your first time at
devoxx keith right so what did you think
of dev ox the kiosk were great ok what
about the rest of conference well
alright let me ask you a different
question how did it compare to java one
san francisco that was good because you
didn't have to okay should we relocate
javaone to belgium ok sony a quick
example of digital you can see this is
monitor number room number four so it's
shown the schedule for room number four
and these pies were configured we put a
little boot script into autoboot load
the javafx app if for any reason the
javafx app like crashes or dies which it
didn't then it will automatically
restart the app so you don't have to
monitor the devices and i think we're
going to we're going to reuse these
definitely for dev ox UK and dev box
france but possibly also for some of our
java one events thank you Steve so does
um javafx on the Raspberry Pi now let's
see more of the Java and raspberry pi so
the first demo that I'm going to do let
me just start my
just starting the raspberry pi
just giving it a minute what I'm going
to do let me go back to the laptop okay
and i'm just going to him as a sesh to
the computer oh man it's no up i'm
having issues with my raspberry pi there
is no booty improperly oh you know what
might be up and just not connected so
give me one moment okay so I'm just
doing ssa's you just take a little bit
to connect like a minute or so once we
are connected with all good so the first
demo is the leg of one so i'm using here
the GPIO lines power from the Raspberry
Pi and what we're going to do is is
control the airplane up there so let me
see
ok
so the first one is a lego test okay so
you just go clock side anti clock a
couple of times and then it stopped and
you can see the output out there okay
then the second one will be to think so
that's when the mind way to come into
the picture so let's see how it is
behaving if we can actually get a
reading turn it on
okay so there are some values and if I
really concentrate attention value go up
and down so you can see that it's kind
of randomly
okay so we get some reading from my
brain we're not really sure what it is
but ok and then third one is with my
brain less control the Lego so that's
the brain cook brain model so hopefully
so this is all supposed to be controlled
by my difference in the attention every
time we get a reading from them trying
to focus concentrate so as you can c do
not relied on you know using your mind
to control airplanes but it's just kind
of a fun demo so just going to reboot so
i can connect the next demos okay and
i'm just going to so i only have to use
the of the USB port hopefully plug it in
again just start it on the Raspberry Pi
again turn it on the robot and then let
me connect one more time
hmm i'm connected let's try one more
time
come on
ok
Oh
okay so this one let's run the g pad so
we can see that we can actually read
from these from the joystick so up down
up down and then number one two three
four so the different buttons so I'm
sure it's I have access to this and now
finally let's control the robot arm with
that so let's go to Angie a robot arm
okay let's sit on and hopefully I can
actually control and again raspberry pi
is doing the interface there's a lie
that I can turn it on and off probably
and it can turn side to side so there
are different matters that you can use
and let's see if I can actually grab the
okay and then close it and then go up
again and then what is it again turn
this way and go down just you know and
then leave it there and that's it so
again I mean very useless very useful
demos or not but I think it's a lot of
fun connecting different thing there is
a new demo that is actually on the main
side of the Raspberry Pi so if you go to
raspberry pi dot org about controlling a
coffee machine using your phone so it
actually pre-need it has the video on it
so if you have a have a look it's
actually pretty nice i think the coffee
machine sent message to the cell phone
selling i'm ready to brew a coffee and
then if you make a call a phone call
back to the raspberry pi to the machine
it actually start preparing the coffee
so it's ready for you so it's actually
pretty neat there's a couple of guys and
they hack the coffee machine and they're
using the Raspberry Pi for that so it's
actually a lot of cool applications very
useful
especially for the colombian girl like
me that i need coffee all day so it's
actually pretty nice so we dad thank you
very much and I think it's time to play
a little bit with the raspberry PI's I
think it's a free format and kind of
hands-on lab so if you want to do any
javafx application if you already have a
job FX application and we want to try to
run it on the pie just go ahead just
just build it take the jar put it into
the pie and just run it it's that simple
so do you want to add something Steven
forward for the lab yes I'm seeing if
there's any questions on the stream
we've had a bunch of people who are
watching ok yes sure so just you know
illustrate with family question is there
any question on the stream so some of
the folks on there like Jonathan Giles
Carl D ok Jonathan what time is it for
him oh no it's early it's like afternoon
New Zealand yes any issues the 5pm
perfect yes yes sir let me shoot it down
properly but yeah
yes yeah okay so um I think for the for
the we're going to do the lab now here
and will officially conclude the live
stream for folks who've been watching so
thanks for watching the live stream also
thanks to our sponsors set Oracle for
providing all the drinks and
refreshments line owed for providing
hosting for our site J frog they pay a
lot of fees for our meetup and parlays
where we post videos of event where
we've been posting videos although we
haven't recently and the videos we've
been doing tonight we're going to put on
the java youtube channel and we're going
to post them almost immediately after
we're done here</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>