<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>NightHacking on ScalaFX with Niclas Nilsson | Coder Coacher - Coaching Coders</title><meta content="NightHacking on ScalaFX with Niclas Nilsson - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>NightHacking on ScalaFX with Niclas Nilsson</b></h2><h5 class="post__date">2013-01-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DZ8Qb0_kJ_o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright so welcome to night hacking in
Gothenburg and we have Nicholas Nielsen
here and we're going to try to do some
skoloff X hacking so I was going to make
a very poor attempt to introduce you but
I'm gonna let you introduce yourself so
tell the folks on the line in the room
but most who here knows Nicholas alright
so you're you're semi popular here yeah
whew whew point guys looking for guys
but tell the folks online who you are um
I'm Swedish I write code I get people
out of messes sometimes with a code
sometimes with other things that you do
and today I'll probably say I'm mostly
flu and still in Ruby and do a fair
amount of scholar hacking the Lost
clears haven't written in Java code in
production for many years now hope I'll
be able to stick to Scotland JRuby if I
tape him and I'll do a fair amount of
talking a person or something stuff at
times in well alright so your officer
here's a question for you why scour and
these are leading as a leading question
actually not starting out say a new
project they only folks here use scala
for their day jobs okay so you actually
have is a production system you think
it's actually the same system it's
actually why you know this guy there's
actually the same code base yeah there's
no rumors about a couple more but we
started started out doing stuff on the
JVM and
I think we gave a job I an honest chance
two weeks and then got completely mad
and bored and even with the loss column
bottom no book so using the place to to
rewrite some of the code on the floor
yeah just to just have some code instead
of just the whole property stuff to some
recode they actually they use these
lombok for the initial implementation of
some of the Builder stuff in javafx
although they ended up moving away from
it because they're troubled debugging
around code we were run into a couple of
things that were equal they were not
actually equal so we after a while we
just backed off and said okay let's
let's see if scholar works well and then
we found a car which fitted our problem
at all very well so and we I think I
think I got a bump into yonas who did
the ARCA stuff up yonas is speaking at j
for it is j focus jay jay Jeff focus a
focus that the fed them I grabbed the
mic watase alright so we're gonna we're
going to introduce somebody else we have
the cameraman we have the person
responsible for the hall nordic night
hacking tour yes here okay yes now it's
muted that's on its own or off yes
a person responsible for the whole
Nordic night hacking tour here Matthias
and also the conference organizer of j
hey focus so the only person that was
responsible for at the two are right
with the supporting you yeah yeah but
the tour would have happened without
your um encouragement so what was the
question yeah so so who do we have yonas
you're on his phone or speak ya Jake
focus yeah yes we do any other scholar
folks there we have a pretty much a full
scholarship I dick wall some are very
main kehta doing some scholar tosa bank
that's gonna do Ben cats actually I
think we have him arrange to be on The
Late hacking tour at j focus conference
he said yes yes it will be there on the
first lunch break on tuesday so i'm
going to i'm going to publish the full
schedule for night hacking at j focus
but I'm think at subramanian will be on
the auditory all right anything else you
want to say Mateos boy in town ah no you
know we're so loved I heard I heard so
full week before the conference yet
entirely sold out this great so that
means you're gonna franchise now just
like dev off I don't know we are setting
up the NUJ focus embedded conference
instead ah very good yes alright thanks
and I'm actually I'm going to leave this
unmuted on the chair here I don't think
it'll pick up much noise so if I don't
like to grab the mic feel free alright
so we've been doing enough idle chitchat
and we need to do some hacking we
promised we'd actually code so let me
let's start out i'll give the quick
introduction to what scholar FX's and
what javafx is at a high level and then
we'll see if we can actually hack
together an application from scratch on
the fly
see should have some good scala flex
content maybe
javafx in skull like milk and cookies
that looks perfect
alright and let's see if we can add my
desktop here
alright so this this is a presentation
that luke and I gave Luke Dupin shields
one of the skull effects contributors
the history of the project is Sven
reimers he's on the Nepean stream team
and I actually started off and kicked
off the project about a year ago we did
a bunch of work wrapping the Java
effects libraries for use in skull and
adding different patterns dsl like stuff
to make it easier to code skyle
applications and then we both got really
really busy so a whole bunch of other
people Raphael Adrian and Luke and I'll
show the full list of contributors in a
sec but they've all jumped on have done
great work working on skoloff X and
bring it to a point where it's it's
actually stable and can be used for real
applications I think there's planning on
doing a 10 release very soon from what
the mailing list tells me I read most of
messages on the mailing list but I
haven't been a very active so for all
our contributors online well I apologize
all right so this is the what is javafx
slide let me see if I can make this
bigger
slightly
and basically javafx is for building
desktop applications using Java API is
kind of like a modern version of swing
it gives you control video libraries
animation charting you can also
integrate the html5 contents you can use
the web view to actually uses webkit is
the underlying engine so you can embed
web content inside of your application
and interact bi-directional
communication which the JavaScript
inside of it the graphic stack is all
optimized for performance it uses a
graphic stack they call prism that sits
on top of your OpenGL or direct3d
pipeline so you get accelerated graphics
performance and you can use your
favorite netbeans ide favorite ID
NetBeans eclipse IntelliJ then we're all
supported do you guys have a favorite ID
just shout it out a few if you do i or
eclipse a lot of the clips all right we
may may show some eclipse tonneau be
some chips you guys will be happy
netbeans actually has quite good javafx
support they have a probably the best
plugin for the latest features so it's
the easiest way to get started but you
can use any idea with javafx in schol
effects all right so why skull effects
so here's some of the javafx i'm in a
nice demo vanishing circles so this demo
I will actually show you running on my
computer if the demos operated this let
me fix this
alright so i synced up to the latest
code and I'm running the Gradle build
right now the way to run scowl effects
is to sync it out at the repository in
google code and there's a Gradle build
script and a maven build script and
various other stuff yes I see one as
well but when the SBT one as well yes
SBT that was actually the original one
svt but i'm using Gradle right now and I
just did a clean builds using the latest
version of Java effects which comes with
Java 7 and this is the vanishing circles
demo or I guess blunted circles saddest
of graphics performance on as compared
to its much better you probably won't
see it on the screen cast by is much
better on on your machine than on okay
cause I so really it looks more like
like that on Mac and I was googling
around four if was suckin a problem
seems to be that quite a few people have
yeah what's uncertain promise or in the
mac graphics cards there's no shoes it
works but it's hockey
so on the Java code for this
applications shown here and it shows you
the style of writing applications in
Java so there's lots of setters
constructors you can also use builders
and Java as well but the code tends to
be more verbose still this creates the
circles by going through a list and
creating 50 circles of varying colors
setting some effects on them it sets a
box blur sets a little bit of binding
let me do this below so you guys can see
it so this is shows the built or syntax
the way builders actually no no I'll
take that back this shows the fluence
property syntax so it's getting a
property than setting up a binding here
and then doesn't if else condition but
because it needed to create a type-safe
API in Java you end up using the static
bindings class to kind of do this flew
into when then otherwise loop so it's a
little bit better than trying to set up
this stuff in prevent callbacks because
the binding lets you hook up properties
among one changes will automatically
update the value so in this case when
you hover over something it will change
the border of the circle but you know
still not as elegant as if you actually
had a fluent syntax for this stuff like
we're going to have you probably show
what actually happens when you hover
over on the demo yeah but I wasn't
around the right demo oh I tried that it
was running the been on the one which
doesn't have the event handlers hooked
up I'll run late but you can you can
show the one which I was video event
handlers hooked up okay and then when
you click on these it does a little
animation to shrink the circles to
collapse them picks up a duration of
three seconds notice the duration
actually is a typed object here so
rather than just having an integer four
milliseconds there's a duration class
and you can specify seconds men
hours different units but again it's
kind of a cumbersome syntax a little bit
longer than you'd like to to write for
this stuff and the animation itself
where we're creating key values and key
frames and then animating the circles
around the screen to different
coordinates so the goal of skoloff X was
to make this all much simpler and more
elegant hopefully so the left side is
the Java code really tiny you're not
supposed to read it the right side is
the Scala FX code and it's not much
shorter invites yes a number of my veins
number of lines is not much shorter but
it's a lot less characters and it's
easier to read hopefully I'm really
number of lines is somewhat subjective
because you put the line breaks where
you want them so more lines is not
necessarily bad and this shows the basic
outline of a skull effects application
so you extends JFX app you have
different declarative definitions for
creating stages and scenes in the
different UI elements and you notice
it's kind of nested hierarchically just
like you would specify your your UI you
can do little in line property
definitions that sets the title the
window and the size loop creation using
for yield which is a nice Scala syntax
for doing this and it returns back a
sequencer technically it's a it's not a
type of sequence it's another skull
collection type just now I actually it
is a success it's not a list i think
jenny was probably sick yeah seq so it
creates a sequence and then inside of
here you can see the additional
declarations to set the colors and pick
random colors so I mean compared to the
equivalent Java code what do you guys
think
for the initial ok so the Scala guy in
the room how does fit thing is I did
some did some code on on the scholar
swing stuff and similar to this bit
similar at least this is nothing beats
is even more so it very quickly looks
like a configuration more than code look
more like a declaration of something
yeah we actually the part of the idea
what skull effects was too so this this
syntax emulates the object literal
syntax from the JavaFX 13 and the
JavaScript language hmm and I think
that's inspired from you know Jason
style declarative definitions of you is
so you're right it kind of has some
roots and declarative or functional
programming this is an example of the
bind syntax the way the bio syntax works
is on the left you specify the property
and then a little you know funky era and
then on the right you can add up
different properties or in this case
it's adding the height of two properties
and it automatically turns us into a
bind expression so whenever the height
of either rectangle changes it will
update the height of the left property
you can use aggregation operators like
Max and then the kind of the if-else
statement looks like this you can't use
if else because those are key words in
the language but you can use one than
otherwise in a a DSL fluence syntax
anyone anyone want to take a stab at why
this operator less than equals equals
for the bind why that funky weird shape
why not initially initially I was going
to use just a word bind i was just going
to have again height and bind wrecked
one that I plus work to the height it
looks much nicer perhaps yeah yeah and
then and get something with the
president's as well yeah very good so it
has to do with scallop precedence rules
this gets assignment precedence because
it ends in an equal and it's not double
equals or not equals or any of the the
magical equality operator conditions and
assignments the lower precedence which
means you don't need to put parentheses
around the right side it knows that
everything on the right it's higher
precedence very good citizen living
you're proving that you're real hacker
oh yeah I've been playing with scala
effects and javafx for one hour now
yesterday and then this is going to be
it's going to be fun but I realized
something because I of course install
the scala to 10 things which or
exclusively on my own you're on your own
if you do that yeah yeah nowadays at
emily's a keyword oh it's still morning
but it's in that then is gonna
eventually be a problem yeah so we might
want to reconsider or it does work right
now but I'm expecting it not work
because they put in there and then for
if to get a good my compiler warning now
because they plan on using in the future
so they want you to modify our programs
to not use that yeah yeah so perhaps we
should change that before I want our
release okay so suggestions on what to
put their rather than our welcome we'll
figure out something yeah
alright and then for animation you
remember in the Java version you have
constructors to create the key values
and the key frames and all that stuff
and first animation of skull effects you
can use this kind of dsl like at so ax
and then duration rather than saying
duration seconds you can put a number
and either daughter space and then s or
m or H or whatever your time identifier
is and that automatically creates a
duration object for you and then a list
of your own animations here so rather
than creating a keyframe you can simply
specify dash arrow and then the value
property dash ro and the new value and
then that will create your own your
equivalent object and then you know
packages up in a set and then pass it
into the UM to the timeline so this is
also a syntax which was inspired based
on the JavaFX script language but I
think it works quite nicely and it's
also entirely type safe so if you
accidentally put you know a number
without the S at the end you'd get a
compiler error because it would say it's
a integer not not a duration and
likewise if you if you messed up any
farther part of the syntax you'd get
quite good feedback from the compiler on
what you did wrong how much work did you
put into to make the dsl well let's say
how much or how difficult was it okay
how difficult wasn't do you actually get
because it's a nice it's a nice one yeah
so it I think I think if you look at
kind of scala scala expertise like at
the user level it's quite
straightforward to use scala you know
just be an end user and hack and write
applications you don't need to know much
more than you do to write Java code and
then you can start picking up some
functional paradigms like
you know map and fold and lambdas and
different things to make write better
code and then there's another level for
you know being kind of a library guru
writing libraries other people use and
then beyond that's actually writing
dsl's you know going and trying to
create things using using which women
call it the name for for the feature
we're on it automatically automagically
converts converts types of things visits
yeah implicit so that was actually that
was one of the trickier things to get
writing the implementation was getting
the right implicit is precedence order
actually let me let me show you guys
because you were asking about the
implementation details and we're going
we're going to skip straight to that
part this was this was looking for the
jumping frogs sorry no jumping frogs
today okay so on these these are some
little tricky things implementation was
yep which we ran into and had to solve
so one of them was initializing you at
the JavaFX application when you write a
job effects application there's a little
a boilerplate dance which goes on you
have to have a main method as the entry
point to your application and then you
have to call this start method which
then invokes the javafx application
thread and then you get called back in a
start method for your life cycle and you
know you can see that skoloff X app has
none of that stuff you just
declaratively say i have an appt and
here's my my stage so how does that work
well since you create an object right
yeah or an action on Queenie object this
is actually a single time but that code
will be executed immediately
and so well you don't but high and get
the cool bye bye yeah so how do you make
sure like this code to create the stage
happens on the medications read my right
thread so the dome ethics app is
probably
getting called initially down the
hooking hooking something looking to
signal through somehow so so the trick
the trick is this was a language feature
which got introduced and I'm forgetting
my skull of version numbers but in the
past year and a line all right let me
add to the lighter side 29 29 so they
added delayed in it which it lets you
take the initialization code which is
you know everything inside if there ends
up being part of the skull
initialization and it not actually you
don't do call it you can if you if you
if you extend the trait delight in it it
won't actually invoke that it'll put in
a nice little closure and let you call
it when you want to okay so that gives
us all of the initialization code
wrapped up and then we do all the
lifecycle methods in the base class and
we're ready we call all the user
initialization code on the right thread
which so this is what I was mentioning
like like there's this level of most
people don't need to understand or care
about delayed in it because it's one of
those kind of useful but esoteric
features that's nice if you want to do
something nice for someone else yes yes
so we can hide implementation details
and make it easier for the library user
at the expense of some complexity in the
library itself which is perfectly right
yeah Becca alright so we had another one
here will skip feel cold war on quotes
this was mentioning that implicit so job
FX has a hierarchy of different classes
and so there's a node and a shape
extends node and a circle is a type of
shapes that extends you know if shape
the next n snowed and then we have
skoloff X wrapper classes for all of
these so we have a circle and we've
shaved in a skoloff X surface cosmic
shapes all its node and the way implicit
implicit swere is if you if you use a
javafx note anywhere whereas Calif X
node will
automatically convert back and forth and
skaara will see that it's expecting
something of type you know a scholar FX
node and if you have a job effects node
there it will automatically create a new
skoloff x nova and pass into the
constructor and do the magic behind the
scenes which is kind of nice but the
question is if you have a node obviously
it has to be wrapped in a skoloff x node
so we have an implicit conversion for
that if you have a shape we have an
implicit conversion from you know java
fixed shapes the Scala fixed shape but
it could also be a shape gets wrapped as
anode and a circle it could be wrapped
as a circle or a shape right know its
how does Scala know which one to pick
what no to be honest yeah so most people
well implicit SAR kind of funky it I
think it's one of the more yeah it's
more that there is no other songs it's
probably is usually quite nice but they
actually using them is not always that
nice so that actually the default
behavior like if you just coded this up
blind away like when I started because I
knew nothing like Scala when I started
this project almost nothing the default
behavior is it it actually gives you a
nice compiler error it says there's
multiple possible implicit conversions I
can't tell which one so uh I don't know
throws its hands up in fails and that's
that's great because it's it's warning
you in the compiler and you don't get
these weird runtime conditions where
you're not quite sure what's going to
happen but it doesn't actually help us
right the library so we're using a trick
that actually barden adder ski started
using for the collections libraries in
Scala and if you look at the Scala code
there's something they have called high
priority includes and lower priority
includes and really all it is is they're
taking advantage of the fact that if you
have one set of includes
for your implicit that has a trait which
includes another set of includes the the
ones which are nested in the trait get
lower precedence than the ones in the
class so if you include higher bard
includes and then you have a trait with
more includes and at those have lower
precedents and they they use it in the
Scala library for one level deep
differentiation of implicit so that they
can have certain collections get higher
precedence and then other implicit
collection operations get lower
precedence and they split them up that
way and then in the skull effects code
we do n level implicit by having traits
and trade treaty traits there's Russian
adults on the way so like if you look at
the package hierarchy each package has
another set of implicit and it includes
the higher level package implicit so as
we wrap additional layers of hierarchy
we have additional layers so if you
creates business order basically yeah
yeah it's nice um yeah so that it was
interesting and actually it's funny
because you still hit odd cases where
the precedence gets messed up because
this isn't the only rule which affects
precedence the specificity of the type
then there's all these other weird
conditions which affect precedence order
which you might not expect but somehow
it all works this is it time most the
time okay yes this is this is another
example of funky I think I get one more
oh yeah properties so the javafx
properties there's 20 interfaces and 44
classes for all the combinations of
boolean integer long float double string
object for all different types of
readable writable properties etc etc and
the reason they need to do this is
because in Java primitives don't get
genericized properly
if you um if you try to create a generic
definition and then if you use a
primitive type inside of it it will
create inefficient casts from from to
and from box types in your code so you
end up with the equivalent of wrapping
all of your primitives in objects so the
solution in Java when you write
libraries and you can see this from the
javafx code if you look at the property
libraries as you you have to create a
definition for every single primitive
type you expect to use combinatory it is
fun yeah yeah it's great fun and you end
up with a whole bunch of extra classes
and types too to make all this work
efficiently which they do it in Java
effects and it's all very efficient and
for the end user it's fine because you
just use the right types and it
magically works but we did better in
schol effects because there's another
life brandom language feature they added
they have a new at specialized thing I
think this came in to 90 m XO to you and
you can specify in your generic
definition which primitive types you
want auto boxer and actually IDK luck o
for some applications to specifically
make sure that the box key and unboxing
was not happening after we added the sin
and it worked it actually increased the
efficiency of the code by getting rid of
the boxing and unboxing without all the
extra classes imploded that you have to
do in Java so we only have 18 property
value classes in total and most of those
are just to emulate the the equivalent
javafx rut property classes for
primitive types which people expect to
be there alright so how much does has
gone over people's head so far I like it
for skoloff X internals I think I last
the last one was related to precedence
and you already got the answer to this
but this this expression magically works
with proper precedence and if you break
it down here is the one slide rules of
all the Scala type rules so you first
chart you look at the first letter of
your operator and based upon you know 1
through 10 you get a precedence there
and then the second thing is there's
like an exception table related to
assignment operators so Simon operators
are anything that ends with an equal but
doesn't start with an equal and can't be
one of less than equal greater than
equal are not equal so are a little less
than equal equal operator magically
falls in the assignment precedence rules
as a result of us
and if you take a previous expression
actually mapped it out these are all the
numbers 11 10 9 7 5 10 3 10 it all
magically as an end user you have to
worry about it knows it's very nice that
some someone else didn't that work all
right so we spent of time talking about
schol effects I think we should try
writing an application oh and before
that let's let's see if anybody's been
asking any questions online so Matias
was asking the difference between social
stream and chat online so social social
stream I'm going to answer this question
because I think a lot of our online
viewers are confused by this so social
stream lets you chat and also broadcast
to Twitter and Facebook and different
social media formats and it's it's not
immediate in the sense that if you put
something a social stream there might be
like a few seconds or possibly up to a
minute delight because it's kind of
broadcasting out chat is an IRC style
you know chatroom so you're not actually
broadcast contending you know media
networks you're just chatting with each
other so I enabled this left when I was
traveling around Europe last tour I had
chat off and we exclusively use the
social stream but it didn't work quite
as well as our I also run the Silicon
Valley javafx user group and we have
chat enabled all the time and chats
really great for talking behind the
speaker's backs and heckling them so
that's what I turned on the chat so
Matthias if you want to heckle us and
you want to chat with Jim and like
laughs at us behind our backs then just
use the chatons say all sorts of neat
stuff but you will have the long there
you can we find him later yeah but I
mean by the time we get back to this
it's already like scrolling way off it
we can assume music I'm same as too late
at that point the damage 30 done yeah
okay so let's let's
to your desktop I started the vanishing
circles with a five circles instead of
50 circles and then it runs smooth
reasonably reasonably well so this is
what it's actually doing when they when
you Hoover we really showed early wrong
in it and then if you click on them they
vanish oh yeah sort of sort of sort they
do vanish but yeah you're running out of
circles and keep clicking you're not
gonna have your left just one sequence
one yeah imma actually gotta kill this
one so the question is what we're going
to do and I got this I had everything
working i think it seems to work and
i've been playing with this for an hour
i even managed to which isn't i'm gonna
show you to kill the jvm entirely with
skull effects I think it's repeatable
thing I think you can show it later on
and why would you put what should we
build that's a big question yeah just
start out with creating a I did set up a
project and LinkedIn the scholar FX core
okay so if we create a slow as a dog a
new
class
that turned out to be Jeff I was not my
intention at all yes go away Oh can do
the guy thing got reminders for night
hacking as I good you should go do that
it's timely does everybody who use
Eclipse is it supposed to be this slow
or is it that perfect so i think i think
that the point is whenever whenever
you're waiting for clips that's when you
go for your coffee breaks i'll be
poisoned by caffeine then let's blame
the presenter desktop presenter yeah so
JFX app app yep and probably need to
import something yeah since that's
actually what it has to be four I'm
expecting the for the reason being the
gym later main method yeah yeah the main
methods in the base class yeah and it
gets called to that this is kind of the
declarative way of creating an instance
of your application you could also
extend JFX out create something reusable
and they just instantiate that and would
also and at least none other examples
I've seen as video but this is the kind
of the pattern for recommending people
use ok so maybe set up you know title
the window size and just see if it shows
up like that should be good also even
though I told it to be two spaces it
doesn't really care so I like that width
and height sure
and that doesn't work so it's supposed
to play what's it supposed to look like
you had you had the other code up for
the vanishing sir flat imagine it's an
import you need to have primary stage
file yeah and yes those are properties
of this stage I saw some some old
examples and they just center stage the
primer stage so I think they've been
changing some of it guys so my
presentation deck might be slightly
outdated but i would i would go with
what these calif ex demo kit hasn't it
this is the famous was it called in
bondage Bobby's earth no sir Justin
Savile sorry but now has
it's nice that's not the right one
though is it offered to put it in and I
gave you the wrong one yeah because I'm
dollar signs I think this will
percenters killing this machine
something like that so now if we start
this you have a window yep should every
window and we do have a window excellent
alright so we're done ah good job and
it's your people very nice again we
killed the vm with four lines of skull
effects yeah so you are you're also
using the wrong version of skull the
Roman tested the untested burgstahler
enough thats related but was it up
easily what's the exact lost time was
segfaults it was actually a real null
pointer boys Dumuzi this happen when you
close the application or no wall is just
opened yeah you try again yeah try
don't reopen I guess yeah it's gone
anyway well I was going faster we get
the window
yeah that's under time
one two three very good I moved the
mouse oh I shouldn't tell me with mash
maybe that's maybe that's not to
implement yet not support it yet alright
well we'll keep it's actually real
Nonpoint ring yes yes that's very cute
ok so I wouldn't be bad I don't like
roughly you I know a debugger fix that
right now but let's let's add some
stuffs the window and keep going yeah
entertain ourselves so I think you need
a scene yep and do I narration Syrian
prompting right now it's the same
property something like that yeah that
looks promising please shouldn't just no
those are not in the same package right
can't it just import everything yeah
okay and then seeing should have like a
root on it maybe put your the master and
then we'll add in a sequence of maybe it
maybe make a at make the root of H box
the box vbox vbox so there's a notice as
i am multiplying with its own yeah i
think use the same syntax as the other
ones because a lot of children okay
let's see if you can import it yeah okay
there's a bunch of different layouts and
I think it takes properties all right
ottomans does it meet box does not take
parameters oh so maybe the way the box
is set up is it um it takes a sequence
of elements in the constructor look at
that look at the view box code for
second in the core yeah see me out so
you got you guys get to see some of the
implementation of skull which is
actually quite interesting from its
called a point of view all right so
here's the magical it's an example of
one of the Raps classes so like we were
talking about implicit conversions that
is what a real implicit conversion
definition looks like in Scala those are
all the methods on it and then should
have an implied method somewhere no we
don't there's actually no doesn't take
anything so we should just just do this
then
so maybe that's the RS route it's not
the right variable that's like saying
yeah but that's um that has a default
value for which is a java a javafx vbox
which gets past in to give you your
delicate object so maybe an easy space
me then I think it might be look at the
scene class for a sec it's on the scene
package I mean yeah it was actually
hardest part when I played with us
yesterday that was little quite a few
demos oh nice oh but it was it was hard
to figure out they can see from yeah so
maybe we need more dogs or at least yeah
more generally and generate the docks
when we build when building stuff there
we go okay there's route takes an object
to type there yeah
that's right so if you look at vanished
in certain residue let's see say roots
here all contents oh okay okay yeah now
I remember this okay so this is one we
should use instead of reach yeah so I
think I think this was my bright idea
was to call it content instead of the
javafx equivalent and it kind of stuck
that was a holdover from the javafx 13
days okay what's list here now so now
we're home ok so just um yeah construct
the vbox object by putting those
brackets yeah do it now she knows just
all right not the first time second time
does not take parameters you shouldn't
have to I would probably have to yeah
okay suddenly it feels like some of them
have a some of the things in the object
here do you have a PI method and
something sound dumb yeah okay so there
was a there was a tricky issue with in
scala dsl syntax originally i wanted to
have everything not required the new
keyword yeah and he's applying methods
everywhere but let me see a big remember
the problem yeah okay so when you're
doing implicit conversions and if you
have n apply methods the apply Scala
won't do the implicit conversions on
things which use an apply method but it
will for things which you construct
using a constructor so that's why all of
the skull effects api's most of them are
designed to use constructors I mean then
you
you instead of the apply methods so that
the proper implicit conversions happen
everywhere there's still quite a few huh
at least one the one I looked at that
has still has to fly my face that was
the first Waterloo class that was my
that was my default but anyway that's
the reason why yeah it was not
originally designed to have appointment
thats everywhere because if I I would
have if I could I could have gotten rid
of all the new key where it's just
syntactically so it was a bit cleaner
but it wasn't actually possible ok so
now for the vbox let's add some elements
to that as well so I think it's children
children equals make it a sequence maybe
and then give it a you know label maybe
create a new label like not yeah and
yeah yeah that looks wonderful what's a
complaining about now
children's non-member vbox okay let's
call some things we call it something
else it's called it's called anything
actually it's probably super service in
pain Tata children well it n constant
which equals children yeah I think Troy
Carter
now that's that's what work all right
now that we're in subby on label what is
Slade Wilson mmm teasers scholars
version that one yeah yeah all right in
most colorful there's actually very
little new things suppose of you you
have a blind method on the on the on
comparing an object which creates which
create objects basically of the class so
it's it's much more uncon which makes it
a bit cleaner so we have a label wave
level progress now let's add control to
the same content yeah is there a is
there a logo for the Java form Mateos
can you drop a link in the chat
well your CP is just going crazy look at
that yeah
well my mind's going crazy because I'm
broadcasting but that's expected I'm not
guessing too so if he put a link there
hammering in here his obsession that's a
good question anyway just tell us this
tell us where to be on the test he's
still he's still searching alright so
let's add a button first and while we're
waiting for the image button yeah I want
to do in an image as well but yeah
settle button yep
she would just import all the controls
sure
and then you so what's any mature yeah
the olecranon your image image view I
think with zinc yeah so we'll give it a
URL to load from
okay so you'd have to but anyway it's
it's well here people &amp;amp; boos oh thanks
tinyurl day cool room dawn SE flash /
yeah so there's a slash jf before images
right there huh Jo / thank you
and he's not happy because of yep
that in a few a mother in trouble
yeah very nice alright so let's Kim the
vm let's try something a little bit more
complicated so I want to we click the
button and I want the image to rotate
about that so then we need to buy an
event to do the hair or do i do it
silently neural probably later on
because we we need access to the image
view object to okay rotate it but I
think I think you need to get variables
for the button in the image of you
remove this one yeah
however
I didn't put put the yeah put those back
again but an image right it make sure it
still works the same so it hasn't
crashed in a while no the crash moon was
empty it was actually where the last
thing that I was also an empty Oh
something my penis be reproducible with
an empty scene okay now captured in
video so it should be reproducible okay
I bet I bet Jim leavers already
initiated Jarrah on our behalf he's very
good at what it takes perhaps perhaps so
what I do button something alright so
now we want to add a action listener on
the button an action event handler
suppose nothing like that no no I also
it's called a swing look I think I think
there should be a property on button for
action handler
we'll see
eventually eventually
ah
this is just too slow
that's cute
so
no sir
I think it's called why they found on on
actions probably yeah there you go you
can do equals and musk I think the way
this works is you can give it a closure
and something will happen so just just
for now just have it print something the
command line and I think syntactically
you have to have it taken events okay so
just give it like that eat something and
then type the e as a action event so
much for type inference
that one ya know that one so yeah that
was almost this way one
what do you say
dozens much action event unit required
event under off the time racer ah one
too many still
back for them so need to invent under
which is typed with an action event
ok so i think you need parentheses
around ok about yeah
and now
so it's different
to unit required but not okay this is
what I saw this yesterday as well you
see it found Scott FX action event drive
far and requires a javafx event so
something with implicit snot kicking in
consolidate yesterday as well a couple
of times I did have a scholar FX I
require your job fx100 I know it's wrong
so you didn't include the implicit we
were supposed to include skull effects
that includes underscore i think it's a
it's a class includes on the basement
all of this package so capo I and yeah
maybe it's include without the s buffer
you
so
I if you check in an example application
as well as writing for it
should all right input tray
check the mountains references yeah
yeah that one it's gone fixing coops so
it is includes
okay just takes a while and stack up
really yep
okay so even action handle right now all
right now animation hmm so let's see if
we can add a rotate transition to image
to the image so I'm guessing then no so
I think what we want to do is we want to
create a new rotate transition object it
was I to be a class inside the cover
yeah its closure in flip it you create
outside too we set to play the animation
in the closure yeah so queer new
variable for a animation yeah I mean
eight amination whatever you want call
it and when you rotate transition which
takes nothing what takes arguments idea
was it say let me take a look at the
class well you can pour it first
did you ok so it takes no arguments and
then we can set a bunch of properties
for the duration the angle yeah ok good
so so the properties the same style is
same style so you want to set the node
equals our image and then by a tribe by
angle that and how many degrees how many
times do we make it red tape just once 3
333 times the grease yeah okay so you
want to do 33 degrees ulch let's do
let's do seven twenty that's to rotation
okay and then give it a duration maybe
five seconds to set five seconds that's
yeah all right and then in your event
handler just do animation dot play home
he's happy yeah
do people do normal swing apps when the
JavaFX cause I mean most of them are
staff are very graphical very animated
those big horse swing still the king
what you changing alright so I think I
think that's a successful okay I'll keep
skills back to the question yeah so now
now that javafx has proper tables and
charts and trees you can actually use it
to replace most of what people been
using swing for traditionally and we've
been tracking companies using java
effects and a lot of folks who are
previously using swing are now migrating
to javafx definitely for new development
but even for their existing applications
kind of upgrading them you can do a lot
of the same things but has anyone here
done any swing hacking in the past ok
quite a few folks so you guys you guys
know all the glass pane tricks for you
magically make things appear in a glass
pane layer because it doesn't really
have any other way of layering things or
putting this on top of each other
there's a whole bunch of Swing isms
which have fallen out of the fact that
architectural II it's it's not really
designed for um building Richard user
experiences and javafx it was actually
done by a lot of the old swing folks at
that's on the old swing team and it was
a chance for them to fix a bunch of the
things they could never actually fix him
in sling so it has a proper scene graph
so like this rotation effect as an
example you can use something like this
maybe a page flip or some other effect
and you could apply it to your Hall a
whole section of your UI seamlessly
without the swing ISM would have been
like capture and
create a glass pane take the image of
your UI and ply an effect transform on
that to make it thick look like it was
an actual animation in javafx you can
literally just animated if you're
worried about performance you can on the
top level notes at cash to true and then
it does the magical cashing of an image
on the effect so it doesn't have to
rerender it during the animation
sequence for better performance so I
think the definitely our recommendation
is there's not any active swing
development happening and on from the
library standpoint so our recommendation
is folks use JavaFX for all new desktop
Java desktop UI you're developing and
also were we're working on getting
better deployment as well that's one of
the things which is held back java on
the desktop was having a way you could
actually get your applications to the
end user and there's support in javafx
and java 7 for doing Nick packaged
native packaged applications so you
pointed at a jerry you run a packaging
tool which will give you windows
macintosh and linux installers and it
actually includes the java runtime in
your application the same version which
you code it against so you don't have to
test against multiple jreeves or worry
about it breaking and your end user
doesn't have to have Java installed or
even know it's using Java from their
perspective it's just a native
application they're installing that
becomes write once run anywhere yeah
yeah almost well son son coined that and
it didn't pan out exactly how we'd like
but let me let me actually show an
example of this so here's a Java app
store
I mean the apple app store sorry and if
we do a search for ensemble we can see a
nice app here and this actually is the
first javafx app that was submitted to
the app store you guys can download and
run this straight out of the App Store
and I already have it installed sorry
this is also a good way to check out the
features nope label that one lost here
yesterday it was unexpectedly nice so
it's really really nice because you
there's also a source code view of the
set of actually running so you can just
switch to the to the code and switch
back and play with it yeah so here's all
the different animations you can use the
different types of charts you can create
and java effects and when you open any
of these examples you both see the
actual live running example this is both
the JavaFX application and also it's
running javafx samples in it and you'd
like nicola said you can also see the
source code and use this in your
application as a starting point a whole
bunch of controls so just about
everything you need for a standard
business application this is really what
was holding back javafx for a while was
they didn't have a full controls library
but with the 20 reliefs they know I've
everything eating to build business
applications tree view or something and
the chunks a look sweet nice as well ok
here's the table and you can sort you
can drag and drop columns and it's not a
lot of code to create a table this sets
up the model and this is actually the
the person class which is getting
rendered with a bunch of properties on
it and you just create a list of people
and then it automatically pulls
the properties in the person object when
you set it as the model like this so
with that when maybe another time for
this call I fix code there's actually
some folks working on scala effects
ensemble porting over on a lot of these
examples to scala and that's done by
kicked off by the chennai java user
group a bunch of the guys in india are
very active on that so um alright so I
think this is a good a good time for
questions you guys have either in the
room here or up front or are on the
livestream about skoloff X because after
this we're going to play with the
Raspberry Pi good times okay sorry i
took the oscar i do the rotation
okay so you guys have any questions
could you could you help with them
passing the microphone because
Thanks so do you think that since javafx
historically seem to have been the fizzy
fist generator right hold on a sec is
the is the mic on the task can you check
and make sure it's no now that's worse
like that okay yeah that's good yeah i
got so uh what I've seen it seems like
people have been shying away from javafx
because of the the ups and downs of
whoever's been holding it for for the
time being you know it's been it's been
on and off it seems when when act before
the acquisition was first that Jeff X is
FX is going to blow everything out of
the water and that quickly transitioned
into well javafx is now being being put
to sleep and after the acquisition the
whole thing repeated itself are people
shying away from with earthy keeping
with swing because of that or what what
what will the future be what is oracle
standpoint out of this yeah okay so it's
a good question you can leave the mic on
don't bother turning it off so i I've
been fiddling around actually i joined
oracle is here so i took from some
standpoint I'm an employee now you can't
trust anything I say but I've been an
outsider hacking on javafx for quite a
while before this and the technology
initially took a while to get adoption
and part of the challenge was you know
folks who were building real business
applications looked at it and I looked
at all these cool graphical demos and
you know media and it was being pitched
by Sun as a you know a tool to build
rich interfaces across all the screens
of your life etc etc and then real
business users looked at this and said
well you don't have a table I can't read
a real application on this
and so as a result adoption was it slow
initially and when Oracle took it over
they they did something smart but at the
same time it also caused a hiccup which
is they looked at and they said well
it's not really focused on business
users which is our typical Java use case
and it uses a proprietary language which
is not java and we can't figure out why
so we're going to essentially rewrite
break compatibility and we'll release in
a year but for the first year after the
acquisition anybody who'd been using
Java effects was somewhat stranded if
you continue developing on the old
scripting language you you knew that it
was end of life and there wasn't yet a
release where people could jump on the
20 stuff if they wanted to try out the
new java based now I mean to to Oracle's
credit or I guess my company's credit
our credits I credit we actually
delivered on time for the 20 release and
it fixed a lot of the problems which had
plagued javafx it was actually focused
on real business applications that have
had proper tables and trees and controls
and graphing all the things which you
need to build business applications and
what was announced at javaone it didn't
get all that much traction the first
year for exactly the reason you were
stating because people are like whoa you
just rewrote the whole thing we're not
sure if it has a future we're going to
wait and see and what happened that Java
one this past year was suddenly there's
a whole lot of interest all the javafx
sessions I gave were packed it gave and
attended there was a whole lot of
interest business-wise and we're
tracking over 200 companies using java
fix technology and a whole bunch of
other folks who were are using it that
we don't even have knowledge of so i
think it's it's actually picked up quite
a bit of momentum just by virtue
of Oracle continuing to invest in it and
doing the right things for the audience
we actually actually use it internally
for a bunch of projects as well so it
helps that it's not just a pet project
it actually is used for real
applications so i hope that answered the
question and I'm sure if I didn't answer
it accurately than Jim at some point is
going to jump in and say something
inspiring on them my ideas what I should
say that I was a quite skeptical but
when you were in Stockholm we found out
there were a couple of companies are
actually rewriting all the swim clients
to your FX there is a go i fix use
europe in stockholm forming as we speak
so nice yeah i think something is
something has shifted yeah because at
the same time the javascript world has
become much much better during the same
period as well so i guess that a few
then who left swing probably left for
for web lines definitely i totally agree
to that but i think there are still some
use cases that are looking for more or
desktop client yeah thing or idea yes
it's nice to be able to write your whole
happen java no scholar scour good enough
okay it's not it's not Ruby but it's all
right any other questions how's our
house our pizza doing is only pizza
where is the pizza that was my question
you know okay do you have hi Luca right
do you have any experience with Java
effects or Skala implementations on
Android platforms as possible to because
it is a different virtual machine yeah
okay the question is javafx on horse
collar on android so the former java
effects on android so javafx will be
fully open source as of februari
it's February's on alright soon very
soon m and henley javafx will be fully
open sourced and you can check out the
code on open GFX as part of the OpenJDK
project at the point at which it's fully
open sourced then there's nothing
stopping somebody from you porting
javafx to another virtual machine that
possibly is not a java virtual machine
but i doubt that i doubt that Oracle's
actually going to do that I doubt we
will likely not do that I probably
shouldn't be commenting anything in Troy
because I I don't want to be subpoena
than end up in court but um the fact
that Java effects as being open source
means that somebody else could could do
that work if there's interest Scotland
androids a whole separate thing and I i
think i've seen some folks using i mean
it's it's technically there's nothing
stopping you from simply compiling to
byte codes and then running it through
the which might call it the little
dalvik thingy decks yeah writing it
through that and then generate the
appropriate dalvik by codes and then
running it on Android and I've seen some
blogs impose some people doing it I'm
not sure how common it is though it
adding all the scala libraries to your
mobile application adds quite a lot of
bloat ware you probably if you're
developing for a constrained platform
you might not want to take that that
overhead on a server side application it
doesn't matter as much because you don't
care about the application sauce on the
other hand you can probably get by with
quite a little over on the standard
library if you like if you still want to
have in Scala syntax yeah yeah no I
think it's possible and it's been done
okay so your question
yeah alright anyone else want to kill
time before the pizza rose
so you said you would release as the
skull effects on nopa source license
yeah scalloped x is bsd license and
javafx will soon be released under the
whatever OpenJDK is okay so the question
was which license pathana no yeah so
that's your answer if I would like to
write the javafx application but I'm
forced to use a third-party spin
component accomplish that we are mapping
graphic component to use a third party
okay what people like to write yo ethics
huh yes so what she really wants is
probably swing node which doesn't exist
yet but that veteran a plans future
control which will let you in bed swing
components inside of your javafx
application currently there's a vertical
JFX panel it lets you in bed javafx
inside of a swing application but it
sounds like you need the opposite
because you're you're tied to some
specific swing controls I heard that you
can use swing windows system still
jframe dejalo and then the first content
panel could be your ethics panel yes it
could just use this swing window system
and then use yoga fix and then you come
that way at swing component as well a
little player yeah so you could you
could do that but then it says it's not
part of the scene graph none of the
transforms or effects or like scene
graph layering and javafx is going to
apply you're going to have to manage
making it appear like part of the UI by
bring it on top and positioning it
correctly I've seen I've seen people
hack it that way to kind of like use an
outer jframe and then have your swing
stuff and then try to like layer the
javafx stuff so it appears like it's
part of the same app but it's not as
good as if it was actually on integrated
so I think I don't know the current
state of it is roadmap wise so you
should ask somebody who's actually a
product manager who can make commitments
but I think the plan was to get a swing
node component in the Java 8 time frame
which is probably what you want
and then you know obviously we'll have a
nice schol effects swing the rapper once
that exists in them in Java 8 so we
should probably hand out some teachers
who people that actually asked questions
right that's that's that's a really
great idea of attacks us first you're
right long t-shirt size and when I watch
a medium extra me extra medium can you
pass the mic around I wasn't done
t-shirt oh alright so for folks on the
stream what I'm going to do is I'm going
to I'm going to cut this as end of
recording one for our Scala effects
stuff and I'll start a second recording
when we do the raspberry pi stuff i'm
going to leave the live stream running
so folks who are on the live stream can
can hang out firstly i like pizza CS eat
pizza and then we'll start the recording
for the raspberry pi stuff in just a sec
but before that looks like you want yeah
i had a question about when you have the
dynamic value where you bound one value
to automatically update from to others
in writing beginning on presentation
does the compiler detect loose okay so
the compiler doesn't have to detect
loops because it's done it literally
maps on to the javafx binding libraries
so I think you're you're worried about
the case where you have like a property
referring to itself itself it's a level
of depth like that this property updates
and that it results in this recursive
yeah so basically had a type or two
types in scale that had a properties and
one of them was bound dynamically but
not the others and you didn't really
know which which orbit you would get a
binding time so depending on other
factors you might sometimes get the loop
and sometimes not the truth all right I
did I did I didn't understand that so so
you have one you have two different
shapes bow they'll have a property okay
one of them is dynamically bound the
property has the same name you don't
know and they will both come from the
same type which has the name property
and you bind one of them and
accidentally bind that one to your outer
object or the object doesn't make sense
no so it could be made but so so so you
have a square and the circle okay okay
and both have a width okay okay and you
put them in a in a frame the width of
the frame is twice the width of what
everybody in there and you say on the
circle that one should be twice the
width of the frame so if it happens with
the circum there you have a loop yeah if
you put the square in there you're fine
okay the question is whether well what
if skull affects whether Java fex will
catch the fact that you have a loop and
bring oh I was kind of hoping having a
typed language instead of functional
language if the at what point do I
detect this loop okay so scala effects
will happily let you do recursive
bindings because all it's doing under
the covers is calling the
javafx bind libraries so it will it will
set up the bindings in javafx and I I
haven't tried this in javafx but my
assumption is that it will also happily
let you do recursive binding and then
you will get you will get on undesirable
results at runtime because it can't make
it obviously the compiler is not going
to detect anything so the question is
what behavior happens at runtime when
you actually do a recursive binding yeah
i was thinking of the language such as
haskell or something you might actually
detect that type of object since they
conform to the same interface it's
probably going to be a bit harder which
is not a problem you have in-house
columns in the same sense not so Haskell
would detect that there were different
kind of objects and say what you have
and probably you have an issue with one
of them aware of that just as i mean i
think i think so that's level of it's a
curse of hierarchies yeah basically yeah
so that level of like compiler smarts
would only come if you actually had a
compiler based bind implementation like
like if they compile are actually under
students and set up the bond
relationships where it could properly
you know detect cycles and the tree of
bound objects because you could set up
bindings at different parts of your
programs without knowing the execution
order it also is quite complicated to
figure out whether you have recursive by
loop as well but um that would probably
be possible in certain cases if you had
compiler support for binding like the
old javafx script language had or visage
is the new version of that has today but
even that doesn't detect those cases
currently because I think it's in the
trivial case where there is declared
together it's quite easy but the general
case is quite hard
hey any thoughts on clothes if it feels
so Stan soluble if you want to have meme
you can do it in runtime as well and ya
know but I mean at runtime basically all
you can do is have deterministic
behavior when you hit cases like that so
it doesn't you know detected and do
something which makes sense it's kind of
too late to the rut compiler at that
point say that your program is wrong
alright cool so okay we have a question
on line from extravagan could you talk
about the designer developer workflow in
javafx I feel that it has been lacking
and prevented adoption for the 10
language ok so the 10 language job
effects 10 and assuming yeah so I think
the basic story around designer
developer workflow really has to do with
CSS and MF XML support for job effects
one of the one of the issues with javafx
script was it combines declarative
object definitions for your how you'd
played out your UI with code and as a
result usually you had to have a
programmer do a lot of design javafx to
introduced well this this existed
analogy effects earlier job Lex one
stuff but it has support for CSS so you
can abstract out all the styles from
your application and also supports F XML
which is what's used by the scene
builder design tool seen builder amid
SEF XML which is an xml-based markup
language for the UI and you can have a
controller file for your code behind it
and I think the combination of using
some sort of declarative markup like XML
plus CSS for your designers
with java or Scala code for your
business logic makes the develop
designer developer workflow work better
so I guess my answer would be I think
that that problem is mostly solved in 20
but i'll i'll defer to if there's a
question about designer developer
workflow and 20 where people are hitting
issues i don't think anyone here has a
problem with java effects to designer
developer workflow all right so
hopefully that answers your question
ekstrom again but thank you if he comes
to JP j pocus he gets a t-shirt right
yeah all right have you got it it's
right here so the half an hour okay yeah
yeah we can you guys you guys want to
keep going you're on break thanks a lot
oh thank you very much
all right I think we're officially sick
and break outro time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>