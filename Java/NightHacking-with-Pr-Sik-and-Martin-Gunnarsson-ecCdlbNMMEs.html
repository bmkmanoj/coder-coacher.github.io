<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>NightHacking with Pär Sikö and Martin Gunnarsson | Coder Coacher - Coaching Coders</title><meta content="NightHacking with Pär Sikö and Martin Gunnarsson - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>NightHacking with Pär Sikö and Martin Gunnarsson</b></h2><h5 class="post__date">2013-01-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ecCdlbNMMEs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright so welcome to night hacking and
today we are in Malmo Sweden we are with
par and Martin so would you would you
guys care to introduce yourselves to all
the folks watching on the street oh and
I'd also thank you thank you i also want
to thank the guys here for making sure
that the stream is actually working we
verified it's a lot all right all right
well I'm the Martin of the two of us I
guess and I've been working as a
consultant for a number of years now and
I'm actually in the process of changing
jobs so congratulations thank you yeah
maybe we'll see yeah no definitely so
well I come from a Java background but
the last couple of years I've mostly
been working with strange things like
JavaScript and objective-c and PHP even
so I don't know I don't know what I am
anymore just a generic coder I guess
yeah or developer and the geek of course
and we've been presenting together for
forever I guess at least for five years
I guess yeah for years yeah so much so I
think the first time I saw you guys was
at j soon yeah I thought years ago you
were giving the designer developer
that's was a good presentation yeah yeah
we give much better on what we're gonna
give tonight definitely that was
actually preparing presentation this is
just you never know but and your pal
actually yeah I'm Pat Lam I'm I'm like
marking but but I don't do PHP and I
doing a less beer than modding okay so
you're both better and worse yeah stead
of reimbursable yeah and we've been
presenting for a couple of years now and
it's been fun despite Martin oh thank
you yeah it's always a pleasure I know
all right and tonight we have or perhaps
you want to say something more before we
know
ok it's have a number of very good for
introductions but you you're reaching
for your computer so that that's not
good I want to tote what you want so
right so we have a number of different
things to show tonight we're actually
going to do some coding because this is
night a king after all rights that and
that will qualify you as an idolatrous
if you can actually write good so you
we're going to go are going to do some
coding and then when when you're done
we're going to jump back to the 80's and
do some crazy stuff and then we're going
to jump to some crazy stuff yeah and
then we're gonna jump back to present
and we're going to continue doing some
perhaps stupid things all right sorry
setting the bar yeah we have one good
thing and two bad things so stick with
us yeah so but actually if you don't
code anything you won't be a knight a
curse so I'm gonna have to take your
sticker I'm sorry you can stick against
tickets hey all right so what art is one
for each of you sir yeah but he doesn't
really qualify you know yeah it's sure
to do live coding but yeah we've been
working a lot with the webview in javafx
last year and we've also looked a bit of
the webview in android on the web view
and iOS and kind of compare them a bit
and the one in javafx is actually I
think it's the best one I think so it
has a very small API but you can do a
lot of you can do a lot with it if you
know some tricks so I think we're going
to start by just showing how to how to
work with it how to get started with it
and I was kind of kind of hoping that
you would have been introducing the
scene builder and everything by now but
it's not it's complicated obviously not
so people can watch the previous streams
yeah I past few events if they want to
see that so if you leave the stream now
and watch the other video no it stay on
the screen stay on the strip okay all
right you guys can stay here too
right so what we have is we have set up
a kind of a basic project in netbeans
and I'm just going to show the web view
ports so the webview in javafx is
actually a webkit browser it's a really
really powerful browser that you can use
in your programs so even if you don't
like Java effects for some reason you
can just think of it as a browser for
java which has been missing for many
years now i think a lot of people have
been talking a lot about the web web
pain and swing and so on and it finally
finally arrived a couple of years ago I
think at javaone yeah I came with Java
60 and I think it's kind of a it's it's
something it's a really powerful
component that's kind of easy to miss
and it's very easy to its it's kind of
hard to see the possibilities for what
you can do with it so that's kind of
what we've been traveling around talking
about like oh you can do all of this
with with a webview so it's a full-blown
full-blown browser so you can show html5
CSS JavaScript everything that you
expect from a from Bowser is in Java
right now and that's cool yeah and you
are gonna live code here and we have two
demos that is I would say a little bit
more impressive than what would your
gonna wait thank you but sure go ahead
all right I hope you can source code
well what do I am yeah this is a like I
said I've set up the basic foundations
of a project and i actually have I think
maybe
if I do that you it Meredith hasn't seen
dozer this is the same builder which I
discovered recently I've heard of it but
I hadn't tried it this was I've always
preferred to code my my layouts by hand
but this is a really good tool and now I
would never write anything by hand
anymore so this is basically a visual
you I editor for javafx and I've used it
together with netbeans and it works
really well you can just double-click
double-click your layout file in in
netbeans and it opens in the scene
builder you can change stuff and connect
like you can connect methods to a button
or connect a control to variable and so
on and then you just save it and it
works it's updated in that means
immediately and this is how it works
from eclipse as well so you can
integrate it into clips yeah if just
click on a F XML file in Eclipse it will
open yeah so this is kind of a visual
visual editor and this is the GUI I've
been creating we have a button we have a
label here as well as you can see in
this sort of preview here and so I've a
button on the label and we have a web
view over here and we can also have a
look at this I just do this right this
is what it produces sit the code is
actually very readable and nicely
formatted and everything and you can
change it here and it updates in sim
builder and the other way around so it's
kind of it works really nice i think the
birth workflow is and it's perfect I
mean yeah this is actually what we used
in Iceland yeah for the Raspberry Pi
demos all the project team screwed okay
that's great and I'm not really going to
care about the layout code right now and
we just close that and then I have some
files that you get when you create a new
type of project that's called an F XML
project and F XML is this xml-based
layout
well filetype I guess and that's one way
of coding you is in javafx so we've
created a new template project and F XML
template project and then we get a
controller for the UI and we get well
like the main class of the program so
this is the code for the program itself
this is where everything begins we have
a main method down here nothing special
there and we have a start method which
is where we sort of where we enter the
javafx application I guess we extend the
application class so this is sort of
where everything gets loaded and started
but this is just Java fix it is nothing
to do with FX MSO for nothing to do with
well it loads with a way it loads f xml
file for me so i don't have to do that
manually all of this i get but
everything else is just java fix yep and
i'm not going to care about this either
because that's that's just to get the
application running we don't we don't
have to change anything they're really
but what we do get as well as a
controller and the controller is well
it's the code for the xml file basically
so you can lay out stuff in the xml file
and you can write the logic in in the
controller class or in other classes as
well but the the controller is the
connection between the xml file and and
the application basically so we have to
begin with we have a number of
connections here to do that to the xml
or the contents of the xml file i guess
and we have annotated those with the at
F XML annotation and that's just to make
them visible in the same builder despite
them being private here so if I go into
the same builder I can
bad example label I can pick well I
picked it already but here you can if
you have a number of different effects
ml annotated variables you can pick
which which of the labels should this
specific components be connected to do
you get this yeah then everybody's fine
all right so so we have a web a web view
we have a connection to a web view and
we have a label like I showed you we
also have a method here called button
clicked and that's also annotated with F
XML annotation and this means we can any
control the Tison like an action or
events that can be triggered we can just
select this button clicked method in
singular what I'm not going to browse
through all that all those settings
right now but you can just select it
what action do you want i want this
method and all of the methods annotated
with f xml are visible in the same
builder so this is a kind of a nice way
of choosing what to expose to to the UI
I guess right yeah great easy yeah it is
so let's let's run this let's see what
it looks like if it works
there it is so I haven't really coded
anything yet I've just grown buttons in
in the same builder so so far this is
very easy and ugly yeah but it's a
that's okay it's a very simple example
so I'm going to do a number of things
here first I think we should load an
HTML file into the webview that's a very
good sure good place to start right so
we have this controller implements the
initial I ssible interface that's always
a tricky word for me and that means we
have the initialize method here that
will be called automatically when our
controller is created I guess so here we
can do things that we want to happen to
our UI after it's been loaded which is a
nice place to load our web page so you
might wonder well we don't why don't we
set the webview variable right we don't
have to that's automatically handled by
well the JavaFX magic and so you don't
you don't really have to worry about
that we will have the webview component
here if we've connected it in in the
same builder so we also webview is not
know you can just start using it yeah
well you could check it but I'm gonna
I'm gonna be able to research the bell
yeah so when we're working with a
webview the webview is basically it's
just a component in javafx it's like a
label or button or whatever but it has a
very powerful object inside of it called
web engine and that's kind of the
working horse of the webview I guess the
webview itself render stuff right right
yes yes I mean III don't know this this
world this was on your slides in the
presentation I don't really nothing
right so we want to make sure that you
listen to me yeah oops so we want to get
the engine the engine is whether all the
all the work is done so the engine is
responsible for fetching the URL passing
it generating it done and applying the
CSS and then forwarding the the content
to
webview for rendering that's about it so
you have the web view and the web engine
so you grab manganese is doing the heavy
stuff they have a lifting and the
webview is just a note that's being
displayed on the screen so webview is
you are so web ngness I guess you could
say web engine is a WebKit I mean that's
yeah that's where the work gets done I
would say so so we always want to use
the engine for stuff if we won't even
when we just want to load the page where
to get the engine so that's what we're
going to do and we have a page I've
prepared the page here called content
and it's also very basic it's kind of a
template for what we're going to do but
we want to load this page and that's
kind of easy we'll just use the load
method right I will just have to get the
URL for this resource within our jar
file like that so it seems like a lot of
code but what we're doing is just making
sure will always get a nice URL to this
HTML file within our application and we
don't want like a hard-coded URL we
could use that like my home directory in
such pure on one computer yeah okay it's
funny because I get a lot of code from
you where the all the files point to
your hard drive and Zach okay this works
young your computer and write magic by
writing it like this it would work at my
can be reliable yeah so we could try
that sometime maybe all right so
hopefully we should load this content
file into our web you know if the demo
gods are with us tonight and there it is
it's a very simple web page but this is
a web page this is javafx we can click
this we can click this and nothing
really happens which is what we expect
so the entire area on your right side is
the webview that's the web page here
I added the border to just to make it
stand out a bit but if you don't do
anything you can't really tell that's a
separate area at all so you could use it
like just another part of the UI I saw
just to just be just to tell this is the
right hand and this is no no just do
just kidding just to make it just for
you to understand the webview is not a
web browser it contains the WebKit but
there are no you know reload or back or
forward buttons it's just blank area
where you can show a web page it's it
has nothing to do with web browser no
buttons no back history no URL no
nothing so just blank screen that you
can show web content on yeah none of the
UI and even I mean things like if you
want to show an alert dialog well you
have to code an alert dialog you can get
the call back but you have to decide
what to do with it so it's I think
that's good it's separated from I mean
it does what it's supposed to desire
your Java flex application is the
browser yeah that's kind of the chrome
around I think Google's messed it up a
bit when they call the browser Chrome
because now you can you can talk about
the chrome of the browser anyway which
is which used to be the name of the
buttons and the toolbars and so on but
that's the chrome so you you have to do
decide what you show on and so on so
what we're not going to do here
obviously is we want nice we want the
job of X program to be able to tell the
web page to do something we want to send
commands to our JavaScript in the web
page and also go the other way around we
want our JavaScript to be able to tell
the application to do something so you
want to communicate from javafx into the
JavaScript context of the web engine
exactly and then you want to go back as
well so you want to pass messages yeah
between the web and javafx exactly and
see and kind of I mean this won't be a
very spectacular demo but it will give
you an idea what what you can do will
show you show you the path and then you
can choose what to do with it and the
interesting thing here is at least going
from JavaScript
javafx you can actually pass objects and
everything so it's it's not just
messages you could send like Orwell both
way I can both way with ways actually
yes you could send objects back and
forth thy create the user object and
send that into JavaScript and have that
I mean use that for your HTML rendering
and so on you could get the name of the
user and the email address and so on in
JavaScript from a job FX object with
which is cool I mean that's nice so
enough talking i guess i have set up I
have this method set up here and I think
this gets called when the button enjoy
effects is clicked I hope I connected it
but we'll see so I think the easiest
part is to go from javafx to javascript
first and that's we usually say that's
kind of the less elegant of the two
solutions this is very straightforward
once again we'll get the engine I'll
just drop this then we can use a method
called execute script so like I said
it's very straightforward we are the
string here we can write any JavaScript
you want in there and it's going to be
executed in in the context of the web
page so how can we try this well let's
have a look at the HTML code I have some
JavaScript here and maybe if we are we
had a function here we could call or we
can just we have a div down here with an
ID called greeting and I can just call
that right away so you can execute any
JavaScript any valid JavaScript in the
execute script method so you can do Dom
manipulation you can ask for a specific
part of a div for example and what are
you doing you're changing the iron or
HTML of the greetings tag yeah so this
should hopefully it's kind of hard to
code within the string because you don't
really see if you spell
were made him made a mistake but this
will hopefully get the greeting tag this
div down here and set the inner HTML
which is the contents between these two
the opening and the closing time and
just right hello from javafx so let's
try it and see if it works so any valid
JavaScript yeah and i think the execute
scripts will return a value if you ask
for it so you can you can get data from
the it will it will yeah as you can ask
for data from the web context exactly
now we just set we're just setting
something and I mean that's powerful
enough you can do a lot of cool stuff
with that when i click this java effects
button we execute the javascript but
well it's executed within the context of
the web page and like you said we can do
whatever we want with that but we made
what we chose kind of an easy example
here we could of course move all of this
into the web page if you want to do we
just grab all of this of this and add a
function
hello oops
and now we've moved all of the
JavaScript into the web page instead and
we'll just call this hello function
and that works as well and of course I
could I could sort of paste the string
together here with a variable from
javafx and if I wanted to I mean I could
get like an input value or whatever so I
can just paste this in here and build
make up my JavaScript string from that
but it's always about executing a string
of JavaScript with which isn't that it
works but it's not it's not a very
beautiful solution i guess so that's
nice with the that's the only way if you
want to communicate from javafx and into
the javascript part of the web you yeah
that's how you do it that's the only way
yeah I guess I guess yeah the only way
we know of but there's another way to go
back well yeah we want to go the other
way around we want to have our
JavaScript tell our javafx application
to do something which is a lot more
advanced and potentially a lot more
insecure I guess because I mean I
wouldn't I would never allow like if I
load a webpage in my javafx application
I would never allow that to just send
the string of Java code and have that
executed within my application that
would be that would be kind of crazy
because you never know there might be
somebody like a man-in-the-middle attack
injecting evil JavaScript into your web
page so we won't have a bit more a bit
more control here what actually gets
executed and this is I really like this
will the solution here it's I think it's
a very beautiful it's if it solves in a
very very much more beautiful than then
going from from Java effects to
JavaScript it is and by default the the
JavaScript execution is not turned on in
the web engine no yes it is I haven't
turned it on so you're sure but I know
that you used to be right at least i
don't know i mean it might it might do
something for me in the scene builder
I'm not
but I haven't done anything special case
javascript is turned on by default yeah
just saying on Android it's turned off
yeah yeah you might be mixing things up
a bit but it's it's good you're trying I
mean that's an improvement no all right
just right yeah I'll get packed alright
so this requires a bit more work but
it's the results are much more
interesting so I think the first thing
we want to do is to create what we like
to call a bridge object because the way
this works is that we can actually
create well we talked a bit about this
before but you can create an object and
inject that into Java JavaScript we can
create a Java object and inject that
into JavaScript and Java Script can call
methods on that object and have Java
code being executed so we start by
creating I just put it here class rich
for example so we're actually going to
send a javafx object into black WebKit
yeah into the unknown kind of scary and
we need up just a simple method here
well let's call it hello as well
all right we can even get the message
like that we have a very simply class
here that with just a single method that
just does something to our to our scene
basically all right make that bit
smaller and okay somehow we need to send
an instance of this bridge class into
the webview which is a bit complicated
you might think but it's actually rather
now it is it is a bit complicated it
could have been easier but it is a bit
complicated that's why we're here
basically all right so we need the
engine and and let's just do this the
way you would expect it to work and
we'll see if it works you know what I
mean all right we're going to use the
execute script method once again because
like you said we can execute any script
we want to and it can give stuff back to
us so the script we want to execute is
window kind of short to the point what
the window is actually the topmost
object in the JavaScript hierarchy the
window is kind of the global context I
guess in JavaScript if we want to get a
handle to this window object to be able
to set something on it we could get a
handle to any object in the Dom or any
JavaScript objects in sort of the page
but the window is quite easy to work
with and we get this return to us as a
jas object you know like whoops
no you don't have my keyboard shortcut
set up yeah well it's my computer yeah I
have never done this fixing boards all
right there we get a JS object which is
which is a generic representation of any
JavaScript object it's it doesn't really
know anything about the object but we
can get values from it and we can set
values to it so we want to use this set
method of course set member and here we
decide what the name of the JavaScript
variable should be and it should be
bridge for example bridge and new bridge
that looks rather easy right we it's
kind of tricky tricky to get get this
window object you have to do a cast and
this is object classes it's in comments
on web pain what I don't know it's it it
feels like you're on the edge of things
Castle that's a classic yeah it is like
you're not supposed to do this you're
not yeah I know so it works yeah it
works all right so we try this and see
what happens because I think this will
be rather interesting
okay we can try this still works and we
can try this oh good don't work yeah
this is probably something that
everybody would run into once they start
working with a webview well what's the
problem I have no idea yes you do I
don't you don't okay I folk I mean we
talked about this okay well I know what
the problem is luckily and I know you do
as well the problem is we get the engine
of the webview does anybody know what
the problem is no sweet we get the
engine of the webview nothing strange we
tell you to load the page nothing
strange right but it is that's a bit
tricky because load is an asynchronous
synchronous method so it will start
loading the page and then just move on
and then we get the window object sure
that works beautifully and we set a
member variable on that window object
and then the page finishes loading and
just throws well away the entire dome
and replaces it with a new set of we're
just trying to inject an object into a
Dom that's unfinished or maybe it
doesn't even being created okay so you
have to wait for the dawn yeah well that
page to finish loading and the
excitement and this is actually the
tricky part I guess the concept is very
easy all right where's the wait until
the page has been loaded that's easy
what you have to do it in kind of a
complicated way I guess we need the
engine again inside the engine there's
something called a load worker and this
is a worker object that what it's for
responsible for loading resources into
the web engine I guess so we need to
have a look at when is the load worker
finished we want to know when it's
finished and then you want to inject the
object exactly so we have a state
property here and we can add a listener
to that
and yeah there's a lot of code here just
rename this a bit okay so what have we
done we have added a change listener to
the state of the load worker right clean
this up so you will have changed method
will get invoked as soon as it's done
loading right yep and then it's safe to
start manipulating their done exactly
but this isn't enough because I mean the
changed method will be called every time
the state changes like oh we have
started loading loading something we
don't want to do things just any time
the state changes we want to wait for a
specific state okay yep so we just
stayed equals well succeeded sounds good
because I know it's right all right oh I
don't like your keyboard shortcuts but
okay also you yeah I know it's right
back atcha so well there's a lot of code
here and it looks kind of intimidated I
intimidating i guess but all we're doing
is waiting for the page to finish
loading successfully we don't we won't
do anything if the page load fails for
example so let's see i will made a
mistake we'll give it a try the JS
object is only one of the different
objects that you can retrieve from from
the JavaScript so you have images and
you have div elements so you can you can
ask for a specific image and you will
get a representation of the image in
javafx and you can change the source and
the web page could update it
automatically you can if you if you get
it in a bit of different way
I guess but there's still a counterpart
in javafx everything that's in HTML yes
we have we have like all the all the
different HTML classes like we have an
image like an HTML image object in Java
that we can see the different properties
of them so on which is very nice right
this still works this doesn't work
interesting well I knew that yeah what
to do now let's have a look at the
javascript code i'm not sure that oh it
doesn't do anything no wonder it doesn't
work all right so that's good we have a
function here in javascript which gets
executed every time we click the button
but it doesn't do anything yet which is
it's kind of bad for us and but remember
we cut the handle to the window object
from this context right so we can do
that here as well window and the this
window object will have a bridge so
you're using the bridge object that we
present in from javafx yeah this can
just access it is joy in JavaScript
window dot bridge that's it will be the
bridge yeah so we have we should have a
method or function called hello that
takes a string organs so we should be
able to write hello greetings from the
web all right let's see if it works now
this works that's works nice all right
so you guys you guys have been getting
some questions on the oh read more
comments okay stream i think that are
they there at one i'm in the comments
i'm sure the questions are good one but
Matthias wants to know who's the most
handsome of you too I think we both know
that so and Jim was wondering if you
could if you've ever tried playing with
lens expressions Demelza make getting
cold so much more beautiful yeah I
simplify that anonymous so everything
you just saw is if you open the code
exactly all of this will be made much
more beautiful in Java 8 I guess when we
get the lambda expressions I like all
this listeners for everything we can
just pass in a lambda expression yep so
this is this would be like two lines of
code I guess I haven't tried it I've
read about it but I haven't tried it
myself but I'm really looking forward to
it and you can tell javafx is really
prepared for it i mean some things look
a bit clunky but you know that the day
lambda expressions are released oh it's
going to be beautiful yeah they kept
everything to be single method
interfaces yeah so it'd be very easy to
move them over to blend expressions once
the future shows up in Java 8 yeah we're
looking forward to it definitely have
you have you tried lambda expressions
Jim oh well Jim's telling us that you
can try it now with the JDK 8 download I
know I know Jim but ya gotta have time
for it as well with the family no no but
it's I mean yeah I'm not there yet I
don't I don't download beta versions of
Java really I run with this table stuff
okay well i'll see when we will we'll
get you guys playing what they are early
access belt later yeah we actually did
that two years ago I think before before
javafx 2 was released we did that was
interested a lot of new builds I think
okay so enough about you thank you so
this is kind of how we connect our
javafx application to the webview and we
and well communicate communicate between
them and send objects back and forth
between them this is really powerful and
I think we have a couple of actual
good-looking demos like you said that's
actually interesting so if you can so
enough about theory we are going to show
you two examples right yep and I'm going
to start with this is a this is a
demonstration of how to not get lost in
San Francisco when you're drunk at a
kind of application this is so case it
really solves a real word problems yes
means we've all been there it's very
several times yes so we call it bear
frenzy so when you drink a lot of beers
and you need a way to plan your night
out this is the perfect application yeah
we're maybe at least I mean the day
after see where have you been it's like
the movie dude where's my car we want to
avoid that situation we need to know we
want to retrace our steps right okay so
this is a map of San Francisco and it's
your pick what do you want to do well
you know me I won't have a beer I know
so we're using mm this is a web view
that you see the map is a web view and
we're in we're communicating with google
maps to get information of different
places around the world in this case San
Francisco so we have a web view and what
we share with Google Maps yeah a simple
HTML file weather well with some Google
Maps yes JavaScript code and so on and
they would just ask Google for you know
nice places to drink beer and if we just
show up on the map so it's like 30 lines
of JavaScript code that's that's all it
takes so when you want to go mr. oh well
I don't know somewhere in chinatown sure
google maps again we just ask google
maps for the directions from where we
are Union Square to some buddah strange
place in Chinatown yeah and you can see
the costs which is made up I mean it's
not a Google service it's it's a power
service so it because they're four bucks
any he would go how will you will ride
on my back yeah I'm nice okay well I
guess you're a pain so sure trisco okay
so you're testing all right and we're
back so what is your all right so we
have to choose again well we've had a
couple of beers I guess something or
another beer another beer another beer
you can never get enough beer let's go
down there okay if you say so and so we
go from chinatown to i have no idea
whether it's somewhere on the highway
sure okay but you're thirsty so go ahead
always and then then I'm probably hungry
you get hungry from drinking beer I
don't know why and you want to go over
to embarcadero I think ok cool sure
let's go I'm paying you're paying and
then then I think we've probably had
enough yes we had enough beer to go
dancing oh so I can dance ok Dancing's
you're gonna dance tenderloin sweet sure
you can dance all right but that's it i
mean this this frenzy has got to end now
ok so we've had enough and and that's
the receipt all right we spent 230
dollars on I've no idea so I no liquor
for 85 bucks yep so so Jim Jim was
pointing out that if you guys drank a
little less you'd have more time to play
the JDK yes so we're not going to play
with you Jay decade
actually mean it's obvious so it's
unknown liquefied of our bugs and but
this is basically your tab you're
another paying so yeah but this I think
this is it this is a really fun example
what you can do with the webview and
Google Maps and some JavaScript then
some javafx code and it didn't take that
long to write this you wrote this most
of it at least and like two days or so
yeah so we're using Java and we're using
javascript and HTML and we're
communicating from JavaScript HTML and
then back just like modern showed us so
the map is a webview and background is
just Java and receipt these javafx it's
javafx yep with an animation on top and
we have two layers so it's super simple
to do two days and it's a lot of fun
yeah and again I mean this is a fun
example but I'm sure you get the idea
that you could actually do useful stuff
with this not just sending messages
between what we mean yeah I'm useful use
for the stuff like this yeah and okay so
this is just a fun application that we
what we had to do it mean is it's beer
after all so somebody had to do it yeah
but we have another one as well as so
are you ready for user docs sure this is
an attempt for some reason a lot of our
examples end up being a bit crazy or
funny or we thought let's make a serious
application for I mean what could you
actually use the webview for it what's a
good use case that could actually be I
mean so this is as serious as we will
get oh my god what a complicated GUI all
right that's serious to accept me there
yep okay this is a sort of
representation of a very complicated
program that's very hard to use there
are a lot of strange controls here that
are called weird things and well you
don't really know where to begin and the
idea is of course that to a lot of
people a lot of applications are pretty
complicated and you don't know where to
begin
but luckily we've created a help a help
function in this program show the manual
yep so this is just a web view of course
one of the nice uses for the webview is
to present formatted content so the pain
on there on your right side is a webview
yes and this is just javafx exactly okay
but see I mean a few years ago that it
was really hard to display well advanced
formatted text for example with images
and text floating around and so on now
we can just well use a web view or use a
number of them we haven't really seen
any performance degradation when we use
a number of web views in the same
application so I don't think you should
be afraid to use it at least give it a
try I mean even this is it's a very very
simple example but it's still kind of
useful if you had some real text and so
on in here but we thought about this and
we thought how can we make the help
function a bit more useful and this is
kind of a light version of of that of
the results of those thoughts okay so we
have some instructions here how to do
something in our application and well
the first step is in the main window
select the ding radio button alright so
you have to find that it can be anywhere
it could be in another tab it could be
in another window or you know you might
have to do all sorts of sorts of things
to find it or you can just click the
link in the HTML file and have the right
components light up so you're
communicating from the web view into
Java fix yep telling Java fex to
highlight the ding radio button exactly
and this is yes yeah and this is kind of
the tip of the iceberg you could you
could have the links in the help file
actually do things in the application
like well show me set set a suitable
value for this setting or help me help
me set these settings for me and so on
or show an animation or
a video were you know so i can just you
can select that yeah and then we
communicate the other way around we send
a message back to the help file saying
yeah first step is done it's screen and
you know that well on to the next one
move the Fred slider to the desired
value and I have no idea where the red /
dress so I'm just going to click the
link oh there it is Fred slider I can
just move it to 37 yeah and we marked
that green as well and finally you have
a button to click which is also very
hard to find remember this is a
complicated GUI so yeah oh my god yeah
ok so the coach and I just click that as
what that one as well yeah and we're
done and I mean using the this technique
we could have like interactive education
material in a web pain that that's aware
of what you're doing in the application
and so we could have it say no no that
was wrong and here's white here's why it
was wrong and you might think that it
works this way but it actually works
this way and so on so like I said a very
simple example of what you can do with
well sort of a real world application
and the web view and I think I mean the
webview I think that's going to be like
for many swing developers I think the
webview is going to be like the first
step in to joe FX because you can
actually run java effects within swing
applications as well you don't have to
throw away everything you've written
over 10 years or so you can add small
parts of java effects into your swing
applications so you could use the web
view and swing yeah or the really nice
charts in javafx for example if they're
awesome as well so yeah we've done a lot
of strange things with the web view and
and we have a number of new ideas so
it's it doesn't really get old it's
always fun to play with because it's
it's kind of a strange strange
combination of of content from different
well we have the web stuff I mean that's
a kind of a world of its own and you can
sort of have that integrated into your
application and I think it's cool and
the web view is it's not HTML for we're
talking about html5 so it's all the new
stuff yeah you can have like css3
transforms and everything that works in
chrome and safari basically works in the
webview which is amazing I think and we
have loaded quite complicated web pages
into the webview India they look just
like they should which is really
impressive and and I've heard that the
webview takes up half the size of Joe FX
half of Java effect is to webview that's
kind of a it's a big thing so I've got
I've got another use case for the for
the webview how many how many folks here
do some java ee server-side felton ok
quite a few so if you're building a web
application you can use the webview to
render the UI you could use the new
native packaging support to deploy your
application on the desktop or in the app
store and you could use a lightweight
web container lightweight application
server to actually bundle your web
application with your application so you
could have a desktop version of your
java ee up that's cool yeah and and
that's that's interesting I've been
thinking about that as well because
there is solutions like that for phones
like for android and iOS for example but
here you can have the same thing for for
your desktop computer as well yeah which
is jointly closer ok yeah nice so we
don't have that much more about the
webview I think any questions about the
webview before we move on to back back
in the future back in time most serious
stuff yeah no questions let me ask the
folks online as well
you can start preparing the other stuff
if you want to and we have a mic here as
well great you can be on the internet
alright suppose the test out of my
finisher
there's a t-shirt unions for you really
nice one a question in ten bucks and
yours can I have a t-shirt security
issues with using it
you
we have we have folks who specialize in
that
into trouble but I'll get myself in
trouble anyway so if you're if you're
writing your own javafx application even
if you'd apply it as an Ablett most of
the recent security vulnerabilities had
to do with misbehaved applications
breaking the sandbox or hijacking things
so if you're using your own application
there's no security risk because you
know you're controlling the api's and
writing your application the security
risk would be for the end user if there
was a bug or a security issue and
they're using an outdated version of
Java which didn't have the patch but if
you choose to deploys a native
application which is a really good
option then you're bundling a version of
Java with your application that other
folks don't have access to and you're
using the security of the App Store or
however you deploy your application so
you verify that it's you know your
application and the end users using the
code which you've written and test it so
in that case you you bypass the whole
issue of running untrusted code so use
native apps as well yeah that's nice and
I mean one one thing that we've been
talking bit about that could be a
security issue is when you're using the
web view and if you're exposing like we
wrote this bridge class with one method
if you you could expose like the file
system to JavaScript that would probably
not be a good idea but you could you can
expose any objects you want to to the
web page and you can unless you load a
local HTML file you can't really be sure
what you're getting I mean you could
have like a sneaky hacker in between or
a bad Wi-Fi network that injects some
kind of bad JavaScript code into your
page and by exposing too much of your
application to JavaScript you could sort
of open the door to people outside of
the application so there you have to be
very careful and think hard about in
what situations do I need these
resources can I expose them to
JavaScript
at only at certain times and then close
access and so on you have to be a bit
selective I guess and that goes for
other platforms as well like the webview
one android or things like that all
right I was wondering about
you
sort of by magic or
we don't have any control of that
process I think and this works because
the webview is within our application I
don't think there's any way of then you
would have to build that yourself
somehow I guess so it's probably not
supported but you might be able to hack
it somehow and make it insecure and you
haven't even if you live like a remote
web page and try to execute some Java
code it would just load in the local
browser instance and you'd have all the
communication local clients so it's
going to rely upon whatever back-end
server communication you have with a you
know your java ee or application server
which is hosting to the webpage anyone
just like you would with Ajax calls or
remote communication to servers yeah
that's that's very far away from what
we've been kind of trying so I don't
have a good answer but yeah you might
get it to work but I'm not sure it's
even recommended okay let's do one more
question okay some t-shirts for the play
of you giving t-shirts
fix that else beside you what is the
performance impact of webview if I were
just something small like you're
healthier how much input would be
compared to a small swing solution we
haven't made a new like benchmarks for
memories hitch and so on with more
focused on like is it slow or is it okay
like we have one demo with I don't know
we weren't supposed to show it maybe we
should show it with the pawn yeah the
pong I guess we have to show it now sure
yeah we have a we have a demo that's
sort of i'm gonna poem you all right i'm
not sure that's a good thing okay this
is a poem this is punk and it's this is
a competition i guess yeah we have a
contest you can say we have we using
java effects and we're using a web view
and what you have to do is guess where
the webview is so where is the webview
if you've seen this demo before you're
not allowed to guess so basically if you
get it right you are cheating that's why
we always win but there's a t-shirt in
is for you left left leg left what the
left side that's why I see okay now you
know know it's not and yes it is but
it's not know that movie it is not moon
no it's not moving it's not so any any
other guess all of it is not a web view
no
no thank you I think you know so the
right side no come on not really yes and
no mostly no most you know yeah oh yes
yeah well no not really well yeah
someone I think it's tiff it's not funny
so we've we've created the show webview
check box down here and when I when I
when I click it I will show you the web
you so we have eight web use mixed with
eight paints javafx paints so this is a
webview a web view and this is a webview
you get it and so we communicate between
the web views and the javafx paints
communicating in and saying okay the
ball is located at x and y and then we
move the ball and we have to check where
it is and we have to pass it along I
think it's very easy to sort of think or
guess that oh the ball is just moving on
top of everything but it's not it's yoga
so you can prove that sure so I expect
modding to say that I'm cheating I mean
it could be two layers it could be just
a simple image yeah anyway so I've
created this special ball and when I
select the special ball I would paint
the ball very differently depending on
if the ball is on top of web view or if
it's on top javafx wait for it it's not
really on top of I mean its job for real
case so there it is I see that you're
not really it's not cheating so I'm
picking the painting the ball
differently depending on where it is you
see it so this is this is javafx right
yeah and this is a web view
and you can see I with transitions
between Java fix on the web view and
when it does that we're actually
painting like half the ball here and
half the ball there there is no there's
no cheating going on so this is eight
webviews communicating with eight Java
fix paints yeah with html5 canvases so I
mean this is kind of advanced and you
can see it's really smooth well now we
have all this screaming stuff should
look on that screen say they say that
one more time here here it's really
smooth you can see our screen here for
100 bucks and you get a t-shirt yeah
okay so that's the pong game just to
show you that it's it's the performance
is really good and communicating between
the webview and Java faxes it's super
quickly that is right I don't know we
have pizza in the room yeah i think the
winner should we have a take a break i
don't know i think web like 15 months we
don't have more than 50 minute it's
maybe we should just maybe we should
skip your report that we should skip you
know we can show my ipod really quick
okay and then we can skip your weekend
show no that's the interesting part we
can show your part in work like five
minutes and you get five minutes we
could pick up then you guys could show a
streaming as well or people will go home
and yeah let's come back whether they
could you know their computing as well
if there's our it can just start the
pong game and you got pizza okay yeah
and then people can actually see the
really good performance live here on our
screen alright so what i will do is i
will keep the stream live for folks who
are who are online and watching us
mm-hmm but i'm going to splice the
recording so we'll have an outro and
I'll cut the recording towns go i'll
leave the stream up and then we'll
continue with raspberry pi and the other
half sure sure the 15-minute conclusion
of this 5015 after the break all right
thank you very much guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>