<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using Raspberry Pi I2C bus with Java SE Embedded | Coder Coacher - Coaching Coders</title><meta content="Using Raspberry Pi I2C bus with Java SE Embedded - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using Raspberry Pi I2C bus with Java SE Embedded</b></h2><h5 class="post__date">2014-04-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/irZR4nVhI_g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi my name is Vinicius angle and today
we are going to talk about raspberry pi
square C buzz with Java C n bedded and
PI for J first start talking mercy let's
remember the Raspberry Pi GPIO we have
17 pins seven digital for general usage
one PWM two pins are used by ice
perseveres five used by SPI and two for
you art communication upwards you are
going to read or write zero or one
turning on and turning off the part and
it will be represented by the voltage
zero voltage or 3.3 volts if the port's
turn it off we don't have any kind of
analog part in Raspberry Pi GPIO so if
you need to read some analog sensor you
need to buy an external analog converter
the PWM is a mobilization of a digital
port and its user to control the speed
or the power of that part so it will
pose zero and one in a certain period of
time meaning how much power you want to
drive something and with two or more
digital ports you can create start
creating your communication protocol
between devices and components you need
to create your own the co because we
already have some industry standard
protocols
the most famous are UART communication
is the serial classic serial
communication the SPI is a high speed
bus for complex components and the I
square seed that is our target today is
also a bus but in this case for low
speed interface Square C means entering
rate silk and is also know as
two-wire interface Twi it was invented
by Philips in 70s and it's a mood master
bus
serial bus is intended for low-speed
communication and since 2006 you don't
need to pay for that big advantage
around I square C is that you you are
going to use just two wires to plug
different components into your board you
have the data line and the clock line
and with the same two wires two pins you
can plug in many different component
architecture looks like this you have
the Raspberry Pi up to 18 as a master
device and you have your I squared C
components it slave components like the
digital analog converter analog/digital
converter and in this case a LCD that is
the component we will be showing today
starting with I square C and Raspberry
Pi you must enable the Raspberry Pi
square C support doing three simple
steps first one you need to set up the
modules file install I square C tools
and remove I square C from Linux black
list the first step is to edit e esha TC
slash modules so you can use your
preferred editor and like nano or VI
edit in this file and just put these
lines into your file next step twist our
I squared C push very useful to the Berg
and everything so you must type sudo
apt-get install Python SM bus and I
square C to the last step is to remove
as crazy from Linux blacklist by editing
this rust by blacklist dot-com file and
you just need to comment by adding
a hash the beginning of these two lines
oh you are right to light up and go in
this case we have this picture of a
gyroscope and accelerometer component I
took this picture from Angela KY Saros
blog if you need more information we
will provide you the link in the end of
this presentation and this case we are
just plugging connecting two wires from
the component into the lines I square C
lines of your Raspberry Pi GPIO and we
are plugging the VCC in the 3.3 volts
and the ground into the ground pin of
your Raspberry Pi GPIO very simple in
with Java C and I square C you must use
by 4j since we don't have any standard
library for doing that with Java C
embedded we do have for Java me embedded
but with we don't have not yet any kind
of jsr for GPIO in Java C embedded so if
you never play it before with PI for J I
recommend you to watch our video this
URL is very complete and you can learn
how to do the basic steps this key code
for J I square C will look like this
you have I squared C device instance I
square C bus instance that you are going
to to get the instance using the I
squared C Factory and providing the bus
number the past number in the case of
you have Raspberry Pi revision 2 will be
number one if you have to revision the
very first board it will be the number
zero and here we are ready to get the
communication we forward advice
by providing the address so I Square see
buzz get device and the address the
address is a maxim decimal number and
you must read the documentation of your
component to know about them this number
once you have the communication with
your device you are ready to read and
write data using device that right
device doc read and you have four
different methods for doing that well
let's look our example today we have
this very nice Adafruit LCD this LCD is
you have the backlight you have some
buttons here and it's very easy to start
playing is very simple component let's
look a code here so I have this project
this project is available for you to
download and we have here a main method
class and here we have the bus number
one the component the LCD lighting five
mile zero X 20 in this case we have a
skullet the fruit LCD it means the LCD
interface since we have many different
types of operation we can do with our
LCD or the complexity was encapsulated
by this class we have a loop here and
our sample example will be hitting
welcome is leaping seconds here the
display eating Rocco oj oj n the two
seconds clear and toe print IOT dev
challenge if we loop society as Adafruit
cd8 its class Queen it's cold so we have
bus stands here at crazy bus instance we
provide the number one for the bus
and here we got a communication with the
device and other operations that we can
win our OCD we identified different sub
decimal numbers so let's look at the
paint operation here we have the here so
we are going to write CD clear display
which is a constant and to preach write
our our LCD let's look the code so here
we have the write method and we are
going to write data using this method
basically it will make some
configuration and after all writing the
bytes that will send as data to your
display it's very simple must know very
well your I square C component by
reading the documentation some I square
C components they can provide more or
less operation depending on the type of
the component
so let's look to this running code in
our raspberry pi
you
actually raspberry revision glue has two
different I squared C buses the bus
number 0 and the bus number one the
number one is the bus into the GPIO pins
that we use at today the number 0 is
used by default for camera control you
can use this another bus for your
applications but you must solder male
pins into this additional GPIO that is
presented only in the revision 2 and you
must turn off the camera support to use
this another I square C bus this is very
useful when you have complex
implementations complex projects with
many many different types a big amount
of I square C components being and plug
it into your Raspberry Pi board we use
it our Raspberry Pi as master device you
can think about using Raspberry Pi as a
slave device like I would like to
connect to raspberry PI's using s / c it
could be possible you have the hardware
support but you don't you don't have the
linux support for that so you would need
to make some chains and recompile the
kernel there are some linked the first
one is from Angela Chi sa-do's blog
about our spicy gyroscope and
accelerometer with PI for J and etc very
complete and nice post about this
component if you are looking to use that
this is the right place and the other
one is the official PDF with all the
schematics detail around your Raspberry
Pi board if you have an
of connection we will be happy to
support you at Oracle community website
stipe community recruit phone in the end
of the site the title you will find a
job embedded click here and here we have
IOT developer challenge forum just click
here login into the community and send
your question</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>