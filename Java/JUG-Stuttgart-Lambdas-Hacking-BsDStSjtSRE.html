<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JUG Stuttgart Lambdas Hacking | Coder Coacher - Coaching Coders</title><meta content="JUG Stuttgart Lambdas Hacking - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JUG Stuttgart Lambdas Hacking</b></h2><h5 class="post__date">2014-03-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BsDStSjtSRE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright and now we're recording pick
someone randomly to give the why don't
you start Tobias just introduce yourself
and talk about what you're doing with
Java ok my name is Tobias fake and I'm
helping administrators to better run the
Java applications most of you guys
develop and that's a good opportunity to
think about the guys that have to run
that stuff for ten years after you
developed one year or night so put a
more some more lock statements in and
make admin console and something like
that so a lot of people will be happy
about that ok good job that's a good
example pass the mic to someone randomly
and yeah all right guy holding the mic
your turn ok it's a hot potato um what
was the question again mention you know
i'm kidding maybe your name and then
talk about what you're doing with java
my my name is demetrius chris and i
basically implement web applications and
I don't know what yes that's ok good
that's basically it yeah all right pass
the mic to the side of the room these
guys are getting off easy
all right go go you okay hi my name is
luster bednarik i'm working at HP in a
backup software developing a middleware
layer that's based on java cool thank
you and let's do one more person that's
it forward so maybe the game oh I know
you yeah just time to decoding books my
name is Dominic I'm a senior consultant
and developing different kinds of web
applications and publishing stuff on
security giving talks about it nice yeah
we had a night very nice interview at
Java land which unfortunately my battery
died during so we people at Java and
enjoyed it but we didn't get the
recording my apologies ok so thanks very
much pass the mic back to Tobias he'll
be the mic guy for the session alright
and just give me a sec to attempt it's
my turn to get on camera I think should
be about right
alright so what we're going to do today
is look at a whole bunch of different
things which use the new Java 8 release
does anyone know when the Java 8 release
came out okay so you have the launch
party the official announcement was we
actually did it a Java lend on the
twenty-fifth and the software was
released a few days earlier I don't know
the exact date but it was on last week
so it is now out you can get the very
latest java software and there's lots of
cool features in java 8 that you want to
take advantage of in your in your
applications here's just a few of them
so does anybody looking forward to
lambdas java lambdas yes that's probably
the biggest and most well-known feature
in Java 8 how about Nass orn anyone know
what NASA horn is just shouted out yeah
so JavaScript running on the JVM much
higher performance than Rhino which was
an interpreter for JavaScript and even
with project avatar you can read nodejs
applications on java ee servers like
less fish improvements to the core
libraries parallel performance
collections we're going to look at the
streams API a bunch of JVM he
enhancements is anybody sad to see
permgen go away you're here said
survived all right you're the minority I
think a whole bunch of new unicode
enhancements very exciting stuff we're
not going to talk about that and then a
whole bunch of job effects as well
javafx 3d and print api's and a bunch of
things people have been waiting for
finally tooling and some security
enhancements but well both focus on in
this session is specifically lambdas and
streaming api's and
also the ability to run job on arm-based
devices so the lambdas includes kind of
three different aspects one is the
language changes so there's a whole new
syntax in Java for running lambdas there
is also libraries that go along with it
so you can use the lambdas libraries
along with um the lenses language
feature and we'll show you streams and
some other stuff which have been added
to the Java API s and also JVM changes
the invoke dynamic was added in Java 7
but they enhanced it for java 8 to give
better performance for lambdas and also
default methods which will talk about
our extension methods required some
changes oh yeah this is outdated it's
now released but get the latest java
version and there's really good ide
support as well all the major I to you
support lambdas so we we need a I'm
tired of the camera being pointed at me
we need an audience shot so give a
show of hands for who is an eclipse user
in the audience yeah okay that's that's
a lot who's a net beans user okay okay
and finally who's bikes IntelliJ okay so
you know good mix lots of Eclipse users
has anyone tried the Eclipse support for
lambdas yet no no yes how has it your
experience so far works well yeah so
Eclipse has good support yeah and
netbeans as well has had support for a
while and IntelliJ is good as well and
that's what i'll be using for the
presentation so showing you a little bit
of coding and IntelliJ using lambdas so
you guys are saved inspectah me
ok
alright so this is what a for loop looks
like in Java 7 right for iterating over
a list of shapes changing a color from
blue to red this is what the same code
looks like if you use the new for each
method and a lambda expression in Java 8
so basically does the same thing you can
see the basic syntax of a lambda
expression the parameters are on the
left side of the the dash greater than
sign on the right side is a code block
which is in squiggly braces and the same
code is executed in both cases and will
get similar performance so we added a
new method there right for each but
isn't going to produce a problem to add
a new method for each on on the
collections class what if what if you
have a your own library which implements
collections and it doesn't have for each
method specified what happens to your
code yeah so so apparently the JVM team
that the Java core team just broke
backwards compatibility with all the
Java developers in the world right okay
somebody knows about default methods
very good device so what they actually
did to make the for each method work for
users code is they provided a default
implementation of the for each method so
if you don't implement this in your own
class then you'll automatically get this
implementation of for each added to your
code and you can do the same thing in
your code so whenever you have an
interface now you can add
implementations which if not overridden
will give you a default implementation
this solves the problem of backwards
compatibility which is kind of plagued
api's in Java for quite a while
so that's a little bit about extension
methods and then getting back to the
lambda syntax this is the kind of a
step-by-step guide through the different
types of lambda expressions you can
create so at the very top is the full
form lambda right so you put parentheses
comma separated list of parameters and
you put the types on each of them and
the right side you know squiggly
brackets and then a statements or series
of statements and the last one can
optionally return something if you want
to you can leave off the types and it
will type inference type imprinting
we'll figure out the types for you so
that's the second line and if you're
just returning a value you can also
leave off as it convenience these
squiggly braces on the the curly braces
and the return in the semicolon on the
third line is an example with a single
parameter expression where you cannot
even leave off the parentheses if you
have zero arguments you actually need
the parentheses I think the the Java
core team calls that the the hamburger
operator what's that what's the german
word for hamburger all right I know two
words in German now good in tog
hamburger ok and the last one simply
prints out something that's common if
you were for example doing a call back
or implementing a runnable or something
so there you have it you guys now no
lambdas easier right alright so this
this actually this covers writing full
form lambda expressions but we're going
to see it a lot of code is they use
these things called method references as
a shorthand syntax so the way this works
is on the right hand side is the full
lambda expression and on the left hand
side is the method reference which is a
shortcut for the same thing so you know
you could write the full one but
the method references a shorter form of
the same thing so starting from the top
where's our mic guy my guy pass the mic
to somebody yeah okay so what what do
you think that first guy is there what
type of method reference what's it doing
I have no idea actually you have no idea
take take a guess so you can see the
lambda expression right so that's doing
calling a static method on objects yeah
printing the string string or object the
object yeah yeah that print it out to
string with the dog and the parameter
passed in is the object to to be applied
to and then you know so it's basically a
static class method reference okay so
pass the mic to someone else for the
second one anyone want to try number two
alright you this is a second line also
no idea the left side is also reference
to the two string method is something
like Zach huh yeah and they are the
right side sir no no it was it to swing
with a bit of an object yeah so what's
different about the first and the second
one seis well that's good haha yeah
seems the first one calls a static
method and the excellent member member
method yeah the NPS is the difference
because objects has a bunch of static
methods it's a factory class which was
added in Java 8 so in essence the main
difference between the two is the first
one will never throw a null pointer
exception because the objects of ethic
will check for null in the second one if
you go through a stream and you have a
Nolan there you could get a null pointer
exception because it's just going to
call to string on the left
all right third one pass the mic oh good
catch that would have been expensive
mistake um don't know I think you don't
have any parameters so what is the
object yeah okay so that's good right
there's no parameters to the lambda and
on the left there you can see it's
referring to a specific object okay so
it's going to string of the specific
object yeah very good so you can also
make besides making reference to classes
you can also put a method reference and
specify an object and it will call that
method on that particular object and the
parameter is if there are any to string
doesn't have any would be the parameters
to the lambda expression okay you're
doing good and who wants the last one
pass it one row back first person I
don't have a cure but it seems to be a
very generalized approach because no
parameters and just let's say creating
very generalized instant of object class
yeah yeah yes I think this is the key
right here new so the last one is an
example of a constructor method
reference right it's always going to
call the equivalent constructor for that
class okay so now you guys know the four
types of method references ahh ok good
question what if you have more than one
parameter if you have more than one
parameter then your lambda expression
will have multiple parameters right so
whatever the parameters for the function
are translate into the parameters for
the land expression after the object
gets passed in for the first two
so you could you know you can use method
references and you can also use the full
form lambda expressions I'll show you
examples of both when we're going
through some code alright and the last
bit of syntax you need to know and then
your lambda gurus is functional
interfaces so functional interfaces are
a special case looks about right of a
type of interface where it has a single
abstract method so you can see here the
functional interface is an annotation
you add it to existing interfaces or new
interfaces and the way of thinking about
it is it's kind of like the overrides
annotation that got added in you don't
need to specify functional interface
it's optional but if you do the compiler
will give you an error if the interface
you've annotated is not a functional
interface and this is how you type your
methods which accept lambs expressions
so you know for example if you want to
have a accept something which was going
to add a few integers then you could
have this some interface and then say
you're your method expects a sum and
then you could pass in a lambda
expression as long as it would take two
integers and return integer so any
questions so far you guys ready yeah all
right let's look at a simple example
this is a JavaFX example and we're going
to take the application and lambda i's
alright so I've got a little application
with some circles which are you know
rotating around here when you mouse over
them it highlights the you know the
border by making the giving us stroke so
that's a binding when you click on it it
makes it disappear so that's the
vanishing part and all this is like not
much code so it's a good example for us
to look at and see what we can do with
lambdas okay here's the basic
application skeleton you know
traditional javafx main method
application out launched all that stuff
so nothing particularly exciting what is
probably interesting as the stuff in red
creating the circles and beginning the
animation so to create the circles we're
going over a for loop creating fifty
circles and then giving them kind of a
random location and a random color so
what can we what can we do with this to
lambda is this any ideas
so for each I heard someone okay circles
dot for each yeah so that's close the
problem is um for each iterates over a
existing collection and since our
collection is empty then we won't
actually iterate over it there's a
methods in the generate or the streams
API which help us so if you use the
generate method what it will do is it
takes a lambda expression lambda
expression evaluates to an object and
then it will create a infinite stream of
objects since the lambdas are lays or
streams are lazy what this essentially
does is it gives us a collection and we
can call limit to limit it to the number
of elements we want so 50 circles and
then you know return it back to a list
of collectors to list so that that works
I wouldn't really recommend it because
it's it's not any easier than our for
loop so yeah fixed iteration not a great
candidates use lad this work ok binding
so the binding API is the nice little
fluent interface created for javafx you
know again this is a fairly new API and
there's not anything that's particularly
good to use lambdas for this but this is
you know when you hover over the circles
is how it gets a stroke width of 4 so it
makes the circles appear a little
thicker and event handlers so javafx has
lots of event handlers I'll give you a
I'll give you a hint they all have a
single method on the interface so what
can we do with this
exactly all right but that deserves a
sticker oh by the way um hi I brought a
bunch of stickers for you guys so at the
end just come up and grab one off the
desk but pass it back to him you know
nobody else was going to say the obvious
thing so I we need we need people who
are willing to savings which are
painfully obvious yeah so since it's a
single method interface all of the
existing Java fix event handlers just
magically work with lambda expressions
you don't need an inner class anymore it
besides being slightly shorter
syntactically it also has a side benefit
where it doesn't generate a it doesn't
generate a new class during compilation
time so whenever you create an inner
class if you look at your your own jars
or your bike code which gets generated
you get a whole bunch of you know funky
dollar sign classes added everywhere
because it statically compiles it
lambdas using VOC dynamics so it doesn't
have to actually add an extra class
every time you use them which is nice
application code in your GUI application
code in your security and enforcing to
make it and you know message you can
to me if you would vector a down later
to a different class so this well this
you can you can pass slammed expressions
around so if you wanted to you could you
know assign this to you could have a
function which graceland expression you
could have it I wouldn't recommend it
but you could have a static variable
which has a lambda expression so you can
you know refactor and move the labs
expressions around pretty easily but you
know the main advantage is its
syntactically shorter where you're going
to do an inline expression you can also
if you want you can also do an inner
class so this doesn't preclude you from
using inter classes yeah so the question
is can you assign a lambda expression to
variable and UK just so the type of the
parameter here is a event a mouse mouse
event handler I think mount I forget the
exact class name but something like
mouse event handler and you do mass
event handler variable name equals
lambda expression and then you can use
that variable anywhere you would
normally pass in a a lambda expression
yeah type ok so the way you do the type
of a lambda expression is using a
functional interface so remember i
mentioned functional interface is single
method interfaces that's how you specify
the types of langerhans expressions all
right any other questions and our last
one so this is the code which Adam
eights the circles and moves them around
the screen and does all that stuff so
what do we do with this one
for each okay another sticker
whoo-hoo-hoo is the obvious person here
good job yeah so you can simply use a
for each Sharon it's a great example of
for each because in this case it
actually makes sense and it shortens
your code and you know in general this
is a good way of operating with
collections and you can kind of chain
things together using streams which
we'll talk about in a sec so next
example is going to be a visual one
we're going to create a little game a
little retro video game using lambda
expressions and the the elements in the
game will kind of demonstrate the
streams API so if you've never seen the
streams API this will be a chance to to
check it out hey runner so uh Verner is
going to show some stuff as well I don't
know quite yet what yet so after I do
the lambda stuff maybe before we do
devices will we'll do a short thing with
burner and show something cool for 15
minutes or so Oh so yeah so here's how
you generate streams let me show you the
application first we're going to play
around with
oh alright comment on this stuff Wow on
this one for now okay so I really simple
example it's about you know five or six
hundred lines of code you a little
character that you can sprite walk
around with and we're going to add a
bunch of elements to the to the
background but you know this is the main
file there's only three classes in this
entire file the main file we're going to
add elements to the scene sprite view
handles the animation of our little
character so for example to UM to
animate Mary around the scene all we do
is update the view port of the image for
the character and we have a look a
little sprite you know pixelated graphic
for the character horizontally is our
walking animation vertically is facing
different directions and so if you look
at the the code for sprite view all it
does is it sets the viewport to a
rectangle and then it binds the the size
of the rectangle to the the width and
the height of the it moves it moves a
little square around to pick different
parts of the image and then it adds a
direction and a frame listener so that
it'll update this whenever vo um you
know move your mouse or move your move
your characters direction or you
changing frames in the animation loop
which is here so this changes the thick
frame from 0 1 2 1 so really simple to
create a game in javafx like this a lot
less work than it probably was in the
days of anyone have an Atari yeah I
think they did a lot more work than this
to create their sprites yeah but you
know we like we like pixels so big
pixels and the first thing we're going
to add into the scene is going to be a
little bit
code to do generating of um collections
so it's a few ways you can get a stream
you can take any collection you can call
that streamer not parallel stream and
that will give you a a collection you
can take a set of objects in a
comma-separated list and call streams of
and that gives you a stream of a static
set of objects in stream range will give
you a numeric set of of items so um you
know for example if we before if we
could have used in stream range and map
which I'll talk about later to create
our list of circles if we wanted to
rather than using generate and limit and
then you could also use iterate which is
another way kind of like generate except
rep where generate would create an
infinite list of objects and it they'd
all be the same with iterate you have a
seed value and then you have a lambda
expression which takes the previous item
that got generated so that way you can
modify each item slightly as you're
going and generating your your infinite
set so for example this case will create
like a rainbow set of objects on the
stream okay so we're going to iterate
and create some barn animals and the way
the barn is going to work is we're going
to first get the the tail of the
previous list so if the list is empty
we'll just take the the Shepherd Mary
otherwise we're going to take the last
animal and then we're going to pass that
into iterate as the tail and then call
the lamb constructor via method
reference to the constructor and the
lamb constructor takes a single
parameter which is the previous animal
the animal you're following this way we
can change our animals together and have
them follow each other around look good
all right so
here's our car barn and you can see the
barn has a you know barn image a
constructor which just passes that image
up and then a visit method with exactly
the same code and slide and let's give
that a try all right whoa ah and now we
have sprite walking lambs so iterate
what happens if we go back to the barn
again no so what we'd expect yeah okay
and no collision detection we're just
happy walking on top of our sheep
alright so the next thing we're going to
try is using the filter function oops
using the filter function to modify the
elements of the stream so the way the
filter function works is it takes a
predicate lambda predicate takes the
object in the stream and that returns
true or false filter is a function on
the streams API which if it's true the
element stays in the stream if it's
false it removes it from the streams
this is a nice way to UM remove elements
from the stream and so here's an example
attendees filter a where a doc yet age
is greater than equal to Java 18 so that
would be the equivalent of them what's
that what's the drinking age here in
Germany
1816 to piss on the tray okay yeah but
no no toddlers all right so speak
speaking of kids um so I ran some
workshops for DevOps for kids using this
basic game as an example I figured this
out to my daughter she's 10 and she
likes this is the only one of my
presentations she actually likes so that
means this is good for kids so I set
them up with the Raspberry Pi and they
the game running on the Raspberry Pi and
then they could make little
modifications to the game so like you
know they like changing the size of the
fox or changing the color of the sheep
the rainbow is one of their favorite
things to play around with and we did it
work shop in the netherlands and also in
the bay area with some kids so you know
something good if you're if you're
interested to get involved in doing
stuff like this there's a DevOps for
kids website and they're starting new
chapters you know in different parts of
the world to try to teach kids education
it is a bunch of workshops like you know
now robot workshop and this one for
doing Raspberry Pi gaming and then
another one that Varun does on modding
minecraft using bukkit server ok so
recommended minimum age would be 10 or
above in my experience usually like any
of them in the US there's first through
fifth grade is elementary school and
then sixth through eighth is middle
school so usually middle schoolers are a
good age that's kind of 10 to 12 any
kids younger they have trouble typing
and following stuff so it's a little bit
harder to work with them to get
attention and then kids in high school
typically they they have some computer
experience at school so it's it's less
of a kind of a level playing field some
of them are going to be really good and
get ahead and then other kids it's
completely new and they haven't done it
before so it's a little bit harder to to
arrange the right levels
get the right thing going but I think
kind of you know middle school is a
perfect age okay and yeah they loved
playing with the rainbow so the way this
works is it filters on the stream and
then goes off of the filtered list and
then changes the color of the animals so
it's filtering on a modulus to get only
every fourth animal and then coloring
every fourth animal either yellow cyan
or green and white is no so that's the
last color you'll see ya so this is no
for white and the second function is
pretty generic it just uses a javafx
color adjustment and then plays around
with the hue value alright let's give
that a try okay we've got some lambs and
colorful arms down alright so what
happens if we get more guys in the barn
again will they be colored or playing
alright we can try plane but we can fix
that take them back there now they're
all colored and you know going back and
it doesn't do anything because we're
just coloring the same color all right
so that's an example of filtering but
besides doing filtering in the using the
streams function there's also a bunch of
convenience methods added to the
collections class which take predicates
and do common things for example remove
if or moves elements that match the
predicate you can use your place all to
filter and replace and then collection
of cervical collection not filtered
which is on the JavaFX api is a good way
to filter your collection and then the
resulting filtered list is also
observable so it keeps the observability
going yeah okay that is a good question
so in the case of the collections
methods they actually act on the
collection so like collections that
remove if will actually remove them from
the collection if you wanted to you know
get a copy you could do collection duck
streams dot filter and then do a you
know I collect on that to get back a new
collection which is distinct yeah and
you can see here we're just removing it
and it modifies the list directly to
remove elements so in this case we're
going to implement a church and the
folks in the church there they're very
picky about their animal so they only
want the pure animals and we're going to
take them and we're going to you know do
do a good service and feed the homeless
so meals and then get the animals filter
them by pure and then get the size and
we're going to increment the counter and
then remove them from the list so single
lambda expression actually you know the
earlier question about how to use
variables and lambda expressions this is
a good example of that
where it's assigning the lambda
expression to a variable and then
reusing it in two places alright so i
think i was giving this presentation and
um or is it atlanta by deb nexus and you
know i don't know if you guys are
familiar with u.s. geography but atlanta
is kind of deep south in the u.s. so
there's there's lots of vino a history
of kind of racial racial issues and
actually folks like the presentation but
by my wording one of my co-presenters
tapped me on the shoulder afterwards
like you know you really shouldn't have
used colored yeah okay so no no
religious or ethnic core yeah yeah
that's nothing of that this is a kid
friendly game alright so here's our
church okay it's got some lambs and we
will appropriately change their colors
notice the phrasing yeah and then voila
to served now
yeah yeah I'm sure I'm sure they did an
appropriate um purification on them okay
and we can get rid of some more of them
but this you can see this is going to
take quite a while to um kill all of our
animals off so we'll fix that problem
later because we need a more efficient
way to UM to get river animals so I'm so
glad that you're going to be up here
next quarter it'll be your turn alright
so rainbow next our church rather next
one is going to be the chicken coop and
this is a good way of describing a map
operation so maps and this is where you
get into more of the power of the lambda
expression maps take a stream of one
type and then convert it to a stream of
another type of object so in this
example we are we're mapping from
whatever type of animal we have in the
list and then mapping two eggs using the
egg constructor and then to make sure
that we keep the chain together for the
following passing in whatever the animal
was previously following to be the new
eggs which we're adding in so it gets
appropriately you know chained all right
so there's actually a second way we can
implement this using a method reference
so what sort of method reference will be
used X Colin Colin new ok so constructor
method reference that's that's half
right because you notice the constructor
we're passing in not sv we're passing in
SVG following so we first need to
construct to a map of what we're
following using the get following a
reference to the get following method
and then you get a stream of whatever
animal you were following and then you
can use the constructor method reference
and then call the constructor for each
of those all right so you guys like this
one or this one better who likes the
lambda form ok and then who likes the
method reference all right so yeah if
you said the second then you're a
hardcore lambda geek but the first one I
think is a little bit more readable for
most Java developers it's all more
obvious what it's doing without kind of
thinking about it too hard
the sheep are what oh so yeah you're
wondering why they turn into eggs right
yeah so this this doesn't have to make
sense that's that's the answer okay so
here's our chicken coop implementation
the two different forms will use the
second one with a double method
reference and if you look at the well if
you look at the eggs constructor it
takes in what it's following okay so we
got our new chicken coop slightly off
screen and eggs and just to just to show
how religious we are we're going to
color our eggs for Easter so you think
the church goers will know no colored
eggs only the only the pure eggs
alright so that's an example of map but
probably a little slightly more
difficult concept is flat map which is
like map except it operates on a stream
of streams so the way flat flat map
works is it expects a lambda expression
which is going to return back rather
than mapping from an object to an object
mapping from an object to a stream and
then you end up with a stream of streams
right because for every object you've
now replaced it with a stream and then
flat map will flatten the stream of
streams into a stream of objects the
resulting stream can be of different
size than the original one because you
might have for example multiple elements
getting added for each item so to
illustrate this we're going to hatch our
eggs so if you remember the little
sprite had three eggs in it and then
when we step on the the nest our eggs
will hatch and we'll get chickens even
our lamb eggs give us chickens it
doesn't have to make sense so we'll get
three chickens in a stream and then
we'll use flat map to flatten that into
a stream of chickens rather than a
stream of stream of chickens all right
so here's our nest using flat map and
then the hatch function simply uses
iterate and gives us back a list of a
stream of three chickens and then we're
going to flatten this you know using
flat map let's give this a try
alright so now we got some eggs and
chickens so a lot more chickens than
eggs or chickens and lambs we start with
and um one of the things when the kids
play with this they their favorite thing
to do with this is this doesn't this
doesn't stop they just keep going
getting more yeah yeah exactly it's a
biblical reference and this shows you
that it's quite performance to um you
know like your old Atari probably
couldn't handle this money sprites
alright so we let's see how many we have
we're going to go to church Oh BAM 1944
meal served so javafx is quite
performance and it uses a 3d
acceleration as well for accelerating
sprites probably the biggest cost is
just object creation and destruction in
the JVM but you can do quite quite
efficient stuff with um you know using
streams and then using a visual
representation to java effects while is
there what skip one in this ok so the
way iterate works is you give it a seed
value right oh sorry you go to seed
value and then you um you iterate and
limit or you you iterate and it gives
you an infinite list the first element
and the iterate is actually the seed
gets returned back as part of the output
and then you start getting the items you
generate so skip one will skip the seed
value
which is returned back in the stream and
then we're limiting it to three chickens
all right so last one so I mentioned
earlier that we we need a better way to
get rid of our animals which is not
picky about what it's going to eat so
we're going to implement a fox using a
reduced function so reduce uses a binary
operator the binary operator takes two
values and returns back one so
recursively applying this across the
stream will result in a single value and
it's great for things like sums or
multiplications or any sort of
aggregation function where you want to
get a single element of the list so this
first maps the list of animals to a list
of numbers each of the animals has a
scale I think lambs are slightly bigger
than chickens or something like that and
then we use on reduce with zero as the
seed value and then a sum function where
it's going to add up all the elements in
them and the list and finally use that
sum to increase the scale of the fox and
then we clear out the animals
alright so what should we feed the Fox
what's he hungry for anyone colored
colored lambs okay let's give him some
colored lambs just the colored ones are
also the white ones just the colored
ones and yum yum okay so slightly off
screen but he he grows and again this is
something the kids love doing they get
him as big as possible and eventually he
just he gets so big he's off screen okay
so that was a quick example of Java
lambdas you can find more information
about the code on github so I posted the
the project in github at my own repo
Steve on Java and the project is mary
had a little lamb de and you know some
more information about my blog ends the
night hacking tour and all that stuff so
I think what we're going to do is we
will now switch to two Vernors we're
going to do a short interview on
something and then after that we'll
we'll show some of the demos I have up
here for Java embedded and then give out
prizes so you know stickers and i also
have a raspberry pi to give out to
someone lucky so we'll think of an
appropriate way of raffling that off all
right get up here
oh you should put your laptop on top of
this this facebook was taking or is it
your birthday</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>