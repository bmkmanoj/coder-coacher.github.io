<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JavaOne Interview with Trisha Gee | Coder Coacher - Coaching Coders</title><meta content="JavaOne Interview with Trisha Gee - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JavaOne Interview with Trisha Gee</b></h2><h5 class="post__date">2013-08-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MdOHjGtITjo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is steven chen for night hacking
calm I am doing interviews with folks
who are javaone speakers today and also
next week javaone San Francisco is from
September 22nd through September 26th
and I have on the line with me Tricia
guy who normally is in London that's
where I've seen her her on the line last
few visits but now is in Spain what do
you what are you doing on the the main
European continent there I'm mostly
enjoying the Sun hmm it turned out that
I've been at MongoDB since October and
most the time I was working from home
anyway because most the jvm guys are
scattered all over the place largely
North America and so it doesn't really
make any difference whether I'm in
London where it rains or whether I'm in
Seville in Spain where it's nice and
sunny and the food is excellent well
awesome so you're enjoying the cuisine
what's your what's your favorite spanish
cuisine or dish um oh all of it
everything involving cheese or ham on or
and or breakfast awesome very nice very
nice so um what what city in Spain are
you in that's a question from jim weaver
whose on the chat right now i'm in
seville oh wait did you say that and
then i ask you the same yeah i mentioned
it now i mentioned it and it's in it's
in the south of Spain so it's actually
it's as british people we tend to go to
Spain because it's close and it's warm
and we I haven't really had no idea that
Savile is even warmer than the rest of
Spain it's practically North Africa what
amazing well that's very different
climate than then London which is
usually a little cold and dreary
sometimes ringing it can be nice and
summer but it's a bit hit and miss and
if you're unlucky like last year and all
the sunny days were during the week and
not during the weekend but here been
here for about a month and last night
was the first time I've seen rain and
this week is the first time I've seen
clouds Wow and it's been around about 40
degrees which
about a hundred I think it's kind of
crazy all right and you're still able to
work on all your mongo DB work while
you're there as well so what sort of
stuff for you doing right now for so
we're writing the new Java driver at the
moment we've been writing it for a
little while and I kind of naively
thought that a driver which is a couple
of hundred classes should be quite easy
to rewrite between two of us and but it
turns out that it's not really the case
a because every time I someone off to a
conference I'm not doing any code and B
because if you want to get it right you
can't just rewrite things the way you
want you have to you have to test it
properly and yes you're doing api's for
other people to use you probably have to
put even more thought into it yeah
exactly yes it is we sort of have a
problem but an opportunity as well which
is that we don't really like some of
stuff with the public API and we can't
we can't change a lot of it because it's
used by lots of people and is open
source so we don't even know exactly
who's using it and and we also know
large organizations are using it and
they're not necessarily going to jump to
the new version just because we say oh
we're not supporting that anymore you
can have to move to the new version so
one of the challenges we've got is
trying to re our katek the whole driver
and whilst providing a backwards
compatible API but also we want to
provide a new API which is more fluent
and it's more modern for example we've
got generics in this one which is quite
nice cool so how does that relate to the
stuff you're going to be chatting about
the Java one conference are you going to
be talking about some of the stuff
you're doing on the MongoDB api's yeah
definitely um I really I wanted to
obviously my job is to talk about
MongoDB but I don't want to just go to
Java one and say to people this is
MongoDB and this is why you should be
using it because I think some people are
already using it because they see it's
it's valuable and some people haven't
had a chance to move to it yet because
maybe their organization isn't ready to
switch or maybe it's just not the right
product for what they want so it's kind
of pointless I think to go to Java one
and tell everyone MongoDB is amazing
because of this what I wanted to do is
which is I could do if you want that and
what
I wanted to do is talk about the
experience we had designing the new Java
driver and which i think is more
applicable to all developers so I wanted
to talk about some of the design goals
we had some hurdles we faced some of the
things maybe that I might do differently
looking back you know hindsight's 2020
yep and and hopefully just kind of
explore some of that with with other
developers and I don't know if they
might learn a little bit about MongoDB
but hopefully they'll have a bit more in
the head about how to do design
incrementally as a developer okay so
that we don't have a lot of time this is
a pretty short interview but are there
any examples maybe in the code or stuff
you're working on for your current stuff
where you could show us kind of what
sort of problems or things you're
thinking about when you're doing the
design so I can definitely do that I'm
going to attempt to draw on the
whiteboard which i'm not sure if you're
going to be able to see but you know we
just put the whiteboard up last week so
I'm quote this week actually so I'm keen
to use it yes yeah no give it a try now
I have to go and find a pen and I'm
tethered to the computer by this thing
which also has a severe camera yeah it's
likely and this could be disastrous and
no I'm not gonna pull it anywhere a
whiteboard hold on i'm going to take
this off so you can talk to me
can you see that at all yep yep so it
core and a couple fluent and classic
boxes on top of it yeah
oh and then we have MongoDB in the
picture as well very nice yeah so that
the driver we basically introduced an
architecture into the driver and lots
it's very naive to assume that I'm well
not naive it's logical to assume that
what a driver does is just take java
objects serialize them into manga shaped
objects and then turn them back into
java objects and and that's kind of how
the how a lot of as a thought when we
write in the Java driver in actual fact
it's got an architecture in its own
right and it's got this core piece which
does things like handle connections to
the different servers because you can
have a Charlotte environment you can
have a replica set you can read from
secondaries and you have to write two
primaries so there's a certain amount of
connection handling as well as
connection pooling and all of that sort
of thing is is a shared core
architecture and and on top of that is a
very thin wrapper actually is is the API
that the developers are going to
interact with so a farm and java
developer and i'm working with the java
driver i'm going to say things like DB
insert and whatever and that's all going
to be on what i've called the classic
api with them with a redesign we have
the option to have a more fluent api
which is more kind of with builders and
mutable objects and and looks some
people accused it of looking a bit more
functional and and in that there's a
slightly different way of working but i
think next going to give us a bit more
flexibility but the classic api is
required to keep the backwards
compatibility and the fluent api is a
good way to introduce stuff that perhaps
might not fit in so nicely with the old
API one of the advantages of this is
that we can well as well as providing
backwards compatibility and providing a
new shiny API which is hopefully going
to be better and shinier and it also
provides a sort of public API which
isn't really a public API and it's the
core API the core functionality has an
API as well which things like the
scholar driver could connect to and
things like other libraries that use
MongoDB like spring data and and odm
like morphia they can connect in at the
lower level without having to translate
everything into something that goes
through the public API which then gets
translated into something at the lower
level so they can sort in
to wrap with the driver at the level
which makes sense so it becomes more of
a jvm driver with a Java API over the
front of it but hopefully the JVM core
is reusable by whoever wants to be using
okay so the two boxes in the picture
which are new is probably you're
extracting out a bunch of the stuff in
building the core reusable framework and
then building your new fluent api on top
of it yeah and we've done quite a lot as
well to improve the way the connection
handling stuff is done because before it
was kind of tangled with the the meat of
the driver and now we've sort of
embraced the fact that it's a component
its own right it makes it a lot easier
to design and develop and I I popped
your desktop up on screen but um okay
what we won't be able to show a lot of
the code but just you know described
kind of what you're doing in general
sure so I've got a really well what I
hope is quite a nice small example of
how we can reuse functionality between
the two different areas and and
hopefully also reuse it between other
drivers if they want and hopefully you
can see I've gotta drop method here and
in collection administration in pull
this this drop method my computer's now
freaking out and this is that this is a
method that a user's going to call if
they want to drop a collection shouldn't
be a massive surprise there and at the
moment this is this is duplicated
between the new shiny public API and the
old one which are now cut find in DB
collection and I'm sure in 25 seconds
that will pop up on the screen as well
and that's that's basically copied and
pasted between the two different things
and we're trying to move away from that
sort of thing and and if I switch tabs
now maybe it will catch up with me in
time there is in the new world order we
have this concept of operations so we've
introduced this idea of a drop
collection operation which you create
and call from wherever you want to do
drop collection
so in the case which is on my screen
right now and probably isn't on your
screen yet yeah I think we gotta drop
collection there now cool so we've got
drop collection operation and in the new
API the collection admin and then you
just pass in some of the stuff that it
needs and then also in DB collection
hold on that's kind of weird and you
have another drop collection operation
so and then all the all the code that
was copied and pasted between both
levels is now encapsulated in this is
drop collection operation so we can do
all the important stuff like and we can
we can get everything that we need and
we can do things like figure out what to
do with exceptions and figure out how to
turn stuff into the correct object how
well tested was the original code that
you're refactoring um artists hey we've
got one called and DB collection old
tests Oh what have I done there that's
not what I want it to be collection old
and these when it pops up on the screen
this is the old unit test for collection
so we've we've got some tests there and
but actually this leads mean nicely to
the other thing I wanted to talk about
which is and we're trying to move
towards Spock as a unit testing
framework and I'm really really loving
it so if we look at the the new tests
for the old code and I've got one here
called DB collection functional
specification and here we can use spot
to do I love this the fact that it can
just do given when then as part of the
spot framework and it's just simplified
our code quite a lot yeah so for folks
who don't know what Spock is it's a test
framework using BDD principles ridden or
behavior driven development principles
ridden and groovy but you can use it to
test Java code or any other language
which is great exactly so we've also got
these acceptance tests so I've kind of
introduced acceptance tests we had a lot
of different concepts in our test before
we had unit tests and functional
test and they tested different levels
but it wasn't really clear so now we've
separated those out we have acceptance
tests functional tests and unit tests
what I want to do with the acceptance
tests although I might change my mind on
this is there going to be Java tests
because that's going to tell Java
programmers how to interact with the
public API so this is the drop
collection tests for the new API so we
you can see do collection tools drop and
then we have things like the functional
tests can be written in Groovy's that
was one of the ones I was showing you
here also hang on so on the acceptance
tests I don't have an example here but I
was largely doing things like writing
comments right at the top where it have
like given and then in the middle I
would say when and then at the end i
would say then in comments just to make
it really clear when we were trying to
do but in the functional tests you don't
have to do that because you tell groovy
you know this is the given this is the
one and this is the then and and you
have to do that to tell groovy that it's
a test and it's really really awesome
nice it's a it's also really nice for
mongodb because MongoDB is a document
database everything's kind of hash maps
and in Java hash maps are a little bit
clumsy to create and you have to sort of
create a new hashmap and you have to put
this and set this and in groovy you get
this kind of nice and syntax where you
can just give the name value pairs and
it's much more readable as a document
cool all right so switching topics
slightly thanks for giving us a quick
quick deep dive on what you're doing for
the API is in the test framework on your
this is a question from from gym on the
stream he was wondering the blog
subtitle on your your personal blog is
my goal only to change the world and
also how to change the world was the
title of your 2012 presentation so
what's the what's the deep meaning here
what's your grand vision for a better a
better world I think my thing here is
that we as developers kind of get led by
society to think that we're just geeks
you sit behind a computer and all we do
is input but not someone's into the
computer and we just commune with the
machine not know
would be British 40 right yes okay and
to him oh yeah zeros um and we kind of
we kind of buy into this idea and and
media loves this idea of us being little
geeks caught up in a room just basically
talking to a computer now in the old
days when a computer was a box on your
on your desk and it didn't go anywhere
then you were sort of isolated
antisocial sort of person maybe but
that's not what we do these days what we
do has an impact on everyone you know
you look at things like Facebook and
having created facebook this totally
changed the way that people talk to each
other we were in touch with people maybe
we don't want to be but we're in touch
with people we didn't used to be and we
can get a window on other people's lives
and we can catch up with people that
previously maybe you lost their phone
number and then you never see them ever
again and things like I used to work at
thought works a little while back and
they developed an application where
families in countries kids in refugees
camps and things can use mobile apps to
be reunited with their families and this
is a really powerful thing that we as
developers can do I mean that's like a
really big good ethical thing to do get
get lost kids back to their families but
even things which are arguably just kind
of fun for us like Facebook it it
totally impacts everyone and it changes
the way that that we interact as people
and I think that as developers I think
we ought to be thinking about this more
instead of letting people put us in this
box of well you're just a geek let us
start thinking about the fact that we
change the world with every one and zero
we write even if it's just talking even
if it's just in I say just but even if
it's in a big enterprise now these
begins prices they they have massive
impact on our lives these banks you know
you you could lose people millions of
money and and I think we need to think
more in terms of the impact that we have
I think it's a great and exciting thing
not quite a scary thing that maybe I've
made it out to be oh yeah no I think a
lot of people and their day jobs don't
really think about the ramifications of
all their stuff they're working on
because they're not always the end
consumer of the the applications but
you're right i mean there's just such a
huge impact that we as technology
workers have in our day jobs and you
know if you put more thoughts that you
might look at your job differently i
think so and I think that we love our
jobs a lot of us and I think that and we
shouldn't be ashamed of it when we tell
people oh I'm a developer I think we
should be excited about that you know I
wrote the application on your phone
which lets you do this thing or I wrote
your online banking application or you
know I do something behind the scenes
for for your grocery store I think it's
exciting and I think that this kind of
comes back into my other pet peeve about
you know getting more diverse people
into IT I think if we were more
externally excited about what we do I
think we would get other people more
excited by ya know i remember watching
you talk about getting woman especially
children involved in education that that
was one of the big things you were
advocating as getting folks excited so
they actually want to choose a
technology career exactly okay so so i'm
gonna i'm going to switch topics on here
something a little bit lighter so um Jim
Jim really likes your vision so you say
that's awesome vision and he's wondering
what your favorite British Invasion
baseband is and you can't say the
Beatles uh I'm not sure if I actually
listened to any British music I listen
to like American stuff that's that's
that's ironic but you know I think kind
of by the subtext Invasion bands you
guys wouldn't consider it an invasion if
it was coming from you but the opposite
is true if we had us bands you're
listening to that would be a an invasion
of us song so like give us an example of
one of your favorite us artists um so
I'm going to be really cliched and sound
like a 14 year old boy but and the last
couple of days have been listening to
linkin park stuff which I just released
on it so I've been listening to linkin
park but i've also i'm actually for
british band probably pendulum not
pendulum the prodigy they're from around
the corner from where i went to school
and and then the Australian band well a
gig pendulum I love those guys and I'm
also being exposed to an awful lot of
European pop music oh ok present company
excepted yes exactly and it's it's it's
very cheerful and I it annoys me in the
UK when I hear all this europop but
actually when it's sunny and which of
course it never is in London is quite
propria it feels fun ok very good
alright thanks a lot for your time
Tricia and I look forward to seeing you
at javaone yeah I'll see you in a few
weeks ok so the recording is</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>