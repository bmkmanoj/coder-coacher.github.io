<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JTREG Tutorial -  Part I - Getting started with jtreg | Coder Coacher - Coaching Coders</title><meta content="JTREG Tutorial -  Part I - Getting started with jtreg - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>JTREG Tutorial -  Part I - Getting started with jtreg</b></h2><h5 class="post__date">2013-06-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4_MSxD8iC1E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to JT rec tutorial part 1
getting started with JT Reich my name is
balachandra white eeeh I'm working in
Java platforms group as a principal
number of technical staff at Oracle
here is a disclaimer in this tutorial I
am going to give you introduction about
using JT rec nuts and bolts of a JT
reqtest case test execution example
using a dirac an example of JT rec test
case a log file example followed by a
demo and there is a reference pages that
contains the links to learn more about
JT like let me start with introduction
the JT right tool is a test harness used
for running unit and regression test for
JDK there are more than 10,000 test
cases that have been written for JDK
since 1997 that use data like the JT
rect tool can be used for developing and
running tests for java api s-- compilers
vm and GUI components the JT rec dual
use Java test harness which is a set of
tools designed to execute test programs
you can learn more about Java test
harness by visiting JT harnessed or
java.net website let me move over to
nuts and bolts of a JT rec test case a
JT reg test case is a simple Java
program with a usual static main method
also called main test test case can be
an applied also called an applied test
or it can be a shell script also called
shell test a simple rule for the
test case is test case should define its
own pass/fail criteria if the test fails
test case you'd through an exception if
test succeeds this case should return
normally however catching general
exceptions such as throwable exception
or error is not recommended age a direct
test case is distinguished from product
source by a test tag a test case may
contain additional information and
action tags tags must be enclosed in a
comment at the head of the file the
information about tags is available at
dock /jt reg directory in jetty reg
bundle you can get the same information
by typing jetty reg - online help you
can also get tagged specification from
open JDK
dot java.net website in the next slide
I'm going to explain most commonly used
data reg tags at the tester tag defines
a source file that defines a test this
is a mandatory tag this must be the
first type in a command block at run tag
does the harness how to perform the test
at summary tag is used to provide a
brief description of the test case at
library tag is used to reference library
source files at Build tag is used to
compile dependent classes or libraries
before running the tests at compile time
is used to compile a class it's useful
for writing compiler tests at the run
tag is optional for automated tests this
tag is used to run tests with non
default options manual tests use slash
manual option with at run tag for
example
at Roane applied / manual at run main /
manual at run shell / manual negative
test is marked with / fail option for
example at run space main / fail at
compile / fail applied test requires a
HTML file which should contain an
applied type with necessary parameter
note that extension of the HTML file
should be dot HTML shell test should
have an extension dot SH and should use
borer shell syntax tester fails if this
takes longer than 120 seconds but this
default behavior of a jetty rake can be
controlled by using / timeout option
example at run main / timeout equal to
100 let me know mu / to test execution
using jet lag jet earache supports
several command-line options those
command-line options are grouped into
general options jdk options test mode
options test selection options verbose
options and tests passed on to jetty ray
can be a single test case or a directory
that contains the test cases more
information about this option can be
obtained by using jetty reg - online
help or from open JDK
dot java.net /jt reg slash command
- help dot HTML
Jetta like general options to run test
current currently use
- concurrency : an option and can be at
all or just a simple number this option
cannot be used with - same VM option
however this option is not suitable for
GUI tests example test requires the most
interaction to specify alternate rapport
and work directory use - R or reported
del : report directory the default
report directory East JD report the
specified work directory use - W or -
work deal option the default work
directory is JT work - space to extend
default timeout use - timeout : number
or - timeout factor : number this number
is just a scaling factor that is if the
number is - time is extended to 240
seconds because by default JT req takes
120 seconds to produce test log files in
XML format use - XML option log files
with dot j TR dot xml extension are
found in JT work directory JT reg jdk
related options to past JVM options for
running tests use - viim option or - vm
options this option can be used multiple
times many common JVM options such as -
server
- t-64 client are supported directly to
run all tests we specified JDK use -
test JDK : Lokesh
of that aesthetic a note that JDK
version used for running jetty reg
harness is tested by default to pass
additionally our options for running
test classes use - Java option or Java
options to pass additional compiler
options use - javac option or javac
options jetty reg test mode options with
- other VM every test runs in its own
JVM advantage is there are maximum
isolation between tests however there is
maximum overhead with this option with -
same wium option all test runs in the
same JVM as the Java test harness this
option has minimum overhead minimum
isolation between tests however one bad
test can cause problems for all
subsequent tests with - agent weum
option tests run using a pool of
reusable dev eum's
this means reuse wium if it can be reset
to a clean state after a test however
this cannot be enforced in a test test
mode can also be specified in a test
source file example at run space main
slashed agent VM or at run main slash
other VM /timeout equal to 300 J direct
test selection options to exclude us use
- exclude : least containing the
problematic trust cases in dedicate
apposite Ori problem list dot text
contains all the known failing tests
to select specific tests use - a or -
automatic option to run only automated
tests use - M option to run manual tests
use - k : keyword expression to run
tests marked with specific keyword use -
bug : bug ID can be used to run only
tests with bug ID options marked in a
test source file note that all tests run
by default jetty reg were both options
this option control amount of output
returned to the console while running
tests - were boss : summary writes one
line output per test
- were post : fail : error right
selected contents of dot JT our log file
for failed and failed with error tests
log files the tester log file is written
in a text format with dot j TR extension
these log files are located in JT work
directory
JT work directory also contains dot
class files log file contains the
command line used to execute tests
diagnostic message included in exception
it also includes output of system dot
out and system dot error from the test
source JT report directory contains
report in HTML and txt format
let me know move over to JT rec test
case example add the test tag indicates
source is a test at summary tag is used
to provide a brief description of the
test and the text
used with this tag appears in output GTR
log file at run main example one means
in walk main method of example one main
class at run main is optional for
default execution test case should throw
an exception to indicate test failure in
this case test should exit normally
indicate test is pass to run this
example use JT rake
- word post : summary and tester JDK to
test an example source file an empty
file test daughter root should exit at
the root directory of the test command
creates JT work and JT report directory
if the directory is not already present
JT report slash HTML report dot HTML
contains the overall results summary JT
report slash text slash summary dot text
contains the result summary in text
format JT work slash example one dot GTR
contains the test log file let me know
move over to show an example of JT rake
log file log file has an extension dot
GTR and can be found in sub directories
of JT work directory information in the
log files are organized in a different
sections test for example test
description section and note that title
equal to example one a simple test case
this is actually coming from at summary
tag specified in the test case source
itself
environment section and test result
section provides a test result summary
for example execution status hostname on
which test has been
suited OS version on which test has been
executed and JT recursion itself and
many other useful options test results
broken down into different phases of
test execution for example script
messages build section compiled and
section main just remind that log files
are found in jetty work directory now
let me move over to give you a short
demo that covers the theory
let me start demo by showing how to get
online help with data like that you can
do by typing JT like - online help
online help has a tag language
specifications that's the tag supported
with JT rake there are effect use and
also there is a command line usage
details by default
JT reg tests Java version used to run
the jetty rake in this case Java -
version dedicate 1.8 dot 0 error early
access version is used to run the jetty
rake and the same ocean is getting
tested so the directory has just one
example this one I have covered in the
previous slides let us look at what's in
this example one dot java
this has test tag to indicate sources a
test it has a summary tag it gives the
brief description of the test case and
at run main tag let me close this
example and to run this best case simply
how to type JT rake
- verbose : summary and source file
example1 dot java if we want to test
different version of JDK you can type -
test JDK option in this case this test
is not execute because JT Rea could not
find the file dest dot root so at the
minimum there should be an empty test
dot root file let me create one that
touch test dot root open JDK repository
comes with pre created test not root
file that has some useful instruction
for JT right to run the tests now
the directory has test dot root file and
a test case let me run the test case
again the key right - were pose summary
example one dot java
it created a jetty report directory
jetty work directory because those
directories were not exist before and it
gave the brief synopsis saying that test
result is past one indicates that that's
a one test case passed and the report is
returned to jetty report directory now
let me look at what is in this report
directory let me start a browser
okay here is a report file this report
file shows tests executed concurrency
used time out factors and keywords if
anything specified in our test execution
we aren't specified any keyword and also
finally there is links to jetty our file
so example one dot java
this contains it's a jetty our file is a
log file this contains different
sections tests description
this shows the tests which test has been
executed and there's a test result
section it has execution status passed
hostname on which just has been executed
and jetty rake version is used and many
other useful options and build compiled
main different section and finally test
result is successful let me close this
processor now with the jetty rec options
no need to specify just summary options
it can be some other option like fail or
error if the test case has failure it it
writes more information on the console
it can be verbose pass in this case that
lots of information return to console
I think this is pretty much information
about JT Rick let me go back to main
presentation now let me give you some
references to learn more about JT rec
there are a lot of information about JT
rec available on OpenJDK door java.net
website code tool project has sources
for JT right which a one can clone play
around and contribute to JT rag all the
emails sent to an JT rec dev Elias has
been archived and is available on mail
dot OpenJDK door java.net website and
there is a openjdk wiki page that has
some additional information about JT
right including slides for this tutorial
if anyone have any questions about JT
rec development related issues and
e-mail to JT reg - dao at OpenJDK dot
java.net alias in addition to that JT
rake bundles fa Q's and tag
specifications more information about
data can be obtained using JT reg -
online help or by simply typing JT rec
space - help this is end of part 1 of JT
rake tutorial getting started with JT
rec part 2 of the tutorial will cover
more examples thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>