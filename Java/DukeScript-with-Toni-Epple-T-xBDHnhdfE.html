<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>DukeScript with Toni Epple | Coder Coacher - Coaching Coders</title><meta content="DukeScript with Toni Epple - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>DukeScript with Toni Epple</b></h2><h5 class="post__date">2014-03-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/T-xBDHnhdfE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright so welcome again this is take
two of the first stop of the night
hacking Java 8 tour where we're in
Munich at Appleton headquarters joined
by Tony Apple he was going to give us a
presentation on Duke script which is a
what's this an emerging language on the
JavaScript virtual machine something
like that yeah very good description get
pushed Java back into the browser yeah
we want to because javascript has java
in its name but there's no real java in
the browser so that is we want to put
the name Chava back in javascript that's
completely unacceptable yeah and we're
joined here by a whole bunch of folks in
the audience so I was thinking for an
agenda we first kind of do introductions
and you know just talk a little bit
about you know who you are and what sort
of stuff you're hacking on maybe um
what's a good topic
well come will come up with an
interesting topic for everyone to chime
in on its operator yeah okay yes so I
can delay it would so Kirk yeah what so
the first the first thing is the
cameramen has to introduce or the audio
person has to introduce himself yeah the
first has to do introduce himself right
who are you I'm Kirk what are you doing
in Munich you don't have no idea this
morning I got into a to a you know tube
and you know I got out of the tube and
here we are in Munich right ok I'm I
came here for the night packing tour
also and I wanted to sort C bring your
motorcycle we're going to hop on the
Autobahn to mark together tomorrow my
motorcycle comes with four wheels
motorcycle it's a handicapped daughter
sex exactly okay current so no yes no
hmm no motorcycle here I'm afraid um ok
anyways all right Lyssa as a real car
for our first guest our first guest here
yeah hello I'm excellent I'm a teacher
at a vocational school here in unique
and I'm teaching programming and other
subjects cool cool and oh you get right
you get a nose you get a coaster there
you go laptop sticker oh do you want to
give you the rest of customers yeah you
come unless you want to go now ok here
we go and let's start in this corner
here so just you know exciting you are
hello my name is Stuart I'm free dance
program
topics are from the area of financial
mathematics don't have max oh yeah okay
that sounds impressive yes hi I'm
Mariana i'm working at university and
I'm interested in IT security and
engineering oh hi I'm against i'm keen
java developer during the day i'm doing
boring stuff like Java EE and Jays
haven't denied encoding most each other
fix nice so so the your that you're the
one who responded to the chocolate for
I'd yesterday right about the sky yeah
okay yeah so the Andrew said he's gonna
fix your problem or he got in touch with
you yeah he hadn't touched yeah totally
and he will send me of you initializing
carefully it's excellent it's working
now so so this is the guy that's
actually using FX yes I try to okay I'm
you know I'm also a software developer
and software are checked for cha ve and
my spare time i'm working on a little
bit of chocolate eggs on iOS devices for
all right hold on just a sec because
we'd like you guys to be able to see
what's going on the screen and you guys
can't see it on their young it's so much
better than i see i have my army from
no no all right next yes okay oh hello
I'm miro I'm John friends yeah I was
surprised to see you're in Munich
because I I met you in Cracow for the
first time yes so while he has important
that we leaving you proctoring Bristol
and hearing manningham working as a
software developer and after that and
spring guy but we are using each other
things as a part of our system I'm the
architecture the gaps web Sarah remote
system remote management system which
collects the embedded system and
communication over to Nettie we are
using and TOA fixes as a provider to
display what is going on on the real
devices is like we are racing against an
interface cool that's all and I'm doing
here I think a beer all right now you
actually live here don't you it goes by
at least I mean it was still in our tree
although I would never guess because I
see you at conferences or in the world
yeah but I've never actually home he
doesn't work he just goes to conferences
I think I don't tell my employer she's
hard wagered floor do they care yeah so
this is this is your big chance to plug
javelin yes thanks I'm a job and is the
new conference we're starting in a
couple of days
not really soldered so there are some
tickets left deep tips actually come and
see your schedule it's going to be a
real cool one Steven will be there we'll
have a nice job at launch and we are
plenty of traction so when you're tired
of wearing out your brain during the day
with awesome sessions then it comes to
roller coasters are fun and who knows me
knows that it's going to be a real cool
show plenty of coffee okay so I popped
up Java land on the screen so people can
see the logo sure and they know they
know where it got there everybody will
be there it's going to be a huge new
thing introduced yes no yes yeah we
introduce everybody so this event was
made possible by this just you know say
your name very good and she's the brains
for beer and I think I think it's
appropriate to Punk J day at this point
right yeah yeah eugenics inwardness
since you already mentioned the the
spin-off conference from JK javelin
we should have that meant i mentioned k
day and today is coming up because I've
been asked actually by the guys here
when the next J day is going to be and
it's probably going to be on july first
so you're going to have great speakers
there and a couple of them are in the
audience and okay so come to JD yeah ok
very good you have to introduce this
little guy oh yeah our official mascot
of the night hacking tour either either
little guy so I think I think he needs
to wave hi to the audience if I can hook
up to the network because we couldn't
get the proper network configuration
yeah we should have a specialist here we
got visit we should definitely have a
specialist is he is he following you
there yeah is he trying to attack you
there no I just don't find out it don't
point out him don't look him in the eyes
okay okay very good these are mine
fantastic okay yes okay and I I'm
getting some feedback we have some echo
on the stream if you are if you're on
the live stream and you're getting some
echo try refreshing the browser because
that's a common problem with you stream
is sometimes the client end has issues
with echo thank you thank you so give
that a try and if you're still having
issues with echo Jim let me know let me
let me just reply to him so try
refreshing yeah which one is it yes okay
you're trying to stick it yeah yeah go
over breaking it alright alright so what
was our official drink of the evening
here yeah welcome Stephen welcome to
Munich thank you cheers Cheers do we not
have it a drink for him very good this
is a local beer yeah this is very local
it's the brewery is just a rather choke
on the street agostino yes agustina yeah
very good beer all right and what are
you gonna what are you going to show us
today Tony today I'm going to talk about
Duke script as as I already mentioned
this is an attempt to really get the
chava into JavaScript and
we actually kicked off this project
almost two years ago one and a half year
ago years ago and it's mainly developed
by jaroslav tula and i met Yoda in Linz
like every year where he where we give a
course at the youngins kepler university
and he always brings some cool projects
and he convinced me to join well and
yeah he brought back to browser and the
idea behind back to browser was that all
of the all of the companies are now
starting doing html5 and JavaScript and
projects and and as soon as the projects
get bigger they are running against
walls and they even start conferences
about how to get rid of JavaScript
because it's a maintenance nightmare to
code larger applications in JavaScript
and there are various efforts to to
solve this problem and the actual
solution would be to use mo Chara but
the problem is that Java is not running
on all of the interesting devices at
least only in a limited manner so you
cannot just start right a swing
application or and then and deploy it to
the iPad or Android and stuff so the
idea behind the project was to make Java
run on every device that has a modern
html5 capable browser and yeah with the
help of Chuck Norris who is known that
he can do a lot of cool things like
instantiate abstract classes
he uses generic since Java 10 he
overrides final methods and we actually
proved that he can also run Java on the
iPad and Android without jailbreak so
the project back to browser was
successful in proving that it's possible
and basically back to browser is java
virtual machine that runs in javascript
and you can have your jar files your by
code executes in any modern browser that
is capable of doing JavaScript it's a
really cool project and we did a lot of
talks and we learned a lot of respect
the either earned a lot of respect
because we did this roundhouse kick and
and and prove that it's possible to run
tower and on the iPad and and all of the
cool devices but somehow we we realized
that the respect that we earned is in a
way like it was it was somehow treated
like an academic experiment because we
did not really I think we did not really
focus on the on the most important part
of it and that is not that it's I mean
it's cool to write a java virtual
machine that runs in the browser but in
the end you were not going to convince
somebody to use your technology just
because you can do that yeah I mean it's
it's nice but but it's not it's not
really convincing but the technology is
actually very good because it it allows
you to to create applications that
really make use of a workflow that
separates design and development
depending on which API to use so you
have the designer and you have the
developer and in an ideal world the
designer creates a very nice HTML
interface user interface and
the developer codes the business logic
and those two only meet to define an
interface and talk to each other about
small bugs in the in the HTML or stuff
like that and so we thought it would be
interesting to focus on that and
actually the back to browser virtual
machine is just enabling technology to
get this kind of work flow on all of the
interesting devices and in the meantime
so so basically what we want is we want
on the one side the designer write HTML
and CSS and the developer write Java
because Java is a language where you can
create big projects there's a lot of
there's a lot of big projects and a lot
of your people who have done it and
proved it that that is possible to do it
because of the static typing you have
very good IDE support and you have you
have code completion and all of the
stuff a lot of libraries that you can
use so what we want is this we want to
have an HTML page and we want to have a
chava file and we want to connect them
somehow do the rendering in this
declarative HTML format and just like
change for example the data model in
Java depending on something that's
happening on the server or locally so
that's why we basically really find the
project and gave it also a new name
because back to browser is just one
aspect of it and the new name is Duke
script obviously Duke script because
javascript is lying about because there
is no java in javascript and the name is
already taken so we decided to call it
deep script what is the real JavaScript
this puts Java back in exactly that that
is JavaScript as it's meant to be it's a
very nice language so and you can use it
with a lot of different JVMs so not only
back to browser but you can use the
hotspot JVM you can use robo p.m. or
dalvik and with that you can you can run
on all the interesting devices and
alternatively if you're not able to to
get it to run as a as a first fall back
before it's supported on on your fully
supported on your platform you can still
use back to browser or tbm or something
else some some other JVM that is using
javascript so with this we can we can
run on all of these interesting devices
and yarder just yesterday sent me a
screenshot from his iPad proving that he
can run his minesweeper game also on iOS
he showed it on on on Android before so
it's it's really working with Robo BM
now as well at least in the in the iOS
device a simulator and yeah so so this
is basically the back end so this is
basically the technology that's behind
it you have you have a way of creating
Java API s and a very simple way of
plugging into JavaScript libraries and
creating Java interfaces Java API is for
JavaScript libraries and program against
them and you can start so if you if you
really want to start low level you can
start and very easily port any
JavaScript library and and create an API
for it and that's basically how I
started myself so when when Giada tried
to sell me on the project he he knew
that I was doing some some game
development and I've got a little
project that's called FX games and it's
on github and you can use that to
to create simple 2d games also physics
and stuff like that a tile engine and he
said so how about and it was using
javafx and he said to me so how about
you can not only use javafx but you can
also run it on the on the ipad so i
created an abstraction on top of it on
top of the rendering layer basically and
and we used that to to render the games
on both technology so it so now it's
running with javafx and it's running
with html5 canvas and like this you can
very easy it took me like the the first
implementation of it took me like a one
afternoon because it's really really
extremely simple to do that if you have
advanced technologies like knockout or
angular binding frameworks it's it's a
little bit it's likely more complex but
for simple API is like like plugging
into the canvas it's very very simple
and so so you can you can do that on
your own or you can use what yard are
created as an example or what I create
it so Yaga used knockout j/s so I don't
know if you know who knows knockout
knockout.js ok so it's an it's who knows
angularjs ok a lot more people no
angular then knockout but knockout also
does some kind of data binding so you
you can bind your UI elements to a model
and they will automatically update and
stuff like that so it's similar in that
respect and what yarder did he created
an API and the chava APR looks like that
you define a class and there you use
annotations to define a model so you
have this model here with a couple of
properties first name last name both of
type string
and you have a property name address
array type of addresses so it can be an
array of addresses and this defines a
model that can be bound to do to the
HTML why are the typical knockout
directives but now a class will be
created for you and you can manipulate
this class and you can set values and
get values and and update the model and
the HTML page will update for you so
it's really nice and if you want to have
a look and I suggest that we all have a
look later on and maybe I should mention
that the PDF of of this talk is
somewhere online if yes yeah it will be
online momentarily at a location to be
to be announced to be announced on
Twitter stream ah nice okay because I i
get i gave i decided on some small tasks
that you can that you can play with that
you can try out so you can get a feeling
for how it how it feels to develop with
it so okay so you have so this way you
can provide a data model that you can
update from java and you can read from
java and you can also so this is the
second part where you define the
addresses also in a static class address
model here you can find this code on the
on the api doc and you have something
like computed properties where you where
you can like use the new strings and put
them together to have cap to do
calculations and stuff like that and
also you can bind to these in your HTML
page and this is what the HTML looks
like so you have these data bind
attributes here where you bind the span
to the full name which is the computed
property that we saw and here we have
binding to the addresses which is the
which wich is this address type that we
saw on the name below and yeah you can
you can then have this for each loop and
print all of these and it's so this is
the way how you bind the data model to
them to the back end ok this is
duplicated duplicated slide and just
yesterday I've released my API which is
independent of all of that you can mix
it with this but you can also use it
independently and that's the canvas API
and it's now currently in the first
release is version 0 dot five dot to for
some technical reasons and you can find
it on github and have a look at it at
the API and play around with it and the
canvas API as i mentioned can render to
to this technology and it can also
render to javafx directly and it's
basically meant as as a way of using
your canvas knowledge 121 so it's very
similar you can use all the demos that
you find in the web for canvas and and
just like instead of setting the
properties directly with an equals you
you have a setter like you're used to in
Java but other than that almost
everything is the same and so it looks
like this you get a graphics context 2d
so currently you have to use these
factories in in order to get the
graphics so either ciao FX or or html5
so this ghetto create meth
is going to look into the connected HTML
page for canvas with this ID and if it
doesn't find one it creates one in the
page and then you can use that and set
the line with set font Phil text and so
on do do stuff with it and play around
just like you would do with an html5
canvas but from Java and this is
basically an abling technology so it's
it's very low level so you usually do
not use it directly but you use some API
that is building on top of it and one of
the things that has been created using
this this API is is a java fix
implementation so this is basically the
the prism layer of a java fix
implementation that is running on that
debt at least should be running in in
all modern browsers and you can try for
yourself because this if you follow this
link it should open the demo and here
you can see one of the early chava fix
demos I think it is it's a wonder three
Chavez its demo and it's running in
chrome at a decent speed and this is
really plain javafx and in the back it's
using this this canvas API and as you
can see increment it runs at a decent
framerate if you try the same in Firefox
is not at the same speed but that's
because it's using back to browser here
but in case you're using a different
virtual machine it the idiot the
performance will probably be better so
that is one use case for it and another
use case is my games library FX games
and yeah since i since i changed a lot
of stuff in the games library these
demos here are not running in
currently in the html5 version so but I
can show one very simple game as a demo
and that is that is palm and this pawn
version is basically a game that you can
use in for for Java fix and for and for
the html5 version the only thing that
you need to do is you need to pass in a
graphics contest right at the at the
moment because I I tried a different way
as well to use some kind of service load
of approach to to load the the graphics
context depending on what is on the on
the on the path on the classpath but
that didn't really work because of
misconfigured projects it's very easy to
simply get two implementations in the
background but I will try to fix that
for now you have to create the graphics
context yourself for the different for
the different platforms but what this
does is it's a version of phone that
uses che box2d which is a physics engine
so it's maybe not as simple as normal
poem but almost
so here you can see the demo and you
might you might realize that actually
the ball is not linear but it's it's
really using gravity in this case and I
had a hard time really getting the
physics model right because typically
due to friction the ball would start to
spin and then behave really crazy if you
do something like that and as you can
see I'm really very good at this cake so
then if they're slightly distracted by
the robot trying to walk around as well
so he's he's in his autonomous life mode
so he's going to attempt to look for
faces and then try to walk so he can
face the person who's nearby so for him
he'll expose yeah he wants I'm pretty
sure that she's going to steal him so he
should be careful okay so if you want to
play around with it it might actually at
the moment it still might not work
although the canvas dependencies are
fixed now and canvas is now publicly
available on maven central it still has
some dependencies to my version of che
box2d because I slightly it adjusted
some of the things in Jay box2d to work
on back to browser and I didn't fix them
back because right now it should work
out of the box okay so this is this is
Duke script and I think the best way to
get a feeling for new technology is
starting to hack on it and in order to
make that simple we created maven
archetypes for it so if you have your
laptop here
and we have the PDF somewhere yeah ok so
I did I did post the PDF online ok cool
the man let me pop the camera back to
full screen so it's much it's it's
probably much easier with the PDF you've
got a couple of things that you can
follow so you can try out you can have a
look at the API talk yeah so um i would
i would tell you guys to look for
twitter for the link for the slides but
apparently our stream is so popular we
took down twitter they're having
technical issues with their you can you
can see evidence right here of us the
fact that we have we've crashed
Twitter's nice so um what we need to do
is instead yes any of your new product
to twitter and debug the performance
issues from there yes so you're already
on i am without a week don't believe him
he's the person who crashed the
lufthansa say he did arrange community
so if you if you check my SlideShare
account its steep on java and my
SlideShare the most recently posted
presentation as Tony's just talk and
before we start the lab I think this is
also probably a good time to to go
through some of the stuff like about the
tour and other ice and then we'll we'll
probably cut off the the live stream for
folks because they they don't need to
sit around and and watch us trying to do
it also revving network issues so it's
not as live as it should be so that's
why because they knew that whoever i
miss out of it physically come here
dokie okay so first first a little bit
about the tour itself so this is the
tour site it'll it'll refresh
son and well with the web shows it shows
where i am currently so it shows you
know i'm i'm over here in Munich and as
I travel around Europe it updates in
real time so we're using an open source
project called me otaru which in
japanese means like where are you
relocation this is some japanese thing
it's very that's very um very
appropriate I don't know I don't know
what it means exactly means something it
means something and I have stops lined
up for the next two months all
throughout Europe so visiting going to
Poland for maker lands visiting you know
jugs in the Czech Republic and Cracow
and Poznan and then sweeping back
through Germany over all the way to
Portugal and then finishing up in da box
France and I'll stop back in Munich for
a bit and then head to India so I'll
give you a gift back your massive bike
that use that you rented today and yeah
Oh javelin job on stream what oh yeah
yeah now we're having network issues
with the locals during recording so the
recording will come at fun and i'll post
it later and yeah it's all good and then
there's list of all the events so if you
guys were like traveling and you wanted
to visit another user group you know you
can you can come join me on motorcycle
or or car and then go visit all these
different places tomorrow but the event
is thursday in prague and friday and
brunette okay and you know of course we
want to visit and support good community
conferences like um jubbaland sec you
honey yogurt is being run in a in a
theme park okay so that's little bit
about the tour and all that will be live
stream so you can follow tonight hacking
website or my twitter handle on your
score night hacking to find out more
about that and also when
okay so the new edition of Java mega
zone so this on video he really means
better productivity for developers as
well as expansive okay audio Java
magazine we drill down into the most
significant features in java SE eight
lambda expressions the new date and time
api for verbal nashorn and much more
very little i've done any eight he's a
comprehensive showerhead adorns this
issue has lot of their hands on how to
argue the help you get started with java
8 so what do you win the job japanee
today and explore the possibilities if
you're not a subscriber to java magazine
it's easy and it's free just go to
oracle com and barbara / java magazine
and click on the subscribe link
alright so basically what what Caroline
was saying she's the chief editor for
Java manic is the new edition has lots
of good articles on lambdas and other
stuff for Java 8 launch so check it out
but also you can take the articles and
republish them freely so if you want to
take articles out of Java mag you can
post them on your own websites for your
company or personal blogs and she's also
looking for folks to write articles so
she's looking for folks who are
interested in writing articles in the
upcoming Java magazine issues so if
you've always wanted to be a magazine
author the Java mag has very good
viewership I think they get tens of
thousands of people who download and
read the articles on Java magazine you
know maybe we need a good on a particle
on some complicated mathematics photos
what was the faculty if I can't remember
but you know this yeah you guys are
working on right write us a good article
and I'll put you in touch with Caroline
oh and the last last announcement thing
and this comes with a prize because we
like prizes which one once I how this
one so there's a developer challenge
going on run by otn the internet things
developer challenge and you build a
project using raspberry pi and java SE
embedded enter the contest and you can
win one of nine trips to Java one
including free flight and conference
pass it's pretty cool so to get you guys
started we have we have hardware to give
away reserved there it is
yeah so you're pointing out the obvious
because you've been to San Francisco
clearly two thousand dollars will get
you a hotel for a knife okay so so Tony
we need a question for the audience and
then whoever gets the answer right so
Duke script question about something
which you yeah I think they have to they
have to first do the lab okay so we'll
give this away after the lab yeah come
up with an equable why decide who once
that's right yeah and actually I gave
you some some forums so if you hit rough
cornice we want to know we want to we
want to learn what to improve in terms
of API usability so have a look at the
at the tasks and play around with it and
let us know what we where we screwed it
okay and finally you know of course come
out to jump on San Francisco like I was
telling Marcus I I freely promote our
conference at other peoples events all
the time and my lads get a javelin and
talk about Java one okay
I I i would not be opposed the tit for
tat and I think there's not a lot of
overlap between perhaps but I mean like
going to java line wouldn't preclude the
other and go in java wouldn't preclude
you going to jungle they're very
different conferences yeah I'd be a good
promotion yeah so I I'll get the Java
line ticket then all right so I'm going
to do is I'm going to leave the stream
well live because it's not really live
its kind of flickering in and out ya got
the recording okay and then we'll work
on the lab and I'm going to see if we
can get you in we've run the Hangout
because he's been on the street to say
hi okay all right so thanks everyone for
joining our first events on the street</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>