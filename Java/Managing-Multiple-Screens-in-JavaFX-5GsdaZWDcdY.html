<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Managing Multiple Screens in JavaFX | Coder Coacher - Coaching Coders</title><meta content="Managing Multiple Screens in JavaFX - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Managing Multiple Screens in JavaFX</b></h2><h5 class="post__date">2013-02-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5GsdaZWDcdY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello my name is Angelica saram a java
evangelist at Oracle what I want to do
today in this screencast is to share a
little bit of my experience building
some demos last year I wanted to create
a nice-looking demos using Java FX and I
encounter an issue I was asked as I was
creating the user interfaces which was
really really easy using NetBeans and
sim builder what I have more than one
screen I wasn't sure how to do the
transition how can I easily move from
one screen to another so I ended up kind
of creating a small framework that I'm
actually going to share with you so the
first thing that I did is we NetBeans
you can actually create your user
interfaces really easy so for example
you can create a new project and in this
case I want to do it using the scene
builder so you can cook you can use the
F XML application you can just provide
any name that you want and then finish
the tool will generate a couple of files
for you the first one will be the F XML
file that's what all the UI components
will be defined so we open up here you
can see the F XML file you can right
click to it and see it for editing so
this is the F XML file because we can
also edit this using symbol that I will
show you next then along with this you
have a Java are a sample controller that
is actually a file a controller
associated with the F XML file the idea
here is to define to inject some of the
UI components so you have them available
in your java code so for example you
have your label that is being injected
from the FX EMA you also have some
methods that as they're annotated with F
XML that allows to see this method from
F XML back and forth so we can actually
associate we can call this method from
scene builder and I will show you next
how to do that and then finally the main
class very simple and application
and inherit from applications and all it
does is low the F XML file you just
creates a make it available and once you
have the route from that tree structure
that God created on the F XML you add it
to the scene at then you display so very
simple as I mentioned if you
double-click to the F XML what is going
to happen is simple der is going to be
open and you can see and play with your
interface if you want to fool tutorial
about how to use scene builder there is
another video created for me also here
in the Java channel that you can
actually have a look at what all I want
to mention here is see the label that
got injected on F XML file that I show
you and then remember there was one
method available this method is
associated with this click button so if
you go to the code you can actually see
the handle button action is called here
so whenever you click this button is
going to call the method that was
defined in the Java controller so very
simple right um so we created an
interface right my first screen what
happen if I want to create another
screen ok so you just can right click to
your project you can just say ok I want
a new and I'm going to create a new
empty F XML file what it's going to do
is again I'm going to create a new F XML
file so we can call it a screen one and
then is going to ask me if I want a
controller to be generated to be honest
with you I think is really good to keep
the screens definition separated so I
think for a big application when you
have a multiple components and behaviors
associated with one screen I think it's
really good to separate each screen will
have their own F XML file and each
screen will have their own controller so
I do encourage you to associate a
controller we do need a screen that you
are creating so I'm going to say yes and
because we don't have any controller
let's say yes I do want to create a
control
you can actually associate a CSS file
that you can apply this is just very
simple all I want to focus today is on
navigation so I'm not going to select
anything okay so we have a screen one
here again you can go to double click
the file go to scene builder and start
adding components to these so now if you
go back to the main class right so yes I
see here a line would you load one F XML
but what happened when you have two
screens you have two F XML files which
one are you going to load how are you
going to manipulate this scene graph to
be able to load and unload the meal
screens
you cannot just keep loading screens
because what is going to happen is your
sin graph is going to become really
really big and this is going to impact
the performance of your application so
what we want to really do is keep my
scene graph as simple as possible I want
to display when my application is start
I want to display one screen perfect
then whenever the user do some
interaction we're going to move to a
second screen right how is it going to
happen how I'm going to load the new F
XML and unload the previous one so this
is what this framework is about for
simplicity so first I was going to show
you what I did for Java 1 and again this
is the result of using the frame what
I'm going to show a little bit later on
so what I built was a casino application
so for my casino app of course I needed
to have multiple screens and each screen
was in charge of doing a lot of
animation so there are a lot of UI
components here and you know very
dynamic you can move here you can have
your menu or you can also get your menu
from the side it doesn't really make
difference you can actually go on play
games right so what I want to do is I
want to unload this screen
and bring the next one right so I want
to bring the jackpot for example and I
just want to play so see how I totally
took away one the screen and bring a
second one right once I play and let's
see if I win oh great I win so I will
like to go back to the - screen right
and maybe select another game right so I
should be able to nicely transition from
one screen to another for example let's
play poker so we should be able to have
a nice animation of how to bring on a
new screen so for example let's play
poker and all the players made a bit ok
perfect and then we can start
distributing the cards for example so
JavaFX is great for these animation
transitions i really really see what I
did here is a bunch of animations
actually path transitions where the cars
were following that path so I define a
path for each player and we just animate
the the image in this case the car for
that so anyway so again but going back
and forth the screen should be nice and
there will be a nice transition between
the screen so how do i how did I you
know achieve this again if you pay
attention each screen is heavily loaded
with UI components so I didn't want to
have everything in one single F XML file
I wanted to have per each screen one F
XML file and one set of behaviors ok so
what I want to show you now is a small
application that is actually available
on add github and I will you will see
the URL also in the block and and what I
did is a very simple one I created three
screens as you can see each screen has
an F XML and has its own controller the
screens are extremely simple streaming
and simplified it's just to show you the
idea here so is one screen
to bottoms of course screen button this
button here will take you to screen
number two so go to a screen number two
method and then a screen three of course
if you hit here the idea is to go to
screen three right then we have a second
screen again very simple just a
different organization different design
for the screen but again two buttons
going back to screen 1 or going to
screen 3 and then the last one again
very simple two buttons again going back
to screen 1 or screen to okay and so
what is the framework the first thing
that we need to do is we need to create
an interface we need to create actually
a common type for everybody so we can do
things like inserting the parents so
what what I did is create an interface
in this case controller screen if I want
to be able to control this screen you
shouldn't you should implement this one
and the idea is just to set be able to
set your controller your parent who is
going to know about the screen who is in
charge of doing the transitions between
screens so then we need to call this
method so very simple what does it mean
now for each screen remember there was a
controller and the controller was very
simple remember right the controller was
just in charge of defining some methods
in this case remember to metaphore going
forward to the other screens now the
different each is controller should
implement the interface we just defined
so all the screens they need the screens
that we design actually share the type
control screen they should implement the
only method from this interface that is
set screen parent the only thing that we
need to do is to set your point right so
we keep we can actually inject the
parent to each screen so each screen
knows who the parent is and how to let
them know I need to go to the second
their screen okay very simple one
interface is claw each class each
controller class will implement okay now
we need to create that controller right
so we need a class we need a in this
case screen controller the type for a
screen controller and that I decided to
have was a stack panel
it makes a lot of sense when you have
multiple screen to think about and start
a stack kind of panel when you stack one
screen on top of the other we do not
want to load all the screens right so
the first thing that can come to your
mind is oh great yeah I just put one
screen on top of the other and whenever
I'm displaying one is great I just
switch well yes and no that seems to be
a really great idea but performance is
going to be bad because that means every
screen will be loaded in the scene graph
so now what we want to do is we still
keep the stack panel because what we
want to do is if we're going to show a
new screen we put it on top and then we
show it and then once the screen that we
need to move to is display we can go
ahead and remove the previous screen
that is underneath so we still have like
a stack kind of a structure for placing
the new screen on top removing the
previous one but we do not keep more
than one screen on the graph at the time
right we always keep that a scene graph
light so we do keep the stack panel as
the structure then what do we need to do
this guy the screen controller needs to
know about the screens right who which
are the screens that are available for
moving you know from one to another so
what we're going to do is we're going to
define a hash map that has the string
that is the ID of the that particular
screen and a note these know represent
the route of the scene graph for that
particular screen so we just have a
bunch of tree structures coming of
course from the F XML and we associated
a particular screen ID okay but again we
are not loading anything on the scene
graph this controller should know how to
add load and remove the screens right
would adding means is just add something
into my hash map right giving a name on
the screen just added for my reference
right get a screen as the name says just
providing an ID for the screen provide
me denude for that what is the loading
process this is what things get
interesting remember that we need to
load the F XML file but remember that we
have multiple effects ml files right so
what we want to do actually is be able
to load a particular resource in this
case the F XML file that we want so
we're going for each screen we should
load the F XML file and associate an ID
so what we're doing is once we load our
resource we can actually get the
controller from that parent so remember
we load XML file we again has a tree
structure we need to pay for data tree
structure and from that tree structure
we can actually ask for the controller
so we can get the controller right
remember I can actually cast to a
control screen because we modify all of
the controllers to be type control
screen so we can actually cut a class
cast to control the screen right once we
know the controller screen remember they
know how to set the parent so they need
to know about this class this is one we
inject the main screen controllers here
to each screen so each screen knows how
to get here for transition between
screens and finally what we do we add it
to the hashmap write the hashmap
that we just have here okay to this hash
map again we are loading the F XML file
and we're storing that tree structure
that we got in this hash map
but we are no any place we are not
adding it to the scene graph yet we're
just placing them for future use
okay then we need a last method is that
a second method is set screen set a
screen is actually the one to show a
screen right so by providing a name an
ID the the framework should be able to
display a screen right so what is the
first thing that we need to do we need
to know that we do have a screen loaded
right if we already load some of the F
XML files so if we did load it if it's
not know do something if it's no of
course we're gonna say hey listen there
is nothing there is no screen that has
been loaded so you hey guy you have to
give me an F XML file okay if we do have
a screens available we need to find out
if this is the first screen we are going
to display right so if we realize that
there are no screens display we just go
ahead and display the screen so this is
the simple scenario first time we start
my application what do we need to do so
we are getting the tree structure of the
main screen of the name of the screen
that was given by name ID we get that
tree and we added to the seeding graph
see that we're getting the children for
scene graph and we add in it okay and
then once we add it to the scene graph
what we're going to do is the screen
right now opacity is zero right so we
don't show it with no display we have a
nice fade in animation that in 2.5
seconds it would actually show the
screen so and this is this part here you
can actually put anything you want in my
case I just want to do fade in fade out
when I show or hide anime screens in
this schedule you can put anything you
can have your screen dropping from the
top coming from one side whatever you
want to have in this case I'm just
fading in so the way I'm showing the
screen is just fading in it take 2.5
seconds
okay very simple what happened if is not
the first time we display a screen that
means we are transitioning from one
screen to another so this is a trick how
do I transition between two screens the
way I did it and again you can actually
do it differently in my particular
scenario I have a common background all
the casino screens has a common
background so that allow me to do a nice
transition between the screens so I just
load and unload all the components from
on the screen at a particular time so
what I'm doing will is first I have an a
fade-out animation right I want from the
screen being display that opacity is 1 I
want to go to 0 right so the first
keyframe is okay your visible opacity is
1 I want to go all the way to 0 okay so
this is the first animation what
happened
so that means I'm disappearing the
current screen and then what is going to
happen when you finish when you reach to
one second when it's going to happen we
have an event handler defined for that
so when the animation finish daven Honda
is going to trigger the handle method
what we're going to do is remember we
only want to have one screen at a time
so we remove the screen we add the new
one with a particular ID and then we
fade it in so we show the screen so few
things again we remove the previous
screen by fading out once we finish that
process we remove the screen we add the
new one and we fade in because that when
we add the new one the opacity is zero
so we want to actually nicely show it
again two main animations you can do
anything you want to hide your previous
screen and to show the new one so as you
can see the framework is very simple but
I just take up
take advantage of of animations and it's
very simple now finally you need to be
able to unload a screen right so when
you unload a screen basically you
provide a name and you just remove it
from your hash map and if that
particular screen wasn't in that hash
map it's just the data screen actually
didn't exist it and that's all okay so
now that we have the framework how we
how do we use it so so far we got an
interface that all the controllers from
the F XML got and implement right we got
one class that is actually the
controller for everybody that knows how
to add a screen loads screen and
actually show it right now how do I use
this controller well it's extremely
extremely simple all you have to do is
create one controller and again load the
screens so this is when you tell okay in
this case in for this case we have three
screens screen one main screen is screen
- and it's screen three and they are
appropriate and the Associated FX
amounts okay so you have framework so
what we're doing only is loading the F
XML files and installer start
information into the hashmap
that the controller has but we are not
adding it to the scene graph then we
wanna once we have that information one
we know one the controller knows about
all the screens he has you can actually
display one so you set the screen in
this case you set the main screen so
what we're doing is okay you load
everything now is go and it's time to go
on display one and this is what we use
the set screen okay now that we have
that tree remember we have the tree
structure of that screen we just added
to your route to your scene graph and
you just display your application
extremely simple okay
now so so far we load three screens and
we presented the first one how did we
define transition between the screen so
if we go back for example to screen 1 to
the Java controller see that all you
have to you is because you already know
your parent you already know who the
controller is you can said ok I want to
go in this case the screen 2 or I want
to go to screen 3 whenever you click to
the bottoms right so this is when you
say ok controller take me to the second
screen or take me to the third screen ok
and we do the same for everybody in the
second controller we actually ask the
controller to go to the first screen or
to the third screen ok again this the
oldest code is available for you to have
a look if you want now what we can do is
we can come here and run the project run
the small framework that we do so again
very simple animations between images
between screens just fade in fade out so
fade in you can go to screen to fade out
fade in you can go to screen 3 so again
very nice transition between screens no
problem so for my application this is
actually the exact framework that I use
for the casino application and again I
think it's very useful it's very clean
way to transition between screens
very simple just one interface and to
implement and just one make controller
and that's all it takes
ok then I move to my second application
I wanted to do a UI for embedded devices
right so I was thinking maybe raspberry
pie with a small touchscreen and things
like that so having many UI components
and multiple screens wasn't really ideal
so that frame was not going to fit my
new scenario which is kind of ok I mean
there is no one solution for all
to solve each problem so I actually come
with a second idea it's actually and
something commonly used on a lot of game
programming for cell phone and stuff
like that where you load everything let
me run the application you load the
entire you have a big background image
but we only see a piece of it we have a
viewport where we only see a particular
area of the whole image and navigation
is actually done through moving that
particular viewport so completely
different scenario let me just run this
second I wanted to do out of thinking a
little bit out of the box kind of
application screens need to with JavaFX
the flexibility so much I kind of liked
the idea of getting out of conventional
applications this application you can
see it is very intuitive it doesn't have
the common buttons or navigation but you
can easily see like all explored I bet
if I click here I will go to explore
right so I can actually go back so you
can see that we are transition from one
to another you can go to suburbs so tabs
don't have to be boring you can actually
personalize there is a heavy use of CSS
styling for this particular application
you can go shopping and you can have a
you know all sort of shopping in this
area again there is no instruction but
you know the old places so navigation is
very dynamic you can actually change
here let's say ok I want to go to the
aquarium and this is live data of the
scene in the aquarium you can have the
satellite image so again the very simple
let's go back and I can see the weather
this is back to you this is a video for
back to Java one so that was during this
period of time this
the particular weather and then you can
always come to cities and you know for
example or I want to go to Melbourne
instead let's go show me the home and
then you're back so again a very
different sort of navigation and again I
don't think we will need a difference F
XML files for this or one framework what
I want what I did for this particular
application is if we do the F XML file
it's a big screen it's just a big image
in the background and I just move the
viewport around it so everything got let
me just try to zoom this out a little
bit so you can see there is one big
image right then you associate
information to it so it's one background
image and you just transition between
this right so you just see that
everything the background is there all
you need to do is populate provider
information and move the viewport
through it okay so again very different
scenario big background everything gets
loaded because there are no many UI
components there are very few UI
components and again having one see how
there is a big long Sidney image so when
you move when you transition you seems
to be navigating very nicely give you an
extra nice navigation effect without
costing anything because it's just an
image in the background but it just it
does look good this is just default
information that gets updated ok so
again a new scenario there is no simple
solution for everything so I do
encourage you when you create your user
interface think about what is the best
solution for the whether you're trying
to achieve sometimes if
will may work sometimes in minot or
sometimes even you have a different idea
of a different framework which is fine
I'm just my whole idea is just to
provide a little bit of insight what I
did and I hope you enjoyed thank you so
much for joining us today it was Angela
casado again all the blog information
you can look for my blog at Oracle comm
what it has all the information about
how to build these two application thank
you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>