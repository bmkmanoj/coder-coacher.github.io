<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Interview with Brian Goetz and Stuart Marks on Lambdas | Coder Coacher - Coaching Coders</title><meta content="Interview with Brian Goetz and Stuart Marks on Lambdas - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Interview with Brian Goetz and Stuart Marks on Lambdas</b></h2><h5 class="post__date">2013-11-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uK0G-VxoVOI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright so we're here at devoxx doing
live streaming and now i have with me
stuart marks and brian gets and we're
going to we're going to have a little
informal discussion about lambdas if
you're watching the live stream in night
hacking calm pop open and chat and feel
free to ask us questions about issues
you've had with lambdas or syntax
scotches or anything else because i
found brian is irreplaceable in terms of
just having all the lambda constructs in
his brain and immediate response time
with with answers which are more right
than what i come up with when i try
doing this so first let's introduce
brian us a little got yourself yeah so
my name is Brian gets I'm the Java
language architect I've been at sun /
Oracle for the last eight years or so
and for the last three three and a half
years I've been working on adding
lambasted Java so this has been pretty
much what i've been eating a breathing
last last few years all right hi my name
is Stuart marks I work on the core
libraries team on the JDK and OpenJDK
and I work with Brian on lambdas in
addition to doing a bunch of other stuff
around the libraries okay so we'll we'll
start this out I'll start with some
softball questions and we'll see where
things go with this so one of the one of
the things I've noticed there's a lot of
conclusion we confusion when you talk
about lambdas because it's about the
language feature and it's also API
changes and in my opinion the API
changes are actually in a lot of cases
more important than the language feature
even though you need the language
feature to to have the API changes so
what what are your thoughts on on the
api's in the Java libraries yeah so the
way we look at it is language features
are not an end unto themselves you know
language features or enable errs and
feature like lambda enables a lot of
good things to happen enables us to
write better libraries it enables us to
expose parallelism in the morning
for a way but the libraries are what the
users are going to be interacting with
on a daily basis you know one of the
Javas strengths has been its libraries
we have lots of great libraries for
doing nearly everything and in a sense
like the libraries aren't an end end
within themselves either right really
what we want is for people to be able to
write clearer cleaner easier to read
less error-prone code and so there's
this sort of light chain of conspiracy
here where we add the language features
so that people can write better library
as we write better libraries so that
people can write better code and that's
really weird what we're aiming at okay
so if you could give advice you
mentioned other people writing libraries
if you could give advice to people who
are picking up lambdas and thinking
about trying to adapt or create new
api's with lambdas what would you what
would you recommend so you know one of
the big challenges you're so next
question is yours too okay so we we've
delivered one major new API in Java 8
which is the streams API so this is the
API we're using for bulk bulk operations
on collections so you can do you know
MapReduce type operations on existing
collections and there was a pretty
significant API design effort that we
went through and you know we went
through quite a number of iterations the
API before we found the right way to do
it so it's even though lambdas are a
feature for writing venter api's they
don't guarantee that your API also be
better you can write terrible api's
using lambdas just as easily as without
and you know so one of the things that
we leaned on really heavily is
encouraging people to express things as
functional transformations that the the
lambdas that you pass into a library
should be pure functions that don't have
side effect they don't have state and if
this is a bit of a shift for the way
java programmers program so we found
that it was not enough simply to write
these api's but we sort of had to give
people a lot of examples of you here's
the way you might be inclined to write
it at first but actually here's a better
way and he
why this way is better and let people
absorb why why that's better and I think
it's going to take a little while for
people to get the hang of it but it's
it'll be a fun trip okay all right sue
Stu's turn yeah I wanted I add to that
of course everything everything bryan
said is very very true but when we're
designing new api's with with lambda i
think i think there's a learning process
to be done there as well I think the
streams API evolved quite a bit over the
past year and a half or so something
like that about that yeah and so part of
it was I mean just just playing with it
and evolving and so forth in talking to
people about lambdas I was soliciting
ideas from people just in conferences
and casual conversation and what kept
coming up was oh wow if you had lambda
you could put up for each on this before
each on this because this is kind of the
easiest thing to understand and well
yeah right but but it sort of it's the
first thing everybody comes up with and
we've done some of those right so you
can do for each on a collection and pass
it a lambda and that's and that's a fine
thing to do but there's so much more and
and so you get one is kind of a failure
of imagination you have to break out in
the notion of well if I have a
collection of things or an abstract
collection of things just for each over
it there's so much more to do there's
sort of there there are other things
that are slight step away like an
executor round pattern that that's
amenable to lambda we could build some
more of those in there's this there's
this reactive programming stuff with
with you no promises or completa
bellucci as its as it spelled in Java so
you can you can start plugging lambdas
into things like that and really come up
with new constructs that we haven't seen
before and and we're all exploring that
now so we have to open our imaginations
and try to come up with better ap is
that that we just couldn't think of
before we had lambda and and and one
thing to add to that is you know
historically Java has been focused on
abstractions about data right so we have
inheritance where you can say you know a
dog is a special case of an animal and
that's mostly about the state of you
know you know
of the object as opposed to its behavior
we have generics that allow you to
abstract over a list of something I'm
not going to tell you what it's a list
of but here are the things that are
common to all lists Java hasn't
historically done as good a job as a
distracting over behavior and so now
that we have lambdas it becomes easier
to write api's that abstract / behavior
not just do this thing for every element
of the list but do this before you start
do this after you're done if you run
into an error condition do this and and
sort of pass in these snippets of
behavior and let the library orchestrate
the control and that's that's a really
powerful thing okay so it almost sounds
like there could be a renaissance of new
frameworks and api's and libraries which
are built specifically for use cases
with lambdas where previously it was not
syntactically elegant or easy to to see
what the flow of the program was
previously so what's your what would be
your favorite library you'd like to see
besides the ones which we've already
been lamb dies what's your favorite
library that you'd like to see be given
a stateless or a call back or a lambda
i's pattern well I don't have a favorite
library but what I'm what I'm doing is
kind of keeping my eyes open for
opportunities to upgrade existing
libraries and so so for instance
yesterday we have this hack regard the
session about about lambda and I really
had well I didn't say I had no ideas I
had nothing but just a handful of ideas
and one of the things that has been on
my in the back of my mind for a long
time is if you've ever done any user
interface programming you there's swing
swing utilities not invoke later where
you're on some thread and you want to
get something performed on the event
thread historically that's taken a
runnable you can use you can use a
lambda with that today and that's fine
but you cannot return a value from it
and so you you have to stand on your
head if you want to get something run on
the event thread and return
value and so we need is a new API that
doesn't take a runnable but instead
takes a supplier which is a functional
interface that returns a value and then
actually just be for reasons of flow
control control flow excuse me we
actually want that to return a future so
spin reimers and i hack that up
yesterday so we have prototype and an
API and stuff and I should I think I owe
some some more publicity to that but i
think that's that's a very important
point because we knew the the api there
there is an api there and you can use it
with lambda but it's an attic it's
inadequate and so we need to upgrade
things like that they're you know
they're I'm sure they're you know as we
work with things now that we have a
better idea of what we can do with
lambda as you use the you know
day-to-day existing libraries we keep
stumbling across things oh if only this
had another API that took a lambda and
did that and I think that's going to
come up a lot over the next year so
that's kind of what I'm on and a lot of
that has already started that if you
look at the api's that have been
developed at least in the JDK over the
last year or two like jsr 310 daytime
api or the JavaFX api's you know the
guys designing these api is they saw
where the language was going they knew
that this was going to be important
thing and so they were careful to design
things so that yes today maybe you have
to do with inner classes but when you
know what you know when jdk 8 is out it
will work nicely with lambdas and so
people have already been thinking about
this and I expect we'll see once once
JDK finally goes GA which is we would
like to be tomorrow but you know is
still a few months away I think you'll
start to see a lot more energy you know
people building cool stuff and I've seen
a couple of uh you know a couple people
tweeting about test frameworks using
lambdas and test testing is a great you
know great example of something that
lambdas makes easier to do to do so I
think that we're gonna see a lot of
creativity
yeah I actually back in the day I wrote
a behavior driven development framework
for JavaScript I remember that i saw
your talk about that here a couple years
ago so that that's something which you
could actually do like you know with the
lamb to interface and make a more
readable syntax than you can today just
doing an impure Java code with the
current BDD frameworks yeah yeah
absolutely okay so talking about hacking
you were mentioning you and so then
we're hacking this is also a good time
to announce that we were going to this
is the beginning of what we're going to
continue in January as the first episode
of am of a regular bimonthly hack
program so for the first episode I've
invited Brian and Stu to to be are our
resident interviewees and and hacker
leaders and got interest from the NL jug
the beach ugh the guys in Germany people
so missing ljc and Iceland the Iceland
jug is also going to be joining us for a
live hack session where we'll be both
showing presentations on lambdas and
giving people the foundation of what
they need to do with it going through
some lab contents which stew and the
team has put together to really teach
you land us and also doing some hacking
where we can get direct feedback from
from Brian and stew on what the you know
a lot of cases my my feeling is when
you're starting out with lambdas you it
takes a few tries before you really get
comfortable and you find the right
patterns for things and once you see the
end result it's obvious here's like oh
of course I should actually do a map and
a fold enough but until you until you
get comfortable with the api's you end
up doing weird things like for eating
and then passing in big long lambdas
which do way too much work in our state
full and it's down so it would be good
to have you guys show some good patterns
but also troubleshoot some things which
people might not easily be able to to
tell just on the cuff yeah I mean and we
done a number of you know hack days in
various cities during the development of
the future to get feedback for people
and it's really fun it's really fun to
watch people you know start
experimenting with this and say wow this
is easy oh it's worked exactly the way I
thought I didn't think this was gonna
work but it did and you know it's fun
yeah yeah I think there's there's a
certain amount of that going on I think
we'll continue that in January but but
what's what started to happen is on on
Twitter remember that Twitter exchange
we had with somebody where he said I
wish there an API that did this you know
can we can we add that and your response
was oh actually if you combine this API
in that API different way you can do it
in one line and so in a sense it's
already there right and so so part of it
is we have a we have an existing rich
API not not only the streams API but we
sort of sort of lambda phi door stream
ified a lot of the the existing JDK
libraries but there's a long learning
process for putting you know putting
those pieces together it's very rich and
the way that things can be combined is
is pretty pretty significant and then so
you had an interaction with Kirk
Pepperdine at or dev and so he actually
has a blog post recently with the past
couple days where you know he he bumped
this into some stuff and he said I don't
know about this right then then talk to
you about it and said oh that's the way
to do it you know I'll pop this perfect
solution and I I don't know if I've had
exactly the same experiences but you
know people say I'm you know I'm trying
to solve this and it's not working oh
well just do reduce such a so such as
out it out pops a nice solution so
there's this learning process that I
think everybody has to go through to
figure out how to use the stuff that's
there effectively and it's not always
obvious but the pieces do fit together
very well and there is this definite
sense of you know I may be what you were
looking for wasn't obvious but then
someone sees the right answer and then
that's obviously the right answer and
that's really satisfying alright cool so
actually a bunch of folks have joined us
on the stream so it's excellent that
folks are tuning in for the live stream
but this also beyond the night hacking
site not hacking calm and parlays if you
want to watch it late
and I want to thank you guys for hopping
on short notice to do a quick interview
so appreciate it and enjoy the rest of
the DevOps conference
please</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>