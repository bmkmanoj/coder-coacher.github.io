<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Illuminate Demo with Kirk Pepperdine | Coder Coacher - Coaching Coders</title><meta content="Illuminate Demo with Kirk Pepperdine - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Illuminate Demo with Kirk Pepperdine</b></h2><h5 class="post__date">2014-03-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xRnooCrbgB8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">tickets to the State Opera House in
Vienna to see the Black Swan she just
goes all right so this is Steven Chen
and I'm doing a night hacking European
tour my first stop is in Munich and I
bumped into this on the stranger you
don't you don't live in Munich do you
Kirk
no I don't live in Munich I actually
live currently live in a small village
outside of Budapest nestled right up
into nice little Mountain Valley cool so
fun for folks who don't know Kirk
pepperdine is a performance tuning
genius and I don't have no idea what
he's what he's doing out here but we
figured we take advantage of the fact
that he's physically out here too to see
comes some of the latest stuff he's been
working on so what would it be what have
you been working on her well what have I
been working on well you know as always
what we've been working on or what I've
been working on is trying to figure out
better ways for people to get to the
root of their performance problems
faster and so we had our team in London
or Jay clarity team actually banging
away on some what I called different
types of profilers and all the profiles
it says is your traditional histograms
and it's beautiful yeah okay so your MIT
profiler
well if I want a traditional histograms
and that type of profiling I'd use
NetBeans wood night probably using
emptiness profiles that's a good tool
want to be talking about now we won't
mention the others but but you know so
there's no point in going down that path
because that's a path well run so we
figured okay what are those tools give
you right well they give you a a nice
histogram yeah and if you happen to
collect the right data then the
histogram is meaningful and you can get
some information out of
and you know if you can use that
information to figure out what's going
on your application in tune yeah yeah
that's the call and if you happen to
collect the wrong data then you can
spend a lot of time going down a really
bad path then you can spend a lot of
time go down really bypass right and you
know so part of the methodology and
stuff that I've been teaching in my and
my performance training courses how to
make better decisions as to which path
to go down and so the guys looked at and
said yeah we can code that we can
actually write that in your program and
I said okay well I'm glad you can
because I certainly don't know how to so
they took a bunch of these so that this
involve a a brain scan that you have to
go in and get your your your cranium
physically scanned
yeah the twitches apparently just
temporary and if I'm around sharp
objects you might want to be leery like
that but yeah no it's more like a
whiteboard type session where we just
drew out decision trees well how do you
tune a system that's a big decision tree
right and you know there's a little bit
of learning algorithms that go on and
that was the hard part where I left out
of the set okay you know you guys can do
that I gotta tune it you know you guys
can figure out that stuff right so you
know so it's it's kind of it is you know
getting the views themself with the
other part of it is knowing which view
we need to get and that's where all the
smart stuff happens and this particular
profiler it's like figuring out okay
this is what's going on inside the
system and let's use that information to
get a view of what's going on in and
let's not give people a histogram let's
just tell them what's going on inside
the applications that you're just gonna
give them the answer without even making
them work for it
that's the idea oh they don't have to
work for it anymore right yeah that's
that's the modern age we want instant
gratification even on performance
perfect well you know if you're hunter
you know how it's like you know
well if you find the deer you got your
bow and arrow and you basically like
take it down and drag it home for now
you know someone to cook it up for you
right yeah and it gives you that
gratification you know that you've
you've hunted down that performance bug
and it's like you know you're the hero
all right so why don't you show us the
the weapon of choice
okay love the screen so they give them
the warning about how yeah yeah boring
what warning here most warnings are
awesome yeah we I mean we don't have
like blinking things and flashy things
going on but you know but what we do
have is a bunch of servers set up in the
Amazon and they have an application
that's been configured to basically
perform poorly okay like well that you
had to work to make this perform poorly
whereas most of our applications just
son yeah you know cuz I'd like to tell
people it's like I get paid to write
applications that don't perform it's fun
and sometimes it's not as easy as you
think I mean of course you can write an
application that performs very poorly
but to write it in a you know believable
way yeah so it doesn't look like a work
of fiction so much well anyways so we
have a so we have a bunch of
applications running here and there's a
whole bunch of things wrong with them
now just for the benefit of everybody
looking at this particular dashboard you
can see that we've conveniently named
the server after whatever's gone wrong
now yeah a little bit about how this
works right so we have the in this case
amazon running the server and we run a
little demon beside the server so it's
it's running inside the server there
right but it's really quiet it's not
doing anything you besides taking up
minimal amounts of memory you're not
actually that I even notice that it's
there okay and then we have this
dashboard that basically connects out to
it and if we run around a diagnostic
then it's no problem I just go here in
this case I'll say let's diagnose saver
all of these guys and back well yeah
we're taking another cloud now now we're
taking down cloud exactly no no even the
diagnostic algorithms actually are
written so they run very very light
again if we are you know one of the
ideas that we have internally is that
it's your hardware not ours so we don't
want to use anymore than we actually
have to in order to get the diagnostic
done so we want to be really really
minimal right but you know the advantage
of this is that you know how you get
something to scale yeah do less yeah
it's a good approach right so since this
does less we should have a really good
chance of scaling out beyond what the
current limits are I I think the current
limits for good scalability runs
somewhere between a thousand to two
thousand virtual machines in that range
depending on who you're using we
hopefully should go beyond that nice
that's what we're hoping to go beyond
that by hopefully at least one order of
magnitude we'll see if it all works
right that's that's the whole plan there
anyways so I see some some results there
we have coffee cups yeah this I don't
know who's actually changing the icons
here but we have funky icons I guess
related to the different underlying
problems here and so let's just take a
look at one which one do you want to
look at I like the garbage can you like
the garbage can okay so you know I like
starting the dumpster so let's start in
the dumpster okay
so there's some garbage collection
problems with this particular server we
can look at it and we can see that Wow
here it is some nice text e stuff that
you can read but effectively what we're
saying is that we have a garbage
collection event happening 4.31 times
per second and we're spending about 86%
of our time in garbage collection right
so oh and even worse than that the 95
percent of these collections that are
occurring
like full GCC's percent yeah so so
anyways so there's some really bad stuff
happening here and you can see a
breakdown of what your CPU is doing over
here just a little bit of information
that we give yep and so now the next
step is to actually go into your
application and deal with the garbage
collection issue yeah so that I don't
think you need Kirk pepperdine to tell
you that you have a garbage collection
issue by looking at that probably
probably not you know but I mean but if
you you know if you'd like I'd quite
happily come over and visit you tell you
any videos collection lots of the UI so
right okay so what else do we have in
here we've got an action plan and so
it's basically saying okay so at this
point what we're saying is that we need
more information and we're gonna go into
the garbage collection logs right now
our guys in London are basically going
working on something that's going to say
scrape the garbage collection logs and
do some analysis huh no actually in live
production system UI it's my opinion
that you shouldn't really be scraping
garber special logs garbage collection
logs are fantastic for static analysis
yeah but there's information that we can
get what we can actually do a dynamic
analysis that's probably four run times
it's more powerful than what's what's
currently available you know in most of
the tools that are out there I think and
all the tools that are out there except
for maybe actually I don't know any well
it's just ignore that part but you know
my bash the competition they can do it
themselves so anyway so this will give
me more information as to exactly what's
going on maybe configuration issue maybe
it's a it's an allocation rate issue but
whatever the issue is is like you know
and then you know we're very confident
that this is going to be an underlying
issue okay let's take one other and go
through ok which one which one do you
like
oh here threads are waiting on the
external system so we just I should just
say that one of our consultants just
spent
twelve hours with a client well to be
honest he didn't have proper access to
the system that there's some wacko
reasons but he's been he burned 12 hours
available basically figuring out what we
just figured out here in a few seconds
right threads are waiting on an external
system right so you get thread pools and
and you got requests coming in and they
get backed up in a queue and they're
waiting for threads like where's my
threads well they're all off trying to
do something else against some other
system someplace else right and you know
here we are right so Jay clarity Java
simulations nothing waiting on socket
server nice nicely named classic yes and
you can see that basically here you look
you know their system is mostly I
there's really nothing going on here and
here we're getting a little bit more
information so that we can get causal
execution right so now we know exactly
what you're saying it shows you a
different sort of diagnostic information
based on the type of her you're getting
so Taylor is the report of course we
want to give the best information
possible for the underlying problem
right and and not all of us are equal in
this case okay
and again there's an action plan here
you know against some of this some of
this some of these things are kind of
points you it points you in the right
direction to kind of start diagnosing it
further yeah so at this level of
maturity we're saying okay we're you're
we're gonna point you in the right
direction
and as we're building out the tool and
basically eat up the decision tree we're
gonna give much more detailed
information over time on each of the you
know specific branches as we travel down
them there's certainly a lot of things
that we can do in terms of too much
context switching that we're currently
not doing but you know yes this is a
this is a work in progress I think you
told me before we started this is the
first this is
first demo I've done we've actually done
yeah this is the first live demo we've
done out cold wild like this so you saw
it first on the night packing on night
hacking that's for job a tour we have we
do have customers actually using it in
their production environments oh right
that's scary no that's it's working a
quite nice affirm they're very happy
about they we found a number of
significant bugs in systems and they're
quite happy about how much time we've
been able to save them in terms of being
able to get through diagnostic processes
and give them something you know like a
report that they can send up or put it
into a bug system or something like that
hey guys so yeah so here's another one
and you know that there's a bunch of
other features in here but basically I
think the gist of it is you know here's
something that gets to the root of a
problem in your system nice okay so how
it folks find out more about J clarity
and the tools you guys have well you can
go to of course www clarity comm
which is a mailing list and where we
have a number of performance discussions
happening there somewhat randomly oh
it's a good place to sneak in
performance advice from from you and
friends there's there's some very
interesting people on the list I have to
tell you I think I learn as much from
the list as I contribute cool there's
some really very clever people there
that I have a lot of respect for that
that are just willing to look at a
problem and say hey you know no you know
I mean no no no to solve your full
performance problems but you know if you
come in with specific questions they'll
say yeah this is how things work cool
and in just an hour from now
actually you're you're I am a audience
member for the upcoming event you know I
need to pull out all the way from hungry
just to watch I'm just gonna be your
Lackey and microphones around and things
like that
you know pop over here turn it so yeah
don't come on Antonia yeah you can you
can just slide in here borrow my bike
hi-yah
alright so in just an hour from now
we're gonna have our main event a bunch
of user group members are gonna be
coming here to see the Duke scripts he's
gonna give us a demo yeah we're going to
show a demo of and it's also going to be
probably the first live demo of Dukes
script at least under this name a lot of
first-time demos today I'm looking
forward to that very cool us with
McGuirk no just when the pizza is gonna
get fired up we already tried it but but
right now I was more concerned about the
beer getting cold you have to have
priorities yeah there's beer over pizza
that's a good that's a good priority all
right guy
there you go all right so thanks very
much for joining us thanks Kirk thank
you for putting this together and we'll
be back online in just about an hour
from now we'll kick the stream live
probably in the next half an hour so
once people start rolling in so thank
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>