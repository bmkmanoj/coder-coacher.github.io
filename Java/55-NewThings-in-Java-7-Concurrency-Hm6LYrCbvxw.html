<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>55 NewThings in Java 7 - Concurrency | Coder Coacher - Coaching Coders</title><meta content="55 NewThings in Java 7 - Concurrency - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>55 NewThings in Java 7 - Concurrency</b></h2><h5 class="post__date">2012-06-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Hm6LYrCbvxw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to the third edition of 55 new
Java 7 features that you probably didn't
hear about in this edition we had the
third edition that we were going to
cover is will deal primarily with the
concurrency api's that came in in Java 7
so do you give me a background a little
bit on the Java concurrency history Java
was actually designed from the very
ground up to support concurrent
programming with basic concurrency
supported in the Java programming
language and it's Java class libraries
since version 5.0 leaked and I would
often did some work in the Java platform
has also concluded some very high level
concurrency api's that came in with jsr
166 java SE 7 includes updates
concurrency the api's that were first
introduced in Java SE 5 this is an
update to an update the original
utilities were defined in jsr 166 this
was extended in jsr 166 X which was a
Java SE 6 and extended further through
jsr 166 Y Java SE 7 and this is the
first introduction of the fork/join
framework in Java SE 7 so let's take a
look first at the concurrency api s--
and take a look at phasors so a phaser
the phaser which is a reusable sync
synchronization of barrier it's very
similar in functionality to the the
cyclic barrier and the countdown latch
but it supports much more flexible usage
the phaser expands on the that cyclical
barrier as we said by allowing several
additional to new features more flexible
task support cyclic barrier allows a
single synchronization action to be
registered but phaser allows more
flexible and dynamic action it allows
party count to change over time they
phasers phases are numbered and threads
to know the phase count or available to
you termination explicit support for a
termination phase itself and also tiered
trees phases phasers I should say
concurrency api's jsr one
66 why transfer queue so the transfer
queue is a is a blocking queue in which
producers may wait for consumers to
receive elements a transfer queue may be
useful for example in message passages
best message passing applications to
which producers sometimes using method
transfer wait for the recipient of
elements by consumers invoking tank or
pole while on other times in queue a
little bits of a about that put without
waiting for receipt now not blocking and
timeout versions of try transfer are
also available here now transfer cube
may be queried via has waiting consumer
whether there are any threads waiting
for items which is a converse analogy to
a peak operation like other brach and
queues a transfer queue baby capacity
builds if so an attempt to transfer
operations bin ich liebe LOC waiting for
available space so fork/join framework
which is one of the major pieces here
and pools so new in Java 70 release the
for Coit framework is an implementation
of executor service interface that helps
you take advantage of multiple
processors it's designed to work it's
it's designed for work that can be
broken into smaller pieces recursively
the goal is to use all of the available
processing power to enhance your
performance of you of your application
now the center of the fork/join
framework is a fork join pool class and
it's an extension of the abstract
Extension Service for koi pool
implements the core work-stealing
algorithm it creates a pool of worker
threads to execute a fork join a fork to
a task now the tasks themselves the fork
joint task is a task that performs a
segmented segment of the work which is
wrapped as a fork join chess subclass
typically this is either one of the more
specialized tabs either a recursive task
or or one which is a recursive action so
it depends on what you're looking for
now example that we showed there below
here you look at
the fork toy cool this is kind of how
you would just kind of begin your
execution of everything when you're
trying to use a fork joint framework
taking a look at the compute section
here so this are a couple of examples of
how you would implement a recursive
action now or a recursive tax notice how
one of these the recursive action
doesn't return a value it's just a
recursive action that you will do over
and over again whereas a recursive tax
is something that you would do when you
want to return a value maybe you're
joining two things together and and
you're going off and and you're
splitting them up and and you want to
fork them and then you want to join them
when you return this is especially
effective when you're trying to go down
and and you're splitting your task up
into smaller smaller smaller tasks until
you get something to do into a smaller
case sir but again two examples here
just depends on which example you want
to be able to use next piece is
concurrent random numbers and for
concurrent access using thread-local run
them instead of the math.random results
in less contention and ultimately better
performance all you really needed to do
here is call thread local random current
and they call one of the methods to
retrieve a random number now you can see
some of the examples that we have in
here you would just pass maybe you want
a parameter if you were getting the next
in of the four through 77 so you could
you can define what you want which set
of random numbers you're really looking
for when it comes to the current I
concur it linked DQ this is really an
appropriate choice with many of the
threads will share access to a common
collection so if you've got a set of
collections here you want to be able to
use concurrent linked DQ class now
concurrent insertions and removal and
access operations executes safely across
multiple threads key part here though is
is it iterators are weakly consistent so
returning elements reflecting the state
of the DQ at some point or at or at
or since the creation of the iterator if
you're looking for more information on
concurrency you can take a look at Doug
Lee's website his concurrency jsr 166
interests site also if you're looking
for more information about the fork
joint framework Doug has a pointer there
for the fork join a PDF that he put
together a white sheet that he's put
together on that also the concurrency to
a tutorial is available the OTO
developer networks and then finally Doug
wrote a book it's a second issue the
first edition came out in 1989 I could
current programming in Java design
principles and patterns and they Brian
gets book on Java concurrency at
practice with the Brian gets Doug Lee
and a host of other authors as well so
this is it concludes what we do for the
third edition of the Java 7 features
that you probably don't know about when
we get to the next edition we will be
looking at some additional features
we'll be looking at some additional
features around class loading Unicode
changes yeah suite changes or GUI
changes that keep in</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>