<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JTREG Tutorial -  Part II -  jtreg testcase examples. | Coder Coacher - Coaching Coders</title><meta content="JTREG Tutorial -  Part II -  jtreg testcase examples. - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JTREG Tutorial -  Part II -  jtreg testcase examples.</b></h2><h5 class="post__date">2013-06-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VPA0DlAjvLA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to the JT rec tutorial
part 2
JT rec test case examples my name is
balachandra vitia I am working in Java
platforms group as a principal member of
technical staff at Oracle here is a
disclaimer in this video tutorial I am
going to show you huge a direct test
case examples few test execution
examples followed by a shorter demo and
there is a reference pages which has
links to learn more about JT reg let me
start with test case examples in this
video I'm going to cover test case
showing specifying VM GC and hotspot
options applied test case manual test
case shall test defining timeout in the
test source reusing the test case to run
with different VM GC hotspot options
compiler tests a negative test and OS
platform checks example 1 specifying VM
option VM options can be specified with
at run main other VM action tag this is
equivalent to invoking Java VM options
example to apply test case run a plate
example 3 dot HTML means run the applet
specified at a plate tag in example 3
dot HTML this is equivalent to invoking
applet we were example 3 dot HTML manual
test case at the run a plate slash
manual equal to yes or no example 4
dot html' means run the applet specified
at a plate type in example 4 dot HTML
but tester needs to interact with and
choose whether the test is pass or fail
note that openjdk tests workspace
provides convenient helper classes to
display test instruction to keep
consistent look and feel shall the test
at run shall example phi dot s h means
invoke example phi u dot SH in Bourne
shell defining timeout at run male slash
timeout equal to 240 example 6 means
this test case is allowed to run 240
second maximum if test takes more than
240 seconds test exit with timeout
interrupted error this is useful option
to avoid test hangs reusing the test
case to runaway the different VM or GC
or hotspot option this can be achieved
by specifying run main other VM action
tag multiple times in the test source
this means the test case or JT reg
invokes main method multiple times with
the different VM hotspot or GC options
this test case generate only one output
file and test fails if any one
invocation of the main method fails this
is your very useful option if developers
think that same test case should be run
with multiple hotspot GC options
compiler test at compile example 8 dot
Java means JT reg will compile the test
case and if the compiler
succeeds test is considered pass this is
equivalent to invoking javac example 8
dot Java negative test at compile / fail
example 9 dot Java means compiler try to
compile the test case example 9 dot Java
and test case is considered pass if
compilation fails here is a note the
option slash fail can be used with the
main applet and shell tests but such use
is discouraged OS platform checks it is
more of a utility rather than a test
case there are numerous situation where
a feature and thus the test case is
applicable to a particular platform in
such situation writer rapper shortlist
check OS name and if test is not
applicable to a particular platform
simply make the test case pass instead
of if statement case statement can be
used as well however note that such test
case filtering is not allowed if the JDK
feature is applicable to all us
platforms let me now move over to test
execution examples using jetty reg to
pass vm option from command line pass -
viim option to JT rake command you you
can use vm option multiple times to run
all tests present in a directory
specified directory name that contains
jetty req test cases to run all manual
tests present in a directory use - M
option with jetty reg to run all tests
with specific keyword use - k :
key world option with JT Reich that key
world should present in test dot root
file to run all automated tests present
in a directory use - a option with JT
rake to run tests in concurrent mode use
- concurrency option with JT reg
concurrency option can be number or auto
note that tests with the same Veeam
option cannot be run in concurrent mode
to increase timeout requirement to run a
test use timeout factor option with JT
rake this is a scaling factor in
multiples of 120 seconds to exclude
tests with known issues use - exclude
option with JT rake to rerun only the
tests with error status use - status :
error option if you want to run tests
with fail of error and fail option use -
status : error comma fail option with JT
right there are many more options best
place to refer online help by typing JT
reg - H or JT reg - online help now let
me move over to demo here is a demo
source code that I have covered in
previous slides so to execute automated
test out use JT rake - were pose :
summary - say I usually like to execute
tests in concurrency mode let me use -
concurrency equal to our toe and I want
to execute all automated tests in
current directory so JT I created
JT Report and JT work directory because
those directories were not exist so test
result has eight test cases passed and
there are three test cases failed let us
look at why those three tests are failed
let me start a browser so three s add
errors let me click on your okay this
error dot HTML file you can directly
access this file as well
example 11 torch our failed with invalid
key ABC and example 13 dot Java and
example 6 torch our failed with
interrupted timeout now let me look at
me look at example xi dot Java example
11 dot Java okay example 11 dot Java has
a key tag with ABC or jetty rec to is
try to parse test dot root file to find
key ABC let me look at a start root file
test rot root is an empty file that do
not have keyword ABC let me add that
keys a
see and let me save and close' test dot
root file and example 13 dot Java and
six torturer failed with timeout
interrupted instead of modifying the
source let me increase the time
requirement to run the test using
timeout factor so let me execute the JT
right
- well pose summary - automated and I
want to run everything all the tests you
using concurrency mode at all and I want
to increase the timeout factor timeout
factor to say 3 and execute all the
tests see if any if the results get
better in this case test result has 10
past test cases and there is one test
case is still failing let me look at why
the test case has failed
example six dot Java still failing with
the timeout in this case example six dot
Java may need more time for completing
the test execution or this test case may
be bad our test case may need some
rewrite work let me leave that example
there let me back to demos again now let
me execute all the tests which has
keyboard ABC to do that JT rake - were
posed summary - automated - equal to
auto - k :
ABC dot this will execute only tests
which has keys tag that's matching with
the value ABC ok in this case only
example 11 dot Java has keyboard ABC let
me execute manual test case
JT rake - verbose summary - M option and
run the tests in the current directory
the manual test case has instruction in
the instance this is visible in
instruction window and tester how to
read the instruction and then follow the
instruction and if tester feels happy
tester can click whether the test is
fail or past to pass vm option - vm
option can be used with JT right to do
that JT rake
- were posed summary - automate eight
concurrency equal tato use - VM option
sailor to run all the tests wait the
parallel GC minus xx : + use parallel GC
now how do we know that sauron with
parallel GC this can be seen at
environment file that is located at HTML
jetty report HTML directory let me open
today report HTML directory
it has env dot HTML file and that's NV
dot HTML file if you scroll down a bit
it has all the environment variable used
for running the test command we are
interested in is the Sun Java dot
command this has exact command line we
used to run the test
it has VM option use parallel GC to
create test reports in alternate report
and work directly minus R and minus W
option can be used like JT rake - were
posed summary - are my report and - W my
work and not automated tests use our -
and specify note that JT rake in this
case created directory my rep and my
work so those two directories was not
exist before if you don't specify - are
and - W always default directory created
our JT report and JT work now report is
found in my report directory okay let me
move back to presentation there are a
lot of information about JT rake
available on open JDK torch our dotnet
website code tool project
sources for JT right which one can clone
play around contribute to JT reg all the
emails sent to on JT reg dev alias has
been archived and is available on mail
dot openjdk door java.net website and
there is a openjdk wiki page that has
some additional information about
rhetoric including slides for this
tutorial
if anyone have any questions about devil
about JT reg development related issues
and emails to JT reg - Dow at OpenJDK
dot java.net alias in addition to that
JT rake bundles fa Q's and tag
specifications more information about
satellite can be obtained using JT reg -
online help or by simply typing JT rec
space - help this is end of part 2 of t
t-rex tutorial part 3 covers testing G
support in jetty rake thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>