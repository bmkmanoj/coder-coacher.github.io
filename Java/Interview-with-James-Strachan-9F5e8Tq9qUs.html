<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Interview with James Strachan | Coder Coacher - Coaching Coders</title><meta content="Interview with James Strachan - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Interview with James Strachan</b></h2><h5 class="post__date">2016-11-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9F5e8Tq9qUs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay hello fellow and attackers from all
over the world we here we are at the Vox
virgin I'm here for the first time not
James first time but i'm pretty sure
that many of you know here i have i have
the pleasure of having James tracking
with me which is also a Java champion
and you might know him because he did
some very cool stuff for the community
he did groovy Apache camo and many other
things and now he's working another
great thing another great stuff so that
we and I'm particular curious too I want
to know what have we been doing the past
back mouth sore ears yes okay so I work
on a project called fabric eight
fabricate as in to make thanks fabricate
which is really a developer platform
that helps developers get stuff done on
top of communities so it helps you
create projects build and test them
deploy them stage them it's really
really awesome I might even show you a
demo later yeah okay you're chill out
I'm always to lowes can't wait to do a
demo now or should we just chat o.o
whatever whatever should I show you
fabric it is a easier yeah why not okay
you talk about fabricate but a way of
doing your pastor yeah like going faster
so increasingly we're all trying to go
as fast as we can with software right
it's all about speed the quicker you go
but more iterations you get the closer
you get to delivering business value
right so it's about speed and intuition
there's a whole person industry towards
DevOps and automating software and then
microservices breaking things down into
small pieces you can iterate really
really quickly then cute doctor came
along and containers a really good thing
to packaged software into immutable
images you can just deploy an ultimate
Thank You benetti's came along as a way
of orchestrating all this stuff and then
read her clearly the open shift based on
communities as a commercial distro and
then we realized there was a bit of a
gap between cuban 80s and open shifts
and what developers really really need
to get stuff done so to automate the
creation of all their projects ultimate
the system testing or
to me spinning up continue to delivery
pipelines and promotion between
environments and all that kind of
malarkey so yes so what I just show you
a quick demo that's maybe the easiest
way i always find it's easier just to
show fabricate and explain it it's kind
of tricky to explain these abstract
things it's easy just to show it so the
screens basic showing the fabricate
console right and each team have their
own environments as you start developing
an amicus ovies kind of where each team
needs their runs place to work right you
want you want your own testing staging
production environments so here I've got
the team called default which is a
really bad name for a team I should
really change it and that might work
starting we took the call team or we
should call it something a bit better
okay so if we look at the runtime this
is the runtime environment that's
running in the runtime environment this
is where all your developer tools would
would live so we have things like we've
got Jenkins in there which is going to
be to our CI CD jobs we've got nexus
which is going to host all of our jars
and Wars and ears and palms and all that
kind of malarkey but we've got something
called gogs which is a get hosting
solution it's like an open source
version of github right there runs on
premise we got something going fabricate
Forge which has all these developer
tooling with wizardy things to help you
create projects and things like that and
a couple of implementation details and
this this beautiful console as well
which is willing okay so that's what's
running on the machine by the way it's
crazy easy to install all this stuff let
me just show you the home page if you go
to fabric 82 I oh and you scroll down a
little bit if your screens a bit small
and you click on that Big Green install
local button it basically tells you how
to install it locally on your laptop you
basically download one binary and then
you type go fabricate start and that's
pretty much it everything you see here
will just boot up and run right which is
which is really really cool okay so
everything's buoyed up and run let me
start the home pitch against to avoid
confusing you if I click on the team
dashboard I've already created a project
already to check the Wi-Fi was working
before I did the demo so let's create a
brand new application and we couldn't
call this new out please quit new app we
have a whole bunch of different wizards
we have a wizard that for using the
start spring to our website where you
can pick all the
and start the things of spring we have a
similar thing for one place warm we have
examples of vertex camel Swift Django
net we're going to do a spring boot
microservice here and we're going to
call it awesome their books and we'll
click next now it's going to give us a
whole list of different Jenkins
continues to live your pipelines to pick
now remember we're trying to go fast and
we're trying to automate everything now
Jenkins has a new thing called checkers
pipelines which are defined in a text
file called the Jenkins file which is
groovy which is really goofy the only
kind of issue is you then have to write
all these things in groovy and not
everybody knows movie yet I mean I'm
sure it will be fun learning it so what
we've done is create the whole library
of different Jenkins files you can just
pick to get you started to avoid your
having to sit there with a blank page
thinking how do i do things so a whole
whole bunch of these Jenkins files Oh
exposing Ponte let me click this one
which is going to do a canary release
it's going to do a system test it's
going to go to staging then with human
approval is going to go to production
okay so what we'll do that one so we
click that and we'll click Next so I've
literally pressed I've clicked three
times and I've typed a string right and
then now what it's done under the covers
is is created the source code for this
spring MVC spring boot microservice it's
creating a git repository it's checked
in the code in the git repository it's
created the Jenkins file check that into
the gay propose to you as well create
the Jenkins job create a web hook but
whenever you do a commit on the gate
repository will trigger a Jenkins build
and it's created the environments for
you let me just kind of show you this
build is going to take like maybe a
minute because it's running on my laptop
while this is running you can see we've
got empty environments with nothing
running in them testing staging and
production we can see the pipeline has
started the builds released pipeline
started in the log Stein to fly by while
this is running I'm going to switch apps
so first of all let's switch we have
lots of different software tools these
are the basics but eventually you can
have things like cern the cube and gary
eight and hystrix dashboard and zipkin
and cabana and Griffin there's a whole
raft of different developer tools you
might be using so this is a handy little
menu to switch between all the tools
you're running on top of communities
right let's look at Jenkins
this is the traditional Jenkins way
defaulting to the new blue ocean look
and feel so it might look a little bit
different the old user interface is
still there if you just delete that URL
this is the traditional user interface
which should the right there you go so
so now they look familiar now looks
familiar but I better go back to that
although using the face because he's
cooler so let's go back to check id's
because it looks really really cool like
this it looks beautiful so what awesome
dev box was the project and we can see
there's one build running right now and
if I click on that build we'll see this
is the visualization of the bill
pipeline in the in the new look and
feeling Jenkins which is really
beautiful I find myself just watching
Jenkins quite a lot now because you look
so lovely and you can see like a
visualization of the stages of a top and
so forth better than that flicks it
depends what you watching guess but okay
so so that's Jenkins we've got the
jinkies job there let's also see the
other thing oh you can see the system
test is running now so we've we've
tagged everything in gate we've built
the jar it's the jars gone into Nexus
which are showing the moment it's now
running a system test which is taking
the Cuban it is manifest using the
testing environment is it's deploying
this application into the environment in
testing and then it's got a killian
based j unit test that's asserting the
new application starts up and stays
running for a certain period of time so
we're testing here that the cubed letÃ­s
manifest works the docket image worked
the liveness checks that we
automatically added to the thing checks
it's alive checks its ready that it's
serving traffic and everything now it
doesn't automatically generate any
application specific tests unfortunate
you have to write those yourself ok
shame but somebody has to do something
right so so at least you have to write
some killing by some tests but a problem
that we test at least the basics right
that went green so now it's
automatically staged the staging
environment if you quit you'll notice it
starts blue and then goes green if you
color blind that's may be hard to notice
we should maybe change those colors but
the basic i doing cuban it is when you
want something it starts running but
something that's running is not
necessarily ready yet in other words is
it listening on the HTTP port as it
connected to the database JVM stick a
little while to warm
up and get ready so it's now green so we
know it's ready now it's waiting for
human approval we can click this little
icon here to test out the service so we
could what we're basically looking at is
a single pane of glass is looking at all
of our environments we can see which
version of our microservices live in
each environment and if it's running and
how many pods are running how many
instances are running if I click this
little icon here I'm going to invoke the
service that's running in that pod so
I'm I'm you invoking this really useful
restful service that says hello which is
really lovely testing that before going
to production so that looks good hello
world messages go I'm happy with that
but less it's good in a minimal Viable
Product as a hello message let's go for
with version 1 first once everyone
that's okay it's like the MVP version 1
let's say hello first and then we'll add
some styling X maybe so let's say
proceed so we click proceed and then we
do the human approval and then it's
going to kick on and you can see in
production it's now deploying that was
pretty fast because we've already
created a docker image glory to create
the cuban x manifest is just a case of
spending other pods and it's blue right
now and it should go green any moment
now now one thing to notice about all of
this screen is everything you see is
pretty much clickable so you can zoom
into the Jenkins log zoom into the
pipeline each of these environments I
can zoom into the environments I can
zoom into the pod so if I click on here
I'm now looking at all the pumps running
in the in the staging environments you
can see environment is staging these are
all the pods running in my staging
environment you can see I'm running two
pods once my otha microservice that
happens to be there in the same place I
can then look at the logs for this party
staging so I can see the real-time logs
of what the jvm is doing I can open the
console and look inside the docker
container I never go where was I oh
awesome things we have more than one
part of the same application do you have
yeah yeah so let me pop into the staging
environment and let me look at cuban
aids has something called a deployment
and a deployment defines how many
instances of something you're going to
run right at any point in time you can
manually scale up or down or you can
automatically scale up and down using
auto scaling rules like if the CPU is
too high or the HP traffic is too high
so hit let's just do a manual rolling
upgrade let's turn that two three and
hopefully my little laptop can deal with
it so it is to pod started up straight
away
a blue so we have two blue one green
this is not a red green department by
the way these colors weren't meant to be
indicative of a deployment strategy so
hopefully in a few seconds time we
should go green which means they ready
to serve traffic and then whenever you
invoke the rest endpoint it will load
balance automatically over all of the
pods which is really really nice and if
we go back to our main screen again
where was I here and then click there
hopefully in a few seconds of theirs
Portugal green 16 gigs when laptops in
conference mode it's a little tired it's
took this time a few times today oh
there you go they're great so free green
so that's awesome and let's just check
it everything still works everything
still works that's awesome yes yeah that
sounds pretty cool yeah now what we
found is that we've been basically
developing we've been fabricating
fabricated with fabricated right we've
been using fabricate to develop
fabricate on top of Cuba dates for about
two years now and we found that before
we built this console we were always
looking in Jenkins looking in nexus
looking in Gog's or let me show you
those by the way just to show that that
we really gotta git repository if I look
in gogs where the git repository is that
we're looking awesome devoxx this is the
gate repository so it kind of looks and
feels kind of like github so we can
browse all the source code we can see
all the commits that were happening we
can see the Jenkins file here by the way
this is a Jenkins file that we generated
from the library and you can kind of see
what it does it defines the something
called a build pod it defines a build
pod which defines all of the docker
images we want to use so we're going to
use am Evan bill during this one so you
can install whatever tools you wish to
use in your pipeline you might want to
use I don't know selenium in a docker
image for doing a user interface based
testing you might want to use how for
doing helm based deployments with charts
you might want to use cube CTL or OC for
open shift or whatever whatever tools
you want to use you can just defining
your jackets file most importantly you
can define the versions in your drink is
file so each microservice can use a
different version of maven you don't
have to keep messing with the Jenkins
image and installing tools and plugins
and stuff like that and then inside this
little container name is maven we've got
a bunch of different functions which
implement things like doing a maven
release right tagging gate
to making the brand's pushing it into
your get source do it the maven release
to Nexus in some sort of we have a whole
library of functions that we just
iteratively built up over time because
we need to do things like often when we
do one release we do pull requests on
downstream projects so when your first
project releases often downstream
projects want to reuse some of the
artifacts like if you have a shared
library or something so we have jenkins
functions that will do a pull request
whenever you change a version and do a
release it pushes the better new release
down stream to the dependent projects by
raising pull requests to change the
palms in those projects and civil to
have a whole raft of different functions
that help you do pipelines and the magic
that loads these is this little function
let me make this bigger there's this
thing in jenkins files called apps
library that lets you refer to a git
repository and a tag or version or
branch and that library that get your
paws of you has all of these functions
defined in it so it means i can version
my functions with my jenkins files so
one thing is final can use the very
latest functions another jing is val can
stick on an old version because it's not
ready to use the new awesome that you
just created right so this allows us to
treat jenkins files and pipeline
libraries as microservices almost and
iterate fairly quickly with them while
keeping versioning so we don't break old
bills but we only move new bills to the
new stuff and we can move forward or
back the other beautiful thing about
having a Jenkins file link it is any
change to your CD pipeline occurs in a
git commit so you've got history and
hold it if all of a sudden your bill
start failing you know who changed it
when why and what the change was so you
can revert it if you just use normal
Jenkins and you hack around with your
Jenkins jobs and obviously a job starts
failing it's sometimes hard to know well
why what happened to change what let's
revert back so keeping your Jenkins file
and gate is a really clean elegant way
of doing CD continue living ok so we're
following the tendency of transforming
everything into source code yes
infrastructure as code is that is the
Jenkins to motto and we've kind of yes
we bought straight into that everything
is awesome just for completeness by the
way this is not a very interesting part
of a demo but let me just show you if I
show you Nexus Nexus is stores all the
report
has a staging repository for all of the
things in our release so if you look
inside browse the staging repository
Nexus if you're looking org example
awesome devoxx will see here's the 101
release we just did so every release has
an unique version we use get tags to
keep track of the versions so if
everyone to do go from a patch version
to a mini version or a micro version you
just do a gate tag and then they will
automatically use the next version
notice we release a jar and the poem
which so that you can reuse the Java
code if you wish we also make these
llamo files Cuban eighties da milano
perceived amo and that's the thing that
you could just use cube CTL apply on the
command line if you want to apply in
open shift or cuban eighties which is
pretty cool so i guess then in the past
few years developers have been
overwhelmed because they need to learn
docker yes there's a code they need to
see icd they need to do a lot of things
now they have to learn cooper need ease
now they have to do a lot of different
things so maybe fabricate is the answer
so they can get back to code yes yes
it's a quick answer this is the quick
answer the slightly longer answer there
is so one of the important things people
don't realize when they shouldn't
fabricate is anybody can take say
Jenkins and Nexus and cogs and whatever
have wire weight together right anybody
can do that but it takes quite a while
right i probably spent probably two
months of my life just getting nexus and
jenkins to talk nicely to each other and
white when I mean talk I mean so that
every Jenkees build can push into in
this case we're pushing into a nexus
repository securely so we need secrets
to be set up so that your junk is bill
can securely push into Nexus it can
securely do get commits and get pushes
it can securely talk to the doctor
registry and do a docker push just
getting that stuff to work plus it's
using nexus as a proxy cache so every
time you download from the internet
maven artifacts it gets cached in nexus
then it's also using a persistent volume
in the birds to cash on this call of
those artifacts to speed up your bills
so getting all of this stuff too wired
up could take you three months just
wiring all this stuff together we have
like a one-line installer that just
installs this stuff like and everything
just works so once you've been so
fabricated which is really really simple
you know Nexus works jenkins works gogs
works the web hooks between gogs and
jenkins work the console works like
everything just works you don't have to
wire this together you have to configure
this we've done all of that work for you
to be fair Cuban eighties has enabled
this right this was the real realization
of the fabric a team we were so used to
people wiring all this stuff together
with the string by hand all the time
it's what we've always done right with
Cuban eighties and the power of Cuban
these things like services and service
discovery and all this kind of stuff we
can just make jenkins discover Nexus and
you know the builds discover where Nexus
is and gogs discover where Jenkins isn't
we can just wire these things together
so they literally we could just run this
we can also run this for every team by
every team can have their own Jenkins
and then run dogs in their own Nexus if
they wish or we can link them together
right so kubernetes has really allowed
us to make an automated developer
platform that literally is a one-click
install right and everything works which
is kind of amazing ready when you think
of how much time this sticks and it's
not just how much time it takes to do
the first time it's maintaining it is is
a nightmare whereas we basically go on
automatically an auto installer and we
can upgrade as well our automatic
awkward isn't amazing right now you
basically delete all the pods and
reinstall them again Rick which is kind
of a bit smelly but because there's
persistence everywhere right the Jenkins
is using persistent volumes in
communities gogs is using persistent
volumes and nexuses so even though we
basically uninstall the app and
reinstall it again to do upgrades and
downgrades the beautiful thing is
because of persistence you don't really
notice well literally just stopping and
sighing pods you just changing the
runtime yeah yeah we leave a deer to
persist it where it is and we just
bounce the pods that the containers
which are yes there's no state in the
container the stoats all in the
persistent volumes so never delete your
persistence okay but did it your pods
that's fine as dad we started we are
working on something by the way there's
a project called helm here GLM which i
think it's like the steerer ship thing
which is kind of like home brew for
cuban it is it's like a package manager
the really nice thing helped us is it
can do upgrades so you can install an
app version 10
whatever it is right fabric a or
whatever mongodb you can install well
not my get my soul all Cassandra also
okay okay okay or something it doesn't
have to be one going to be so you can
install any app any version and then
afterwards you can just upgrade it with
the command lines rather like you do
with Cuban eighties resources so it
allows you it allows developers to
create registries of apps and publish
something we call them charts which are
kind of like rpms or brew packages or
whatever and they allows you to version
them so that we can all have a version
release of all of the services we should
run and an easy way of upgrading them so
it's we're almost trying to create a bit
like the App Store but for Cuban a tease
well I'm really hoping fairly soon these
we have like an app store like update
screen where you can list all of the
apps you've installed and all the
versions which are available and they're
like would you like to auto upgrade them
all or manually upgrade them and it
should all just work right so we should
have left for fabricate soon it's just
not quite quite working but it will be
there really soon you okay oh sounds
very cool it's yes most or all java
developers should be trying developers
supachai fabricated right don't need
java developers me know everything that
it sucks not java space there is nothing
really here javed specific we did
mention nexus which is often seen as a
java specific thing but i mean we have
quick starts for let me show you the
wizard we have quick start for pretty
much every programming language that's
that's either cool or vaguely popular so
we've ever got like PHP we've got Django
we've got Swift we've got PHP we've got
girl Lang we've got rales we've got
pretty much everything and if it's
something that's not supported we can
extend the these wizards and whatnot or
you can just spin the project up
yourself in a git repository and then
just import it and pick a junkies file
so this can work with anything that can
be built and run on on linux really so
don't networks beautifully pretty much
every language works great okay so you
should be checking fabrication good
right now download it right now so go to
our game fabric eight i oh so fabric
eight died oh and then go to the URL and
then scroll down and if you want
installing a laptop click this button if
you want to install it on the public
place
click this button and there's a lovely
little installer from the nice folks at
stack point that basically lets you spin
a Pecunix cluster on any public cloud
using your public credentials so it's
your cloud on Amazon or Google or zero
or digital ocean and they've got a
fabricate burn now so they were they can
install Cuban eighties and fabricate in
a couple of clicks it's it's really
awesome so you have no excuse for not
installing fabricated right is so easy
you just got these two runs just try
that try them and see what you think so
please try it I give us feedback right
if you scroll down by the way those
buttons for how to give us feedback on a
slack or IRC if you want to keep it real
or raising and get up issues so give us
feedback on what you like what you don't
like yes and will continuously improving
so yes help us to get better okay thank
you much now I know I think I all of us
know what James have been doing the past
months or years and we know it's great
so we should all be trying fabricate for
the next day star maybe yeah so it might
take this to download the first we try
there's a few docker images / so if you
don't have good Wi-Fi it could take a
while to download but once these
downloads it's cached so it's a one-time
download yeah I say so rather commands
prepare to be here yeah a bit and check
later yes time good fabricate start and
then have a beard and then just relax
and have fun yeah that's great yes yeah
thank you James thank you very much for
watching us ass here next video thank
you bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>