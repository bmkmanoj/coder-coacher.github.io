<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Lightning Talk: A Quick Intro to Falcon with Philip Reames | Coder Coacher - Coaching Coders</title><meta content="Lightning Talk: A Quick Intro to Falcon with Philip Reames - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Lightning Talk: A Quick Intro to Falcon with Philip Reames</b></h2><h5 class="post__date">2017-08-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YsZ8ZfbCl30" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I want to take a moment and introduce
you guys to a new compiler we've
developed at Israel called Falcon
so Falcon is a bytecode compiler sort of
it is compiled in Java bytecode down to
our primary target which is activity six
what I mentioned when I say new here
what I actually mean is new and the
product is and this is shipping today
and available in the commercial product
not new is an under development our
eventual goal with this project is to in
fact completely replace the c2 compiler
in our VM for two major reasons one is
performance the other is sort of the
ability to iterate quickly and
experiment with different ideas and sort
of to sort of facilitate that last piece
we built this compiler around the LLVM
tool chain a couple things note just for
this audience in particular is we have
up streamed a lot of the infrastructure
work we did to make this possible also
if you have other sort of languages that
might be interested in targeting LLVM as
a good example the GC support has been
dramatically improved the other thing
sort of mentioned is we have the
compiler tool train that we use within
falcon packaged and available for
separate reuse if that was something
that was interesting to anybody and the
language development perspective so I
figured this is probably the slide that
most of you are most curious about which
is current performance the overall
positioning here is that sort of the
looking at for the video mean across
various benchmarks we are pretty much on
par or slightly ahead of Oracle today c2
today actually sorry this is a ghost
open JDK I believe no I did say Oracle
what you'll notice though is there's a
lot of variation there are some
benchmarks that we do very well on some
benchmarks we're still working on and we
have a lot of room sort of for
improvement in some of these moving
forward but the overall picture is quite
positive
the point of comparison here is the
current shipping product that was
released a couple weeks ago against
Oracle 8 you 21 random build happen had
sitting around with the poll get geeky
basically so that the GCS were more
less idle one interesting point here is
this is Oracle is running with a soft
world collector we're running with
appellee from current collector in this
example the benchmark configuration was
basically just a portrait of the
compiler to get the rest of the system
out of the way as much as possible so so
they don't have a lot of time I want to
focus on just some cool observations
about the project so to highlight a few
things for you guys that have been
exciting to me the first one I mentioned
is something that's not directly related
to the compiler but is more about the
runtime and integration with the
compiler which is an optimization we
were able to recently implement called
truly final as I'm sure many people here
are aware instance finals in Java are
not actually final they are in fact
written to quite frequently the a
reflection and all of the other dirty
hacks we all hate curly final is a
speculum optimization in the VM that
treats an instance final as actually
being a constant until it is observed
being written to violating that the sort
of expected semantics using the
optimization all the related pieces we
tried implementing this in situ yeah
that didn't work we were able to
implement it rather quickly in Falcon
and that was sort of one of the proof
points for us that the idea had actually
worked out as we had hoped the other
sort of really cool thing I want to
highlight here is that by moving to an
LOV M based approach we're leveraging a
very large developer community a couple
of this is interested in a couple
different ways the first is merely
tracking new developments in the
hardware in sort of the work done to
support those one recent thing that
happened was that Google now has the
skylight X chips available in Google
cloud engine within about a week and a
half was that ok good oh we didn't know
about this in advance within about a
week of that being true we were able to
show the avx-512 code running in
practice on Google Cloud engine which is
pretty cool to see the other point I
want to highlight here is this means
that you can now
in Java right code that will get you
exactly the same performance it would
have gotten you it fed through clang
which is C++ compiler that by itself is
really quite awesome in my view one of
the things that excites me the most
about this other thing I want to
highlight for you is that LOV M is
actually extremely welcoming community
in terms of accepting patches if you
have some workload that you would like
to performance tune and sort of you want
to share those patches with the upstream
community we integrate patches from LLVM
about four times a week and that will
roll into our next shipping release so
it's a great and all of the tooling to
analyze IR all of those things is
actually available in the shipping
product today
I think I'm short up short on time so
I'll skip over this quickly this is just
the broader context of how this fits
within the Azul product you're used to
us being here talking about latency this
is looking at the median the mean
latencies as opposed to the tail
agencies uh so if historically we have
more focused on the extreme the tail
latencies that's what we're sort of most
known for this is a little bit of shift
in direction for us trying to be do it
sort of all aspects of latency and then
the other piece we're starting to really
take a look at is the rapid startup
question which we've addressed somewhat
with the technology that we've been
talked about here before called ready
now uh but if there's a little much more
to come on this and they'll be talking
about this probably next year at JVM LS
if I had to guess so with that I think
I'm out of time any questions</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>