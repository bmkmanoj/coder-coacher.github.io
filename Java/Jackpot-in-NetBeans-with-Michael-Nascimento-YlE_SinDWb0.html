<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Jackpot in NetBeans with Michael Nascimento | Coder Coacher - Coaching Coders</title><meta content="Jackpot in NetBeans with Michael Nascimento - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Jackpot in NetBeans with Michael Nascimento</b></h2><h5 class="post__date">2016-07-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YlE_SinDWb0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to night hacking at JavaOne
Brazil and today I have Michael
Nascimento with me and Michael so how
are you I'm good yeah this is the last
day of the conference so yeah great
content great that's working yep
so we're also all tired so you do the
presentation at the netbeans day yeah
about Jax jackpots jackpot yeah jackpot
is a very interesting project that was
created by James Bosley and later it was
integrated internet things and watches
friend what funny is that it's not very
well known even though it's technology
that was originally created by James and
what it does is that it allows you to
look at source code in a different way
and because of that it can help you
enable you to do very interesting and
powerful refactorings as in a badge you
know so that's what I talked about
that's what I like to see show okay well
please show us so yeah so give the
background of my my use case and you see
how it's helpful so I had a large code
base with many projects in this project
there's all different types of
technology and I wanted to be great
everything to use java java c 8 and Java
EE 7 right then if you have like 20
projects which are all large you would
have to between all the reflecting
operations one by one you know and that
besides taking a long time
besides being enthusiast it's very much
subject to qu error right if you try to
be great for instance our uses we used
to use Java time to Java time or if you
want to switch from spring to CDI
there's so many details that have to pay
attention to so I was looking for a way
that would help me to simply outline the
process and make sure that it was done
right every time so then I thought of
using jackpot for that so what you can
see here on my IDE is that I have some
some code that uses Java time which I
think a good way for lots of people
might be considering
that migrations from Java time to Java
time but if they have a large code base
how they can how could they they do that
right so the first step is you have to
have on your project a folder named
Marines upgrade right in this folder you
need to create in that piece an empty
file you can name it whatever you like
but the ending that determination has to
be hint right so I'm going to create a
long time to Java time hint file and in
in my demo poll here I have a few uses
of local dates that we it could use to
illustrate how you can do this batch
were effective which which is the main
benefit that you get from project
jackpot right so first for instance in
this line here in line 8
we are simply creating updates to
represent today's date right so local
day to just here mum's day and in the
old API you you would use a constructor
to do that in the new API you have to
use a static factory right so how to do
this integration first we are going to
convert all users from the old Java time
local dates to Java time right so here
in my hint right and you can use some
descriptions to help you later when
you've seen the code this will be
applied so that you remember what this
rule is about
so let's simply call it local date from
java to java time so you're doing your
knife they much yeah that's the fun part
yeah let's see fresh or not hopefully
not right so what you want to be great
is or work Java time local date and we
want to convert it to Java time locally
so you simply use an arrow here with the
cosine to Java time local date and to
finish the syntax that you use for
jackpot incidentally you have to
used to double same colors right so that
that tells that this is a complete will
now as I go back to the anchor I can see
that it's showing hints whenever local
dates is used and if I go here to the
side bar of the editor I can see that it
it has the description that I typed and
if I apply this hint by using our alt
enter it's going to rewrite it to use
Java Tang right but doing this in a
single editor window wouldn't really
solve my problem but the interesting
part is I'm going to revert the change
is that if you have a project that has
for instance five hundred classes 2000
classes 20,000 classes you can simply
right-click the project go to inspect in
transform and here in the single
inspection there is going to be a sub
section called from projects class path
and your hint is going to show here
right and as you inspect it even will
show you the diff of appliances or
factually rule to all Java files that
you have one by one so if you had five
thousand you could maybe take a look at
them to make sure it's doing the right
thing and batch apply it to all of them
right but now that I show how to do it
in batch let's just do a few
transformations just illustrated ^
object part here so I simply did first I
change the type but we have to change
the constructor right so now we are
going to change from new local date to
local date now which is the the right
way to do it with Java time right so I'm
trying to match well you always have to
use the fully qualified name here for
the matching to work right so we are
changing from you
the invocation of the constructor to
local date now so if I didn't do
anything wrong which I hope I didn't as
we go back to my code here and I yeah
did it work oh yeah of course first
since I already renamed the packaging we
have to use the new package here for all
further instructions right so instead of
it using the constructor we have to call
the static factory so now in the two
lines in which I have the constructor I
can see here on the hint then it's also
suggested me to migrate from the
constructor into the static factory so
I'll just apply here in the end to make
it fast
so I can apply the transformation here
and I could apply this to my to my whole
code base just as a final example for
extra clothes right here I have a little
bit of a more complex transformation
enjoy the time this is the way this this
expression this is the way that I would
get today's date and move to the last
day of the month but if Java time things
are a little bit different right so I
have a way to match those usage so
that's much more powerful than simply a
search and replace all right so I can be
great these expressions all just capture
it here to make it faster right the
funny part is this this method because I
changed first I change from origin time
to down a time this matter doesn't even
exist anymore but I can do this with
jackpot I can replace this variable with
a matter variable that's college one
right and I want this to be applied only
when this variable is an instance of
Java time locally
there's no space here and when I find
this I want to change that to use
instead with which is the proper way to
do that with with the new API I want to
change it for the new form format which
is by using temporal temporal adjusters
which is a class in the unify the only
the only bad things that you have to use
for the qualified names here
so sometimes it's easier to type here at
first into transpose there so let me
just get it right here
and I'll copy there just to show just to
show how to do it right so you go to
temporal adjusters last day of month and
from here we can copy the transformation
just to save some some struggling with
the typing good then we have to use
fully qualified names right so I'm going
to copy here the fully qualified name of
the class
that's it and as I go back here come to
my source code it's it's immediate we
can see the hint here should you to do
the transformation again this time since
I didn't put in the description it's
simply going to to show the name of the
fire so it's showing each other time to
the other time this one I didn't put put
a label right but the funny part is if I
apply this information it's a little bit
more complex it's not going to do this
simply by copying that photo you can see
that the import was also added here in
jackpot this is marked enough just to
add the import in case that there would
be no collision so if a fully qualified
name was needed it was going to use it
but since it knows that it's not needed
it adds the import and you have a
complex transformation here so we could
do all sorts of a complex pressure
measures here using using jackpot but
you know now that I saw I actually do
the transformation that was not not
exactly right besides that we would need
to get the actual date here at the end
for the culture compiled but by doing
this you can first test it in small code
base part of the code base and then you
can apply to a huge number of projects
so that's one of them the most difficult
things when we run on the great legacy
it's very hard to do by hand but if
jackpot you can see cloud tomates the
refractory and applying many projects at
once so it's really cool Wow so and so
jackpot it's part of methods yeah so
it's free basically it's free it's
available and I think that itself is a
very cool feature of NetBeans because
even for in for some reason
you cannot use NetBeans for daily coding
here we are simply doing here factoring
so we could use this feature just do
this major refactoring and keep it using
your ID but I'm pretty sure that people
like enough reason to stick with it
okay so jackpots don't use it right sure
okay thank you your lunch thank you so
much thank you thank you for showing us</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>