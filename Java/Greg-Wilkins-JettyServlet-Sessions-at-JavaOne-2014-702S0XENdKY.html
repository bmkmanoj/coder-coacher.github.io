<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Greg Wilkins' Jetty/Servlet Sessions at JavaOne 2014 | Coder Coacher - Coaching Coders</title><meta content="Greg Wilkins' Jetty/Servlet Sessions at JavaOne 2014 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Greg Wilkins' Jetty/Servlet Sessions at JavaOne 2014</b></h2><h5 class="post__date">2014-08-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/702S0XENdKY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone this is a series of 8
reviews we are doing to highlight a few
of the key speakers at the Java EE track
for java 1 2014 my name is reza rahman
I'm I have the privilege of leading the
track this year I have Whitney Greg
Wilkins were actually very feel very
privileged to have him on I'm sure most
of you know who Greg is he's basically
the mastermind behind jetty he's been
besides being on jetty you know he has
been a solid contributor to the syrup
specification for many years certainly
in the latest version of the sort of
specification and going forward in
servlet for as well my factor Greg is I
think one of the only people perhaps
that's on the HTTP 2.2 specification on
the IETF and probably will be very
critical in the success of the server
for specification so first of all that
Greg thank you very much for for
donating a bit of your time to do this
interview as a little absolutely so I
guess to start with that tell us a bit
about how you're doing how are things in
the world of jetty in user servlet in
general um oh it's it's incredible i
mean JD he's been going since i think
we're coming up to its 15th birthday
police soon and and i kind of thought
that do a servlet container and HTTP
protocol would become commodity they're
going to go but there's just continues
to be innovations in the way we serve
content and so it's it's like it's it's
a never-ending task to add these new
features these new ways where with
serving content and and and now the new
way we're transporting content with HTTP
to so it's good it's fun exciting times
that we keep getting to you know you use
new newer features and the JVM zand use
newer protocols and support you a
framework so it's good excellent so you
have a couple of sessions a job one
could you tell us a bit about each of
those sessions and what you hope to
deliver there and what your hope
to get out of it ah firstly the one of
the little sessions or a small part I
might have is speaking with Ludo
chinoise from google about a
collaboration we've done with Google to
make Jenny much faster in a google app
engine in the weights starts up Google
App Engine has used Jenny for its Java
component for some time and because in
the cloud environment having small
footprint and fast startups very
important we've done some work with
Google too so we can fire up a whole
container and configure a web app in
sub-second times so they can be fired up
on demand as needed and so hopefully
i'll be speaking with Ludo and Google
hope you have some other announcements
in in that area and I won't steal their
thunder on that one my own talk is about
a new feature that was in the server
three dat one spec which is the
asynchronous i/o it's called um into the
wild with asynchronous servlet I oh and
the intention is that title is basically
that I think civil icing cayo is one of
those really hard things and you can see
the little demonstrations of it you can
read the API so you get all year
intuitively I understand how this works
do actually write real code that
actually works and is beneficial and
doesn't make things worse is actually
always a lot harder with a sink than
you'd realize so the talk is basically
going to look at how we've used it's
going to look at the servant async i/o
API which is actually a different
paradigm for a sinker io than most
people who've seen before it's different
to niño and ni oh 2 and show how we've
used it in our own production usages of
say fast cgi to back ends and proxy
server lots and in the areas of where
it's a very valuable addition to the
scaling of serving content excellent so
I wanted to ask you specifically a bit
about your take on HTTP 2.0 generally
and sort of if you will learn the
elevator pitch of what HTTP two point O
brings to the table for develop
and also we all take on the servlet for
API if you were okay there's i'm a bit
conflicted with HTTP too there's some
good things in it and some bad things in
it the good things about it is mostly
what was good about speedy it's a
multiplex protocol so instead of a
client opening many connections to a
server the idea is you can open a single
connection and multiplex multiple
requests over that and for server
implemented this is really cool because
I still haven't forgiven the browser
vendors for when they broke the two
connection rule and started going to six
connections eight connections to try and
get more TCP capacity more than their
fair share which put an enormous burden
onto the service so if you if you think
that a successful web server is going to
be dealing with you know thousands tens
of thousands hundreds of thousands of
users if you multiply that by six
connections you're starting to look at a
lot of connections so anything we can do
on the server side to reduce the
connections saves us a lot of
server-side resources and then having it
there was a tip where that makes to be
one that one would pipe writing but you
need the ability for request so I
overtake each other and so the
multiplexing side of the protocol is is
very interesting and it should promise
good resource savings on the server side
and improve out the way we serve our
content it's it's then a binary protocol
rather than a past protocol which is you
know a good optimization but it's not
revolutionary then I guess the next
thing that really helps it make a
difference for users is the push
capability where the server can
anticipate that once we've seen the
index dot HTML request it's going to ask
for logo.png it's going to ask for
style.css that's going to ask for the
JavaScript so rather than waiting for a
round trip for the HTML to go to the
client the client deposit and they asked
all these resources and then the
stylesheet might have some images but
there's an another round trip there the
server can anticipate all that and push
those resources proactively to the
browser
and the then the end of the day HTTP two
is all about trying to get the speed of
rendering your pages much much quicker
you know avoiding multiple round trips
and you can have your orders of
magnitude improvements in that rendering
of the page and speed is very important
for a user's experience on the web
there's lots of studies that show that
yeah fifteen ten percent increase in
speed can really help you retain your
users and retain their interest and get
them more interested in your content so
that's that's where the focus of HTTP
two is where I'm not so happy with the
protocol is that I said as a missed
opportunity it's it was chartered to
look at the HTTP semantics and really
captured just the HTTP static but the
web has gone beyond HTTP we've got web
sockets already and there are plenty of
other semantics being he looked at that
you know might be useful over the web by
making h2b to directly are relevant only
to http there what the protocol is a
little bit more complex than it needs to
be done they've conflated the framing
layer with the semantic layer hoping to
try and get some extra little bits of
optimization but what this means is that
in the future it's going to be hard to
get other semantics at art HTTP to be
carried over that framing layer and so
the obvious candidate that is for those
WebSocket where you've got other things
besides associated resources that you
might want to push to client and so well
it's probably likely that it will see an
extension to actually be true to carry
WebSocket over the framing layer it's
going to have to you know be a little
bit of protocol abuse basically the way
it's set up is anything that's going to
be carried over this framing layer is
going to have to pretend to look like
HTTP even though it's a different
semantics and that was kind of the
problem we got with HTTP one where we
were using long polling and you know
weird things in a WebSocket protocol to
try and make it you know make proxies
and other intermedius meter is think
that it's HTTP but it's not so it's kind
of a missed opportunity to to go to a
multi-protocol universe where we could
have had a web framing layer and then
multiple semantics communicated over
so that's and the protocols will up more
complex than that needs to be for what
it does trying to get some of the
efficiencies in there so there's some
good stuff and some bad stuff it's at
last call now so it's probably a little
bit too late to get rid of the bad stuff
but the good stuff is certainly
worthwhile getting excited about and and
looking at you know getting away from it
twenty-year-old protocol that we're
using to ship our content about and so
in the the servants back where we're
looking at how we can put some of these
features in in there and what the key
feature that we need to get supported in
servlet for is probably push because the
if a server is to push content to the
client it's got to know what is the
associated resources so it's got to know
that that this logo is associated with
that page and this javascript is
associated with that you know these are
the pages it's also going to know that
this clients already seen it once and it
doesn't need to see it again and yeah
have some sort of intelligence about
what's in the client cash so the server
can do that a little bit on its own you
can look at the headers going backwards
and forwards and guess with the referer
header that this resource is associated
with that resource but it doesn't really
know whether it's just the user clicking
quickly or whether it's really is
associated to make the server do a good
job of pushing just the relevant content
you really need to bring the frameworks
into and play so that a framework as it
builds the page you can say that all we
know that this javascripts associated I
know these images are associated I'll
push them if that if that user session
hasn't seen them already if it user
sessions is seen them already i won't
push them and and so those are the sort
of intelligences that we need to involve
the the application and all the
application framework so we're looking
at how we can open up the server the API
so that that is available it's got to be
done in such a way that it's not too
invasive though because we we don't want
to write applications that only run if
the client happens to be running HP to
theirs
a lot of fall back there should be one
for decades to come so it's it's
important that it's done in the right
way so that the users can you push of
it's available but not be a penalty if
it's not and then it's also got to fold
into all the other ways we have of
serving content there's no good pushing
content if it's a blocking API and sis
going to you know oh you know get rid of
all the games we've had in the last year
iterations of making this so that
container a lot more asynchronous so
it's got to be an API so that when we
want push content we can do so
asynchronously more so because the
browser actually has the ability to with
HTTP to to prioritize it can be seeing
three or four resources coming at it and
can say oh well you know resource to is
the one that I need most importantly to
render the page so you can actually
throttle the other two resources and
favorably take one resource and that
only works if the the server is able to
allow request to overtake each other and
so that's the challenge to get that
right in the server for API excellent
well we look forward to certainly your
contributions of new already done many
contributions the servlet spec and we
hope it will continue and will see a an
excellent API for HTTP 2.2 and look for
so Greg I guess we're going to wrap up
here so I guess is there anything else
you would like to say to the community
before javaone all the other thing I'll
say is we're having a buff on jetty as
well so if you're at javaone drop by for
the boss will just be pretty free from
discussion of where we're going with it
and what's what's happening I think
where we said it was going to be jetties
20th birthday this year but we turned it
we work out it's only 19 years old so
we'll have a 19th birthday pay for jetty
at javaone and plan what we'll do for
the 20th birthday party next year all
right excellent thank you very much we
really appreciate it cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>