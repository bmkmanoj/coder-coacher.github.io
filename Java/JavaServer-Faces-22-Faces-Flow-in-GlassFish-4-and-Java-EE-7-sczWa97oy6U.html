<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JavaServer Faces 2.2 Faces Flow in GlassFish 4 and Java EE 7 | Coder Coacher - Coaching Coders</title><meta content="JavaServer Faces 2.2 Faces Flow in GlassFish 4 and Java EE 7 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java/">Java</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JavaServer Faces 2.2 Faces Flow in GlassFish 4 and Java EE 7</b></h2><h5 class="post__date">2013-01-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sczWa97oy6U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello my name is arun gupta and i work
for oracle in this screencast i will
give you a quick introduction to phrases
flow and show some code samples faces
flow is a new feature introduced as part
of jsf 2.2 which will be released as
part of the java ee 7 platform faces
flow provides an encapsulation of
related views and pages with an
application defined entry and exit
points for example if you have a check
out card in your application that can
consist of the cart page credit card
details page shipping address and
confirmation page all these pages along
with their required resources and beans
can be packaged together as a module
which can then be reused in other
applications so you truly follow the dry
principles of don't repeat yourself now
the flow based technologies such as ADF
task flow spring web flow and apache my
face is cody i have already existed for
quite some time and now these are being
standardized as part of jsf 2.2 let's
take a look at the working code first
let's say this is our main application
in the application we have the concept
of main application of course and then
explicitly define entry point now in our
case we can say enter flow 1 and this is
our explicit entry point as soon as I
click on the button you see the page
background is changed right that is just
to indicate that we are in a flow now we
have first page in the flow here we have
a corresponding backing bean and it also
says has a flow which is true click on
next we have still in the same flow the
page color is being read we see the flow
be named we can enter some values here
and then click on next the value that we
entered stayed in the scope of the flow
and that is being already displayed over
here now here is my X percent exit point
from the flow so if I click on home it
takes me back to the main application so
explicitly define entry and exit point
and then the entire module is reusable
now let's take a look at the code in the
IDB in netbeans this is my maven project
web pages if I take a look at my indexed
or XHTML this is it says outside of flow
that's my main application here I have
two buttons for example stay is to you
know think about in an application other
buttons that are doing other things
there are not part of the flow that's
what the state button is simulating here
but this is my explicitly define entry
point with action says flow one now flow
one refers to the directory flow one
here and as you can see this directory
has three pages now if this directory
has a page which is the same name as a
directory which is flow one dot XHTML
that by conventions become my starting
point so if I take a look at this page
here we say first page in the flow I'm
displaying my being name which is my
backing bean so if I click on that this
is a CD I be we market name so which is
a PL injectable now flow scope is a new
annotation that is introduced in the in
the JSF 2.2 specification this is
basically defined as a CDI scope and
this enables that the beam is
automatically activated and passivated
as the scope is entered and exited so
it's really cool you just define the
flow scope beam and the values are
automatically preserved across the scope
as you get out of the scope the beam is
automatically disabled for you we also
have some new PL expressions here so it
can returns a value whether flow handler
current flow exists true or false and we
are returning now we're comparing to
null and that gives us an idea over here
then we go to the next page in the flow
which is flow 1a now flow 1a is in the
same directory and so it continues to be
part of the flow let's take a look at
flow 1a here now again I'm displaying
the beam name here here is a new AEL
expression flow scope it allows you to
store the value in an expression
language itself so you can say I am I
want to take a text input and I want to
bind it to flow scope dot value well
we'll use this value
display this value in the next page and
here again once i have my navigation
buttons it says on next is flow 1b so if
i go to flow one be here once again be
named now first of all I am displaying
the flow scope dot value these values
exist only during the flow and then here
is my explicitly defined exit point so
if I say action equals / index then
that's what really goes to my index dot
XHTML right here itself so you can see a
very simple sample but shows you how to
define flows now let's take a look at
another sample that shows exactly how to
do multi flows so for example in an
application you have flow 1 and flow to
and how you can pass values between them
etc so that is my second sample then
let's right click here and run it
and now similar application but I can
explicitly enter flow one or float to
these are completely reusable modules so
you can take and all the resources
required for enter flow one package them
as a jar file or a zip file and then
they can be utilized in other web
applications as well so let's click on
enter flow one first once again we see
the red color has a flow with the
backing bean click on next I can enter
some values the values are persisted I
can explicitly get out of this flow I
want to keep moving here and here my
flow ends now either I can return back
to my page or I can return I can enter
flow too so you can go from one flow to
another flow so let's explicitly enter
flow to here as you can see you can pass
parameters from flow one so parameter 1
value from flow one this is the value
and similarly parameter to value is
being passed as well which is like this
now this is the first page in flow too
and you can see there is a corresponding
new backing bean as well so now here I
can go to non slow for example there are
mechanisms defined for that too click on
next I can keep going in within the flow
to itself I can enter say you to hear
click on next the values are defined
over here and I can enter flow one or I
can go back to home from here so very
simple let's take a look at the
corresponding code now so here I have
two directories flow one flow to hear i
have index HTML page this is where i can
return from this is my non flow page you
could have multiple pages packaged in
your application and there are different
mechanisms to find for that inflow one
that stays as is there is a flow 1 dot x
HTML which becomes my default starting
page for the flow and then i have flow
too now i can define the let's say if I
don't want to follow the conventions for
some reason like I can explicitly define
the flow of the page so if i look at and
that is actually defined by directory
named dash flow dot XML in this case
flow to Nash float xml
I go down you can see there's a metadata
define here i can define the flow
definition i can say now what do i want
to do if there is a return from the page
i can define some inbound parameters i
can define outbound parameters i can say
i want to call flow one from flow too so
it's a full metadata that you can
describe here which will define how the
flow will look like if i look at the
source packages i can also define this
flow using flow definition which is yet
another new annotation introduced in jsf
2.2 i can define the flow it's a builder
api so i have a flow builder i can say
this is my starting node this is my
return node what the parameters are i am
going to call flow to all of that can be
very easily defined over here flow one
being very simple just define inflow
scoped similarly flows to beam flow
scope and you define the identifier of
the flow to overhear this these samples
would work on glassfish 40 build 72 but
they require a couple of jars to be
patched my blog which is at blog store
oracle com / arun gupta has more details
on what needs to be patched but if you
are seeing this sometime after first or
second week of februari then you would
not need that patching so just a regular
glass fish for promoted build would work
fine for you so hope you had fun and
will able be able to use faces flow in
your applications</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>