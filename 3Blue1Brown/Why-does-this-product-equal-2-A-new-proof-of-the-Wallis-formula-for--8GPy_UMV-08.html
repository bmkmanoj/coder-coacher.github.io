<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Why does this product equal π/2?  A new proof of the Wallis formula for π. | Coder Coacher - Coaching Coders</title><meta content="Why does this product equal π/2?  A new proof of the Wallis formula for π. - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/3Blue1Brown/">3Blue1Brown</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Why does this product equal π/2?  A new proof of the Wallis formula for π.</b></h2><h5 class="post__date">2018-04-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8GPy_UMV-08" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right I think you're gonna like this
I want to show you a beautiful result
that reveals a surprising connection
between a simple series of fractions and
the geometry of circles but unlike some
other results like this that you may
have seen before
this one involves multiplying things
instead of adding them up now the video
you're about to watch is particularly
exciting for us at 3 blue and brown
because it came about a little
differently for most of the videos that
we've done if you step back and think
about it the value of any kind of math
presentation comes from a combination of
the underlying math and then all of the
choices that go into how to communicate
it and for almost all of the content on
this channel the underlying math is
something that's well-known in the field
it's either based on general theory or
some particular paper and my hope is for
the novelty to come from the
communication half and with this video
the result were discussing a very famous
infinite product for pie known as the
wallace product is indeed well known
math however what we'll be presenting is
to our knowledge a more original proof
of this result for context after
watching our video on the basil problem
sweeter the new three b-1b member who
some of you may remember from the video
about color and winding numbers well he
spent some time thinking about the
approach taken in that video as well as
thinking about the connection between
the basil problem and the wallace
product and he stumbled into a new proof
of the relationship between the wallace
product and pi i mean i'll leave open
the possibility that an argument of the
style is hidden somewhere in the
literature beyond what our searching
pulled up but I can at least say that it
was found independently and that if it
does exist out there it has done a
fantastic job hiding itself from the
public view so without further ado let's
dive into the math consider the product
2 over 1 times 4 over 3 times 6 over 5
bond and on and on or what we're doing
is including all the even numbers as the
numerators and odd numbers as the
denominators of course all the factors
here are bigger than 1 so as you go
through the series multiplying each new
factor in one by one the result keeps
getting bigger and bigger in fact it
turns out that it eventually gets bigger
than any
night limit so in that sense it's not
super interesting it just blows up to
infinity and on the other hand if you
shift things over slightly looking at
2/3 times 4/5 times 6 divided by 7 on
and on all of those factors are less
than 1 so the result keeps getting
smaller and smaller and this time the
series turns out to approach 0 but what
if we mix the two
if you looked at 2 over 1 times 2 over 3
times 4 over 3 times 4 over 5 on and on
like this where now the partial products
along the way keep going up and then
down and then up and then down then up a
little bit and then down a little bit
less until all of these jumps and falls
are of almost no change at all so now it
must be converging to some kind of
positive finite value but what is that
value believe it or not we'll discover
that this equals pi divided by 2 and to
understand the connection between this
product apparently unrelated to circles
and pi we're going to need to take a
slight digression through a few
geometric tools it's a productive
digression though since these are some
useful ideas to have in your problem
solving tool belt for all kinds of other
math the setup here involves a circle
with many different points evenly spaced
around it and then one additional
special point this is similar to what we
had in the video on the basil problem
where we pictured these evenly spaced
points as lighthouses and thought of
that special point as an observer now
back then the quantity we cared about
involved looking at the distance between
the observer and each lighthouse then
taking the inverse square of each of
those distances and adding them all up
this is why we had the whole narrative
with lighthouses in the first place
since the inverse square law gave a
really nice physical interpretation to
this quantity it was the total amount of
light received by that observer but
despite that nice physical
interpretation there's nothing magical
about adding inverse squared distances
that just happened to be what was useful
for that particular problem now to
tackle our new problem of 2 over 1 times
2 over 3 times 4 over 3 times 4 over 5
and so on we're going to do something
similar but different in the details
instead of using the inverse squared
distances
just look at the distances themselves
directly and instead of adding them up
we'll be multiplying them giving a
quantity that I'll be referring to as
the distance product for the observer
that'll be important and even though
this distance product no longer has a
nice physical analogy I still kind of
want to illustrate it with lighthouses
and an observer because well I don't
know it's pretty and also it's just more
fun than abstract geometric points now
for this proof of the wallis product
we're going to need two key facts about
this distance product two little lemmas
first if the observer is positioned
halfway between two lighthouses on the
circle this distance product the thing
that you get by multiplying together the
lengths of all these lines works out to
be exactly two no matter how many
lighthouses there are and second if you
remove one of those lighthouses and put
the observer in its place
this distance product from all of the
remaining lighthouses happens to equal
the number of lighthouses that you
started with again no matter how many
lighthouses there are and if those two
facts seem crazy I agree I mean it's not
even obvious that the distance product
here should work out to be an integer in
either case and also it seems super
tricky to actually compute all of the
distances and then multiply them
together like this but it turns out
there is a well a trick to this tricky
calculation that makes it quite simple
the main idea is that the geometric
property of these points being evenly
spaced around a circle corresponds to a
really nice algebraic property if we
imagine this to be the unit circle in
the complex plane with each of those
lighthouses now sitting on some specific
complex number some of you might
recognize these as the roots of unity
but let me quickly walk through this
idea in case any of you are unfamiliar
think about squaring one of these
numbers it has a magnitude of one so
that's going to stay the same but the
angle it makes with the horizontal will
double that's how square and complex
numbers works
similarly cubing this number is going to
triple the angle that it makes with the
horizontal and in general raising it to
the nth power multiplies the angle by n
so for example on screen right now there
are seven evenly spaced points around
the unit circle which I'll call l0 l1 l2
and so on and they're rotated in such a
way that l0 is sitting at the number 1
on that right hand side so because the
angle that each one of these makes with
the horizontal is an integer multiple of
1/7 of a turn raising any one of these
numbers to the seventh power rotates you
around to landing on the number one in
other words these are all solutions to
the polynomial equation X to the seventh
minus one equals zero but on the other
hand we could construct a polynomial
that has these numbers as roots a
totally different way by taking X minus
l0 times X minus l1 on and on and on up
to X minus l6
I mean you plug in any one of these
numbers and that product will have to
equal 0 and because these two degree
seven polynomials have the same seven
distinct roots and the same leading term
it's just X to the seventh in both cases
they are in fact one and the same now
take a moment to appreciate just what a
marvelous fact that is this right hand
side looks like it would be an absolute
nightmare to expand not only are there a
lot of terms but writing down what
exactly each of those complex numbers is
is gonna land us in a whole mess of
sines and cosines but because of the
symmetry of the set up we know that when
all of the algebraic dust settles it's
going to simplify down to just being X
to the seventh minus one all of the
other terms will cancel out and of
course there's nothing special about 7
here if you have n points evenly spaced
around a circle like this
they are the Brutes of X to the n minus
1 equals 0 and now you might see why
this would give a nice simplifying trick
for computing the distance product that
we defined a moment ago if you consider
the observer to be any other complex
number not necessarily on the circle and
then you plug in that number for X
that right hand side there is giving you
some new complex number whose magnitude
is the product of the distances between
the observer and each lighthouse but
look at that left hand side it is a
dramatically simpler way to understand
what that product is ultimately going to
simplify down to surprisingly this means
that if our observer sits on the same
circle as the lighthouses the actual
number of lighthouses well it won't be
important it's only the fraction of the
way between adjacent lighthouses that
describes our observer which will come
into play if this fraction is f then
observer to the power n lands F of the
way around a full circle so the
magnitude of the complex number observer
to the N minus 1 is the distance between
the number one and a point F of the way
around a full unit circle for example on
screen right now we have seven
lighthouses and the observer is sitting
one-third of the way between the first
and the second so when you raise the
complex number associated with that
observer to the seventh power they end
up one third of the way around the full
circle so the magnitude of observer to
the seven minus one would be the length
of this chord right here which for one
third of the way around the circle that
happens to be about one point seven
three and remember this value is quite
remarkably the same as the full distance
product that we care about we could
increase or decrease the number of
lighthouses and no matter what so long
as that observer is one third of the way
between lighthouses we would always get
the length of this same chord as our
distance product in general let's define
a special function for ourselves chord
of F which will mean for any fraction F
the length of a chord corresponding to
that fraction of a unit circle so for
example what we just saw was chord of
one-third actually it's not so hard to
see that chord of F amounts to the same
thing as two times the sine of F halves
times two pi
which is 2 times the sine of f pi but
sometimes it's easier to just think of
it as chord of f so the result we've
just shown is that for an observer f of
the way between two lighthouses the
total distance product as complicated as
that might seem works out to be exactly
chord of F no matter how many
lighthouses there are so in particular
think about chord of 1/2 this is the
distance between two points on the
opposite ends of a unit circle which is
2 so we see that no matter how many
lighthouses there are equally spread
around the unit circle
putting an observer exactly halfway
along the circle between two of them
results in a distance product of
precisely 2 and that's our first key
fact so just tuck that away for the next
key fact imagine putting the observer
right on one of the lighthouses well
then of course the distance product is 0
the distance 0 lighthouse ends up
annihilating all other factors but
suppose we just got rid of that one
troublesome lighthouse and considered
only the contributions from all of the
other ones what would that distance
product work out to be well now instead
of considering the polynomial observer
to the N minus 1 which has a root at all
of these n roots of unity we're looking
at the polynomial observer to the N
minus 1 divided by observer minus 1
which has a root at all of the roots of
unity except for the number 1 itself and
a little algebra shows that this
fraction is the same thing as 1 plus
observer plus observer squared on and on
and on
up to observer to the N minus 1 and so
if you plug in observer equals 1 since
that's the number he's sitting on what
do you get
all of the terms here become one so it
works out to be n which means the total
distance product for this setup equals
the number of original lighthouses now
this does depend on the total number of
lighthouses but only in a very simple
way I mean think about this this is
incredible the total distance product
that an observer sitting at one of the
lighthouses receives from all other
lighthouses is precisely n where n is
the total number of lighthouses
including the ignored one that is our
second key fact and by the way proving
geometric facts with complex polynomials
like this is pretty standard in math and
if you went up to your local
mathematician and showed him or her
these two facts or other facts like
these they'd quickly recognize both that
these facts are truth and how to prove
them using the methods we just showed
and now so can you so next with both
these facts in our back pocket
let's see how to use them to understand
the product that we're interested in and
how it relates to pi take this set up
with and lighthouses evenly spaced
around a unit circle and imagine two
separate observers what I'll called the
keeper and the Sailor put the keeper
directly on one of the lighthouses and
put the Sailor halfway between that
point and the next lighthouse the idea
here will be to look at the distance
product for the keeper divided by the
distance product for the Sailor and then
we're going to compute this ratio in two
separate ways from the first key fact we
know that the total distance product for
the Sailor is 2 and the distance product
for the keeper
well it's zero since he's standing right
on top of one but if we got rid of that
lighthouse then by our second key fact
the remaining distance product for that
keeper is n
and of course by getting rid of that
lighthouse we've also gotten rid of its
contribution to the sailors distance
product so that denominator now has to
be divided by the distance between the
two observers and simplifying this just
a little bit it means that the ratio
between the keepers distance product and
the sailors is n times the distance
between the two observers all divided by
two but we could also compute this ratio
in a different way by considering each
lighthouse individually for each
lighthouse think about its contribution
to the keepers distance product meaning
just its distance to the keeper divided
by its contribution to these sailors
distance product its distance to the
sailor and when we multiply all of these
factors up over each lighthouse we have
to get the same ratio in the end n times
the distance between the observers all
divided by two now that might seem like
a super messy calculation but as n gets
larger this actually gets simpler for
any particular lighthouse for example
think about the first light house after
the keeper in a sense of
counterclockwise from him this is a bit
closer to the Sailor than it is to the
keeper specifically the angle from this
lighthouse to the keeper is exactly
twice the angle from this lighthouse to
the Sailor and those angles aren't
exactly proportional to these
straight-line distances but as n gets
larger and larger the correspondence
gets better and better and for a very
large n the distance from the lighthouse
to the keeper is very nearly twice the
distance from that lighthouse to the
Sailor and in the same way looking at
the second lighthouse after the keeper
it has an angle to keeper divided by
angle to celular ratio of exactly 4/3
which is very nearly the same as the
distance to keeper divided by distance
to sailor ratio as n gets large and that
third lighthouse l-3 is going to
contribute a fraction that gets closer
and closer to six fifths as n is
approaching infinity now for this proof
we're going to want to consider all the
lighthouses on the bottom of the circle
a little bit differently which is why
I've enumerated them negative 1 negative
2 negative 3 and so on if you look at
that first lighthouse before
the keeper it has a distance to keeper
over distance to sailor ratio that
approaches 2/3 as n approaches infinity
and then the second lighthouse before it
L negative 2 here contributes a ratio
that gets closer and closer to 4/5 and
the third lighthouse L negative 3
contributes a fraction closer and closer
to 6/7 and so on combining this over all
of the lighthouses we get the product 2
over 1 times 2 over 3 times 4 over 3
times 4 over 5 times 6 over 5 times 6
over 7 on and on and on this is the
product that we're interested in
studying and in this context each one of
those terms reflects what the
contribution for a particular lighthouse
is as n approaches infinity and when I
say contribution I mean the contribution
to this ratio of the keepers distance
product to the sailors distance product
which we know at every step has to equal
n times the distance between the
observers divided by 2 so what does that
value approach as n approaches infinity
well the distance between the observers
is 1/2 of 1 over n of a full turn around
the circle and since this is a unit
circle its total circumference is 2 pi
so the distance between the observers
approaches PI divided by N and therefore
n times this distance divided by 2
approaches PI divided by 2 so there you
have it our product 2 over 1 times 2
over 3 times 4 over 3 times 4 over 5 on
and on and on must approach pi divided
by 2 this is a truly marvelous result
and it's known as the wallace product
named after a 17th century mathematician
john wallace who first discovered this
fact in a way more convoluted way and
also a little bit of trivia this is the
same guy who discovered or well rather
invented the infinity symbol
and actually if you look back at this
argument we've pulled a little bit of
sleight of hand too deep in formality
here which the particularly
mathematically sophisticated among you
might have caught what we have here is a
whole bunch of factors which we knew
multiplied together to get n times the
distance between the observers divided
by two and then we looked at the limit
of each factor individually as n went to
infinity and concluded that the product
of all of those limiting terms had to
equal whatever the limit of n times the
distance between the observers divided
by two is but what that assumes is that
the product of limits is equal to the
limit of products even when there's
infinitely many factors and this kind of
commuting of limits in infinite area
arithmetic well it's not always true it
often holds but it sometimes fails here
let me show you a simple example of a
case where this kind of commuting of
limits doesn't actually work out so
we've got a grid here where every row
has a single seven and then a whole
bunch of ones so if you were to take the
infinite product of each row you just
get seven for each one of them so since
every one of these products is 7 the
limit of the products is also 7 but look
at what happens if you take the limits
first if you look at each column the
limit of a given column is going to be
one since at some point it's nothing but
once but then if you're taking the
product of those limits you're just
taking the product of a bunch of ones so
you get a different answer namely one
luckily mathematicians have spent a lot
of time thinking about this phenomenon
and they've developed tools for quickly
seeing certain conditions under which
this exchanging of the limits actually
works in this case a particular standard
result known as dominated convergence
quickly assures us that the argument we
just showed will go through in full
rigor for those of you who are
interested sweeter has written up a
supplemental blog post to this video
which covers those details along with
many more things and I should also say
we need to be a little careful about how
to interpret a product like this
remember we have contributions from
lighthouses counterclockwise from the
keeper as well as lighthouses clockwise
from the keeper and what we did was
interleave these in order to get our
product now the lighthouses
counterclockwise from the keeper
contribute two over one for over three
six over five on and on and the ones
clockwise from the keeper contribute two
over three four over five six over seven
and like I said before if you play
around with those individual series
you'll find that the first one gets
larger and larger and blows up to
infinity and the second one gets smaller
and smaller approaching zero so it's
actually pretty delicate to make sense
out of this overall product in terms of
computing the two halves separately and
then combining them and a deed will find
that if you intermix these two halves
differently for example taking twice as
many factors from one of them for each
factor from the other you could get a
different result for the overall product
it's only when you specifically combine
them in this one-for-one manner that you
get a product that converges to pi has
this is something that falls out of the
way the dominated convergence justifies
us and commuting limits the way we did
and again for more details see the
Supplemental post still those are just
technicalities the conceptual gist for
what's going on here is exactly what we
just showed
and in fact after doing all that work
you would be ashamed not to take a quick
moment to talk about one more neat
result that falls out of this argument
arguably this is the coolest part of the
whole proof we see we can generalize
this whole discussion think back to when
we discovered our first key fact where
we saw that you could not only consider
placing the Sailor precisely halfway
between lighthouses but any fraction F
of the way between adjacent lighthouses
in that more general setting the
distance product for the Sailor wasn't
necessarily two but it was chord of F
where F is that fraction of the way
between lighthouses and if we go through
the same reasoning that we just did with
the Sailor at this location instead and
changed nothing else what we'll find is
that the ratio of the keeper's distance
product to the sailors distance product
is now n times the distance between them
divided by chord of F which approaches F
times 2 PI / chord of F as n gets larger
and in the same way as before you could
alternatively calculate this by
considering the contributions from each
individual lighthouse if you take the
time to work this out the kaif
lighthouse after the keeper will
contribute a factor of K divided by K
minus f2 this ratio and all the
lighthouses before the keeper they
contribute the same thing but you're
just plugging in negative values for K
if you combine all those contributions
over all nonzero integers K where in the
same way as before you have to be
careful about how you bundle the
positive and negative K terms together
what you'll get is that the product of K
divided by K minus F over all nonzero
integers K is going to equal F times 2
PI / chord of F put another way since
chord of F is 2 times the sine of f pi
this product is the same as f times two
pi divided by two times sine of f pi
which is f pi over sine of f pi now
rewriting this just a little bit more
what you get is a pretty interesting
fact sine of F times pi is equal to F pi
times this really big product the
product of 1 minus F over K over all
nonzero integers K so what we found is a
way to express sine of X as an infinite
product which is really cool if you
think about it so not only does this
proof give us the wallace product which
is being credible in its own right it
also generalizes to give us the product
formula for the sine and what's neat
about that is that it connects to how
euler originally solved the basel
problem the sum that we saw in the
previous video he was looking at this
very infinite product for sine I mean
connecting these formulas for pi two
circles is one thing but connecting them
to each other is another thing entirely
and once again if you want more details
on all of this check out the
supplementary blog post
this video was supported in part by
Udacity I actually recently did a bit of
work with Udacity helping to incorporate
some of the linear algebra content I've
done into their courses and the reason I
was happy for my work to be a very small
part of what they do is that I agree
with Udacity s mission namely they want
to democratize higher education we all
know that learning computer science and
AI can get you a good job
there's just way more demand than supply
at the moment but for a lot of people
going through a traditional four-year
program to get a degree just isn't a
possibility either financially or
logistical II and Udacity goal is to
give people access to courses that
meaningfully prepare them for in-demand
jobs in tech and not just with lecture
content there's lots of practice real
projects good feedback all of the things
that go into genuine skill building they
are very serious about getting people
employable skills one of the newest
offerings that I'd recommend you check
out is their school of AI whether you
just want to learn a little bit of
Python or go deep into computer vision
they've got a lot of different paths and
if you go to Udacity comm 3 b-1b that
lets them know that you came from this
channel really if this is a skill you've
been wanting to develop go take a look</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>