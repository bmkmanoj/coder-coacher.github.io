<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hilbert's Curve: Is infinite math useful? | Coder Coacher - Coaching Coders</title><meta content="Hilbert's Curve: Is infinite math useful? - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/3Blue1Brown/">3Blue1Brown</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hilbert's Curve: Is infinite math useful?</b></h2><h5 class="post__date">2017-07-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3s7h2MHQtxc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's talk about space-filling curves
they are incredibly fun to animate and
they also give a chance to address a
certain philosophical question math
often deals with infinite quantities
sometimes so intimately that the very
substance of a result only actually
makes sense in an infinite world so the
question is how can these results ever
be useful in a finite context as with
all philosophizing this is best left to
discuss until after we look at the
concrete case and the real math so I'll
begin by laying down an application of
something called a Hilbert curve
followed by a description of some of its
origins and infinite math let's say that
you wanted to write some software that
would enable people to see with their
ears it would take in data from a camera
and then somehow translate that into a
sound in a meaningful way the thought
here is that brains are plastic enough
to build an intuition from sight even
when the raw data is scrambled into a
different format I've left a few links
in the description to studies to this
effect to make initial experiments
easier you might start by treating
incoming images with a low resolution
maybe 256 by 256 pixels and to make my
own animation efforts easier let's
represent one of these images with a
square grid each cell corresponding with
a pixel one approach to this sound to
site software would be to find a nice
way to associate each one of those
pixels with a unique frequency value
then when that pixel is brighter the
frequency associated with it would be
played louder and if the pixel were
darker the frequency would be quiet
listening to all of the pixels all at
once would then sound like a bunch of
frequencies overlaid on top of one
another with dominant frequencies
corresponding to the brighter regions of
the image sounding like some cacophonous
mess until your brain learns to make
sense out of the information that it
contains
let's temporarily set aside worries
about whether or not this would actually
work and instead think about what
function from pixel space down to
frequency space gives this software the
best chance of working the tricky part
is that pixel space is two-dimensional
but frequency space is one-dimensional
you could of course try doing this with
a random mapping after all we're hoping
that people's brains make sense out of
pretty wonky data anyway however it
might be nice to leverage some of the
intuitions that a given human brain
already has about sound for example if
we think in terms of the reverse mapping
from frequency space to pixel space
frequencies that are close together
should stay close together in the pixel
space that way even if an ear has a hard
time distinguishing between two nearby
frequencies they will at least refer to
the same basic point in space to ensure
that this happens you could first
describe a way to weave a line through
each one of these pixels then if you fix
each pixel to a spot on that line and
unravel the whole thread to make it
straight you could interpret this line
as a frequency space and you have an
association from pixels to frequencies
which is what we want now one weaving
method would be to just go one row at a
time alternating between left and right
as it moves up that pixel space this is
like a well played game of snake so
let's call this a snake curve when you
tell your mathematician friend about
this idea she says why not use a Hilbert
curve when you ask her what that is she
stumbles for a moment so it's not a
curve but an infinite family of curves
she starts well no it actually is just
one thing but I need to tell you about a
certain infinite family first she pulls
out a piece of paper and starts
explaining what she decides to call
pseudo-hilbert curves for lack of a
better term for an order one
pseudo-hilbert curve you divide a square
into a 2x2 grid and connect the center
of the lower left quadrant to the center
of the upper left over to the upper
right and then down in the lower right
for an order to pseudo-hilbert curve
rather than just going straight from one
quadrant to another we let our curve do
a little work to fill out each quadrant
while it does so specifically subdivide
the square further into a four by four
grid and we have our curve trace out a
miniature order one pseudo-hilbert curve
inside each quadrant before it moves on
to
next if we left those many curves
oriented as they are going from the end
of the mini curve in the lower left to
the start of the mini curve in the upper
left requires this kind of awkward jump
same deal with going from the upper
right down to the lower right so we flip
the curves in the lower left and the
lower right to make that connection
shorter going from an order to to an
order three pseudo-hilbert curve is
completely similar you divide the square
into an 8x8 grid then you put an order
to pseudo-hilbert curve in each quadrant
flip the lower left and the lower right
ones appropriately and then connect them
all tip-to-tail and the pattern
continues like that for higher orders
for the 256 by 256 pixel array your
mathematician friend explains you would
use an order 8 pseudo-hilbert curve and
remember defining a curve which weaves
through each pixel is basically the same
as defining a function from pixel space
to frequency space since you're
associating each pixel with a point on
the line now this is nice as a piece of
art but why would these pseudo-hilbert
curves be any better than just the
snake' curve well here's one very
important reason imagine that you go
through with this project you integrate
the software with real cameras and
headphones and it works people around
the world are using the device building
intuitions for vision via sound what
happens when you issue an upgrade that
increases the resolution of the cameras
image from 256 by 256 to 512 by 512 if
you are using the snake curve as you
transition to a higher resolution many
points on this frequency line would have
to go to completely different parts of
pixel space for example let's follow a
point about halfway along the frequency
line it'll end up about halfway up the
pixel space no matter the resolution but
where it is left to right can differ
wildly as you go from 256 up to 512 this
means everyone using your software would
have to relearn how to see with their
ears since the original intuitions of
which points and faces correspond to
which frequencies no longer apply
however with the Hilbert curve technique
as you increase the order of a
pseudo-hilbert curve a given point on
the line moves around less and less it
just approaches a more specific point in
space that way you've given your users
the opportunity to fine tune their
intuitions rather than relearning
everything
so for this sound to site application
the hilbert curve approach turns out to
be exactly what you want in fact given
how specific the goal is it seems almost
weirdly perfect so you go back to your
mathematician friend and you ask her hey
what was the original motivation for
defining one of these curves she
explains that near the end of the 19th
century in the aftershock of Cantor's
research on infinity mathematicians were
interested in finding a mapping from a
one-dimensional line into
two-dimensional space in such a way that
the line runs through every single point
in space to be clear we're not talking
about a finite bounded grid of pixels
like we had in the sound to site
application this is continuous space
which is very infinite and the goal is
to have a line which is as thin as thin
can be and has zero area somehow pass
through every single one of those
infinitely many points that makes up the
infinite area of space before 1890 a lot
of people thought that this was
obviously impossible but then piano
discovered the first of what would come
to be known as space-filling curves in
1891 Hilbert followed with his own
slightly simpler space-filling curve
technically each one fills a square not
all of space but I'll show you later on
how once you filled a square with a line
filling all of space is not an issue
by the way mathematicians use this word
curve to talk about a line running
through space even if it has jagged
corners
this is especially counterintuitive
terminology in the context of a
space-filling curve which in a sense
consists of nothing but sharp corners a
better name might be something like
space filling facto which some people do
use but hey it's math so we live with
bad terminology none of the
pseudo-hilbert curves that you use to
fill pixelated space would count as a
space-filling curves no matter how high
the order just zoom in on one of the
pixels when this pixel is considered
part of infinite continuous space the
curve only passes through the tiniest
zero area slice of it
it certainly doesn't hit every single
point your mathematician friend explains
that an actual bona fide hilbert curve
is not any one of these pseudo-hilbert
curves instead it's the limit of all of
them
now defining this limit rigorously is
delicate you first have to formalize
what these curves are as functions
specifically functions which take in a
single number somewhere between zero and
one as their input and output a pair of
numbers this input can be thought of as
a point on the line and the output can
be thought of as coordinates in 2d space
but in principle it's just an
association between a single number and
pairs of numbers for example an order to
pseudo-hilbert curve as a function maps
the input 0.3 to the output pair 0.125
0.75 an order 3 pseudo-hilbert curve
Maps that same input 0.3 to the output
pair zero point zero seven five eight
zero point six eight seven five now the
core property that makes a function like
this a curve and not just any ol
association between single numbers and
pairs of numbers is continuity the
intuition behind continuity is that you
don't want the output of your function
to suddenly jump at any point when the
input is only changing smoothly and the
way that this is made rigorous in math
is well it's actually pretty clever and
fully appreciating space-filling curves
really does require digesting the formal
idea of continuity so it's definitely
worth taking a brief sidestep to go over
it now consider a particular input Point
a and the corresponding output of the
function be draw a circle centered
around a and look at all of the other
input points inside that circle and they
consider where the function takes all of
those points in the output space now
draw the smallest circle that you can
centered at B that contains those
outputs different choices for the size
of the input circle might result in
larger or smaller circles in the output
space
but notice what happens when we go
through this process at a point where
the function jumps drawing a circle
around a and looking at the input points
within the circle seeing where they map
and drawing the smallest possible circle
centered at B containing those points no
matter how small the circle around a the
corresponding circle around B just
cannot be smaller than that jump for
this reason we say that the function is
discontinuous at a if there's any lower
bound on the size of this circle that
surrounds B if on the other hand the
circle around B can be made as small as
you want with sufficiently small choices
for circles around a you say that the
function is continuous at a the function
as a whole is called continuous if it's
continuous at every possible input point
now with that as a formal definition of
curves you're ready to define what an
actual Hilbert curve is doing this
relies on a wonderful property of the
sequence of pseudo-hilbert curves which
should feel familiar take a given input
point like 0.3 and apply each successive
pseudo-hilbert curve function to this
point the corresponding outputs as we
increase the order of the curve
approaches some particular point in
space it doesn't matter what input you
start with this sequence of outputs you
get by applying each successive
pseudo-hilbert curve to this point
always stabilizes and approaches some
particular point in 2d space this is
absolutely not true by the way for snake
curves or for that matter most sequences
of curves filling pixelated space of
higher and higher resolutions the
outputs associated with the given input
become wildly erratic as the resolution
increases always jumping from left to
right and never actually approaching
anything
now because of this property we can
define a hilbert curve function like
this for a given input value between 0 &amp;amp;
1
consider the sequence of points in 2d
space you get by applying each
successive pseudo-hilbert curve function
at that point the output of the hilbert
curve function evaluated on this input
is just defined to be the limit of those
points because the sequence of
pseudo-hilbert curve outputs always
converges no matter what input you start
with this is actually a well-defined
function in a way that it never could
have been had we used snake curves now
I'm not going to go through the proof
for why this gives a space-filling curve
but let's at least see what needs to be
proved first verify that this is a
well-defined function by proving that
the outputs of the pseudo-hilbert curve
functions really do converge the way
that I'm telling you they do ii show
that this function gives a curve meaning
it's continuous third and most important
show that it fills space in the sense
that every single point in the unit
square is an output of this function i
really do encourage anyone watching this
to take a stab at each one of these
spoiler alert all three of these facts
turn out to be true you can extend this
to a curve that fills all of space just
by tiling space with squares and then
chaining a bunch of Hilbert curves
together in a spiraling pattern of tiles
connecting the end of one tile to the
start of a new tile with an added little
stretch of line if you need to you can
think of the first tile as coming from
the interval from 0 to 1 the second tile
is coming from the interval from 1 to 2
and so on so the entire positive real
number line is getting mapped into all
of 2d space take a moment to let that
fact sink in align the Platonic form of
thinness itself can wander through an
infinitely extending and richly dense
space and hit every single point
notice the core property that made
pseudo-hilbert curves useful in both the
sound to sight application and in their
infinite origins is that points on the
curve move around less and less as you
increase the order of those curves while
translating images to sound this was
useful because it means upgrading to
higher resolutions doesn't require
retraining your senses all over again
for mathematicians interested in filling
continuous space this property is what
ensured that talking about the limit of
a sequence of curves was actually a
meaningful thing to do and this
connection here between the infinite and
the finite worlds seems to be more of a
rule in math than an exception another
example that several astute commenters
on the inventing math video pointed out
is the connection between the divergent
sum of all powers of two and the way
that the number negative 1 is
represented in computers with bits it's
not so much that the infinite result is
directly useful but instead the same
patterns and constructs that are used to
define and prove infinite facts have
finite analogs and these finite analogs
are directly useful but the connection
is often deeper than a mere analogy many
theorems about an infinite object are
often equivalent to some theorem
regarding a family of finite objects for
example if during your sound to site
project you were to sit down and really
formalize what it means for your curve
to stay stable as you increase camera
resolution you would end up effectively
writing the definition of what it means
for a sequence of curves to have a limit
in fact a statement about some infinite
object whether that's a sequence or a
fractal can usually be viewed as a
particularly clean way to encapsulate a
truth about a family of finite objects
the lesson to take away here is that
even when a statement seems very far
removed from reality you should always
be willing to look under the hood and at
the nuts and bolts of what's really
being said who knows you might find
insights for representing numbers from
divergent sums
or for seeing with your ears from
filling space
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>