<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Binary, Hanoi, and Sierpinski, part 2 | Coder Coacher - Coaching Coders</title><meta content="Binary, Hanoi, and Sierpinski, part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/3Blue1Brown/">3Blue1Brown</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Binary, Hanoi, and Sierpinski, part 2</b></h2><h5 class="post__date">2016-11-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bdMfjfT0lKk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back so in the last part I
showed a way to solve towers of Hanoi
just by counting up in binary a solution
that I learned from computer scientists
Keith Schwarz if somehow you landed here
without watching that you probably want
to go check it out here in this video I
want to describe a constrained variant
of that puzzle and how it relates to
finding a curve that fills your Pinsky's
triangle the variant is that the you
know sums that you can think of these
disks are in a line you're only allowed
to move a disk from one spindle to an
adjacent one and so now the question is
solve towers of Hanoi so it's for
example like in the previous one we
start by moving disc 0 to be in the next
move was to move disc 1 over to see but
you can't do that because you can get
one straight over to see exactly so so
it's more complicated but the idea for
this modified version is still similar
so if I want to move disc three let's
say I'm trying to get it from A to C so
as before
I can't move dist:3 unless this tower
above it to 1 and 0 are out of the way
so ultimately I'd like to get this tower
to be not flocking it but there's two
ways it can block it now so previously
just had to not be on top now it has to
not only not be on top it can't be
adjacent either so really what I want to
do is take this tower of 0 1 &amp;amp; 2 and
somehow I don't know get it two things C
then move disc be over then get it off
of C back to a then move disc 3 from
spindle be the spindle C and then move
that tower all the way back
the smaller case breaks down essentially
the same way you solve it for two disks
move disc number two solve for to again
move disc number two then solve for two
disks yet again
as you keep subdividing in this
self-similar pattern expanding each
subproblem into its own set of
subproblems eventually you get to the
smallest subproblem of them all moving a
tower of size one which just involves
moving discs number zero twice
as with the unconstraint case this is
going to give you the most efficient
solution since at every scale you're
only doing what you have to do you have
to move that sub tower with 0 1 &amp;amp; 2 over
to peg see if you plan on moving disc
number three and you have to move it
back to a in order to move disc 3 again
and you have to move it all the way back
to see a third time there's just never
any room for inefficiency once you break
it down in terms of subproblems like
this and just as the unconstrained
puzzle mirrored the pattern of counting
in binary the breakdown of this
constrained problem is mirrored by
counting in base 3 also known as ternary
here let's take a moment and talk about
what base 3 feels like what the rhythm
of counting there is so as you know our
usual counting system base 10 has ten
separate digits and binary or base 2 has
two separate digits so ternary is a
system of representing numbers where you
only have three distinct symbols
available 0 1 &amp;amp; 2 I don't even know what
you call them so it's not a bit as on
digit is it at RIT that's just I think
we're talking about this really really
this doesn't sound right they are indeed
called tricks but hey if that sounds a
little bit off to you just ask a French
speaker how they feel about our
convention of calling binary digits bits
anyway back to what we were doing let's
think about the rhythm of counting in
ternary you start by just counting
through the tricks 0 1 2 then you have
to roll over to a second trip in the
threes place then you count to 4 which
is 1 1 5 which is 1 2 and you have to
roll over again 2 to 0 representing 6
then to 1 to 2 at which point you have
to roll over twice to the nines place
writing the number 9 as 1 0 0
just like base two and base ten there's
a certain self similarity to this
pattern at all scales it looks like
counting up to some amount rolling over
counting to that same amount rolling
over again then counting to that same
amount a third time but this is the
pattern that we just saw with the
constraint hours of Hanoi do a subtask
make some kind of larger movement do a
subtask
make that same larger movement then do
the sub task a third time
so just like binary counting mirrors the
solution to the unconstrained towers of
Hanoi counting in ternary is going to
mirror the recursive pattern for solving
the constraint hours of Hanoi this gives
a really nice and methodical way to
solve the constraint problem just by
counting every time you're only changing
that last trip move disk number zero so
for the first two moves when you're
counting one two you'll be moving disk
zero whenever you roll over just once to
the 3s place such as when you count from
two up to three represented by one zero
you move disk number one and continuing
on like this you'd flip the last move 0
flip the last move 0 roll over writing
to 0 and then move disk 1 then twice
more you flip the last and move disk 0
then whenever you roll over twice to the
nines place you move disk number 2 again
it's pretty fun to just sit back and
watch this play out
it takes a while though for four discs
you're going to have to count all the
way up to 2 2 2 2 which is ternary 4 3
to the fourth minus 1 which is 80 that
means that solving this involves 80
steps nevertheless like I said before
this is the most efficient solution but
this also then gives you something very
cool you can ask how many different
configurations are there or four four
towers of nice actually let's take a
moment and think about this how many
total configurations of disks on pegs
are possible where the disks on a given
peg have to be in descending order of
size
the answer is 3 to the 4th 81 possible
states that your puzzle can be in to see
this notice that there are 3 choices for
where to put that biggest disk
then three choices for where to put the
next-biggest disk
and for each successive disc you have
three choices for where to place it
you
and remember this process of solving by
counting in ternary involves taking 3 to
the 4th minus 1 steps which means from
start to end you're going to hit 81
different configurations and if you
think about it it can't hit a given
configuration twice if it did there
would be some more efficient solution
out there by working up to the first
time where you hit that configuration
then skipping over everything in between
that and the second time you hit that
same configuration than just continuing
I have an assent sort of a grantor this
will not only solve towers of noise this
will go through every single possible
configuration of the disks pretty cool
right well here's where things get
awesome for those of you familiar with
graphs there is a very beautiful
structure to these configurations what
I'm going to do is represent each one of
these configurations with a dot a node
in our graph
then we say that two different
configurations are connected if you
could move from one to the other with
some legal towers of Hanoi move and this
time I mean an unconstrained move so
configurations are still considered
connected even if it requires a move
from peg to peg see when you go through
and connect all of the configurations
like this finding all the edges that
represent some kind of move the graph
structure for towers of Hanoi has this
suspiciously familiar shape now let's
zoom in on it and think about where this
pattern is coming from for example this
node here representing the start state
with all the disks on peg a is going to
be connected to this one which is the
result of moving disc 0 over to peg B
and both of those are connected to this
one which is the result of moving disc 0
to peg C these three configurations make
up a little triangle in our graph that
is the three configurations are all
mutually connected to each other in fact
any configuration is going to be part of
one of these triangles somewhere in the
graph you just consider what happens as
you freely move around disc number zero
among the three pegs
now to understand how these little
triangular islands are interconnected
take a look at these two nodes they
differ only by a movement of disk number
one from peg to peg see so they're going
to be connected by an edge this edge is
kind of a bridge between two different
triangle islands in fact those two
triangles along with this other one form
kind of a meta triangle when you
consider all the movements of disc one
each little clump of three nodes here
represents a different position for disc
number one and the triforce pattern as a
whole represents all configurations you
can get by moving around discs number
one or zero
and self similarly a movement of disk
number two gives you a bridge from one
of these triforce patterns to a new one
and the three possible places where disc
two can live give us these three
separate triforce patterns which are
each connected by a little bridge the
fact that there are only two nodes in
one of these triforce patterns that has
an edge going out of the pattern itself
is just a reflection of the fact that
it's hard to move disc number 2 that
only happens in those very special
configurations where disc 1 and disc 0
are both out of the way
as you consider more and more discs this
pattern continues the graph structure
for towers of Hanoi configurations is
one big sierpinski triangle isn't that
crazy so now let's think about what it
means for this method of solving the
constrained problem by counting in
ternary to walk through all possible
configurations what it's going to give
us is a way to wander through this graph
and hit each node once and only once
this is crazy to me if you just look at
the sierpinski graph structure it's not
clear at first that such a path is even
possible
and yet we found one just by Counting if
that's not beautiful I don't know what
is
for the final animation here I want to
show you guys what those paths look like
for sierpinski graphs of higher and
higher order but first some thanks are
in order for the fine funders of this
video as always my sincerest gratitude
to the patreon supporters like I
mentioned in the last video I've started
working on an essence of calculus series
and so far I'm really appreciating the
feedback the patrons are giving this
pair of videos was also supported by
desmos like I said at the end of part 1
desmos creates these really meaningful
interactive math activities for
classrooms and pretty great tools for
teachers and importantly they're hiring
so anyone out there interested should
definitely check out the careers page
that I've linked in the description and
by all means reach out to them if you're
interested there are a lot of EdTech
companies out there that make some
flashy tools in the hope of bringing
modern technology to math curricula but
often there's not actual pedagogical
substance underlying the tech I really
do think though that desmos is going
about things the right way I was
surprised by the amount of collective
teaching experience that they have among
their team and even the non teachers
that I met there are really thoughtful
and really well-versed when it comes to
educational research the result is that
their activities actually address what's
lacking and needed in a student's
education so if you're interested in the
EdTech space and if you're interested in
going to a place that you know actually
matters I highly encourage you to take a
look
all right so for this last animation
here I'm going to show the path that
walks through this your Pinsky graph
according to the way in which ternary
counting solves the constraint towers of
Hanoi puzzle if I fade out that graph
just to emphasize the path here's what
it looks like for higher and higher
orders corresponding to towers of Hanoi
with more and more disks what you're
seeing is very similar to the idea of
space-filling curves that I talked about
in the Hilbert curve video it's just
that the limit here feels a fractal
instead of the square isn't that crazy
you can have a curve that feels you're
Pinsky's triangle which I totally don't
think of as a curve type thing
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>