<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make an Ionic 2 App (WifeAlert, ha!) | Coder Coacher - Coaching Coders</title><meta content="How to Make an Ionic 2 App (WifeAlert, ha!) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DesignCourse/">DesignCourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make an Ionic 2 App (WifeAlert, ha!)</b></h2><h5 class="post__date">2017-01-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/X77SvygGTkU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys I think my wife's been
cheating on me so I made this app wife
alert and I think he's here
come to do this fast I she says she's
leaving so that's the garage door by the
way and I buy centimeters distance of
say 200 meters and she leaves it's going
to send me a text message and I'm going
to find out what the hell's going on
here alright yeah so hello tonight I got
to go
I mean New York for 10 of so here's your
phone
ok we're staying here right yeah
all right guys
driving I just got a text I'm not sure
if it's going to be what I think it is
but I
now wasn't that just a complete waste of
time in with horrible acting but one
thing that's not fake is the app which
I'm going to show you how to build now
it uses three different ionic native
plugins
the first is geolocation which helps get
the phone current GPS coordinates and
then geofence which will help us
establish a radius through the range
slider that we saw at the beginning of
the video and then also the SMS native
plugin which will help send a text
message if that geofence parameter is
broken so this is the filly app
obviously may be of interest to a weird
stalker person but really the value in
it is just understanding how to work
with different ionic native components
as well as plugin to help build a sort
of unique type of app so remember this
course is a part of the free ionic
course at course cetera comm make sure
you subscribe here at youtube if you
like seeing silly stupid like that
in the beginning and let's go ahead and
get started all right so the first thing
you want to concern yourself with is to
make sure that you have ionic and in
Cordova installed now if you don't
please refer to this earlier clip that's
a part of this free ionic course that
will show you how to install ionic to
and start a project alright now once you
have both of those things installed
we're going to go ahead to our console
in wherever you store your project mines
in a photo card code and we'll type in
ionic start and then the name of the
project going to be wife alert and then
the blank template and then just - - v2
or ionic - so I'm going to let this run
just for a second and I'll come back and
then once that's done CD wife alert okay
now next thing we want to do is install
the ionic native plugins that we're
going to be using and there's three of
them and those three are geolocation
geofence and SMS so the way we do that
instead of typing this all out I'll put
the initial part out actually so I not
ionic plug-in ah
and then we add the names of the plugins
that we want to add now it's not just
simply geofence or plugin or gee where's
the geolocation in SMS you have to go to
the official documentation of ionic
native for that particular plugin and
we'll let you know the name so I'm going
to copy and paste this off-screen I'm
going to paste this so the first one is
Cordova
- plug-in - geofence and then to your
location here and then the SMS plug-in
hit enter and it will take just a moment
to install these alright good so
geolocation is going to allow it to
fetch the phone's current position using
GPS now geofence will allow to define a
radius around the GPS coordinates in
meters so it will also allow us to
monitor the position and execute some
sort of tasks such as sending an SMS
text message I once the fence is broken
or entered so it gives us a lot of
flexibility in terms of what we want to
do okay now the next step simply because
we're already here in the console we're
going to generate just one page so apart
from the home page that we're going to
use we'll use the second page called
active and that will be displayed when a
geofence has been defined or if it's
active so the way to generate a page
we're going to use ionic again G for
generate page and then the name of the
page will name active okay and now we
want to add Android to the project so
I'm going to be building out my project
for an Android phone since that's what I
own now in order to do that you have to
add Android as a platform with the
Cordova CLI now you will need to add
either the Android or iOS depending on
what you're currently developing on as
this project is not going to work well
obviously on a desktop environment we
need to be able to get up and go
somewhere just to test it I so for
Android you're going to need Android
studio which is a huge 1.5 gigabyte
download and it's not that you really
need Android studio it's just that it
contains the Android SDK and you're also
going to need to install Java
so there's a platform guide though that
gives you all the information that you
need for both iOS and Android depending
on which one you're going to add or if
you're going to do both so here is the
guide for Android and it's going to let
you know everything you need the
installation requirements so it's going
to need the Java development kit the JDK
gives you a link for that let you know
what you need to do same thing we're at
the Android SDK I going to let you know
how to set these environment variables
which you're going to need in order to
run this cordova command to add android
and also here's one for iOS so it's a
little bit lengthy it can be a pain in
the butt
to try to get working with just
obviously you have to do it so there's
no getting around this step now once you
do have it installed and you think
you're ready to go at least well we'll
go ahead here in the console and type in
cordova platform ad and I'm going to add
Android so what this is going to allow
us to do is to connect our throne
through USB and we'll run a command at
the very end where we'll run the project
and we'll get the plot the app actually
running on our phone so we could test it
out that way
so this is going to take a little bit
time so I'm just going to pause and come
back alright so if everything went
smoothly or should I look something
similar to this certainly there should
be no errors or anything that you know
prevent it from being successful here if
you do just look at what the error is
and go to Google and it will help you
alright so now the next step around I
have headed over to our editor and I'm
using Visual Studio code and we need to
go to the home component so that's
located in the source go to pages and
you can see we have our two pages here
the one that we generated which is
active and then we'll go to home and
then home tes so the first thing we need
to do to ensure everything works
correctly is to worry about what we need
to import now in order to get this
working so we have our two imports
already we also have to add in
form from the ionic angular library so
we'll put a comma right here and it's
based platform now we also have to add
in reference to our active page that we
imported right there and then also we
have to import our three ionic native
plugins and I'll paste that in up here
so that's geofence to your location and
SMS from ionic native native right there
alright so after that let's now worry
about our class home page right here and
everything that goes inside of here so
the first thing we're going to define
just a few properties so one is going to
be a radius of a type number and by
default we'll make it 100 and this is
going to being meters so whatever this
number here is specify that that's where
our range slider in the future in the
template is going to be set at by
default when it loads up now let's also
specify a property for error let's make
it up type any and success of type any
as well okay so now let's worry about
our constructor so we're already passing
in and this is by default from the CLI
degenerates it now controller we also
have to add in platform so private
platform and we bind it to platform
which we imported up here alright so
platform we can use the ready method and
I'm going to paste in just some code
here actually instead of pasting in
August up platform and we add a ready
method we can see it's right there and
then then and we bind this to inside we
put geofence initialize then and we
and console.log geofence plug-in ready
and this by the way is code that I
grabbed just from the documentation and
if on error console log error alright
and so all that's happening here is once
the device is ready which is defined
right here in platform ready then it
will start the geofence plugin through
initialize right here okay and then
underneath the constructor we're going
to have a quite lengthy method so this
ends just down here and condense things
just a little bit so underneath the
constructor we're going to have a method
called set geofence and this will be
called when a button is clicked in our
template
alright so it's going to take an
argument of value and really this is
going to be the radius that we pass in
and inside of here the first thing we
need to do is call to your location to
get our position so geolocation and get
current position you can see is right
here and inside of here we pass in an
argument and this is optional but we
want to enable enable high accuracy and
we set this to true because by default
it's not and this will allow us to only
return a high accuracy GPS position
which is definitely what we want and
then also we're going to put then we'll
bind the response here and inside of
here is where we're going to use our
geofence so we're going to create three
variables so longitude equals response
chords longitude and if you're kind of
confused about where I'm getting this
from you want to refer back to the one
of the previous lessons in this course
where I show where all this information
is coming from based on the
documentation
now I'm going to copy this real quick
paste it we also need latitude and then
also radius radius we're just going to
bind to the value that's passed in and
our method up here alright then you can
find cents and this is going to take in
several properties of ID so we can make
this ID dispense ID to be whatever we
want so I'm going to call out my
geofence ID one takes in the latitude
and this goes to our latitude variable
also longitude also a radius just down
to a radius variable and then also
transition type and this could eat cool
either one two or three and one would be
if they enter a geofence then
something's going to happen to zip is a
leave one or three is both so we just
want number two and for this type of
fence and transition will only be called
if they leave okay
so additionally after that we call
geofence add or update and then it takes
infant which we defined above it then on
success this success equals true and
then on error this error equals failed
to add or update to the fed and that's
it there so we'll add our semicolon and
then also geofence on transition
received we're going to subscribe to it
and bind a response to and then in here
is where we pass in our text message
through SMS so SMS dot send this is
where we put in a phone number and it
should be the different phone number
obviously the device that this app is
being run on and then this is where we
pass in at any type of I the actual text
message so this is the message it could
be you know she left the damn fence
something ridiculous now also note I if
you're running this app for the first
time it's going to request permission so
she leaves the fence or whoever leaves
the fence it's going to pop up and say
do you want to give this AI app
permission to send a text smashes in
which case you're like what the hell is
going on here so you can one not want to
run that first and then also just for
your own if this is not a serious app I
hope you don't use it I it will show in
their text messages history so they're
like what word I never sent this okay
anyhow once that's done we'll go ahead
and use this nav control and this is
defining through the dependency and
depth injection by default when the CLI
generated this component we're going to
push it to the active page and let's see
this looks pretty good here so far now
at the very end we're going to put if
it's not successful we're going to catch
error and this is this error equals
error so what this is saying is I if the
geolocation get current position is not
successful then for whatever reason
we're going to put this and find this
error property to the error response all
right that looks good to me
so go ahead and save that and now let's
go ahead and worry about the HTML so for
the home page we're going to get all of
this so all I'm going to do is post
paste
paste in this stuff from the written
tutorial and all it's happening here is
just we have you know our heading tag
wife alert we have we're going to be
like a loader just just for aesthetic
some interesting is going to be
animation and I got that from code pen
by the way we have a custom div class
bottom container and then also tied up
here we have our a couple of ion
compiled the ionic components rather I
am item and then to range right here
we're using to a data binding on
ng-model
on something called radius this by the
way is defined right here and then also
we're creating a reference called radius
Val this gets passed to this button down
here on click event which is being set
to our custom lengthy method that we
created over here and this value it's
getting from right here this radius Val
which is in reference to here dot value
all right so we're also using some
attributes so we have the min attribute
set at 40 so they can't go or specify a
distance less than 40 meter meters a
maximum of 300 meters again you can
change all the stuff if you want color
is set to primary and we're going to be
customizing that by the way pin equals
true so when I you touch this range
slider a little pin with the actual
number is going to show up
snaps equals true and also step equals
20 so you can only go in increments of
20 meters and that is pretty much it yes
we have ngf conditional you know if the
arrow property is present and show show
the error and that's it let's go ahead
and save that and we'll go ahead also
and worry about the sass here or the CSS
file for home and once again I'm going
to be pasting in just in two different
blips I've just some CSS rule set real
quickly yeah just this stuff right here
so I'm targeting the ion range and
item I components here for background
color we're sending this to transparent
and you may be wondering why would why
did I know or how did I know to do all
this well as I was developing this
project initially I was using the ionic
serve - L command so that I could see
what it looks like in the browser and
then bit by bit once I saw what I wanted
to change based on the look of the
interface you know these are the CSS
properties and values that I had to
define so you know ion range for example
when I an item had a background color
that I just didn't want there so I set
the background color to transparent I
also had to add this because I didn't
reference them directly through an ID or
a class or anything so I added important
and it would work and also you have the
small stuff like this like setting the
color from I think you by default it was
black so I set it to white item inner
same thing just adding just some
different five CSS rule sets basically
on these different areas so I'm not
going to go through all these exactly
you can go through them yourself if you
wish to understand better what is
happening okay also great down here this
may be wondering what is that I the
little pin that shows up was only
showing up when you touched it but I
wanted to show up indefinitely like all
the time so I did a search on Google and
I found that this is how you make a
range pin stay so again a lot of the
stuff you just have to Google if you're
trying to figure something out
that won't work all right and then also
I'm I found a loading graphic I've that
it with CSS only in code pen and so this
is where all that HTML that I found that
I pasted in so I just pasted us all in
here by the way to find all of this if
you're wondering where I'm pasting
copying pasting this from it's from the
written tutorial that's part of this
lesson so it's right here at this URL
okay so once you paste all that in save
it and then I want to head on over to
another sass file and that's in the app
app dot s CSS we're only going to create
one CSS rule set here and I created a
custom page class and we're giving it a
background color of right there save
that and then also we want to go to
another one in our theme variables and
we're going to just define a custom
primary and secondary value right here
so I pasted those in and the new values
are right here for primary and secondary
and you want to save that as well okay
so now we want to focus on the active
page so this is the page that shows up
after somebody clicks and it
successfully sets a geofence
so that will be under pages active and
active TS so we want to import a couple
other things that aren't here and are
present at the top so one is to import
geofence and also the home page I'm
going to get rid of this stuff here
that's generated automatically and then
inside of our active page class we're
going to create a single method and
that's remove fence and this is going to
be called in the active HTML on a button
and all we're doing is calling geofence
dot remove all that's going to remove
all the geo fences and then also push
them back to the home page right here ok
so that's all we need for this component
now also in the HTML I'm going to gut
all that and we're going to paste in
this this is actually very similar in
structure and style to the home HTML so
we just have our our wife alert or
loader here our graphic we have this
time just di on label it says monitoring
currently activated and then also a
button that we're bonding to the remove
fence method that we just created and
that's it so let's save that and then
also finally we just have to make a
couple adjustments to our app module at
TS and that is we need to import the
active page that we Jen
rated and fortunately the CLI doesn't do
that for us so we have active page from
the directory structure there and then
we also will add it to the declarations
right here and also the entry components
right there all right
so if we're lucky at all it's going to
run as is because we're finished with
the development portion so now we'll go
back to our console and my phone is
connected so I'm going to type in ionic
run Android device so I'm going to go
ahead and wait a while for this to run
through because the first time you do
run it it does take quite a while so
I'll come right back
alright so initially it I it loaded and
everything and when I clicked set to you
offense it gave me an error and that's
because I had a typo I not sure if you
notice it when I was typing but if you
did the same thing I had an error right
here a typo on transition received so I
fixed that and I ran the command again
and now it works and initially once it
loads up it should present you with I if
you're running on Android at least you
know allow Y wave alert to access
devices location you hit allow and then
you can specify down here with the the
range slider the distancing meters set
geofence and there you go I so now if
you're to take your phone I and maybe
bring along another phone or call
somebody who has the other phone that
you bound the number to whoever you're
sending that text once you exceed you
know the distance set here in your range
it should send a text message however it
will prompt them first for the first
time to allow access to send a text
message alright guys so hopefully you
enjoyed that 3i on a course check out
corset recom for more ionic content and
also subscribe here at YouTube if you
haven't yet alright I'll see you later</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>