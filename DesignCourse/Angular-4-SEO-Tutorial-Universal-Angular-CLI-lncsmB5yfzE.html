<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 4 SEO Tutorial (Universal + Angular CLI) | Coder Coacher - Coaching Coders</title><meta content="Angular 4 SEO Tutorial (Universal + Angular CLI) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DesignCourse/">DesignCourse</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Angular 4 SEO Tutorial (Universal + Angular CLI)</b></h2><h5 class="post__date">2017-05-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lncsmB5yfzE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone Garry Simon of course
cetera comm and today we are going to
tackle a topic that has been a major
pain in the ass for a lot of angular
developers myself included and that is
the topic of making your angular app
search engine friendly and that's going
to be with the help of angular Universal
let's get started
oh but real quick before we begin make
sure you check out my site course cetera
comm where you're going to find a bunch
of courses on modern design and
development a lot are free and others
you can access for the cost of buying me
like x-pac each month that's it now also
it probably wouldn't hurt to subscribe
here on YouTube and be sure to make sure
the notifications are turned on alright
let's get back to it alright so I like
to demonstrate pretty much all of my
tutorials by starting a new project just
so we're all on the same page so we're
going to use the angular command-line
interface to get started if I'm going to
assume you already have installed being
that you know you're interested in
angular SEO by default but if not check
out corset accom for our free angular
board from scratch course which will
show you all that stuff like installing
the CLI and all that okay so assuming
you're ready to go new or rather ng new
and we'll just name this egg for - SEO
and we also want to add a routing flag
and this will automatically set up just
some basic routing files and it will
also import it into our app module ts
file alright so I'll pause alright so
let's go ahead and CD into it after it's
finished okay so once we're in the
project folder which we are we're going
to use NPM to install the platform
server which is needed for the
server-side rendering and generating two
HTML pages we must also install the
animations package which is something
new to angular version 4 plus otherwise
if you don't your app will result in an
error near the later portion of this
tutorial when we go to actually run it
alright so to do that npm install save
it to our package so jason angular
forward slash platform
armed server and then also angular
forward slash animations alright so once
that is finished we're going to open up
a code editor I'm using Visual Studio
code as usual and we're going to head on
over to our app module file so source
app app module TS
let's close this stuff out the only
thing we have to change right here is or
add rather is we're going to I'm going
to paste this in right here so this is
with server transition method and we
pass in an app ID and I'm just going to
give it the name that we generated it
with the angular command-line interface
so again the only thing that's changed
is the browser module and we've added
this with server transition which takes
the app ID and that is shared between
the client and the server so this with
server transition allows Universal to
replace the HTML that it generated on
its own essentially so to save this now
next we're going to go ahead and create
a server app module and this is used to
bootstrap the app from the server and so
real quickly let's get control B just to
get out our side bar and we're going to
create a file named app dot server dot
module TTS all right so now within here
we're going to paste in and by the way
you can follow along with the written
tutorial as a site and you can check the
youtube description here for that link
and that way you can easily paste the
stuff in instead of you know having to
type it out line by line all right so
I'm pasting this following information
here now if you compare it against our
app module you'll see that they're very
similar but the main takeaway here is
that this module is for this server
right here ok so next we're going to
create the actual Express server so
again this is something you'll want to
copy from the written tutorial and just
paste right in so we'll hit ctrl B
and we're going to add this right into
source folder so if I just click on any
file here create a new file called
server TS and I'm going to paste in what
we need to here and hit ctrl B now
notice real quick right off the bat the
red squiggly line that's simply because
we don't yet have a dist folder because
we haven't actually ran the app yet all
right so the main takeaway here I that I
want to cover it because I'm not going
to cover everything simply because you
know this is an express server that's
being set up essentially and it kind of
goes beyond the scope of this tutorial I
don't want to go off on a tangent or
some other random stuff but the one area
that is relevant based on what we're
trying to do which is server-side
rendering and angular SEO is this
section this section right here this
render module Factory so render module
factory takes in this app server module
ng factory and that's jet basically
right here and that's generated from
this folder that will be created in the
future and it is basically the compiled
angular app from the server and then it
serves it up as HTML alright so let's go
ahead also and visit two different types
typescript config files hit control B so
the first one is going to be right down
here TS config app jason and we have to
include real quickly this server file
that we created just moments ago and
then also in the very root we have our
TS config JSON file down here and we're
going to add in a section for angular
compiler options so again this is one of
those times when you want to just copy
and paste this a little bit that's not a
lot but I don't want to sit here and
type it out forever so it goes just
after this bracket right here this
closing bracket we put a comma and just
paste this in
and so this angular compiler options it
allows us to specify two different
things we have this gen directory right
here which is where the generated ng
factory files for the components and
modules will go and then also an entry
module which accepts the path of our
main bootstrapped module so this part
right here is simply the path or the
name of the exported class inter-app
module all right you can see it right
there all right so for the rest of this
if you want to go through and try to
understand what's happening more
specifically you're free to do that on
your own but go ahead and save that also
make sure you save this in your other
files and the last thing we have to do
just to get it up and running with the
default project that angular the CLI
generates we'll just go to our package
set JSON file and that is right here and
we're going to adjust just this script
section all right so we're going to get
everything from here I
you could probably leave almost all it
if you want with exception to start or
if you want to rename the commander that
we're about to enter that's fine as well
again I'm just going to go ahead and
copy and paste just two lines here and
it's going to gut everything and there
we go
so first we the real command is start so
we're going to access this by running
NPM run start and before that runs
because we've added pre before this name
here it will run this first so we have
ng build - - prod and that's for
production build and that runs it
through äôt and all that stuff and
then we also run the server afterwards
so two things essentially happen there
at that point so let's go ahead and save
that and now we're ready to rock so just
before we run that command if we go to
index dot HTML we'll see in here we have
this loading I this is usually what will
show up all this HTML when you view the
source of an angular app and it doesn't
matter on what route or page or
component that you're on you can do the
url's difference usually just going to
show
this loading stuff yeah that's why it's
horrible for SEO obviously I but now
that we've done all that setup work
you're going to see that instead of
saying loading here it's going to show
whatever is inside of our app component
template right here and this title is
coming from app component and says app
works so we'll see app works there
instead of loading assuming everything
worked out okay so let's go ahead back
to our console and I'm going to run npm
run start all right so it's running that
first line from pre start it's going
through hopefully you don't encounter
any red errors there we go and now it's
going to run that server and it'll be on
localhost 4000 I believe all right so
let's check it out all right so this is
what we always see by default but this
is obviously not what we're here for
we're going to right click and view the
page source and this time we see app
works there we go now that is angular
universal and server-side rendering in
the fact that it shows app works here
and not just that standard uploading so
now just to further reinforce and
experiment with some other things that
are pertinent to angular SEO such as
title tags you know being able to create
unique and define unique title tags and
also made a keywords descriptions etc
let's go ahead and generate a couple
components and do a little bit of extra
work just to simulate a very you know
dry app essentially so let's go back to
our code editor
I actually know we're going to go back
first here ctrl C to get out here hit Y
and we're going to generate just two
components here and if you try to run
let me just show you something that's
going to fail if we use the CLI and G
generate component and we'll just called
home watch what happens
all right error locating module for deck
Euler declaration multiple module files
found so how do we fix
well let's go ahead hit the up-arrow key
and we're going to add - - module equals
app module TS so we're specifying which
module this should go in which is the
default app module TS file all right so
let's also hit the up arrow key and do
one more and we'll just call this about
alright now let's go back and let's go
ahead and set up our routes so when we
use the command line interface to
generate this project we added the - -
routing flag and so that generates this
file right here so now we want to go
ahead and import our about component and
our home component and again I'm just
going to copy and paste this from the
written tutorial alright and then let's
also set them up here within our routes
so again probably just worth pasting
this in because not much is really
changing so we just have two different
routes so by default we're setting the
path you know just basically home and
the component is going to be the home
component that it shows by default and
then also our path of about it's going
to be bound to our about component very
simple alright so next let's go into our
app component template so we're going to
come down to our app component HTML and
inside of here instead of having just a
h1 we're going to just create a very
simple navigation again I'll paste real
quick alright so we're creating an
unordered list just with our two links
so there's just going to you know the
route and then we also have about four
about so we'll save that and then we're
going to add title and meta tags to our
two components that we just generated so
let's first go to home and we'll go to
home component TS all right so this one
in order to access the ability to change
the meta tags in the title we're going
to import maida and title from
angular platform pipe and browser all
right so then we use dependency
injection to access an instance of maida
and title up here so simply made a title
oops no maida sorry about that and then
title to title and then inside of here
we'll go ahead and set the title so
title we use the set title also notice
the show doesn't get title as well if
you ever need to get the title and then
I'll just call this my stiffy home page
that's horrible and then also we'll use
meta we can see we have several
different methods that we can use this
time you want to add them so we're going
to add multiple tags so add tags and
inside of here we're going to have let's
see we'll have first is our name so the
name of this meta tag is going to be the
author made a tag so then the content or
the value inside of it or whatever it's
bound to is going to be all this well
could be your awesome obviously it's
going to be a name I'll just put
Karstetter calm though all right
and then we separate these that doesn't
go there sorry about that I we separate
these here into different objects so now
we have I keywords and description down
here and then Armada keywords you know
as you can Majan angular oops angular
for tutorial angular SEO whatever and
then just down here this is my great
description okay so let's save it and
now we're going to repeat that exact
process for the about component so first
we'll copy this will go into our about
folder and go to our about component
pace that come over here copy just the
constructor and then paste that as well
and this time we'll just change it up
slightly the author I'll just put my
name this time I'll just put kws for
keywords and then I'll just slam on the
keyboard just so we can see the
difference really easily okay alright so
now real quickly I just want to go into
the about component and I'm just going
to paste in just a sentence of text all
right so just so we can see it there as
well and now we can go ahead and run NPM
or run start so NPM run start so we'll
wait alright there we go and let's check
it out so notice we have the my spiffy
home page the rules like worst title
ever and I we can view page source will
see that they made out name author tag
is here we got the keywords right here
and then we have the description right
here alright so let's also check out the
about page all right so let's refresh
this and I forgot to update the home
page for the about no big deal though
because if we view the page source we'll
see that if i refresh there we go we
have the automated the time as Gary
Simon for the about component keywords
which is just kws and content for
description is all these a's and also
down here this is my lovely description
that i want Google to see and that is it
that's basically angular Universal and
server-side rendering and SEO in a
nutshell so make sure you check out
course set road comm if you think this
is helpful because we have a bunch of
other angular related content tutorials
courses and all that good stuff
also subscribe here on YouTube see ya</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>