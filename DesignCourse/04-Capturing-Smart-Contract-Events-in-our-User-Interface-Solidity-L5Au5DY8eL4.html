<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>04. Capturing Smart Contract Events in our User Interface (Solidity) | Coder Coacher - Coaching Coders</title><meta content="04. Capturing Smart Contract Events in our User Interface (Solidity) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DesignCourse/">DesignCourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>04. Capturing Smart Contract Events in our User Interface (Solidity)</b></h2><h5 class="post__date">2017-10-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/L5Au5DY8eL4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Oh Gary Simon of course Seto and today
we're continuing on with the 100% free
course which is developing aetherium
smart contracts for beginners all right
so if you're just landing on this at
YouTube or my site or udemy without
watching the first three videos that are
part of this series make sure you do
that first otherwise you might have a
difficult time understanding alright so
in this tutorial or this lesson we're
gonna be discussing what solidity events
are in smart contracts alright so in
simple terms the purpose of an event is
to provide JavaScript callbacks in a
user interface and this allows you to
execute code based on whether or not
these events were successful and you can
also pass from the contract values that
you can then use in your JavaScript
alright so in our example we had the
core set row contract where you can set
the instructors name and age and then
when a user sets it in the user
interface nothing happened really you
had to just go up to the browser and
refresh it well that's not very user
friendly so that's kind of what the
purpose of events are for okay so what
we're gonna do is first we're going to
take a look at the current contract so
I'm going to switch over to my browser
and this is what we have going here
again if you're just landing here this
is gonna be confusing so I would really
suggest watching from the beginning of
this course alright so the way you
define the smart contract event is just
underneath our UI T or unsigned integer
age we're going to put in event and then
the name of the event very simple stuff
so we'll just say instructor all right
so we're going to pass in here the
string name and an unsigned integer of
age so the purpose of this event here is
now that we created it we need to call
it so we're going to go down to function
set instructor and then inside of here
we reference the name of the event and
then we're going to pass in those two
values so the first value would be f
name and then underscore age all right
so that once this set instructor
function gets called from our web user
interface then it's going to reference
this event of instructor and it's going
to set the new first name and then age
and and in our JavaScript we're going to
call this okay so what we want to do now
is update the actual user interface so
let's go ahead and momentarily we will
come back to this to recreate the
contract and get the ABI and all that
stuff so let's go ahead to our editor
and this is what we have going so far by
the way let's just show what the current
user interface looks like so for
instance if we set a new name love like
Jerry who's 87 years old update
instructor nothing happens not very user
friendly we refresh however and we'll
see it did update so our goal is to make
it so that once the update instructor is
clicked it's going to show a little
loading graphic and that loading graphic
will only disappear once we had a
successful callback alright so what
we'll do now is go back here and the
first thing we want to do is right here
we see we have I'm going to increase
this so we can see everything a little
bit better we have our get instructor
method we don't need this anymore we're
going to use the event so we're going to
delete that and side of here we're just
going to put a var instructor event
we're creating a new variable and we're
going to bind it to corset Rho dot
instructor which is the name of the
event okay next we're going to reference
instructor event we're going to use the
watch method and pass in a callback
function which takes in error and a
result alright now we're going to say if
the error is absent then we're going to
use jQuery here to show a a or hide
rather a loader graphic so this is on
success so once we have a successful
response then we'll hide a little
graphic and then also instructor we're
going to say result args dot name so
over here if we go back we'll see that
we have our name and age this is a part
of the response that gets returned as a
part of result so let's continue on here
we're going to put a parentheses which
will also hold the result rx age all
right and then we'll put years old just
like that we'll put else if there was an
error for whatever reason we'll also
hide this by the way it's get rid of
that and then also console.log the error
all right so that's simple enough
hopefully you can understand that being
that hopefully you already do know it's
a basic Java Script and by the way we
had an error right there okay all right
great so now being that we're
referencing this loader ID that doesn't
exist so we want to make sure that that
exists obviously so let's go up here and
really you can put this anywhere you
want
this this course really isn't about
effective user interface design so this
is it wouldn't be the best method in
terms of placing a loaded
traffic somewhere in our user interface
but I was gonna put fun right here and
so all it is is just an image image ID
of loader and a source right here and
this is just a a double-ring spinner gif
from loading IL all right so it saved
that and go to main CSS and will
reference that to hide it initially
because we don't obviously want to show
it by default so loader will just make
it with a hundred pixels and then
display:none all right now before I knew
this will work like I mentioned before
we have to go back to our smart contract
we're going to redeploy it so let me I
bring this over I'm gonna hide this
first one we're gonna create there we go
we're gonna go back to compile go to
details copy our interface ABI now again
if you're just hopping in in this course
at this lesson without watching the
previous stuff this may be confusing but
I cover what the all this stuff is so
you might want to watch that
so that ABI we're gonna go back to our
code editor here I'm gonna paste it in
to the contract right here this is our
interface and then also we have a new
transaction so let me give me a comeback
here to run and then copy right there
for the transaction address
alright also make sure that you are
running the etherium Jas
test RPC that's currently running and
also make sure that it's also up here in
web 3 provider okay now assuming you
have set all that up correctly and
hopefully I did too during the context
of this course we're gonna go back here
I'm gonna refresh we can see there's no
current name because we just redeployed
the contract so let's go ahead and set
one and that load of graphics should
show up right here so let's make it my
name Gary age 34 uh there's always
something wrong Oh yep that's right I
needed to add it down here we actually
need to show it once the
just clicked all right
loader dot show all right let's try that
again real quick refresh we'll make it
Joe and this will be aged 81 update
there you go
and there we go awesome stuff so it
works let's try it again and you'll see
sometimes it takes sometimes it's
quicker and sometimes it's not and
you'll find that once we're on the go
robson test environment it will take
actually quite a bit longer sometimes
like a minute to three for it to
actually show and then also pretty much
the same thing on the live aetherium
Network and so we're gonna be doing that
as well a little bit future a little bit
more in the future in this course okay
so hopefully I now you understand how to
connect events to your web user
interface with the help of web 3 API and
the test RPC and remix IDE alright so in
the next lesson we're gonna continue on
by jumping back into solidity and
learning more about smart contract
development I'll see you then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>