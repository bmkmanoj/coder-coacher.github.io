<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Integrating Chart.js with Angular 5 with Data from an API | Coder Coacher - Coaching Coders</title><meta content="Integrating Chart.js with Angular 5 with Data from an API - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DesignCourse/">DesignCourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Integrating Chart.js with Angular 5 with Data from an API</b></h2><h5 class="post__date">2017-12-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RTzi5DS7On4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone Gary Simon of course set ro
today we are going to integrate chart J
s within angular 5 and we're also going
to take a step further by creating a
service from which we will access an API
to get and chart that data alright so
what we're gonna do is switch over here
I'm gonna get my console out if I can
find the damn thing there we go and what
we're gonna do first is as always I know
this is annoying
make sure that you have no js' and npm
installed I'm gonna in soon you assume
that you already have that but if you're
not sure then just type in node - V NPM
I F and V and there you go
if it goes unrecognized simply go to
node J tests or download the appropriate
installer and also we're going to use
the angular command line interface tool
which will I allow us to quickly and
easily get started with in angular
application alright sorry I was looking
at my phone and I'm like trying to talk
at the same time
alright so to do that make sure you
install it first and assuming it's
installed and you knew oh but real quick
before we begin make sure you check out
my site course cetera comm where you're
gonna find a bunch of courses on modern
design and development a lot are free
and others you can access for the cost
of buying me like a six pack each month
that's it now also it probably wouldn't
hurt to subscribe here on YouTube and be
sure to make sure the notifications are
turned on
alright let's get back to it we're gonna
name this charts and then also
afterwards because we always do this as
two different steps we're gonna make it
just one line we're gonna CD into the
charts directory after it's created
alright so now we are here in our charts
folder we're also going to use the
angular CLI to generate a surface and
you don't necessarily have to do so you
could do it all in the component if you
know for an instance if you're only ever
gonna have one component but to make it
reusable and to access the API anywhere
we're gonna generate a service so
generate service and we'll call it
weather alright so
after this we can also install our
chart.js package so we're gonna use npm
install chart j s and then save it as a
dependency inter package JSON file
alright and then finally we run ng surf
and that will create it'll package it up
and allow us to access a project of
course at localhost 4200 right there
I'll copy that and get it up here and
okay that didn't work all right there we
go
now our angular app is up and running
and ready to go alright so I should have
ran this command we're first but let me
just um get out a new console here I'm
using commander alright and CD charts
and just code in a period and I will
open up visual studio code for us which
is free it's one I use very popular made
in electron
okay so now the next step oil involved
working in that service file that we
created so we're gonna get a source app
and weather dot service okay so let me
make this a little bit bigger I want to
make sure everybody can see this control
B will get rid of that sidebar and
there's a few things that we have to do
so we're gonna import just a couple
things initially and also if I paste
some code most of it I'm not going to
paste I will type it and explain
everything imma go but when I come to
when it comes to imports I'm just gonna
paste it I there's always a written
version of my tutorials usually like 95
percent of the time if there's one on
youtube so just look in the very first
line of the description here on youtube
and you can find the written version and
you can copy and paste the same code
alright so right here we have we're
importing the HTTP client HTTP headers I
for this one we don't actually need it I
but if you're working with a different
API you may need it so just include it
anyhow and then also the map operator
and you'll see how that's used so next
we have in our constructor we have to
create an instance of our HTTP client so
private HTTP HTTP client
and then also in here we're going to
create a method so we're going to be
using something called open weather map
org let me just open that up for you
real quickly all right they have an API
section here and you can get you know
16-day daily forecast blah blah blah
this is basically what we're gonna be
doing and we go to the API doc I we're
just gonna be using some of their sample
data alright so for instance like the I
think it's trying to find it here well
it's one of these but you can I
experiment with these if you wish so
what we're gonna do we're gonna create a
method called daily forecast all right
and then we're going to return this our
instance of the HTTP client we're gonna
get and then inside of here will be a
the URL from that sample that I just
showed you and then we're gonna take it
and we're going to map result to result
all right so I'm going to refer back to
that written tutorial to get that
specific endpoint and so it's right here
actually this is going to be the data
that is returned and it is just sample
data it's not real time you would
actually have to sign up for a free
account to get it an actual API key and
then you can get the live stuff but this
is just for samples alright so I'm just
putting in anything here this it's gonna
return the same exact response no matter
what city and whatever
alright so that's that that's all we
need to do there in the next part sorry
I'm gonna go back here next after we
have that service file created and by
the way you would recreate actual
multiple methods depending you know if
you want allow to allow people to access
you know different types of forecasts
and different end points essentially
alright so now in order to use this we
have to import it so control B get our
side bar we have to go to our app module
file this is very standard stuff when
you're working with
service files we're going to import
weather service from and this will be
for slash weather service then we take
that and add it as a provider and we're
also going to have to import the HTTP
client module so just to save myself a
little bit of time we'll copy or paste
that and then also add this as an import
great also make sure this is all saved
all right so next we're going to go to
our app component file and import well I
should make life a little bit easier on
myself and go back to an app module
we'll copy that there we go and then we
just add it up here as well and then
through dependency injection down here
we'll create an instance of it like we
did with the HTTP client so it's gonna
be constructor we pass in private
weather weather service now we can
access that weather service with that
method that we created so ng on in it oh
and by the way we also want to import
our chart from chart J s as well we're
going to be using it here all right so
now let's just test to see if we're
actually going to get that response data
back from that service file so we're
going to say this dot weather it in as
you can see it's telling us the only
method available here is right there and
then we subscribe to it here's the
response and we'll simply console.log
the response let's just save that go
back to a project to control ship die on
Chrome and here's our object with all of
our information they're only showing
like three different days of information
but we could see each one contains
within this list array we have main
which actually provides us with the you
know the temperature max and the temp
minimum and all that good stuff and so
we could plot that out on the chart you
charge a s alright so let's come back
and the next step is to actually
structure this data this response data
so what we want to do is we're gonna say
let temp max equals the response and
remember that property which is an array
called list let me just show you again I
want to make sure you're following along
here right there list let's open that up
just so we could see a little bit of
some stuff here all right so it's called
list then we what we do with that is we
map we take the response and we'll say
response dot mean and remember the main
is in reference to right here so we're
opening up main and we want to access
temp max and 10 10 min all right so main
dot temp and yeah max now we're gonna
take this control shift alt there yeah
shift alt rather in the down arrow key
and I'm gonna take it just create two
more duplicates of it so this is going
to be 10 min so the map operator allows
us to get these specific properties or
arrays inside of I the actual Ray's
right here and then also we're going to
say we want the dates as well associated
so the dates are located in a property
called DT within main so we have main
here or actually it's within let's see
here yeah there it is right there DT for
date/time I would assume it's a UNIX
timestamp all right so right here we'll
put all dates and then DT
next we want to structure these so that
they're readable you know we don't want
to sit looking at actual the timestamps
so we're going to traverse over this all
dates right here and we're going to you
use something we're going to create a
new date out of it
so that's readable so we'll put in let
whether dates this is a new variable and
we'll say all dates dot for each
response and inside of here we'll say
let Jas date equals new date and this is
where we pass in the response which is
this the same thing as the each UNIX
timestamp and then we because we're
working in JavaScript we have to
multiply it by 1000 milliseconds then
we'll say whether dates dot push so
we're pushing in the new date result
instead of just the plain JavaScript or
the timestamp rather so we'll say Jas
date dot - locale time string and we'll
put in English here we're going to put
in options here - structure so we're
gonna say we want the year as numeric
and we also want the month as short then
also the day as numeric all right so
that should be pretty good at this point
so if we go ahead and console.log for
instance the weather dates we should
have a you know the actual formats that
are friendly and easy to read right
there awesome okay so now now that we
have all the the structuring part done
and set up we can now use I we can act
now actually begin to integrate the
chart jes code
so remember we're storing our chart J s
ince code inside of a property we'll
call this chart any and real actually
we're not gonna make it we'll just make
it an array sorry I'm having a brain
fart there we go chart and let's get rid
of this so we're gonna say this dot
chart we're going to create a new chart
and that's from where we imported above
and the imports from chart is canvas
alright so in here is where all of our
chart J s options ago you could find
this at the chart J s website and I if
we go back here real quickly if you go
to get started they're gonna take you to
the documentation it shows you you know
this is what right here is what we're
about to define all this stuff and so
they have tons of different types of
charts of course if we go to chart JSC
here go back it'll show you in the
samples these are all the different
types of charts you can create so we're
just going to be creating a basic line
chart and it shows you how it works and
if you want to look at this sample X if
achill e you can right click in view
page source right down here so you could
do that with all of them if you need
obviously to create different types of
charts all right so the type of the
chart is going to be a line and then we
have our data this is where we're going
to utilize our Max or temp Max time temp
min and whether dates variables so
inside of date data we have a labels
property the labels is where we're going
to have weather dates all right so that
will show up at the bottom of the the
chart on the x-axis alright so after
that we're gonna have our data sets all
right so
in here we're going to our first data
set is going to contain the data of temp
max it's also going to have a border
color and this will just be three CBA 9f
by the way all this codes available at
this written tutorial and then also Phil
is going to be false so they have a lot
of different properties that you can
experiment with and customize the looks
of so I'm just going to take this object
right here copy it and then paste it and
this is going to be temp min border
color will be ffcc 0-0 all right and
then fill false okay so now after this
closing bracket after data we can also
specify our options there's a lot of
different options and I'm not going to
cover them all but I'm just going to
show you a few here legend will say
display false we don't want a legend
there will also have scales all right so
we're gonna say on the x-axis will have
a array and object will say display true
all right and then also we're going to
have our y-axis this will be the same
thing display true and I think that's
all I'm going to put and that should be
good for now there's no red lines I
thought I just saw one yeah there's no
red squiggly lines anywhere if there is
you probably just screwed up on these
many's you know brackets or the squiggly
brackets so that looks good to me now
let's go ahead and save that in order
for this to work we have to just make a
very slight update to our app component
we're going to get rid of everything and
we're just going to put in I'm just
going to paste this here so we're gonna
say we're gonna have a div of ng-if
chart so if the
chart property is ready to go then will
so show the canvas with an idea of chart
and by the way that's what this is in
relation to this canvas right here so
this ID has to this name or here has to
match the ID value of this right here of
canvas and then we just use
interpolation to show the chart data all
right so let's save it with any luck
there we go
so that is it so as you can see it's a
really nice structure very well there's
tons of options that I really obviously
haven't touched on yet but of course you
know you have all this the documentation
here which will really show you you know
the full capabilities of what this thing
can do in terms of this chart software
so yeah hopefully you're able to use
this to create something cool and I yeah
if you have any issues obviously go
ahead and ask here in the YouTube chat
all right
I'll talk to you guys real soon of
course as always make sure to subscribe
here on the YouTube channel and make
sure the notifications are turned on
that's important because you won't get
really notified right away I and also
check out the site course cetera comm
see you later</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>