<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using Ionic Native's Speech Recognition Plugin | Coder Coacher - Coaching Coders</title><meta content="Using Ionic Native's Speech Recognition Plugin - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DesignCourse/">DesignCourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using Ionic Native's Speech Recognition Plugin</b></h2><h5 class="post__date">2017-08-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0pZCuvyDjQc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right Gary Simon here of course
Setzer comma in front of me is the very
very simple app that we're going to use
to demonstrate the speech recognition
plugin all right so I'm going to click
on say a color red and there we go
so we'll do it one more time here green
okay so basically what's happening here
is we're using speech recognition to
change through style binding angular
style binding the background color based
on whatever was entered or said so if I
say something ridiculous it's not a CSS
background property like blah blah blah
well there you go it's not going to work
so there the whole purpose is just to
show you how to get up and running with
this native ionic plug-in and how to use
it and how to do some different logic
things with it alright so let's get
started oh but real quick before we
begin make sure you check out my site
course cetera com where you're going to
find a bunch of courses on modern design
and development a lot are free and
others you can access with the cost of
buying me like expect each month that's
it now also it probably wouldn't hurt to
subscribe here on YouTube and be sure to
make sure the notifications are turned
on all right let's get back to it all
right so let's go ahead and make this
project reality here so to start we're
going to make sure that we have the
ionic CLI or the command-line interface
tool installed if not it's probably a
good idea to update it anyhow or if you
do already so I'm just going to run here
in the console NPM install - g for
global ionic at latest so i'm going to
pause while this installs and updates
all right and then once that's finished
we're going to go ahead and use CI to
start a simple project with the blank
template so ionic start speech and
that's the name I'm going to give it a
speech and then the blank template and
I'm going to hit Y for this for yes
all right so it's just going to take a
couple moments to install all right
after it's done we're going to CD into
it
speech and now at this point we're going
to go ahead and do what it takes to
install the actual speaks recognition
plugin so I I'm going to refer to the
documentation for this because it gives
you the two lines you need to paste in
instead of just sitting here and type in
this all out alright so if you just i go
to google and type in ionic speech
recognition will bring you to this page
it's like the top result so here are the
steps right here we want to copy this
line right here right right click over
here and let that install and while that
is installing we'll go back and we will
copy this and run that immediately after
this command is finished all right so
paste that and install and then going
back to the documentation usage we're
going to copy this top line notice step
two this is a very standard for any of
these ionic native plugins you have to
install them usually with two lines
right here and then add it to the apps
module so once that's done go ahead and
open up your code editor alright and I'm
in the folder here the new speech folder
I'm going to go to source app in the app
module and we're going to paste sorry if
you heard a barking dog back there
alright just paste in this right here
this line copy speech recognition and we
will add it here under the providers
array very standard stuff once again so
now let's save this and we're going to
go to our pages and our home ts file and
before we do that go back here copy this
line once again and we're going to paste
it here up top as well as create an
instance of it through dependency
injection so we'll put private here and
we'll make this simply speech
recognition and camelcase
and then also speech recognition alright
next underneath here or actually above
here we're going to define a property
real quick first so the property is
going to be our bgcolor property so
bgcolor
of a type string and we'll make it
default to white and that will be the
default background color of the app and
underneath here we first have to access
I going to use ng on a net life cycle
hook which will I allow us to put in any
type of code that needs to run when the
component loads so ng on an it alright
and inside of here we're going to use
the speech recognition has permission
method so we're going to reference this
speech recognition has permission
alright so we're going to put in then we
pass in has permission as a type boolean
which is true or false and inside of
here we're simply going to say if has
permission so it's just we're saying if
it does not have a permitted permissions
then we're going to call the request
permission method so this dot speech dot
request and then and this was just
copyright from the documentation this
part right here we can this just a
simple a couple just a console logs
going on here so console dot log is
granted it will console log granted and
console log otherwise denied all right
just like that and so that's all that
code eye is required there to first
check if the eye app has the permission
and then if not then it will request
permission it just puts up a a dialogue
that says it allows them to choose
whether or not to allow the app to have
access to it next we're going to go
ahead and create a method for when a
user clicks on a button and we'll call
this start so let's start right here put
in start and this is where we're going
to use the start listening method so
this dot speech dot start listening and
we're going to subscribe we're going to
put in matches as a type array with
strings and inside of here we're going
to say this dot BG color equals matches
and at the very first result so matches
a is a n returned array based on the
list of possible matches based on how
the speech recognition interprets what
the user said so a returned result might
look something like and I'm going to
paste this from the written tutorial so
don't don't even type this out this is
just for reference I'm going take a
trophy to get rid of that sidebar it
might look like something like this
so it'll it might say if you said for
instance my name is Jeffrey bangus I
made up that last name then it's going
to return an array that has maybe pot
potentially four different items in it
which one would be my name is Jeffrey
bond yes and then maybe if it says
Jeffrey with one F I and then maybe
there will be one with where the the
instead of a you it'll be an I so you
don't just get a single result turned I
less you specify otherwise and the
options that you can pass in to start
listening and in the options right here
you could specify the number of possible
matches to return so in our case we
could actually just pass in one since
since we aren't we're only going to take
the very first I'm not going to mess
with that though but you can also
specify the language and a few other
parameters you can check the ionic
negative speech recognition page and
documentation for that but we're just
going to grab the very first one because
we're simply requesting one word a one
word answer so that's why I'm just
choosing the first one should be
sufficient all right so I next that's
basically it right there so let's just
save that we're going to go to app
module or no we're going to go to get
our sidebar back up and go to the
template here and I'm going to get
everything except for the ion content
and in ion content we're going to first
use angular style bindings so we're
going to put in brackets style dot and
then the CSS property so it's going to
be a background color background would
just work as well I'm not going to be
specific and then inside of here we're
going to bind it to our BG color
property that we defined in the
component next we're going to have a
button just a single ugly button and
oops
I messed that up sorry about that ion
button and a click event that will call
the start method that we define say a
color and that is it so that is an
extremely very bare-bones simple app by
the way if you wanted to within our
start we could also just so we have
access to it console.log matches and
that way you can kind of see that
example that I gave out with this do
down here you can see that play out in
the console now in terms of running this
app you can't just I use the ionic
command-line interface tool to serve it
to the browser for testing because we're
using a native plug-in so the browser
doesn't have access to that so you can
use the ionic view app or connect your
phone via USB and use the CLI to run the
app on your device so that's the option
that I'm going to
do and so doing that let me switch back
to our console clear everything here all
right so I've connected my phone make
sure you know if you're if you're on
Android at least I know the process for
that you have to make sure that your
develop your it's in developer mode and
also USB debugging is enabled ionic and
cordova run android is the command for
that and it takes quite a while the
first time you run it so I'm going to
pause alright it's getting here near the
end of the process looking at my phone
and by the way when you run that you may
run into a bunch of errors especially if
this the first time that you've ran it
there's some things that you have to set
up on the yeah the Java and an Android
SDK location so if you've never done
that you're going to run into issues but
just google it and you should be able to
find it so now the app has loaded on my
phone
um and I'm going to click on say a color
red haha wait maybe it messed up red
there we go now it worked I was talking
before I hit it so it didn't give it rip
Todd yeah it probably had like multiple
words there in the response just to show
you real quickly if you get out Chrome
and hit ctrl shift I you'll get up this
eye inspector here we come down here and
go to more tools and we go to remote
devices momentarily this will show up
this is my my phone and come to the
bottom we hit inspect oops just launched
this large window let me turn on my
phone there we go so
this right here just gives you a preview
of what's currently on the and your
phone on your app so it's kind of like
it's basically an inspector for you cuz
a console and you can see we have I
there you go we can see that array that
we did the console log so can I increase
this yeah so I can see a color red look
and see a color red and I could see the
second time I did it it said red or to
be red as in red to past tense I read
something or or EDD
so let me just do this again real quick
green there you go so green or green as
in like a city so it'll put the first
result of what is most likely or most
common so let me just do another one
just for the heck of it corset row is
the best all right so just look all
these results corset row it's the best
so of course it doesn't really know my
name or the site name but yeah that's
basically how it works so hopefully you
found this you know pretty helpful
you learned a couple different things
make sure you check out again in course
cetera comm all the courses we have up
ionic 3 we have bootstrap for react
worse angular reverse view mean stacks
just a bunch of stuff so yeah hopefully
you enjoyed it and I will see you next
time goodbye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>