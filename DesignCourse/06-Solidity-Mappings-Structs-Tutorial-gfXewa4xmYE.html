<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>06. Solidity Mappings &amp; Structs Tutorial | Coder Coacher - Coaching Coders</title><meta content="06. Solidity Mappings &amp; Structs Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DesignCourse/">DesignCourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>06. Solidity Mappings &amp; Structs Tutorial</b></h2><h5 class="post__date">2017-10-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gfXewa4xmYE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone Gary Simon here of course
Etro and if you're just jumping in here
without watching the previous lessons
that are part of this course make sure
you check out the links where you know
you know exactly where to find it and
everything so you can start watching it
from scratch
so in this lesson we're going to be
focusing on two different things which
is mappings and structs which are two
things we haven't touched on yet now
based on our current smart contract that
we've been working on it only lets you
update the information with one
instructor so we're going to rebuild the
smart contract from the ground up so
that it allows us to add multiple
instructors and this would be a great
way to demonstrate both mappings and
Struck's all right so let's go ahead and
get started so I'm here in the remix IDE
make sure once again we have the web 3
provider activated and you have the test
RPC running in your console so that will
work and we're going to create a new
solidity file and I'm going to call this
one courses dot Sol ok so let's go ahead
and get started with the pragma the
default line that you always have to
specify when creating a new smart
contract and we're going to make the
contract courses ok so this is where
we're going to first define the struct
so a struct in solidity is just a custom
type that you can define kind of think
of it like an object to give an object
name and then it has a bunch of
properties inside of it so that's
essentially what we're going to do so
what the way we start this is we're
gonna start with a struct and then we'll
call this instructor all right next
we're going to have an unsigned integer
of age a string of f name for first name
and a string of L name for last name
tada
you just made your very first struct
exciting stuff I know ok now let's go
ahead and talk about how to create a
mapping and see how these two things
play with each other so in solidity a
mapping is referred to as a hash table
which consists of key types in value
types and we're going to define a
mapping like any other variable type so
we start off with mapping that's the
type and then it accepts an argument
here and this is two parts first is the
type and this is pretty much could be
any type you know that we're used to
like an unsigned integer or an integer
or a string this our case which is a
common use case is address so we're
going to bind the address to the struct
instructor struct like that and then
we're going to name this instructors
okay so what this will allow us to do is
we can for instance do a search for a
specific theory am address and we can
find a specific instructors age first
name and last name and any of the other
information you want to include in there
based on that address okay
the next line I'm going to create
another thing we're going to call this
an address type of array and we're gonna
make it public I'm going to call it
instructor accounts now the reason I'm
doing this is because for instance if I
switch back to the screen if we wanted
to get all of the instructors you may
think to yourself if you're new to smart
contract development that you could just
create a function to get the instructors
of type mapping but it's not going to
work unfortunately the way things are
currently structured structured in
aetherium
the authority VM it won't work that way
so what we're gonna do instead is to
store all the addresses as an array and
then we'll be able to get those from
which we can then create functions
that will pass in a specific address to
get the instructor name age and all that
stuff
alright so hopefully that makes sense
you will understand it though as we go
along so what we want to do now is how
do we add to a mapping or in other words
how do we add an instructor
well let's create a new set instructor
function so functions set instructor by
the way I'm going to increase this just
a little bit so I'm gonna make sure you
guys can see this all right so it's
going to take in first and address we'll
call it address underscore an unsigned
integer of age a string of f name and a
string of L name public all right
then inside of here we're going to put
in a new variable instructor and this
will be equal to instructors mapping
we'll pass it in the address all right
so we're creating a new string an
instructor with the key of address right
here next we can set the instructor age
equals underscore age F name equals
underscore F name you understand exactly
what's happening at this point I hope
well my shift isn't working there we go
alright and then also finally we're
going to reference instructor accounts
we're gonna use push we're going to push
the address and then negative one here
all right so let's see what I did
instructor L name oops that's why that
needs to be capitalized there we go okay
so again in the arguments here we're
passing just to address the age the
first name and last name and we'll see
those this all
be represented over here just by a
single line so if I create this for
instance we'll see we'd have to specify
all those separated by comma and coming
out here next thing we're setting it and
then we're adding to this instructor
accounts right here okay so before we
even try to play around with this let's
add another function that will read and
get from all of our instructor accounts
so we'll create a new function call this
get instructors plural a few public
returns it's going to return the address
array type and inside of here we're
simply going to return instructor
accounts all right so let's go ahead and
create that and we have to pass in an
address down here so if we get try to
try to get the instructor instructor
accounts we're not going to see anything
and what we'll do is come up here just
copy this address let me expand this so
we have some room and you can see so we
put the address in quotes there and then
we put the age because that comes next
if you look at the arguments and then
also what else we have first name Gary
and last name is Simon so we'll set
instructor we will also get instructor
there we go that returns this account
right here all right so we could even
change this to another account copy that
and I'll change a different first name
Henry set instructor get instructor
there we go here's the second one so
that's how that works all right so after
that now that we have access to these
all of the different instructor
addresses we can now create a function
to get a specific instructor so function
get instructor this will be singular
it's going to accept an address and
we'll just call this I an s4 well we'll
just do a dress like this and then a
view public returns an unsigned integer
string and a string so that's some
reference to the age first name and last
name all right so right here we're going
to return in parentheses because we have
multiple return values instructors pass
in the address age and then to make our
life a little bit easier I'm just going
to copy this this is going to be F name
and this will be L name all right so now
let's go ahead and create this will
expand it let's copy and paste this
right here just to set an instructor so
now let's go ahead and get an instructor
or again instructors rather we'll copy
this right here because that's the only
one we have and we'll put that in quotes
now get instructor and there we go so
let's try to take another one real quick
get a different address copy it will set
one called
Julie who is 75 already set it we can
see we can get instructors and it's this
one right here so we'll get the
instructor information for that address
and there we go awesome so we'll talk
about one more thing real quick which is
going to be you know how for instance if
we want to do integrate in the UI
how many instructors we actually have so
that's really really simple as well so
what we'll do is function count
instructors view public returns unsigned
integer we're going to return
director accounts dot length that's all
you need so now one final run at this
create copy actually bills coffee this
one set it and then count there we go
alright so being that we just completely
restructured the smart contract that
we've been working on in the previous
five lessons we are going to learn a
couple more things but ultimately we're
going to come back around to our web 3
user interface that we created and make
it work with this new smart contract in
that way that will set us up to the end
of the course where we're going to
actually deploy the contract on a test
network where you really get to see you
know the full experience of what awake
what it's like to wait for the long time
at the confirmation times and then
finally I would probably on my end
actually deploy it so you can see at
least in video you don't have to have to
do as well to the live etherium network
alright see you soon</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>