<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a Full Angular Authentication System with Firebase (Tutorial) | Coder Coacher - Coaching Coders</title><meta content="Build a Full Angular Authentication System with Firebase (Tutorial) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DesignCourse/">DesignCourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a Full Angular Authentication System with Firebase (Tutorial)</b></h2><h5 class="post__date">2017-01-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/O_jxEC0hWcA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone I hope you have your pot
pockets ready because we are building a
full angular authentication system today
so anyhow authentication is one of those
things that can be a really big pain in
the ass because there's so many
different things you have to worry about
it's just allowing people to log in with
their social accounts also custom email
also if you want to provide anonymous
login
unfortunately there's things like Auto
and firebase that automate a lot of that
stuff for us but still integrating it
for example firebase which is what we're
going to be working with into an angular
project where that the angular 2 or 4
coming up can still be a little bit
tricky so that's what we're going to be
focusing on in this tutorial now first
check out course special comm we have a
lot of other angular related content and
also let's go ahead and switch to the
browser to check out a full example of
what we're going to be building today ok
so here is the app let's go ahead and
click log in with Facebook will see this
pops up it loves us in automatically
ordinarily if it's the first time they
would have to grant the permission from
Facebook click log out and we can see
the nice smooth page transitions that
occur I log in with Google same thing
and it's pulling the name by the way
from their Facebook in Google
information and angularfire or firebase
rather provides us with that property
email custom login email here so if I
log in real quick same thing it will
work I've already joined with that
particular email we could also create an
email signup so this works as well
there's also error recording so if I
just you know hit anything random it
gives us a nice error that animates in
the email address is badly formatted by
the way this also is responsive works
pretty well on mobile phones as well so
all right let's go ahead and get started
all right guys so the first step here is
to visit the written tutorial page for
creating the full angular authentication
system firebase and I say that because
I'm not going to be covering this
right here in this video tutorial so
it's already covered here at the written
tutorial and this is the part where you
need to set up the firebase project
coming right from here starting all the
way down just to here is what I want you
to do and follow along in the video in
the written tutorial simply because I've
already done it in a video-store format
it's kind of a pain to edit out the
credentials in the video so just come to
this page and it'll show you exactly
what you need to do it's just a few
steps take like three minutes no big
deal ok so we're going to start off
right here in the video tutorial so in
your console of choice I'm using
commander by the way here on Windows 10
I'm going to type in ng new and by the
way you want to make sure you have these
prerequisites that are mentioned here
before you begin I which is right up
here which is no J SNMP M the angular
command-line interface for creating and
there projects you can click on these if
you don't have them and you can install
them and then also go also of course a
firebase account so let's go back here
so ng new and then the name of our
angular app I'm going to name mine my
off app now because this takes a little
bit of time I'm going to pause and then
come back alright now it's finished on
my end so now what I want to do is CD
into the my off app folder and NPM
install angularfire to as well as
firebase and save it to our package so
Jason alright now that that is done
clear this out go back to our code
editor of choice I'm using Visual Studio
code and we want to head on over inside
of our out my off app project or
whatever you named it into the source
app and an app module TS so we need to
import the angularfire models module
from angularfire to which we included
with NPM and so to do that simply import
angularfire module from angularfire to
and also we have to export a continent
which is our firebase config and this is
where I mentioned in the tutorial to
save the information to these five
properties so go ahead and paste in your
credentials here and it doesn't really
matter this is exposed to the public so
I don't know why I care I because really
if people have this it's not that big of
a deal as long as you tied down i
setting in firebase and you don't have
rewrite publicly accessible I just don't
trust myself and enough to remember to
you know after this tutorial to to tie
everything down so it's no big deal
really and then also we enter imports we
have to add this line right here put a
comma and then save by the way don't
forget to fill out this information here
and save it and then we're to go back to
our console and now we have to generate
our components so we're going to have
four different components one can be a
logging component where it's going to
feature the social logins and a button
for logging in via email and also
signing up we're going to have the email
login component where they log in with
their email if they're not using a
social provider a sign up component
where they could sign up via email and
then also a members area component where
we're just going to have a simple
interface and it's going to demonstrate
how to protect members component and
route all right so to do that it's very
simple with the angular client or CLI
rather command like I always say client
it's a bad bad habit so we're going to
ngj component log in and we're going to
do this a few more times so I'm hit up
arrow key change this here to email
signup
and then members finally okay clear this
out we'll go back to our editor you see
it also added our login components for
us automatically as well as well that's
it and then also what we want to do is
go to our login here and we're going to
focus on this first so login component
TS and we have to add in a few imports
here so first we're going to add in
after on an it host binding now we're
including that now but we're not going
to be utilizing that until later when we
work in router animations but we're just
including that for now because I don't
have to keep on going back and forth
when we do different things and then
we're going to import these three lines
here by the way means it will be to get
rid of the files on the side now of
course this router animation file
doesn't exist yet I basically going
through these you know we're importing
all the necessary angularfire specific
functions that we need in order to get
this working right here we're going to
need the router because I click on
certain links we want to show odd likely
login for instance for email or the sign
up so we use the router and then this is
just going to be in the future a
function specific animation that we will
create for our animations here and we're
going to be including that in a router
animation file okay next we want to move
on to the component decorator which is
right here and again this is just
specific for the future animation stuff
so just type in animations and we're
going to pass in move in and then we
also add hosts and we open this up in
squiggly braces like that and find that
to an empty string here alright that
looks good and then now we need to focus
on the component class alright so the
way I'm going to do this instead of
typing
just you know work forward it's going to
take a long time so I'm going to refer
to the written tutorial and just paste
in certain blocks of code and I'll do a
very brief explanation about what is
happening there
so the first step I'm going to take this
constructor here it is empty and I'm
going to paste in this information right
here so first we have a empty error
property and I'll take any and this will
basically allow us to bind any type of
error that's returned from firebase I a
social login provider fails for whatever
reason okay and then inside the
constructor we have dependency injection
on our angularfire
and router inside of here once the app
loads which this is an area where you
can declare any type of information or
anything to happen once your app first
loads we have this AF auth which is
defined right here and we're going to
subscribe and it's going to check if
auth or in other words if they are
currently logged in then we're just
going to send them over or redirect them
to our members page and this is going to
be defined in a routes fire layer on
this you are over here and then also I'm
going to go ahead and paste in two
different methods so I'm going to do
this outside of the constructor alright
so we have the first one which is login
for Facebook and login for Google now
these methods will be clogged or clogged
sorry will be called once a user clicks
on our Facebook button or a Google
button and all it's happening here in
both of them is it's calling the logging
method from angularfire and we're
passing to it in this instance or we're
calling Facebook and the methods going
to be a pop-up this could be a redirect
if you wanted to completely redirect the
whole browser window essentially to
Facebook instead of popping up another
window I like to pop up better just
because it persists your current app and
it doesn't leave and
we're saying then if is success when we
send them over to members if not we bind
our error property to the response which
is right here same thing going on right
here and that's all that this particular
component is so very simple we'll save
it we're not going to worry about this
we'll define this later on in this side
error will go away all right so moving
on we also want to go to the HTML and
again referring to the written tutorial
I'm going to paste in this information
right here and all that's happening is
we have at this form container will
define later in CSS and she was kind of
like this white container we have a lock
graphic here by the way you can download
the assets for this you can check them
out over at github I'll probably provide
a separate zip file download just for
these assets so you can put them in your
assets create the images folder and put
it place them in here we have like five
or six images and then also we have an
NG if conditional if the error I
property exists then show what the error
is and then we have two buttons here for
login and our login Google method very
simple like I would say for Facebook or
Google and then also we have a router
linked I to button element could do that
with an a element as well for email and
then also if they don't have a an
account account at all and they want to
sign up via email they can go to the
signup page which will define here
momentarily so we'll save that and to
talk about this bar off by the way I'm
in control B and now let's focus on
design of component so let's come down
here to sign up we'll go to the
component and this very similar for the
import alright so all we have up here is
just the standard angularfire member
methods or functions rather that we're
importing the router we have a second
one called fall in and that's something
where we're going to bind that to the
error just to show you that we can make
the error element itself enemy
as well and again this doesn't exist yet
so we have to worry about that I'm going
to copy and paste in the stuff that we
need for our component decorator right
there and then also this one's a little
bit more simple than the last one all
I'm going to do is get rid of this this
time we have a state and remaining two
nothing currently and I we're going to
place that on the error element for
animation and then again we have the
error property here nothing goes in our
constructor over here and then finally
we do have a method and that's going to
be mostly right here called on submit
and so once a person goes to submit to
signup form which will simply be an
email and a password it calls in this AF
toss
create user method and we pass in the
email to password if it's successful go
ahead and send them to login however I
think if it is successful it sends it to
members so change that right there
update that tutorial and then if not
like there's a sort of like validation
error or any other type of error and by
the way I have console.log don't really
need that and then this error we're
binding it to the response here alright
so we'll save that and then go into the
HTML and this is where we want to paste
in our form so again notice we're using
this div class form container and that
way we can really animate the entire
interface that's appearing which I'm
sure you already saw how that works and
so I yeah very similar stuff going on
here
we have the error accepted time I did I
just wanted to show you how you can
animate individual elements just kind of
including that nugget of information and
then we have a form very simple with
just a text password in a submit so of
course we're using different types of I
event binding here on anton model
name password everything's pretty simple
to understand here alright we'll save
that and we're going to continue on with
the email so this is the email login
page and again pretty much the same
imports as the last module we'll save
that and then we're also this is again
this is very similar and we'll move on
to the component class again
everything's going to be real similar so
I'm going to paste the entire content of
what we have going on there and one
second let me leave ng on in it there
all right there we go
and basically again you know we're
checking here if they're currently
logged in or not sending them over here
in the constructor to members I don't
believe I include that in the last one
although you can if you want and then
again on on submit the only difference
is time is we're just calling login
instead of create user and then we're
setting them to members otherwise giving
them an error we'll save that we'll go
to the HTML again very similar we'll
save that here and again I'm not going
to really explain what's happening here
it's very similar to the last component
and then finally let's go to the members
component so we'll go to the component
here and I'm going to paste this in this
is all standard stuff the only thing
here we have a third one and third and
final animation specific function now
we're going to call it movement and left
and that's going to take the content and
just to show you how cool it looks to
have the interface kind of fall into
place in different elements doing
different things and let's go ahead and
real quickly we'll include those as well
in the component decorator so we have
these three and by the way you can
declare all these animations in line
right here if you wanted to but it would
make it really long so this kind of just
organizes things a lot better and then
finally
this is also a quite simple component
code down here and all we have is a name
now this is different because we missed
component we want to show the person's
name if they're currently logged in
which the only way they're going to
access this page is if they're logged in
and then we're setting this name this
property here to this response this
object and then we have a logout and in
the HTML the template we're going to
have a button that allows them to log
out and it will call this method and
it's very simple to log out with with a
angularfire it's just this AF auth
logout that's it go ahead and delete
this if you want and then we just send
them back to the login page okay now
let's go ahead to the HTML here and I'm
going to copy that as well paste it it's
very simple we just have our fallen here
by owned estate and this is for
animation so they behead er what kind of
just I it'll just fall up rather and
then we have a button we're binding the
click event to the logout method and
then we're using a interpolation on the
name property which also includes off
and the display name right here so the
display name is the property that can
include the person's name now if they
are logging in via email it's going to
be null so it would be up to you to make
this not show there to say hey with an
exclamation point if that is the case I
decide not to do that though and then we
just have this little filler graphic
here for a few blank lines of text okay
so let's go ahead and save that and now
we want to head on over real quick that
was the by the way real heavy Lake work
in terms of most of the code we still
have some more to do though but real
quickly I'm going to head over to the
app component dot HTML and in here I'm
just going to get everything to put the
router outlet and this is where
everything is just come out every all
the components are going to go right
within here depending on which page
they're at and now we have to create an
off guard service
and that's what's going to be used to
protect our members page and any other
route that you want to protect against
whether or not a person is logged in or
not so let's go ahead and create that to
file here so I'm going to click on just
somewhere real quickly yeah
make sure you're in one of these files
here make sure you're in the app folder
we'll create that and so the name of
that is AUSA service TS and I'm going to
real quickly copy and paste everything
that I have here and we're importing to
see can't activate and router from
router now can activate is really the
core of how this works and I'll describe
that in a second I also angularfire off
we have injectable observable and a few
reactive extension I operators that
we're importing so we have right here
our constructor we're passing in are
necessary dependency injection and then
here comes can activate so it basically
decides if the designated route can be
accessed such as our members component
and we'll define that later by the way
but it's checking for honest
authentication from right here this dot
off which is defined here as we
dependency injection and it's saying if
it is not Afeni cated then we're sending
them to the login route okay so let's go
ahead and create the route so we'll come
back here create a new file app Ralph's
TS and then I'm going to paste in from
the tutorial the contents of this file
and before creating this I had that I
the members called other so let me fix
that real quick
there we go I'll update this by the way
and the only thing to really note here
is just this right here so we have our
members path with our members component
and we've added we can activate right
here passing in our off guard service so
on any other pages like in your app that
you're creating for example you want it
to be password or not password but you
know protected against whether or not a
user is logged in you would add can
activate on the route very very simple
okay
so let's save that and now we're going
to go back to our app module TS and we
have to make sure we import our off
guard and our routes so I'm going to
come over here I'm going to copy that
and let's go back here and then we just
need to add these to its imports and
then also add wraps here and our imports
now if you're watching this at a time
for instance when the angular CLI allows
for generating services then you could
just use it you could have used it to
generate those services rather than
doing it manually and it would have
added these for us but yeah we're not in
the future yet so I also providers we
have to add our off guard
all right so we'll save it and now let's
go ahead now that is the bulk of the
coding basically to make the login
functionality work now everything from
here on is just for aesthetics and
animation so real quickly let's create a
router animation at TS file and we'll
put through that right here in the app
folder so router animations TS and this
is going to be a lot of code here but
it's again all specific to animation so
we have our three animation functions
move in fall in and move in left and I
have to say it was kind of difficult
getting all these working correctly in
terms of trying to figure out the
correct
properties for the CSS and transforming
so it was a lot of trial and error
trying to get these alright because the
animation would appear jerky for
instance if position fixed wasn't added
it you know while to figure that out but
again if you're creating these on your
own just know there is a lot of
experimentation especially if you've
never done it before and by the way I do
want to give a shout out to an
individual for creating a post that
helped with creating these router
animations I and that is right here in
this tutorial also linked it here so you
can kind of learn more about exactly how
all this works if you want to visit that
link okay so let's go ahead and save
that and now let's just focus on the
reigning CSS here for our different
components now not all of them have CSS
associated with it like the email I
don't think has CSS but we'll see let's
go ahead to login component CSS
referring back to the written tutorial
I'm just going to paste in much a rule
set here again it's very simple we have
our lock graphic we have our Facebook
and Google buttons here again and just
using assets here SVG files for the
logos and such and I have one media
query just to make this a little bit
responsive and work on mobile here as
well kind of just getting rid of the
icons and all that to show up I also our
yeah our members here coming down I'm
going to paste in some CSS right there
simple stuff and then also in our main
style stuff CSS down here nav folder
we'll go ahead and copy and paste that
right here there's a lot of fair amount
of CSS is the main CSS again I tried to
make the design nice but also simple
enough to where there's not a ton of CSS
that you would have to overwrite if you
wanted to reuse this project all right
so let's save it let's go to index.html
I'm going to import foundation as well
as include a polyfill to make our
animations work on browsers that
otherwise would not support the hand
built-in to angular so we have our let's
see up here the top one is foundation
flexgrid didn't really use it much I
think it may have used like one property
from it but I'm just including it just
in case you know you wanted to expand on
that and then also our web animations
polyfill right here on this line we'll
save that and then finally I did I used
I would see code panda I would create or
to find a loader graphic so the div for
that is div class equals loading close
that div alright and then save okay so
with any lock if we run this it's going
to work so let's give it a shot let's go
to our console here by the way make sure
you did include that images folder
otherwise you'll get broken images
that's what just happened to me so I had
to get those images imported and once
this is ready to go we go to our browser
get this over here situated at localhost
4200 we go zoom out just a little bit so
we can see the full thing here and there
we go so let's go ahead I'll try to
click login with Facebook now I've
already authorized the app so it's not
going to show me you know any of us
I like the the there's a button
basically where you have to give deep
app permission so let me hit log out
here
we'll try logging with Google same thing
I've already authorized the app so it's
not going to ask me log in with email
let's just do like a random email if the
email address is badly formatted so if I
try to log in with one that I know works
try logging in there there we go and
then also creating an email and we have
validation showing up here and I I can
just create
music your contact at design course comm
I know I don't have that one in the
firebase project just to show you real
quickly that it's not there I just have
a few different emails here and you can
see a contact a design course is not
there so if I go back create my account
3 and use maybe that's because I buy
less right because if I yeah I have it
this email is attached I think to my
gmail possibly so let me try a different
one real quick contact at T John cutter
I oh that's an old site there we go so
now if i refresh this will see contact
at design coder - oh very awesome stuff
alright so hopefully you enjoyed that
tutorial if you liked it make sure you
subscribe here at court set rows youtube
channel also check out corset recom kids
we have a lot of other angular related
content such as courses and free
tutorials alright I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>