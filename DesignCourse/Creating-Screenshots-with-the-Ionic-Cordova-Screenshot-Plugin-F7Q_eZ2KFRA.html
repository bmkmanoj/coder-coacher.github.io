<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Creating Screenshots with the Ionic Cordova Screenshot Plugin | Coder Coacher - Coaching Coders</title><meta content="Creating Screenshots with the Ionic Cordova Screenshot Plugin - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DesignCourse/">DesignCourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Creating Screenshots with the Ionic Cordova Screenshot Plugin</b></h2><h5 class="post__date">2017-07-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/F7Q_eZ2KFRA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up Gary Simon here of
course Tetro and this is a look at the
very bare-bones
ugly app interface that I'm going to use
to demonstrate how to use the ionic
Cordova screenshot plugin so we have two
buttons up here one will call upon a
save method with the screenshot plug-in
which saves the actual screenshot to the
phone the other one does the same thing
except it's the URI method in which it
doesn't save to the phone but it still
gives you the screenshot data so if you
don't need to save it then whatever so
just to demonstrate that it works you
click on the pick one it'll show for one
second the actual screenshot I the same
exact thing happens just to show you
that the URI works as well except when I
click this it does not save it to the
phone alright so let's go ahead and get
started
oh but real quick before we begin make
sure you check out my site course cetera
dot-com where you're going to find a
bunch of courses on modern design and
development a lot are free and others
you can access for the cost of buying me
like expect each month that's it now
also it probably wouldn't hurt to
subscribe here on YouTube and be sure to
make sure the notifications are turned
on alright let's get back to it alright
so I am here in my console and this is a
console emulator for Windows called CMD
er commander you can see right there
this name you can Google it's free you
can have custom themes which is what I'm
using I only add that because so many
people ask me what am i using anyhow so
whether it's angular view I own art etc
I'm always a big fan of starting
projects with a command line interface
CLI if one exists so you know we want to
be sure that your ionic command line
interface is up-to-date or if you don't
have one to make sure to install it so
to do that we're going to do NPM install
- g for global just do this once at
latest alright so we'll let this install
real quick and I will pause until it is
finished well I won't have to because
it's that quick alright so now we're
going to use the ionic CLI to start the
project so ionic wait first I'm going to
hop into my code folder ionic start I'm
going to call this screenshot
and we're going to use a blank template
so I'll pause and come back and once
that is done we're going to CD into the
project folder name screenshot and then
we're going to have to install the
Cordova plugin and also the ionic native
screenshot plugin so it's two different
commands here just for reference there
is a written tutorial that I'm kind of
just following along as I type this out
you can too if you wish and I'm just
going to paste in the first command
right here which is ionic Cordova plugin
add column that dark talker Cordova does
screenshot so you may be wondering I by
the way yes for this you know weirder
did I find out how to do this or like
what command to run well very simply the
official ionic documentation right here
we can see that the screenshot
installation requires running these two
commands right here so we're going to
take this one actually next after the
other one finishes which it is and just
right click to paste in and then install
that and after that is done installed
we'll head on to our code editor I'm
using Visual Studio code which is free
from Microsoft most people use it these
days for coding and I let's open that up
now all right here we are let's go to
source app into app module TS close that
always nagging me about upgrading and so
now very simply I this is also based on
that documentation page I just showed
you we import screenshot here at the top
and then we add will copy screenshot
right there the name as a provider and
the providers array and then we save all
right so I we're going to focus on
getting started with the actual
component code so you can do the you
know the template first if you want
we're going to do this first okay so
we're going to go back here real quick
and just grab the same line we're going
to import it at the top of our home TS
and this is pretty much standard
procedure for working with pretty much
any of the other ionic
negative plugins you know you you add it
to your app module at your home TS and
then the next step is to create an
instance of it through dependency
injection in the constructor so how do
you do that this is also mentioned in
the documentation private will name it
screenshot this is what we'll use this
creates an instance of it and then we
added we reference it to screenshot
right here very simple okay so now just
above the constructor right here in this
area we're going to define two
properties I so first it's the one isn't
going to be called screen and this is
going to hold the image which will
either be a file path or a base64
encoded string so screen type any and
then next we'll call this state it's
going to be a boolean and we're going to
make it false by default and this is
going to help us determine when a
screenshot is being displayed and you'll
see why I added this this is not
actually necessary to use the screenshot
plug-in it's just for our little example
app alright next we're going to create
our functions so i created a real
generic function right here called reset
and this is going to use a set timeout
function to it i change the state which
is the state property up there to true
after one second that way it will hide
or toggle that image so i we're going to
do is VAR self equals this and then set
timeout function inside of here we'll do
self dot state equals false and i found
out if you use this dot state like you
regularly would it won't work and it
won't change it because we're in set
timeout so VAR self equals this is that
fix and then next we're going to put in
the duration which i'm just going to put
a thousand blows seconds or one second
right here okay so after that we'll get
to I'm gonna hit control B by the way to
get rid of that sidebar we're going to
do the very first method that we're
going to call upon which will use the
save method
alright so refer back to the
documentation
quickly let me get this up we'll see if
we come down here we have instance
members so we have save which takes in a
format quality and file name and file
name could be G or the format rather can
be jpg or PNG although only on iOS jpg
works and then also URI alright so this
takes a screenshot returns two images
and you are al you so it's basically it
returns the images as a string but it
doesn't save it to the phone so our
first method will use this save method
and then the second will be the URI so
let's do the save method first so the
name of that method that will call upon
will be screenshot inside of here we're
going to reference our instance which is
screenshot save so we're going to use
type jpg we'll just say 84 the quality
and then name it whatever you want I'll
just keep consistent with the
documentation then take the response and
we'll say this dodge screen which is the
property we created above and we set it
to response dot file path so the
response is an object if you just put it
to response like some might it's not
going to work if you're curious about
what all properties that are part of
that response you can just always do
console dot log and the response and
you'll see it in the inspector but going
back this is screen equals the response
dot file path and we'll add this dot
screen or this screen through
interpolation in the template in the
image source attribute alright so then
we set this state to true and then we'll
call upon a reset method method up there
and that will fire after one second and
set this back to false right here all
right oops
there we go awesome next our second and
fine or third and final method I'm just
going to copy this make life a little
bit easier this is going to be
screenshot
you are I all capital this method goes
from save to URI all capital as well and
it's just one parameter this time it's
the middle parameter which is the
quality because we're not saving it we
don't need to type or location so then
in the response we said this is screen
to response side URI and then these two
remain the same okay
that's all that's all a little episode
it was ever going to be unless you
expand upon it which I don't know why it
would so let's hop into the home HTML
file yeah let's go ahead and we're going
to gut everything up here I'm going to
have a header and also inside of here
okay so to get started right here we're
going to add I class binding so this is
angular specific so we put in class dot
and then the name of the class that we
want to toggle or we want to add recall
this new BG and we're going to bind it
to a state property so if state is true
it will have new BG class added to the
ion content element and this is all this
going to do is just change the
background color will do the CSS in a
little bit and the reason I'm changing
the background color is because when you
take a screenshot of the current UI and
then show that screenshot you can't
really know where it begins gives us
like a screenshot within a screenshot my
alright so next we're going to have a
button ion button we're going to say
outline let's just do style it so it's
going to be an outline style and then on
a click event which again is
angular-specific
we'll call our screen shot method
alright and then screen shot will be
pick now shift alt and down to copy that
line and this time we're going to change
this here to URI change this to URI as
well all right just one more line of our
image
which is services just the preview to
say hey we got the screenshot don't have
to do this it's a screen shot is screen
through interpolation or the source and
then this will only show if which is ng
F which is angular state is true there
we go
yeah all right so now we're going to do
I'm going to go to our home sass file
and real quickly I'm not going to sit
here and just type all this out it's
only for rule sets so don't worry
alright so we have our eye on content
we're changing the background color just
some I don't know just some random app
color text-align:center yep Irie easy
here's a new dbg class that will change
it to a lighter version the background
so that the screenshot sticks out in our
button I'm just styling the buttons a
little bit differently and then our
image just kind of taking width in so
it's not a hundred percent giving it a
border and margin yeah that is it so now
how do we test it out well because we're
using an ionic native plugin we can't
use ng serve to serve up the the actual
app in the lab or whatever so to test
out the screen shot you could use the
ionic ionic view app but I'm going to
use just a couple of commands in the
console and then connect my phone to
test it out through USB so going back
here hit clear here we're going to run a
on ik Cordova platform ad and then
Android visa I am using Android you can
use I you can add whatever you know if
you're using iOS or whatever to go ahead
and do that this takes quite a while so
I'm not going to bore you with my
ramblings I will pause then once you
have your phone connected and by by the
way make sure that you have developer
mode turned on on your Android and also
USB debugging is enabled in the settings
you don't know what I'm talking about
just google it then you can run ionic
Cordova run Android and then when it
runs this it's going to package up a
project and then it's going to install
it on your phone and then it will
automatically load and launch the app on
your phone and then you can try it out
so I'm not going to do that simply
because I already showed
the app on my phone at very beginning of
this tutorial using the same method so
that is it
so hopefully you learned a lot make sure
to check out course cetera comm we have
a bunch of ionic and angular related
courses hopefully in the future that
will extend to other topics and I will
see you later
all right good bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>