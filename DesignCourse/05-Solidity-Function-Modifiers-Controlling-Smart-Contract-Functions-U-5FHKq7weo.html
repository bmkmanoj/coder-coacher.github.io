<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>05. Solidity Function Modifiers - Controlling Smart Contract Functions | Coder Coacher - Coaching Coders</title><meta content="05. Solidity Function Modifiers - Controlling Smart Contract Functions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/DesignCourse/">DesignCourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>05. Solidity Function Modifiers - Controlling Smart Contract Functions</b></h2><h5 class="post__date">2017-10-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/U-5FHKq7weo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">everyone Gary Simon of course tetro and
today we're continuing on with our
percent free ethereum smart contract
developers for beginners course now in
this lesson we're going to take a look
at what are called function modifiers so
a modifier allows you to control the
behavior of functions in your smart
contracts so they allow you to do a
variety of things for instance in our
case we're going to make it so that only
the smart contract owner can access the
set instructor function and be able to
actually set a new name and age of an
instructor now if you're kind of
confusing what I'm talking about and
you're just jumping in at this lesson
whether that be at udemy or YouTube or
my website I just know that there's been
four previous lessons to this and so you
may want to follow up and that way you
understand what we're doing with this
project so far with the smart contract
all right so let's go ahead and get
started so the very first thing we want
to do here is we can see that we have
our current a smart contract here and
anybody right now can set the instructor
name and age so for our use case we're
gonna say okay only the individual who
actually deployed the smart contract can
set an instructor okay so in other words
if we create this contract right now and
we'll hit create right here we'll see
it's using this account alright and by
the way make sure you have the test our
PC running here in the background
otherwise that won't work and now if we
change this for instance to any of these
other accounts we would be able to
access that instructor but we only want
to make it so that this account the one
that created it can actually set the
instructor all right so to do that the
first thing we need to do which really
doesn't relate to function modifiers
itself is to set a new variable of type
address
so we're gonna name it owner and this is
up type address and this simply refers
to an aetherium address all right and
then we want to create a constructor
function which we discussed earlier in
the course and the way you set that up
is function and then the name of the
contract it must name course set row you
see these two things right here are
equal all right we'll put public and
then inside here we're going to set the
owner variable to message dot sender
okay so what this means is because the
constructor runs just the very first
time the contract is created it's going
to set the owner to message sender which
is equal to this right here okay after
that let's go ahead and create our
actual first function modifier the way
to do that is we specify modifier and
then the name of the modifier and this
is a common pattern here we're going to
call it only owner all right now inside
of here we're going to say require and
this is a way of just saying if and then
so require message sender is equal to
the owner and so if that is not true
it's going to throw an exception if is
then we're gonna put in underscore and
then semicolon and this symbol simply
means that if this was true this
condition here then run the function
body all right so obviously we don't
have a function body in here but when we
place this only owner modifier onto one
of these functions like set instructor
it's going to run this stuff in place of
this okay so the next step if we
actually want to use our modifier
because at this point we only set one up
the way you use it is to place it on a
function so in our case we want to place
this requirement here that the message
sender is equal to owner on this
function to set
director right here all right and that
is it as you can see it's very very
simple to set up a function modifier
okay so if we want to give this a test
here in the remix IDE to see it works to
see if it works we'll see that real
quickly let me get this up here so I can
exit out of this current contract we're
going to create a new one all right we
see we use this default account here and
we'll be able to set this because this
right here this function modifier will
be able to default to true because we're
using the same account so if I type in
Henry who is 95 years old and I click it
and then I hit get instructor there it
goes it worked perfectly now if I were
to change this let's say it is the
second account which is an entirely
different account we'll go ahead and
change this to Bob who's 92 or 3 up we
can see an error showed up and there you
go that's a very simple rundown of how a
function modifier work there are other
things you can do with it of course you
can actually pass arguments to your
function modifier but we're not going to
do that but another topic that I wanted
to discuss before we wrap up is how to
handle the function modifier when it
throws an exception in your web 3ui
project so if you've been following
along through this course you know we've
been setting up a web 3 user interface
for interacting with this very smart
contract so let's go ahead and take a
look at what happens with our current
default project now that we've updated
this smart contract so first what we
have to do is being that we change the
structure of our smart contract we have
to once again and we've done this a few
times is go ahead to our compile go to
details and get our ABI interface so
we're going to copy this X out of here
when you go back to
our project here and right here under
course Etro contract the contract method
here take everything and then just paste
that there and then we also have to
change the contract address because we
just have a new address now so let's go
back to run will I'm going to take this
all the way over here to get this
contract address and we'll go back and
paste that here alright so this is our
current contract address and by the way
I'm you can download this if you join up
at my site I have the project files or
at udemy there's also the project files
this is all contained in here alright so
I'm going to go ahead and save this you
know and we're gonna open up our project
that we've been working on I'm gonna
refresh as you can see it's showing
Henry who's 95 years old and if I revert
back real quickly to the project will
see that it is using web 3 ETH account 0
and I'm gonna set it here - we'll just
say account for and we know this won't
work so let's go back and we have ctrl
shift I for inspector and make sure we
refresh this and I'm going to put in
just Tiffany
we'll say she's 31 update instructor and
there we go we have an error however the
end user they're just going to see this
so how do we fix this so that it works
correctly now let's go back to our code
editor here and what we want to do is
change right here under course set row
set instructor where we're just passing
in two arguments of the name into that
and the age right here now each method
from or function rather from a the web 3
API allows you to pass in a callback
function for an error in response and
the way we do that is put a comma right
here and then we'll put in ER r and re
response for result and we will go ahead
and then open up inside will say if
there's an error then we'll say we'll
make the loader disappear so that's a
hide
and then well console.log oh no just for
now and obviously in a real-world use
case or scenario you would do something
other than console blocking it so now we
can save this and we'll go back and
we'll refresh and I'll go ahead and put
a zero for for the age and what did I do
wrong let's go back here real quick and
we have the error response if error oops
yep I forgot to put the ID that's why
it's stuck around so let's refresh all
right there we go
oh no so once again just to verify that
this works we'll change the account back
to the owner which is the very first one
which would be array index of zero
refresh this Bob who is 55 and there we
go alright so hopefully you learn quite
a bit and we're starting to really
progress throughout this course and if
you've been following along since the
beginning we've been through five video
lessons so far you should probably have
a pretty solid idea of aetherium smart
con contract development but we're still
quite a bit more to learn so stick with
me and I'll see you very shortly</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>