<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>7. How to make a 2D Platformer - ANIMATION - Unity Tutorial | Coder Coacher - Coaching Coders</title><meta content="7. How to make a 2D Platformer - ANIMATION - Unity Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Brackeys/">Brackeys</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>7. How to make a 2D Platformer - ANIMATION - Unity Tutorial</b></h2><h5 class="post__date">2014-07-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FRMy5B3dD_I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thanks for tuning in at brakus hello
everyone and welcome to video number
seven in the how to make a 2d platformer
course today we're going to finally be
adding some character animations by
utilizing the scripts from the standard
assets that's already sits on our player
and setting up and animate a controller
that fits with that script so let's just
dive right into it today no long intros
as always I've opened up unity and you
can see when we get in here and hit play
that our character simply
only flips and and doesn't really
animate at all so if we select our
player you can see that we have disabled
the sprite renderer
this was our robot and actually we are
just going to go ahead and remove this
component completely then we also have a
2d animator which right now has a
animator controller attached we're going
to keep the animator and also enable it
but we are not going to use this
animator we are going to use our own
separate one that will we will set up to
work with the current way we have set up
our graphics and with our sprite sheet
so the animator right now works if we
double click this you can we can view it
and it's under the assemble assets 2d
animations here's the animator
controller and you can see how the
different animations work together you
can also see we have a different pepper
some a few different parameters that
will that these animations will
transition based on but what we are
going to do is create a bit more of a
simple animator that will really only
have an idle a walk and a jump so that's
what we're going to do and we're going
to come we're going to create a
completely new one but let's just keep
this around for now should we need to
need this for reference cool so let's
head back into the scene view here let's
head back under the assets and let's
right click hit create animator
controller
and let's call this player controller
actually let's do player annum control
ler there we go okay
so player atom controller and let's drag
this on to the players animator make
sure you do this or it of course won't
work now the way the animations were set
up before is they were simply changing
the sprite in the sprite component but
now what right now we don't have a
sprite renderer our sprite renderer
instead sets on a separate object called
graphics this really gives us more
control but also I knee will we will
also need to access this game object
sprite renderer whenever we switch out
sprites so now let's do this let's
create our first animation we do this by
opening the animation window and please
don't mistake this with the animator
they are two separate windows now let's
hit the this empty space or you can just
hit record and let's hit create new clip
and let's call this player idle and
let's do Adam and hit save so now in
here we actually can place down
different keyframes for all sorts of
different values for our player so if we
hit add curve you can see that we have
all kinds of component information and
parameters and values that we can tweak
during this timeline and we are going to
delve into another object called the
graphics and then under this we are
going to delve into the sprite renderer
and then add the one called sprite so
this will allow us to change out the
sprite as we move forward and you can
see right now it's simply set to
keyframes for the same sprite
and that is all we want this animation
here is just going to be one second long
and it's not going to change anything
it's simply going to have the idle
sprite attached so that we can
transition to this and the player will
just stand still you could of course
have an a-hole idle animation where he
will maybe breathe in and out a bed or a
move or do a flip or something but for
now to keep things simple and also
because this is pixel add and it's it's
difficult to do such fine movements
we're simply going to leave it as this
then we're going to go ahead and create
another animation so it create a new
clip and let's call this player jump
Adam and this is going to be pretty much
just a sparring we're going to hit add
curve go into the graphics under the
sprite renderer and add add this sprite
parameter I actually don't know what
these are called let's just call them
parameters for now and instead of this
sprite here which is the idle sprite
we're going to insert our jump sprite
and in order to do this we can simply
select our graphics graphics object in
the hierarchy and go over to spread
renderer and you will notice that this
bright render a sprite setting has
turned red and this is because it's
currently being watched by the animator
it's being recorded so what we can
simply do is we can go in here and we
can select the right one so we're going
to select the jump one you can see
astronaut jump double click that and now
it's the astronaut jump but make sure
that we switch it back over to you also
so maybe we can just delete this
keyframe and then copy the jump over so
controls your command C cover it over
there and that's basically all we needed
to do so now that we have this in place
we can go ahead and create the only
exciting animation we're going to be
making today with
is the walk or run animation so let's
just go ahead and do that so now let's
stop recording and let's go into the
project pane and instead of adding each
separate sprite and going through unity
has made a pretty cool very quick way to
do these sorts of animations simply
select the sequence by holding down
shift clicking in the first bride
holding down shift and then clicking the
last bride in the sequence and then
simply drag into unity this will simply
create a new animation force with those
sprites in order so let's go ahead and
save this as player and it's to run
let's just do walk and Adam and hit save
and it will add in another another
object here which has that animation and
it also has an animator and all that
kind of stuff but we're just going to
delete that and we are going to delete
the the automatically generated
controller here also the astronaut
sprite atlas underscore zero just
because we're not going to be needing
that but the cool thing about this is
that it automatically generated a player
walk animation which we can use so now
we simply all we need to do here
actually we really don't need to do
let's see oh yeah the problem with this
animation now when we go under the
player and and play this animation we
can just quickly do so maybe no action
yeah we can do so let's try and add it
to the animation controller here so
double click the player animator atom
controller and then here you can see we
have an idle a jump and a walk and if we
go ahead and if you don't have these by
the way all you need to do is right
click hit create state empty and then
select it and up here you can rename it
let's say play
shoot just for instance and then we can
add a motion here so simply drag in the
clip or instead of doing all that you
can simply drag in the clip and it will
automatically add it for you cool so in
once we inside this animator controller
we can make transitions between the
different animations but right now I
just want to check at a checkout if the
player walk animation will work my guess
is that it won't because what we did
when we created this is animate the
sprite renderer that sits on top of the
player when really we need to animate
the one under the graphics just with the
s with the two or other animations but
let's just have a go edit to see if it
works in order to do this we need to
make sure that this animation is the
first one that will play and to do this
we right click and it set us default you
can see that it's now orange which means
that it will play by default so cool so
we have an under the player we have an
animator where we have the player Anam
controller as 2d controller and inside
of this we have three states where the
default is to play a walk animation
let's see if this works don't think it
will no indeed it doesn't it doesn't
and yo it doesn't so let's instead go
ahead and delete this player walk
animation and create a real one so let's
go ahead and select the player again
select the animation you can see that we
get a bunch of warnings here but that's
because some of the parameters aren't
present yet we're going to add those in
a sec let's go onto the animation window
here stop recording
let's hit add cur no I'm sorry not a
cure that's go ahead and create a new
clip so we'll just do this by hand
called player walk annum hit save and
let's see here if we dug this up here
simply drag in a drag and drop it to
docket and then select the seek
and drag it in here indeed we get
keyframes for that sequence but again
it's changing the player sprite and
that's not what we want we want the
graphic sprite so let's right-click and
hit delete key oops not no remove
property that's what it's called it's
called property not parameter and let's
hit add curve go into the graphics
object go into the sprite renderer going
to sprite and hit that and add that and
now let's see if we delete this nope we
don't want to do that let's just delete
the last one maybe and let's see if we
drag this in nope okay so we're going to
have to do this by hand so the first one
here let's select the graphics object
and let's select the astronaut sprite
atlas underscore zero then we're going
to move forward
let's do I don't know how fast we want
this to go we can set the sample rate to
12 and that's a basis anything between
maybe six or eight to sixteen is a
normal sample rate for these kinds of 2d
games sample rate is just how fast it
will update think of it as frames per
second it's basically the same thing but
not quite so now we move forward one
sample and let's change this to
astronaut sprite Atlas under square one
again move forward one change it to
underscore two move forward one and I'm
just going to quickly do these it's a
good thing we don't have too many let's
cut to be an easier way and I have yet
to find it there we go so now we have
actually a full walk cycle so if we talk
this down here again so we can see it in
action and hit play you can see that our
character is indeed doing a walk
animation so let's try that one more
time here's like the whoops where did
our
so let's play this and you can see that
he's walking back and forth we could do
some adjustment for the arm to make it
follow we could add animations for that
also we could do plenty of stuff but
when we assumed out this much and moving
at the same time I don't think it's
going to be too noticeable so that's a
second priority let's just get this
working first cool now we need to set up
the the animator controller so right now
you can see we have a bunch of different
states oops it's added too many actually
let's delete this one and let's make
sure that we add a motion to this one so
the player walk Adam here let's just
make sure we drag one under there and
let's set the player idle to be the
default now we are going to add some
different parameters down here so hit
plus and the first one we are going to
add we are definitely going to need one
called speed which is going to default
to zero we're also going to need another
one called
ground or maybe it's grounded I don't
remember that's why we kept the
controller here it's just round so that
will be whenever we stand on the ground
let's go back in here do ground we're
also going to need a boolean for called
crouch and we're not going to be
crouching with this character but we it
is included in the script so we can
either just add the parameter here I or
go remove it in the script but for the
sake of ease we're just going to add it
as a parameter and also that will allow
us to do crouching later should we
choose to do so
it's not going to be impacting
performances it's really not a big deal
it's just changing a variable and then
last up we are going to have another
float called V speed for vertical speed
and this is again not something we're
going to be using but this could be
used to see if the characters falling
and then maybe make give him some kind
of a full fall animation but that's not
something we're going to go into not yet
anyways cool so he starts out with the
player little animation and then we
maybe want him to transition session to
a walk when every our speed is increased
so right-click on the play idle
animation and hit make transition you
can see you get this arrow which we are
then going to click on the player walk
animation and then click on the line
itself and it will turn blue because we
have it selected and in the inspector we
now have a bunch of different settings
that we can tweak we want to go in here
and instead of exit time which is used
used for blending we are going to do if
speed maybe I should just quickly
explain this this is our conditions up
here this adjusts how the animation
blends from one to another this is not
so relevant relevant when we're doing
sprites but it is in 3d animation when
you want a smooth transition from a walk
to a run or from an idle to a walk but
here we're not doing smooth transitions
because we are simply changing sprites
and down here is the conditions tab and
what this will do is will allow us to
create basically if statements that will
check for values and if they are met it
will do the transition so we are going
to select the first condition which is
going to be speed and we're going to say
that that has to be greater than and
let's just use 0.1 so if the speed is
greater than 0.1 it will just transition
to the walk animation and then we can
say make transition and then go back to
the play idle animation and here we can
simply simply say that if speed is less
than 0.1 we are going to transition back
again to our idle
then the player jump animation we really
want the player to be able to jump both
from the idle or from the walk
so instead of adding transitions from
both of them we're going to use the any
state node so this will allow us to
transition no matter what state we're in
to that animation so let's right-click
on that hit make transition let's click
on the arm on the the arrow here and
let's select can transition to self then
we are going to hit under the condition
select ground is what is it
if ground is equal to false we are going
to be jumping you can see this is very
similar to the way they've set it up
under the 2d character controller that
is included in the standard assets and
you can also see that they simply
transition back to the idle so whenever
we're not jumping we are just by default
going to go back to the idle and then
from there we can transition on so let's
just do the same let's go back into the
player animation animator controller and
let's in here make a transition from the
player jump animation to the idle and
let's in the condition say that if
ground is equal to false and that is
basically all we need so now we should
be able to hit play and you can see that
when we start walking the walking
animation plays and when we jump the
jumping sprite plays whoops for some
reason we are not transitioning back
let's see what is going on here and this
is another cool thing if we go ahead and
maybe dark the animator over here and
drag it out by the inspector weak and
then hit play we can in real time see
how the animations are played and how
the parameters are affected so let's hit
jump we can see that the ground value is
turned on again but it's staying at the
player jump animation and it's not
really trying to play this transition
this suggests that we've set that up in
correct
now let's select the transition go under
conditions and indeed we need to change
this to true so now let's hit play again
and actually let's maximize this because
I think we've we deserve to see this in
full screen so we stand still and the
idle animation is playing I shouldn't
really call it an animation but the idle
sprite is there and then where we start
walking you can see him playing the walk
animation and when we're in the air he's
just doing his jumpy thing so that was
basically it for this video I hope you
enjoyed it remember that you can always
follow me on twitter at Braca street or
get to me at facebook.com slash brad
keys if you want to know more about what
i'm doing and just follow the progress
of the videos and there's also sometimes
cool tips and tricks or if you want to
get involved in any way cool so that was
it for today's video thanks for watching
and I'll see you in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>