<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>13th. Unity Tutorial, Audio Zones - Create a Survival Game | Coder Coacher - Coaching Coders</title><meta content="13th. Unity Tutorial, Audio Zones - Create a Survival Game - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Brackeys/">Brackeys</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>13th. Unity Tutorial, Audio Zones - Create a Survival Game</b></h2><h5 class="post__date">2013-03-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/LcAj_1R37DA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone and welcome to the 13th
video in our survival game series done
by Brad Keys I am the CEO of brackets
and today we are going to take a look at
creating audio more specifically audio
sounds and how you're going to switch
between them so let's open up unity I've
already done this and I'm a little
freaked out because I already recorded
this video once though I don't know if I
forgot to press record or if my recorder
just up but damn yeah it deleted
the recording so on we're gonna try this
one more time
alright so I've changed up the unity
project a little bit since we left off I
have imported these two pieces music and
the first one is called enemy territory
and it's kind of a frightening or
exciting piece the other one is called
friendly music and it's Moody and nice
the one we are going to be using when
you're near the town so and we want
doing be doing the easy fading and nice
switching in this tutorial though we'll
be creating the most fundamental game
logic for audio changes and I'll show
you some pretty cool tips for when when
using audio so these two files are
pretty damn huge this one is 7.2
megabytes and this one is 6.1 and that's
way too huge too large for making games
so I would definitely remain recommend
that you compress your files before
importing them to unity and I'll
definitely also be compressing these
before I include them in the scripts and
assets pack which you can get from our
website so on just in a little hurry so
I won't be doing this now alright so if
you take a look at these and click them
and view them in the end
spectra we can see that I have checked
off the boxing 3d sound and this is
because I want this to plane 2d meaning
that no matter where our player exists
in the scene it's going to be equally
loud so it won't have any pitch or
volume changes
okay so let's actually go ahead and get
started now so select the two audio
files and drag them into a new folder
which we are going to create now so call
this audio select them and drag them in
there and we can also go ahead and clean
up from our last tutorial track the AI
simple inside the scripts folder we
ain't going to be messing with that
right now okay so let's create a new
script right click create Java scripts
and we're going to call this audio sound
sound I don't know sound and you're
going to double click to open it up in
monodevelop it's always and yes that was
magnet develop and we are going to go
ahead and delete the two functions and
we are going to create a new function
which we have never used before it's
called on trigger enter and then start
parenthesis other collider capital and
then open up the brackets so let me go
ahead and quickly explain what this
function is and when it's called the
entre func enter function is called
whenever a game object for example the
player is entering this Collider we are
going to attach to the game object in a
second so simply whenever something
enters this game object it's going to
call this function and the other and the
things in the parenthesis simply means
that we are going to want to collect
some data from this entering so we want
to know
quite a few things and here we are going
to call this data other and it's going
to be a type Collider it's going to
believe the collider that we want
something to that we want to know
something about so here we collect some
dead data so that we can later check if
it was the player that interred the zone
so let's go ahead and create a private
variable and private just means that it
won't be visible inside of unity because
we are not going to change it outside of
the script that's just cleaning up the
hierarchy a bit so the collider it's
going to be called and it's going to be
a type string with a capital this is
important and then ended up with a
semicolon
all right so I'm inside our
ontriggerenter we're going to type the
collider meaning the variable we just
created equals order dot tag so the
collider here this is just text this is
just a name or in this case a tag and
it's going to be equal the collider of
the collide e the one we collided with
stack so I'm if we go ahead and type if
the collider is equal to player and off
the parenthesis and create the brackets
then we are going to check if the game
object that collided with these this
audio zone is the player has a tag
called player and this way we can know
that it was the play that entered the
zone and thereby play some audio so
that's what we are going to do now we
are going to play the audio so inside
the if statement type audio play
ended up with the parentheses and under
that we are going to type audio loop
equals true so here we are saying that
we want to play the audio attached to
the audio sound and we want it to loop
when it's done playing and this is going
to loop till of infinity this is never
going to stop unless we do do it for it
so let's do that by creating a new
function and this is going to be called
on trigger exit this is exactly the same
as the ontriggerenter except this is
whenever something leaves the trigger
and we can go ahead and copy everything
from the parenthesis of the collider
down to the ending of the function
because we are going to be using a lot
of the same code so actually the only
thing we want to change here is this
you're going to delete that so now
whenever the player exits the collider
audio loop is going to be false and
thereby the audio is going to play out
until it's done and then it's just not
going to start playing again though the
audio files that I'm going to be using
here are not quite optimized for gaming
purposes normally in games you create
very small loops they could be around 20
seconds long and then you just when you
want to crossfade something you just set
it to stop looping and thereby you can
set another audio file to start looping
about 15 seconds after but my files are
about three minutes long and so I just
want for now to make it stop immediately
else we are going to have two audio
files running playing simultaneously and
that does not sound well so audio that
stop parenthesis and then s semicolon
maybe in a later video we're going to
take a look at how to actually fate
between the two using coding simply
adjusting the volume though this is a
little more difficult that would be done
in a for loop simply simply adjusting
the volume a little bit every frame but
for now let's start with that we'll just
use this logic so you can go ahead and
click back into unity and see if we get
any errors I think we are good for now
and let's go ahead and create the game
objects which we are going to be using
so game object create other no game
object create MC rename it to audio
sound 0 1 hit add component physics and
the sphere Collider
now let's position it 0 0 0 drag it into
the center of our scene into the center
of our village and scale it up little
further than our village yeah that looks
about right so inside of here let's drag
this script the audio zone script and
let's also apply the audio by
double-clicking the audio folder and
dragging in differently music we want
this to be be set to play on awake and
maybe drag down the volume a little bit
so when we play the game let's go ahead
and do that now you can hear the music
playing
and when we leave the collider and
nothing's happening I wonder why so if
we take a look at our code again you can
see that it's looking for a game object
with the certain tag this tag is not
currently attached to our player so the
function is simply not being called so
we have to actually select our player
focus on him go up to the right hand
corner of the inspector hit the tag and
change it to play you could also make
your own tag by going to add tag
expanding the tag section and then just
creating elements but I'm good with the
default player tag for now now we should
see that when we start the game and run
out of the audio zone it will
immediately stop playing not really
though let's take a look if we select
our audio zone yet another trap that is
easy to fall into under the sphere
Collider we need to track the is trigger
else we can collide with the box let me
show you this the only reason why we
didn't collide with it is because we
started inside of it if I don't check
this trigger and try to run into the
collider I'll simply run into an
invisible wall and so let's check this
trigger put it back and now it will
hopefully be working
indeed the audio stops playing now let's
create a second audio zone which we can
run in tone so everything won't be
completely silent
so duplicate the audio sound call this
zero to drag in the enemy territory and
uncheck the play on awake now we can
drag this over to our enemy so that it
gets a little exciting when we are near
him you can select both audio zones if
you want to see how they are
intersecting I'm going to take this and
drag it a little closer to our village
now hit play you can hear the first
piece piece going on we should be
hearing it stopping about now and the
new piece starts playing that's basic
audio audio sounds and audio switching
thanks for watching the video guys and
I'll see you in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>