<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>21. Unity Tutorial, ENEMY GFX - MAKE A GAME | Coder Coacher - Coaching Coders</title><meta content="21. Unity Tutorial, ENEMY GFX - MAKE A GAME - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Brackeys/">Brackeys</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>21. Unity Tutorial, ENEMY GFX - MAKE A GAME</b></h2><h5 class="post__date">2015-05-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZiZVToDaQ0w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thanks for tuning in at brakus but I
want to welcome to video number 21 and
make a game a cool series on making a
video game in unity so today's video is
really really awesome what we're going
to be doing is we're going to be
importing some really cool looking
graphics for our enemy and hopefully we
get to set it all up if not I might
split up into a couple of videos we'll
have to see but this is super awesome
whoops go away like that starch and this
is super awesome because it will of
course make our game look better and
I'll try and teach these techniques in a
way so you should be able to import any
model that you find or make yourself or
whatever so I really try to keep these
explanations general so you can apply
them to to other models but cool so of
course if you have any questions just
hit head over to founder brackish calm
I'm there to answer your questions and
then of course I want to mention that
the model we are going to be using today
was made by a cool guy named sameen
Eibon and i will have a link to either a
facebook page or something of his he
also provides all the cool models and
stuff which you should definitely check
out but another thing is that the model
that we're going to be using can be
found at at brackish calm if we hit undo
projects and we look for the make a game
course here i really need to redesign
this page it's it's not really pretty
but here you can download the scripts
and assets and i will make sure to
update that so the model we're going to
be using is included so that's enough
talking for now let's open up the mega
game assets pack that you've downloaded
and also let's open up our project as we
left it last time remember we ported it
over to unity 5 so it should look
somewhat like this and at the moment
when we hit play
you can see that we can groups play here
cool we can roll over and we have this
cube we have a dying mechanic when we
hit it and we can also whoops some
reason that did it twice there we might
fix that at some point and we can also
just jump on tablet and it will explode
however there is currently a back with
the particle system and I will show you
what that what's that what the head is
all about a bit later
so now let's import the model so
navigate to your mega game assets pack
I'm just going to remove this here cool
and then go under models and in here you
see a Mario enemy and we open that up
and you can see there are three blender
files first one the enemy dot blend is
the actual model that we're going to be
using so that's kind of our starting
point the other ones here enemy die and
enemy walk also includes the enemy plus
a couple of animations and it's very
normal to do this where you have
basically the enemy three times but with
a single animation on each it's a very
normal way of kind of of handling these
models that have several animations so
you'll see that quite a lot but it's
really easy because in unity we can
simply take the model from the enemy and
the RIC from the enemy and then take the
animation the die animation and walk
animation from these two files and kind
of link them to the enemy model so
you'll see how we are going to be doing
that and then we also have a body defuse
mature or a texture here and then I
diffuse texture so if we open these up
say it's pretty simple image that maps
with the UVs cool and here you can kind
of see what the enemy will look like but
I don't want to spoil it fully it's of
course from Mario well where else would
we get a typical enemy so in here we are
going to go under models we are going to
make a folder here called Mario enemy or
maybe just enemy I'm
going to call it an enemy so
double-click that and of course you
don't have to use the one I am using it
it's of course going to be a bit easier
if you can follow along the exact same
way that I do it but you can find any
nice decent looking model on the on the
interwebs or you Splendor to create your
own they're a bunch of tutorials on on
YouTube on using blender too anyways so
let's just select all of this and drag
it into our newly created enemy folder
and unity is going to load it all in and
it might take a bit of time because it's
importing these blender files but
actually that was fairly decent on the
speed there and when you import it just
like this you might see that the enemy
gets it it's material applied ryan array
or you might see what I just saw that I
will have to do it manually so that's
kind of a 50-50 chance I did this
practice once in it and for some reason
linked up there and cool so what we are
going to do here is we're going to take
our enemy and bring it into the scene
and you can see that it's way too big so
let's just scale it down but instead of
scaling it in here I want to use the
scale factor here just think that makes
it a bit easier to work with and I'm
going to set it to zero point two other
than that we can pretty much leave any
everything else as is looks good so
let's hit apply on that that's a lot
better and we can do the same thing with
these two so zero point two not that
it's going to make a difference because
the model here is not something that
we're going to be using just nice to
keep it clean then select all of them go
on the rig and just make sure it's set
so generic and create from this model
and then we can set the root node to
armature and basically the root node is
the top bone of your skeleton hierarchy
so if you have modeled before you
know what I'm talking about if not just
like this and then hit apply and it's
just going to reemployed everything cool
then we can go under animations and this
is where you'll see also if we expand
these you can see that under our enemy
we have only the default take which we
are not going to be using so we can
select our enemy and disable import
animations then we can select the enemy
die and see that we have a default check
which we are not completely using so we
can remove that and then we have the
enemy die so we can apply that just to
tidy things up a bit and then on the
enemy walk we can again remove the
default sake and just leave the enemy
walk we also want to make sure that the
enemy walk loops as we play through it
you can see does so down here but we
also want to have it too so in-game and
to make sure it does that simply enable
loop time and that's going to make sure
the loop so if for some reason your
animation doesn't loop simply find it by
selecting the model going under the
animation tab and enabling loop time if
your modelled kind of jumps between
looping and all that you can try and
play around with baking in some of the
route transforms and messing around with
these settings it's going to work fine
for the model that we are using here so
but yeah just so you know that's where
you should play around with things cool
so here you can see our shiny guy and
let's add some materials to him so if we
open up our enemy and go under the
materials folder you can see he has a
body material and an eye material and
then what we do actually I know why they
weren't automatically assigned now it's
because this was named body diffuse and
this was named I diffused if that has
just had just been body and this I they
would have automatically been assigned
so you can of course rename them before
importing but it's really as easy as
selecting
I'm going to do that up here so
selecting our body finding the material
here and simply dragging the body
diffuse into the albedo channel and
we're going to do say the same thing
with the ISO we're going to select eyes
open up the material and then just drag
the eye diffuse under the albedo so now
you can see he already looks a lot nicer
that wind then we can maybe select him
and rotate him a bit so he faces the
light that's a lot better and then we
can select his two materials use let's
select the body let's make that brighter
something like that looks pretty good
and maybe bump down the smoothness a bit
something like that so our specular
isn't as harsh and then we can select
the eye and here I really want to get
that concentrated specular so I'm going
to really bump up the smoothness quite a
bit so we can get that really glossy I
feel I think that looks a really really
awesome delightful acting there cool and
I'm also going to bump up the albedo
color just a bit not too much there so
now we have an awesome looking enemy and
we can actually get him animated fairly
quickly because we already have some
nice-looking animations we have a die
animation looks like that you can just
expand on this a bit see there and here
we have the walk animation that's pretty
much everything we are going to be
needing for this fairly simply simple
enemy so what we can do now is we can
implement him into our cube so let's
first select the enemy and let's drag
him let's see here so we can find our
enemy Center open up the enemy you can
see we have a graphics object here so
what I want to do is simply just replace
the graphics object with our new grabbed
graphics here so dragged him under there
rename him to graphics
take the other graphics object and
simply copy this component then remove
it then we can just entirely disable and
it's going to remove this cube I'm just
going to wake it wait a second then I'll
show you how to solve that and what it
just said there
but then select our graphics here and
then go up here and select paste
component as new so now we have a box
Collider there then we can reset the
transform by drag clicking and we can
also rotate them 90 degrees you can type
in 90 up here on the Y and what we want
to do here is we want to drag him down
so he's standing on okay now it's time
to delete this cube so here we can
simply select it and hit delete go
continue and this is where a lot of
people get lost because now this aim
isn't blue anymore because we've lost
our prefab connection so how does do we
remove objects with while still kind of
maintaining or keeping ourselves linked
to the prefab well it's actually still
linked but it's just not a connection
anymore and what that means is that if
we want this to appear and work as a
prefab again all we have to do is select
the root here enemies Center and hit
apply and everything goes black back to
blue so that's something you will have
to remember whenever you are removing
objects from a prefab so now let's just
drag it down here until he stands on the
ground firmly there and then we can
adjust the position of the box Collider
using on the center and size values here
and one thing that you will notice is if
you hold down alt you can fine-tune the
values a lot more than if you don't so
that's nice if you really want to get
precise with things
so just kind of get it right that's
going to be just fine for now
cool we could of course be using a mesh
Collider but I think that would just be
overdoing things especially because this
guy is going to be moving so that
wouldn't wouldn't make too much sense we
can then use multiple sphere colliders
maybe to kind of break him out but I
really don't see the need I think a box
Collider will do just fine and it will
definitely be a lot a lot less CPU
intensive cool so now that we have that
in place let's go ahead and adjust our
kill box and hit box so let's just bring
up our hit hit box here something like
that looks pretty good let's just drag
it out a bit
bring it out here something like that so
if we jump on that from any angle it's
going to be really good he's going to
die and then our kill box simply want to
move that up a bit and scale it up a bit
to something like that's going to be our
kill box so now when we select
everything here we can see kind of a
condition structure and I think that
looks fairly great and there's a chance
that we might hit the edge here without
hitting either the kill box or the hit
box so maybe we'll just bring up the
kill box a bit to kind of get rid of
that edge case scenario we could be
using more colliders to make it even
more precise but I think we've kind of
ruined that chance now then maybe a bit
more on the hitbox here just block that
out and yeah I think in practice this is
going to be working just fine cool so
now that we have that in place we can go
ahead and hit play now and things should
be working and he's just not animating
yet and we can die
and we should also be able to kill him
indeed we can one thing you will notice
and this was what I was talking about
before with the particles is if we hit
him while he's away from the center
oops I'm so bad at this game I will
attempt to hit him while he's not in the
center there the pollak particles will
always spawn at the center point and the
reason why is if we look at the enemy
center this is where our enemy script
sits and if we double-click on the enemy
scripts to open it up in monodevelop
will see that we are currently
instantiating the death particles at
this transform dot position and with
this rotation so that means that they
will always spawn right here even though
our enemy object has moved over here so
that's kind of a problem that we are
going to solve whilst animating this guy
so let's start out by kind of creating
the animation structure we're going to
create an animator controller so if you
remember we've done this before with the
enemy center that's what controls him
going back and forth now we're going to
be doing this with the move and die
animations actually one thing I want to
tweak before we get into that is I just
want to kind of rotate him whenever he
he is going be in the other direction
and that's easily done by simply
treating the animation that we made for
the enemy center here so if we go under
the enemy center animator
I've talked my animated panel down here
so I can see it in the scene in game
view whilst animating we can see that we
have this enemy move animation and if we
select our enemy Center and go under
animation we should we should be able to
see it here in action and all I want to
do here is simply go under add property
make sure to navigate gate
enemy then transform and add the
rotation priority and what we can do
with this is just collapse the position
there what we can do with this is then
we can make sure that we have a keyframe
right here then move forward on right
until we hit the four second mark
then add a key then go right past it and
add another key and this is where we'll
rotate him so we'll rotate him a hundred
and eighty degrees on the y
oops what's going on oh we are animating
the enemy center we want to of course
have the enemy selected here and now
rotate 180 degrees so we should see him
kind of go forward whoa he's acting all
kinds of crazy so let's go under the
curves here let's whoops let's select
our rotation let's select the entire
curve hit F to focus on it then
right-click go and do flat to make sure
that it doesn't do all these spinny
things on its own now we can see what is
going on and indeed it's acting weird
it's going fine here going forward then
it's rotating and then it starts slowly
rotating in the other direction
and that of course makes sense because
we have a rotation keyframe over here
too so what we want to do with this is
we want to duplicate this frame here and
just paste it over ride up until this
point so there he will turn again what
you can do is of course extend this so
that he waits with rotating until she
kind of moves to right again but I think
this is going to be looking just fine
for our purposes you can see what that
does here rotate and I kind of like that
this is a pretty aggressive effect we
might just
damn it down just a tad but I kind of
like how how how just cuts off there and
again if you can always mess around with
the curves if you would like there to be
some kind of smoothing but I like the
flat note for this quite a bit so now
when we go in and play we should see him
follow this pattern indeed we do cool so
now that he's always facing the correct
way direction we are going to make sure
that he also animates so what we're
going to do here is we're going to go
into the project we are go I'm going to
go on the models enemy right click
create animated controller and we are
going to call this enemy controller or
do we already have an enemy controller
no this is the any enemy Center cold so
enemy controller and then we'll go onto
the graphic subject and you see it
already has an animator attached by
default when you drag in the enemy
controller then we can open it up in our
animator simply selected and click on
the animator and you can see that you
have it selected down here then what we
want to do in here is we want to drag in
some animation so we'll just drag it up
here we can then expand our enemy die
drag that in what in there
we'll also drag in our enemy Walk and
yeah that's the two states that we are
going to be using we want to set the
walk as the default the layer default
state so you can see that it goes from
our entry point into the enemy walk
animation and then we only want to
transition to the enemy die if something
happens I will do this using a new part
of the Unity makinen system which is a
trigger before we used ball
and then we kind of set them to true and
then quickly to false again or whatever
but now we have a trigger component that
simply allows us to trigger the
animation without having to keep track
of any values so that's super cool so
what we can do here is simply call this
trigger for die and then we can make a
transition from the enemy want to die
and then select that and ask the
condition make sure we have the
condition die then we'll make sure to
disable has exit time or it's going to
wait for the end of the animation
and then maybe shrink down the fade time
just a bit so now when we going to get
in the game and maybe bring the animator
down here we'll be able to observe what
our enemy does here so the walk back and
forth and when we click die he'll fall
so that's super cool we also of course
need to need him to stop animating but
we'll do that through in a script
awesome so now that we have that in
place we are actually ready to kind of
implement all of this inside of jar in
JavaScript one thing that we will need
to do is we will need to go under our
enemies Center controller here and make
sure that it has a kind of non animating
state to transition to you so that it
will stop moving once the character
falls and will again do this using a
trigger and we'll just call that stop
will then create an empty state here
simply called idle or stopped stopped is
fine and then we can simply make a
transition from enemy move one two
stopped when stopped the disturbed
triggers is in stamp set and then also
you want to select the stopped state and
make sure that right default is set to
false because right now if we hit play
here and then stop him whoops ha we also
have to make sure that has exit time is
set to false so right now if we just
stop him Oh actually that worked just
fine surprising I expected him to jump
right back oh he does he jumps right to
the center so we just want to see like
stopped here and disabled right the
Falls and now he will stomp his walk
animation or stop moving and just stay
put
where he he was when this table trigger
was cold cold so let's move on now now
we can go into our enemy script and kind
of edited to fit our new animation set
up so let's double-click the enemy here
to open it up in monodevelop and we want
to make a couple of variables the first
one is going to be to our enemy animator
and it's going to be of type animator
the second one is going to be the center
animator that's also going to be a pipe
animator and I want this center animator
to be a private variable because we'll
just fill that in ourselves then we're
going to make in the start function
actually let's do a wake a wake is
generally used for making references to
components and game objects then in here
we can set center atom equal to and then
transform dot get component and we're
going to get the animator component so
that should be working I'm too used to
c-sharp this might not be the correct
way of doing things but if I remember
correctly this should work then we are
not going to destroy the game object
anymore when we jump on his head
and we don't want these
particles to spawn add the transform
position but instead at the enemy annum
dot transform that position and the same
here so enemy annum transform rotation
and then what we can also do is we can
set the enemy Adam dot set trigger and
the trigger name is die so the enemy
will die there and then we can say
Center Adam Dodd Oh set trigger and then
it was stopped I believe there we go so
that should actually do what we wanted
to and hopefully we'll get no errors no
we don't I actually remembered how to do
this implicit down crust from component
to animator yes I am aware that this is
a downcast but actually not sure how to
kind of if we want to make this explicit
in JavaScript that believe that we just
ride as animator yeah now it's an
explicit downcast so basically what
we're doing is with saying that we want
this get component to turn into an
animator and we're doing that by using
an AZ animator add-on that's that's
called casting okay cool so now we
should be able to select our enemy
Center and then drag our enemy Adam on
here the graphics object there and it
should gather its own animator itself so
now when we hit play and we can see him
walking here back and forth and when we
jump on his head he dies what he does so
kind of really so let's see if we can
fix this so what has rotated here
so that's still facing the correct way I
believe and the enemy here that's
rotated for some reason why does that
rotate no it no it hasn't so what's
going on let's see this for some reason
has no influence on the graphics object
even though it's planted to that that's
super weird so let's just try that again
jump on his head if if I'm able to oh my
god this is embarrassing
then worked okay so this is curious to
me that here you can see another back
we'll have to fix but that's not really
what I wanted to happen here maybe
didn't have time to save the script okay
so now it's working so we'll just assume
oh now I know what was happening there
of course okay so when he was very
quickly rotating over here that's when
he died and then of course the entire
graphic was just flipped yeah so that's
not really a huge amount of things we
can do about that I mean we could reset
the position but I don't really think
that's something we want to do no that's
stupid
let's not worry about that and if if we
encounter it a lot of times we'll fix it
I'm sure we'll find a way cool so the
last thing is I wouldn't want to just
gather some references to these kill
boxes because I think we should disable
them once the enemy dies so in order for
us to do that we'll also need to disable
the box Collider so very easily easy way
to do this is simply covering this box
Collider then removing the component
then we are going to add an empty object
call this box Collider drag that under
the enemy object reset its transform
then simply go up here and paste the
component as new we can simply drag this
down or I'm sorry
reset the Y position here the center
there and then drag it up a bit
something like that and then what we can
do is create another empty object and
we'll just call this colliders drag that
under the enemy drag the box hit and
kill box colliders on
they're hit continue go up here hit
apply and now we can head into the
script create a variable that we are
going to call variable colliders a
colliders of type transform and then
down here we'll simply either destroy
them or simply disable them I think
we'll just destroy the object I don't
see any reason why we would keep it so
simply destroy the colliders dot game
object something like that and then in
here we'll make sure that we make a
reference to our colliders object there
and now when we play should be able to
jump on the guy's head and he falls down
and now we are unable to collide with
him so that was basically everything for
making an enemy let me just see how long
that video was whoa okay so I think it's
just barely short enough to keep it in
one video so I hope you enjoyed it I
really wanted to show every step of the
way when making a character like this
it's really a lot of tweaking and trying
to get him work with the mechanics and
all that and I really didn't want to cut
away on on any of the figuring out of
stuff because I think it's very really
important that you get to see that part
of the process too so thanks for
watching I hope you enjoyed it and I'll
see you in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>