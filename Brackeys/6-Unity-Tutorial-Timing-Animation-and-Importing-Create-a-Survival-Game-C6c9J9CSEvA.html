<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>6. Unity Tutorial, Timing, Animation and Importing - Create a Survival Game | Coder Coacher - Coaching Coders</title><meta content="6. Unity Tutorial, Timing, Animation and Importing - Create a Survival Game - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Brackeys/">Brackeys</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>6. Unity Tutorial, Timing, Animation and Importing - Create a Survival Game</b></h2><h5 class="post__date">2013-01-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/C6c9J9CSEvA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone and welcome to the sixth
tutorial in a survival game series done
by brackets I'm the CEO of Blackie's and
today we are going to take a look at
importing assets including materials and
and UV dated texturing and models
primarily game weapons I'm going to be
using Maya and import from that I want
show the process in Maya but the unity
part I will show you so let's open up
unity have open up unity as always and
the scene is just like before except for
one thing
I've made a new folder called imports so
if we go ahead and double click on this
you can see that I have imported quite a
few things now primarily we're going to
take a look at this maze what I did was
I went into Maya and I created a model
and this was just a simple sphere from
where I extracted some faces and then
collapsed the outer points so that they
created these spikes and then from the
bottom
I just extracted out a cylinder and what
I later did is that I UV mapped it
meaning that I told Maya how it should
put on the texture that I later created
Maya can do this automatically there are
also programs for it this UV map in
particular is really really bad but I am
NOT a 3d designer so bear with me here
and after that I did the textures in
Photoshop and then I just saved it as a
Maya file just ctrl s just saved it in
my unity project you could also save it
as an FBX
file and this is important to remember
my sorry unity loves FBX everything also
desk related it just works with Maya you
can just save as a Maya file I am pretty
sure that you can do this with 3ds max
too but don't hang me up on that and if
you're using other programs that doesn't
know how to extract these kind of data
obj will work but it will only work for
the modeling so only the model will be
imported with my end stuff you can
import everything so just think about
this when you go through this I won't
talk about all the programs then I could
continue on okay anyway so what I did I
just saved the maize and and when you
save something it'll just look like this
this is the sort then I made it won't
have any texture damn any texture at all
or anything like that alright so let's
take a look at how we apply the texture
so one I did assembly if we take this
sword for example let's unapplied first
of all I click on it and then I go to
the import settings and just make sure
that everything is as I want it to be I
want to import the materials you can
uncheck this if you want to apply some
in unity but I made some in Mysore want
to use those you can you can do
something with the normals de jankins
I won't explain that if you're going to
make a light map that means later bake
the lighting then you could click the
generate light map uese don't worry
we'll talk about this later but
generally for stuff like that moves like
a sword you won't you won't check that
generate colliders this is not necessary
unless you want it to collide like
extremely beautiful but this is heavy
so normally uncheck that
at optimized mesh that's a good thing
and the scale factor you can change this
when you import it this is going to be a
different number than what you see here
because it depends on what kind of scale
your program uses that we have imported
from stuff like that so and Rick and
animations you can just leave this we
could go in and just say none under the
Rick and apply and on to the MA
animation just hidden don't import
animation if you don't have any
animation and hit apply okay so when we
go ahead and drag this into unity the
the scale factor is actually pretty fine
with this sword so if I go ahead and
select it and hit F you can see that
that's not too bad and should it been be
completely don't you see it or is
it huge then you could go into the sword
here click on it in the imports and then
you can just change the scale factor too
to change the way that it's imported so
if we click on the sword again we can go
ahead and disable stuff like the
animator you can right click and remove
that component because we won't use any
of the animation from Maya and we could
also go ahead and rename stuff like the
the materials so every time you import a
model it will either employed a material
or create one on its own so if we go
under to the folder here that it will
automatically create wherever you import
it and you can see the materials that it
automatically imported so we could go
ahead and just rename this to sword
texture I already I have done this
already so I'll just call this 0 2 but
that this is how you would do it and
then you would go back and click on the
sword because right now it doesn't have
the texture applied and all you have to
do is simply take the photo show
find that you used in my L whatever and
my look like this didn't just drag it in
and now you can see that we have some
beautiful texturing or something like
that and yeah that's basically it for
importing assets so then then what you
can do is you can simply drag it down
here to make a preset I won't do this
because I've already done this and I'll
just drink in the maze that I made so
I'll drag this into the scene and we can
see that it's on the ground so we can
just drag it up and rotate it 180
degrees I'm sorry and we want this to be
exactly where our other mesas so we can
go under the player main camera melee
and then the maze and just drag this in
and cero out to transform just to get it
positioned Oh wrong object selected so
select the mace new mace and then
throughout the transform and you can see
it disappears inside of this and and
then we could just drag it under the
melee again and if you want you could
delete the mace you could you can do
whatever you want here but basically I'm
going to remove some of the animation
and all of this I'm going to redo this I
might do this off camera now that I've
shown you how to do it but I'll just go
ahead and delete the original mace and
now you can see the new mace and we'll
just try to position this and also
before I noticed that the mace was
really too big it was just too far away
to be able to see it so I'll drag closer
to the camera now like this this looks a
lot better so I think that this will do
for now
so if we go ahead and hit play it is
stuck to the the screen as always and we
could
go ahead and just delete the animator
component from that also okay great um
so I have an error the maze of the melee
system is not defined okay so what we
are going to do now is we are going to
play around with the way that our melee
system works because this will be fine
as long as you do it in Alden unity and
it's not that complex and but once it
starts to get more serious um you should
really do this and not another way and
that is by creating a melee system
script for every every weapon so let's
go ahead and remove this component and
then drag then going on the script and
then drag the melee system on to the
mace instead so the mace itself and then
we go ahead and double click on the
melee system script and over not it up
in monodevelop and you can go ahead and
just keep some of this animation stuff
what you can do is you can select it
right click and let me just check for
this this is weird
not only oh that was okay so you can
select something and you can right click
it and click chuckle line comments
comments and this will just comment it
down so that you can later you can you
can later on come in this so you still
have it but it won't get used in the
script so this is really useful if just
want to temporarily get rid of something
without having to create multiple
scripts okay and this video might be
long it might be caught up into two
parts and we'll see alright so let's go
ahead and delete the mace transform
because now the script is applied to the
mace itself so we won't
have to say which game object it has to
go under and stuff like that we can just
use this so we can go ahead and delete
all the parts where it says the may
start something and I'll just go ahead
and comment out the animation EE attack
also
so if physics bla bla bla bla bla that
looks fine distance and less than the
max distance hit touch transform the
damage sent message okay so this all
looks pretty fine we can go back into
unity and then clear all these arrows
out and see if it's still working
so go out to our enemy and hit it hit
the mouse a couple of times and it is
not so let's see what we have done wrong
it might be something with the centering
yeah so right now it's calculating the
the hit from our mace so we we are going
to want this to calculate from IO melee
so under the transform that position
this is going to be a new variable so we
are going to create a new variable and
we are going to call this for the system
so this way we can reference the the
parented system this melee and so we can
get the exact point instead of get
instead of getting the point that we
have applied the mace to this might
sound confusing but you'll get it in a
sec so we'll use this transform instead
of the mace transform okay so the system
and then transform and semicolon and
then we can just go ahead and use the
system dot transform that position and
the
system that transformed that direction
and hit that transform sent message so
this should be fine save this and go
back to unity let's see if we get any
errors we don't and let's try oh we have
to assign the variable so stop playing
and then just drag the mêlée under
this transform and then hit play again
and hopefully this time this will work
so click and yet there you go so now we
actually have a much better system setup
because what this allows us to do is it
allows us to create functions that are
called on some and certain times
depending on animation and what I mean
by this is one of you probably some of
you but one of you texted me and said
that he wanted to apply the damage only
when the character actually stunned
swing swinging the sword or weapon and
not immediately so a little delay and I
think that the best way to do this is
the following so okay so go under
animation and for this I'm just going to
create quickly a attack animation so I'm
going to create click this red button
add component and then I'm going to call
this animation for attack with a capital
letter that's before and I'm going to
add keys to the transform D rotation so
the position and the rotation I am going
to drag the cursor out to about two
seconds and then do it again so we are
sure that we are storing all this data
and we can get back to the point we came
from and first of all I want him to pull
back the maze as he's ready to swing it
so this would be something like this
maybe Oh
I'm not good at at this so he whoa well
well that was unexpected
and let's let's try this out again so we
have all the keyframes here at key and
about at this point you should drag the
mouse back just a little bit and
something like this so just like that
and what we can now do is we can tell it
that it needs to hit so we can make the
hit sing animation so this would look
something like this and then I'm going
to toggle between the local and the
global transform as we talked about in
earlier videos um it's really really
nice to know how to use that something
like this maybe so he hits and then it
goes back and we probably need to like
make this quicker yeah so you can just
drag the top one to you and to make it
look a hell of a lot better so um I'm
sorry if this is tracking out I'll show
you some cool stuff in just a minute
we just need to so that looks fine it's
it's alright so we'll just continue on
with this just hitting the the flat
button and change this too we could do
one just leave it at default and then
hit the stop recording okay so clear out
the variable because I get tired of
looking at all the errors and then hit
the maze and you can see play
automatically set so we'll just turn
this off and
all right so if we go back into the
animation what we can do now is we can
simply say tell the computer that at
this time we need to call a function and
this is something built into unity into
the animation system so if I say that
this is the point maybe a little earlier
may be there because he might hit before
I don't know won't matter that much but
if I say that this is the point well I
would like to apply the damage then I
can create a new event so click this
button here add event and we can select
the event and we can then in our script
select which function it needs to call
so let's go back to our script and add a
function so double-click on the
immediately system script so just go
back to monodevelop
and yes now we can create a new function
so instead of doing all this we can say
that if input get button-down fire then
call a function so I'm sorry then start
the animation and then the animation
will call the function so all the way in
the button will make a new function and
we could call this hmm you could call
this attack may be applied amma jaan
attack damage yes this will do for now
and we'll just make these two
parenthesis and then the curly brackets
and some space and now we can just go
ahead and copy all of this off best so
hit control X to delete it and then
control V down here to paste it back and
and so this will take care of the actual
damaging and we'll just need to
tell the computer to play an animation
whenever we hit fire so animation dot
play attack and if we go back into unity
now and select this key we can select
the attack damage and it will now call
this so if you hover over it you can see
the attack damage so if we go ahead oh
we were in playing mode
she I think nothing I don't think it
mattered
okay so hit play and we'll test this out
so boom boom and then the object
disappears so maybe I should draw this
out to make you understand it a little
easier so we have to we have the script
oh and this is the script and a red box
apparently this is the script and inside
of the script we just say that button is
pressed then we want something to happen
what do we want to happen we want the
computer to simply add a plan in motion
so play attack and and then over here in
the other I just pointed at the screen
I'm Amara and over here this is the
actual animation part itself we just
tell it that we just in unison tell it
that when so so when we reach a certain
point in the animation so at event so
when we reach an event then we want to
call a function and this function is
called um what did we call it another
thing we called it attack damage so then
call the attack damage
and then we had a back into the script
so we can make some arrows for this so
this goes there and then we call the
attack damage so it goes back and in the
script we then tie it we then do all of
the damaging so we then do the raycast
and if the distance is met and is
correct we then send the message to our
enemy so over here we have our enemy
so this is our enemy so we go ahead and
say Oh enemy we don't like you and you
need to lose damage so on the enemy
itself we have put a script that just
set says apply damage this is the the
function and this is called when we get
sent the message apply damage and in
here health is a is equal to one less
than before or 20 less or 50 less this
value is defined over here in the
original script and this way we can do
everything very easily so that's how it
works okay so don't leave this and now
we have a much better melee system so if
you would want to make different weapons
several weapons we could go ahead and
just apply the same melee system script
and then we could just change the damage
so they will have individual damage we
can change the distance if some weapons
are longer than others
and we can change the animations and we
can even make different functions if we
want different stuff to have in heaven
let's say that it's a magical wand and
you want big explosions to appear so um
this is all for now and this has been
how to create a survival game by brakus
done by Brad keys and I've been working
hard on our website is
it is up but it's not pretty yet we we
have implemented a lot of functional
functionality into it
also you will be able to download the
scripts as I have written them so far
and soon there so I'll give a link as
soon as it's up but until then you can
support us by going to a Facebook or
Twitter or just subscribing and liking
on YouTube I hope I just really want to
help you guys out and then if you want
you can help me out by just liking and
sharing because we're just trying to get
out on the Internet what with what we do
so thanks you thank you and thank you
for watching and I'll see you in the
next video
Oh
you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>